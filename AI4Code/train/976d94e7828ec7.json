{"cell_type":{"7b608c5a":"code","0719e195":"code","98447dbc":"code","3e01ae1b":"code","2e535fd1":"code","1a77d011":"code","10c67bfb":"code","49f5abc8":"code","613ffbaa":"code","6d87a727":"code","0d006d57":"code","36f0b45b":"code","18ad8186":"code","44ec946c":"code","7981524d":"code","147cbd15":"code","0b0f4f65":"code","f2a7af2d":"code","0f7c9d42":"code","a8c6bf5c":"code","6351babc":"code","f51ee85b":"code","0c7f7902":"code","2b2f3cec":"code","314fbb84":"code","a51db7d4":"code","c06a0c7f":"code","3054e8e5":"code","09da3da6":"code","11ff57f0":"code","b03a3ca1":"code","905f223f":"code","cdab1072":"code","55c98f18":"code","7f6926d8":"code","5d9b4875":"code","f9348a3f":"code","d738d988":"code","821124b4":"code","7bec3c67":"code","0cbc4f55":"code","75c019b2":"code","15216232":"code","b7dabc47":"code","e3af759c":"code","a8025487":"code","38c1117c":"markdown","a7575b07":"markdown","9d32add8":"markdown","70ac214e":"markdown","2bf39dbf":"markdown","dc2f074b":"markdown","5331360c":"markdown","a747b407":"markdown","592aedf5":"markdown","a2c300d3":"markdown","47e81a74":"markdown","0b965a30":"markdown","c2032533":"markdown","682df374":"markdown","4a9a5c02":"markdown","9f9688c9":"markdown","00bc98d4":"markdown","e777b54a":"markdown","c650b444":"markdown","b34feeb0":"markdown","ae4e1702":"markdown","9efa13a2":"markdown","5bcb8575":"markdown","e969d1ed":"markdown","e461379e":"markdown","140656a6":"markdown","62f4a19a":"markdown","dd2ad197":"markdown","96a77579":"markdown","1e991465":"markdown","e5ccf1d5":"markdown","668d73fd":"markdown","a3c125a8":"markdown","63944d38":"markdown","2d16ca00":"markdown","c3bb9674":"markdown","00d83596":"markdown","43d73280":"markdown","790a8181":"markdown","db094657":"markdown","d0e41a67":"markdown","4318dae3":"markdown","e6cc0c31":"markdown","1b1af1a1":"markdown","946b5aba":"markdown","27a16170":"markdown","d234d1bc":"markdown","1199153e":"markdown","b21a2a45":"markdown","a6ed6986":"markdown","219f71bc":"markdown","7c2d6703":"markdown","168b3bac":"markdown","82343e21":"markdown","fae8a89a":"markdown","a69b36c5":"markdown","8d5397ab":"markdown","4432c3f5":"markdown"},"source":{"7b608c5a":"import numpy as np\nimport pandas as pd\nimport datetime as dt\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nfrom matplotlib.dates import DateFormatter\n%matplotlib inline\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings('ignore')","0719e195":"test_users = pd.read_csv('..\/input\/airbnb-recruiting-new-user-bookings\/test_users.csv')\ntrain_users = pd.read_csv('..\/input\/airbnb-recruiting-new-user-bookings\/train_users_2.csv')\ntrain_users.head()","98447dbc":"train_users.columns","3e01ae1b":"train_users.shape","2e535fd1":"test_users.columns","1a77d011":"test_users.shape","10c67bfb":"train_users.dtypes","49f5abc8":"test_users.dtypes","613ffbaa":"train_users.isnull().sum() \/ len(train_users) * 100","6d87a727":"test_users.isnull().sum() \/ len(test_users) * 100","0d006d57":"all_users = pd.concat([train_users, test_users])\nall_users.shape","36f0b45b":"all_users.timestamp_first_active = pd.to_datetime(all_users.timestamp_first_active.astype(str), format='%Y%m%d%H%M%S')\nall_users.date_account_created = pd.to_datetime(all_users.date_account_created, format='%Y-%m-%d')\nall_users.date_first_booking = pd.to_datetime(all_users.date_first_booking, format='%Y-%m-%d')\n\nall_users['year_account_created'] = all_users['date_account_created'].dt.year\nall_users['month_account_created'] = all_users['date_account_created'].dt.month\nall_users['day_account_created'] = all_users['date_account_created'].dt.day\nall_users['weekday_account_created_plot'] = all_users['date_account_created'].dt.day_name()\nall_users['weekday_account_created'] = all_users['date_account_created'].dt.dayofweek\n\nall_users['date_first_active'] = all_users['timestamp_first_active'].dt.date\nall_users['year_first_active'] = all_users['timestamp_first_active'].dt.year\nall_users['month_first_active'] = all_users['timestamp_first_active'].dt.month\nall_users['day_first_active'] = all_users['timestamp_first_active'].dt.day\n\nall_users['year_first_booking'] = all_users['date_first_booking'].dt.year\nall_users['month_first_booking'] = all_users['date_first_booking'].dt.month\nall_users['day_first_booking'] = all_users['date_first_booking'].dt.day\nall_users['weekday_first_booking_plot'] = all_users['date_first_booking'].dt.day_name()\nall_users['weekday_first_booking'] = all_users['date_first_booking'].dt.dayofweek\n\n#all_users['age'] = all_users['age'].astype('Int64')\nall_users.head()","18ad8186":"all_users.describe()","44ec946c":"from scipy.stats import shapiro\nstat, p = shapiro(all_users['age'].dropna())\nprint('Skewness=%.3f' %all_users['age'].skew())\nprint('Statistics=%.3f, p=%.3f' %(stat, p))\n\nsns.set(style='whitegrid', rc={'figure.figsize':(8,6), 'axes.labelsize':12})\nplt.hist(all_users['age'].dropna(), bins=20);","7981524d":"fig, ((ax1, ax2), (ax3, ax4)) = plt.subplots(nrows=2, ncols=2)\nax1.hist(all_users['age'][all_users['age'] < 10])\nax2.hist(all_users['age'][(all_users['age'] > 100) & (all_users['age'] < 200)])\nax3.hist(all_users['age'][all_users['age'] > 200])\nax4.hist(all_users['age'][(all_users['age'] > 200) & (all_users['age'] < 2000)]);","147cbd15":"all_users.age.loc[(all_users['age'] < 10) | (all_users['age'] > 100)] = np.nan\nstat, p = shapiro(all_users['age'].dropna())\nprint('Skewness=%.3f' %all_users['age'].skew())\nprint('Statistics=%.3f, p=%.3f' %(stat, p))\n\nsns.distplot(all_users['age'].dropna());","0b0f4f65":"stat, p = shapiro(train_users['signup_flow'])\nprint('Skewness=%.3f' %train_users['signup_flow'].skew())\nprint('Statistics=%.3f, p=%.3f' %(stat, p))\n\nsns.distplot(train_users['signup_flow'], kde=False);","f2a7af2d":"pd.set_option('display.max_rows', 300)\nusers_cat = all_users.select_dtypes(include=['object']).columns.drop(['id'])\n\ncat_summary = pd.DataFrame()\n# loop through categorical variables, and append calculated stats together\nfor i in range(len(users_cat)):\n    c = users_cat[i]\n    df = pd.DataFrame({'Variable':[c]*len(all_users[c].unique()),\n                       'Level':all_users[c].unique(),\n                       'Count':all_users[c].value_counts(dropna=False)})\n    df['Percentage'] = 100 * df['Count']  \/ df['Count'].sum()\n    cat_summary = cat_summary.append(df, ignore_index=True)\n    \ncat_summary","0f7c9d42":"users_by_timeact","a8c6bf5c":"users_by_timeact = all_users.groupby(['date_first_active']).size().reset_index(name='n_users')\n\nplt.scatter(users_by_timeact['date_first_active'], users_by_timeact['n_users'])\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%Y'))\nplt.gca().xaxis.set_major_locator(mdates.YearLocator())\nplt.gca().xaxis.set_minor_locator(mdates.MonthLocator())\nplt.xticks(rotation=30)\nplt.xlabel('Date First Active')\nplt.ylabel('Number of Users');","6351babc":"users_by_dateacc = all_users.groupby(['date_account_created']).size().reset_index(name='n_users')\n\nplt.scatter(users_by_dateacc['date_account_created'], users_by_dateacc['n_users'])\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%Y'))\nplt.gca().xaxis.set_major_locator(mdates.YearLocator())\nplt.gca().xaxis.set_minor_locator(mdates.MonthLocator())\nplt.xticks(rotation=30)\nplt.xlabel('Date Account Created')\nplt.ylabel('Number of Users');","f51ee85b":"users_by_dateacc = all_users.groupby(['date_first_booking']).size().reset_index(name='n_users')\n\nplt.scatter(users_by_dateacc['date_first_booking'], users_by_dateacc['n_users'])\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%Y'))\nplt.gca().xaxis.set_major_locator(mdates.YearLocator())\nplt.gca().xaxis.set_minor_locator(mdates.MonthLocator())\nplt.xticks(rotation=30)\nplt.xlabel('Date First Booking')\nplt.ylabel('Number of Users');","0c7f7902":"all_users['days_btwn_sp_bkng'] = (all_users['date_first_booking'] - all_users['date_account_created']).dt.days\nplt.hist((all_users['days_btwn_sp_bkng']).dropna(), bins=20)\nplt.xlabel('Days from Signup to First Booking')\nplt.ylabel('Number of Users');","2b2f3cec":"all_users['days_btwn_sp_bkng'].describe()","314fbb84":"sns.violinplot(x='gender', y='age', palette='Set2', data=all_users);","a51db7d4":"age_order = all_users.groupby(['country_destination'])['age'].median().reset_index().sort_values('age', ascending=True)\n\nsns.set(style='whitegrid', rc={'figure.figsize':(10,7), 'axes.labelsize':12})\nsns.boxplot(x='country_destination', y='age', palette='Set2', data=all_users, order=age_order['country_destination'], linewidth=1.5);","c06a0c7f":"age_order","3054e8e5":"users_by_ctry_sex = all_users.groupby(['country_destination', 'gender']).size().reset_index(name='n_users')\nusers_by_ctry_sex_pvt = users_by_ctry_sex.pivot(index='country_destination', columns='gender', values='n_users')\nusers_by_ctry_sex_pvt_pct = users_by_ctry_sex_pvt.div(users_by_ctry_sex_pvt.sum(1), axis=0)\n\nax1 = users_by_ctry_sex_pvt.plot(kind='bar')\nax1.set_xlabel('Country Destination')\nax1.set_ylabel('Number of Users')\n\nax2 = users_by_ctry_sex_pvt_pct.plot(kind='bar')\nax2.set_ylabel('Percentage of Users by Country')\nax2.set_xlabel('Country Destination');","09da3da6":"sns.catplot(x=\"country_destination\", y=\"age\", hue=\"gender\", palette='Set2', kind=\"violin\", split=True, \n            data=all_users.loc[all_users['gender'].isin(['FEMALE', 'MALE'])], \n            order=age_order['country_destination'], height=6, aspect=1.5);","11ff57f0":"users_by_ctry_signup = all_users.groupby(['country_destination', 'signup_method']).size().reset_index(name='n_users')\nusers_by_ctry_signup_pvt = users_by_ctry_signup.pivot(index='country_destination', columns='signup_method', values='n_users')\nusers_by_ctry_signup_pvt_pct = users_by_ctry_signup_pvt.div(users_by_ctry_signup_pvt.sum(1), axis=0)\n\nax1 = users_by_ctry_signup_pvt.plot(kind='bar')\nax1.set_xlabel('Country Destination')\nax1.set_ylabel('Number of Users')\n\nax2 = users_by_ctry_signup_pvt_pct.plot(kind='bar', stacked=True)\nax2.set_ylabel('Percentage of Users by Country')\nax2.set_xlabel('Country Destination');\nax2.legend(loc='center right', bbox_to_anchor=(1.2, 0.5), title='Signup method');","b03a3ca1":"users_by_ctry_spapp = all_users.groupby(['country_destination', 'signup_app']).size().reset_index(name='n_users')\nusers_by_ctry_spapp_pvt = users_by_ctry_spapp.pivot(index='country_destination', columns='signup_app', values='n_users')\nusers_by_ctry_spapp_pvt_pct = users_by_ctry_spapp_pvt.div(users_by_ctry_spapp_pvt.sum(1), axis=0)\n\nax1 = users_by_ctry_spapp_pvt.plot(kind='bar')\nax1.set_xlabel('Country Destination')\nax1.set_ylabel('Number of Users')\n\nax2 = users_by_ctry_spapp_pvt_pct.plot(kind='bar', stacked=True)\nax2.set_ylabel('Percentage of Users by Country')\nax2.set_xlabel('Country Destination')\nax2.legend(loc='center right', bbox_to_anchor=(1.2, 0.5), title='Signup app');","905f223f":"signup_flow_order = all_users.groupby(['country_destination'])['signup_flow'].median().reset_index().sort_values('signup_flow', ascending=False)\nsns.violinplot(x='country_destination', y='signup_flow', palette='Set2', data=all_users, order=signup_flow_order['country_destination'], linewidth=1.5);","cdab1072":"# number of users by country\nusers_by_ctry = all_users.groupby(['country_destination']).size().reset_index(name='tot_users')\n# number of users by country and first device type\nusers_by_ctry_device = all_users.groupby(['country_destination', 'first_device_type']).size().reset_index(name='n_users')\nusers_by_ctry_device = users_by_ctry_device.merge(users_by_ctry, left_on='country_destination', right_on='country_destination')\nusers_by_ctry_device['pct_users'] = users_by_ctry_device['n_users'] \/ users_by_ctry_device['tot_users']\n\nsns.catplot(x='country_destination', y='pct_users', hue='first_device_type', kind='point', data=users_by_ctry_device, height=6, aspect=1.5);","55c98f18":"users_by_ctry_browser = all_users.groupby(['country_destination', 'first_browser']).size().reset_index(name='n_users')\nusers_by_ctry_browser = users_by_ctry_browser.merge(users_by_ctry, left_on='country_destination', right_on='country_destination')\nusers_by_ctry_browser['pct_users'] = users_by_ctry_browser['n_users'] \/ users_by_ctry_browser['tot_users']\nusers_by_ctry_browser.loc[users_by_ctry_browser.pct_users < 0.01, 'first_browser'] = 'other'\nusers_by_ctry_browser_agg = users_by_ctry_browser.groupby(['country_destination', 'first_browser'])['pct_users'].sum().reset_index(name='pct_users')\nusers_by_ctry_browser_pvt = users_by_ctry_browser_agg.pivot(index='country_destination', columns='first_browser', values='pct_users')\n\nax = users_by_ctry_browser_pvt.plot(kind='bar', stacked=True)\nax.legend(loc='center right', bbox_to_anchor=(1.3, 0.5), title='First browser');","7f6926d8":"users_by_ctry_affchnl = all_users.groupby(['country_destination', 'affiliate_channel']).size().reset_index(name='n_users')\nusers_by_ctry_affchnl = users_by_ctry_affchnl.merge(users_by_ctry, left_on='country_destination', right_on='country_destination')\nusers_by_ctry_affchnl['pct_users'] = users_by_ctry_affchnl['n_users'] \/ users_by_ctry_affchnl['tot_users']\n\nsns.catplot(x='country_destination', y='pct_users', hue='affiliate_channel', kind='point', data=users_by_ctry_affchnl, height=6, aspect=1.5);","5d9b4875":"users_by_ctry_affprvdr = all_users.groupby(['country_destination', 'affiliate_provider']).size().reset_index(name='n_users')\nusers_by_ctry_affprvdr = users_by_ctry_affprvdr.merge(users_by_ctry, left_on='country_destination', right_on='country_destination')\nusers_by_ctry_affprvdr['pct_users'] = users_by_ctry_affprvdr['n_users'] \/ users_by_ctry_affprvdr['tot_users']\nusers_by_ctry_affprvdr.loc[users_by_ctry_affprvdr.pct_users < 0.01, 'affiliate_provider'] = 'other'\nusers_by_ctry_affprvdr_agg = users_by_ctry_affprvdr.groupby(['country_destination', 'affiliate_provider'])['pct_users'].sum().reset_index(name='pct_users')\n\nsns.catplot(x='country_destination', y='pct_users', hue='affiliate_provider', kind='point', data=users_by_ctry_affprvdr_agg, height=6, aspect=1.5);","f9348a3f":"users_by_ctry_afftrack = all_users.groupby(['country_destination', 'first_affiliate_tracked']).size().reset_index(name='n_users')\nusers_by_ctry_afftrack = users_by_ctry_afftrack.merge(users_by_ctry, left_on='country_destination', right_on='country_destination')\nusers_by_ctry_afftrack['pct_users'] = users_by_ctry_afftrack['n_users'] \/ users_by_ctry_afftrack['tot_users']\nsns.catplot(x='country_destination', y='pct_users', hue='first_affiliate_tracked', kind='point', data=users_by_ctry_afftrack, height=6, aspect=1.5);","d738d988":"users_by_ctry_dateacc = all_users.groupby(['country_destination', 'date_account_created']).size().reset_index(name='n_users')\nusers_by_ctry_dateacc['date_account_created_plt'] = mdates.date2num(users_by_ctry_dateacc['date_account_created'])\n\ncolors = ['windows blue', 'dark salmon', 'amber', 'greyish', 'orchid', 'faded green', 'steel', 'dusty purple',  'olive drab', 'dusty pink', 'sandstone', 'light grey blue']\ncustompalette = sns.set_palette(sns.xkcd_palette(colors))\nsns.scatterplot(x='date_account_created_plt', y='n_users', data=users_by_ctry_dateacc, hue='country_destination', palette=custompalette)\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%Y'))\nplt.gca().xaxis.set_major_locator(mdates.YearLocator())\nplt.gca().xaxis.set_minor_locator(mdates.MonthLocator())\nplt.xticks(rotation=30)\nplt.xlabel('Date Account Created')\nplt.ylabel('Number of Users');","821124b4":"users_by_ctry_timeact = all_users.groupby(['country_destination', 'date_first_active']).size().reset_index(name='n_users')\nusers_by_ctry_timeact['date_first_active_plt'] = mdates.date2num(users_by_ctry_timeact['date_first_active'])\n\nsns.scatterplot(x='date_first_active_plt', y='n_users', data=users_by_ctry_timeact, hue='country_destination', palette=custompalette)\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%Y'))\nplt.gca().xaxis.set_major_locator(mdates.YearLocator())\nplt.gca().xaxis.set_minor_locator(mdates.MonthLocator())\nplt.xticks(rotation=30)\nplt.xlabel('Date First Active')\nplt.ylabel('Number of Users');","7bec3c67":"all_users.days_btwn_sp_bkng.loc[all_users['days_btwn_sp_bkng'] < 0] = np.nan\nsns.violinplot(x='country_destination', y='days_btwn_sp_bkng', data=all_users.loc[all_users['country_destination'] != 'NDF'], palette='deep');","0cbc4f55":"g = sns.FacetGrid(all_users.loc[all_users['country_destination'] != 'NDF'], col='country_destination', col_wrap=4, sharex=False, sharey=False)\ng = (g.map(plt.hist, 'month_account_created', color='#4c72b0'));","75c019b2":"users_by_ctry_wkdybook = all_users.groupby(['country_destination', 'weekday_account_created_plot']).size().reset_index(name='n_users')\n\ng = sns.FacetGrid(users_by_ctry_wkdybook.loc[users_by_ctry_wkdybook['country_destination'] != 'NDF'], \n                  col='country_destination', col_wrap=4, sharey=False)\ng = (g.map(sns.barplot, 'weekday_account_created_plot', 'n_users', \n           order=['Monday','Tuesday','Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'], \n           color='#4c72b0'))\ng.set_xticklabels(rotation=30);","15216232":"g = sns.FacetGrid(all_users.loc[all_users['country_destination'] != 'NDF'], col='country_destination', col_wrap=4, sharex=False, sharey=False)\ng = (g.map(plt.hist, 'day_account_created', bins=30, color='#4c72b0'));","b7dabc47":"g = sns.FacetGrid(all_users.loc[all_users['country_destination'] != 'NDF'], col='country_destination', col_wrap=4, sharex=False, sharey=False)\ng = (g.map(plt.hist, 'month_first_booking', color='#4c72b0'));","e3af759c":"users_by_ctry_wkdybook = all_users.groupby(['country_destination', 'weekday_first_booking_plot']).size().reset_index(name='n_users')\n\ng = sns.FacetGrid(users_by_ctry_wkdybook.loc[users_by_ctry_wkdybook['country_destination'] != 'NDF'], \n                  col='country_destination', col_wrap=4, sharey=False)\ng = (g.map(sns.barplot, 'weekday_first_booking_plot', 'n_users', \n           order=['Monday','Tuesday','Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],\n           color='#4c72b0'))\ng.set_xticklabels(rotation=30);","a8025487":"g = sns.FacetGrid(all_users.loc[all_users['country_destination'] != 'NDF'], col='country_destination', col_wrap=4, sharex=False, sharey=False)\ng = (g.map(plt.hist, 'day_first_booking', bins=30, color='#4c72b0'));","38c1117c":"##### Age and Gender","a7575b07":"From the above table we can see...","9d32add8":"*Month\/Weekday\/Day of First Booking*","70ac214e":"If we see absolute values, NDF and US had the most users. So it is easier to see the percentage and let us ignore unknown category. For some countries, like AU\/ES\/FR\/GB\/IT\/PT\/US, females preferred to go than males; while some countries, like CA\/DE\/NL and other, males preferred to go than females.","2bf39dbf":"##### 2.2.1 Demographics","dc2f074b":"##### 2.1.2 Categorical Variable","5331360c":"#### 2.2 Bivariate Analysis","a747b407":"*Date First Active*","592aedf5":"Chrome, Safari, and Firefox were the most frequently used browser. Sometimes Chrome were used quited a lot, like in Netherlands, Germany, Canada, US, Portugal. Sometimes it was Safari, like France, UK, Italy, Netherlands. Sometimes it was Firefox, like Portugal, Canada, Australia.","a2c300d3":"Still, direct marketing sits on the top and the trend is similar to what we have in the plot of affiliate channel. Google was also very helpful. It gained over 20% of users who went to US, which was relatively low but for destinations like France and Italy it was good.","47e81a74":"As we have discussed, computers (Max\/Windows\/Other Desktop) were usually the first device, especially Mac. But the percentage varied a little between different country destinations. Among people who have been to Netherlands, over 50% used Mac as their first device to sign in and the percentage of using iPad was also the highest compared to other destinations. On the other side, over 35% people who have been to Canada used Windows Desktop and the percentage of this group of people using Mac as well as iPad\/iPhone was relatively lower than other countries. For those who did not book any places, the percentage of using Mac was quite low while the percentage of using iPhone was the highest. ","0b965a30":"It is hard to see the distribution of ages over 100, so let us break age into different intervals and see.","c2032533":"Direct marketing seemed to be effective in every country destination, especially in Spain and UK. SEM-brand was also useful, espcially in Portugal and Italy. SEM-non-brand was not as effective as SEM-brand but in some country destinations, they performed very similar, like in Canada and Australia.","682df374":"*Age, Gender and Country Destination*","4a9a5c02":"*Month\/Weekday\/Day of Account Created*","9f9688c9":"We can still observe the spike at the end of the month, but now the pattern seems not so clear as before. We have more fluctuations in countries like NL\/AU.","00bc98d4":"*First Device Type and Country Destination*","e777b54a":"##### 2.2.4 Date Fields","c650b444":"##### 2.1.3 Date Variable","b34feeb0":"##### 2.1.1 Continuous Variable","ae4e1702":"##### 2.2.3 Affiliate Fields","9efa13a2":"Overall the pattern looks similar to month of account created.","5bcb8575":"Overall, it looks like there are not a lot of differences between each country's signup flow. But by looking at the shape of each violin, we can still find something. PT\/AU\/NL have a relatively more \"slender\" shape, which means that their signup flow values varied a lot. US\/NDF\/GB have a relatively \"fatter\" shape, which means that their signup flow value were more concentated. Besides, at the top of each violin (around 25), especially for NDF\/US\/other, they have some values around there. My guess is that those who is hard to decide on signing up or not usually may end up booking nothing.","e969d1ed":"Some values of age are equal or less than 5 and some are larger than 2000, which I think might be input casually by users. For those over 100, I am not sure why but it might be too old to be real values. For those whose age between 1920 and 1980, I think that it is possible to wrongly put birth year as age. But since we do not have the year variable indicating when the data was created, it is hard to get the age. I would treat these extreme values as -1 later.","e461379e":"*Gender and Country Destination*","140656a6":"##### Age and Country Destination","62f4a19a":"*Signup Method and Country Destination*","dd2ad197":"Month of creating account varied among different destinations. Those who traveled to countries like US\/AU usually created their accounts during the end or beginning of the year, that is, December and January. Those who traveled to countries like CA\/PT\/NL usually created acounts during the middle of the year.","96a77579":"It is clear to see that basic signup was more popular than Facebook and Google. But the percentage varies between different countries. Canada, France, and Italy had a relatively higher percentage of users signing up in the basic method. Germany, Spain, and Portugal had a relatively higher percentage of users signing up through Facebook.","1e991465":"Noticeably, users would prefer to make bookings on the last day of each month, except for those who went to Portugal. Those who went to Portugal seemed to arrange their traveling during early days of each month.","e5ccf1d5":"Overall the number of users who created accounts was increasing. Most increase came from NDF users but still users who have made reservations in different destinations also grew, more or less, especially US.","668d73fd":"*First Affiliate Tracked and Country Destination*","a3c125a8":"It is an interesting project combining data analyses and product\/marketing knowledge. The ultimate goal is to predict multiple destinations but there are a lot more we could learn from the data before we get to that stage. So let us start exploring the data first and then we will see how we could make predictions.","63944d38":"Overall there are not a lot of differences between travelers' ages of destination countries. Those who went to Spain were a little younger while those who went to UK were older in comparison. ","2d16ca00":"*Days between Signup and First Booking*","c3bb9674":"Similar pattern as weekday of account created. But now Monday is not so popular as before, instead, Wednesday got many reservations. ","00d83596":"### 2. Exploratory Analysis","43d73280":"*Affiliate Provider and Country Destination*","790a8181":"Majority of users signed up from 0 pages, which I think were directly signing up without going to other pages.","db094657":"Further split the violin plot by country, it can be clearly seen that how the age distributions of males and females varies between countries. Males' ages usually were around 30 and sometimes spreaded to 55 (Canada\/France\/Australia); the modes of females' ages were usually below 30, but their distributions sometimes had longer tail than males' on the 55+ side (UK\/Portugal\/Australia\/Canada).","d0e41a67":"We can notice the predominant green bars (Web) across all countries. But other than that, we still can see some red (iOS) and orange (Moweb) colors appearing especially in US, AU, and other.","4318dae3":"*Date Account Created*","e6cc0c31":"Untracked were most commonly seen among users. Then the percentage users earned by linked and omg varied between country destinations. Linked performed better in Spain, US, Geramny while omg performed better in Italy. ","1b1af1a1":"Majority of users were between 20 and 40 years old.","946b5aba":"1) Demographics\n*  **Age**: as we showed before, most are between 20 and 40\n*  **Gender**: the ratio of male to female is roughly 1:1\n*  **Language**: majority (> 96%) of users speak English, then come French and German\n*  **Country destination**: nearly half of users did not book any places; among the rest, US was the top choice, then come France, Canada, and UK","27a16170":"3) Affiliate fields\n* **Affiliate channel**: direct marketing were the most effective way to attract users (> 65% were through direct), then come SEO and SEM\n* **Affiliate provider**: still direct marketing occupies a large percent (> 65%), then comes Google. This is very different from signup method. I think that it may be because Google is a good way to do marketing stuff since people use its search engine frequently. But Facebook is a social media application and many people have Facebook account registered and thus it is comvenient to use Facebook account to sign up on other websites.\n* **First affiliate tracked**: most are untracked or missing (> 71%), certain users (> 22%) were coming through OMG (which I suppose to be Online Media Group? but not sure...)","d234d1bc":"##### 2.2.2 Signup Fields","1199153e":"Continuing above univariate analysis...","b21a2a45":"Same trend as before but this plot is much cleaner. So overall the number of avtive users was increasing from 2009 to 2014, especially of those who booked in US.","a6ed6986":"Among the users who signed up, males and females' age distributions look similar. Males' violin is located a little higher than females.","219f71bc":"*Affiliate Channel and Country Destination*","7c2d6703":"Based on the exploratory analyses so far, I think that ---\n1. For demographics, we could use the findings to target particular groups of people when we track their intentions of traveling to each country;\n1. For signup fields, we could focus more on the popular methods people used to sign up and try to improve the methods, for example, improve the website design as majority of users signed up through websites, etc.;\n1. For affiliate fields, we now know that direct marketing is the most effective way to attract new users so we could invest more in this marketing channel;\n1. For date fields, we could use the findings to optimize marketing efforts and reduce the cost, for example, decrease marketing activities on Thursday or during the months like September\/October since there were fewer users booking during these times, etc.","168b3bac":"#### 2.1 Univariate Analysis","82343e21":"*Signup Flow and Country Destination*","fae8a89a":"In general, users created accounts usually at the beginning of a week, especially Monday and Tuesday.","a69b36c5":"### 1. Data Preprocessing","8d5397ab":"2) Signup fields\n* **Signup method**: most users (~ 72%) signed up through Facebook, certain users chose the basic method, only 1% signed up through Google\n* **Signup app**: majority (> 92%) of users signed up through websites or mobile websites, especially the websites, only 7~8% signed up through downloaded app\n* **Signup flow**: as we showed before, most are 0\n* **First device type**: computers, either Mac or Windows, occupy a large percentage (> 70%), then comes iPhone\n* **First browser**: IE, Firefox, Safari are most popular browser, then come mobile versions of those browers, which correponds to the data of signup app","4432c3f5":"4) Date fields\n* **Timestamp first active**: a rising trend overall\n* **Date account created**: similar to the trend of timestamp first active, especially the three spikes between 2011 and 2012, 2012 and 2013, and 2013 and 2014\n* **Date first booking**: though with many missing values, it is still interesting to see how it looks like. The number of users booking reached its peak during the mid of 2014 (as is depicted by timestamp first active and date account created plots as well) and right after that we can observe a huge drop.\n* **Days from signup to first booking**: most users (> 75%) booked within 30 days after their signing up. There are some negative values which I think should be data quality issue. "}}