{"cell_type":{"f498dd23":"code","93c8ad0f":"code","65e8dc3e":"code","941af7d6":"code","6bc23f39":"code","33e1ef8d":"code","9cfdd4fd":"code","7dd90d1c":"code","b7a6b125":"code","bba78a28":"markdown","374f9249":"markdown","dcf203ec":"markdown","2271f8cb":"markdown","edbc180d":"markdown","8bad37cd":"markdown","e046a239":"markdown"},"source":{"f498dd23":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt","93c8ad0f":"online_rt = pd.read_csv(\"..\/input\/mydataset\/Online_Retail.csv\", encoding= 'unicode_escape')","65e8dc3e":"online_rt.head()","941af7d6":"mostQnty = online_rt.groupby(by=\"Country\")[[\"Quantity\"]].max().add_prefix(\"Max_\")\nmostQnty = mostQnty.sort_values(by=\"Max_Quantity\",ascending=False).reset_index()","6bc23f39":"mostQnty.drop(mostQnty[mostQnty.Country == \"United Kingdom\"].index,inplace=True)\nmostQnty = mostQnty.drop(mostQnty.index[10:]).reset_index(drop=True)","33e1ef8d":"plt.figure(figsize=(12, 5))\nsns.barplot(x=\"Country\",y=\"Max_Quantity\",data=mostQnty)\nplt.xticks(rotation=25)\nplt.show()","9cfdd4fd":"online_rt1 = online_rt[(online_rt.Quantity > 0)].reset_index(drop=True)","7dd90d1c":"online_rt1","b7a6b125":"customers = online_rt.groupby(['CustomerID','Country']).sum()\n\n# there is an outlier with negative price\ncustomers = customers[customers.UnitPrice > 0]\n\n# get the value of the index and put in the column Country\ncustomers['Country'] = customers.index.get_level_values(1)\n\n# top three countries\ntop_countries =  ['Netherlands', 'EIRE', 'Germany']\n\n# filter the dataframe to just select ones in the top_countries\ncustomers = customers[customers['Country'].isin(top_countries)]\n\n# Graph Section \n\ng = sns.FacetGrid(customers, col=\"Country\")\n\ng.map(plt.scatter, \"Quantity\", \"UnitPrice\", alpha=1)\n\n# adds legend\ng.add_legend()","bba78a28":"### Step 3. Assign it to a variable called online_rt","374f9249":"### Introduction:\n\n\n\n### Step 1. Import the necessary libraries","dcf203ec":"### Step 6. Create a scatterplot with the Quantity per UnitPrice by CustomerID for the top 3 Countries","2271f8cb":"### Step 5.  Exclude negative Quatity entries","edbc180d":"### Step 2. Import the dataset from this [Online_Retail.csv](https:\/\/raw.githubusercontent.com\/guipsamora\/pandas_exercises\/master\/Visualization\/Online_Retail\/Online_Retail.csv) from the folder.","8bad37cd":"### Step 4. Create a histogram with the 10 countries that have the most 'Quantity' ordered except UK","e046a239":"# Online Retails Purchase"}}