{"cell_type":{"d70be401":"code","2a9b6712":"code","4dbe01a5":"code","026b5c63":"code","1a2a61fb":"code","4f0c3e2c":"code","8381456f":"code","79314180":"code","d7c177c8":"code","9c0c199d":"code","bda9fa2a":"code","66243603":"code","9f034895":"code","d45a3417":"code","f963e464":"code","a1606b5f":"code","29f37a55":"code","1c91f2ab":"code","04ec2d25":"code","a61388f1":"code","ad081545":"code","946ecbfa":"markdown","4539d795":"markdown","50a91b40":"markdown","44e1a517":"markdown","ccdd9af5":"markdown","1bc71cc6":"markdown","1d2c5cf7":"markdown"},"source":{"d70be401":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nfrom matplotlib import pyplot as plt","2a9b6712":"iot_data = pd.read_csv('..\/input\/environmental-sensor-data-132k\/iot_telemetry_data.csv')\niot_data","4dbe01a5":"iot_data.info()","026b5c63":"iot_data['time_stamp'] = pd.to_datetime(iot_data['ts'], unit='s')\n#since in the Time column, a date isn\u2019t specified and hence Pandas will put Some date automatically in that case.\niot_data.drop(columns=['ts'], inplace=True) \nprint(iot_data.head())","1a2a61fb":"sns.heatmap(iot_data.corr()) ","4f0c3e2c":"from sklearn.preprocessing import LabelEncoder, OneHotEncoder\nlabelencoder=LabelEncoder()\nDevices = labelencoder.fit_transform(iot_data['device'])\nLight = labelencoder.fit_transform(iot_data['light'])\nMotion = labelencoder.fit_transform(iot_data['motion'])\n\nonehotencoder=OneHotEncoder()","8381456f":"iot_data['device'] = Devices\niot_data['light'] = Light\niot_data['motion'] = Motion\niot_data","79314180":"iot_data_df = pd.DataFrame(iot_data)\niot_data_df.head()","d7c177c8":"iot_data_df.isnull().sum()","9c0c199d":"#converting the given temperature in  Fahrenheit to degree Celsius\niot_data_df['temp'] = (iot_data_df['temp'] * 1.8) + 32\niot_data_df","bda9fa2a":"affect=['co', 'humidity', 'lpg', 'smoke', 'temp']\nslice=[3,7,8,6,9]\ncolor=['r', 'g', 'm', 'b', 'c']\n\nplt.pie(slice, labels=affect, colors=color, startangle=90,shadow=True, \n       explode=(0,0,0,0.1,0), autopct='%1.2f%%')\nplt.legend(bbox_to_anchor =(0.85, 1.20), ncol = 2) \nplt.show()","66243603":"sns.set_style('darkgrid')\nsns.countplot('device', hue='motion',palette=\"rocket\", edgecolor=sns.color_palette(\"dark\", 3),linewidth=2, data=iot_data_df)","9f034895":"sns.scatterplot('device', 'time_stamp', hue= 'motion', style='light' , data=iot_data_df)","d45a3417":"iot_data_df.drop('time_stamp', axis=1, inplace=True)\niot_data_df.head()","f963e464":"x = iot_data_df.drop('motion', axis= 1)\ny = iot_data_df['motion'].values\ny","a1606b5f":"x","29f37a55":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(x, y, test_size=0.05, random_state=0)","1c91f2ab":"from sklearn.linear_model import LogisticRegression\nreg = LogisticRegression()\nreg.fit(X_train, y_train)","04ec2d25":"prediction = reg.predict(X_test)\nprediction","a61388f1":"from sklearn import metrics\nfrom sklearn.metrics import confusion_matrix\ncnf_matrix = metrics.confusion_matrix(y_test, prediction)\n#cnf_matrix\nsns.heatmap(cnf_matrix, annot=True, cmap=\"Spectral\" ,fmt='g', linewidth = 3)\nplt.tight_layout()\nplt.title('Confusion matrix')\nplt.ylabel('Actual label')\nplt.xlabel('Predicted label')","ad081545":"print(\"Accuracy:\",metrics.accuracy_score(y_test, prediction))\nprint(\"Precision:\",metrics.precision_score(y_test, prediction))\nprint(\"Recall:\",metrics.recall_score(y_test, prediction))","946ecbfa":"# 6) Training and Predicting","4539d795":"# 3) Preprocessing of Data","50a91b40":"# 2) Loading Dataset","44e1a517":"# 1) Importing Libraries","ccdd9af5":"# 4) Visualization","1bc71cc6":"# 5) Spliting Dataset into Train & Test","1d2c5cf7":"> # Since motion had only 482 values =True which is 0% value of the entire Dataset in the Motion column others are False (405k = 100%) , so the machine will not predict the right accuracy.\n> \n> # Accuracy is approx 100% which means machine is overfitted.\n> \n> # Precision = 0,  which means that the machine could not find relevant data  with true values.\n> \n> # Recall = 0, means that all relavant data couldn't be retrieved by the search"}}