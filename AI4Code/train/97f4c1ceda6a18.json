{"cell_type":{"1cc841ee":"code","c1cd601e":"code","c19eedb4":"code","03fe0723":"code","bf782352":"code","a86bb7df":"code","d33209f0":"code","3002788a":"code","0634297e":"code","645e7244":"code","8125a741":"code","481f76e4":"code","1598c321":"code","6bd109f0":"code","06d66103":"code","769fa542":"code","654a93fc":"code","1b723dcd":"code","e1c42add":"code","401cae3e":"code","de7499e2":"code","3c05b10d":"code","7d804ae1":"code","509cdf2f":"code","797ddf53":"code","68bd18c5":"code","01715f01":"code","2d8baed5":"markdown","b6f63144":"markdown","c329859e":"markdown","ab8c4c8f":"markdown","df1b6fb6":"markdown","9664898c":"markdown","f7521dfb":"markdown","fefa4231":"markdown","65ed33a7":"markdown","3a1b9f3a":"markdown","25c88cf0":"markdown","c8d770ff":"markdown","306de1ba":"markdown","4da5848d":"markdown","3a6ea13b":"markdown","9ab0f06c":"markdown","f31b0c67":"markdown","e327d415":"markdown","0203e32a":"markdown"},"source":{"1cc841ee":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport warnings\nwarnings.filterwarnings('ignore')\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.linear_model import Ridge,Lasso\nfrom sklearn.model_selection import RandomizedSearchCV\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","c1cd601e":"df=pd.read_csv('..\/input\/cmpe343\/train.csv')\ndf_t=pd.read_csv('..\/input\/cmpe343\/test.csv')","c19eedb4":"df.head()","03fe0723":"df['Open Date'] = pd.to_datetime(df['Open Date'], format='%m\/%d\/%Y') \ndf_t['Open Date'] = pd.to_datetime(df_t['Open Date'], format='%m\/%d\/%Y')","bf782352":"df.describe()","a86bb7df":"df.isnull().sum()","d33209f0":"df.drop('Id',axis=1,inplace=True)\ndf_t.drop('Id',axis=1,inplace=True)","3002788a":"print(df['City Group'].value_counts())\ndf['City Group'].value_counts().plot(kind='bar')\nplt.xlabel('Type of city')\nplt.ylabel('No. of restaurants')\nplt.title('No. of Restaurants in Big cities and Other cities')\nplt.show()","0634297e":"print(df['Type'].value_counts())\ndf['Type'].value_counts().plot(kind='bar')\nplt.xlabel('Type of Restaurants')\nplt.ylabel('No. of restaurants')\nplt.title('No. of Restaurants of each city')\nplt.show()","645e7244":"df1=pd.get_dummies(df,columns=['City'],drop_first=True)","8125a741":"df_t=pd.get_dummies(df_t,columns=['City'],drop_first=True)","481f76e4":"x_d= df1.set_index('Open Date', append=False)\nx_d=x_d.index.to_julian_date()","1598c321":"x1= df_t.set_index('Open Date', append=False)\nx1=x1.index.to_julian_date()","6bd109f0":"df1['open date']=x_d","06d66103":"df_t['open date']=x1","769fa542":"df1.drop('Open Date',axis=1,inplace=True)","654a93fc":"df_t.drop('Open Date',axis=1,inplace=True)","1b723dcd":"df1['City Group'].replace({'Big Cities':1,'Other':0},inplace=True)\ndf1['Type'].replace({'IL':0,'FC':1,'DT':2,'MB':3},inplace=True)\ndf_t['City Group'].replace({'Big Cities':1,'Other':0})\ndf_t['Type'].replace({'IL':0,'FC':1,'DT':2,'MB':3},inplace=True)","e1c42add":"df1","401cae3e":"cols","de7499e2":"from sklearn.preprocessing import StandardScaler\nss=StandardScaler()\ndf_x=ss.fit_transform(df1[['open date']])","3c05b10d":"df1['open date']=df_x","7d804ae1":"df1.head()","509cdf2f":"x=df1.drop('revenue',axis=1)","797ddf53":"y=df1['revenue']","68bd18c5":"from sklearn.linear_model import LinearRegression\nmodel=LinearRegression()\nmodel.fit(x,y)\nprint('Coefficients are :\\n')\nlist(zip(x.columns,model.coef_))","01715f01":"print('R square value: ',model.score(x,y))","2d8baed5":"Id column is used just for identification and is of no use for us. Let us drop the 'Id' column","b6f63144":"Let us split the data into dependent and independent variables\nx consists of all the features and y consists of target variable","c329859e":"There are no null values in the dataset","ab8c4c8f":"Let us check for presence of any null values.","df1b6fb6":"**Let us import the required libraries**","9664898c":"**Introduction to data**\nTFI has provided training data with 137 restaurants across various cities along with revenue of restaurants.\nTest data has over 1000 reataurants whose revenue is to be predicted.\n\nNotebook created by : [Akshay SB](https:\/\/www.linkedin.com\/in\/akshaybidarkundi\/)\n\nHere I have used basic exploratory analysis to find relationship between columns.\n\n**Please do upvote if you find this notebook useful, it will motivate me to work harder**\n\nLet us look at the columns in the dataset:\n1. Id - Unique identification number of restaurant\n2. Open Date - Date on which restaurant was opened\n3. City - City in which restaurant is located\n4. City group - City in which restaurant is located belong to either of these categories. (big cities or other)\n5. Type - Each restaurant is either FC: Food Court, IL: Inline, DT: Drive Thru\n6. P1 - P37 - There are three categories of these obfuscated data. Demographic data are gathered from third party providers with GIS systems. These include population in any given area, age and gender distribution, development scales. Real estate data mainly relate to the m2 of the location, front facade of the location, car park availability. Commercial data mainly include the existence of points of interest including schools, banks, other QSR operators.\n7. revenue - Revenue generated by each restaurant","f7521dfb":"Here the coefficients are very high which may over-fit the models. Let us try regularization techniques to solve the issue","fefa4231":"# **Model Building**","65ed33a7":"# **Exploratory Data Analysis**","3a1b9f3a":"From above plot, it can be observed that there are 76 food courts, 60 in-line restaurants and 1 drive-thru restaurant.","25c88cf0":"Here open date values are high compared to other values, let's try to standardize the open date column","c8d770ff":"# **Encoding the data**\n\nSince there are few categorical data in our dataset, we need to convert them into numerical by encoding","306de1ba":"# **Data splitting**","4da5848d":"From open date column it is seen that, date format is not same through all columns, let us make the standard date format","3a6ea13b":"Let us look at some of the insights from data","9ab0f06c":"Let us build the model using Linear  Regression model","f31b0c67":"Let us look at summary of the data","e327d415":"Since linear regression does not consider date values, there are many ways to convert that into numerical date, here I will use Julian date to convert date into number so that it can be used for analysis.\nReference : [Julian Day](https:\/\/en.wikipedia.org\/wiki\/Julian_day)","0203e32a":"**Let us have look at 5 rows to understand the data**"}}