{"cell_type":{"90a5ea8d":"code","ba6dad36":"code","25bd5f86":"code","cefe4f55":"code","f82407e4":"code","7fd7cb85":"code","0ba80b92":"code","70fcc55b":"code","1ce5e2d1":"code","830a57cf":"markdown","5f404225":"markdown","b10f7935":"markdown","8bd72223":"markdown"},"source":{"90a5ea8d":"!pip install fastai2==0.0.17","ba6dad36":"from fastai2.basics           import *\nfrom fastai2.medical.imaging  import *","25bd5f86":"main_dir=Path(\"..\/input\/osic-pulmonary-fibrosis-progression\")","cefe4f55":"files=[]\nfor dirname, _, filenames in os.walk(main_dir):\n    for filename in (filenames):\n        files.append(os.path.join((dirname), filename))        \nfiles=[x for x in files if '.csv' not in x]\ntrain_images= [Path(x) for x in files if 'train'  in x]\ntest_images = [Path(x) for x in files if 'test'   in x]","f82407e4":"dcm_metadata_train=pd.DataFrame.from_dicoms(train_images,px_summ=True)\ndcm_metadata_test=pd.DataFrame.from_dicoms(test_images,px_summ=True)","7fd7cb85":"dcm_metadata_train=dcm_metadata_train.dropna(axis=1)\ndcm_metadata_train=dcm_metadata_train.drop(\"PatientSex\",axis=1)\ndcm_metadata_test=dcm_metadata_test.dropna(axis=1)\ndcm_metadata_test=dcm_metadata_test.drop(\"PatientSex\",axis=1)\n","0ba80b92":"dcm_metadata_train.to_csv(\"dcm_metadata_train.csv\")\ndcm_metadata_test.to_csv(\"dcm_metadata_test.csv\")","70fcc55b":"dcm_metadata_train.head()","1ce5e2d1":"dcm_metadata_test.head()","830a57cf":"With much thanks to fast.ai's medical module we can easily generate metadata from DICOM Files with very few  lines of code ","5f404225":"Based on this great kernel https:\/\/www.kaggle.com\/jhoward\/creating-a-metadata-dataframe-fastai\/notebookgreat kernel by Sir Jeremy Howard","b10f7935":"## Generate DICOM Metadata DataFrame with fast.ai v2","8bd72223":"To turn the DICOM file metadata into a DataFrame we can use the from_dicoms function that fastai v2 adds. By passing px_summ=True summary statistics of the image pixels (mean\/min\/max\/std) will be added to the DataFrame as well.\n"}}