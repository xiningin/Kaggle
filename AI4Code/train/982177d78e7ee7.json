{"cell_type":{"8dd7ba74":"code","aec9d6ec":"code","6de3847f":"code","a3ab9153":"code","954ab72d":"code","40b32a4c":"code","c7343d14":"code","cbd8c039":"code","ed08db85":"code","40027507":"code","85958d22":"code","cce54351":"code","592d6389":"code","70b6b70d":"code","3bbf8be0":"code","41d888a3":"code","4db17dff":"markdown","75b7d1f5":"markdown","ffe1406b":"markdown","4e0c40a1":"markdown","4355af19":"markdown","72a9db00":"markdown","df91248b":"markdown","d1f26507":"markdown","e982e9b3":"markdown","53dd6514":"markdown"},"source":{"8dd7ba74":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","aec9d6ec":"data=pd.read_csv('..\/input\/cities_r2.csv')\ndata.sample(10)","6de3847f":"import matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set()\nfig=plt.gcf()\nfig.set_size_inches(18.5, 10.5)\ndata=data.sort_values('state_name')\nsns.countplot(data['state_name'],palette='Set2',order=data['state_name'].value_counts().index)\nplt.xticks(rotation=90,fontsize=15)\nplt.yticks(fontsize=15)\nplt.xlabel('State',fontsize=20)\nplt.ylabel('No. of cities with population more than 100K',fontsize=20)\nplt.title('No. of cities in each state',fontsize=20)\nplt.tight_layout()\nplt.show()","a3ab9153":"data=data.sort_values('population_total',ascending=False)\ntop20=data.head(20)","954ab72d":"fig=plt.gcf()\nfig.set_size_inches(18.5, 10.5)\nplt.bar(top20['name_of_city'],top20['population_total'],color=['maroon','black','green','purple'],alpha=0.5)\nplt.xticks(rotation=90,fontsize=15)\nplt.yticks([12000000,10000000,8000000,6000000,4000000,2000000],['12M','10M','8M','6M','4M','2M'],fontsize=15)\nplt.xlabel('City',fontsize=20)\nplt.ylabel('Population',fontsize=20)\nplt.title('Top 20 cities by population',fontsize=20)\nplt.tight_layout()\nplt.show()","40b32a4c":"import warnings\nwarnings.filterwarnings(\"ignore\")\nfig=plt.gcf()\nfig.set_size_inches(18.5, 10.5)\nsns.distplot(data['effective_literacy_rate_total'],color='black',hist=False,label='Total literacy rate distribution')\nsns.distplot(data['effective_literacy_rate_male'],color='blue',hist=False,label='Male literacy rate distribution')\nsns.distplot(data['effective_literacy_rate_female'],color='maroon',hist=False,label='Female literacy rate distribution')\nplt.xticks(rotation=90,fontsize=15)\nplt.xlabel('Literacy rate',fontsize=15)\nplt.title('Literacy rate distribution of top 500 Indians cities',fontsize=15)\nplt.legend(loc=4,fontsize=15)\nplt.show()","c7343d14":"data['location']=data['location'].str.split()\ndata.sample(10)","cbd8c039":"name=np.array(top20['name_of_city'])\npop=np.array(top20['population_total'])\nimport folium\nIndia=folium.Map(location=[20.5937,78.9629],width=900, height=500,zoom_start=4,tiles='cartodbpositron')\ncount=0\nfor i in top20['location']:\n    for x in i:\n        a=x.split(',')\n        z=[float(a[0]),float(a[1])]\n        folium.Marker(location=z,icon=folium.Icon(color='red'),popup=name[count]+'\\nPopulation: '+str(round(pop[count]\/1000000,3))+'M\\nPopulation rank: '+str(count+1)).add_to(India)\n        count+=1\ndisplay(India)","ed08db85":"fig=plt.gcf()\nfig.set_size_inches(18.5, 10.5)\nplt.stem(top20['name_of_city'],top20['population_total'],label='Total Population')\nplt.bar(top20['name_of_city'],top20['population_male'],label='Male Population',color='blue',alpha=0.4)\nplt.bar(top20['name_of_city'],top20['population_female'],label='Female Population',color='red',alpha=0.4)\nplt.xticks(rotation=90,fontsize=15)\nplt.yticks([12000000,10000000,8000000,6000000,4000000,2000000],['12M','10M','8M','6M','4M','2M'],fontsize=15)\nplt.xlabel('Literacy rate',fontsize=15)\nplt.title('Male vs Females in top 20 cities by population',fontsize=20)\nplt.legend(loc=5,fontsize=15)\nplt.show()","40027507":"fig=plt.gcf()\nfig.set_size_inches(18.5, 10.5)\nplt.scatter(data['effective_literacy_rate_total'],data['sex_ratio'],color='grey',label='Total',alpha=0.5)\nplt.scatter(data['effective_literacy_rate_male'],data['sex_ratio'],label='Male')\nplt.scatter(data['effective_literacy_rate_female'],data['sex_ratio'],color='maroon',label='Female')\nplt.xlabel('Literacy rate',fontsize=15)\nplt.ylabel('Sex Ration(Females per 1000 males)',fontsize=15)\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.legend(loc=0,fontsize=15)\nplt.title('Sex ratio vs Literacy rate',fontsize=20)\nplt.tight_layout()\nplt.show()","85958d22":"fig=plt.gcf()\nfig.set_size_inches(18.5, 10.5)\nplt.scatter(data['effective_literacy_rate_total'],data['sex_ratio'],color='grey',label='Total',alpha=0.5)\nm,c=np.polyfit(data['effective_literacy_rate_total'],data['sex_ratio'],deg=1)\nplt.plot(data['effective_literacy_rate_total'],m*data['effective_literacy_rate_total']+c,color='grey',label='Total plot')\nplt.scatter(data['effective_literacy_rate_male'],data['sex_ratio'],label='Male')\nm,c=np.polyfit(data['effective_literacy_rate_male'],data['sex_ratio'],deg=1)\nplt.plot(data['effective_literacy_rate_male'],m*data['effective_literacy_rate_male']+c,label='Male plot')\nplt.scatter(data['effective_literacy_rate_female'],data['sex_ratio'],color='maroon',label='Female')\nm,c=np.polyfit(data['effective_literacy_rate_female'],data['sex_ratio'],deg=1)\nplt.plot(data['effective_literacy_rate_female'],m*data['effective_literacy_rate_female']+c,color='maroon',label='Female plot')\nplt.xlabel('Literacy rate',fontsize=15)\nplt.ylabel('Sex Ration(Females per 1000 males)',fontsize=15)\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.legend(loc=0,fontsize=15)\nplt.title('Sex ratio vs Literacy rate',fontsize=20)\nplt.tight_layout()\nplt.show()","cce54351":"data=data.sort_values('effective_literacy_rate_total',ascending=False)\ntop20_literacy=data.head(20)\ndata=data.sort_values('sex_ratio',ascending=False)\ntop20_sexratio=data.head(20)","592d6389":"name=np.array(top20_literacy['name_of_city'])\nlit=np.array(top20_literacy['effective_literacy_rate_total'])\ncount=0\nmap=folium.Map(location=[20.5937,78.9629],width=900, height=500,zoom_start=4,tiles='cartodbpositron')\nfor i in top20_literacy['location']:\n    for x in i:\n        a=x.split(',')\n        z=[float(a[0]),float(a[1])]\n        folium.Marker(location=z,icon=folium.Icon(color='red'),popup=name[count]+'\\Literacy: '+str(lit[count])+'%\\nLiteracy rank: '+str(count+1)).add_to(map)\n        count+=1\ndisplay(map)","70b6b70d":"name=np.array(top20_sexratio['name_of_city'])\ns=np.array(top20_sexratio['sex_ratio'])\ncount=0\nmap1=folium.Map(location=[20.5937,78.9629],width=900, height=500,zoom_start=4,tiles='cartodbpositron')\nfor i in top20_sexratio['location']:\n    for x in i:\n        a=x.split(',')\n        z=[float(a[0]),float(a[1])]\n        folium.Marker(location=z,icon=folium.Icon(color='red'),popup=name[count]+'\\nSex Ratio(F\/M): '+str(s[count]\/1000)+'\\nSex ratio rank: '+str(count+1)).add_to(map1)\n        count+=1\ndisplay(map1)","3bbf8be0":"data=data.sort_values('total_graduates',ascending=False)\ntop20_graduates=data.head(20)","41d888a3":"fig=plt.gcf()\nfig.set_size_inches(18.5, 10.5)\nplt.stem(top20_graduates['name_of_city'],top20_graduates['total_graduates'],label='Total graduates')\nplt.bar(top20_graduates['name_of_city'],top20_graduates['male_graduates'],label='Male graduates',color='blue',alpha=0.4)\nplt.bar(top20_graduates['name_of_city'],top20_graduates['female_graduates'],label='Female graduates',color='red',alpha=0.4)\nplt.xticks(rotation=90,fontsize=15)\nplt.yticks([2000000,1500000,1000000,500000],['2M','1.5M','1M','0.5M'],fontsize=15)\nplt.xlabel('City',fontsize=15)\nplt.ylabel('Graduates',fontsize=15)\nplt.title('Graduates distribution in top 20 cities(by most number of graduates)',fontsize=20)\nplt.legend(loc=5,fontsize=15)\nx=range(20)\ny=np.array(top20_graduates['total_graduates'])\nplt.plot(x,y)\nplt.show()","4db17dff":"<center><font size=5px>**Plot of top 20 cities population wise**<\/font><center>","75b7d1f5":"<center><font size=5px>**Distribution plots of literacy rates(Total, male & female)**<\/font><center>","ffe1406b":"<center><font size=5px>**Cities with highest literacy rates(top 20) on map**<\/font><center>","4e0c40a1":"<center><font size=5px>**Male vs Female population in top 20 cities**<\/font><center>","4355af19":"<center><font size=5px>**Sex ratio vs Literacy rates**<\/font><br>\n*     Sex ratio tends to increase as literacy rate increases<\/center>","72a9db00":"<center><font size=5px>**No. of cities in each state**<\/font><\/center>","df91248b":"<center><font size=5px>**Sex Ratio vs Literacy rate plot**<\/font><center>","d1f26507":"<center><h1>","e982e9b3":"<center><font size=5px>**Cities with highest sex ratio(top 20) on map**<\/font><center>\n    <br>\n* All top 20 cities with highest sex ratio are either in Southern or North-Eastern part of India.\n* 17 out of these 20 cities are in South Indian states.    ","53dd6514":"<center><font size=5px>**Top 20 cities(population-wise) on map**<\/font><center>"}}