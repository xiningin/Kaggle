{"cell_type":{"1eaf0c51":"code","fe9c4997":"code","6fc2b11d":"code","ec25f616":"code","00d2627b":"code","e56164cc":"code","cdc19ed7":"code","c50c8e7d":"code","ea95aee0":"code","43b07f4c":"code","a2820b91":"code","b47fa5e9":"code","e67272d0":"code","20536c43":"code","95ab0220":"markdown","b84c5cb6":"markdown","95b5d231":"markdown"},"source":{"1eaf0c51":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\nimport warnings\nwarnings.filterwarnings(\"ignore\")","fe9c4997":"data = pd.read_csv('..\/input\/covid19-tokyo\/nhk_news_covid19_prefectures_daily_data.csv')\ndata[-3:]","6fc2b11d":"data.columns","ec25f616":"data['positives']=data['\u5404\u5730\u306e\u611f\u67d3\u8005\u6570_1\u65e5\u3054\u3068\u306e\u767a\u8868\u6570']\ndata[\"date\"] = data[\"\u65e5\u4ed8\"].apply(pd.to_datetime, dayfirst=True)","00d2627b":"pref_jap=['\u5317\u6d77\u9053', '\u9752\u68ee\u770c', '\u5ca9\u624b\u770c', '\u5bae\u57ce\u770c', '\u79cb\u7530\u770c', '\u5c71\u5f62\u770c', '\u798f\u5cf6\u770c', '\u8328\u57ce\u770c', '\u6803\u6728\u770c', '\u7fa4\u99ac\u770c', '\u57fc\u7389\u770c', '\u5343\u8449\u770c', '\u6771\u4eac\u90fd', '\u795e\u5948\u5ddd\u770c', '\u65b0\u6f5f\u770c', '\u5bcc\u5c71\u770c', '\u77f3\u5ddd\u770c', '\u798f\u4e95\u770c', '\u5c71\u68a8\u770c', '\u9577\u91ce\u770c', '\u5c90\u961c\u770c', '\u9759\u5ca1\u770c', '\u611b\u77e5\u770c', '\u4e09\u91cd\u770c', '\u6ecb\u8cc0\u770c', '\u4eac\u90fd\u5e9c', '\u5927\u962a\u5e9c', '\u5175\u5eab\u770c', '\u5948\u826f\u770c', '\u548c\u6b4c\u5c71\u770c', '\u9ce5\u53d6\u770c', '\u5cf6\u6839\u770c', '\u5ca1\u5c71\u770c', '\u5e83\u5cf6\u770c', '\u5c71\u53e3\u770c', '\u5fb3\u5cf6\u770c', '\u9999\u5ddd\u770c', '\u611b\u5a9b\u770c', '\u9ad8\u77e5\u770c', '\u798f\u5ca1\u770c', '\u4f50\u8cc0\u770c', '\u9577\u5d0e\u770c', '\u718a\u672c\u770c', '\u5927\u5206\u770c', '\u5bae\u5d0e\u770c', '\u9e7f\u5150\u5cf6\u770c', '\u6c96\u7e04\u770c']\npref_eng=['Hokkaido', 'Aomori', 'Iwate', 'Miyagi', 'Akita', 'Yamagata', 'Fukushima', 'Ibaraki', 'Tochigi', 'Gunma', 'Saitama', 'Chiba', 'Tokyo', 'Kanagawa', 'Niigata', 'Toyama', 'Ishikawa', 'Fukui', 'Yamanashi', 'Nagano', 'Gifu', 'Shizuoka', 'Aichi', 'Mie', 'Shiga', 'Kyoto', 'Osaka', 'Hyogo', 'Nara', 'Wakayama', 'Tottori', 'Shimane', 'Okayama', 'Hiroshima', 'Yamaguchi', 'Tokushima', 'Kagawa', 'Ehime', 'Kochi', 'Fukuoka', 'Saga', 'Nagasaki', 'Kumamoto', 'Oita', 'Miyazaki', 'Kagoshima', 'Okinawa']","e56164cc":"print(pref_jap)\nprint(pref_eng)","cdc19ed7":"normal_mapping=dict(zip(pref_jap,pref_eng)) \nreverse_mapping=dict(zip(pref_eng,pref_jap)) ","c50c8e7d":"data['name']=data['\u90fd\u9053\u5e9c\u770c\u540d'].map(normal_mapping)","ea95aee0":"data[-3:]","43b07f4c":"data2=data[['date','name','positives']]\ndata2[0:5]","a2820b91":"temp_tokyo=pd.read_csv('..\/input\/covid19-tokyo\/tokyo_temperature.csv')\ntemp_tokyo['date']=pd.to_datetime(temp_tokyo['date'], format='%Y-%m-%d')\ntemp_tokyo[0:5]","b47fa5e9":"temp_okinawa= pd.read_csv('..\/input\/covid19-tokyo\/naha_temperature.csv')\ntemp_okinawa['date']=pd.to_datetime(temp_okinawa['date'], format='%Y-%m-%d')\ntemp_okinawa[0:5]","e67272d0":"fig=make_subplots(specs=[[{\"secondary_y\":True}]])\nfig.add_trace(go.Scatter(x=data2['date'],y=data2[data2['name']=='Tokyo']['positives'].rolling(window=7).mean(),name='positives mean 7-day'),secondary_y=False,)\nfig.add_trace(go.Scatter(x=temp_tokyo['date'],y=temp_tokyo['temperature'].rolling(window=7).mean(),name='temperature mean 7-day'),secondary_y=True,)\n\nfig.update_layout(autosize=False,width=700,height=500,title_text=\"Covid19 Positives vs Temperature in Tokyo\")\nfig.update_xaxes(title_text=\"Date\")\nfig.update_yaxes(title_text=\"Positive Cases\",secondary_y=False)\nfig.update_yaxes(title_text=\"Temperature\",secondary_y=True)\nfig.show()","20536c43":"fig=make_subplots(specs=[[{\"secondary_y\":True}]])\nfig.add_trace(go.Scatter(x=data2['date'],y=data2[data2['name']=='Okinawa']['positives'].rolling(window=7).mean(),name='positives mean 7-day'),secondary_y=False,)\nfig.add_trace(go.Scatter(x=temp_okinawa['date'],y=temp_okinawa['temperature'].rolling(window=7).mean(),name='temperature mean 7-day'),secondary_y=True,)\n\nfig.update_layout(autosize=False,width=700,height=500,title_text=\"Covid19 Positives vs Temperature in Okinawa\")\nfig.update_xaxes(title_text=\"Date\")\nfig.update_yaxes(title_text=\"Positive Cases\",secondary_y=False)\nfig.update_yaxes(title_text=\"Temperature\",secondary_y=True)\nfig.show()","95ab0220":"#### In August 2021 In Tokyo, the drop in temperature seemed to be the trigger for the drop in the number of infected people. This tendency was not observed in Okinawa.","b84c5cb6":"####  From these results, the following is assumed. The number of infected people in Tokyo depends on the temperature in Tokyo, and the number of infected people in Okinawa depends on the number of infected people in Tokyo.","95b5d231":"# Data preparation"}}