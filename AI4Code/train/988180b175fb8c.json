{"cell_type":{"e41610e0":"code","66820c73":"code","c1937491":"code","aaa9b8e2":"code","61a1ad47":"code","9c5a63a1":"code","21478faa":"code","62b70885":"code","db2878d0":"code","c1f04cbd":"code","e24b46d9":"code","6f328657":"code","98706ca8":"markdown","cd82bd48":"markdown","bfae46f8":"markdown","211be25f":"markdown","46b41118":"markdown","5b523860":"markdown","cd491345":"markdown","22470d15":"markdown","39cd5f86":"markdown","c7a0cb9c":"markdown","22acc2ee":"markdown"},"source":{"e41610e0":"import numpy as np \nimport pandas as pd \nimport bq_helper\nfrom bq_helper import BigQueryHelper\nimport statsmodels.api as sm\n# https:\/\/www.kaggle.com\/sohier\/introduction-to-the-bq-helper-package\nwdi = bq_helper.BigQueryHelper(active_project=\"patents-public-data\",\n                                   dataset_name=\"worldbank_wdi\")\nbq_assistant = BigQueryHelper(\"patents-public-data\", \"worldbank_wdi\")\nbq_assistant.list_tables()","66820c73":"bq_assistant.head(\"wdi_2016\", num_rows=3)","c1937491":"#Agriculture, value added (current US$)\nqueryagr = \"\"\"\nSELECT indicator_value\tas Agriculture\nFROM\n  `patents-public-data.worldbank_wdi.wdi_2016`\nWHERE \ncountry_name in ('France','Germany','Senegal','Brazil','China','Australia') AND indicator_code = 'NV.AGR.TOTL.CD'\nORDER BY year ;\n        \"\"\"\nagri = wdi.query_to_pandas_safe(queryagr)\n","aaa9b8e2":"#Country code\t\nqueryccd = \"\"\"\nSELECT year,country_code\t\nFROM\n  `patents-public-data.worldbank_wdi.wdi_2016`\nWHERE \ncountry_name IN ('France','Germany','Senegal','Brazil','China','Australia') AND indicator_code = 'NE.CON.GOVT.KD.ZG'\nORDER BY year ;\n        \"\"\"\nccd = wdi.query_to_pandas_safe(queryccd)","61a1ad47":"df1 = ccd.join(agri)","9c5a63a1":"querygdp = \"\"\"\nSELECT indicator_value\tas GDP\nFROM\n  `patents-public-data.worldbank_wdi.wdi_2016`\nWHERE \ncountry_name in ('France','Germany','Senegal','Brazil','China','Australia') AND indicator_code = 'NY.GDP.MKTP.CN'\nORDER BY year ;\n        \"\"\"\ngdp = wdi.query_to_pandas_safe(querygdp)\ndf2 = gdp.join(df1)\ndf2.describe()","21478faa":"import plotly.express as px\npx.scatter(df2, x=\"Agriculture\", y=\"GDP\", animation_frame=\"year\", size='Agriculture',animation_group='country_code',color=\"country_code\",hover_name='country_code',\n           log_x=False, size_max=100,range_y=[-6.767078e+13,6.767078e+13],range_x=[-9.773264e+11,9.773264e+11])","62b70885":"Y = df2['GDP']\nX =df2['Agriculture']\nX = sm.add_constant(X)\nmod = sm.OLS(Y,X)\nres = mod.fit()\nprint(res.summary())\n","db2878d0":"queryexp = \"\"\"\nSELECT indicator_value as Export_G_S\nFROM\n  `patents-public-data.worldbank_wdi.wdi_2016`\nWHERE \ncountry_name IN ('France','Germany','Senegal','Brazil','China','Australia') AND indicator_code = 'NE.EXP.GNFS.CN'\nORDER BY year  ;\n        \"\"\"\nexport = wdi.query_to_pandas_safe(queryexp)\ndf3 =export.join(ccd)\ndf = df3.join(gdp)","c1f04cbd":"df.describe()","e24b46d9":"import plotly.express as px\npx.scatter(df, x=\"Export_G_S\", y=\"GDP\", animation_frame=\"year\", size='Export_G_S',animation_group='country_code',color=\"country_code\",hover_name='country_code',\n           log_y=False,range_y=[-6.767078e+13,6.767078e+13] ,size_max=100, range_x=[-1.520921e+13,1.520921e+13])","6f328657":"Y = df['GDP']\nX =df['Export_G_S']\nX = sm.add_constant(X)\nmod = sm.OLS(Y,X)\nres = mod.fit()\nprint(res.summary())\n","98706ca8":"**WE HAVE THE SAME CONCLUTION**","cd82bd48":"> \tGDP (current LCU)","bfae46f8":"WE TAKE SIX COUNTRY 'France','Germany','Senegal','Brazil','China','Australia FOR THIS DEMO","211be25f":"**VISUALIZATION**","46b41118":"OMMMMM even if Agricuture  explain significantly GDP  P>|t| > 0.05 but  in  very low level that's why  R-squared is very low and const very height.\n\n> **LET'S DO THE SAME FOR EXPORTATION ANG GDP**","5b523860":"**VISUALIZATION**","cd491345":"**JOINING COUNTRY AND AGRICULTURE VALUES **","22470d15":"> \tAgriculture, value added (current LCU) ","39cd5f86":"> **LINEAR MODEL OLS WITH CONSTANT**","c7a0cb9c":"> **LINEAR MODEL OLS WITH CONSTANT**","22acc2ee":"**WE ARE LOOKING FOR RELATIONSHIP BETWEEN AGRICULTURE PRODUCTION AND GDP**\n"}}