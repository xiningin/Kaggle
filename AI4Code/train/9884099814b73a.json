{"cell_type":{"bed98c78":"code","135e57e9":"code","34944d23":"code","cfb6c509":"code","56b13d65":"code","7008edf7":"code","c0796f72":"code","e3494587":"code","2fe5af5a":"code","38ed7934":"code","b3a5533e":"code","44f2ddbc":"code","32fca1af":"code","98273885":"code","1898d22e":"code","492932fe":"code","a0ca8a2b":"code","272a72e6":"code","a4070d35":"code","91d188a1":"code","32490cbb":"code","6a85353a":"code","8be11a79":"code","f3a85e5c":"code","c89390be":"code","324cad6c":"code","71912cde":"code","51a5df67":"code","59789e2d":"code","d5d6a9ab":"code","30fcdd64":"code","a71567bc":"code","2a65e5ff":"code","b69d8801":"code","70ff44ff":"code","c182a10a":"code","7241ab79":"code","2dd91087":"code","5515a48d":"code","f845b648":"code","1cc1dbad":"code","8a74b8ac":"code","fd86f625":"code","d9b8e38a":"code","cbc0d14a":"code","b516d889":"code","ad5b2c26":"code","0a95cd81":"code","7809b6b4":"markdown","f24c2408":"markdown","1cbfd9f8":"markdown","6cc3ad5b":"markdown","ee38e1cc":"markdown","a3dac2bb":"markdown","21836946":"markdown","14996c59":"markdown","55f1fae8":"markdown","571a7535":"markdown"},"source":{"bed98c78":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","135e57e9":"import warnings\nwarnings.filterwarnings('ignore')","34944d23":"import matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly_express as px","cfb6c509":"df_upper=pd.read_csv('\/kaggle\/input\/out-of-school-rates-global-data\/Upper Secondary.csv',encoding='latin-1')\ndf_prim=pd.read_csv('\/kaggle\/input\/out-of-school-rates-global-data\/Primary.csv',encoding='latin-1')\ndf_low=pd.read_csv('\/kaggle\/input\/out-of-school-rates-global-data\/Lower Secondary.csv',encoding='latin-1')","56b13d65":"df_upper.head()","7008edf7":"df_prim.head()","c0796f72":"df_low.head()","e3494587":"df_upper.info()","2fe5af5a":"df_upper['Development Regions'].unique()","38ed7934":"df_upper=df_upper.replace({'Not Classified':0, 'Least Developed':1,'Less Developed':2,'More Developed':3})\ndf_prim=df_prim.replace({'Not Classified':0, 'Least Developed':1,'Less Developed':2,'More Developed':3})\ndf_low=df_low.replace({'Not Classified':0, 'Least Developed':1,'Less Developed':2,'More Developed':3})","b3a5533e":"df_upper=df_upper.rename(columns={'Development Regions': 'Development Regions_upper','Total':'Total_upper','Female':'Female_upper','Male':'Male_upper',\n                                 'Rural_Residence':'Rural_upper','Urban_Residence':'Urban_upper','Poorest_Wealth quintile':'Poorest_quintile_upper',\n                                  'Second_Wealth quintile':'Second_quintile_upper','Middle_Wealth quintile':'Middle_quintile_upper',\n                                  'Fourth_Wealth quintile':'Fourth_quintile_upper','Richest_Wealth quintile':'Richest_quintile_upper',\n                                 'Time period':'Time period_upper'})\ndf_prim=df_prim.rename(columns={'Development Regions': 'Development Regions_prim','Total':'Total_prim','Female':'Female_prim','Male':'Male_prim',\n                                 'Rural_Residence':'Rural_prim','Urban_Residence':'Urban_prim','Poorest_Wealth quintile':'Poorest_quintile_prim',\n                                  'Second_Wealth quintile':'Second_quintile_prim','Middle_Wealth quintile':'Middle_quintile_prim',\n                                  'Fourth_Wealth quintile':'Fourth_quintile_prim','Richest_Wealth quintile':'Richest_quintile_prim',\n                                 'Time period':'Time period_prim'})\ndf_low=df_low.rename(columns={'Development Regions': 'Development Regions_low','Total':'Total_low','Female':'Female_low','Male':'Male_low',\n                                 'Rural_Residence':'Rural_low','Urban_Residence':'Urban_low','Poorest_Wealth quintile':'Poorest_quintile_low',\n                                  'Second_Wealth quintile':'Second_quintile_low','Middle_Wealth quintile':'Middle_quintile_low',\n                                  'Fourth_Wealth quintile':'Fourth_quintile_low','Richest_Wealth quintile':'Richest_quintile_low',\n                                 'Time period':'Time period_low'})","44f2ddbc":"df_upper.head()","32fca1af":"df_prim.head()","98273885":"df_low.head()","1898d22e":"df_total=pd.concat([df_upper,df_prim,df_low], axis=1)","492932fe":"df_total.head()","a0ca8a2b":"df_total=df_total.drop(df_total.columns[[15,16,17,18,19,20,21,32,33,34,35,36,37,38,49,50]], axis=1)","272a72e6":"df_total['Country']=df_low['Countries and areas']\ndf_total['ISO3']=df_low['ISO3']\ndf_total=df_total[['Country','ISO3','Development Regions_upper', 'Total_prim', 'Female_prim',\n       'Male_prim', 'Rural_prim', 'Urban_prim', 'Poorest_quintile_prim',\n       'Second_quintile_prim', 'Middle_quintile_prim',\n       'Fourth_quintile_prim', 'Richest_quintile_prim', 'Total_low',\n       'Female_low', 'Male_low', 'Rural_low', 'Urban_low',\n       'Poorest_quintile_low', 'Second_quintile_low', 'Middle_quintile_low',\n       'Fourth_quintile_low', 'Richest_quintile_low', 'Total_upper',\n       'Female_upper', 'Male_upper', 'Rural_upper', 'Urban_upper',\n       'Poorest_quintile_upper', 'Second_quintile_upper', 'Middle_quintile_upper',\n       'Fourth_quintile_upper', 'Richest_quintile_upper']]\ndf_total","a4070d35":"plt.figure(figsize = (15,8))\nsns.heatmap(df_total.corr(),annot=True, fmt=\"1.1f\")","91d188a1":"sns.pairplot(df_prim)","32490cbb":"sns.pairplot(df_low)","6a85353a":"sns.pairplot(df_upper)","8be11a79":"Worst20_low=df_total.sort_values(by=['Total_low'], ascending=False).head(20)\nWorst20_prim=df_total.sort_values(by=['Total_prim'], ascending=False).head(20)\nWorst20_upper=df_total.sort_values(by=['Total_upper'], ascending=False).head(20)","f3a85e5c":"fig = px.choropleth(Worst20_prim,locations='ISO3',color='Total_prim',scope='world',color_continuous_scale=px.colors.sequential.GnBu,\n                    range_color=(0,100),title='Worst 20 Total Primary School Out of School rate',height=800\n    )\nfig.show()","c89390be":"fig = px.choropleth(Worst20_low,locations='ISO3',color='Total_low',scope='world',color_continuous_scale=px.colors.sequential.GnBu,\n                    range_color=(0,100),title='Worst 20 Total Lower Secondary School Out of School rate',height=800\n    )\nfig.show()","324cad6c":"fig = px.choropleth(Worst20_upper,locations='ISO3',color='Total_upper',scope='world',color_continuous_scale=px.colors.sequential.GnBu,\n                    range_color=(0,100),title='Worst 20 Total Upper Secondary School Out of School rate',height=800\n    )\nfig.show()","71912cde":"Worst20_prim.groupby('Development Regions_upper')['Country'].count().plot.bar()","51a5df67":"Worst20_low.groupby('Development Regions_upper')['Country'].count().plot.bar()","59789e2d":"Worst20_upper.groupby('Development Regions_upper')['Country'].count().plot.bar()","d5d6a9ab":"total_mean=df_total.describe().T\ntotal_mean=total_mean['mean']\ntotal_mean=pd.DataFrame(total_mean)\n\nprim20_mean=Worst20_prim.describe().T\nprim20_mean=prim20_mean.rename(columns={'mean': 'prim20_mean'})\n\ntotal_mean['prim20_mean']=prim20_mean['prim20_mean']\ntotal_mean['variance']=total_mean['prim20_mean']-total_mean['mean']\ntotal_mean","30fcdd64":"pip install pycaret --ignore-installed llvmlite numba","a71567bc":"from pycaret.clustering import *","2a65e5ff":"exp_clus = setup(df_total,silent=True,session_id = 1)","b69d8801":"kmeans = create_model('kmeans',num_clusters = 4)","70ff44ff":"plot_model(kmeans, 'elbow')","c182a10a":"plot_model(kmeans, plot = 'cluster')","7241ab79":"kmeans_df = assign_model(kmeans)","2dd91087":"kmeans_df[kmeans_df['Cluster']=='Cluster 2']","5515a48d":"kmeans_df.groupby('Cluster')['Country'].count().plot.bar()","f845b648":"kmeans_df.groupby('Cluster')['Development Regions_upper'].mean().plot.bar()","1cc1dbad":"kmeans_df.groupby('Cluster')['Total_prim'].mean().plot.bar()","8a74b8ac":"kmeans_df.groupby('Cluster')['Female_prim'].mean().plot.bar()","fd86f625":"kmeans_df.groupby('Cluster')['Total_upper'].mean().plot.bar()","d9b8e38a":"plot_model(kmeans, plot = 'silhouette')","cbc0d14a":"plot_model(kmeans, plot = 'distribution', feature = 'Development Regions_upper')","b516d889":"plot_model(kmeans, plot = 'distribution', feature = 'Total_prim')","ad5b2c26":"plot_model(kmeans, plot = 'distribution', feature = 'Total_low')","0a95cd81":"plot_model(kmeans, plot = 'distribution', feature = 'Total_upper')","7809b6b4":"3) Worst 20 countries analysis","f24c2408":"The variance between total average and worst 20 average\n* Variance of 'total out of school rate' between total average and worst 20 are 24% to 25% in primary school, lower secondary school and upper secondary school.\n* Variance of 'male out of school rate' between total average and worst 20 are 22.8% in primary school, 20.4% in lower secondary school and 18.1% in upper secondary school. It means that it is getting better as student move to upper school.\n* On the other hand, variance of 'female out of school rate' between total average and worst 20 are 26.7% in primary school, 28.2% in lower secondary school and 30.8% in upper secondary school. It means that it is getting worse as student move to upper school.","1cbfd9f8":"* In worst 20 countries, 17 countries are in least developed in primary school and lower secondary school. And 19 countries are in least developed in upper secondary school.","6cc3ad5b":"* Cluster 1 is in worst condition and Cluster 3 is in better condition. And it seems that the diffirence among clusters come from not only out of school rate but also whether it will be getting better or worst as students move to upper school.","ee38e1cc":"* In primary school, 18 Africa countries occupy in worst 20. Other two countries are Afganistan and Pakistan.\n* In lower secondary school,19 Africa countries occupy in worst 20. Other one country is Afganistan.\n* In upper secondary school,18 Africa countries occupy in worst 20. Other countries are Afganistan and Cambodia.","a3dac2bb":"# 1. Objective\n* I tried to find worst 20 countries and what cause it.\n* I also tried to find clustering all the data.","21836946":"2) Correlation","14996c59":"4) Clustering by PyCaret","55f1fae8":"1) Data Preprocessing","571a7535":"# 2. Insight\n* There is a strong correlation between development situation and out of school rate.\n* Most countries of worst 20 were occupied by countries in Africa. In worst 20 countries, the gap of 'female out of school rate' with total average are getting worse as students move to upper school.\n* I also found 4 clusters in data. \n\n![image.png](attachment:1796a661-84f7-4b93-8a8c-66522707a308.png)\n\nCluster 1 is the worst one, and Cluster 3 is the better one. It depends on not only 'out of school rate' and 'development stage' but also whether it will be getting better or worse as students move to upper school."}}