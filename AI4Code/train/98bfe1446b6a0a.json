{"cell_type":{"9b63a69b":"code","ce155536":"code","d61f8217":"code","8a03f232":"code","926ba706":"code","411ed533":"code","5d67a90f":"code","e0f67f9a":"code","faa3a5d0":"code","83927668":"code","63909c82":"code","bc5ba06d":"code","2bdb6369":"code","ae29749e":"code","8fa4b863":"code","12fa01cd":"code","c90d2c3a":"code","187aee17":"code","a9664226":"code","99ced5e2":"code","63bae9c7":"code","689c82a5":"code","e008dd1c":"code","fccff3c3":"code","e31dbb7c":"code","9672b4b0":"code","80cde176":"code","dd8e51a6":"code","440e8885":"code","5b732020":"code","0e117127":"markdown","91284e6c":"markdown","85aa887a":"markdown","4da5f125":"markdown","3d54cded":"markdown","b5b14780":"markdown","cfa037e6":"markdown","5ed8f026":"markdown","e8216fca":"markdown","d8aa5ca2":"markdown","bbd5a1bb":"markdown","41ea7d11":"markdown","08658184":"markdown"},"source":{"9b63a69b":"#import libraries\nimport pandas as pd\nimport matplotlib\nimport matplotlib.pyplot as plt\n%matplotlib inline\nplt.close('all')\nimport seaborn as sns\n\nsns.set_style('darkgrid')\nmatplotlib.rcParams['font.size'] = 14\nmatplotlib.rcParams['figure.figsize'] = (9, 5)\nmatplotlib.rcParams['figure.facecolor'] = '#00000000'","ce155536":"#Open and read dataset\ndata_raw = pd.read_csv(\"..\/input\/students-performance-in-exams\/StudentsPerformance.csv\")","d61f8217":"#Convert data into panda's dataframe\ndf = pd.DataFrame(data_raw)","8a03f232":"#Rename columns\ndf.columns = ['gender', 'race', 'parentDegree', 'lunch', 'coursePrep', 'math', 'reading', 'writing']","926ba706":"#Calculate Total score as a new column\ndf['total_score'] = df['math'] + df['reading'] + df['writing']","411ed533":"#Calculate Percentage as a new column\ndf['percentage'] = (df['total_score']\/300)*100","5d67a90f":"df.sample()","e0f67f9a":"#Check for missing values\ndf.isna().sum()","faa3a5d0":"#Analyzing the correlation between Gender with Score\n#The groupby function will take in n number of categorial variables and compare them with the numeric variables in the dataset\ndf.groupby(['gender']).mean()","83927668":"#Analyzing the relation between coursePrep and Score\nplt.figure(figsize=(5,5))\nsns.barplot(x='gender', y='percentage', hue='coursePrep', data=df)","63909c82":"#Visualizing the relation between parentDegree and Score\nplt.figure(figsize=(10,5))\nsns.barplot(x='gender', y='total_score', hue='parentDegree', data=df)","bc5ba06d":"for i in range(len(df)):\n  if df.iloc[i, 2] in ['high school', 'some high school']:\n    df.iloc[i,2] = 'No'\n  else:\n    df.iloc[i,2] = 'Yes'","2bdb6369":"df.sample(5)","ae29749e":"#Revizualizing the relation between parentDegree and Score\nplt.figure(figsize=(8,5))\nsns.barplot(x='gender', y='total_score', hue='parentDegree', data=df)","8fa4b863":"#Visualizing the relation between Lunch and Score\nplt.figure(figsize=(5,5))\nsns.barplot(x='lunch', y='total_score', data=df)","12fa01cd":"#Visualizing the relation between Race and Score\nplt.figure(figsize=(8,5))\nsns.barplot(x='race', y='total_score', data=df)","c90d2c3a":"df.race.value_counts()","187aee17":"df.groupby(['race']).mean()","a9664226":"final_df = df.groupby(['gender','parentDegree','coursePrep','lunch','race']).mean().reset_index()\nafter_sort = final_df.sort_values(by= ['total_score'],ascending = False)\nafter_sort.drop(columns=['math','reading','writing'],inplace = True)\nafter_sort","99ced5e2":"#import libraries\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import mean_squared_error\nfrom xgboost import XGBRegressor","63bae9c7":"#change the data types of categorial variables into integer\nbase = pd.get_dummies(final_df,columns=['gender','race','parentDegree','coursePrep','lunch'],dtype = int)\nbase.info()","689c82a5":"#Since gender does not seem to have a big impact on the score, let's remove the gender column\nbase.drop(['gender_female','gender_male'], axis=1)\n#We are only concerned with the total score, so let's delete the math, reading and writing scores\nbase.drop(['math','reading','writing'], axis=1)","e008dd1c":"base.sample()","fccff3c3":"#split the data into train and test data\ntrain_x,test_x,train_y,test_y = train_test_split(base.iloc[:,4:],base.iloc[:,3],test_size = 0.05)","e31dbb7c":"test_x","9672b4b0":"#we will use the XGBoost ML model to train and predict\nmodel = XGBRegressor(max_depth = 6)\nmodel.fit(train_x,train_y)","80cde176":"#now we will set the target (actual value) and compared to the predicted value\ntarget = model.predict(test_x)\nmean_squared_error(target,test_y)","dd8e51a6":"#let's visualize the target size\nlen(target)","440e8885":"#let's visualize the values in the test data\ntest_y[:5].values","5b732020":"#let's visualize the values in the target data\ntarget[:5]","0e117127":"Insight 2: Students who completed the coursePrep, on average, performed better on the test and therefore had a higher % score","91284e6c":"Questions Answered: \n\n1. What is the impact of parental education background on total scores?\n\n  -> Students performed better if their parents held a degree.\n2. What is the inference made from the correlation of gender and total scores?\n\n  -> Females performed better overall, but not a big difference.\n3. What is the inference made from the correlation of race\/ethnicity and total scores?\n\n  -> Cannot accurately state that a particular Race performed better than the other. \n4. What is the inference made from the correlation of lunch and total scores?\n\n  -> Students that come from a more fortunate background, on average, performed better on the test.\n5. What is the inference made from the correlation of test preperation and total scores?\n\n  -> Students who completed the coursePrep, on average, performed better on the test and therefore had a higher % score\n6. Is there a gender that scored averagely better on a particular area in the test?\n\n  -> Females performed much better on reading and writing. Males performed better on math.\n7. Is there an ethnicity that scored averagely better on a particular area in the test?\n\n  -> Group E performed significantly better in Math compared to the other groups.","85aa887a":"Insight 4: Although the Lunch column doesn't directly specify what the reason is for the free\/reduced lunch, we can assume that the students who are given free\/reduced lunches are not as fortunate as those that get standard priced lunches which gives us more information about the students' background. From the above graph, we can tell that the students that come from a more fortunate background, on average, performed better on the test.","4da5f125":"**Predictions using ML**","3d54cded":"Although we can see that students performed better when their parents had a bachelor's and\/or master's degree, there must be a better way of analyzing the impact. We will now categorize the parentDegree column into 'Yes' for has a degree and 'No' for high school and some high school.","b5b14780":"Insight 3: Now we can clearly make the inference that when a parent holds a degree, the student performs better on the test","cfa037e6":"Insight 5: It is not easy to accurately state that a particular Race performed better than the other as all of them have very similar total scores. But, group E performed significantly better in Math compared to the other groups.","5ed8f026":"**Questions to answer:**\n\n1. What is the impact of parental education background on total scores?\n2. What is the inference made from the correlation of gender and total scores?\n3. What is the inference made from the correlation of race\/ethnicity and total scores?\n4. What is the inference made from the correlation of lunch and total scores?\n5. What is the inference made from the correlation of test preperation and total scores?\n6. Is there a gender that scored averagely better on a particular area in the test?\n7. Is there an ethnicity that scored averagely better on a particular area in the test?","e8216fca":"**To confirm the above analysis, let's generalize all features.**","d8aa5ca2":"**I am very new with Data Analysis, so please bare with me. Any and every feedback is appreciated.**\n\nA few points to note:\n1. I need help to know which ML model is the best to select and use for such kind of a prediction.\n3. Please do state if there are better ways to plot certain correlations.","bbd5a1bb":"As we can see, the XGBoost ML model gave us a very close prediction to the actual values. The accuracy of the score is represented by the Mean Squared Error metric, which was 2.31 for us.","41ea7d11":"Insight 1: Female students performed better than Male students overall.","08658184":"The above DataFrame shows us the top half and bottom half in descending order with regard to percentage score. On average, students who completed the coursePrep, who ate standard lunches, who's parents held degrees, performed better on the test compared to other students."}}