{"cell_type":{"0f7aa32d":"code","603e901f":"code","eb7252d7":"code","16cc3e2d":"code","3cddf321":"code","8f09e177":"code","e517c4b8":"code","eb0fe217":"code","0e4f37f7":"code","c19fa0c1":"code","69c26206":"code","34825531":"code","0d85d1f1":"code","c40297fd":"code","3aa26b9f":"code","6be15f62":"markdown","78ea1d5d":"markdown","1450471f":"markdown","76fe43ad":"markdown","5bac3ce2":"markdown","939ea66a":"markdown","4d2d48b0":"markdown","ba5ca825":"markdown","eb70f6c5":"markdown"},"source":{"0f7aa32d":"# Pandas\nimport numpy as np\nimport pandas as pd\n# Plot\nimport seaborn as sns\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\n\nmpl.style.use('seaborn-whitegrid')\n%matplotlib inline","603e901f":"dataset_folder = '..\/input'\nplot_folder = '..\/plot'\n\ncourses = pd.read_csv('%s\/%s.csv' % (dataset_folder, 'courses'), sep='\\t', encoding='utf-8')\nplayers = pd.read_csv('%s\/%s.csv' % (dataset_folder, 'players'), sep='\\t', encoding='utf-8')","eb7252d7":"courses.head(3)","16cc3e2d":"# palette of colors\npalette = sns.color_palette('cubehelix', 4)\nsns.palplot(palette)","3cddf321":"# autopct pie plot - function\ndef func(pct, allvals):\n    absolute = float(pct\/100.*np.sum(allvals))\/1000.0\n    return \"{:.1f}%\\n({:.1f}k)\".format(pct, absolute)\n\n# plot\nfontsize = 14","8f09e177":"# values\nlabels = courses['difficulty'].unique().tolist()\nvalues = [sum(courses['difficulty'] == label) for label in labels]\nprint(list(zip(labels, values)))\nexplode = [0.03] * len(values)\n\n# plot\nfig, ax = plt.subplots()\nax.pie(values, autopct=lambda pct: func(pct, values), pctdistance=0.45,\n       colors=palette, explode=explode, labels=labels,\n       textprops={'fontsize':fontsize,'weight':'bold'})\ncentre_circle = plt.Circle((0,0),0.75,fc='white')\nfig = plt.gcf()\nfig.gca().add_artist(centre_circle)\n\n# figure\nax.axis('equal')\nplt.tight_layout()\n# plt.savefig('%s\/%s.pdf' % (plot_folder, 'difficulty'), dpi=300, bbox_inches='tight')\nplt.show()","e517c4b8":"# values\nlabels = courses['gameStyle'].unique().tolist()\nvalues = [sum(courses['gameStyle'] == label) for label in labels]\nprint(list(zip(labels, values)))\nexplode = [0.03] * len(values)\n\n# plot\nfig, ax = plt.subplots()\nax.pie(values, autopct=lambda pct: func(pct, values), pctdistance=0.45,\n       colors=palette, explode=explode, labels=labels,\n       textprops={'fontsize':fontsize,'weight':'bold'})\ncentre_circle = plt.Circle((0,0),0.75,fc='white')\nfig = plt.gcf()\nfig.gca().add_artist(centre_circle)\n\n# figure\nax.axis('equal')\nplt.tight_layout()\n# plt.savefig('%s\/%s.pdf' % (plot_folder, 'gameStyle'), dpi=300, bbox_inches='tight')\nplt.show()","eb0fe217":"makers = courses['maker'].value_counts().to_dict()\nprint('number of makers: %d' % (len(makers)))","0e4f37f7":"# values\ntop = 25\nlabels = list(makers.keys())[0:top]\nx_axis = range(len(labels))\ny_axis = list(makers.values())[0:top]\n\n# plot\nfig, ax = plt.subplots()\nplt.bar(x_axis, y_axis, align='center', color=palette[0])\nplt.xticks(x_axis, labels, rotation=90)\nplt.show()","c19fa0c1":"players = players.set_index('id')\nplayers.head()","69c26206":"# players\ndf = pd.DataFrame(makers, index=['courses']).transpose()\ndf = df.rename(columns={'index':'id'})","34825531":"df2 = pd.concat([df, players], sort=True, axis=1)\ndf2 = df2.dropna(subset=['courses']).sort_values(by=['courses'], ascending=False)\ndf2.head()","0d85d1f1":"countries = {flag:0 for flag in df2['flag'].unique().tolist()}","c40297fd":"for maker, row in df2.iterrows():\n    countries[row['flag']] += int(row['courses'])","3aa26b9f":"# values\nlabels = list(countries.keys())\nvalues = [countries[label] for label in labels]\nprint(countries)\nexplode = [0.03] * len(labels)\n\n# plot\nfig, ax = plt.subplots()\nax.pie(values, autopct=lambda pct: func(pct, values), pctdistance=0.45,\n       colors=palette, explode=explode, labels=labels,\n       textprops={'fontsize':fontsize,'weight':'bold'})\ncentre_circle = plt.Circle((0,0),0.75,fc='white')\nfig = plt.gcf()\nfig.gca().add_artist(centre_circle)\n\n# figure\nax.axis('equal')  \nplt.tight_layout()\n# plt.savefig('%s\/%s.pdf' % (plot_folder, 'countries'), dpi=300, bbox_inches='tight')\nplt.show()","6be15f62":"## Overview","78ea1d5d":"Counting number of courses by country","1450471f":"# Overview: Game Maps","76fe43ad":"### Difficulty","5bac3ce2":"### Makers - Players who develop maps","939ea66a":"### Courses by country","4d2d48b0":"Who produce more courses?  \nTop-25 makers (by number of courses)  ","ba5ca825":"### Game Style","eb70f6c5":"Read data"}}