{"cell_type":{"b7b9df6d":"code","e0617a5a":"code","cad70f9b":"code","9fb00b78":"code","16f2fe0d":"code","85e439c8":"code","078b13ae":"code","0f9be876":"code","f7979b0a":"code","8924567d":"code","d09fb3f3":"code","bf889461":"code","4e24fa5f":"code","3641b243":"code","0e0b3725":"code","d20f01ac":"code","80be0c95":"code","46ebcd26":"code","81cd40b4":"code","eeff1fd4":"code","dc5af313":"code","c2b77bf0":"code","87285f7b":"code","401d9fed":"code","12f341b6":"code","69e506c3":"code","acdb2b27":"code","12fb7487":"code","4dd62ed2":"code","71aeaf09":"code","f0841015":"code","2ffb8b06":"code","d8c46f3a":"code","a1a0382a":"code","e73bf9e7":"code","3d9550c7":"code","ea48bff5":"code","0456dfdc":"markdown","4deec088":"markdown","8b331ecf":"markdown","1bd978b1":"markdown","5e4c6bb2":"markdown","fc67a040":"markdown","9bb9b526":"markdown","c3475a63":"markdown","d6c082cb":"markdown","6e86f603":"markdown","c811a3c5":"markdown","3c7b8a7f":"markdown","777bd05e":"markdown","52ef2320":"markdown","2cd0f4af":"markdown","6eb2f71d":"markdown","dc80c7bd":"markdown","1da6507b":"markdown","131ef6ee":"markdown","6828c811":"markdown","40e303af":"markdown","d472b3cf":"markdown","3017a9fa":"markdown","43c7486d":"markdown","8fb583b2":"markdown","dfa345d4":"markdown","e5e4bb24":"markdown","4024ad95":"markdown","b37b55d2":"markdown","83965cb1":"markdown","f8537d8d":"markdown","d6a02bad":"markdown","f7af4c61":"markdown","f2b0d82b":"markdown","f54642da":"markdown","40ac1218":"markdown","91ab6b63":"markdown","b8131491":"markdown","c5ac20ec":"markdown","b4059b2b":"markdown","32145029":"markdown","f1e9a54a":"markdown","04cb2e04":"markdown","fdd83bbb":"markdown","7a63ebd4":"markdown","520d192a":"markdown","1306b909":"markdown","39d2da76":"markdown","39c88318":"markdown","11764e02":"markdown","ac0c269b":"markdown","a517ed48":"markdown","1fb3658b":"markdown","eacbfd3e":"markdown","c3861c65":"markdown","7f768c08":"markdown","f7773dc5":"markdown"},"source":{"b7b9df6d":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom matplotlib.mlab import PCA as mlabPCA\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.decomposition import PCA\nfrom sqlalchemy import create_engine\nimport warnings\nwarnings.filterwarnings('ignore')\n\nimport plotly.plotly as py #For World Map\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)","e0617a5a":"happiness=pd.read_csv(\"..\/input\/2017.csv\")\nhappiness.drop([\"Whisker.high\",\"Whisker.low\",\"Dystopia.Residual\"],axis=1,inplace=True)","cad70f9b":"happiness.head()","9fb00b78":"happiness.info()","16f2fe0d":"print(\"\\nHow much is percantage of missing data in columns ?\\n\")\nprint(happiness.isnull().sum()*100 \/happiness.shape[0])","85e439c8":"for sutun_adi in happiness.columns[2:]:\n    print(\"problematic values for {} column : \".format(sutun_adi),end=\"\")\n    count=0\n    for deger in happiness[sutun_adi]:\n        try:\n            float(deger)\n        except:\n            count +=1\n            print(deger)\n    if count==0:\n        print(\"No problematic values\",\"\\n\")\n","078b13ae":"plt.rcParams['figure.dpi'] = 100\nplt.rcParams['figure.figsize'] = (15,7)\n\nbaslik_font = {'family':'arial','color':'darkred','weight':'bold','size':13}\neksen_font = {'family':'arial','color':'darkblue','weight':'bold','size':10}\n\nsecili_kolonlar1 =happiness.columns[3:7]\nsecili_kolonlar2 =happiness.columns[6:]\nfor i in range(4):\n    plt.subplot(2,4,i+1)\n    plt.boxplot(happiness[secili_kolonlar1[i]])\n    plt.title(secili_kolonlar1[i],fontdict=baslik_font)\n\nfor i in range(4):\n    plt.subplot(2,4,i+4)\n    plt.boxplot(happiness[secili_kolonlar2[i]])\n    plt.title(secili_kolonlar2[i],fontdict=baslik_font)\n\nplt.show()","0f9be876":"from scipy.stats.mstats import winsorize\nhappiness[\"Winsorize_Family\"]=winsorize(happiness[\"Family\"],(0.028,0))\nhappiness[\"Winsorize_Generosity\"]=winsorize(happiness[\"Generosity\"],(0,0.014))\nhappiness[\"Winsorize_Trust_Government_Corruption\"]=winsorize(happiness[\"Trust..Government.Corruption.\"],(0,0.090))","f7979b0a":"plt.rcParams['figure.figsize'] = (12,5)\nbaslik_font = {'family':'arial','color':'darkred','weight':'bold','size':10}\n\nwinsorize_kolonlar=[\"Winsorize_Family\",\"Winsorize_Generosity\",\"Winsorize_Trust_Government_Corruption\"]\n\nfor i in range(3):\n    plt.subplot(1,3,i+1)\n    plt.boxplot(happiness[winsorize_kolonlar[i]])\n    plt.title(winsorize_kolonlar[i],fontdict=baslik_font)\n\nplt.show() ","8924567d":"plt.figure(figsize=(15,10))\n\nbaslik_font = {'family':'arial','color':'darkred','weight':'bold','size':12}\n\n\nsecili_kolonlar=[\"Family\",\"Generosity\",\"Trust..Government.Corruption.\"]\nwinsorize_kolonlar=[\"Winsorize_Family\",\"Winsorize_Generosity\",\"Winsorize_Trust_Government_Corruption\"]\n\nfor i in range(3):\n    plt.subplot(2,3,i+1)\n    plt.hist(happiness[secili_kolonlar[i]])\n    plt.title(secili_kolonlar[i],fontdict=baslik_font)\n    \nfor i in range(3):\n    plt.subplot(2,3,i+4)\n    plt.hist(happiness[winsorize_kolonlar[i]])\n    plt.title(winsorize_kolonlar[i],fontdict=baslik_font)\n    \nplt.show()   ","d09fb3f3":"\nwin_happiness=happiness[['Country', 'Region', 'Happiness.Rank', 'Happiness.Score',\n               'Economy..GDP.per.Capita.','Health..Life.Expectancy.',\n              'Freedom','Winsorize_Family', 'Winsorize_Generosity',\n              'Winsorize_Trust_Government_Corruption']]","bf889461":"win_happiness.describe()","4e24fa5f":"plt.figure(figsize=(13,5))\n\nbaslik_font = {'family':'arial','color':'darkred','weight':'bold','size':12}\n\nsecili_kolonlar1=win_happiness.columns[3:7]\n\n\nfor i in range(4):\n    plt.subplot(1,4,i+1)\n    plt.hist(win_happiness[secili_kolonlar1[i]])\n    plt.title(secili_kolonlar1[i],fontdict=baslik_font)\n    \nplt.show() ","3641b243":"plt.figure(figsize=(15,15))\nbaslik_font = {'family': 'arial', 'color': 'purple','weight': 'bold','size': 11 }\neksen_font  = {'family': 'arial', 'color': 'gray','weight': 'bold','size':10 }\n\n\ndegiskenler1=win_happiness.columns[4:7]\ndegiskenler2=win_happiness.columns[7:]\nbasliklar=[\"Happiness Score\",\"Economy\",\"Health\",\"Freedom\",\"Winsorize Family\",\n          \"Winsorize Generosity\",\"Winsorize Trust Government\"]\n\n\nfor i in range(3):\n    plt.subplot(3,2,i+1)\n    plt.scatter(win_happiness[\"Happiness.Score\"],win_happiness[degiskenler1[i]],color=\"g\")\n    plt.xlabel(basliklar[0],fontdict=eksen_font)\n    plt.ylabel(basliklar[i+1],fontdict=eksen_font)\n    plt.title(basliklar[0]+\" & \"+basliklar[i+1],fontdict=baslik_font)\n\nfor i in range(3):\n    plt.subplot(3,2,i+4)\n    plt.scatter(win_happiness[\"Happiness.Score\"],win_happiness[degiskenler2[i]],color=\"g\")\n    plt.xlabel(basliklar[0],fontdict=eksen_font)\n    plt.ylabel(basliklar[i+4],fontdict=eksen_font)\n    plt.title(basliklar[0]+\" & \"+basliklar[i+4],fontdict=baslik_font)\n\nplt.show()    ","0e0b3725":"plt.figure(figsize=(15,15))\nkorelasyon_happiness=win_happiness.corr()\nsns.heatmap(korelasyon_happiness,square=True,annot=True,linewidths=.5,vmin=0,vmax=1,cmap='viridis')\nplt.title(\"Happiness Correlation Matrix\",color=\"green\",fontsize=20)\n\nplt.show()","d20f01ac":"avarage_happiness=happiness.groupby(by=\"Region\").mean()[\"Happiness.Score\"].sort_values(ascending=False)\n\nplt.figure(figsize=(10,6))\nsns.barplot(x=avarage_happiness.index,y=avarage_happiness.values)\nplt.xticks(rotation=90)\nplt.xlabel(\"Regions\",color=\"purple\",fontsize=13)\nplt.ylabel(\"Avarage Happiness Score\",color=\"purple\",fontsize=13)\nplt.title(\"Happiness Score of Regions\",color=\"purple\",fontsize=17)\nplt.show()","80be0c95":"avarage_happiness=happiness.groupby(by=\"Region\").mean()[\"Happiness.Score\"].sort_values(ascending=False)\nregions=list(avarage_happiness.index)\nregions_economy=[]\nregions_health=[]\n\n\nfor region in regions:\n    x=win_happiness[win_happiness[\"Region\"]==region]\n    regions_health.append(sum(x[\"Health..Life.Expectancy.\"])\/len(x))\n    regions_economy.append(sum(x[\"Economy..GDP.per.Capita.\"])\/len(x))\n   \n    \nf,ax = plt.subplots(figsize=(8,5))\nsns.set_color_codes(\"pastel\")\nsns.barplot(x=regions_health,y=regions,color='purple',label=\"Health\")\nsns.barplot(x=regions_economy,y=regions,color='b',alpha=0.5,label=\"Economy\")\n\n\nax.legend(loc='lower right',frameon=True)\n#ax.set(xlabel='Ratio of Health and Economy',ylabel='Region',title=\"Economic Factors Affecting Happiness by Regions\")\nplt.xlabel(\"Ratio of Health and Economy\",color=\"hotpink\",fontsize=12)\nplt.ylabel(\"Region\",color=\"hotpink\",fontsize=12)\nplt.title(\"Economic Factors Affecting Happiness by Regions\",color=\"hotpink\",fontsize=14)\nplt.show()","46ebcd26":"avarage_happiness=happiness.groupby(by=\"Region\").mean()[\"Happiness.Score\"].sort_values(ascending=False)\nregions=list(avarage_happiness.index)\nregions_generosity=[]\nregions_family=[]\nregions_freedom=[]\nregions_trust_government=[]\n\n\nfor region in regions:\n    x=win_happiness[win_happiness[\"Region\"]==region]\n    regions_generosity.append(sum(x[\"Winsorize_Generosity\"])\/len(x))\n    regions_family.append(sum(x[\"Winsorize_Family\"])\/len(x))\n    regions_freedom.append(sum(x[\"Freedom\"])\/len(x))\n    regions_trust_government.append(sum(x[\"Winsorize_Trust_Government_Corruption\"])\/len(x))\n   \n    \n    \nf,ax = plt.subplots(figsize=(8,5))\nsns.set_color_codes(\"pastel\")\nsns.barplot(x=regions_generosity,y=regions,color='green',alpha=0.9,label=\"Generosity\")\nsns.barplot(x=regions_family,y=regions,color='pink',alpha=0.5,label=\"Family\")\nsns.barplot(x=regions_freedom,y=regions,color='y',alpha=0.5,label=\"Freedom\")\nsns.barplot(x=regions_trust_government,y=regions,color='blue',alpha=0.5,label=\"Trust Government\")\n\n\nax.legend(loc='lower right',frameon=True)\nplt.xlabel(\"Ratio of Factors Affecting Happiness\",color=\"mediumpurple\",fontsize=12)\nplt.ylabel(\"Region\",color=\"mediumpurple\",fontsize=12)\nplt.title(\"Social Factors Affecting Happiness by Regions\",color=\"mediumpurple\",fontsize=14)\nplt.show()\n","81cd40b4":"plt.figure(figsize = (5,2))\nx=[\"above_avarage\"if i>win_happiness[\"Happiness.Score\"].mean() else \"below_avarage\"\n                   for i in win_happiness[\"Happiness.Score\"]]\navarage_happiness=pd.DataFrame({\"case\":x})\nsns.countplot(avarage_happiness.case)\nplt.title(\"Numbers of above or below Avarage Happiness\",color=\"red\",fontsize=11)\nplt.show()","eeff1fd4":"win_happiness[\"avarage_case\"]=[\"above_avarage\"if i>win_happiness[\"Happiness.Score\"].mean() else \"below_avarage\"\n                   for i in win_happiness[\"Happiness.Score\"]]\ndata=win_happiness[[\"Country\",\"Region\",\"Happiness.Score\",\"avarage_case\"]]\nregions=(data.groupby(by=\"Region\").mean()[\"Happiness.Score\"].sort_values(ascending=False)).index\n\n\nx=pd.DataFrame()\n\nfor region in regions:\n    x=pd.concat([x,data[data[\"Region\"]==region]],axis=0)\n    \nx    ","dc5af313":"plt.figure(figsize=(25,10))                               \nsns.swarmplot(x=\"Region\",y=\"Happiness.Score\", hue=\"avarage_case\",data = x,size=10)\nplt.title(\"Avarage Happiness Case in Regions\",color=\"red\",fontsize=30)\nplt.xticks(rotation=90,fontsize=18)\nplt.yticks(fontsize=18)\nplt.legend(fontsize='xx-large')\nplt.xlabel(\"Regions\",color=\"red\",fontsize=25)\nplt.ylabel(\"Happiness Score\",color=\"red\",fontsize=25)\nplt.show()","c2b77bf0":"\n\nabove_happiness_avarage=win_happiness[win_happiness[\"avarage_case\"]==\"above_avarage\"]\nnew_index=(above_happiness_avarage[\"Happiness.Score\"].sort_values(ascending=False)).index.values\nsorted_above_happiness_avarage=above_happiness_avarage.reindex(new_index)\n\nplt.figure(figsize=(15,7))\nsns.barplot(x=sorted_above_happiness_avarage[\"Country\"],y=sorted_above_happiness_avarage[\"Happiness.Score\"])\nplt.xticks(rotation=90)\nplt.xlabel(\"Country\",color=\"green\",fontsize=15)\nplt.ylabel(\"Happiness Score\",color=\"green\",fontsize=15)\nplt.title(\"Country Having Above Avarage Happiness\",color=\"purple\",fontsize=20)\nplt.show()\n","87285f7b":"win_happiness[win_happiness[\"Country\"]==\"Turkey\"]","401d9fed":"\nnew_index=win_happiness.sort_values(by=[\"Happiness.Rank\"]).index.values\nsort_win_happiness=win_happiness.reindex(new_index )\nsort_win_happiness=sort_win_happiness.set_index(\"Happiness.Rank\")\nmost_happiness=sort_win_happiness.loc[:10,[\"Country\",\"Region\",\"Happiness.Score\",\"Economy..GDP.per.Capita.\",\"Health..Life.Expectancy.\",\n                                        \"Freedom\",\"Winsorize_Family\",\"Winsorize_Generosity\",\n                                        \"Winsorize_Trust_Government_Corruption\",'Winsorize_Dystopia_Residual']]\nmost_happiness\n","12f341b6":"plt.figure(figsize=(10,6))\nsns.barplot(most_happiness[\"Country\"],most_happiness[\"Economy..GDP.per.Capita.\"])\nsns.barplot(most_happiness[\"Country\"],most_happiness[\"Health..Life.Expectancy.\"])\n\nplt.xticks(rotation=90)\nplt.xlabel(\"Country\",color=\"purple\",fontsize=13)\nplt.ylabel(\"Economy\",color=\"purple\",fontsize=13)\nplt.title(\"Most Happy Countries Economy\",color=\"purple\",fontsize=17)\nplt.show()","69e506c3":"f,ax = plt.subplots(figsize=(13,7))\n\nsns.pointplot(x=most_happiness[\"Country\"],y=most_happiness[\"Health..Life.Expectancy.\"],color=\"purple\",alpha=0.9,label=\"Health\",)\nsns.pointplot(x=most_happiness[\"Country\"],y=most_happiness[\"Freedom\"],color=\"blue\",alpha=0.5,label=\"Freedom\")\nsns.pointplot(x=most_happiness[\"Country\"],y=most_happiness[\"Winsorize_Family\"],color=\"gold\",alpha=0.5,label=\"Family\")\nsns.pointplot(x=most_happiness[\"Country\"],y=most_happiness[\"Winsorize_Trust_Government_Corruption\"],alpha=0.5,color=\"red\",label=\"Trust Government\")\nsns.pointplot(x=most_happiness[\"Country\"],y=most_happiness[\"Winsorize_Generosity\"],color=\"grey\",alpha=0.5,label=\"Generosity\")\n\n\n\nplt.text(7.5,1.30,\"Family\",color=\"gold\",fontsize=14,style=\"italic\")\nplt.text(7.5,1.20,\"Health\",color=\"purple\",fontsize=14,style=\"italic\")\nplt.text(7.5,1.10,\"Freedom\",color=\"blue\",fontsize=14,style=\"italic\")\nplt.text(7.5,1.00,\"Generosity\",color=\"grey\",fontsize=14,style=\"italic\")\nplt.text(7.5,0.90,\"Trust Government\",color=\"red\",fontsize=14,style=\"italic\")\n\n\n\nplt.title(\"Most Happy Countrys Factors Affecting\",color=\"green\",fontsize=17)\nplt.xlabel(\"Country\",color=\"green\",fontsize=14)\nplt.ylabel(\"Factors Affecting Happiness\",color=\"green\",fontsize=14)\n\nplt.show()\n","acdb2b27":"\nnew_index=win_happiness.sort_values(by=[\"Happiness.Rank\"]).index.values\nsort_win_happiness=win_happiness.reindex(new_index )\nsort_win_happiness=sort_win_happiness.set_index(\"Happiness.Rank\")\nsort_win_happiness=sort_win_happiness[[\"Country\",\"Region\",\"Happiness.Score\",\"Economy..GDP.per.Capita.\",\"Health..Life.Expectancy.\",\n                                        \"Freedom\",\"Winsorize_Family\",\"Winsorize_Generosity\",\n                                        \"Winsorize_Trust_Government_Corruption\"]]\nmost_unhappiness=sort_win_happiness[-10:]\n\nmost_unhappiness\n","12fb7487":"plt.figure(figsize=(10,6))\nsns.barplot(most_unhappiness[\"Country\"],most_unhappiness[\"Economy..GDP.per.Capita.\"])\nplt.xticks(rotation=90)\nplt.xlabel(\"Country\",color=\"purple\",fontsize=13)\nplt.ylabel(\"Economy\",color=\"purple\",fontsize=13)\nplt.title(\"Most Unhappy Countries Economy\",color=\"purple\",fontsize=17)\nplt.show()","4dd62ed2":"f,ax = plt.subplots(figsize=(13,7))\n\nsns.pointplot(x=most_unhappiness[\"Country\"],y=most_unhappiness[\"Health..Life.Expectancy.\"],color=\"purple\",alpha=0.9,label=\"Health\",)\nsns.pointplot(x=most_unhappiness[\"Country\"],y=most_unhappiness[\"Freedom\"],color=\"blue\",alpha=0.5,label=\"Freedom\")\nsns.pointplot(x=most_unhappiness[\"Country\"],y=most_unhappiness[\"Winsorize_Family\"],color=\"gold\",alpha=0.5,label=\"Family\")\nsns.pointplot(x=most_unhappiness[\"Country\"],y=most_unhappiness[\"Winsorize_Trust_Government_Corruption\"],alpha=0.5,color=\"red\",label=\"Trust Government\")\nsns.pointplot(x=most_unhappiness[\"Country\"],y=most_unhappiness[\"Winsorize_Generosity\"],color=\"grey\",alpha=0.5,label=\"Generosity\")\n\n\nplt.text(0,0.70,\"Family\",color=\"gold\",fontsize=14,style=\"italic\")\nplt.text(0,0.65,\"Health\",color=\"purple\",fontsize=14,style=\"italic\")\nplt.text(0,0.60,\"Freedom\",color=\"blue\",fontsize=14,style=\"italic\")\nplt.text(0,0.55,\"Generosity\",color=\"grey\",fontsize=14,style=\"italic\")\nplt.text(0,0.50,\"Trust Government\",color=\"red\",fontsize=14,style=\"italic\")\n\n\n\nplt.title(\"Most Unhappy Countries Factors Affecting\",color=\"green\",fontsize=17)\nplt.xlabel(\"Country\",color=\"green\",fontsize=14)\nplt.ylabel(\"Factors Affecting Happiness\",color=\"green\",fontsize=14)\n\nplt.show()\n","71aeaf09":"happiness_factors=happiness[[\"Economy..GDP.per.Capita.\",\"Health..Life.Expectancy.\",\"Freedom\",\"Winsorize_Family\",\n                            \"Winsorize_Generosity\",\"Winsorize_Trust_Government_Corruption\"]]\n\nX = StandardScaler().fit_transform(happiness_factors)\nsklearn_pca = PCA (n_components=3)\nY_sklearn = sklearn_pca.fit_transform(X)\nprint(sklearn_pca.explained_variance_ratio_)\n\n","f0841015":"data = [dict(\n        type='choropleth',\n        colorscale = 'Portland',\n        locations = happiness['Country'],\n        z = happiness[\"Economy..GDP.per.Capita.\"],\n        locationmode = 'country names',\n        text = happiness['Country'],\n        colorbar = dict(\n        title = 'Economy', \n        titlefont=dict(size=15))\n)]\nlayout = dict(\n    title = 'How is Economy ?',\n    titlefont = dict(size=25),\n    geo = dict(\n        showframe = True,\n        showcoastlines = True,\n        projection = dict(type = 'equirectangular')\n        )\n)\nhappiness_map1= go.Figure(data = data, layout = layout)\niplot(happiness_map1, validate=False)","2ffb8b06":"data = [dict(\n        type='choropleth',\n        colorscale = 'Bluered',\n        locations = happiness['Country'],\n        z = happiness[\"Health..Life.Expectancy.\"],\n        locationmode = 'country names',\n        text = happiness['Country'],\n        colorbar = dict(\n        title = 'Health', \n        titlefont=dict(size=15))\n)]\nlayout = dict(\n    title = 'How is Health ?',\n    titlefont = dict(size=25),\n    geo = dict(\n        showframe = True,\n        showcoastlines = True,\n        projection = dict(type = 'equirectangular')\n        )\n)\nhappiness_map2= go.Figure(data = data, layout = layout)\niplot(happiness_map2, validate=False)","d8c46f3a":"data = [dict(\n        type='choropleth',\n        colorscale = 'Picnic',\n        locations = happiness['Country'],\n        z = happiness[\"Family\"],\n        locationmode = 'country names',\n        text = happiness['Country'],\n        colorbar = dict(\n        title = 'Family', \n        titlefont=dict(size=15))\n)]\nlayout = dict(\n    title = 'How about Family ?',\n    titlefont = dict(size=25),\n    geo = dict(\n        showframe = True,\n        showcoastlines = True,\n        projection = dict(type = 'equirectangular')\n        )\n)\nhappiness_map3 = go.Figure(data = data, layout = layout)\niplot(happiness_map3, validate=False)","a1a0382a":"data = [dict(\n        type='choropleth',\n        colorscale = 'Viridis',\n        locations = happiness['Country'],\n        z = happiness[\"Freedom\"],\n        locationmode = 'country names',\n        text = happiness['Country'],\n        colorbar = dict(\n        title = 'Freedom', \n        titlefont=dict(size=15))\n)]\nlayout = dict(\n    title = 'How about Freedom?',\n    titlefont = dict(size=25),\n    geo = dict(\n        showframe = True,\n        showcoastlines = True,\n        projection = dict(type = 'equirectangular')\n        )\n)\nhappiness_map5= go.Figure(data = data, layout = layout)\niplot(happiness_map5, validate=False)","e73bf9e7":"data = [dict(\n        type='choropleth',\n        colorscale = 'Earth',\n        locations = happiness['Country'],\n        z = happiness[\"Trust..Government.Corruption.\"],\n        locationmode = 'country names',\n        text = happiness['Country'],\n        colorbar = dict(\n        title = 'Trust Government', \n        titlefont=dict(size=15))\n)]\nlayout = dict(\n    title = 'How about Trust Government Corruption?',\n    titlefont = dict(size=25),\n    geo = dict(\n        showframe = True,\n        showcoastlines = True,\n        projection = dict(type = 'equirectangular')\n        )\n)\nhappiness_map4= go.Figure(data = data, layout = layout)\niplot(happiness_map4, validate=False)","3d9550c7":"data = [dict(\n        type='choropleth',\n        colorscale = 'jet',\n        locations = happiness['Country'],\n        z = happiness[\"Generosity\"],\n        locationmode = 'country names',\n        text = happiness['Country'],\n        colorbar = dict(\n        title = 'Generosity', \n        titlefont=dict(size=15))\n)]\nlayout = dict(\n    title = 'How about Generosity?',\n    titlefont = dict(size=25),\n    geo = dict(\n        showframe = True,\n        showcoastlines = True,\n        projection = dict(type = 'equirectangular')\n        )\n)\nhappiness_map5= go.Figure(data = data, layout = layout)\niplot(happiness_map5, validate=False)","ea48bff5":"\ndata = dict(type = 'choropleth',\n           colorscale = 'YlGnBu', \n           locations = happiness['Country'],\n           locationmode = 'country names',\n           z = happiness['Happiness.Score'], \n           text = happiness['Country'],\n           colorbar = {'title':'Happiness Score'})\nlayout = dict(title = 'Where is Happiness ?',\n              titlefont = dict(size=25),\n             geo = dict(showframe = True,\n                        showcoastlines = True,\n                       projection = {'type': 'natural earth'}))\nhappiness_map = go.Figure(data = [data], layout=layout)\niplot(happiness_map)","0456dfdc":"### Some statistically meaningful values about data","4deec088":"### Target variable is Happiness Score\n### Let's see relation between Happiness Score and Other Variables by scatter plot","8b331ecf":"### Bar Graph display of the most happy 10 countries's economy","1bd978b1":"    The main idea of principal component analysis (PCA) is to reduce the dimensionality of a data set consisting of \n    a large number of interrelated variables,but this three components corresponds about 0.81 of variance.it is not   bad ,but instead of this we prefer studying six variables due to the small number of variables.","5e4c6bb2":"### Countries in  happiness ranking by region","fc67a040":"### Now let's compare numbers of country having above or below Avarage Happiness","9bb9b526":"    Unfortunately numbers of country having above avarage happiness are less compared by the belows..","c3475a63":"### Let's get rid of the outliers by winsorization","d6c082cb":"    We see that if economic factors are over of the standart,the point determined  the happiness ranking is social factors but in the ranking the last regions the economic factors are rather vital than social factors.","6e86f603":"    \u0130n happiness rankings the top ten coutries also have high values in all six of the key variables used to explain  happiness ,on the other hand in the bottom ten countries the key values are substandard.Economic factors are a serious matter especially in bottom countries and  social factors  as  family ,freedom ,trust government and generosity are a major source of happiness in top countries.","c811a3c5":"### Correlation between Each Variable","3c7b8a7f":"    We see here that happiness score which is target variable has positive relationship with six variables.The strongest relationship is Economy,followed by Health,Winsorize Family,Freedom respectively and Winsorize  Generosity  and Winsorize Trust Government have weak positive relationship.","777bd05e":"    As we see there are outliers in three columns ;Family ,Generosity ,Trust Government Corruption.","52ef2320":"### Let's start by importing libraries","2cd0f4af":"    When this table is looked that economy  and health are essential variables to explain happiness..","6eb2f71d":"This study emphasizes the importance of social and economic factors affecting happiness.We have investigated how    six key variables contribute to explaining hapinesss score.From these variables GDP per capita,health life expectancy form economic factors and family,social freedom,trust government corruption and genorisity form social factors.Firstly we have looked effect of the key variables on the region,after numbers of countries having above or below avarage happiness in the region and last we have compared key variables differences between the top and bottom ten countries in happiness rankings.","dc80c7bd":"    Yess,we got rid of the outliers..","1da6507b":"## 8. Conclusion","131ef6ee":"\n\n## 1. Introduction","6828c811":"    As we see there is not missing data..","40e303af":"### Contents\n\n### 1. Introduction\n\n### 3. General View of the Data\n\n### 4. Data Cleaning\n\n### 5. Exploring the Data\n\n### 6.Feature Engineering\n\n### 7. Examination by World Map\n\n### 8.Conclusions \n","d472b3cf":"### Is there missing data ?","3017a9fa":"### Sorting country having above Avarage Happiness by bar graph decreasingly","43c7486d":"### Viewing Data","8fb583b2":"\n  * **Country** : Name of the country.\n  * **Region** : Region the country belongs to.\n  * **Happiness Rank** : Rank of the country based on the Happiness Score.\n  * **Happiness Score** : A metric measured in 2017 by asking the sampled people the question: \"How would you rate \n      your happiness on a scale of 0 to 10 where 10 is the happiest.\"\n  * **Economy (GDP per Capita)** : The extent to which GDP contributes to the calculation of the Happiness Score.\n  * **Family** : The extent to which Family contributes to the calculation of the Happiness Score\n  * **Health (Life Expectancy)** : The extent to which Life expectancy contributed to the calculation of the Happiness Score\n  * **Freedom**: The extent to which Freedom contributed to the calculation of the Happiness Score.\n  * **Trust (Government Corruption)** : The extent to which Perception of Corruption contributes to Happiness Score.\n  * **Generosity** : The extent to which Generosity contributed to the calculation of the Happiness Score.\n","dfa345d4":"## 2. General View of the Data","e5e4bb24":"### And last how abaout the outliers ?","4024ad95":"## __Explatory Data Analysis__","b37b55d2":"## 7. Examination by World Map","83965cb1":" In this study we have investigated where happiness is by The World Happiness Report 2017 which ranks countries by  their happiness levels, was released at the United Nations at an event  celebrating   International Day of Happiness  on March 20th.That is you will find answers to questions as which  regions are happier than others,what factors  affecting this situation and how much effective are.Also you will notice importance of the factors   clearly by  comparing standard of living inequality between the top and bottom ten countries in happiness rankings.","f8537d8d":"    As seen in Happiness Correlation Matrix,the strongest relationship with happiness score which is target variable is 0.82 Economi followed by 0.78 Health life expectancy,0.76 Winsorize Family,0.58 Freedom,0.46 Winsorize Trust Government and 0.18 Winsorize Generosity..","d6a02bad":"### Bar Graph display of the most unhappy 10 countries's economy","f7af4c61":"\n\n\n\n# __Where is Happiness ?__\n-----------------------------------------","f2b0d82b":"### And let's see numbers of country having above or below Avarage Happiness in each region","f54642da":"As looked ranking of happiness score by Regions,if economic factors are over of the standard,the point determined  the happiness ranking is social factors but in the ranking the last regions the economic factors are rather vital than social factors in that the economic factors are under of the standard.As gone to the end of the ranking by Happiness Score of Regions whereas number of country above avarage happiness is decreasing,number of country below avarage happiness is increasing.The top ten countries in happiness ranking are quite high on all six of factors affecting happiness,in the bottom ten countries the factors are under of the standart and quite unbalanced.","40ac1218":"### Let's look for factors affecting happiness by world map","91ab6b63":"     To be looked happiness score by regions Australia and New Zealand,North America and Western Europe take part   in   first three ranking and their values are close.","b8131491":"## 3. Data Cleaning","c5ac20ec":"    We see here that distribution of winsorized columns is nearer normal distribution than not winsorized.This shows us that winsorization works.","b4059b2b":"    This table has named Norway as the world\u2019s happiest country, followed by Denmark, Iceland, Switzerland and Finland and Turkey which is also my country where I have lived ranks fourth in the end unfortunately and information about Turkey is down.","32145029":"### Is there problematic values ?","f1e9a54a":"### Now let's compare histogram graphs for not winsorized or winsorized the columns","04cb2e04":"### Let's see the information of the most unhappy 10 country","fdd83bbb":"   As gone to the end of the ranking by Happiness Score of Regions ,Whereas number of country above avarage happiness is decreasing,number of country below avarage happiness is increasing In Western Europe numbers of country  above avarage are  more than belows,in  Sub-Saharan Africa is the exact opposite..","7a63ebd4":"### Point Graph display of the most happy countries other factors affecting","520d192a":"## 6. Feature Engineering","1306b909":" __Categorical Variables__\n \n * Country\n * Region\n * Happiness.Rank\n \n \n __Continuous Variables__\n \n * Happiness.Score                  \n * Economy..GDP.per.Capita.         \n * Family                         \n * Health..Life.Expectancy.         \n * Freedom                          \n * Generosity                       \n * Trust..Government.Corruption","39d2da76":"### Point Graph display of the most unhappy countries other factors affecting","39c88318":"    Ranking of happiness score by Regions and their values received acording to generosity,family,freedom and  trust goverment variables is showing the contribution of each factor to each region\u2019s happiness.","11764e02":"### Looking at the factors affecting happiness by Regions","ac0c269b":"In Australia and New Zealand  which is the first region in happiness ranking a merciless attack took place on  a mosque in the near past and instead of mentioning the merciless attack, what I want to higlight is significant reaction showed to the attack.Although the attack is not to faith of the\u0131r majority and islamophobia still exists  in the world,in Australia and New Zealand Everbody reacts from the prime minister to her people meaningfully about one and togetherness.This situation shows us clearly what source of true happiness is and where happiness is too.","a517ed48":"    This table can give information about distribution of variables partly.For example if any variable mean value is close %50 value,this says that the variable distribution can be near normal distribution.","1fb3658b":"### Principal Component Analysis","eacbfd3e":"### Other variables's histogram graphs ","c3861c65":"## 4. Exploring the Data ","7f768c08":"### Let's sort the Happiness Score of Regions decreasingly","f7773dc5":"### Let's see the information of the most happy 10 country"}}