{"cell_type":{"61649b00":"code","b75ee76d":"code","a645f985":"code","33e0a019":"code","3b2d01c8":"code","4a5ca82e":"code","e5733adb":"code","75981392":"code","2a26591d":"code","0701a444":"code","cd015b3b":"code","50758a5c":"code","d4f3f757":"code","917bb6c9":"code","f5c093e5":"code","86a109b7":"code","9d5b2427":"code","303a039d":"code","e8aabf24":"code","1c5bd539":"code","8d2f01a0":"code","bfc6ea96":"code","ff23f3b9":"code","6a269d26":"code","7e9300f2":"code","adbf5b49":"code","b431f12e":"code","907af9b4":"code","1e54aedd":"code","7575a775":"markdown","2d81ad0c":"markdown","969c8f4c":"markdown","9369a2d0":"markdown","8584d1a6":"markdown","44211057":"markdown","42772166":"markdown","f12a1612":"markdown","7c251b1c":"markdown","142c177c":"markdown","88d45af4":"markdown","b524f797":"markdown","461f7a69":"markdown","3f443d99":"markdown","7d9594ac":"markdown","82f29f69":"markdown","19d70292":"markdown","ce71da19":"markdown","eef2ca86":"markdown","1bf2c4b0":"markdown","d6584ef2":"markdown"},"source":{"61649b00":"import seaborn as sns\nimport pandas as pd\nimport numpy as np\nimport cufflinks as cf\nimport plotly.express as px\nimport matplotlib.pylab as plt\nfrom pandas.api.types import CategoricalDtype\nfrom plotly.offline import download_plotlyjs,init_notebook_mode,plot,iplot\ninit_notebook_mode(connected=True)\ncf.go_offline()\n%matplotlib inline\nsns.set_style(\"white\")","b75ee76d":"df=pd.read_csv(\"..\/input\/youtube-new\/USvideos.csv\")","a645f985":"df.head() ","33e0a019":"drop_cols=[\"description\",\"thumbnail_link\",\"tags\",\"video_id\"]\ndf=df.drop(columns=drop_cols,axis=1)","3b2d01c8":"df.head(3) ","4a5ca82e":"df.isna().sum() ","e5733adb":"# correc the type of tranding_date\ndf[\"trending_date\"]=pd.to_datetime(df[\"trending_date\"],format=\"%y.%d.%m\")\n# correct the type of published_time\ndf[\"publish_time\"]=pd.to_datetime(df[\"publish_time\"])","75981392":"df.dtypes ","2a26591d":"# make a dictionary of category id and name\ncat={\n    1:\"Film & Animation\",\n    2:\"Autos & Vehicles\",\n    10:\"Music\",\n    15:\"Pets & Animals\",\n    17:\"Sports\",\n    18:\"Short Movies\",\n    19:\"Travel & Events\",\n    20:\"Gaming\",\n    21:\"Videoblogging\",\n    22:\"People & Blogs\",\n    23:\"Comedy\",\n    24:\"Entertainment\",\n    25:\"News & Politics\",\n    26:\"Howto & Style\",\n    27:\"Education\",\n    28:\"Science & Technology\",\n    29:\"Nonprofits & Activism\",\n    30:\t\"Movies\",\n    31:\t\"Anime\/Animation\",\n    32:\t\"Action\/Adventure\",\n    33: \"Classics\",\n    34:\"Comedy\",\n    35:\t\"Documentary\",\n    36:\"Drama\",\n    37:\"Family\",\n    38:\"Foreign\",\n    39:\"Horror\",\n    40:\"Sci-Fi\/Fantasy\",\n    41:\"Thriller\",\n    42:\"Shorts\",\n    43:\"Shows\",\n    44: \"Trailers\"\n    \n}","0701a444":"df[\"category\"]=df[\"category_id\"].apply(lambda x: cat[x]) ","cd015b3b":"df[\"category\"].value_counts(dropna=False)","50758a5c":"px.box(df,x=\"views\")","d4f3f757":"px.box(df,x=\"likes\")","917bb6c9":"px.box(df,x=\"dislikes\")","f5c093e5":"px.box(df,x=\"comment_count\")","86a109b7":"\nplt.figure()\nsns.jointplot(data=df,x=\"likes\",y=\"views\",color=\"#3498DB\")\nplt.xlabel(\"likes\",fontsize=20)\nplt.ylabel(\"likes\",fontsize=20)","9d5b2427":"cols=[\"likes\",\"dislikes\",\"views\",\"comment_count\",\"category\"]\nplt.figure(figsize=(15,15))\nsns.pairplot(df[cols],diag_kind=\"kde\",hue=\"category\",palette=\"husl\")","303a039d":"plt.figure(figsize=(8,8))\npallete=sns.light_palette(color=\"blue\",as_cmap=True)\nsns.heatmap(df[cols].corr(),annot=True,cmap=pallete)","e8aabf24":"px.scatter(data_frame=df,x=\"likes\",y=\"views\",color=\"category\",trendline=\"ols\",trendline_scope=\"overall\")","1c5bd539":"cats=df[\"category\"].value_counts()\nfig=px.pie(names=cats.index,values=cats.values,title=\"Categories and number of thier trend videos\",\n      labels={\"names\":\"Category \",\"values\":\"Num of videos\"},\n    color_discrete_sequence=px.colors.sequential.Plotly3\n      )\nfig.update_layout(\n#title\n    title_font_size=20,title_x=.5,title_font_color=\"#fff\",\n    paper_bgcolor=\"#283747\",legend_bgcolor=\"#5D6D7E\",legend_font_color=\"#fff\", legend_title_text=\"Category\",\n    legend_title_font_size=15,legend_title_font_color=\"#154360\",font_color=\"#fff\"\n)","8d2f01a0":"channels=df.groupby(\"category\")[\"channel_title\"].value_counts(normalize=True).sort_values(ascending=False)\nchannels","bfc6ea96":"len(channels.loc[\"Entertainment\"])","ff23f3b9":"x=pd.Series( [channels.loc[i][0] for i in df[\"category\"].unique()],index=[ channels.loc[i].index[0] for i in df[\"category\"].unique()])","6a269d26":"X=pd.DataFrame()\nX[\"category\"]=df[\"category\"].unique()\nX[\"dominator_channel\"]=[channels.loc[i].index[0] for i in df[\"category\"].unique()]\nX[\"percentage\"]=[ channels.loc[i][0]  for i in df[\"category\"].unique()]\nX[\"percentage\"]=(X[\"percentage\"]*100).round(2)\nX[\"per_str\"]=\" %\" + X[\"percentage\"].astype(str) ","7e9300f2":"X","adbf5b49":"fig=px.bar(X,x=\"dominator_channel\",y=\"percentage\",color=\"category\",\n       title=\"The top channels in each category has number of trend videos\",\n       text=\"per_str\",\n       labels={\"dominator_channel\":\"Channel\",\"percentage\":\"Percent of it's videos\"},\n       hover_data={\"per_str\":False},\n#            color_discrete_sequence=px.colors.sequential.Plotly3\n      )\nfig.update_layout(\n#title\n    title_font_size=20,title_x=.5,title_font_color=\"#fff\",\n    paper_bgcolor=\"#283747\",legend_bgcolor=\"#5D6D7E\",legend_font_color=\"#fff\", legend_title_text=\"Category\",\n    legend_title_font_size=15,legend_title_font_color=\"#154360\",font_color=\"#fff\",plot_bgcolor=\"#34495E\",height=600,)\nfig.update_traces(textposition='outside',textfont_color=\"#FDFEFE  \",textfont_size=15)\n\nfig.show()","b431f12e":"df[\"interaction\"]=round((df[\"comment_count\"]\/ df[\"views\"])*100,2) ","907af9b4":"interaction=(df.groupby(\"category\")[\"interaction\"].mean().sort_values(ascending=False)*100).round(1).to_frame()\ninteraction[\"per_str\"]=interaction[\"interaction\"].astype(str) +\" %\"","1e54aedd":"fig=px.bar(interaction,x=interaction.index , y=interaction[\"interaction\"],\n       title=\"Categories with percent of Comments 'comments per views'\",\n       text=\"per_str\" ,\n       labels={\"x\":\"Category \",\"y\":\"Percent of comments\"},\n       hover_data={\"per_str\":False},\n           color_discrete_sequence=[\"#1B4F72\"]\n        \n      )\nfig.update_layout(\n#title\n    title_font_size=20,title_x=.5,title_font_color=\"#fff\",font_color=\"#fff\",plot_bgcolor=\"#34495E\",height=600,paper_bgcolor=\"#283747\",\n    \n)\nfig.update_traces(textposition='inside',textfont_color=\"#fff\",textfont_size=15)\n\nfig.show()","7575a775":"#### 4- add the category name to the data for understanding the category_id","2d81ad0c":"### for each category, is there a channel that dominate the filed? ","969c8f4c":"# nuemeric values analysis and show distribution","9369a2d0":"#### what that till us:\n- <span style=\"color:red;backgorund-color:#bbb\"> views & likes <\/span> have nearly strong <span style=\"color:red\"> positive relationship <\/span>\n-<span style=\"color:green;backgorund-color:#bbb\"> comments_Count & likes <\/span> have nearly strong <span style=\"color:green\"> positive relationship <\/span>\n-<span style=\"color:blue;backgorund-color:#bbb\"> Comments_Count & dislikes <\/span> have nearly strong <span style=\"color:blue\"> positive relationship <\/span>\n","8584d1a6":"- so there is no null values, awesome \ud83d\ude00","44211057":"# Working with US data\n\n#### import the data \ud83e\uddfe\n\n#### clean the data \ud83d\udee0\n\n#### show distribution and relations \ud83d\udcc8\n\n#### some EDA analysis \ud83d\udcca","42772166":"### 1- what is the category that dominate the trend videos","f12a1612":"- trying to show the relation between likes and views","7c251b1c":"#### 2- searching for null values and treat them","142c177c":"#### 1- remove columns with no need","88d45af4":"# start the asking questions and answer them","b524f797":"## clean data\n- remove columns i don'nt need\n- searching for null values and treat them\n- change the dtype to the one that can be treated with\n- add the category name to the data","461f7a69":"#### lets see if the category affect the relation","3f443d99":"#### 1-show distribution","7d9594ac":"#### if you have any question to answer..... i wil try it.\n#### thanks","82f29f69":"### what is the category that has the highest interacation ?","19d70292":"- defining interacation may be number of comments per number of views","ce71da19":"#### 3- change the dtype to the one that can be treated with","eef2ca86":"##### it worked just fine.\ud83e\udd73","1bf2c4b0":"- making a function that return the name of the category_id","d6584ef2":"- show all the relations"}}