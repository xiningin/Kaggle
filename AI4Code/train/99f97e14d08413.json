{"cell_type":{"c60af72a":"code","5689825d":"code","716473de":"code","cad30b5d":"code","81a2cdda":"code","b9f450a7":"code","21b03adb":"code","409fd49b":"code","d352b5e8":"code","11c288fa":"markdown","fb37e3ea":"markdown","246fd1de":"markdown","1c9b54ac":"markdown","08877e1e":"markdown","5e4c44be":"markdown","e75cc11e":"markdown","101b5c0a":"markdown","62acfbea":"markdown"},"source":{"c60af72a":"!pip3 install sacrebleu\nimport sacrebleu","5689825d":"dev_en_csv = '\/kaggle\/input\/shopee-product-title-translation-open\/dev_en.csv'\ndev_tcn_csv = '\/kaggle\/input\/shopee-product-title-translation-open\/dev_tcn.csv'\ndf = pd.concat([pd.read_csv(dev_tcn_csv), pd.read_csv(dev_en_csv)], axis=1).drop('split', axis=1)\ndf.head()","716473de":"refs = [df['text'], df['translation_output']]\nsys = df['translation_output']\nbleu = sacrebleu.corpus_bleu(sys, refs, lowercase=True)\nprint(bleu.score)","cad30b5d":"refs = [[df.iloc[0]['text']], [df.iloc[0]['translation_output']]]\nsys = ['Oppo A75 A75S A73 Case Phone Soft Rabbit Silicone Case']\nprint(f'refs: {refs}')\nprint(f'sys: {sys}')\nbleu = sacrebleu.corpus_bleu(sys, refs, lowercase=True)\nprint(bleu.score)","81a2cdda":"refs = [[df.iloc[0]['text']], [df.iloc[0]['translation_output']]]\nsys = ['Oppo A75 A75S A73 Phone Case Soft Rabbit Silicone Case AddWord']\nprint(f'refs: {refs}')\nprint(f'sys: {sys}')\nbleu = sacrebleu.corpus_bleu(sys, refs, lowercase=True)\nprint(bleu.score)","b9f450a7":"refs = [[df.iloc[0]['text']], [df.iloc[0]['translation_output']]]\nsys = ['Oppo A75 A75S A73 Phone Phone Case Soft Rabbit Silicone Case AddWord']\nprint(f'refs: {refs}')\nprint(f'sys: {sys}')\nbleu = sacrebleu.corpus_bleu(sys, refs, lowercase=True)\nprint(bleu.score)","21b03adb":"refs = [[df.iloc[0]['text']], [df.iloc[0]['translation_output']]]\nsys = ['Oppo A75 A75S A73 phone Case Soft Rabbit Silicone Case']\nprint(f'refs: {refs}')\nprint(f'sys: {sys}')\nbleu = sacrebleu.corpus_bleu(sys, refs, lowercase=True)\nprint(bleu.score)","409fd49b":"refs = [[df.iloc[0]['text']], [df.iloc[0]['translation_output']]]\nsys = ['Oppo A75 A75S A73 Case Soft Rabbit Silicone Case']\nprint(f'refs: {refs}')\nprint(f'sys: {sys}')\nbleu = sacrebleu.corpus_bleu(sys, refs, lowercase=True)\nprint(bleu.score)","d352b5e8":"refs = [[df.iloc[0]['text']], [df.iloc[0]['translation_output']]]\nsys = ['A75 A75S A73 Phone Case Soft Rabbit Silicone']\nprint(f'refs: {refs}')\nprint(f'sys: {sys}')\nbleu = sacrebleu.corpus_bleu(sys, refs, lowercase=True)\nprint(bleu.score)","11c288fa":"### Investigate effect of Capitalization of word\nPlease note that we change upper case of \"Phone\" to \"phone\"","fb37e3ea":"# Note\nFrom the competition data page:\n* train_tcn.csv and train_en.csv are not parallel data\n* dev_tcn.csv and dev_en.csv are parallel data which you can check your model's sacrebleu score with __lowercase__ parameter (https:\/\/github.com\/mjpost\/sacrebleu).\n\nThis notebook will investigate the effects of various text effects on scarebleu scoring.  \n\n<br> FunFact: https:\/\/en.wikipedia.org\/wiki\/Sacrebleu#:~:text=Sacrebleu%20or%20sacre%20bleu%20is,Lord%20thy%20God%20in%20vain.%22","246fd1de":"### Investigate effect of repeated word in the middle of the sentence\nPlease note that we sandwiched additional \"Phone\" in the middle of \"Phone\" and \"Case\"","1c9b54ac":"### Investigate effect of additional word at the end\nPlease note that we added \"AddWord\" at the end of the sentence","08877e1e":"### Use sacreblue and demonstrate 100% match","5e4c44be":"### Investigate effect of word removal from both ends\nPlease note that we removed the first word \"Oppo\" and last word \"Case\" from the sentence","e75cc11e":"### Read Dev Data","101b5c0a":"### Investigate effect of word order\nPlease note that we swapped the order of \"Phone Case\" to \"Case Phone\" in this example below","62acfbea":"### Investigate effect of missing unique word\nPlease note that we removed \"Phone\" from the sentence"}}