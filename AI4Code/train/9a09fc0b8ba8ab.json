{"cell_type":{"316e362b":"code","442f8896":"code","4b2ef807":"code","4a755760":"code","7244d4cd":"code","7d989412":"code","09cd4c8e":"code","a1736bff":"code","05d5384a":"code","04c16250":"code","aa68b0aa":"code","f7da7ecb":"code","49d585fe":"code","244bfcc5":"code","3c6f2dd7":"code","3a899d38":"code","fa701110":"code","6694fa39":"code","ea5e015d":"code","8c23aed4":"code","410f44e9":"code","cd1103ca":"code","1f63d003":"code","295d2a3a":"markdown","5c54d184":"markdown","8ab28128":"markdown","d28db198":"markdown","681371fe":"markdown","56082200":"markdown","ff633663":"markdown","7af0f28f":"markdown","51000c9f":"markdown","07b1c032":"markdown","d8574c38":"markdown","6564cabd":"markdown","7ee35bcb":"markdown","4fab4f8c":"markdown","51d18e1f":"markdown","2530c30d":"markdown","00946083":"markdown","1c025223":"markdown","abb92ca2":"markdown","854ff122":"markdown","be2f4336":"markdown","8e9be6eb":"markdown","04fed333":"markdown"},"source":{"316e362b":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\nimport plotly.express as px","442f8896":"data = pd.read_csv('..\/input\/craigslist-carstrucks-data\/vehicles.csv')\ndata['year'] = data['year'].astype(float)","4b2ef807":"#dropping unnecessary columns\ndata.drop(['url','region_url','image_url','description','county'], axis=1, inplace=True)","4a755760":"sns.kdeplot(data=data['price'],label=\"Price\" ,shade=True)","7244d4cd":"price = data.groupby('manufacturer')['price'].max().reset_index()\nprice  = price.sort_values(\"price\")\nprice = price.tail(10)\nfig = px.pie(price,\n             values=\"price\",\n             names=\"manufacturer\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()","7d989412":"price = data.groupby('manufacturer')['price'].min().reset_index()\nprice  = price.sort_values(\"price\")\nprice = price[price['price']!=0] #this is necessary so that zero price values are not considered\nprice = price.head(10)\nfig = px.pie(price,\n             values=\"price\",\n             names=\"manufacturer\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()","09cd4c8e":"price = data.groupby('condition')['price'].max().reset_index()\nprice  = price.sort_values(\"price\")\nprice = price.tail(10)\nfig = px.pie(price,\n             values=\"price\",\n             names=\"condition\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()","a1736bff":"sns.kdeplot(data=data['odometer'], label=\"Distance\", shade=True)","05d5384a":"price = data.groupby('fuel')['price'].max().reset_index()\nprice  = price.sort_values(\"price\")\nprice = price.tail()\nfig = px.pie(price,\n             values=\"price\",\n             names=\"fuel\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()","04c16250":"color = data.loc[:,['paint_color']]\ncolor['count'] = color.groupby(color['paint_color'])['paint_color'].transform('count')\ncolor = color.drop_duplicates()\ncolor = color.sort_values(\"count\",ascending = False)\ncolor = color.head(10)\nfig = px.pie(color,\n             values=\"count\",\n             names=\"paint_color\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()","aa68b0aa":"data.drop(['id','vin'], axis=1, inplace=True)","f7da7ecb":"cyl = data.loc[:,['cylinders']]\ncyl['count'] = cyl.groupby(cyl['cylinders'])['cylinders'].transform('count')\ncyl = cyl.drop_duplicates()\ncyl = cyl.sort_values(\"count\",ascending = False)\ncyl = cyl.head(10)\nfig = px.pie(cyl,\n             values=\"count\",\n             names=\"cylinders\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()","49d585fe":"title = data.loc[:,['title_status']]\ntitle['count'] = title.groupby(title['title_status'])['title_status'].transform('count')\ntitle = title.drop_duplicates()\ntitle = title.sort_values(\"count\",ascending = False)\ntitle = title.head(10)\nfig = px.pie(title,\n             values=\"count\",\n             names=\"title_status\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()","244bfcc5":"sns.scatterplot(data['price'], data['odometer'])","3c6f2dd7":"perc = data.loc[:,[\"year\",\"manufacturer\",'price']]\nperc['mean_price'] = perc.groupby([perc.manufacturer,perc.year])['price'].transform('mean')\nperc.drop('price', axis=1, inplace=True)\nperc = perc.drop_duplicates()\nperc = perc[perc['year'].astype('float')>=2000.0]\nperc = perc.sort_values(\"year\",ascending = False)\ntop_brand = ['toyota','ford','lexus','hyundai',\"honda\"] \nperc = perc.loc[perc['manufacturer'].isin(top_brand)]\nperc = perc.sort_values(\"year\")\nperc = perc.fillna(100)\nfig=px.bar(perc,x='manufacturer', y=\"mean_price\", animation_frame=\"year\", \n           animation_group=\"manufacturer\", color=\"manufacturer\", hover_name=\"manufacturer\")\nfig.show()","3a899d38":"trans = data.loc[:,['price','transmission']]\ntrans = trans.groupby('transmission')['price'].max().reset_index()\ntrans  = trans.sort_values(\"price\")\nfig = px.pie(trans,\n             values=\"price\",\n             names=\"transmission\",\n             template=\"seaborn\")\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()","fa701110":"top_regions = data['region'].value_counts().head().reset_index()\nsns.barplot(top_regions['index'], top_regions['region'])","6694fa39":"model = data.loc[:,['price','manufacturer','model']]\nmodel = model.groupby(['manufacturer','model'])['price'].max().reset_index()\nmodel = model.sort_values('price')\nmodel = model.tail(10)\nfig = px.pie(model, values='price', names='model', template='seaborn')\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()","ea5e015d":"model = data.loc[:,['price','manufacturer','model']]\nmodel = model.groupby(['manufacturer','model'])['price'].min().reset_index()\nmodel = model.sort_values('price')\nmodel = model[model['price']!=0]\nmodel = model.head(10)\nfig = px.pie(model, values='price', names='model', template='seaborn')\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()","8c23aed4":"drives = ['4wd','fwd','rwd']\n\nfor drive in drives:\n    drive_df = data.loc[data['drive']==drive, ['year','drive']]\n    drive_df = drive_df[drive_df['year']>=2010]\n    drive_df['counts'] = drive_df.groupby('year')['drive'].transform('count')\n    drive_df = drive_df.sort_values('year')\n    sns.lineplot(x='year', y='counts', data=drive_df, label=drive)","410f44e9":"types = data.loc[:,['price','type']]\ntypes = types.groupby('type')['price'].max().reset_index()\ntypes = types.sort_values('price')\ntypes = types.tail(10)\nfig = px.pie(types, values='price', names='type', template='seaborn')\nfig.update_traces(rotation=90, pull=0.05, textinfo=\"percent+label\")\nfig.show()","cd1103ca":"top_states = data['state'].value_counts().head().reset_index()\nsns.barplot(top_states['index'], top_states['state'])","1f63d003":"import warnings\nwarnings.filterwarnings('ignore')\nimport folium\n\nm = folium.Map(location=[35.7636, -78.7443])\n\ndata_map = data.loc[:,['region','lat','long']]\ndata_map = data_map.dropna().reset_index(drop=True)\nnew_map = data_map.groupby('region')['lat','long'].mean().reset_index()\nfor i in range(new_map.shape[0]):\n    folium.Marker([new_map.loc[i]['lat'], new_map.loc[i]['long']], tooltip=new_map.loc[i]['region']).add_to(m)\nm","295d2a3a":"# Which transmission is most priced? -----> automatic","5c54d184":"# Showing the trend of drive type per year","8ab28128":"# Which paint color is popular?------> White","d28db198":"# Which state are most cars scraped?--------> California","681371fe":"# Which model is cheapest?-------> Many models with similar values","56082200":"Was pretty much bored doing the same pie charts so went with the old bar charts this time.","ff633663":"# Which type of car is most expensive?------> pickup","7af0f28f":"But before checking the odometer distribution it's absolutely necessary to know what does the column signify. I didn't know that.\n\nSo I did a quick google search and came up with the conclusion that:\n\nOdometer is the device that measures how much distance a car has travelled from the day it was made. \nSo the column contains the distance travelled by a car before being scraped.\n\nNow lets see the distribution.","51000c9f":"# Top 5 brands cars per year","07b1c032":"# Which model is most expensive?--------> tundra limited","d8574c38":"## I will end my analysis here. Do leave an upvote if you like it.","6564cabd":"# Which brand cars are most expensive? ----> Toyota","7ee35bcb":"# What is the most common cylinder count? ------> 6 cylinders","4fab4f8c":"# Distribution of the odometer","51d18e1f":"# Which fuel type cars are most expensive?------> gas","2530c30d":"# What is the % of cars which have title_status clean?-----> 95.7%","00946083":"# Which % of expensive cars are in excellent condition?-----> 51.8%","1c025223":"Let's drop some more columns which I find not important.\n\n1. id (unique for each row in dataset)\n2. vin (unique id for each car)","abb92ca2":"# Which region is most cars scraped?-----> Fayetteville","854ff122":"Before moving on to the answer of this question lets first understand what transmission of a car means.\n\nA quick google search gave this result:\n\nA transmission is another name for a car's gearbox, the component that turns the engine's power into something the car can use. Simply, without it, you'd sit in your car with the engine running, going nowhere.","be2f4336":"# Relation of miles travelled with price","8e9be6eb":"# Which brand cars are cheapest?-----> Land Rover (other than the zero values)","04fed333":"# How price is distributed?"}}