{"cell_type":{"701746d1":"code","ccf012c7":"code","ca043c2e":"code","d993b705":"code","5a01e87c":"code","ce0e08ab":"code","8d13b61a":"code","92696786":"code","cdfe5c7c":"code","8e9b2ad6":"code","ad4e96c5":"code","a2e7eaeb":"code","3612eb82":"code","f94b8007":"code","c4381fe2":"code","407faa54":"code","ee7936ad":"code","079c12d8":"code","1e828f77":"markdown","fd2b0934":"markdown","47f39793":"markdown","09cb84e4":"markdown","6279f844":"markdown","b918132c":"markdown","2c00bb8e":"markdown","6ef3ce6e":"markdown","07e459e2":"markdown","317389f6":"markdown","f3d3defc":"markdown","c617df8a":"markdown","feeca08c":"markdown","b95d7c85":"markdown"},"source":{"701746d1":"# \ud0c0\uc774\ud0c0\ub2c9 \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc635\ub2c8\ub2e4.\nimport pandas as pd\ngender_submission = pd.read_csv(\"..\/input\/titanic\/gender_submission.csv\")\ntest = pd.read_csv(\"..\/input\/titanic\/test.csv\")\ntrain = pd.read_csv(\"..\/input\/titanic\/train.csv\")","ccf012c7":"# \ud544\uc694\ud55c \ubaa8\ub4c8\uc744 \ubd88\ub7ec\uc635\ub2c8\ub2e4.\nimport numpy as np                                # \ud30c\uc774\uc36c \uc120\ud615\ub300\uc218 \ub77c\uc774\ube0c\ub7ec\ub9ac\nfrom scipy.stats import chi2                      # \uce74\uc774 \uc81c\uacf1 \ubd84\ud3ec \ud074\ub798\uc2a4\nfrom scipy.stats import chisquare                 # \uce74\uc774 \uc81c\uacf1 \uac80\uc815 \ud568\uc218\nfrom scipy.stats.contingency import expected_freq # \uae30\ub300\ub3c4\uc218 \uad6c\ud574\uc8fc\ub294 \ud568\uc218\nimport matplotlib.pyplot as plt                   # \ub370\uc774\ud130 \uc2dc\uac01\ud654 \ub77c\uc774\ube0c\ub7ec\ub9ac","ca043c2e":"# \ud0c0\uc774\ud0c0\ub2c9 \ub370\uc774\ud130\uc14b\uc5d0\uc11c \ubb34\uc791\uc704\ub85c 5\uac1c\uc758 \ub370\uc774\ud130\ub97c \uac00\uc838\uc640\uc11c \ud655\uc778\ud569\ub2c8\ub2e4.\n# -->> \ub370\uc774\ud130\uc758 \uc9c1\uad00\uc801\uc778 \uc774\ud574\ntrain.sample(10)","d993b705":"# \uad00\uce21\uce58\ub97c \ud655\uc778\ud569\ub2c8\ub2e4.\nROW = 'Survived'\nCOL = 'Pclass'\ncrosstab = pd.crosstab(train[ROW], train[COL], margins=True)\ncrosstab","5a01e87c":"observation = np.array([\n    [80, 97, 372],\n    [136, 87, 119]\n])\nobservation","ce0e08ab":"expectation = np.array([\n    [216 * 549 \/ 891, 184 * 549 \/ 891, 491 * 549 \/ 891],\n    [216 * 342 \/ 891, 184 * 342 \/ 891, 491 * 342 \/ 891]\n])\nexpectation","8d13b61a":"row_sum = crosstab.iloc[:-1, -1].values # Vector\ncol_sum = crosstab.iloc[-1, :-1].values # Vector\ntotal_sum = crosstab.iloc[-1, -1]       # Scalar\nexpectation = row_sum.reshape(-1, 1) * col_sum.reshape(1, -1) \/ total_sum\nexpectation","92696786":"# a.\ud3b8\ucc28(\uad00\uce21\uac12 - \uae30\ub300\uac12)\ub97c \uad6c\ud569\ub2c8\ub2e4.\ndifference = np.subtract(observation, expectation)\ndifference","cdfe5c7c":"# b.\ud3b8\ucc28\uc758 \uc81c\uacf1\uc744 \uad6c\ud569\ub2c8\ub2e4.\ndiff_squared = np.power(difference,2)\ndiff_squared","8e9b2ad6":"# c.\ud3b8\ucc28 \uc81c\uacf1\uc5d0 \uae30\ub300\uac12\uc744 \ub098\ub215\ub2c8\ub2e4.\ndiff_sq_over_exp = np.divide(diff_squared, expectation)\ndiff_sq_over_exp","ad4e96c5":"# d.\ucd1d \ud569\uc744 \uad6c\ud569\ub2c8\ub2e4,\nchi_squared = np.sum(diff_sq_over_exp)\nchi_squared","a2e7eaeb":"df = 5","3612eb82":"# \uce74\uc774 \uc81c\uacf1 \ubd84\ud3ec\uc758 \ud655\ub960 \ubc00\ub3c4 \ud568\uc218 \uc2dc\uac01\ud654\nplt.plot(chi2(df).pdf(np.arange(0, 30)))\nplt.show()","f94b8007":"# \uce74\uc774 \uc81c\uacf1 \ubd84\ud3ec\uc758 \ub204\uc801 \ubd84\ud3ec \ud568\uc218 \uc2dc\uac01\ud654\nplt.plot(chi2(df).cdf(np.arange(0, 30)))\nplt.show()","c4381fe2":"# p_value = 1 - chi2(df).cdf(chi_squared)\np_value = chi2(df).sf(chi_squared)\np_value","407faa54":"observation = [\n    [80, 97, 372],\n    [136, 87, 119]\n]\nobservation","ee7936ad":"expectation = expected_freq(observation)\nexpectation","079c12d8":"chi_squared, p_value = chisquare(observation, expectation, axis=None)\nprint(\"\uce74\uc774\uc81c\uacf1\uc740\", chi_squared)\nprint(\"p value\ub294\", p_value)","1e828f77":"### 4.\uac80\uc815\ud1b5\uacc4(An easy way...)","fd2b0934":"### 2.\uac00\uc124\uc758 \uc124\uc815: \"\ud0d1\uc2b9\uac1d\uc758 \uc0dd\uc874 \uc5ec\ubd80\ub294 \uc88c\uc11d \ub4f1\uae09\uacfc \uad00\uacc4\uac00 \uc788\ub2e4.\"\n\uadc0\ubb34\uac00\uc124(Null Hypothesis) =>  \ud0d1\uc2b9\uac1d\uc758 \uc0dd\uc874 \uc5ec\ubd80\ub294 \uc88c\uc11d \ub4f1\uae09\uacfc \uad00\uacc4 \uc788\ub2e4 \ud560 \uc218 \uc5c6\ub2e4.","47f39793":"(3) \uce74\uc774 \uc81c\uacf1 \ubc0f p value\ub97c \uad6c\ud574\uc8fc\ub294 \ud568\uc218\ub97c \uc0ac\uc6a9\ud574\uc11c \uad6c\ud569\ub2c8\ub2e4.","09cb84e4":"### 3.\uac80\uc815\ud1b5\uacc4(Handmade Version)","6279f844":"*\uc774 \ub178\ud2b8\ubd81\uc740 \uc2e0\ucda9\ud638\uc758, \uc2e0\ucda9\ud638\uc5d0 \uc758\ud55c, \uc2e0\ucda9\ud638\ub97c \uc704\ud55c \uac80\uc815 \ud1b5\uacc4 \uc608\uc81c \uc785\ub2c8\ub2e4.*","b918132c":"(5) p value\ub97c \uad6c\ud569\ub2c8\ub2e4.","2c00bb8e":"(4) \uc790\uc720\ub3c4\ub97c \uad6c\ud569\ub2c8\ub2e4.<br>\ndegree of freedom = K - 1","6ef3ce6e":"\uc544\ub798\ub294 \ud589\ub82c\uacf1\uc744 \ud1b5\ud574\uc11c \uae30\ub300\ub3c4\uc218\ub97c \uad6c\ud558\ub294 \uc608\uc2dc\uc785\ub2c8\ub2e4.","07e459e2":"(2) \uae30\ub300\ub3c4\uc218\ub97c \uc791\uc131\ud569\ub2c8\ub2e4.<br><br>\n$\nE_{ij} = \\frac{T_i * T_j}{N}\\\\\n\\text{Eij = i\ud589, j\uc5f4\uc758 \uae30\ub300\ub3c4\uc218}\\\\\n\\text{Ti = i\ubc88\uc9f8 \ud589\uc758 \ud569}\\\\\n\\text{Tj = j\ubc88\uc9f8 \uc5f4\uc758 \ud569}\\\\\n\\text{N = \ud14c\uc774\ube14\uc758 \uc804\uccb4 \ud569}\\\\\n$<br><br>\n\ud589\ub82c\uacf1\uc73c\ub85c \uad6c\ud560 \uc218\ub3c4 \uc788\uc9c0\ub9cc \uba3c\uc800 \ub2e8\uc704 \uc6d0\uc18c\ubcc4\ub85c \ud558\ub098\uc529 \uc0b0\uc220\uc801\uc73c\ub85c \uad6c\ud574\ubd05\ub2c8\ub2e4.","317389f6":"(3) \uce74\uc774 \uc81c\uacf1\uc744 \uad6c\ud569\ub2c8\ub2e4.<br><br>\n\n$\n\\chi^2_c = \\sum \\frac{(O_i - E_i)^2}{E_i} \\\\\n\\textbf{where:}\\\\\n\\text{c = \uc790\uc720\ub3c4}\\\\\n\\text{O = \uad00\uce21\uac12}\\\\\n\\text{E = \uae30\ub300\uac12}\\\\\n$","f3d3defc":"### 1.\uae30\ucd08\uc791\uc5c5: \ub370\uc774\ud130\uc640 \ubaa8\ub4c8\uc744 \ubd88\ub7ec\uc635\ub2c8\ub2e4.","c617df8a":"(1) \uad00\uce21\uce58\ub97c \uc791\uc131\ud569\ub2c8\ub2e4.","feeca08c":"(1) \uad00\uce21\uce58\ub97c \uad6c\ud569\ub2c8\ub2e4.","b95d7c85":"(2) \uae30\ub300\ub3c4\uc218 \uad6c\ud574\uc8fc\ub294 \ud568\uc218\ub97c \uc0ac\uc6a9\ud574\uc11c \uae30\ub300\uac12\uc744 \uad6c\ud569\ub2c8\ub2e4."}}