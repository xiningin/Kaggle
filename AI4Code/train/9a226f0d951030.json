{"cell_type":{"3e0b8852":"code","b3fae4cd":"code","3db4a64c":"code","d56bd4f9":"code","3f3ef950":"code","84bad118":"code","08cf2053":"code","b343bfd4":"code","7ced1f49":"code","b316ea24":"code","df5141cb":"code","b18f9c30":"code","f947b7c3":"code","cd7b17b2":"code","4fcd0ff6":"code","912f95a9":"code","fc0b7ecf":"code","7f9577c6":"code","b4267ad4":"code","18a176f9":"code","efe9a418":"code","c918f770":"code","c8e3426a":"markdown","81f8ef90":"markdown","02a1b706":"markdown","791a7983":"markdown","5e80c718":"markdown","07643cd1":"markdown","fe8afa6a":"markdown","cb002529":"markdown","5ce60388":"markdown","21ca8cd7":"markdown","214537e0":"markdown","792adc85":"markdown","fb282146":"markdown","363b3903":"markdown","90709565":"markdown","728670c2":"markdown","2ba9f136":"markdown","d0dbeea2":"markdown","5a42f9a0":"markdown","82969e66":"markdown","b90de8aa":"markdown","4e99b81a":"markdown","ac5b159e":"markdown","544a8cbe":"markdown","356e0880":"markdown"},"source":{"3e0b8852":"#import the required libraries\nimport numpy as np \nimport pandas as pd \nimport seaborn as sns \nimport matplotlib.ticker as mtick  \nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n\nsns.set(style = 'white')\n\n","b3fae4cd":"telco_base_data = pd.read_csv('..\/input\/WA_Fn-UseC_-Telco-Customer-Churn.csv')","3db4a64c":"telco_base_data.head()","d56bd4f9":"telco_base_data.shape","3f3ef950":"telco_base_data.columns.values","84bad118":"# Checking the data types of all the columns\ntelco_base_data.dtypes","08cf2053":"# Check the descriptive statistics of numeric variables\ntelco_base_data.describe()","b343bfd4":"telco_data = telco_base_data.copy()","7ced1f49":"telco_data.TotalCharges = pd.to_numeric(telco_data.TotalCharges, errors='coerce')\ntelco_data.isnull().sum()","b316ea24":"telco_data.loc[telco_data ['TotalCharges'].isnull() == True]","df5141cb":"#Removing missing values \ntelco_data.dropna(how = 'any', inplace = True)\n","b18f9c30":"# Get the max tenure\nprint(telco_data['tenure'].max()) #72\n\n# Group the tenure in bins of 12 months\nlabels = [\"{0} - {1}\".format(i, i + 11) for i in range(1, 72, 12)]\n\ntelco_data['tenure_group'] = pd.cut(telco_data.tenure, range(1, 80, 12), right=False, labels=labels)","f947b7c3":"#drop column customerID and tenure\ntelco_data.drop(columns= ['customerID','tenure'], axis=1, inplace=True)\ntelco_data.head()","cd7b17b2":"for i, predictor in enumerate(telco_data.drop(columns=['Churn', 'TotalCharges', 'MonthlyCharges'])):\n    plt.figure(i)\n    sns.countplot(data=telco_data, x=predictor, hue='Churn')","4fcd0ff6":"telco_data['Churn'] = np.where(telco_data.Churn == 'Yes',1,0)","912f95a9":"telco_data.head()","fc0b7ecf":"telco_data_dummies = pd.get_dummies(telco_data)\ntelco_data_dummies.head()","7f9577c6":"sns.lmplot(data=telco_data_dummies, x='MonthlyCharges', y='TotalCharges', fit_reg=False)","b4267ad4":"Mth = sns.kdeplot(telco_data_dummies.MonthlyCharges[(telco_data_dummies[\"Churn\"] == 0) ],\n                color=\"Red\", shade = True)\nMth = sns.kdeplot(telco_data_dummies.MonthlyCharges[(telco_data_dummies[\"Churn\"] == 1) ],\n                ax =Mth, color=\"Blue\", shade= True)\nMth.legend([\"No Churn\",\"Churn\"],loc='upper right')\nMth.set_ylabel('Density')\nMth.set_xlabel('Monthly Charges')\nMth.set_title('Monthly charges by churn')","18a176f9":"Tot = sns.kdeplot(telco_data_dummies.TotalCharges[(telco_data_dummies[\"Churn\"] == 0) ],\n                color=\"Red\", shade = True)\nTot = sns.kdeplot(telco_data_dummies.TotalCharges[(telco_data_dummies[\"Churn\"] == 1) ],\n                ax =Tot, color=\"Blue\", shade= True)\nTot.legend([\"No Churn\",\"Churn\"],loc='upper right')\nTot.set_ylabel('Density')\nTot.set_xlabel('Total Charges')\nTot.set_title('Total charges by churn')","efe9a418":"plt.figure(figsize=(20,8))\ntelco_data_dummies.corr()['Churn'].sort_values(ascending = False).plot(kind='bar')","c918f770":"plt.figure(figsize=(12,12))\nsns.heatmap(telco_data_dummies.corr(), cmap=\"Paired\")","c8e3426a":"**1.** Create a copy of base data for manupulation & processing","81f8ef90":"**6.** Remove columns not required for processing","02a1b706":"**4. Missing Value Treatement**","791a7983":"# Telco Churn Analysis","5e80c718":"**3.** As we can see there are 11 missing values in TotalCharges column. Let's check these records ","07643cd1":"**11. Build a corelation of all predictors with 'Churn' **","fe8afa6a":"Since the % of these records compared to total dataset is very low ie 0.15%, it is safe to ignore them from further processing.","cb002529":"Look at the top 5 records of data","5ce60388":"**2.** Total Charges should be numeric amount. Let's convert it to numerical data type","21ca8cd7":"**Surprising insight ** as higher Churn at lower Total Charges\n\nHowever if we combine the insights of 3 parameters i.e. Tenure, Monthly Charges & Total Charges then the picture is bit clear :- Higher Monthly Charge at lower tenure results into lower Total Charge. Hence, all these 3 factors viz **Higher Monthly Charge**,  **Lower tenure** and **Lower Total Charge** are linkd to **High Churn**.","214537e0":"## Data Exploration\n**1. ** Plot distibution of individual predictors by churn","792adc85":"Check the various attributes of data like shape (rows and cols), Columns, datatypes","fb282146":"**3.** Convert all the categorical variables into dummy variables","363b3903":"**10. ** Churn by Monthly Charges and Total Charges","90709565":"**Load the data file **","728670c2":"**2.** Convert the target variable 'Churn'  in a binary numeric variable i.e. Yes=1 ; No = 0","2ba9f136":"**9. ** Relationship between Monthly Charges and Total Charges","d0dbeea2":"**5.** Devide customers into bins based on tenure e.g. for tenure < 12 months: assign a tenure group if 1-12, for tenure between 1 to 2 Yrs, tenure group of 13-24; so on...","5a42f9a0":"**Insight:** Churn is high when Monthly Charges ar high","82969e66":"**Dataset Info:**\nIBM Sample Data Set containing Telco customer data and showing customers left last month","b90de8aa":"**Derived Insight: **\n\n**HIGH** Churn seen in case of  **Month to month contracts**, **No online security**, **No Tech support**, **First year of subscription** and **Fibre Optics Internet**\n\n**LOW** Churn is seens in case of **Long term contracts**, **Subscriptions without internet service** and **The customers engaged for 5+ years**\n\nFactors like **Gender**, **Availability of PhoneService** and **# of multiple lines** have alomost **NO** impact on Churn\n\nThis is also evident from the **Heatmap** below","4e99b81a":"With this I conclude the Exploration of Telco Data. I will explore the predictive modelling soon. **Thanks!!**","ac5b159e":"SeniorCitizen is actually a categorical hence the 25%-50%-75% distribution is not propoer\n\n75% customers have tenure less than 55 months\n\nAverage Monthly charges are USD 64.76 whereas 25% customers pay more than USD 89.85 per month","544a8cbe":"Total Charges increase as Monthly Charges increase - as expected.","356e0880":"## Data Cleaning\n"}}