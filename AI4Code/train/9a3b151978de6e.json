{"cell_type":{"7803d081":"code","c14bf7f9":"code","64b5f9f1":"code","44d0786c":"code","d6a9310d":"code","4af47f10":"code","f4eb168e":"code","e13eec6a":"code","865a2f70":"code","4f0ff11d":"code","56bb8c55":"code","a0d583df":"code","c41870a4":"code","cc027259":"code","ede8963c":"code","88e1a4cc":"code","1eb4aa71":"code","101ad970":"code","d97ef3d6":"code","189d702d":"markdown","1aeb2986":"markdown","c9897e32":"markdown","a466fb91":"markdown","7a5210d3":"markdown","f6be258c":"markdown","ecf53898":"markdown","e690f985":"markdown","13d757b9":"markdown","86af08d7":"markdown","afe2bb6f":"markdown","fe18eec1":"markdown","d0331420":"markdown","ec1976d8":"markdown","6858079f":"markdown","bcd6231f":"markdown","67bbe226":"markdown","b55be220":"markdown","ac4bdcf5":"markdown","3f827f63":"markdown","0dedd8da":"markdown","e780be50":"markdown","8a2cd8b4":"markdown","ff4c2146":"markdown","d941ccb1":"markdown","3d9cbabe":"markdown","ba7654ef":"markdown","7f4d5fbe":"markdown","0d4f22db":"markdown"},"source":{"7803d081":"#import necessary libraries\nimport numpy as np \nimport pandas as pd\n\n#get the file path to the data set\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        filePath=os.path.join(dirname, filename)\n        print(filePath)\n        ","c14bf7f9":"#read the data set\ndf=pd.read_csv(filePath)\ndf.head()","64b5f9f1":"print(\"Shape of the data set is :\"+str(df.shape))","44d0786c":"#check data types and null values\ndf.info(show_counts=True)","d6a9310d":"#check the rows with the null values\nnan_values = df[df.isna().any(axis=1)]   \nprint(nan_values)","4af47f10":"#replace null values with 0\ndf[\"Assets\"]=df[\"Assets\"].replace(np.nan,0)","f4eb168e":"#format the currency features\nnumFeatures=df.columns\nnumFeatures=numFeatures[3:]\n\nfor col in numFeatures:\n    df[col]=df[col].astype(str).str.replace(' ','')\n    df[col]=df[col].astype(str).str.replace(',','')\n    df[col]=df[col].astype(str).str.replace('$','')\n    \ndf.head()","e13eec6a":"#replace B and M with the numeric values\nfor col in numFeatures:\n    df[col]=df[col].astype(str).replace({\"M\": \"*1e6\",\"B\": \"*1e9\"},regex=True).map(pd.eval)","865a2f70":"#get the numerical and categorical features\nnumericalFeatures=df.select_dtypes(exclude=\"object\").columns\n#treat rank as categorical\nnumericalFeatures=numericalFeatures[1:]\ncategoricalFeatures=df.select_dtypes(include=\"object\").columns\nprint(numericalFeatures)","4f0ff11d":"#check the correlation\ndf[numericalFeatures].corr()","56bb8c55":"#visualize correlation\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\ncorr = df[numericalFeatures].corr()\nax = sns.heatmap(\n    corr, \n    vmin=-1, vmax=1, center=0,\n    cmap=sns.diverging_palette(20, 220, n=200),\n    square=True\n)\nax.set_xticklabels(\n    ax.get_xticklabels(),\n    rotation=45,\n    horizontalalignment='right'\n);\nplt.title(\"Correlation between Features\", fontsize=16)","a0d583df":"plt.scatter(df[\"Profit\"],df[\"Market Value\"])\nplt.title(\"Profit vs Market Value\",fontsize=16)\nplt.xlabel(\"Profit\",fontsize=14)\nplt.ylabel(\"Market Value\",fontsize=14)","c41870a4":"dfSales=df.sort_values(by=\"Sales\",ascending=False).iloc[:10]\n\nfig,ax = plt.subplots()\nsns.barplot(x=\"Sales\", y=\"Name\", data=dfSales, palette='mako')\nplt.xlabel(\"Sales\",fontsize=14)\nplt.ylabel(\"Company\",fontsize=14)\nplt.title(\"Top 10 Companies based on Sales\", fontsize=16)\nsns.set(rc={'figure.figsize':(10,10)})\nplt.show()","cc027259":"dfProfit=df.sort_values(by=\"Profit\",ascending=False).iloc[:10]\n\nfig,ax = plt.subplots()\nsns.barplot(x=\"Profit\", y=\"Name\", data=dfProfit, palette='Paired')\nplt.xlabel(\"Profit\",fontsize=14)\nplt.ylabel(\"Company\",fontsize=14)\nplt.title(\"Top 10 Companies based on Profit\", fontsize=16)\nsns.set(rc={'figure.figsize':(10,10)})\nplt.show()","ede8963c":"df[\"ProfitOverSales\"]=df[\"Profit\"]\/df[\"Sales\"]\ndfProfitOverSales=df.sort_values(by=\"ProfitOverSales\",ascending=False).iloc[:10]\n\nfig,ax = plt.subplots()\nsns.barplot(x=\"ProfitOverSales\", y=\"Name\", data=dfProfitOverSales, palette='magma')\nplt.xlabel(\"Profit to Sales Ratio\",fontsize=14)\nplt.ylabel(\"Company\",fontsize=14)\nplt.title(\"Top 10 Companies based on Profit to Sales Ratio\", fontsize=16)\nsns.set(rc={'figure.figsize':(10,10)})\nplt.show()","88e1a4cc":"dfAssets=df.sort_values(by=\"Assets\",ascending=False).iloc[:10]\n\nfig,ax = plt.subplots()\nsns.barplot(x=\"Assets\", y=\"Name\", data=dfAssets, palette='magma')\nplt.xlabel(\"Assets\",fontsize=14)\nplt.ylabel(\"Company\",fontsize=14)\nplt.title(\"Top 10 Companies based on Assets\", fontsize=16)\nsns.set(rc={'figure.figsize':(10,10)})\nplt.show()","1eb4aa71":"dfMarket=df.sort_values(by=\"Market Value\",ascending=False).iloc[:10]\n\nfig,ax = plt.subplots()\nsns.barplot(x=\"Market Value\", y=\"Name\", data=dfMarket, palette='magma')\nplt.xlabel(\"Market Value\",fontsize=14)\nplt.ylabel(\"Company\",fontsize=14)\nplt.title(\"Top 10 Companies based on Market Value\", fontsize=16)\nsns.set(rc={'figure.figsize':(10,10)})\nplt.show()","101ad970":"df[\"MarketOverProfit\"]=df[\"Market Value\"]\/df[\"Profit\"]\ndfMarketOverProfit=df.sort_values(by=\"MarketOverProfit\",ascending=False).iloc[:10]\n\nfig,ax = plt.subplots()\nsns.barplot(x=\"MarketOverProfit\", y=\"Name\", data=dfMarketOverProfit, palette='magma')\nplt.xlabel(\"Market Value Over Profit\",fontsize=14)\nplt.ylabel(\"Company\",fontsize=14)\nplt.title(\"Top 10 Companies based on Market Value to Profit Ratio\", fontsize=16)\nsns.set(rc={'figure.figsize':(10,10)})\nplt.show()","d97ef3d6":"dfGlobal=(df.pivot_table(index=\"Country\",values=[\"Market Value\"],aggfunc=\"sum\").sort_values(\"Market Value\",ascending=False).iloc[:5])\nglobalSum=df[\"Market Value\"].sum()\ndfGlobalShare=np.round((dfGlobal\/globalSum)*100)\nothersShare=100-dfGlobalShare.sum()\ndfGlobalShare.loc[len(dfGlobalShare.index)]=[float(othersShare)]\ndfGlobalShare.rename(index={5:'Others'},inplace=True)\n\ndfGlobalShare.index\n\nlabels =dfGlobalShare.index\nsizes = dfGlobalShare[\"Market Value\"]\nexplode = (0,0,0,0,0,0.05)  \ncolors = ['#781C68','#3FA796','#8267BE','#502064','#F14A16','#95CD41']\n\nplt.pie(sizes, explode=explode, labels=labels,autopct='%1.0f%%', shadow=False, startangle=90, colors=colors)\n\nplt.title(\"Percentage of Market Value of top 5 Countries\", fontsize=16)\nplt.show()","189d702d":"[Index](#indexID)","1aeb2986":"[Index](#indexID)","c9897e32":"[Index](#indexID)","a466fb91":"<b>Interpretation<\/b>: Total market value of companies in United States has the 49% of the total market value. ","7a5210d3":"## <a name=\"corr\"> 1.1) Correlation Heatmap","f6be258c":"## <a name=\"10assets\"> 1.6) Top 10 Companies based on Assets","ecf53898":"## <a name=\"scat\"> 1.2) Scatter Plot of Profit vs Market Value","e690f985":"## <a name=\"10profit\"> 1.4) Top 10 Companies based on Profit","13d757b9":"<a name=\"indexID\"><\/a>\n<font size=\"5\" color=\"orange\"> INDEX <\/font>\n\n### [1) Exploratory Data Analysis](#EDA)\n##### [1.1) Correlation Heatmap](#corr)\n##### [1.2) Scatter Plot of Profit vs Market Value](#scat)\n##### [1.3) Top 10 Companies based on Sales](#10sales)\n##### [1.4) Top 10 Companies based on Profit](#10profit)\n##### [1.5) Top 10 Companies based on Profit to Sales Ratio](#10profitsales)\n##### [1.6) Top 10 Companies based on Assets](#10assets)\n##### [1.7) Top 10 Companies based on Market Value](#10value)\n##### [1.8) Top 10 Companies based on Market Value to Profit Ratio](#10marketprofit)\n##### [1.9) Percentage of Total Market Value of Top 5 Countries](#5country)","86af08d7":"## <a name=\"10profitsales\"> 1.5) Top 10 Companies based on Profit to Sales Ratio","afe2bb6f":"<b>Interpretation<\/b>: Although Walmart is the company that has the highest sales, Apple is the company with the highest profit. We may infer that the profit margin ratio of Walmart is less than Apple.","fe18eec1":"[Index](#indexID)","d0331420":"## <a name=\"EDA\"> 1) Exploratory Data Analysis","ec1976d8":"<b>Interpretation<\/b>: RMB Holdings has the highest profit to sales ratio. That means the company has the highest percentage of sales turned into profit.","6858079f":"[Index](#indexID)","bcd6231f":"[Index](#indexID)","67bbe226":"[Index](#indexID)","b55be220":"<b>Interpretation<\/b>: ICBC is the company with the highest assets.","ac4bdcf5":"[Index](#indexID)","3f827f63":"[Index](#indexID)","0dedd8da":"<b>Interpretation<\/b>: Correlation coefficient between Profit and Market Value is 0.701474. \nAs this ratio is greater than 0.5, we may say that there is a correlation between them.","e780be50":"[Index](#indexID)","8a2cd8b4":"## <a name=\"10marketprofit\"> 1.8) Top 10 Companies based on Market Value to Profit Ratio","ff4c2146":"<b>Interpretation<\/b>: Apple has the highest market value.","d941ccb1":"<b>Interpretation<\/b>: From Figure 1.2, it can be seen that there is a correlation between profit and the market value. This make sense as it is expected as the profit goes higher, the market value will be higher. Thus, investigation of companies based on market value to profit ratio make sense. \n\nSaudi Basic Industries has the highest market value to profit ratio. One can infer that this company is making more and more market value per unit profit.","3d9cbabe":"## <a name=\"5country\"> 1.9) Percentage of Total Market Value of Top 5 Countries","ba7654ef":"## <a name=\"10sales\"> 1.3) Top 10 Companies based on Sales","7f4d5fbe":"## <a name=\"10value\"> 1.7) Top 10 Companies based on Market Value","0d4f22db":"<b>Interpretation<\/b>: Walmart is the company with the highest sales."}}