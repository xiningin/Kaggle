{"cell_type":{"8c4150b5":"code","019c02da":"code","bd177c17":"code","74bcd025":"code","cde029e3":"code","974b49a7":"code","c7cbbdf1":"code","45c0d187":"code","c352a584":"code","ab9aed69":"code","13bcbbff":"code","e6118327":"code","5aa02ce1":"code","f0d00ca6":"code","3a00b72d":"code","0a9bc4c6":"code","4b09ada1":"code","4c1a0430":"code","e77f096d":"code","5bfe10f5":"code","f8b500f4":"code","1419505e":"code","4c334101":"markdown","79605198":"markdown","8a255728":"markdown","74149c5e":"markdown","c5201d6a":"markdown","2b420bf2":"markdown","d93cc1de":"markdown","51d01247":"markdown"},"source":{"8c4150b5":"#IMPORT STATEMENT\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","019c02da":"import os\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n","bd177c17":"eg_path = \"..\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data\/\"\npath = \"..\/input\/learnplatform-covid19-impact-on-digital-learning\/\"\nfiles = os.listdir(eg_path)\nx = np.array([[None,None,None,None,None]]) #initial first row\n\nfor file in files:\n    print(file,\" \",end=\"\")\n    _df = pd.read_csv(eg_path +file)\n    a, b = file.split('.')\n    _df['district_id'] = a\n    y = np.array(_df)\n    x = np.append(x,y,axis=0)\nx = np.delete(x,0,axis=0) #delete first row\nnp.save(\"eg.npy\",x)\n","74bcd025":"#pct_access         Percentage of students in the district have at least one page-load event of a given product and on a given day\n#engagement_index   Total page-load events per one thousand students of a given product and on a given day\ntmp = np.load(\"eg.npy\",allow_pickle = True)\neg_df = pd.DataFrame(tmp, columns = ['time','lp_id','pct_access','engagement_index','district_id'])\nprint(eg_df.dtypes)\nprint(eg_df.columns)\nprint(eg_df.shape)\neg_df\n","cde029e3":"d_df = pd.read_csv(\"..\/input\/learnplatform-covid19-impact-on-digital-learning\/districts_info.csv\")\nprint(d_df.dtypes)\nprint(d_df.columns)\nprint(d_df.shape)\nd_df\n","974b49a7":"p_df = pd.read_csv(\"..\/input\/learnplatform-covid19-impact-on-digital-learning\/products_info.csv\")\nprint(p_df.dtypes)\nprint(p_df.columns)\nprint(p_df.shape)\np_df\n","c7cbbdf1":"print(eg_df.isnull().sum())\nprint(d_df.isnull().sum())\nprint(p_df.isnull().sum())\n","45c0d187":"#Check for duplicated\n\nprint(eg_df.duplicated(subset=['time','lp_id','district_id']).sum())\nprint(d_df.duplicated(subset=['district_id']).sum())\nprint(p_df.duplicated(subset=['LP ID']).sum())\n\n#Drop Nan\n\nprint(eg_df.shape)\neg_df = eg_df.dropna(axis=0,subset=['engagement_index'])\neg_df = eg_df.dropna(axis=0,subset=['pct_access'])\neg_df = eg_df.dropna(axis=0,subset=['lp_id'])\nprint(eg_df.shape)\n","c352a584":"df = eg_df.drop(['time','district_id'],axis = 1)\ntmp = df.groupby(['lp_id']).sum()\ntmp['pct_access'] = tmp['pct_access']\/366  #the year 2020 has 366 days\ntmp['engagement_index'] = tmp['engagement_index']\/366\ntmp.to_csv('lp_id.csv')\nlpid_df = pd.read_csv('lp_id.csv') # lp_id, pct_access, engagement_index\nlp = lpid_df.sort_values(by=['pct_access'], ascending=False)[:20]\nprint(lp)\neg = lpid_df.sort_values(by=['engagement_index'], ascending=False)[:20]\nprint(eg)\n         \n","ab9aed69":"columns = [\"LP ID\",\"URL\",\"Product Name\",\"Provider\/Company Name\",\"Sector(s)\",\"Primary Essential Function\"]\nrow = pd.DataFrame([(26488,\"Unknown\",\"Unknown\",\"Unknown\",\"Unknown\",\"Unknown\")],columns = columns)\np_df2 = pd.concat([p_df, row],axis=0)\nlpid_df = pd.read_csv('lp_id.csv')  # lp_id, pct_access, engagement_index\nlpid_df['pct_access'] = lpid_df['pct_access']\/233  # 233 is the number of district\nlpid_df['engagement_index'] = lpid_df['engagement_index']\/233\npc = lpid_df.sort_values(by=['pct_access'], ascending=False)[:20]\neg = lpid_df.sort_values(by=['engagement_index'], ascending=False)[:20]\npct = pd.merge(pc, p_df2, left_on=\"lp_id\", right_on=\"LP ID\").drop('LP ID',axis=1)\nprint(pct.head())\neng = pd.merge(eg, p_df2, left_on=\"lp_id\", right_on=\"LP ID\").drop('LP ID',axis=1)\nprint(eng.head())\n","13bcbbff":"sns.set_palette(\"bright\")\nplt.figure(figsize=(15,10))\nsns.barplot(pct['pct_access'],pct['Product Name'] )\nplt.xlabel('Average percentage of students ')\nplt.ylabel('Product Name')\n","e6118327":"sns.set_palette(\"bright\")\nplt.figure(figsize=(15,10))\nsns.barplot(eng['engagement_index'],eng['Product Name'] )\nplt.xlabel('Average total page-load events per one thousand students of a given product and on a day')\nplt.ylabel('Product Name')\n","5aa02ce1":"df = eg_df.drop(['time','lp_id'],axis = 1)\ntmp = df.groupby(['district_id']).sum()\ntmp['pct_access'] = tmp['pct_access']\/366\ntmp['engagement_index'] = tmp['engagement_index']\/366\ntmp.to_csv('district_id.csv')\n","f0d00ca6":"dis_df = pd.read_csv('district_id.csv') # district_id, pct_access, engagement_index\npct = pd.merge(dis_df, d_df, left_on=\"district_id\", right_on=\"district_id\").drop('district_id',axis=1)\nprint(pct.isnull().sum())\npct.dropna(subset=['state'],inplace=True)\ndf = pct.drop(['locale','pct_black\/hispanic','pct_free\/reduced','county_connections_ratio','pp_total_raw'],axis = 1)\ndf.groupby(['state']).mean().to_csv('state.csv') \n#mean() => divide the number of the district in the state\n","3a00b72d":"dis_df = pd.read_csv('state.csv') # state, pct_access, engagement_index\nlp = dis_df.sort_values(by=['pct_access'], ascending=False)\nprint(lp)\neg = dis_df.sort_values(by=['engagement_index'], ascending=False)\nprint(eg)\n","0a9bc4c6":"sns.set_palette(\"dark\")\nplt.figure(figsize=(15,10))\nsns.barplot(lp['pct_access'],lp['state'] )\n\n","4b09ada1":"df = eg_df.drop(['time'],axis = 1)\ntmp = df.groupby(['district_id','lp_id']).sum()\ntmp['pct_access'] = tmp['pct_access']\/366  #the year 2020 has 366 days\ntmp['engagement_index'] = tmp['engagement_index']\/366\ntmp.to_csv('re.csv')\n","4c1a0430":"re = pd.read_csv('re.csv')  #  district_id, lp_id, pct_access, engagement_index\nprint(re.shape)\nre = pd.merge(re, p_df2, left_on=\"lp_id\", right_on=\"LP ID\").drop('LP ID',axis=1)\nre = re[['district_id','pct_access','engagement_index','Product Name']]\nprint(re.shape)\ndis_df = pd.read_csv('..\/input\/learnplatform-covid19-impact-on-digital-learning\/districts_info.csv')\nre = pd.merge(dis_df, re, left_on=\"district_id\", right_on=\"district_id\").drop('district_id',axis=1)\nre = re[['state','pct_access','engagement_index','Product Name']]\nre.groupby(['state','Product Name']).mean().to_csv('re1.csv') \n#mean() => divide the number of the district in the state\n\n","e77f096d":"re1 = pd.read_csv('re1.csv') #state, Product Name, pct_access, engagement_index\np = re1[re1['state']=='Arizona'].sort_values(by=['engagement_index'], ascending=False)[:20]\nplt.figure(figsize=(15,10))\nsns.barplot(p['engagement_index'],p['Product Name'] )\nplt.title(\"Arizona\")\nplt.ylabel('Product Name')\nplt.xlabel('Average total page-load events per one thousand students of a given product  and on a day')\n","5bfe10f5":"re1 = pd.read_csv('re1.csv') #state, Product Name, pct_access, engagement_index\np = re1[re1['state']=='Illinois'].sort_values(by=['engagement_index'], ascending=False)[:20]\nplt.figure(figsize=(15,10))\nsns.barplot(p['engagement_index'],p['Product Name'] )\nplt.title(\"Illinois\")\nplt.xlabel('Average total page-load events per one thousand students of a given product and on a day')\nplt.ylabel('Product Name')\n","f8b500f4":"re1 = pd.read_csv('re1.csv') #state, Product Name, pct_access, engagement_index\np = re1[re1['Product Name']=='Google Docs'].sort_values(by=['engagement_index'], ascending=False)[:20]\nplt.figure(figsize=(15,10))\nsns.barplot(p['engagement_index'],p['state'] )\nplt.title('Google Docs')\nplt.xlabel('Average total page-load events per one thousand students of a given product and on a day')\nplt.ylabel('State')\n","1419505e":"re1 = pd.read_csv('re1.csv') #state, Product Name, pct_access, engagement_index\np = re1[re1['Product Name']=='Google Classroom'].sort_values(by=['engagement_index'], ascending=False)[:20]\nplt.figure(figsize=(15,10))\nsns.barplot(p['engagement_index'],p['state'] )\nplt.title('Google Classroom')\nplt.ylabel('State')\nplt.xlabel('Average total page-load events per one thousand students of a given product and on a day')\n","4c334101":"\n\n# <center><span style='font-family:Georgia'> <span style='background:PINK'> <b>  Difference between's<\/b><\/center><\/div><\/span>\n","79605198":"# **<center><span style='font-family:Georgia'> <span style='background:PINK'>  Importing Libraries_ <\/span>**","8a255728":"GOOGLE DOCS","74149c5e":"COVID 19IMPACT ON DIGITAL LEARNING ","c5201d6a":"# <center><span style='font-family:Georgia'> <span style='background:PINK'> <b> Read all csv file in the directory engagement_data  <\/b> <br>and transform into a npy file<\/center><\/div><\/span>\n","2b420bf2":"\n# <center><span style='font-family:Georgia'> <span style='background:PINK'> <b>  FIND NULL VALUES<\/b><\/center><\/div><\/span>\n","d93cc1de":"GOOGLE CLASSROOMS","51d01247":"\n\n# <center><span style='font-family:Georgia'> <span style='background:PINK'> <b> THANK YOU <\/b><\/center><\/div><\/span>\n"}}