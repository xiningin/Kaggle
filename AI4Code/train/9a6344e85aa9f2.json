{"cell_type":{"ce364eed":"code","6198d7a3":"code","f81f87a0":"code","67023837":"code","94400bab":"code","a634537c":"code","963b62ce":"code","1ba22680":"code","69a47790":"code","3cb5024c":"code","09f43c15":"code","55ba3df0":"code","4eccb5d9":"code","f463950f":"code","35e2005c":"code","467fbb89":"code","288f5aeb":"code","01fdaeaa":"code","7bfc9a54":"code","8af7cbd4":"code","ffac1658":"code","79bbfd5e":"code","350957c1":"code","7bf5a700":"code","e18270f6":"code","3acfb482":"code","a4edcf88":"code","f6db8dfb":"code","f66ea7a5":"code","6eb44951":"markdown","ac0a4d15":"markdown","b62efca6":"markdown","99414331":"markdown","b72d497a":"markdown","b5784eb5":"markdown","d32198c0":"markdown","745c211a":"markdown","38e63b93":"markdown","f81eee6c":"markdown","e3f9a7c4":"markdown"},"source":{"ce364eed":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\n%matplotlib inline","6198d7a3":"dfs = [pd.read_csv(i, low_memory=False) for i in ['..\/input\/stress-recognition-in-drivers-physioatm\/driver0.csv',\n                                                  '..\/input\/stress-recognition-in-drivers-physioatm\/driver1.csv',\n                                                  '..\/input\/stress-recognition-in-drivers-physioatm\/driver2.csv']]","f81f87a0":"units = dfs[0].iloc[0]\nfor df in dfs:\n    df.drop(0, inplace=True)\n    df.columns = df.columns.str.replace(\"'\", '')\n    for col in df.columns:\n        df[col] = df[col].astype(float)","67023837":"dfs[0].describe()","94400bab":"dfs[0].shape","a634537c":"dfs[0].head(5)","963b62ce":"new_dfs = []\nfor df in dfs:\n    new_dfs.append(df.groupby(np.arange(len(df))\/\/16).mean())","1ba22680":"for df,name in zip(new_dfs,['ndriver0.csv','ndriver1.csv','ndriver2.csv']):\n    df.to_csv(name,index=False)\ndfs = new_dfs\n# I\u0161saugau duomenis suma\u017eintus","69a47790":"class DumbDoctor():\n       \n    @staticmethod\n    def plot_by_col(df, xn, filename = None):\n        fig, ax = plt.subplots(len(df.columns)-1, 1, figsize=(15,15), constrained_layout=True, dpi=500)\n        x = df[xn]\n        a = 0\n        for i in df.columns:\n            if i != xn:\n                ax[a].plot(x, df[i])\n                ax[a].set_xlabel(xn, fontsize=10)\n                ax[a].set_ylabel(i, fontsize=12)\n                a+=1\n        if filename:\n            fig.savefig(filename, facecolor='white', transparent=False)\n        \n    @staticmethod\n    def factorize(value, intervals, new_values):\n        if len(new_values)-1 != len(intervals):\n            raise Exception(\"Lenght of new values list must be higher by one than interval list.\")\n        \n        intervals.sort()\n        \n        for i in range(len(intervals)):\n            if value < intervals[i]:\n                return new_values[i]\n        return new_values[-1]\n    \n    @staticmethod\n    def find_outliers_iqr(col, multiplier):       \n        Q1 = col.quantile(0.25)\n        Q3 = col.quantile(0.75)\n        IQR = Q3 - Q1\n        return col[(col < (Q1-multiplier*IQR)) | (col > (Q3+multiplier*IQR))] \n\n    ","3cb5024c":"DumbDoctor.plot_by_col(dfs[0],'Elapsed time','figure1.png')","09f43c15":"DumbDoctor.plot_by_col(dfs[1],'Elapsed time','figure2.png')","55ba3df0":"DumbDoctor.plot_by_col(dfs[2],'Elapsed time','figure3.png')","4eccb5d9":"dfs[0].loc[dfs[0]['HR']<20, 'HR']= np.nan","f463950f":"dfs[0].loc[dfs[0]['ECG']<-5, 'ECG'] = np.nan","35e2005c":"dfs[0].isnull().sum()","467fbb89":"dfs[1].isnull().sum()","288f5aeb":"dfs[2].isnull().sum()","01fdaeaa":"dfs[0]['ECG'].fillna((dfs[0]['ECG'].mean()), inplace=True)","7bfc9a54":"dfs[0]['HR'].fillna((dfs[0]['HR'].mean()), inplace=True)","8af7cbd4":"Qs = [dfs[0]['ECG'].quantile(0.25), dfs[0]['ECG'].quantile(0.75)]\n\nvals = [-1, 0, 1]\ndfs[0]['factor'] = dfs[0]['ECG'].apply(DumbDoctor.factorize, args=[Qs, vals])","ffac1658":"dfs[0]['factor'].value_counts()","79bbfd5e":"x = ['Pacientas A', 'Pacientas B', 'Pacientas C']\noutliers = [len(DumbDoctor.find_outliers_iqr(dfa['HR'], 1.5)) for dfa in dfs]","350957c1":"outliers","7bf5a700":"plt.bar(x, outliers) \n# C pacientui beveik 10k\/~10% i\u0161skir\u010di\u0173? Gal IQR metodas nelabai tinka \u0161iuo atveju\n# Arba vairuotojas vis\u0105 kelion\u0119 stresavo..","e18270f6":"import pickle","3acfb482":"with open(r\"pacientai\", \"wb\") as output_file:\n    pickle.dump(dfs, output_file)","a4edcf88":"with open(r\"outliers\", \"wb\") as output_file:\n    pickle.dump(outliers, output_file)","f6db8dfb":"from pandas_profiling import ProfileReport","f66ea7a5":"ProfileReport(dfs[0])","6eb44951":"Visi stulpeliai yra skaitiniai:","ac0a4d15":"### Penkta u\u017eduotis\nU\u017eduotims atlikti apra\u0161ykite bent 3 savo sukurtas funkcijas IR \/ ARBA bent 1 klas\u0119","b62efca6":"### \u0160e\u0161ta u\u017eduotis\nVisus tyrimo rezultatus saugokite tvarkinguose kintamuose ir i\u0161saugokite juos \u012f Pickle rinkmenas.","99414331":"I\u0161 pirmo paciento lentel\u0117s matoma kad ka\u017ekur apie 2000-t\u0105j\u0105 sekund\u0119 ECG ir HR rodikliai rodo nelogi\u0161kas reik\u0161mes, kadangi kiti rodikliai niekuom ne\u012fprasti, darau prielaida kad tyrimas buvo nevykdomas skland\u017eiai ir tas reik\u0161mes pakeisiu vidurkiais.","b72d497a":"Suma\u017einu duomen\u0173 kiek\u012f,imdamas kas 16 eilu\u010di\u0173 vidurk\u012f, naudoju 16=2^4, kad vengti \"floating point error\".\n","b5784eb5":"### Antra u\u017eduotis\nNubrai\u017eykite paprastus kintam\u0173j\u0173 grafikus su tvarkingais a\u0161i\u0173 pavadinimais.\n","d32198c0":"### LD3\n16 var.\nDuomenys- Stress Recognition in\nAutomobile Drivers, PHYSIO-ATM","745c211a":"### Pirma u\u017eduotis\nImportuokite duomen\u0173 rinkmen\u0105 \u012f Python. Apra\u0161ykite, kokia yra duomen\u0173 strukt\u016bra: dimensijos, kintamieji ir\nj\u0173 tipai. Suraskite pagrindines kiekvieno kintamojo skaitines charakteristikas: da\u017eni\u0173 lentel\u0119 kategoriniams (jei\ntoki\u0173 yra), o min, max, vidurk\u012f ir kvartilius skaitiniams.","38e63b93":"### Ketvirta u\u017eduotis\nSukurkite nauj\u0105 kintam\u0105j\u012f, kuris b\u016bt\u0173 lygus 1, jei steb\u0117jimas yra didesnis u\u017e 3-i\u0105 kvartil\u012f, -1, jei jis ma\u017eesnis u\u017e\n1-\u0105 kvartil\u012f ir lygos 0, prie\u0161ingu atveju. Suskai\u010diuokite, po kiek \u0161i\u0173 trij\u0173 atvej\u0173 i\u0161 viso yra. T\u0105 atlikite vienam,\nj\u016bs\u0173 pasirinktam, kintamajam ir vienam tiriamajam.","f81eee6c":"### Papildoma u\u017eduotis\nParinkite 3 pacientus. Rasite j\u0173 \u0161irdies ritmo (HR) i\u0161skirtis ir\nsuskai\u010diuokite j\u0173 kiek\u012f. Atspausdinkite lentel\u0119, kurioje matyt\u0173si\ni\u0161skir\u010di\u0173 kiekio palyginimai","e3f9a7c4":"### Tre\u010dia u\u017eduotis\nDuomen\u0173 fail\u0119 netur\u0117t\u0173 b\u016bti tr\u016bkstam\u0173 reik\u0161mi\u0173. Patikrinkite tai programi\u0161kai. Tarkite, kad b\u016btent 2-osios\nreik\u0161m\u0117s (kuriam ors j\u016bs\u0173 parinktam tiriamajam) tr\u016bksta. Pakeiskite j\u0105 atitinkamu vidurkiu."}}