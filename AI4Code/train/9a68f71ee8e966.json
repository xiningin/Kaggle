{"cell_type":{"234cade0":"code","60c8baf6":"code","1936a09d":"code","b273165c":"code","020caaab":"code","c6682aa7":"code","92d63b75":"code","0fdd7323":"code","043abf75":"code","7e2eeb09":"code","cff7b25a":"markdown","8fbf10f7":"markdown","96fce159":"markdown","c9a22c16":"markdown"},"source":{"234cade0":"import sys\n!{sys.executable} -m pip install bar_chart_race","60c8baf6":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport os\n\nimport bar_chart_race as bcr\nfrom IPython.display import HTML\nimport warnings\nwarnings.filterwarnings(\"ignore\")\nfrom IPython.display import Video","1936a09d":"data_dir='..\/input\/world-happiness-report'","b273165c":"paths=[]\nfor i in range(6):\n    item=str(2015+i)+'.csv'\n    paths+=[os.path.join(data_dir,item)]\npaths","020caaab":"data0=pd.read_csv(paths[5])\nprint(data0.columns.tolist())\ndata0","c6682aa7":"data1=data0.drop(['Regional indicator'],axis=1)\ndata1","92d63b75":"# set double indexes\ndata2=data1.set_index('Country name').T\ndata2.index.name=\"Item\"\ndata2","0fdd7323":"data4=data2.fillna(0)","043abf75":"df = data4\nbcr.bar_chart_race(\n    df=df,\n    filename='WorldHappiness_BarChartRace.mp4',\n    orientation='h',\n    sort='desc',\n    n_bars=20,\n    fixed_order=False,\n    fixed_max=False,\n    steps_per_period=1,  # 1:slideshow\n    interpolate_period=False,\n    label_bars=False,\n    bar_size=.85,   \n    period_label={'x': .99, 'y': .05, 'ha': 'right', 'va': 'center'},\n    #period_fmt='%B %d, %Y',\n    period_summary_func=lambda v, r: {'x': .99, 'y': .10,'s': '',\n                                      'ha': 'right', 'size': 8, 'family': 'Courier New'},\n    perpendicular_bar_func='median',\n    period_length=1500,\n    figsize=(5,3),\n    dpi=500,\n    cmap='dark24',\n    title='World Happiness Ranking 2015-2020',\n    title_size=15,\n    bar_label_size=7,\n    tick_label_size=5,\n    shared_fontdict={'color' : '.1'},\n    scale='linear',\n    writer=None,\n    fig=None,\n    bar_kwargs={'alpha': .7},\n    filter_column_colors=True)","7e2eeb09":"Video(\"\/kaggle\/working\/WorldHappiness_BarChartRace.mp4\", width=800, height=600, embed=True)","cff7b25a":"# Dataframe for Bar Chart Race","8fbf10f7":"# Slide Show using Bar Chart Race","96fce159":"# World Happiness Ranking Slide Show using Bar Chart Race\n* cf. https:\/\/www.dexplo.org\/bar_chart_race\/\n* cf. https:\/\/github.com\/dexplo\/bar_chart_race\/","c9a22c16":"# Data preparation"}}