{"cell_type":{"5689ff60":"code","8ad36a8e":"code","777cbf36":"code","a5629775":"code","5581a36d":"code","6e0050d3":"code","be70db78":"code","bdd493fe":"code","03512e9d":"code","42a7531e":"code","7c56b88d":"code","31099e6e":"code","ef822e10":"code","f221c8bf":"code","fee11d1b":"code","1751c2dd":"code","de21ac0d":"code","f7d0b13e":"code","92caf18b":"code","f95c329d":"code","344f4eaa":"code","3ff1eafc":"markdown","88d961c9":"markdown","88a19928":"markdown","445536e7":"markdown","57dc4343":"markdown","5aff5b91":"markdown","1cf2fe66":"markdown","44bc98ad":"markdown","b95bc7b6":"markdown","c6a30be5":"markdown","4e5c2f37":"markdown","31b85f07":"markdown","849b9853":"markdown","08b4beb9":"markdown","4c6b4d29":"markdown","96856fe1":"markdown","a4b36dc0":"markdown","b7b3eeea":"markdown","65a50da0":"markdown","5491064b":"markdown","ae3731de":"markdown"},"source":{"5689ff60":"#Import libraries.\n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nplt.style.use('seaborn')","8ad36a8e":"#Import cleaned bike and weather datasets.\n\ndf = pd.read_csv('..\/input\/clean-cyclistic-data\/clean_bike_data.csv',low_memory=False)\ndf1 = pd.read_csv('..\/input\/clean-cyclistic-data\/clean_weather_data.csv')","777cbf36":"#Percentage of rides taken by user type.\n\ndf.user_type.value_counts(normalize=True).round(2)*100","a5629775":"#Average user ride time in minutes.\n\ndf.groupby(['user_type']).ride_time.mean().round()","5581a36d":"#Bike preferences as a percentage of their respective user type.\n\ndf.groupby(['user_type']).bike_type.value_counts(normalize=True).round(2)*100","6e0050d3":"#Average user ride time in minutes by bike type.\n\ndf.groupby(['user_type','bike_type']).ride_time.mean().round(1).sort_values()","be70db78":"#Average distance traveled.\n\ndf.groupby(['user_type']).distance_estimate.mean().round(2)","bdd493fe":"#Average distance traveled for users going to a new direction.\n\ndf[df.returned_location == 'new location' ].groupby(['user_type']).distance_estimate.mean().round(2)","03512e9d":"#Average user mph.\n\ndf.groupby(['user_type']).mph_estimate.mean().round(2)","42a7531e":"#User speed by bike type.\n\ndf.groupby(['user_type','bike_type']).mph_estimate.mean().round(1)","7c56b88d":"#Day of week preference as a percentage of their respective user type.\n\ndf.groupby(['user_type']).day_of_week.value_counts(normalize=True).round(2)*100","31099e6e":"#Average user ride time in minutes by day of week.\n\ndf.groupby(['day_of_week','user_type']).ride_time.mean().sort_values(ascending=False).round().unstack().reindex(['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'])","ef822e10":"#The percentage of when a user will return the docked bicycle to a new location or the same location.\n\ndf[df.bike_type =='docked_bike'].groupby(['user_type']).returned_location.value_counts(normalize=True).round(2).unstack()*100","f221c8bf":"df.groupby(['user_type','returned_location']).ride_time.mean().round(2)","fee11d1b":"#Percentage of rides by month by respective user type.\n\ndf.groupby(['user_type']).month.value_counts(normalize=True).round(2).sort_index()*100","1751c2dd":"#Average temperature by month.\n\ndf1.groupby(['month']).wind_chill.mean().round()","de21ac0d":"df1.groupby(['month','conditions']).conditions.count()","f7d0b13e":"df1c = df1.groupby(['month','conditions']).conditions.count().unstack().fillna(value=0)\ndf1c = df1c[['Snow','Rain','Overcast','Partially cloudy','Clear']]\ndf1t = df1.groupby(['month']).wind_chill.mean().round().values\n\nfig, ax1 = plt.subplots(1, 1, sharex=True)\n\ndf1c.plot(kind='bar',stacked=True,color=['#7adbed','#7289da','#948398','#e7d8d3','#faa61a'],ax=ax1)\n\nhandles, labels = plt.gca().get_legend_handles_labels()\norder = [4,3,2,1,0]\nplt.legend([handles[idx] for idx in order],[labels[idx] for idx in order],bbox_to_anchor=(1.1,1), loc=\"upper left\")\n\nax2 = ax1.twinx()\n\nax2.set_ylabel('Temperature',fontsize=15)\nax2.plot(df1t,color='crimson',label='Temperature',marker='o',linestyle='dashed')\nax2.tick_params(axis='y',labelcolor='crimson')\nax2.grid(False)\n\nplt.show()","92caf18b":"#Percentage of rides taken by starting hour.\n\ndf.groupby(['user_type']).start_hour.value_counts(normalize=True).round(2).sort_index()*100","f95c329d":"#Bike preference by month\n\ndf.groupby(['month','user_type','bike_type']).ride_id.count().unstack().fillna(value=0)","344f4eaa":"#Bike preferences by month\n\ndfc = df[df.user_type == 'casual']\ndfm = df[df.user_type == 'member']\n\nxm = dfm.groupby(['month','bike_type']).ride_id.count().unstack(1).fillna(value=0)\nxc = dfc.groupby(['month','bike_type']).ride_id.count().unstack(1).fillna(value=0)\n\nxm['total'] = xm['classic_bike'] + xm['docked_bike'] + xm['electric_bike']\nxc['total'] = xc['classic_bike'] + xc['docked_bike'] + xc['electric_bike']\n\n#With total line\n\nfig, (ax1,ax2) = plt.subplots(2,1,sharey=True,figsize=(10,10))\n\nax1.plot(xc['docked_bike'],label='docked',marker='o')\nax1.plot(xc['classic_bike'],label='classic',marker='^')\nax1.plot(xc['electric_bike'],label='electric',marker='s')\nax1.plot(xc['total'],label='total',color='gray',linestyle='dashed')\n\nax1.set_title(\"Casual Users Bike Preferences\",fontsize=20)\n\nax2.plot(xm['docked_bike'],label='docked',marker='o')\nax2.plot(xm['classic_bike'],label='classic',marker='^')\nax2.plot(xm['electric_bike'], label='electric',marker='s')\nax2.plot(xm['total'],label='total',color='gray',linestyle='dashed')\nax2.set_title(\"Members Bike Preferences\",fontsize=20)\n\nax1.set_xticks([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12])\nax1.set_yticks(ticks=[0,50000,100000,150000,200000,250000,300000])\nax1.set_ylabel('Rides Taken',fontsize=15)\nax1.grid(True,color='gray',linestyle=(0, (2, 10)))\nax1.legend(title='Bike Type',bbox_to_anchor=(1,1), loc=\"upper left\")\n\nax2.set_xticks([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12])\nax2.set_xlabel('Month',fontsize=15)\nax2.set_ylabel('Rides Taken',fontsize=15)\nax2.legend(title='Bike Type',bbox_to_anchor=(1,1), loc=\"upper left\")\nax2.grid(True,color='gray',linestyle=(0, (2, 10)))\n\nplt.show()","3ff1eafc":"Looks like May through October share a few weather traits. No snow days, virtually no overcast days (which is defined at 95% or more of cloud coverage), and the majority of the month is either partially cloudy or clear skies.\n\nIt makes sense why both user types prefer these months. Who wants to ride when its cold out, or when there is ice on the roads, which is dangerous.\n\nAlso, this visualization shows that its hard to seperate weather and temperature. They must be confounding variables.","88d961c9":"Both user types prefer the docked bike. The electric bike and classic bike selections are both significantly less used.","88a19928":"Casual users are almost four times more likely to return a bike to the same starting location than a member. \n\nI would think this return to start location habit is more likely with the casual users because of the two types of Cyclistic casual passes:\n1. Single-Ride Pass\n2. Full-Day pass\n\nI do not have the data of whether or not a casual user purchased the single ride pass or a full day pass. I would like to see one more thing about the return location figures.","445536e7":"Both user types have the quickest bike rides when they use electric bikes. However the gap between fastest and slowest time between bike types is much larger in the casual user group. This could be because members ride more frequently and are more efficient at riding in general, whereas casual users are not as fit and benefit greatly from the motor an electric bike provides.","57dc4343":"This is a huge finding! Let me visualize this to get a better understanding.","5aff5b91":"Weekends have the longest average ride time, although not much more for the respective user type.","1cf2fe66":"Looks like June through September are the warm weather months in Chicago. I wonder if temperature or weather conditions play a larger factor in determining when users ride. Let's find out.","44bc98ad":"The average ride time for casual users who return to their starting location take about twice as long as casual users going to a new location. Knowing that the average ride time for a casual user is 35 minutes, it seems that casual users returning to the same location are making a round trip ride.\n\nMembers, however, do not show this trend of taking twice as long in their speculated 'round trip' visit. Members must have different habits when they return a bike to the same location.","b95bc7b6":"Although the results are as I thought, it was not to the extent I thought it would be.","c6a30be5":"All users prefer riding from May through September. I suspect it has something to do with the weather.","4e5c2f37":"Both user types have lots of start times from 4 pm to 6 pm. I could visualize this in a line graph but if I want a more insightful breakdown (like start time by the day of the week) I can use a heatmap.","31b85f07":"Both user groups travel approximately the same distance. Given how the casual user has a significantly larger ride duration, I would have expected casual users to also travel further. As mentioned in the data cleaning phase, however, the distance estimate column is not the most clever approximation of travel, since it does not take into consideration the route the user took. Let's account for that in the next line of code. ","849b9853":"## Conclusion: Similarities and Differences\n\nDuring this analysis, I was able to find out interesting differences between the casual user and the annual member. We learned that the average ride duration, the average speed traveled, the day of week riding preferences, and the return location exhibit different patterns between our two groups. What was also surprising to discover was the amount of similarities between both groups. The bike type preferences made any given month, the average distance traveled, and the prefered riding months were strikingly similiar.\n\nI believe this exploratory analysis has given me the insights I've needed to present [key findings](https:\/\/www.kaggle.com\/ericramoscastillo\/cyclistic-key-findings-and-recommendations) to Lily Moreno.","08b4beb9":"Big difference between the groups here! More than 40% of all rides for the casual users take place on Saturday and Sunday, while the members do not show a significant preference over any day of the week. A grouped bar chart, line graph, area graph, or pie chart could help visualize this.","4c6b4d29":"Here is a large difference. Casual users on average ride for twice as long as members. This can be easily visualized with a bar graph.","96856fe1":"It's hard for me to understand this data without a visualization.","a4b36dc0":"This is a noticable difference between the two groups. A bar graph is a solid visualization choice here.","b7b3eeea":"Casual users are slower than members and electric bikes have the quickest average ride time.\n\nA grouped bar graph would do the trick if this factoid is included in our findings and recommendations.","65a50da0":"## Analysis: Summary Statistics\n\nLet's start by examining general summary statistics between the annual member and the casual user.","5491064b":"## Introduction\n\nIn this Jupyter Notebook, I will perform an exploratory analysis on the [cleaned Cyclistic bike data](https:\/\/www.kaggle.com\/ericramoscastillo\/clean-cyclistic-data). On behalf of the Lily Moreno, Director of Marketing, I will be finding the differences between annual members and casual users. I will present my [findings and visualizations](https:\/\/www.kaggle.com\/ericramoscastillo\/cyclistic-key-findings-and-recommendations) with the marketing team and give recommendations based on relationships I find in this exploratory analysis.\n\nTo examine the data cleaning process, click [here](https:\/\/www.kaggle.com\/ericramoscastillo\/cyclistic-data-cleaning-additions-and-removals\/edit\/run\/75992897).\n","ae3731de":"There are many things to discuss here.\n\n- From January to May, members completely stop using docked bikes.\n- Beginnning the month of June, both user types completly stop using electric and classic bikes.\n- From July to November, both user types completly stop using the classic bikes.\n\nThese preferences are likely driven by the weather and temperature patterns. I would think, though, that electric bikes would be fully charged and ready for all user types during summer months."}}