{"cell_type":{"3407f790":"code","5ece4734":"code","96c06ac7":"code","cbc6d758":"code","9f2d0537":"code","4b156e2b":"code","a7e67b7a":"code","df4f6dda":"code","bf5a27c6":"code","e65e2d48":"code","d1595f1c":"code","90aee23a":"code","537dfb02":"code","dfe6961a":"code","9b2172b6":"code","d628f8fb":"code","5b1aca97":"code","724eecdb":"markdown","24923711":"markdown","c7c61809":"markdown","e4caa38f":"markdown","838543f3":"markdown","3925ad56":"markdown","faf85b4e":"markdown","e515bd2d":"markdown","2364a5d6":"markdown","a931f54c":"markdown","14fa78e1":"markdown"},"source":{"3407f790":"import warnings\nwarnings.filterwarnings('ignore')\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.model_selection import train_test_split\nimport statsmodels.api as sm\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error,r2_score","5ece4734":"salary = pd.read_csv('..\/input\/salary-data-simple-linear-regression\/Salary_Data.csv')\nsalary.head()","96c06ac7":"salary.shape","cbc6d758":"sns.regplot(data = salary, x = 'YearsExperience', y = 'Salary', scatter = True)","9f2d0537":"X = salary.YearsExperience\ny = salary.Salary","4b156e2b":"X_train, X_test, y_train, y_test = train_test_split(X,y, train_size =0.7, test_size = 0.3, random_state = 100) ","a7e67b7a":"X_train_sm = sm.add_constant(X_train)\nlr = sm.OLS(y_train, X_train_sm).fit()\nlr.params","df4f6dda":"lr.summary()","bf5a27c6":"y_train_pred = lr.predict(X_train_sm)\nres= y_train - y_train_pred\n\nfig = plt.figure()\nsns.distplot(res)\nfig.suptitle('Error Terms', fontsize = 15)                  # Plot heading \nplt.xlabel('y_train - y_train_pred', fontsize = 15)         # X-label\nplt.show()","e65e2d48":"plt.scatter(X_train,res)\nplt.show()","d1595f1c":"X_test_sm = sm.add_constant(X_test)\n\ny_pred = lr.predict(X_test_sm)","90aee23a":"#Returns the mean squared error; we'll take a square root\nnp.sqrt(mean_squared_error(y_test, y_pred))","537dfb02":"r_squared = r2_score(y_test, y_pred)\nr_squared","dfe6961a":"#Spliting the data into train and test dataset\nX_train_lm, X_test_lm, y_train_lm, y_test_lm = train_test_split(X, y, train_size = 0.7, test_size = 0.3, random_state = 100)","9b2172b6":"#Reshaping \nX_train_lm = X_train_lm.values.reshape(-1,1)\nX_test_lm = X_test_lm.values.reshape(-1,1)","d628f8fb":"# Representing LinearRegression as lr(Creating LinearRegression Object)\nlm = LinearRegression()\n\n# Fit the model using lr.fit()\nlm.fit(X_train_lm, y_train_lm)","5b1aca97":"print(lm.intercept_)\nprint(lm.coef_)","724eecdb":"#### Residual Analysis","24923711":"**Equation:** \n`salary = 25202.88 + 9731.203 * YearsExperience`","c7c61809":"## Building model using **`statsmodel`**","e4caa38f":"---\n___\n***","838543f3":"#### Validating the model","3925ad56":"#### Prediction on test data set","faf85b4e":"## Building model using **`sklearn`**","e515bd2d":"### Reading and Understanding the Data","2364a5d6":"#### Looking for pattern in residual","a931f54c":"### Importing Libraries","14fa78e1":"### Splitting the data into train and test data set"}}