{"cell_type":{"fcf6cc0e":"code","785012b0":"code","f18de017":"code","1d4b0d5e":"code","90439e68":"code","fe022aae":"code","b8d6f539":"code","45380abc":"code","81e4257c":"code","5eca3fd8":"code","50fc116a":"code","ac0b954b":"code","c69393bc":"code","afb7b3b0":"code","8e0721b7":"code","0815c589":"code","3ad67fba":"code","a7c90f46":"code","7f2ce4db":"code","37a52b0e":"code","ff9813d1":"code","be8a1ee5":"markdown","118b204a":"markdown","5eb96827":"markdown","59b78e5c":"markdown","23748d06":"markdown"},"source":{"fcf6cc0e":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\nfrom matplotlib import rcParams\n\nrcParams['figure.figsize'] = 15, 5 ","785012b0":"df = pd.read_csv('..\/input\/indias-weather-data\/weather_data.csv')","f18de017":"df.shape","1d4b0d5e":"# For practice, I only use data from Uttar Pradesh and then I only choose 5 city\nUttar = df[df['state']=='Uttar Pradesh']","90439e68":"city = ['Firozabad','Hathras','Lalitpur','Kaushambi','Lucknow']\nnew_df = Uttar.query(f\"city_name in {city}\").reset_index(drop=True)","fe022aae":"new_df.sample(5)","b8d6f539":"new_df.info()","45380abc":"# Correlation\nplt.figure(figsize=(15,10))\nsns.heatmap(new_df.corr().abs(), annot=True, fmt='.2f')","81e4257c":"# Look Numeric and Categorical Column\nnumeric_variables = new_df.select_dtypes(include=[np.number])\ntext_variables = new_df.select_dtypes(exclude=[np.number])\nprint(f\"Numeric Column : {numeric_variables.columns.to_list()}\")\nprint(f\"Text Column : {text_variables.columns.to_list()}\")","5eca3fd8":"new_df['dt_txt'] = new_df['dt_txt'].apply(lambda x: x.split('+')[0]) # Remove time zone\nnew_df['dt_txt'] = pd.to_datetime(new_df['dt_txt'])\nnew_df['month'] = new_df['dt_txt'].dt.month\nnew_df['year'] = new_df['dt_txt'].dt.year\nnew_df.drop(columns=['region','state','id','city_id'], inplace=True) # Drop because these columns only have one value and not important value","50fc116a":"new_df.head()","ac0b954b":"df_firozabad = new_df[new_df['city_name']=='Firozabad']\ndf_hathras = new_df[new_df['city_name']=='Hathras']\ndf_lalitpur = new_df[new_df['city_name']=='Lalitpur']\ndf_lucknow = new_df[new_df['city_name']=='Lucknow']\ndf_kaushambi = new_df[new_df['city_name']=='Kaushambi']","c69393bc":"df_firozabad.head(5)","afb7b3b0":"for i in df_firozabad.columns:\n    print(f\"{i} Unique Values : {len(df_firozabad[str(i)].unique())}\")","8e0721b7":"class PlotEDA:\n    \n    def __init__(self, df, year=[2020,2021]):\n        self.df = df\n        self.year = year\n    \n    def plot_temp(self):\n        for e,y in enumerate(self.year):\n            plt.suptitle(f\"{self.df['city_name'][0]} Temperature Level\")\n            plt.subplot(1, 2, e+1)\n            sns.lineplot(data=self.df[self.df['year']==y], x='dt_txt', y='temp')\n            plt.title(f\"Temperature Level At {self.df['city_name'][0]} In {y}\")\n            plt.xlabel('Date')\n            plt.xticks(rotation=90)\n            plt.tight_layout() \n    \n    def plot_pressure(self, plot='line'):\n        if plot == 'line':\n            for e,y in enumerate(self.year):\n                plt.suptitle(f\"{self.df['city_name'][0]} Pressure Level\")\n                plt.subplot(1, 2, e+1)\n                sns.lineplot(data=self.df[self.df['year']==y], x='dt_txt', y='pressure')\n                plt.title(f\"Pressure Level At {self.df['city_name'][0]} In {y}\")\n                plt.xlabel('Date')\n                plt.xticks(rotation=90)\n                plt.tight_layout()\n        \n        elif plot == 'count':\n            for e,y in enumerate(self.year):\n                plt.suptitle(f\"Count {self.df['city_name'][0]} Pressure Level\")\n                plt.subplot(2, 1, e+1)\n                sns.countplot(data=self.df[self.df['year']==y], x='pressure')\n                plt.title(f\"{y}\")\n                plt.xticks(rotation=90)\n                plt.tight_layout()\n    \n    def plot_sealvl(self, plot='line'):\n        if plot == 'line':\n            for e,y in enumerate(self.year):\n                plt.suptitle(f\"{self.df['city_name'][0]} Sea Level\")\n                plt.subplot(1, 2, e+1)\n                sns.lineplot(data=self.df[self.df['year']==y], x='dt_txt', y='sea_level')\n                plt.title(f\"Sea Level At {self.df['city_name'][0]} In {y}\")\n                plt.xlabel('Date')\n                plt.xticks(rotation=90)\n                plt.tight_layout()\n        \n        elif plot == 'count':\n            for e,y in enumerate(self.year):\n                plt.suptitle(f\"Count {self.df['city_name'][0]} Sea Level\")\n                plt.subplot(2, 1, e+1)\n                sns.countplot(data=self.df[self.df['year']==y], x='sea_level')\n                plt.title(f\"{y}\")\n                plt.xticks(rotation=90)\n                plt.tight_layout()\n    \n    def plot_grndlvl(self, plot='line'):\n        if plot == 'line':\n            for e,y in enumerate(self.year):\n                plt.suptitle(f\"{self.df['city_name'][0]} Ground Level\")\n                plt.subplot(1, 2, e+1)\n                sns.lineplot(data=self.df[self.df['year']==y], x='dt_txt', y='grnd_level')\n                plt.title(f\"Sea Level At {self.df['city_name'][0]} In {y}\")\n                plt.xlabel('Date')\n                plt.xticks(rotation=90)\n                plt.tight_layout()\n        \n        elif plot == 'count':\n            for e,y in enumerate(self.year):\n                plt.suptitle(f\"Count {self.df['city_name'][0]} Ground Level\")\n                plt.subplot(2, 1, e+1)\n                sns.countplot(data=self.df[self.df['year']==y], x='grnd_level')\n                plt.title(f\"{y}\")\n                plt.xticks(rotation=90)\n                plt.tight_layout()\n    \n    def plot_main(self):\n        for e,y in enumerate(self.year):\n            plt.suptitle(f\"{self.df['city_name'][0]} Main\")\n            plt.subplot(1, 2, e+1)\n            sns.countplot(data=self.df[self.df['year']==y], x='month', hue='main')\n            plt.title(f\"Main At {self.df['city_name'][0]} In {y}\")\n            plt.xlabel('Month')\n            plt.xticks(rotation=90)\n            plt.tight_layout()\n    \n    def plot_description(self):\n        for e,y in enumerate(self.year):\n            plt.suptitle(f\"Count {self.df['city_name'][0]} Description\")\n            plt.subplot(1, 2, e+1)\n            sns.countplot(data=self.df[self.df['year']==y], x='month', hue='description')\n            plt.title(f\"Description At {self.df['city_name'][0]} In {y}\")\n            plt.xlabel('Month')\n            plt.xticks(rotation=90)\n            plt.tight_layout()\n            \n    def plot_cloud(self):\n        for e,y in enumerate(self.year):\n            plt.suptitle(f\"{self.df['city_name'][0]} Cloud Level\")\n            plt.subplot(1, 2, e+1)\n            sns.lineplot(data=self.df[self.df['year']==y], x='dt_txt', y='cloud')\n            plt.title(f\"Cloud Level At {self.df['city_name'][0]} In {y}\")\n            plt.xlabel('Date')\n            plt.xticks(rotation=90)\n            plt.tight_layout() \n\n    def plot_windspeed(self):\n        for e,y in enumerate(self.year):\n            plt.suptitle(f\"{self.df['city_name'][0]} Wind Speed Level\")\n            plt.subplot(1, 2, e+1)\n            sns.lineplot(data=self.df[self.df['year']==y], x='dt_txt', y='wind_speed')\n            plt.title(f\"Wind Speed Level At {self.df['city_name'][0]} In {y}\")\n            plt.xlabel('Date')\n            plt.xticks(rotation=90)\n            plt.tight_layout() \n            \n    def plot_winddegree(self):\n        for e,y in enumerate(self.year):\n            plt.suptitle(f\"{self.df['city_name'][0]} Wind Degree Level\")\n            plt.subplot(1, 2, e+1)\n            sns.lineplot(data=self.df[self.df['year']==y], x='dt_txt', y='wind_degree')\n            plt.title(f\"Wind Degree Level At {self.df['city_name'][0]} In {y}\")\n            plt.xlabel('Date')\n            plt.xticks(rotation=90)\n            plt.tight_layout() \n        ","0815c589":"firozabad = PlotEDA(df_firozabad)","3ad67fba":"firozabad.plot_windspeed()","a7c90f46":"firozabad.plot_pressure('count')","7f2ce4db":"firozabad.plot_sealvl('line')","37a52b0e":"firozabad.plot_main()","ff9813d1":"firozabad.plot_description()","be8a1ee5":"<h1 style='background:#CCE2CB; border:0; color:black'><center> Load Data <\/center><\/h1> ","118b204a":"<h1 style='background:#CCE2CB; border:0; color:black'><center> Split Dataset By City <\/center><\/h1> ","5eb96827":"<h1 style='background:#CCE2CB; border:0; color:black'><center> Importing Libraries <\/center><\/h1> ","59b78e5c":"<h1 style='background:#CCE2CB; border:0; color:black'><center> EDA & Feature Engineering(1) <\/center><\/h1> ","23748d06":"<h1 style='background:#CCE2CB; border:0; color:black'><center> EDA(2) <\/center><\/h1> "}}