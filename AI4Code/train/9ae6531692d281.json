{"cell_type":{"8fa8337b":"code","af44131c":"code","cd921eae":"code","a69ad9c0":"code","1cd5ffb8":"code","563b8693":"code","53d576fa":"code","767835d6":"code","0b9f3ddd":"code","601b3974":"code","8f6a0cd3":"code","c7b75b0b":"code","a0e1fcca":"code","fe92252d":"code","27b79e35":"code","58806eda":"code","46f28891":"code","e9272398":"markdown","1cbbacad":"markdown","9cc085e7":"markdown","a3887926":"markdown","3c5e457d":"markdown","9c1bb6d9":"markdown"},"source":{"8fa8337b":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","af44131c":"titanic_df = pd.read_csv(\"..\/input\/titanic\/train.csv\", index_col=\"PassengerId\")\ntitanic_df.head()","cd921eae":"no_survived = titanic_df[titanic_df[\"Survived\"] == 0]\nsurvived = titanic_df[titanic_df[\"Survived\"] == 1]\n\npclass_no_surv = no_survived[\"Pclass\"].value_counts()\npclass_surv = survived[\"Pclass\"].value_counts()\n\ncross_tab = pd.crosstab(titanic_df[\"Survived\"],titanic_df[\"Pclass\"])\ncross_tab.plot(kind=\"bar\")","a69ad9c0":"first_class_sum = cross_tab.loc[0, 1] + cross_tab.loc[1, 1]\nsecond_class_sum = cross_tab.loc[0, 2] + cross_tab.loc[1, 2]\nthird_class_sum = cross_tab.loc[0, 3] + cross_tab.loc[1, 3]\n\nfirst_class_died = (cross_tab.loc[0, 1]*100)\/first_class_sum\nsecond_class_died = (cross_tab.loc[0, 2]*100)\/second_class_sum\nthird_class_died = (cross_tab.loc[0, 3]*100)\/third_class_sum\n\nprecentage_of_victims = pd.DataFrame([first_class_died, second_class_died, third_class_died], index=[\"First class\", \"Second class\", \"Third class\"])\nprecentage_of_victims.plot(kind='bar')","1cd5ffb8":"children = titanic_df[titanic_df[\"Age\"] < 18]\n\nadults_filter = (titanic_df[\"Age\"] >= 18) & (titanic_df[\"Age\"] < 60)\nadults = titanic_df[adults_filter]\n\nseniors = titanic_df[titanic_df[\"Age\"] >= 60]","563b8693":"children_val_cnt = children[\"Survived\"].value_counts()\n\nfig, ax = plt.subplots(1)\nsns.barplot(ax=ax, x=children_val_cnt.index, y=children_val_cnt.values)","53d576fa":"adults_val_cnt = adults[\"Survived\"].value_counts()\n\nfig, ax = plt.subplots(1)\nsns.barplot(ax=ax, x=adults_val_cnt.index, y=adults_val_cnt.values)","767835d6":"seniors_val_cnt = seniors[\"Survived\"].value_counts()\n\nfig, ax = plt.subplots(1)\nsns.barplot(ax=ax, x=seniors_val_cnt.index, y=seniors_val_cnt.values)","0b9f3ddd":"children_surv = len(children[children[\"Survived\"] == 1])\nchildren_no_surv = len(children[children[\"Survived\"] == 0])\n\nadults_surv = len(adults[adults[\"Survived\"] == 1])\nadults_no_surv = len(adults[adults[\"Survived\"] == 0])\n\nseniors_surv = len(seniors[seniors[\"Survived\"] == 1])\nseniors_no_surv = len(seniors[seniors[\"Survived\"] == 0])\n\nall_children = children_surv + children_no_surv\nall_adults = adults_surv + adults_no_surv\nall_seniors = seniors_surv + seniors_no_surv\n\npercent_of_children_surv = (children_surv*100)\/all_children\npercent_of_adults_surv = (adults_surv*100)\/all_adults\npercent_of_seniors_surv = (seniors_surv*100)\/all_seniors\n\nprint(\"Percentage of children survivors: %.2f%%\" % percent_of_children_surv)\nprint(\"Percentage of adult survivors: %.2f%%\" % percent_of_adults_surv)\nprint(\"Percentage of senior survivors: %.2f%%\" % percent_of_seniors_surv)","601b3974":"children = titanic_df[titanic_df[\"Age\"] < 18]\n\nadults_filter = (titanic_df[\"Age\"] >= 18) & (titanic_df[\"Age\"] < 60)\nadults = titanic_df[adults_filter]\n\nseniors = titanic_df[titanic_df[\"Age\"] >= 60]","8f6a0cd3":"first_class_not_surv = len(children[(children[\"Pclass\"] == 1) & (children[\"Survived\"] == 0)])\nfirst_class_surv = len(children[(children[\"Pclass\"] == 1) & (children[\"Survived\"] == 1)])\n\nsecond_class_not_surv = len(children[(children[\"Pclass\"] == 2) & (children[\"Survived\"] == 0)])\nsecond_class_surv = len(children[(children[\"Pclass\"] == 2) & (children[\"Survived\"] == 1)])\n\nthird_class_not_surv = len(children[(children[\"Pclass\"] == 3) & (children[\"Survived\"] == 0)])\nthird_class_surv = len(children[(children[\"Pclass\"] == 3) & (children[\"Survived\"] == 1)])\n\ndata = [[first_class_not_surv, first_class_surv], [second_class_not_surv, second_class_surv], [third_class_not_surv, third_class_surv]]\n\nchildren_class_surv = pd.DataFrame(data, columns=[\"Not survived\", \"Survived\"], index=[\"First class\", \"Second class\", \"Third class\"])\nchildren_class_surv","c7b75b0b":"first_class_not_surv = len(adults[(adults[\"Pclass\"] == 1) & (adults[\"Survived\"] == 0)])\nfirst_class_surv = len(adults[(adults[\"Pclass\"] == 1) & (adults[\"Survived\"] == 1)])\n\nsecond_class_not_surv = len(adults[(adults[\"Pclass\"] == 2) & (adults[\"Survived\"] == 0)])\nsecond_class_surv = len(adults[(adults[\"Pclass\"] == 2) & (adults[\"Survived\"] == 1)])\n\nthird_class_not_surv = len(adults[(adults[\"Pclass\"] == 3) & (adults[\"Survived\"] == 0)])\nthird_class_surv = len(adults[(adults[\"Pclass\"] == 3) & (adults[\"Survived\"] == 1)])\n\ndata = [[first_class_not_surv, first_class_surv], [second_class_not_surv, second_class_surv], [third_class_not_surv, third_class_surv]]\n\nadults_class_surv = pd.DataFrame(data, columns=[\"Not survived\", \"Survived\"], index=[\"First class\", \"Second class\", \"Third class\"])\nadults_class_surv","a0e1fcca":"first_class_not_surv = len(seniors[(seniors[\"Pclass\"] == 1) & (seniors[\"Survived\"] == 0)])\nfirst_class_surv = len(seniors[(seniors[\"Pclass\"] == 1) & (seniors[\"Survived\"] == 1)])\n\nsecond_class_not_surv = len(seniors[(seniors[\"Pclass\"] == 2) & (seniors[\"Survived\"] == 0)])\nsecond_class_surv = len(seniors[(seniors[\"Pclass\"] == 2) & (seniors[\"Survived\"] == 1)])\n\nthird_class_not_surv = len(seniors[(seniors[\"Pclass\"] == 3) & (seniors[\"Survived\"] == 0)])\nthird_class_surv = len(seniors[(seniors[\"Pclass\"] == 3) & (seniors[\"Survived\"] == 1)])\n\ndata = [[first_class_not_surv, first_class_surv], [second_class_not_surv, second_class_surv], [third_class_not_surv, third_class_surv]]\n\nseniors_class_surv = pd.DataFrame(data, columns=[\"Not survived\", \"Survived\"], index=[\"First class\", \"Second class\", \"Third class\"])\nseniors_class_surv","fe92252d":"fig, axs = plt.subplots(3, figsize=(10, 30))\n\nchildren_class_surv.plot(kind=\"bar\", ax=axs[0])\nadults_class_surv.plot(kind=\"bar\", ax=axs[1])\nseniors_class_surv.plot(kind=\"bar\", ax=axs[2])\n\naxs[0].set_title(\"Children survivors by class\")\naxs[0].set_xticklabels(children_class_surv.index, rotation=45)\n\naxs[1].set_title(\"Adults survivors by class\")\naxs[1].set_xticklabels(adults_class_surv.index, rotation=45)\n\naxs[2].set_title(\"Seniors survivors by class\")\naxs[2].set_xticklabels(seniors_class_surv.index, rotation=45)\n\nplt.subplots_adjust(hspace=0.5)","27b79e35":"less_30 = titanic_df[titanic_df[\"Age\"] < 30]\nmore_equ_30 = titanic_df[titanic_df[\"Age\"] >= 30]","58806eda":"less_30[\"Pclass\"].value_counts()","46f28891":"more_equ_30[\"Pclass\"].value_counts()","e9272398":"# Age and Class analysis for survived or not\n\n##### The notebook contains analysis in which we can see the dependence between the age of the passenger and in which class he travelled and whether it survived.","1cbbacad":"# Age and survived\n\n##### We can split passengers into age groups. The first group is children. There are passengers who are younger than 18 years old. The second group is adult. This group contains travellers older or equals  18 but younger than 60. The last group is the senior's group in which are passengers older or equals 60 years old.\n\n##### Based on the data below we can see, that age has an influence on the probability of survival. The smaller the age of the passenger, the greater the chance of surviving the disaster.","9cc085e7":"# Summary\n\n##### Finally, let's put it all together.\n\n##### The least safe class on the Titanic was Class 3. 75% of people died there. The second class was safer than its. Class 1 turned out to be the safest (only 37% of deaths).\n\n##### The age of the passenger is also important for survival. In general, the younger the person, the better his chances.\n\n##### Most of the seniors died despite travelling in 1st class. However, the journey in it helped adults survive. In other classes, most of them died.\n\n##### The children had the best chance of survival. This could be because they were most likely rescued from the very beginning.\n\n##### About 50% of children, 40% of adults and 27% of seniors survived the disaster.","a3887926":"# Pclass and survived\n\n##### Based on the chart below, we can assume that a lot of passengers who travelled in third class died. When we count the percentage of dead people in each class, we can confirm it. In third class died 75% of passengers. In the second class, it is about half of the travellers. The first class was the safest class in Titanic. Only 37% of passengers died in the disaster.","3c5e457d":"\n# Probability of being a survivor\n\n##### The average age is about 30 years old. Using this data, we can calculate the probability of being a survivor when a passenger is younger than 30 years old and when the passenger is 30 or older than 30. \n\nA - is survivor  \nB - age < 30  \nA\u2229B - age < 30 and passenger is survivor  \n\n\nP(A\u2229B) = 208\/891 \u2248 0.23  \nP(B) = 561\/891 \u2248 0.63  \nP(A|B) = 0.23\/0.63 \u2248 36.50%  \n\n##### When a passenger is younger than 30 years old he has about 37% chances to survive.\n\n\nA - is survivor  \nB - age >- 30  \nA\u2229B - age >= 30 and passenger is survivor  \n\n\nP(A\u2229B) = 134\/891 \u2248 0.15  \nP(B) = 330\/891 \u2248 0.37  \nP(A|B) = 0.15\/0.37 \u2248 40.54%  \n\n##### When a passenger is 30 years old or older he has about 40.50% chances to survive.\n\n##### Looking at these calculations, we can see that they contradict the previous findings. This can be explained very easily. Most of the young people (67%) travelled in the 3rd class. As we have already established, most passengers died in this class.","9c1bb6d9":"# Age with Pclass and survived\n\n##### We can also group passengers by age and in which class they are travelled and next check whether survived or not.\n##### Based on the data below we can assume that seniors had not high chances to survive the disaster doesn't matter what class they were in. If we are looking at adults data we can say that the majority of passengers who travelled in the first class were saved from an accident. The rest of adult travellers the mostly died. The last group is children. In the third class, the most of children died, but in the first and second the majority of them were saved."}}