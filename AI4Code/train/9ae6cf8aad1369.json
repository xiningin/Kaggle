{"cell_type":{"61888857":"code","af1c5931":"code","444aa3d4":"code","57e58274":"code","eebdaa1f":"code","9732fbfa":"code","48d84c92":"code","23fc393e":"code","38058a12":"code","9cda2745":"code","9db9e68f":"code","a7952e5a":"code","3df1421f":"code","22c0be81":"markdown","110ebbed":"markdown","8b3a1776":"markdown","b301f416":"markdown","a1fe7cf1":"markdown","ffe1d45d":"markdown","fcd30ebf":"markdown","55205f2b":"markdown","ff60c0ea":"markdown","fdf188a2":"markdown","2086d7cd":"markdown"},"source":{"61888857":"import pandas as pd\nimport numpy as np\n\nfrom mlxtend.frequent_patterns import apriori, association_rules\nfrom mlxtend.preprocessing import TransactionEncoder\n","af1c5931":"df = pd.read_csv('..\/input\/supermarket\/GroceryStoreDataSet.csv' , names =[\"Products\"], header=None)\ndf.head() #Veri setinin ilk 5 g\u00f6zlemi","444aa3d4":"#Veri setinin boyutlar\u0131\ndf.shape ","57e58274":"#Veri setinin boyut say\u0131s\u0131\ndf.ndim","eebdaa1f":"#unique de\u011fi\u015fkenlerin bulunup items olarak atanmas\u0131\nitems = df[\"Products\"].unique()\nitems","9732fbfa":"#df i\u00e7erisinden products de\u011fi\u015fkeni se\u00e7ilip burada products de\u011fi\u015fkeninde yer alan \u00fcr\u00fcnler bir arada iken birbirlerinden ayr\u0131larak listelenmi\u015ftir.\nitems = list(df['Products'].apply(lambda x : x.split(',')))\nitems","48d84c92":"#m\u00fc\u015fterinin sepetinde hangi \u00fcr\u00fcnlerin olup olmad\u0131\u011f\u0131 ONE-HOT ENCODING ile boolean yap\u0131l\u0131r\n\nte = TransactionEncoder()\nte_items = te.fit(items).transform(items)\nitems_df = pd.DataFrame(te_items,columns=te.columns_)\nitems_df","23fc393e":"#Esik de\u011ferini support'a g\u00f6re belirlemek i\u00e7in support hesab\u0131 yap\u0131l\u0131r. \u00c7\u0131kt\u0131ya g\u00f6re 83 farkl\u0131 kombinasyon ortaya \u00e7\u0131kt\u0131. (11 tane \u00fcr\u00fcn\u00fcm\u00fcz vard\u0131.) \n#Yorum \u00f6rne\u011fi : Ekmek b\u00fct\u00fcn al\u0131\u015fveri\u015flerin % 65'inde  bulunmaktad\u0131r.\nfreq_items  = apriori(items_df,min_support=0.01,use_colnames=True)\nfreq_items","38058a12":"final_tableau = association_rules(freq_items,metric=\"confidence\",min_threshold = 0.6)\nfinal_tableau","9cda2745":"final_tableau[(final_tableau['confidence']>0.6) & (final_tableau['support']>0.3)]","9db9e68f":"final_tableau[(final_tableau['confidence']>0.6) & (final_tableau['support']>=0.2)]","a7952e5a":"final_tableau","3df1421f":"final_tableau.sort_values(by=\"support\",ascending=False).head(6)","22c0be81":"* Support de\u011feri %30 dan fazla ve confidence de\u011feri %60 dan fazla olan \u00fcr\u00fcnler bulunmamaktad\u0131r. Support de\u011ferini %20 yaparsak;","110ebbed":"## Yorumlar\n\nSugar ve Bread ikilisi i\u00e7in inceledi\u011fimizde;\n\nSupport\n* Al\u0131\u015fveri\u015flerde tek olarak s\u00fct\u00fcn al\u0131nma olas\u0131l\u0131\u011f\u0131 %25 iken ekme\u011fin al\u0131nmas\u0131 %65'dir. S\u00fct ve ekmek ikilisi t\u00fcm al\u0131\u015fveri\u015flerin %20 sinde beraber al\u0131nd\u0131\u011f\u0131 g\u00f6r\u00fclmektedir.\n\nConfidence\n* S\u00fct sat\u0131ld\u0131\u011f\u0131nda ekmek sat\u0131lma olas\u0131l\u0131\u011f\u0131 0,80 dir. S\u00fct alanlar\u0131n %80'i ekmek de almaktad\u0131r. Bu sebeple s\u00fct ve ekmek genel ihtiya\u00e7lar oldu\u011fundan birbirinden uza\u011fa konulup araya da satmak istedi\u011fimiz \u00fcr\u00fcnleri koyarsak m\u00fc\u015fteri birinden di\u011ferine ge\u00e7erken bunlar\u0131 farkedip almak isteyebilir.\n\nLift\n* S\u00fct sat\u0131ld\u0131\u011f\u0131nda ekmek sat\u0131lma olas\u0131l\u0131\u011f\u0131 1.23 kat artmaktad\u0131r.\n","8b3a1776":"### ASSOCIATION RULES ","b301f416":"## ASSOCIATION RULES\n\n\"O \u00fcr\u00fcn\u00fc alanlar bu \u00fcr\u00fcn\u00fc de ald\u0131\" gibi c\u00fcmlelere s\u0131k s\u0131k denk gelmekteyiz. \u0130\u015fte birliktelik analizi tam da bu k\u0131s\u0131mda kar\u015f\u0131m\u0131za \u00e7\u0131kmaktad\u0131r. \nTan\u0131m olarak, veri tabanlar\u0131 i\u00e7erisinde \u00fcr\u00fcnlerin birlikteli\u011fini inceleyip, bu birlikteliklere g\u00f6re tavsiye veya stratejiler alma imkan\u0131 sa\u011flayan analiz t\u00fcr\u00fcd\u00fcr.\n\nBirliktelik analizi uygulamalar\u0131 e-ticaret, perakendecilik gibi sekt\u00f6rlerde kendine yer bulmu\u015ftur. \n\nBirliktelik analizinde \u00e7e\u015fitli y\u00f6ntemler kullan\u0131lmaktad\u0131r.En \u00e7ok kar\u015f\u0131m\u0131za \u00e7\u0131kan \"Apriori Algritmas\u0131\" d\u0131r.\n\nApriori Algoritmas\u0131\n\nBirliktelik kural\u0131 analizi baz\u0131 metrikler incelenerek ger\u00e7ekle\u015ftirilir:\n\n* Support : Al\u0131\u015fveri\u015f yapanlar\u0131n sepetinde \u00fcr\u00fcnler ka\u00e7 defa birlikte ge\u00e7mi\u015f\nSupport(X, Y) = Freq (X,Y)\/ N    \n\n* Confidence  : X alanlar\u0131n y\u00fczde \u015fu kadar\u0131 Y \u00fcr\u00fcn\u00fcn\u00fc de alacak.\nConfidence(X, Y) = Freq (X,Y) \/ Freq(X)\n\n* Lift : Bir sepette X \u00fcr\u00fcn\u00fc olmas\u0131 durumunda Y \u00fcr\u00fcn\u00fcn\u00fcn sat\u0131n al\u0131nmas\u0131n\u0131n ka\u00e7 kat artt\u0131\u011f\u0131n\u0131 g\u00f6sterir.\nLift = Support (X, Y) \/ (Support(X) * Support(Y)) \n\nX: \u00fcr\u00fcn Y: \u00fcr\u00fcn N: toplam al\u0131\u015fveri\u015f\n\n","a1fe7cf1":"### Final tablosu \u00fczerinden yorum yap\u0131l\u0131r.","ffe1d45d":"### Support ve confidence a g\u00f6re se\u00e7imler yapma","fcd30ebf":"* Datay\u0131 okuma","55205f2b":"* Support'u %30 dan b\u00fcy\u00fck ve confidence de\u011feri %60 dan fazla olan de\u011ferleri se\u00e7me;","ff60c0ea":"## DATA UNDERSTANDING ","fdf188a2":"## DATA PREPROCESSING","2086d7cd":"* Import i\u015flemleri"}}