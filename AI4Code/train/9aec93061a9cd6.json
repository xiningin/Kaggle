{"cell_type":{"ced252db":"code","e16e6f87":"code","8096c7bc":"code","c2283401":"code","ebfb4a6f":"code","f5eedb20":"code","9997c7f5":"code","520a44af":"code","7426da5f":"code","70f414ad":"code","4140fc38":"code","3a890bb6":"code","ca84fc41":"code","80c40d2c":"code","0681bcf8":"code","8248628a":"code","70bd9984":"code","08c4008e":"code","14ba0fef":"code","dff884b1":"code","bcbc0c58":"code","bd4249c4":"code","a6e69d8e":"code","0d8979ac":"code","71723c8f":"markdown","369575c7":"markdown","6f3575ca":"markdown","ec5a3ec5":"markdown","d1b7915c":"markdown","a0263edf":"markdown","97060eef":"markdown","42a8fc82":"markdown","2525693c":"markdown","3e4349f7":"markdown","9b270a91":"markdown","e4009ba4":"markdown","17e9b09c":"markdown","1ceb8545":"markdown","784c2364":"markdown","adb444ec":"markdown","2c3e1fbd":"markdown","99c680c8":"markdown","7ef03877":"markdown","70966cbb":"markdown","48eddc9e":"markdown","f6784478":"markdown"},"source":{"ced252db":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport re\nimport matplotlib.pyplot as plt\nfrom matplotlib.pyplot import figure\n%matplotlib inline\nimport plotly.graph_objs as go\nfrom wordcloud import WordCloud\nimport geopandas as gpd","e16e6f87":"df = pd.read_csv('..\/input\/chennai-zomato-restaurants-data\/Zomato Chennai Listing 2020.csv')\ndf.head()","8096c7bc":"df.replace(to_replace = ['None','Invalid','Does not offer Delivery','Does not offer Dining','Not enough Delivery Reviews','Not enough Dining Reviews'], value =np.nan,inplace=True)\ndf.isnull().sum()","c2283401":"df['name of restaurant'] = df['Name of Restaurant'].apply(lambda x: x.lower())\ndf['Top Dishes'] = df[\"Top Dishes\"].astype(str)\ndf['Top Dishes'] = df['Top Dishes'].apply(lambda x:x.replace('[','').replace(']','').replace(\"'\",'').replace('  ','').split(','))\ndf['Cuisine'] = df[\"Cuisine\"].astype(str)\ndf['Cuisine'] = df['Cuisine'].apply(lambda x:x.replace('[','').replace(']','').replace(\"'\",'').replace('  ','').split(','))\ndf['Features'] = df['Features'].apply(lambda x:x.replace('[','').replace(']','').replace(\"'\",'').replace('  ','').split(','))\ndf['Dining Rating Count'] = df['Dining Rating Count'].astype(\"Float32\")\ndf['Delivery Rating Count'] = df['Delivery Rating Count'].astype(\"Float32\")","ebfb4a6f":"def locsplit(x):\n    if len(x.split(','))==2:\n        return x.split(',')[1].replace(' ','')\n    else:\n        return x\n\ndf['Location_2'] = df['Location'].apply(lambda x: locsplit(x))","f5eedb20":"print(len(df['Location'].unique()))\nprint(len(df['Location_2'].unique()))","9997c7f5":"print(df['Location_2'].unique().tolist())","520a44af":"feat_list = [feat.lower() for feats in df['Features'].tolist() for feat in feats]\nprint(len(set(feat_list)))\nprint(list(set(feat_list)))","7426da5f":"fig = go.Figure(data=[go.Bar(\n                x = df['Location_2'].value_counts()[:20].index.tolist(),\n                y = df['Location_2'].value_counts()[:20].values.tolist())])\n\nfig.show()","70f414ad":"df['name of restaurant'].value_counts()[:25]","4140fc38":"bins_r = [0,2.5,4,5]\ngroup_r = ['bad','good','best']\ndf['Dining Rating'] = df['Dining Rating'].astype(float)\ndf['Dine_Verdict'] = pd.cut(df['Dining Rating'],bins_r,labels=group_r)\nyv = df['Dine_Verdict'].value_counts().tolist()\ncolors = ['blue','green','red']\nfig = go.Figure(data=[go.Bar(x=group_r,y=yv,marker_color=colors)])\nfig.show()","3a890bb6":"loc_price2 = pd.crosstab(df['Location_2'],df['Dine_Verdict'],margins=True,margins_name='Total') \nloc_price3 = loc_price2.sort_values('Total',ascending=False)[1:26]\nloc_price3.drop(columns=['Total'],inplace=True)\nloc_price3.div(loc_price3.sum(1).astype(float), axis=0).plot(kind=\"bar\", stacked=True,figsize=(20, 10),color = ['g','y','b','r'])","ca84fc41":"bins_r = [0,3.5,4,5]\ngroup_r = ['bad','good','best']\ndf['Delivery Rating'] = df['Delivery Rating'].astype(float)\ndf['Delivery_Verdict'] = pd.cut(df['Delivery Rating'],bins_r,labels=group_r)\nyv = df['Delivery_Verdict'].value_counts().tolist()\ncolors = ['blue','green','red']\nfig = go.Figure(data=[go.Bar(x=group_r,y=yv,marker_color=colors)])\nfig.show()","80c40d2c":"loc_price4 = pd.crosstab(df['Location_2'],df['Delivery_Verdict'],margins=True,margins_name='Total') \nloc_price5 = loc_price4.sort_values('Total',ascending=False)[1:26]\nloc_price5.drop(columns=['Total'],inplace=True)\nloc_price5.div(loc_price5.sum(1).astype(float), axis=0).plot(kind=\"bar\", stacked=True,figsize=(20, 10),color = ['g','y','b','r'])","0681bcf8":"bins = [0,500,1000,2500,float(\"inf\")]\ngroups = ['cheap','moderate','pricey','expensive']\ndf['Cost'] = pd.cut(df['Price for 2'], bins,labels=groups)\nyc = df['Cost'].value_counts().tolist()\ncolors = ['green','orange','blue','red']\nfig = go.Figure(data=[go.Bar(x=groups,y=yc,marker_color=colors)])\nfig.show()","8248628a":"loc_price0 = pd.crosstab(df['Location_2'],df['Cost'],margins=True,margins_name='Total') \nloc_price1 = loc_price0.sort_values('Total',ascending=False)[1:26]\nloc_price1.drop(columns=['Total'],inplace=True)\nloc_price1.div(loc_price1.sum(1).astype(float), axis=0).plot(kind=\"bar\", stacked=True,figsize=(20, 10),color = ['g','y','b','r'])","70bd9984":"dishes = ' '.join(dish for dish_list in df['Top Dishes'].tolist() for dish in dish_list if dish != np.nan)\nwordcloud = WordCloud(background_color='white',stopwords=['nan']).generate(dishes)\nfigure(figsize=(20, 10))\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","08c4008e":"cuisines = ' '.join(dish for dish_list in df['Cuisine'].tolist() for dish in dish_list if dish != 'Invalid')\nwordcloud = WordCloud(background_color='white').generate(cuisines)\nfigure(figsize=(20, 10))\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","14ba0fef":"def veg_status(feat_list):\n    if 'Vegetarian Only' in feat_list:\n        return 'Yes'\n    elif ' Vegetarian Only' in feat_list:\n        return 'Yes'\n    else:\n        return 'No'","dff884b1":"df['Vegetarian Status'] = df['Features'].apply(lambda x: veg_status(x))\ndf['Vegetarian Status'].value_counts()","bcbc0c58":"fig = go.Figure(data=[go.Bar(\n                x = df.loc[df['Vegetarian Status'] == 'Yes']['name of restaurant'].value_counts()[:10].index.tolist(),\n                y = df.loc[df['Vegetarian Status'] == 'Yes']['name of restaurant'].value_counts()[:10].values.tolist())])\n\nfig.show()","bd4249c4":"fig = go.Figure(data=[go.Bar(\n                x = df.loc[df['Vegetarian Status'] == 'Yes']['Location'].value_counts()[:10].index.tolist(),\n                y = df.loc[df['Vegetarian Status'] == 'Yes']['Location'].value_counts()[:10].values.tolist())])\n\nfig.show()","a6e69d8e":"df.loc[df['Dining Rating Count'].nlargest(10).index][['Name of Restaurant','Location_2','Dining Rating Count','Delivery Rating Count']]","0d8979ac":"df.loc[df['Delivery Rating Count'].nlargest(10).index][['Name of Restaurant','Location_2','Delivery Rating Count','Dining Rating Count']]","71723c8f":"<div id=\"pop\"><\/div>\n# Most Popular Restaurants in Chennai","369575c7":"<div id=\"rate\"><\/div>\n# Rating Distribution Location wise\n## Dining only Ratings","6f3575ca":"## Locations with Maximum Vegetarian Restaurants","ec5a3ec5":"### - Guntur Gongura, Hotelkaar Biriyani and Supriya Andhra Restaurants are the top 3 most popular delivery focussed restaurants as per the number of Zomato Delivery Ratings","d1b7915c":"### - Nungabakkam, Adyar, Anna Nagar East and Mylapore have the highest percentage of restaurants rated > 4 by Zomato's dining ratings","a0263edf":"<div id=\"prep\"> <\/div>\n# Loading and Pre-Processing Data ","97060eef":"<div id=\"food\"><\/div>\n# What does Chennai eat?","42a8fc82":"### Only 1830 restaurants listed on Zomato have declared themselves 'Vegetarian Only' which means only about 15% of them are classified Vegetarian which debunks the myth that Chennai is a 'Vegetarian' majority","2525693c":"<div id=\"fran\"><\/div>\n## Most Number of Franchises","3e4349f7":"<div id=\"price\"><\/div>\n# Price Comparision Location wise","9b270a91":"### - Anna Nagar East, Kilpauk, Nungabakkam, Mogappair & Adyar have the highest percentage of ratings > 4 as sourced from Zomato's delivery orders","e4009ba4":"<div id=\"prep\"><\/div>\n# Chennai Location Wise Distribution","17e9b09c":"## Delivery only Ratings","1ceb8545":"## Most Popular Cuisines being served in Chennai restaurants","784c2364":"### - As expected Nungambakkam has the most number of expensive restaurants","adb444ec":"### Clearly this breaks the stereotype of Chennai predominantly being a 'Idly Dosa' place and Chicken is hands-down the most eaten dish\/food","2c3e1fbd":"# Zomato Chennai Listings as of May 27th 2020\n---\nThis dataset was created by scraping their webiste hence all the data used here belongs to Zomato and it's restaurants alone. This kernel is an attempt at analyzing Chennai's food scene through Data and how it's urban inhabitants are using the new-age services like Delivery & Cloud Kitchens. \n\n> Note that - this does not represent the entire spectrum of restaurants in Chennai since Zomato's main competition - Swiggy also has exclusive access to some restaurant data. And like any other Indian City, quite a lot of eateries fall into the unorganized\/unlisted category - the ones you can find on the roadside which is where most of a city's population transact when we define 'eating out'.\n\n### Contents\n1. [Loading Data and Pre-Processing](https:\/\/www.kaggle.com\/phiitm\/chennai-zomato-eda\/#Loading-and-Pre-Processing-Data)\n2. [Chennai Location Wise Distribution](https:\/\/www.kaggle.com\/phiitm\/chennai-zomato-eda\/#Chennai-Location-Wise-Distribution)\n3. [Most Number of Franchises](https:\/\/www.kaggle.com\/phiitm\/chennai-zomato-eda\/#Most-Number-of-Franchises)\n4. [Rating Distribution Location wise](https:\/\/www.kaggle.com\/phiitm\/chennai-zomato-eda\/#Rating-Distribution-Location-wise)\n5. [Price Comparision Location wise](https:\/\/www.kaggle.com\/phiitm\/chennai-zomato-eda\/#Price-Comparision-Location-wise)\n6. [What does Chennai Eat?](https:\/\/www.kaggle.com\/phiitm\/chennai-zomato-eda\/#What-does-Chennai-eat?)\n7. [Chennai and Vegetarianism - Myths debunked](https:\/\/www.kaggle.com\/phiitm\/chennai-zomato-eda\/#Chennai-and-Vegetarianism---Myths-debunked)\n8. [Most Popular Restaurants in Chennai](https:\/\/www.kaggle.com\/phiitm\/chennai-zomato-eda\/#Most-Popular-Restaurants-in-Chennai)","99c680c8":"## Unique Restaurant Features","7ef03877":"### - Coal Barbeques, BBQ Nation and Onesta are the top 3 most popular restaurants as per the number of Zomato Dining Ratings","70966cbb":"<div id=\"veg\"><\/div>\n# Chennai and Vegetarianism - Myths debunked","48eddc9e":"## Don't forget to upvote this Kernel and the Dataset :)","f6784478":"## Dominant Vegetarian Restaurant Franchises"}}