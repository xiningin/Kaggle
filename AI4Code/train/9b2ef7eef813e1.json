{"cell_type":{"602f54e5":"code","ceeaedcf":"code","a6957c6f":"code","19d69037":"code","eadb228c":"code","88681394":"code","324831a3":"code","a528bca1":"code","48656430":"code","02b7e82b":"code","cbb0f72e":"code","29db969d":"code","199aaf4a":"code","d3cdbbc9":"code","31f361fb":"code","d54c4832":"code","df3e368e":"code","7388b12c":"code","3d4f25d9":"code","0914d96d":"code","baca08ef":"code","d3cc2cbb":"code","5b9c83a2":"code","ea7f2dd5":"code","caf099fc":"code","747efb47":"markdown","269cfb0c":"markdown","137d95bb":"markdown","17ebaca8":"markdown","af728417":"markdown","b8ad5e1c":"markdown","4bdccd62":"markdown","5bf9a577":"markdown","f2e6e6a9":"markdown","435463c2":"markdown","2ac4a27e":"markdown","90140855":"markdown","1cb85bc5":"markdown","92eea74e":"markdown","5551922d":"markdown","3b101906":"markdown","662c0c3c":"markdown","2ed2e424":"markdown"},"source":{"602f54e5":"!pip install nfts","ceeaedcf":"import os\nimport sqlite3\n\nimport matplotlib.pyplot as plt\nimport nfts.dataset\nimport numpy as np\nimport pandas as pd\nfrom scipy.optimize import curve_fit\nfrom scipy.special import zeta","a6957c6f":"os.listdir(\"\/kaggle\/input\/ethereum-nfts\")","19d69037":"DATASET_PATH = \"\/kaggle\/input\/ethereum-nfts\/nfts.sqlite\"","eadb228c":"ds = nfts.dataset.FromSQLite(DATASET_PATH)","88681394":"nfts.dataset.explain()","324831a3":"current_owners_df = ds.load_dataframe(\"current_owners\")","a528bca1":"current_owners_df.head()","48656430":"top_owners_df = current_owners_df.groupby([\"owner\"], as_index=False).size().rename(columns={\"size\": \"num_tokens\"})","02b7e82b":"top_owners_df.sort_values(\"num_tokens\", inplace=True, ascending=False)","cbb0f72e":"top_owners_df.head(20)","29db969d":"plt.xlabel(\"Number of tokens owned - n\")\nplt.ylabel(\"Number of addresses owning n tokens (log scale)\")\n_, _, _ = plt.hist(top_owners_df[\"num_tokens\"], bins=100, log=True)\n","199aaf4a":"plt.xlabel(\"Log of rank of token owner\")\nplt.ylabel(\"Log of number of tokens owned\")\n_, = plt.plot([np.log(i+1) for i in range(len(top_owners_df[\"num_tokens\"]))], np.log(top_owners_df[\"num_tokens\"]))","d3cdbbc9":"scale_cutoff = 1500","31f361fb":"low_scale_owners = [num_tokens for num_tokens in top_owners_df[\"num_tokens\"] if num_tokens <= scale_cutoff]","d54c4832":"plt.xlabel(f\"Number of tokens owned - n <= {scale_cutoff}\")\nplt.ylabel(\"Number of addresses owning n tokens\")\n_ = plt.hist(low_scale_owners, bins=int(scale_cutoff\/5))","df3e368e":"plt.xlabel(f\"Number of tokens owned - n <= {scale_cutoff}\")\nplt.ylabel(\"Number of addresses owning n tokens (log scale)\")\n_ = plt.hist(low_scale_owners, bins=int(scale_cutoff\/50), log=True)","7388b12c":"contract_owners_df = current_owners_df.groupby([\"nft_address\", \"owner\"], as_index=False).size().rename(columns={\"size\": \"num_tokens\"})","3d4f25d9":"contract_owners_df.head()","0914d96d":"contract_owners_groups = contract_owners_df.groupby([\"nft_address\"])\n\nentropies = {}\n\nfor contract_address, owners_group in contract_owners_groups:\n    total_supply = owners_group[\"num_tokens\"].sum()\n    owners_group[\"p\"] = owners_group[\"num_tokens\"]\/total_supply\n    owners_group[\"log(p)\"] = np.log2(owners_group[\"p\"])\n    owners_group[\"-plog(p)\"] = (-1) * owners_group[\"p\"] * owners_group[\"log(p)\"]\n    entropy = owners_group[\"-plog(p)\"].sum()\n    entropies[contract_address] = entropy","baca08ef":"plt.xlabel(f\"Ownership entropy of NFT collection\")\nplt.ylabel(\"Number of NFT collections\")\n_ = plt.hist(entropies.values(), bins=80)","d3cc2cbb":"sorted_entropies = [it for it in entropies.items()]\nsorted_entropies.sort(key=lambda it: it[1], reverse=True)\nentropies_df = pd.DataFrame.from_records(sorted_entropies, columns=[\"nft_address\", \"entropy\"])","5b9c83a2":"entropies_df.head()","ea7f2dd5":"entropies_df.tail()","caf099fc":"entropies_df.loc[entropies_df[\"entropy\"] > 2].tail()","747efb47":"The Ethereum NFTs dataset can be found in the Kaggle input directory:","269cfb0c":"Even at this scale, it is more instructive to view the distribution on a logarithmic scale:","137d95bb":"#### The Top 20 NFT owners","17ebaca8":"##### Highest entropy","af728417":"Here is a description of the dataset:","b8ad5e1c":"The overwhelming number of NFT owners each only own a small number of tokens. There are very few addresses that own hundreds or even thousands of tokens.\n\nThis histogram has been charted on a logarithmic scale. To make it easier to interpret.\n\nThis reflects that the distribution of the number of tokens per address seems to follow a [Zipf distribution](https:\/\/en.wikipedia.org\/wiki\/Zipf%27s_law), as indicated by the following plot of the addresses ranked by the number of tokens they own on a [log-log scale](https:\/\/en.wikipedia.org\/wiki\/Log%E2%80%93log_plot).","4bdccd62":"### The shapes of NFT collections\n\nNFTs are released in collections, with a single contract accounting for multiple tokens.\n\nAre there differences between ownership distributions of NFTs like the [Ethereum Name Service (ENS)](https:\/\/ens.domains\/), which have utility beyond their artistic value, and those that do not currently have such use cases?\n\nOne way we can answer this question is to see how much information each NFT collection gives us about individual owners of tokens in that collection. We will do this by treating each collection as a probability distribution over owners of tokens from that collection. If the collection $C$ consists of $n$ tokens and an address $A$ owns $m$ of those tokens, we will assign that address a probability of $p_A = m\/n$ in the collection's associated probability distribution. Then we will calculate the entropy:\n\n$$H(C) = - \\sum_{A} p_A \\log(p_A).$$\nHere, the sum is over all addresses $A$ that own at least one token from $C$.\n\n$H(C)$ simultaneously contains information about:\n1. How many tokens were issued as part of the collection $C$.\n2. How evenly the tokens in $C$ are distributed over the addresses $A$ which own those tokens.\n","5bf9a577":"##### Low entropy","f2e6e6a9":"This analysis shows that the decentralized NFT market is indeed decentralized, with proportionally few NFTs being held by addresses which are minting and purchasing NFTs at industrial scale.\n\n**There are vanishingly few large scale NFT owners on the Ethereum blockchain.**\n\nNote that this is an analysis of addresses, not real-world entities. It is possible for a single person or organization to use a distinct Ethereum address to control each NFT they own. This would currently be difficult enough operationally that only a handful of players in the NFT market are probably doing it. Even this would yield to a further network analysis of where the funds for each NFT purchase were coming from.","435463c2":"For further analysis and interpretation, we have a paper available: https:\/\/github.com\/bugout-dev\/papers\/blob\/main\/nfts\/nfts.md","2ac4a27e":"[`0x08CdCF9ba0a4b5667F5A59B78B60FbEFb145e64c`](https:\/\/etherscan.io\/address\/0x08CdCF9ba0a4b5667F5A59B78B60FbEFb145e64c) is called [WorldCupToken](https:\/\/coinclarity.com\/dapp\/worldcuptoken\/) and was last active 4 years ago. Their recent increase in activity could be in anticipation of the next soccer world cup in 2022.\n\n[`0xA4fF6019f9DBbb4bCC61Fa8Bd5C39F36ee4eB164`](https:\/\/etherscan.io\/address\/0xA4fF6019f9DBbb4bCC61Fa8Bd5C39F36ee4eB164) is associated with a project called [instigators](https:\/\/instigators.network\/).\n\n[`0xB66c7Ca15Af1f357C57294BAf730ABc77FF94940`](https:\/\/etherscan.io\/address\/0xB66c7Ca15Af1f357C57294BAf730ABc77FF94940) is a token associated with something called the [Gems of Awareness Benefit](https:\/\/nftcalendar.io\/event\/gems-of-awareness-benefit-for-entheon-art-by-alex-grey-x-allyson-grey\/).\n\n[`0x5f98B87fb68f7Bb6F3a60BD6f0917723365444C1`](https:\/\/etherscan.io\/address\/0x5f98B87fb68f7Bb6F3a60BD6f0917723365444C1) is [SHADYCON, an NFT associated with Eminem which seems to have been marketed on Nifty Gateway](https:\/\/www.eminem.com\/news\/shadycon-x-nifty-gateway).\n\n[`0x374DBF0dF7aBc89C2bA776F003E725177Cb35750`](https:\/\/etherscan.io\/address\/0x374DBF0dF7aBc89C2bA776F003E725177Cb35750) is [WyldFrogz](https:\/\/twitter.com\/WyldFrogz), a cryptopunks derivative that seems to have some kind of planet-saving theme.","90140855":"[`0xfe00276E0A87E5e54ADD7C5FC6cdD80B363DEe04`](https:\/\/etherscan.io\/address\/0xfe00276E0A87E5e54ADD7C5FC6cdD80B363DEe04).\n\n[`0xfe6b0dAccBAE832b0283CfBFEBe9543B6b7B10a8`](https:\/\/etherscan.io\/address\/0xfe6b0dAccBAE832b0283CfBFEBe9543B6b7B10a8).\n\n[`0xff881E3008f081707bdDA1644e6c92DB9599C1C0`](https:\/\/etherscan.io\/address\/0xff881E3008f081707bdDA1644e6c92DB9599C1C0).\n\n[`0xffC6c59F34Cd9f8861012FDDd0c7F1323082Ab86`](https:\/\/etherscan.io\/address\/0xffC6c59F34Cd9f8861012FDDd0c7F1323082Ab86).\n\n[`0xffCb352Fb3FdbEAab3F662378db28B8D151f210c`](https:\/\/etherscan.io\/address\/0xffCb352Fb3FdbEAab3F662378db28B8D151f210c).\n\nAll these projects are NFTs that did see release in the time period for which we collected data, but saw no further activity. That means that these are either failed projects or projects that have not yet done an official launch.","1cb85bc5":"#### NFT ownership histogram\n\nThe following is the density of the number of addressses owning $n$ NFTs for each $n \\geq 1$.","92eea74e":"### Who owns NFTs?\n\nFirst, let us try to understand who owns NFTs? Are the majority of NFTs owned by a small cabal of addresses or is the market more decentralized than that?","5551922d":"[`0x57f1887a8BF19b14fC0dF6Fd9B2acc9Af147eA85`](https:\/\/etherscan.io\/address\/0x57f1887a8BF19b14fC0dF6Fd9B2acc9Af147eA85) is the [Ethereum Name Service](https:\/\/ens.domains\/).\n\n[`0x60F80121C31A0d46B5279700f9DF786054aa5eE5`](https:\/\/etherscan.io\/address\/0x60F80121C31A0d46B5279700f9DF786054aa5eE5) is [Rarible's](https:\/\/rarible.com\/) governance token ([details](https:\/\/www.notion.so\/rarible\/Rarible-com-FAQ-a47b276aa1994f7c8e3bc96d700717c5)). Their aidrops are the cause of this high entropy.\n\n[`0xC36442b4a4522E871399CD717aBDD847Ab11FE88`](https:\/\/etherscan.io\/address\/0xC36442b4a4522E871399CD717aBDD847Ab11FE88) is [Uniswap's](https:\/\/uniswap.org\/) position NFT, representing [non-fungible liquidity positions](https:\/\/uniswap.org\/blog\/uniswap-v3\/) on Uniswap v3.\n\n[`0xabc207502EA88D9BCa29B95Cd2EeE5F0d7936418`](https:\/\/etherscan.io\/address\/0xabc207502EA88D9BCa29B95Cd2EeE5F0d7936418) are badges for [Yield Guild Games](https:\/\/yieldguild.io\/), which seem to have been airdropped to many existing NFT holders.\n\n[`0x5537d90A4A2DC9d9b37BAb49B490cF67D4C54E91`](https:\/\/etherscan.io\/address\/0x5537d90A4A2DC9d9b37BAb49B490cF67D4C54E91) is the [OneDayPunk](https:\/\/punkscape.xyz\/) collection, which has gained popularity as a down-market Crypto Punks alternative.","3b101906":"##### Zero entropy","662c0c3c":"#### Collections at the extremes\n\nIt is interesting to get a sense of what the collections look like at either extreme of this entropy spectrum.","2ed2e424":"Any address which owns thousands of tokens is either purchasing those tokens automatically (if they exist on multiple contracts) or is financing the collections in which they own tokens. First, let us analye the ownership trends amount addresses which do not own large numbers of tokens. This will help us estimate trends in NFT ownership among non-algorithmic and non-smart contract owners.\n\nFor this, we set a `scale_cutoff` and only consider addresses which own a number of tokens not exceeding that cutoff."}}