{"cell_type":{"ea16960c":"code","94259e61":"code","72e52319":"code","1662b1c7":"code","3af0dfe7":"code","fafc5837":"code","4973e405":"code","80b94491":"code","cc96f1d2":"code","df9a4a6b":"code","8bfe9023":"code","80d658fc":"code","d823c6a0":"code","fff8bf4e":"code","608e4cef":"code","bc512179":"code","56c0ce75":"code","bbf49c4e":"code","5ca85d51":"code","70b05f8a":"code","435e0a00":"code","1cf683e2":"code","eb1cf23d":"code","5cdf2cb2":"markdown","cab5f45b":"markdown","470bb00b":"markdown","79ed6a00":"markdown","90a2dc0b":"markdown","0888cc15":"markdown","dce81c8e":"markdown","9931ec55":"markdown","521291a8":"markdown","f065ea9f":"markdown","ac2354ae":"markdown","2cf644f8":"markdown","7048142a":"markdown","f7692169":"markdown","dddfc58f":"markdown"},"source":{"ea16960c":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.graph_objs as go\nimport plotly.offline as py\nimport plotly.express as px\n\nimport warnings\nwarnings.simplefilter(action='ignore', category=FutureWarning)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","94259e61":"!pip install pyreadstat","72e52319":"import pyreadstat","1662b1c7":"#Code by Erik Marsja https:\/\/www.marsja.se\/how-to-read-write-spss-files-in-python-pandas\/\n\ndf = pd.read_spss(\"\/kaggle\/input\/narcissism-ingroup-satisfaction\/CN_emotions_Study3.sav\")","3af0dfe7":"#Code by Erik Marsja https:\/\/www.marsja.se\/how-to-read-write-spss-files-in-python-pandas\/\n\n# 2 use read_sav to read SPSS file:\ndf, meta = pyreadstat.read_sav('\/kaggle\/input\/narcissism-ingroup-satisfaction\/CN_emotions_Study3.sav')","fafc5837":"type(df)","4973e405":"df.head()","80b94491":"#Code by Erik Marsja https:\/\/www.marsja.se\/how-to-read-write-spss-files-in-python-pandas\/\n\ncols = ['V2', 'V3', 'V6', 'V7', 'V8','V9', 'SPS27', 'Q82', 'LocationLatitude', 'LocationLongitude', 'LocationAccuracy', 'CNsc', 'Lifesat', 'ingsat','senspers']\ndf = pd.read_spss('\/kaggle\/input\/narcissism-ingroup-satisfaction\/CN_emotions_Study3.sav', usecols=cols)\ndf.head()","cc96f1d2":"# Lets first handle numerical features with nan value\nnumerical_nan = [feature for feature in df.columns if df[feature].isna().sum()>1 and df[feature].dtypes!='O']\nnumerical_nan","df9a4a6b":"#Code by Parul Pandey  https:\/\/www.kaggle.com\/parulpandey\/a-guide-to-handling-missing-values-in-python\n\n\nfrom sklearn.impute import SimpleImputer\ndf_most_frequent = df.copy()\n#setting strategy to 'mean' to impute by the mean\nmean_imputer = SimpleImputer(strategy='most_frequent')# strategy can also be mean or median \ndf_most_frequent.iloc[:,:] = mean_imputer.fit_transform(df_most_frequent)","8bfe9023":"df_most_frequent.isnull().sum()","80d658fc":"#Code by Varshini PJ  user: varshinipj\n\nfig = px.scatter_mapbox(df_most_frequent,\n# Here, plotly gets, (x,y) coordinates\nlat=\"LocationLatitude\",\nlon=\"LocationLongitude\",\ntext='V3',\n\n                #Here, plotly detects color of series\n                size=\"ingsat\",\n                color = \"SPS27\",  #color can Not have NaN. Make an imputation first.\n                labels=\"V3\",\n\n                zoom=4.9,\n                center={\"lat\":54.360794067383, \"lon\":18.658294677734},  #don't change lat\/lon with the columns names \n                height=600,\n                width=800)\nfig.update_layout(mapbox_style='stamen-terrain')\nfig.update_layout(margin={\"r\": 0, \"t\": 0, \"l\": 0, \"b\": 0})\nfig.update_layout(title_text=\"Zgadzam si\/nie?\")\nfig.show()","d823c6a0":"#Code by Erik Marsja https:\/\/www.marsja.se\/how-to-read-write-spss-files-in-python-pandas\/\n\npyreadstat.write_sav(df, '\/kaggle\/input\/narcissism-ingroup-satisfaction\/CN_emotions_Study3.sav')","fff8bf4e":"df1 = pd.read_csv(\"\/kaggle\/input\/narcissism-ingroup-satisfaction\/resultscsv\/CN_emotionality_Study1a.csv\", delimiter=',', encoding='utf8')\ndf1.head(2)","608e4cef":"df2 = pd.read_csv(\"\/kaggle\/input\/narcissism-ingroup-satisfaction\/resultscsv\/CN_emotionality_Study1b.csv\", delimiter=',', encoding='utf8')\ndf2.head(2)","bc512179":"df3 = pd.read_csv(\"\/kaggle\/input\/narcissism-ingroup-satisfaction\/resultscsv\/CN_emotionality_Study2.csv\", delimiter=',', encoding='utf8')\ndf3.head(2)","56c0ce75":"df4 = pd.read_csv(\"\/kaggle\/input\/narcissism-ingroup-satisfaction\/resultscsv\/CN_emotions_Study3.csv\", delimiter=',', encoding='utf8')\ndf4.head(5)","bbf49c4e":"##Code by Taha07  https:\/\/www.kaggle.com\/taha07\/data-scientists-jobs-analysis-visualization\/notebook\n\nfrom wordcloud import WordCloud\nfrom wordcloud import STOPWORDS\nstopwords = set(STOPWORDS)\nwordcloud = WordCloud(background_color = 'salmon',\n                      height =2000,\n                      width = 2000\n                     ).generate(str(df4[\"Q82\"]))\nplt.rcParams['figure.figsize'] = (12,12)\nplt.axis(\"off\")\nplt.imshow(wordcloud)\nplt.title(\"Prosze Ankieta\/Survey Please\")\nplt.show()","5ca85d51":"#287 females, 3 preferred not to disclose gender\n\ndf4[\"gender\"].value_counts()","70b05f8a":"df4[\"age\"].value_counts()","435e0a00":"#Nation in Study 3 is Poland. Total 393.\n\ndf4[\"Nation\"].value_counts()","1cf683e2":"df4[\"Pain\"].value_counts()","eb1cf23d":"#Code by Varshini PJ  user: varshinipj\n\nfig = px.scatter_mapbox(df4,\n# Here, plotly gets, (x,y) coordinates\nlat=\"LocationLatitude\",\nlon=\"LocationLongitude\",\ntext='V3',\n\n                #Here, plotly detects color of series\n                size=\"ingsat\",\n                color = \"SPS27\",\n                labels=\"V3\",\n\n                zoom=8,\n                center={\"lat\":52.083298, \"lon\":21.033295},  #don't change lat\/lon with the columns names \n                height=600,\n                width=800)\nfig.update_layout(mapbox_style='stamen-terrain')\nfig.update_layout(margin={\"r\": 0, \"t\": 0, \"l\": 0, \"b\": 0})\nfig.update_layout(title_text=\"Zgadzam si\/nie?\")\nfig.show()","5cdf2cb2":"\"Research shows that collective narcissism, but not in-group satisfaction, predicts intergroup hostility. Collective narcissism and in-group satisfaction have opposite associations with hostile attribution bias. Collective narcissism is related to intergroup distrust and a tendency to perceive out-groups as hostile toward the in-group, while in-group satisfaction is associated with a tendency to perceive out-groups as trustworthy and benevolent.\"\n\n\"Collective narcissism, but not in-group satisfaction, is associated with a tendency to believe in conspiracy theories about out-groups\u2019 antagonistic intentions and plotting against the in-group . Collective narcissism, but not in-group satisfaction, predicts hypersensitivity and hostile retaliation to intergroup threat.\"\n\n\"Importantly, the link between collective narcissism and intergroup hostility is suppressed to the extent collective narcissism overlaps with in-group satisfaction. Such findings suggest that different associations with intergroup hostility may reflect a more basic difference in emotionality associated with collective narcissism and in-group satisfaction. In addition, the association with in-group satisfaction may weaken the association of collective narcissism with negative emotionality.\"\n\nhttps:\/\/www.frontiersin.org\/articles\/10.3389\/fpsyg.2019.00203\/full","cab5f45b":"<h1><span class=\"label label-default\" style=\"background-color:black;border-radius:100px 100px; font-weight: bold; font-family:Garamond; font-size:20px; color:#03e8fc; padding:10px\">Zgadzam si\/nie?<\/span><\/h1><br>\n\n\"Participants indicated their responses on a scale of 1 (completely disagree) to 7 (completely agree), \u03b1 = 0.92; M = 5.08; SD = 1.36.\"  ","470bb00b":"#I thought SPS27 (above) was categorical. In the CSV file (below df4) it is numerical and doesn't have any words. \n\nIt's trick working with SAV and CSV at the same time.  With the CSV file I won't have to make any imputation to make the Map since the columns change names. I found out how that works: \n\nThe column SPS27 is different in the Sav file (it's categorical with Prosze Ankieta = Survey please). In the csv it's numerical with No words. ","79ed6a00":"#The arguments \u201cusecols\u201d. By using this argument, you can also select which columns you want to load from the SPSS file to the dataframe:\n\nhttps:\/\/www.marsja.se\/how-to-read-write-spss-files-in-python-pandas\/","90a2dc0b":"#Compare to Sav file above. Below SPS27 is numerical. I thought I changed the name of the columns (in Sav file) when I applied argument usecols (above).\n\nNow I found out that there is a different column in the SAV file. So SPS27 are totally different columns in the csv and in the Sav.","0888cc15":"#I couldn't apply the line below with all the sav files. I have no clue about that.","dce81c8e":"\"In Study 1A (N = 570, in Poland) and Study 1B (N = 778, in the United States), collective narcissism was uniquely positively associated with negative emotionality, whereas in-group satisfaction was positively associated with positive emotionality and negatively associated with negative emotionality.\"\n\n\"In Study 2 (N = 569, in Poland), collective narcissism and in-group satisfaction had opposite unique links with social connectedness, gratitude and self-criticism.\"\n\n\"In Study 3 (N = 393, in Poland), collective narcissism, but not in-group satisfaction, was associated with sensory processing sensitivity, genetically determined hypersensitivity to negative stimuli. Collective narcissism was associated with life satisfaction only via its link to in-group satisfaction.\" \n\nhttps:\/\/www.frontiersin.org\/articles\/10.3389\/fpsyg.2019.00203\/full","9931ec55":"#After working the SAV file. Let's take a look at the Four (4) csv files.","521291a8":"![](https:\/\/www.marsja.se\/wp-content\/uploads\/2019\/09\/how_to_load_spss_files_python_pandas-2.jpg)marsja.se","f065ea9f":"\"Study 3 was conducted among 393 Polish undergraduate students (287 females, 3 preferred not to disclose gender, MAge = 26.65 years, SDAge = 0.28) who PARTICIPATED IN EXCHANGE FOR THE COURSE CREDIT. The sample size estimation followed the logic of that performed for Studies 1\u20132. The data collection ceased on a predetermined date.\"\n\nhttps:\/\/www.frontiersin.org\/articles\/10.3389\/fpsyg.2019.00203\/full","ac2354ae":"#How to save Pandas dataframe to an SPSS file. Use the Pyreadstats write_sav method. The first argument should be the Pandas dataframe that is going to be saved as a .sav file.","2cf644f8":"#MAge = 26.65 years, SDAge = 0.28","7048142a":"<center style=\"font-family:verdana;\"><h1 style=\"font-size:200%; padding: 10px; background: #DC143C;\"><b style=\"color:white;\">Collective Narcissism and In-Group Satisfaction<\/b><\/h1><\/center>\n\nCollective Narcissism and In-Group Satisfaction Are Associated With Different Emotional Profiles and Psychological Wellbeing\n\nAuthor: Agnieszka Golec de Zavala\nFront. Psychol., 14 February 2019 | https:\/\/doi.org\/10.3389\/fpsyg.2019.00203\n\n\"The social identity approach to wellbeing posits that social identifications provide psychological resources that contribute to individual wellbeing. Unless individuals identify with stigmatized groups or groups whose norms prescribe damaging behaviors, identifying with groups seems beneficial.\"\n\n\"Studies show that people whose self-esteem is high tend to project their positive self-evaluation onto their social identities. In addition, the positive belief about the in-group, which we label in-group satisfaction, is associated with the belief that positive characteristics of individuals should be used to enhance the valuable in-group. Thus, in-group satisfaction seems to be associated with positive and prosocial emotionality. Moreover, this association is reciprocal.\n\n\"For example, longitudinal studies showed that high self-esteem and sense of personal control measured in Time 1 increased in-group satisfaction assessed in Time 2. However, in-group satisfaction measured in Time 1 also increased self-esteem and the sense of personal control measured in Time 2. Importantly, previous studies showed that in-group satisfaction suppressed the negative link between collective narcissism and self-esteem. Thus, the overlap with in-group satisfaction may offer a possibility to change negative emotionality associated with collective narcissism.\"\n\nhttps:\/\/www.frontiersin.org\/articles\/10.3389\/fpsyg.2019.00203\/full","f7692169":"#\"A Principal Components Factor Analysis performed for the items on the Collective Narcissism Scale and the In-group Satisfaction Scale revealed a two-factor solution, with factor loadings larger than 1 together explaining 74.90% of variance.\"\nhttps:\/\/www.frontiersin.org\/articles\/10.3389\/fpsyg.2019.00203\/full\n\n![](https:\/\/d3i71xaburhd42.cloudfront.net\/b7c7686429d34cb8cb2ca6f5dafd7a11035aaddf\/11-Figure1-1.png)semanticscholar.org","dddfc58f":"#Undergraduate students participated in Exchange for the course Credit. Probably, it's a kind of Medal reward system. Lol!"}}