{"cell_type":{"57aab147":"code","6234de1b":"code","e3aff790":"code","8c3c70ad":"code","4c727b27":"code","c361d029":"code","d98253ba":"code","fafc2d97":"code","ca3c0eae":"code","371fa915":"code","b47be93e":"code","0502884d":"code","63beabaa":"code","dc4d0b74":"code","607e7605":"code","8bd7bf6c":"code","ada91ffc":"code","a9d88c51":"code","515836f1":"code","7555cc46":"code","5fa30e2d":"code","7d587dd3":"code","e5314f1a":"code","e0e48693":"code","79439cad":"code","227803c4":"code","bada00eb":"code","d3bca7d0":"code","69eafd0d":"code","c210f882":"code","6ed0ff17":"code","08505153":"code","3f414816":"code","2329d3c3":"code","d2324f50":"code","9b043119":"code","e8ab89eb":"code","c70038ef":"code","68562186":"code","24da943e":"markdown","4db8e981":"markdown","b99ab941":"markdown","13aba8de":"markdown","ef17e32c":"markdown","e9df8bb7":"markdown","5a3807dd":"markdown","1c61c588":"markdown","389ee393":"markdown","524b2515":"markdown","a363fe84":"markdown","33f691ac":"markdown","295d0d54":"markdown","b663e978":"markdown","5ca7d9e9":"markdown","15f459b0":"markdown","45f524d7":"markdown","724ab98c":"markdown","06ba52fb":"markdown","01b51988":"markdown","dc4d1a81":"markdown","b9e9dada":"markdown","54560447":"markdown","da3dcee7":"markdown","d67d62b5":"markdown","8120f114":"markdown","0bc72640":"markdown","3ba84d7d":"markdown","f7311afc":"markdown","f9ff35ff":"markdown","82875412":"markdown","4f186b42":"markdown","80392bd9":"markdown","55bf6be6":"markdown","254f8b64":"markdown","dcf811ec":"markdown","f817ee98":"markdown","dee6b30c":"markdown","46267597":"markdown","e60bf454":"markdown"},"source":{"57aab147":"#installing the jovian library\n!pip install jovian","6234de1b":"#importing the libraries required for visualisation\nimport numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport jovian\n%matplotlib inline\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","e3aff790":"#loading the datasets y1,y2,y3 corresponding to 2017,2015 and 2019\ny1_df=pd.read_csv('\/kaggle\/input\/world-happiness\/2017.csv',index_col=1)\ny2_df=pd.read_csv('\/kaggle\/input\/world-happiness\/2015.csv',index_col=2)\ny3_df=pd.read_csv('\/kaggle\/input\/world-happiness\/2019.csv',index_col=0)","8c3c70ad":"y1_df.head()","4c727b27":"y2_df.head()","c361d029":"y3_df.head()","d98253ba":"y1_df.drop(['Whisker.low','Whisker.high'],axis=1,inplace=True)","fafc2d97":"#renaming columns in y1 for convenience\ny1_col={'Country':'Country','Happiness.Rank':'rank','Happiness.Score':'Score','Economy..GDP.per.Capita.':'GDP_per_capita','Family':'Family','Health..Life.Expectancy.':'life_expectancy','Freedom':'Freedom','Generosity':'Generosity','Trust..Government.Corruption.':'corr_perception','Dystopia.Residual':'dystopia_residual'}\ny1_df.rename(columns=y1_col,inplace=True)","ca3c0eae":"#renaming in y2\ny2_df.drop(['Standard Error'],axis=1,inplace=True)\ny2_col={'Country':'Country','Happiness Score':'Score','Economy (GDP per capita)':'GDP_per_capita','Family':'Social support','Health (Life Expectancy)':'life_expectancy','Freedom':'Freedom','Trust (Government corruption)':'corr_perception','Generosity':'Generosity','Dystopia Residual':'dystopia_residual'}\ny2_df.rename(columns=y2_col,inplace=True)","371fa915":"#renaming in y3\ny3_col={'Overall rank':'rank','Country or region':'Country','Score':'Score','GDP per capita':'GDP_per_capita','Social support':'Social support','Healthy life expectancy':'life_expectancy','Freedom to make life choices':'Freedom','Generosity':'Generosity','Perceptions of corruption':'corr_perception'}\ny3_df.rename(columns=y3_col,inplace=True)","b47be93e":"#setting a darkgrid style for each visualisation\nsns.set_style(\"darkgrid\")\nproject_name='World Happiness Report'","0502884d":"#for 2015 and 2017\nplt.figure(figsize=(10,6))\na=10\nplt.hist(y2_df.Score,a,label='2015',alpha=0.3,color='red')\nplt.hist(y1_df.Score,a,label='2017',alpha=0.5,color='skyblue')\nplt.ylabel('No. of countries',size=13)\nplt.legend(loc='upper right')\nplt.title(\"Distribution of Happiness scores across 2015,2017\",size=16)","63beabaa":"#for 2017 and 2019\nplt.figure(figsize=(10,6))\nb=10\nplt.hist(y1_df.Score,b,label='2017',alpha=0.3)\nplt.hist(y3_df.Score,b,label='2019',alpha=0.3)\nplt.ylabel(\"No. of Countries\",size=13)\nplt.legend(loc=\"upper right\")\nplt.title('Distribution of Happiness scores across 2017,2019',size=16)","dc4d0b74":"#correlation values for 2015 dataset\n#creating a copy of the dataset with 4 columns.\ny2=y2_df.copy()\ny2.drop(['Social support','life_expectancy','Generosity','dystopia_residual'],axis=1,inplace=True)\n","607e7605":"#creating a correlation matrix between numeric columns\nc2=y2.corr(method='pearson')\nplt.figure(figsize=(10,6))\nsns.heatmap(c2,annot=True)","8bd7bf6c":"#correlations for 2017 dataset\ny1=y1_df.copy()\ny1.drop(['Family','life_expectancy','Generosity','dystopia_residual'],axis=1,inplace=True)\n","ada91ffc":"c1=y1.corr(method='pearson')\nplt.figure(figsize=(10,6))\nsns.heatmap(c1,annot=True,cmap=\"YlOrRd\")","a9d88c51":"#correlations for 2019 dataset\ny3=y3_df.copy()\ny3.drop(['Social support',\n       'life_expectancy', 'Generosity'],axis=1,inplace=True)","515836f1":"c3=y3.corr()\nplt.figure(figsize=(10,6))\nsns.heatmap(c3,annot=True,cmap='PuBuGn')","7555cc46":"#creating new datasets comprising of below mentioned columns\nx1=y1_df[['Generosity','Family','Score']].copy()\nx2=y2_df[['Generosity','Social support','Score']].copy()\nx3=y3_df[['Generosity','Social support','Score']].copy()","5fa30e2d":"#for year 2015\na2=x2.corr()\nplt.figure(figsize=(10,6))\nsns.heatmap(a2,annot=True)","7d587dd3":"#for year 2017\na1=x1.corr()\nplt.figure(figsize=(10,6))\nsns.heatmap(a1,annot=True,cmap='GnBu')","e5314f1a":"#for year 2019\na3=x3.corr()\nplt.figure(figsize=(10,6))\nsns.heatmap(a3,annot=True,cmap='RdPu')","e0e48693":"#between GDP_per_capita and Happiness Score for y1_df(2017 dataset)\nplt.figure(figsize=(10,6))\nsns.pairplot(y1)\n","79439cad":"plt.figure(figsize=(10,6))\nsns.pairplot(y2)","227803c4":"plt.figure(figsize=(10,6))\nsns.pairplot(y3)","bada00eb":"plt.figure(figsize=(10,6))\na=10\nplt.hist(y2_df.life_expectancy,a,label='2015',alpha=0.3,color='red')\nplt.hist(y1_df.life_expectancy,a,label='2017',alpha=0.5,color='skyblue')\nplt.ylabel('No. of countries',size=13)\nplt.legend(loc='upper right')\nplt.title(\"Satisfaction with Life expectancy across 2015,2017\",size=16)","d3bca7d0":"plt.figure(figsize=(10,6))\na=10\nplt.hist(y1_df.life_expectancy,a,label='2017',alpha=0.3)\nplt.hist(y3_df.life_expectancy,a,label='2019',alpha=0.5)\nplt.ylabel('No. of countries',size=13)\nplt.legend(loc='upper right')\nplt.title(\"Satisfaction with Life expectancy across 2017,2019\",size=16)","69eafd0d":"#sorting values in 2017 dataset with ascending values of Life expectancy.\ny1_df.sort_values('life_expectancy',axis=0,ascending=True)","c210f882":"y1_df.sort_values('life_expectancy',axis=0,ascending=False)","6ed0ff17":"#here is the 2015 dataset\ny2_df.head(5)","08505153":"#creating a new series consisting of mean of happiness scores taken across different regions as specified.\n#Converting this series into a dataframe\nregion=y2_df.groupby(['Region']).Score.mean()\nregion_df=pd.DataFrame(data=region)\nreg=region_df.sort_values(by='Score',ascending=False,axis=0)\nreg","3f414816":"plt.figure(figsize=(10,7))\nplt.title('Happiness Scores across different regions')\nsns.barplot(x='Score',y=reg.index,data=reg,palette='mako')","2329d3c3":"#creating a new dataset from y2_df comprising of means of gdp_per_Capita score per region.\ngdpc=y2_df.groupby(['Region'])['Economy (GDP per Capita)'].mean()\ngdpc_df=pd.DataFrame(data=gdpc)\ngdp=gdpc_df.sort_values(by='Economy (GDP per Capita)',ascending=False,axis=0)\ngdp","d2324f50":"plt.figure(figsize=(10,7))\nplt.title('Satisfaction with gdp in different regions')\nsns.barplot(x='Economy (GDP per Capita)',y=gdp.index,data=gdp,palette='rocket')","9b043119":"trust=y2_df.groupby(['Region'])['Trust (Government Corruption)'].mean()\ntrust_df=pd.DataFrame(data=trust)\ntru=trust_df.sort_values(by='Trust (Government Corruption)',ascending=False,axis=0)\ntru","e8ab89eb":"plt.figure(figsize=(10,7))\nplt.title('Satisfaction with governments in different regions')\nsns.barplot(x='Trust (Government Corruption)',y=tru.index,data=tru,palette='viridis')","c70038ef":"freedom=y2_df.groupby(['Region'])['Freedom'].mean()\nfreedom_df=pd.DataFrame(data=freedom)\nfree=freedom_df.sort_values(by='Freedom',ascending=False,axis=0)\nfree","68562186":"plt.figure(figsize=(10,7))\nplt.title('Freedom score across different regions')\nsns.barplot(x='Freedom',y=free.index,data=free,palette='rocket_r')","24da943e":"**FOR 2015 DATASET**","4db8e981":"Metric expressing satisfaction of people with their governments","b99ab941":"Satisfaction with Economy of the country is observed to be the highest in North America whereas the lowest score is observed in Sub-Saharan Africa. To understand why such varying level of satisfaction is observed across different regions check out [this article](https:\/\/progressmichigan.org\/2018\/07\/what-is-a-good-economy-really\/)","13aba8de":"**FOR 2017 DATASET**","ef17e32c":"We observe here that Singapore has the highest life expectancy score. This indicates satisfaction of the people with the life expectancy of their country. Although it is not necessary that longevity leads to more happiness, a majority of the people wish to live longer. Here we look at the factors that increase the longevity of the people.\n\n* Proper healthcare facilities: The government has spent a lot of money in creating high quality healthcare facilities that provide unrestricted access to sanitation. Moreover the advancement in health related technology has benefitted the population.\n\n* Better living conditions: Maintaining hygiene, reduced pollution and access to nutritious foods, keeps the citizens well and healthy.\n\nLast but not the least, the governement has considered health issues a top priority of the country and has been contributing to research and development in the health sector. These are some reasons that has led to an increased longevity of the people.","e9df8bb7":"Life Expectancy is one of the key metrics for analysing the health of the population of a country. In the case of humans, it is defined as the average amount of time a human is expected to live.","5a3807dd":"Have a look at the datasets and the columns","1c61c588":"# GDP_per_Capita in different regions","389ee393":"# Description of columns present in the datasets.\n\n1) Happiness Rank- Rank of any country in a particular year.\n\n2) Country- Name of the country\n\n3) Score- Happiness score as the sum of all numerical columns in the datasets\n\n4) Corr_perception- A quantification of the people's perceived trust in their governments.\n\n5) Generosity- Numerical value estimated based on the perception of Generosity experienced by poll takers in their country.\n\n6) Social Support- Metric estimating satisfaction of people with their friends and family.\n\n7) Freedom- Perception of freedom quantified\n\n8) Dystopia- Hypothetically the saddest country in the world.","524b2515":"# **Correlating features with the happiness scores**","a363fe84":"As observed from the stacked histogram, we find that the extremum values have slightly shifted to the left, we can conclude that living standards had hit a new low in 2017. Meanwhile,we observe a significant increase in the number of countries having a score ranging from 5-6 in 2017 as compared to 2015, which shows a lower number. \n\nWe can safely conlcude that the moderately happy countries became happier in 2017 and the living standards at the extremums fell to some extent.","33f691ac":"# Plotting Scatterplots to confirm the correlations observed above","295d0d54":"# Comparing Happiness Scores across regions","b663e978":"How do Generosity and Social Support relate to Happiness Score?\n\nCorrelation coefficients are observed to be 0.16,0.18 and 0.076 which indicate very weak positive relationship. Not much of a linear change is observed between the two metrics. Generosity is a perception which citizens obtain from each other. On the other hand, correlation values of Social Support with Score are 0.74,0.75 and 0.78 which indicates strong positive relationship. Social support is the perception of how happy people are with their families and friends, acquaintainces, etc.\n\nSince these are the people everyone deals with almost everyday in life, we can consider the perception of Social Support to be a critical factor in determination of Happiness Score.\n\n\n","5ca7d9e9":"# Analysing World Happiness Data from 2015-2019","15f459b0":"![<span>Photo by <a href=\"https:\/\/unsplash.com\/@artbyhybrid?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Hybrid<\/a> on <a href=\"https:\/\/unsplash.com\/s\/photos\/smile?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash<\/a><\/span>](https:\/\/images.unsplash.com\/photo-1509909756405-be0199881695?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80)","45f524d7":"**EXPLAINING THE DYSTOPIA RESIDUAL METRIC**","724ab98c":"# Perception of Freedom across different regions","06ba52fb":"<span>Photo by <a href=\"https:\/\/unsplash.com\/@artbyhybrid?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Hybrid<\/a> on <a href=\"https:\/\/unsplash.com\/s\/photos\/smile?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash<\/a><\/span>","01b51988":"# Visualisation of trust across different regions","dc4d1a81":"The World Happiness Report is a landmark survey of the state of global happiness that ranks 156 countries by how happy their citizens perceive themselves to be. The World Happiness Report 2020 for the first time ranks cities around the world by their subjective well-being and digs more deeply into how the social, urban and natural environments combine to affect our happiness.\n \n","b9e9dada":"Is there a strong relation between happiness scores of a country and its economic and legal state?\n\nTo answer this we will find out the correlation values between Happiness Scores and:\n1. corr_perception\n2. GDP_per_capita\n3. Freedom\n\nacross the three datasets.","54560447":"The stacked histogram plotted above shows that there has been an increase in the happines score at the extremums as there appears to be a shift to the right in the year 2019. A significant increase in the number of countries with score between 4-5 has been observed. This may signify relatively better living standards and satisfaction of the people with their lives and the government in 2019.\n\nWe can conclude that people have been happier in 2019 as compared to 2017.","da3dcee7":"**FOR 2019 DATASET**","d67d62b5":"# Analysing countries with lowest and highest life expectancy scores.","8120f114":"Freedom can be thought of as how liberal are the citizens to exercise the fundamental rights given to them without breaking laws, whether or not they perceive any such oppression on themselves by the authorities.\n\nWe observe that Oceania has the highest freedom score and Eastern European countries have the lowest mean freedom scores.","0bc72640":"This one's quite hard to comment on. But as observed we can see that the Oceania(Australia+New Zealand) has the best trust score. It is evident in the sense that there are hardly any notable governmental issues in those countries. Yes being powerful and rich as a country does matter but if the country is run well enough in all aspects people tend to respect their leaders more.\n\nWhich is exactly the case,specially in New Zealand where the PM Jacinda Ardern has been running the country brilliantly. As of 2020, New Zealand was among the few countries which was declared covid-free early in the year. All religions are being respected there with proper education systems and an efficient government.\n\nThe bottomost regions in the plot have a very low trust score. This could majorly be associated with unhealthy politics and some instances of corruption inside the governments. Unstable authorities are also a major problem leading to a perception of unreliability.","3ba84d7d":"The 3 heatmaps plotted above display correlation matrices between 4 columns, Score, GDP, Freedom and Perception of Corruption corresponding to each of the years 2015,2017,2019. Now the effects of the 3 factors on Score will be discussed.\n\n1. How is GDP related to Happiness Score?\n\nFrom the heatmaps,Correlation coefficient between GDP_per_capita and Score is ~ 0.79 in all the 3 years indicating a strong positive relationship between the satisfaction of citizens with the GDP and the Happiness score. GDP_per capita is a tracker of the economic growth of a country. People in countries showing positive growth rate of economies tend to be more happier as it leads to higher incomes and better standards of living. Hence, we conclude that the GDP of a country should be one of the top priorities to ensure satisfaction.\n\n2. Relation of Freedom to Happiness Score?\n\nThe correlation coefficient between Freedom and Score is exactly 0.57 in all 3 years indicating a moderately positive relationship between the perception of Freedom and the Happiness Score of a country. Generalising this perception of freedom is a hard task because according to [research](https:\/\/globescan.com\/a-deeper-look-at-freedom-how-perceptions-differ-across-countries-and-groups\/) it is different for people belonging to different parts of the world. Nevertheless, it is still a significant contributor to the Happiness Score of a nation.  \n\n\n3. How does perception of corruption affect the Happiness score?\n\nCorrelation coefficient between corr_perception and Score is ~0.4 in all three years. This indicates a weak positive relationship between perception of corruption and the happiness score of a country. \n","f7311afc":"We observe that Lesotho has the lowest contribution to its Happiness Score in life expectancy with its score being 0. This is an indicator of the fact that life expectancy is very low in said country. The average life expectancy in Lesotho is 52 years. This statistic is one of the lowest observed in all the countries of the world.\n\nWhat could be the reasons for this?\n* **Uncontrolled Disease spread** : Unavailability of proper health facilities and a doctor to patient ratio of 1:20000 has led to an increase in disease spread. About 20% of people in the country do not have access to clean water source, which consequently also leads to spread of diseases.\n\n* **Unhygienic living conditions**: Lesotho has a very high mortality rate. This is attributed to poor living conditions and the extreme poverty in which majority of the population of Lesotho lives. Inaccessibility to healthcare facilities renders these people helpless.\n\n* **Inadequate source of healthy foods**: Agricultural land covers an extremely small part of Lesotho. This creates food scarcity. Hence consumption of nutrients,vitamins is very low which contributes to the unfortunately low life expectancy of the country.","f9ff35ff":"Each numerical value in a row of any of the above dataset contributes to the happiness score of the corresponding country.","82875412":"# Analysing Life Expectancy","4f186b42":"For convenience, we will sort values in 2017 dataset in descending order this time.","80392bd9":"From the above barplot we see that countries in North America, Oceania and Western Europe have the highest average happiness scores whereas countries in Sub-Saharan Africa and Asia comprise of the 3 lowest.","55bf6be6":"**DYSTOPIA RESIDUAL** : Dystopia is a hypothetical country consisting of the least happy people. It was formed so as to create a benchmark to compare Happiness Scores of other countries with it. \nThe Dystopia Residual is calculated as (Score of Dystopia+ **Residual** for the corresponding country). Here the Residual is a value generated for each country, which indicates if the 6 variables have under or over explained the life evaluations for each country for that particular year.","254f8b64":"To obtain more information about these datasets, you can check this [Kaggle Profile](https:\/\/www.kaggle.com\/unsdsn\/world-happiness).\n\nTo check out the original report, visit [this link](https:\/\/worldhappiness.report\/)","dcf811ec":"How does the perception of social state of a country affect its Happiness Score?\n\nTo answer this question, we will plot correlation heatmaps of 3 columns from each dataset:\n1. Generosity\n2. Family\n3. Score","f817ee98":"As we observe in the above scatterplots, the linear relationships described between various factors and the Happiness Score have been justified. Scatter plots are a great source of identifying probable linear relationships between various features and can be used for feature selection.","dee6b30c":"Have people been relatively more happier in coming years?","46267597":"How is Lesotho being helped by the World?\n\nSentebale, a non-profit started by Prince Harry, has been providing care to children diagnosed with various diseases and take in orphaned children too. Financing the country would enable them to open more healthcare facilities, ensure a better and cleaner environment for the people, and open educational institutions. \n\nThe country has declared primary education free and this has led to a significant increase in enrollment. Fees of secondary schools are in talks to be lowered as a majority of the people cannot afford to pay it. More educated people would lead to better knowledge and awareness about the environment, diseases and would improve the overall spirit of the country.\n\nAccess to clean water is being provided by organisations like the Water Project which builds dams and wells for the people.\n\nIt is evident that not just Lesotho, but every underdeveloped country in the world needs help in order to improve the standards of living.\n","e60bf454":"# **Distribution of scores across different countries**"}}