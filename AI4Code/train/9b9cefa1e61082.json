{"cell_type":{"b3cd02c7":"code","c3869936":"code","83388f40":"code","2f651b6f":"code","b64defed":"code","6a521a31":"code","d7e5ae7e":"code","79ad55b8":"code","df6f1cf0":"code","20d0f200":"code","f435e39b":"code","89893d3f":"code","028adfd9":"code","7aba6b6b":"code","16ce25b3":"code","1ada53a6":"code","bdb517c6":"code","7db8a76c":"code","db32aa36":"code","014916fb":"code","e0e3db40":"code","f4fae10c":"code","1e53340a":"markdown"},"source":{"b3cd02c7":"import pandas as pd","c3869936":"npr = pd.read_csv('..\/input\/all-trumps-twitter-insults-20152021\/trump_insult_tweets_2014_to_2021.csv')","83388f40":"npr","2f651b6f":"npr.info()","b64defed":"npr.describe().T","6a521a31":"from sklearn.feature_extraction.text import CountVectorizer\ncv = CountVectorizer(max_df=0.95, min_df=2, stop_words='english')\ndtm = cv.fit_transform(npr['tweet'])","d7e5ae7e":"len(cv.get_feature_names())","79ad55b8":"import random\nfor i in range(10):\n    random_word_id = random.randint(0,7308)\n    print(cv.get_feature_names()[random_word_id])","df6f1cf0":"from sklearn.decomposition import NMF\nnmf = NMF(n_components=7,random_state=42)\nnmf.fit(dtm)","20d0f200":"len(nmf.components_)","f435e39b":"nmf.components_","89893d3f":"len(nmf.components_) , len(nmf.components_[0])","028adfd9":"single_topic = nmf.components_[0]\nsingle_topic.argsort()","7aba6b6b":"single_topic.argsort()[-10:]","16ce25b3":"for index in single_topic.argsort()[-10:]:\n    print(cv.get_feature_names()[index])","1ada53a6":"for index,topic in enumerate(nmf.components_):\n    print(f'THE TOP 15 WORDS FOR TOPIC #{index}')\n    print([cv.get_feature_names()[i] for i in topic.argsort()[-15:]])\n    print('\\n')","bdb517c6":"topic_results = nmf.transform(dtm)","7db8a76c":"topic_results.shape","db32aa36":"topic_results[0].round(2)","014916fb":"topic_results.argmax(axis=1)","e0e3db40":"npr['Topic'] = topic_results.argmax(axis=1)\nnpr.head(10)","f4fae10c":"npr['Topic'].value_counts()","1e53340a":"## All Trump's Twitter insults (2015-2021)\n### The Complete List of Trump\u2019s Twitter Insults (2015-2021)\n\n### Datasset \n\nhttps:\/\/www.kaggle.com\/ayushggarg\/all-trumps-twitter-insults-20152021"}}