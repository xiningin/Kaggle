{"cell_type":{"c717c68a":"code","7bc3d10e":"code","cf8f8764":"code","3a648d02":"code","5a626822":"markdown","6937f12f":"markdown","36a24b1e":"markdown","72e65cb1":"markdown","1fb8cabb":"markdown"},"source":{"c717c68a":"import numpy as np\nimport pandas as pd\n\ndf = pd.read_csv('\/kaggle\/input\/nfl-big-data-bowl-2020\/train.csv', low_memory=False)","7bc3d10e":"unique_runners = df['NflIdRusher'].nunique()\nunique_plays = df['PlayId'].nunique()\nprint(f'There are {unique_runners} runners, responsible for {unique_plays} plays.')","cf8f8764":"agg_dic = {'PlayId': 'count', 'Yards': ['mean', 'std', 'min', 'max']}\ndfp = df[['NflIdRusher', 'PlayId', 'Yards']].groupby('NflIdRusher').agg(agg_dic).sort_values(('PlayId', 'count'), ascending=False)\ndfp","3a648d02":"df_cum = dfp[[('PlayId', 'count')]].sort_values(('PlayId', 'count'), ascending=False)\ndf_cum.columns = ['count']\ndf_cum['cum'] = df_cum['count'].cumsum()\ndf_cum['perc'] = df_cum['cum'] \/ df_cum['cum'].iloc[-1]\ndf_cum.head(100)","5a626822":"# Is there enough data to create an accurate model by runner?","6937f12f":"We can hypothesize that the number of yards completed in a given play is a result of:\n1. The **play dynamics**: players positions, velocities, accelerations, field spaces, where players are in the field, etc;\n2. The **teams' dynamics**: offense and defense strategies, who is winning\/losing, etc;\n3. The **match dynamics**: where the game is happening, stadium type, turf, weather, temperature, etc;\n4. The **teams' and players' SKILLS**: some players are just more trained\/more experienced than others.\n\nSo far, I've seen several notebooks with great EDAs and basic models, but they all have one thing in commom: they focus on the first 3 points. Most work I've seen so far here are just dropping the specific data about **who are making the plays**.\n\n> The **purpose** of this notebook is to start the discussion about whether or not it is a viable (and good) idea to **create an accurate model** to predict the probability of yards completed **by runner\/team**, thus **taking into consideration players' skills into the modeling**.","36a24b1e":"Let's see who are these 371 runners, and how their results are different:","72e65cb1":"## Over 90% of the plays are done by the top 100 runners\nFor these players, we have well over 1200 datapoints for each, which indicates that the idea of training a specific model for those frequent runners might work.","1fb8cabb":"Looking at this table, it looks like **the number of plays are concentrated**, done by few runners. Let's check it out."}}