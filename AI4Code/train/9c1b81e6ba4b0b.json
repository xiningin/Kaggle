{"cell_type":{"e5b9f192":"code","7d1bc88f":"code","312ab852":"code","1cdbaac9":"code","00ada9d4":"code","7fb1f1af":"code","a3c55291":"code","a6de79e0":"code","950467d9":"code","168c122a":"code","bad7011b":"code","4bd3f1a5":"code","e9ffcf5a":"code","606f2a4a":"code","f499b502":"code","5330b14d":"code","975cbe7b":"code","fe772864":"code","1dcf68fe":"code","6e904a09":"code","8da59671":"code","5c1e199a":"code","68814fbb":"code","a65a7c3a":"code","fa34faf6":"code","cd1710c2":"code","7da07951":"code","23b2f758":"code","65ca3d3c":"markdown","92ba72b4":"markdown","0f407094":"markdown","2ffc1549":"markdown","50f7a9b3":"markdown","37d2043c":"markdown","89bb3f94":"markdown","0b85ad2c":"markdown","f1c16a7f":"markdown","8d50c372":"markdown","50009bcd":"markdown","933713fd":"markdown","fb12b1c6":"markdown","40df0496":"markdown","0bdfe070":"markdown","90c96d85":"markdown","85e7d0ed":"markdown","b968144a":"markdown","76885845":"markdown","fddfec58":"markdown","0febc033":"markdown","a984cd5b":"markdown","81b83860":"markdown","d183a246":"markdown"},"source":{"e5b9f192":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport os","7d1bc88f":"path = '\/kaggle\/input\/hackathon'\nfile = f'{path}\/task_1-google_search_english_original_metadata.csv'\ndf = pd.read_csv(file)","312ab852":"f\"There are {df.shape[0]} texts originally in English with metadata\"","1cdbaac9":"df.head()","00ada9d4":"df['country'].value_counts()","7fb1f1af":"df['country'].value_counts().hist()","a3c55291":"df['is_pdf'].value_counts()","a6de79e0":"df['language'].value_counts()","950467d9":"df['is_translated'].value_counts()","168c122a":"df['is_downloaded'].value_counts()","bad7011b":"df[df['is_downloaded']==False]['char_number'].describe()","4bd3f1a5":"df.drop(df[df['is_downloaded']==False].index, inplace=True)","e9ffcf5a":"(df['char_number']== 0).mean()","606f2a4a":"df.drop(df[df['char_number']==0].index, inplace=True)","f499b502":"for _, row in df.sort_values('char_number').head(20).iterrows():\n    code = row['alpha_2_code']\n    filename=row['filename']\n    filename = f'\/kaggle\/input\/hackathon\/task_1-google_search_txt_files_v2\/{code}\/{filename}.txt'\n    \n    with open(filename, 'r') as file:\n        data = file.read()\n    print(row['char_number'])\n    print(data)\n    print('--'*10)","5330b14d":"(df['url'].size - df.url.unique().size)\/df['url'].size","975cbe7b":"df['url'].value_counts().head()","fe772864":"path = '\/kaggle\/input\/hackathon'\nfile = f'{path}\/task_1-google_search_translated_to_english_metadata.csv'\ndf = pd.read_csv(file)","1dcf68fe":"f\"There are {df.shape[0]} texts translated to English with metadata\"","6e904a09":"df.head()","8da59671":"df['country'].value_counts()","5c1e199a":"df['is_pdf'].value_counts()","68814fbb":"df['language'].value_counts()","a65a7c3a":"df['is_translated'].value_counts()","fa34faf6":"df['is_downloaded'].value_counts()","cd1710c2":"(df['char_number']== 0).mean()","7da07951":"(df['url'].size - df.url.unique().size)\/df['url'].size","23b2f758":"df['url'].value_counts().head()","65ca3d3c":"We see they are not meaningful - they contain forbidden messages and indicate that the source was not crawled correctly.","92ba72b4":"Not as many duplicating urls.","0f407094":"Only 74 countries represented here.","2ffc1549":"# EDA on English original metadata","50f7a9b3":"The 'is_downloaded' column seems pointless.","37d2043c":"This duplication means that the text is relevant for multiple countries. This can be problematic when trying to extract answer snippets from the texts, because we would have to determine which country the answer applies to. We might consider removing such sources to make the problem easier.","89bb3f94":"### Country","0b85ad2c":"As the name suggests, this file contains metadata for the texts which were crawled originally in the English language. This however does not mean that the countries represented are only English speaking ones as we'll see in the below analysis.","f1c16a7f":"Small number of docs were not downloaded.","8d50c372":"# Motivation\nThis notebook aims to:\n* explore the provided metadata files from the organizers, i.e *task_1-google_search_english_original_metadata* and *task_1-google_search_translated_to_english_metadata*\n* gain insight about how the data was collected\n* understand what useful information it contains about the source texts","50009bcd":"240 countries are represented in this data, which is a lot.","933713fd":"We'll do a similar analysis as the above.","fb12b1c6":"Some countries are represented with more texts than others.","40df0496":"### Url","0bdfe070":"Most common duplicated urls are:","90c96d85":"A lot of identical urls - 54% of all.","85e7d0ed":"Nothing is translated.","b968144a":"We should ignore all that were not downloaded - they contain empty documents.","76885845":"8% of the texts have 0 chars - they should be ignored as well.","fddfec58":"### Pdf, translated, downloaded","0febc033":"Everything is in English, as expected.","a984cd5b":"Let's print the texts with min char_number.","81b83860":"### Char number","d183a246":"# EDA on translated to English metadata"}}