{"cell_type":{"cacf7407":"code","de3e3a48":"code","4ed3c7c3":"code","f10a72c2":"code","f74d5917":"code","fcc718e2":"code","1e95f053":"code","a623549f":"code","992cccf3":"code","c1b085f8":"code","555e4a95":"markdown","661d07ab":"markdown","8a45684b":"markdown","964b00ef":"markdown","5ba65ce3":"markdown","e4e57818":"markdown","303ba2b4":"markdown","0a717707":"markdown","f5bf6e68":"markdown","fdc5876f":"markdown"},"source":{"cacf7407":"# Pandas import edelim\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\n# Datasetini okutal\u0131m\ndf = pd.read_csv(\"..\/input\/mobile-games-ab-testing-cookie-cats\/cookie_cats.csv\")\n\n# datam\u0131z\u0131 bir g\u00f6r\u00fcnt\u00fcleyelim\ndf.head()","de3e3a48":"# Benzersiz oyuncu say\u0131s\u0131\ndf[\"userid\"].nunique()","4ed3c7c3":"# kullan\u0131c\u0131 grubundaki benzersiz oyuncu say\u0131s\u0131\ndf.groupby(\"version\")[[\"userid\"]].nunique()","f10a72c2":"# Oyun seviyelerinin da\u011f\u0131l\u0131m\u0131n\u0131 inceleyelim.\n\n# Her oyun seviyesi i\u00e7in ilgili oyuncular\u0131n\u0131n say\u0131lar\u0131n\u0131 bulmak\nplot_df = df.groupby(\"sum_gamerounds\")[\"userid\"].count()\n\n# 0-100 oyun seviyeleri aras\u0131nda olan oyuncular\u0131n da\u011f\u0131l\u0131m\u0131n\u0131 inceleyelim.\nax = plot_df.head(100).plot()\nplt.title(\"The distribution of players\", fontweight=\"bold\", size=14)\nplt.xlabel(\"total gamerounds\", size=12)\nplt.ylabel(\"number of player\", size=12)\nplt.show()","f74d5917":"#Oyunu indirmi\u015f ama hi\u00e7 oynamam\u0131\u015f ki\u015fi say\u0131s\u0131n\u0131 bulal\u0131m.\ndf[df[\"sum_gamerounds\"]== 0][\"userid\"].count()","fcc718e2":"#1. ve 7. g\u00fcnler i\u00e7inde oyun oynayan kullan\u0131c\u0131 % sini bulal\u0131m\ndf_retention = df[[\"retention_1\",\"retention_7\"]].mean()*100\nprint(f\"1-day retention ratio: {round(df_retention[0],2)}% \\\n      \\n7-days retention ratio: {round(df_retention[1],2)}%\")","1e95f053":"# 1 ve 7 g\u00fcnl\u00fck kullan\u0131c\u0131n\u0131n telefonunda tutma oranlar\u0131n\u0131 bulal\u0131m.\ndf_retention_ab = df.groupby(\"version\").agg({\"userid\":\"count\", \"retention_1\":\"mean\",\"retention_7\":\"mean\", \"sum_gamerounds\":\"sum\"})\ndf_retention_ab","a623549f":"# Her A\/B grup i\u00e7in boostrapping ile bir liste olu\u015fturmak\nboot_1d = []\nboot_7d = []\nfor i in range(855):\n    boot_mean_1 = df.sample(frac=1, replace=True).groupby('version')['retention_1'].mean()\n    boot_mean_7 = df.sample(frac=1, replace=True).groupby('version')['retention_7'].mean()\n    boot_1d.append(boot_mean_1)\n    boot_7d.append(boot_mean_7)\n    \n# Bu listeyi DataFrame d\u00f6n\u00fc\u015ft\u00fcrelim\nboot_1d = pd.DataFrame(boot_1d)\nboot_7d = pd.DataFrame(boot_7d)\n\n# Kernel Density Estimate grafik ile  bootstrap tahmin grafi\u011fini olu\u015ftural\u0131m\nfig, (ax1,ax2) = plt.subplots(1, 2, sharey=True, figsize=(13,5))\n\nboot_1d.plot.kde(ax=ax1)\nax1.set_xlabel(\"retantion rate\",size=12)\nax1.set_ylabel(\"number of sample\",size=12)\nax1.set_title(\"1 day retention rate distribution\", fontweight=\"bold\",size=14)\n\nboot_7d.plot.kde(ax=ax2)\nax2.set_xlabel(\"retantion rate\",size=12)\nax2.set_title(\"7 days retention rate distribution\", fontweight=\"bold\",size=14)\nplt.show()","992cccf3":"# \u0130ki A\/B grubu aras\u0131nda ki % sel farka sahip bir s\u00fctun eklemek\nboot_1d['diff'] = ((boot_1d['gate_30'] - boot_1d['gate_40']) \/ boot_1d['gate_40'] * 100)\nboot_7d['diff'] = ((boot_7d['gate_30'] - boot_7d['gate_40']) \/ boot_7d['gate_40'] * 100)\n\n# bootstrap % fark\u0131n\u0131 grafik \u00fczerinde g\u00f6relim.\nfig, (ax1) = plt.subplots(1, 1,figsize=(6,5))\n\nboot_1d['diff'].plot.kde(ax=ax1, c=\"#ff99ff\", label = \"1 day retention\")\nboot_7d['diff'].plot.kde(ax=ax1, c= \"#00bfff\", label = \"7 days retention\")\nax1.set_xlabel(\"% difference\",size=12)\nax1.set_ylabel(\"% density\",size=12)\nax1.set_title(\"Difference in retention \\n between the two A\/B groups\", fontweight=\"bold\", size=14)\nplt.legend()\nplt.show()","c1b085f8":"# 30. leveldeki 1 g\u00fcnl\u00fck elde tutma olas\u0131l\u0131\u011f\u0131n\u0131  hesaplayal\u0131m\nprob_1 = (boot_1d['diff']>0).sum()\/len(boot_1d['diff'])\n\n# 30. leveldeki 7 g\u00fcnl\u00fck elde tutma olas\u0131l\u0131\u011f\u0131n\u0131  hesaplayal\u0131m\nprob_7 = (boot_7d['diff']>0).sum()\/len(boot_7d['diff'])\n\n# Bask\u0131lama olas\u0131l\u0131\u011f\u0131\nprint(f\"The probability that 1-day retention is greater when the gate is at level 30: {round(prob_1,2)*100}% \\\n      \\nThe probability that 7-days retention is greater when the gate is at level 30: {(prob_7)*100}% \")","555e4a95":"Grafi\u011fi inceledi\u011fimizde baz\u0131 kullan\u0131c\u0131lar oyunu indirmi\u015f olsa da daha sonras\u0131nda oyun oynama ivmesi giderek azalm\u0131\u015f.","661d07ab":"Elde tutma oran\u0131n\u0131 daha fazla tutmak istiyorsak e\u011fer kullan\u0131c\u0131lar\u0131 1. ve ya 7. g\u00fcnde hemen 30 veya 40. levellere ge\u00e7irmeden hafif zorlayarak oyunun ak\u0131\u015f\u0131n\u0131 ilerletmek gerekti\u011fini anl\u0131yoruz. \u00c7\u00fcnk\u00fc kullan\u0131c\u0131lar\u0131n 30. leveldeki elde tutma oran\u0131 40. levele g\u00f6re daha y\u00fcksek.\n\nDatasetlerini kulland\u0131\u011f\u0131m i\u00e7in Tactile Games APS firmas\u0131na, notebook ilham\u0131 i\u00e7inde M\u00fcr\u015fide Yark\u0131n'a te\u015fekk\u00fcr ederim. ","8a45684b":"# **1. Oyunun Tan\u0131m\u0131**\n\nCookie Cats mobil oyunu, bir nevi candy crush gibi benzer renkte olan \u00fcr\u00fcnleri birle\u015ftirerek hedefi tamamlama ve bir \u00fcst levele ge\u00e7me oyunu. Tactile Games APS taraf\u0131ndan geli\u015ftirilmi\u015f bir oyundur. 6 farkl\u0131 oyun modu ve y\u00fczden fazla zorlu seviyeler ile kullan\u0131c\u0131y\u0131 kendini ba\u011f\u0131ml\u0131 k\u0131lan bir bulmaca oyunudur.\n![image.png](attachment:064c7849-ba2b-4cbe-8fda-7b54d6951c89.png)","964b00ef":"# **2. Dataset ve De\u011fi\u015fkenler**\n\n\u0130lgili datasetinde 90.189 ki\u015finin verisi \u00fczerinden AB Testing yapaca\u011f\u0131z.\n\n* UserId: benzersiz kullan\u0131c\u0131 kimli\u011fi\n* Versiyon: e\u011fitim seti ve test grubu gibi d\u00fc\u015f\u00fcnebiliriz.\n* sum_gamerounds: oyunu telefona indirdikten 14 g\u00fcn boyunca kullan\u0131c\u0131n\u0131n toplam oyun say\u0131s\u0131\n* retention_1: oyunu kurduktan 1 g\u00fcn sonra ertesi g\u00fcn geri oyun oynamaya devam etti mi?\n* retention_7: oyunu kurduktan 7 g\u00fcn sonra ertesi g\u00fcn geri oyun oynamaya devam etti mi?\n\nRastgele se\u00e7imle kullan\u0131c\u0131ya gate_30 veya gate_40 tan\u0131mlar\u0131n\u0131n atanmas\u0131.\n\nHadi ba\u015flayal\u0131m!","5ba65ce3":"Oyunu indirdikten sonra %44.52 si 1 g\u00fcn sonra oyun oynamaya devam ederken, %18.61 i ise 7 g\u00fcn sonra oyun oynamaya devam ediyor yorumu yapabiliriz.\nAB Testingi uygulamak i\u00e7in 2 grup buldu\u011fumuza g\u00f6re \u015fimdi oyunu indiren kullan\u0131c\u0131lar\u0131n elde tutma % lerini bulabiliriz.","e4e57818":"* Kullan\u0131c\u0131lar\u0131 versiyonlay\u0131p 1 ve 7 g\u00fcnl\u00fck tutma oranlar\u0131na bakt\u0131\u011f\u0131m\u0131zda, 1 g\u00fcnl\u00fck elde tutma oran\u0131 -> gate_30  44,81% iken gate_40 da bu rakam 44,22% de\u011frinde g\u00f6sterir.\n* Ayn\u0131 durumu 7 g\u00fcnl\u00fck tutma oran\u0131 ->gate_30 da 19,02% iken kontrol grubunda 18,20% rakam\u0131ndad\u0131r.\n\nBu rakamlar\u0131 kesin bir veriye ula\u015ft\u0131rmak i\u00e7in bootstrapping yaparak bulal\u0131m.\nBootstrapping i\u00e7in detayl\u0131 bilgiyi bu linkten ula\u015fabilirsiniz. https:\/\/en.wikipedia.org\/wiki\/Bootstrapping_(statistics)","303ba2b4":"Oyun end\u00fcstrisin de bir oyunun kullan\u0131c\u0131 taraf\u0131ndan sevildi\u011finin g\u00f6stergesi olarak indirdikten sonra 1 ve 7 g\u00fcnleri aras\u0131nda oyunu tekrarl\u0131 olarak ne kadar oynad\u0131\u011f\u0131. Kullan\u0131c\u0131n\u0131n bu s\u00fcre zarf\u0131nda oyun say\u0131s\u0131 ne kadar y\u00fcksek ise (elde tutma oran\u0131%) o zaman bu oyun ba\u015far\u0131l\u0131 olarak tan\u0131mlayabiliriz.","0a717707":"# **3. Tan\u0131mlay\u0131c\u0131 \u0130statistik \u00c7al\u0131\u015fmalar**\n\nDe\u011fi\u015fkenleri inceleyerek gerekli istatistiksel i\u015flemleri ger\u00e7ekle\u015ftirelim","f5bf6e68":"**Test Basamaklar\u0131**\n\n* 855 tane veri k\u00fcmesi olu\u015fturma (boostrapping)\n* AB testing i\u00e7in 1 ve 7 g\u00fcnl\u00fck mobilde saklama s\u00fcrelerini hesaplama\n* Boostrapping da\u011f\u0131l\u0131mlar\u0131n\u0131 \u00e7izmek\n* \u0130ki AB grubu i\u00e7in tutma oran\u0131n\u0131 hesaplama\n* gate_30 seviyedeyken 1 g\u00fcnl\u00fck ve 7 g\u00fcnl\u00fck tutmalar\u0131n daha b\u00fcy\u00fck olma olas\u0131l\u0131\u011f\u0131n\u0131 hesaplama\n* Sonu\u00e7lar\u0131n de\u011ferlendirilmesi","fdc5876f":"Bu analizin amac\u0131 farkl\u0131 gate tan\u0131mlar\u0131 yap\u0131lan kullan\u0131c\u0131lar\u0131n oyunda nas\u0131l tutundurmay\u0131 ba\u015fard\u0131\u011f\u0131n\u0131 analiz etmek. \nBunu test etmeden \u00f6nce ise gelin kullan\u0131c\u0131lar\u0131n bu oyunu oynad\u0131klar\u0131 ilk hafta seviyelerinin da\u011f\u0131l\u0131m\u0131n\u0131 inceleyelim."}}