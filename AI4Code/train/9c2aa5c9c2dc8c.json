{"cell_type":{"2e1e7cdc":"code","0a677054":"code","c3162c63":"code","cdac8b90":"code","3eeaeb43":"code","e3a2d5e2":"code","4b4ec5dc":"code","b7ff5d3c":"code","6eac939a":"code","e57ab96d":"code","120488b5":"code","3adcbab1":"code","f13113a6":"code","fba0098e":"code","d1e2cfc9":"code","127c88d6":"code","2f53e540":"code","fc187ccf":"code","a864f5f6":"code","0825c477":"code","7b5908bd":"code","717a6046":"code","63d2a47c":"code","ce0ac2e5":"code","13dcaacf":"code","590f4a26":"code","42e7b8c9":"code","80126571":"code","41939e2b":"code","9c97b4a8":"code","b81b9fcc":"code","8b10d70e":"code","62bad45b":"code","574c0fc1":"code","378c4919":"code","b7691201":"code","a0aac961":"code","99cd5254":"code","1da411b9":"code","548b0641":"code","fa5248ad":"code","f515dcaa":"code","9fc806fa":"code","60ec6eee":"code","81cdc861":"code","d42c6c10":"code","0db74401":"code","96504725":"code","28f903bf":"code","bd15a567":"code","ec527313":"code","e73ce7d5":"code","24f76240":"code","7472fbbb":"code","24c4f48b":"code","4234d370":"code","91eb4426":"code","4b795dd5":"code","7f222780":"markdown","a2f346a6":"markdown","b7e58414":"markdown","1e84cfb9":"markdown","34f282d8":"markdown","04e6d658":"markdown","8a394d7f":"markdown","671d02f8":"markdown","4a6b13c7":"markdown","76274bb1":"markdown","b56217db":"markdown","e49dbe26":"markdown","3b42d125":"markdown","a0424e84":"markdown","0ff84c4e":"markdown","d27930d6":"markdown","a702c405":"markdown","d262785d":"markdown","5ef432d0":"markdown"},"source":{"2e1e7cdc":"import pandas as pd","0a677054":"data=pd.read_csv('..\/input\/insurance\/insurance.csv')","c3162c63":"data.shape","cdac8b90":"data.head()","3eeaeb43":"# check for null values\n\ndata.isnull().sum()","e3a2d5e2":"data['sex'].unique()","4b4ec5dc":"data['smoker'].unique()","b7ff5d3c":"data['region'].unique()","6eac939a":"from sklearn.preprocessing import LabelEncoder\nlabel_encoder=LabelEncoder()","e57ab96d":"data.sex=label_encoder.fit_transform(data.sex)\ndata.smoker=label_encoder.fit_transform(data.smoker)\ndata.region=label_encoder.fit_transform(data.region)","120488b5":"data.head()","3adcbab1":"data.info()","f13113a6":"data.shape","fba0098e":"data.describe()","d1e2cfc9":"data.head()","127c88d6":"y=data['charges']\nX=data.drop(['charges'],axis=1)","2f53e540":"from sklearn.model_selection import train_test_split \nfrom sklearn import linear_model","fc187ccf":"reg = linear_model.LinearRegression() ","a864f5f6":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.20)","0825c477":"reg.fit(X_train, y_train) ","7b5908bd":"reg.score(X_test,y_test)","717a6046":"data.corr()['charges'].sort_values()","63d2a47c":"X_new=X.drop(['region'],axis=1)","ce0ac2e5":"X_train, X_test, y_train, y_test = train_test_split(X_new, y, test_size=0.20)","13dcaacf":"reg_1 = linear_model.LinearRegression() ","590f4a26":"reg_1.fit(X_train, y_train) ","42e7b8c9":"reg_1.score(X_test,y_test)","80126571":"import seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline","41939e2b":"data_1=pd.read_csv('..\/input\/insurance\/insurance.csv')","9c97b4a8":"data_1.head()","b81b9fcc":"correlation=data.corr()","8b10d70e":"correlation","62bad45b":"sns.heatmap(correlation)","574c0fc1":"# no of male and females in the complete dataset\n\nsns.countplot(data_1['sex']);","378c4919":"data_1.head()","b7691201":"data_1['charges'].describe()","a0aac961":"data_1['age'].describe()","99cd5254":"#data of people who are between 18 and 25\n\ndata_u25=data_1[data_1['age']<=25]","1da411b9":"data_u25.head()","548b0641":"# people who are between 26 and 34\n\ndata_u34=data_1.loc[(data_1['age']>=26) & (data_1['age']<=34)]","fa5248ad":"data_u34.head()","f515dcaa":"# between 35 and 49\n\ndata_u49=data_1.loc[(data_1['age']>=35) & (data_1['age']<=49)]","9fc806fa":"data_u49.head()","60ec6eee":"# people who are between 50 and 64\n\ndata_u64=data_1.loc[(data_1['age']>=50) & (data_1['age']<=64)]","81cdc861":"data_u64.head()","d42c6c10":"def shape(df):\n    print(df.shape)","0db74401":"shape(data_1)\nshape(data_u25)\nshape(data_u34)\nshape(data_u49)\nshape(data_u64)","96504725":"def scatter_plot(x,y,x_heading,y_heading) :  \n    plt.scatter(x=x,y=y)\n    plt.xlabel(x_heading)\n    plt.ylabel(y_heading)","28f903bf":"#relation between BMI and CHARGES\n\n\nplt.figure(figsize=(15,15))\nplt.subplot(2,2,1)\nscatter_plot(data_u25['bmi'],data_u25['charges'],'BMI of people between 18 and 25','CHARGES')\nplt.subplot(2,2,2)\nscatter_plot(data_u34['bmi'],data_u34['charges'],'BMI of people between 26 and 34 ','CHARGES')\nplt.subplot(2,2,3)\nscatter_plot(data_u49['bmi'],data_u49['charges'],'BMI of people between 35 and 49 ','CHARGES')\nplt.subplot(2,2,4)\nscatter_plot(data_u64['bmi'],data_u64['charges'],'BMI of people between 50 and 64 ','CHARGES')","bd15a567":"def boxplot(x,y):\n    sns.boxplot(x=x,y=y)","ec527313":"#medical charges according to age \n\n\nplt.figure(figsize=(12,12))\nplt.subplot(2,2,1)\nboxplot(x=data_u25['age'],y=data_u25['charges']) \nplt.xlabel('Age between 18 and 25')\nplt.subplot(2,2,2)\nboxplot(x=data_u34['age'],y=data_u34['charges']) \nplt.xlabel('Age between 26 and 34')\nplt.subplot(2,2,3)\nboxplot(x=data_u49['age'],y=data_u49['charges']) \nplt.xlabel('Age between 35 and 49')\nplt.subplot(2,2,4)\nboxplot(x=data_u64['age'],y=data_u64['charges']) \nplt.xlabel('Age between 50 and 64');","e73ce7d5":"#medical charges for people who smoke vs who don't smoke\n\n\nplt.figure(figsize=(12,12))\nplt.subplot(2,2,1)\nboxplot(data_u25['smoker'],data_u25['charges'])\nplt.xlabel('people between 18 and 25')\nplt.subplot(2,2,2)\nboxplot(data_u34['smoker'],data_u34['charges'])\nplt.xlabel('people between 26 and 34')\nplt.subplot(2,2,3)\nboxplot(data_u49['smoker'],data_u49['charges'])\nplt.xlabel('people between 35 and 49')\nplt.subplot(2,2,4)\nboxplot(data_u64['smoker'],data_u64['charges'])\nplt.xlabel('people between 50 and 64');","24f76240":"data_1.head()","7472fbbb":"#no of male and female smokers \n\nplt.figure(figsize=(12,12))\nplt.subplot(2,2,1)\nsns.countplot(data_u25.loc[data_u25['smoker']=='yes']['sex'])\nplt.xlabel('people under 25')\nplt.subplot(2,2,2)\nsns.countplot(data_u34.loc[data_u34['smoker']=='yes']['sex'])\nplt.xlabel('people under 34')\nplt.subplot(2,2,3)\nsns.countplot(data_u49.loc[data_u49['smoker']=='yes']['sex'])\nplt.xlabel('people under 49')\nplt.subplot(2,2,4)\nsns.countplot(data_u64.loc[data_u64['smoker']=='yes']['sex'])\nplt.xlabel('people under 64');","24c4f48b":"#medical charges in various regions\n\nboxplot(data_1['region'],data_1['charges'])","4234d370":"data_1.head()","91eb4426":"data_1.loc[(data_1['bmi']>=18.5) & (data_1['bmi']<=24.9)].info()","4b795dd5":"#no of healthy male and females in the dataset\n\nsns.countplot(data_1.loc[(data_1['bmi']>=18.5) & (data_1['bmi']<=24.9)]['sex']);","7f222780":"We have almost the same number of both male and females.","a2f346a6":"##### Let's understand the trends in the data by visualizing all the aspects.","b7e58414":"### These are the relations we will be visualising to understand the dataset in a better way and conclude some important things.\n\n#### 1. BMI and charges relation.\n#### 2.Age and charges relation.\n#### 3.Smoker charges relation.\n#### 4.No of smokers men and women.\n#### 5.Region and charges relation .  \n#### 6.No of healthy people we have.","1e84cfb9":"analysing every memeber of the dataset together will not be fair as their lifestyles are different their way of living is different .we can't compare a 18 years old person to a 64 years old person in any respect.\nthere are various factors and aspects in our day-to-day routine which led to major changes in our lives.\n\nthis is the reason i am dividing this dataset in 4 parts on the basis of age.\n###### Age intervals are   [18-25 ,  26-34  ,  35-49  ,  50-64]","34f282d8":"the region is least related to the charges column we can do some prediction without the region column although it is important and should not be dropped.","04e6d658":"youngest memeber in the dataset is 18 years old and the eldest is 64.","8a394d7f":"In the above scatter plots we can see clusters forming in 3 areas.Let's see what we can understand from this.\n\n##### Clusters\nthe first cluster(top one)indicates a direct relation between BMI and charges .the more the BMI the more the expense.\n\nthe second cluster(middle one) indicates that the medical charges are not too much related to BMI of the respective person,ie. BMI is the not the main reason for their medical expenses.although it is important.\n\nthe third cluster(bottom one) has those people whose medical charges are very less or not related to thier BMI.\n\n##### density of points in these clusters-\nif we look closely in these plots the density of points in the third cluster(bottom one) is maximum in the 4th plot ie of people of age group 50 to 64.when a human starts aging there are many complications and problems happens with age which they have to take care and these are not related to BMI.\n\nthe people of age group 18-25 and 26-34 are the most active ones and usually they dont face problems because of BMI. the second cluster (middle one) of the first and second plot illustrates this.\n\nthe third plot is of people of age between 35 and 49.they share common things with everyone,a direct relation can be observed between BMI and charges from the first cluster,there are people who are active and there is a randomness in the second cluster and a dense region in the third cluster also as the aging factor starts hitting.\n\n","671d02f8":"\nClearly we have more number of healthy females than healthy males.","4a6b13c7":"#### If you like this notebook please upvote.\n#### Thanks","76274bb1":"For most adults, an ideal BMI is in the 18.5 to 24.9 range.\n\nIf your BMI is:\n\nbelow 18.5 \u2013 you're in the underweight range\n\nbetween 18.5 and 24.9 \u2013 you're in the healthy weight range\n\nbetween 25 and 29.9 \u2013 you're in the overweight range\n\nbetween 30 and 39.9 \u2013 you're in the obese range ","b56217db":"These boxplot shows the relation between age and charges and we can clearly see that the conclusions we came up with the BMI and charges relation are being justified here.\n\nthe minimum medical charges of people are increasing with age and in the fourth boxplot we can clearly see the incline,even the mean medical charge is greater than 10000 for everyone.","e49dbe26":"1338 rows 7 columns with no null values.","3b42d125":"region is least related to  charges.","a0424e84":"implementing linear regression","0ff84c4e":"the four intervals of the dataset are \n\n [18-25 ,  26-34  ,  35-49  ,  50-64]\n\nand the corresponding datasets are \n\ndata_u25,  data_u34  ,  data_u49  ,  data_u64\n","d27930d6":"Age has nothing to do with the relation between region and medical charges,as the charges for a certain work will be same for a 18 years old person and a 50 years old person in the same region.\n\nthat's why this boxplot is for the complete dataset.","a702c405":" #### I don't think i need to explain what these plots are telling us.","d262785d":"there are total 222 people with a healthy BMI.","5ef432d0":"For most adults, an ideal BMI is in the 18.5 to 24.9 range."}}