{"cell_type":{"19d3c857":"code","20c6334b":"code","275e2eb2":"code","9ee86963":"code","e040c8ae":"code","3fb62b9f":"code","cc136e6f":"code","d9f2d9ab":"code","3e2748d4":"code","5fc05410":"code","3a7e8fc2":"code","f1fc7257":"code","40117a02":"code","1e00bc60":"code","1178d00a":"code","e7dfade8":"code","a9c88e95":"code","8f009443":"code","ccbb5864":"code","195d37fb":"code","b3b11c21":"code","3b48bd34":"code","68244e8b":"code","ffb41f0d":"code","19755b3d":"code","e3ba7df6":"markdown","7ed29d6c":"markdown","0d40b324":"markdown","cd83a289":"markdown","575bdb60":"markdown","c445143c":"markdown","0d1f13ca":"markdown","65908071":"markdown","7c1d227d":"markdown","9422eddf":"markdown","b3bdba2b":"markdown","9e830f63":"markdown","3257becc":"markdown","fcf7ab11":"markdown","f0d556de":"markdown","02e0bd0c":"markdown","b70e64ef":"markdown","5e7bd9d4":"markdown","76bf257e":"markdown","5234f61c":"markdown","231bd33b":"markdown","1032ab78":"markdown","e8257872":"markdown","5ee88b4a":"markdown"},"source":{"19d3c857":"import pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nprint(\"Setup Complete\")","20c6334b":"# Set up code checking\nfrom learntools.core import binder\nbinder.bind(globals())\nfrom learntools.data_viz_to_coder.ex7 import *\nprint(\"Setup Complete\")","275e2eb2":"# Check for a dataset with a CSV file\nstep_1.check()","9ee86963":"# Fill in the line below: Specify the path of the CSV file to read\nmy_filepath ='..\/input\/smart-home-dataset-with-weather-information\/HomeC.csv'\n# Check for a valid filepath to a CSV file in a dataset\nstep_2.check()","e040c8ae":"# Fill in the line below: Read the file into a variable my_data\nmy_data = pd.read_csv(my_filepath  ,   parse_dates=True)\nhome_dat = my_data.select_dtypes(exclude=['object'])\n\n# you can convert a time from unix epoch timestamp to normal stamp using \n# import time \n# print( ' start ' , time.strftime('%Y-%m-%d %H:%S', time.localtime(1451624400)))\n\n\ntime_index = pd.date_range('2016-01-01 05:00', periods=503911,  freq='min')  \ntime_index = pd.DatetimeIndex(time_index)\nhome_dat = home_dat.set_index(time_index)\n# Check that a dataset has been uploaded into my_data\nstep_3.check()","3fb62b9f":"energy_data = home_dat.filter(items=[ 'gen [kW]', 'House overall [kW]', 'Dishwasher [kW]',\n                                     'Furnace 1 [kW]', 'Furnace 2 [kW]', 'Home office [kW]', 'Fridge [kW]',\n                                     'Wine cellar [kW]', 'Garage door [kW]', 'Kitchen 12 [kW]',\n                                     'Kitchen 14 [kW]', 'Kitchen 38 [kW]', 'Barn [kW]', 'Well [kW]',\n                                     'Microwave [kW]', 'Living room [kW]', 'Solar [kW]'])\n\nweather_data = home_dat.filter(items=['temperature',\n                                      'humidity', 'visibility', 'apparentTemperature', 'pressure',\n                                      'windSpeed', 'windBearing', 'dewPoint'])","cc136e6f":"energy_data.head(10)","d9f2d9ab":"weather_data.head()","3e2748d4":"# Print the first five rows of the data\n","5fc05410":"energy_per_day = energy_data.resample('D').sum()\nenergy_per_day.head()","3a7e8fc2":"energy_per_month = energy_data.resample('M').sum() # for energy we use sum to calculate overall consumption in period \nplt.figure(figsize=(20,10))\nsns.lineplot(data= energy_per_month.filter(items=[ 'Dishwasher [kW]','House overall [kW]',\n                                     'Furnace 1 [kW]', 'Furnace 2 [kW]', 'Home office [kW]', 'Fridge [kW]',\n                                     'Wine cellar [kW]', 'Garage door [kW]', 'Kitchen 12 [kW]',\n                                     'Kitchen 14 [kW]', 'Kitchen 38 [kW]', 'Barn [kW]', 'Well [kW]',\n                                     'Microwave [kW]', 'Living room [kW]', 'Solar [kW]']) , dashes=False  )\n# use power == house overall\n# gen power == solar ","f1fc7257":"plt.figure(figsize=(20,10))\n# Plot the rooms consumption \nsns.lineplot(data= energy_per_month.filter(items=[      # remove the devices consumption \n                                     'Home office [kW]',\n                                     'Wine cellar [kW]', 'Kitchen 12 [kW]',\n                                     'Kitchen 14 [kW]', 'Kitchen 38 [kW]', 'Barn [kW]',\n                                      'Living room [kW]']) , dashes=False  )","40117a02":"weather_per_day = weather_data.resample('D').mean()  # note!! (mean) # D =>> for day sample\nweather_per_day.head()\nweather_per_month = weather_data.resample('M').mean()                # M =>> for month sample","1e00bc60":"\n\nplt.figure(figsize=(20,8))\n\nsns.lineplot(data= weather_per_month.filter(items=['temperature',\n                                      'humidity', 'visibility', 'apparentTemperature',\n                                      'windSpeed', 'dewPoint']) ,dashes=False )\n\n\n\n","1178d00a":"weather_per_month.head()","e7dfade8":"plt.figure(figsize=(20,8))\nsns.lineplot(data= energy_data.loc['2016-10-01 00:00' : '2016-10-01 23:00'].filter([ 'Home office [kW]',\n                                     'Wine cellar [kW]', 'Garage door [kW]', 'Kitchen 12 [kW]',\n                                     'Kitchen 14 [kW]', 'Kitchen 38 [kW]', 'Barn [kW]', 'Well [kW]',\n                                 'Living room [kW]']),dashes=False , )","a9c88e95":"plt.figure(figsize=(20,8))\nsns.lineplot(data= energy_data.loc['2016-10-01 00:00' : '2016-10-01 23:00'].filter([ 'Home office [kW]',\n                                      'Garage door [kW]', 'Kitchen 12 [kW]',\n                                     'Kitchen 14 [kW]', 'Kitchen 38 [kW]',\n                                 'Living room [kW]']),dashes=False , )","8f009443":"plt.figure(figsize=(20,8))\nsns.lineplot(data= energy_per_day['Solar [kW]'],dashes=False , )","ccbb5864":"rooms_energy = energy_per_month.filter(items=[      # remove the devices consumption \n                                     'Home office [kW]',\n                                     'Wine cellar [kW]', 'Kitchen 12 [kW]',\n                                     'Kitchen 14 [kW]', 'Kitchen 38 [kW]', 'Barn [kW]',\n                                      'Living room [kW]']) \ndevices_energy = energy_per_month.filter(items=[ 'Dishwasher [kW]',\n                                     'Furnace 1 [kW]', 'Furnace 2 [kW]',  'Fridge [kW]',\n                                     'Garage door [kW]', \n                                     'Kitchen 38 [kW]', 'Barn [kW]', 'Well [kW]',\n                                     'Microwave [kW]'])\n\nall_rooms_consum = rooms_energy.sum()\nall_devices_consum = devices_energy.sum()\nprint(all_rooms_consum)\nprint(all_devices_consum)\n","195d37fb":"plot = all_rooms_consum .plot(kind = \"pie\", figsize = (5,5))\nplot.set_title(\"Consumption for room\")","b3b11c21":"plot = all_devices_consum .plot(kind = \"pie\", figsize = (5,5))\nplot.set_title(\"Consumption for devices\")","3b48bd34":"sns.regplot(x=energy_per_day['House overall [kW]'], y= weather_per_day['temperature'])","68244e8b":"sns.regplot(x=energy_per_day.filter(items = ['Kitchen 12 [kW]','Kitchen 14 [kW]', 'Kitchen 38 [kW]']).sum(axis=1 ), y= weather_per_day['temperature'])","ffb41f0d":"sns.regplot(x=energy_per_day['Fridge [kW]'], y= weather_per_day['temperature'])","19755b3d":"sns.regplot(x=energy_per_day['Garage door [kW]'], y= weather_per_day['temperature'])","e3ba7df6":"## Step 1: Attach a dataset to the notebook\n\nBegin by selecting a CSV dataset from [Kaggle Datasets](https:\/\/www.kaggle.com\/datasets).  If you're unsure how to do this or would like to work with your own data, please revisit the instructions in the previous tutorial.\n\nOnce you have selected a dataset, click on the **[+ ADD DATASET]** option in the top right corner.  This will generate a pop-up window that you can use to search for your chosen dataset.  \n\n![ex6_search_dataset](https:\/\/i.imgur.com\/QDEKwYp.png)\n\nOnce you have found the dataset, click on the **[Add]** button to attach it to the notebook.  You can check that it was successful by looking at the **Workspace** dropdown menu to the right of the notebook -- look for an **input** folder containing a subfolder that matches the name of the dataset.\n\n![ex6_dataset_added](https:\/\/i.imgur.com\/oVlEBPx.png)\n\nYou can click on the carat to the right of the name of the dataset to double-check that it contains a CSV file.  For instance, the image below shows that the example dataset contains two CSV files: (1) **dc-wikia-data.csv**, and (2) **marvel-wikia-data.csv**.\n\n![ex6_dataset_dropdown](https:\/\/i.imgur.com\/4gpFw71.png)\n\nOnce you've uploaded a dataset with a CSV file, run the code cell below **without changes** to receive credit for your work!","7ed29d6c":"### from this plot we can see that : the home office has the highest consumption in home","0d40b324":"### In this day the barn has the highest consumption ","cd83a289":"### ADD a Date Time Index to dataset to be more meaningful\n  ####  Dataset use Unix epoch timestamps for min so i calculate the start time to generate the data time index ","575bdb60":"## Keep going\n\nLearn how to use your skills after completing the micro-course to create data visualizations in a **[final tutorial](https:\/\/www.kaggle.com\/alexisbcook\/creating-your-own-notebooks)**.","c445143c":"## Generate Data per (day) and (month) :","0d1f13ca":"#### The relation between Kitchens consumption and Temprature are invers","65908071":"## Step 4: Visualize the data\n\nUse the next code cell to create a figure that tells a story behind your dataset.  You can use any chart type (_line chart, bar chart, heatmap, etc_) of your choosing!","7c1d227d":"**_After the code cell above is marked correct_**, run the code cell below without changes to view the first five rows of the data.","9422eddf":"### The relation between temprature and Fridge consumption (Strong dependant)","b3bdba2b":"**[Data Visualization: From Non-Coder to Coder Micro-Course Home Page](https:\/\/www.kaggle.com\/learn\/data-visualization-from-non-coder-to-coder)**\n\n---\n","9e830f63":"### The temprature data not real >> I think there's a problem in temprature sensor ","3257becc":"Now it's time for you to demonstrate your new skills with a project of your own!\n\nIn this exercise, you will work with a dataset of your choosing.  Once you've selected a dataset, you'll design and create your own plot to tell interesting stories behind the data!\n\n## Setup\n\nRun the next cell to import and configure the Python libraries that you need to complete the exercise.","fcf7ab11":"The questions below will give you feedback on your work. Run the following cell to set up the feedback system.","f0d556de":"## Step 2: Specify the filepath\n\nNow that the dataset is attached to the notebook, you can find its filepath.  To do this, use the **Workspace** menu to list the set of files, and click on the CSV file you'd like to use.  This will open the CSV file in a tab below the notebook.  You can find the filepath towards the top of this new tab.  \n\n![ex6_filepath](https:\/\/i.imgur.com\/pWe0sVb.png)\n\nAfter you find the filepath corresponding to your dataset, fill it in as the value for `my_filepath` in the code cell below, and run the code cell to check that you've provided a valid filepath.  For instance, in the case of this example dataset, we would set\n```\nmy_filepath = \"..\/input\/dc-wikia-data.csv\"\n```  \nNote that **you must enclose the filepath in quotation marks**; otherwise, the code will return an error.\n\nOnce you've entered the filepath, you can close the tab below the notebook by clicking on the **[X]** at the top of the tab.","02e0bd0c":"### we can note that :  in August  and September the highest consumption in the year then February month \n### and the lowest month in consumption is January","b70e64ef":"---\n**[Data Visualization: From Non-Coder to Coder Micro-Course Home Page](https:\/\/www.kaggle.com\/learn\/data-visualization-from-non-coder-to-coder)**\n\n","5e7bd9d4":"## Home activity in day 2016-10-1  ","76bf257e":"#### from plot :The Solar power has the highest rate in the April - May ","5234f61c":"### The temprature effect on home consumption is weak","231bd33b":"### As we see  the home office has the highest consumption in the home and the living room has the lowest consumption ","1032ab78":"### The furnace has the highest consumption , in devices nearly the half of devices consumption","e8257872":"# Data Preparation : ","5ee88b4a":"## Step 3: Load the data\n\nUse the next code cell to load your data file into `my_data`.  Use the filepath that you specified in the previous step."}}