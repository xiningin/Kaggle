{"cell_type":{"25ecb6a7":"code","aac40b2e":"code","830837af":"code","4392930d":"code","6d8f33eb":"code","f8cbf6de":"code","bd6de5a2":"code","7ffa5a12":"code","2573689d":"code","2b1b4def":"markdown","f8adf67a":"markdown","4c062da9":"markdown","b7c12e93":"markdown","2f6c488b":"markdown","de51857d":"markdown","b36112fb":"markdown","a69b58a1":"markdown","d69243dc":"markdown","ffead883":"markdown","ce5f652e":"markdown","2cee0e81":"markdown","e5dd2647":"markdown"},"source":{"25ecb6a7":"import pandas as pd\nimport numpy as np\nimport re, nltk, stop_words\nfrom sklearn.feature_extraction.text import CountVectorizer\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.naive_bayes import BernoulliNB\nfrom sklearn.metrics import confusion_matrix, classification_report","aac40b2e":"fake = pd.read_csv('..\/input\/fake-and-real-news-dataset\/Fake.csv')\nreal = pd.read_csv('..\/input\/fake-and-real-news-dataset\/True.csv')\nfake['fake?'] = 1\nreal['fake?'] = 0\ndf = pd.concat([fake,real])\ndf = df.sample(frac=1).reset_index(drop=True)\ndf.head()","830837af":"def transformation(text):\n    text = re.sub('[^A-Za-z]',' ',text)\n    return ' '.join([nltk.stem.PorterStemmer().stem(word) for word in text.lower().split() if word not in stop_words.get_stop_words('english')])\ntext = df['text'].apply(transformation)\nlabels = df['fake?']","4392930d":"vectorize = CountVectorizer(max_features=200,ngram_range=(1,3))\nx = vectorize.fit_transform(text).toarray()\ny = np.array(labels)","6d8f33eb":"xtrain, xtest, ytrain, ytest = train_test_split(x,y,test_size=0.2,random_state=34)\nprint('\\nTotal number of samples in the Train Dataset :',xtrain.shape[0])\nprint('Total number of samples in the Test Dataset :',xtest.shape[0])","f8cbf6de":"bnb = BernoulliNB().fit(xtrain,ytrain)\nprint('\\nAccuracy score :',bnb.score(xtest,ytest))","bd6de5a2":"ypred = bnb.predict(xtest)\nprint('Confusion Metrics : \\n\\n',confusion_matrix(ytest,ypred),'\\n\\n')\nprint('Classification Report :\\n\\n',classification_report(ytest,ypred))","7ffa5a12":"def predict(text):\n    text = transformation(text)\n    text = vectorize.transform([text])\n    if bnb.predict(text)[0] == 1:\n        print('This is fake news.')\n    else:\n        print('This is real news.')","2573689d":"corpus1 = '''One of Donald Trump s favorite punching bags is CNN. He even once tweeted a GIF image of himself punching a person with a CNN logo superimposed over the head \n            indicating that he d like to enact violence against CNN s reporters. Then there was the time he tweeted the  Trump Train roaring over  CNN.  Now, he s back at it \n            this time suggesting that  fake  CNN should be the ones representing America to the world, and that they are doing a bad job. Here is that tweet:.@FoxNews \n            is MUCH more important in the United States than CNN, but outside of the U.S., CNN International is still a major source of (Fake) news, and they represent\n            our Nation to the WORLD very poorly. The outside world does not see the truth from them!  Donald J. Trump (@realDonaldTrump) November 25, 2017Of course, \n            it is beneath the dignity of most people to respond to a moronic buffoon like Trump under normal circumstances. However, he is currently squatting in the \n            White House, and has his tiny orange hands on the levers of power   not to mention the nuclear codes   so they have to stoop to a Trumpian level when \n            personally attacked. However, being, well, you know, FIT to be doing the job they are doing, the good folks at CNN Communications fired back at Trump, and \n            their response is nothing short of perfect:It's not CNN's job to represent the U.S to the world. That's yours. Our job is to report the news. #FactsFirst   \n            CNN Communications (@CNNPR) November 25, 2017BOOM! Couldn t have asked for a sicker burn than this. And they are right of course   especially the part about\n            #FactsFirst. Trump has a problem with the truth, as we all well know. That s what makes what the CNN Communications people replied so fabulous. \n            It is the ultimate truth   something the likes of the pathological orange liar that is Donald Trump knows nothing about.Featured image via  \n            Andrew Burton\/Getty Images '''\n\n\n\ncorpus2 = '''WASHINGTON (Reuters) - The No. 2 Republican in the U.S. House of Representatives said on Tuesday the House would likely need to vote again on tax\n            legislation on Wednesday morning given that Democrats in the Senate were likely to prevail on a procedural objection. House Majority Leader Kevin McCarthy \n            advised House lawmakers that Senate Democrats were likely to object that the legislation fails to comply with the so-called Byrd rule and were likely to be\n            upheld, necessitating a second House vote. \u201cAs such, members are further advised that an additional procedural vote on the Motion to Concur is expected \n                tomorrow morning, which will clear the bill for President Trump\u2019s signature,\u201d McCarthy said in a notice to House lawmakers. '''\n\npredict(corpus1)\npredict(corpus2)","2b1b4def":"#### **Importing All Necessary APIs**","f8adf67a":"#### **Testing the Function and Classification of News - Real or Fake?**","4c062da9":"# <center> **Thank You**","b7c12e93":"## <center> **Fake News Classification**","2f6c488b":"#### **Gathering Data**","de51857d":"![image.png](attachment:ad0f8192-94df-482a-97a9-5896aa444380.png)","b36112fb":"### **AIM : Training a Machine Learning Model that can classify Real and Fake News by reading the contents.**","a69b58a1":"#### **Encoding words to numbers using Bag of Words**","d69243dc":"#### **Spliting dataset for Training and Testing**","ffead883":"#### **Defining the function that checks the News and return weather it is Fake or Real**","ce5f652e":"#### **Performance Analysis of Model**","2cee0e81":"#### **Training Bernoulli Naive Bayes Classification Model**","e5dd2647":"#### **Data Cleaning : Removing Stop Words, Unnecessary Characters and Stemming**"}}