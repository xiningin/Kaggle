{"cell_type":{"8c33827c":"code","5d379161":"code","207e612f":"code","f1b872ef":"code","fac885e9":"code","91ec7480":"code","8f4657bc":"code","2fe04797":"code","22d8fac5":"code","6ff6fb63":"code","775954cf":"code","8d41bbe3":"code","ecb53dbd":"code","f283329f":"code","5d03ab64":"code","db4492a9":"code","abb527b5":"code","5ff8bb1f":"code","a917f605":"code","22c2cbd8":"code","7cd6706a":"code","ff9c241c":"code","280dfd0f":"code","c5455e70":"code","b8782b02":"code","8e4329f1":"code","6bc2605f":"code","b0a7ec0c":"code","6758fbce":"code","2dcc112d":"code","a92c4fc8":"code","1ad8a402":"code","5265eb2d":"markdown","450373d5":"markdown","e474bde3":"markdown","02c59c17":"markdown","7a8ae9a3":"markdown","08d1c2cb":"markdown","5890334c":"markdown","d1d14cfa":"markdown","3cd7a04c":"markdown","7cfac4b0":"markdown","a5f7dce7":"markdown","e8801d43":"markdown","9416640c":"markdown","9759c865":"markdown","4c0eaae2":"markdown","53cd2933":"markdown","6cc6c426":"markdown","32f1f3fc":"markdown","c07222e0":"markdown","2ae1ba9f":"markdown","4c61a93c":"markdown","4a12cf14":"markdown","18a06e25":"markdown","8c912d53":"markdown","5d3ea907":"markdown","e9124415":"markdown","69a2b905":"markdown","62e27d51":"markdown","01255286":"markdown"},"source":{"8c33827c":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","5d379161":"import pandas as pd\nimport numpy  as np \nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_style(\"darkgrid\")","207e612f":"games = pd.read_csv(\"\/kaggle\/input\/videogamesales\/vgsales.csv\")\ngames = pd.DataFrame(games)\ngames.columns = [i.lower() for i in games.columns]\n# let's drop duplicate rows \ngames = games.drop_duplicates()\nprint(\"Dataset shape :\",games.shape)","f1b872ef":"# let's rename some columns \ngames.rename(columns = {\"na_sales\":\"north_usa_sales\",\"eu_sales\":\"europe_sales\",\"jp_sales\":\"japan_sales\"},inplace = True)\ngames.head()","fac885e9":"# let's drop row's  if it as  atleast one null value.\ngames.dropna(how = \"any\",inplace = True)\nprint(\"Dataset shape after droping row's with null valu's :\",games.shape)","91ec7480":"missing_percent = pd.DataFrame(games.isnull().sum(),columns = [\"missing percent\"])\nmissing_percent","8f4657bc":"# feature transformation\ngames.year = games.year.astype(int)","2fe04797":"max_sold = games.global_sales.max()\nprint(\"game got highest global sales : \") \nname = games[games.global_sales == max_sold][[\"name\",\"global_sales\"]]\nname","22d8fac5":"min_sold = games.global_sales.min()\nprint(\"Games got least global sales : \") \ngames[games.global_sales == min_sold][[\"name\",\"global_sales\"]]","6ff6fb63":"plt.rcParams['figure.figsize'] = (14,10)\nyear_wise_game_sales  = pd.pivot_table(games ,index = \"year\" ,values = \"global_sales\",aggfunc = np.sum)\nsns.barplot(year_wise_game_sales[\"global_sales\"],year_wise_game_sales.index,orient = \"h\")\nplt.title(\"Year wise global game sales :\")","775954cf":"plt.rcParams['figure.figsize'] = (8,6)\nplatform_wise_game_sales  = pd.pivot_table(games ,index = \"platform\" ,values = \"global_sales\",aggfunc = np.sum)\nplatform_wise_game_sales  = platform_wise_game_sales.sort_values(by = \"global_sales\",ascending  = False).head(10)\nsns.barplot(platform_wise_game_sales[\"global_sales\"],platform_wise_game_sales.index,orient = \"h\")\nplt.title(\"Top 10 Platform wise global game sales :\")","8d41bbe3":"plt.rcParams['figure.figsize'] = (8,6)\ngenre_wise_game_sales  = pd.pivot_table(games ,index = \"genre\" ,values = \"global_sales\",aggfunc = np.sum)\ngenre_wise_game_sales  = genre_wise_game_sales.sort_values(by = \"global_sales\",ascending  = False).head(10)\nsns.barplot(genre_wise_game_sales[\"global_sales\"],genre_wise_game_sales.index,orient = \"h\",palette = \"husl\")\nplt.title(\"Top 10 Genre wise global game sales :\")","ecb53dbd":"plt.rcParams['figure.figsize'] = (8,6)\npublisher_wise_game_sales  = pd.pivot_table(games ,index = \"publisher\" ,values = \"global_sales\",aggfunc = np.sum)\npublisher_wise_game_sales  = publisher_wise_game_sales.sort_values(by = \"global_sales\",ascending  = False).head(10)\nsns.barplot(publisher_wise_game_sales[\"global_sales\"],publisher_wise_game_sales.index,orient = \"h\",palette = \"viridis\")\nplt.title(\"Top 10 Publisher wise global game sales :\") ","f283329f":"top_five_action_games = games[games.genre == \"Action\"][[\"name\",\"global_sales\"]]\ntop_five_action_games = top_five_action_games.sort_values(by = \"global_sales\",ascending = False )\ntop_five_action_games = top_five_action_games.drop_duplicates([\"name\"]).head(5)\nsns.barplot(top_five_action_games[\"global_sales\"],top_five_action_games[\"name\"])\nplt.title(\"Top Five Action Games And Their Sales World Wide : \")\ntop_five_action_games","5d03ab64":"top_five_Sports_games = games[games.genre == \"Sports\"][[\"name\",\"global_sales\"]]\ntop_five_Sports_games = top_five_Sports_games.sort_values(by = \"global_sales\",ascending = False )\ntop_five_Sports_games = top_five_Sports_games.drop_duplicates([\"name\"]).head(5)\nsns.barplot(top_five_Sports_games[\"global_sales\"],top_five_Sports_games[\"name\"])\nplt.title(\"Top Five Sport Games And Their Sales World Wide : \")\ntop_five_Sports_games","db4492a9":"top_five_Shooting_games = games[games.genre == \"Shooter\"][[\"name\",\"global_sales\"]]\ntop_five_Shooting_games = top_five_Shooting_games.sort_values(by = \"global_sales\",ascending = False )\ntop_five_Shooting_games = top_five_Shooting_games.drop_duplicates([\"name\"]).head(5)\nplt.pie(x = top_five_Shooting_games[\"global_sales\"],labels= list(top_five_Shooting_games.name),shadow=True)\nplt.title(\"Top Five Shooting Games And Their Sales World Wide : \")\ntop_five_Shooting_games","abb527b5":"top_five_Platform_games = games[games.genre == \"Platform\"][[\"name\",\"global_sales\"]]\ntop_five_Platform_games = top_five_Platform_games.sort_values(by = \"global_sales\",ascending = False )\ntop_five_Platform_games = top_five_Platform_games.drop_duplicates([\"name\"]).head(5)\nsns.barplot(top_five_Platform_games[\"global_sales\"],top_five_Platform_games[\"name\"],palette = 'colorblind')\nplt.title(\"Top Five Platform Games And Their Sales World Wide : \")\ntop_five_Platform_games","5ff8bb1f":"top_five_Role_Playing_games = games[games.genre == \"Role-Playing\"][[\"name\",\"global_sales\"]]\ntop_five_Role_Playing_games = top_five_Role_Playing_games.sort_values(by = \"global_sales\",ascending = False )\ntop_five_Role_Playing_games = top_five_Role_Playing_games.drop_duplicates([\"name\"]).head(5)\nsns.barplot(top_five_Role_Playing_games[\"global_sales\"],top_five_Role_Playing_games[\"name\"])\nplt.title(\"Top Five Platform Games And Their Sales World Wide : \")\ntop_five_Role_Playing_games","a917f605":"north_usa_highest_sold_game = games.north_usa_sales.max()\nprint(\"highest sold Game in North_USA :\")\ngames[games[\"north_usa_sales\"] == north_usa_highest_sold_game][[\"name\",\"north_usa_sales\"]]","22c2cbd8":"Europe_highest_sold_game = games.europe_sales.max()\nprint(\"highest sold Game in EUROPE :\")\ngames[games[\"europe_sales\"] == Europe_highest_sold_game][[\"name\",\"europe_sales\"]]","7cd6706a":"Japan_highest_sold_game = games.japan_sales.max()\nprint(\"highest sold Game in Japan :\")\ngames[games[\"japan_sales\"] == Japan_highest_sold_game][[\"name\",\"japan_sales\"]]","ff9c241c":"other_sales_highest_sold_game = games.other_sales.max()\nprint(\"highest sold Game in Other_Sales :\")\ngames[games[\"other_sales\"] == other_sales_highest_sold_game][[\"name\",\"other_sales\"]]","280dfd0f":"tot_sales_year_wise = pd.pivot_table(games,index = \"year\",values = \"global_sales\",aggfunc= np.sum)\n#print(avg_sales_year_wise) #uncomment this to know Total sale's value's with respect each year.\nplt.plot(tot_sales_year_wise.index,tot_sales_year_wise[\"global_sales\"],color = 'g',marker = \"*\")\nplt.title(\"Total Sale's Year Wise\")\nplt.xlabel(\"Year's\")\nplt.ylabel(\"avg global_sales\")","c5455e70":"plt.figure(figsize = (14,8))\nax = games.north_usa_sales[:200].plot.kde()\nax = games.europe_sales[:200].plot.kde()\nax = games.japan_sales[:200].plot.kde()\nax = games.other_sales[:200].plot.kde()\nax = games.global_sales[:200].plot.kde()\nax.legend()","b8782b02":"# dropping columns\ndata = games.copy()\ndata.drop([\"north_usa_sales\",\"europe_sales\",\"japan_sales\",\"other_sales\",\"rank\"],axis = 1,inplace = True)","8e4329f1":"def data_encode(x_data):\n    for i in x_data.columns:\n        x_data[i]=x_data[i].factorize()[0]\n        \n    return x_data    \n    \nx_data = data.drop(\"global_sales\",axis = 1)\ny_data = data[\"global_sales\"]\nx_data = data_encode(x_data)","6bc2605f":"from sklearn.linear_model import LinearRegression\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.metrics import r2_score,mean_squared_error","b0a7ec0c":"from sklearn.model_selection import train_test_split\nxtrain,xtest,ytrain,ytest=train_test_split(x_data,y_data,test_size=.3,random_state=1)","6758fbce":"lr_model =LinearRegression()\nlr_model.fit(xtrain,ytrain)\nypred=lr_model.predict(xtest)\nn = len(xtest)\np = xtest.shape[1]\nr2_value = r2_score(ytest,ypred)\nadjusted_r2_score = 1 - (((1-r2_value)*(n-1)) \/(n-p-1))\nprint(\"r2_score for Linear Reg model : \",r2_score(ytest,ypred))\nprint(\"adjusted_r2_score Value       : \",adjusted_r2_score)                         \nprint(\"MSE for Linear Regression     : \",mean_squared_error(ytest,ypred))","2dcc112d":"rf_model = RandomForestRegressor(n_estimators=200,min_samples_split=20,random_state=43)\nrf_model.fit(xtrain,ytrain)\nypred = rf_model.predict(xtest)\nn = len(xtest)\np = xtest.shape[1]\nr2_value = r2_score(ytest,ypred)\nadjusted_r2_score = 1 - (((1-r2_value)*(n-1)) \/(n-p-1))\nprint(\"r2_score for Random Forest Reg model : \",r2_score(ytest,ypred))\nprint(\"adjusted_r2_score Value              : \",adjusted_r2_score)\nprint(\"MSE for Random Forest Regression     : \",mean_squared_error(ytest,ypred))","a92c4fc8":"# random forest seems fine","1ad8a402":"# My favourite Game is \"Tom clancy's Splinter Cell \",\n# What's your's comment below.","5265eb2d":"# Which is the Top Five Best Shooting Game's","450373d5":"# Which is the Top Five Best Role-Playing Game's","e474bde3":"# Which is the highest sold Game in EUROPE","02c59c17":"# Let's see the distribution Sale's in different regions","7a8ae9a3":"# Which is the highest sold Game in Other_Sales","08d1c2cb":"# Thank You :)","5890334c":"# Top 10 platform wise global sale's","d1d14cfa":"Breakdown of this notebook: Loading the dataset: Load the data and import the libraries.\n\n1.Data Cleaning:\n   * Dropping Uncessary col's.\n   * Dropping duplicates.\n   * Checking Missing Value Percent with respect to each column.\n   * Dropping row's on having atleast one null value.\n   * Reanaming Column's\n   * Feature Transfomation\n\n2.Data Visualization\n  * using bar graph\n  * using pie chart\n  * using histogram\n  \n3. Regression Analysis\n  * Linear Regression.\n  * Random Forest Regression.\n","3cd7a04c":"# reading Data set","7cfac4b0":"# Which is the highest sold Game in JAPAN","a5f7dce7":"#  Which is the Top Five Best Action Game's","e8801d43":"# Top 10 Genre wise global sale's .\n# wow  action game's is at top !!","9416640c":"# Which is the Top Five Best Sport Game's","9759c865":"# Which is the highest sold Game in North_USA","4c0eaae2":"## This dataset contains a list of video games with sales greater than 100,000 copies. It was generated by a scrape of vgchartz.com.","53cd2933":"# Year wise global game sales\n# insight : 2008 got highest game sale's world wide","6cc6c426":"# Let's Explore ","32f1f3fc":"# 2. which game's got lowest global sale . ","c07222e0":"# Model Building","2ae1ba9f":"# Which is the Top Five Best Platform Game's","4c61a93c":"# Let's find Top 5 Best game's from Top 5  Genre's .","4a12cf14":"# Linear Regression","18a06e25":"# 1. which game got highest global sales . ","8c912d53":"# Displaying missing value percentage","5d3ea907":"# Importing required libraries","e9124415":"# renaming columns for our convenient","69a2b905":"# Top 10 Publisher wise global game sales","62e27d51":"# Total Sale's Year Wise","01255286":"# Random Forest Regressor"}}