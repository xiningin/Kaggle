{"cell_type":{"2ef7648a":"code","4ff42599":"code","b06c10f6":"code","0732c896":"code","74cabb8b":"code","e200a6a8":"code","5f3171dc":"code","350a924a":"code","e8181117":"code","3fb6c578":"code","e082b52a":"code","83501732":"code","85d30abd":"code","0cda76ce":"code","24ab5c49":"code","ae1e068d":"code","333c0114":"code","35069698":"code","f2e42044":"markdown","9cec3b3e":"markdown","fb10aea0":"markdown","b41721f6":"markdown","f64c03ad":"markdown","46adaa7c":"markdown","b5564af5":"markdown","1cb02b17":"markdown"},"source":{"2ef7648a":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\nimport string\nimport nltk\nfrom nltk.corpus import stopwords\nfrom nltk.tokenize import word_tokenize\nfrom wordcloud import WordCloud\nfrom nltk.sentiment.vader import SentimentIntensityAnalyzer\n\nfrom PIL import Image\nimport os\nprint(os.listdir(\"..\/input\"))","4ff42599":"clothes_data = pd.read_csv(\"..\/input\/womens-ecommerce-clothing-reviews\/Womens Clothing E-Commerce Reviews.csv\")\nclothes_data.head().T","b06c10f6":"clothes_data.info()","0732c896":"clothes_data[clothes_data['Title'].isnull()]","74cabb8b":"clothes_data.isnull().sum()","e200a6a8":"clothes_data['Title'] = clothes_data['Title'].replace('nan',np.NaN)\nclothes_data['Review Text'] = clothes_data['Review Text'].replace('nan',np.NaN)\n\nclothes_data.dropna(subset=['Title'], how='all', inplace = True)\nclothes_data.dropna(subset=['Review Text'], how='all', inplace = True)\nclothes_data = clothes_data[clothes_data['Department Name'] != 'General']","5f3171dc":"mode_division = clothes_data['Division Name'].mode()[0]\nmode_department = clothes_data['Department Name'].mode()[0]\nmode_class = clothes_data['Class Name'].mode()[0]\n\nclothes_data['Division Name'] = clothes_data['Division Name'].fillna(mode_division)\nclothes_data['Department Name'] = clothes_data['Department Name'].fillna(mode_division)\nclothes_data['Class Name'] = clothes_data['Class Name'].fillna(mode_division)","350a924a":"clothes_data[[\"Title\", \"Division Name\",\"Department Name\",\"Class Name\",\"Review Text\"]].describe(include=[\"O\"]).T.drop(\"count\",axis=1)","e8181117":"sns.set(rc={\"font.style\":\"normal\",\n            \"axes.grid\":False,\n            'axes.labelsize':25,\n            'figure.figsize':(12.0,12.0),\n            'xtick.labelsize':15,\n            'ytick.labelsize':15}) ","3fb6c578":"SentAnalyzer = SentimentIntensityAnalyzer()\n\nclothes_data['Title'] = clothes_data['Title'].astype(str)\n\nclothes_data['Polarity Score'] = clothes_data['Title'].apply(lambda x:SentAnalyzer.polarity_scores(x)['compound'])\n\nclothes_data['Sentiment'] = ''\n\nclothes_data.loc[clothes_data['Polarity Score'] > 0,'Sentiment'] = 'Positive'\n\nclothes_data.loc[clothes_data['Polarity Score'] < 0,'Sentiment'] = 'Negative'\nclothes_data.loc[clothes_data['Polarity Score'] == 0,'Sentiment'] = 'Neutral'\nclothes_data.head()","e082b52a":"xvar = \"Sentiment\"\nhuevar =\"Rating\"\nrowvar =  \"Department Name\"\n\nsns.countplot(x=xvar,hue=rowvar,data=clothes_data,\n         order=[\"Negative\",\"Neutral\",\"Positive\"])\nplt.title(\"Sentiment Vs Rating of each Department\",fontsize=20,fontweight='bold')\nplt.yticks(fontsize=15,fontweight='bold')\nplt.xticks(fontsize=15,fontweight='bold')\nplt.ylabel(\"\")\nplt.show()","83501732":"age = pd.cut(clothes_data['Age'],bins = [0, 25, 45, 60, 75, 100],labels = ['<=25', '<=45', '<=60', '<=75', '<=100',])\nprint(\"Different Age Group Count:\")\nprint(age.value_counts().sort_values())","85d30abd":"sns.countplot(x=age,hue=clothes_data['Rating'], palette = sns.color_palette('bright', 5))\nplt.title(\"Rating by different age groups\",fontsize=20,fontweight='bold')\nplt.ylabel(\"\")\nplt.xlabel('Age',fontsize=15,fontweight='bold')\nplt.xticks(fontsize=15,fontweight='bold')\nplt.show()","0cda76ce":"sns.heatmap(pd.crosstab(clothes_data['Class Name'], \n        clothes_data[\"Department Name\"]),\n            annot=True,fmt='g', cmap=\"Pastel1_r\")\nplt.title(\"Class Name Count Vs Department Name\",fontsize=20,fontweight='bold')\nplt.show()\n\nsns.heatmap(pd.crosstab(clothes_data['Class Name'], clothes_data[\"Division Name\"]),\n            annot=True,fmt='g', cmap=\"Pastel1\")\nplt.title(\"Class Name Count Vs Division Name\",fontsize=20,fontweight='bold')\n\nplt.show()\n\nsns.heatmap(pd.crosstab(clothes_data['Department Name'], clothes_data[\"Division Name\"]),\n            annot=True,fmt='g', cmap=\"Pastel2_r\")\nplt.title(\"Department Name Count Vs Division Name\",fontsize=20,fontweight='bold')\n\nplt.show()","24ab5c49":"def wordcloud(text,my_mask=None):\n    wordcloud = WordCloud(width=800,height=800,max_words=50,collocations=False,\n    min_font_size=10,contour_width=2, contour_color='cadetblue',mask=my_mask,background_color='white').generate(text)\n\n    plt.imshow(wordcloud,interpolation=\"bilinear\")\n    plt.axis('off')\n    plt.show()\n\ndef tokenize(text):\n    \n    stop_words = set(stopwords.words('english'))\n    \n    token =word_tokenize(text)\n    \n    word_token = []\n\n    for w in token:\n        if w not in stop_words and not w.isdigit() and w.isalnum() :\n            word_token.append(str(w))\n    \n    freq = nltk.FreqDist(word_token)\n\n    new_list = []\n    for k,v in freq.items():\n        if v >= 2:\n            new_list.append(k)\n    \n    freq.plot(10,cumulative=False)\n    plt.show()\n    return (str(new_list))","ae1e068d":"positive = clothes_data[(clothes_data['Rating'] >3) & \n                        (clothes_data['Recommended IND'] ==1) & \n                       (clothes_data['Sentiment'] =='Positive')]\n\nplt.title(\"Positive Titles Plot\",fontsize=25,fontstyle='oblique')\nret_text = tokenize(str(positive['Title']).lower())\n\nplt.title(\"Positive Titles\",fontsize=25,fontstyle='oblique')\nwordcloud(ret_text)\n","333c0114":"negative = clothes_data[(clothes_data['Rating'] <=2) & \n                        (clothes_data['Recommended IND'] ==0) & \n                       (clothes_data['Sentiment'] =='Negative')]\n\nplt.title(\"Negative Titles Plot\",fontsize=25,fontstyle='oblique')\nret_text = tokenize(str(negative['Title']).lower())\n\nplt.title(\"Negative Titles\",fontsize=25,fontstyle='oblique')\nwordcloud(ret_text)","35069698":"my_mask = np.array(Image.open(\"..\/input\/dressdress\/dress.jpg\"))\nret_text = tokenize(str(clothes_data['Review Text']).lower())\nwordcloud(ret_text,my_mask)","f2e42044":"****Sentiment Vs Rating**","9cec3b3e":"**Cloud of Positive and Negative Titles **","fb10aea0":"**Age Group Vs Rating**","b41721f6":"**Data Cleaning**","f64c03ad":"* **Retrieve Sentiment based on Title**","46adaa7c":"**Correlation Plot of Department,Division and Class against each other**","b5564af5":"**Cloud of Reviews**","1cb02b17":"**Setting up the seaborn plot**"}}