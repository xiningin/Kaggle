{"cell_type":{"c39a967c":"code","338cb3d9":"code","a9144120":"code","5bfb5e8e":"code","59edc8e1":"code","2462a13c":"code","bf4cfad9":"code","76cd456a":"code","c5452364":"code","0916132f":"code","3a5c56dd":"code","b1e12ca7":"code","e094ddfc":"code","d104a0c4":"code","3aa5e070":"code","ea8a4ec8":"code","0438b654":"code","661a43e6":"code","b8d8906f":"code","36d4ec9b":"code","ad7b46e7":"code","d6ba81ce":"code","a3d1d6d8":"code","2dbbea0f":"code","624d34a5":"code","0e3c3152":"code","de426882":"code","6860bc06":"code","e43ec5c7":"code","4146f409":"code","bfb5c5d4":"code","ce9453aa":"code","091e21fc":"code","a8965794":"code","fcf57878":"code","7fceb106":"code","cdae0174":"code","702d1232":"code","960605f2":"code","2921ccbc":"code","7531bbf0":"code","34ee8f96":"code","83ce9147":"code","4e0e6bcc":"code","40cefc5a":"markdown","36cd620e":"markdown"},"source":{"c39a967c":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objects as go","338cb3d9":"black_gender_zip = pd.read_csv(\"..\/input\/washington-post-police-killings-data-2010-census\/2018_ACS_black_by_sex_zipcodeonly.csv\")\nblack_gender_zip.shape","a9144120":"###COUNT NA's####\nblack_gender_zip.isna().sum()","5bfb5e8e":"black_gender_county = pd.read_csv(\"..\/input\/washington-post-police-killings-data-2010-census\/2018_ACS_black_by_sex.csv\")\nblack_gender_county.shape","59edc8e1":" black_gender_county.isna().sum()","2462a13c":"black_gender_zip = black_gender_zip[black_gender_zip['ET_African_American_Male'].notna()]\nblack_gender_zip = black_gender_zip[black_gender_zip['ET_African_American_Female'].notna()]\nblack_gender_zip['Zip_Male_Female_Ratio']=black_gender_zip['ET_African_American_Male']\/black_gender_zip['ET_African_American_Female']\nblack_gender_zip = black_gender_zip.drop(\"State\", axis=1)\nblack_gender_zip = black_gender_zip.rename(columns = {'County':'Zipcode'})\nblack_gender_zip.shape","bf4cfad9":"#### We are removing ZCTA5 23891 because there are 0 females and the black male population may be a product of Sussex II State Prison\n\nblack_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Female']!=0]\nblack_gender_zip.shape\n","76cd456a":"black_gender_zip['Zip_Male_Female_Ratio_15_17']=black_gender_zip['ET_African_American_Male_15_17']\/black_gender_zip['ET_African_American_Female_15_17']\nblack_gender_zip['Zip_Male_Female_Ratio_18_19']=black_gender_zip['ET_African_American_Male_18_19']\/black_gender_zip['ET_African_American_Female_18_19']\nblack_gender_zip['Zip_Male_Female_Ratio_20_24']=black_gender_zip['ET_African_American_Male_20_24']\/black_gender_zip['ET_African_American_Female_20_24']\nblack_gender_zip['Zip_Male_Female_Ratio_25_29']=black_gender_zip['ET_African_American_Male_25_29']\/black_gender_zip['ET_African_American_Female_25_29']\nblack_gender_zip['Zip_Male_Female_Ratio_30_34']=black_gender_zip['ET_African_American_Male_30_34']\/black_gender_zip['ET_African_American_Female_30_34']\nblack_gender_zip['Zip_Male_Female_Ratio_35_44']=black_gender_zip['ET_African_American_Male_35_44']\/black_gender_zip['ET_African_American_Female_35_44']\nblack_gender_zip['Zip_Male_Female_Ratio_45_54']=black_gender_zip['ET_African_American_Male_45_54']\/black_gender_zip['ET_African_American_Female_45_54']\nblack_gender_zip.head()","c5452364":"zip_stats=pd.DataFrame(black_gender_zip.describe())\nprint(zip_stats)","0916132f":"black_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Male_15_17']>=50]\nblack_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Male_18_19']>=50]\nblack_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Male_20_24']>=50]\nblack_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Male_25_29']>=50]\nblack_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Male_30_34']>=50]\nblack_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Male_35_44']>=50]\nblack_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Male_45_54']>=50]\nblack_gender_zip.shape","3a5c56dd":"black_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Female_15_17']>=50]\nblack_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Female_18_19']>=50]\nblack_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Female_20_24']>=50]\nblack_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Female_25_29']>=50]\nblack_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Female_30_34']>=50]\nblack_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Female_35_44']>=50]\nblack_gender_zip=black_gender_zip[black_gender_zip['ET_African_American_Female_45_54']>=50]\nblack_gender_zip.shape","b1e12ca7":"zip_stats=pd.DataFrame(black_gender_zip.describe())\nprint(zip_stats)","e094ddfc":"black_gender_county=black_gender_county[black_gender_county['ET_African_American_Population']>=2000]\nblack_gender_county.shape","d104a0c4":"\nblack_gender_county=black_gender_county[black_gender_county['ET_African_American_Male_15_17']>=50]\nblack_gender_county=black_gender_county[black_gender_county['ET_African_American_Male_18_19']>=50]\nblack_gender_county=black_gender_county[black_gender_county['ET_African_American_Male_20_24']>=50]\nblack_gender_county=black_gender_county[black_gender_county['ET_African_American_Male_25_29']>=50]\nblack_gender_county=black_gender_county[black_gender_county['ET_African_American_Male_30_34']>=50]\nblack_gender_county=black_gender_county[black_gender_county['ET_African_American_Male_35_44']>=50]\nblack_gender_county=black_gender_county[black_gender_county['ET_African_American_Male_45_54']>=50]\nblack_gender_county.shape","3aa5e070":"black_gender_county=black_gender_county[black_gender_county['ET_African_American_Female_15_17']>=50]\nblack_gender_county=black_gender_county[black_gender_county['ET_African_American_Female_18_19']>=50]\nblack_gender_county=black_gender_county[black_gender_county['ET_African_American_Female_20_24']>=50]\nblack_gender_county=black_gender_county[black_gender_county['ET_African_American_Female_25_29']>=50]\nblack_gender_county=black_gender_county[black_gender_county['ET_African_American_Female_30_34']>=50]\nblack_gender_county=black_gender_county[black_gender_county['ET_African_American_Female_35_44']>=50]\nblack_gender_county=black_gender_county[black_gender_county['ET_African_American_Female_45_54']>=50]\nblack_gender_county.shape","ea8a4ec8":"black_gender_county['County_Male_Female_Ratio']=black_gender_county['ET_African_American_Male']\/black_gender_county['ET_African_American_Female']\nblack_gender_county['County_Male_Female_Ratio_15_17']=black_gender_county['ET_African_American_Male_15_17']\/black_gender_county['ET_African_American_Female_15_17']\nblack_gender_county['County_Male_Female_Ratio_18_19']=black_gender_county['ET_African_American_Male_18_19']\/black_gender_county['ET_African_American_Female_18_19']\nblack_gender_county['County_Male_Female_Ratio_20_24']=black_gender_county['ET_African_American_Male_20_24']\/black_gender_county['ET_African_American_Female_20_24']\nblack_gender_county['County_Male_Female_Ratio_25_29']=black_gender_county['ET_African_American_Male_25_29']\/black_gender_county['ET_African_American_Female_25_29']\nblack_gender_county['County_Male_Female_Ratio_30_34']=black_gender_county['ET_African_American_Male_30_34']\/black_gender_county['ET_African_American_Female_30_34']\nblack_gender_county['County_Male_Female_Ratio_35_44']=black_gender_county['ET_African_American_Male_35_44']\/black_gender_county['ET_African_American_Female_35_44']\nblack_gender_county['County_Male_Female_Ratio_45_54']=black_gender_county['ET_African_American_Male_45_54']\/black_gender_county['ET_African_American_Female_45_54']\nblack_gender_county.head()","0438b654":"county_stats=pd.DataFrame(black_gender_county.describe())\ncolumns3 = ['Key', 'ET_African_American_Population','ET_African_American_Male', 'ET_African_American_Female_35_44','ET_African_American_Male_15_17', 'ET_African_American_Male_18_19', 'ET_African_American_Male_20_24','ET_African_American_Male_25_29', 'ET_African_American_Male_30_34', 'ET_African_American_Male_35_44', 'ET_African_American_Male_45_54', 'ET_African_American_Male_55_64', 'ET_African_American_Male_65_74', 'ET_African_American_Female', 'ET_African_American_Female_15_17', 'ET_African_American_Female_18_19', 'ET_African_American_Female_20_24', 'ET_African_American_Female_25_29', 'ET_African_American_Female_30_34', 'ET_African_American_Female_45_54','ET_African_American_Female_55_64']\ncounty_stats.drop(columns3, inplace=True, axis=1)\n\ncounty_stats","661a43e6":"# Make boxplot for one group only\nsns.boxplot(y = 'County_Male_Female_Ratio_45_54', data = black_gender_county)","b8d8906f":"sns.boxplot( y=black_gender_county[\"County_Male_Female_Ratio\"])","36d4ec9b":"black_gender_county_over_10=black_gender_county[black_gender_county[\"County_Male_Female_Ratio_45_54\"]>=10]","ad7b46e7":"import plotly.express as px\nfig = px.violin(black_gender_county, y=\"County_Male_Female_Ratio\")\nfig.update_layout(\n    title_text=\"Black Male to Black Female Ratio for Counties in 2018 ACS 5 Year Estimates\")\nfig.show(rendering = \"kaggle\")","d6ba81ce":"import plotly.express as px\nfig = px.violin(black_gender_county, y=\"County_Male_Female_Ratio\",  box=True, points='all')\nfig.update_layout(\n    title_text=\"Black Male to Black Female Ratio for Counties in 2018 ACS 5 Year Estimates\")\nfig.show(rendering = \"kaggle\")","a3d1d6d8":"fig = px.box(black_gender_county, y=\"County_Male_Female_Ratio\", points=\"all\")\nfig.update_layout(\n    title_text=\"Black Male to Black Female Ratio for Counties in 2018 ACS 5 Year Estimates\")\nfig.show(rendering = \"kaggle\")","2dbbea0f":"import plotly.graph_objects as go\n","624d34a5":"black_gender_county.dtypes","0e3c3152":"\n\nblack_gender_subset_A=black_gender_county[['County_Male_Female_Ratio']]\nblack_gender_subset_A['Group']='County_Male_Female_Ratio'\nblack_gender_subset_B=black_gender_county[['County_Male_Female_Ratio_15_17']]\nblack_gender_subset_B['Group']='County_Male_Female_Ratio_15_17'\nblack_gender_subset_B = black_gender_subset_B.rename(columns = {'County_Male_Female_Ratio_15_17':'County_Male_Female_Ratio'})\n\nblack_gender_subset_C=black_gender_county[['County_Male_Female_Ratio_20_24']]\nblack_gender_subset_C['Group']='County_Male_Female_Ratio_20_24'\nblack_gender_subset_C = black_gender_subset_C.rename(columns = {'County_Male_Female_Ratio_20_24':'County_Male_Female_Ratio'})\nblack_gender_subset_D=black_gender_county[['County_Male_Female_Ratio_25_29']]\nblack_gender_subset_D['Group']='County_Male_Female_Ratio_25_29'\nblack_gender_subset_D = black_gender_subset_D.rename(columns = {'County_Male_Female_Ratio_25_29':'County_Male_Female_Ratio'})\nblack_gender_subset_E=black_gender_county[['County_Male_Female_Ratio_30_34']]\nblack_gender_subset_E['Group']='County_Male_Female_Ratio_30_34'\nblack_gender_subset_E = black_gender_subset_E.rename(columns = {'County_Male_Female_Ratio_30_34':'County_Male_Female_Ratio'})\nblack_gender_subset_F=black_gender_county[['County_Male_Female_Ratio_35_44']]\nblack_gender_subset_F['Group']='County_Male_Female_Ratio_35_44'\nblack_gender_subset_F = black_gender_subset_F.rename(columns = {'County_Male_Female_Ratio_35_44':'County_Male_Female_Ratio'})\nblack_gender_subset_G=black_gender_county[['County_Male_Female_Ratio_45_54']]\nblack_gender_subset_G['Group']='County_Male_Female_Ratio_45_54'\nblack_gender_subset_G = black_gender_subset_G.rename(columns = {'County_Male_Female_Ratio_45_54':'County_Male_Female_Ratio'})\n\nframes = [black_gender_subset_B, black_gender_subset_C, black_gender_subset_D, black_gender_subset_E,black_gender_subset_F,black_gender_subset_G]\n\nblack_gender_subset = pd.concat(frames)\nblack_gender_subset.head()\n#black_gender_subset=black_gender_subset.T\n\n#black_gender__subset_melted=pd.melt(black_gender_subset)","de426882":"black_gender_subset=black_gender_subset[black_gender_subset['County_Male_Female_Ratio']<=4]\nfig = px.box(black_gender_subset, x=\"Group\", y=\"County_Male_Female_Ratio\", points=\"all\")\nfig.update_layout(\n    title_text=\"Declining Black Male to Black Female Ratio by Age Group In Counties from <br> 2018 ACS 5 Year Estimates\")\nfig.show(rendering = \"kaggle\")","6860bc06":"\nblack_gender_subset=black_gender_subset[black_gender_subset['County_Male_Female_Ratio']<=1.5]\nfig = px.box(black_gender_subset,  x=\"Group\", y=\"County_Male_Female_Ratio\", color=\"Group\")\nfig.update_layout(\n    title_text=\"Declining Black Male to Black Female Ratio by Age Group In Counties from <br> 2018 ACS 5 Year Estimates\")\nfig.show(rendering = \"kaggle\")","e43ec5c7":"fig = px.violin(black_gender_subset,  x=\"Group\", y=\"County_Male_Female_Ratio\", color=\"Group\", box=True, points=\"all\",\n          hover_data=black_gender_subset.columns)\nfig.update_layout(\n    title_text=\"Declining Black Male to Black Female Ratio by Age Group In Counties from <br> 2018 ACS 5 Year Estimates\")\nfig.show(rendering = \"kaggle\")","4146f409":"ma_crim_justice_spending_inf_adj = pd.read_csv(\"..\/input\/washington-post-police-killings-data-2010-census\/MA_Overall_Public_Safety_Spending_Inf_Adj.csv\")\nma_crim_justice_spending_not_inf_adj = pd.read_csv(\"..\/input\/washington-post-police-killings-data-2010-census\/MA_Overall_Public_Safety_Spending_Not_Inf_Adj.csv\")\nma_prisons_inf_adj = pd.read_csv(\"..\/input\/washington-post-police-killings-data-2010-census\/MA_Prisons_Probation_Parole_Inflation_Adjusted.csv\")\nma_prisons_not_inf_adj = pd.read_csv(\"..\/input\/washington-post-police-killings-data-2010-census\/MA_Prisons_Probation_Parole_Not_Inflation_Adjusted.csv\")","bfb5c5d4":"ma_crim_justice_spending_inf_adj=ma_crim_justice_spending_inf_adj.T\nnew_header = ma_crim_justice_spending_inf_adj.iloc[0] #grab the first row for the header\nma_crim_justice_spending_inf_adj = ma_crim_justice_spending_inf_adj[1:] #take the data less the header row\nma_crim_justice_spending_inf_adj.columns = new_header #set the header row as the df header","ce9453aa":"ma_crim_justice_spending_inf_adj.reset_index(drop=False, inplace=True)\nma_crim_justice_spending_inf_adj.rename(columns = {'index':'Program'}, inplace = True)\nma_crim_justice_spending_inf_adj.rename(columns = {'FY21':'FY21 Gov'}, inplace = True)\nma_crim_justice_spending_inf_adj['Treatment_Dummy']=0\nma_crim_justice_spending_inf_adj['Line_Item']=\"XXXXX\"\n","091e21fc":"ma_crim_justice_spending_inf_adj.head()","a8965794":"columns_for_append=ma_crim_justice_spending_inf_adj[['Line_Item','Program','Treatment_Dummy','FY01','FY02','FY03','FY04','FY05','FY06','FY07','FY08','FY09','FY10','FY11','FY12','FY13','FY14','FY15','FY16','FY17','FY18','FY19','FY20','FY21 Gov']]","fcf57878":"ma_prisons_inf_adj.head()","7fceb106":"ma_prisons_inf_adj.shape","cdae0174":"columns_for_append = columns_for_append[columns_for_append['Program'] != \"Prisons_Probation_Parole\"]\ncolumns_for_append = columns_for_append[columns_for_append['Program'] != \"Totals\"]\ncomplete_crim_spending = pd.concat([ma_prisons_inf_adj,columns_for_append])\n","702d1232":"complete_crim_spending.shape","960605f2":"complete_crim_spending.head()","2921ccbc":"####Prison, Probation, and Parole Budget Only####\n\nsub_treat=ma_prisons_inf_adj['FY20']* ma_prisons_inf_adj['Treatment_Dummy']\nsub_treat=sub_treat.sum()\nnon_sub_treat=ma_prisons_inf_adj['FY20'].sum()-sub_treat\nlabels = ['Substance_Abuse_Treatment','Prison, Probation, and Parole Budget']\nvalues = [sub_treat, non_sub_treat]\n# pull is given as a fraction of the pie radius\nfig = go.Figure(data=[go.Pie(labels=labels, values=values, pull=[0, 0.2])])\nfig.update_layout(\n    title_text=\"FY2020 MA Prison, Probation, and Parole Budget <br> Percent Spent on Substance Abuse Treatment\")\nfig.show(rendering = \"kaggle\")","7531bbf0":"####Total Criminal Justice Budget####\ncourts=complete_crim_spending.loc[complete_crim_spending['Program']=='Courts_Legal_Assistance',['FY20']]\ncourts=courts['FY20'][0]\nlaw_enf=complete_crim_spending.loc[complete_crim_spending['Program']=='Law_Enforcement',['FY20']]\nlaw_enf=law_enf['FY20'][1]\nOPS=complete_crim_spending.loc[complete_crim_spending['Program']=='Other_Law_Public_Safety',['FY20']]\nprosc=complete_crim_spending.loc[complete_crim_spending['Program']=='Prosecutors',['FY20']]\nprosc=prosc['FY20'][4]\n\nlabels2 = ['Substance_Abuse_Treatment','Prison, Probation, and Parole Budget','Courts_Legal_Assistance', 'Law_Enforcement', 'Other_Law_Public_Safety', 'Prosecutors']\nvalues2 = [sub_treat, non_sub_treat, courts,law_enf, OPS, prosc]\n\n\n\n\n# pull is given as a fraction of the pie radius\nfig = go.Figure(data=[go.Pie(labels=labels2, values=values2, pull=[0.2, 0,0,0,0,0])])\nfig.update_layout(\n    title_text=\"FY2020 MA Total Criminal Justice Budget <br> Percent Spent on Substance Abuse Treatment\")\nfig.show(rendering = \"kaggle\")","34ee8f96":"complete_crim_spending_2020 = complete_crim_spending[complete_crim_spending['FY20'] != 0]\n\nMA_Criminal_Justice_2020_Spending_On_Treatment = complete_crim_spending_2020[complete_crim_spending_2020['Treatment_Dummy'] == 1]\nMA_Criminal_Justice_2020_Spending_On_Treatment = MA_Criminal_Justice_2020_Spending_On_Treatment[['Program','Treatment_Dummy','FY20']]\n\n\nMA_Criminal_Justice_2020_Spending_On_Non_Treatment = complete_crim_spending_2020[complete_crim_spending_2020['Treatment_Dummy'] == 0]\nMA_Criminal_Justice_2020_Spending_On_Non_Treatment = MA_Criminal_Justice_2020_Spending_On_Non_Treatment[['Program','Treatment_Dummy','FY20']]","83ce9147":"MA_Criminal_Justice_2020_Spending_On_Treatment.head(10)","4e0e6bcc":"MA_Criminal_Justice_2020_Spending_On_Non_Treatment.head(50)","40cefc5a":"**Observation: Reviewing the summary below, we see median and average gender ratios may be declining for each subsequent generation.**","36cd620e":"# The African American Gender Gap and Massachusetts Criminal Justice Budgets****\n\nSummary:\n\n1) According to 5 Year 2018 U.S. Census ACS 5 Year data, the  ratio of males to females in communities with significant African Americans appears to decline with each age group. Are African American males not being counted? Or does this represent something more troubling? Is it the product of violence or overly harsh policing in these communities? The eventual goal is to determine how counties\/zips with low ratios have been fairing in other socioeconomic features.  Do low ratio communities face difficulties with education, health, arrests, or violence? Note: Before drawing conclusions, keep in mind this data is from a single point in time. \n\n2) This Notebook also looks at Massachusetts Criminal Justice Spending according massbudget.org and uses a Plotly visualization to illustrate the small amount specifically earmarked for substance abuse treatment. If nothing more, it shows the need for more detailed data. \n\n"}}