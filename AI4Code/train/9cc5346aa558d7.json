{"cell_type":{"ab87c261":"code","e7e4dee4":"code","6b564024":"code","8b8cc310":"code","4d42692c":"code","c2ab8524":"code","b541a260":"code","990f6c8a":"code","802ccb21":"code","d410fa9b":"code","444c3926":"code","ab9cd7d6":"code","d2a7e7fc":"code","d5180db2":"code","e29881fc":"code","fbc22cc3":"code","35106f82":"code","e7882dfa":"code","8769c673":"code","ec00fb6a":"code","88c73485":"code","8dda0458":"code","4037e55f":"code","983ee811":"code","c58eeb83":"code","50264b89":"code","5a8bf965":"code","ca7e0a71":"code","e2aef2da":"code","6b0e67ca":"code","283f93cb":"code","0cfd0934":"code","d8a73041":"code","78efcb2e":"code","7abdcc9e":"code","65cfd27e":"code","a0ea783c":"markdown","5c8af501":"markdown","541101c5":"markdown","36df1c9c":"markdown","5fea0414":"markdown","148bb3ee":"markdown","27c24093":"markdown","bf57cb11":"markdown","6ce666bc":"markdown","31a0579c":"markdown","92d0b7a2":"markdown","b1b62dab":"markdown","8e201f87":"markdown","312c5f37":"markdown","101de5ed":"markdown","e840a8f5":"markdown","2c781e2b":"markdown","860ba460":"markdown","84d9a6f0":"markdown","a7101ce3":"markdown","d3a24599":"markdown","971820c9":"markdown","87efb878":"markdown","bcd7431f":"markdown","eb4b9cc8":"markdown","bd5f24ca":"markdown","e57fa5df":"markdown"},"source":{"ab87c261":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom scipy.stats import probplot\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","e7e4dee4":"# Filename of the input CSV file\nfilename = \"\/kaggle\/input\/students-performance-in-exams\/StudentsPerformance.csv\"","6b564024":"# Read the data into a dataframe\ndata = pd.read_csv(filename)","8b8cc310":"# Check first 5 rows\ndata.head()","4d42692c":"# Start off by having a look at the shape of the data\ndata.shape","c2ab8524":"# Check the datatypes\ndata.info()","b541a260":"# Describe the numerical attributes\ndata.describe()","990f6c8a":"# Boxplot for math score\nsns.boxplot(data[\"math score\"])\nplt.show()","802ccb21":"# 25% quantile\nQ1 = np.quantile(data[\"math score\"],0.25)\n# 75% quantile\nQ3 = np.quantile(data[\"math score\"],0.75)\n# Inter-quantile range\nIQR = Q3-Q1\n# Outliers on the lower end\ndata[data[\"math score\"] < Q1-1.5*IQR]","d410fa9b":"# Boxplot for reading score\nsns.boxplot(data[\"reading score\"])\nplt.show()","444c3926":"# 25% quantile\nQ1 = np.quantile(data[\"reading score\"],0.25)\n# 75% quantile\nQ3 = np.quantile(data[\"reading score\"],0.75)\n# Inter-quantile range\nIQR = Q3-Q1\n# Outliers on the lower end\ndata[data[\"reading score\"] < Q1-1.5*IQR]","ab9cd7d6":"# Boxplot for writing score\nsns.boxplot(data[\"writing score\"])\nplt.show()","d2a7e7fc":"# 25% quantile\nQ1 = np.quantile(data[\"writing score\"],0.25)\n# 75% quantile\nQ3 = np.quantile(data[\"writing score\"],0.75)\n# Inter-quantile range\nIQR = Q3-Q1\n# Outliers on the lower end\ndata[data[\"writing score\"] < Q1-1.5*IQR]","d5180db2":"plt.figure(figsize=(15,5))\nplt.subplot(1,3,1)\nsns.distplot(data[\"math score\"])\nplt.subplot(1,3,2)\nsns.distplot(data[\"reading score\"])\nplt.subplot(1,3,3)\nsns.distplot(data[\"writing score\"])\nplt.show()","e29881fc":"plt.figure(figsize=(15,5))\nplt.subplot(1,3,1)\nprobplot(data[\"math score\"],dist=\"norm\",plot=plt);\nplt.subplot(1,3,2)\nprobplot(data[\"reading score\"],dist=\"norm\",plot=plt);\nplt.subplot(1,3,3)\nprobplot(data[\"writing score\"],dist=\"norm\",plot=plt);\nplt.show()","fbc22cc3":"sns.countplot(data[\"gender\"])\nplt.show()","35106f82":"data[\"gender\"].value_counts(normalize=True)","e7882dfa":"sns.countplot(data[\"race\/ethnicity\"])\nplt.show()","8769c673":"data[\"race\/ethnicity\"].value_counts(normalize=True)","ec00fb6a":"plt.figure(figsize=(10,5))\nsns.countplot(data[\"parental level of education\"])\nplt.show()\n\ndata[\"parental level of education\"].value_counts(normalize=True)","88c73485":"sns.countplot(data[\"lunch\"])\nplt.show()\n\ndata[\"lunch\"].value_counts(normalize=True)","8dda0458":"sns.countplot(data[\"test preparation course\"])\nplt.show()\n\ndata[\"test preparation course\"].value_counts(normalize=True)","4037e55f":"# parental level of education one hot encoding\ndata = pd.concat([data,\n                 pd.get_dummies(data[\"parental level of education\"],\n                               prefix=\"parent_education\")],\n                axis=1)\n# drop parental level of education\ndata.drop(\"parental level of education\",\n         axis=1,\n         inplace=True)","983ee811":"# race\/ethnicity one hot encoding\ndata = pd.concat([data,\n                 pd.get_dummies(data[\"race\/ethnicity\"],\n                               prefix=\"race\")],\n                axis=1)\n# drop race\/ethnicity\ndata.drop(\"race\/ethnicity\",\n         axis=1,\n         inplace=True)","c58eeb83":"data.head()","50264b89":"# Binary encoding for 2 level categorical variables\ndata[\"gender\"] = data[\"gender\"].apply(lambda x:0 if x==\"male\" else 1)","5a8bf965":"data[\"lunch\"] = data[\"lunch\"].apply(lambda x:0 if x==\"standard\" else 1)\ndata[\"test preparation course\"] = data[\"test preparation course\"].apply(lambda x: 0 if x==\"none\" else 1)","ca7e0a71":"data.head()","e2aef2da":"sns.pairplot(data[[\"math score\",\"reading score\",\"writing score\"]])\nplt.show()","6b0e67ca":"plt.figure(figsize=(15,3))\nplt.subplot(1,3,1)\nsns.scatterplot(x=\"math score\",\n             y=\"writing score\",\n             data = data,\n             hue = \"gender\")\nplt.subplot(1,3,2)\nsns.scatterplot(x=\"reading score\",\n             y=\"writing score\",\n             data = data,\n             hue = \"gender\")\nplt.subplot(1,3,3)\nsns.scatterplot(x=\"math score\",\n             y=\"reading score\",\n             data = data,\n             hue = \"gender\")\nplt.show()","283f93cb":"plt.figure(figsize=(15,3))\nplt.subplot(1,3,1)\nsns.scatterplot(x=\"math score\",\n             y=\"writing score\",\n             data = data,\n             hue = \"lunch\")\nplt.subplot(1,3,2)\nsns.scatterplot(x=\"reading score\",\n             y=\"writing score\",\n             data = data,\n             hue = \"lunch\")\nplt.subplot(1,3,3)\nsns.scatterplot(x=\"math score\",\n             y=\"reading score\",\n             data = data,\n             hue = \"lunch\")\nplt.show()","0cfd0934":"plt.figure(figsize=(15,3))\nplt.subplot(1,3,1)\nsns.scatterplot(x=\"math score\",\n             y=\"writing score\",\n             data = data,\n             hue = \"test preparation course\")\nplt.subplot(1,3,2)\nsns.scatterplot(x=\"reading score\",\n             y=\"writing score\",\n             data = data,\n             hue = \"test preparation course\")\nplt.subplot(1,3,3)\nsns.scatterplot(x=\"math score\",\n             y=\"reading score\",\n             data = data,\n             hue = \"test preparation course\")\nplt.show()","d8a73041":"# Race groups\nrace_groups = []\nfor col in data.columns:\n    if col.startswith(\"race_group\"):\n        race_groups.append(col)","78efcb2e":"plt.figure(figsize=(15,18))\nfor i in range(len(race_groups)):\n    plt.subplot(len(race_groups),3,i*3+1)\n    sns.scatterplot(x=\"math score\",\n                 y=\"writing score\",\n                 data = data,\n                 hue = race_groups[i])\n    plt.subplot(len(race_groups),3,i*3+2)\n    sns.scatterplot(x=\"reading score\",\n                 y=\"writing score\",\n                 data = data,\n                 hue = race_groups[i])\n    plt.subplot(len(race_groups),3,i*3+3)\n    sns.scatterplot(x=\"math score\",\n                 y=\"reading score\",\n                 data = data,\n                 hue = race_groups[i])\nplt.show()","7abdcc9e":"# Parent education groups\nparent_edu_groups = []\nfor col in data.columns:\n    if col.startswith(\"parent_education_\"):\n        parent_edu_groups.append(col)","65cfd27e":"plt.figure(figsize=(15,24))\nfor i in range(len(parent_edu_groups)):\n    plt.subplot(len(parent_edu_groups),3,i*3+1)\n    sns.scatterplot(x=\"math score\",\n                 y=\"writing score\",\n                 data = data,\n                 hue = parent_edu_groups[i])\n    plt.subplot(len(parent_edu_groups),3,i*3+2)\n    sns.scatterplot(x=\"reading score\",\n                 y=\"writing score\",\n                 data = data,\n                 hue = parent_edu_groups[i])\n    plt.subplot(len(parent_edu_groups),3,i*3+3)\n    sns.scatterplot(x=\"math score\",\n                 y=\"reading score\",\n                 data = data,\n                 hue = parent_edu_groups[i])\nplt.show()","a0ea783c":"Next let's have a look at the race\/ethnicity.","5c8af501":"From the above plots, people paying standard lunch amount are scoring higher scores.","541101c5":"Notice that there are some common entries in lower end outliers for writing score, reading score and math score. While we can remove those common entries or replace the values, it's possible that these are genuine entries showing the lower end of scores. That's why, we will keep these values for now.","36df1c9c":"### Step 2.3 - Categorical Variables","5fea0414":"The above plot shows that most students are paying the standard fee for lunch. ","148bb3ee":"## Step 3 - Bivariate & Multivariate Analysis","27c24093":"Note that there are no null values present in any column. The data also doesn't require any datatype conversion at this step.","bf57cb11":"Next, let's have a look at the distribution of the three scores.","6ce666bc":"Next, let's have a look at the categorical variables, starting off with gender.","31a0579c":"### Step 2.1 - Data Outline","92d0b7a2":"As we can see, most of the values lie along the 45 deg line meaning that they follow approximately normal distribution.","b1b62dab":"## Step 2 - Univariate Analysis","8e201f87":"Note that the minimum and maximum value for each of the scores are 0 or above and 100, respectively. These scores make sense as the minimum score for a subject can be 0 and maximum can be 100.\n\nLet's also have a look at the boxplots to check the outliers.","312c5f37":"Let's have a look at the values lying below `Q1-1.5*IQR` to have a look at the outliers.","101de5ed":"Majority of parents of students have had some college education or have an associate's degree. Whereas only 59 parents (5.9%) have a master's degree. This shows an imbalance in the dataset but it can be ignored for now.","e840a8f5":"From the above countplot, we can see that around 64% students have not taken or completed a test preparation course.","2c781e2b":"Before we proceed with the bivariate analysis, let's convert the multilevel categorical variables (`race\/ethnicity`, `parental level of education`) using one hot encoding.","860ba460":"## Step 1 - Read dataset","84d9a6f0":"We have got ~52% females in the dataset and ~48% males in the dataset. There are no missing values. Since both percentages are nearly same, we don't have to worry about any kind of unbalance in the dataset in terms of gender.","a7101ce3":"Similar as math score, we will have a look at the outlier samples here as well.","d3a24599":"Note that the relationship between `reading score` and `writing score` is linear and the same irrespective of the `gender`. On the other hand, for the same math score, the reading score of the females tend to be higher as compared to males but the relationship is still linear.","971820c9":"### Step 2.2 - Numerical Variables","87efb878":"Note that all the three scores are slightly left skewed but we can consider them to follow normal distribution for the easy analysis. We can verify the same using Q-Q plot as shown below.","bcd7431f":"We have 8 columns and just 1000 rows. This is a comparatively smaller data and thus we won't be removing any samples.","eb4b9cc8":"There is a clear linear relationship between the scores.","bd5f24ca":"From the above plots, people with no or incomplete test preparation course are scoring low marks.","e57fa5df":"The majority of students belong to group C whereas only 89 students (8.9%) are from group A."}}