{"cell_type":{"b0f549c3":"code","f353a495":"code","25caeb68":"code","3e84ab56":"code","4e6221f2":"code","a7142f28":"code","e9e6b196":"code","ab9083b9":"code","b1fec495":"code","09ac3c29":"code","3a14aa68":"code","cb065c08":"code","dedc6756":"code","2ec110c7":"code","99c12d16":"code","7e9be703":"code","44b145cb":"code","bfdfc0f2":"code","07d44dfe":"code","83150aeb":"code","ce923dbb":"code","078aa214":"code","b071bdeb":"code","2e610027":"code","565936aa":"code","e234d9a0":"code","e7bb8937":"code","08866f77":"code","7d6f2c5a":"code","53a644a0":"code","733e94b7":"code","162111b5":"code","9303e63e":"code","6f97bf27":"code","6f7bd4fe":"code","5753548b":"code","4b9e1dbf":"code","ebdbe445":"code","9c32a684":"code","f665829b":"code","a6f876a0":"code","ed776734":"code","8b42f80c":"code","00641195":"code","1c86bc5e":"code","8276c8e0":"code","f36cd813":"code","e4101d92":"code","b3efe2c0":"code","329e0f69":"code","faf67214":"code","bbc520ea":"code","10f181bf":"code","d305147d":"code","93251737":"code","960fa7e3":"code","12eb4fe3":"code","4954ace2":"code","57b91c42":"code","7e149389":"code","e5181602":"code","3f77db98":"code","3620a462":"code","e19808e5":"code","8eaf7052":"code","78fb2967":"code","c934a04d":"markdown","5db90b6e":"markdown","13706108":"markdown","629ebee7":"markdown","f01b3053":"markdown","1db4a9d1":"markdown","5f233776":"markdown","1c6ce922":"markdown","d898c762":"markdown","aef0a723":"markdown","4c6d9b77":"markdown","57441bc1":"markdown","19398c58":"markdown","b85469a1":"markdown","65daf693":"markdown","7337a669":"markdown","12aa8b9c":"markdown","c02b8538":"markdown","d1a6585c":"markdown","9fe98b25":"markdown","fe3932b4":"markdown","04834ab1":"markdown","f648c945":"markdown","44116532":"markdown","c4bccc26":"markdown","c510a803":"markdown","470302ed":"markdown","a81a0d38":"markdown","17a7efae":"markdown","3e2fffb9":"markdown"},"source":{"b0f549c3":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","f353a495":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt","25caeb68":"epl= pd.read_csv('..\/input\/english-premier-league202021\/EPL_20_21.csv')\nepl.head()","3e84ab56":"epl.isnull().sum()","4e6221f2":"plt.figure(figsize=(12,8))\nsns.heatmap(epl.corr(),annot=True,cmap='Pastel1')","a7142f28":"epl.head(5)","e9e6b196":"epl['Position'].unique()","ab9083b9":"plt.figure(figsize=(18,8))\nsns.boxplot(x='Club',y='Age',data=epl)\nplt.xticks(rotation=90)\n","b1fec495":"epl['Total_cards']=epl['Yellow_Cards']+epl['Red_Cards']","09ac3c29":"epl.head()","3a14aa68":"agg_club=epl.groupby('Total_cards')['Club'].value_counts()","cb065c08":"agg_club[:3]","dedc6756":"agg_club[:3].plot(kind='pie')","2ec110c7":"agg_club[:3].plot(kind='bar')","99c12d16":"plt.figure(figsize=(18,8))\nsns.boxplot(x='Club',y='Total_cards',data=epl)\nplt.xticks(rotation=90)","7e9be703":"aston_villa= epl[epl['Club']=='Aston Villa']\naston_villa[aston_villa['Total_cards']==aston_villa['Total_cards'].max()] ","44b145cb":"aston_villa.describe()","bfdfc0f2":"arsenal= epl[epl['Club']=='Arsenal']","07d44dfe":"arsenal[arsenal['Total_cards']==arsenal['Total_cards'].max()]","83150aeb":"arsenal.loc[arsenal['Position'].str.contains('DF'), 'Position'] = 'DF' \narsenal[arsenal['Total_cards']==arsenal['Total_cards'].max()].plot(y='Total_cards',x='Position',kind='hist')","ce923dbb":"Chelsea=epl[epl['Club']=='Chelsea']\nChelsea[Chelsea['Total_cards']==Chelsea['Total_cards'].max()]","078aa214":"man_utd=epl[epl['Club']=='Manchester United']\nman_utd[man_utd['Total_cards']==man_utd['Total_cards'].max()]\n","b071bdeb":"man_utd.loc[man_utd['Position'].str.contains('DF'), 'Position'] = 'DF' \nman_utd[man_utd['Total_cards']==man_utd['Total_cards'].max()].plot(y='Total_cards',x='Position',kind='hist')","2e610027":"attack=pd.read_csv('..\/input\/english-premier-league202021\/EPL_20_21.csv',usecols=['Name','Club','Position','Age','Goals','Assists','Passes_Attempted', 'Perc_Passes_Completed','Penalty_Goals', 'Penalty_Attempted'])","565936aa":"attack.head()","e234d9a0":"# changing the Position to FW if any position contains it.\n\nattack.loc[attack['Position'].str.contains('FW'), 'Position'] = 'FW' ","e7bb8937":"attack.head()","08866f77":"plt.figure(figsize=(18,8))\nsns.boxplot(x='Club',y='Goals',data=attack)\nplt.xticks(rotation=90)","7d6f2c5a":"attack[attack['Goals']==attack['Goals'].max()]","53a644a0":"goals=pd.read_csv('..\/input\/english-premier-league202021\/EPL_20_21.csv',usecols=['Name','Club','Position','Age','Goals','Passes_Attempted', 'Perc_Passes_Completed','Penalty_Goals', 'Penalty_Attempted','Assists'])\ngoals.sort_values(ascending=False,by='Goals')","733e94b7":"top_3players=goals.sort_values(ascending=False,by='Goals')[:3]\ntop_3players.plot(x='Name',y='Goals',kind='bar',legend=True)","162111b5":"sns.barplot(x='Penalty_Goals',y='Penalty_Attempted',hue='Name',data=top_3players)","9303e63e":"top_3players.plot(x='Name',y='Penalty_Goals',kind='bar')","6f97bf27":"sns.stripplot(x='Name',y='Passes_Attempted',data=top_3players)","6f7bd4fe":"sns.barplot(x='Passes_Attempted',y='Perc_Passes_Completed',hue='Name',data=top_3players)","5753548b":"GK.dropna(inplace=True)","4b9e1dbf":"GK=epl.where(epl['Position']=='GK')","ebdbe445":"GK.head(50)","9c32a684":"GK[GK['Perc_Passes_Completed']==GK['Perc_Passes_Completed'].max()]","f665829b":"GK[GK['Goals']==GK['Goals'].max()]","a6f876a0":"GK[GK['Assists']==GK['Assists'].max()]","ed776734":"GK.describe()","8b42f80c":"Mf=pd.read_csv('..\/input\/english-premier-league202021\/EPL_20_21.csv',usecols=['Name','Club','Position','Age','Goals','Assists','Passes_Attempted', 'Perc_Passes_Completed','Penalty_Goals', 'Penalty_Attempted'])","00641195":"Mf.loc[attack['Position'].str.contains('MF'), 'Position'] = 'MF' ","1c86bc5e":"#Mf_players=Mf.where[Mf['Position']]== MF\n\nMf_players=Mf.where(Mf['Position']=='MF')","8276c8e0":"Mf_players.head()","f36cd813":"Mf_players.dropna(inplace=True)","e4101d92":"Mf_players.head()","b3efe2c0":"Mf_players['Actual_passes_completed']=((Mf_players['Perc_Passes_Completed']\/100)*Mf_players['Passes_Attempted'])","329e0f69":"Mf_players.head()","faf67214":"Mf_players.groupby('Actual_passes_completed')['Name','Club'].sum()","bbc520ea":"Mf_players.sort_values(ascending=False,by='Actual_passes_completed')","10f181bf":"Mf_players.sort_values(ascending=False,by='Actual_passes_completed')[:5].plot(kind='bar',x='Name',y='Actual_passes_completed',cmap='Paired')","d305147d":"Mf_players.sort_values(ascending=False,by='Goals')[:5].plot(kind='bar',x='Name',y='Goals',cmap='twilight_shifted')","93251737":"Mf_players.sort_values(ascending=False,by='Assists')[:5].plot(kind='bar',x='Name',y='Assists',cmap='twilight_shifted')","960fa7e3":"team_assists = epl['Assists'].groupby(epl['Club']).sum().sort_values(ascending=False) #total team assists \nteam_assists","12eb4fe3":"team_assists.plot(kind = 'bar',cmap='Pastel1')","4954ace2":"plt.figure(figsize=(10,10))\nsns.boxplot(x='Club',y='Assists',data=epl)\nplt.xticks(rotation=90)","57b91c42":"epl[['Name','Club','Nationality','Assists']].nlargest(5,'Assists')","7e149389":"epl[['Name','Club','Nationality','Assists']].nlargest(5,'Assists').plot(x='Name',y='Assists',cmap='rainbow',kind='bar')","e5181602":"epl['assists_permatch'] = epl['Assists']\/epl['Matches']","3f77db98":"epl.head()","3620a462":"most_assists_permatch=epl['assists_permatch'].groupby(epl['Club']).sum().sort_values(ascending=False)","e19808e5":"most_assists_permatch.nlargest(5).plot(kind='bar',cmap='Set3')","8eaf7052":"epl['goals_permatch']=(epl['Goals']\/epl['Matches'])\nmost_goals_permatch=epl['goals_permatch'].groupby(epl['Club']).sum().sort_values(ascending=False)","78fb2967":"most_goals_permatch.nlargest(5).plot(kind='bar',cmap='Set3')","c934a04d":"**Now lets find the most offensive players from the top 3 clubs above**","5db90b6e":"Crystal Palace has one of the eldest players percentile and Tottenham Hotspur has the youngest player in their squad as well as their eldest player is around 26-27 years old. Machester United's average player age is 25 which is also the lowest amongst all the clubs in Premier League. ","13706108":"Manchester United has the highest Assists per match in EPL 2020-2021","629ebee7":"John McGinn has received the most number of cards for Aston Villa","f01b3053":"Most penalty attempted player is Bruno Fernandes with total 10 attempts and 9 goals","1db4a9d1":"Manchester City has the highest number of Assists in Teams","5f233776":"Top 5 players with most Actual Passes Completed.","1c6ce922":"**Lets check Midfileders stats in EPL 2020-2021**","d898c762":"Harry Kane was the highest scorer for 2020-2021 season","aef0a723":"Bruno Fernandes and KV DeBruyene have the most number of assists. Shared for Midfield Position","4c6d9b77":"**THANK YOU**","57441bc1":"Bruno Fernandes leads the Midfielders with most number of Goals","19398c58":"Changed the position to \"DF\" if any player sharing two positions and one of them has \"DF\" in it.","b85469a1":"Harry Kane, Bruno Fernandes, KV De Bryune","65daf693":"Harry Kane leads the number of Assists in all the position in EPL","7337a669":"SUMMARY:\n\nThe most number of Goals scored by a player : Harry Kane\nThe most number of Assists by a player overall: Harry Kane\nThe most number of Goals scored by a midfielder: Bruno Fernandes\nThe most number of Goals scored by a midfielder : Bruno Fernandes and KV D Bruyne\nThe most number of Goals scored by an EPL Team : Manchester City\nThe most number of Goals scored by an EPL Team: Manchester City\nMost number of Cards shown : N Kante, Chelsea\nDefender with the most number of Cards: John McGinn, Aston Villa\nTeams with most number of Cards(Red\/Yellow): Arsenal and Brighton\nPlayer with most number of Passes Completed in the season: Rodri, Man City.","12aa8b9c":"Manchester City has the highest Goals per Match ratio in EPL 2020-2021","c02b8538":"Most Passes Attempted VS Passes Completed player is Md Salah with above 80% attempts and delivered\n\nSo, in terms of Players.. Tottenham Hotspur, Liverpool and Man Utd dominated the EPL in 2020-2021 season","d1a6585c":"Surprising to see Kante receiving the most number of cards for Chelsea","9fe98b25":"Aston Villa shows the highest percentile of Cards in all the teams. Lets check the details","fe3932b4":"Players of Aston Villa has got \"Total Crads(Yellow+Red)\" at a mean value of \"3.125000\" whereas the mean Total_cards in EPL is at \"0.090226\"","04834ab1":"**Now lets check the best GK in EPL last season**","f648c945":"******Lets check the top 3 players with most number of goals last season******","44116532":"****EDA OF EPL****","c4bccc26":"**Now lets take a look into Goals, Assists, Penalties, Passes**","c510a803":"There is insufficient data to prove GK performance last season. Although, Alisson was the only GK with a goal count, Ederson had the most assists for Manchestor City and Scott Carson has the most passes completed.","470302ed":"West Ham United has the highest percentile of Assists in EPL","a81a0d38":"Now till here, we have learnt that there are no missing values in the dataset, also the correlation between the features. Let's dig into the dataset with different player styles and their details.","17a7efae":"****I am interested in top 3 Clubs with most Cards. Red and Yellow Combined****","3e2fffb9":"Manchester City has the highest Goals delivered in 2020-2021 season. Followed by Chelsea at 2nd position. Manchester was Blue perhaps!!"}}