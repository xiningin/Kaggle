{"cell_type":{"2983cd45":"code","ec622c78":"code","1997e6cd":"code","ba1a4720":"code","09a788d5":"code","54f10af4":"code","89ef0117":"code","e2ce7533":"code","263dab2b":"code","078f117a":"code","55675512":"code","7124c3f2":"code","042eb6bb":"code","805f9173":"code","5634d872":"code","5a54e04f":"code","3fe3bdd5":"code","783d304b":"code","ad489329":"code","8b3a1e5e":"code","28c06ad7":"code","e102f141":"code","f8bf6ad2":"code","8153425d":"code","433fa07b":"code","b6e4ab8c":"code","89cb33d5":"code","90eb72d9":"code","2329d616":"markdown","8f26ad64":"markdown","580dfed5":"markdown","8d5d43fc":"markdown","bbe565fd":"markdown"},"source":{"2983cd45":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom matplotlib import style\nstyle.use(\"fivethirtyeight\")","ec622c78":"data=pd.read_csv(\"..\/input\/customer-personality-analysis\/marketing_campaign.csv\", sep=\"\\t\")","1997e6cd":"data.head()","ba1a4720":"data.shape","09a788d5":"data.isna().sum()","54f10af4":"data.info()","89ef0117":"data.drop('ID', axis=1, inplace=True)","e2ce7533":"for col in data.columns:\n    print(f\"Number of values in  the '{col}' column:\\n{len(data[col].value_counts())}\\n\\n\")","263dab2b":"data.drop([\"Z_Revenue\", \"Z_CostContact\", 'Dt_Customer'], axis=1, inplace=True)","078f117a":"categoricals = [\"Education\", 'Marital_Status']\nnumericals = []\nfor col in data.columns:\n    if not col in categoricals:\n        numericals.append(col)","55675512":"for col in numericals:\n    plt.figure(figsize=(20,8))\n    sns.histplot(data[col], color=\"lime\")\n    plt.show()\nfor col in categoricals:\n    plt.figure(figsize=(20,8))\n    sns.countplot(x=data[col])\n    plt.show()","7124c3f2":"plt.figure(figsize=(20,12))\nsns.heatmap(data[numericals].corr(), annot=True, cmap=\"coolwarm_r\", annot_kws={\"fontsize\":12}, fmt=\".2f\", vmin=-1)\nplt.show()","042eb6bb":"for val in [\"Absurd\", \"YOLO\", \"Alone\"]:\n    data = data[data[\"Marital_Status\"] != val]","805f9173":"filler = data[\"Income\"].median()\ndata[\"Income\"] = data[\"Income\"].fillna(filler)","5634d872":"from category_encoders import CountEncoder\nenc = CountEncoder(normalize=True, cols=['Education', 'Marital_Status'])\ndata = enc.fit_transform(data)","5a54e04f":"from sklearn.preprocessing import RobustScaler\nrs = RobustScaler()\nscaleddata = rs.fit_transform(data)\ndata = pd.DataFrame(scaleddata, columns=data.columns)","3fe3bdd5":"data.shape","783d304b":"from sklearn.decomposition import PCA\npca = PCA()\npca.fit(data)\npca_data = pca.transform(data)","ad489329":"component_names = [f\"Component {i}\" for i in range(1, 26)]\ncomponent_names","8b3a1e5e":"pca_data = pd.DataFrame(pca_data, columns=component_names)\npca_data","28c06ad7":"pca.explained_variance_ratio_","e102f141":"plt.figure(figsize=(20,10))\nsns.barplot(x=list(range(1, 26)), y=pca.explained_variance_ratio_, palette=\"PuBu_r\")\nplt.title(\"PCA components: Explained Variance Ratios\")\nplt.show()","f8bf6ad2":"plt.figure(figsize=(20,12))\nsns.scatterplot(x=pca_data.iloc[:,0], y=pca_data.iloc[:,1], hue=data[\"Kidhome\"], palette='cool')\nplt.show()","8153425d":"from sklearn.manifold import TSNE\ntsne = TSNE(random_state=42)\ntsne_data = tsne.fit_transform(data)","433fa07b":"tsne_data.shape","b6e4ab8c":"plt.figure(figsize=(20,12))\nsns.scatterplot(x=tsne_data[:,0], y=tsne_data[:,1], color=\"blueviolet\", hue=data[\"Kidhome\"], palette='cool')\nplt.show()","89cb33d5":"import umap\nump = umap.UMAP(random_state=42)\numap_data = ump.fit_transform(data)","90eb72d9":"plt.figure(figsize=(20,12))\nsns.scatterplot(x=umap_data[:,0], y=umap_data[:,1], hue=data[\"Kidhome\"], palette='cool')\nplt.show()","2329d616":"# UMAP: Uniform Manifold Approximation & Projection","8f26ad64":"# T-SNE: T-distributed Stochastic Neighbor Embedding","580dfed5":"# PCA: Principal Component Analysis","8d5d43fc":"![](https:\/\/programmathically.com\/wp-content\/uploads\/2021\/08\/pca-2-dimensions.png)","bbe565fd":"### This is a tutorial i presented as an DS\/ML instructor in GDSC ENET'COM Tunisia.  \n### The contents of this notebook were explained in the live session.  \n### If i have time, I'll try to add commentary."}}