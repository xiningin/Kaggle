{"cell_type":{"5b22a209":"code","7eaba9ef":"code","90044bfa":"code","04c1c01d":"code","e37a474a":"code","43f0bab9":"code","308739ea":"code","05676694":"code","dba1dc4b":"code","cd517104":"code","2f1d7949":"code","34f46d70":"code","429b5af2":"code","7d264528":"code","94fe1260":"markdown","6c34828d":"markdown","7842fd79":"markdown","20fa8a10":"markdown","2e40f9fb":"markdown","7666fa30":"markdown"},"source":{"5b22a209":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\nfrom matplotlib import rcParams\nimport missingno as msno\nplt.style.use('seaborn-whitegrid')\n# Let's ignore warnings for now\nimport warnings\nwarnings.filterwarnings('ignore')\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","7eaba9ef":"# Importing data and verifying it\n\ndf=pd.read_csv('..\/input\/daily-temperature-of-major-cities\/city_temperature.csv')\ndf.head()","90044bfa":"# Check for missing values\n\ndf.isnull().sum()","04c1c01d":"# Seeing the unique values of Year we see that there are a few values where Year=201 and 200. We will drop them\n\n# Remove these records\ndf=df.drop(df[(df['Year']==201) | (df['Year']==200)].index)\ndf['Year'].value_counts()","e37a474a":"## Seeing the movement of average mean temperature over the years for the entire planet\n\npd.pivot_table(df,index=['Year'],values=['AvgTemperature'],aggfunc=np.mean).plot(kind='line',color='orange')\nplt.title(\"Average Temperature variation over the years\", loc='center', fontsize=12, fontweight=0, color='orange')\nplt.xlabel(\"Year\")\nplt.ylabel(\"Average Temperature\")","43f0bab9":"\nregions = ['North America', 'Europe', 'Asia', 'Africa', 'South\/Central America & Carribean', 'Middle East', 'Australia\/South Pacific']\n\n# Loop through each region and plot average temperature\nplt.figure(figsize=(15,7.5))\nfor region in regions:\n    temp = df[df['Region']== region]\n    temp = temp.groupby(\"Year\")[\"AvgTemperature\"].mean()\n    a = temp\n    plt.plot(a)\n    \nplt.legend(regions, bbox_to_anchor=(1.05, 1), loc='upper left', borderaxespad=0.)\nplt.title('Average Annual Temperature by Region')\nplt.xlabel('Year')\nplt.ylabel('Average Temperature, Fahrenheit')","308739ea":"## Seeing the regions with the most temperature rises from 1995 to 2020\n\navg_temperature={}\nkeys=df['Region'].unique()\nfor region in df.Region.unique():\n    avg_temperature[region]=df[(df['Region']==region)&(df['Year']==2020)]['AvgTemperature'].mean()-df[(df['Region']==region)&(df['Year']==1995)]['AvgTemperature'].mean()\navg_temperature_rise=pd.DataFrame(list(avg_temperature.items()),columns=['Region','Average Temperature rise'])\n\nsns.barplot(x='Average Temperature rise',y='Region',data=avg_temperature_rise.sort_values(by='Average Temperature rise',ascending=False)).set_title('Increase in Average Temperature by Region')","05676694":"## Seeing the countries with the highest and lowest temperature rises from 1995 to 2020\n\navg_temperature_country={}\nkeys=df['Country'].unique()\nfor country in df.Country.unique():\n    avg_temperature_country[country]=df[(df['Country']==country)&(df['Year']==2020)]['AvgTemperature'].mean()-df[(df['Country']==country)&(df['Year']==1995)]['AvgTemperature'].mean()\navg_temperature_rise_co=pd.DataFrame(list(avg_temperature_country.items()),columns=['Country','Average Temperature rise'])\n\n\nfig, ax =plt.subplots(1,2,figsize=(24, 6))\nsns.barplot(x='Average Temperature rise',y='Country',ax=ax[0],data=avg_temperature_rise_co.sort_values(by='Average Temperature rise',ascending=False).head(10)).set_title('Top 10 countries with most increase in Average Temperature')\nsns.barplot(x='Average Temperature rise',y='Country',ax=ax[1],data=avg_temperature_rise_co.sort_values(by='Average Temperature rise',ascending=True).head(10)).set_title('Top 10 countries with least increase in Average Temperature')","dba1dc4b":"## Seeing the cities with the highest and lowest temperature rises from 1995 to 2020\n\navg_temperature_city={}\nkeys=df['City'].unique()\nfor city in df.City.unique():\n    avg_temperature_city[city]=df[(df['City']==city)&(df['Year']==2020)]['AvgTemperature'].mean()-df[(df['City']==city)&(df['Year']==1995)]['AvgTemperature'].mean()\navg_temperature_rise_ci=pd.DataFrame(list(avg_temperature_city.items()),columns=['City','Average Temperature rise'])\n\n\nfig, ax =plt.subplots(1,2,figsize=(24, 6))\nsns.barplot(x='Average Temperature rise',y='City',ax=ax[0],data=avg_temperature_rise_ci.sort_values(by='Average Temperature rise',ascending=False).head(10)).set_title('Top 10 cities with most increase in Average Temperature')\nsns.barplot(x='Average Temperature rise',y='City',ax=ax[1],data=avg_temperature_rise_ci.sort_values(by='Average Temperature rise',ascending=True).head(10)).set_title('Top 10 cities with least increase in Average Temperature')","cd517104":"## Isolating India data set\n\ndf_india = df[df.Country == 'India'].copy()\ndf_india.head()","2f1d7949":"plt.figure(figsize=(20,8))\nsns.lineplot(x = 'Year', y = 'AvgTemperature', data = df_india , palette='hsv')\nplt.title('Average Temperatures in India')\nplt.ylabel('Average Temperature')\nplt.xlabel('')\nplt.xticks(range(1995,2020))\nplt.show()","34f46d70":"## Seeing the monthly variation of temperature in India over time\n\nmonths = ['January', 'February', 'March', 'April', 'May', 'June', \n          'July', 'August', 'September', 'October', 'November', 'December']","429b5af2":"## Seeing the monthly variation of temperature in India over time\nfig = plt.subplots(3,4, figsize = (15,8))\nfor i in range(1,13): \n    ax = plt.subplot(3, 4, i)\n    sns.lineplot(x = 'Day', y = 'AvgTemperature', data = df_india[df_india.Month == i] , palette='hsv')\n    ax.title.set_text(months[i-1])\n    #ax.set_ylim((-5,25))\n    ax.set_xlabel('')\n    ax.set_ylabel('')\nplt.suptitle('Monthly Temperatures in India (1995-2019)', y = 1.05)\n#plt.ylabel('Average Temperature (\u00b0C)')\nplt.tight_layout()\nplt.show();","7d264528":"## Monthly average temperature in India\n\nindia_pivoted = pd.pivot_table(data= df_india,index='Month',values='AvgTemperature',columns='Year')\nplt.figure(figsize=(20, 8))\nsns.heatmap(data = india_pivoted, cmap='coolwarm', annot = True)\nplt.ylabel('Month')\nplt.xlabel('')\nplt.title('Average Temperatures in India')\nplt.show();","94fe1260":"# **We can clearly see that South\/Central America & Carribbean has seen the most temperature rises over a period of 25 years, while North America has seen a negative rise in temperatures**","6c34828d":"# **We can see that temperatures in April,May, June, August, September have more or less stayed the same while in January, February and March, temperatures have increased**","7842fd79":"# **We can see that 2017 was the hottest year in India**","20fa8a10":"# **India temperature analysis**","2e40f9fb":"# **We can see that the average temperature across the world has risen by around 3 degrees (51 degrees in 1995 to 54 degrees in 2020)**","7666fa30":"# **Annual average temperatures in India**"}}