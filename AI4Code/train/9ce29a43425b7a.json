{"cell_type":{"e28f9e27":"code","2ba76737":"code","945f2ed3":"code","fb7eaa0c":"code","ba9796f0":"code","74f3739f":"code","c2ec733c":"code","74bcc7d9":"code","880f46aa":"code","012049b4":"code","a7b2d67a":"code","75dbc4e2":"code","7e9f4e11":"code","6ca69545":"code","34b20d20":"code","055e223d":"code","a38b875d":"code","5870c7af":"code","10fbe0a6":"code","add6e151":"code","6ecf0325":"code","ff80b2eb":"code","230a988a":"code","d3c4b784":"code","efe69a77":"code","311f3aa0":"code","922d6948":"code","42559d16":"code","529c90f0":"code","b47ee189":"code","78e44f01":"code","d31fb76f":"code","f2517232":"code","fc35e33b":"code","c7f8f2d7":"code","ed54b5a9":"code","d89d48a1":"code","f1bcbfdf":"code","208101d5":"code","9ede249c":"code","e30b8444":"code","2cf04bfc":"code","f5b46ef8":"markdown","939376fe":"markdown","04d5b98e":"markdown","cdcac96b":"markdown","43af680a":"markdown","d934576b":"markdown","6864f7ba":"markdown","dfa838d4":"markdown","1e9cc8ce":"markdown","ee58eeb8":"markdown","802590bf":"markdown","bcce60a2":"markdown","b40b6e23":"markdown","158cc941":"markdown","d9804a34":"markdown","c76d9ca6":"markdown","4ff665a7":"markdown","6b257c56":"markdown","d36331a9":"markdown","1131341e":"markdown","07afea47":"markdown","e056e4a2":"markdown","0261fa2d":"markdown","6aa63d4b":"markdown","60c03d58":"markdown","9f17ba3c":"markdown","651ccb05":"markdown","f8e03fb0":"markdown","44253b8b":"markdown","ff0e6cb3":"markdown","dcc9c6f7":"markdown","e1a36038":"markdown","d80d46a4":"markdown","552476dc":"markdown","37385364":"markdown","e2c14672":"markdown"},"source":{"e28f9e27":"import numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport os\nfrom scipy.stats import skew, norm\nfrom sklearn.cluster import KMeans\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","2ba76737":"train = pd.read_csv('\/kaggle\/input\/nyc-taxi-trip-duration\/train.zip')\ntest  = pd.read_csv('\/kaggle\/input\/nyc-taxi-trip-duration\/test.zip')\nsub   = pd.read_csv('\/kaggle\/input\/nyc-taxi-trip-duration\/sample_submission.zip')","945f2ed3":"# target \uc778 trip duration\uacfc target\uc744 \uacc4\uc0b0 \ud560 \uc218 \uc788\ub294 dropoff time \uc774 \uc5c6\ub2e4. \nprint(train.shape)\nprint(test.shape)","fb7eaa0c":"train.info()","ba9796f0":"train.head()","74f3739f":"def datetime_split(data) :\n    data['pickup_datetime'] = data.pickup_datetime.apply(pd.to_datetime)\n    data['year'] = data.pickup_datetime.apply(lambda x : x.year)\n    data['month'] = data.pickup_datetime.apply(lambda x : x.month)\n    data['day'] = data.pickup_datetime.apply(lambda x : x.day)\n    data['hour'] = data.pickup_datetime.apply(lambda x  : x.hour)\n    data['dayofweek'] = data.pickup_datetime.apply(lambda x : x.dayofweek)\n    \ndatetime_split(train)\ndatetime_split(test)","c2ec733c":"train.head()","74bcc7d9":"train.year.value_counts() \n\ntrain.drop('year', axis = 1,  inplace = True)\ntest.drop('year', axis = 1, inplace = True)","880f46aa":"def haversine_array(lat1, lng1, lat2, lng2):\n    lat1, lng1, lat2, lng2 = map(np.radians, (lat1, lng1, lat2, lng2))\n    AVG_EARTH_RADIUS = 6371  # in km\n    lat = lat2 - lat1\n    lng = lng2 - lng1\n    d = np.sin(lat * 0.5) ** 2 + np.cos(lat1) * np.cos(lat2) * np.sin(lng * 0.5) ** 2\n    h = 2 * AVG_EARTH_RADIUS * np.arcsin(np.sqrt(d))\n    return h\n\ndef dummy_manhattan_distance(lat1, lng1, lat2, lng2):\n    a = haversine_array(lat1, lng1, lat1, lng2)\n    b = haversine_array(lat1, lng1, lat2, lng1)\n    return a + b\n\ntrain['haversine'] = haversine_array(train['pickup_latitude'], \n                                     train['pickup_longitude'],\n                                     train['dropoff_latitude'],\n                                     train['dropoff_longitude'])\n\ntrain['manhattan'] = dummy_manhattan_distance(train['pickup_latitude'], \n                                     train['pickup_longitude'],\n                                     train['dropoff_latitude'],\n                                     train['dropoff_longitude'])\ntest['haversine'] = haversine_array(test['pickup_latitude'], \n                                     test['pickup_longitude'],\n                                     test['dropoff_latitude'],\n                                     test['dropoff_longitude'])\n\ntest['manhattan'] = dummy_manhattan_distance(test['pickup_latitude'], \n                                     test['pickup_longitude'],\n                                     test['dropoff_latitude'],\n                                     test['dropoff_longitude'])\n","012049b4":"train.head()","a7b2d67a":"xlim = [-74.03, -73.77] \nylim = [40.63, 40.85]","75dbc4e2":"plt.scatter(train['pickup_longitude'].values[:100000], train['pickup_latitude'].values[:100000],\n              color='blue', s=1, label='train', alpha=0.1)\nplt.xlim(xlim)\nplt.ylim(ylim)","7e9f4e11":"loc_df = pd.DataFrame()\nlongitude = list(train.pickup_longitude) + list(train.dropoff_longitude)\nlatitude = list(train.pickup_latitude) + list(train.dropoff_latitude)\nloc_df['longitude'] = longitude\nloc_df['latitude'] = latitude\n\n\nkmeans = KMeans(n_clusters=12, random_state=2, n_init = 20).fit(loc_df)\n\nloc_df['label'] = kmeans.labels_\n\nloc_df = loc_df.sample(200000)\nplt.figure(figsize = (10,10))\nfor label in loc_df.label.unique():\n    plt.plot(loc_df.longitude[loc_df.label == label],loc_df.latitude[loc_df.label == label],'.', alpha = 0.3, markersize = 0.3)\n\nplt.xlim(xlim)\nplt.ylim(ylim)\nplt.title('Clusters of New York')\nplt.show()","6ca69545":"target = train['trip_duration']\n\nsns.distplot(target, fit = norm)\n\nplt.xlabel('Trip_duration')","34b20d20":"sns.boxplot(target)","055e223d":"train[train['trip_duration'] > 1500000]","a38b875d":"train.drop(train[train['trip_duration'] > 150000].index, axis = 0, inplace = True)","5870c7af":"sns.distplot(train['trip_duration'], fit = norm)\n\nplt.xlabel('Trip_duration')","10fbe0a6":"train[train['trip_duration'] >= 20000]","add6e151":"Q1 = np.percentile(train['trip_duration'], 25) \nQ3 = np.percentile(train['trip_duration'], 75)\nIQR = Q3 - Q1 \noutlier_step = 1.5 * IQR \noutlier_list_idx = train[train['trip_duration'] > Q3 + outlier_step].index\n\ntrain.drop(outlier_list_idx, axis = 0, inplace = True)","6ecf0325":"sns.distplot(train['trip_duration'], fit = norm)\n\nplt.title('skewness of target {0:.3f}'.format(skew(train['trip_duration'])))","ff80b2eb":"sns.distplot(np.log1p(train['trip_duration']), fit = norm)\n\nplt.xlabel('trip_duration')\nplt.title('skewness of target {0:.3f}'.format(skew(np.log1p(train['trip_duration']))))","230a988a":"ln_target = np.log1p(train['trip_duration'])\ntrain['ln_target'] = ln_target","d3c4b784":"fig, axes = plt.subplots(1, 2, sharex=True, sharey=True)\n\naxes[0].scatter(x = train['haversine'],\n                y = train['trip_duration'])\naxes[0].set_title('Target ~ haversine distance')\naxes[0].set_xlabel('haversine distance')\n\naxes[1].scatter(x = train['manhattan'],\n                y = train['trip_duration'], )\naxes[1].set_title('Target ~ manhattan distance')\naxes[1].set_xlabel('manhattan distance')\n\nplt.tight_layout()\nplt.show()","efe69a77":"sns.boxplot(test['haversine'])\n\nplt.xlabel('haversine')\nplt.title('Boxplot of haversine')","311f3aa0":"fig, axes = plt.subplots(1, 2, sharex=False)\n\naxes[0].boxplot(train['haversine'])\naxes[0].set_title('haversine distance \\n skewness {:.3f}'.format(skew(train['haversine'])))\naxes[0].set_xlabel('haversine distance')\n\naxes[1].boxplot(np.log1p(train['haversine']))\naxes[1].set_title('Log haversine distance \\n skewness {:.3f}'.format(skew(np.log1p(train['haversine']))))\naxes[1].set_xlabel('log haversine distance')\n\n\nplt.tight_layout()\nplt.show()","922d6948":"snfig, axes = plt.subplots(1, 2, sharex=True, sharey=True)\ntrain['ln_haversine'] = np.log1p(train['haversine'])\ntrain['ln_manhattan'] = np.log1p(train['manhattan'])\ntest['ln_haversine'] = np.log1p(test['haversine'])\ntest['ln_manhattan'] = np.log1p(test['manhattan'])\n\naxes[0].scatter(x = train['ln_haversine'],\n                y = train['trip_duration'])\naxes[0].set_title('Target ~ Log haversine distance \\n correlation : {:.3f}'.format(train[['ln_haversine','trip_duration']].corr().iloc[1,0]))\naxes[0].set_xlabel('Log haversine distance')\n\naxes[1].scatter(x = train['ln_manhattan'],\n                y = train['trip_duration'])\naxes[1].set_title('Target ~ Log manhattan distance \\n correlation : {:.3f}'.format(train[['ln_manhattan','trip_duration']].corr().iloc[1,0]))\naxes[1].set_xlabel('Log manhattan distance')\n\nplt.tight_layout()\nplt.show()","42559d16":"snfig, axes = plt.subplots(1, 2, sharex=True, sharey=True)\n\naxes[0].scatter(x = train['ln_haversine'],\n                y = train['ln_target'])\naxes[0].set_title('Log Target ~ Log haversine distance\\n correlation : {:.3f}'.format(train[['ln_haversine','ln_target']].corr().iloc[1,0]))\naxes[0].set_xlabel('Log haversine distance')\n\naxes[1].scatter(x = train['ln_manhattan'],\n                y = train['ln_target'])\naxes[1].set_title('Log Target ~ Log manhattan distance \\n correlation : {:.3f}'.format(train[['ln_manhattan','ln_target']].corr().iloc[1,0]))\naxes[1].set_xlabel('Log manhattan distance')\n\nplt.tight_layout()\nplt.show()","529c90f0":"train[['haversine', 'manhattan','ln_haversine','ln_manhattan','trip_duration','ln_target']].corr()","b47ee189":"from sklearn.linear_model import LinearRegression\nfrom sklearn.preprocessing import PolynomialFeatures\nfrom sklearn.metrics import mean_squared_error, r2_score\n# linear model \nln_target = train['ln_target']\nlr_m = LinearRegression()\npoly_m = LinearRegression()\n\ntrain_distance = train.ln_haversine.values\n\ntrain_distance = train_distance.reshape(-1, 1)\n\npoly = PolynomialFeatures(degree=2)\n\ntrain_dist_sqr = poly.fit_transform(train_distance)\n\nlr_m.fit(train_distance, ln_target)\npoly_m.fit(train_dist_sqr, ln_target)\n\npred_lr = lr_m.predict(train_distance)\npred_poly = poly_m.predict(train_dist_sqr)\n\nlr_score = mean_squared_error(ln_target, pred_lr)\npoly_score = mean_squared_error(ln_target, pred_poly)\n\nr2_lr = r2_score(ln_target, pred_lr)\nr2_poly = r2_score(ln_target, pred_poly)\n\nprint('r2_score (degree = 1) : {0:.3f} \\n  MSE : {1:.3f}'.format(r2_lr, lr_score))\nprint('======================================================')\nprint('r2_score(degree = 2) : {0:.3f} \\n MSE : {1:.3f}'.format(r2_poly, poly_score))\nprint('======================================================')\nprint('polynomial regression estimators : ({1:.3f}) * hour^2 + ({0:.3f}) * hour + ({2:.3f})'\n      .format(poly_m.coef_[1],poly_m.coef_[2], poly_m.intercept_))","78e44f01":"sns.boxplot(x = train['hour'],\n            y = train['ln_target'])\n\n\nplt.title('Log trip duration ~ Hour')","d31fb76f":"sns.boxplot(x = train['dayofweek'],\n            y = train['ln_target'])\n\nplt.title('Log Target ~ Dayofweek')","f2517232":"weekend = pd.DataFrame({'dayofweek' : [0,1,2,3,4,5,6], 'weekend' : [1,0,0,0,0,0,1]})\n\ntrain = pd.merge(train, weekend, on = 'dayofweek')\ntest = pd.merge(test, weekend, on = 'dayofweek')\n","fc35e33b":"train.head()","c7f8f2d7":"sns.boxplot(x = train['weekend'],\n            y = train['ln_target'])","ed54b5a9":"train.groupby(by = 'weekend').boxplot(column = ['ln_target'], by = ['hour'], figsize = (20,20))","d89d48a1":"sns.boxplot(x = train['passenger_count'],\n            y = train['ln_target'])","f1bcbfdf":"print(train.passenger_count.value_counts())\nprint('==============================')\nprint(test.passenger_count.value_counts())","208101d5":"train['passenger_count'].replace(0,1, inplace= True)\ntrain['passenger_count'].replace(7,6, inplace= True)\ntrain['passenger_count'].replace(8,6, inplace= True)\ntrain['passenger_count'].replace(9,6, inplace= True)\n\ntest['passenger_count'].replace(0,1, inplace= True)\ntest['passenger_count'].replace(9,6, inplace= True)\n","9ede249c":"train.passenger_count.value_counts()","e30b8444":"sns.boxplot(x = train['passenger_count'],\n            y = train['ln_target'])","2cf04bfc":"sns.boxplot(x = train['store_and_fwd_flag'],\n            y = train['ln_target'])\n\nplt.title('Log Target ~ store and fwd flag')","f5b46ef8":"### \uc8fc\ub9d0\ubcc4 target \ubd84\ud3ec \ud655\uc778","939376fe":"- \uc2b9\ucc28 \uc2dc\uac04\uc774\ub791 \ud558\ucc28\uc2dc\uac04\uc758 \ub0a0\uc9dc\uac00 \ub2e4\ub974\ub2e4... \uccab\ubc88\uc9f8 \ud589\uc744 \ubcf4\uba74 22\uc77c\ub3d9\uc548 \ud0dd\uc2dc\ub97c \ud0d4\ub2e4\ub294 \ub73b\uc778\ub370 \uc774\ub7ec\ud55c \uc774\uc0c1\uce58\ub294 \uc544\ub9c8 \ud0dd\uc2dc \ubbf8\ud130\uae30\ub97c \ub044\uc9c0 \uc54a\uc740 \uac83\uc774 \uc544\ub2d0\uae4c? \ud639\uc740 \ubbf8\ud130\uae30\uc758 \uace0\uc7a5\uc73c\ub85c \uc778\ud574 \uc798\ubabb\ub41c \ub370\uc774\ud130\uc77c \uac00\ub2a5\uc131\uc774 \ub192\ub2e4. \uc0c1\uc2dd\uc801\uc73c\ub85c \ud558\ub8e8\uc774\uc0c1 \ud0dd\uc2dc\ub97c \ud0c0\ub294\uac83\ub3c4 \uc774\uc0c1\ud55c\ub370 \uba87\uc8fc \ub3d9\uc548 \ud0dd\uc2dc\ub97c \ud0c4\ub2e4\ub294 \uac83\uc740 \ub9d0\uc774 \ub418\uc9c0 \uc54a\ub2e4. \uadf8\ub7ec\ubbc0\ub85c \uc774 \ud589\ub4e4\uc740 \uc0ad\uc81c\ub97c \ud558\uaca0\ub2e4.","04d5b98e":"### log\ub97c \ucde8\ud55c \uac70\ub9ac \ubcc0\uc218 \uc0dd\uc131 \ubc0f target\uacfc\uc758 \uad00\uacc4","cdcac96b":"### \ud0d1\uc2b9 \uc2b9\uac1d \ubcc4 target \ubd84\ud3ec \ud655\uc778","43af680a":"## 1.2 Feature engineering\n\n<a id='feature_engineering'><\/a>","d934576b":"### \uc2b9\ucc28 \uc704\uce58\uc640 \ud558\ucc28 \uc704\uce58\ub97c \ud1b5\ud574 \uc6c0\uc9c1\uc778 \uac70\ub9ac\ub97c \uad6c\ud55c\ub2e4.\n- [Link](#https:\/\/www.kaggle.com\/karelrv\/nyct-from-a-to-z-with-xgboost-tutorial) \uc5d0\uc11c \ub9cc\ub4e4\uc5b4\uc8fc\uc2e0 \uac70\ub9ac \uacc4\uc0b0 \ud568\uc218\ub97c \uc774\uc6a9\ud574 \ubcf4\uc558\ub2e4.  \n- \uac70\ub9ac\uc758 \uc885\ub958\ub294 \uc5ec\ub7ec\uac00\uc9c0\ub2e4. \uc5ec\uae30\uc11c\ub294 \ud0dd\uc2dc\uac00 \uc6c0\uc9c1\uc778 \uac70\ub9ac\uac00 \ud544\uc694 \ud558\ubbc0\ub85c \uc720\ud074\ub9ac\ub514\uc548 \uac70\ub9ac\uc640 \ub9e8\ud574\ud2bc \uac70\ub9ac\ub97c \uad6c\ud574\ubcf4\ub824 \ud55c\ub2e4. \n- \uc720\ud074\ub9ac\ub514\uc548 \uac70\ub9ac\ub780 \ub450 \uc810\uc758 \uacf5\uac04 \ucc28\uc774\uc758 \uc81c\uacf1\ud569\uc744 \ub9d0\ud558\uace0 \ub9e8\ud574\ud2bc \uac70\ub9ac\ub294 \ub450 \uc810\uc758 \uacf5\uac04 \ucc28\uc774\uc758 \uc808\ub300\uac12\uc758 \ud569\uc744 \ub9d0\ud55c\ub2e4.\n- \ub9e8\ud574\ud2bc \uac70\ub9ac\ub294 \ud0dd\uc2dc\uac70\ub9ac\ub77c\uace0\ub3c4 \ubd88\ub9ac\uae30\uc5d0 \uc774\ubc88 \ud0dd\uc2dc \uc774\uc6a9\uc2dc\uac04 \uc608\uce21\uc5d0 \uac00\uc7a5 \uc801\ud569\ud55c \ubcc0\uc218\ub77c \uc0dd\uac01\uc774 \ub4e0\ub2e4. ","6864f7ba":"- \ub0a0\uc9dc \ub370\uc774\ud130 \ubd84\ub9ac","dfa838d4":"- \uac70\ub9ac\ub97c 2\ucc28\ud56d\uc73c\ub85c \ubcc0\ud658\ud558\uc5ec \uc120\ud615\ud68c\uadc0\ubd84\uc11d\uc744 \ud55c \uacb0\uacfc\uac00 1\ucc28\ud56d\uc77c\ub54c \ubcf4\ub2e4 \ub354 \ub098\uc740 \uc9c0\ud45c\ub97c \ubcf4\uc778\ub2e4.\n- mse\uc640 r^2\uac00 \uc88b\ub2e4\uace0\ud574\uc11c \uc88b\uc740 \uc608\uce21\ub825\uc774 \ubcf4\uc7a5\uc774 \ub418\ub294\uac83\uc740 \uc544\ub2c8\ub2e4. \uc624\ubc84\ud53c\ud305\uc758 \ubb38\uc81c\uac00 \uc788\uc744\uc218 \uc788\uae30 \ub584\ubb38\uc774\ub2e4. \n- 2\ucc28\ud56d\uc744 \ubcc0\ud658\ud588\uc744 \ub54c \uc9c0\ud45c\uac00 \uc88b\uc544\uc9c0\uae30\ub294 \ud588\uc73c\ub098 \uadf8 \ud3ed\uc774 \uc791\uc73c\ubbc0\ub85c \ub2e4\ud56d\uc2dd\uc73c\ub85c \ubcc0\ud658\ud558\ub294\uac83\uc740 \uc88b\uc544 \ubcf4\uc774\uc9c0 \uc54a\ub294\ub2e4.","1e9cc8ce":"- \uac70\ub9ac\uc5d0 log\ub97c \ucde8\ud588\uc744 \ub54c \uc885\uc18d\ubcc0\uc218\uc640\uc758 \uc0c1\uad00\uacc4\uc218\uac00 \ub354 \ud070 \uac83\uc744 \ud655\uc778\ud588\ub2e4. \n- \ub2e4\ub9cc \uc885\uc18d\ubcc0\uc218\uc5d0 log\ub97c \ucde8\ud558\uba74 \ucde8\ud558\uae30\uc804\ubcf4\ub2e4 \ub354 \ub0ae\uc740 \uc0c1\uad00\uacc4\uc218\ub97c \uac00\uc9c0\ub294\ub370 \uc774\ub294 \ub450 \ubcc0\uc218\ub2e4 log\ub97c \ucde8\ud588\uc744 \ub54c \uc0b0\uc810\ub3c4\ub97c \ubcf4\uba74 \ube44\uc120\ud615\uad00\uacc4\uc5d0 \ub354 \uac00\uae4c\uc6cc \ubcf4\uc774\uae30 \ub584\ubb38\uc774 \uc544\ub2d0\uae4c \uc2f6\ub2e4. (2\ucc28 \ub2e4\ud56d\uc2dd) ","ee58eeb8":"## 2.2 \uc124\uba85 \ubcc0\uc218\uc640 \uc885\uc18d\ubcc0\uc218 \uac04\uc758 \uad00\uacc4 \n<a id='feature_val'><\/a>","802590bf":"## 1. \ub370\uc774\ud130 \ud30c\uc545 \ubc0f \uc804\ucc98\ub9ac \n<a id='\uc804\ucc98\ub9ac'><\/a>","bcce60a2":"## 1.1 feature \ud655\uc778 \ud6c4 \ub4dc\ub294 \uc0dd\uac01 \n<a id='opinion'><\/a>\n \n - pickup_datetime \uc744 \uc0b4\ud3b4\ubcf4\uba74 \ubaa8\ub450 2016\ub144 \ub370\uc774\ud130 \uc774\ubbc0\ub85c year\ub294 \uc0ad\uc81c \ud558\uc600\ub2e4. \uc2dc\uac04\ubcc4\ub85c \ud0dd\uc2dc \uc774\uc6a9\uc2dc\uac04\uc774 \ub2e4\ub97c\uac83\uc73c\ub85c \uc608\uc0c1\uc774 \ub41c\ub2e4. \ub610\ud55c \uacf5\ud734\uc77c\uacfc \uc544\ub2cc\ub0a0\uc758 \ucc28\uc774\uac00 \uc788\uc744\uac83\uc774\ub77c \uc0dd\uac01\uc774\ub4e0\ub2e4. \uc694\uc77c\ubcc4\ub85c \ub098\ub220\ubcf4\uae30\ub3c4 \ud558\uace0 \uc8fc\ub9d0 or not \uc758 \ud615\ud0dc\ub85c \ub098\ub220\ubd10\uc57c\ub420\uac70 \uac19\ub2e4. \uc6d4\ubcc4\ub85c \ud0dd\uc2dc \uc774\uc6a9\uc2dc\uac04\uc774 \ub2e4\ub97c\uc218 \uc788\ub2e4. \uc65c\ub0d0\uba74 \uc11c\uc6b8\ub85c \uc0dd\uac01\uc744 \ud574\ubcf4\uba74 \ubd04\uc5d0 \uc5ec\uc758\ub3c4 \ubd80\uadfc\uc740 \ubc9a\uaf43\ucd95\uc81c\uac00 \uc5f4\ub9ac\uae30 \ub54c\ubb38\uc5d0 \ud3c9\uc18c\ubcf4\ub2e4 \ub354 \ub9ce\uc774 \ub9c9\ud788\uac8c \ub418\uace0 \ud0dd\uc2dc\ub97c \uc774\uc6a9\ud560\uc2dc \uc2dc\uac04\uc774 \ub354 \uc624\ub798 \uac78\ub9ac\uae30 \ub54c\ubb38\uc5d0 \ud2b9\uc815 \uc2dc\uac04\ub300\uc5d0 \ub530\ub77c \uad50\ud1b5\uc0c1\ud669\uc774 \ubcc0\ud560 \uc218 \uc788\uae30 \ub54c\ubb38\uc5d0 target\uc774 \ub2ec\ub77c\uc9c8\uc218 \uc788\uc9c0 \uc54a\uc744\uae4c \uc0dd\uac01\uc774 \ub4e0\ub2e4. \n - passenger_count\ub97c \uc0b4\ud3b4 \ubcf4\uc558\uc744\ub54c \uc2b9\uac1d\uc758 \uc218\uac00 \ud0dd\uc2dc\uc758 \uc2b9\ucc28 \uc2dc\uac04\uc5d0 \uc601\ud5a5\uc744 \uc904\uc9c0 \uad81\uae08\ud558\ub2e4. \n - \uc2b9\ucc28 \uc704\uce58\uc640 \ud558\ucc28 \uc704\uce58\uac00 \ub370\uc774\ud130\ub85c \uc874\uc7ac\ud558\ub294\ub370 \uc9c1\uad00\uc801\uc73c\ub85c \uc0dd\uac01 \ub098\ub294 \uac83\uc740 \uc2b9\ucc28\uc704\uce58\uc640 \ud558\ucc28 \uc704\uce58\ub85c \uc6c0\uc9c1\uc778 \uac70\ub9ac\ub97c \ub3c4\ucd9c \ud558\uba74 \uc0c1\uad00\uacc4\uc218\uac00 \uaf64\ub098 \ub192\uc9c0 \uc54a\uc744\uae4c \uc0dd\uac01\uc774 \ub4e4\uc5c8\ub2e4. \uba3c\uac70\ub9ac \uc77c\uc218\ub85d \uc624\ub798\ud0c0\uc57c\ub418\ub294 \uac83\uc740 \ub9ce\uc73c\ub2c8\uae4c \n - \ud558\uc9c0\ub9cc \uc11c\uc6b8 \uac15\ub0a8\uc5d0\uc11c 1km \uc774\ub3d9\ud558\ub294 \uc2dc\uac04\uc774\ub791 \ud55c\uc801\ud55c \uc2dc\uace8\uc5d0\uc11c1km \uc774\ub3d9\ud558\ub294 \uc2dc\uac04\uc740 \ub2e4\ub97c \uac83\uc774\ub2e4. \ub610\ud55c \ucd9c\ud1f4\uadfc\uc2dc\uac04\uc774\ub098 \uc0ac\ub78c\uc774 \ubd90\ube44\ub294 \ud2b9\uc815 \uc2dc\uac04\ub300\ub77c\uba74 \uac19\uc740 \uc7a5\uc18c\ub77c \ud558\ub354\ub77c\ub3c4 \uc774\ub3d9 \uc2dc\uac04\uc774 \ub2ec\ub77c\uc9c8 \uac83\uc774\ub2e4. \n - \uadf8\ub7ec\ubbc0\ub85c \uc2dc\uac04\ub300, \uc704\uce58 \uc640 \ub3c4\ucd9c\ud55c \uac70\ub9ac\uc758 \uad00\uacc4\ub97c \uc880 \uc0b4\ud3b4\ubd10\uc57c\ub420\uac70 \uac19\ub2e4. \n - store_and_fwd_flag\ub294 \ubb34\uc2a8 \ub73b\uc778\uc9c0 \uc798 \ubaa8\ub974\uaca0\uc73c\ub098 \uc77c\ub2e8 \ub098\ub220\uc11c \ud310\ub2e8\ud574 \ubd10\uc57c \ub418\uaca0\ub2e4. \ubb50..\uc800\uc7a5\uc744 \uc5b4\uca4c\uace0 \ud558\ub358\ub370 \uc798\ubaa8\ub974\uaca0\ub2e4..","b40b6e23":"- \ud639\uc2dc\ub098\uac00 \uc5ed\uc2dc\ub098 test set\uc5d0\ub3c4 \uc774\uc0c1\uce58\ub85c \uc5ec\uaca8\uc9c0\ub294 \ub370\uc774\ud130\ub4e4\uc774 \uc874\uc7ac\ud55c\ub2e4. \uc774\ub7f4\uacbd\uc6b0 \uc774 \ub370\uc774\ud130\ub4e4\uc744 \uc81c\uc678\ud558\uace0 \uc608\uce21 \ud560 \uc218 \uc5c6\uc73c\ubbc0\ub85c \uc774\uc0c1\uce58\uc758 \ud798\uc744 \uc57d\ud654 \uc2dc\ud0ac \ubb34\uae30\uac00 \ud544\uc694\ud558\ub2e4. ","158cc941":"- \ub450 \ubcc0\uc218 \ubaa8\ub450 log\ub97c \ucde8\ud588\uc744 \ub54c \uc870\uae08 \ub354 \uccb4\uacc4\uc801\uc778 \uad00\uacc4\ub97c \ubcf4\uc778\ub2e4.\n- \uc0c1\uad00\uacc4\uc218\ub97c \ud1b5\ud574 \uc774\ub97c \ud655\uc778\ud574\ubcf4\uaca0\ub2e4.","d9804a34":"- \ubcc4\ucc28\uc774\uac00 \uc5c6\uc5b4 \ubcf4\uc778\ub2e4. ","c76d9ca6":"- boxplot\uc5d0\uc11c \ubcf4\uc774\ub294 \uc774\uc0c1\uce58\ub4e4\uc744 \uc81c\uac70 \ud588\ub2e4. \n- \uac12\uc774 \uacfc\ud558\uac8c \ud070 \uac12\uc744 \uac00\uc9c0\ub294 \ub370\uc774\ud130\ub9cc\uc774 \uc774\uc0c1\uce58\ub77c\uace0 \uc0dd\uac01\uc744 \ud588\ub2e4. \n- 3\/4 \ubd84\uc704\uc218\uc640 1\/4\ubd84\uc704\uc2a4\uc758 \ucc28\uc774\ub97c iqr(Inter - Quatitle - range)\uc774\ub77c\ud558\ub294\ub370 \uc774 iqr\uc758 1.5\ubc30 \ub9cc\ud07c \ub5a8\uc5b4\uc838\uc788\ub294 \ub370\uc774\ud130\ub97c \uc774\uc0c1\uce58\ub85c \uc5ec\uae38\uc218 \uc788\ub2e4.  \n- \uc81c\uac70\ud55c \uc774\ud6c4\uc758 \uc885\uc18d\ubcc0\uc218\uc758 \ubd84\ud3ec\ub294 \uc608\uc804 \ubcf4\ub2e4 \uc815\uaddc\ubd84\ud3ec\uc640 \ub354 \uadfc\uc0ac\ud55c \ubaa8\uc2b5\uc744 \ubcf4\uc774\uac8c \ub410\ub2e4. \n- \ud558\uc9c0\ub9cc \uc67c\ucabd\uc73c\ub85c \uc880 \uce58\uc6b0\uccd0\uc9c4 \ubaa8\uc2b5\uc744 \ubcf4\uc774\ub294 \ub85c\uadf8\uc815\uaddc\ubd84\ud3ec\uc758 \ubaa8\uc2b5\uc744 \ubcf4\uc774\ub294\uac70 \uac19\uc544 \ub85c\uadf8\ub97c \ucde8\ud574\ubd24\ub2e4.","4ff665a7":"- \uc2b9\uac1d\uc758 \uc218 \ubcc4\ub85c target\uc758 boxplot\uc774 \ub2e4\ub978 \ubaa8\uc2b5\uc744 \ubcf4\uc774\uc9c0 \uc54a\ub294\ub2e4. ","6b257c56":"## 2. 1 target \ubd84\ud3ec \ud655\uc778\n<a id='target_distribution'><\/a>","d36331a9":"###  store_and_fwd_flag\uc640 target\uc758 \uad00\uacc4 ","1131341e":"### \uc2b9\ud558\ucc28 \uc9c0\uc5ed\n\n\n- new york\uc758 \ud589\uc815\uad6c\uc5ed\uc740 \ucd1d 200\uac1c\ub2e4. \n- new york\ub3c4 \uc11c\uc6b8\ucc98\ub7fc \uad6c\ubcc4\ub85c \uc720\ub3d9\uc778\uad6c\uc758 \ubd84\ud3ec\uac00 \ub2e4\ub97c \uac83\uc774\ub77c\ub294 \uac00\uc815\ud558\uc5d0 \ubd84\uc11d\uc744 \uc9c4\ud589\ud574\ubcf4\uc558\ub2e4.\n- \uc774 \ub370\uc774\ud130\ub85c\ub294 \uc2b9\ud558\ucc28\uc758 \uc704\ub3c4 \uacbd\ub3c4\uc815\ubcf4\ub9cc \uc54c \uc218 \uc788\uace0 \uc9c0\uc5ed\uc758 \uc774\ub984\uc740 \uc54c \uc218 \uc5c6\ub2e4. \n- \uac01 \uc9c0\uc5ed\ubcc4 \uce21\uc815 \uc704\uce58\ub97c  \ud30c\uc545\ud55c \ub4a4  \uc2e4\uc81c \ub370\uc774\ud130\uc640 \uce21\uc815\uc704\uce58\uc758 \uac70\ub9ac \ucc28\uc774\ub97c \uc774\uc6a9\ud574 \uc2e4\uc81c\ub370\uc774\ud130\uac00 \uc5b4\ub290 \uc9c0\uc5ed\uc5d0 \uc18d\ud574 \uc788\ub294\uc9c0 \ud310\ub2e8\ud560 \uacbd\uc6b0 \uacc4\uc0b0\ub7c9\uc774 \ub108\ubb34 \ub9ce\uc544\uc9c4\ub2e4\ub294 \ub2e8\uc810\uc774\uc788\ub2e4.\n- \ub530\ub77c\uc11c \ube44\uc9c0\ub3c4 \ud559\uc2b5\uc778 kmeans\ub97c \uc774\uc6a9\ud574 \uc9c0\uc5ed \ubcc0\uc218\ub97c \uc5bb\uc5b4 \ub0b4\uace0\uc790 \ud55c\ub2e4. \n- \ud310\ub2e8\uc5d0 \uc624\ub958\uac00 \uc0dd\uae38 \uc218\ub3c4 \uc788\uc73c\ub098 \ub300\ub7b5\uc801\uc778 \ubd84\uc11d\uc744 \uc704\ud574 \uc774\uc640 \uac19\uc740 \ubd84\uc11d\uae30\ubc95\uc744 \uc774\uc6a9\ud558\uc600\ub2e4.","07afea47":"# 2.EDA\n<a id='EDA'><\/a>","e056e4a2":"- N\uc77c \uacbd\uc6b0 \uc774\uc0c1\uce58\uc758 \uaf2c\ub9ac\uac00 \ub354 \uae38\uc5b4 \ubcf4\uc774\uc9c0\ub9cc \ud070 \ucc28\uc774\ub294 \uc5c6\uc5b4 \ubcf4\uc778\ub2e4","0261fa2d":"- Log\ub97c \ucde8\ud588\uc744 \ub54c \uc774\uc0c1\uce58\ub294 \uc904\uc5b4\ub4e4\uc5c8\ub2e4\uace0 \ub9d0\ud560 \uc218 \ub294 \uc5c6\uc9c0\ub9cc \uadf8\ub798\ub3c4 box\uc758 \ubaa8\uc591\uc774 \ub69c\ub837\ud574 \uc84c\ub2e4. \n- \ubd84\ud3ec\uc758 \uc65c\ub3c4(skewness) \ub610\ud55c \uc57d 65\uc5d0\uc11c \uc57d 0.76\uc73c\ub85c \uc904\uc5b4 \ub4e4\uc5c8\ub2e4. \ucc38\uace0\ub85c \uc65c\ub3c4\ub294 \ubd84\ud3ec\uc758 3\ucc28 \uc801\ub960\uacfc \uc5f0\uad00\uc774 \ub418\uc5b4\uc788\ub294\ub370 \uc815\uaddc\ubd84\ud3ec\uc758 \uacbd\uc6b0 \uc65c\ub3c4\uac00 0 \uc774\uba70 \uc815\uaddc\ubd84\ud3ec\uc5d0 \uadfc\uc0ac\ud558\ub2e4\uace0 \ub9d0\ud560\uc218\uc788\ub294 \uae30\uc900\uc740 \uc808\ub300\uac12 2\uc774\ub2e4. \uc65c\ub3c4 \uac12\uc774 0\uc774\ub77c\ub294 \uac83\uc740 \ud574\ub2f9 \ubd84\ud3ec\uac00 \uc644\ubcbd\ud55c \uc88c\uc6b0 \ub300\uce6d\uc758 \ud615\ud0dc\ub97c \ubcf4\uc778\ub2e4\ub294 \ub73b\uc774\ub2e4. \n- \uc65c\ub3c4\uac00 0\uc5d0 \uac00\uae4c\uc6b8 \uc218\ub85d ols \ucd94\uc815\ubc95\uc5d0\uc11c \uc138\uc6b0\ub294 \uac00\uc815 \uc911 \ud558\ub098\uc778 \"\ubaa8\ub4e0 \ubcc0\uc218\uc758 \ubd84\ud3ec\ub294 \uc815\uaddc\ubd84\ud3ec\ub97c \ub530\ub978\ub2e4.\"\ub97c \ub9cc\uc871 \ud560\uc218 \uc788\ub2e4. ","6aa63d4b":"### \uc774\uc0c1\uce58 \uc81c\uac70 \ud6c4 \uc885\uc18d\ubcc0\uc218 \ubd84\ud3ec \ud655\uc778","60c03d58":"### \uc2dc\uac04\ub300 \ubcc4 target boxplot","9f17ba3c":"#### \uc8fc\ub9d0 \ubcc0\uc218 \uc0dd\uc131 (\uc8fc\ub9d0\uc774\uba74 1, \uc544\ub2c8\uba74 0)","651ccb05":"-  \uc608\uc0c1\ud588\ub358\uac70\uc640 \ub2ec\ub9ac \uc120\ud615\uad00\uacc4\uac00 \ub69c\ub837\ud574 \ubcf4\uc774\uc9c0\ub294 \uc54a\ub294\ub2e4. \n-  \uac70\ub9ac\uc758 \uae30\uc900\uc774 km \uc778\ub370 500km \ub97c \ub118\uac8c \uc774\ub3d9\ud55c \ub370\uc774\ud130\ub3c4 \ud655\uc778 \ud560 \uc218 \uc788\ub2e4. \uc5bc\ub9c8\ub098 \ub3c8\uc774 \ub9ce\uae38\ub798 500km\uac00 \ub118\ub294 \uac70\ub9ac\ub97c(\uc11c\uc6b8\uc5d0\uc11c \ubd80\uc0b0\uae4c\uc9c0\uac00 400km\uc815\ub3c4 \ud55c\ub2e4\ub294\ub370...) \ud0dd\uc2dc\ub97c \ud0c0\uace0 \ub2e4\ub2c8\ub294\uac83 \uc77c\uae4c  \n- \uc544\ub9c8 \uc798\ubabb \uae30\ub85d\ub41c\uac83\uc774 \uc544\ub2d0\uae4c \uc0dd\uac01\uc774 \ub4e0\ub2e4. \ud558\uc9c0\ub9cc testset\uc5d0\uc11c\ub3c4 \uc774\ub7ec\ud55c \uc774\uc0c1\uce58\ub85c \uc608\uc0c1\uc774 \ub418\ub294 \ub370\uc774\ud130\uac00 \uc874\uc7ac\ud558\ub294\uc9c0 \ud655\uc778\ud574\ubd10\uc57c\ub41c\ub2e4.","f8e03fb0":"- 4\uac1c\uc758 \uc810\uc774 \uc774\uc0c1\ud558\uac8c \ub9ce\uc774 \ub3d9\ub5a8\uc5b4\uc838 \uc788\ub2e4.\n- 4\uac1c\ub9cc \ub530\ub85c \ud655\uc778\ud574\ubd10\uc57c \ub420\uac70 \uac19\ub2e4.","44253b8b":"\uc870\uae08 \ub354 \uc815\uaddc\ubd84\ud3ec\uc5d0 \uadfc\uc0ac\ud55c \ubaa8\uc2b5\uc744 \ubcf4\uc778\ub2e4.\n\ub530\ub77c\uc11c target\uc5d0 log\ub97c \ucde8\ud574\uc8fc\uc5c8\ub2e4.","ff0e6cb3":"- \ubd84\ud3ec\uc758 \ubaa8\uc591\uc774 \uc774\uc0c1\ud558\ub2e4. \uc774\uc0c1\uce58\ub85c \uc778\ud574 \uc774\ub7f0 \ubaa8\uc591\uc744 \ub744\ub294\uac70 \uac19\uc73c\ubbc0\ub85c boxplot\uc744 \uadf8\ub824\ubcf8\ub2e4.","dcc9c6f7":"### \uac70\ub9ac\uc640 target\uc758 \uad00\uacc4 \ud30c\uc545\n","e1a36038":"- \uc2dc\uac04\uacfc \uc694\uc77c\ubcc4 target\uc758 \ubd84\ud3ec\uc758 \ucc28\uc774\ub294 \ub208\uc5d0 \ub74c \uc815\ub3c4\ub85c \ubcf4\uc774\uc9c0 \uc54a\ub294\ub2e4.\n- \ud3c9\uc77c\uacfc  \uc8fc\ub9d0\uc744 \ub098\ub220\uc11c \uc2dc\uac04\ub300 \ubcc4\ub85c \uc0b4\ud3b4 \ubcf4\ub824\ud55c\ub2e4.","d80d46a4":"# New York taxi duration \n\n\uc774 \uacbd\uc9c4\ub300\ud68c\ub294 \ub9ce\uc740 \ubd84\ub4e4\uc774 \uce90\uae00 \ucd08\ubcf4 \ucee4\ub9ac\ud058\ub7fc\uc5d0\uc11c \ucd94\ucc9c\ud558\uace0 \uc788\ub294 \uacbd\uc9c4\ub300\ud68c \uc774\uae30\uc5d0 \uc800 \ub610\ud55c \ub2e4\ub978 \ucee4\ub110\ub4e4\uc744 \uc77d\uc5b4\ubcf4\uace0 \uc2a4\uc2a4\ub85c \uc0dd\uac01\ud574\ubcf8\ubc14\ub97c \uc801\uc5b4\ubcf4\uc558\uc2b5\ub2c8\ub2e4. \ubaa8\ub378\ub9c1\uacfc \uc88b\uc740 \uc810\uc218\uc5d0 \ucd08\uc810\uc744 \ub450\uc9c0 \uc54a\uace0 \ud1b5\uacc4\uc801 \uc9c0\uc2dd\uc744 \uc774\uc6a9\ud55c \ud0d0\uc0c9\uc801 \ub370\uc774\ud130 \ubd84\uc11d\uc5d0 \ucd08\uc810\uc744 \ub450\uace0 \ub178\ud2b8\ub97c \uc791\uc131\ud574\ubcf4\uc558\uc2b5\ub2c8\ub2e4. \n\n\n\n## \ubaa9\ucc28\n\n1. [\ub370\uc774\ud130 \ud30c\uc545 \ubc0f \uc804\ucc98\ub9ac](#\uc804\ucc98\ub9ac)  \n   \n   1.1 [feature\ub97c \ubcf4\uace0 \ub4dc\ub294 \uc0dd\uac01](#opinion)\n   \n   1.2 [feature engineering](#feature_engineering)\n   \n2. [EDA](#EDA)\n\n   2.1 [target \ubd84\ud3ec](#target_distribution) \n   \n   2.2 [feature \uc640 target\uc758 \uad00\uacc4 \uc2dc\uac01\ud654 \ubc0f \ud1b5\uacc4 \uc694\uc57d\uce58](#feature_val) ","552476dc":"### EDA \uacb0\uacfc \n\n\uc704\ub3c4\uacbd\ub3c4\ub85c \uc5bb\uc740 \uac70\ub9ac\uc678\uc5d0 \ub2e4\ub978 \ubcc0\uc218\ub4e4\uc740 target\uc5d0 \ud070 \uc601\ud5a5\uc744 \uc8fc\uc9c0 \ubabb\ud560\uac83\uc73c\ub85c \uc608\uc0c1\uc774 \ub41c\ub2e4. ","37385364":"- passenget_count\uac00 0\uc778 \uac12\uc744\uac00\uc9c0\ub294 \uc774\uc0c1\ud55c \ub370\uc774\ud130\uac00 \uc874\uc7ac\ud558\ub294 \uac83\uc744 \ud655\uc778\ud588\ub2e4. \uc720\ub839\uc774 \ud0c0\uc9c0 \uc54a\ub294\ud55c \uc2b9\uac1d\uc774 0\uba85\uc77c\ub9ac\ub294 \uc5c6\uc744 \uac83\uc774\ub2e4. \uacb0\uce21\uce58\ub85c \uc5ec\uae30\uace0 \uc801\ub2f9\ud55c \uac12\uc73c\ub85c \ub300\uccb4\ub97c \ud574\uc57c\uaca0\ub2e4.\n- \uadf8\ub9ac\uace0 7\uc778\uc774\uc0c1 \ud0d1\uc2b9\ud55c \ub370\uc774\ud130\ub294 \ubaa8\ub450 6\uc73c\ub85c \ubc14\uafd4\uc8fc\ub294\uac83\uc774 \ub098\uc744\uac70 \uac19\ub2e4. \n- \uc2b9\uac1d\uc774 1~6\uba85\uc77c\ub54c target\uc758 boxplot \ub69c\ub837\ud55c \ucc28\uc774\uc810\uc744 \ubcf4\uc5ec\uc8fc\uc9c0 \uc54a\ub294\ub2e4. ","e2c14672":"- \uc5ec\uc804\ud788 \uc2b9\ucc28\uc2dc\uac04\uc774 24\uc2dc\uac04\uc774\ub098 \ub418\ub294 \ub370\uc774\ud130\ub4e4\uc774 \uc874\uc7ac \ud55c\ub2e4. \n- \uc774\ub294 \ub370\uc774\ud130\uac00 \uc798\ubabb\ub410\ub2e4\uace0 \uc0dd\uac01\uc774 \ub4e4\uc5b4 \uc774\uc0c1\uce58\ub97c \uc81c\uac70\ud574\uc8fc\ub3c4\ub85d \ud558\uaca0\ub2e4."}}