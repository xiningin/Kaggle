{"cell_type":{"da4b8803":"code","30aba479":"code","8d2ce54b":"code","eadb786f":"code","b5746b01":"code","dfdc13a4":"code","e152eab8":"code","8e39975f":"code","ce33d2af":"code","45ae3042":"code","a26b8bf8":"code","ec6c28fd":"code","81e2371a":"code","d82ce451":"code","35252d1f":"code","87d454d2":"code","db98c4ed":"code","60877ee9":"code","946d8f96":"code","ede5eb96":"code","61b95e70":"code","2713bb4d":"code","d34c0712":"code","270064f1":"code","2f1794ec":"code","df649385":"code","2eecb1ca":"code","f7cc14e6":"code","d7c2caa2":"code","101d25c4":"code","bb838941":"code","107e82a2":"code","d0d613b9":"code","bdf00754":"code","ce992a67":"code","b97e3a11":"code","49d64237":"code","65957846":"code","6d9f716d":"code","6e91ffac":"markdown","03ce5d63":"markdown","0ea7dd87":"markdown","6ddc2330":"markdown","d06f5820":"markdown","7e70aed4":"markdown","9492e715":"markdown","381ac54b":"markdown","af465bbb":"markdown","7f07eded":"markdown","e7c5e72f":"markdown","419fc8b6":"markdown","72abbef9":"markdown"},"source":{"da4b8803":"\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n","30aba479":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objects as go","8d2ce54b":"url='..\/input\/cristiano-ronald-vs-lionel-messi-weekly-updated\/cristiano_vs_messi.csv'\ndf=pd.read_csv(url)","eadb786f":"df.info()","b5746b01":"df.head()","dfdc13a4":"df.tail()","e152eab8":"df.columns","8e39975f":"df['comp']=df['comp'].ffill()\ndf['date']=df['date'].ffill()\ndf['round']=df['round'].ffill()\ndf['venue']=df['venue'].ffill()\ndf['opp']=df['opp'].ffill()\ndf.info()","ce33d2af":"df['min']=df['min'].apply(lambda x:x.replace(\"'\",''))\ndf['min']=df['min'].apply(lambda x:x.replace(\"+\",''))\ndf['min'].unique()","45ae3042":"df.info()","a26b8bf8":"df['min']=pd.to_numeric(df['min'])\ndf['time_class']=df['min'].apply(lambda x:'first_half' if x<=45 else ( 'secound_half' if 45<x<=90 else 'extra_time'))\ndf.head(10)","ec6c28fd":"df['assist']=df['assisted'].fillna(0)\ndf['solo']=df['assist'].apply(lambda x:'solo' if x==0 else 'assisted')\ndf.head()","81e2371a":"from datetime import date\ndf['date']=pd.to_datetime(df['date'])\n#== \nL = ['year', 'month', 'day', 'dayofweek', 'dayofyear', 'weekofyear', 'quarter']\ndf = df.join(pd.concat((getattr(df['date'].dt, i).rename(i) for i in L), axis=1))","d82ce451":"df['dayofweek']=pd.to_numeric(df['dayofweek'])\ndf['dayofweek']=df['dayofweek'].apply(lambda x:x+1)\ndf['dayofweek'].unique()\ndf['goal']=df['goal']=1","35252d1f":"df.head()","87d454d2":"df['player'].value_counts()","db98c4ed":"df['year'].value_counts()","60877ee9":"\ndf_ronaldo=df.loc[df['player']=='ronaldo']\ndf_messi=df.loc[df['player']=='messi']\n#\nronaldo_solo=df_ronaldo[df_ronaldo['solo']=='solo'] \nronaldo_assisted=df_ronaldo[df_ronaldo['solo']=='assisted'] \nslices=[len(ronaldo_solo),len(ronaldo_assisted)]\nlabels=['solo','assisted']\n# \nmessi_solo=df_messi[df_messi['solo']=='solo'] \nmessi_assisted=df_messi[df_messi['solo']=='assisted'] \nslices1=[len(messi_solo),len(messi_assisted)]\nlabels1=['solo','assisted']\n#\nfig, axes = plt.subplots(1, 2, figsize=(15, 5), sharey=False)\nfig.suptitle('Cristiano Vs Messi\/Solo&assisted')\naxes[0].pie(slices,labels=labels,startangle=90,shadow=1,explode=(0,0.4),autopct='%1.2f%%',colors=['#808000','#F0EBED']);\naxes[0].set_title('Cristiano Ronaldo')\naxes[1].pie(slices1,labels=labels1,startangle=90,shadow=1,explode=(0,0.4),autopct='%1.2f%%',colors=['#7860DF','#BF6070']);\naxes[1].set_title('Lionel Messi');","946d8f96":"r_goal=pd.DataFrame(df_ronaldo['date'].value_counts().sort_values(ascending=False))\nr_goal['nick']=r_goal['date'].apply(lambda x:'hatrick' if x==3 else ('haul' if x==4 else ('glut' if x==5 else ('brace' if x ==2 else 'single goal'))))\nr_goal.head()","ede5eb96":"m_goal=pd.DataFrame(df_messi['date'].value_counts().sort_values(ascending=False))\nm_goal['nick']=m_goal['date'].apply(lambda x:'hatrick' if x==3 else ('haul' if x==4 else ('glut' if x==5 else ('brace' if x ==2 else 'single goal'))))\nr_goal['player']='ronaldo'\nm_goal['player']='messi'\n#\nall_goal = r_goal.append(m_goal).reset_index()\nall_goal.rename(columns={'date':'goal_count'},inplace=True)","61b95e70":"fig = px.box(all_goal, x=\"player\", y='goal_count')\nfig.show()","2713bb4d":"plt.figure(figsize=(10,7))\nsns.countplot(data=all_goal,x='player',hue='player',palette='magma').set_title('Cristano Vs Messi (Goals in one Match)');","d34c0712":"plt.figure(figsize=(10,7))\nsns.countplot(data=df,x='year',hue='venue',palette=\"Paired\").set_title('Cristano Vs Messi (Home & Away)');","270064f1":"plt.figure(figsize=(25,7))\nsns.countplot(data=df,x='type',hue='player',palette=\"hls\").set_title('Cristano Vs Messi (Goal Type)');","2f1794ec":"plt.figure(figsize=(25,7))\nsns.countplot(data=df,x='pos',hue='player',palette=\"cubehelix\").set_title('Cristano Vs Messi (Goalposition)');","df649385":"r_assist =df_messi['assisted'].value_counts()\nr_assist = r_assist[:10]\nsns.set_style(\"darkgrid\")\nplt.figure(figsize=(20,6));\nr_assist_vis = sns.barplot(r_assist.index, r_assist.values, alpha=0.8,palette='summer');\nplt.title('Most Player assisted to messi',fontsize=15);\nplt.ylabel('assists', fontsize=12);\nplt.xlabel('player name', fontsize=12);\nr_assist_vis.set_xticklabels(rotation=30,labels=r_assist.index,fontsize=15);\nplt.show();","2eecb1ca":"r_assist =df_ronaldo['assisted'].value_counts()\nr_assist = r_assist[:10]\nsns.set_style(\"darkgrid\")\nplt.figure(figsize=(20,6));\nr_assist_vis = sns.barplot(r_assist.index, r_assist.values, alpha=0.8,palette='winter');\nplt.title('Most Player assisted to cristiano',fontsize=15);\nplt.ylabel('assists', fontsize=12);\nplt.xlabel('player name', fontsize=12);\nr_assist_vis.set_xticklabels(rotation=30,labels=r_assist.index,fontsize=15);\nplt.show();","f7cc14e6":"r_op =df_ronaldo['opp'].value_counts()\nr_op = r_op[:10]\nsns.set_style(\"darkgrid\")\nplt.figure(figsize=(20,6));\nr_op_vis = sns.barplot(r_op.index, r_op.values, alpha=0.8,palette=\"dark\");\nplt.title('cristiano favourite opponents',fontsize=15);\nplt.ylabel('Goals', fontsize=12);\nplt.xlabel('opponet', fontsize=12);\nr_op_vis.set_xticklabels(rotation=30,labels=r_op.index,fontsize=15);\nplt.show();","d7c2caa2":"m_op =df_messi['opp'].value_counts()\nm_op = m_op[:10]\nsns.set_style(\"darkgrid\")\nplt.figure(figsize=(20,6));\nm_op_vis = sns.barplot(m_op.index, m_op.values, alpha=0.8,palette=\"Spectral\");\nplt.title('messi favourite opponents',fontsize=15);\nplt.ylabel('Goals', fontsize=12);\nplt.xlabel('opponet', fontsize=12);\nm_op_vis.set_xticklabels(rotation=30,labels=m_op.index,fontsize=15);\nplt.show();","101d25c4":"min_ronaldo1=df_ronaldo.groupby(['min']).size().to_frame('count').reset_index()\nmin_ronaldo=min_ronaldo1.sort_values(by='count', ascending=False)[:10]\nmin_ronaldo=min_ronaldo.reset_index()\nmin_ronaldo=min_ronaldo.rename(columns={'min':('Ronald_min')})\nmin_ronaldo=min_ronaldo.drop(columns=['index'])\n#\n#\nmin_messi=df_messi.groupby(['min']).size().to_frame('count').reset_index()\nmin_messi=min_messi.sort_values(by='count', ascending=False)[:10]\nmin_messi=min_messi.reset_index()\nmin_messi=min_messi.rename(columns={'min':('messi_min')})\nmin_messi=min_messi.drop(columns='index')\n# \nmin_ronaldo","bb838941":"min_messi","107e82a2":"min_cr7=df_ronaldo[df_ronaldo['min']<90]\nmin_values=min_cr7['min'].values\n#\nmin_messi=df_messi[df_messi['min']<90]\nmin_values_messi=min_messi['min'].values\nmin_values_messi\n# \n#figure,axes = plt.subplots(1,2,figsize=(10,5))\nplt.figure(figsize=(15,5))\nplt.hist(min_values,histtype='bar',bins=45,density=True,label='Ronaldo',alpha=0.5);\nplt.hist(min_values_messi,bins=45,histtype='bar',density=True,label='Messi',alpha=0.5);\nplt.legend(loc='upper left')","d0d613b9":"plt.figure(figsize=(14,7))\nsns.kdeplot(min_values, shade = True)\nsns.kdeplot(min_values_messi, shade = True)\nplt.legend(['Cristiano','Messi'])\nplt.xlabel('Home Factor')","bdf00754":"df_stack = pd.pivot_table(df, values='goal', index=['player'],\n                    columns=['time_class'], aggfunc=np.sum).reset_index()\ndf_stack","ce992a67":"sns.set_style(\"darkgrid\")\nfig, axes = plt.subplots(1, 3, figsize=(15, 5), sharey=False)\nfig.suptitle('Cristiano Vs Messi\/TimeClass')\n\nsns.barplot(ax=axes[0], x=df_stack.player, y=df_stack.first_half,palette='icefire')\naxes[0].set_title('First Half')\nsns.barplot(ax=axes[1], x=df_stack.player, y=df_stack.secound_half,palette='icefire')\naxes[1].set_title('Secound Half')\nsns.barplot(ax=axes[2], x=df_stack.player, y=df_stack.extra_time,palette='icefire')\naxes[2].set_title('Extra Time')","b97e3a11":"df['comp'].unique()","49d64237":"df_champ=df.loc[df['comp']=='Champions League']\n#==== \ndf_champ['player'].value_counts()","65957846":"from IPython.core.display import HTML\nHTML('''<div class=\"flourish-embed flourish-bar-chart-race\" data-src=\"visualisation\/4882308\" data-url=\"https:\/\/flo.uri.sh\/visualisation\/4882308\/embed\"><script src=\"https:\/\/public.flourish.studio\/resources\/embed.js\"><\/script><\/div>''')","6d9f716d":"fig, axes = plt.subplots(1, 2, figsize=(15, 5), sharey=False)\nfig.suptitle('Cristiano Vs Messi')\n\nsns.countplot(ax=axes[0],data=df,x='dayofweek',hue='player',palette=\"hls\")\naxes[0].set_title('DayofWeek')\nsns.countplot(ax=axes[1],data=df,x='quarter',hue='player',palette=\"hls\")\naxes[1].set_title('quarter')\n","6e91ffac":"# Goals Race for each season - 2020","03ce5d63":"# Conclusion \n\n* Ronaldo Score more goals than Messi \n* Ronaldo solo goal percentage is 3% higher than Messi\n* Ronaldo score single goals more than Messi but Messi score more brace and hatricks\n* Cristiano scored more in away matches but Messi scored more in home\n* Cristiano Ronaldo Score more headers, long-distance, counter-attack goal and penalties more than Messi \n* Lionel Messi Scored many goals in many positions in the squad contrary to Cristiano\n* Ronaldo Scored more in UEFA\n* Messi and Cristiano Scored more against the same team which is Sevilla \n* Messi Scored more in the last minutes and extra times \n* Messi started the season better than Ronaldo but Ronaldo end it better ","0ea7dd87":"# Yearwise Goals","6ddc2330":"# fill nan goals values \n### if player score more than one goal on game only min and type filled ","d06f5820":"# Home & Away goals","7e70aed4":"# Scoring time","9492e715":"## favourite opponent","381ac54b":"# import","af465bbb":"# Manipulate","7f07eded":"# Goals","e7c5e72f":"## Goals in one Match","419fc8b6":"# UEFA","72abbef9":"## Goal Type"}}