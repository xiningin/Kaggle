{"cell_type":{"f7ed3e25":"code","d5ac5d6c":"code","962749d0":"code","27194e74":"code","a84684dd":"code","6d6af000":"code","1c0ab342":"code","a9c6cd63":"code","19d75bd0":"code","87664a64":"code","bc3a9d72":"code","fa04245d":"code","a01bd14f":"code","2234d76c":"code","ebe0a7a3":"code","9a475d5f":"code","6057f51a":"code","87d29285":"code","c778968c":"code","f739ae66":"code","afb6f087":"code","c7860640":"code","5a9f355d":"markdown","92cad90b":"markdown","e1a8585c":"markdown","f8a257f5":"markdown","fc036a82":"markdown"},"source":{"f7ed3e25":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\n\nimport seaborn as sns\nimport plotly.graph_objects as go\nimport plotly.express as px \n\npd.set_option('display.max_rows', 500)\npd.set_option('display.max_columns', 355)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","d5ac5d6c":"# Load data \ndata = pd.read_csv('\/kaggle\/input\/2020-kaggle-survey\/kaggle_survey_2020_responses.csv')\ndata.shape","962749d0":"data.describe()","27194e74":"data.head()","a84684dd":"# data file without top row\ndata_clear = data.iloc[1:,:]\ndata_clear.head()","6d6af000":"# column for age of respondents\ndata_clear.Q1","1c0ab342":"# age distribution\nfig = px.histogram(data_clear, \n                   x = 'Q1', \n                   title='Age Distribution of Respondents',\n                   labels={'Q1':'Age'})\nfig.show()\n\n# sns.countplot(data_clear['Q1'])","a9c6cd63":"# pre-process data\ndata_clear['Q2'] = data_clear['Q2'].apply(lambda x : 'Etc.' if x not in ['Man', 'Woman'] else x)","19d75bd0":"agg_data = data_clear.groupby(['Q1','Q2']).size().reset_index(name='Quantity')\n\nagg_data = agg_data.rename(\n    columns={\n        'Q1': 'Age', \n        'Q2': 'Gender', \n    })","87664a64":"fig = px.bar(\n    agg_data, \n    x='Age', \n    y='Quantity', \n    color='Gender', \n    title=\"Respondents by Age and Gender\", \n    height=600)\nfig.show()","bc3a9d72":"agg_data = data_clear.groupby(['Q1','Q6']).size().reset_index(name='Quantity')\n\nagg_data = agg_data.rename(\n    columns={\n        'Q1': 'Age', \n        'Q6': 'Programming Experience', \n    })","fa04245d":"fig = px.bar(\n    agg_data, \n    x='Age', \n    y='Quantity', \n    color='Programming Experience', \n    title=\"Respondents by Age and Programming Experience\", \n    height=700)\nfig.show()","a01bd14f":"# programming experience\n\nfig = px.density_heatmap(data_clear, \n                         x='Q1', y='Q6', \n                         category_orders={'Q1':['18-21','22-24','25-29','30-34','35-39',\n                                                '40-44','45-49','50-54','55-59','60-69','70+'],\n                                          'Q6':['I have never written code','< 1 years',\n                                                '1-2 years','3-5 years','5-10 years','10-20 years','20+ years']},\n                         title='Programming experience',\n                         labels={'Q1':'Age', 'Q6':'Experience'})\nfig.show()","2234d76c":"nums = list(dict.fromkeys([i.split('_')[0] for i in data_clear.columns]))\nnums","ebe0a7a3":"data_Q7 = []\nfor i in nums:\n    if i == 'Q7':\n        data_Q7 = data_clear[[q for q in data_clear.columns if q.startswith(i)]]\ndata_Q7","9a475d5f":"# replace column names with language they represent\n\ndata_Q7.columns = list(data_Q7.mode().iloc[0,:])\ndata_Q7","6057f51a":"# format table for language distribution\n\ncount_Q7 = data_Q7.count().reset_index()\ncount_Q7.columns = ['Language','Amount']\ncount_Q7 = count_Q7.sort_values('Amount', ascending = False)\ncount_Q7","87d29285":"fig = go.Figure([go.Bar(x = count_Q7.Language, y = count_Q7.Amount)])\nfig.update_xaxes(title_text=\"Programming language\")\nfig.update_yaxes(title_text=\"Amount\")\nfig.show()","c778968c":"# position-data key value pairs\nRoles = {}\nfor i in data_clear.Q5.unique():\n    Roles[i] = data_clear[data_clear.Q5 == i]\nRoles.keys()","f739ae66":"edu = data_clear.Q4.value_counts()\nedu","afb6f087":"# education for Data Analysts \nedu_data_analyst = Roles['Data Analyst'].Q4.value_counts()\nfig = go.Figure([go.Bar(x = edu_data_analyst.index, y = edu_data_analyst.values)])\nfig.show()","c7860640":"# https:\/\/stackoverflow.com\/questions\/59406167\/plotly-how-to-filter-a-pandas-dataframe-using-a-dropdown-menu\n# https:\/\/plotly.com\/python\/dropdowns\/\n\nfig = go.Figure()\nfig.add_trace(go.Bar(x = edu.index, y = edu.values))\n\nselections = []\n\nselections.append(dict(method='restyle',\n                    label='Data Scientist',\n                    visible=True,\n                    args=[{'y':[Roles['Data Scientist'].Q4.value_counts().values],\n                           'x':[Roles['Data Scientist'].Q4.value_counts().index],\n                           'type':'bar'}, [0]],\n                    )\n              )\nselections.append(dict(method='restyle',\n                    label='Student',\n                    visible=True,\n                    args=[{'y':[Roles['Student'].Q4.value_counts().values],\n                           'x':[Roles['Student'].Q4.value_counts().index],\n                           'type':'bar'}, [0]],\n                    )\n              )\nselections.append(dict(method='restyle',\n                    label='Data Analyst',\n                    visible=True,\n                    args=[{'y':[Roles['Data Analyst'].Q4.value_counts().values],\n                           'x':[Roles['Data Analyst'].Q4.value_counts().index],\n                           'type':'bar'}, [0]],\n                    )\n              )\n\nupdatemenu = []\nyour_menu = {}\nupdatemenu.append(your_menu)\n\nupdatemenu[0]['buttons'] = selections\nupdatemenu[0]['direction'] = 'down'\nupdatemenu[0]['showactive'] = True\n\nfig.update_layout(showlegend = False, updatemenus = updatemenu)\nfig.show()","5a9f355d":"**Preparing data**","92cad90b":"**Age and Gender Distribution**","e1a8585c":"**Connection between education and position**","f8a257f5":"# Opening\n\n**Data** - 2020 Kaggle Machine Learning & Data Science Survey (https:\/\/www.kaggle.com\/c\/kaggle-survey-2020\/data)\n\n**Goals**  \n* experiment with kaggle\n* play around with various python libraries\n* find out good practices from other notebooks\n\n**Source of wisdom**\nHow to Make a Data Science Project with Kaggle (https:\/\/youtu.be\/m2DfpM6MyB8)\nData Science Project from Scratch. Ken Jee (https:\/\/youtube.com\/playlist?list=PL2zq7klxX5ASFejJj80ob9ZAnBHdz5O1t)\n\n**Useful notebooks**\nhttps:\/\/www.kaggle.com\/ahmedatta\/who-said-data-science-is-boring (story)\nhttps:\/\/www.kaggle.com\/dwin183287\/kagglers-seen-by-continents (great design)\n","fc036a82":"**Commonly used programming languages**"}}