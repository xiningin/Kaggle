{"cell_type":{"0dfe23b4":"code","be703fa5":"code","801974fb":"code","977946c2":"code","bfea7761":"code","61bd4348":"code","6c0011c7":"code","0f9b22e4":"code","62334f6a":"code","8ad24198":"code","082a0f46":"code","e42a528d":"code","61c0777d":"code","25e99ddd":"code","ea84b0f6":"code","9735c134":"code","67334669":"code","1e22c6a2":"code","bb8de980":"code","156a628f":"markdown","9afcc6c8":"markdown","2aee9b38":"markdown","2e02626e":"markdown","b2e8250f":"markdown","97707213":"markdown","5b004507":"markdown","67ea68db":"markdown","2726d113":"markdown","c86d2d53":"markdown","1aa3bced":"markdown","37a49306":"markdown","cc48717e":"markdown","4b824712":"markdown","08a127da":"markdown","9ed8efa1":"markdown","49bb0e53":"markdown","e04cea9f":"markdown"},"source":{"0dfe23b4":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport pandas_profiling as pp\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","be703fa5":"data=pd.read_csv('\/kaggle\/input\/iba-ml1-mid-project\/train.csv')","801974fb":"data.head()","977946c2":"data.describe()","bfea7761":"data.columns","61bd4348":"data.isnull().sum() #checking for total null values","6c0011c7":"data['defaulted_on_loan'].value_counts()","0f9b22e4":"plt.figure(figsize=(12,4))\nsns.histplot(data['real_estate_loans'],bins=20)","62334f6a":"data[data['defaulted_on_loan']==1].groupby('number_dependent_family_members')['ratio_debt_payment_to_income'].count()","8ad24198":"f,ax=plt.subplots(1,2,figsize=(18,8))\ndata['defaulted_on_loan'].value_counts().plot.pie(explode=[0,0.1],autopct='%1.1f%%',ax=ax[0],shadow=True)\nax[0].set_title('defaulted_on_loan')\nax[0].set_ylabel('')\nsns.countplot(x='defaulted_on_loan',data=data,ax=ax[1])\nax[1].set_title('defaulted_on_loan')\nplt.show()","082a0f46":"print('Oldest customer was of:',data['age'].max(),'Years')\nprint('Youngest customer was of:',data['age'].min(),'Years')\nprint('Average Age :',data['age'].mean(),'Years')","e42a528d":"data.groupby(['age','defaulted_on_loan'])['defaulted_on_loan'].count().head(40)","61c0777d":"plt.figure(figsize=(16, 6))\nheatmap = sns.heatmap(data.corr(), vmin=-1, vmax=1, annot=True)\nheatmap.set_title('Correlation Heatmap', fontdict={'fontsize':12}, pad=12);","25e99ddd":"sns.pairplot(data, vars = ['age', 'defaulted_on_loan', 'monthly_income','number_dependent_family_members','number_of_credit_lines','real_estate_loans'])","ea84b0f6":"f,ax=plt.subplots(figsize=(8,8))\nsns.violinplot(x='number_dependent_family_members', y='age', hue='defaulted_on_loan', data=data,split=True)\n\n","9735c134":"f,ax=plt.subplots(1,2,figsize=(20,10))\ndata[data['defaulted_on_loan']==0].age.plot.hist(ax=ax[0],bins=20,edgecolor='black',color='red')\nax[0].set_title('defaulted_on_loan= 0')\nx1=list(range(0,85,5))\nax[0].set_xticks(x1)\ndata[data['defaulted_on_loan']==1].age.plot.hist(ax=ax[1],color='green',bins=20,edgecolor='black')\nax[1].set_title('defaulted_on_loan= 1')\nx2=list(range(0,85,5))\nax[1].set_xticks(x2)\nplt.show()\n","67334669":"f,ax=plt.subplots(1,2,figsize=(20,10))\ndata[data['defaulted_on_loan']==0].number_of_credit_lines.plot.hist(ax=ax[0],bins=20,edgecolor='black',color='purple')\nax[0].set_title('defaulted_on_loan= 0')\nx1=list(range(0,85,5))\nax[0].set_xticks(x1)\ndata[data['defaulted_on_loan']==1].number_of_credit_lines.plot.hist(ax=ax[1],color='pink',bins=20,edgecolor='black')\nax[1].set_title('defaulted_on_loan= 1')\nx2=list(range(0,85,5))\nax[1].set_xticks(x2)\nplt.show()","1e22c6a2":"sns.factorplot(x='real_estate_loans',y='number_of_previous_late_payments_up_to_59_days',data=data,col='defaulted_on_loan')\nplt.show()","bb8de980":"pp.ProfileReport(data)","156a628f":"Let's see some relation between multiple variables","9afcc6c8":"Generally, the less age customers have the less dependent family members they have. Adults are more likely to have dependent family members.As a result customers who have more dependent family members are more likely to fail on paying loan back.\n","2aee9b38":"Let's see customers who defaulted on loan by ratio of monthly debt payment to monthly income grouped by number of their family members.","2e02626e":"<img src=\"https:\/\/www.debt.org\/wp-content\/uploads\/2015\/08\/Avoid-Bank-Loan.gif\">","b2e8250f":"<img src=\"https:\/\/media.giphy.com\/media\/xUA7aUWKEX02XdBp7y\/giphy.gif\">","97707213":"Let's see if students(younger people) or adults are more likely to default on loan.","5b004507":"Contents of the Notebook:\n\n**Part1: Exploratory Data Analysis(EDA)**:\n\n1)Analysis of the features.\n\n2)Finding any relations or trends considering multiple features.\n\n","67ea68db":"Customers between 20-25 were able to pay their loans back, while customers between the age of 30-45 defaulted in loan. Most probably this is because, people who are between 30-45 are more likely to have family dependent members and life hardships. However, ages between 20-25 generally are included students, who can have more student opportunities to pay loans back. As people after 60(60-80) can retire in most countries, they do not have that much family members depend on them, so that they are less likely to default on loan.","2726d113":"It is evident that not many customers failed to pay back a debt.\n\nFrom customers in training set, only around 5200 defaulted on loan. Only 6.9% of the total training set failed to pay a debt. We need to dig down more to get better insights from the data and see which categories of the customers defaulted on loan and which didn't.\n\nWe will try to check the defaulted on loan rate by using the different features of the dataset. Some of the features being  Number_dependents_family_members,monthly_income,Age,etc.\n\nFirst let us understand the different types of features.","c86d2d53":"*Debt is like any other trap, easy enough to get into, but hard enough to get out of.*\n>                                             Henry Wheeler Shaw\n\n\n\n","1aa3bced":"We can summarize our data with one line as well :)","37a49306":"<img src=\"https:\/\/media.giphy.com\/media\/l0XCfh0oVwhq4550ZY\/giphy.gif\">","cc48717e":"<img src=\"https:\/\/media.giphy.com\/media\/1qXcmOPc5Jcym046eu\/giphy.gif\">","4b824712":"# Analysing the features","08a127da":"# How many customers defaulted on loan?","9ed8efa1":"# ****What Does it Mean to Default on a Loan?****\nLoan default occurs when a borrower fails to pay back a debt according to the initial arrangement. In the case of most consumer loans, this means that successive payments have been missed over the course of weeks or months.The period between missing a loan payment and having the loan default is known as delinquency. The delinquency period gives the debtor time to avoid default by contacting their loan servicer or making up missed payments.The consequences of defaulting on a loan of any type are severe and should be avoided at all costs. \n\nIf you miss a payment or your loan is in delinquency for a few months, the best thing to do is to contact the company who manages your loan. Often times, loan servicers will work with debtors to create a payment plan that works for both parties. Otherwise, leaving a loan in delinquency and allowing it to default can, in the worst cases, lead to seizure of assets or wages.Defaulting on a loan will cause a substantial and lasting drop in the debtor's credit score, as well as extremely high interest rates on any future loan. For loans secured with collateral, defaulting will likely result in the pledged asset being seized by the bank. The most popular types of consumer loans that are backed by collateral are mortgages, auto loans and secured personal loans.\n\n\nThe Objective of this notebook is to give an idea how is the workflow in any predictive modeling problem. How do we check features, how do we add new features and some Machine Learning Concepts. The notebook is mostly based on EDA.","49bb0e53":"As we had seen earlier, the age feature has 7144 null values. To replace these NaN values, we can assign them the mean age of the dataset. We will replace NaN values in another notebook where we do also model prediction.\n\n\n","e04cea9f":"If customers opened more credit cards it means they are more likely to default on loan."}}