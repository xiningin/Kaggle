{"cell_type":{"eb74ff34":"code","1a0d817b":"markdown","08b9ed3e":"markdown"},"source":{"eb74ff34":"import numpy  as np\nimport pandas as pd\nimport janestreet\nenv = janestreet.make_env()\niter_test = env.iter_test()\nfor (test_df, sample_prediction_df) in iter_test:\n    \n    feature_0   = test_df['feature_0'].item()  # 1 == buy, -1 == sell\n    feature_64  = test_df['feature_64'].item() # the 'clock' feature\n    \n    # 'selling' features\n    feature_43  = test_df['feature_43'].item()\n    feature_117 = test_df['feature_117'].item()\n    \n    # 'buying' features\n    feature_8   = test_df['feature_8'].item()\n    feature_9   = test_df['feature_9'].item()\n    \n    # selling\n    if feature_0 < 0:\n        sample_prediction_df.action = 1 if (feature_117 > 0.2) and (feature_43 > 0) else 0\n        \n    # buying (...but only after a nice lunch)\n    else:\n        sample_prediction_df.action = 1 if (feature_64  > 0.7) and (feature_8 > 0.1) and (feature_9 > 0.2) else 0\n        \n    env.predict(sample_prediction_df)","1a0d817b":"#### This little contribution is inspired by the following two notebooks:\n* [Rule 3443](https:\/\/www.kaggle.com\/fbykov\/rule-3443) by [Filipp Bykov](https:\/\/www.kaggle.com\/fbykov)\n* [[No GPU time] Sell at 10 a.m, play golf.](https:\/\/www.kaggle.com\/snippsy\/no-gpu-time-sell-at-10-a-m-play-golf\/) by [Kire](https:\/\/www.kaggle.com\/snippsy)","08b9ed3e":"**Note:** `0.7` is the lower limit of the lunchtime discontinuity in `feature_64`."}}