{"cell_type":{"17516e11":"code","7eaf9818":"code","427fdd05":"code","c4110a0c":"code","ea40b312":"code","8b43ddb9":"code","1e8dfe69":"code","eb39c34d":"code","cafd1760":"code","f8ff6b4e":"code","e9d3d5ae":"code","ed406acf":"code","e142f5d7":"code","4dc26243":"code","9b0048f3":"code","e112bb6f":"markdown","e2d8f828":"markdown","403846b9":"markdown","bbc10548":"markdown","65c101fd":"markdown","2f81d5fd":"markdown","980e51b4":"markdown","29576aa9":"markdown","554752d4":"markdown"},"source":{"17516e11":"import pandas as pd","7eaf9818":"data = pd.read_csv('..\/input\/pfizer-vaccine-tweets\/vaccination_tweets.csv')","427fdd05":"tweets = []\nfor t in data.text:\n        t_lower = t.lower()\n        tweets.append(t_lower)\ndata[\"tweets\"] = tweets","c4110a0c":"conspiracy_words = [\"plandemic\", \"condemic\", \"autism\", \"sheep\", \"gates\", \"deaths\", \"billgatesisnotadoctor\", \"pcrgate\", 'wakeupamerica', 'scamdemic', 'idonotconsent', 'microchip', 'nomasks', '5g', 'soros', 'hoax', 'vaccineskill', 'knowtherisk', 'forcedinjections', 'medicalfreedom', 'believemothers', 'vaccinsanity', 'pharma', \"bigpharma\", 'biologicallyengineeredhumans', 'antivaxx', 'bewaretheneedle', 'alternativemedicine', 'standup', 'pharmaceuticalskill', 'vaccineinjury', 'pharmthesheep', 'vaccineeducation', 'money', 'syringeslaughter', 'bhfyp', 'truthhurts', 'vaccineawarness', 'antivaccination', 'teamnovaxx', 'antivacc', 'vaccinetruth', 'vaccineinjuryawareness', 'dotheresearch', 'vaccinesharm', 'populationcontrol']","ea40b312":"conspiracies = []\nfor word in conspiracy_words:\n    frame = data[data[\"tweets\"].str.contains(word, case=False, na=False)]\n    conspiracies.append(frame)","8b43ddb9":"conspiracy_tweets = pd.concat(conspiracies).drop_duplicates()\nconspiracy_tweets","1e8dfe69":"import geopy\n","eb39c34d":"from geopy.geocoders import Nominatim\ngeolocator = Nominatim(user_agent=\"my_application\")","cafd1760":"longitude_whole = []\nlatitude_whole = []\nmagnitude_whole = []\nfrom tqdm import tqdm_notebook as tqdm\ntqdm().pandas()\nfor place in tqdm(data.user_location):\n    try:\n        lo = float(geolocator.geocode(place).longitude)\n        longitude_whole.append(lo)\n        la = float(geolocator.geocode(place).latitude)\n        latitude_whole.append(la)\n    except:\n        pass","f8ff6b4e":"locations_whole = pd.DataFrame({\"latitude\": latitude_whole, \"longitude\": longitude_whole})","e9d3d5ae":"!pip install gmaps\nimport gmaps\nfrom kaggle_secrets import UserSecretsClient\nuser_secrets = UserSecretsClient()\nsecret_value_0 = user_secrets.get_secret(\"API_KEY\")\ngmaps.configure(api_key=secret_value_0)","ed406acf":"%matplotlib inline\nfig1 = gmaps.figure()\nheatmaplayer = gmaps.heatmap_layer(locations_whole, weights=None)\nheatmaplayer.point_radius = 5\nheatmaplayer.max_intensity = 3\nfig1.add_layer(heatmaplayer)\nfig1","e142f5d7":"longitude = []\nlatitude = []\nmagnitude = []\nfor place_2 in conspiracy_tweets.user_location:\n    try:\n        lo_2 = float(geolocator.geocode(place_2).longitude)\n        longitude.append(lo_2)\n        la_2 = float(geolocator.geocode(place_2).latitude)\n        latitude.append(la_2)\n    except:\n        pass","4dc26243":"locations = pd.DataFrame({\"latitude\": latitude, \"longitude\": longitude})","9b0048f3":"%matplotlib inline\nlocations = locations\nweights = None\nfig2 = gmaps.figure()\nheatmaplayer_c = gmaps.heatmap_layer(locations, weights=None)\nheatmaplayer_c.point_radius = 5\nheatmaplayer_c.max_intensity = 3\nfig2.add_layer(heatmaplayer_c)\nfig2","e112bb6f":"Note: Figures are uploaded as images as they will not render in kaggle notebook, but should render for you if you try running the code","e2d8f828":"# Next Steps\n* Empiricaly generating list of conspiracy and anti-vaccine related words, and filtering out tweets that use these hashtags to ridicule them and do not actually express anti-vaccine sentiment\n* Gathering more tweets to better understand patterns and trends surrounding dissemination of vaccine misinformation","403846b9":"The list of conspiracy and anti-vaccine related words and hashtaags is in no way empiricaly generated. A future goal is to generate a proper list of terms. However, this is a rather exhaustive list given the size of the dataset","bbc10548":"# Where are these conspiracies coming from? Plotting user locations of conspiracy and anti-vaccine related tweets \n\nAny and all feedback is welcome and appreciated","65c101fd":"# Plotting user locations for all tweets","2f81d5fd":"# Filter tweets that are related to anti-vaccine sentiment or vaccine conspiracies","980e51b4":"![map%20%283%29.png](attachment:map%20%283%29.png)","29576aa9":"![map%20%281%29.png](attachment:map%20%281%29.png)","554752d4":"# Plotting user locations for anti-vaccine tweets"}}