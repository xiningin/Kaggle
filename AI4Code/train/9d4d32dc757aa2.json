{"cell_type":{"a97e846f":"code","4b1a5cb5":"code","5204beff":"code","ebc20c69":"code","85c88495":"code","61ef80ac":"code","41c515e0":"code","0c86de5d":"code","2c95b1ef":"code","6618ed65":"code","0b7567f5":"code","6b77dc01":"code","d53b581a":"code","f0e52f35":"code","b483bd87":"code","40750b13":"code","e902f3bb":"code","38cdfdb5":"code","11ef9647":"code","c36cc912":"code","38a2344a":"code","2e4138cf":"code","c6967299":"code","b267fa89":"code","bc7e5b31":"code","0b706f76":"code","49b97e06":"code","0381855a":"code","652093b4":"code","c3367ca7":"code","69563765":"code","357a1ca6":"code","c75073c0":"code","787ae174":"code","bf3a134e":"code","75c4ab47":"code","a935c1d4":"code","851842f0":"code","fcf7ccae":"code","4f9f43c0":"code","0913d0d9":"code","ac009656":"code","593fba75":"code","c997f6be":"code","2ba6df71":"code","adae443b":"code","42730f99":"code","60ae729e":"code","0270cf0d":"code","d58ebf89":"code","49126822":"markdown","bb49559e":"markdown","166c293e":"markdown","8c085a20":"markdown","453d529c":"markdown","242b6417":"markdown","d1427674":"markdown","5cf58a49":"markdown","70b8f779":"markdown","212bcc4d":"markdown","da5407fc":"markdown","159bd33a":"markdown","16d18f1b":"markdown","cf7029d0":"markdown","32ae53ff":"markdown","a3d8dcef":"markdown","fac80521":"markdown","529ba9be":"markdown","a76109d3":"markdown","ae166be0":"markdown","ba09c69a":"markdown","a4b098cf":"markdown","a52216db":"markdown","0516f1f1":"markdown","44df279a":"markdown","3fbca983":"markdown"},"source":{"a97e846f":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.graph_objects as go\nimport plotly.express as px","4b1a5cb5":"df=pd.read_csv('..\/input\/data-analyst-jobs\/DataAnalyst.csv')\ndf.head()","5204beff":"sns.heatmap(df.isnull(),cmap='gnuplot')","ebc20c69":"df.isna().any()","85c88495":"df['Company Name'].isna().value_counts()","61ef80ac":"df.info()","41c515e0":"unn_col=['Unnamed: 0','Job Description','Company Name']\nfor cols in unn_col:\n    df.drop(cols,axis=1,inplace=True)\ndf.head()","0c86de5d":"df['Salary Estimate'].mode()[0]","2c95b1ef":"df['Salary Estimate']=df['Salary Estimate'].replace('-1',df['Salary Estimate'].mode()[0])","6618ed65":"df['Salary Estimate'],_=df['Salary Estimate'].str.split('(',1).str","0b7567f5":"df['Salary Estimate']","6b77dc01":"df['Min_Salary'],df['Max_Salary']=df['Salary Estimate'].str.split('-').str","d53b581a":"df.head()","f0e52f35":"df['Min_Salary']=df['Min_Salary'].str.strip(' ').str.lstrip('$').str.rstrip('K').fillna(0).astype('int')\ndf['Max_Salary']=df['Max_Salary'].str.strip(' ').str.lstrip('$').str.rstrip('K').fillna(0).astype('int')","b483bd87":"df.head()","40750b13":"df.info()","e902f3bb":"df.replace('-1',np.nan,inplace=True)","38cdfdb5":"df.head()","11ef9647":"sns.heatmap(df.isna(),cmap='viridis')","c36cc912":"miss_values=[]\ndef check_null(df):\n    for i in range(df.columns.shape[0]):\n        if df.iloc[:,i].isnull().any():\n            print('Missing values in {} : {} '.format(df.columns[i],df.iloc[:,i].isna().value_counts()[1]))\n            miss_values.append(df.iloc[:,i].isna().value_counts()[1])\n            i+=1\n","38a2344a":"miss_val_arr=np.array(miss_values)","2e4138cf":"miss_val_arr","c6967299":"check_null(df)","b267fa89":"null_cols=[]\nfor i in range(df.columns.shape[0]):\n    if df.iloc[:,i].isnull().any():\n        null_cols.append(df.columns[i])\nnull_arr=np.array(null_cols)","bc7e5b31":"miss_val_arr","0b706f76":"miss_val=pd.DataFrame(null_arr)\nmiss_val.rename(columns={0:'Column name'},inplace=True)\nmiss_val['Missing values']=miss_val_arr\nmiss_val['Percentage missing (%)']=np.round(100* miss_val['Missing values']\/df.shape[0],1)\nmiss_val","49b97e06":"df.drop('Competitors',axis=1,inplace=True)","0381855a":"df['Easy Apply']=df['Easy Apply'].fillna('False')","652093b4":"df['Count']=1\ndf_salaries=df.groupby('Salary Estimate')['Count'].sum().reset_index()","c3367ca7":"df_salaries.sort_values(by='Count',ascending=False,inplace=True)\ndf_salaries.head()","69563765":"\nsns.catplot('Salary Estimate','Count',data=df_salaries,height=5,aspect=3)\nplt.xticks(rotation=90)","357a1ca6":"df_salaries_top=df_salaries.head(10)\nplt.figure(figsize=(10,8))\nplt.bar(df_salaries_top['Salary Estimate'],df_salaries_top['Count'],color=['red','blue','green','orange','brown','purple'])\nplt.xticks(rotation=45)\nplt.xlabel('Salary estimates',size=15)\nplt.ylabel('Number of jobs',size=15)\nplt.title('Top 10 salary estimates',size=20)\n","c75073c0":"fig1=plt.figure(figsize=(10,5))\nax1=fig1.add_subplot(121)\ng=sns.distplot(df['Min_Salary'],ax=ax1,color='green')\nax1.set_xlabel('Minimum Salary \\n Median min salary:$ {0:.1f} K'.format(df['Min_Salary'].median()))\nl1=g.axvline(df['Min_Salary'].median(),color='red')\n\nax2=fig1.add_subplot(122)\nh=sns.distplot(df['Max_Salary'],ax=ax2,color='Red')\nax2.set_xlabel('Maximum_Salary \\n Median min salary:$ {0:.1f} K'.format(df['Max_Salary'].median()))\nl2=h.axvline(df['Max_Salary'].median(),color='Blue')\n","787ae174":"fig2=plt.figure(figsize=(20,10))\nax1=fig2.add_subplot(111)\n\n#Plots\n\n\ng=sns.distplot(df['Min_Salary'],ax=ax1,color='green',label='Minimum salary')\nh=sns.distplot(df['Max_Salary'],ax=ax1,color='Red',label='Maximum salary')\n\n# Vertical median lines\nl1=g.axvline(df['Min_Salary'].median(),color='black',label='Median min salary')\nl2=h.axvline(df['Max_Salary'].median(),color='Blue',label='Median max salary')\n\n#Font descriptions\n\nplt.xlabel('Salary distribution',size=20)\nplt.title('Min\/Max salary distribution',size=20)\n\n#Legend box\nplt.legend(fontsize='x-large', title_fontsize='40')","bf3a134e":"df_ea_ind=df[df['Easy Apply']=='True']\ndf_ea_ind_grouped=df_ea_ind.groupby('Industry')['Easy Apply'].count().reset_index()","75c4ab47":"df_ea_ind_grouped.sort_values(by='Easy Apply',ascending=False,inplace=True)\ndf_ea_ind_grouped","a935c1d4":"\nsns.catplot('Industry','Easy Apply',data=df_ea_ind_grouped,kind='bar',height=10,aspect=2)\nplt.xticks(rotation=90,size=15)\nplt.ylabel('Job openings',size=20)\nplt.xlabel('Industry',size=20)\nplt.title('Current job openings in the industry',size=25)\nticks=np.arange(20)\nplt.yticks(ticks,fontsize=15)","851842f0":"df_ea_loc=df_ea_ind.groupby('Location')['Easy Apply'].count().reset_index()\ndf_ea_loc","fcf7ccae":"df_ea_loc.sort_values('Easy Apply',ascending=False,inplace=True)","4f9f43c0":"sns.catplot('Location','Easy Apply',data=df_ea_loc,kind='bar',height=10,aspect=2,palette='summer')\nplt.xticks(rotation=90,size=15)\nplt.ylabel('Job openings',size=20)\nplt.xlabel('Location',size=20)\nplt.title('Current job openings in different locations',size=25)\nticks=np.arange(20)\nplt.yticks(ticks,fontsize=15)","0913d0d9":"df_salaries=df.groupby('Location')[['Min_Salary','Max_Salary']].mean()","ac009656":"df_salaries.sort_values(by='Max_Salary',ascending=False,inplace=True)\ndf_salaries=df_salaries.head(10)\ndf_salaries","593fba75":"fig3=go.Figure()\nfig3.add_trace(go.Bar(x=df_salaries.index,y=df_salaries['Min_Salary'],name='Minimum Salary'))\nfig3.add_trace(go.Bar(x=df_salaries.index,y=df_salaries['Max_Salary'],name='Maximum Salary'))\n\nfig3.update_layout(title='Top 10 cities with mean minimum and maximum salaries',barmode='stack')","c997f6be":"df_sal_ind=df.groupby('Industry')[['Min_Salary','Max_Salary']].mean()","2ba6df71":"\ndf_sal_ind=df_sal_ind.sort_values('Max_Salary',ascending=False)","adae443b":"df_sal_ind=df_sal_ind.head(10)","42730f99":"fig4=go.Figure()\nfig4.add_trace(go.Bar(x=df_sal_ind.index,y=df_sal_ind['Min_Salary'],name='Minimum Salary'))\nfig4.add_trace(go.Bar(x=df_sal_ind.index,y=df_sal_ind['Max_Salary'],name='Maximum Salary'))\n\nfig4.update_layout(title='Top 10 Industries with mean minimum and maximum salaries in $',barmode='stack')","60ae729e":"df_rate=df.groupby('Rating')['Count'].sum().reset_index()\ndf_rate.sort_values(by='Count',ascending=False,inplace=True)","0270cf0d":"df_rate=df_rate.iloc[1:,:].head(10)  #Since we are discounting the null values given by -1","d58ebf89":"\nsns.catplot('Rating','Count',data=df_rate,kind='bar',palette='winter',height=5,aspect=2)","49126822":"From the above barplot, we can see that NY,SF and Chicago are the top 3 cities with job postings.\n\n## Location wise mean salaries\n\nLet us check how the mean salaries in the cities range. We will try to find the top 10 locations with highest mean maximum salaries.","bb49559e":"As we can see, we have separated the salaries into Minimum salary and maximum salary. However, there is still some unncecessary info the columns which we need to clean. Let us try to do that using the split function. In addition, it is important to change the datatype of salary from string to int. Let us attempt to do that aswell. ","166c293e":"As we can see, the data is extremely cluttered. It is seen the maximum jobs are paying in the range of 41K-78k $ a year to Data Analysts.\n\nIn order to make the data less cluttered, we shall consider the data for only the top 10 salary values. ","8c085a20":"# 2. Data Cleaning","453d529c":"As we can see, we have successfully cleaned the data for max salary and min salary in their integer forms. \n\n## Missing Values\n\nAlthough we initially claimed that there were no missing values, it is now seen that in the dataframe, instead of null values, -1 has been entered. Hence, what we can do is replace all the -1 with null values. This will let us fill the null values with other suitable values such as mean or mode.\n\nLet us now create the heatmap again that will give us an idea of the number of missing values in each column. \n","242b6417":"From the above stacked graph, we see that Newark provides the highest mean maximum salary to their Data Analysts. The also provide the second highest minimum salary of the top 10 destinations for Data Analysts. Hence, Newark can be said to be the most idea location for Data Analysts.\n\n\n## Industry wise mean salaries\n\nLet us check the mean maximum and minimum salaries. We shall find the top 10 industries providing the highest mean maximum salaries to the data analysts.","d1427674":"# 1. Importing the relevant libraries and data\n\nLet us import all the relevant libraries and also the data upon which we are gonna perform EDA.","5cf58a49":"## Job Ratings\n\nJob ratings might be an important indicator for job searchers. Let us check how the various rated jobs are distributed. We will visualise the top 10 common job ratings.","70b8f779":"Great ! It looks like there aren't any or extremely negligible missing values in the dataframe. However, instead of a null value, the data maybe replaced by keywords such as 'NA' or 'null'. We shall check for those later in our data cleaning operation.\n\nLet us confirm that there aren't any null values in the dataframe.","212bcc4d":"Here, we have the top 10 cities with highest mean maximum salaries. Let us depict this through a visualisation.","da5407fc":"As we can see from the above barplot, Staffing & Outsourcing has the highest number of vacancies (about 18).\n\nLet us now check which cities are showing the highest number of job postings.","159bd33a":"## Current job openings\n\nCurrent job openings can be understood through the Easy Apply column. As we have already established in the past, there are very few companies (about 3.6 %) which are currently open to recruit. Let us check which industries and cities are reporting the maximum job openings right now.","16d18f1b":"So, there is just one single company name which is missing. We can safely dismiss the presence of any missing values since we shall be dropping the Companu Name column anyway.\n\nNext, we shall check the various data types that we will be dealing with. ","cf7029d0":"There we have it ! As we can see, 96.45% of values in Easy apply are null while 76.88% of Competitor values are high. These are quite high.\n\nEasy apply could be an indication are currently open for the particular role in that company. So far, only about 3.6% listings are open to hire. \n\nRegarding the competitors column, I believe we can consider this as an unimportant section since it doesn't provide us with any insights. Hence, we shall drop this value too.","32ae53ff":"At the very start, we would like to check for the presence of any null values in our data. To get a quick glance, we can use a heatmap that will give us a good idea of what features require extra attention with respect to missing values.","a3d8dcef":"In order to make the Easy Apply data more readable, let us fill all the null values with false. This shall clearly indicate that the value is false and the company isn't hiring at the moment.","fac80521":"Let us first remove the source of the salary listing i.e. Glassdoor.\n\n**split(separator,max_splits)**","529ba9be":"We can see that most number of jobs have a rating of 3.9 . A fair number of jobs also have a rating of 5.\n\n\n# If you found the kernel useful, an upvote would be great ! :)","a76109d3":"With this, I believe we have cleaned the data just enough for us to perform some insightful data visualisations.\n\n# 3. Data Visualisation\n\nAlright, first off, let's check how the jobs pay.\n\n## Salary Estimate\n\nLet us see what are the most common salaries paid to the Data Analysts in the United States.","ae166be0":"As we can see, the minimum and max salaries are distributed differently. The vertical red and blue lines in the above distplots show the median salary in each section.\n\nLet us infact superimpose the two distplots to understand their difference.","ba09c69a":"Let us make this into a more readable dataframe.","a4b098cf":"Oh boy ! Extremely high number of missing values in competitors and easy apply columns. Considerable missing values in a few more columns.\n\nLet us check the number of missing values.","a52216db":"Oh wow ! There seems to be a few missing values in the company name column. However, since our data analysis wouldn't require much use of company name, hence we aren't bothered by it. However, let us check the number of missing values for curiosity sake.","0516f1f1":"Let us see how the minimum and maximum salaries are exactly distributed through the distplots below.","44df279a":"## Droppable columns\n\nAs we look at the various columns, we see that not all the columns are important to us. These can be dropped immediately to make the data less cluttered. Let's see which columns may be removed.","3fbca983":"## Salary Estimate\n\nUpon glancing at the above data types, we see that there is an issue with salary estimate. Here, since the estimate is given to us in a range figure, we need to split the lower and upper bounds of the salaries into the max salary and min salary column. \n\nLet us solve the salary range issue now.\n\n\n**But wait ! There is something weird about the data. One of the entries have -1 which is weird as it doesn't make sense. Let us assume that -1 actually refers to null value. We shall replace this data with the mode of the data.**\n\n"}}