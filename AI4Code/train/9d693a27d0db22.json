{"cell_type":{"378976d4":"code","08b6b861":"code","fc360235":"code","4faa009b":"code","7193a752":"code","de59329b":"code","2a6dc7c1":"code","8b8aeed4":"code","1e79dc80":"code","2663bf9e":"code","e1057a19":"code","1dc1dc30":"code","2713d94d":"code","ee045ed1":"code","6e9c36c7":"code","3e0dedb5":"code","c8f81916":"code","80a81943":"code","0b33be48":"code","0f768887":"code","42f1fcb3":"code","b6cd8080":"code","c0fa35a6":"markdown","ce3c568d":"markdown","21fdf3fd":"markdown"},"source":{"378976d4":"from nilearn.image import resample_img\nimport pylab as plt\nimport nibabel as nb\nimport numpy as np","08b6b861":"orig_nii = nb.load(\"..\/input\/ixi-example\/ixi002-guys-0828-t1.nii\/IXI002-Guys-0828-T1.nii\")","fc360235":"np.round(orig_nii.affine)","4faa009b":"orig_nii.shape","7193a752":"orig_nii.header.get_zooms()","de59329b":"plt.imshow(orig_nii.dataobj[:,:,80])","2a6dc7c1":"orig_rotated_nii = nb.as_closest_canonical(orig_nii)","8b8aeed4":"np.round(orig_rotated_nii.affine)","1e79dc80":"orig_rotated_nii.shape","2663bf9e":"plt.imshow(orig_rotated_nii.dataobj[:,:,80])","e1057a19":"downsampled_nii = resample_img(orig_rotated_nii, target_affine=np.eye(3)*2., interpolation='nearest')","1dc1dc30":"downsampled_nii.affine","2713d94d":"downsampled_nii.shape","ee045ed1":"plt.imshow(downsampled_nii.dataobj[:,:,50])","6e9c36c7":"upsampled_nii = resample_img(orig_rotated_nii, target_affine=np.eye(3)*0.5, interpolation='nearest')","3e0dedb5":"upsampled_nii.affine","c8f81916":"upsampled_nii.shape","80a81943":"plt.imshow(upsampled_nii.dataobj[:,:,200])","0b33be48":"target_shape = np.array((240,40,100))\nnew_resolution = [2,]*3\nnew_affine = np.zeros((4,4))\nnew_affine[:3,:3] = np.diag(new_resolution)\n# putting point 0,0,0 in the middle of the new volume - this could be refined in the future\nnew_affine[:3,3] = target_shape*new_resolution\/2.*-1\nnew_affine[3,3] = 1.\ndownsampled_and_cropped_nii = resample_img(orig_rotated_nii, target_affine=new_affine, target_shape=target_shape, interpolation='nearest')","0f768887":"downsampled_and_cropped_nii.affine","42f1fcb3":"downsampled_and_cropped_nii.shape","b6cd8080":"plt.imshow(downsampled_and_cropped_nii.dataobj[:,:,70])","c0fa35a6":"# Resampling with cropping\/padding","ce3c568d":"# Downsampling","21fdf3fd":"# Upsampling"}}