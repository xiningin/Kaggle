{"cell_type":{"bb6fdd86":"code","d7152d31":"code","1b3f5413":"code","1fd312a2":"code","09d8c3dc":"code","d2f617ef":"code","dbd62cd1":"code","fb8fcec7":"code","1ee51fea":"code","90292700":"code","5ccd30ea":"code","497a5784":"code","352d79c4":"code","7e2b7859":"markdown","3a42bb78":"markdown","cff597c7":"markdown","e27e7d17":"markdown","70f1ec9b":"markdown","be2a1127":"markdown","8faef084":"markdown","d3d6613e":"markdown","a28c3c19":"markdown","a6e8ae2b":"markdown"},"source":{"bb6fdd86":"## General libraries\nimport numpy as np\nimport pandas as pd\nfrom matplotlib import pyplot as plt\nfrom matplotlib import image as mpimg\nimport seaborn as sns\nsns.set(style=\"ticks\", color_codes=True)\n\nfrom sklearn import preprocessing, metrics\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.linear_model import Lasso\nfrom sklearn.ensemble import RandomForestRegressor\nimport statsmodels.api as sm\nfrom scipy import stats\n\nplt.rcParams['figure.figsize'] = [6, 6]\n%matplotlib inline\n\nimport warnings\nwarnings.filterwarnings('ignore')","d7152d31":"dataset = pd.read_csv(\"..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv\")\nprint(dataset.head())\nprint(dataset.shape)","1b3f5413":"list(dataset.columns)","1fd312a2":"# describe data with summary stats\n(dataset.dtypes)","09d8c3dc":"# check number of null values by columns\ndataset.isnull().sum()","d2f617ef":"dataset.fillna({'reviews_per_month':0}, inplace=True)\ndataset.fillna({'name':\"NoName\"}, inplace=True)\ndataset.drop(['id','host_name','last_review'], axis=1, inplace=True)\ndataset.duplicated().sum()\ndataset.drop_duplicates(inplace=True)\n\n# check number of null values by columns\ndataset.isnull().sum()","dbd62cd1":"corr = dataset.corr(method='kendall')\nplt.figure(figsize=(15,8))\nsns.heatmap(corr, annot=True)\ndataset.columns","fb8fcec7":"dataset.drop(['host_id','latitude','longitude','neighbourhood','number_of_reviews','reviews_per_month', 'name'], axis=1, inplace=True)\n#examing the changes\ndataset.head(5)","1ee51fea":"def Encode(dataset):\n    for column in dataset.columns[dataset.columns.isin(['neighbourhood_group', 'room_type'])]:\n        dataset[column] = dataset[column].factorize()[0]\n    return dataset\n\ndataset_en = Encode(dataset.copy())","90292700":"#Defining the independent variables and dependent variables\nx = dataset_en.iloc[:,[0,1,3,4,5]]\ny = dataset_en['price']\n#Getting Test and Training Set\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=.2,random_state=0)\nx_train.head()\ny_train.head()","5ccd30ea":"x_train.shape","497a5784":"#Prepare a Linear Regression Model\nreg=LinearRegression()\nreg.fit(x_train,y_train)\ny_pred=reg.predict(x_test)\nfrom sklearn.metrics import r2_score\nr2_score(y_test,y_pred)","352d79c4":"#Prepairng a Decision Tree Regression\nfrom sklearn.tree import DecisionTreeRegressor\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=.1,random_state=105)\nDTree=DecisionTreeRegressor(min_samples_leaf=.0001)\nDTree.fit(x_train,y_train)\ny_predict=DTree.predict(x_test)\nfrom sklearn.metrics import r2_score\nr2_score(y_test,y_predict)","7e2b7859":"Let's Encode the variables \"neighbourhood_group\" and \"room_type\" so that they can also be analyzed using Machine Learning.","3a42bb78":"## Import Python Modules\n\nFirst import the modules being used for this project:","cff597c7":"# Introduction\n\nThis project analyzes data from a dataset extracted from Kaggle known as the New York City Airbnb Open Data. In recent years, the number of people putting up their properties for rent has been growing significantly. Many apps have come up that facilitate the rental of properties and use sophisticated data science and machine learning techniques to recommend a rental price where the lessor will earn the most and the maximum number of rentals will take place. These apps give us access to a wealth of information that we've never had before about how much people are charging and how much people are willing to pay on the basis of features of the property.\n\nThe goal of this project is to scope, prep, analyze, and try out all the different machine learning models that exist to find the one that will give the lowest root-mean-squared error (RMSE).\n\n\n**Data sources:**\n\n`AB_NYC_2019.csv` was provided by insideairbnb.com via Kaggle.","e27e7d17":"We will be filling empty columns with a value and dropping columns are not useful to us or can cause ethical concerns. We will also be dropping duplicates in order to not skew our data in the favor of these duplicates. ","70f1ec9b":"### Machine Learning Analysis \n\nLets start with a Regression Analysis. We will first initially drop few columns that are not easy to encode for our analysis. ","be2a1127":"#### Summary Statistics\nThe `dtypes` function is used to check out the dataset more carefully.","8faef084":"Let's find out the Correlation between the different variables in order to understand it better.","d3d6613e":"## Loading the Data\n\nTo analyze the listings from AirBnB, pandas will be used to load the dataset into a 'DataFrame' so that it can be explored and visualized with Python.\n\nHere `AB_NYC_2019.csv` is loaded into a `DataFrame` called `dataset`. The `DataFrame` is then briefly examined using `.head()` to check the contents","a28c3c19":"#### Data Characteristics\n\n`AB_NYC_2019.csv` has 48,895 rows and 16 columns, this is a good sign since there seems to be enough data for machine learning.\n\nThe columns in the dataset include:\n\n- **id** ID associated with a property\n- **name** Description of the property as provided by the host\n- **host_id** ID associated with a host\n- **host_name** Name of the host\n- **neighbourhood_group** Name of the neighbourhood group\n- **neighbourhood** Name of the neighbourhood\n- **latitude** Location Latitude of the property\n- **longitude** Location Longitude of the property\n- **room_type** Type of Room\n- **price** Price of the Room\n- **minimum_nights** Minimum number of nights the room is available for booking\n- **number_of_reviews** Number of reviews the property has received from past guests\n- **last_review** Date of Last Review\n- **reviews_per_month** Average Number of reviews received per month\n- **calculated_host_listings_count** Total number of properties available for Rent from this host\n- **availability_365** Number of Days out of the last 365 days that the property has been available for rent","a6e8ae2b":"## Scoping\n\nIt's beneficial to create a project scope whenever a new project is being started. Below are four sections to help guide the project process and progress. The first section is the project goals, a section to define the high-level objectives and set the intentions for this project. The next section is the data, luckily in this project, data is already provided but still needs to be checked if project goals can be met with the available data. Thirdly, the analysis will have to be thought through, which include the methods and aligning the question(s) with the project goals. Lastly, evaluation will help build conclusions and findings from the analysis.\n\n### Project Goals\n\nIn this project, the goal is to utilize the skills learned through Codecademy and apply machine learning techniques to a data set. The primary research question that will be answered is whether an OkCupid's user astrological sign can be predicted using other variables from their profiles. This project is important since many users find astrological signs an important part of matches, and if users don't input their sign, OkCupid would like to predict which sign they might be. \n\n\n### Data\n\nThe project has one data set provided by Codecademy called `AB_NYC_2019.csv`. In the data, each row represents an OkCupid user and the columns are the responses to their user profiles which include multi-choice and short answer questions.\n\n### Analysis\n\nThis solution will use descriptive statistics and data visualization to find key figures in understanding the distribution, count, and relationship between variables. Since the goal of the project to make predictions on the user's astrological signs, classification algorithms from the supervised learning family of machine learning models will be implemented. \n\n### Evaluation\n\nThe project will conclude with the evaluation of the machine learning model selected with a validation data set. The output of the predictions can be checked through a confusion matrix, and metrics such as accuracy, precision, recall, F1 and Kappa scores. "}}