{"cell_type":{"457d04b8":"code","43d34c64":"code","1ffe827d":"code","1cead7fd":"code","9c013d14":"code","659022e3":"code","12d8cade":"code","fda181ef":"code","d1996050":"code","3fc20b77":"code","06a4c45b":"code","5c423b5f":"code","618d512c":"code","d9b83d81":"code","793b3ed8":"code","320a4f41":"code","1636a1fb":"code","600ad01b":"code","22c720a0":"code","573955f0":"code","3a7d5e94":"code","bb6c41b4":"code","cfbd6659":"code","94c02eb6":"code","bae589b5":"markdown","729746c1":"markdown","1510ec48":"markdown","b0addf05":"markdown","123cc85b":"markdown","4ad37b78":"markdown","fe93cbc6":"markdown","a84b6957":"markdown","3bda49f1":"markdown","52335887":"markdown","2965caf9":"markdown","049325a1":"markdown","26ca371f":"markdown","5b5a0c9b":"markdown","e19c5fe9":"markdown","0fea0788":"markdown","de3a631e":"markdown","9ff8049a":"markdown","4b6c99cd":"markdown","eb34e965":"markdown"},"source":{"457d04b8":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn import metrics\nfrom sklearn.cluster import KMeans\nfrom sklearn.preprocessing import StandardScaler\nimport scipy.cluster.hierarchy as hcluster\nfrom sklearn.cluster import AgglomerativeClustering\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","43d34c64":"from pathlib import Path\n\ninput_path = Path('\/kaggle\/input\/widsdatathon2021\/')","1ffe827d":"TARGET_COL = \"diabetes_mellitus\"\n\ndf = pd.read_csv(input_path \/ 'TrainingWiDS2021.csv')\ndisplay(df.head())","1cead7fd":"test = pd.read_csv(input_path \/ 'UnlabeledWiDS2021.csv')\ndisplay(test.head())","9c013d14":"submission = pd.read_csv(input_path \/ 'SampleSubmissionWiDS2021.csv')\ndisplay(submission.head())","659022e3":"#drop country column\ndata=df.drop(['ethnicity'],axis=1)","12d8cade":"from sklearn.preprocessing import LabelEncoder\n\n#fill in mean for floats\nfor c in data.columns:\n    if data[c].dtype=='float16' or  data[c].dtype=='float32' or  data[c].dtype=='float64':\n        data[c].fillna(data[c].mean())\n\n#fill in -999 for categoricals\ndata = data.fillna(-999)\n# Label Encoding\nfor f in data.columns:\n    if data[f].dtype=='object': \n        lbl = LabelEncoder()\n        lbl.fit(list(data[f].values))\n        data[f] = lbl.transform(list(data[f].values))\n        \nprint('Labelling done.')","fda181ef":"data = pd.get_dummies(data)","d1996050":"data.head()","3fc20b77":"#scaling data\nscaling=StandardScaler()\nscaled=scaling.fit_transform(data)","06a4c45b":"scaled_df=pd.DataFrame(scaled,columns=data.columns)\n\n# princt scaled dataset\nscaled_df.head()","5c423b5f":"# plot elbow curve\n\na=[]\nK=range(1,10)\nfor i in K:\n    kmean=KMeans(n_clusters=i)\n    kmean.fit(data)\n    a.append(kmean.inertia_)\n    \nplt.plot(K,a,marker='o')\nplt.title('Elbow Method',fontsize=15)\nplt.xlabel('Number of clusters',fontsize=15)\nplt.ylabel('Sum of Squared distance',fontsize=15)\nplt.show()","618d512c":"#chosing no. of clusters as 4 and refitting kmeans model\nkmeans = KMeans(n_clusters = 4,random_state = 111)\nkmeans.fit(scaled_df)","d9b83d81":"#count number of records in every cluster\npd.Series(kmeans.labels_).value_counts()","793b3ed8":"#calculate how good our model is\n#calculate Silhouette Coefficient for K=4\n\nmetrics.silhouette_score(scaled_df, kmeans.labels_)","320a4f41":"#predicting values\ncluster_labels = kmeans.fit_predict(scaled_df)","1636a1fb":"preds = kmeans.labels_\nkmeans_df = pd.DataFrame(df)\nkmeans_df['KMeans_Clusters'] = preds\nkmeans_df.head(10)","600ad01b":"#save a kmeans file\nkmeans_df.to_csv('kmeans_result.csv',index=False)","22c720a0":"#visualization of clusters Diabetes Mellitus vs BMI\nsns.scatterplot(kmeans_df['bmi'],kmeans_df['diabetes_mellitus'],hue='KMeans_Clusters',data=kmeans_df) \nplt.title(\"Hazard ratios of type 2 diabetes mellitus\", fontsize=15)\nplt.xlabel(\"BMI\", fontsize=12)\nplt.ylabel(\"Diabetes Mellitus\", fontsize=12)\nplt.show()","573955f0":"#visualization of clusters Age vs Diabetes\nsns.scatterplot(kmeans_df['age'],kmeans_df['diabetes_mellitus'],hue='KMeans_Clusters',data=kmeans_df) \nplt.title(\"Relation Diabetes vs Age\", fontsize=15)\nplt.xlabel(\"Age\", fontsize=12)\nplt.ylabel(\"Diabetes Mellitus\", fontsize=12)\nplt.show()","3a7d5e94":"#visualization of clusters Age vs Diabetes\nsns.scatterplot(kmeans_df['encounter_id'],kmeans_df['diabetes_mellitus'],hue='KMeans_Clusters',data=kmeans_df) \nplt.title(\"Diabetes vs Encounter ID\", fontsize=15)\nplt.xlabel(\"Encounter ID\", fontsize=12)\nplt.ylabel(\"Diabetes Mellitus\", fontsize=12)\nplt.show()","bb6c41b4":"#Find number of Underweight,Normal weight, Overweight and Obese Patients\nunderweight=kmeans_df[kmeans_df['KMeans_Clusters']==0]['ethnicity']\nnormal_weight=kmeans_df[kmeans_df['KMeans_Clusters']==1]['ethnicity']\noverweight=kmeans_df[kmeans_df['KMeans_Clusters']==2]['ethnicity']\nobese=kmeans_df[kmeans_df['KMeans_Clusters']==3]['ethnicity']\n\nprint(\"Number of underweight patients\",len(underweight))\nprint(\"Number of normal weight patients \",len(normal_weight))\nprint(\"Number of overweight patients \",len(overweight))\nprint(\"Number of obese patients\",len(obese))","cfbd6659":"#list of Obese Patients by ethnicity\nlist(obese)","94c02eb6":"for i in obese:\n    if i == 'Native American':\n        print('Yes', i , 'is present in obese patients list')","bae589b5":"Scaling data is necessary just for the algorithms which is based on the distance like K-means clustering and Hierarchical clustering","729746c1":"![](https:\/\/www.munichre.com\/content\/dam\/assets\/munichre\/images\/canada-life\/risk-for-developing-diabetes-graph.jpg\/_jcr_content\/renditions\/original.image_file.640.549.file\/risk-for-developing-diabetes-graph.jpg)munichre.com","1510ec48":"<div class=\"alert alert-block alert-success\">\n    Diabetes can cause difficulties during pregnancy such as a miscarriage or a baby born with birth defects. Women with diabetes are also more likely to have a heart attack, and at a younger age, than women without diabetes.\n    www.diabetes.org\n<\/div>","b0addf05":"<div class=\"alert alert-block alert-success\">\n    Who shouldn't use a BMI calculator\n\nBMI is not used for muscle builders, long distance athletes, pregnant women, the elderly or young children. This is because BMI does not take into account whether the weight is carried as muscle or fat, just the number. Those with a higher muscle mass, such as athletes, may have a high BMI but not be at greater health risk. Those with a lower muscle mass, such as children who have not completed their growth or the elderly who may be losing some muscle mass may have a lower BMI. During pregnancy and lactation, a woman's body composition changes, so using BMI is not appropriate.\nhttps:\/\/www.diabetes.ca\/managing-my-diabetes\/tools---resources\/body-mass-index-(bmi)-calculator\n\n<\/div>","123cc85b":"#K-Means Clustering\n\nK-means Clustering is the most popular unsupervised machine learning algorithm.It is a centroid-based or distance-based algorithm.\n\nTo decide how many number of clusters consider we are going to use a most popular elbow method","4ad37b78":"### <b><mark style=\"background-color: #9B59B6\"><font color=\"white\">Eating Disorders<\/font><\/mark><\/b>\n\n\n\n\n<div class=\"alert alert-block alert-success\">\n    Eating disorders are common among women and girls in the general population. Research suggests that eating disorders are probably more common among women with diabetes than women who do not have diabetes.\n    \nHowever, those with type 1 are twice as likely to suffer from disordered eating patterns. There is no data on eating disorders in men and boys with type 1 diabetes. However, disordered eating does occur among men and boys in the general population, so don\u2019t ignore the warning signs.\n    \n   BULIMIA is the most common eating disorder in women with type 1 diabetes. Among women with type 2 diabetes, binge eating is more common.   \n    \nEating disorders are illnesses with a biological basis modified and influenced by emotional and cultural factors. While eating disorders are serious, potentially life-threatening illnesses, there is help available and recovery is possible.    \n    www.diabetes.org\n<\/div>","fe93cbc6":"The Hierarchical Clustering snippets have allocated too much memory. The second part of this Kaggle  Notebook would be able only in Google Cloud. \n\n![](https:\/\/encrypted-tbn0.gstatic.com\/images?q=tbn:ANd9GcRZH9mi1ws0Lt1nz357lWkhN6VytreX-Ekz8Q&usqp=CAU)margo-group.com","a84b6957":"### <b><mark style=\"background-color: #9B59B6\"><font color=\"white\">Where Diabetes Meets Depression<\/font><\/mark><\/b>\n\nThe rate of depression in people with diabetes is much higher than in the general population. Women experience depression about twice as often as men, and the risk of depression increases in women with diabetes.\n\nMany hormonal factors may contribute to the increased rate of depression in women: menstrual cycle changes, Pregnancy, Miscarriage, Postpartum period, Pre-menopause, Menopause.\n\nMany women also face additional stresses, such as responsibilities both at work and home, single parenthood and caring for children and for aging parents.\n\nPrevious studies have shown individuals who are insulin-resistant may have higher serotonin concentrations and may be more prone to depression and even suicide. Furthermore, women with diabetes may be more likely to suffer depression because of the clinical diagnosis.\nwww.diabetes.org","3bda49f1":"#Codes by  Diksha Bhati https:\/\/www.kaggle.com\/dikshabhati2002\/k-means-and-hierarchical-clustering\/notebook","52335887":"#Visualization of clusters","2965caf9":"The elbow or a knee like bend is at 4. Choosing 4 as a number of clusters??","049325a1":"<font color=\"#EC7063\">Eating Disorders and Pregnancy<\/font>\n\nWomen with eating disorders have higher rates of miscarriage than do healthy, normal women. Also, babies might be born prematurely, meaning that they would not weigh as much or be as well-developed as babies who are born full term.\n\nWomen with ANOREXIA nervosa are underweight and may not gain enough weight during pregnancy. They risk having a baby with abnormally low birth weight and related health problems.\n\nWomen with BULIMIA nervosa who continue to purge may suffer dehydration, chemical imbalances or even cardiac irregularities. Pregnancy heightens these health risks.\n\nWomen who are overweight due to BINGE EATING are at greater risk of developing high blood pressure, gestational diabetes and overgrown babies. Low birth weight babies are at risk of many medical problems, some of them life-threatening.\nwww.diabetes.org","26ca371f":"<div class=\"alert alert-block alert-success\">\n    Any increase in BMI above normal weight levels is associated with an increased risk of being diagnosed as having complications of diabetes mellitus. For men, the increased risk of these complications occurred at higher BMI levels than in women. Ocular complications occurred at higher BMI levels than other complication types in both men and women.\nhttps:\/\/pubmed.ncbi.nlm.nih.gov\/25580754\/\n\n<\/div>","5b5a0c9b":"#Silhouette Coefficient","e19c5fe9":"<div class=\"alert alert-block alert-success\">\n    Not only is diabetes different for women, it\u2019s different among women\u2014African American, Hispanic\/Latina, American Indian\/Alaska Native, and Asian\/Pacific Islander women are more likely to have diabetes than white women.\nwww.cdc.gov\/diabetes \n\n<\/div>","0fea0788":"<font color=\"#EC7063\">DIABULIMIA<\/font>\n\nUnexplained weight loss is a symptom of diabetes that often alerts a person that something is wrong. This, along with other symptoms such as excessive thirst and frequent urination often lead to a diagnosis of diabetes. Treatment for type 1 diabetes is insulin. \u201cDiabulimia\u201d is an eating disorder characterized by INTENTIONALLY WITHHOLDING INSULIN to result in weight loss.\n\nThe insulin restriction results in high levels of glucose in the blood that spill over into the urine, leading to the excretion of the calories from glucose. The repercussions can be severe, including dehydration, loss of lean body tissue, and, in extreme cases, DIABETIC KETOACIDOSIS.\n\nDIABULIMIA is shockingly common; as many as a third of women with type 1 diabetes report insulin restriction, with higher levels among those between the ages of 15 and 30.\nwww.diabetes.org","de3a631e":"<font color=\"#EC7063\">Eating disorders Signs<\/font>\n\nRepeated episodes of diabetic ketoacidosis,Extreme concerns of body size\/shape,Excessive exercise and related hypoglycemia, Very low-calorie meals, An absence of menstruation, Unexplained increase in A1C levels.www.diabetes.org\n\n<font color=\"#EC7063\">A1C level<\/font>\n\nThe hemoglobin A1C or HbA1c\n\nA normal A1C level is below 5.7%, a level of 5.7% to 6.4% indicates prediabetes, and a level of 6.5% or more indicates diabetes. Within the 5.7% to 6.4% prediabetes range, the higher your A1C, the greater your risk is for developing type 2 diabetes. www.cdc.gov","9ff8049a":"#Prediction","4b6c99cd":"<a id=\"1.1\"><\/a>\n<h3 style=\"background-color:skyblue;font-family:newtimeroman;font-size:200%;text-align:center\">Diabetes and Women<\/h3>\n\nWomen with diabetes have more to manage. Stay on track by checking your blood sugar often, eating healthy food, and being active so you can be your healthiest and feel your best.\n\nHow is diabetes different for women than it is for men? Diabetes increases the risk of heart disease (the most common diabetes complication) by about four times in women but only about two times in men, and women have worse outcomes after a heart attack. Women are also at higher risk of other diabetes-related complications such as blindness, kidney disease, and depression.\n\nHow you manage diabetes may need to change over time depending on what\u2019s happening in your life. Here\u2019s what to expect and what you can do to stay on track.\n\nhttps:\/\/www.cdc.gov\/diabetes\/library\/features\/diabetes-and-women.html#:~:text=Diabetes%20increases%20the%20risk%20of,%2C%20kidney%20disease%2C%20and%20depression.","eb34e965":"<div class=\"alert alert-block alert-success\">\n    Researchers theorize that inflammation may also dampen desire. Sexual desire is a brain-driven event, so if inflammatory molecules cross the blood-brain barrier and circulate in the area where there is sexual desire, then it's plausible the desire for sex may be affected. Another possible culprit: low testosterone, which often affects men and women with diabetes.\n    www.diabetes.org\n<\/div>"}}