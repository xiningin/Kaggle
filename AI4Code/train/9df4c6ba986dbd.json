{"cell_type":{"222db724":"code","3363e865":"code","2c822793":"code","da7f9133":"code","fea8e40f":"code","359efd74":"code","4254d107":"code","8fcc9dad":"code","92d3f2b5":"code","7869c553":"code","f3c5b76a":"code","922f95cd":"code","16d93145":"code","f99731a7":"code","9d5c5728":"code","e50e35f4":"code","999eb3cf":"code","01474322":"code","3f36c943":"code","881576c4":"code","999f0c65":"code","83fb9cc4":"code","b1f4f36d":"code","032ab174":"code","e03165f2":"code","ad096135":"code","854f585a":"code","3d5b010f":"code","f0698b37":"code","f51d3a70":"code","c0c0130d":"code","56fd6904":"code","397cbeb0":"code","dc504c19":"code","48daf493":"code","43685d57":"code","604f27e1":"code","06fa3ad1":"code","e30c3c14":"code","0fc90836":"code","e7997c54":"code","5b4aa43f":"code","9d7bb5c9":"code","11423e55":"code","80227267":"code","3d31c5e9":"code","2c6b0da9":"code","0f8c5a47":"markdown","43bfb285":"markdown","ef9a1470":"markdown","7696207c":"markdown","a9d2a961":"markdown","116104b1":"markdown","ee6b8935":"markdown","cfbb22bf":"markdown","7a0190ab":"markdown","83562a63":"markdown","d70311f0":"markdown","d08f9dfa":"markdown","96fb257e":"markdown","5558376e":"markdown","74813302":"markdown","cf995ed2":"markdown","bcbaad8c":"markdown","aad735a5":"markdown","bc1525b5":"markdown","a38ef47d":"markdown","509f6711":"markdown","27252d5d":"markdown"},"source":{"222db724":"import pandas as pd\nimport numpy as np\nfrom csv import reader","3363e865":"autos = pd.read_csv(\"\/kaggle\/input\/ebay-kleinanzeigen-car\/autos.csv\", encoding = \"Latin-1\")","2c822793":"autos.info()","da7f9133":"autos.head()","fea8e40f":"colNames = [x for x in autos.columns]\ncolNames","359efd74":"colNames[0] = \"date_crawled\"\ncolNames[3] = \"offer_type\"\ncolNames[6] = \"vehicle_type\"\ncolNames[7] = \"registration_year\"\ncolNames[9] = \"power_ps\"\ncolNames[12] = \"registration_month\"\ncolNames[13] = \"fuel_type\"\ncolNames[15] = \"unrepaired_damage\"\ncolNames[16] = \"ad_created\"\ncolNames[17] = \"nr_of_pictures\"\ncolNames[18] = \"postal_code\"\ncolNames[19] = \"last_seen\"\n\n\ncolNames","4254d107":"autos.columns = colNames","8fcc9dad":"autos.head()","92d3f2b5":"autos = autos.drop(columns=['seller','offer_type','nr_of_pictures'])","7869c553":"autos.describe().round(2)","f3c5b76a":"autos.describe(include='all')","922f95cd":"autos[\"price\"].value_counts().head(10)","16d93145":"autos[\"odometer\"].value_counts().head(10)","f99731a7":"autos[\"price\"] = autos[\"price\"].str.replace(\"$\",\"\")\nautos[\"price\"] = autos[\"price\"].str.replace(\",\",\"\")\nautos[\"odometer\"] = autos[\"odometer\"].str.replace(\"km\",\"\")\nautos[\"odometer\"] = autos[\"odometer\"].str.replace(\",\",\"\")","9d5c5728":"autos[\"price\"] = autos[\"price\"].astype('int32')\nautos[\"odometer\"] = autos[\"odometer\"].astype('int32')","e50e35f4":"autos.rename({\"price\":\"price_dollars\"},inplace = True, axis = 1)\nautos.rename({\"odometer\":\"odometer_km\"},inplace = True, axis = 1)","999eb3cf":"autos[\"price_dollars\"].unique().shape","01474322":"autos[\"price_dollars\"].describe().round(1)","3f36c943":"autos[\"price_dollars\"].value_counts().sort_index(ascending = False).head(10)","881576c4":"autos = autos[autos[\"price_dollars\"]!=99999999]","999f0c65":"autos[\"price_dollars\"].describe().round(1)","83fb9cc4":"autos[\"odometer_km\"].unique().shape","b1f4f36d":"autos[\"odometer_km\"].describe().round(1)","032ab174":"autos[\"odometer_km\"].value_counts().sort_index(ascending = False).head(10)","e03165f2":"autos[\"registration_year\"].describe().round(1)","ad096135":"autos[\"registration_year\"].unique()","854f585a":"autos = autos[autos[\"registration_year\"].between(1900,2021)]","3d5b010f":"autos[\"registration_year\"].unique()","f0698b37":"autos[\"registration_year\"].describe().round()","f51d3a70":"autos.describe(include = 'all')","c0c0130d":"autos[\"date_crawled\"].str[:10].value_counts(normalize=True, dropna=False).sort_index(ascending = False)","56fd6904":"autos[\"ad_created\"].str[:10].value_counts(normalize=True, dropna=False).sort_index(ascending = False)","397cbeb0":"autos[\"last_seen\"].str[:10].value_counts(normalize=True, dropna=False).sort_index(ascending = False)","dc504c19":"top_autos = [x for x in autos[\"brand\"].value_counts(normalize = True).sort_values(ascending = False).head(10).index]","48daf493":"top_autos","43685d57":"brand_aggregate_price = {}\nfor c in top_autos:\n    subset_mean = autos.loc[autos.loc[:,\"brand\"]==c,\"price_dollars\"].mean()\n    brand_aggregate_price[c] = int(subset_mean)\n    \n    ","604f27e1":"brand_aggregate_mileage = {}\nfor c in top_autos:\n    subset_mean = autos.loc[autos.loc[:,\"brand\"]==c,\"odometer_km\"].mean()\n    brand_aggregate_mileage[c] = int(subset_mean)\n    \n    ","06fa3ad1":"brand_aggregate_price","e30c3c14":"price_aggr = pd.Series(brand_aggregate_price)\nmileage_aggr = pd.Series(brand_aggregate_mileage)","0fc90836":"df = pd.DataFrame(price_aggr,columns=['mean_price'])","e7997c54":"df","5b4aa43f":"df['mean_mileage'] = mileage_aggr","9d7bb5c9":"df.sort_values(by = \"mean_price\")","11423e55":"autos.describe()","80227267":"print(autos['vehicle_type'].unique())\nprint(autos['gearbox'].unique())\nprint(autos['fuel_type'].unique())\nprint(autos['unrepaired_damage'].unique())","3d31c5e9":"corrections = {\n    'bus':'bus',\n    'limousine':'limousine',\n    'kleinwagen':'supermini',\n    'kombi':'station_wagon',\n    'coupe':'coupe',\n    'suv':'suv',\n    'cabrio':'cabrio',\n    'andere' :'other',\n    'manuell':'manual',\n    'automatik':'automatic',\n    'lpg':'lpg',\n    'benzin':'petrol',\n    'diesel':'diesel',\n    'cng':'cng',\n    'hybrid':'hybrid',\n    'elektro':'electro',\n    'nein':'no',\n    'ja':'yes'\n}\nfor each in ['vehicle_type','gearbox','fuel_type','unrepaired_damage']:\n    autos[each] = autos[each].map(corrections)","2c6b0da9":"print(autos['vehicle_type'].unique())\nprint(autos['gearbox'].unique())\nprint(autos['fuel_type'].unique())\nprint(autos['unrepaired_damage'].unique())","0f8c5a47":"### Date field analysis","43bfb285":"### Changing datatypes","ef9a1470":"* registration year","7696207c":"All values within usual ranges","a9d2a961":"The price 99999999 can be considered as an outlier in the data, we remove it","116104b1":"Inferences:\n* From initial assessment it is clear that the number of pictures column can be dropped since it is made up of just a single value '0' \n* The postal codes are all in decimal value \n* The data comprises of germen terminologies\n* The price and odometer columns are numeric type","ee6b8935":"Removing unnecessary fields ","cfbb22bf":"Creating a correction dictionary","7a0190ab":"Right now, the date_crawled, last_seen, and ad_created columns are all identified as string values by pandas. Because these three columns are represented as strings, we need to convert the data into a numerical representation so we can understand it quantitatively. ","83562a63":"### Cleaning up header names\nFor better interpretability of the various column names we change the names and also format them to python's default snakecase from camelCase.","d70311f0":"Almost all of these vehicles have similar mileage but price varies considerably ","d08f9dfa":"Results: ","96fb257e":"The following columns have german words in their fields:\n* vehicle_type\n* gearbox\n* fuel_type\n* unrepaired_damage","5558376e":"Selecting the top 10 autos brands","74813302":"We see many outliers year > 2020 and also years <1900 which we filter out","cf995ed2":"### Assessment","bcbaad8c":"### Data language normalization","aad735a5":"### Removing outliers\n* price outliers","bc1525b5":"* odometer outliers","a38ef47d":"## Exploratory Analysis","509f6711":"## Loading Data and Libraries","27252d5d":"# Exploring Ebay Car Sales Data\n\nWe are exloring the used cars data on ebay as monitored by web crawler with detailed report on each Ad as specified below:  \n\nData | Description\n--- | ---\ndateCrawled | Time when Ad was first crawled\nname | Name of car\nseller | seller type (private or dealer)\nofferType | The type of listing\nprice | Selling price of car\nabtest | A\/B test inclusion\nvehicleType | Vehicle Type\nyearOfRegistration | Year car was first registered.\ngearbox | Transmission type\npowerPS | Powerin PS\nmodel | Car model \nkilometer | Kilometers driven\nmonthOfRegistration | Month car was first registered\nfuelType | Fuel type\nbrand | Brand\nnotRepairedDamage | Damages\ndateCreated | eBay listing creation date\nnrOfPictures | Pictures in Ad\npostalCode | Postal Code of Location of the vehicle.\nlastSeenOnline | Time crawler last saw this ad online"}}