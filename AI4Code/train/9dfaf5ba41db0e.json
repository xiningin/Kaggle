{"cell_type":{"01956ba7":"code","58eae1fd":"code","b8838145":"code","b0dbc0a2":"code","1265dfd5":"code","f3c75449":"code","76e1d8fd":"code","7eee9479":"code","46ad9aa9":"code","2b2e9bbf":"code","d163193e":"code","a66a05dd":"code","abdac314":"code","05be823e":"code","38e201aa":"code","60d0a288":"code","ffd44fb2":"code","0d05b23b":"code","2f275774":"code","e4d67590":"code","06346731":"code","69e87a67":"code","7e33d217":"code","0c9ef3fb":"code","de7a634f":"code","193c7e2e":"code","08de743b":"code","fb2e8f04":"code","2172698c":"code","23441b96":"code","31969d60":"code","6508d552":"code","242e57ce":"code","28aa6c8a":"markdown","12564ef0":"markdown","5c1d3b0d":"markdown","dddd6da5":"markdown","49ca599e":"markdown","2772027c":"markdown","5c624290":"markdown","6c454d3e":"markdown","6563b06c":"markdown","9f4515e6":"markdown","040c8bc7":"markdown","c59bb54a":"markdown","730bfe7c":"markdown","46c72147":"markdown","ba4b2931":"markdown","dc0d1857":"markdown","c4b95415":"markdown","ec46efd7":"markdown"},"source":{"01956ba7":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","58eae1fd":"import warnings; \nwarnings.simplefilter('ignore')\n\nfrom sklearn import preprocessing\nfrom sklearn.feature_extraction.text import CountVectorizer, TfidfVectorizer\nfrom sklearn.model_selection import train_test_split, KFold\n\nimport matplotlib\nfrom matplotlib import pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n%config InlineBackend.figure_format = 'retina'","b8838145":"df_review = pd.read_csv(\"..\/input\/employee-reviews\/employee_reviews.csv\", sep=',', error_bad_lines=False)","b0dbc0a2":"df_review.replace(to_replace = 'none', value = np.nan, inplace = True)","1265dfd5":"df_review.rename(columns = {'dates':'date'}, inplace = True)","f3c75449":"df_copy = df_review.copy()","76e1d8fd":"df = df_copy.dropna()","7eee9479":"df.head(1)","46ad9aa9":"df.info()","2b2e9bbf":"df['date'] = df['date'].astype(dtype=np.datetime64, inplace=True)","d163193e":"df['overallratings'] = df['overall-ratings'].astype(dtype=np.float64)\ndf['work-balance-stars'] = df['work-balance-stars'].astype(dtype=np.float64)\ndf['culture-values-stars'] = df['culture-values-stars'].astype(dtype=np.float64)\ndf['carrer-opportunities-stars'] = df['carrer-opportunities-stars'].astype(dtype=np.float64)\ndf['comp-benefit-stars'] = df['comp-benefit-stars'].astype(dtype=np.float64)\ndf['senior-mangemnet-stars'] = df['senior-mangemnet-stars'].astype(dtype=np.float64)","a66a05dd":"df['is_current_employee'] = df['job-title'].apply(lambda x: 1 if 'Current' in x else 0)\ndf['is_high_Overall'] = df['overall-ratings'].apply(lambda x: 1 if x>3 else 0)\ndf['is_high_worbalance']= df['work-balance-stars'].apply(lambda x: 1 if x >3 else 0)\ndf['is_high_culturevalue']= df['culture-values-stars'].apply(lambda x: 1 if x >3 else 0)\ndf['is_high_careeropp']= df['carrer-opportunities-stars'].apply(lambda x: 1 if x >3 else 0)\ndf['is_high_compbenefit']= df['comp-benefit-stars'].apply(lambda x: 1 if x >3 else 0)\ndf['is_high_srmngmt']= df['senior-mangemnet-stars'].apply(lambda x: 1 if x >3 else 0)","abdac314":"sns.factorplot(x = 'overall-ratings', y = 'company',hue= 'is_current_employee', data = df, kind ='box', \\\n               aspect =2)","05be823e":"sns.factorplot(x = 'work-balance-stars', y = 'company',hue= 'is_current_employee', data = df, kind ='box', \\\n               aspect =2)","38e201aa":"sns.factorplot(x = 'culture-values-stars', y = 'company', hue= 'is_current_employee', data = df, kind ='box', \\\n               aspect =2)","60d0a288":"sns.factorplot(x = 'carrer-opportunities-stars', y = 'company', hue= 'is_current_employee', data = df, kind ='box', \\\n               aspect =2)","ffd44fb2":"sns.factorplot(x = 'comp-benefit-stars', y = 'company', hue= 'is_current_employee', data = df, kind ='box', \\\n               aspect =2)","0d05b23b":"sns.factorplot(x = 'senior-mangemnet-stars', y = 'company', hue= 'is_current_employee', data = df, kind ='box', \\\n               aspect =2)","2f275774":"import re\n# Natural Language Tool Kit \nimport nltk  \nnltk.download('stopwords') \n# nltk.download('averaged_perceptron_tagger')\nnltk.download('wordnet')\nnltk.download('punkt')\n# to remove stopword \nfrom nltk.corpus import stopwords \n\n# for Stemming propose  \nfrom nltk.stem.porter import PorterStemmer \nfrom nltk.stem.snowball import SnowballStemmer\nfrom nltk import pos_tag\nfrom nltk.stem import WordNetLemmatizer\nfrom nltk.corpus import wordnet","e4d67590":"df_review[\"review\"] = df_review[\"pros\"] + ' ' + df_review[\"cons\"] + ' ' + df_review[\"advice-to-mgmt\"]","06346731":"df_review.dropna(how='any',subset=['review'],inplace = True)","69e87a67":"sw = stopwords.words('english')\ndef clean(text):\n    \n    text = re.sub('[^a-zA-Z]', ' ', text)\n    text = text.lower()\n    text = text.split()\n    text = [t for t in text if len(t) > 0]\n    text = [t for t in text if t not in sw]\n    text = ' '.join(text)\n    return text","7e33d217":"def get_wordnet_pos(pos_tag):\n    if pos_tag.startswith('J'):\n        return wordnet.ADJ\n    elif pos_tag.startswith('V'):\n        return wordnet.VERB\n    elif pos_tag.startswith('N'):\n        return wordnet.NOUN\n    elif pos_tag.startswith('R'):\n        return wordnet.ADV\n    else:\n        return wordnet.NOUN","0c9ef3fb":"# ps = PorterStemmer()\nsw = stopwords.words('english')\nlemmatizer = WordNetLemmatizer()\ndef lemmatize(text):\n    text = nltk.word_tokenize(text)\n    pos_tags = pos_tag(text)\n    #     text = [ps.stem(word) for word in text if not word in set(sw)]\n    text = [lemmatizer.lemmatize(t[0], get_wordnet_pos(t[1])) for t in pos_tags]\n    text = ' '.join(text)\n    return text","de7a634f":"clean(df_review.iloc[0].review)","193c7e2e":"lemmatize(df_review.iloc[0].review)","08de743b":"df_review['review_clean'] = df_review['review'].apply(lambda x: clean(x))","fb2e8f04":"df_review['review_lemmatize'] = df_review['review_clean'].apply(lambda x: lemmatize(x))","2172698c":"df_review.info()","23441b96":"from wordcloud import WordCloud, STOPWORDS","31969d60":"stopwords = set(STOPWORDS)\nextras = [\"great\",\"team\",\"work\",\"company\",\"place\",\"good\",\"people\",\"employee\",\"none\",\"make\",\"one\",\"go\",\\\n         \"day\",\"call\",\"new\",\"come\",\"think\",\"happen\",\"within\",\"look\",\"store\",\"retail\",\"feel\",\\\n         \"life\",\"sometime\",\"environment\",\"move\",\"keep\",\"still\",\"review\",\"group\",\"year\",\"role\",\\\n         \"want\",\"try\",\"office\",\"create\",\"look\",\"even\",\"level\",\"many\",\"thing\",\"much\",\"even\",\\\n         \"hour\",\"year\",\"always\",\"every\",\"things\",\"project\",\"product\",\"need\",\"time\",\"give\",\\\n          \"take\",\"never\"]\nstopwords.update(extras)\ncompanies = list(df_review.company.unique())\nfor company in companies:\n    stopwords.add(company)","6508d552":"def wordclouds(df_review,companies):\n    for company in companies:\n        temp = df_review.loc[df_review[\"company\"]==company]\n        text = \" \".join(str(review) for review in temp.review_clean)\n        # Create and generate a word cloud image:\n        wordcloud = WordCloud(stopwords = stopwords, collocations = False).generate(text)\n        # Display the generated image:\n        plt.imshow(wordcloud, interpolation='bilinear')\n        plt.axis(\"off\")\n        plt.title(company.upper())\n        plt.show()","242e57ce":"wordclouds(df_review,companies)","28aa6c8a":"#### Conclusion: The graph shows that the work life balance at Google is the best and at Amazon is the worst so those candidates who are looking out for jobs and prefer good work life balance, should consider other options apart from Amazon","12564ef0":"#### Conclusion: The graph shows that the senior management is the best at Facebook and worst at Amazon followed by Netflix.","5c1d3b0d":"###### Defining method to lemmatize text","dddd6da5":"##### Conclusion: \nThe word cloud shows the most used words by the employees per company. As can be seen from the graphs above, Google & Facebook have received the best overall ratings and when dug deep to know what other factors apart from work-life balance, culture & values, compensation benefits, senior management and career opportunities have been spoken about by the employees, it was found that 'food' is also one of the most popular words used by the employees of these two companies. So, food can also have an impact on the ratings. ","49ca599e":"#### Importing Wordcloud package to draw wordcloud","2772027c":"#### Conclusion: The graph shows that the cultural values are the best at Google and Facebook and worst at Amazon and Netflix so those candidates who are looking out for jobs and prefer good cultural values at workplace, should consider other options apart from Amazon & Netflix","5c624290":"###### Defining method to remove non alpha words, changing it to lowercase and removing stopwords","6c454d3e":"## Data Cleaning","6563b06c":"###### Cleaning and lemmatizing review column of dataframe ","9f4515e6":"## Apart from worklife balance, culture values of organization, career opportunities, senior management, compensation benefits, what is it that the employees find appealing?","040c8bc7":"#### Conclusion: The graph shows that the career opportunities are the best at Facebook & Microsoft and worst at Netflix so those candidates who are looking out for jobs and want great career opportunities, should consider other options apart from Netflix","c59bb54a":"## Data set description\n<ul>\n<li><b>company<\/b>: Name of the company which is being reviewed\n<li><b>location<\/b> : This dataset is global. This column shows the location of the company for which review has been given\n<li><b>dates<\/b>: Date on which review has been posted\n<li><b>job-title<\/b>: The designation of the employee who is posting review. Also includes whether the reviewer is a 'Current' or 'Former' Employee at the time of the review\n<li><b>Summary<\/b>: Short summary of employee review\n<li><b>pros<\/b>: Positive reviews of the company\n<li><b>cons<\/b>: Negative reviews of the company\n<li><b>overall ratings<\/b>: Overall rating from 1-5 that the employee has given to the company\n<li><b>work-balance-stars<\/b>: Rating from 1 -5 given to the work life balance within the company\n<li><b>Culture and Values Rating<\/b>: Rating from 1 -5 given to the culture and values of the company\n<li><b>Career Opportunities Rating<\/b>:  Rating from 1 -5 given for the career opportunities offered offered by the company \n<li><b>Comp & Benefits Rating<\/b>: Rating from 1 -5 given for the compensation and benefits offered by the company\n<li><b>Senior Management Rating<\/b>: Rating from 1 -5 given to the senior managemet of the company\n<li><b>Helpful Review Count<\/b>: A count of how many people found the review to be helpful\n<li><b>Link to Review<\/b> : direct link to the page that contains the review","730bfe7c":"###### calling wordclouds method. Prints wordcloud for each company ","46c72147":"###### Defining method to get wordnet for a pos_tag","ba4b2931":"###### Sample clean and lemmatize review of first row","dc0d1857":"#### Conclusion: The graph shows that the overall rating is best for Google & Facebook and worst for Netflix. The ex-employees as well as the former employees have given good ratings for both these companies. If we consider the reviews given by the current employees of these two companies, almost all of them fall under 3 to 5 and maximum out of them fall under 4 to 5. Like the dots show, very few of the employees have given 1 or 2.","c4b95415":"###### defining method to generate wordclouds for each company","ec46efd7":"#### Conclusion: The graph shows that the compensation benefits are the best at Google & Facebook and worst for Apple."}}