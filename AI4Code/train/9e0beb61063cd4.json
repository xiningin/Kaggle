{"cell_type":{"ec2de04b":"code","d7194304":"code","c3556f94":"code","78262e7f":"code","42306bb2":"code","e3f3776f":"code","5f00be5c":"code","87b144fc":"code","21a1a1e8":"code","683f30e5":"code","83234c05":"code","1ef18a7b":"code","c130f84b":"code","67f11366":"code","a161ae89":"code","2d04cfb5":"code","73d729f2":"code","c47c3faa":"code","735b895f":"code","ab5d915d":"code","e91106ef":"code","195cbbc7":"code","47eca779":"code","39897d60":"code","1892a397":"markdown","69f6055e":"markdown","c5f21696":"markdown","f542b4aa":"markdown","1491a653":"markdown","cea800ee":"markdown","6d47600a":"markdown","a6ed0146":"markdown","25543b5d":"markdown","523465fd":"markdown","2cc2a9e4":"markdown","f27187fc":"markdown","add676f8":"markdown","2c3bd70b":"markdown","2064b2cd":"markdown","f8921fcb":"markdown","b84e664b":"markdown","72a8a6dc":"markdown","2648623a":"markdown","fd5d37f1":"markdown","5027693b":"markdown","4cab6f8d":"markdown","55f446bb":"markdown","462df490":"markdown","627ad6b9":"markdown","a7667f53":"markdown","ded18562":"markdown"},"source":{"ec2de04b":"!pip install calmap","d7194304":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport plotly.figure_factory as ff\nfrom plotly.subplots import make_subplots\nimport calmap\nplt.rcParams['figure.figsize'] = 8, 5\nplt.style.use(\"fivethirtyeight\")\npd.options.plotting.backend = \"plotly\"\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator","c3556f94":"data = pd.read_csv('..\/input\/the-washington-post-fatal-force-police-shootings\/fatal-police-shootings-data.csv')\ndata.head()","78262e7f":"data.date = pd.to_datetime(data.date)","42306bb2":"data.shape","e3f3776f":"data.info()","5f00be5c":"def nulls(df):\n    for col in df.columns:\n        nll = data[col].isnull().sum()\n        print(f\"{col} \\t\\t {round(nll\/len(df)*100,2)}% Null\")\nnulls(data)","87b144fc":"fig,ax = calmap.calendarplot(data.groupby(['date']).id.count(), monthticks=1, daylabels='MTWTFSS',cmap='YlGn',\n                    linewidth=0, fig_kws=dict(figsize=(20,20)))\nfig.show()","21a1a1e8":"freq = data[['date','id']]\nfreq['year'] = freq.date.dt.year\nfreq['month'] = freq.date.dt.month\nfreq.head()","683f30e5":"fig = go.Figure(data=[go.Bar(x=freq.groupby(['year']).agg('count')['id'].index, y=freq.groupby(['year']).agg('count')['id'].values,)])\nfig.update_layout(title_text='Shootouts by year')\nfig.show()","83234c05":"fig = go.Figure(data=[go.Bar(x=freq.groupby('month').agg('count')['id'].index, y=freq.groupby('month').agg('count')['id'].values,)])\nfig.update_layout(title_text='Shootouts by Month')\nfig.show()","1ef18a7b":"fig = go.Figure(data=[go.Pie(labels=data.manner_of_death.value_counts().index, values=data.manner_of_death.value_counts().values,textinfo='label+percent')])\nfig.update_layout(title='How were they killed?')\nfig.show()","c130f84b":"data.plot.hist(x=\"age\")","67f11366":"fig = go.Figure([go.Bar(x=data.gender.value_counts().index, y=data.gender.value_counts().values)])\nfig.update_layout(title=\"Number of Shootouts by Gender\")\nfig.show()","a161ae89":"5176\/238","2d04cfb5":"print(f\"{len(data.loc[data.armed=='unarmed'])\/len(data)*100}% Cases were Unarmed\")","73d729f2":"armed=list(data['armed'].dropna().unique())\nfig, (ax2) = plt.subplots(1,1,figsize=[17, 10])\nwordcloud2 = WordCloud(width=1000,height=400).generate(\" \".join(armed))\nax2.imshow(wordcloud2,interpolation='bilinear')\nax2.axis('off')\nax2.set_title('Most Used Arms',fontsize=20)","c47c3faa":"fig = go.Figure(data=[go.Pie(labels=data.flee.value_counts().index, values=data.flee.value_counts().values,textinfo='label+percent')])\nfig.update_layout(title='Did they Flee?')\nfig.show()","735b895f":"print(f'{len(data.loc[(data.flee==\"Not fleeing\") & (data.armed==\"unarmed\")])} Cases were Unarmed and Did not Flee. Yet were Killed.')","ab5d915d":"fig = go.Figure([go.Bar(x=data.threat_level.value_counts().index, y=data.threat_level.value_counts().values)])\nfig.update_layout(title=\"Threat Level Assessment\")\nfig.show()","e91106ef":"fig = go.Figure(data=[go.Pie(labels=data.race.value_counts().index, values=data.race.value_counts().values,textinfo='label+percent')])\nfig.update_layout(title='Did they Flee?')\nfig.show()","195cbbc7":"fig = go.Figure([go.Choropleth(\n    locations=data.groupby(['state']).agg('count')['id'].index,\n    z=data.groupby(['state']).agg('count')['id'].values.astype(float),\n    locationmode='USA-states',\n    colorscale='Reds',\n    autocolorscale=False,\n    text=data['state'], # hover text\n    marker_line_color='white', # line markers between states\n    showscale = True,\n#     text=data.groupby(['state','race']).agg('count')['id'],\n)])\nfig.update_layout(geo_scope='usa',title='Shootouts across the States')\nfig.show()","47eca779":"data.groupby(['state','race'])['id'].count().unstack('state').plot.bar()","39897d60":"fig = go.Figure(go.Bar(\n    x= data.groupby('city').agg('count')['id'].sort_values(ascending=False)[:20].index, \n    y= data.groupby('city').agg('count')['id'].sort_values(ascending=False)[:20].values,  \n    text=data.groupby('city').agg('count')['id'].sort_values(ascending=False)[:20].index,\n    textposition='outside',\n    marker_color=data.groupby('city').agg('count')['id'].sort_values(ascending=False)[:20].values\n))\nfig.update_layout(title='Shootout by City Stats')\nfig.show()","1892a397":"**Observations**:\n- Most shootouts invlove the victim being shot. Rarely is the taser used.","69f6055e":"# Were they armed? Did They Flee?","c5f21696":"# Exploring Shootout Frequency","f542b4aa":"# State vs Race","1491a653":"**Observations**:\n- Number of cases where men are shot is 20x the number of female cases","cea800ee":"**Observations**:\n- Most common weapons are Knife, gun, metal","6d47600a":"**Observations**:\n- 66% victims did not Flee, yet were KILLED\n- Majority of the remaining victims used Cars or fled on Foot","a6ed0146":"**Observations**:\n- Goes to show most cases originate from California, Texas and Florida","25543b5d":"**Observations**:\n- No real trend noticed. \n- 2020 has half data therefore count seems to be low\n- Every year sees upto 1000 shootout cases\n- 2020 is at 481 cases halfway through the year","523465fd":"If you find this notebook insightful please do UPVOTE!","2cc2a9e4":"# What age group is affected?\n#### Exploring Age","f27187fc":"References<br>\nhttps:\/\/www.kaggle.com\/raenish\/don-t-shoot","add676f8":"# Does Race Play a Role?","2c3bd70b":"# Exploring if Gender Makes a Difference","2064b2cd":"**Observations**:\n- LA, Phoenix and Houston record highest shootout count","f8921fcb":"# Geographic Trends","b84e664b":"**Final Summary**:\n- In the past 5 years Police Shooting have continued to remain around the 1000 kills\/year mark\n- California,Texas and Florida have recorded the most number of shootout deaths.\n- Northern and NorthEastern States show lower shootout counts\n- LA, Phoenix and Houston record highest shootout count amongst cities\n- White, Black and Hispanic race record highest deaths\n- People in the age bracket 20-40 are most affected\n- 66% victims did not Flee, yet were KILLED\n- 191 Victims were not armed, did not flee, yet were KILLED.","72a8a6dc":"# Exploring Manner of Death","2648623a":"## Null Values Exploration","fd5d37f1":"**Observations**:\n- This confirms that there are more shootouts in the first quarter of the year","5027693b":"* W: Whitenon-Hispanic \n* B: Black, non-Hispanic \n* A: Asian \n* N: Native American \n* H: Hispanic \n* O: Other None: unknown","4cab6f8d":"**Observations**:\n- There are more dark spots in the First Quarter of the years indicating higher shootout count.\n","55f446bb":"### 191 Victims were not armed, did not flee, yet were KILLED.","462df490":"**Observations**:\n- Most affected Age group is 20-40\n- Fewer incidents for elder people","627ad6b9":"# Police Brutality Where and Why ?\n<img src=\"https:\/\/image.cnbcfm.com\/api\/v1\/image\/106559035-1590929831184gettyimages-1216502171.jpeg?v=1591036727&w=1600&h=900\" width=400><br>\nWith the high on public angst against police brutality exploring this dataset is of great important to gain insights into the picture behind Police Shootouts. In this kernel I aim to explore and understand this data and draw some observations to identify any specific patterns in the data. My study shall find out which communities are most affected in terms of age,race,etc.\n","a7667f53":"**Observations**:\n- Clearly 50% of the victims are White\n- The next most affected group is the Black Community (26.5%) , followed by Hispanic (18%)","ded18562":"**Observations**:\n- California, Texas and Florida have highest recorded shootouts\n- Northern and NorthEastern States show lower shootout counts"}}