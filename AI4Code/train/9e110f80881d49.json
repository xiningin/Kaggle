{"cell_type":{"a977e42b":"code","979113b6":"code","3e60c17a":"code","89c75346":"code","e72d96d9":"code","19671bff":"code","1474930a":"code","c1aa9268":"code","01befafd":"code","33e24558":"code","b72bee1e":"code","3548a734":"code","5ad55acf":"code","ba14f236":"code","c9efd857":"code","97f1863d":"code","24f1d85a":"code","9daec3a3":"code","9623d354":"markdown","f1676eaa":"markdown","76cce145":"markdown","46bfb615":"markdown","8274de49":"markdown","b6728ba3":"markdown","28021e5a":"markdown","959f81b4":"markdown","033b2991":"markdown","a5ee5f55":"markdown"},"source":{"a977e42b":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\nimport geopandas as gpd\nfrom geopandas import GeoDataFrame\nfrom shapely.geometry import Point,Polygon\n\nimport folium\nfrom folium import Choropleth, Circle, Marker\nfrom folium.plugins import HeatMap, MarkerCluster\n\nimport requests ","979113b6":"URL = \"https:\/\/coronavirus-tracker-api.herokuapp.com\/v2\/locations\"","3e60c17a":"# sending get request and saving the response as response object \nr = requests.get(url = URL) \n\n# extracting data in json format \ndata = r.json() ","89c75346":"asian_countries = [ 'Afghanistan', 'Armenia', 'Azerbaijan', 'Bahrain', 'Bangladesh', 'Bhutan, Brunei', 'Burma,Cambodia',\n                   'China', 'East Timor', 'Georgia', 'Hong Kong','India', 'Indonesia', 'Iran', 'Iraq','Israel', 'Japan', \n                   'Jordan', 'Kazakhstan', 'Kuwait', 'Kyrgyzstan', 'Laos', 'Lebanon', 'Malaysia', 'Mongolia', 'Nepal', \n                   'North Korea', 'Oman', 'Pakistan', 'Papua New Guinea', 'Philippines', 'Qatar', 'Russia', \n                   'Saudi Arabia', 'Singapore', 'South Korea', 'Sri Lanka', 'Syria', 'Taiwan', 'Tajikistan', \n                   'Thailand', 'Turkey', 'Turkmenistan', 'United Arab Emirates', 'Uzbekistan', 'Vietnam', 'Yemen']\nsouth_asian = ['Sri Lanka', 'India', 'Bangladesh', 'Bhutan', 'Nepal', 'Pakistan','Maldives']\n","e72d96d9":"coordintes_confirmed = []\nfor values in data['locations']:\n    country = values['country']\n    latitude = float((values['coordinates'])['latitude'])\n    longitude = float((values['coordinates'])['longitude'])\n    confirmed = int((values['latest'])['confirmed'])\n    deaths = int((values['latest'])['deaths'])\n    if(values['province'] != ''):\n        province = values['province']\n    else:\n        province = 'Nan'\n    coordintes_confirmed.append((country,latitude,longitude,province,confirmed,deaths))","19671bff":"world_frame = pd.DataFrame(coordintes_confirmed, columns=['Country', 'Latitude', 'Longitude', 'Province','Confired_Cases','Deaths'])","1474930a":"world_frame.head()","c1aa9268":"world_frame_map = world_frame.copy()","01befafd":"world_frame_map.head()","33e24558":"world_frame_map_copy = world_frame_map.copy()\ngeometry_copy = [Point(xy) for xy in zip(world_frame_map.Latitude, world_frame_map.Longitude)]\ncrs = {'init' : 'epsg:4326'}\ngdf_world_copy = GeoDataFrame(world_frame_map_copy, crs=crs, geometry=geometry_copy)","b72bee1e":"gdf_world_copy.head()","3548a734":"# save the GeoDataFrame\ngdf_world_copy.to_file(driver = 'ESRI Shapefile', filename= \"CoronaVirus.shp\")","5ad55acf":"world_frame_map = world_frame_map.reindex(world_frame.index.repeat(world_frame.Confired_Cases))","ba14f236":"geometry = [Point(xy) for xy in zip(world_frame_map.Latitude, world_frame_map.Longitude)]\nworld_frame_map = world_frame_map.drop(['Confired_Cases', 'Province', 'Deaths'], axis = 1)\ncrs = {'init' : 'epsg:4326'}\ngdf_world = GeoDataFrame(world_frame_map, crs=crs, geometry=geometry)","c9efd857":"gdf_world_indexed = gdf_world.set_index('Country')","97f1863d":"plot_dict = gdf_world.Country.value_counts()\nplot_dict.head()","24f1d85a":"#read world map shape file\nworld = gpd.read_file(gpd.datasets.get_path('naturalearth_lowres'))","9daec3a3":"# Create a base map\nm_2 = folium.Map(location=[25.0376,76.4563], tiles='openstreetmap', zoom_start=2)\n\n# Add a heatmap to the base map\nHeatMap(data=world_frame_map[['Latitude', 'Longitude']], radius=10).add_to(m_2)\n\n# Display the map\nm_2","9623d354":"**Readint the datainto GeoDataFrame**","f1676eaa":"**Feacthing the real updated time dataset**","76cce145":"**Save a copy of final Dataframe with coordiantes**","46bfb615":"**Couting Country with no of confirmed Case**","8274de49":"**Copy in other dataset for further analysis for Maps**","b6728ba3":"**World CoronaData**","28021e5a":"**Count No of Confirmed in each Country**","959f81b4":"**Make Pandas DataFrame from the list**","033b2991":"**HeatMap World**","a5ee5f55":"**Preprocessing for Choropleth maps**"}}