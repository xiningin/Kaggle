{"cell_type":{"ba39b944":"code","524ae093":"code","91a87c7c":"code","d6a0a39e":"code","7ee021c2":"code","d96fc19d":"code","59860be5":"code","c6e889d4":"code","79865e27":"code","98eedd83":"code","a7085b81":"code","4bc65a22":"code","c51dc6af":"code","caf1bbf2":"code","00f05948":"code","3db32ae4":"code","5df8e832":"code","e87adf5b":"code","e1894eca":"code","55c78090":"code","6f14fa29":"code","84698480":"code","4aac476d":"code","8db2c4ad":"code","98f935df":"code","d30f11cb":"code","b37b9e5f":"code","27098e3b":"code","0dc8ba68":"code","90f33197":"code","208df943":"code","4b20ae87":"code","a4063af6":"code","ab33f479":"code","1e3ddd55":"markdown","ea00be2f":"markdown"},"source":{"ba39b944":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nfrom sklearn import preprocessing\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn import metrics\nfrom sklearn.cross_validation import train_test_split\nfrom sklearn.metrics import confusion_matrix\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\nimport matplotlib.pyplot as plt\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","524ae093":"data = pd.read_csv('..\/input\/car-milage.csv')","91a87c7c":"print(data.info())","d6a0a39e":"print(data.columns)","7ee021c2":"data = data.rename(columns=str.lower)","d96fc19d":"data.dropna(inplace=True)","59860be5":"data['automatic'].value_counts()\nsns.countplot(x=data['automatic'],data=data,palette='hls')\nplt.show()","c6e889d4":"count_no = len(data[data['automatic']==0])\ncount_yes = len(data[data['automatic']==1])\n\npct_of_no = count_no\/(count_no +count_yes)\nprint(\"orneklerin 0 olma  olas\u0131l\u0131\u011f\u0131 yuzde\", pct_of_no*100)\npct_of_yes= count_yes\/(count_no+count_yes)\nprint(\"orneklerin 1 olma olas\u0131l\u0131\u011f\u0131 yuzde\", pct_of_yes*100)\n","79865e27":"data.groupby('automatic').mean()","98eedd83":"f,ax = plt.subplots()\nsns.heatmap(data.corr(), annot=True, linewidths=.5, fmt= '.1f',ax=ax)\nplt.show()","a7085b81":"data.groupby('mpg').mean()\npd.crosstab(data.mpg,data.automatic).plot(kind='bar')\nplt.title('mpg-fig')\nplt.xlabel('')\nplt.ylabel('de\u011fer oran\u0131')\nplt.savefig('mpg-fig')\n","4bc65a22":"data.groupby('hp').mean()\npd.crosstab(data.hp,data.automatic).plot(kind='bar')\nplt.title('hp-fig')\nplt.xlabel('hp')\nplt.ylabel('de\u011fer oran\u0131')\nplt.savefig('hp-fig')","c51dc6af":"data.groupby('displacement').mean()\npd.crosstab(data.displacement,data.automatic).plot(kind='bar')\nplt.title('displacement-fig')\nplt.xlabel('displacement')\nplt.ylabel('de\u011fer oran\u0131')\nplt.savefig('displacement-fig')","caf1bbf2":"data.groupby('torque').mean()\npd.crosstab(data.torque,data.automatic).plot(kind='bar')\nplt.title('torque_fig')\nplt.xlabel('torque')\nplt.ylabel('de\u011fer oran\u0131')","00f05948":"data.groupby('cratio').mean()\npd.crosstab(data.cratio,data.automatic).plot(kind='bar')\nplt.title('cratio_fig')\nplt.xlabel('cratio')\nplt.ylabel('de\u011fer oran\u0131')","3db32ae4":"data.groupby('raratio').mean()\npd.crosstab(data.raratio,data.automatic).plot(kind='bar')\nplt.title('raratio_fig')\nplt.xlabel('raratio')\nplt.ylabel('de\u011fer oran\u0131')","5df8e832":"data.groupby('carbbarrells').mean()\npd.crosstab(data.carbbarrells,data.automatic).plot(kind='bar')\nplt.title('carbbarrells_fig')\nplt.xlabel('carbbarrells')\nplt.ylabel('de\u011fer oran\u0131')\n","e87adf5b":"data.groupby('noofspeed').mean()\npd.crosstab(data.noofspeed,data.automatic).plot(kind='bar')\nplt.title('noofspeed_fig')\nplt.xlabel('noofspeed')\nplt.ylabel('de\u011fer oran\u0131')","e1894eca":"data.groupby('length').mean()\npd.crosstab(data.length,data.automatic).plot(kind='bar')\nplt.title('length_fig')\nplt.xlabel('length')\nplt.ylabel('de\u011fer oran\u0131')\nplt.show()","55c78090":"data.groupby('width').mean()\npd.crosstab(data.width,data.automatic).plot(kind='bar')\nplt.title('width_fig')\nplt.xlabel('width')\nplt.ylabel('de\u011fer oran\u0131')","6f14fa29":"data.groupby('weight').mean()\npd.crosstab(data.weight,data.automatic).plot(kind='bar')\nplt.title('weight_fig')\nplt.xlabel('weight')\nplt.ylabel('de\u011fer oran\u0131')","84698480":"data2_df= data.loc[:, data.columns != 'automatic']\nautomatic_df = data.loc[:, data.columns == 'automatic']\n\n","4aac476d":"\nx_train, x_test,y_train,y_test = train_test_split(data2_df,automatic_df,test_size=0.33, random_state=0)\n\n","8db2c4ad":"X = x_train.as_matrix().astype(np.float)\ndata2x_df = pd.DataFrame(data =X,index = range(20),columns =['mpg', 'displacement', 'hp', 'torque', 'cratio', 'raratio',\n       'carbbarrells', 'noofspeed', 'length', 'width', 'weight'])\n\nX_test =x_test.as_matrix().astype(np.float)\ndata2xtest_df = pd.DataFrame(data =X_test,index = range(10),columns =['mpg', 'displacement', 'hp', 'torque', 'cratio', 'raratio',\n       'carbbarrells', 'noofspeed', 'length', 'width', 'weight'])\n","98f935df":"from sklearn.linear_model import LinearRegression \nregressor = LinearRegression()\nregressor.fit(x_train,y_train)\n\nprint(regressor.score(x_test,y_test))","d30f11cb":"\nimport statsmodels.formula.api as sm\nX = np.append(arr = np.ones((30,1)).astype(int),values =data2_df,axis =1)\nX_l = data2_df.iloc[:,[0,1,2,3,4,5,6,7,8,9,10]].values\nr = sm.OLS(endog =automatic_df, exog =X_l).fit()\nprint(r.summary())","b37b9e5f":"X_l = data2_df.iloc[:,[1,2,3,8,10]].values\nr = sm.OLS(endog =automatic_df, exog =X_l).fit()\nprint(r.summary())","27098e3b":"data5 = data.iloc[:,[1,2,3,8,10]]\nx_train, x_test,y_train,y_test = train_test_split(data5,automatic_df,test_size=0.33, random_state=0)\nregressor.fit(x_train,y_train)","0dc8ba68":"print(regressor.score(x_test,y_test))","90f33197":"X_l = data2_df.iloc[:,[1,6,7,9,10]].values\nr = sm.OLS(endog =automatic_df, exog =X_l).fit()\nprint(r.summary())","208df943":"data3 = data.iloc[:,[1,6,7,9,10]]\n#data3_df = pd.DataFrame(data =data3,index = range(30),columns =['displacement', 'carbbarelles', 'noofspeed', 'width', 'weight'])\n\nx_train, x_test,y_train,y_test = train_test_split(data3,automatic_df,test_size=0.33, random_state=0)\nregressor.fit(x_train,y_train)\n\nprint(regressor.score(x_test,y_test))  #71\ny_prediction = regressor.predict(x_test)\n","4b20ae87":"\nX_l = data2_df.iloc[:,[1,7,9,10]].values\nr = sm.OLS(endog =automatic_df, exog =X_l).fit()\nprint(r.summary())","a4063af6":"\ndata4 = data.iloc[:,[1,7,9,10]].values\ndata4_df = pd.DataFrame(data =data4,index = range(30),columns =['displacement', 'noofspeed', 'width', 'weight'])\n","ab33f479":"print(regressor.score(x_test,y_test))  #71\nprint('linear regression modeli do\u011fruluk oran\u0131: {:.2f}'.format(regressor.score(x_test, y_test)))\n","1e3ddd55":"***Features selection***","ea00be2f":"**Linerr Regression**"}}