{"cell_type":{"81178471":"code","9e1378cf":"code","09803b2a":"code","14856520":"code","7625b446":"code","7865e54f":"code","1d2b266b":"code","b297f156":"code","d5db3a28":"code","7ab24db7":"code","8ba6fddc":"code","9968fd4a":"code","f610a541":"code","9183e058":"code","8e5d06b0":"code","b22b12ae":"code","237944f1":"markdown","143ff969":"markdown","17e57007":"markdown","29f6d770":"markdown","03daab1f":"markdown","c4dd5e5a":"markdown","f3d4bd91":"markdown","ef1e06ce":"markdown","3fca9cfd":"markdown","edcc7371":"markdown","dd7a6e12":"markdown"},"source":{"81178471":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom plotly.offline import init_notebook_mode, iplot,plot\ninit_notebook_mode(connected=True)\nimport  plotly.graph_objs as go\nimport plotly.offline as offline\noffline.init_notebook_mode()\nimport numpy as np\n\ndf1=pd.read_csv(\"..\/input\/world-foodfeed-production\/FAO.csv\",encoding=\"ISO-8859-1\")\ndf1=df1.copy()\ndf3=pd.read_csv(\"..\/input\/gdp-world-bank-data\/GDP by Country.csv\",skiprows=3)\ndf3=df3.copy()\n","9e1378cf":"\nplt.style.use(\"ggplot\")\nitems=pd.DataFrame(df1.groupby(\"Item\")[\"Element\"].agg(\"count\").sort_values(ascending=False))[:25]\nplt.figure(figsize=(8,10))\nplt.gcf().subplots_adjust(left=.3)\nsns.barplot(x=items.Element,y=items.index,data=items)\nplt.gca().set_title(\"Top 25 items produced around globe\")\nplt.show()","09803b2a":"\nindia=pd.DataFrame(df1[df1[\"Area\"]==\"India\"].loc[:,\"Y2004\":\"Y2013\"].agg(\"sum\",axis=0))\nplt.figure(figsize=(8,8))\n\nindia.columns=[\"Production\"]\nsns.barplot(x=india.index,y=india.Production,data=india)\nplt.gca().set_ylabel(\"Production in tonnes\")\nplt.gca().set_xlabel(\"Year\")\nplt.gcf().subplots_adjust(left=.2)\nplt.gca().set_title(\"India's production\")\nplt.show()","14856520":"top_countries=df1.groupby([\"Area\"])[[\"Y2004\",\"Y2005\",\"Y2005\",\"Y2006\",\"Y2007\",\"Y2008\",\"Y2009\",\"Y2010\",\"Y2011\",\n                                    \"Y2012\",\"Y2013\"]].sum()\ntop=pd.DataFrame(top_countries.agg(\"mean\",axis=1).sort_values(ascending=False),columns=[\"Tonnes\"])[:10]\n","7625b446":"plt.figure(figsize=(8,8))\nplt.gca().set_title(\"Top producers throughout the years\")\nsns.barplot(x=top[\"Tonnes\"],y=top.index,data=top)\nplt.gcf().subplots_adjust(left=.3)\nplt.show()","7865e54f":"\nindia=pd.DataFrame(top_countries.loc[\"India\"])\nchina=pd.DataFrame(top_countries.loc[\"China, mainland\"])\nus=pd.DataFrame(top_countries.loc[\"United States of America\"])\nbrazil=pd.DataFrame(top_countries.loc[\"Brazil\"])\n\ntrace_1=go.Scatter(x=us.index,y=us[\"United States of America\"],mode=\"lines\",name=\"US\")\ntrace_2=go.Scatter(x=india.index,y=india[\"India\"],mode=\"lines+markers\",name=\"India\")\ntrace_3=go.Scatter(x=china.index,y=china[\"China, mainland\"],mode=\"lines\",name=\"China\")\ntrace_4=go.Scatter(x=brazil.index,y=brazil[\"Brazil\"],mode=\"lines+markers\",name=\"Brazil\")\n\ndata1=[trace_1,trace_2,trace_3,trace_4]\n\nlayout = dict(title = 'Variations in production of top 4 countries',\n              xaxis= dict(title= 'Year',ticklen= 5,zeroline= False)\n             )\nfig=dict(data=data1,layout=layout)\niplot(fig,filename=\"figure.html\",validate=False)\n","1d2b266b":"df2=pd.read_csv(\"..\/input\/global-food-prices\/wfp_market_food_prices.csv\",encoding=\"ISO-8859-1\")\ndf2=df2.copy()","b297f156":"india=df2[(df2[\"adm0_name\"]==\"India\")& (df2[\"mp_year\"]>2003)]\nindia=pd.DataFrame(india.groupby([\"cm_name\",\"mp_year\"])[\"mp_price\"].agg(\"mean\").reset_index())\nwheat=df1[(df1[\"Area\"]==\"India\") & (df1[\"Item\"]==\"Wheat and products\")& (df1['Element']==\"Food\")]\nindia=india[(india[\"cm_name\"]==\"Wheat\") & (india[\"mp_year\"]<2014)]\nwheat=wheat.loc[:,\"Y2004\":].transpose()\nwheat.columns=[\"tonnes\"]","d5db3a28":"\nplt.style.use(\"ggplot\")\nfig,ax1=plt.subplots(figsize=(8,6))\nax2=ax1.twinx()\nx=np.arange(0,10)\ny=india[\"mp_price\"]\nax2.plot(x,y,'-o',color=\"red\",label=\"price\")\n\ny=wheat[\"tonnes\"]\nax1.plot(x,y,\"-o\",color=\"blue\",label=\"production\")\nax1.set_xticklabels(wheat.index,rotation=\"90\")\nax2.set_xticklabels(wheat.index,rotation=\"90\")\nax1.set_ylabel(\"production in tonnes\")\nax2.set_ylabel(\"price in RS\")\nax1.set_title(\"Production and price of Wheat in India\")\nplt.legend()\nplt.show()\n","7ab24db7":"foo=df1.groupby([\"Element\"]).agg(\"sum\").drop([\"Area Code\",\"Item Code\",\"Element Code\",\"latitude\",\"longitude\"],axis=1)\nfoo=foo.sum(axis=1)\nlabels=[\"Feed\",\"Food\"]\nvalues=[foo[0],foo[1]]\n\ntrace=go.Pie(labels=labels,values=values)\niplot([trace],filename=\"food_feed\",validate=False)","8ba6fddc":"top_box=df1.groupby(\"Area\").agg(\"sum\").loc[top.index].drop([\"Area Code\",\"Item Code\",\n                                                            \"latitude\",\"longitude\",\"Element Code\"],axis=1)\ntop_box=top_box.transpose()\nplt.style.use(\"ggplot\")\nplt.figure(figsize=(15,8))\nsns.boxplot(data=top_box)\nplt.show()\n","9968fd4a":"plt.figure(figsize=(12,9))\ntop=pd.DataFrame(top_countries.agg(\"mean\",axis=1).sort_values(ascending=False),columns=[\"Tonnes\"])[:5]\ntop_box=df1.groupby(\"Area\").agg(\"sum\").loc[top.index].drop([\"Area Code\",\"Item Code\",\n                                                            \"latitude\",\"longitude\",\"Element Code\"],axis=1)\ntop_box=top_box.transpose()\nsns.heatmap(data=top_box,linewidths=0,cmap=\"YlGnBu\")\nplt.show()\n","f610a541":"#It is evident from the heatmap that the China and India is constatly improving their production,but Brazil and USA \n#seems to have constant production throughout the year or has not much improved production compared to China or India.\n#Russian Frederation was established on year 1991,so production till 1991 remains zero\n","9183e058":"india_gdp=df3[df3[\"Country Name\"]==\"India\"].loc[:,\"1961\":\"2004\"].transpose()\nindia_gdp.columns=[\"gdp\"]\nindia_pr=df1[df1[\"Area\"]==\"India\"].loc[:,\"Y1961\":\"Y2004\"].agg(\"sum\")\n\nfig,ax1=plt.subplots(figsize=(15,7))\nax2=ax1.twinx()\nx=india_gdp.index\nax2.plot(x,india_gdp[\"gdp\"],\"-\",color=\"red\",label=\"gdp\")\nax1.plot(x,india_pr[:],\"-\",color=\"blue\",label=\"production\")\nax1.set_xticklabels(india_gdp.index,rotation=\"90\")\nax1.set_ylabel(\"production in tonnes\")\nax2.set_ylabel(\"GDP in USD\")\nfig.legend()\nax1.set_title(\"India's production and gdp growth\",fontsize=25)\n\nplt.show()","8e5d06b0":"#Agriculture sector is one of the majaor contributer to india's gdp.","b22b12ae":"country=df1[df1[\"Element\"]==\"Food\"].groupby(\"Area\").agg(\"sum\").drop([\"Area Code\",\"Item Code\",\"Element Code\",\"latitude\",\"longitude\"],axis=1)\ncountry=pd.DataFrame(country.mean(axis=1).sort_values(),columns=[\"production\"])[:20]\nplt.figure(figsize=(10,10))\nsns.set_style(\"whitegrid\")\nsns.barplot(y=country.index,x=country[\"production\"],data=country,palette=\"Set3\")\nplt.gca().set_xlabel(\"Mean production in tonnes\",fontsize=15)\nplt.gca().spines[\"right\"].set_visible(False)\nplt.gca().spines[\"top\"].set_visible(False)\nplt.gca().set_title(\"Least Food producing countries\",fontsize=25)\nplt.show()\nplt.savefig(\"least_food\")","237944f1":"## Wheat production and price rise in India","143ff969":"## Which are the top producers throughout the years","17e57007":"\n## Variation in production of top 4 producers","29f6d770":"## Heatmap of top 5 Producers","03daab1f":"\n## Food and Feed","c4dd5e5a":"## India's production story","f3d4bd91":"# What are the top products produced around the globe","ef1e06ce":"\n## Boxplot of top producers around globe","3fca9cfd":"\n\n\n## India's production and gdp growth","edcc7371":"## Loading libraries and data","dd7a6e12":"## Least Food producing countries"}}