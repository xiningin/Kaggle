{"cell_type":{"c5990928":"code","874fcea0":"code","419ddcbe":"code","fabd0479":"code","d538ae24":"code","48d1c749":"code","3041afc5":"code","b47f1fe2":"code","099f2f23":"code","d8597f70":"code","1289ac19":"code","78f0f57a":"code","6044b002":"code","b270df76":"code","c87bc9f9":"code","e73360a4":"code","838a20b1":"code","09458020":"markdown","1103702a":"markdown","b3929083":"markdown","a53e9e13":"markdown","1a6f2dd4":"markdown","53f45fc3":"markdown","044aeed2":"markdown","9644fd16":"markdown","de4118df":"markdown","31bef24c":"markdown","74a5ffe8":"markdown","4770b273":"markdown"},"source":{"c5990928":"import matplotlib.pyplot as plt\nimport warnings\nimport seaborn as sns\nimport pandas as pd\nimport numpy as np\nfrom colorama import Fore, Back, Style \nfrom sklearn.model_selection import train_test_split\nfrom sklearn import svm, datasets\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import confusion_matrix\nimport xgboost\nfrom plotly.offline import plot, iplot, init_notebook_mode\nimport plotly.graph_objs as go\nfrom plotly.subplots import make_subplots\nimport plotly.express as px\nfrom statsmodels.formula.api import ols\nimport plotly.graph_objs as gobj\ninit_notebook_mode(connected=True)\nwarnings.filterwarnings(\"ignore\")\nimport plotly.figure_factory as ff\n\n%matplotlib inline\nds=pd.read_csv(\"..\/input\/birdsong-recognition\/train.csv\")","874fcea0":"fig = go.Figure(data=go.Scattergeo(\n        locationmode = 'USA-states',\n        lon = ds['longitude'],\n        lat = ds['latitude'],\n        text = ds['location'],\n        mode = 'markers',\n        marker = dict(\n            size = 8,\n            opacity = 0.8,\n            reversescale = True,\n            autocolorscale = False,\n            symbol = 'square',\n            line = dict(\n                width=1,\n                color='rgba(102, 102, 102)'\n            ),\n            colorscale = 'Blues',\n            cmin = 0,\n            color = ds['duration'],\n            cmax = ds['duration'].max(),\n            colorbar_title=\"Duration\"\n        )))\n\nfig.update_layout(\n        title = 'Recorded Place all over the world',\n        geo = dict(\n            scope='world',\n            showland = True,\n            landcolor = \"rgb(250, 250, 250)\",\n            subunitcolor = \"rgb(217, 217, 217)\",\n            countrycolor = \"rgb(217, 217, 217)\",\n            countrywidth = 0.5,\n            subunitwidth = 0.5\n        ),\n    )\nfig.show()","419ddcbe":"val=ds[\"pitch\"].value_counts()\nnt=[\"Not specified\"]\n\nlvl=[\"level\"] \nbt=[\"both\"]\ndc=[\"decreasing\"]\ninc=[\"increasing\"]\n\nfig = go.Figure(data=[\n    go.Bar(name='Not specified', x=nt, y=[val[\"Not specified\"]]),\n    go.Bar(name='Level', x=lvl, y=[val[\"level\"]]),\n    go.Bar(name='Both', x=bt, y=[val[\"both\"]]),\n    go.Bar(name='decreasing', x=dc, y=[val[\"decreasing\"]]),\n    go.Bar(name='increasing', x=inc, y=[val[\"increasing\"]])\n    \n    \n])\n# Change the bar mode\nfig.update_layout(barmode='group',title=\"Pitch Labels\")\nfig.show()","fabd0479":"import librosa\naudio_path = '..\/input\/birdsong-recognition\/train_audio\/aldfly\/XC134874.mp3'\nx , sr = librosa.load(audio_path)\nprint(type(x), type(sr))\nprint(x.shape, sr)\n","d538ae24":"librosa.load(audio_path, sr=None)\n","48d1c749":"import IPython.display as ipd\nipd.Audio(audio_path)","3041afc5":"%matplotlib inline\nimport matplotlib.pyplot as plt\nimport librosa.display\nplt.figure(figsize=(14, 5))\nlibrosa.display.waveplot(x, sr=sr)","b47f1fe2":"X = librosa.stft(x)\nXdb = librosa.amplitude_to_db(abs(X))\nplt.figure(figsize=(14, 5))\nlibrosa.display.specshow(Xdb, sr=sr, x_axis='time', y_axis='hz')\nplt.colorbar()","099f2f23":"librosa.display.specshow(Xdb, sr=sr, x_axis='time', y_axis='log')\nplt.colorbar()","d8597f70":"x, sr = librosa.load('..\/input\/birdsong-recognition\/train_audio\/aldfly\/XC134874.mp3')\n#Plot the signal:\nplt.figure(figsize=(14, 5))\nlibrosa.display.waveplot(x, sr=sr)","1289ac19":"n0 = 9000\nn1 = 9100\nplt.figure(figsize=(14, 5))\nplt.plot(x[n0:n1])\nplt.grid()","78f0f57a":"import sklearn\nspectral_centroids = librosa.feature.spectral_centroid(x, sr=sr)[0]\nspectral_centroids.shape\n(775,)\n# Computing the time variable for visualization\nframes = range(len(spectral_centroids))\nt = librosa.frames_to_time(frames)\n# Normalising the spectral centroid for visualisation\ndef normalize(x, axis=0):\n    return sklearn.preprocessing.minmax_scale(x, axis=axis)\n#Plotting the Spectral Centroid along the waveform\nlibrosa.display.waveplot(x, sr=sr, alpha=0.4)\nplt.plot(t, normalize(spectral_centroids), color='r')","6044b002":"spectral_rolloff = librosa.feature.spectral_rolloff(x+0.01, sr=sr)[0]\nlibrosa.display.waveplot(x, sr=sr, alpha=0.4)\nplt.plot(t, normalize(spectral_rolloff), color='r')","b270df76":"x, fs = librosa.load('..\/input\/birdsong-recognition\/train_audio\/aldfly\/XC134874.mp3')\nlibrosa.display.waveplot(x, sr=sr)","c87bc9f9":"mfccs = librosa.feature.mfcc(x, sr=fs)\nprint(mfccs.shape)\n(20, 97)\n#Displaying  the MFCCs:\nlibrosa.display.specshow(mfccs, sr=sr, x_axis='time')","e73360a4":"import sklearn\nmfccs = sklearn.preprocessing.scale(mfccs, axis=1)\nprint(mfccs.mean(axis=1))\nprint(mfccs.var(axis=1))\nlibrosa.display.specshow(mfccs, sr=sr, x_axis='time')","838a20b1":"# Loadign the file\nx, sr = librosa.load('..\/input\/birdsong-recognition\/train_audio\/aldfly\/XC134874.mp3')\nhop_length = 512\nchromagram = librosa.feature.chroma_stft(x, sr=sr, hop_length=hop_length)\nplt.figure(figsize=(15, 5))\nlibrosa.display.specshow(chromagram, x_axis='time', y_axis='chroma', hop_length=hop_length, cmap='coolwarm')","09458020":"# \ud83d\udcce Mel-Frequency Cepstral Coefficients\n\n### In sound processing, the mel-frequency cepstrum is a representation of the short-term power spectrum of a sound, based on a linear cosine transform of a log power spectrum on a nonlinear mel scale of frequency. Mel-frequency cepstral coefficients are coefficients that collectively make up an MFC.","1103702a":"# \ud83d\udcce Zero Crossing Rate\n\nThe zero-crossing rate is the rate of sign-changes along a signal, i.e., the rate at which the signal changes from positive to zero to negative or from negative to zero to positive. This feature has been used heavily in both speech recognition and music information retrieval, being a key feature to classify percussive sounds.","b3929083":"# \ud83d\udcce Waveform \ud83d\udd0a \n\n#### A waveform is an image that represents an audio signal or recording. It shows the changes in amplitude over a certain amount of time. The amplitude of the signal is measured on the y-axis (vertically), while time is measured on the x-axis (horizontally).\n","a53e9e13":"# \ud83d\udcce Spectrogram\n","1a6f2dd4":"#### A spectrogram is a visual representation of the spectrum of frequencies of sound or other signals as they vary with time. Spectrograms are sometimes called sonographs, voiceprints, or voicegrams. When the data is represented in a 3D plot, they may be called waterfalls. In 2-dimensional arrays, the first axis is frequency while the second axis is time.","53f45fc3":"### vertical axis shows frequencies (from 0 to 10kHz), and the horizontal axis shows the time of the clip","044aeed2":"### Would Continue....","9644fd16":"# \ud83d\udcce Spectral Rolloff\n### Spectral rolloff is the frequency below which a specified percentage of the total spectral energy, e.g. 85%, lies.","de4118df":"### plot of the amplitude envelope of a waveform.","31bef24c":"# \ud83d\udcce Spectral Centroid\n\n### The spectral centroid is a measure used in digital signal processing to characterise a spectrum. It indicates where the center of mass of the spectrum is located. Perceptually, it has a robust connection with the impression of brightness of a sound.","74a5ffe8":"# \ud83d\udcce Chroma Frequencies\n\n### Chroma features are an interesting and powerful representation for music audio in which the entire spectrum is projected onto 12 bins representing the 12 distinct semitones (or chroma) of the musical octave","4770b273":"# Cornell Birdcall Identification \ud83d\udc26\n![](https:\/\/www.depthworld.com\/wp-content\/uploads\/2019\/03\/Quetzal.jpg)\n\nMost birds have a wide repertoire of songs and call, but there\u2019s an important distinction to be made between the two. Among the songbirds and various other groups of birds (such as cuckoos, owls, and nightjars), songs are used to defend territory and attract mates. Therefore, it\u2019s the males that sing the most\u2014usually during breeding season.\n\n## Upvote if you like my kernel\n\n### \ud83d\udcce Types of Calls\n\n* Alarm calls\n\n* Contact calls\n\n* Flight calls\n\n* Begging calls\n\n* Describing Sounds\n\n* Trill\n\n* Buzz and Thin\n\n* Harsh\n\n* Bell-like, flute-like, whistling, or metallic\n\n* Other Noises\nThere\u2019s more to bird sounds than just vocals. Downy Woodpeckers advertise their presence by drumming rapidly on a tree\u2014and sometimes on the side of your house. (In fact, you can ID certain woodpecker species by measuring the pace of their knocks.) Mating season is often full of unexpected noises like the soft thwacks of a Ruffed Grouse\u2019s wings or the squeaky vibrato of an American Woodcock\u2019s flight feathers. Listen for subtler sounds, too, such as shuffling leaves, flapping feathers, and clumsy, crashing fowl in water. They can point to behavioral clues and help you solve an ID. "}}