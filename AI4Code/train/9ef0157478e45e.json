{"cell_type":{"e0294449":"code","cf688356":"code","4f0794da":"code","a02ec9d6":"code","745d6e34":"code","845d0281":"code","ca5bbd6f":"code","eb083fd3":"code","721be4bb":"code","108a1241":"code","e403320b":"code","3aa8fb33":"code","5404082d":"code","f58416f5":"code","e551f737":"code","1f074df2":"code","e4da7b69":"code","3ad55ab0":"code","c1bef6cf":"code","dd48ebd9":"markdown","4704cbfd":"markdown","d4a9eba9":"markdown"},"source":{"e0294449":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\n","cf688356":"df = pd.read_csv('\/kaggle\/input\/covid19-google-community-mobility-update-sept-2020\/covid19_mobility_report_sept_2020\/regional\/2020_ID_Region_Mobility_Report.csv')","4f0794da":"df.head()","a02ec9d6":"# A new column 'month_name'\n#df['month'] = pd.DatetimeIndex(df['date']).month_name()\ndf['month'] = pd.DatetimeIndex(df['date']).month","745d6e34":"#Selecting some columns that want to be used for analysis\n\ndf1 = df[['sub_region_1','month','retail_and_recreation_percent_change_from_baseline', 'grocery_and_pharmacy_percent_change_from_baseline','parks_percent_change_from_baseline', 'transit_stations_percent_change_from_baseline','workplaces_percent_change_from_baseline','residential_percent_change_from_baseline' ]]","845d0281":"#Renaming columns to make it shorter\ndf1 = df1.rename({'retail_and_recreation_percent_change_from_baseline': 'retail_recreation', 'grocery_and_pharmacy_percent_change_from_baseline': 'grocery_pharmacy', 'parks_percent_change_from_baseline':'park', 'workplaces_percent_change_from_baseline':'workspace', 'residential_percent_change_from_baseline':'residential', 'transit_stations_percent_change_from_baseline':'transit_station'}, axis=1)","ca5bbd6f":"df1.shape","eb083fd3":"#Drop rows when sub_region is Nan\ndf2 = df1.dropna(subset=['sub_region_1'])","721be4bb":"df2.head()","108a1241":"#Group by month and subregion\ndf3 = df2.groupby(['month','sub_region_1']).mean()","e403320b":"df3.head(50).sort_values(by=\"month\")","3aa8fb33":"jkt = df2[df2['sub_region_1'] == 'Jakarta']","5404082d":"jkt = jkt.groupby(['month','sub_region_1']).mean().reset_index()","f58416f5":"jkt","e551f737":"jkt = jkt.drop(columns=['sub_region_1'])\njkt = jkt.set_index('month')\njkt","1f074df2":"# create valid markers from mpl.markers\nvalid_markers = ([item[0] for item in mpl.markers.MarkerStyle.markers.items() if\nitem[1] is not 'nothing' and not item[1].startswith('tick') and not item[1].startswith('caret')])\n \n# valid_markers = mpl.markers.MarkerStyle.filled_markers\n \nmarkers = np.random.choice(valid_markers, jkt.shape[1], replace=False)\n","e4da7b69":"ax = jkt.plot(kind='bar')\nfor i, line in enumerate(ax.get_lines()):\n    line.set_marker(markers[i])\n\n# adding legend\nax.legend(jkt.columns, loc='best')\nplt.ylabel('Percent Change from Baseline')\nplt.xlabel('Month')\nplt.title('Jakarta Community Mobility ')\nlabels = ['Feb', 'Mar', 'Apr', 'May', 'June','July','Aug','Sept']\nax.set_xticklabels(labels)\nplt.tight_layout()\nplt.savefig('jkt.png')\nplt.show()","3ad55ab0":"#Bali\n\nbali = df2[df2['sub_region_1'] == 'Bali']\nbali = bali.groupby(['month','sub_region_1']).mean().reset_index()\nbali = bali.drop(columns=['sub_region_1'])\nbali = bali.set_index('month')\n\n# create valid markers from mpl.markers\nvalid_markers = ([item[0] for item in mpl.markers.MarkerStyle.markers.items() if\nitem[1] is not 'nothing' and not item[1].startswith('tick') and not item[1].startswith('caret')])\n \n# valid_markers = mpl.markers.MarkerStyle.filled_markers\n \nmarkers = np.random.choice(valid_markers, bali.shape[1], replace=False)\n\nax = bali.plot(kind='bar')\nfor i, line in enumerate(ax.get_lines()):\n    line.set_marker(markers[i])\n\n# adding legend\nax.legend(bali.columns, loc='best')\nplt.ylabel('Percent Change from Baseline')\nplt.xlabel('Month')\nplt.title('Bali Community Mobility ')\nlabels = ['Feb', 'Mar', 'Apr', 'May', 'June','July','Aug','Sept']\nax.set_xticklabels(labels)\nplt.tight_layout()\nplt.savefig('bali.png')\nplt.show()","c1bef6cf":"#jatim\n\njatim = df2[df2['sub_region_1'] == 'East Java']\njatim = jatim.groupby(['month','sub_region_1']).mean().reset_index()\njatim = jatim.drop(columns=['sub_region_1'])\njatim = jatim.set_index('month')\n\n# create valid markers from mpl.markers\nvalid_markers = ([item[0] for item in mpl.markers.MarkerStyle.markers.items() if\nitem[1] is not 'nothing' and not item[1].startswith('tick') and not item[1].startswith('caret')])\n \n# valid_markers = mpl.markers.MarkerStyle.filled_markers\n \nmarkers = np.random.choice(valid_markers, jatim.shape[1], replace=False)\n\nax = jatim.plot(kind='bar')\nfor i, line in enumerate(ax.get_lines()):\n    line.set_marker(markers[i])\n\n# adding legend\nax.legend(jatim.columns, loc='best')\nplt.ylabel('Percent Change from Baseline')\nplt.xlabel('Month')\nplt.title('Jawa Timur Community Mobility ')\nlabels = ['Feb', 'Mar', 'Apr', 'May', 'June','July','Aug','Sept']\nax.set_xticklabels(labels)\nplt.tight_layout()\nplt.savefig('jatim.png')\nplt.show()","dd48ebd9":"# Bali","4704cbfd":"# East Java","d4a9eba9":"# Jakarta"}}