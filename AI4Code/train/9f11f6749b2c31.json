{"cell_type":{"9669ed47":"code","5ef77011":"code","adfee8e2":"code","552f17b2":"code","57ddf0b6":"code","3f77fb86":"code","e3d46acf":"code","6bb339f1":"code","21e93c43":"code","e847fb13":"code","03ccebda":"code","3951502c":"code","28779b0a":"code","794b24a2":"code","97e01cb5":"code","df35ed59":"code","e57522ff":"code","05cd1d01":"code","43be4127":"code","2a18232a":"code","878e5d97":"code","3b46473a":"code","90f4c3fe":"code","8b990e3f":"code","de610e18":"code","03ae0bef":"code","706b8bf5":"code","24955a98":"code","ecb9112e":"code","71c1c2f9":"code","932cfb34":"code","fbeaf89d":"code","61ce6380":"markdown","e84bd89d":"markdown","fabf9985":"markdown","d06bccf5":"markdown","618163c6":"markdown","829406f1":"markdown","40cdd2fd":"markdown","dbff978d":"markdown","39115749":"markdown","d13b175f":"markdown","c2dd7ed4":"markdown","1c396e6a":"markdown","26746103":"markdown"},"source":{"9669ed47":"# Necessay Libraries are included\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline","5ef77011":"# load TMdb Movie data in data frame\ndf_tmdb = pd.read_csv(\"\/kaggle\/input\/tmdb-movies.csv\")\ndf_tmdb.head(5)","adfee8e2":"# Find shape(row, col) of the data set\ndf_tmdb.shape","552f17b2":"# Overall information of the data type and presence and missing of value of column \ndf_tmdb.info()","57ddf0b6":"df_tmdb.isnull().sum()","3f77fb86":"# Summary of Statistical presence of data over the columns that have numerial data type. \ndf_tmdb.describe()","e3d46acf":"# The output(in above) of functions shows that there are few columns of missing rows or values. Now fill null with\n# emplty string \ndf_tmdb.genres.fillna('', inplace=True)\ndf_tmdb.cast.fillna('', inplace=True)","6bb339f1":"df_tmdb.isnull().sum()","21e93c43":"# Split the given sting by pipline character \ndef explode_string(data):\n    return data.split('|')","e847fb13":"df_tmdb.genres = df_tmdb.genres.apply(explode_string)\ndf_tmdb.cast = df_tmdb.cast.apply(explode_string)","03ccebda":"popu= 0.7\ndef movies_based_on_popularity(movies):\n    \"\"\"\n    filter function to threshold off popularity column \n    \"\"\"\n    return movies[movies['popularity'] > popu]","3951502c":"df_popular = df_tmdb.groupby('release_year').apply(movies_based_on_popularity)\ndf_popular.describe()","28779b0a":"def movies_genres_year(movies):\n    \"\"\"\n        This function takes a Data and returns a dictionary having\n        release_year and genre(array) as key and count of genre as value.\n    \"\"\"\n    movies_in_year_by_genre = {} # declare of dictionary\n    for (release_year,pos), genres in movies.items():\n        for genre in genres:\n            if release_year in movies_in_year_by_genre:  #check year is exist\n                if genre in movies_in_year_by_genre[release_year]: # check  genre is exist\n                    movies_in_year_by_genre[release_year][genre] += 1 # increment genre if it is exist\n                else:\n                    movies_in_year_by_genre[release_year][genre] = 1  # new genre entry \n            else:\n                movies_in_year_by_genre[release_year] = {} # declare dictionary within dictionary\n                movies_in_year_by_genre[release_year][genre] = 1 # new genre and year entry\n                \n    return movies_in_year_by_genre","794b24a2":"popular_movies = movies_genres_year(df_popular.genres)\n#popular_movies","97e01cb5":"# draw graph of every five years\nfor year,genre_dic in popular_movies.items():\n    if year%5 == 0:\n        pd.DataFrame(popular_movies[year], index=[year]).plot(kind='bar', title=\"Popular Movie by Genre\", figsize=(20, 6))","df35ed59":"higest_earned_movies = df_tmdb[df_tmdb['revenue_adj']>=1600000000].sort_values(by='revenue_adj',ascending=False)\nhigest_earned_movies.shape","e57522ff":"pd.DataFrame(list(higest_earned_movies.popularity), index=list(higest_earned_movies.original_title)).plot(kind='bar',\ntitle='Popularity of Highest earned movies; Q3 = 0.713817',legend= False,figsize=(20, 10))\nplt.show()","05cd1d01":"pd.DataFrame(list(higest_earned_movies.vote_count), index=list(higest_earned_movies.original_title)).plot(kind='bar',\ntitle='Vote Count of Highest earned movies; Q3 = 145',legend= False,figsize=(20, 10))\nplt.show()","43be4127":"pd.DataFrame(list(higest_earned_movies.vote_average), index=list(higest_earned_movies.original_title)).plot(kind='bar',\ntitle='Vote Average of Highest earned movies; Q3=6.6 ',legend= False,figsize=(20, 10))\nplt.show()","2a18232a":"def movies_highest_genre_count(data):\n    \"\"\"\n        This function takes a Data and returns a dictionary having\n        genre as key and count of genre as value.\n    \"\"\"\n    movies_highest_by_genre = {} # declare of dictionary\n    for genres in data:\n        for genre in genres:\n            if genre in movies_highest_by_genre:  #check genre is exist\n                movies_highest_by_genre[genre] += 1 # increment genre if it is exist\n            else:\n                movies_highest_by_genre[genre] = 1  # new genre entry \n           \n                \n    return movies_highest_by_genre","878e5d97":"highest_revenue_genres = movies_highest_genre_count(higest_earned_movies.genres)\n#highest_revenue_genres","3b46473a":"pd.DataFrame(highest_revenue_genres, index=['Genres']).plot(kind='bar',\ntitle='Frequency of Genres of Highest earned movies',figsize=(20, 10))\nplt.show()","90f4c3fe":"# create dataframe contains only revenue adj >0\ndf_revenue = df_tmdb[df_tmdb.revenue_adj > 0].sort_values(by='release_year',ascending=True)\nindex_list = list(range(0, df_revenue.shape[0]))\ndf_revenue.index = index_list # rearrange the index \n#df_revenue.head(50)","8b990e3f":"ma_df_revenue=[]\nma_df_revenue_year=[]\nt_revenue = 0\n\nfor i in range(df_revenue.shape[0]-31):\n    for j in range(31):\n        t_revenue += df_revenue['revenue_adj'][i+j] \n    \n    ma_df_revenue.append(round(t_revenue\/30,2))\n    ma_df_revenue_year.append(df_revenue['release_year'][i+30])\n","de610e18":"# create dataframe contains only budget adj >0\ndf_budget = df_tmdb[df_tmdb.budget_adj > 0].sort_values(by='release_year',ascending=True)\nindex_list = list(range(0, df_budget.shape[0])) # same size to revenue\ndf_budget.index = index_list # rearrange the index ","03ae0bef":"ma_df_budget =[]\nt_budget  = 0\n\nfor i in range(df_revenue.shape[0]-31):\n    for j in range(30):\n        t_budget += df_budget['revenue_adj'][i+j] \n    \n    ma_df_budget.append(round(t_budget\/30,2))\n","706b8bf5":"plt.figure(figsize=(20,10))\nplt.plot(ma_df_revenue_year,ma_df_budget,color='orange')\nplt.plot(ma_df_revenue_year,ma_df_revenue,color='green')\nplt.xlabel('Years')\nplt.ylabel('Amount in $')\nplt.title('Budget vs Revenue 1960 to 2015 ')\nplt.legend(['Budget','Revenue'])\nplt.show()","24955a98":"def calculate_actors_gross_revenue(movies):   \n    \"\"\"\n        This function takes data, forming dictionary having actors as key and sum of earned revenue as value. \n        return this formed dictionary to the caller.\n    \"\"\"\n    actors_gross_revenue ={}\n    for id,row in movies.iterrows():\n        #print(row)\n        for key in row.cast:\n            if key in actors_gross_revenue:\n                #print(actors_gross_revenue[key])\n                actors_gross_revenue[key] +=  row.revenue_adj \n            else:\n                actors_gross_revenue[key] = row.revenue_adj \n    \n    return actors_gross_revenue;\n","ecb9112e":"top_actors_gross_revenue = sorted(calculate_actors_gross_revenue(df_revenue).items(), key=lambda item: item[1], reverse=True)[:10]","71c1c2f9":"def list_to_dict(data, label):\n    \"\"\"\n        This function uses data as value and label as key for froming a dictionary. At the end return this dictionary.\n    \"\"\"\n    top_actors = {label: []}\n    index = []\n    \n    for item in data:\n        top_actors[label].append(item[1])\n        index.append(item[0])\n        \n    return top_actors, index\n\ntop10_actors_revenue, top10_actors_name = list_to_dict(top_actors_gross_revenue, 'actors')\n\n","932cfb34":"pd.DataFrame(top10_actors_revenue, index=top10_actors_name).plot(kind='bar',title='Top 10 actors gross revenue all time',figsize=(20, 15))\nplt.show()","fbeaf89d":"pd.DataFrame(top10_actors_revenue, index=top10_actors_name).plot(kind='pie',y='actors',title='Top 10 actors gross revenue all time',figsize=(20, 15))\nplt.show()","61ce6380":"### 2. What kind of properties made movies earn highest revenues?\n>The statistical summary shows that mean of adjustable revenue is 1.6 billion. I am considering the highest revenue earned movies are those have adjustable revenue >= 1600000000. The output of data frame 'higest_earned_movies' shows that the highest earned revenue movies have few significant properties those are given bellow\n> 1. The value of the 'popularity' column is greater than the Q3 quartile. This is the signature of earning a huge amount.\n> 2. The vote is one of the most countable action to understand a product's quality. And quality begs to earn in the normal sense.\n> Hence, both columns 'vote_count' and 'vote_averate' contain value higher than Q3 quartile\n> 3. The movie genre plays an important role to make the big shot. 5 out of 7 movies are in the Adventure genre. 3s are in Action.","e84bd89d":"### Data Cleaning (Replace this with more specific notes!)\n> Cleaning means formating data what ever its content and content type. Formating null, special character.","fabf9985":"<a id='ref'><\/a>\n## References\n1. <a href='https:\/\/pandas.pydata.org\/'>Pandas<\/a>\n2. <a href='https:\/\/matplotlib.org\/'>Matplotlib<\/a>\n3. <a href='https:\/\/stackoverflow.com\/'>Stack Overflow<\/a>","d06bccf5":"<a id='eda'><\/a>\n## Exploratory Data Analysis\n\n### 1. What genre of movies are got popularity year to year?\nThe popularity of movies can be found by the popularity or vote average column. The statistical summary shows that 75% of movies have popularity bellow 0.713817 and vote average bellow 6.6. So, I have thought only to take the movies that popularity has > 0.70. There are few findings \n<ul>\n    <li> Adventure, Drama, Action and Comedy genres are always hit<\/li>\n    <li> Since 1985 thriller movies has been getting audience<\/li>\n    <li> Romance movies were more popular in the decade 60<\/li>\n    <li> War movies are popular in the decade 60 and 70<\/li>    \n<\/ul>\n","618163c6":"### 4. Top 10 actors' gross revenue \n> The question ask to know who are in the leaderboard( top 10). The calculation is made based on the revenue the movie earned.\nResult will be shown in bar and pie graph. Harrison Ford and Tom Cruise first and second respectively.","829406f1":"# Project: Investigate a Dataset as a part of Nano Degree Program\n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#qus\">Questions<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<li><a href=\"#ref\">References<\/a><\/li>\n<\/ul>","40cdd2fd":"### 2.1 Popularity ","dbff978d":"### 2.2 Vote Count and Vote average","39115749":"<a id='conclusions'><\/a>\n## Conclusions\n\n> Overall, I got a few significant and meaningful findings and correlation of data. It seems that the movie genre has impacts on most of the findings and observations. It is related to the highest revenue, highest vote, vote count, and popularity. The next one is that the budget and revenue proportion to each other.","d13b175f":"<a id='intro'><\/a>\n\n## Introduction\n\n>Investigation finds secret information by digging data. The TMDb movie data is used that contians information about 10000 movies. A logical method of investigation fetches out relevant information. This project shows the practical application of methods we should follow. So, it start with questions and end with the conclusions. Every part uses the relevant technologies and output accordingly. The outputs are belong tentative solution. However, I tzried to find the best one to show the meaningful insight of data.  \n\n<a id='qus'><\/a>\n### Questions\n\n<ul>\n<li>What genre of movies are got popularity year to year?<\/li>\n<li>What kind of properties made movies earn highest revenues?<\/li>\n<li>Budget vs Revenue (Moving Average)<\/li>\n<li>Top 10 actors' gross revenue <\/li>\n<\/ul>","c2dd7ed4":"### 2.3 Movie Genres","1c396e6a":"<a id='wrangling'><\/a>\n## Data Wrangling\n\n### General Properties","26746103":"### 3. Budget vs Revenue (Moving Average)\n> Simply calculate the moving averate of investment and return form 1960 to 2015. \nAnd it shows that on an average movies are able to take profit."}}