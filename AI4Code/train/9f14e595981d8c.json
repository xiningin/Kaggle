{"cell_type":{"80fe95ca":"code","21690733":"code","fa80f4cd":"code","bcf4e109":"code","ad106729":"code","7b0fea0e":"code","38112131":"code","d6174633":"code","76395192":"code","09569b7b":"code","75695c81":"code","78c43a48":"code","7f5b0d60":"code","fb061155":"code","853c3467":"code","7c1acb15":"code","19b5b97b":"code","9672e4ba":"code","41059b45":"code","150934a1":"code","04eae4d2":"code","9bb5361f":"code","0c0df891":"code","46aabf51":"code","634539b8":"code","9c16f71f":"code","df135820":"code","eb25f0f9":"code","bacfe612":"code","976b25c7":"markdown","c4023954":"markdown","696e9898":"markdown","d5d7f0c9":"markdown","ee7b43ed":"markdown","9a8d1548":"markdown","0152b971":"markdown","db9d3ed6":"markdown","a1019f51":"markdown","8772f69e":"markdown","dfe89363":"markdown","e89294f1":"markdown","01f99ef9":"markdown","ed7a3c5c":"markdown","10ca6615":"markdown","2f142585":"markdown","5b03b1fc":"markdown","4425b7ce":"markdown","2c673121":"markdown","70925752":"markdown","0db571ba":"markdown","49677e59":"markdown"},"source":{"80fe95ca":"import numpy as np\nimport pandas as pd","21690733":"df = pd.read_csv('..\/input\/house-price-prediction-challenge\/train.csv')\ndf.head()","fa80f4cd":"df.info()","bcf4e109":"df.isnull().sum()","ad106729":"df['ADDRESS'].str.split(',').str[-1]","7b0fea0e":"df['CITY'] = df['ADDRESS'].str.split(',').str[-1]\ndf.head()","38112131":"X = df.loc[:, ('POSTED_BY', 'UNDER_CONSTRUCTION', 'RERA', 'BHK_NO.', 'BHK_OR_RK', 'SQUARE_FT', 'READY_TO_MOVE', 'RESALE', 'LONGITUDE', 'LATITUDE', 'CITY')].values\nX","d6174633":"y = df.iloc[:, -2].values\ny","76395192":"df.loc[:, ('POSTED_BY', 'BHK_OR_RK', 'CITY')].head()","09569b7b":"df['POSTED_BY'].unique()","75695c81":"df['BHK_OR_RK'].unique()","78c43a48":"df['CITY'].unique()","7f5b0d60":"from sklearn.preprocessing import LabelEncoder\nle = LabelEncoder()\nX[:, 10] = le.fit_transform(X[:, 10])\nX","fb061155":"le = LabelEncoder()\nX[:, 4] = le.fit_transform(X[:, 4])\nX","853c3467":"from sklearn.compose import ColumnTransformer\nfrom sklearn.preprocessing import OneHotEncoder\nct = ColumnTransformer(transformers=[('encode', OneHotEncoder(), [0])], remainder='passthrough')\nX = np.array(ct.fit_transform(X))\nX","7c1acb15":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=0)","19b5b97b":"from sklearn.ensemble import RandomForestRegressor\nregressor = RandomForestRegressor(n_estimators=11, random_state=0)\nregressor.fit(X_train, y_train)","9672e4ba":"y_pred = regressor.predict(X_test)\nnp.set_printoptions(precision=2)\nprint(np.concatenate((y_pred.reshape(len(y_pred), 1), y_test.reshape(len(y_test), 1)), 1))","41059b45":"from sklearn.metrics import r2_score, mean_squared_error, mean_squared_log_error\nprint(np.sqrt(mean_squared_log_error(y_test, y_pred)))\nprint(np.sqrt(mean_squared_error(y_test, y_pred)))\nprint(r2_score(y_test, y_pred))","150934a1":"df_test = pd.read_csv('..\/input\/house-price-prediction-challenge\/test.csv')\ndf_test.head()","04eae4d2":"df_test.info()","9bb5361f":"df_test.isnull().sum()","0c0df891":"df_test['CITY'] = df_test['ADDRESS'].str.split(',').str[-1]\ndf_test.head()","46aabf51":"test = df_test.loc[:, ('POSTED_BY', 'UNDER_CONSTRUCTION', 'RERA', 'BHK_NO.', 'BHK_OR_RK', 'SQUARE_FT', 'READY_TO_MOVE', 'RESALE', 'LONGITUDE', 'LATITUDE', 'CITY')].values\ntest","634539b8":"from sklearn.preprocessing import LabelEncoder\nle = LabelEncoder()\ntest[:, 10] = le.fit_transform(test[:, 10])\ntest","9c16f71f":"le = LabelEncoder()\ntest[:, 4] = le.fit_transform(test[:, 4])\ntest","df135820":"from sklearn.compose import ColumnTransformer\nfrom sklearn.preprocessing import OneHotEncoder\nct = ColumnTransformer(transformers=[('encode', OneHotEncoder(), [0])], remainder='passthrough')\ntest = np.array(ct.fit_transform(test))\ntest","eb25f0f9":"y_result = regressor.predict(test)\ny_result","bacfe612":"pd.DataFrame({'TARGET(PRICE_IN_LACS)': y_result}).to_csv('submission.csv', index=False)","976b25c7":"### Encode Column POSTED_BY","c4023954":"#### Encode Column BHK_OR_RK","696e9898":"### Encode Column BHK_OR_RK","d5d7f0c9":"### Importing test.csv","ee7b43ed":"## Importing Dataset","9a8d1548":"## Predicting test.csv","0152b971":"### Output Predictions File","db9d3ed6":"## Split into Features and Target Variable","a1019f51":"### Encode Column CITY","8772f69e":"### Add Column CITY","dfe89363":"## Importing Libraries","e89294f1":"## Evaluate Model","01f99ef9":"### Predict","ed7a3c5c":"### Encoding Column Categorical Data","10ca6615":"## Split into Training Set and Test Set","2f142585":"## Add Column CITY","5b03b1fc":"#### Encode Column CITY","4425b7ce":"## Training Model","2c673121":"## Encoding Column Categorical Data","70925752":"## Predict","0db571ba":"#### Encode Column POSTED_BY","49677e59":"### Make Features Variable "}}