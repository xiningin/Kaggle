{"cell_type":{"069e5979":"code","353e7b10":"code","3c7410ac":"code","f16b5b67":"code","9b1bdf61":"code","ccb084f2":"code","82277877":"code","df7d82b6":"code","4dbdc3c6":"code","9a208674":"code","4210a447":"code","51914d1f":"code","0960d760":"code","39df2a8e":"code","841905c3":"code","697e2a4e":"code","fd994595":"code","9e28044c":"code","efb5d7af":"code","e92e9afe":"code","63d5f680":"code","09695ff4":"code","6e70c910":"code","afe4874b":"code","a610b759":"code","dc46de34":"code","aa2452ca":"code","35887408":"code","bde8de2c":"code","dc51175d":"code","3255a9e2":"code","6f61651e":"code","9a3d3fa6":"code","1c3a337e":"code","8bcb74e5":"code","758b6065":"code","ca0edd15":"code","358fb02a":"code","257c2737":"code","19a25c07":"code","5500bda8":"code","89ea3438":"code","09a86d89":"code","a52f76b1":"code","b54c0c13":"markdown","85ab03d7":"markdown","0e54826d":"markdown","e0f3de11":"markdown","a980be36":"markdown","4c815974":"markdown","ad9e605b":"markdown","63ff4bf2":"markdown","2184e624":"markdown","f70ee775":"markdown","c17d00a5":"markdown","302ff4f8":"markdown","63190a89":"markdown","538afe33":"markdown","62119075":"markdown","8af77676":"markdown","ec8a8765":"markdown","12517d47":"markdown","1213ee66":"markdown","2e9dc6f6":"markdown","a5e2626d":"markdown","929610ac":"markdown","de765ac3":"markdown","a4f1dd9a":"markdown","fc60fda6":"markdown","b1b774dc":"markdown","ce37648e":"markdown","e2e2e160":"markdown","327a92b7":"markdown","491c7757":"markdown","608165df":"markdown","d47ac833":"markdown","4f1c6652":"markdown","e12aa5ae":"markdown","34764e97":"markdown","5e6dfcdd":"markdown","9eff557a":"markdown","aafe0a74":"markdown","50eb26be":"markdown","e609c5ce":"markdown","161511fe":"markdown"},"source":{"069e5979":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt","353e7b10":"df = pd.read_csv('..\/input\/treatment-of-migraine-headaches\/KosteckiDillon.csv',index_col=0)","3c7410ac":"df.head()","f16b5b67":"df['headache'].value_counts()","9b1bdf61":"df_headache_yes = df[df['headache'] == 'yes']['age']\ndf_headache_no = df[df['headache'] == 'no']['age']","ccb084f2":"from scipy.stats import shapiro,bartlett,mannwhitneyu\nprint(shapiro(df_headache_yes))\nprint(shapiro(df_headache_no))","82277877":"df_headache_no.plot(kind = 'density')","df7d82b6":"df_headache_yes.plot(kind = 'density')","4dbdc3c6":"bartlett(df_headache_no,df_headache_yes)","9a208674":"mannwhitneyu(df_headache_no,df_headache_yes)","4210a447":"df['sex'].value_counts()","51914d1f":"ct = pd.crosstab(df['headache'],df['sex'])\nprint(ct)","0960d760":"prop_female_headache = 2279\/3545\nprop_male_headache = 387\/607\nprint(prop_female_headache,prop_male_headache)","39df2a8e":"from statsmodels.stats.proportion import proportions_ztest\nx = np.array([2279,387])\nn=  np.array([3545,607])\nproportions_ztest(x,n)","841905c3":"ct = pd.crosstab(df['hatype'],df['sex'])\nprint(ct)","697e2a4e":"from scipy.stats import chi2_contingency\nchi2_contingency(ct)","fd994595":"print('Aura : Female - ',1593\/3545,\", Male - \",117\/607)\nprint('Mixed : Female - ',291\/3545,\", Male - \",166\/607)\nprint('No Aura : Female - ',1661\/3545,\", Male - \",324\/607)","9e28044c":"df = pd.read_csv('..\/input\/ibm-data\/ibm.csv')","efb5d7af":"df.drop('Over18',axis = 1,inplace = True)","e92e9afe":"df.head()","63d5f680":"df['Attrition'].value_counts()","09695ff4":"df['Gender'].value_counts()","6e70c910":"pd.crosstab(df['Attrition'],df['Gender'])","afe4874b":"prop_attrition_female = 87\/588\nprop_attrition_male = 150\/882","a610b759":"from statsmodels.stats.proportion import proportions_ztest\ncount = np.array([87,150])\nnobs = np.array([588,882])\nproportions_ztest(count,nobs)","dc46de34":"df['Department'].value_counts()","aa2452ca":"ct = pd.crosstab(df['Attrition'],df['Department'])\nct","35887408":"from scipy.stats import chi2_contingency\nchi2_contingency(ct)","bde8de2c":"prop_attrition_yes_HR = 12\/63\nprop_attrition_yes_RnD = 133\/961\nprop_attrition_yes_Sales = 92\/446\nprop_attrition_no_HR = 51\/63\nprop_attrition_no_RnD = 828\/961\nprop_attrition_no_Sales = 354\/446\nprint('prop_attrition_yes_HR : ',prop_attrition_yes_HR)\nprint('prop_attrition_yes_RnD : ',prop_attrition_yes_RnD)\nprint('prop_attrition_yes_Sales : ',prop_attrition_yes_Sales)\nprint('prop_attrition_no_HR : ',prop_attrition_no_HR)\nprint('prop_attrition_no_RnD : ',prop_attrition_no_RnD)\nprint('prop_attrition_no_Sales : ',prop_attrition_no_Sales)","dc51175d":"df_male_income = df[df['Gender'] == 'Male']['MonthlyIncome']\ndf_female_income = df[df['Gender'] == 'Female']['MonthlyIncome']","3255a9e2":"from scipy.stats import shapiro\nprint(shapiro(df_male_income))\nprint(shapiro(df_female_income))","6f61651e":"from scipy.stats import bartlett\nprint(bartlett(df_male_income,df_female_income))","9a3d3fa6":"from scipy.stats import mannwhitneyu\nprint(mannwhitneyu(df_male_income,df_female_income))","1c3a337e":"print(df_male_income.mean(),df_female_income.mean())","8bcb74e5":"df_HR_income = df[df['Department'] == 'Human Resources']['MonthlyIncome']\ndf_RnD_income = df[df['Department'] == 'Research & Development']['MonthlyIncome']\ndf_Sales_income = df[df['Department'] == 'Sales']['MonthlyIncome']","758b6065":"from scipy.stats import f_oneway\nf_oneway(df_HR_income,df_RnD_income,df_Sales_income)","ca0edd15":"print('Avg monthly income of HR Department : ',df_HR_income.mean())\nprint('Avg monthly income of R&D Department : ',df_RnD_income.mean())\nprint('Avg monthly income of Sales Department : ',df_Sales_income.mean())","358fb02a":"df['Education'].value_counts()","257c2737":"df_mnthInc_EduLvl1 = df[df['Education'] == 1]['MonthlyIncome']\ndf_mnthInc_EduLvl2 = df[df['Education'] == 2]['MonthlyIncome']\ndf_mnthInc_EduLvl3 = df[df['Education'] == 3]['MonthlyIncome']\ndf_mnthInc_EduLvl4 = df[df['Education'] == 4]['MonthlyIncome']\ndf_mnthInc_EduLvl5 = df[df['Education'] == 5]['MonthlyIncome']","19a25c07":"f_oneway(df_mnthInc_EduLvl1,df_mnthInc_EduLvl2,df_mnthInc_EduLvl3,df_mnthInc_EduLvl4,df_mnthInc_EduLvl5)","5500bda8":"print('Avg monthly income for employees with Education Level 1 : ',df_mnthInc_EduLvl1.mean())\nprint('Avg monthly income for employees with Education Level 2 : ',df_mnthInc_EduLvl2.mean())\nprint('Avg monthly income for employees with Education Level 3 : ',df_mnthInc_EduLvl3.mean())\nprint('Avg monthly income for employees with Education Level 4 : ',df_mnthInc_EduLvl4.mean())\nprint('Avg monthly income for employees with Education Level 5 : ',df_mnthInc_EduLvl5.mean())","89ea3438":"df.boxplot(column='MonthlyIncome',by = 'Education')","09a86d89":"df.boxplot(column='MonthlyIncome',by = 'Department')","a52f76b1":"df.boxplot(column='MonthlyIncome',by = 'Gender')","b54c0c13":"We can see from the oneway test that the monthly income of employees is affected by deparment as the pvalue is less than 0.05.","85ab03d7":"We can see from the chi2 test that the attrition rate is affected by deparment as the pvalue is less than 0.05.\n##### Post hoc analysis","0e54826d":"### Adjusted Rsquare","e0f3de11":"H0 : prop_attrition_HR = prop_attrition_R&D = prop_attrition_Sales\n\nH1 : prop_attrition_HR != prop_attrition_R&D != prop_attrition_Sales","a980be36":"***Please UpVote if you like the work!!!***","4c815974":"We can see from the oneway test that the monthly income of employees is affected by education level of the employee as the pvalue is less than 0.05.","ad9e605b":"Fail to reject the null hypothesis. So gender is not the factor affecting the headaches.","63ff4bf2":"H0 : avg_mnthInc_EduLvl1 = avg_mnthInc_EduLvl2 = avg_mnthInc_EduLvl3 = avg_mnthInc_EduLvl4 = avg_mnthInc_EduLvl5\n\nH1 : avg_mnthInc_EduLvl1 != avg_mnthInc_EduLvl2 != avg_mnthInc_EduLvl3 != avg_mnthInc_EduLvl4 != avg_mnthInc_EduLvl5","2184e624":"As the p-value is greater than 0.05, we fail to reject the null hypothesis. So we can say that the attrition rate of the organisation is not based on Gender.","f70ee775":"We can see, Female are highly sensitive to Aura type of headaches, Male are highly sensitive to Miixed type of headache and for No Aura, both Female and Male are quite equally sensitive.","c17d00a5":"As p-value is very less, we reject the null hypothesis that the samples are normally distributed. So now we will check for Bartllet test for checking the variance.\n##### Bartlett test (Test for equal variances)","302ff4f8":"##### Post hoc analysis","63190a89":"##### Post hoc analysis","538afe33":"### Check whether 'age' is a factor affecting 'headache'","62119075":"##### Shapiro test","8af77676":"adj_rsquare = (1-rsquare)*(N-1)\/(N-p-1)\n\nN -> total number of observations in sample\n\np -> number of features","ec8a8765":"3. Is there any discrepancy in monthly income avg with respect to Gender.","12517d47":"5. Is there any discrepancy in monthly income avg with respect to Education.","1213ee66":"##### Post hoc analysis","2e9dc6f6":"***Please UpVote if you like the work!!!***","a5e2626d":"### Check whether 'gender' is a factor affecting 'headache'","929610ac":"##### Bartlett test","de765ac3":"As we can see quite evidently that the employees from Sales department has an average monthly income of around 7000 whereas employees from Reasearch and Development have an average monthly income of around 6300. So there seems to be quiet a significant difference in their salaries.","a4f1dd9a":"H0 : avg_monthlyincome_HR = avg_monthlyincome_R&D = avg_monthlyincome_Sales\n\nH1 : avg_monthlyincome_HR != avg_monthlyincome_R&D != avg_monthlyincome_Sales","fc60fda6":"H0 : avg_monthlyincome_female = avg_monthlyincome_male\n\nH1 : avg_monthlyincome_female != avg_monthlyincome_male","b1b774dc":"1. Check whether attrition rate is based on Gender.","ce37648e":"As we can see, the probability of H0 being true is very very negligible, so we reject H0 and can say that age is a factor which affects the headache.","e2e2e160":"### Check whether 'gender' is a factor affecting 'hatype'(headache type)","327a92b7":"##### Manwhitneyu","491c7757":"2. Check whether attrition rate is based on Department.","608165df":"4. Is there any discrepancy in monthly income avg with respect to Department.","d47ac833":"Reject the null hypothesis. So gender is a factor affecting the types of headaches.","4f1c6652":"Attrition rate of Research and Development Department is quiet less as compared to HR and Sales deparment.","e12aa5ae":"H0 : prop_attrition_female = prop_attrition_male\n\nH1 : prop_attrition_female != prop_attrition_male","34764e97":"##### Check for normality (Shapiro Test)","5e6dfcdd":"Even the bartlett test fails as pvalue is less than 0.05. So the variances of both the samples are also not equal. So we need to go for non-parametric test.\n##### Manwhitneyu\nH0 : avg_age_headache = avg_age_no_headache\n\nH1 : avg_age_headache != avg_age_no_headache","9eff557a":"As we can see quite evidently that females an average monthly income of around 6700 whereas males have an average monthly income of around 6400. So there seems to be quiet a significant difference in their salaries.","aafe0a74":"##### Post hoc analysis","50eb26be":"As the p-value is less than 0.05, we reject the null hypothesis. So we can say that the avg monthly income of the empoyees in the organisation is Gender based.","e609c5ce":"##### H0 : prop_female_headache = prop_male_headache\n##### H1 : prop_female_headache != prop_male_headache","161511fe":"As we can see quite evidently that the employees with Higher Education level has higher average monthly income."}}