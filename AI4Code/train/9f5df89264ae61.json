{"cell_type":{"ec037bdd":"code","45c0bee0":"code","17f1b12b":"code","1b9b064f":"code","28ef78b0":"code","7d6ded1d":"code","020b1ea7":"code","3796a39c":"code","10e0ecf3":"code","fb8a5142":"code","f39ab01e":"code","4acd1877":"code","1d679bae":"markdown","30e62ad3":"markdown","896e5c77":"markdown","f9f7d58f":"markdown","455c6da4":"markdown","b6265f8c":"markdown","c96916f0":"markdown","87017864":"markdown","18e010ae":"markdown","f31934a1":"markdown","4827218a":"markdown","919cfc68":"markdown","18d50af1":"markdown"},"source":{"ec037bdd":"\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport plotly.express as px\nimport pydicom\n\nimport warnings\nwarnings.filterwarnings('ignore')","45c0bee0":"train_data = pd.read_csv('..\/input\/osic-pulmonary-fibrosis-progression\/train.csv')\ntest_data = pd.read_csv('..\/input\/osic-pulmonary-fibrosis-progression\/test.csv')\n\ntrain_data.head()","17f1b12b":"print(train_data.shape)\nprint('----------------------------')\n\n#null values in test & train data\nprint(train_data.isnull().sum())\nprint('----------------------------')\nprint(test_data.isnull().sum())\nprint('----------------------------')\n\n#data type of each column\nprint(train_data.dtypes)","1b9b064f":"#total unique id's of the patients as from shape we know total id's are 1549\ntrain_data['Patient'].nunique()","28ef78b0":"fig, ax = plt.subplots(2,2, figsize=(15,7))\nplt.subplots_adjust(bottom=0, right=1, top=1)\n\nax[0,0].set_title('Total No.', color='red', fontsize = 15)\nsns.countplot('Sex', data= train_data, palette='Blues', ax= ax[0,0] )\n\nax[1,0].set_title('Smoking Status', color='red', fontsize = 15)\nsns.countplot('SmokingStatus', data=train_data, palette='Blues', ax=ax[1,0])\n\nax[1,1].set_title('Smoking status by Sex', color='red', fontsize = 15)\nsns.countplot('Sex', data=train_data, hue='SmokingStatus', palette = 'Blues', ax=ax[1,1])\n\n#gender percentage\ncount = [train_data['Sex'].value_counts().values]\nlabels = ['male', 'female']\nexplode = (0.1,0)\n\nax[0,1].set_title('Percentage of male and female', color='red', fontsize = 15)\nax[0,1].pie(count, labels=labels,\n       explode = explode, \n       shadow= True,  \n       autopct='%1.1f%%')\nax[0,1].axis('equal') \nplt.show()\n\n","7d6ded1d":"id_count = pd.DataFrame(train_data['Patient'].value_counts())\nid_count['id'] =id_count.index\nid_count.columns= ['count','id']\n\nfig = px.bar(id_count, x='id',y ='count',color='count')\nfig.update_xaxes(showticklabels=False)\nfig.show()","020b1ea7":"fig, ax = plt.subplots(1,4, figsize =(23,3))\nplt.subplots_adjust(bottom=0, right=1, top=1)\n\nax[0].set_title('Age', color='red', fontsize = 15)\nsns.distplot(train_data['Age'],  color=\"r\", ax=ax[0])\n\nax[1].set_title('Weeks', color='red', fontsize = 15)\nsns.distplot(train_data['Weeks'],  color=\"g\", ax=ax[1])\n\nax[2].set_title('Percent', color='red', fontsize = 15)\nsns.distplot(train_data['Percent'],  color=\"c\", ax=ax[2])\n\nax[3].set_title('FVC', color='red', fontsize = 15)\nsns.distplot(train_data['FVC'],  color=\"b\", ax=ax[3])\nplt.show()","3796a39c":"fig = px.histogram(train_data, x='Age', color='SmokingStatus', marginal=\"violin\",color_discrete_map={'Ex-smoker':'#393E46','Never smoked':'#7c7c79','Currently smokes':'#04d6cb'})\nfig.update_traces(marker_line_color='cyan',marker_line_width=1.5, opacity=0.85)\nfig.show()","10e0ecf3":"fig = px.histogram(train_data, x='Age', color='Sex',marginal=\"violin\", color_discrete_map={'Male':'#393E46','Female':'#04d6cb'})\nfig.update_traces(marker_line_color='black',marker_line_width=1.5, opacity=0.85)\nfig.show()","fb8a5142":"fig = px.histogram(train_data, x='FVC', color='Sex', title='FVC by Gender', marginal=\"violin\", color_discrete_map={'Male':'#393E46','Female':'#04d6cb'})\nfig.update_traces(marker_line_color='black',marker_line_width=1.5, opacity=0.85)\nfig.show()","f39ab01e":"fig = px.histogram(train_data, x='FVC', color='SmokingStatus', marginal=\"violin\",color_discrete_map={'Ex-smoker':'#393E46','Never smoked':'#7c7c79','Currently smokes':'#04d6cb'})\n#fig.update_traces(marker_line_color='black',marker_line_width=1.5, opacity=0.85)\nfig.update_layout(title='FVC by Smoking Status')\nfig.show()","4acd1877":"img_path = \"..\/input\/osic-pulmonary-fibrosis-progression\/train\/ID00027637202179689871102\/125.dcm\"\nimg = pydicom.dcmread(img_path)\nfig, ax = plt.subplots(1,3, figsize=(20,10))\nax[0].imshow(img.pixel_array,cmap='nipy_spectral')\nax[1].imshow(img.pixel_array,cmap='hot')\nax[2].imshow(img.pixel_array,cmap=plt.cm.bone)\n\nplt.show()","1d679bae":"> ## Visualizing images","30e62ad3":"> ## No. of images per  unique patient","896e5c77":"> # Age & Smoking Status","f9f7d58f":"> # Visualizing Training data","455c6da4":">  # Explore the data","b6265f8c":"1. > # EXPLORING FVC\n>      Normal values in healthy males aged 20-60 range from 3500 to 4500 ml, and normal values for females aged 20-60 range from 2500 to 3500 ml.","c96916f0":"\n*    **Patient** - a unique Id for each patient (also the name of the patient's DICOM folder)\n*    **Weeks** - the relative number of weeks pre\/post the baseline CT (may be negative)\n*    **FVC** - the recorded lung capacity in ml (Forced vital capacity)\n*    **Percent** - a computed field which approximates the patient's FVC as a percent of the typical FVC for a person of similar characteristics\n*    **Age** - Age of person\n*    **Sex** - Sex of person (Male\/Female)\n*    **SmokingStatus** - Whether the patient is a smoker\/non-smoker\/ex-smoker\n","87017864":"### No Missing Data\n### 1549 rows AND 7 columns","18e010ae":"*  Age is Normal distribution.\n*  Weeks is right skewed  distribution.\n*  Percent is also right skewed distrivution.\n*  FVC is also  little right skewed","f31934a1":"From the visualization we can see that \n1. gender class is imbalanced male count is higher then female\n2. Ex-smoker are heigher AND currently smoking people are very less\n3. male has Ex-smokers higher then other 2 catogeries and female has Never-smoked higher then other 2 catogeries\n\n","4827218a":"> # **Total  unique patient id's**","919cfc68":"> # Age & Gender","18d50af1":"> # Distribution of the data"}}