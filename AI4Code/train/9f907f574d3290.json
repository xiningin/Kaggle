{"cell_type":{"3f946c77":"code","6981ecd4":"code","953bf031":"code","154c0e9e":"code","a0a453af":"code","65cc9be6":"code","82d2e4e0":"code","a9be69d2":"code","4152a7ce":"code","1fa08bb1":"code","f7f50750":"code","fe9e6948":"code","7cf19fb1":"code","7417c385":"code","f08115e9":"code","2ae4930c":"code","1dc8218d":"code","f7df1b34":"code","db3606b1":"code","23c44033":"code","bac80c04":"code","0e0c3bcb":"code","5ef9c260":"code","cdbf259c":"code","e3c083e8":"code","d8820588":"code","34c0dad7":"code","db51d776":"markdown","0c1b87d3":"markdown","baa9467a":"markdown","99fa6290":"markdown","b899290a":"markdown","8621683d":"markdown","9e8ed991":"markdown","40f1e530":"markdown","35320fab":"markdown","000b420b":"markdown","44d765ba":"markdown","72c6ed12":"markdown","ab36410a":"markdown","4b38a311":"markdown"},"source":{"3f946c77":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport warnings\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","6981ecd4":"#Show all columns\npd.set_option('display.max_columns', None)\n\n#Ignore warnings\nwarnings.filterwarnings(\"ignore\")\nwarnings.simplefilter(action='ignore', category=FutureWarning)","953bf031":"#Read Data\ndf_ = pd.read_excel(\"..\/input\/pareto\/online_retail_II.xlsx\", sheet_name=\"Year 2010-2011\")\n\n#Copy Data\ndf = df_.copy()","154c0e9e":"#Show Top 5 Rows\ndf.head()","a0a453af":"#Show column datatypes\ndf.info()","65cc9be6":"#Show row and column numbers\ndf.shape","82d2e4e0":"#Exclude Cancel Invoices\ndf = df[~df[\"Invoice\"].str.contains(\"C\", na=False)]\n\n#Exclude Negative Quantities\ndf = df[df[\"Quantity\"] > 0]\n\n#Drop NA records\ndf.dropna(inplace=True)","a9be69d2":"#Add \"TotalPrice\" Column in Dataset\ndf[\"TotalPrice\"] = df[\"Quantity\"] * df[\"Price\"]","4152a7ce":"df.head()","1fa08bb1":"#Convert Datatype\ndf[\"Customer ID\"] = df[\"Customer ID\"].astype(str)","f7f50750":"df.describe().T","fe9e6948":"#Calculate TotalPrice Per Customer and Product\ndf = df.groupby([\"Customer ID\",\"StockCode\"]).agg({\"TotalPrice\": \"sum\"}).sort_values(\"TotalPrice\", ascending=False)\n\ndf.reset_index(inplace=True)\n\ndf.head()","7cf19fb1":"df[\"TotalPrice\"].sum()","7417c385":"#Calculate TotalPrice Per Product\ndf_product = df.groupby(\"StockCode\").agg({\"TotalPrice\": \"sum\"}).sort_values(\"TotalPrice\", ascending=False)\n\ndf_product.reset_index(inplace=True)\n\ndf_product.head()","f08115e9":"df_product[\"TotalPrice\"].sum()","2ae4930c":"#Calculate Cumulative TotalPrice for Products\ndf_product['SumTotalPrice'] = df_product.TotalPrice.cumsum()\n\ndf_product","1dc8218d":"#Describe a Threshold\nthreshold = df_product[\"TotalPrice\"].sum() * 0.80\n\nthreshold","f7df1b34":"#Find products that make up 80% revenue.\ndf_ProductPer80 = df_product[df_product['SumTotalPrice'] <= threshold]\n\ndf_ProductPer80","db3606b1":"df_ProductPer80[\"StockCode\"].nunique()","23c44033":"df_ProductPer80[\"StockCode\"].nunique()\/df_product[\"StockCode\"].nunique()","bac80c04":"#Calculate TotalPrice Per Product\ndf_customer = df.groupby(\"Customer ID\").agg({\"TotalPrice\": \"sum\"}).sort_values(\"TotalPrice\", ascending=False)\n\ndf_customer.reset_index(inplace=True)\n\ndf_customer.head()","0e0c3bcb":"df_customer[\"TotalPrice\"].sum()","5ef9c260":"#Calculate Cumulative TotalPrice for Products\ndf_customer['SumTotalPrice'] = df_customer.TotalPrice.cumsum()\n\ndf_customer","cdbf259c":"#Describe a Threshold\nthreshold = df_customer[\"TotalPrice\"].sum() * 0.80\n\nthreshold","e3c083e8":"#Find customers that make up 80% revenue.\ndf_CustomerPer80 = df_customer[df_customer['SumTotalPrice'] <= threshold]\n\ndf_CustomerPer80","d8820588":"df_CustomerPer80[\"Customer ID\"].nunique()","34c0dad7":"df_CustomerPer80[\"Customer ID\"].nunique()\/df_customer[\"Customer ID\"].nunique()","db51d776":"80% of the total price is 7129140","0c1b87d3":"These products are **26%** of all customers.","baa9467a":"**Read Data**","99fa6290":"80% of the revenue comes from 1132 customers.","b899290a":"**Set Configurations**","8621683d":"**Data Understanding**","9e8ed991":"**Invoice** : The number of the invoice, unique per each purchase. Refund invoice numbers contain \"C\"\n\n**StockCode** : Unique code per each item\n\n**Description** : Name of the item\n\n**Quantity** : The number of items within the invoice\n\n**InvoiceDate** : Date and time of the purchase\n\n**Price** : Price of a single item, as of Sterlin\n\n**CustomerID** : Unique id number per each customer\n\n**Country** : The country where the customer is living","40f1e530":"**Data Preperation**","35320fab":"The Pareto Principle is very simple, yet very important. It is named after Italian economist Vilfredo Pareto, who, in 1906, found that 80% of the land in Italy was owned by 20% of the population.\n\nWhat was most important about Pareto\u2019s finding was that this 80\/20 distribution occurs extremely frequently. For example, in general, 20% of your customers represent 80% of your sales. And 20% of your time produces 80% of your results. ","000b420b":"These products are **21%** of all products.","44d765ba":"80% of the total price is 7129140 ","72c6ed12":"80% of the revenue comes from 776 products.","ab36410a":"**Which customers make up 80 percent of the company's revenues? What is the ratio of these customers to all customers?**","4b38a311":"**Which products make up 80 percent of the company's revenues? What is the ratio of these products to all products?**"}}