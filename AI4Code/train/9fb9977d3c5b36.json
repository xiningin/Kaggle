{"cell_type":{"6092f26d":"code","7871d917":"code","3a39d369":"code","df2538eb":"code","b1500e13":"code","19f3a0f9":"code","0f1f16f8":"code","8ab17ef1":"code","052b74d7":"code","cf6f50e4":"code","64e14e20":"code","7637f2a4":"code","1e22ad28":"code","bb60c429":"code","7f6a0686":"code","f5418d2a":"code","44cea8ab":"code","eab9e0ee":"code","3fba6028":"code","f1f42a3c":"code","80c4d13f":"code","27740392":"code","f66124e8":"code","de9f5c08":"code","cabe3b17":"code","0cc61210":"code","9d41621c":"code","c625e27b":"code","c428f3db":"code","cc81038a":"code","8a18f6d0":"code","151c04e4":"code","243cf02b":"code","16642c46":"code","5b5eef56":"code","57174d41":"code","48a2e954":"code","ec8cc595":"code","29e2fe4f":"code","36b5fbf1":"markdown","0fb0854c":"markdown","5b1681e2":"markdown","16ee9e82":"markdown","980454a6":"markdown","2910c03d":"markdown","c0213b9c":"markdown","f20f4b88":"markdown","e8320cb9":"markdown","27db4d91":"markdown","c18a5588":"markdown","e9833bf8":"markdown","e7601beb":"markdown","a8b61e87":"markdown","17159d8c":"markdown","edfa24d1":"markdown","0bec783e":"markdown","848aca44":"markdown","fb208d4f":"markdown","ef95cae7":"markdown","686abb2f":"markdown","d72c98f8":"markdown","381485a5":"markdown","cf7faeb5":"markdown","0015cbcb":"markdown","d37be0fc":"markdown","a253fc54":"markdown","26ba727b":"markdown","8b3b5190":"markdown","9f5a3e34":"markdown","97ab1a53":"markdown","4ed33cbe":"markdown","d4399316":"markdown","6dcf91e6":"markdown","f224b192":"markdown"},"source":{"6092f26d":"#importing libraries\nimport pandas as pd\nimport numpy as np \nfrom ast import literal_eval\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n","7871d917":"#impoting data\nraw_data=pd.read_csv('..\/input\/tmdb-movie-metadata\/tmdb_5000_movies.csv')\n\n#discovering The data \nraw_data.head(3)\n","3a39d369":"raw_data.shape","df2538eb":"raw_data.dtypes","b1500e13":"raw_data.isnull().any()","19f3a0f9":"raw_data.describe()","0f1f16f8":"#creating varabiles for raw abd columns to not the The difference after dropping \nraw,col=raw_data.shape\n\n\nraw_data.isnull().any()","8ab17ef1":"raw_data.columns","052b74d7":"#choosing the columns \ndata=raw_data[['budget', 'genres','original_language',\n       'popularity', 'production_companies',\n       'production_countries', 'release_date', 'revenue', 'runtime', 'title', 'vote_average',\n       'vote_count']]\n\n#dropping the N\/A\ndf=data.dropna()\n","cf6f50e4":"#knowing how many col and rows we dropped \nnew_raw,new_col=df.shape\nprint(\"we dropped:\",raw-new_raw,'rows',',',col-new_col,'columns')","64e14e20":"df.head()\n#we have in genres , production_countries , production_companies list of dicts ,,,, so we will try to turn it into str","7637f2a4":"new_data=df.copy()\n\n#function iterates over the list and return the first name in the first dictionary \ndef name(col):\n        names = [i['name'] for i in col]\n        names = names[:1]\n        return names\n    \n#function converts the list into a string \ndef list_String(st):  \n    string = \" \"  \n    return (string.join(st))\n    \n#applying the functions:\n\nnew_data['genres'] =new_data['genres'].apply(literal_eval)\nnew_data['production_companies'] = new_data['production_companies'].apply(literal_eval)\nnew_data['production_countries']=new_data['production_countries'].apply(literal_eval)\n#note:literal_eval is a function make the list readable \n\nnew_data['genres'] = new_data['genres'].apply(name)\nnew_data['production_companies'] = new_data['production_companies'].apply(name)\nnew_data['production_countries']=new_data['production_countries'].apply(name)\n\n\nnew_data['genres'] = new_data['genres'].apply(list_String)\nnew_data['production_companies'] =new_data['production_companies'].apply(list_String)\nnew_data['production_countries']=new_data['production_countries'].apply(list_String)\n","1e22ad28":"#reformatting the date type\nnew_data['release_date']=pd.to_datetime(new_data['release_date'])","bb60c429":"print(new_data.dtypes)\nnew_data.head()","7f6a0686":"new_data.sort_values(by='vote_average',ascending=False).head(2)\n","f5418d2a":"new_data.describe()","44cea8ab":"#dealing with the outliers by assigned to the 25th precentail,but with 1 with revenue \nnew_data=new_data[(new_data['budget']> 1000) & (new_data['vote_count']> 54) & (new_data['revenue']> 1)]","eab9e0ee":"new_data.describe()","3fba6028":"new_data.sort_values(by='vote_average',ascending=False).head(2)\n#this kinda right ,'The Shawshank Redemption' is the toppiest movie\n","f1f42a3c":"new_raw,new_col=new_data.shape\nprint(\"we dropped:\",raw-new_raw,'rows',',',col-new_col,'columns.')","80c4d13f":"new_data.columns","27740392":"time_data= new_data.copy()","f66124e8":"time_data.index=time_data['release_date']\ntime_data.drop('release_date',axis=1,inplace=True)","de9f5c08":"sns.set(rc={'figure.figsize':(7,5)})","cabe3b17":"time_data[['budget']].resample('Y').sum().plot()\nplt.ylabel('million dollar');\nplt.title('movie industry money over time');","0cc61210":"time_data[['popularity']].resample('Y').sum().plot()\n","9d41621c":"time_data[['vote_average']].resample('Y').mean().plot()\nplt.title('vote_average over time');\nplt.ylabel ('the rate');\n","c625e27b":"time_data.query('vote_average > 7.9')['vote_average'].resample('Y').mean().dropna().plot()","c428f3db":"new_data.sort_values(by=['vote_average'],ascending=False,inplace=True)\n#we sort by the Vote average to get the top movies ","cc81038a":"new_data.head(20).groupby(['genres']).count().plot.pie(y='budget',figsize=(10,10),autopct=\"%.2f\")\nplt.title('the largest genre')\nplt.ylabel('');","8a18f6d0":"tr =new_data.groupby(['genres','release_date']).count()[['budget']]\ntr=tr.reset_index()\ntr['count']=1\ntr=tr.pivot_table(index='release_date',columns='genres',values='count',aggfunc='sum').resample('5Y').sum()\n\nttr=tr.T\n\nttr['sum']=ttr.sum(axis = 1, skipna = True) \n\nttr.sort_values(by='sum',ascending=False,inplace=True)\n\nttr=ttr.head(6).drop('sum',axis=1)\n\nttr.T.plot(kind='barh',figsize=(10,18),grid=True)\nplt.title('people teste changes over time');","151c04e4":"new_data.head(100).groupby(['production_countries']).count().plot.pie(y='budget',figsize=(10,10),autopct=\"%.2f\")\nplt.title('the counties movies producation');\nplt.ylabel('number of movies');","243cf02b":"tr =new_data.groupby(['production_countries','release_date']).count()[['budget']]\ntr=tr.reset_index()\ntr['count']=1\ntr=tr.pivot_table(index='release_date',columns='production_countries',values='count',aggfunc='sum').resample('10Y').sum()\n\nttr=tr.T\n\nttr['sum']=ttr.sum(axis = 1, skipna = True) \n\nttr.sort_values(by='sum',ascending=False,inplace=True)\n\nttr=ttr.head(20).drop('sum',axis=1)\n\nttr.T.plot(kind='barh',figsize=(8,15),grid=True)\nplt.title('people teste changes over time');","16642c46":"new_data.head(20).groupby(['production_companies']).count().plot.pie(y='budget',figsize=(9,15),autopct=\"%.2f\")\nplt.title('the largest production_companies');\nplt.ylabel('');","5b5eef56":"tr =new_data.groupby(['production_companies','release_date']).count()[['budget']]\ntr=tr.reset_index()\ntr['count']=1\ntr=tr.pivot_table(index='release_date',columns='production_companies',values='count',aggfunc='sum').resample('10Y').sum()\n\nttr=tr.T\n\nttr['sum']=ttr.sum(axis = 1, skipna = True) \n\nttr.sort_values(by='sum',ascending=False,inplace=True)\n\nttr=ttr.head().drop('sum',axis=1)\n\nttr.T.plot(kind='barh',figsize=(15,10),grid=True)\nplt.title('people teste changes over time');","57174d41":"top_df=new_data.set_index('title')\ntop_df[['budget','revenue']].head(20).plot(kind='barh',stacked=True,figsize=(10,10),grid=True);\nplt.title('the budget of the movie over the revenue of the 20 top movies');\nplt.xlabel('money per hundred million ');","48a2e954":"new_data.index=new_data[['title']]","ec8cc595":"new_data['profit']=new_data['revenue']-new_data['budget']\nnew_data.sort_values(by=['profit'],ascending=False)['profit'].head(20).plot(kind='barh',figsize=(10,10),grid=True);\nplt.title('the most prfitable movies')\nplt.xlabel('milion dillor')","29e2fe4f":"new_data['profit']=new_data['revenue']\/new_data['budget']\nnew_data.sort_values(by=['profit'],ascending=False)['profit'].head(20).plot(kind='barh',figsize=(10,10),grid=True);\nplt.title('The film is the most profitable proportionately')\nplt.xlabel('times profit')","36b5fbf1":"--------------------------------------------------------------------------------------------------------------","0fb0854c":"***note*** : release_date is read as object , it's supposed to be in dateformat .","5b1681e2":"<a id='intro'><\/a>\n## Introduction\n\n> **into**: we have here Movies-dataset consistences of 4803 rows and 20 columns  \nthe main features:\n('title', 'budget', 'genres','original_language','popularity', 'production_companies','production_countries', 'release_date', 'revenue', 'runtime', 'vote_average' and 'vote_count')\n\n>**what are we trying to know ?**\n\n<ul>\n \n    \n    \n   <li><a href=\"#Q1\">Q1<\/a><\/li>\n    how is the movie industry changing over Time regarding the Rate,buget and popularity ?\n    \n   <li><a href=\"#Q2\">Q2<\/a><\/li>\n    what are the most popular genres ? \" and how it changes over time ? \"\n    \n    \n   <li><a href=\"#Q3\">Q3<\/a><\/li>\n    what is the biggest country in movie industry ? \" and how it changes over time ? \"\n    \n   <li><a href=\"#Q4\">Q4<\/a><\/li>\n    what is the biggest company in movie industry ? \" and how it changes over time ? \"\n    \n   <li><a href=\"#Q5\">Q5<\/a><\/li>\n   comparing between revenue and budget \n    \n <\/ul>\n\n\n","16ee9e82":"***note***: as we see the US has the biggest chunck in movie industry over time \n\nthere's no any competitive too .  ","980454a6":"#as we sorted the data by the ['vote_average'],,, \"Me You and Five Bucks\" not the toppest movie in IMBD website\n","2910c03d":"***dealing with outliers ***","c0213b9c":"***note*** : we have some null columns , we better drop the null after choosing our columns .","f20f4b88":"--------------------------------------------------------------------------------------------------------------","e8320cb9":"<a id='Q3'><\/a>\n### Question 3 (  what is the biggest country in movie industry ? )\n","27db4d91":"***note*** : we have movies with 0 popularity , vote_average and vote_count  \"\"which considered outliers\"\"\"","c18a5588":"the 70's was the best era in movie history ","e9833bf8":"<a id='Q1'><\/a>\n### Question 1  (how is the movie industry changing over Time regarding the Rate,buget and popularity ?)\n","e7601beb":"**reformatting columns typs** : \n\n-we have in genres , production_countries and production_companies list of dicts \n\n\n\n-reformatting release_date to date type","a8b61e87":"***note*** : as many movies being made , there are so many movies under 6 rate","17159d8c":"***note***: the drama genre is the biggest in the 20 topp movie ","edfa24d1":"<a id='Q4'><\/a>\n### Question 4   what is the biggest company in movie industry ?\n    ","0bec783e":"***dropping N\/As and unwanted***","848aca44":"### Data Cleaning (dropping unwanted columns ,reformate columns type and dealing with outliers)","fb208d4f":"<a id='eda'><\/a>\n# Exploratory Data Analysis\n\n","ef95cae7":"***note*** : the budget started in increasing since near 90 's ","686abb2f":"***note*** : we dealed with the outliers ","d72c98f8":"***note***: the popularity has a great increasing since 1995","381485a5":"--------------------------------------------------------------------------------------------------------------","cf7faeb5":"but in order to spot the best era in movie indestury , we will only take the  above 8.0 movie ","0015cbcb":"<a id='wrangling'><\/a>\n## Data Wrangling\n","d37be0fc":"***note***: paramount pictures copmany had the biggest chunck in makeing the greatest 20 movies :\n    \n   #### -paramount Pictures was the first company sinece the 30's .\n   \n   #### - twentueth century fox  starts to be ahead sinece the 40's .\n   \n   #### - the interseting thing is columbia pictures' acceleration\u200b since the 60's .\n   ","a253fc54":"\n# Project: Investigate a Dataset (Movies-dataset)\n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","26ba727b":"##### ***note***: how people tests changes over time :\n\n   #### -drama is only a head , only in the 90's era people starts to tend to Action and in the last 5 years . ","8b3b5190":"***that means the paranomal activity made more than 12000 USD  for every 1 USD that has been spent  ***","9f5a3e34":"--------------------------------------------------------------------------------------------------------------","97ab1a53":"<a id='conclusions'><\/a>\n## Conclusions\n\n \n \n\n-the change over the time (the budget started in increasing since near 1985 ,the popularity has a great increasing in 2020 ,as many movies being made there are so many movies under 6 rate )\n\n\n-the drama genre is the biggest in the 20 topp movie \n\n\n-the US has the biggest chunck in movie industry \n\n\n-paramount pictures copmany had the biggest chunck in makeing the greatest 20 movies (***note***: paramount pictures copmany had the biggest chunck in makeing the greatest 20 movies \n\n-paramount Pictures was domeniting the movie indesture till near 2005 \n\n-universal picture started domeiting since 2005 till near 2020 \n\n -columba sized the shirnking in the paramount pictures and trying to take place near 2005 ) \n\n\n-avater has the highest profit , but proportionately it was paranomal actitay .\n\n","4ed33cbe":"<a id='Q2'><\/a>\n### Question 2 ( what are the most popular genres ? )\n","d4399316":"# udacity project ","6dcf91e6":"<a id='Q5'><\/a>\n### Question 5  comparing between revenue and budget .\n","f224b192":"***note***: as we see the dark knight has the largest scale ,whiche means he has the hightest revenue and budget as well"}}