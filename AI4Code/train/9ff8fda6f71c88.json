{"cell_type":{"97170d18":"code","37d10a0a":"code","19720add":"code","3156b1f9":"code","53ecc01b":"code","fc61fea4":"code","3b54c520":"code","86a64298":"code","78ebb3d4":"code","5d272caf":"code","aefaee9a":"code","6b762e0a":"code","b8a6ded9":"code","e35f8534":"code","5b22cd9b":"code","363bb06a":"code","cc08166b":"code","9cd325df":"code","9ec4c03f":"code","929cd52e":"code","9420e578":"markdown","a98ad0d5":"markdown"},"source":{"97170d18":"import seaborn as sns\nimport pandas as pd\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport numpy as np\nplt.style.use('ggplot')\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n%matplotlib inline","37d10a0a":"df=pd.read_csv(\"..\/input\/movies\/movies.csv\")","19720add":"df.head()","3156b1f9":"# Shape of data\ndf.shape","53ecc01b":"#Columns in the data frame\ndf.columns","fc61fea4":"# Checking for null values in data\n\nfor col in df.columns:\n    print(col,\" - \",np.sum(df[col].isnull()))","3b54c520":"#Handling null values\ndf.dropna(inplace=True)","86a64298":"#Datatypes of each column\ndf.dtypes","78ebb3d4":"#Changing Data types to int for Votes, Budget and Gross\ndf['votes']=df['votes'].astype('int64')\ndf['budget']=df['budget'].astype('int64')\ndf['gross']=df['gross'].astype('int64')","5d272caf":"#Sorting movies based on gross collections\ndf.sort_values(by=['gross'],inplace=False,ascending=False)","aefaee9a":"#Dropping duplicate rows\ndf=df.drop_duplicates()","6b762e0a":"#Correlation between budget and gross\nplt.figure(figsize=(10,6))\nplt.scatter(df['budget'],df['gross'])\nplt.title(\"Budget vs Gross scatter plot\")\nplt.show()","b8a6ded9":"#Budget vs Gross using regplot\nplt.figure(figsize=(10,6))\nsns.regplot(df['budget'],df['gross'],data=df,scatter_kws={\"color\":\"red\"},line_kws={\"color\":\"green\"})\nplt.show()","e35f8534":"df.corr()","5b22cd9b":"cormax=df.corr()\nplt.figure(figsize=(10,6))\nsns.heatmap(cormax,annot=True,cmap=\"Greens\")\nplt.title(\"Correlation Matrix across numerical features\")\nplt.xlabel(\"Movie Features\")\nplt.ylabel(\"Movie Features\")","363bb06a":"#Encoding Categorical Data\n\ndf_converted=df\n\nfor i in df_converted.columns:\n    if(df_converted[i].dtype==\"object\"):\n        df_converted[i]=df_converted[i].astype(\"category\")\n        df_converted[i]=df_converted[i].cat.codes","cc08166b":"df_converted","9cd325df":"#New correlation\n\ncormax2=df_converted.corr()\nplt.figure(figsize=(12,7))\nsns.heatmap(cormax2,annot=True,cmap=\"Greens\")\nplt.title(\"Correlation Matrix across all features\")\nplt.xlabel(\"Movie Features\")\nplt.ylabel(\"Movie Features\")","9ec4c03f":"corpairs=df_converted.corr()\ncorpairs=corpairs.unstack()\nsorted_corpairs=corpairs.sort_values()\nsorted_corpairs","929cd52e":"highestcor=sorted_corpairs[(sorted_corpairs)>0.5]\nhighestcor","9420e578":"# Hence we deduce that (votes,gross),(budget,gross) have the highest correlations. So movies with higher votes and budget tend to have higher gross amount","a98ad0d5":"Find Correlation between columns"}}