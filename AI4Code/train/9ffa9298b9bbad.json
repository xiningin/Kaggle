{"cell_type":{"7f8f3251":"code","a794181d":"code","581fa694":"code","4232cd09":"code","3be255e1":"code","e9b13918":"code","5e0fbd39":"code","12b2ef5f":"code","a9f95c2c":"code","a63029c1":"code","38e7a641":"code","9c381726":"code","4ad5c398":"code","22b44c8c":"code","03c0921b":"code","ac8fd824":"code","8bc29da7":"code","43228408":"code","9c957a25":"code","b8e9f969":"code","e41c4ffe":"code","36aaf962":"markdown","bd15b132":"markdown","e033abff":"markdown","6e41ab53":"markdown","39253a39":"markdown","d7285b15":"markdown","137c9a67":"markdown","34b093cc":"markdown","581874e5":"markdown","d5eaeda5":"markdown","dfd8dae2":"markdown","888e5291":"markdown","829073b0":"markdown","7c7b4947":"markdown","1bd570d5":"markdown","b2aa2896":"markdown","63db036c":"markdown","0f5a202a":"markdown","b572c89e":"markdown"},"source":{"7f8f3251":"## Imports\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","a794181d":"## Read data\npath = '..\/input\/air-quality-data-in-india\/'\ncity_day_path = path + 'city_day.csv'\ncity_hour_path = path + 'city_hour.csv'\nstation_day_path = path + 'station_day.csv'\nstation_hour_path = path + 'station_hour.csv'\nstations_path = path + 'stations.csv'\n\ncity_day = pd.read_csv(city_day_path, low_memory=False)\ncity_hour = pd.read_csv(city_hour_path)\nstation_day = pd.read_csv(station_day_path)\nstation_hour = pd.read_csv(station_hour_path)\nstations = pd.read_csv(stations_path)","581fa694":"## city_day\nprint(\"City Day Data\", city_day.shape)\nprint(city_day.columns.tolist())\ncity_day.head()","4232cd09":"## city_hour\nprint(\"City Hour Data\", city_hour.shape)\nprint(city_hour.columns.tolist())\ncity_hour.head()","3be255e1":"## station_day\nprint(\"Station Day Data\", station_day.shape)\nprint(station_day.columns.tolist())\nstation_day.head()","e9b13918":"## station_hour\nprint(\"Station Hour Data\", station_hour.shape)\nprint(station_hour.columns.tolist())\nstation_hour.head()","5e0fbd39":"## stations\nprint(\"Stations Data\", stations.shape)\nprint(stations.columns.tolist())\nstations.head()","12b2ef5f":"## Convert into datetime\ncity_day['Date'] = pd.to_datetime(city_day['Date'])\ncity_day['Year'] = city_day['Date'].dt.year\ncity_day['Month'] = city_day['Date'].dt.month\ncity_day['day'] = city_day['Date'].dt.day\ncity_day.head()","a9f95c2c":"city_day.describe()","a63029c1":"print(\"Total cities\", len(city_day['City'].unique()))\ncity_day['City'].unique().tolist()","38e7a641":"pollutants = ['PM2.5','PM10', 'NO', 'NOx','NO2','CO','NH3','O3','SO2']\ndf = city_day.set_index('Date')\naxes = df[pollutants].plot(marker='.',alpha = 0.5, linestyle = 'None', figsize = (16,20), subplots = True)\nfor ax in axes:\n    ax.set_xlabel('Years')\n    ax.set_ylabel('ug\/m3')","9c381726":"plt.title('Distribution of AQI Buckets 2015-2020')\nsns.countplot(x='AQI_Bucket', data=city_day, hue='Year');","4ad5c398":"## AQI\nprint(f\"Minimum and maximum range of AQI: {city_day.AQI.min()} - {city_day.AQI.max()}\")\nplt.title('AQI levels over 2015 to 2020')\nsns.lineplot(x='Year',y='AQI', data=city_day);","22b44c8c":"data = city_day[(city_day['City'] == 'Mumbai') | (city_day['City'] == 'Delhi') | (city_day['City'] == 'Bengaluru') | (city_day['City'] == 'Ahmedabad') | (city_day['City'] == 'Chennai')]\nplt.title('AQI Levels of some metro cities 2015-2020')\nsns.lineplot(x='Year',y='AQI', data=data, hue='City');","03c0921b":"data = city_day[city_day['Year'] == 2020]\nplt.title('AQI Levels in the year 2020')\nsns.lineplot(x='Month', y='AQI', data=data);","ac8fd824":"data = city_day[city_day['Year'] == 2020][(city_day['City'] == 'Mumbai') | (city_day['City'] == 'Delhi')]\nplt.title('AQI Levels of Delhi & Mumbai in 2020')\nsns.lineplot(x='Month',y='AQI', data=data, hue='City');","8bc29da7":"## Read data\ncipla = pd.read_csv('..\/input\/nifty50-stock-market-data\/CIPLA.csv')\ncipla['Date'] = pd.to_datetime(cipla['Date'])\ncipla_2020 = cipla[cipla['Date']>='2020-03-28']\ncipla_2020.head()","43228408":"cipla_2020.describe()","9c957a25":"cipla_2020.columns.tolist()","b8e9f969":"cipla_2020['value_change'] = cipla_2020.apply(lambda row: row.Close-cipla_2020.Close.iloc[0], axis=1)\ncipla_2020.plot(x='Date', y='value_change', title='Stock price change of Cipla from March 2020 to May 2021');","e41c4ffe":"cipla_2020['percent_change'] = cipla_2020.apply(lambda row: ((row.Close\/cipla_2020.Close.iloc[0]) - 1) * 100, axis=1)\ncipla_2020.plot(x='Date', y='percent_change', title='Percentage change of Cipla from Mar 2020 to May 2021');","36aaf962":"### Lets study Cipla's stocks","bd15b132":"### Lets compare the present price with the price during March ie pandemic started","e033abff":"## Cities","6e41ab53":"### Lets have a look at the pollutants and how they are distributed\n\nObservations:\n\n- PM2.5, O3 are usually high throughout the year\n- CO has been found consistently low over the years","39253a39":"### How many cities do we have here?","d7285b15":"### In 2020 how did the AQI levels vary?","137c9a67":"### Find the detailed article [here](https:\/\/www.notion.so\/Effect-on-Air-Quality-COVID-19-1aa99168d0e842129978ced0cbb22c83)","34b093cc":"We observe a general decline in the AQI levels over the years which shows increase in Air Quality","581874e5":"### ***Analyzing the stock market during the pandemic***","d5eaeda5":"### How are the AQI Buckets distributed?","dfd8dae2":"### Lets observe the AQI levels of some of the metro cities over the years.","888e5291":"### Lets compare for Delhi & Mumbai in 2020 both hotspots for pollutants.","829073b0":"### Lets also plot the percentage change","7c7b4947":"Covers all of it doesn't it","1bd570d5":"Even before the nationwide lockdown declared by the PM (24th March 2020), individual states were already in lockdown before that and hence we see the steep decline in the AQI from Feb.","b2aa2896":"### Lets study the AQI levels themselves","63db036c":"### Lets review the files one by one","0f5a202a":"- Overall we see we have a large number of Moderate and Satisfactory bucket counts which is a good thing and low number of Poor and Severe buckets over 2015-2020.\n- If we observe carefully, 2019 has highest Moderate and Satisfactory buckets which can be explained by lower pollution levels by the lockdown.\n- And as compared to the previous years 2018 & 2019, for all the buckets we see a steep decline in 2020, and in case of \"Good\" bucket - higher number than previous years which can be seen as a positive sign.","b572c89e":"As expected the price is increasing"}}