{"cell_type":{"d6c106dc":"code","61cb6c75":"code","4544945a":"code","e4ab5968":"code","25851af4":"code","eed39fbc":"code","c27c3d37":"code","0eb3a742":"code","d4346e08":"code","327b8ec8":"code","7252c1ce":"code","f3837964":"code","1f5b632c":"code","a9a6517e":"markdown","69e237eb":"markdown","2d676c00":"markdown","4bc64e0e":"markdown","e2c6d921":"markdown","e543f755":"markdown","562f4cbc":"markdown","8b4a6a60":"markdown","7727d167":"markdown"},"source":{"d6c106dc":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom datetime import datetime\nfrom fbprophet import Prophet\n\nimport os","61cb6c75":"BASE_DIR = '\/kaggle\/input\/gufhtugu-publications-dataset-challenge\/'","4544945a":"file_name = BASE_DIR + 'GP Orders - 2.csv'\ndf = pd.read_csv(file_name, encoding='cp1252')\ndf","e4ab5968":"plt.hist(df['Order Status'])\nprint('No of Completed Orders: ', len(df[df['Order Status'] == 'Completed']))\nprint('No of Returned Orders: ', len(df[df['Order Status'] == 'Returned']))\nprint('No of Canceled Orders: ', len(df[df['Order Status'] == 'Canceled']))\nplt.show()","25851af4":"max_orders_per_city = dict({(city, len(df[df['City (Billing)'] == city]))\n                          for city in df['City (Billing)'].unique()})\ntop_orders_per_city = sorted(max_orders_per_city.items(), key=lambda x:x[1], reverse=True)[:10]\ntop_orders_per_city","eed39fbc":"returned_orders = df[df['Order Status'] == 'Returned']\nreturned_per_city = dict({(city, len(returned_orders[returned_orders['City (Billing)'] == city]))\n                          for city in returned_orders['City (Billing)'].unique()})\ntop_returned_per_city = sorted(returned_per_city.items(), key=lambda x:x[1], reverse=True)[:10]\ntop_returned_per_city","c27c3d37":"df[\"Order Date\"] = df[\"Order Date\"].apply(datetime.strptime, args=('%m\/%d\/%Y %H:%M',))","0eb3a742":"for i in range(len(df)):\n    df.loc[i, 'Order Date'] = df.loc[i, 'Order Date'].date()","d4346e08":"dates = df['Order Date'].unique()\norders_pre_date = [len(df[df['Order Date'] == date]) for date in dates]\ndf2 = pd.DataFrame(list(zip(dates, orders_pre_date)), \n               columns =['ds', 'y'])\ndf2 = df2.sort_values(['ds']).reset_index(drop=True)\ndf2","327b8ec8":"plt.figure(figsize=(20,10))\nplt.plot(df2['ds'], df2['y'])","7252c1ce":"m = Prophet()\nm.fit(df2)","f3837964":"future = m.make_future_dataframe(periods=10)\nforecast = m.predict(future)\nforecast[['ds', 'yhat', 'yhat_lower', 'yhat_upper']].tail()","1f5b632c":"m.plot(forecast)","a9a6517e":"I am going to check my dataset on facebook's opensource time series forcasting library that will help us to predict no of orders in future.","69e237eb":"Returned orders by top 10 cities. Karachi is leading here too.","2d676c00":"Here, We are visualizing the success of deliveries in the data set. How many orders were sucessful?","4bc64e0e":"# Data Analysis and Forecasting of sales\nBook selling dataset by guftugu was given and they have placed home delivery information of books for more than an year. I have tried small data analysis and this notebook will be updated with time so stay tuned. I am planning to use machine learning so that i can help with better understanding of data and may be we can predict future sales.","e2c6d921":"Top 10 cities having maximum order. For now, karachi has most no of orders. In future, we can relate it to no of population so that we can calculate the popularity of guftgu city wise. It will tell us where we need to work hard.","e543f755":"Here, I am going to create a dataframe that will have no of orders each day. I will try time series forcasting that can help me to predict no of orders that can happen in future on any day","562f4cbc":"**Forecasting is not much better. Will try different methods**\n\n# ****WORK IN PROGRESS****","8b4a6a60":"Converting date to python datetime object so that i can handle it for time series sale.","7727d167":"Here is graph of no of orders on each day"}}