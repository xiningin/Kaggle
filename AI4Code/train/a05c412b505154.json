{"cell_type":{"05d0a224":"code","9463f643":"code","2b17e3f8":"code","11c52d93":"code","6421ee6a":"code","e23ec687":"code","34dbdd60":"code","567fd1e0":"code","12d751ac":"code","5bdd6442":"code","870ada32":"code","d366f35c":"code","108384b2":"code","079aed94":"code","1a15c384":"code","8b6a9cfd":"code","c69f348b":"code","32db1c82":"code","580976d6":"code","1da57ab5":"code","41ffee61":"code","34eb7ecc":"code","384765d8":"markdown","d8358a1b":"markdown","7f78914a":"markdown","12827cf3":"markdown","41be67a6":"markdown","6ec8b26c":"markdown","8ce50ea2":"markdown","5b30206f":"markdown","2f6e03a1":"markdown","3fefe2a7":"markdown","fb76eb2f":"markdown","a564c6e0":"markdown","1385bb9a":"markdown","411babed":"markdown","0dcbc65b":"markdown","7da66e27":"markdown","d3e90d86":"markdown","4f31acad":"markdown","eb60435d":"markdown","21478d50":"markdown","d81f9799":"markdown","b60c7d89":"markdown","32b711f7":"markdown","84c26bdf":"markdown","0abd0fa9":"markdown","fa3938c5":"markdown","dd73148c":"markdown","adb480b8":"markdown","8db46d18":"markdown","8e52f1b6":"markdown"},"source":{"05d0a224":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport datetime\nfrom wordcloud import WordCloud\n\ndf = pd.read_csv(\"..\/input\/all-space-missions-from-1957\/Space_Corrected.csv\",parse_dates=True)\ndf = df.iloc[:,2:].copy() #deleting the unnamed columns\ndf.head()","9463f643":"df.rename(columns={\" Rocket\":\"Price\"},inplace=True) #renaming the rocket column to Price\n\n#Function to extract the launch location from the location address\ndef country_extract(s):\n    s = s.split(\",\")\n    return s[len(s)-1].strip()\n\ndf[\"Country\"]=df[\"Location\"].map(country_extract)\ndf[\"Status Rocket\"] = df[\"Status Rocket\"].str.replace(\"Status\",\"\")\n\n#date extractor from Datum\ndef extract_date(s):\n    s = s.split(\" \")\n    s=\"-\".join(s[1:4])\n    s=s.replace(\",\",\"\")\n    s = datetime.datetime.strptime(s,\"%b-%d-%Y\")\n    return s\n\ndf[\"Datum\"] = df[\"Datum\"].map(extract_date)\ndf[\"Year\"] = df[\"Datum\"].dt.year\ndf[\"Month\"] = df[\"Datum\"].dt.month_name()","2b17e3f8":"ax=df[\"Year\"].value_counts().sort_index().plot(figsize=(15,6),marker=\"x\",color=\"black\")\nax.set_axisbelow(True)\nax.set_xticks(df[\"Year\"].unique())\nax.yaxis.grid(color='lightgray', linestyle='dashed')\nax.xaxis.grid(color='lightgray', linestyle='dashed')\nplt.title(\"Number of missions across years\")\nplt.ylabel(\"Number of Missions\")\nplt.xticks(rotation=90)\nplt.show()","11c52d93":"st = df[[\"Status Mission\",\"Year\"]].copy()\nst[\"Status Mission\"] = st[\"Status Mission\"].replace(\".* Failure\",\"Failure\",regex=True)\nst = pd.crosstab(columns=st[\"Status Mission\"],index=st[\"Year\"],normalize=\"index\")\nax = st.plot(kind=\"bar\",stacked=True,figsize=(15,5),color=[\"black\",\"gray\"])\nax.set_axisbelow(True)\nax.yaxis.grid(color='gray', linestyle='dashed')\nplt.title(\"Mission success\/failure rate over years\")\nplt.ylabel(\"% of success\/failure\")\nplt.legend(loc=\"upper left\",ncol=2)\nplt.show()","6421ee6a":"piv = df[[\"Year\",\"Status Mission\"]].copy()\npiv[\"Status Mission\"] = piv[\"Status Mission\"].replace(\".* Failure\",\"Failure\",regex=True)\npiv[\"Year range\"]=0\npiv[\"Year range\"] = pd.cut(piv[\"Year\"],bins=[1957,1977,1997,2020],labels=[\"1957-1977\",\"1978-1998\",\"1999-2020\"])\npiv = pd.crosstab(columns=piv[\"Status Mission\"],index=piv[\"Year range\"])\npiv[\"Success Rate\"] = 100*(piv[\"Success\"] \/ (piv[\"Success\"]+piv[\"Failure\"]))\npiv[\"Failure Rate\"] = 100*(piv[\"Failure\"] \/ (piv[\"Success\"]+piv[\"Failure\"]))\npiv.drop(columns=[\"Failure\",\"Success\"],inplace=True)\n\nfig=plt.figure(figsize=(5,5))\nax=sns.heatmap(piv.T,annot=True,fmt=\"0.0f\",cbar=False,cmap=\"gray\",square=True,linewidths=0.1,linecolor=\"gray\")\nax.xaxis.set_ticks_position('top')\n#plt.xticks(rotation=0)\n#plt.yticks(rotation=0)\nplt.title(\"Success & failure rates over years\\n\\n\")\nplt.ylabel(\"\")\nplt.xlabel(\"\")\nplt.show()","e23ec687":"wc = WordCloud(font_step=30,min_font_size=8,background_color=\"black\",color_func=lambda *args, **kwargs: \"white\")\nwc.generate_from_frequencies(frequencies=dict(df[\"Month\"].value_counts()))\nfig = plt.figure(figsize=(10,7))\nplt.axis(\"off\")\nprint(df[\"Month\"].value_counts())\nplt.imshow(wc);","34dbdd60":"day = df['Datum'].apply(lambda x: x.strftime(\"%A\"))\nwc = WordCloud(font_step=10,min_font_size=8,background_color=\"black\",color_func=lambda *args, **kwargs: \"white\")\nwc.generate_from_frequencies(frequencies=dict(day.value_counts()))\nfig = plt.figure(figsize=(10,7))\nplt.axis(\"off\")\nprint(day.value_counts())\nplt.imshow(wc);","567fd1e0":"day = df['Datum'].apply(lambda x: x.strftime(\"%A\")).value_counts().sort_values(ascending=True).reset_index()\nday.columns = ['day','no of launches']\nfig = plt.figure(figsize=(8,9))\nsns.scatterplot(data=day,x=5,y=np.linspace(0,100,7),size='no of launches',sizes=(50,2000),legend=False,color='black')\nplt.axis('off')\nplt.title(\"Day-wise number of launches\")\nfor i,feat,imp in zip(np.linspace(0,100,7),day[\"day\"],day[\"no of launches\"]):\n    plt.text(x=5.05,y=i-1,s=feat)\n    plt.text(x=4.89,y=i-1,s=np.round(imp,2))","12d751ac":"cnt = df[\"Company Name\"].value_counts().reset_index()[:20]\n\nsns.catplot(y=\"index\",x=\"Company Name\",data=cnt,kind=\"bar\",height=8,color=\"black\")\nplt.title(\"Companies by no of missions\")\nplt.ylabel(\"Company\")\nplt.xlabel(\"No of missions\")\n\nfor i in range(cnt.shape[0]):\n    plt.text(s=str(cnt.iloc[i,1]),y=i,x=cnt.iloc[i,1]+10)\nplt.show()","5bdd6442":"cl = df.copy()\ncl[\"Status Mission\"] = cl[\"Status Mission\"].replace(\".* Failure\",\"Failure\",regex=True)\nsns.catplot(data=cl.loc[cl[\"Company Name\"].isin(cnt[\"index\"]),:],x=\"Company Name\",y=\"Year\",kind=\"swarm\",height=7,aspect=2,\n            palette=sns.set_palette([\"gray\",\"black\"]),hue=\"Status Mission\")\nplt.title(\"Yearly trend in number of missions per company?\")\nplt.xticks(rotation=90)\nplt.show()","870ada32":"piv = df[[\"Company Name\",\"Status Mission\"]].copy()\npiv[\"Status Mission\"] = piv[\"Status Mission\"].replace(\".* Failure\",\"Failure\",regex=True)\npiv = pd.crosstab(columns=piv[\"Status Mission\"],index=piv[\"Company Name\"])\n\npiv[\"Success Rate\"] = 100*(piv[\"Success\"] \/ (piv[\"Success\"]+piv[\"Failure\"]))\npiv[\"Failure Rate\"] = 100*(piv[\"Failure\"] \/ (piv[\"Success\"]+piv[\"Failure\"]))\npiv.sort_values(by=\"Success Rate\",ascending=False,inplace=True)\n\npiv.drop(columns=[\"Failure\",\"Success\"],inplace=True)\n\nfig,(ax1,ax2)=plt.subplots(2,1,figsize=(15,3))\nax1.set_title(\"Company-wise success and failure rates\")\nplt.ylabel(\"Company\")\nax1.xaxis.set_ticks_position('top')\nplt.xticks(rotation=90)\nsns.heatmap(piv[:28].T,annot=True,fmt=\"0.0f\",cbar=False,cmap=\"gray\",square=True,linewidths=0.1,linecolor=\"lightgray\",ax=ax1)\nsns.heatmap(piv[27:].T,annot=True,fmt=\"0.0f\",cbar=False,cmap=\"gray\",square=True,linewidths=0.1,linecolor=\"lightgray\",ax=ax2)\nplt.show()","d366f35c":"cnt_co = df.groupby([\"Country\"]).count()[[\"Location\"]].copy().sort_values(by=\"Location\",ascending=False).reset_index()\nsns.catplot(y=\"Country\",x=\"Location\",data=cnt_co,kind=\"bar\",color=\"black\",height=9,aspect=1)\nplt.ylabel(\"Launch location\")\nplt.xlabel(\"No of missions\")\nplt.title(\"Launch locations & no of missions\")\nfor i in range(cnt_co.shape[0]):\n    plt.text(s=str(cnt_co.iloc[i,1]),y=i,x=cnt_co.iloc[i,1]+10)\nplt.show()","108384b2":"cl = df.copy()\ncl[\"Status Mission\"] = cl[\"Status Mission\"].replace(\".* Failure\",\"Failure\",regex=True)\nsns.catplot(data=cl,x=\"Country\",y=\"Year\",kind=\"swarm\",height=7,aspect=2,palette=sns.set_palette([\"gray\",\"black\"]),hue=\"Status Mission\")\nplt.title(\"Yearly trend in number of missions per launch location\")\nplt.xlabel(\"Launch location\")\nplt.xticks(rotation=90)\nplt.show()","079aed94":"list(df.loc[df[\"Country\"]==\"Kazakhstan\",\"Company Name\"].unique())","1a15c384":"df.loc[(df[\"Country\"]==\"Kazakhstan\") & (df[\"Year\"]<1960),[\"Country\",\"Year\",\"Company Name\"]].groupby([\"Year\",\"Company Name\"]).count()[\"Country\"]","8b6a9cfd":"cl1 = df[df[\"Country\"].isin(cnt_co.loc[:4,\"Country\"])].copy()\ncl1.rename(columns={\"Country\":\"Launch_Location\"},inplace=True)\ncl1 = pd.crosstab(index=cl1[\"Year\"],columns=cl1[\"Launch_Location\"]).copy()\nax=cl1.plot(figsize=(15,6),cmap=\"Paired\",marker=\"x\")\nax.set_axisbelow(True)\nax.yaxis.grid(color='lightgray', linestyle='dashed')\nax.xaxis.grid(color='lightgray', linestyle='dashed')\nplt.title(\"Trend in no. of missions of top 5 locations based on no. of missions\")\nplt.xlabel(\"Year\")\nplt.ylabel(\"No of launches\")\nplt.xticks(range(1957,2021))\nplt.xticks(rotation=90)\nplt.show()","c69f348b":"piv = df[[\"Country\",\"Status Mission\"]].copy()\npiv[\"Status Mission\"] = piv[\"Status Mission\"].replace(\".* Failure\",\"Failure\",regex=True)\npiv = pd.crosstab(columns=piv[\"Status Mission\"],index=piv[\"Country\"])\n\npiv[\"Success Rate\"] = 100*(piv[\"Success\"] \/ (piv[\"Success\"]+piv[\"Failure\"]))\npiv[\"Failure Rate\"] = 100*(piv[\"Failure\"] \/ (piv[\"Success\"]+piv[\"Failure\"]))\npiv.sort_values(by=\"Success Rate\",ascending=False,inplace=True)\n\npiv.drop(columns=[\"Failure\",\"Success\"],inplace=True)\n\nfig=plt.figure(figsize=(15,5))\nax=sns.heatmap(piv.T,annot=True,fmt=\"0.0f\",cbar=False,cmap=\"gray\",square=True,linewidth=0.1,linecolor=\"lightgray\")\nax.xaxis.set_ticks_position('top')\nplt.xticks(rotation=90)\nplt.title(\"Launch location-wise success and failure rates\")\nplt.xlabel(\"Launch location\")\nplt.ylabel(\"\")\nplt.show()","32db1c82":"aa=df.loc[(df[\"Country\"]==\"Kenya\") | (df[\"Country\"]==\"Brazil\"),[\"Country\",\"Status Mission\"]].reset_index(drop=True)\naa.columns=[\"Launch Location\",\"Mission Status\"]\naa.groupby([\"Launch Location\",\"Mission Status\"]).size()","580976d6":"pri = df[[\"Status Mission\",\"Price\"]].copy()\npri.fillna(0,inplace=True)\npri[\"Price Missing\"] = pri[\"Price\"]==0\npri.groupby([\"Status Mission\",\"Price Missing\"]).count()[\"Price\"]","1da57ab5":"piv = df[[\"Price\",\"Status Mission\"]].copy()\npiv[\"Status Mission\"] = piv[\"Status Mission\"].replace(\".* Failure\",\"Failure\",regex=True)\npiv.loc[piv[\"Price\"]==\"nan\",\"Price\"]=np.nan\npiv[\"Price\"] = piv[\"Price\"].str.replace(\",\",\"\",regex=False)\npiv.dropna(inplace=True)\npiv[\"Price\"] = piv[\"Price\"].astype(np.float32)\nsns.boxplot(data=piv,x=\"Status Mission\",y=\"Price\")\nplt.title(\"Price vs Mission status\")\nplt.xlabel(\"Mission status\")\nplt.ylabel(\"Price ($ million)\")\nplt.yscale('log')\nplt.show()","41ffee61":"fig,ax=plt.subplots(1,1)\nsns.countplot(data=df,x='Status Rocket',ax=ax)\nax.set_title(\"Missions Active & Retired\");","34eb7ecc":"price_year = df[['Year','Price']].copy()\nprice_year.dropna(inplace=True)\nprice_year[\"Price\"] = price_year[\"Price\"].str.replace(\",\",\"\",regex=False).astype('float')\nprice_year = price_year.groupby('Year').median().copy()\nprice_year = price_year.reset_index().copy()\n\nax=price_year.plot(figsize=(15,6),x='Year',y='Price',marker=\"x\",color=\"black\")\nax.set_axisbelow(True)\nax.set_xticks(price_year[\"Year\"].unique())\nax.yaxis.grid(color='lightgray', linestyle='dashed')\nax.xaxis.grid(color='lightgray', linestyle='dashed')\nplt.title(\"Median Price of missions across years\")\nplt.ylabel(\"Median Price of Missions\")\nplt.xticks(rotation=90)\nplt.show()","384765d8":"<a id=\"15\"><\/a><h2>What is the trend in the price of mission over the years?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a>\n","d8358a1b":"Mot of the launches were made mid-week","7f78914a":"<ul>\n<li>Success rate: (Successful Missions \/ No of launches)*100<\/li>\n<li>Failure rate: (Failed Missions \/ No of launches)*100 or simply 100-Success rate<\/li>\n<li>We can see few companies have 100% success rate while few have 100% failure rate. SpaceX, who is an emerging company has a success rate of 94%<\/li>\n<\/ul>","12827cf3":"<a id=\"11\"><\/a><h2>Is there any relationship between price and mission status?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a><\/h2>\n<h3>Box plot to visualize bivariate data distribution","41be67a6":"It's RVSN USSR (one of the pioneers) launched one of its early missions from Kazakhstan, which made Kazakhstan one of the pioneers along with Russia and the US\n\n<a id=\"8\"><\/a><h2>How's the yearly trend in number of launches of top 5 locations based on number of launches?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a><\/h2>\n<h3>Visualizing multiple line plots","6ec8b26c":"From the above plot we see successful missions had a relatively higher price tag","8ce50ea2":"<a id=\"9\"><\/a><h2>What's the success rate per launch locations?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a>","5b30206f":"<a id=\"10\"><\/a><h2>Is there any relationship between missing price and mission status?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a>","2f6e03a1":"<ul>\n<li>Failed missions have lot of missing prices. Similarly, successful missions also have very high number of missing prices.<\/li>\n<li>Hence, there is no non-random relationship between the Price Missing and Mission Status<\/li>","3fefe2a7":"<a id=\"top\"><\/a>\n<h1>This notebook shows ways to add detail to your plots and make them look elegant, by analyzing the Space Mission Data<\/h1>\n\n<h3>This Exploratory Data Analysis Answers the Following Questions<\/h3>\n<h2><ol><li><a href=\"#1\">How's the yearly trend in number of missions?<\/a><\/li>\n    <li><a href=\"#2\">How's the yearly trend in mission success rates?<\/a><\/li>\n    <li><a href=\"#12\">Which months had the highest and lowest launches?<\/a><\/li>\n    <li><a href=\"#14\">Which days had the highest and lowest launches?<\/a><\/li>\n    <li><a href=\"#3\">What's the count of missions per company?<\/a><\/li>\n    <li><a href=\"#4\">How's the yearly trend in number of missions per company?<\/a><\/li>\n    <li><a href=\"#5\">What's the success rate per company?<\/a><\/li>\n    <li><a href=\"#6\">What's the count of missions per launch location?<\/a><\/li>\n    <li><a href=\"#7\">How's the yearly trend in number of missions per launch location?<\/a><\/li>\n    <li><a href=\"#8\">How's the yearly trend in number of launches of top 5 locations based on number of launches?<\/a><\/li>\n    <li><a href=\"#9\">What's the success rate per launch locations?<\/a><\/li>\n    <li><a href=\"#10\">Is there any relationship between missing price and mission status?<\/a><\/li>\n    <li><a href=\"#11\">Is there any relationship between price and mission status?<\/a><\/li>\n    <li><a href=\"#13\">How many missions are active?<\/a><\/li>\n    <li><a href=\"#15\">What is the trend in the price of mission over the years?<\/a><\/li>\n    <\/ol><\/h2>\n    \n    \n    \n    \n    ","fb76eb2f":"<a id=\"14\"><\/a><h2>Which days had the highest and lowest launches?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a><\/h2>\n","a564c6e0":"All the missions from Kenya were successful. While, all the missions launched from Brazil were failures. Let's see the status of all the missions from these locations","1385bb9a":"Early years saw a high failure rate when compared with the later years since space technology was still emerging.<br>\nEarly 20 years (1957-1977) of space science saw a higher failure rate (16%). After that, till date the failure rate stands at 7%. ","411babed":"<ul>\n<li>\nWe can see that RVSN USSR, NASA, General Dynamics, and US Air Force as the pioneers of space science.Except NASA other pioneers have no missions after the year 2000.<\/li>\n<li>There are few emerging companies like Roscosmos and Space X who began their journey in the previous decade.<\/li>","0dcbc65b":"<a id=\"6\"><\/a><h2>What's the count of missions per launch location?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a>","7da66e27":"<a id=\"2\"><\/a><h2>How's the yearly trend in mission success rates?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a><\/h2>\n<h3>Creating stacked column plot adding up to 100%","d3e90d86":"All the 9 missions from Kenya were a success, while all the 3 missions from Brazil were a failure.","4f31acad":"<a id=\"13\"><\/a><h2>How many missions are active?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a>","eb60435d":"<a id=\"4\"><\/a><h2>How's the yearly trend in number of missions per company?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a><\/h2>\n<h3>Swarm plot to visualize multivariate data distribution","21478d50":"<a id=\"12\"><\/a><h2>Which months had the highest and lowest launches?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a><\/h2>\n<h3>Word cloud to visualize frequencies","d81f9799":"Price of missions between 1974 and 1980 are missing. Price of missions in the early years was high.","b60c7d89":"<a id=\"1\"><\/a><h2>How's the yearly trend in number of missions?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a><\/h2>\n    <h3>Adding gridlines and markers to a line plot","32b711f7":"<a id=\"3\"><\/a><h2>What's the count of missions per company?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a><\/h2>\n<h3>Adding data labels to bar plots","84c26bdf":"1965-1978 saw many space missions compared to later years. We can also see a rise in the number of missions from 2016","0abd0fa9":"RVSN USSR stood as the single largest company in terms of launches amongst multiple companies from different locations, predominantly from the US.","fa3938c5":"<ul>\n<li>Earlier we saw RVSN USSR and three other companies from the US as the pioneers of space science.<\/li>\n<li>Now coming to launch locations, we see Kazakhstan, Russia, and the US were the first locations of space missions in the history. <b><u>When the pioneers (companies) are from Russia and the US, why is Kazakhstan among the pioneers (launch location) along with US and Russia.<\/u><\/b><\/li>\n<br><h3>Let's see the companies that launched missions from Kazakhstan\n    ","dd73148c":"<h3>Using bubble plot to visualize frequency","adb480b8":"Launch locations in Russia, Kazakhstan, and the US saw the highest number of missions.\n<a id=\"7\"><\/a><h2>How's the yearly trend in number of missions per launch location?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a>","8db46d18":"We can see that RVSN USSR used Kazakhstan also for it's mission launches. Let's see who launched their missions in 1950s from Kazakhstan.","8e52f1b6":"<a id=\"5\"><\/a><h2>What's the success rate per company?&nbsp;&nbsp;&nbsp;&nbsp;<a href=\"#top\">Top<\/a><\/h2>\n<h3>Heat map to visualize data comparison"}}