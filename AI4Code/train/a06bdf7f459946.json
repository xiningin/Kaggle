{"cell_type":{"658a3277":"code","9935383d":"code","b0834528":"code","703c65d7":"code","0d7b9a31":"code","6c9ceb65":"code","48ea1e3f":"code","b1c2b98d":"code","75e3c544":"code","914938a8":"code","577ba50e":"code","efaf165b":"code","1d99a969":"code","d4c90616":"code","030709a7":"code","d4e346e8":"code","33ca33d5":"code","a5d89bae":"code","3407f04f":"code","ee099502":"code","a39415d6":"code","358fbc03":"code","6db8755b":"code","377911d9":"code","38f229b5":"code","efec2b26":"code","22218621":"code","e058c7d7":"code","80640e67":"code","21c29fbf":"code","85ac0dbd":"code","9642a94a":"code","61ccecc4":"code","2714109e":"code","61137257":"code","2becc0bc":"code","218b55e5":"code","a18d9a2b":"code","76c1ee9b":"code","59795959":"code","2e04e591":"code","32d810c1":"code","f1b80a3f":"code","4d0f2112":"code","0c2c0fd7":"code","5ed140ab":"code","4fdf5329":"markdown","360d4697":"markdown","2d296e52":"markdown","11f802da":"markdown","6282e1b0":"markdown","6b468654":"markdown","fe153987":"markdown","7e360321":"markdown","94463092":"markdown","f449a5ce":"markdown","dfdf5c7b":"markdown","248f4a86":"markdown","b942c541":"markdown","ca294903":"markdown","5f80c5c1":"markdown"},"source":{"658a3277":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\n\n\n\nimport warnings\nwarnings.filterwarnings('ignore')","9935383d":"\ntrain_data=pd.read_csv('..\/input\/titanic\/train.csv')\ntest_data=pd.read_csv('..\/input\/titanic\/test.csv')","b0834528":"train_data.head()","703c65d7":"test_data.head()","0d7b9a31":"print (train_data.shape)\nprint()\nprint(test_data.shape)","6c9ceb65":"train_data.info()\nprint()\ntest_data.info()","48ea1e3f":"train_data.describe(include=[np.number])","b1c2b98d":"train_data.describe(include=[np.object])","75e3c544":"train_data.isnull().any()","914938a8":"test_data.isnull().any()","577ba50e":"train_data.fillna(0, inplace = True)\ntest_data.fillna(0, inplace = True)","efaf165b":"train_data.isnull().any()","1d99a969":"test_data.isnull().any()","d4c90616":"print (train_data.shape)\nprint()\nprint(test_data.shape)","030709a7":"train_data.head()","d4e346e8":"train_data['Sex'].value_counts()","33ca33d5":"plt.figure(figsize=(8,5))\n\nsns.barplot(x=train_data['Sex'].values, y=train_data['Sex'].index, alpha=0.8)\nplt.title('Gender Count', fontsize=14, pad=8)\nplt.xticks(fontsize=10)\nplt.yticks(fontsize=10)\nplt.show()","a5d89bae":"print (train_data[[\"Sex\", \"Survived\"]].groupby(['Sex'], as_index= False).mean().sort_values(by='Survived', ascending = False))","3407f04f":"sns.barplot(x=\"Sex\", y=\"Survived\", data=train_data,palette=\"Set2\")","ee099502":"print (train_data[[\"Pclass\", \"Survived\"]].groupby(['Pclass'], \\\n            as_index= False).mean().sort_values(by='Survived', ascending = False))","a39415d6":"sns.catplot(x = 'Sex', y = 'Survived', hue = 'Pclass', data = train_data, kind = 'bar')\n","358fbc03":"print (train_data[[\"SibSp\", \"Survived\"]].groupby(['SibSp'], \\\n            as_index= False).mean().sort_values(by='Survived', ascending = False))","6db8755b":"sns.catplot(x = 'Sex', y = 'Survived', hue = 'SibSp', data = train_data, kind = 'bar')","377911d9":"sns.distplot(train_data['Age']).set(ylabel=None, xlabel=None)\nplt.title('Passengers by Age', fontsize=18)\nplt.xlabel('Age', fontsize=10)\nplt.figure(figsize=(10, 8))\nplt.show()","38f229b5":"train_data['Embarked'].value_counts()","efec2b26":"print (train_data[[\"Embarked\", \"Survived\"]].groupby(['Embarked'], \\\n            as_index= False).mean().sort_values(by='Survived', ascending = False))","22218621":"sns.catplot(x = 'Embarked', y = 'Survived', data = train_data, kind = 'bar')\n","e058c7d7":"train_data.head()","80640e67":"print(train_data.shape)","21c29fbf":"object_data_types = list(train_data.dtypes[train_data.dtypes == object].index)\n\nfor i in object_data_types:\n    train_data[i] = train_data[i].astype('category')","85ac0dbd":"object_data_types2 = train_data.select_dtypes(['category']).columns\ntrain_data[object_data_types2] = train_data[object_data_types2].apply(lambda x: x.cat.codes)\n","9642a94a":"train_data.head()","61ccecc4":"train_data.drop(['PassengerId','Name','Ticket','Fare'], axis=1,inplace=True)\n\ntrain_data.head()","2714109e":"train_data.info()","61137257":"train_data.columns","2becc0bc":"train_features=(['Pclass', 'Sex', 'Age', 'SibSp', 'Parch', 'Cabin',\n       'Embarked'])\n\nfor f in train_features:\n    related = train_data['Survived'].corr(train_data[f])\n    print(\"%s: %f\" % (f,related))\n","218b55e5":"correlations = [ train_data['Survived'].corr(train_data[f]) for f in train_features ]","a18d9a2b":"train_df = pd.DataFrame({'attributes': train_features, 'correlation': correlations}) ","76c1ee9b":"train_df.plot(x ='attributes', y='correlation', kind = 'line',\\\n        color='coral', figsize=(8,4), title='Survival Prediction by Feature Correlation',\\\n        linewidth=3.3, marker='.', markersize=20)\nplt.xlabel('Features')\nplt.ylabel('Survival Chances') \n\nplt.show()","59795959":"from sklearn.model_selection import train_test_split\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.metrics import confusion_matrix, precision_score, recall_score, classification_report","2e04e591":"X_train, X_test, y_train, y_test = train_test_split(train_data.drop('Survived',axis=1),\\\n                                                    train_data['Survived'], test_size=0.30, random_state=42)","32d810c1":"from xgboost import XGBClassifier\nclassifier = XGBClassifier()\nclassifier.fit(X_train, y_train)","f1b80a3f":"predictions = classifier.predict(X_test)","4d0f2112":"print(classification_report(y_test,predictions ))","0c2c0fd7":"cm = confusion_matrix(y_test, predictions)\nprint(cm)","5ed140ab":"accuracy_score(y_test, predictions)","4fdf5329":"#### Explore by Age","360d4697":"#### Correlation Analysis","2d296e52":"Passengers with lesser number of sublings\/spouse on had higher chances of survival.","11f802da":"#### Explore survival by Subling and Spouse on board","6282e1b0":"From above analysis we see the following:\n1. About 65% of passengers were male ( 577 of 891)\n2. About 72% of passengers embarked from S","6b468654":"Passengers in Pclass 1 had higher survival, followed by Pclass 2 and 3 respectively.","fe153987":"#### Predicting Survival using Train - Test Data","7e360321":"If you like my work, please upvote. Thanks","94463092":"#### Explore Survival by point of Embark","f449a5ce":"There were more female survivors than male","dfdf5c7b":"#### Exploring Survival by Gender","248f4a86":"Here we see Cabin has the highest correclation with Survival followed by Parch and Age.","b942c541":"Passenegers who embarked at point C had higher survival.","ca294903":"#### Explore survival by class","5f80c5c1":"#### Exploring using numerical data"}}