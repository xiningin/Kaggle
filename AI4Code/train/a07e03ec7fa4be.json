{"cell_type":{"1207b815":"code","a3fdae20":"code","11f95af9":"code","68d2bd7d":"code","90303134":"code","826c4d5a":"code","e42ec1ce":"code","702c41b4":"code","0b2a347c":"code","150e31ab":"code","d956863a":"code","71fe67ff":"code","fdeb9361":"code","7dd28a47":"code","a386a6f1":"code","45591d3e":"code","818a6304":"code","b4bf6e9b":"code","c6130023":"code","70ed8ecf":"code","0145944d":"code","fda635f7":"code","23f6ccd7":"code","c24ac468":"markdown","2d66ef98":"markdown","29ef3363":"markdown","3eb2292a":"markdown","1c58f447":"markdown"},"source":{"1207b815":"#Importing required libraries\nimport pandas as pd\nimport numpy as np\nfrom matplotlib import pyplot as plt\n%matplotlib inline\n#Prophet for prediction\nfrom fbprophet import Prophet","a3fdae20":"# Loading the dataset\n#'Last Update' is parsed as datetime format\ndf = pd.read_csv('..\/input\/novel-corona-virus-2019-dataset\/covid_19_data.csv', parse_dates=['Last Update'])\ndf_confirmed = pd.read_csv(\"..\/input\/novel-corona-virus-2019-dataset\/time_series_covid_19_confirmed.csv\", index_col='Country\/Region')\ndf_deaths = pd.read_csv(\"..\/input\/novel-corona-virus-2019-dataset\/time_series_covid_19_deaths.csv\",index_col='Country\/Region')\n\ndf.rename(columns={'ObservationDate':'Date', 'Country\/Region':'Country'}, inplace=True)","11f95af9":"df.head(3)","68d2bd7d":"#Selecting only the required columns for analysis and droping others\ndf = df.drop(['Province\/State'], axis = 'columns')\ndf.head(3)","90303134":"df_confirmed = df_confirmed.drop(['Province\/State', 'Lat', 'Long'], axis = 1)\ndf_confirmed.head(3)","826c4d5a":"df_deaths = df_deaths.drop(['Province\/State', 'Lat', 'Long'], axis = 1)\ndf_deaths.head(3)","e42ec1ce":"# Group df dataset by 'Date' with sum parameter and analyse the 'Confirmed','Deaths' values.\ncases = df.groupby('Date').sum()[['Confirmed', 'Recovered', 'Deaths', ]].reset_index()\ncases.plot(kind='line', figsize = (15,7) , marker='o',linewidth=2)\nplt.bar(cases.index, cases['Confirmed'],alpha=0.3,color='c')\nplt.xlabel('Days', fontsize=15)\nplt.ylabel('Number of cases', fontsize=15)\nplt.title('Worldwide Covid-19 cases - Confirmed & Deaths',fontsize=20)\nplt.grid(True)\nplt.style.use('ggplot')\nplt.legend()","702c41b4":"# Evaluate China's cases\ndf_china = df[df['Country']=='US']\ndf_china_daily = df_china.groupby('Date')[['Confirmed','Recovered', 'Deaths']].sum().reset_index()\ndf_china_daily.plot(kind='line', figsize = (12,6))\nplt.xlabel('Days')\nplt.ylabel('Number of cases')\nplt.title('Confirmed cases in US')\nplt.grid(True)\nplt.show()","0b2a347c":"m_count = df.groupby(['Date', 'Country']).sum()[['Confirmed','Recovered','Deaths']].reset_index()\n#The latest date reported in the dataset\nlatest_date = m_count['Date'].max()\nm_count = m_count[(m_count['Date']==latest_date)][['Country', 'Confirmed', 'Recovered','Deaths']]\ntop_5=m_count.nlargest(5,['Confirmed']).reset_index()\ntop_5","150e31ab":"plt.figure(figsize=(10,3))\nplt.title('Top 5 Countries with confirmed Covid-19 cases',fontsize=15)\nplt.barh(top_5['Country'],top_5['Confirmed'],color='blue')\nplt.yticks(fontsize=12)\nplt.xlabel('Confirmed', fontsize=12)\nplt.grid(True)\nplt.show()","d956863a":"top_5_d=m_count.nlargest(5,['Deaths'])\nplt.figure(figsize=(10,3))\nplt.title('Top 5 Countries with deaths due to Covid-19',fontsize=15)\nplt.barh(top_5_d['Country'],top_5_d['Deaths'],color='red')\nplt.yticks(fontsize=12)\nplt.xlabel('Death Count', fontsize=12)\nplt.grid(True)\nplt.show()","71fe67ff":"top_5_d=m_count.nlargest(5,['Recovered'])\nplt.figure(figsize=(10,3))\nplt.title('Top 5 Countries with recovered Covid-19',fontsize=15)\nplt.barh(top_5_d['Country'],top_5_d['Recovered'],color='green')\nplt.yticks(fontsize=12)\nplt.xlabel('Recovered', fontsize=12)\nplt.grid(True)\nplt.show()","fdeb9361":"# Evaluate India's cases\ndf_india = df[df['Country']=='India']\ndf_india_daily = df_india.groupby('Date')[['Confirmed','Recovered', 'Deaths']].sum().reset_index()\ndf_india_daily.plot(kind='line', figsize = (12,6), marker='o',linewidth=2)\nplt.xlabel('Days')\nplt.ylabel('Number of cases')\nplt.title('Confirmed cases in India')\nplt.grid(True)\nplt.show()","7dd28a47":"#Evaluate affected countries\nconfirmed = df.groupby(['Date', 'Country']).sum()[['Confirmed']].reset_index()\ndeaths = df.groupby(['Date', 'Country']).sum()[['Deaths']].reset_index()","a386a6f1":"#The latest date reported in the dataset\nlatest_date = confirmed['Date'].max()\nlatest_date","45591d3e":"confirmed = confirmed[(confirmed['Date']==latest_date)][['Country', 'Confirmed']]\ndeaths = deaths[(deaths['Date']==latest_date)][['Country', 'Deaths']]","818a6304":"# All the affected countries by Covid-19\nall_countries = confirmed['Country'].unique()\nprint(\"Number of countries\/regions with cases: \" + str(len(all_countries)))\nprint(\"Countries\/Regions with cases: \")\nfor i in all_countries:\n    print(\"*    \" + str(i))","b4bf6e9b":"confirmed = df.groupby('Date').sum()['Confirmed'].reset_index()\ndeaths = df.groupby('Date').sum()['Deaths'].reset_index()","c6130023":"confirmed.columns = ['ds','y']\nconfirmed['ds'] = pd.to_datetime(confirmed['ds'])\nconfirmed.head()","70ed8ecf":"m = Prophet(interval_width=0.95)\nm.fit(confirmed)\nfuture = m.make_future_dataframe(periods=15)\nfuture_confirmed = future.copy() # for non-baseline predictions later on\nfuture.tail()","0145944d":"forecast = m.predict(future)\nforecast[['ds', 'yhat', 'yhat_lower', 'yhat_upper']].tail()\nconfirmed_forecast_plot = m.plot(forecast, figsize = (12,6))\nplt.xlabel('Days')\nplt.ylabel('Number of cases')\nplt.title('Predicted growth in the no. of Covid19 cases')\nplt.grid(True)\nplt.style.use('ggplot')\nplt.show()","fda635f7":"deaths.columns = ['ds','y']\ndeaths['ds'] = pd.to_datetime(deaths['ds'])\nm = Prophet(interval_width=0.95)\nm.fit(deaths)\nfuture = m.make_future_dataframe(periods=15)\nfuture_deaths = future.copy() # for non-baseline predictions later on\nfuture.tail()","23f6ccd7":"forecast = m.predict(future)\nforecast[['ds', 'yhat', 'yhat_lower', 'yhat_upper']].tail()\ndeaths_forecast_plot = m.plot(forecast, figsize = (12,6))\nplt.xlabel('Days')\nplt.ylabel('Death Toll')\nplt.title('Predicted growth in the no. of deaths due to Covid19')\nplt.grid(True)\nplt.style.use('ggplot')\nplt.show()","c24ac468":"## Most affected countries","2d66ef98":"### Evaluating the most affected country - China ","29ef3363":"## Last updated on 2020-05-15\nThis notebook tracks the spread of the novel coronavirus, also known as the 2019-nCoV. It is a contagious respiratory virus that first started in Wuhan in December 2019. As of 02\/11\/2020, the virus is officially named COVID-19 by the World Health Organization (WHO). The WHO declared the coronavirus outbreak as a pandemic on 03\/11\/2020.\n\n### Acknowledgements\n[https:\/\/github.com\/CSSEGISandData\/COVID-19](http:\/\/github.com\/CSSEGISandData\/COVID-19)","3eb2292a":"# Thanks!\n## Will keep updating the notebook","1c58f447":"## Predicting future Covid-19 cases\nWe are using Prophet forecasting method to predict the count of cases and deaths."}}