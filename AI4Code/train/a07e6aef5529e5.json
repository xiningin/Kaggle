{"cell_type":{"e43a9fbe":"code","b0b5ff51":"code","036abe8e":"code","35d4ccaf":"code","7cafd33b":"code","3cad5f02":"code","cfa20ba4":"code","2d038307":"code","01d8dde0":"code","91e3ee53":"code","60406443":"code","a7406d09":"code","4e1182be":"code","96630a58":"code","bb5005b8":"code","0dcb4b1a":"markdown","fe905d4c":"markdown"},"source":{"e43a9fbe":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt","b0b5ff51":"raw_df= pd.read_csv('..\/input\/world-happiness-report-2021\/world-happiness-report-2021.csv')\nraw_df.head()","036abe8e":"raw_df.shape","35d4ccaf":"raw_df.info()","7cafd33b":"raw_df.describe().round(2)","3cad5f02":"raw_df.isna().sum()","cfa20ba4":"df= raw_df.drop(columns= ['Standard error of ladder score', 'upperwhisker', 'lowerwhisker', \n                         'Explained by: Log GDP per capita', 'Explained by: Social support',\n                          'Explained by: Healthy life expectancy', 'Explained by: Freedom to make life choices',\n                          'Explained by: Generosity',\n                          'Explained by: Perceptions of corruption', 'Dystopia + residual', 'Ladder score in Dystopia'])\n\ndf.head()","2d038307":"df.columns","01d8dde0":"sns.set_palette('GnBu_r')\nsns.set_style('whitegrid')\n\nplt.figure(figsize= (30, 80))\n\nl= [ 'Ladder score', 'Logged GDP per capita', 'Social support', 'Healthy life expectancy',\n       'Freedom to make life choices', 'Generosity']\n\nn= 1\nfor i in l:\n    plt.subplot(7, 2, n)\n    ax= sns.barplot(x= i, y= 'Country name', data= df, \n                order= df.groupby('Country name')[i].sum().sort_values(ascending= False).head(15).index, palette= 'GnBu_r')\n    plt.title('Best 15 Countries - {}'.format(i), fontsize= 20)\n    ax.set_ylabel('')\n    n+= 1\n    \n    plt.subplot(7, 2, n)\n    ax= sns.barplot(x= i, y= 'Country name', data= df, \n                order= df.groupby('Country name')[i].sum().sort_values(ascending= True).head(15).index, palette= 'YlOrRd_r')\n    plt.title('Worst 15 Countries - {}'.format(i), fontsize= 20)\n    ax.set_ylabel('')\n    n+= 1\n\n# Perceptions of corruption\nplt.subplot(7, 2, 13)\nax= sns.barplot(x= 'Perceptions of corruption', y= 'Country name', data= df, \n            order= df.groupby('Country name')['Perceptions of corruption'].sum().sort_values(ascending= True).head(15).index,\n            palette= 'GnBu_r')\nplt.title('Best 15 Countries - Perceptions of corruption'.format(i), fontsize= 20)\nax.set_ylabel('')\n\nplt.subplot(7, 2, 14)\nax= sns.barplot(x= 'Perceptions of corruption', y= 'Country name', data= df, \n            order= df.groupby('Country name')['Perceptions of corruption'].sum().sort_values(ascending= False).head(15).index,\n            palette= 'YlOrRd_r')\nplt.title('Worst 15 Countries - Perceptions of corruption'.format(i), fontsize= 20)\nax.set_ylabel('')","91e3ee53":"plt.figure(figsize= (15,60))\n\nl= [ 'Ladder score', 'Logged GDP per capita', 'Social support', 'Healthy life expectancy',\n       'Freedom to make life choices', 'Generosity', 'Perceptions of corruption']\n\nn= 1\n\nfor i in l:\n    \n    # Histogram\n    plt.subplot(7, 2, n)\n    sns.histplot(x= i, data= df, kde= True, bins= 30)\n    plt.title('Histogram of {}'.format(i), fontsize= 20)\n    n+= 1\n    \n    # Boxplot\n    plt.subplot(7, 2, n)\n    sns.boxplot(x= i, data= df)\n    plt.title('Boxplot of {}'.format(i), fontsize= 20)\n    n+= 1","60406443":"sns.pairplot(df, height= 4, kind= 'reg')","a7406d09":"corr= df.corr()\n\nplt.figure(figsize= (15, 7))\n\nsns.heatmap(corr, annot= True, linewidths= 1, cmap= 'GnBu')\nplt.title('Correlation Matrix', fontsize= 20)","4e1182be":"plt.figure(figsize= (10, 7))\nplt.pie(x= df['Regional indicator'].value_counts(), labels= df['Regional indicator'].value_counts().index,\n       explode= [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.1], autopct= '%.1f%%', shadow= True,\n       startangle= 90, pctdistance= .9)\n\nplt.title('Countries \/ Region', fontsize= 20)\n\nplt.show()","96630a58":"df_region= df.groupby('Regional indicator').mean().round(2)\n\ndf_region","bb5005b8":"plt.figure(figsize= (30, 40))\n\nl= [ 'Ladder score', 'Logged GDP per capita', 'Social support', 'Healthy life expectancy',\n       'Freedom to make life choices', 'Generosity', 'Perceptions of corruption']\n\nn= 1\nfor i in l:\n    plt.subplot(4, 2, n)\n    ax= sns.barplot(x= i, y= df_region.index, data= df_region, \n                order= df_region.sort_values(i, ascending= False).index, palette= 'GnBu_r')\n    plt.title(i, fontsize= 20)\n    ax.set_ylabel('')\n    n+= 1","0dcb4b1a":"## Exploratory Analysis\n\n### By Countries","fe905d4c":"### By Regional Indicator"}}