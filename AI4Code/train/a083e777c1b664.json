{"cell_type":{"7f502548":"code","d7ec0092":"code","506d3f19":"code","af0d4ed9":"code","d5cb03fe":"code","db86cc86":"code","6f564aea":"code","d15e601b":"code","e3862fea":"code","8a9773b7":"markdown","593c981f":"markdown","eb7c131e":"markdown","74bd1118":"markdown","88b136d8":"markdown","90da7aa8":"markdown","7803dc7c":"markdown"},"source":{"7f502548":"# Number to show out of 1947050\nTotal = 100\nshuffle = True\nlive_plot = False","d7ec0092":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt # For graph\/image plotting\nif live_plot:\n    %matplotlib notebook\nimport matplotlib.image as mpimg # For importing images\nimport os # For accessing data","506d3f19":"print(os.listdir(\"..\/input\"))","af0d4ed9":"print(os.listdir(\"..\/input\/greater-london\"))","d5cb03fe":"print(os.listdir(\"..\/input\/london-police-records\"))","db86cc86":"data_raw = pd.read_csv(\"..\/input\/london-police-records\/london-outcomes.csv\")\nindices = np.arange(data_raw.shape[0])\nif shuffle:\n    np.random.shuffle(indices)\ndata_raw = data_raw.iloc[indices[:Total]]","6f564aea":"data_raw.head()","d15e601b":"data = data_raw[data_raw.Longitude.notnull() & data_raw.Latitude.notnull()]\ndata.head()","e3862fea":"london_map = mpimg.imread(\"..\/input\/greater-london\/greater-london-google.png\")\n\n# Longitude & Latitude coordinates to Pixel coordinates converter\ndef convert(lon, lat):\n    # Boundary box coordinates\n    bbox_x1, bbox_y1, bbox_x2, bbox_y2 = -0.576352, 51.749359, 0.362419, 51.242601\n    \n    # Map image's dimensions\n    map_h, map_l = london_map.shape[0], london_map.shape[1]\n    \n    # Convert to pixel coordinates\n    pix_x = (lon - bbox_x1) \/ (bbox_x2 - bbox_x1) * map_l\n    pix_y = (lat - bbox_y1) \/ (bbox_y2 - bbox_y1) * map_h\n    \n    return pix_x, pix_y\n\nfig = plt.figure(figsize=(15,15))\nplt.imshow(london_map)\nplt.axis(\"off\")\n\nfor _, row in data.iterrows():\n    circle = plt.Circle(convert(row[\"Longitude\"], row[\"Latitude\"]), 3, fc='r')\n    plt.gca().add_patch(circle)\n    \n    if live_plot:\n        fig.canvas.draw()\n\nfig.canvas.draw()","8a9773b7":"Show directory structure","593c981f":"Read CSV","eb7c131e":"Show the head of the CSV","74bd1118":"Import libraries","88b136d8":"The map of Greater London below is a screenshot from google map with boundary box: -0.576352, 51.749359, 0.362419, 51.242601","90da7aa8":"Options","7803dc7c":"We note that some rows(e.g. row 0) has no info on Longitude\/Latitude. So we filter out these rows."}}