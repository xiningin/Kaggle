{"cell_type":{"8457edc7":"code","c9974e31":"code","aaf5b6c4":"code","639152cb":"code","454585b3":"code","deb70dac":"code","b609397d":"code","fbeeb89e":"code","66635e01":"code","57e6b1b1":"code","cdf7b0ce":"code","b50fbf0d":"code","50f1740f":"code","038c9312":"code","d33b954a":"markdown","e2d9864c":"markdown","721db5e5":"markdown","d38a200d":"markdown","77bcd4f4":"markdown","33cdbf34":"markdown","88aa36c4":"markdown","60670e02":"markdown","b89bc86c":"markdown","e01baa66":"markdown","6676cf78":"markdown","b6c66358":"markdown","1bfff359":"markdown","e7abef34":"markdown","4595392d":"markdown","040135f2":"markdown"},"source":{"8457edc7":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","c9974e31":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nplt.style.use('ggplot')","aaf5b6c4":"df = pd.read_csv('..\/input\/titanic\/train.csv')\ndf.head()","639152cb":"df.drop(['PassengerId','Ticket','Name'],inplace=True,axis=1)","454585b3":"grouped = pd.pivot_table(data=df,index=['Sex'])\ngrouped","deb70dac":"grouped.plot(kind='bar')","b609397d":"grouped = pd.pivot_table(df,index=['Sex','Pclass'])\ngrouped","fbeeb89e":"grouped = pd.pivot_table(df,index=['Sex','Pclass'],aggfunc={'Age':np.mean,'Survived':np.sum})\ngrouped","66635e01":"grouped = pd.pivot_table(df,index=['Sex','Pclass'],values=['Survived'], aggfunc=np.sum)\ngrouped","57e6b1b1":"grouped.plot(kind='bar');","cdf7b0ce":"grouped = pd.pivot_table(df,index=['Sex'],columns=['Pclass'],values=['Survived'],aggfunc=np.sum)\ngrouped","b50fbf0d":"grouped.plot(kind='bar');","50f1740f":"grouped = pd.pivot_table(df,index=['Sex','Survived','Pclass'],columns=['Embarked'],values=['Age'],aggfunc=np.mean)\ngrouped","038c9312":"grouped = pd.pivot_table(df,index=['Sex','Survived','Pclass'],columns=['Embarked'],values=['Age'],aggfunc=np.mean,fill_value=np.mean(df['Age']))\ngrouped","d33b954a":"Pandas pivot_table allows you to handle missing data in two ways:\n* dropna - drops all null values in pivot table\n* fill_value - replace all null values in pivot table with the specified values","e2d9864c":"In this tutorial I'd like to show you how to apply **pivot_table** function to improve your EDA.\n\nI'll use a common known Titanic dataset.","721db5e5":"You can define feature(s) to apply the aggregate function on by using **value** parameter.\n","d38a200d":"### How to use **columns** parameter","77bcd4f4":"Columns parameter can be use to find relationships between features. \n\nColumns parameter displays values horizontally on the top of the resultant table","33cdbf34":"Drop some columns to simplify our analysis","88aa36c4":"Let's replace NaN values with the mean value from the \u2018Age\u2019 column","60670e02":"**References**\n\n* https:\/\/www.analyticsvidhya.com\/blog\/2020\/03\/pivot-table-pandas-python\/\n* https:\/\/pandas.pydata.org\/pandas-docs\/stable\/reference\/api\/pandas.pivot_table.html","b89bc86c":"Now we apply **aggfunc** which accepts a function or list of functions you\u2019d like to use on your group (default: np.mean)","e01baa66":"### Grouping data using index in a Pivot Table","6676cf78":"### Aggregation function in Pivot Tables","b6c66358":"### Import libraries and data","1bfff359":"Explore the data to see missing vaules","e7abef34":"### Pivot Table with multi-index","4595392d":"### Aggregate on specific features with values parameter","040135f2":"### Handling missing data in Pivot Tables"}}