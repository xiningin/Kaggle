{"cell_type":{"d171169b":"code","6a3472ac":"code","0410b5f5":"code","a48f9b25":"code","a3e4b544":"code","ef9af4ec":"code","ab85e484":"code","69f11d08":"code","bf3e2ed6":"code","5eff8915":"code","feb96c16":"code","03f1f7a2":"code","7d9f5fa7":"code","94ac1031":"code","93e0f6c4":"code","09e2a03f":"code","7a83d0f4":"code","87ff9ed3":"code","668c4135":"code","8adb09f9":"code","9ac40f78":"code","bd0a8f2a":"code","23eeac1e":"code","ec90b93a":"code","1110da38":"code","cb57e4a0":"code","47abed59":"code","c11c0d05":"code","656713d0":"code","d14eb704":"code","0aaefba3":"code","34b932c9":"code","b00d5b36":"code","451bec43":"code","5511a6ba":"code","ecefa951":"code","e9760c45":"code","dfd9a76b":"code","46ccca62":"code","ebc6db0b":"code","ff686fe4":"code","f85696d0":"code","af9a766d":"code","bddf3ab2":"markdown","0208a553":"markdown","303311fe":"markdown","b1ba7d3d":"markdown","7d627389":"markdown","789b75d7":"markdown","46f5f817":"markdown","978b8bec":"markdown","f83880e2":"markdown","882c562b":"markdown","e96b7e84":"markdown","fb52a424":"markdown","af310aba":"markdown","99e38074":"markdown","ee3ac3cb":"markdown","f7832550":"markdown","80718946":"markdown","6bca8f91":"markdown","37e86c7f":"markdown","78ed387a":"markdown","90490b75":"markdown"},"source":{"d171169b":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nfrom plotly import __version__\nimport cufflinks as cf\nfrom plotly.offline import download_plotlyjs,init_notebook_mode,plot,iplot\ninit_notebook_mode(connected=True)\ncf.go_offline()\n\ndf_raw=pd.read_csv(\"..\/input\/externalourworldindata\/international-tourism-number-of-arrivals.csv\")\ndf_raw","6a3472ac":"df_raw.rename(columns={'Entity':'Country',\"Unnamed: 3\":\"No of Tourist\"},inplace=True)\ndf_raw[\"No of Tourist in million\"]=df_raw[\"No of Tourist\"]\/1000000\ndf_raw.drop(columns=[\"No of Tourist\"],inplace=True)","0410b5f5":"df_raw.head()","a48f9b25":"df_raw[df_raw[\"Country\"]==\"World\"].plot(x=\"Year\",y=\"No of Tourist in million\",kind=\"bar\")\nplt.xlabel(\"Year\")\n\nplt.title(\"Worldwide tourist bar chart\")\n","a3e4b544":"df_raw[df_raw[\"Country\"]==\"World\"][\"No of Tourist in million\"].iplot()","ef9af4ec":"df_raw.set_index(\"Year\",inplace=True)\n\n","ab85e484":"df_raw[df_raw[\"Country\"]==\"World\"][\"No of Tourist in million\"].iplot(title=\"World Tourist yearwise\",xTitle='Years',yTitle='Number of tourist (in millions)',\n                                                               theme='Solar',color='red')","69f11d08":"df_raw.reset_index(inplace=True)","bf3e2ed6":"\ndf_raw[df_raw[\"Country\"]==\"World\"].plot(x=\"Year\",y=\"No of Tourist in million\",kind=\"bar\")\nplt.xlabel(\"Year\")\n\nplt.title(\"Worldwide tourist bar chart\")\n#2003\n# Annotate arrow\nplt.annotate('',                      # s: str. will leave it blank for no text\n             xy=(8,700),             # place head of the arrow \n             xytext=(2, 1000),         # place base of the arrow \n             xycoords='data',         # will use the coordinate system of the object being annotated \n             arrowprops=dict(arrowstyle='->', connectionstyle='arc3', color='blue', lw=2)\n            )\n\n# Annotate Text\nplt.annotate('Iraq conflict,SARS', # text to display\n             xy=(3.3,700),                    # start the text at at point .\n             rotation=330,                  # based on trial and error to match the arrow\n             va='bottom',                    # want the text to be vertically 'bottom' aligned\n             ha='left',                      # want the text to be horizontally 'left' algned.\n            )\n\n#2009\n# Annotate arrow\nplt.annotate('',                      # s: str. will leave it blank for no text\n             xy=(14,900),             # place head of the arrow \n             xytext=(9, 1200),         # place base of the arrow \n             xycoords='data',         # will use the coordinate system of the object being annotated \n             arrowprops=dict(arrowstyle='->', connectionstyle='arc3', color='blue', lw=2)\n            )\n\n# Annotate Text\nplt.annotate('H1N1 pandemic', # text to display\n             xy=(10,950),                    # start the text at at point .\n             rotation=325,                  # based on trial and error to match the arrow\n             va='bottom',                    # want the text to be vertically 'bottom' aligned\n             ha='left',                      # want the text to be horizontally 'left' algned.\n            )\n\n\nplt.show()\n","5eff8915":"df_region=pd.read_csv(\"..\/input\/tourists-by-region\/international-tourist-arrivals-by-world-region.csv\")\ndf_region.head()","feb96c16":"df_region[\"No of tourist in million\"]=df_region[\" (arrivals)\"]\/1000000\ndf_region.rename(columns={\"Entity\":\"Region\"},inplace=True)\ndf_region.drop(columns=[\"Code\",\" (arrivals)\"],inplace=True)\ndf_region.set_index(\"Year\",inplace=True)\ndf_region.tail()","03f1f7a2":"colors_list = ['red','lightgreen','lightcoral','lightskyblue','yellow']\nexplode_list = [0.1,0.05,0,0,0.1]\ndf_region[df_region.index==2018]['No of tourist in million'].plot(kind='pie',\n                                                                 figsize=(10,6),autopct='%1.1f%%',pctdistance=1.11,\n                                                                 colors=colors_list,explode = explode_list,labels=None,\n                                                                 startangle=90,shadow=True)\nplt.title('Region-wise tourists distribution for Y2018 ',y=1.12)\nplt.legend(df_region[df_region.index==2018].Region,loc = 'upper left')\nplt.axis('equal')\nplt.show()","7d9f5fa7":"fig,ax=plt.subplots(figsize=(4,2.5),dpi=144)\ncolor=plt.cm.Dark2(range(5))\ny=df_region[df_region.index==2018][\"Region\"]\nwidth=df_region[df_region.index==2018][\"No of tourist in million\"]\nax.barh(y=y,width=width,color=color)\nax.set_title(\"Region-wise tourists distribution for Y2018\")\nax.set_xlabel(\"tourist in million\")\n","94ac1031":"def nice_axes(ax): #so that we don't have set grid,facecolor etc everytime.\n    ax.set_facecolor('.8')  # 0 to 1 ->black to white resp\n    ax.tick_params(labelsize=8, length=0)\n    ax.grid(True, axis='x', color='white')\n    ax.set_axisbelow(True)                  # make it false and see change \n    [spine.set_visible(False) for spine in ax.spines.values()]  # make it true and see change\n    \nnice_axes(ax)\nfig\n\n","93e0f6c4":"years=list(df_region.index.unique())","09e2a03f":"from IPython.display import HTML\nfrom matplotlib.animation import FuncAnimation\n","7a83d0f4":"colors=plt.cm.Dark2(range(5))\ndef bar_chart(year):\n    ax.clear()\n    y=df_region[df_region.index==year][\"Region\"]\n    width=df_region[df_region.index==year][\"No of tourist in million\"]\n    ax.barh(y=y,width=width,color=color)\n\n    ax.set_title(year)\n    ax.set_xlabel(\"tourist in million\")\n    nice_axes(ax)\nfig, ax = plt.subplots(figsize=(10,6))\nanimator = FuncAnimation(fig, bar_chart, frames=years)\nHTML(animator.to_jshtml())\n    ","87ff9ed3":"df_raw","668c4135":"import plotly.express as px\nfig = px.choropleth(df_raw, locations=\"Code\", color=\"No of Tourist in million\",\n                    color_continuous_scale=\"greens\" ,hover_name=\"Country\", \n                    animation_frame=\"Year\",range_color=[0,100])\nfig.update_layout(\n    title_text='Choropleth map for tourist by country',\n    geo=dict(\n        showframe=False,\n        showcoastlines=False,\n        projection_type='equirectangular'\n    ),\n    annotations = [dict(\n        x=0.55,\n        y=0.1,\n        xref='paper',\n        yref='paper',\n        text='Source: <a href=\"https:\/\/ourworldindata.org\/tourism\">\\Our World in Data<\/a>',\n        showarrow = False\n    )]\n)\nfig.show()","8adb09f9":"df_india = df_raw[df_raw['Country'] == 'India']\ndf_india.set_index('Year',inplace=True)\ndf_india.head()","9ac40f78":"fig = px.line(df_india,x= df_india.index,y='No of Tourist in million')\nfig.update_layout(title=\"Line plot <br>\" +\n           \"<i>Number of tourist visiting india <\/i> <br>\",\n            title_font_size=20,paper_bgcolor='black',title_font_color = 'yellow',title_font_family='Aerial',\n            font={'color':'white','family':'Times New Roman','size':15},\n            height = 500,\n            template = 'plotly_white'\n                 ),\nfig.add_layout_image(\n        dict(\n            source=\"https:\/\/images.yourstory.com\/cs\/wordpress\/2015\/05\/Yourstory_India_tourism.jpg?fm=png&auto=format\",\n            xref='x',\n            yref='y',\n            x=1995,\n            y=16,\n            sizex=22,\n            sizey=16,\n            sizing='stretch',\n            opacity=0.5,\n            layer=\"below\")),\nfig.update_xaxes(showgrid=True,linecolor='black',linewidth=2)\nfig.update_yaxes(linecolor='black',linewidth=2)","bd0a8f2a":"\nIndia = pd.read_html('https:\/\/en.wikipedia.org\/wiki\/Tourism_in_India')[3]\nIndia","23eeac1e":"India.drop(index=[10,12],inplace=True)","ec90b93a":"fig = px.pie(India,values ='Share in\\xa0%',names='Country')\nfig.update_layout(title='Pie Chart<br>'+\"<i>Top 10 countries visiting India<i>\",\n                 title_font_family ='Times New Roman')","1110da38":"India_earning = pd.read_html(\"https:\/\/en.wikipedia.org\/wiki\/Tourism_in_India\")[2]\nIndia_earning","cb57e4a0":"fig = px.bar(India_earning,x='Year',y='Earnings (\u20b9 crores)')\nfig.update_layout(template = 'plotly_white',\n                 title = 'Earning from tourism in India',\n                  title_font_family = 'Times New Roman',\n                 title_font_size = 28),\nfig.show()","47abed59":"India_states = pd.read_html(\"https:\/\/en.wikipedia.org\/wiki\/Tourism_in_India\")[5]\nIndia_states","c11c0d05":"India_states.drop(index=[10,12],inplace=True)","656713d0":"px.pie(India_states,values='Number',names='State\/Union Territory',title= \"state-wise foreign tourist visits in 2017\")","d14eb704":"#Folium","0aaefba3":"import folium\nm=folium.Map(zoom_start=7,location=[48.8566,2.3522])\nm","34b932c9":"from folium import IFrame\nimport os\nimport base64\n","b00d5b36":"df = pd.read_excel('..\/input\/francetourist-sites-listed-in-unesco-w-heritage\/France_tourist sites.xlsx')\ndf.columns.values","451bec43":"df.drop(['Unnamed: 1','Unnamed: 3','Unnamed: 5'],axis=1,inplace=True)","5511a6ba":"df.head()","ecefa951":"l=df.iloc[1,2].split(\",\")\nl","e9760c45":"float(l[0].split(\"(\")[1])","dfd9a76b":"html='<img src=\"data:image\/jpg;base64,{}\">'.format #see basic tutorials of html \npicture=base64.b64encode(open(\"..\/input\/images\/1.jpg\",\"rb\").read()).decode()\niframe =IFrame(html(picture),width=150+20,height=100+20)\npopup= folium.Popup(iframe,max_width=200)\nx=float(l[0].split(\"(\")[1])\ny=float(l[1].split(\")\")[0])\nloc=[x,y]\nfolium.Marker(location=loc,\n             popup=popup,tooltip=df.iloc[0,0]).add_to(m)\nm","46ccca62":"x_list=[]\ny_list=[]\nfor i,row in df.iterrows():\n    x=float(row[\"(lat,long)\"].split(\",\")[0].split('(')[1])\n    y=float(row['(lat,long)'].split(\",\")[1].split(')')[0])\n    x_list.append(x)\n    y_list.append(y)\n    ","ebc6db0b":"df['X']=x_list\ndf['Y']=y_list\ndf","ff686fe4":"df[\"IMG_LOC\"] = df[\"IMG_LOC\"].apply(lambda x: \"..\/input\/images\/\"+ x)\ndf","f85696d0":"df.drop([3,4,7,13,19],inplace = True)","af9a766d":"for index,row in df.iterrows():\n    html='<img src=\"data:image\/jpg;base64,{}\">'.format #see basic tutorials of html \n    picture=base64.b64encode(open(row[\"IMG_LOC\"],\"rb\").read()).decode()\n    iframe =IFrame(html(picture),width=150+20,height=120+20)\n    popup= folium.Popup(iframe,max_width=250)\n    \n    folium.Marker(location=[row[\"X\"],row[\"Y\"]],\n                 tooltip=row[\"Property\"],\n                  popup=popup,\n                 icon=folium.Icon(color=\"red\",icon=\"info-sign\")).add_to(m)\nm","bddf3ab2":"for more see the link: https:\/\/www.dunderdata.com\/blog\/create-a-bar-chart-race-animation-in-python-with-matplotlib","0208a553":"# Worldwide","303311fe":"Do some data preprocesssing to make data according to your need","b1ba7d3d":"# Data visualisation of world tourism","7d627389":"let's have a look on these sites with folium","789b75d7":"# France(Most visited country)","46f5f817":"France has 37 sites inscribed in the UNESCO's World Heritage List \nhttps:\/\/en.wikipedia.org\/wiki\/List_of_World_Heritage_Sites_in_France","978b8bec":"india tourism \niplot (reason for sudden increament in 2014)\nREASON: In 2014, 184,298 foreign patients traveled to India to seek medical treatment.(source:wiki)\nForeign exchange earnings from tourism in India:https:\/\/en.wikipedia.org\/wiki\/Tourism_in_India(lineplot)\nTop 10 countries in no of tourists to india(pie chart)\n","f83880e2":"Reason for sudden increment in 2014 :In 2014, 184,298 foreign patients traveled to India to seek medical treatment.(source:wiki)","882c562b":"First import useful libraries and data","e96b7e84":"France was visited by 89 million foreign tourists in 2018, making it the most popular tourist destination in the world, however considering the number of nights spent in the country, it is in sixth place, after United States, United Kingdom, China, Spain and Italy.France ranks fifth in tourist spending behind the United Kingdom, United States, China and Spain","fb52a424":"# India\n","af310aba":"# Country-wise","99e38074":"# The above graph is showing continous increasing behavior except for two points(Y2003 and Y2009).\nreason:\n2003\nIn 2003, international tourism lived through another considerably difficult year in which three negative factorscame together: the Iraq conflict, SARS and a persistently weak economy.The  volume  of  international  tourism  as  measured  in  international  tourist  arrivals  slid  by1.7% to 691 million(689M in our data ie slight difference due to different data sources), corresponding to a contraction of 12 million arrivals on the 2002 volume of 703 million(698M in our data ie slight difference due to different data sources)\nfor more click on link : https:\/\/www.e-unwto.org\/doi\/pdf\/10.18111\/9789284407910\n\n2009\n\n\u201cThe global economic crisis aggravated by the uncertainty around the A(H1N1) pandemic turned 2009 into one of the toughest years for the tourism sector\u201d, said UNWTO Secretary-General Taleb Rifai.\n https:\/\/www.moodiedavittreport.com\/international-tourism-arrivals-fall-by-4-in-2009\/\n\n\n\n  ","ee3ac3cb":"That's all!\nThanks for spending your precious time on our notebook.\nThis is our first notebook for dataviz, we have tried our best to extract uneven points from data with the help of charts.In case we missed something important please comment it out below.\nOnce again thank you.","f7832550":"uses index as x axis as index ,so let's make years as index and then plot this again(you can also pass x,y col_name).","80718946":"Share of top 10 states\/UTs of India in number of foreign tourist visits in 2017","6bca8f91":"# Region-wise","37e86c7f":"top contributing countries to indian tourism(by no of tourists in Y2018)","78ed387a":"Data source:https:\/\/ourworldindata.org\/tourism","90490b75":"Tourism in France directly contributed 79.8 billion euros to gross domestic product, 30% of which comes from international visitors and 70% from domestic tourism spending. The total contribution of travel and tourism represents 9.7% of GDP and supports 2.9 million jobs (10.9% of employment) in the country."}}