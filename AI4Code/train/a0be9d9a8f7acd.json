{"cell_type":{"5cdfe7c8":"code","ddd4931d":"code","4a0a7be7":"code","57c2f7aa":"code","4bc8f69d":"code","423b0c61":"code","813c7bf5":"code","08674cdc":"code","c7e42dd4":"code","b7b097e6":"code","4f337ebc":"code","74af1534":"code","96582880":"code","7660c520":"code","f355d4d9":"code","e55006ec":"code","788f31d1":"code","394c1c29":"code","45c6edd9":"code","1be32921":"code","101836e1":"code","00a38500":"code","4bdd9cf3":"code","58a0b8ae":"code","b08793d2":"code","c1a822d9":"code","0a91edd6":"code","064ca29b":"code","066e371a":"code","29c35851":"code","52ba05d6":"code","3067f7e8":"code","e6849185":"code","dca2056c":"code","9fc37c29":"code","0ffc2997":"code","32157f2b":"code","ebeef370":"code","c7343c69":"code","7932a6c4":"code","43b384d8":"markdown","06ca1fd9":"markdown","b5e056b2":"markdown","b8cb4ad9":"markdown","a0b33862":"markdown","06251ad8":"markdown","9295db0b":"markdown","3e447b82":"markdown","ff47f985":"markdown","ded7da40":"markdown","472f03f6":"markdown","22c9f610":"markdown","a3236b95":"markdown","37cc5659":"markdown","d502809f":"markdown","dbad2994":"markdown","ae2d4ec8":"markdown","9d4ae9d7":"markdown","89f87b2c":"markdown","1ddbfd33":"markdown","92955758":"markdown","1e3be6be":"markdown"},"source":{"5cdfe7c8":"import os\nfor dirname, _, filenames in os.walk('..\/input\/us-accidents'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","ddd4931d":"data_filename = '..\/input\/us-accidents\/US_Accidents_Dec20_updated.csv'","4a0a7be7":"#import libraries\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_style(\"whitegrid\")\nimport gc\n\n#supress warnings\nimport warnings\nwarnings.filterwarnings(\"ignore\")","57c2f7aa":"us_data = pd.read_csv(data_filename)","4bc8f69d":"us_data","423b0c61":"## Checking information about the data and it's types\nus_data.info()","813c7bf5":"us_data.columns","08674cdc":"## A Summary Distribution of the Variables\nus_data.describe()","c7e42dd4":"## Missing values percentanges\nmissing_percentages = (us_data.isna().sum().sort_values(ascending = False)\/len(us_data))*100\nplt.figure(figsize=(16,8))\nsns.histplot(missing_percentages)\nplt.title('Histogram showing missing_percentages')\nplt.show()","b7b097e6":"## Number of cities\ncities = us_data.City.unique()\nlen(cities)","4f337ebc":"accidents_per_cities = us_data.City.value_counts()\naccidents_per_cities[:10]","74af1534":"## Top 10 cities with most accidents\nplt.figure(figsize=(16,8))\naccidents_per_cities[:10].plot(kind= 'bar', color='green')\nplt.title(\"Bar Graph for Cities with Most Accidents\")\nplt.show()","96582880":"## Distribution Plot for number of accidents per city\nplt.figure(figsize=(16,8))\nsns.distplot(accidents_per_cities)\nplt.title(\"Distribution Graph for Accidents per City\")\nplt.show()\n","7660c520":"## Finding high & low accidents cities\nhigh_accident_rates_cities = accidents_per_cities[accidents_per_cities >= 1000]\nlow_accident_rates_cities = accidents_per_cities[accidents_per_cities < 1000]","f355d4d9":"## Percentange of Cites with the high percentanges of accidents \n(len(high_accident_rates_cities)\/ len(cities))*100","e55006ec":"plt.figure(figsize=(16,8))\nsns.distplot(high_accident_rates_cities)\nplt.title(\"Distribution Graph for Cities with High Rates Accidents\")\nplt.show()","788f31d1":"plt.figure(figsize=(16,8))\nsns.distplot(low_accident_rates_cities)\nplt.title(\"Distribution Graph for Cities with Low Rates Accidents\")\nplt.show()","394c1c29":"## Histogram for Accidents per city\nplt.figure(figsize=(16,8))\nsns.histplot(accidents_per_cities, log_scale=True)","45c6edd9":"us_data.Start_Time","1be32921":"us_data.Start_Time[0]","101836e1":"## Since Start_Time is a string, we have to parse Start_time into workable Date-Time objects\naccident_start_time = pd.to_datetime(us_data.Start_Time)\naccident_start_time","00a38500":"accident_start_time[0]","4bdd9cf3":"## Get the hour for each accident timestamp\naccident_start_time.dt.hour\n\n## Plot a distribution plot for hours\nplt.figure(figsize=(16,8))\nsns.countplot(accident_start_time.dt.hour)\nplt.title('Count of Accidents by Hour')\nplt.xticks(np.arange(0,24),np.arange(0,24),rotation=90)\nplt.xlabel('Hour')\nplt.plot()\n","58a0b8ae":"## Get and plot  the day of the week \naccident_start_time.dt.dayofweek\nplt.figure(figsize=(16,8))\nsns.countplot(accident_start_time.dt.dayofweek)\nplt.title('Count of Accidents by Day of Week')\nplt.xticks(np.arange(0,7),np.arange(0,7),rotation=90)\nplt.xlabel('Day of Week')\nplt.plot()\n","b08793d2":"## Distribution of Accidents on the Weekends \nplt.figure(figsize=(16,8))\nweekend_accidents = accident_start_time[accident_start_time.dt.dayofweek>=5]\nsns.countplot(weekend_accidents.dt.hour)\nplt.title('Count of Accidents by Hour during the weekends')\nplt.xticks(np.arange(0,24),np.arange(0,24),rotation=90)\nplt.xlabel('Weekend Hours')\nplt.plot()","c1a822d9":"## Distribution of Accidents on the Weekdays \nplt.figure(figsize=(16,8))\nweekday_accidents = accident_start_time[accident_start_time.dt.dayofweek<5]\nsns.countplot(weekday_accidents.dt.hour)\nplt.title('Count of Accidents during Weekdays')\nplt.xticks(np.arange(0,24),np.arange(0,24),rotation=90)\nplt.xlabel('Weekdays Hours')\nplt.plot()","0a91edd6":"## Get and plot  the Month\nplt.figure(figsize=(16,8))\naccident_start_time.dt.month\nsns.countplot(accident_start_time.dt.month)\nplt.title('Count of Accidents by Months')\nplt.xticks(np.arange(0,12),np.arange(0,12),rotation=90)\nplt.xlabel('Month')\nplt.plot()","064ca29b":"## Distribution of Accident by Year\nplt.figure(figsize=(16,8)) \naccidents_2020 = accident_start_time[accident_start_time.dt.year == 2020]\nsns.countplot(accidents_2020.dt.month)\nplt.title('Count of Accidents for 2020')\nplt.xlabel('2020')\nplt.plot()","066e371a":"## Scatter plot of accidents of 5% sample\nplt.figure(figsize=(12,6))\nsample_us_data = us_data.sample(int(0.05 *len(us_data)))\nsns.scatterplot(x = sample_us_data.Start_Lng, y = us_data.Start_Lat, size= 0.0001)\nplt.title('Scatter plot of accidents of 5% sample ')\nplt.plot()","29c35851":"weather_conditions = us_data.Weather_Condition.unique()\nlen(weather_conditions)\n","52ba05d6":"### Weather conditions at the time of the Accidents\nweather_accidents = us_data.Weather_Condition.value_counts()\nweather_accidents","3067f7e8":"## Histogram of the 10 most common weather conditions for accidents \nplt.figure(figsize=(16,8))\nweather_accidents[:10].plot(kind= 'bar')\nplt.title('Bar Plot for 10 most common weather condition for accidents')\nplt.xlabel('weather conditions')\nplt.plot()","e6849185":"severity = us_data.Severity\nstates = us_data.State.unique()\n","dca2056c":"## Severity Levels for each State\nstate_severity = pd.crosstab(columns=us_data.Severity, index=us_data.State)\nstate_severity","9fc37c29":"state_severity.plot(kind='bar',figsize=(16,8),color=['purple','orange','blue','red','green'])\nplt.title('Bar plot of Accident Severity in respective State')\nplt.ylabel('Frequency')\nplt.show()","0ffc2997":"## States with the most level 4 severity accidents\ndeadly_state = pd.crosstab(columns=us_data.Severity[4], index=us_data.State)\ndeadly_state\ndeadly_state.plot(kind='bar',figsize=(16,8),color='green')\nplt.title('Bar plot of Accident Severity Level 4 in respective State')\nplt.ylabel('Frequency')\nplt.show()\n","32157f2b":"plt.figure(figsize=(12,6))\nsns.boxplot(x='Severity',y='Wind_Speed(mph)',data=us_data,hue='Severity')\nplt.ylim(0,100)","ebeef370":"## Due to many outliers in the plot above, mean would skew the data so median was used\nplt.figure(figsize=(12,6))\nus_data.groupby('Severity')['Wind_Speed(mph)'].median().plot(kind='bar')\nplt.ylabel('Wind_Speed(mph)')\nplt.title(\"Median 'Wind_Speed(mph)' by Severity\")\nplt.show()","c7343c69":"x = pd.crosstab(index=accident_start_time.dt.hour, columns=us_data.Severity)\nx.plot(kind='bar', color=['blue','yellow','green','red'],figsize=(16,8))\nplt.show()","7932a6c4":"deadliest_hours = pd.crosstab(index=accident_start_time.dt.hour, columns=us_data.Severity[4])\ndeadliest_hours.plot(kind='bar',color='yellow', figsize=(16,8))\nplt.title(\"Level 4 accidents hours' by Severity\")\nplt.show()","43b384d8":"#### Latitude and Longitude","06ca1fd9":"Most accidents happen in fair weather conditions with over 400,000 cases","b5e056b2":"#### Start Time","b8cb4ad9":"### EXPLORATORY ANALYSIS AND DATA VISUALIZATION\n\nColumns to use for analysis;\n  - City\n  - Start Time\n  - Start lag, Start Long\n  - Weather Conditions\n ","a0b33862":"## Summary & Conculsion\nInsights ;\n- The number of accidents follows an exponential distributions\n- The histogram above shows over 1200 cities had less than 10 accidents\n-  About 2% of the cities had over 1000 accidents yearly\n-  High percentage of accidents occur between 1pm to 6pm and the next from 6am to 9am","06251ad8":"# US-ACCIDENTS EXPLORATORY ANALYSIS\n\nUse the \"Run\" button to execute the code.","9295db0b":"## ASK & ANSWER QUESTIONS\n- Which 10 cities has the highest number of accidents?\n  - Los Angeles, Miami, Charlotte, Houston, Dallas, Sacramento, Orlando, Portland, San Diego, Minneapolis. \n\n- What time of the day, weekday, months are accidents most frequent in?\n  - Most accidents happen between 3pm and 6pm and also in the morning between 7am and 9am\n  - Accidents occur mainly on the weekdays, Thursday with the highest number of accidents. \n  - On the weekends majority of the accidents occur from 1pm to 2am unlike weekdays were the trend tends to peak 1pm to 6pm\n  - December is the month with the highest number of accidents\n\n- What are the locatioms on the US map most accidents happen?\n  -  Most of the accidents happen in the coastal cities in the US as shown by the density of the scatter plot above \n\n- What are the most common weather conditions accidents occer in?\n  - Most accidents happen in fair weather conditions with over 400000 cases reported. This is foolowed by mostly cloudy and clear weather conditions\n- Is Wind_Speed a factor that influences accident Severity?\n  - From the median plot it's inconclusive. It seems the distribution amongst the respective severities is somewhat similar though it  seems to be more accidents happen Severity 1 and 2 \n\n- At what time do majority of level 4 severity accidents happen?\n  - From the bar plots, most level severity accidents happpen at 5pm.(This might be related to of alot of traffic in the evening hours)","3e447b82":"#### Cities","ff47f985":"### Wind speed & Severity","ded7da40":"### Bivariate Analysis\n","472f03f6":"### Analysis for State and Severity Attributes","22c9f610":"As shown above all the graphs follow an exponential distribution so we set the log scales and plot a histogram","a3236b95":"December has the highest amount of accidents ","37cc5659":"### DATA PREPARATIONS AND CLEANING\n\nData Cleaning is a necessary part before analysis or mining. In this part, we drop or fix illegal data, and transform some data into a better format for further analysis.","d502809f":"#### LOAD THE DATA ","dbad2994":"#### Weather Conditions","ae2d4ec8":"Accidents occur mainly on the weekdays, Thursday with the highest number of accidents. (Probably because most people are driving to work on those days compared to the weekends when most people are at home)","9d4ae9d7":"### Areas for future analysis\n\nThe remaining Columns, Multivariate analysis and some clustering \n\n","89f87b2c":"#### SUMMARY STATISTICS","1ddbfd33":"## EXPLORATORY DATA ANALYSIS\n\n#### BACKGROUD\n\nThis is a countrywide car accident dataset, which covers 49 states of the USA. The accident data are collected from February 2016 to Dec 2020, using multiple APIs that provide streaming traffic incident (or event) data. These APIs broadcast traffic data captured by a variety of entities, such as the US and state departments of transportation, law enforcement agencies, traffic cameras, and traffic sensors within the road-networks. Currently, there are about 1.5 million accident records in this dataset. Check here to learn more about this dataset.\nhttps:\/\/www.kaggle.com\/sobhanmoosavi\/us-accidents\n\nIt will used to prevent accidents ","92955758":"On the weekends majority of the accidents occur from 1pm to 2am (Probably because most people are driving out to or from parties, festives, events etc) unlike weekdays were the trend tends to peak 1pm to 6pm","1e3be6be":"Coastal areas have alot more accidents than the inner cities and this because the coasts are densely populated."}}