{"cell_type":{"00218624":"code","aa8d461a":"code","ab884401":"code","4a9fb70c":"code","d163a1d3":"code","6b7b073c":"code","c3d14876":"code","2db512b6":"code","b9043244":"markdown","3aeb7920":"markdown"},"source":{"00218624":"import numpy as np \nimport pandas as pd\nimport seaborn as sns\nimport pandas_profiling as pp\nimport matplotlib.pyplot as plt\nfrom sklearn import decomposition\nfrom sklearn.cluster import KMeans\nfrom sklearn.preprocessing import LabelEncoder","aa8d461a":"df = pd.read_csv('..\/input\/rural-residents-daily-mobile-phone-data\/datashare.csv')\ndf.head()","ab884401":"df.info()","4a9fb70c":"labelencoder = LabelEncoder()\n\ndf['rural']                     = labelencoder.fit_transform(df['rural'])   \ndf['Diversity']                 = labelencoder.fit_transform(df['Diversity'])   \ndf['Number']                    = labelencoder.fit_transform(df['Number'])  \ndf['Standard_distance_nonwork'] = labelencoder.fit_transform(df['Standard_distance_nonwork'])  \ndf['Standard_distance_nwork']   = labelencoder.fit_transform(df['Standard_distance_nwork'])  \ndf['Distance_to_central_city']  = labelencoder.fit_transform(df['Distance_to_central_city']) \ndf['Slope']                     = labelencoder.fit_transform(df['Slope']) \ndf['Work_in_urban_areas']       = labelencoder.fit_transform(df['Work_in_urban_areas']) ","d163a1d3":"df.head()","6b7b073c":"pp.ProfileReport(df)","c3d14876":"#thank you https:\/\/www.kaggle.com\/kashnitsky\/topic-7-unsupervised-learning-pca-and-clustering\n\nX = df.drop('rural',axis=1)\ny = df['rural']\n\npca = decomposition.PCA(n_components=2)\nX_reduced = pca.fit_transform(X)\n\nprint('Projecting %d-dimensional data to 2D' % X.shape[1])\n\nplt.figure(figsize=(12,10))\nplt.scatter(X_reduced[:, 0], X_reduced[:, 1], c=y, \n            edgecolor='none', alpha=0.5, s=20,\n            cmap=plt.cm.get_cmap('nipy_spectral', 10))\nplt.colorbar()\nplt.title('PCA projection');","2db512b6":"elbow = []\nfor i in range(1, 11):\n    kmeans = KMeans(n_clusters=i).fit(df)\n    elbow.append(np.sqrt(kmeans.inertia_))\n    \nplt.plot(range(1, 11), elbow, marker='s');\nplt.xlabel('Elbow Number')\nplt.ylabel('J');","b9043244":"# work in progress","3aeb7920":"![](https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/f\/fe\/Anshun_Bridge_Chengdu.jpg\/1280px-Anshun_Bridge_Chengdu.jpg)"}}