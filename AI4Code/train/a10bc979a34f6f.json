{"cell_type":{"7b8b3dff":"code","4b5e0911":"code","fdf47bf0":"code","e97ed20b":"code","a4d0f90d":"code","d9e4da0b":"code","e73b167c":"code","15047f73":"code","8c5f0904":"code","daeb5b7d":"code","40e79245":"code","6c7df5d3":"code","1cbd5d5f":"code","271803dd":"code","ccf200e7":"code","1ab2a66a":"code","f88c8b57":"code","9fc3a75b":"code","f9794924":"code","1a8a1f14":"code","4e27b6a5":"code","a32a35bb":"code","7fbff0c3":"code","007844bd":"code","9320d971":"code","f2420789":"code","b37475a8":"code","9803e779":"code","e309cf61":"code","abcefaaf":"code","1426f9a1":"code","9ad74d9c":"code","7d4b60e9":"code","24cbd786":"code","67aad155":"code","2f5e396d":"code","620b03e3":"code","0e9fd6aa":"code","e28fd069":"code","a73993aa":"code","20d1592d":"code","3320c245":"code","ea7719a4":"code","466a5def":"code","ff1b0202":"code","0683137a":"code","b8b51e10":"markdown","85094085":"markdown","6c5bd41c":"markdown","1488aa63":"markdown","2a2c636e":"markdown","d78de9eb":"markdown","65e5910b":"markdown","602ec966":"markdown"},"source":{"7b8b3dff":"#importing the necessary modules\n\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt","4b5e0911":"#reading the dataset\n\ndata=pd.read_csv('..\/input\/autompg-dataset\/auto-mpg.csv')","fdf47bf0":"data.head()","e97ed20b":"#it is mentioned in the description of the dataset that some of the values in the horsepower are marked as  \"?\"\n\ndata[data['horsepower']=='?']","a4d0f90d":"#filling the missing values in the horsepower column\n\ndata['horsepower'][32]=82\ndata['horsepower'][126]=70\ndata['horsepower'][330]=45\ndata['horsepower'][336]=86\ndata['horsepower'][354]=75\ndata['horsepower'][374]=82","d9e4da0b":"#exracting the name of the brand \n\nlist_brand=[]\nfor i in range(398):\n    list_brand.append(data['car name'][i].split(\" \")[0])","e73b167c":"data['brand']=list_brand","15047f73":"# some of the names as written in short so converitng it a common name for each name\n\ndata['brand'] = data['brand'].replace(['volkswagen','vokswagen','vw'],'volkswagen')\ndata['brand'] = data['brand'].replace('maxda','mazda')\ndata['brand'] = data['brand'].replace('toyouta','toyota')\ndata['brand'] = data['brand'].replace('mercedes-benz','mercedes')\ndata['brand'] = data['brand'].replace('nissan','datsun')\ndata['brand'] = data['brand'].replace('capri','ford')\ndata['brand'] = data['brand'].replace(['chevroelt','chevy'],'chevrolet')","8c5f0904":"data['brand'].value_counts()","daeb5b7d":"plt.figure(figsize=(8,6))\nsns.countplot(y=\"brand\",  data=data, palette=\"Greens_d\",\n              order=data.brand.value_counts().iloc[:15].index)","40e79245":"data.head()","6c7df5d3":"#converting cu inches to cu cm(cc)\n\ndata['displacement_in_cc']=data['displacement']*16.387 ","1cbd5d5f":"#converting lbs to kg\n\ndata['weight_in_kg']=data['weight']\/2.205 ","271803dd":"#converting mpg to kpl\n\ndata['mileage_kpl']=data['mpg']\/2.352  ","ccf200e7":"data.head()","1ab2a66a":"data.info()","f88c8b57":"data['horsepower']=data['horsepower'].astype(int)","9fc3a75b":"#origin and performance\nplt.figure(figsize=(8,6))\nsns.boxplot(x=data['origin'],y=data['mileage_kpl']);","f9794924":"plt.figure(figsize=(8,6))\nsns.boxplot(y=data['mileage_kpl'],x=data['cylinders'])\nplt.xlabel(\"no of cylinders\");","1a8a1f14":"#plotting pie chart for cylinders columns in the dataset\n\nplt.figure(figsize=(14,8))\ndata.cylinders.value_counts().plot(kind='pie');","4e27b6a5":"#plotting boxplots to observe the performance over years\n\nplt.figure(figsize=(8,6))\nsns.boxplot(x=data['model year'],y=data['mileage_kpl']);","a32a35bb":"#horsepower and mileage_kpl\nplt.figure(figsize=(8,6))\nplt.scatter(data.horsepower,data.mileage_kpl)\nplt.xlabel('horsepower')\nplt.ylabel('mileage in kpl');","7fbff0c3":"#weight and mileage\n\nplt.figure(figsize=(8,6))\nplt.scatter(data.weight_in_kg,data.mileage_kpl)\nplt.xlabel('weight in kg')\nplt.ylabel('mileage in kpl');","007844bd":"X=data.drop(['displacement','weight','car name','brand','mpg'],axis=1)","9320d971":"X.head()","f2420789":"X.corr()","b37475a8":"#plot heatmap\n\nplt.figure(figsize=(10,6))\nsns.heatmap(X.corr());","9803e779":"print(X.corr()[\"mileage_kpl\"].sort_values(ascending=False))\n","e309cf61":"X.head()","abcefaaf":"y=X['mileage_kpl']","1426f9a1":"X=X.drop(['mileage_kpl'],axis=1)","9ad74d9c":"X.head()","7d4b60e9":"from sklearn.linear_model import LinearRegression","24cbd786":"lr=LinearRegression()","67aad155":"from sklearn.model_selection import train_test_split","2f5e396d":"X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.20)","620b03e3":"lr.fit(X_train,y_train)","0e9fd6aa":"y_pred=lr.predict(X_test)","e28fd069":"lr.score(X_test,y_test)","a73993aa":"# predicting the mileage of a vehicle with the trained model to check whether the results are satisfactory.\n\nlr.predict([[4,120,9.7,90,3,1497,1160]])","20d1592d":"from sklearn.ensemble import RandomForestRegressor\nfrom sklearn.metrics import mean_absolute_error ","3320c245":"model_rf = RandomForestRegressor(n_estimators=50)","ea7719a4":"model_rf.fit(X_train,y_train)","466a5def":"y_pred_rf = model_rf.predict(X_test)","ff1b0202":"from sklearn import metrics\nimport numpy as np\nprint('Mean Absolute Error:', metrics.mean_absolute_error(y_test, y_pred_rf))\nprint('Mean Squared Error:', metrics.mean_squared_error(y_test, y_pred_rf))\nprint('Root Mean Squared Error:', np.sqrt(metrics.mean_squared_error(y_test, y_pred_rf)))\n","0683137a":"model_rf.predict([[4,120,9.7,90,3,1497,1160]])","b8b51e10":"1- American origin\n\n2- European origin\n\n3- Asian origin\n\nits clear that the origin of the car has a good impact on the mileage,with asian cars dominating the league.","85094085":"This notebook uses the classic Auto MPG Dataset and builds a model to predict the fuel efficiency of automobiles. To do this, we'll provide the model with a description of many automobiles and the description includes attributes like: cylinders, displacement, horsepower, weight, acceleration,model year and origin.  \n\nsome of the columns are changed to a different unit.  \nIn this project we will be predicting the fuel efficiency of a vehicle in kilometers per litre.\n\nafter creating and training the model we will be using the model in a web-app where the app will predict the mileage of a vehicle given the specifications.  \nthe link to the web-app is [mileage-app](https:\/\/siddhant-kpl-2.herokuapp.com\/)","6c5bd41c":"clearly we have more numbers of vehicles with 4 ,6 and 8 cylinders and very few examples with 3 and 5 cylinders.","1488aa63":"Some information about the dataset given are --\n\n\"There are 406 observations on the following 8 variables: \n\nMPG (miles per gallon), \n\ncylinders, \n\nengine displacement (cu. inches),\n\nhorsepower,\n\nvehicle weight (lbs.), \n\ntime to accelerate from O to 60 mph (sec.),\n\nmodel year (modulo 100), \n\nand origin of car (1. American, 2. European,3-Asian)","2a2c636e":"more the number of cylinder means more power which will burn more fuel and thus the mileage decreases.","d78de9eb":"After saving the model i have created a web-app where this model is used for predicting the mileage. \n\n[mileage-app](https:\/\/siddhant-kpl-2.herokuapp.com\/)\n\nFeedback and suggestions are most welcome.\n\nPlease upvote if you liked this notebook.\n","65e5910b":"with the technology being updated with time the performance of the vehicles has increased a lot.","602ec966":"All these relations are proved by the visualisation we did."}}