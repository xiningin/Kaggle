{"cell_type":{"de82733f":"code","d6c93299":"code","4683afd6":"code","3df72613":"code","ed78d18f":"code","8f875019":"code","d65286b3":"code","91488511":"code","d6e891bb":"code","0d6308f7":"code","7abca4d4":"code","b8b9dbd7":"code","70e00cd9":"code","6a4248aa":"markdown","a91a3560":"markdown","e5a988bc":"markdown","3f9d60ce":"markdown","ef40e562":"markdown","abc10fa4":"markdown","267e245f":"markdown","378fd3ca":"markdown","ec1a602b":"markdown","8e149a60":"markdown"},"source":{"de82733f":"import numpy as np \nimport pandas as pd #\nimport os\nfrom os.path import join\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport xgboost\nimport lightgbm ","d6c93299":"train_data = join('..\/input', 'train.csv')\ntest_data = join('..\/input', 'test.csv')","4683afd6":"train = pd.read_csv(train_data)\ntest = pd.read_csv(test_data)\n\ntrain.head()","3df72613":"train_len = len(train)\nid_backup = train['id'][:train_len]\ndel train['id']\n        \n\nprint(train_len)\ntempchk = 0\nfor i in train.columns:\n    for j in range(0, train_len):   \n        tempcnt = 0\n        if j == 0:\n            tempcnt = train[i][j]\n        elif tempcnt != train[i][j]:\n            tempchk += 1\n    if tempchk == 0:\n        print(i)\n        del train[i]","ed78d18f":"price_backup = train['price'][:train_len]\ndel train['price']","8f875019":"train['date'] = train['date'].apply(lambda x : str(x[:8])).astype(str)\ntrain['date'].head()","d65286b3":"train.head()","91488511":"fig, ax = plt.subplots(figsize=(8, 6))\nsns.kdeplot(price_backup[:train_len])","d6e891bb":"fig, ax = plt.subplots(figsize=(8, 6))\nlog_price = np.log1p(price_backup[:train_len])\nsns.kdeplot(log_price)","0d6308f7":"fig, ax = plt.subplots(10, 2, figsize=(20, 60))\n\ncount = 0\ncolumns = train.columns\nfor row in range(10):\n    for col in range(2):\n        sns.kdeplot(train[columns[count]], ax=ax[row][col])\n        ax[row][col].set_title(columns[count], fontsize=15)\n        count+=1\n        if count == 19 :\n            break","7abca4d4":"\nlog_columns = ['bedrooms', 'sqft_living', 'sqft_lot', 'sqft_above', 'sqft_basement']\n\nfor i in log_columns:\n    train[i] = np.log1p(train[i])\n    test[i] = np.log1p(test[i])\n\nfig, ax = plt.subplots(3, 2, figsize=(10, 15))\ncnt = 0\nfor row in range(3):\n    for col in range(2):\n        if cnt == 5:\n            break\n        sns.kdeplot(train[log_columns[cnt]], ax=ax[row][col])\n        ax[row][col].set_title(log_columns[cnt], fontsize=15)\n        cnt+=1","b8b9dbd7":"gbm = lightgbm.LGBMRegressor(random_state = 2019)\ngbm.fit(train.values, price_backup)\n\ntest_len = len(test)\ntest_id_backup = test['id'][:test_len]\ndel test['id']\ntest['date'] = test['date'].apply(lambda x : str(x[:8])).astype(str)","70e00cd9":"\nsub = gbm.predict(test.values)\nsubmit_data =  pd.DataFrame(data={'id':test_id_backup,'price':sub})\n\nsubmit_data.to_csv('submission.csv', index=False)\nprint(\"complete!\")","6a4248aa":"price\ub97c \uc81c\uc678\ud558\uace0\ub3c4 bedrooms, sqft_living, sqft_lot, sqft_above, sqft_basement\uc758 \uac12\ub4e4\uc774 \ud55c\ucabd\uc73c\ub85c \uce58\uc6b0\uccd0\uc838\uc788\uc73c\ub2c8 log\ub85c \ubcf4\uc815\ud558\uaca0\uc2b5\ub2c8\ub2e4.","a91a3560":"price\uc758 \ubd84\ud3ec\ub97c \ud788\uc2a4\ud1a0\uadf8\ub7a8\uc73c\ub85c \ub098\ud0c0\ub0b4\uc5c8\uc744\ub54c \ubd84\ud3ec\uac00 \uc67c\ucabd\uc73c\ub85c \uce58\uc6b0\uccd0\uc9c4 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.\n\uc774\ub97c \uc815\uaddc\ubd84\ud3ec\ub85c \ub098\ud0c0\ub0b4\uae30 \uc704\ud574 log\ub85c \ubcf4\uc815\uc744 \ud569\ub2c8\ub2e4. ","e5a988bc":"\uba3c\uc800 \ub2e8\uc21c \uad6c\ubd84\uc744 \uc704\ud55c id\uac12\uacfc \ubaa8\ub4e0 \uac12\uc744 \uac00\uc9c0\uace0 \uc788\ub294 \ubcc0\uc218\uac00 \uc874\uc7ac\ud560\uc2dc \ud574\ub2f9 \ubcc0\uc218\ub97c \uc81c\uac70 \ud569\ub2c8\ub2e4","3f9d60ce":"# 4. LightGBM\uc744 \uc774\uc6a9\ud558\uc5ec \uacb0\uacfc \ub3c4\ucd9c","ef40e562":"# 2. \ub370\uc774\ud130 \ub2e4\ub4ec\uae30\n\n\ubaa8\ub450\uac00 \uac19\uc740 \uac12\uc744 \uac00\uc9c0\uac70\ub098 \uc601\ud5a5\uc774 \uc5c6\ub294 \ubcc0\uc218\ub4e4\uc744 \uc81c\uac70\ud558\uaca0\uc2b5\ub2c8\ub2e4.","abc10fa4":"# 3-2. \uc2dc\uac01\ud654\ub97c \uc774\uc6a9\ud55c \ub370\uc774\ud130 \ub2e4\ub4ec\uae30","267e245f":"\ub0a0\uc9dc\uac00 \ub144, \uc6d4, \uc77c\ub9cc \ud45c\uae30\ub418\uac8c \ubcc0\uacbd\ud569\ub2c8\ub2e4\n","378fd3ca":"# 1. \ub370\uc774\ud130 \ud0d0\uc0c9\n\n\ub370\uc774\ud130\uc14b\ub4e4\uc758 \ubcc0\uc218\ub294 \ub2e4\uc74c\uacfc \uac19\uc774 \uad6c\uc131\ub418\uc5b4\uc788\uc2b5\ub2c8\ub2e4.\n\n    ID : \uc9d1\uc744 \uad6c\ubd84\ud558\ub294 \ubc88\ud638\n    date : \uc9d1\uc744 \uad6c\ub9e4\ud55c \ub0a0\uc9dc\n    price : \uc9d1\uc758 \uac00\uaca9(Target variable)\n    bedrooms : \uce68\uc2e4\uc758 \uc218\n    bathrooms : \uce68\uc2e4 \uac1c\uc218 \ub2f9 \ud654\uc7a5\uc2e4\uc758 \uc218(\ud654\uc7a5\uc2e4\uc758 \uc218 \/ \uce68\uc2e4\uc758 \uc218 )\n    sqft_living : \uc8fc\uac70 \uacf5\uac04\uc758 \ud3c9\ubc29 \ud53c\ud2b8(\uba74\uc801)\n    sqft_lot : \ubd80\uc9c0\uc758 \ud3c9\ubc29 \ud53c\ud2b8(\uba74\uc801)\n    floors : \uc9d1\uc758 \uce35 \uc218\n    waterfront : \uc9d1\uc758 \uc804\ubc29\uc5d0 \uac15\uc774 \ud750\ub974\ub294\uc9c0 \uc720\ubb34 (a.k.a. \ub9ac\ubc84\ubdf0)\n    view : \uc9d1\uc774 \uc5bc\ub9c8\ub098 \uc88b\uc544 \ubcf4\uc774\ub294\uc9c0\uc758 \uc815\ub3c4\n    condition : \uc9d1\uc758 \uc804\ubc18\uc801\uc778 \uc0c1\ud0dc\n    grade : King County grading \uc2dc\uc2a4\ud15c \uae30\uc900\uc73c\ub85c \ub9e4\uae34 \uc9d1\uc758 \ub4f1\uae09\n    sqft_above : \uc9c0\ud558\uc2e4\uc744 \uc81c\uc678\ud55c \ud3c9\ubc29 \ud53c\ud2b8(\uba74\uc801)\n    sqft_basement : \uc9c0\ud558\uc2e4\uc758 \ud3c9\ubc29 \ud53c\ud2b8(\uba74\uc801)\n    yr_built : \uc9c0\uc5b4\uc9c4 \ub144\ub3c4\n    yr_renovated : \uc9d1\uc744 \uc7ac\uac74\ucd95\ud55c \ub144\ub3c4\n    zipcode : \uc6b0\ud3b8\ubc88\ud638\n    lat : \uc704\ub3c4\n    long : \uacbd\ub3c4\n    sqft_living15 : 2015\ub144 \uae30\uc900 \uc8fc\uac70 \uacf5\uac04\uc758 \ud3c9\ubc29 \ud53c\ud2b8(\uba74\uc801, \uc9d1\uc744 \uc7ac\uac74\ucd95\ud588\ub2e4\uba74, \ubcc0\ud654\uac00 \uc788\uc744 \uc218 \uc788\uc74c)\n    sqft_lot15 : 2015\ub144 \uae30\uc900 \ubd80\uc9c0\uc758 \ud3c9\ubc29 \ud53c\ud2b8(\uba74\uc801, \uc9d1\uc744 \uc7ac\uac74\ucd95\ud588\ub2e4\uba74, \ubcc0\ud654\uac00 \uc788\uc744 \uc218 \uc788\uc74c)\n","ec1a602b":"\uc815\uaddc\ubd84\ud3ec\ud615\ud0dc\uac00 \ucde8\ud574\uc9c4 \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","8e149a60":"\ucd5c\uc885\uacb0\uacfc\uac12\uc778 price\ub294 \uce21\uc815\uc5d0 \uc601\ud5a5\uc744 \uc8fc\uc9c0\uc54a\uc73c\ubbc0\ub85c \uc81c\uc678\ud569\ub2c8\ub2e4"}}