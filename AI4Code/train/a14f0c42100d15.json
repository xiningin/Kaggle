{"cell_type":{"55f37d62":"code","50e09857":"code","682b2ada":"code","1655f5be":"code","df13cfe7":"code","ca5e340a":"code","5a301775":"code","5260faec":"code","328776b4":"code","efe54f10":"markdown","9e810170":"markdown","f993cba0":"markdown"},"source":{"55f37d62":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns \nimport matplotlib.pyplot as plt\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","50e09857":"!pip install xlrd","682b2ada":"pip install openpyxl","1655f5be":"train = pd.read_excel('\/kaggle\/input\/us-commercial-nuclear-power-reactors\/reactors-operating-datadictionary.xls')\ntrain.tail()","df13cfe7":"train.isnull().sum()","ca5e340a":"TARGET = 'Unnamed: 2'","5a301775":"from scipy.stats import shapiro\n\nSPACE      = 30\nWIDTH      = 20\nHEIGHT     = 5\nMAX_ORD    = 7\nMAX_SAMPLE = 5000\n\ndef analyze(frame, column):\n    # Title\n    print(f\"{'Column'.rjust(SPACE)} : {column}\")\n    \n    # Missing values\n    print(f\"{'Missing values'.rjust(SPACE)} : {frame[column].isna().sum()}\")\n    \n    # Numerical variables\n    if frame[column].dtypes != 'O' and len(frame[column].unique()) > MAX_ORD:\n        # Descriptive stats\n        print(f\"{'Correlation(target)'.rjust(SPACE)} : {frame[column].corr(frame[TARGET])}\")\n        print(f\"{'Mean'.rjust(SPACE)} : {frame[column].mean()}\")\n        print(f\"{'Min'.rjust(SPACE)} : {frame[column].min()}\")\n        print(f\"{'Q1'.rjust(SPACE)} : {frame[column].quantile(0.25)}\")\n        print(f\"{'Median'.rjust(SPACE)} : {frame[column].median()}\")\n        print(f\"{'Q3'.rjust(SPACE)} : {frame[column].quantile(0.75)}\")\n        print(f\"{'Max'.rjust(SPACE)} : {frame[column].max()}\")\n        print(f\"{'Var'.rjust(SPACE)} : {frame[column].var()}\")\n        print(f\"{'Std'.rjust(SPACE)} : {frame[column].std()}\")\n        \n        stats, p_value = shapiro(frame[column].sample(n=MAX_SAMPLE))\n        print(f\"{'Normal distrib.'.rjust(SPACE)} : {round(stats, 3), round(p_value, 3)}\")\n        \n        # Distribution\n        plt.figure(figsize=(WIDTH, HEIGHT))\n        sns.histplot(data=frame, x=column, hue=TARGET)\n        plt.title(f\"Distribution of {column}\")\n        plt.show()\n        \n        # Plot one against the other\n        plt.figure(figsize=(WIDTH, HEIGHT))\n        sns.boxenplot(data=train, x=TARGET, y=column)\n        plt.title(f\"{TARGET} vs {column}\")\n        plt.show()\n    \n    # Categorical variables\n    else:\n        # Count plot\n        plt.figure(figsize=(WIDTH, HEIGHT))\n        sns.countplot(data=train, x=column, hue=TARGET)\n        plt.title(f\"{TARGET} vs {column}\")\n        plt.show()","5260faec":"for col in train.columns:\n    if col == TARGET:\n        continue\n    \n    analyze(train, col)\n    print()\n    print()","328776b4":"#Code by Olga Belitskaya https:\/\/www.kaggle.com\/olgabelitskaya\/sequential-data\/comments\nfrom IPython.display import display,HTML\nc1,c2,f1,f2,fs1,fs2=\\\n'#eb3434','#eb3446','Akronim','Smokum',30,15\ndef dhtml(string,fontcolor=c1,font=f1,fontsize=fs1):\n    display(HTML(\"\"\"<style>\n    @import 'https:\/\/fonts.googleapis.com\/css?family=\"\"\"\\\n    +font+\"\"\"&effect=3d-float';<\/style>\n    <h1 class='font-effect-3d-float' style='font-family:\"\"\"+\\\n    font+\"\"\"; color:\"\"\"+fontcolor+\"\"\"; font-size:\"\"\"+\\\n    str(fontsize)+\"\"\"px;'>%s<\/h1>\"\"\"%string))\n    \n    \ndhtml('Be patient. Mar\u00edlia Prata, @mpwolke was Here.' )","efe54f10":"![](https:\/\/www.nrc.gov\/images\/reading-rm\/doc-collections\/maps\/power-reactors-operating.png)NRC.gov","9e810170":"#Codes by Itokiana RAFIDINARIVO https:\/\/www.kaggle.com\/itokianarafidinarivo\/wids-datathon-2021-target-analysis\/notebook","f993cba0":"#I chose the small file since during my previous experience with Shapiro\/large file it didn't work."}}