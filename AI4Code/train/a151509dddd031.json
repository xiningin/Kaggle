{"cell_type":{"01a32a21":"code","b945c98b":"code","c69f519b":"code","5c7b8b25":"code","8055eef3":"code","0fe67271":"code","ce773da9":"code","9ac22f9b":"code","f727f591":"code","a8f2a552":"code","402f7b88":"code","fb83409b":"code","66b64f92":"code","f0c27016":"code","189b622f":"code","e1ee7a55":"code","dcd524d2":"code","399f9f47":"code","46f8dea4":"code","d0459b33":"code","921268d2":"code","4cadd19d":"code","edfa8213":"code","0f037184":"code","5f48da23":"code","e01dbcda":"code","3779b1a8":"code","388f48f1":"code","17f29fab":"code","d47ef8f9":"code","a87d584c":"code","f06e5a5c":"code","2289ca04":"code","c8f09612":"code","fc80977b":"code","81e74b4b":"code","3ce64647":"code","055f79b5":"code","76307128":"code","76b0ac86":"code","bd997d75":"code","0a423f0a":"code","c797547c":"code","54074443":"code","0e08acb2":"code","57c38720":"code","6a54176d":"markdown","08851d52":"markdown","7b0040d8":"markdown","d616b9a3":"markdown","2be0f220":"markdown","b8d9cbce":"markdown","f77921dc":"markdown","f6325c69":"markdown","db1efd1c":"markdown","6c12226d":"markdown","b755d6a7":"markdown","43a98c2e":"markdown","a885cc74":"markdown","66e2669e":"markdown","9ed16f52":"markdown","e5ea980c":"markdown","cc2b8879":"markdown","75037b2b":"markdown","e23a94f3":"markdown","3f7db286":"markdown","f6c90ddf":"markdown","3faf72cc":"markdown","3de6e2c7":"markdown","f79096e0":"markdown","61182806":"markdown","0735d19b":"markdown","dea5983e":"markdown","70747d2e":"markdown","7a1c3182":"markdown","ae71acf4":"markdown","8793beef":"markdown","a222e951":"markdown","2f31bec9":"markdown","9f1c30b8":"markdown","2662ff16":"markdown","fc055d91":"markdown","208e005d":"markdown","e175e907":"markdown"},"source":{"01a32a21":"# load libraries\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns","b945c98b":"# load data\ntrain = pd.read_csv(\"..\/input\/learn-together\/train.csv\", index_col = 'Id')\ntest = pd.read_csv(\"..\/input\/learn-together\/test.csv\", index_col = 'Id')\n\n# combine train and test data\ntrain['train_test'] = 'train'\ntest['train_test']  = 'test'\n\nalldata = pd.concat([train.drop(columns = ['Cover_Type']), test])","c69f519b":"print(\"The train set has {0} rows and {1} columns.\".format(str(train.shape[0]), str(train.shape[1])))\nprint(\"The test set has {0} rows and {1} columns.\".format(str(test.shape[0]), str(test.shape[1])))","5c7b8b25":"# set figure size\nplt.figure(figsize=(14,6))\n\n#add title\nplt.title(\"Countplot of train versus test data\")\n\n# make countplot\nsns.countplot(x = alldata.train_test)","8055eef3":"print(\"The number of unique values per feature in the train set:\")\nprint(train.nunique())","0fe67271":"print(\"The number of unique values per feature in the test set:\")\nprint(test.nunique())","ce773da9":"# get number of missings per column in train and test set\nprint(train.isnull().sum().sum())\nprint(test.isnull().sum().sum())","9ac22f9b":"print(train.duplicated(subset=None, keep='first').sum())\nprint(test.duplicated(subset=None, keep='first').sum())","f727f591":"# make new variable compass\ndef Compass(row):\n    if row.Aspect < 45:\n        return 'north'\n    elif row.Aspect < 135:\n        return 'east'\n    elif row.Aspect < 225:\n        return 'south'\n    elif row.Aspect < 315:\n        return 'west'\n    else:\n        return 'north'\n    \ntrain['Compass'] = train.apply(Compass, axis='columns')","a8f2a552":"def CoverType(row):\n    if row.Cover_Type == 1:\n        return 'Spruce\/Fir'\n    elif row.Cover_Type == 2:\n        return 'Lodgepole Pine'\n    elif row.Cover_Type == 3:\n        return 'Ponderosa Pine'\n    elif row.Cover_Type == 4:\n        return 'Cottonwood\/Willow'\n    elif row.Cover_Type == 5:\n        return 'Aspen'\n    elif row.Cover_Type == 6:\n        return 'Douglas-fir'\n    else:\n        return 'Krummholz'\n\ntrain['CoverType'] = train.apply(CoverType, axis='columns')","402f7b88":"# set figure size\nplt.figure(figsize=(14,6))\n\n#add title\nplt.title(\"Countplot of Cover Types\")\n\n# make countplot\nsns.countplot(x = train.CoverType)","fb83409b":"myvars = list(train.columns[:10])\nprint(\"Describing the train set:\")\ntrain[myvars].describe().T","66b64f92":"sns.distplot(a = alldata[alldata.train_test == 'test']['Elevation'], label = \"test\")\nsns.distplot(a = alldata[alldata.train_test == 'train']['Elevation'], label = \"train\")\n\n# Add title\nplt.title(\"Histogram of Elevation, by train or test\")\n\n# Force legend to appear\nplt.legend()","f0c27016":"train['mean_Hillshade'] = (train.Hillshade_3pm + train.Hillshade_Noon + train.Hillshade_9am)\/3\n\n# make 7 new train sets, one for each cover type\nspruce = train[train.Cover_Type == 1]\nlodgepole = train[train.Cover_Type == 2]\nponderosa = train[train.Cover_Type == 3]\ncottonwood = train[train.Cover_Type == 4]\naspen = train[train.Cover_Type == 5]\ndouglas = train[train.Cover_Type == 6]\nkrummholz = train[train.Cover_Type == 7]\n\n# set figure size\nplt.figure(figsize=(14,6))\n\n# make the plots\nsns.distplot(a = spruce['Elevation'], label = \"Spruce\")\nsns.distplot(a = lodgepole['Elevation'], label = \"Lodgepole\")\nsns.distplot(a = ponderosa['Elevation'], label = \"Ponderosa\")\nsns.distplot(a = cottonwood['Elevation'], label = \"Cottonwood\")\nsns.distplot(a = aspen['Elevation'], label = \"Aspen\")\nsns.distplot(a = douglas['Elevation'], label = \"Douglas\")\nsns.distplot(a = krummholz['Elevation'], label = \"Krummholz\")\n\n# Add title\nplt.title(\"Histogram of Elevation, by cover type\")\n\n# Force legend to appear\nplt.legend()","189b622f":"# set figure size\nplt.figure(figsize=(14,6))\n\nsns.distplot(a = spruce['Aspect'], label = 'spruce')\nsns.distplot(a = lodgepole['Aspect'], label = 'lodgepole')\nsns.distplot(a = ponderosa['Aspect'], label = 'ponderasa')\nsns.distplot(a = cottonwood['Aspect'], label = 'cottonwood')\nsns.distplot(a = aspen['Aspect'], label = 'aspen')\nsns.distplot(a = douglas['Aspect'], label = 'douglas')\nsns.distplot(a = krummholz['Aspect'], label = 'krumholz')\n\n# Add title\nplt.title(\"Histogram of Aspect, by cover type\")\n\n# Force legend to appear\nplt.legend()","e1ee7a55":"# make new variable compass\ndef Compass(row):\n    if row.Aspect < 22.5:\n        return 'N'\n    elif row.Aspect < 67.5:\n        return 'NE'\n    elif row.Aspect < 112.5:\n        return 'E'\n    elif row.Aspect < 157.5:\n        return 'SE'\n    elif row.Aspect < 202.5:\n        return 'S'\n    elif row.Aspect < 247.5:\n        return 'SW'\n    elif row.Aspect < 292.5:\n        return 'W'\n    elif row.Aspect < 337.5:\n        return 'NW'\n    else:\n        return 'N'\n    \ntrain['Compass'] = train.apply(Compass, axis='columns')","dcd524d2":"df_plot = train.groupby(['CoverType', 'Compass']).size().reset_index().pivot(columns='CoverType', index='Compass', values=0)\ndf_plot.plot(kind='bar', stacked=True)\n\n# Put the legend out of the figure\nplt.legend(bbox_to_anchor=(1.05, 1), loc=2, borderaxespad=0.)","399f9f47":"# set figure size\nplt.figure(figsize=(14,6))\n\nsns.distplot(a = spruce['Slope'], label = 'spruce')\nsns.distplot(a = lodgepole['Slope'], label = 'lodgepole')\nsns.distplot(a = ponderosa['Slope'], label = 'ponderosa')\nsns.distplot(a = cottonwood['Slope'], label = 'cottonwood')\nsns.distplot(a = aspen['Slope'], label = 'aspen')\nsns.distplot(a = douglas['Slope'], label = 'douglas')\nsns.distplot(a = krummholz['Slope'], label = 'krummholz')\n\n# Add title\nplt.title(\"Histogram of Slope, by cover type\")\n\n# Force legend to appear\nplt.legend()","46f8dea4":"# set figure size\nplt.figure(figsize=(14,6))\n\n\nsns.distplot(a = spruce['Horizontal_Distance_To_Hydrology'], label = 'spruce')\nsns.distplot(a = lodgepole['Horizontal_Distance_To_Hydrology'], label = 'lodgepole')\nsns.distplot(a = ponderosa['Horizontal_Distance_To_Hydrology'], label = 'ponderosa')\nsns.distplot(a = cottonwood['Horizontal_Distance_To_Hydrology'], label = 'cottonwood')\nsns.distplot(a = aspen['Horizontal_Distance_To_Hydrology'], label = 'aspen')\nsns.distplot(a = douglas['Horizontal_Distance_To_Hydrology'], label = 'douglas')\nsns.distplot(a = krummholz['Horizontal_Distance_To_Hydrology'], label = 'krummholz')\n\n# Add title\nplt.title(\"Histogram of Horizontal_Distance_To_Hydrology, by cover type\")\n\n# Force legend to appear\nplt.legend()","d0459b33":"# set figure size\nplt.figure(figsize=(14,6))\n\n\nsns.distplot(a = spruce['Vertical_Distance_To_Hydrology'])\nsns.distplot(a = lodgepole['Vertical_Distance_To_Hydrology'])\nsns.distplot(a = ponderosa['Vertical_Distance_To_Hydrology'])\nsns.distplot(a = cottonwood['Vertical_Distance_To_Hydrology'])\nsns.distplot(a = aspen['Vertical_Distance_To_Hydrology'])\nsns.distplot(a = douglas['Vertical_Distance_To_Hydrology'])\nsns.distplot(a = krummholz['Vertical_Distance_To_Hydrology'])\n\n# Add title\nplt.title(\"Histogram of Vertical_Distance_To_Hydrology, by cover type\")\n\n# Force legend to appear\nplt.legend()","921268d2":"# set figure size\nplt.figure(figsize=(14,6))\n\nsns.boxplot(y=\"CoverType\", x=\"Horizontal_Distance_To_Hydrology\", data=train)","4cadd19d":"# set figure size\nplt.figure(figsize=(14,6))\n\nsns.boxplot(y=\"CoverType\", x=\"Vertical_Distance_To_Hydrology\", data=train)","edfa8213":"sns.scatterplot(x = 'Vertical_Distance_To_Hydrology', \n                y = 'Horizontal_Distance_To_Hydrology', \n                hue = 'CoverType',\n                data = train)","0f037184":"# set figure size\nplt.figure(figsize=(14,6))\n\n\nsns.distplot(a = spruce['Horizontal_Distance_To_Roadways'])\nsns.distplot(a = lodgepole['Horizontal_Distance_To_Roadways'])\nsns.distplot(a = ponderosa['Horizontal_Distance_To_Roadways'])\nsns.distplot(a = cottonwood['Horizontal_Distance_To_Roadways'])\nsns.distplot(a = aspen['Horizontal_Distance_To_Roadways'])\nsns.distplot(a = douglas['Horizontal_Distance_To_Roadways'])\nsns.distplot(a = krummholz['Horizontal_Distance_To_Roadways'])\n\n# Add title\nplt.title(\"Histogram of Horizontal_Distance_To_Roadways, by cover type\")\n\n# Force legend to appear\nplt.legend()","5f48da23":"# set figure size\nplt.figure(figsize=(14,6))\n\nsns.boxplot(y=\"CoverType\", x=\"Horizontal_Distance_To_Roadways\", data=train)","e01dbcda":"# set figure size\nplt.figure(figsize=(14,6))\n\n\nsns.distplot(a = spruce['Hillshade_9am'], label = \"spruce\")\nsns.distplot(a = lodgepole['Hillshade_9am'], label = \"lodgepole\")\nsns.distplot(a = ponderosa['Hillshade_9am'], label = \"ponderosa\")\nsns.distplot(a = cottonwood['Hillshade_9am'], label = \"cottonwood\")\nsns.distplot(a = aspen['Hillshade_9am'], label = \"aspen\")\nsns.distplot(a = douglas['Hillshade_9am'], label = \"douglas\")\nsns.distplot(a = krummholz['Hillshade_9am'], label = \"krummholz\")\n\n# Add title\nplt.title(\"Histogram of Hillshade_9am, by cover type\")\n\n# Force legend to appear\nplt.legend()","3779b1a8":"# set figure size\nplt.figure(figsize=(14,6))\n\n\nsns.distplot(a = spruce['Hillshade_Noon'])\nsns.distplot(a = lodgepole['Hillshade_Noon'])\nsns.distplot(a = ponderosa['Hillshade_Noon'])\nsns.distplot(a = cottonwood['Hillshade_Noon'])\nsns.distplot(a = aspen['Hillshade_Noon'])\nsns.distplot(a = douglas['Hillshade_Noon'])\nsns.distplot(a = krummholz['Hillshade_Noon'])\n\n# Add title\nplt.title(\"Histogram of Hillshade_Noon, by cover type\")\n\n# Force legend to appear\nplt.legend()","388f48f1":"# set figure size\nplt.figure(figsize=(14,6))\n\n\nsns.distplot(a = spruce['Hillshade_3pm'])\nsns.distplot(a = lodgepole['Hillshade_3pm'])\nsns.distplot(a = ponderosa['Hillshade_3pm'])\nsns.distplot(a = cottonwood['Hillshade_3pm'])\nsns.distplot(a = aspen['Hillshade_3pm'])\nsns.distplot(a = douglas['Hillshade_3pm'])\nsns.distplot(a = krummholz['Hillshade_3pm'])\n\n# Add title\nplt.title(\"Histogram of Hillshade_3pm, by cover type\")\n\n# Force legend to appear\nplt.legend()","17f29fab":"train['mean_Hillshade'] = (train.Hillshade_3pm + train.Hillshade_Noon + train.Hillshade_9am)\/3","d47ef8f9":"# set figure size\nplt.figure(figsize=(14,6))\n\n\nsns.distplot(a = spruce['mean_Hillshade'])\nsns.distplot(a = lodgepole['mean_Hillshade'])\nsns.distplot(a = ponderosa['mean_Hillshade'])\nsns.distplot(a = cottonwood['mean_Hillshade'])\nsns.distplot(a = aspen['mean_Hillshade'])\nsns.distplot(a = douglas['mean_Hillshade'])\nsns.distplot(a = krummholz['mean_Hillshade'])\n\n# Add title\nplt.title(\"Histogram of mean_Hillshade, by cover type\")\n\n# Force legend to appear\nplt.legend()","a87d584c":"# set figure size\nplt.figure(figsize=(10,10))\n\n# make scatter plot of elevation and mean_Hillshade, color by CoverType\nsns.scatterplot(y = train.Elevation, \n                x = train.mean_Hillshade,\n                hue = train.CoverType)","f06e5a5c":"# make scatter plot of elevation and mean_Hillshade, color by CoverType\nsns.scatterplot(y = train.Elevation, \n                x = train.Hillshade_9am,\n                hue = train.CoverType)","2289ca04":"sns.scatterplot(y = train.Elevation, \n                x = train.Hillshade_Noon,\n                hue = train.CoverType)","c8f09612":"sns.scatterplot(y = train.Elevation, \n                x = train.Hillshade_3pm,\n                hue = train.CoverType)","fc80977b":"g = sns.FacetGrid(train, col=\"Compass\", hue=\"CoverType\", col_wrap=2)\ng.map(plt.scatter, \"Elevation\", \"Hillshade_9am\", alpha=.5)\ng.add_legend()","81e74b4b":"sns.distplot(a = spruce['Horizontal_Distance_To_Fire_Points'])\nsns.distplot(a = lodgepole['Horizontal_Distance_To_Fire_Points'])\nsns.distplot(a = ponderosa['Horizontal_Distance_To_Fire_Points'])\nsns.distplot(a = cottonwood['Horizontal_Distance_To_Fire_Points'])\nsns.distplot(a = aspen['Horizontal_Distance_To_Fire_Points'])\nsns.distplot(a = douglas['Horizontal_Distance_To_Fire_Points'])\nsns.distplot(a = krummholz['Horizontal_Distance_To_Fire_Points'])\n\n# Add title\nplt.title(\"Histogram of Horizontal_Distance_To_Fire_Points, by cover type\")\n\n# Force legend to appear\nplt.legend()","3ce64647":"# set figure size\nplt.figure(figsize=(14,6))\n\nsns.boxplot(y=\"CoverType\", x=\"Horizontal_Distance_To_Fire_Points\", data=train)","055f79b5":"sns.scatterplot(x = 'Horizontal_Distance_To_Fire_Points',\n               y = 'Horizontal_Distance_To_Roadways',\n                hue = 'CoverType',\n               data = train)","76307128":"# make new variable Wilderness\n\ndef Wilderness(row):\n    if row.Wilderness_Area1 == 1:\n        return 'Rawah'\n    elif row.Wilderness_Area2 == 1:\n        return 'Neota'\n    elif row.Wilderness_Area3 == 1:\n        return 'Comanche Peak'\n    elif row.Wilderness_Area4 == 1:\n        return 'Cache la Poudre'\n    else:\n        return 0\n\ntrain['Wilderness'] = train.apply(Wilderness, axis='columns')\ntest['Wilderness'] = test.apply(Wilderness, axis='columns')\nalldata['Wilderness'] = alldata.apply(Wilderness, axis='columns')","76b0ac86":"plt.figure(figsize=(10,4))\n\nplt.title(\"Countplot of Wilderness areas in train set\")\n\nsns.countplot(x = train.Wilderness)","bd997d75":"plt.figure(figsize=(10,4))\n\nplt.title(\"Countplot of Wilderness in test set\")\n\nsns.countplot(x = test.Wilderness)","0a423f0a":"# get the relevant data\nr = [0,1,2,3]\n\ndf = train.groupby(['CoverType', 'Wilderness']).size().reset_index().pivot(columns='CoverType', index='Wilderness', values=0)\ndf = df.fillna(0)\n\ntotals = df.sum(axis = 1, skipna = True) \n\n\naspen = [i \/ j * 100 for i,j in zip(df['Aspen'], totals)]\ncottonwood = [i \/ j * 100 for i,j in zip(df['Cottonwood\/Willow'], totals)]\ndouglas = [i \/ j * 100 for i,j in zip(df['Douglas-fir'], totals)]\nkrummholz = [i \/ j * 100 for i,j in zip(df['Krummholz'], totals)]\nlodgepole = [i \/ j * 100 for i,j in zip(df['Lodgepole Pine'], totals)]\nponderosa = [i \/ j * 100 for i,j in zip(df['Ponderosa Pine'], totals)]\nspruce = [i \/ j * 100 for i,j in zip(df['Spruce\/Fir'], totals)]\n\n\n# plot\nbarWidth = 0.85\nnames = ('Cache la Poudre','Comance Peak','Neota','Rawah')\n\n# Create aspen bars\nplt.bar(r, aspen, color='mediumblue', width=barWidth, label=\"Aspen\")\n# Create cottonwood bars\nplt.bar(r, cottonwood, bottom=aspen, color='darkorange', width=barWidth, label=\"Cottonwood\/Willow\")\n# Create douglas bars\nplt.bar(r, douglas, bottom=[i+j for i,j in zip(aspen, \n                                               cottonwood)], color='forestgreen', width=barWidth, label = \"Douglas-Fir\")\n# Create krummholz bars\nplt.bar(r, krummholz, bottom=[i+j+k for i,j,k in zip(aspen, \n                                               cottonwood, \n                                               douglas)], color='red', width=barWidth, label = \"Krummholz\")\n\n# Create lodgepole bars\nplt.bar(r, lodgepole, bottom=[i+j+k+l for i,j,k,l in zip(aspen, \n                                               cottonwood, \n                                               douglas,\n                                               krummholz)], color='darkviolet', width=barWidth, label = \"Lodgepole Pine\")\n                            \n# Create ponderosa bars\nplt.bar(r, ponderosa, bottom=[i+j+k+l+m for i,j,k,l,m in zip(aspen, \n                                                cottonwood, \n                                               douglas,\n                                               krummholz,\n                                               lodgepole)], color='brown', width=barWidth, label = \"Ponderosa Pine\")\n\n# Create spruce bars\nplt.bar(r, spruce, bottom=[i+j+k+l+m+n for i,j,k,l,m,n in zip(aspen, \n                                               cottonwood, \n                                               douglas,\n                                               krummholz,\n                                               lodgepole,\n                                               ponderosa)], color='violet', width=barWidth, label = \"Spruce\/Fir\")\n\n \n# Custom x axis and y axis\nplt.xticks(r, names)\nplt.xlabel(\"Wilderness area\")\nplt.ylabel(\"Percentage\")\n\n# give title to chart\nplt.title(\"Forest types by Wilderness Area\")\n\n\n# Put the legend out of the figure\nplt.legend(bbox_to_anchor=(1.05, 1), loc=2, borderaxespad=0.)\n\n# Show graphic\nplt.show()","c797547c":"# this is really slooooooow, is there a different to programm this, to make it faster??\n\ndef SoilType(row):\n    if row.Soil_Type1 == 1:\n        return 1\n    elif row.Soil_Type2 == 1 :\n        return 2\n    elif row.Soil_Type3 == 1 :\n        return 3\n    elif row.Soil_Type4 == 1:\n        return 4\n    elif row.Soil_Type5 == 1:\n        return 5\n    elif row.Soil_Type6 == 1:\n        return 6\n    elif row.Soil_Type7 == 1:\n        return 7\n    elif row.Soil_Type8 == 1:\n        return 8\n    elif row.Soil_Type9 == 1:\n        return 9\n    elif row.Soil_Type10 == 1:\n        return 10\n    elif row.Soil_Type11 == 1:\n        return 11\n    elif row.Soil_Type12 == 1:\n        return 12\n    elif row.Soil_Type13 == 1:\n        return 13\n    elif row.Soil_Type14 == 1:\n        return 14\n    elif row.Soil_Type15 == 1:\n        return 15\n    elif row.Soil_Type16 == 1 :\n        return 16\n    elif row.Soil_Type17 == 1 :\n        return 17\n    elif row.Soil_Type18 == 1:\n        return 18\n    elif row.Soil_Type19 == 1:\n        return 19\n    elif row.Soil_Type20 == 1:\n        return 20\n    elif row.Soil_Type21 == 1:\n        return 21\n    elif row.Soil_Type22 == 1:\n        return 22\n    elif row.Soil_Type23 == 1:\n        return 23\n    elif row.Soil_Type24 == 1:\n        return 24\n    elif row.Soil_Type25 == 1:\n        return 25\n    elif row.Soil_Type26 == 1:\n        return 26\n    elif row.Soil_Type27 == 1:\n        return 27\n    elif row.Soil_Type28 == 1:\n        return 28\n    elif row.Soil_Type29 == 1:\n        return 29\n    elif row.Soil_Type30 == 1:\n        return 30\n    elif row.Soil_Type31 == 1:\n        return 31\n    elif row.Soil_Type32 == 1:\n        return 32\n    elif row.Soil_Type33 == 1:\n        return 33\n    elif row.Soil_Type34 == 1:\n        return 34\n    elif row.Soil_Type35 == 1:\n        return 35\n    elif row.Soil_Type36 == 1:\n        return 36\n    elif row.Soil_Type37 == 1:\n        return 37\n    elif row.Soil_Type38 == 1:\n        return 38\n    elif row.Soil_Type39 == 1:\n        return 39\n    elif row.Soil_Type40 == 1:\n        return 40\n    else:\n        return 0\n    \ntrain['SoilType'] = train.apply(SoilType, axis='columns')\ntest['SoilType'] = test.apply(SoilType, axis='columns')\n#alldata['SoilType'] = alldata.apply(SoilType, axis='columns')","54074443":"# set figure size\nplt.figure(figsize=(14,6))\n\n#add title\nplt.title(\"Countplot of SoilType\")\n\nsns.countplot(x = train.SoilType)","0e08acb2":"# set figure size\nplt.figure(figsize=(14,6))\n\n#add title\nplt.title(\"Countplot of SoilType\")\n\nsns.countplot(x = test.SoilType)","57c38720":"\n# get the relevant data\nr = list(range(1,39))\n\ndf = train.groupby(['CoverType', 'SoilType']).size().reset_index().pivot(columns='CoverType', index='SoilType', values=0)\ndf = df.fillna(0)\n\ntotals = df.sum(axis = 1, skipna = True) \n\n\naspen = [i \/ j * 100 for i,j in zip(df['Aspen'], totals)]\ncottonwood = [i \/ j * 100 for i,j in zip(df['Cottonwood\/Willow'], totals)]\ndouglas = [i \/ j * 100 for i,j in zip(df['Douglas-fir'], totals)]\nkrummholz = [i \/ j * 100 for i,j in zip(df['Krummholz'], totals)]\nlodgepole = [i \/ j * 100 for i,j in zip(df['Lodgepole Pine'], totals)]\nponderosa = [i \/ j * 100 for i,j in zip(df['Ponderosa Pine'], totals)]\nspruce = [i \/ j * 100 for i,j in zip(df['Spruce\/Fir'], totals)]\n\n\n# plot\nbarWidth = 0.3\nnames = list(range(1,39)) # is not correct!!!!\n\n# set figure size\nplt.figure(figsize=(12,6))\n\n# Create aspen bars\nplt.bar(r, aspen, color='mediumblue', width=barWidth, label=\"Aspen\")\n\n# Create cottonwood bars\nplt.bar(r, cottonwood, bottom=aspen, color='darkorange', width=barWidth, label=\"Cottonwood\/Willow\")\n\n# Create douglas bars\nplt.bar(r, douglas, bottom=[i+j for i,j in zip(aspen, \n                                               cottonwood)], color='forestgreen', width=barWidth, label = \"Douglas-Fir\")\n# Create krummholz bars\nplt.bar(r, krummholz, bottom=[i+j+k for i,j,k in zip(aspen, \n                                               cottonwood, \n                                               douglas)], color='red', width=barWidth, label = \"Krummholz\")\n\n# Create lodgepole bars\nplt.bar(r, lodgepole, bottom=[i+j+k+l for i,j,k,l in zip(aspen, \n                                               cottonwood, \n                                               douglas,\n                                               krummholz)], color='darkviolet', width=barWidth, label = \"Lodgepole Pine\")\n                            \n# Create ponderosa bars\nplt.bar(r, ponderosa, bottom=[i+j+k+l+m for i,j,k,l,m in zip(aspen, \n                                                cottonwood, \n                                               douglas,\n                                               krummholz,\n                                               lodgepole)], color='brown', width=barWidth, label = \"Ponderosa Pine\")\n\n# Create spruce bars\nplt.bar(r, spruce, bottom=[i+j+k+l+m+n for i,j,k,l,m,n in zip(aspen, \n                                               cottonwood, \n                                               douglas,\n                                               krummholz,\n                                               lodgepole,\n                                               ponderosa)], color='violet', width=barWidth, label = \"Spruce\/Fir\")\n\n \n# Custom x axis and y axis\nplt.xticks(r, names)\nplt.xlabel(\"Soil type\")\nplt.ylabel(\"Percentage\")\n\n# give title to chart\nplt.title(\"Forest types by soil type\")\n\n\n# Put the legend out of the figure\nplt.legend(bbox_to_anchor=(1.05, 1), loc=2, borderaxespad=0.)\n\n# Show graphic\nplt.show()\n","6a54176d":"Each cover type appears 2160 times, this means we have a balanced training set. We have to keep in mind that in the real world, there is an imbalance in the number of forests. ","08851d52":"Sites with an east direction are more likely to have Aspen or Cottonwood type of forests. Douglas-fir woods are more likely to grow on sites with a North, North-East or North-West direction. Cottonwood\/willow forests are also more likely to grow on sites with a South-East direction.","7b0040d8":"### 6.1.3 Slope","d616b9a3":"The first feature Elevation gives information about the altitude in meters. The lowest location is at 1863 meters, the highest location is at 3849 meters. The avarage altitude is 2749 meters. \n\nThe second feature Aspect gives information about aspect in degrees azimuth. This value ranges between 0 and 360 degrees, and its average is 156.67.\nI had no idea what aspect meant, so I did some googling. I found the following website: https:\/\/pro.arcgis.com\/en\/pro-app\/tool-reference\/3d-analyst\/how-aspect-works.htm that explains how aspect works. According to the information found on the website, aspect identifies the direction of the downhill slope faces. It is measured clockwise in degrees from 0 (due north) to 360 (again due north), coming full circle. At this point I have no idea if this is correct.\n\nThe feature Slope gives the Slope in degrees and is thus a measure how steap the location is. This features ranges from 0 (flat area) to 52 degrees. The avarage slope is 16.5 degrees.\n\nThe feature Horizontal_Distance_To_Hydrology gives information about the horizontal distance to nearest surface water. Its value ranges between 0 and 1343 meters. On avarage this value is 227 meters.\n\nThe feature vertical distance to hydrology gives information about the vertical distance to the nearest surface water. This feature contains negative values. At this point I cannot explain these negative values.\n\nThe feature Horizontal_Distance_To_Roadways gives information about how far a location is from the nearest roadway. It ranges between 0 and 6890. On avarage a location is 1714 meters from the nearest roadway.\n\nThere are three features that give information about [hillshade index](http:\/\/desktop.arcgis.com\/en\/arcmap\/10.3\/tools\/spatial-analyst-toolbox\/how-hillshade-works.htm):\nHillshade_9am (0 to 255 index) - Hillshade index at 9am, summer solstice\nHillshade_Noon (0 to 255 index) - Hillshade index at noon, summer solstice\nHillshade_3pm (0 to 255 index) - Hillshade index at 3pm, summer solstice\nHillshade_9am ranges from 0 to 254, with an avarage of 213. Hillshade_Noon ranges from 99 to 254 with an avarage of 219. Hillshade_3pm ranges from 0 to 248 with an avarage of 135. Hillshade_index can be used to tell if a site falls in the shadow. Hillshade index goes from dark to bright (0 to 255)!\n\nHorizontal_Distance_To_Fire_Points represents the horizontal distance to nearest wildfire ignition points. On avarage this is 1511 meters, with a minimum of 0 and a maximum of 6993 meters.\n\nRelevant website for understanding azimuth and hillshade: https:\/\/pro.arcgis.com\/en\/pro-app\/tool-reference\/3d-analyst\/how-hillshade-works.htm","2be0f220":"# 5. Examine the target Cover_Type\n\nThe feature we have to predict is called Cover_Type and resembles the type of forest growing at specific site. This feature is only present in the train set. Here I make a new variable called CoverType, instead of number I use the actual naming of the forest types. This makes the charts I make next easier to read and understand. You can click on the code button to see how I made a new variable.","b8d9cbce":"### Hillshade index\n\nRemember that hillshade index ranges from 0 (dark) to 255 (bright). Thus the higher the number, the more shadow.","f77921dc":"In the train set most observations are from sites in the Rawah Wilderness area and the Comanche Peak wilderness area. Observations from sites located in the Cache la Poudre area and the Neota wilderness area are relatively rare. Thus compared to the train set, the Cache de la Poudre is underrepresented and the Rawah Wilderness area is overrepresented.  ","f6325c69":"### Horizontal distance to fire points","db1efd1c":"For hill shade index at noon you don't see a clear seperation.","6c12226d":"Its seems that spruce, lodgepole and cottonwood forest are more likely to found on areas with a lower slope. The other forest types can be found on sites with a larger slope.","b755d6a7":"### Horizontal and vertical distance to hydrology","43a98c2e":"What happens if we make a new variable mean_hillshade","a885cc74":"Here you see some seperation for hill_shade index. Cottonwood forests prefer sun (low hillshade index) and douglas and ponderosa prefer sites with less sun (high hillshade index)","66e2669e":"# 4. Check for missings and duplicates","9ed16f52":"It seems that each type of forest prevers a particular Elevation. Cottonwood is mainly found between 2000 and 2500 meters, Aspen is mainly found between 2500 and 3000 meters, krummholz between 3000 and 4000 meters. Ponderosa and Douglas is found between 2000 and almost 3000 meters. Lodgepole is found between 2500 and 3500 meters. Spruce is found between 2500 and 3500 meters. This makes Elevation a good predictor.","e5ea980c":"# Contents\n1. Introduction\n2. Loading libraries and files\n3. have a first look at the dataset\n4. check for missings and duplicates in the dataset\n5. datacleaning and making new variables\n6. examine the target feature Cover_Type\n7. examine the predictors features: continuous features, binary features wilderness areas and soil types\n\n# 1. Introduction\n\nThe goal of this competition is to predict the type of trees in a certain area based on  various geographical features. The type of trees is represented by the feature *Cover-Type.* The seven cover types are:\n\n1. [Spruce\/Fir](http:\/\/https:\/\/en.wikipedia.org\/wiki\/Spruce-fir_forests)\n2. [Lodgepole Pine](http:\/\/https:\/\/en.wikipedia.org\/wiki\/Pinus_contorta)\n3. [Ponderosa Pine](http:\/\/https:\/\/en.wikipedia.org\/wiki\/Pinus_ponderosa)\n4. Cottonwood\/Willow\n5. Aspen\n6. Douglas-fir\n7. [Krummholz](http:\/\/https:\/\/en.wikipedia.org\/wiki\/Krummholz)\n\nYou can click on some of the names to get more information about the type of forest. In this kernel I perform an [exploratory data analysis (EDA)](https:\/\/en.wikipedia.org\/wiki\/Exploratory_data_analysis). The reason for performing an EDA is to summarize the main characteristics of the data and to get meaningfull insights that can help to understand the data.\n\nIn some cases I hide the code to make this EDA more readible.\n\n!!Work is still in progress!!","cc2b8879":"The above plot shows that not all cover types are present in each Wilderness Area. In the Cache de la Poudre Wilderness Area three types are present (Ponderosa Pine, Douglas-Fir and Cottonwood\/Willow). In the Comance Peak 5 types are present (Cottonwood\/Willow is missing). In the Neota Wilderness area three cover types  are present (Spruce\/Fir, lodgepole pine and krummholz). In the Rawah Wilderness four cover types are present (Aspen, Krummholz, Lodgepole Pine, Spruce\/Fir). \n\nThe disbalance for Wilderness area in the train and test set can probably be explained by the observation the the train set was balanced for cover type.","75037b2b":"The above plot shows that soiltype is important to predict which kind of forest is growing on which site. For examples on sites with soiltype 3, Cottonwood\/willow is the dominant species. On soiltypes 35-40, it seems that krumholz forests are dominant. \n\nIn the train set there are two soiltypes that are not present!!!","e23a94f3":"The plot above shows that in the train set most observations are from sites found in the Comanche Peak Wilderness area. The next in row is the Cache de la Poudre wilderness area, third in line is the Rawah Wilderness Area. The train set contains relatively few observations from sites in the Neota Wilderness Area. ","3f7db286":"It seems that Aspect follows a non normal distribution. This is because Aspect represents compass directions. We see that there is a peak for cottonwood forrests between 100 and 150 degrees. This means that cottonwoods forrests are more likely to be found on sites that have a south east downhill direction. Douglas forrest are more likely to be found on sites that have a north downhill direction. I also made a new variable based on compass directions.","f6c90ddf":"**5.2 Wilderness Area**\n\nThere are four different types of wilderness area: \n\n1. Wilderness_area1: [Rawah Wilderness Area ](https:\/\/en.wikipedia.org\/wiki\/Rawah_Wilderness)\n2. Wilderness_area2: [Neota Wilderness Area](https:\/\/en.wikipedia.org\/wiki\/Neota_Wilderness)\n3. Wilderness_area3: [Comanche Peak Wilderness Area](https:\/\/en.wikipedia.org\/wiki\/Comanche_Peak_Wilderness)\n4. Wilderness_area4: [Cache la Poudre Wilderness Area](https:\/\/en.wikipedia.org\/wiki\/Cache_La_Poudre_Wilderness) \n\n\n","3faf72cc":"Maybe it is possible to combine somehow this information.","3de6e2c7":"Here we already see that some soil types are very rare. These very rare soil type will not add much value when predicting forest types and should be removed when trying to predict forest type.","f79096e0":"### 6.1.1 Elevation","61182806":"The test data contains more than 500000 rows (observations) and 54 columns. In the test set, the column Cover_Type, the one we have to predict is missing. As shown in the figure above the test set is much larger than the train set. Usually the test set is smaller than the train set.","0735d19b":"The first ten features have many different unique values. So there are likely to be continuous features. The remaining features all have two unique values, except for Soil_Type7 and Soil_Type15 in the train set, which have one unique value. These features are binary. Since Soil_Type7 and Soil_Type15 have only one unique value need to be removed when building a model to predict Cover_Type.","dea5983e":"# 5. Data cleaning and new variables\n\nHere I perform data cleaning on the data set. This includes making new variables, and dividing the train set into 7 different sets, one for each cover type. You can click on code if you want to see the code used in this section.","70747d2e":"# 6. Examine the predictors\n\nHere I start with exploring the predictor variables. The predictor variables can be divided in three groups: \n\nThe continuous features:\n\nElevation - Elevation in meters\nAspect - Aspect in degrees azimuth\nSlope - Slope in degrees\nHorizontal_Distance_To_Hydrology - Horz Dist to nearest surface water features\nVertical_Distance_To_Hydrology - Vert Dist to nearest surface water features\nHorizontal_Distance_To_Roadways - Horz Dist to nearest roadway\nHillshade_9am (0 to 255 index) - Hillshade index at 9am, summer solstice\nHillshade_Noon (0 to 255 index) - Hillshade index at noon, summer solstice\nHillshade_3pm (0 to 255 index) - Hillshade index at 3pm, summer solstice\nHorizontal_Distance_To_Fire_Points - Horz Dist to nearest wildfire ignition points\n\nWilderness_Area (4 binary columns, 0 = absence or 1 = presence) - Wilderness area designation\n\nSoil_Type (40 binary columns, 0 = absence or 1 = presence) - Soil Type designation\n\nI start with exploring the continuous features.\n\n## 6.1 Continuous features\n\nHere I examine how the continuous features. The first 10 columns are continuous features. So lets describe them first by getting some descriptives (mean, min, max, etc).","7a1c3182":"**5.3 Soil Types**\n\nThere are 40 different soil types. I start with making a new variable that indicates the soil type per site","ae71acf4":"The distribution plots are different for the train and the test set. In the train set you see three peaks, whereas there is only one peak in the test set. Lets have a look at the distributions for each type of forest:","8793beef":"# 3. A first look at the dataset","a222e951":"Interesting here you see a nice separation!!!","2f31bec9":"# 2. Load libraries and datafiles","9f1c30b8":"### 6.1.2 Aspect","2662ff16":"Here you also see that cottonwood prefers sites close to water.","fc055d91":"Horizontal distance to hydrology follows a right skewed distribution. It seems that Cottonwood is frequents on sites that are very close to water. ","208e005d":"There are no duplicate rows in the data set.","e175e907":"There are no missings in the train and test set."}}