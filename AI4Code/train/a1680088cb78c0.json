{"cell_type":{"4e9c33f6":"code","184ad5e6":"code","17fe8619":"code","f9ebd24f":"code","0ed94cd1":"code","7f890cfc":"code","89f3be9b":"code","00ca8681":"code","7570c893":"code","15f2ec42":"code","36524225":"code","73fcf748":"code","b5610428":"code","254389ef":"code","57ce447d":"code","31d8c435":"code","19ec1596":"code","368316c3":"markdown","ed7bde33":"markdown","df89fe0a":"markdown","39fb3a66":"markdown","91f1c774":"markdown","37d3d32a":"markdown","cbbdb19a":"markdown","4141992c":"markdown","c9dc038b":"markdown","d49d0d80":"markdown"},"source":{"4e9c33f6":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nplt.style.use('seaborn-poster')\nplt.style.use('fivethirtyeight')\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","184ad5e6":"data = pd.read_csv('\/kaggle\/input\/boston-house-prices\/housing.csv')\ndata.head()","17fe8619":"# Assigning the name of the column in the form of 'list'\ncolumn_names = ['CRIM', 'ZN', 'INDUS', 'CHAS', 'NOX', 'RM', 'AGE', 'DIS', 'RAD', 'TAX', 'PTRATIO', 'B', 'LSTAT', 'MEDV']\ndf= pd.read_csv('..\/input\/boston-house-prices\/housing.csv', header=None, delimiter=r\"\\s+\", names=column_names)\ndf.head()","f9ebd24f":"df.to_csv('\/kaggle\/working\/housing_data.csv',index=False)","0ed94cd1":"df.LSTAT.hist()\nplt.title('Histogram of TAX before treat outliers')","7f890cfc":"from scipy.stats.mstats import winsorize\n\ndef treat_outliers(dataframe):\n    cols = list(dataframe)\n    for col in cols:\n        if col in dataframe.select_dtypes(include=np.number).columns:\n            dataframe[col] = winsorize(dataframe[col], limits=[0.05, 0.1],inclusive=(True, True))\n    return dataframe    \n\ndf1 = df.copy()\ndf1 = treat_outliers(df1)","89f3be9b":"df1.LSTAT.hist()\nplt.title('Histogram of TAX after treat outliers')","00ca8681":"x = df.iloc[:,:-1]\ny = df.iloc[:,-1]","7570c893":"df.head()","15f2ec42":"from sklearn.model_selection import train_test_split\nX_train,X_test,y_train,y_test= train_test_split(x,y,test_size=0.3,random_state=42)","36524225":"from sklearn.linear_model import LinearRegression \nreg = LinearRegression().fit(X_train, y_train)","73fcf748":"coef=pd.DataFrame([X_train.columns, reg.coef_]).T\ncoef=coef.rename(columns={0:'Attributes',1:'Coefficients'})\ncoef","b5610428":"ytest_pred = reg.predict(X_test)","254389ef":"from sklearn import metrics\nlin_acc=metrics.r2_score(ytest_pred, y_test)\nprint(\"R^2: \",lin_acc)\nprint(\"MAE: \", metrics.mean_absolute_error(ytest_pred, y_test))\nprint(\"MSE: \", metrics.mean_squared_error(ytest_pred, y_test))\nprint(\"RMSE: \",np.sqrt(metrics.mean_squared_error(ytest_pred, y_test)))\nprint(\"Max Error: \", metrics.max_error(ytest_pred, y_test))","57ce447d":"x_ax = range(len(X_test))\nplt.plot(x_ax, y_test, lw=1, color=\"blue\", label=\"original\")\nplt.plot(x_ax, ytest_pred, lw=0.8, color=\"red\", label=\"predicted\",marker=\"o\", markersize=4)\nplt.legend()\nplt.show()","31d8c435":"df_plot = pd.DataFrame({'pred_price': ytest_pred, 'actual_price': y_test})\ndf_plot.head()","19ec1596":"sns.jointplot(x='pred_price',y='actual_price',data=df_plot,kind='reg')","368316c3":"# Evaluation: Visualize","ed7bde33":"# Predictions: y_pred = f(X_test)","df89fe0a":"# Demo: House Price EDA & Linear Regression\nA very simple demo to understand the process of EDA & Modelings. Please research other references for much more comprehensive work. \n\n**References**\n* [Linear Regression \ud83d\udcc8 House \ud83c\udfe1 price \ud83d\udcb5 prediction](https:\/\/www.kaggle.com\/faressayah\/linear-regression-house-price-prediction)\n\n![image.png](attachment:dbc30fc0-4c51-435f-8853-9ec56c8615e9.png)","39fb3a66":"# EDA (Exploratory Data Analysis)\nYou could use the Auto-profiling Data [HERE](https:\/\/share.streamlit.io\/anhdanggit\/streamlit-data-glimpse\/main\/app.py)\n* **Summary:** Check Data Type, Count of records, Statistics Summary\n* **Profiling Report**: \n    - Univariate: Histogram (detect outliers, weird data distribution) & Statistics\n    - Interactions: Scatter-Plot\n    - Correltations\n    - Missing Values","91f1c774":"# Data Processing: Outliers\nThis would be based on EDA:\n* Outliers (eg: `TAX`): remove or replace outliers >95th percentiles, and <5th percentiles by the values of 5th and 95th\n* Distributions: normalize the scale\n* Missing: impute (median, or some intuitive values)","37d3d32a":"# Linear Regression: y = f(X) \n> y = f(X) = coef1 * X1 + coef2 * X2 + ...","cbbdb19a":"# Data Processing: y, X","4141992c":"# Data Set Information\n\nFirst of all, understand the meanings of all columns. In Kaggle, you can go and check `Data Explorer` (unfortunately, it's not available for this dataset).\n\n**Features**\n\n|Feature|Description|\n|-----|-----|\n|CRIM|per capita crime rate by town|\n|ZN|proportion of residential land zoned for lots over 25,000 sq.ft.|\n|INDUS|proportion of non-retail business acres per town|\n|CHAS|Charles River dummy variable (= 1 if tract bounds river; 0 otherwise)|\n|NOX|nitric oxides concentration (parts per 10 million)|\n|RM|average number of rooms per dwelling|\n|AGE|proportion of owner-occupied units built prior to 1940|\n|DIS|weighted distances to \ufb01ve Boston employment centers|\n|RAD|index of accessibility to radial highways|\n|TAX|full-value property-tax rate per 10,000 dollars|\n|PTRATIO|pupil-teacher ratio by town |\n|B|1000(Bk\u22120.63)2 where Bk is the proportion of blacks by town| \n|LSTAT|% lower status of the population|\n|MEDV|Median value of owner-occupied homes in 1000s dollars|","c9dc038b":"# Load Data","d49d0d80":"# Evaluation: y_test vs. y_pred"}}