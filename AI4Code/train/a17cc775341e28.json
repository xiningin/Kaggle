{"cell_type":{"666c55b6":"code","59305c34":"code","a2a3f092":"code","44b98210":"code","28b53fe3":"code","e61a2bf1":"code","d1410713":"code","8dda91ae":"code","c2859207":"code","be7d6fd6":"code","4e2e0c57":"code","17ce717a":"code","b23fb068":"code","fcbd972d":"code","248a5a99":"code","5f9560c1":"code","ff7feb59":"code","fae310e8":"code","78a0741c":"code","a9294ea4":"code","8844cbab":"code","ee9aa963":"code","13f936fd":"code","c35b6725":"code","5d690bd6":"code","741eb8a4":"markdown","b861a124":"markdown","e236771a":"markdown","dd042345":"markdown","e48e9ef2":"markdown","83e20244":"markdown","205a87ff":"markdown","c40d3092":"markdown","735a60bb":"markdown","2ee4b1e5":"markdown","a6a888c2":"markdown","ba041a2b":"markdown","9ff68167":"markdown","2a6d47a1":"markdown","d4b8dcc0":"markdown","f7e2a4a2":"markdown","60de0322":"markdown","2f557457":"markdown","1b01e7d5":"markdown","5643a227":"markdown","87e0409d":"markdown","8869d5a3":"markdown","bd53ce63":"markdown","fd8f1403":"markdown","60f86350":"markdown","684a07f4":"markdown","825dec6e":"markdown","1af00ccf":"markdown","0620a8b8":"markdown","fde3ecd7":"markdown","ee079c39":"markdown","b34d3d5d":"markdown","1a4f52fe":"markdown","2a086d92":"markdown","890dc006":"markdown","0b6f56c7":"markdown","9cb7c977":"markdown","0fbb507f":"markdown"},"source":{"666c55b6":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","59305c34":"df = pd.read_csv('..\/input\/noshowappointments\/KaggleV2-May-2016.csv')\ndf.head()","a2a3f092":"df.info()","44b98210":"df.describe()","28b53fe3":"df.rename(columns={'Handcap': 'Handicap', 'Hipertension': 'Hypertension'}, inplace=True)\ndf.columns","e61a2bf1":"df['ScheduledDay'] = pd.to_datetime(df['ScheduledDay'])\ndf['AppointmentDay'] = pd.to_datetime(df['AppointmentDay'])","d1410713":"df = df[df['ScheduledDay'] < df['AppointmentDay']]\ndf[df['ScheduledDay'] > df['AppointmentDay']]","8dda91ae":"df = df[df['Age'] >= 0]\ndf.Age.min()","c2859207":"df = df[(df['Handicap'] == 0) | (df['Handicap'] == 1)]\ndf.Handicap.value_counts()","be7d6fd6":"df['No-show'] = df['No-show'].map({'Yes': 1, 'No': 0})\ndf['No-show'].value_counts()","4e2e0c57":"# Creating Masks for rows where the patients showed up and rows where the patients did not in order to grap these rows easier.\nno_show = df['No-show'] == 1\nshow = df['No-show'] == 0","17ce717a":"# Creating a function for plotting the histogram of a certain feature for each label (no_show and show).\ndef plot_histograms(column):\n    df[column][no_show].hist(alpha=0.5, label='no show')\n    df[column][show].hist(alpha=0.5, label='show')\n    plt.legend();","b23fb068":"# Creating a function for printing out the mean value of a certain feature(s) for each label (no_show and show) and plotting the results.\ndef print_and_plot_means(column):\n    print(df.groupby(column)['No-show'].mean())\n    df.groupby(column)['No-show'].mean().plot(kind='bar');","fcbd972d":"plot_histograms('Age')","248a5a99":"print_and_plot_means('Gender')","5f9560c1":"print_and_plot_means('Scholarship')","ff7feb59":"print_and_plot_means('Hypertension')","fae310e8":"print_and_plot_means('Diabetes')","78a0741c":"print_and_plot_means('Alcoholism')","a9294ea4":"print_and_plot_means('Handicap')","8844cbab":"print_and_plot_means('SMS_received')","ee9aa963":"print_and_plot_means(['Scholarship', 'Alcoholism'])","13f936fd":"df['DaysUntilAppointment'] = (df['AppointmentDay'] - df['ScheduledDay']).dt.total_seconds()\/(60*60*24)\ndf['DaysUntilAppointment']","c35b6725":"plot_histograms('DaysUntilAppointment')","5d690bd6":"from subprocess import call\ncall(['python', '-m', 'nbconvert', 'Investigate_a_Dataset.ipynb'])","741eb8a4":"**Firstly**: creating a new column with the time difference in days between the day the patient scheduled the appointment and the day of the actual appointment","b861a124":"<a id='intro'><\/a>\n## Introduction\n\n### Dataset Description \n\n#### Context\nA person makes a doctor appointment, receives all the instructions and no-show. Who to blame?\n\n#### Data Dictionary\n##### 01 - PatientId\nIdentification of a patient.\n##### 02 - AppointmentID\nIdentification of each appointment.\n##### 03 - Gender\nMale or Female. Female is the greater proportion, woman takes way more care of they health in comparison to man.\n##### 04 - ScheduledDay\nThe day someone called or registered the appointment, this is before appointment of course.\n##### 05 - AppointmentDay \nThe day of the actuall appointment, when they have to visit the doctor.\n##### 06 - Age\nHow old is the patient.\n##### 07 - Neighbourhood\nWhere the appointment takes place.\n##### 08 - Scholarship\nTrue of False. Observation, this is a broad topic, consider reading this article https:\/\/en.wikipedia.org\/wiki\/Bolsa_Fam%C3%ADlia\n##### 09 - Hipertension\nTrue or False.\n##### 10 - Diabetes\nTrue or False.\n##### 11 - Alcoholism\nTrue or False.\n##### 12 - Handicap\nTrue or False.\n##### 13 - SMS_received\n1 or more messages sent to the patient.\n##### 14 - No-show\nTrue or False.\n\n### Question(s) for Analysis\n\n#### - What factors are important for us to know in order to predict if a patient will show up for their scheduled appointment?","e236771a":"<a id='conclusions'><\/a>\n## Conclusions\n\n1) Age seems to be an important factor to know in order to predict if a patient will show up for their scheduled appointment where middle-aged patients seem less prone not to show up.\n\n2) Having a scholarship seems to be an important factor where patients with a scolarship seem not to tend to show for the appointment more than patients without.\n\n3) Suffering from an illness or disability seems to be an important factor as patients that suffered from hypertension, diabetes or had a handicap where less prone not to show up.\n\n4) Alcoholism seems to be an important factor where alcoholic patients seem not to tend to show for the appointment more than non-alcoholic ones, which is a special case where suffering from an illness is actually positevely correlated with not showing up unlike other illnesses and disabilities which negatively correlates, and this makes sense due to alcoholism being directly related to mental health problems, which may make us able to generalize and say that having mental health problems may increase the chance of patients not showing up for the appointment.\n\n5) Having a scholarship and suffering from alcoholism are two very crucial and important factors if not the most crucial and important, where we can say that we can predict that a patient is more likely not to show up for the appointment just by having positive values in these two variables.\n\n6) The number of days between the day the patient called or registered the appointment and the day of the actual appointment seem to be an important factor where a low number of days seems to be associated with a lower chance of not showing for the appointment.\n\n\n### Limitations\n\nThe project being limited to exploratory data analysis (the absence of machine learning). I could have extracted a lot of human-understandable insights from machine learning models and gained a lot more knowledge in regards to the importance of the variables in relation to the target variable, which would limit any wrong deduction of a cause-and-effect relationship that may happen.","dd042345":"**Secondly**: visualizing the histograms of these days in case of showing and not showing for the appointment","e48e9ef2":"##### Checking if there is a correlation between having hypertension and not showing for the appointment","83e20244":"- We do not have any null values.\n\n- We need to change the dtype of \"ScheduledDay\" & \"AppointmentDay\" to datetime.","205a87ff":"Seems like patients that do not have a hypertension are more likely not to show up for the appointment than patients that do (by about 6%).","c40d3092":"Seems like patients that do not suffer from diabetes are slightly more likely not to show up for the appointment than patients that do (by about 4%).","735a60bb":"**Secondly**: removing rows with negative age values","2ee4b1e5":"##### Removing the rows with noisy data","a6a888c2":"We have some noise in our data:\n\n1) A negative value for \"Age\".\n\n2) A value other than 1 and 0 for \"Handicap\" (4).","ba041a2b":"##### Checking if there is a correlation between alcoholism and not showing for the appointment","9ff68167":"The \"show\" distribution is more skewed to the right than the \"no show\" distribution, which indicates that a low number of days (~less than 13) between the day the patient scheduled the appointment and the day of the actual appointment seems to be associated with a lower chance of not showing for the appointment.","2a6d47a1":"<a id='wrangling'><\/a>\n## Data Wrangling\n\n### General Properties","d4b8dcc0":"- There exist misspellings in the column-names \"Handcap\" (It should be Handicap instead) and \"Hipertension\" (It should be Hypertension instead).\n\n- There exist some noisy data in regards to the scheduled day and the appointment day, where some rows have the scheduled day's date after the appointment day's date.","f7e2a4a2":"##### Solving the misspellings in the columns \"Handcap\" and \"Hipertension\"","60de0322":"##### Checking if there is a correlation between sending one or more messages to the patient and not showing for the appointment","2f557457":"##### Checking if there is a correlation between having diabetes and not showing for the appointment","1b01e7d5":"Gender doesn't seem to affect the chance of not showing for the appointment, where the percentage of patients that didn't show in both genders is nearly equal.","5643a227":"The difference in means is too small to consider any correlation between sending one or more messages to the patient and not showing for the appointment (less than 2%).","87e0409d":"##### Changing the column \"No-show\"'s values from 'Yes' and 'No' to 1 and 0 for easier data analysis","8869d5a3":"**Firstly**: removing rows having the date of \"ScheduledDay\" After the date of \"AppointmentDay\"","bd53ce63":"The distributions seem similar except for a specific range (~45-55), which indicates that patients having about 45 to 55 years old seem less prone not to show for their scheduled appointments.","fd8f1403":"Seems like alcoholic patients are more likely not to show for the appointment (by about 6%).","60f86350":"Patients not suffering a handicap seem to be very slightly more likely not to show up for the appointment (by about 3%).","684a07f4":"#### Since having a scholarship and being alcoholic where the only two features with positive correlation with not showing for the appointment, we will check how strong the correlation is when considering the two variables together","825dec6e":"###### We will now check if there is a relationship between the number of days between the day the patient called or registered the appointment and the day of the actual appointment, and not showing up for the appointment","1af00ccf":"\n### Data Cleaning","0620a8b8":"By having positive responses in these two features only, it seems acceptible to predict that a patient is more likely not to show up for the shceduled appointment (51.67% of alcoholic patients having a scholarship didn't show up for the appointment).","fde3ecd7":"##### Checking if one gender is more prone for not showing than the other","ee079c39":"**Thirdly**: removing rows with Handicap values other than 0 and 1","b34d3d5d":"##### Checking if there is a correlation between having a handicap and not showing for the appointment","1a4f52fe":"##### Checking if certain ages do not show for the scheduled appointment more than others","2a086d92":"<a id='eda'><\/a>\n## Exploratory Data Analysis\n\n### What factors are important for us to know in order to predict if a patient will show up for their scheduled appointment?","890dc006":"Seems like patients that have a scholarship are more likely not to show up for the appointment than patients that don't (by about 7%).","0b6f56c7":"# Project: Investigate a Dataset - Medical Appointment No Shows\n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","9cb7c977":"##### Changing the dtype of the columns \"ScheduledDay\" & \"AppointmentDay\" to datetime.","0fbb507f":"##### Checking if there is a correlation between having a scholarship and not showing for the appointment"}}