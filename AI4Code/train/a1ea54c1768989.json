{"cell_type":{"4fcf46e9":"code","97078b93":"code","520acc08":"code","45f9636a":"code","b32a8ecd":"code","118c03aa":"code","2633b25b":"code","5e60e12c":"code","c04fb298":"code","5ad7e3c6":"code","d969fa24":"code","54ee1b2d":"code","a40e6e1e":"code","61d603ae":"code","830d6486":"code","5c525918":"code","dbd6263d":"code","a01bc4fa":"code","5b0c1395":"code","77299270":"code","f8cdd4c1":"code","bacb5ea5":"code","355adfaa":"code","8d64f2f3":"code","04b9a558":"code","27bfd820":"code","2734e5c4":"code","5bd9f425":"code","1919993a":"code","630f97eb":"code","f65744cb":"code","6625ff37":"code","bddbee95":"code","585f4ca4":"code","1e1e0ce7":"code","6265b532":"code","aa550644":"code","4362f64a":"code","5b219033":"markdown","d84c845f":"markdown","653e33f0":"markdown","143d6448":"markdown","09335b50":"markdown","b5a9ee63":"markdown","65b45f31":"markdown","2d32bb6a":"markdown","9ae5d1ab":"markdown","c305f461":"markdown","532f74bf":"markdown","df882541":"markdown"},"source":{"4fcf46e9":"import nltk\nnltk.download('punkt')\nfrom nltk.tokenize import word_tokenize\nimport string\nfrom urllib.request import urlopen\nfrom bs4 import BeautifulSoup\n\nimport numpy as np\nfrom os import path\nfrom PIL import Image\nimport collections\nimport gensim\nfrom gensim.models import Word2Vec\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\nimport matplotlib.pyplot as plt","97078b93":"!pip install spark","520acc08":"!pip install pyspark","45f9636a":"import pyspark\nfrom pyspark import SparkContext\nfrom pyspark.sql import SparkSession\nfrom pyspark.sql import SQLContext\nimport pandas as pd","b32a8ecd":"spark = SparkSession \\\n    .builder \\\n    .appName(\"Word2Vec\") \\\n    .getOrCreate()","118c03aa":"file = \"..\/input\/davinci\"","2633b25b":"davinci = spark.read.csv(file,header = 'True')","5e60e12c":"davinci.show()","c04fb298":"pandas_df = davinci.toPandas()\nprint(pandas_df)","5ad7e3c6":"pandas_df= pandas_df.drop([\"_c1\"],axis=1)","d969fa24":"pandas_df","54ee1b2d":"text=pandas_df.Datas[0]","a40e6e1e":"print(text)","61d603ae":"def remove_punctuation(text):\n    no_punc = [words for words in text if words not in string.punctuation]\n    word_wo_punc = \"\".join(no_punc)\n    return word_wo_punc\n\ntext = remove_punctuation(text)\nprint(text)","830d6486":"def corpus_lower(corpus):\n    corpus = corpus.lower()\n    return corpus\n\ntext = corpus_lower(text)\nprint(text)","5c525918":"def remove_numeric(corpus):\n    output = ''.join(words for words in corpus if not words.isdigit())\n    return output\n\ntext = remove_numeric(text)\ntext = text.replace(\"\u00b0c\",\"\")\nprint(text)","dbd6263d":"text = text.split()\ntext","a01bc4fa":"source = urlopen(\"https:\/\/github.com\/stopwords-iso\/stopwords-tr\/blob\/master\/stopwords-tr.txt\").read()\nsoup = BeautifulSoup(source, \"lxml\")\nprint(set([text.parent.name for text in soup.find_all(text=True)]))","5b0c1395":"stopwords = ''\n\nfor paragraph in soup.find_all(\"tr\"):\n    stopwords += paragraph.text\n    \nstopwords = stopwords.split()\nstopwords","77299270":"filtered_text = []\n\nfor word in text:\n    if word not in stopwords:\n        filtered_text.append(word)\n\nfiltered_text","f8cdd4c1":"sentence = []\n\nfor i in filtered_text:\n    sentence.append(i)\n    \ntext_ = \" \".join(map(str, sentence)) \n\nwordcloud = WordCloud(width = 3000, \n                      height = 3000, \n                      max_font_size = 300, \n                      background_color=\"white\",\n                      colormap = \"twilight_shifted\").generate(text_)\n\nplt.figure(figsize = (20,17))\nplt.imshow(wordcloud, interpolation = \"bilinear\")\nplt.axis(\"off\")\nplt.show()","bacb5ea5":"corpus = []\n\nfor cumle in filtered_text:\n    corpus.append(cumle.split())\n    \ncorpus","355adfaa":"model = Word2Vec(corpus,  window = 2, min_count = 2, sg = 1)\nmodel","8d64f2f3":"model.wv[\"m\u00fcze\"]","04b9a558":"model.wv[\"d\u00fcnya\"]","27bfd820":"#\u00d6nemli\nmodel.wv.most_similar(int(1.80985685e-03))","2734e5c4":"model.wv.most_similar(int(-0.0073842))","5bd9f425":"model.wv.most_similar(\"d\u00fcnya\")","1919993a":"model.wv.most_similar(\"merkez\")","630f97eb":"model.wv.most_similar(\"vinci\")","f65744cb":"model.wv.most_similar(\"longdon\")","6625ff37":"bigrams = (pd.Series(nltk.ngrams(corpus, 2)).value_counts())[:20]","bddbee95":"bigrams.sort_values().plot.barh(color='blue', width=.9, figsize=(12, 8))\nplt.title('20 Most Bigrams')\nplt.ylabel('Bigram')\nplt.xlabel('Occurances')","585f4ca4":"model.wv.similarity('d\u00fcnya','harita')","1e1e0ce7":"model.wv.similarity(int(-0.0073842),int(0.27314674854278564))","6265b532":"model.wv.similarity('d\u00fcnya','merkez')","aa550644":"trigrams = (pd.Series(nltk.ngrams(corpus, 3)).value_counts())[:20]","4362f64a":"trigrams.sort_values().plot.barh(color='red', width=.9, figsize=(12, 8))\nplt.title('20 Most  Trigrams')\nplt.ylabel('Trigram')\nplt.xlabel('Occurances')","5b219033":"# WordCloud!!","d84c845f":"# Each word is actually a decimal number(Float to Int)!","653e33f0":"# Read File","143d6448":"# Lower word for Corpus","09335b50":"# Top10 Most Similar of Words","b5a9ee63":"# Remove numeric strings for clear text","65b45f31":"# Bigram & Trigram","2d32bb6a":"# Word2Vec model ","9ae5d1ab":"# Cosine Similatiry","c305f461":"## MaskImage for WordCloud","532f74bf":"# Stopwords","df882541":"# Spark to Dataframe"}}