{"cell_type":{"878bfbec":"code","64384ab4":"code","8da4026e":"code","0e52f840":"code","d86710cf":"code","8b5d53bb":"code","176dd308":"code","6d6a40d9":"code","8ffaa9ee":"code","4ff21ec5":"code","30befb48":"code","0a4ac53b":"code","510dbc9b":"code","79877b98":"code","9ba64e81":"code","b36fc1da":"code","74179e0e":"code","6ded8c18":"code","407992cc":"markdown","2cd0644c":"markdown","3faa0651":"markdown","53149f3c":"markdown","51ece202":"markdown","3e8b8097":"markdown","27a2d15a":"markdown","1801443f":"markdown","e20397e9":"markdown","7b27d9a5":"markdown","0bde08cd":"markdown","d9d5f332":"markdown","02c5cbe2":"markdown"},"source":{"878bfbec":"import pandas as pd \nimport numpy as np \nimport seaborn as sns\napplication_test=pd.read_csv(r'C:\\Users\\Admin\\Desktop\\Kaggle\\application_test.csv')\napplication_test.head(3)","64384ab4":"import pandas as pd \nimport numpy as np \nimport seaborn as sns\napplication_train=pd.read_csv(r'C:\\Users\\Admin\\Desktop\\Kaggle\\application_train.csv')\n#application_train['NAME_HOUSING_TYPE'].unique()\napplication_train['CODE_GENDER'].unique()\napplication_train.groupby('CODE_GENDER').mean()","8da4026e":"pd.crosstab(application_train.CODE_GENDER,application_train.NAME_HOUSING_TYPE, normalize=True)","0e52f840":"pd.crosstab(index=application_train[\"CODE_GENDER\"], columns=application_train[\"NAME_HOUSING_TYPE\"]).plot(kind=\"bar\", figsize=(8,8),stacked=True)","d86710cf":"pd.crosstab(application_train.CODE_GENDER, application_train.NAME_FAMILY_STATUS, normalize='index')","8b5d53bb":"pd.crosstab(application_train.CODE_GENDER, application_train.NAME_FAMILY_STATUS).plot(kind='bar', stacked=True)","176dd308":"\nimport pandas as pd \nimport numpy as np \nimport seaborn as sns\napplication_test=pd.read_csv(r'C:\\Users\\Admin\\Desktop\\Kaggle\\application_test.csv')\napplication_test['NAME_CONTRACT_TYPE'].unique()\npd.crosstab(application_test.NAME_CONTRACT_TYPE, application_test.NAME_HOUSING_TYPE,normalize='columns')","6d6a40d9":"import pandas as pd\nimport pyodbc \nimport matplotlib.pyplot as plt\nconn = pyodbc.connect('Driver={SQL Server};'\n                      'Server=DESKTOP-LPKAQDC;'\n                      'Database=TEST;'\n                      'Trusted_Connection=yes;')\n\nquery=\"SELECT [SK_ID_CURR], [NAME_CONTRACT_TYPE], [CODE_GENDER], [FLAG_OWN_CAR],[AMT_INCOME_TOTAL], [AMT_CREDIT],[AMT_ANNUITY], [DAYS_BIRTH]\/-365 AS [AGE] from Test.dbo.application_test \"\nraw_data=pd.read_sql(query,conn)\nraw_data.head(3)","8ffaa9ee":"import matplotlib.pyplot as plt\nsns.heatmap(raw_data.corr(), annot=True, fmt=\".2f\")\nplt.show()","4ff21ec5":"sns.pairplot(raw_data[['NAME_CONTRACT_TYPE','CODE_GENDER', 'FLAG_OWN_CAR','AMT_INCOME_TOTAL', 'AMT_CREDIT','AMT_ANNUITY']].dropna(), kind=\"reg\")","30befb48":"import pandas as pd \nimport numpy as np \nimport seaborn as sns\napplication_train=pd.read_csv(r'C:\\Users\\Admin\\Desktop\\Kaggle\\application_train.csv')\n#application_train['NAME_HOUSING_TYPE'].unique()\n%matplotlib inline\napplication_train['NAME_HOUSING_TYPE'].value_counts().plot('bar')","0a4ac53b":"import pandas as pd\nimport pyodbc \nimport matplotlib.pyplot as plt\nimport seaborn as sns\nconn = pyodbc.connect('Driver={SQL Server};'\n                      'Server=DESKTOP-LPKAQDC;'\n                      'Database=TEST;'\n                      'Trusted_Connection=yes;')\n\nquery=\"SELECT [SK_ID_CURR], [NAME_CONTRACT_TYPE], [CODE_GENDER], [FLAG_OWN_CAR],[AMT_INCOME_TOTAL], [AMT_CREDIT],[AMT_ANNUITY], [DAYS_BIRTH]\/-365 AS [AGE] from Test.dbo.application_test \"\nraw_data=pd.read_sql(query,conn)\n\ncredit_card_balance=pd.read_csv(r'C:\\Users\\Admin\\Desktop\\Kaggle\\credit_card_balance.csv')\n\ncredit_card_table=pd.merge(raw_data,credit_card_balance, on='SK_ID_CURR', how='left')\n\nsns.pairplot(raw_data[['AMT_INCOME_TOTAL','AMT_CREDIT','AMT_ANNUITY','AGE']].dropna(), kind=\"scatter\", hue=\"FLAG_OWN_CAR\", plot_kws=dict(s=80, edgecolor=\"white\", linewidth=2.5))\nplt.show()","510dbc9b":"\nraw_data.boxplot(column='AGE', by='NAME_CONTRACT_TYPE')","79877b98":"aw_data.boxplot(column='AMT_INCOME_TOTAL', by='FLAG_OWN_CAR',showfliers=False)","9ba64e81":"import matplotlib.pyplot as plt\nsns.heatmap(data_imp[['AMT_INCOME_TOTAL', 'AMT_CREDIT', 'AMT_ANNUITY']].corr(), annot=True, fmt=\".2f\")\nplt.show()","b36fc1da":"from sklearn.feature_selection import RFE\nfrom sklearn.linear_model import LogisticRegression\nimport pandas as pd\nimport pyodbc \nconn = pyodbc.connect('Driver={SQL Server};'\n                      'Server=DESKTOP-LPKAQDC;'\n                      'Database=TEST;'\n                      'Trusted_Connection=yes;')\nquery_02=\"SELECT [SK_ID_CURR], [WEEKDAY_APPR_PROCESS_START],[NAME_CONTRACT_TYPE],[NAME_HOUSING_TYPE], [NAME_INCOME_TYPE], [NAME_FAMILY_STATUS],[OCCUPATION_TYPE],[CODE_GENDER], [FLAG_OWN_CAR],[AMT_INCOME_TOTAL], [AMT_CREDIT],[AMT_ANNUITY], [DAYS_BIRTH]\/-365 AS [AGE] from TEST.DBO.application_train\"\ndata=pd.read_sql(query_02,conn)\nlogreg = LogisticRegression()\nrfe = RFE(logreg,5)\n\ndata=data[to_keep].dropna()\ndata_X=data.drop(['FLAG_OWN_CAR','SK_ID_CURR'],axis=1)\ndata_y=data['SK_ID_CURR']","74179e0e":"from sklearn.model_selection import StratifiedKFold\nskf = StratifiedKFold(n_splits=4)\n\nscore=[]\nfor train_index, test_index in skf.split(X_train,y_train):\n    X_tr,X_ts = X_train.values[train_index],X_train.values[test_index]\n    y_tr,y_ts= y_train.values[train_index], y_train.values[test_index]\n    clf.fit(X_tr,y_tr)\n    score.append(clf.score(X_ts,y_ts))\n    \nnp.mean(score)","6ded8c18":"testchi=data_X.drop(['WEEKDAY_APPR_PROCESS_START', 'NAME_CONTRACT_TYPE', 'NAME_HOUSING_TYPE',\n       'NAME_INCOME_TYPE', 'NAME_FAMILY_STATUS', 'AGE_JOBS', 'OCCUPATION_TYPE',\n       'CODE_GENDER', 'AMT_INCOME_TOTAL', 'AMT_CREDIT', 'AMT_ANNUITY', 'AGE'],\n      axis=1)","407992cc":"![image.png](attachment:image.png)","2cd0644c":"![image.png](attachment:image.png)","3faa0651":"![image.png](attachment:image.png)","53149f3c":"![image.png](attachment:image.png)","51ece202":"![image.png](attachment:image.png)","3e8b8097":"## result as table below: \n1. ![image.png](attachment:image.png)\n1. ![image.png](attachment:image.png)\n","27a2d15a":"![image.png](attachment:image.png)","1801443f":"![image.png](attachment:image.png)","e20397e9":"![image.png](attachment:image.png)","7b27d9a5":"![image.png](attachment:image.png)","0bde08cd":"![image.png](attachment:image.png)","d9d5f332":"![image.png](attachment:image.png)","02c5cbe2":"1.The result show here below:\n\n![image.png](attachment:image.png)"}}