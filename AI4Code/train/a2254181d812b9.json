{"cell_type":{"19ded0a1":"code","6bc7629a":"code","1a56e9e6":"code","ca5864d0":"code","d572efa6":"code","44184c8c":"code","714f3180":"code","e36495c2":"code","53cf24c8":"code","3581dd17":"markdown"},"source":{"19ded0a1":"import pandas as pd\nimport numpy as np\nfrom mlxtend.frequent_patterns import apriori, association_rules\nfrom mlxtend.preprocessing import TransactionEncoder","6bc7629a":"# Veri setimizi okuttuk.\ndf = pd.read_csv(\"..\/input\/grocery\/GroceryStoreDataSet.csv\")\n\ndf.head()","1a56e9e6":"df.shape","ca5864d0":"# Veri setimizin herhangi bir de\u011fi\u015fken ismi yok, bu y\u00fczden product de\u011fi\u015fken olu\u015fturduk.\ndf.columns = [\"Products\"]\ndf","d572efa6":"# Verilerimiz birle\u015fik oldu\u011fundann bunlar\u0131 \",\" le g\u00f6re ay\u0131rma i\u015flemi yapaca\u011f\u0131z.\n# Bunun i\u00e7in isimsiz fonk. kulland\u0131k. Product de\u011fi\u015fkeninin yakalanan her eleman\u0131n\u0131n i\u00e7inde \",\"'e g\u00f6re ay\u0131rma i\u015flemi yapt\u0131k\npure_df = df.Products.apply(lambda x : x.split(\",\")).copy()","44184c8c":"# Burada de\u011fi\u015fkenlerimizi 0-1 \u015feklinde ayarlad\u0131k. 1 al\u0131nma, 0 al\u0131nmama durumu\ntemp = TransactionEncoder()\ntemp_df = temp.fit(pure_df).transform(pure_df)\nnew_df = pd.DataFrame(temp_df,columns=temp.columns_)\nnew_df","714f3180":"# Support de\u011ferimizi %20 olarak belirledik\n\nsupps = apriori(new_df, min_support=0.20, use_colnames=True)\nsupps","e36495c2":"# olu\u015fan verimizi supporti\u00e7in  azalan de\u011ferlere g\u00f6re s\u0131ralad\u0131k\n\nsupps.sort_values(by = \"support\", ascending = False)","53cf24c8":"conf = association_rules(supps, metric=\"confidence\", min_threshold = 0.15)\nconf.sort_values(by =\"confidence\", ascending = False)","3581dd17":"### Aksiyon Kararlar\u0131\n\n**1-Magg\u0131 & Tea birlikte sat\u0131n al\u0131mlar\u0131, t\u00fcm al\u0131\u015fveri\u015fe oran\u0131 %21. \u0130kisinin birlikte al\u0131m oran\u0131 ise %80**\n\n**2-Suger & Bread birlikte sat\u0131n al\u0131mlar\u0131n\u0131n t\u00fcm al\u0131\u015fveri\u015flere oran\u0131 %21, ikisinin birlikte al\u0131nma oran\u0131 %66**\n\n**3-Suger & Coffee birlikte sat\u0131n al\u0131mlar\u0131n\u0131n t\u00fcm al\u0131\u015fveri\u015flere oran\u0131 %21, ikisinin birlikte al\u0131nma oran\u0131 %66**\n\n**T\u00fcm bunlara ek olarak Bread & Coffe birlikte al\u0131nmam\u0131\u015f. Ayn\u0131 \u015fekilde Magg\u0131 & Bread ikisili de bu listeye girememi\u015f.**\n\n\n**Karar 1 - Magg\u0131 & Tea reyonlar\u0131n\u0131n aras\u0131na 2-3 reyon konularak bu reyonlara Bread, Suger ve Coffee eklenebilir.**\n\n**Karar 2 - Suger & Coffee alanlara Bread indirimli sunulabilir.**"}}