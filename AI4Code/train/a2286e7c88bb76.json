{"cell_type":{"b01811b0":"code","b77aa545":"code","977465a8":"code","a819c004":"code","bac7e599":"code","c1b2854f":"code","ac18bd1c":"code","b90f0da2":"code","eb414ebb":"code","88d008c7":"code","be9df797":"code","62787b8e":"code","97f201ee":"code","c616bfc4":"code","f5b4a921":"code","f8b6c17d":"code","d455eb43":"code","5fbbce9f":"code","ce868919":"code","9d974b8a":"code","8b18c854":"code","21fe909a":"code","72259114":"code","ec67b122":"code","10149ca3":"code","0938ddef":"code","e6fa53f2":"code","75c3c29b":"code","291e8f87":"code","f225c35a":"code","496ad91a":"code","93a54283":"code","9c5ee28f":"markdown","8780e5e3":"markdown","a4584029":"markdown","99c40a6c":"markdown"},"source":{"b01811b0":"import pandas as pd\nimport plotly\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\nimport plotly.graph_objs as go","b77aa545":"df = pd.read_csv('..\/input\/vendas\/tudo.csv')","977465a8":"df.head() ","a819c004":"df.isnull().sum()","bac7e599":"df.groupby('product').price_x.sum().sort_values(ascending=False)[:20]","c1b2854f":"from matplotlib_bar_util import groupby_operation","ac18bd1c":"groupby_operation(df, groupbycolumn='product',\n                    operation_column='price_x',\n                    operation='sum',\n                    title='Produtos de maior receita (20+ frequentes)',\n                    size=20,\n                    height=8,\n                    width=10)","b90f0da2":"groupby_operation(df, groupbycolumn='name',\n                    operation_column='name',\n                    operation='count',\n                    title='Clientes mais frequentes +20)',\n                    size=20,\n                    height=8,\n                    width=10)","eb414ebb":"df['name'].value_counts()","88d008c7":"groupby_operation(df, groupbycolumn='name',\n                    operation_column='quantity',\n                    operation='sum',\n                    title='Clientes compram mais (+20)',\n                    size=20,\n                    height=8,\n                    width=10)","be9df797":"groupby_operation(df, groupbycolumn='name',\n                    operation_column='quantity',\n                    operation='sum',\n                    title='Clientes compram mais produtos (+20)',\n                    size=20,\n                    height=8,\n                    width=10)","62787b8e":"groupby_operation(df, groupbycolumn='name',\n                    operation_column='price_x',\n                    operation='sum',\n                    title='Clientes gastam mais R$ (+20)',\n                    size=20,\n                    height=8,\n                    width=10)","97f201ee":"groupby_operation(df, groupbycolumn='updated_at',\n                    operation_column='created_at',\n                    operation='count',\n                    title='Meses que mais compraram',\n                    size=12,\n                    height=8,\n                    width=10)","c616bfc4":"df['updated_at'] = pd.to_datetime(df.updated_at, utc=True)","f5b4a921":"df.updated_at.max()","f8b6c17d":"df.updated_at.min()","d455eb43":"df.updated_at.mean()","5fbbce9f":"df.head()","ce868919":"df.index = df.updated_at","9d974b8a":"df.head()","8b18c854":"vendas_por_mes = df.groupby([df.index.year, df.index.month]).price_x.sum()","21fe909a":"vendas_por_mes","72259114":"vendas_por_mes.index = pd.Series(vendas_por_mes.index.values).apply(lambda x: str(x[0])+'-'+str(x[1]))","ec67b122":"vendas_por_mes","10149ca3":"layout = dict(title = 'Vendas por m\u00eas',\n              xaxis = dict(title = 'M\u00eas'),\n              yaxis = dict(title = 'Vendas ($)'),\n              )\ndata = [go.Scatter(x=vendas_por_mes.index, y=vendas_por_mes, mode='lines+markers',\n                 marker=dict(color='blue'))]\nfig = dict(data=data, layout=layout)\niplot(fig)","0938ddef":"vendas_por_ano = df.groupby([df.index.year, df.index.year]).price_x.sum()","e6fa53f2":"vendas_por_ano","75c3c29b":"vendas_por_ano.index = pd.Series(vendas_por_ano.index.values).apply(lambda x: str(x[0])+'-'+str(x[1]))","291e8f87":"vendas_por_ano","f225c35a":"layout = dict(title = 'Vendas por ano',\n              xaxis = dict(title = 'Ano'),\n              yaxis = dict(title = 'Vendas ($)'),\n              )\ndata = [go.Scatter(x=vendas_por_ano.index, y=vendas_por_ano, mode='lines+markers',\n                 marker=dict(color='blue'))]\nfig = dict(data=data, layout=layout)\niplot(fig)","496ad91a":"dias = {0: 'Segunda', 1:'Ter\u00e7a', 2:'Quarta', 3:'Quinta', 4:'Sexta', 5:'S\u00e1bado', 6:'Domingo'}","93a54283":"receita_por_dia = df.groupby([df.index.weekday]).price_x.sum()\nlayout = dict(title = \"Vendas por dia da Semana\",\n             xaxis = dict(title = 'Dia da Semana'),\n             yaxis = dict(title = 'Vendas ($)'),\n             )\ndata = [go.Scatter(x=list(map(lambda x: dias[x], receita_por_dia.index)),\n                  y=receita_por_dia, mode='lines+markers',\n                  marker=dict(color='blue'))]\nfig = dict(data=data, layout=layout)\niplot(fig)","9c5ee28f":"## Views with Plotly","8780e5e3":"## Importing the libraries","a4584029":"## Loading the CSV file with our data","99c40a6c":"## exploratory data analysis"}}