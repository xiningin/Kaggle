{"cell_type":{"6508038c":"code","e7aa7b24":"code","7136adbb":"code","29dc4c25":"code","e7929879":"code","e9d36ea5":"code","a8fcb001":"markdown"},"source":{"6508038c":"# Using webdriver_manager to manage the Chrome Driver for Selenium\n!pip install selenium\n!pip install webdriver_manager","e7aa7b24":"import re\nimport pandas as pd\nfrom selenium import webdriver\nfrom webdriver_manager.chrome import ChromeDriverManager\nfrom selenium.common.exceptions import NoSuchElementException","7136adbb":"stars_value = {\n    'c3dn4k c1dtTC' : 0,\n    'c3dn4k c1Zozd' : 0.1,\n    'c3dn4k cbDGcO' : 0.2,\n    'c3dn4k c3fsPU' : 0.3,\n    'c3dn4k c1e2gb' : 0.4,\n    'c3dn4k c3An30' : 0.5,\n    'c3dn4k c3DcGB' : 0.6,\n    'c3dn4k c1wCjy' : 0.7,\n    'c3dn4k c17YMy' : 0.8,\n    'c3dn4k cF1vkb' : 0.9,\n    'c3dn4k c3EEAg' : 1\n}\n\nWeb_Data = pd.DataFrame([],columns=['Name', 'Daraz Mall?', 'Original Price', \n                                 'Discounted Price', 'Rating' ,'Reviews', 'Seller Country'])","29dc4c25":"product = input('Enter Product Name : ').replace(\" \",\"+\")\ndaraz = 'https:\/\/www.daraz.pk\/catalog\/?q={}'.format(product)\nprint('URL : ',daraz,'\\n')\n\nno_of_product = int(input('Enter no.to take Top Level Averages : '))\n\ndriver = webdriver.Chrome(ChromeDriverManager().install())\ndriver.get(daraz)\n\ntotal_sellers = driver.find_element_by_class_name('c1DXz4').text.split(' ')[0]\n\nindex = 0\nfor product in driver.find_elements_by_class_name('c2prKC'):\n    print('*', end = '')\n    name = product.find_element_by_class_name('c16H9d').text\n    prize = int(product.find_element_by_class_name('c3gUW0').text[3:].replace(',',''))\n    country = product.find_element_by_class_name('c2i43-').text\n        \n    rating = 0\n    try:\n        stars = product.find_element_by_class_name('c15YQ9').get_attribute('innerHTML')\n        for s in re.findall('(c3dn4k c.+?)\"', stars):\n            rating += stars_value[s]\n    except NoSuchElementException:\n        rating = 0\n        \n    daraz_mall = 0\n    mall = product.find_element_by_class_name('c3vCyH').get_attribute('innerHTML')\n    if len(mall)>0:\n        daraz_mall = 'Yes'\n    else:\n        daraz_mall = 'No'\n        \n    reviews = 0\n    try:\n        reviews = int(product.find_element_by_class_name('c3XbGJ').text[1:-1])\n    except NoSuchElementException:\n        reviews = 0\n        \n    discount_prize = 0\n    try:\n        discount_prize = int(product.find_element_by_class_name('c1-B2V').text[3:].replace(',',''))\n    except NoSuchElementException:\n        discount_prize = 0\n    \n    if discount_prize==0:\n        Web_Data.loc[index] = [name, daraz_mall, prize, discount_prize, rating, reviews, country]\n    else:\n        Web_Data.loc[index] = [name, daraz_mall, discount_prize, prize, rating, reviews, country]\n    index += 1\n    \nprint('Web Scraping Ended :)')\ndriver.quit()","e7929879":"print(\"Total Seller :\",total_sellers)\nprint(\"Avg Price :\", Web_Data['Original Price'][:no_of_product].mean())\nprint(\"Avg Reviews :\", Web_Data['Reviews'][:no_of_product].mean())\nprint(\"Avg Rating :\", Web_Data['Rating'][:no_of_product].mean())\nprint('Total Product Present in DataFrame : ', Web_Data.shape[0])","e9d36ea5":"Web_Data.head(5)","a8fcb001":"# Web Scraping From Daraz"}}