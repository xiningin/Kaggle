{"cell_type":{"9b9d081c":"code","262de3f1":"code","1124c130":"code","1600ac96":"code","afdfad9c":"code","c3375f05":"code","3f2af60d":"code","3196f380":"code","db244898":"code","9e8c82ba":"markdown","e236b5dc":"markdown","f517ff41":"markdown","6130eda1":"markdown","ea78a4e7":"markdown"},"source":{"9b9d081c":"# imports\nimport numpy as np\nimport pandas as pd","262de3f1":"# dataviz\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\n\n%matplotlib inline\n%config InlineBackend.figure_format = 'svg'","1124c130":"# mpl.rcParams['figure.figsize'] = (12.0, 8.0)","1600ac96":"train = pd.read_csv('..\/input\/ceupe-big-data-analytics\/diamonds_train.csv')\ntest = pd.read_csv('..\/input\/ceupe-big-data-analytics\/diamonds_test.csv')\nsample_sub = pd.read_csv('..\/input\/ceupe-big-data-analytics\/sample_submission.csv')","afdfad9c":"# ejemplo\ntrain['carat'].plot(kind='hist', bins=20, title='histogram', figsize=(10, 7));","c3375f05":"target = 'price'\ncat_features = ['cut', 'color', 'clarity']\nnum_features = ['carat', 'depth', 'table', 'x', 'y', 'z']\n\nfor cat_feat in cat_features:\n    train[cat_feat] = train[cat_feat].astype('category')\n    test[cat_feat] = test[cat_feat].astype('category')\n    \ncat_df = pd.get_dummies(train[cat_features])\nnum_df = train.loc[:,num_features]\ntrain_df = pd.concat([cat_df, num_df], axis=1)\n\ncat_df = pd.get_dummies(test[cat_features])\nnum_df = test.loc[:,num_features]\ntest_df = pd.concat([cat_df, num_df], axis=1)\n\n\nfeatures = list(cat_df.columns) + list(num_df.columns)","3f2af60d":"from sklearn.preprocessing import StandardScaler\nscaler = StandardScaler()\nX = scaler.fit_transform(train_df.loc[:,features].values)\ny = train[target]","3196f380":"from sklearn.linear_model import LinearRegression\nmodel = LinearRegression()\nmodel.fit(X=X, y=y)","db244898":"X_test = scaler.transform(test_df.loc[:,features].values)\ny_hat = model.predict(X_test).clip(0, 30000)\nsubmission = pd.DataFrame({'id': test['id'], 'price': y_hat})\nsubmission.to_csv('submission.csv', index=False)","9e8c82ba":"## data loading","e236b5dc":"## exploratory data analysis (eda)","f517ff41":"## python imports & setup","6130eda1":"## modeling (linear regression baseline)","ea78a4e7":"## make submission"}}