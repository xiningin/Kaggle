{"cell_type":{"2e5cd938":"code","5dd9d865":"code","93bd1a0b":"code","ff50a9ca":"code","8ba6c037":"code","4a2d3bf9":"code","8c31a80b":"code","a0145ea7":"code","3208a3ff":"code","b47d6f34":"code","55eb9f63":"code","bd5b66db":"code","17b52f62":"code","3996cf4c":"code","e3fedd62":"code","c3582c64":"code","5c2cfe6e":"code","68837ee8":"code","22e20870":"code","a2f6582f":"code","c1874728":"code","f2550b65":"code","ebd200d4":"code","3a418c2e":"code","23ee9526":"code","37588827":"markdown","b6a3b362":"markdown","08811a1a":"markdown","9c368dab":"markdown","f2fb4c6d":"markdown","ab4b9c12":"markdown","2895540a":"markdown","df9ca79b":"markdown","904cf7aa":"markdown","00eb95f0":"markdown","62d6da9d":"markdown","2bcd8d83":"markdown","1b3cdebf":"markdown","ee22aaa7":"markdown"},"source":{"2e5cd938":"%pylab inline\nimport pandas as pd\nimport seaborn as sns","5dd9d865":"uber_data = pd.read_csv('..\/input\/uber-pickups-in-new-york-city\/uber-raw-data-aug14.csv')","93bd1a0b":"uber_data.head()","ff50a9ca":"uber_data['Date\/Time']=uber_data['Date\/Time'].map(pd.to_datetime)","8ba6c037":"uber_data.head()","4a2d3bf9":"uber_data.info()","8c31a80b":"uber_data['Day'] = uber_data['Date\/Time'].apply(lambda x: x.day)","a0145ea7":"uber_data['WeekDay'] = uber_data['Date\/Time'].apply(lambda x: x.weekday())","3208a3ff":"uber_data['hour'] = uber_data['Date\/Time'].apply(lambda x: x.hour)","b47d6f34":"uber_data.tail()","55eb9f63":"\nplt.figure(figsize=(10,6))\nuber_data['Day'].hist(bins=30,rwidth=0.9,range=(0.5,30.5))\nplt.xlabel('Day of Month')\nplt.ylabel('frequency')\nplt.title('Uber - Daily Frequency - Aug 2014')","bd5b66db":"for x,rows in uber_data.groupby('Day'):\n    print((x,len(rows)))","17b52f62":"## This is not so useful so we will write a function instead. A simple lambda func will do.","3996cf4c":"by_date = uber_data.groupby('Day').apply(lambda x: len(x))","e3fedd62":"by_date","c3582c64":"plt.figure(figsize=(10,6))\nby_date.plot()","5c2cfe6e":"by_date_sorted= by_date.sort_values()\nby_date_sorted","68837ee8":"plt.figure(figsize=(10,6))\nbar(range(0,31),by_date_sorted)\nplt.xlabel('Day of Month')\nplt.ylabel('frequency')\nplt.title('Uber - Daily Frequency - Aug 2014')\nxticks(range(1,31),by_date_sorted.index)","22e20870":"plt.figure(figsize=(10,6))\n\nuber_data.hour.hist(bins=24, range=(0,25))","a2f6582f":"by_hour = uber_data.groupby('hour').apply(lambda x: len(x))\nby_hour_sorted = by_hour.sort_values()\n\n\nplt.figure(figsize=(10,6))\nbar(range(0,24),by_hour_sorted)\nplt.xlabel('Hour of Day')\nplt.ylabel('Frequency')\nplt.title('Uber - Hourly - Thru Aug 2014')\nxticks(range(0,24),by_hour_sorted.index)\n","c1874728":"plt.figure(figsize=(10,6))\n\nhist(uber_data.WeekDay, bins=7,range=(-0.5,6.5),rwidth=0.8)\nxticks(range(7),['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'])\n","f2550b65":"by_hour_week = uber_data.groupby(['WeekDay','hour']).apply(lambda x: len(x))\n\nby_hour_weeek = by_hour_week.unstack()\n\n\n\nby_hour_weeek","ebd200d4":"plt.figure(figsize=(10,6))\n\ncmap = sns.cm.rocket_r\n\nsns.heatmap(by_hour_weeek, annot=False, cmap=cmap)","3a418c2e":"print(uber_data['Lon'].max())\nprint(uber_data['Lon'].min())\nprint(uber_data['Lat'].max())\nprint(uber_data['Lat'].min())","23ee9526":"plt.figure(figsize=(25,15))\n\n\nplot(uber_data['Lon'], uber_data['Lat'], '.', ms=0.5)\nxlim(-74.2, -73.7)\nylim(40.7,41)\n","37588827":"## Analysis of Weekday","b6a3b362":"## Loading data","08811a1a":"## Cross Analysis of WeekDay and Hour ","9c368dab":"The heatmap indicates that morning and afternoon hours are the most busiest as expected. People often use Uber as an alternative to public transportation while going\/getting out of work.\n\n\nHowever, it is interesting to see that people use Uber Friday afternoons more than they do on normal weekdays. Also, early mornings on weekends are busy among busiest time periods, indicating that people often use Uber to get out.","f2fb4c6d":"## Analysis of Day of Month","ab4b9c12":"As the analysis shows, New Yorkers take Uber on Fridays most. This is just for the month in question which is August, 2014.","2895540a":"As the built-in plot shows that almost all Uber trips originate in Manhattan region.","df9ca79b":"## Converting date column to datetime","904cf7aa":"## Analysis of Location data points","00eb95f0":"## Let's take day of month and create a column out of it","62d6da9d":"## Analysis of Hour","2bcd8d83":"As seen in the table, the busiest time of the day is 5 to 6 pm, which is the rush hour after work.","1b3cdebf":"## We got all we need in terms of additioanal features. So, let's start basic analysis.","ee22aaa7":"As we see in the barplot above, the first day of August was the busiest for Uber trips. The 21st day was the runner-up. Maybe, there is a weekly trend. We'll explore that as we move along in the analysis."}}