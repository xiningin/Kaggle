{"cell_type":{"f18f3b2d":"code","946de034":"code","5b17ed44":"code","3a886123":"code","7e4c4a6c":"code","98adf046":"code","b789a11c":"code","4c267ede":"code","bd5d8876":"code","ffbe0713":"code","5995397b":"code","0f9cd39c":"code","13e87321":"code","3db643e9":"code","d082b0aa":"code","ab0203e6":"code","bc76ce08":"code","56268bf0":"code","8e9ee607":"code","a12df606":"code","a9a4c1ab":"code","42ee330e":"code","9bb3ee8d":"code","1d1e6ab7":"markdown","748330a8":"markdown","c4f53ca9":"markdown","be2c7eb2":"markdown","8b930f54":"markdown","bdd19775":"markdown","12579db2":"markdown","849625b0":"markdown","7bc9b610":"markdown","1ebd4703":"markdown","0fa57bf5":"markdown","612b339b":"markdown","105e14ea":"markdown","a3c42ab9":"markdown","32d386b0":"markdown","a1a6a00e":"markdown","e1ba421e":"markdown","52265352":"markdown","0b8387a3":"markdown","586935e0":"markdown","e746c81d":"markdown","c50ca49b":"markdown","2b2ab6be":"markdown","8c697dba":"markdown","2fce05ce":"markdown","08445c82":"markdown"},"source":{"f18f3b2d":"import numpy as np\nimport pandas as pd\nfrom pandas import DataFrame\n\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator \n\nimport matplotlib.pyplot as plt\nfrom matplotlib import rcParams\nimport seaborn as sb\n\n%matplotlib inline\nrcParams['figure.figsize'] = 8, 6\nsb.set()","946de034":"# Read in dataset\n\nvids = pd.read_csv('..\/input\/youtube-new\/USvideos.csv')\n\n# Add category names\nvids['category'] = np.nan\n\nvids.loc[(vids[\"category_id\"] == 1),\"category\"] = 'Film & Animation'\nvids.loc[(vids[\"category_id\"] == 2),\"category\"] = 'Autos & Vehicles'\nvids.loc[(vids[\"category_id\"] == 10),\"category\"] = 'Music'\nvids.loc[(vids[\"category_id\"] == 15),\"category\"] = 'Pets & Animals'\nvids.loc[(vids[\"category_id\"] == 17),\"category\"] = 'Sports'\nvids.loc[(vids[\"category_id\"] == 19),\"category\"] = 'Travel & Events'\nvids.loc[(vids[\"category_id\"] == 20),\"category\"] = 'Gaming'\nvids.loc[(vids[\"category_id\"] == 22),\"category\"] = 'People & Blogs'\nvids.loc[(vids[\"category_id\"] == 23),\"category\"] = 'Comedy'\nvids.loc[(vids[\"category_id\"] == 24),\"category\"] = 'Entertainment'\nvids.loc[(vids[\"category_id\"] == 25),\"category\"] = 'News & Politics'\nvids.loc[(vids[\"category_id\"] == 26),\"category\"] = 'How-To & Style'\nvids.loc[(vids[\"category_id\"] == 27),\"category\"] = 'Education'\nvids.loc[(vids[\"category_id\"] == 28),\"category\"] = 'Science & Technology'\nvids.loc[(vids[\"category_id\"] == 29),\"category\"] = 'Nonprofits & Activism'\n\n# Add like, dislike, commment ratios\nvids['like_pct'] = vids['likes'] \/ (vids['dislikes'] + vids['likes']) * 100\nvids['dislike_pct'] = vids['dislikes'] \/ (vids['dislikes'] + vids['likes']) * 100\nvids['comment_pct'] = vids['comment_count'] \/ vids['views'] * 100\n\n# Order by Views\nvids.sort_values('views', ascending = False, inplace = True)\n\n# Remove Duplicate Videos\nvids.drop_duplicates(subset = 'video_id', keep = 'first', inplace = True)","5b17ed44":"vids.head()","3a886123":"pd.options.display.float_format = \"{:,.0f}\".format\nvids.describe().iloc[:,1:5]","7e4c4a6c":"pd.options.display.float_format = \"{:,.2f}\".format\n\ntop10_vids = vids.nlargest(10, 'views')\ndisplay(top10_vids.iloc[:, [2,3,7,16]])","98adf046":"top10_vids = vids.nlargest(10, 'likes')\ntop10_vids.iloc[:, [2,3,7,8,17,16]]","b789a11c":"top10_vids = vids.nlargest(10, 'dislikes')\ntop10_vids.iloc[:, [2,3,7,9,18,16]]","4c267ede":"top10_vids = vids.nlargest(10, 'comment_count')\ntop10_vids.iloc[:, [2,3,7,10,19,16]]","bd5d8876":"corr = vids[['views', 'likes', 'dislikes', 'comment_count', 'like_pct', 'dislike_pct', 'comment_pct']].corr()\nsb.heatmap(corr, annot = True, fmt = '.2f', center = 1)\nplt.show()","ffbe0713":"bot10_vids = vids.nsmallest(10, 'views')\nbot10_vids.iloc[:, [2,3,7,8,9,10,16]]","5995397b":"top10_chan = vids['channel_title'].value_counts()\ntop10_chan = top10_chan[1:10].to_frame()\ntop10_chan.columns = ['number of videos']\n\ntop10_chan","0f9cd39c":"categories = vids['category'].value_counts().to_frame()\ncategories['index'] = categories.index\ncategories.columns = ['count', 'category']\ncategories.sort_values('count', ascending = True, inplace = True)\n\nplt.barh(categories['category'], categories['count'], color='#007ACC')\nplt.xlabel('Count')\nplt.title('Number of Trending Videos Per Category')\nplt.show()","13e87321":"vids_cat = vids[['category','views', 'likes', 'dislikes', 'comment_count', 'like_pct', 'dislike_pct', 'comment_pct']]\nvids_cat_groups = vids_cat.groupby(vids_cat['category'])\nvids_cat_groups = vids_cat_groups.mean()\nvids_cat_groups['category'] = categories.index\n\nvids_cat_groups.sort_values('views', ascending = True, inplace = True)\nplt.barh(vids_cat_groups['category'], vids_cat_groups['views'], color='#007ACC')\nplt.xlabel('Average # Views')\nplt.title('Average Number of Views Per Video By Category')\nplt.show()","3db643e9":"vids_cat_groups.sort_values('comment_count', ascending = True, inplace = True)\nplt.barh(vids_cat_groups['category'], vids_cat_groups['comment_count'], color='#007ACC')\nplt.xlabel('Average # Comments')\nplt.title('Average Number of Comments Per Video By Category')\nplt.show()","d082b0aa":"vids_cat_groups.sort_values('likes', ascending = True, inplace = True)\nplt.barh(vids_cat_groups['category'], vids_cat_groups['likes'], color='#007ACC')\nplt.xlabel('Average # Likes')\nplt.title('Average Number of Likes Per Video By Category')\nplt.show()","ab0203e6":"vids_cat_groups.sort_values('dislikes', ascending = True, inplace = True)\nplt.barh(vids_cat_groups['category'], vids_cat_groups['dislikes'], color='#007ACC')\nplt.xlabel('Average # Dislikes')\nplt.title('Average Number of Dislikes Per Video By Category')\nplt.show()","bc76ce08":"plt.figure(figsize = (16, 10))\n\nsb.boxplot(x = 'category', y = 'like_pct', data = vids, palette = 'Pastel1')\nplt.xticks(rotation=45)\nplt.xlabel('')\nplt.ylabel('% Likes', fontsize = 14)\nplt.title('Boxplot of % Likes on a Video By Category', fontsize = 16)\nplt.show()","56268bf0":"plt.figure(figsize = (16, 10))\n\nsb.boxplot(x = 'category', y = 'dislike_pct', data = vids, palette = 'Pastel1')\nplt.xticks(rotation=45)\nplt.xlabel('')\nplt.ylabel('% Likes', fontsize = 14)\nplt.title('Boxplot of % Dislikes on a Video By Category', fontsize = 16)\nplt.show()","8e9ee607":"plt.figure(figsize = (16, 10))\n\nsb.boxplot(x = 'category', y = 'comment_pct', data = vids, palette = 'Pastel1')\nplt.xticks(rotation=45)\nplt.xlabel('')\nplt.ylabel('% Comments', fontsize = 14)\nplt.title('Boxplot of % Comments on a Video By Category', fontsize = 16)\nplt.show()","a12df606":"text = \" \".join(title for title in vids.title)\n# print(\"{} words total\".format(len(text)))\n\nplt.figure(figsize = (10, 12))\ntitle_cloud = WordCloud(background_color = \"white\").generate(text)\nplt.imshow(title_cloud, interpolation = 'bilinear')\nplt.axis('off')\nplt.show()","a9a4c1ab":"text = \" \".join(tags for tags in vids.tags)\n# print(\"{} words total\".format(len(text)))\n\nplt.figure(figsize = (10, 12))\ntag_cloud = WordCloud(background_color = \"white\").generate(text)\nplt.imshow(tag_cloud, interpolation = 'bilinear')\nplt.axis('off')\nplt.show()","42ee330e":"from datetime import datetime\n\n# Reformat publish_time\nvids['publish_time'] = vids['publish_time'].str[:10]\n\n# Reformat trending_date\nyear = vids['trending_date'].str[:2]\nmonth = vids['trending_date'].str[-2:]\ndate = vids['trending_date'].str[:-3].str[3:]\nvids['trending_date'] = '20' + year + '-' + month + '-' + date\n\nvids['publish_time'] = pd.to_datetime(vids['publish_time'])\nvids['trending_date'] = pd.to_datetime(vids['trending_date'])\nvids['publish_trend_lag'] = vids['trending_date'] - vids['publish_time']","9bb3ee8d":"timehist = plt.hist(vids['publish_trend_lag'].dt.days, bins = 30, range = (0, 30))\nplt.xlabel('Days')\nplt.title('Number of Days Between Video Publishing Date and Trending Date')\nplt.xticks(np.arange(0, 30, 3))\nplt.show()","1d1e6ab7":"The average number of views for a trending video was ~2M, with a standard deviation of ~7M. Interestingly, the minimum number of views was 559 and the maximum was ~225M. This is a pretty broad range. Makes you wonder how YouTube selects which videos are trending. It doesn't really make sense to me that there is a video with 0 likes, dislikes, and comments that is trending.\n\nI'd like now to see the Top 10 Videos by Views, Likes, Dislikes, and Comments.","748330a8":"Movie trailers and music videos seem particularly popular.","c4f53ca9":"#### Thank you!\n\nHope this was an enjoyable read.","be2c7eb2":"### Distributions Per Category","8b930f54":"Videos tend to trend within a week of publication, and never on the day-of. As time passes past the publication date, we see it is increasingly rare for a video to start trending.","bdd19775":"## Reading and Cleaning Data","12579db2":"## Title Wordcloud","849625b0":"### Bottom 10 Videos by Views\n\nI'm curious what the trending videos with low views actually are. Seeing below, it appears that they are pretty randomly assorted. Not sure why they are on the trending list, and YouTube is decidedly not transparent with its algorithm. Perhaps they are getting a high ratio of shares?","7bc9b610":"### Top 10 Videos\n#### Top 10 Videos By Views","1ebd4703":"## Category Analysis","0fa57bf5":"# Exploring Trending Youtube Video Statistics for the U.S.\n\nGrowing up watching YouTube shaped a lot of my interests and humor. I still remember the early days when nigahiga's How To Be Gangster and ALL YOUR BASE ARE BELONG TO US was peak comedy. So I thought it would be fun to see the state of YouTube and what's popular now.","612b339b":"Funny videos, talk shows, movies, and Star Wars in particular are notable tags.","105e14ea":"### Correlation Heatmap","a3c42ab9":"#### Top 10 Videos By Dislikes","32d386b0":"## Loading Libraries","a1a6a00e":"#### Top 10 Videos By Comments","e1ba421e":"## Tags Wordcloud","52265352":"## Time Trends","0b8387a3":"Reading this heatmap, we note that views has a high correlation with likes -- not so much dislikes. Comment_count and likes\/dislikes have strong correlation as well, but comment_count does not have a particularly strong correlation with views.","586935e0":"Unsurprisingly, News & Politics is the most controversial category, with a higher median and larger spread of dislikes\/likes. Along with Gaming, it is also more frequently commented on.","e746c81d":"## Summary Statistics and Top Trending","c50ca49b":"When it comes to averages, People & Blogs and Science & Technology contend for the highest enagement levels, swapping for spot 1 and 2 for highest average number of likes, dislikes, and comments.","2b2ab6be":"### Top 10 Channels\n\nLet's take a look at the top 10 channels that appear the most frequently on the trending videos list. They're comprised of late night shows and channels otherwise run by companies, not individual YouTubers.","8c697dba":"#### Top 10 Videos By Likes","2fce05ce":"After removing videos with the same id, we see there are now only 6,351 videos to analyze. These 6,351 videos should reflect the row with the highest view count for the video.\n\nI also created the variables like_pct, dislike_pct, and comment_pct. Like_pct and dislike_pct are calculated as the ratio of likes\/dislikes relating to the total number of likes\/dislikes on the video. Comment_pct is the the % of comments left on the video relative to the total number of views. I thought that these ratios were more intuitive, rather than having every one relating to the total number of views.","08445c82":"### Averages Per Category"}}