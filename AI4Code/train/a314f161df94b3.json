{"cell_type":{"4df8b1e3":"code","09c52d58":"code","4c27128d":"code","a67582a8":"code","1599cecd":"code","766ffa36":"code","2cd57284":"code","5cf7b6df":"code","efbf3a2a":"code","cf42ca1b":"code","5a9d0d4b":"code","b51a3014":"code","14b241f9":"code","e6f70e8f":"code","096c4547":"code","06a57005":"code","32a5f291":"code","7e013ff0":"code","cc15a0b3":"code","5f61710d":"code","0214ca47":"code","a25c2e76":"code","42cdd6f3":"code","c809b9c6":"code","dc5573b9":"code","b7d7d957":"code","bd03122f":"code","b538887e":"code","3c476769":"code","732cb35b":"code","232c68ec":"code","2959ec4c":"code","856a25b5":"code","b4e60629":"code","73ae9fe3":"code","66389226":"code","bb05c98f":"code","96a8e7f7":"code","fd4901f6":"code","91f1dff0":"code","3aab7a67":"code","a76a78da":"code","3e4af0ae":"code","622fcbf7":"markdown","99f4b44a":"markdown","2e3f8499":"markdown","edafb44a":"markdown"},"source":{"4df8b1e3":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nprint('Priyatama is ready!')","09c52d58":"data = pd.read_csv('..\/input\/loan-approval-systemlas\/clientes.csv')\ndata.head()","4c27128d":"data.rename(columns={'cod_cliente': 'Client','sexo': 'Sex', 'estado_civil':'Married', \n                     'dependentes':'Dependents', 'educacao':'Education','empregado':'Employee',\n                     'renda':'Income','renda_conjuge':'Spouse_Income','emprestimo':'Loan_Amount',\n                     'prestacao_mensal':'Monthly_EMI','historico_credito':'Historical_Credit',\n                     'imovel':'Area','aprovacao_emprestimo':'Approval'}, inplace = True)\ndata.columns","a67582a8":"data.shape","1599cecd":"sns.heatmap(data.isnull())","766ffa36":"data.isnull().sum()","2cd57284":"data.dropna(axis=0, how=\"any\", inplace=True)","5cf7b6df":"data.isnull().sum().sum()","efbf3a2a":"data.shape","cf42ca1b":"data.head(3)","5a9d0d4b":"fig0, ax = plt.subplots(figsize=(5,5))\nsplot0 =sns.countplot(data=data, hue='Approval',x='Education', palette='viridis')\nfor p in splot0.patches:\n    splot0.annotate(format(round(p.get_height()), '.0f'), \n                   (p.get_x() + p.get_width() \/ 2., p.get_height()), \n                   ha = 'center', va = 'center', \n                   size=10,\n                   xytext = (0, -12), \n                   textcoords = 'offset points')\nplt.xlabel('Education Level', fontsize=10, fontweight='bold')\nplt.ylabel('Approvals', fontsize=10, fontweight='bold')\nplt.title('Approval based on Education Levels', fontsize=15, fontweight='bold')","b51a3014":"fig1, ax = plt.subplots(figsize=(5,5))\nsplot1 =sns.barplot(data=data, hue='Sex',x='Approval',y='Loan_Amount', palette='viridis', estimator=sum,ci=None)\nfor p in splot1.patches:\n    splot1.annotate(format(round(p.get_height()), '.0f'), \n                   (p.get_x() + p.get_width() \/ 2., p.get_height()), \n                   ha = 'center', va = 'center', \n                   size=10,\n                   xytext = (0, -12), \n                   textcoords = 'offset points')\nplt.xlabel('Approvals', fontsize=10, fontweight='bold')\nplt.ylabel('Loan Amount', fontsize=10, fontweight='bold')\nplt.title('Loan Amounts V\/s Approvals', fontsize=15, fontweight='bold')","14b241f9":"data.rename(columns={'Sex': 'Male','Education':'Graduation'}, inplace = True)\ndata.columns","e6f70e8f":"data.Male.value_counts().to_frame()","096c4547":"data['Male'] = data['Male'].replace({'Male': 1,'Female':0})","06a57005":"data.Married.value_counts().to_frame()","32a5f291":"data['Married'] = data['Married'].replace({'Yes': 1,'No':0})","7e013ff0":"data.head(2)","cc15a0b3":"data.Dependents.value_counts().to_frame()","5f61710d":"data['Dependents']=data['Dependents'].replace({'3+':3})","0214ca47":"data['Dependents']=data['Dependents'].astype(int)","a25c2e76":"data.Graduation.value_counts().to_frame()","42cdd6f3":"data['Graduation']=data['Graduation'].replace({'Graduate':1, 'Not Graduate':0})","c809b9c6":"data.Employee.value_counts().to_frame()","dc5573b9":"data['Employee']=data['Employee'].replace({'Yes':1, 'No':0})","b7d7d957":"data.Area.value_counts().plot(kind='barh')","bd03122f":"dummies0=pd.get_dummies(data.Area)","b538887e":"data= pd.concat([data,dummies0], axis='columns')\ndata.drop(['Area','Rural'],axis=1, inplace=True)","3c476769":"data.dtypes","732cb35b":"data['Semiurban']=data['Semiurban'].astype(int)\ndata['Urban']=data['Urban'].astype(int)","232c68ec":"data['Spouse_Income'].unique()","2959ec4c":"data = data[data.Spouse_Income != '9.857.999.878']\ndata = data[data.Spouse_Income != '1.612.000.084']","856a25b5":"data['Spouse_Income']=data['Spouse_Income'].astype(int)","b4e60629":"data.Approval.unique()","73ae9fe3":"data['Approval']=data['Approval'].replace({'Y':1, 'N':0})","66389226":"data.head()","bb05c98f":"x=data.drop({'Client','Approval'}, axis='columns')\ny=data['Approval']","96a8e7f7":"from sklearn.model_selection import cross_val_score\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.model_selection import train_test_split","fd4901f6":"from sklearn.model_selection import cross_val_score","91f1dff0":"clf0 = LogisticRegression(C=5,solver = 'liblinear')\nscores = cross_val_score(clf0, x, y, cv=10)\nprint(\"%0.2f accuracy with a standard deviation of %0.2f\" % (scores.mean()*100, scores.std()))","3aab7a67":"x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.25, random_state=9)","a76a78da":"clf0.fit(x_train,y_train)\nclf0.score(x_test,y_test)","3e4af0ae":"clf0.fit(x_train,y_train)\nPkl_Filename = \"Loan Approval System.pkl\"  \nimport pickle\nwith open(Pkl_Filename, 'wb') as file:  \n    pickle.dump(clf0, file)\nprint(\"Task Completed successfully, let Priyatama rest now!\")","622fcbf7":"# Saving the model as a Pickle file.","99f4b44a":"# EDA & Data Cleaning!","2e3f8499":"# Feature Engineering","edafb44a":"# Model designing"}}