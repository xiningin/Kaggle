{"cell_type":{"40daf7f0":"code","d7a554d3":"code","6eabc490":"code","8f561877":"code","f415b6b4":"code","c62f1236":"code","07da6a0e":"code","000b9891":"code","51c7b2f5":"code","abbd2e3e":"code","75d410d3":"code","e5656fb7":"code","b59533de":"code","a276f608":"code","89c993d2":"code","59ad8fcc":"code","e4127036":"code","5a9467c5":"code","c4fa46e8":"code","0df7f38e":"code","f2db8105":"code","1cfc7c23":"code","f0e0bde8":"code","c6ee0ee8":"code","28ed4aa1":"code","7a2895cb":"markdown","f5ea16c7":"markdown","003a9011":"markdown","9632c3c3":"markdown","22dae5b7":"markdown","ab742f57":"markdown","6b34e058":"markdown","74a3ec1d":"markdown","e45e12f4":"markdown","70943dec":"markdown","795501d5":"markdown","46acea88":"markdown","dd2e173c":"markdown","53a98c92":"markdown","43c31042":"markdown"},"source":{"40daf7f0":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport cv2\n\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","d7a554d3":"# Import Python Packages\n# PyTesseract and Tika-Python for OCR\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport shutil\nimport PIL\nimport os\nfrom os import walk\nfrom shutil import copytree, ignore_patterns\nfrom collections import Counter\nfrom nltk.corpus import stopwords\nfrom wordcloud import WordCloud, STOPWORDS\nfrom PIL import Image\nfrom wand.image import Image as Img\npd.set_option('display.max_columns', 500)\npd.set_option('display.max_colwidth', 500)\n#mueller_report = pd.read_csv('..\/input\/data-science-cheat-sheets\/Interview Questions\/AI Questions.pdf') # one row per line","6eabc490":"# Define helper function for plotting word clouds\ndef wordCloudFunction(df,column,numWords):\n    # adapted from https:\/\/www.kaggle.com\/benhamner\/most-common-forum-topic-words\n    topic_words = [ z.lower() for y in\n                       [ x.split() for x in df[column] if isinstance(x, str)]\n                       for z in y]\n    word_count_dict = dict(Counter(topic_words))\n    popular_words = sorted(word_count_dict, key = word_count_dict.get, reverse = True)\n    popular_words_nonstop = [w for w in popular_words if w not in stopwords.words(\"english\")]\n    word_string=str(popular_words_nonstop)\n    wordcloud = WordCloud(stopwords=STOPWORDS,\n                          background_color='white',\n                          max_words=numWords,\n                          width=1000,height=1000,\n                         ).generate(word_string)\n    plt.clf()\n    plt.imshow(wordcloud)\n    plt.axis('off')\n    plt.show()","8f561877":"# Define helper function for plotting word bar graphs\ndef wordBarGraphFunction(df,column,title):\n    # adapted from https:\/\/www.kaggle.com\/benhamner\/most-common-forum-topic-words\n    topic_words = [ z.lower() for y in\n                       [ x.split() for x in df[column] if isinstance(x, str)]\n                       for z in y]\n    word_count_dict = dict(Counter(topic_words))\n    popular_words = sorted(word_count_dict, key = word_count_dict.get, reverse = True)\n    popular_words_nonstop = [w for w in popular_words if w not in stopwords.words(\"english\")]\n    plt.barh(range(50), [word_count_dict[w] for w in reversed(popular_words_nonstop[0:50])])\n    plt.yticks([x + 0.5 for x in range(50)], reversed(popular_words_nonstop[0:50]))\n    plt.title(title)\n    plt.show()","f415b6b4":"# Preview the data folder\ninputFolder = '..\/input\/'\nfor root, directories, filenames in os.walk(inputFolder):\n    for filename in filenames: \n        print(os.path.join(root,filename))\n        \n# Move data to folder with read\/write access\noutputFolder = '\/kaggle\/working\/pdfs\/'\nshutil.copytree(inputFolder,outputFolder,ignore=ignore_patterns('*.db'))\nfor root, directories, filenames in os.walk(outputFolder, topdown=False):\n    for file in filenames:\n        try:\n            shutil.move(os.path.join(root, file), outputFolder)\n        except OSError:\n            pass\nprint(os.listdir(outputFolder))","c62f1236":"# Look at page 5\npdf = os.path.join(outputFolder,'rr4504.PDF[9]')\nwith Img(filename=pdf, resolution=300) as img:\n    img.compression_quality = 99\n    img.convert(\"RGBA\").save(filename='\/kaggle\/working\/rr4504.jpg') # intro page to preview later","07da6a0e":"# Parse a PDF file and convert it to CSV using PyTesseract\nimport pytesseract\npdfimage = Image.open('\/kaggle\/working\/rr4504.jpg')\ntext = pytesseract.image_to_string(pdfimage)  \ndf = pd.DataFrame([text.split('\\n')])","000b9891":"# Plot WordCloud of page 5\nplt.figure(figsize=(10,10))\nwordCloudFunction(df.T,0,10000000)\nplt.figure(figsize=(10,10))\nwordBarGraphFunction(df.T,0,\"Most Common Words on Page 9 of rr4504\")","51c7b2f5":"# Parse a PDF file and convert it to CSV using Tika-Python\n!pip install tika\nimport tika\nfrom tika import parser\ntika.initVM()\nparsed = parser.from_file('\/kaggle\/working\/rr4504.jpg') \ntext = parsed[\"content\"]\ndf = pd.DataFrame([text.split('\\n')])\ndf.drop(df.iloc[:, 1:46], inplace=True, axis=1)","abbd2e3e":"# Convert PDF to JPG and then convert JPG to CSV\n# I will do this for Pages 289 to 291 but\n# Eventually I should loop through the entire document\n\n# PDF to JPG for p9\npdf = os.path.join(outputFolder,'rr4504.PDF[9]')\nwith Img(filename=pdf, resolution=300) as img:\n    img.compression_quality = 99\n    img.convert(\"RGBA\").save(filename='\/kaggle\/working\/rr4504.jpg')\npdfimage9 = Image.open('\/kaggle\/working\/rr4504.jpg')","75d410d3":"# PDF to JPG for p7\npdf = os.path.join(outputFolder,'rr4504.PDF[11]')\nwith Img(filename=pdf, resolution=300) as img:\n    img.compression_quality = 99\n    img.convert(\"RGBA\").save(filename='\/kaggle\/working\/rr4504.jpg')\npdfimage11 = Image.open('\/kaggle\/working\/rr4504.jpg')\n\n# PDF to JPG for p8\npdf = os.path.join(outputFolder,'rr4504.PDF[13]')\nwith Img(filename=pdf, resolution=300) as img:\n    img.compression_quality = 99\n    img.convert(\"RGBA\").save(filename='\/kaggle\/working\/rr4504.jpg')\npdfimage13 = Image.open('\/kaggle\/working\/rr4504.jpg')","e5656fb7":"# Parse a PDF file and convert it to CSV using PyTesseract (p9)\ntext = pytesseract.image_to_string(pdfimage9)\ndf = pd.DataFrame([text.split('\\n')])\ndf.drop(df.iloc[:, 27:], inplace=True, axis=1)\ndf.drop(df.iloc[:, :3], inplace=True, axis=1)\ndf.columns = range(df.shape[1])","b59533de":"# Parse a PDF file and convert it to CSV using Tika-Python (p290-291)\ntika.initVM()\nparsed = parser.from_file('\/kaggle\/working\/rr4504.jpg')\nparsed2 = parser.from_file('\/kaggle\/working\/rr4504.jpg')\n\ntext = parsed[\"content\"]\ndf2 = pd.DataFrame([text.split('\\n')])\ndf2.drop(df2.iloc[:, 1:50], inplace=True, axis=1)\ndf2.drop(df2.iloc[:, 26:], inplace=True, axis=1)\ndf2.columns = range(df2.shape[1])\n\ntext = parsed2[\"content\"]\ndf3 = pd.DataFrame([text.split('\\n')])\ndf3.drop(df3.iloc[:, :50], inplace=True, axis=1)\ndf3.drop(df3.iloc[:, 22:], inplace=True, axis=1)\ndf3.columns = range(df3.shape[1])\n\ndfcombined = pd.concat([df, df2, df3]) # combine pages 289-291","a276f608":"#Explore page 3 - Mueller Report. Here I don't know how many pages each Cheat Sheet. There are 30 pages \nw, h = pdfimage13.size # crop image\npdfimage13.crop((0, 1240, w, h-1300)) # display exerpt of PDF","89c993d2":"# Convert PDF to JPG and then convert JPG to CSV\n# I will do this for Pages 289 to 291 but\n# Eventually I should loop through the entire document\n\n# PDF to JPG for p5\npdf = os.path.join(outputFolder,'rr4504.PDF[15]')\nwith Img(filename=pdf, resolution=300) as img:\n    img.compression_quality = 99\n    img.convert(\"RGBA\").save(filename='\/kaggle\/working\/rr4504.jpg')\npdfimage15 = Image.open('\/kaggle\/working\/rr4504.jpg')","59ad8fcc":"#Explore page 15 - Mueller Report. Here I don't know how many pages each Cheat Sheet. There are 30 pages \nw, h = pdfimage15.size # crop image\npdfimage15.crop((0, 1240, w, h-1300)) # display exerpt of PDF","e4127036":"# Pages 2, 3 and 8\ndfcombined.head() # preview csv of 289-291","5a9467c5":"# Clean up the notebook\n!apt-get install zip # install zip\n!zip -r pdfs.zip \/kaggle\/working\/pdfs\/ # zip up a few files\n!rm -rf pdfs\/* # remove everything else","c4fa46e8":"ls ..\/input\/hackathon\/task_1-google_search_txt_files_v2\/SZ\/","0df7f38e":"Eswatini= '..\/input\/hackathon\/task_1-google_search_txt_files_v2\/SZ\/Eswatini-en-result-109-original.txt'","f2db8105":"text = open(Eswatini, 'r',encoding='utf-8',\n                 errors='ignore').read()","1cfc7c23":"print(text[:2000])","f0e0bde8":"df1 = pd.read_csv('..\/input\/hackathon\/BCG_country_data.csv')\ndf1.head()","c6ee0ee8":"swaziland = df1[(df1['country_name']=='Eswatini')].reset_index(drop=True)\nswaziland.head()","28ed4aa1":"#word cloud\nfrom wordcloud import WordCloud, ImageColorGenerator\ntext = \" \".join(str(each) for each in swaziland.country_name)\n# Create and generate a word cloud image:\nwordcloud = WordCloud(max_words=200,colormap='Set2', background_color=\"black\").generate(text)\nplt.figure(figsize=(10,6))\nplt.figure(figsize=(15,10))\n# Display the generated image:\nplt.imshow(wordcloud, interpolation='Bilinear')\nplt.axis(\"off\")\nplt.figure(1,figsize=(12, 12))\nplt.show()","7a2895cb":"#Are people with HIV and TB more at risk of COVID-19?\n\nOur understanding of the virus and the disease is still evolving. At the moment, there is not enough evidence to determine if COVID-19 will affect stable HIV patients with weakened immune systems differently from the general population. However, people living with advanced HIV, that have low levels of CD4 (infection fighting cells) and high viral loads, or that are not on antiretroviral treatment (ARVs) are likely more at risk of infection in general and need to exercise caution to avoid contracting the virus.\n\nThey don\u2019t yet have much experience in treating COVID-19 infections in TB patients, but it is very likely that people with both TB and COVID-19 are more at risk and may have poorer treatment outcomes (due to lung damage).\n\nIt is important that people with TB, high viral load levels of HIV or other co-infections do all they can to avoid getting COVID-19. They are working to reduce the exposure of vulnerable patients by changing the way they treat them, what they call their \u2018models of care\u2019.https:\/\/www.msf.org\/responding-covid-19-eswatini","f5ea16c7":"They have also put into place a small mobile TB clinic for MDR-TB patients, consisting of a driver and a nurse, which visits patients at their homes to carry out medical check-ups, and bring them food and refills of drugs. Before, patients had to pick up their food and drugs at the health centres.\n\nMost of their stable HIV patients with suppressed viral loads now receive six-monthly refills of ARVs, so they don\u2019t have to go to the health centre every month. For patients with TB and other chronic conditions, they provide medication for one to three months, depending on their health condition and the availability of drugs.\n\nMSF now provides counselling and treatment support sessions for patients and medical consultations with doctors for those who need it by telephone. The countrywide partial lockdown put in place by the government has forced us to pause our preventive activities, such as mobile HIV testing points at events, workplaces and community gatherings. They are instead focusing on distributing and educating people on how to use HIV self-tests. https:\/\/www.msf.org\/responding-covid-19-eswatini","003a9011":"#What would you like to see happening?\n\nThe Eswatini health authorities moved quickly to put in place measures to reduce the risk of infection for vulnerable people and to prepare hospitals, health staff and means needed to be able to receive patients with suspected COVID-19 coming to health facilities. There is a lot of willingness from different health providers to support the COVID-19 response, and if the response is well coordinated, any gaps can be quickly identified and filled.\n\nIt is important to consider the particular needs of the people here to ensure there is as little as possible negative impact on their health, on the ability to provide healthcare and so the country can maintain the gains made in fighting the dual HIV\/TB epidemic.https:\/\/www.msf.org\/responding-covid-19-eswatini","9632c3c3":"![](http:\/\/)#You can Make History.  End TB.   TBLEADER\n\n![](https:\/\/msf-media.imgix.net\/AssetLink\/fn1hoi55w70342wssnsf6gkvmy37d82s.jpg)https:\/\/www.msf.org\/responding-covid-19-eswatini","22dae5b7":"#Eswatini - Swaziland\n\nEswatini (\/\u02cc\u025bsw\u0251\u02d0\u02c8ti\u02d0ni\/ ESS-wah-TEE-nee; Swazi: eSwatini , officially the Kingdom of Eswatini (Swazi: Umbuso weSwatini) and also known as Swaziland.  At least, we can read SWAZILAND in the 2nd last line above, describing Routine  Immunization.","ab742f57":"#It is important that people with TB, high viral load levels of HIV or other co-infections do all they can to avoid getting COVID-19.\n\nDR BERNHARD KERSCHBERGER, MSF HEAD OF MISSION IN ESWATINI","6b34e058":"#What are your main concerns about COVID-19 and the response in Eswatini?\n\nThe potential impact of COVID-19 on the Eswatini health system is a major concern here, just like it is elsewhere in the world. They see many countries with advanced health systems struggling to cope, and they don\u2019t have an HIV\/TB epidemic to manage at the same time.\nAnother worry are the indirect impacts of COVID-19, particularly the socio-economic consequences. Most people here are quite poor and live in rural areas. This is one reason why the rate of TB is so high, as it disproportionately affects poorer people forced to live in crowded households with poor ventilation.\n\nManaging diseases like HIV and TB on a daily basis is already difficult and now the restrictions in place to reduce the spread of COVID-19 will make patients\u2019 lives even harder. For many people, COVID-19 is causing further hardship. Some patients are already telling us they don\u2019t have enough food or lack the means to pay for electricity or water. https:\/\/www.msf.org\/responding-covid-19-eswatini","74a3ec1d":"#Is COVID-19 likely to have an impact on the HIV\/TB epidemic?\n\nAt this stage in the outbreak it is too early to tell, but they are certainly anxious that any reduction in healthcare delivery and\/or in access to care could lead to more illness and deaths among patients with HIV, TB or other chronic diseases. It could potentially also affect the HIV\/TB epidemic in the long-run.\n\nIt has been a long battle for Eswatini to break the HIV transmission curve and surpass the international 90-90-90 target (where at least 90 per cent of people know their HIV status, 90 per cent people that are HIV-positive are on ARVs and 90 per cent of these are virally suppressed). If the medical strategies that allowed this to happen are not maintained, it is a sad possibility that those gains might be reversed. It is therefore important that basic prevention, testing and treatment services are maintained to ensure people who need to test and access care are able to.\n\nThe number of patients that started HIV treatment in MSF-supported healthcare clinics fell by 64 per cent (from 44 to 16) in April, compared to the same month last year. This is the lowest recorded monthly number in the past four years. As they had to reduce their activities in the community because of the lockdown measures, they distributed 46 per cent fewer HIV self-testing kits in April (from 298 to 162) compared to last year.\n\nIn the short-term, they don\u2019t know what impact this will have, but in the long-term, it could prose a real and worrying problem.https:\/\/www.msf.org\/responding-covid-19-eswatini","e45e12f4":"#Eswatini\/Swaziland: Responding to COVID-19 in a country already fighting a dual HIV\/TB epidemic\n\nEswatini has the highest percentage of people living with HIV in the world. Almost one-third of adults are HIV-positive. The country is also severely affected by a tuberculosis (TB) epidemic and around 70 per cent of all TB patients are co-infected with HIV.  \n\nAlongside this, the first confirmed patient with COVID-19 was diagnosed in Eswatini on 14 March; since then, the number of patients with COVID-19 has grown daily.\n\nWhile it remains unclear how COVID-19 will impact people living with HIV, it is known that patients with existing chronic illnesses and weakened immune systems are more at risk. TB is a disease that attacks the lungs, like the new coronavirus COVID-19, and it is therefore likely that TB patients will suffer more severe forms and worse complications if they become infected.\n\nM\u00e9decins Sans Fronti\u00e8res (MSF) has been fighting the dual HIV\/TB epidemic in Eswatini since 2007. Dr Bernhard Kerschberger, MSF Head of Mission in Eswatini, describes the challenges his team face responding to COVID-19 in a setting with high rates of HIV and TB, and how adapting care for patients is important to reduce the risk of exposure for the most vulnerable people.https:\/\/www.msf.org\/responding-covid-19-eswatini","70943dec":"![](https:\/\/encrypted-tbn0.gstatic.com\/images?q=tbn%3AANd9GcQYfzZrACyLc2rFgpfI3lZsnuWa8GQvJMpbog&usqp=CAU)msfaccess.org","795501d5":"#How will MSF adapt care for HIV\/TB patients?\n\nThey are adapting their models of care. In Eswatini, MSF has been working for years with community-based models of care, to provide better access to care for patients in rural areas. Now, to reduce the risk of contact for patients, they are bringing care even closer to their homes, to limit visits to health centres and unnecessary journeys by public transport.\n\nAmong the most at-risk patients are those suffering from multidrug-resistant TB (MDR-TB). To protect them, they have started using new technology called Video Observed Therapy (VOT).\n\nThis means that patients who had to be supervised in person by a community member or health worker when taking their medication (as per the treatment protocol) now film themselves taking their medicine with a smartphone. They provide them with a smartphone that is equipped with a secure application through which they can send the video to a nurse. The nurse checks the video and follows up with the patient if there is a problem or if the video does not arrive. They are currently treating 40 MDR-TB patients, the majority of whom will be using VOT.https:\/\/www.msf.org\/responding-covid-19-eswatini","46acea88":"#Codes from Paul Mooney https:\/\/www.kaggle.com\/paultimothymooney\/what-is-inside-of-the-mueller-report\/notebook","dd2e173c":"#Do they fear a rupture in HIV and TB drugs in the country?\n\nHIV\/TB patients need to have longer refills to avoid treatment interruptions, as this would further expose them to COVID-19. Health authorities and providers here are working hard to estimate the needs to avoid running out of stock.\n\nUltimately, it is a question of balancing the needs against availability of drugs and identifying any gaps. MSF is filling some of these gaps, providing drugs for MDR-TB treatment and other opportunistic infections.\n\nHowever, if the lockdown continues and international restrictions on the movement of goods remain in place, this could affect the supply of medication from abroad. Many generic drugs come from India for example \u2013 this would be extremely concerning and must be avoided. https:\/\/www.msf.org\/responding-covid-19-eswatini","53a98c92":"Das War's, Kaggle  Notebook Runner: Mar\u00edlia Prata   @mpwolke ","43c31042":"#What are the main challenges?\n\nIt is definitely a challenge to find a COVID-19 response strategy that does not impact the health system in the long-term. It is not always possible to copy and paste strategies put in place by many Western or Asian countries. The situation for Eswatini and many African countries is different, with many vulnerable people relying on daily wages, meaning social distancing measures and movement restrictions make people\u2019s lives more difficult.\n\nIt will also be a challenge to maintain access to healthcare. Both chronic and emergency care have already been affected by the response. Hospital-bed capacity is being stretched as the number of new patients with COVID-19 rises each day.\n\nStigma and fear are also making the response difficult. In some cases, health workers reportedly did not attend to patients for fear of contracting the virus. It is understandable that health workers are afraid if they don\u2019t have sufficient personal protective equipment and the necessary material and resources to care for people safely. These shortages are the same all over the world, but if it is a race to get what is needed, the least fortunate.\n\n#The most vulnerable patients - may be left behind.\n\nhttps:\/\/www.msf.org\/responding-covid-19-eswatini"}}