{"cell_type":{"29394e21":"code","d1a1f1f4":"code","dc81c732":"code","d3bba0ff":"code","93b3e9d4":"code","82ad1223":"code","40e59c0e":"code","159d973a":"code","f1379ffb":"code","f4c46979":"code","78f66d24":"code","48dc284a":"code","bc102964":"markdown","34a3056c":"markdown","1c76016d":"markdown","5722754b":"markdown","efb4c592":"markdown","a02f414f":"markdown","8b95790a":"markdown","ce33538b":"markdown","6fb3d392":"markdown","bcac1c56":"markdown","320c0a03":"markdown","ebee342f":"markdown","a380469e":"markdown","d6bd6c17":"markdown","4654960d":"markdown","98bcd5bd":"markdown","cbc38b1d":"markdown"},"source":{"29394e21":"import math\nimport numpy as np \nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n# Input data files are available in the \"..\/input\/\" directory.\nimport os\nprint(os.listdir(\"..\/input\"))\n#import data\npath = pd.read_csv('..\/input\/Video_Games_Sales_as_at_22_Dec_2016.csv', index_col=0)\ndatas = pd.DataFrame(path)\nsimply_name = {'Sony Computer Entertainment':'Sony',\n    'Konami Digital Entertainment': 'Konami',\n    'Namco Bandai Games': 'Namco Bandai',\n    'Nippon Ichi Software': 'Nippon Ichi'}\ndatas.User_Score.map(lambda p:  'NaN' if p == 'tbd'else p)\ndatas.loc[datas['User_Score'] == 'tbd', 'User_Score'] = 'NaN'\ndata_7 = datas.loc[:, ['Year_of_Release','Genre', 'Publisher','Global_Sales']].dropna().reset_index().groupby(['Name', 'Genre']).apply(lambda df: df.loc[df.Year_of_Release.idxmin()])\n# the following line makes the background of normal plots full with grey grids\n# just like seaborn plots, I am not sure why this works but I like it.\nsns.set(rc={'figure.figsize':(16.7,8.27)})","d1a1f1f4":"data_3 = datas.loc[:, ['NA_Sales','EU_Sales','JP_Sales','Other_Sales']]\nplot_3 = data_3.head(20).plot.bar(\n    figsize=(16.18, 8),\n    fontsize=14,\n    stacked=True,\n)\nplot_3.set_xlabel('')\nplot_3.set_ylabel('Sales volume(millions)')\nplot_3.set_title('Top Game Sales', fontsize = 23)\nplot_3.legend(['North America','EU','Japan','Other Region'], prop={'size': 15})","dc81c732":"fig_1, axarr_1 = plt.subplots(2, 1, figsize=(22, 27))\nplt.figure(0)\nplot_2 = data_7['Publisher'].value_counts().sort_values(ascending=False).head(15).rename(simply_name).plot.bar(\n    fontsize=20,\n    ax = axarr_1[0],\n)\nplot_2.set_title(\" Top publishers by game releases\", fontsize=40)\nplot_2.set_ylabel('Number of releases(only count first time)', fontsize = 25)\nplt.figure(1)\ndata_9 = datas.loc[:, ['Global_Sales','NA_Sales','EU_Sales','JP_Sales','Other_Sales','Publisher']].groupby('Publisher').sum()\ndata_9 = data_9.rename(simply_name).sort_values('Global_Sales',ascending = False).drop(['Global_Sales'], axis=1).head(15)\nplot_9 = data_9.plot.bar(stacked = True,\n                        fontsize=20,\n                        ax = axarr_1[1])\nplot_9.set_title(\"Top publishers by game sales\", fontsize=40)\nplot_9.set_ylabel('Sales volume(millions)',fontsize = 25)\nplot_9.legend(['North America','EU','Japan','Other Region'], prop={'size': 20})\nplot_9.set_xlabel('')\nplt.tight_layout()\nplt.show()","d3bba0ff":"fig_2, axarr_2 = plt.subplots(1, 2, figsize=(22, 10))\nplt.figure(0)\ndata_14 = data_7.loc[:, ['Global_Sales','Publisher']]\ndata_14a = data_14.groupby('Publisher').sum()\ndata_14a['Number_of_Games_Released'] = data_14['Publisher'].value_counts()\nplot_14a = data_14a.plot.scatter(x='Number_of_Games_Released', y='Global_Sales', ax= axarr_2[0],fontsize=14)\nplot_14a.set_title(\"Global Sales VS Number of game released\", fontsize=25)\nplot_14a.set_ylabel('Global sales(million)',fontsize = 20)\nplot_14a.set_xlabel('No. of game released',fontsize = 20)\ndata_14b = data_14a.copy()\ndata_14b['log_(Number_of_Games_Released)'] = data_14b.Number_of_Games_Released.map(lambda p: math.log(p))\ndata_14b['log_(Global_Sales)'] = data_14b.Global_Sales.map(lambda p: math.log(p))\nplt.figure(1)\nplot_14b = data_14b.plot.scatter(x='log_(Number_of_Games_Released)', y='log_(Global_Sales)', ax = axarr_2[1],fontsize=14)\nplot_14b.set_title(\"log (Global Sales) VS log (Number of game released)\", fontsize=25)\nplot_14b.set_ylabel('log (Global sales(million))',fontsize = 20)\nplot_14b.set_xlabel('log (No. of game released)',fontsize = 20)\n\n\nplt.show()","93b3e9d4":"data_8 = datas.loc[:, ['Year_of_Release','Genre']]\n\ndummy_genre = pd.get_dummies(data_8['Genre'])\ndata_8 = pd.concat([data_8, dummy_genre], axis=1)\ndata_8 = data_8.groupby('Year_of_Release').sum().drop([2017,2020], axis=0)\n\ncolors = [plt.cm.Spectral(i) for i in np.linspace(0, 1, 12)]\nplot_8 = data_8.plot.line(figsize=(19, 8), color = colors,linewidth= 2,fontsize=14)\nplot_8.set_ylabel('Number of game released', fontsize = 17)\nplot_8.set_xlabel('Year', fontsize = 17)\nplot_8.set_title(\"Games Released between 1980-2016 by genres\", fontsize=25)","82ad1223":"data_5 = datas.loc[:, ['Genre','NA_Sales','EU_Sales','JP_Sales','Other_Sales']].groupby('Genre').sum()\nplot_5 = data_5.apply(lambda c: 100 * c \/ c.sum(), axis=1).plot.bar(\n    figsize=(16, 8),\n    stacked=True,\n    fontsize=16\n)\nplot_5.set_xlabel('Genre',fontsize = 16)\nplot_5.set_ylabel('Percentage(%)',fontsize = 16)\nplot_5.set_title(\"% Sales by Players in different regions\",fontsize = 23)\nplt.legend(['North America','EU','Japan','Other Region'],loc = (1,0.8),prop={'size': 13.5})","40e59c0e":"data_6 = data_7.loc[:, ['Publisher','Genre']]\nnum_genre = len(data_6['Genre'].value_counts().index)\nfig, axarr = plt.subplots(4, 3, figsize=(22, 27))\nsimply_name = {'Sony Computer Entertainment':'Sony',\n    'Konami Digital Entertainment': 'Konami',\n    'Electronic Arts': 'EA',\n    'Namco Bandai Games': 'Namco Bandai',\n    'Nippon Ichi Software': 'Nippon Ichi'}\nfor n in range(num_genre):\n    g = data_6['Genre'].value_counts().index[n]\n    data_6a = data_6[data_6['Genre'] == g]['Publisher'].value_counts()\n    data_6b = data_6a.head(5).append(pd.Series(0, index = ['others']))\n    data_6b['others'] = sum(data_6a.iloc[5:])\n    data_6b = data_6b.rename(simply_name)\n    plt.figure(n)\n    piec = data_6b.plot.pie(fontsize=18, autopct='%1.0f%%',radius =1.1, ax=axarr[n\/\/3][(n-1)%3], figsize = (30,38))\n    piec.set_title(g, fontsize=24)\n    piec.set_ylabel('')\n    plt.subplots_adjust(top=0.94)\nfig.suptitle(\"% of games released by top publishers according to game genres\", fontsize=40)\nplt.tight_layout()\nplt.show()","159d973a":"data_11 = datas.loc[:, ['Global_Sales','Developer']]\ndata_12 = datas.loc[:, ['Critic_Score','Developer']].set_index('Developer')\ntop_publ = data_11.groupby('Developer').sum().sort_values(by = 'Global_Sales',ascending = False).head(12).index\nsns.set(rc={'figure.figsize':(20,9)})\nplot_12 = sns.boxplot(x= 'Developer',\n                         y = 'Critic_Score',\n                         data =  data_12.loc[list(top_publ),:].rename(simply_name).reset_index())\nplot_12.set_title(\"Scores of games on Metacritic for top developers (have highest sales)\", fontsize=25)\nplot_12.set_ylabel('Metascores of Games', fontsize = 18)\nplot_12.set_xlabel('Developer', fontsize = 18)\nplot_12.tick_params(labelsize=12)\nplt.show()","f1379ffb":"data_4 = datas.loc[:, ['Critic_Score','Critic_Count','User_Score','User_Count']]\ndata_4a = data_4.loc[(datas['User_Count'] > 100)&(datas['Critic_Count'] > 10)&(datas['User_Score'] != 'NaN')]\ndata_4a = data_4a.assign(User_Score=data_4a[\"User_Score\"].map(lambda p: pd.to_numeric(p)).values)\nplot_4a = sns.jointplot(x='Critic_Score', y='User_Score', data=data_4a[(data_4a['User_Score']>4)&(data_4a['Critic_Score']>40)], kind='hex',\n              gridsize=30,height =8.5)\nplot_4a.set_axis_labels('Metascore', 'User Score', fontsize=16)\nfig = plot_4a.fig\nplt.subplots_adjust(top=0.94)\nplot_4a.fig.suptitle('Media VS Player', fontsize=20)\nplt.show()","f4c46979":"plot_1 = datas['Platform'].value_counts().sort_values(ascending=False).plot.bar(\n    figsize=(16, 7.25),\n    fontsize=16,\n    #title='Games published by Platform',\n)\nplot_1.set_title(\"Games published by Platform\", fontsize=23)\nplot_1.set_xlabel(\"Platforms\", fontsize=18)\nplot_1.set_ylabel(\"No. of Game released\", fontsize=18)","78f66d24":"data_10 = datas.loc[:, ['Year_of_Release','Platform']]\ndummy_platform = pd.get_dummies(data_10['Platform'])\ndata_10 = pd.concat([data_10, dummy_platform], axis=1)\ndata_10 = data_10.groupby('Year_of_Release').sum().drop([2017,2020], axis=0)\ntop_platform = data_10.sum().sort_values(ascending = False).head(10).index\nplot_10 = data_10.loc[1990:,list(top_platform)].plot.line(figsize = (18,8),linewidth=3,fontsize = 15)\nplot_10.set_title(\"Game Released between 1980-2016 for Top 10 Platforms\", fontsize=23)\nplot_10.set_ylabel(\"No. of Game released\", fontsize=18)\nplot_10.set_xlabel(\"Year\", fontsize=18)","48dc284a":"data_13 = datas.loc[:, ['Global_Sales','Platform','Year_of_Release']]\ntop_platform = data_13.loc[:,['Platform','Global_Sales']].groupby('Platform').sum().sort_values('Global_Sales', ascending = False).head(10).index\nflag = False\nfor g in range(len(top_platform)):\n    platform = top_platform[g]\n    if flag == True:\n        data_13a = pd.merge(data_13a, data_13.set_index('Platform').loc[platform,:].reset_index(), how = 'outer')\n    else:\n        data_13a = data_13.set_index('Platform').loc[platform,:].reset_index()\n        flag = True\ndummy_platforms = pd.get_dummies(data_13a.set_index('Year_of_Release')['Platform'])\ndata_13b = pd.concat([data_13a.set_index('Year_of_Release'), dummy_platforms], axis=1).reset_index().groupby(['Platform','Year_of_Release']).sum().reset_index().set_index('Year_of_Release').drop(['Platform','Global_Sales'], axis = 1).drop([1985,1988, 2017, 2020], axis = 0)\nplot_13 = data_13b.groupby('Year_of_Release').sum().plot.area(figsize = (16.18,8),\n                                                             fontsize = 14)\nplot_13.set_title(\"Games' sales volume on top 10 Consoles between 1990-2016\", fontsize=22)\nplot_13.set_ylabel(\"Sales (millions)\", fontsize=18)\nplot_13.set_xlabel(\"Year\", fontsize=18)","bc102964":"A rise and a fall. Yes, the game industry was kept growing for a long time until 2008, everying changed. In 2013, we have same level of sales volume as in 2001.   \nHowever, this dataset only contained the information up to 2016, and we all know there were some fantastic games released in 2017-18. Moreover, look the tail of the graph: more and more games were sold on PS4 which shows its potential! And Nintendo has released a new console in 2017\u2014\u2014Nintendo Switch!   \nSo, at the end of this kernel, can we say:\n\n\n#### **Will the sun rise again?**\n\n---\n\n","34a3056c":"It looks like EU and NA players like all genres of game while interestingly, Japanese players show their great enthusiasm in Role-Playing games and very little care about Shooter games.\n\nNext, see this: In these so many genres, who are the masters at making that kind of games?","1c76016d":"Look at the fifth one! **Rockstar North** beat everyone else! This developer is famous of its game series *Grand Theft Auto*. By its side, Ubisoft seems to have game quality which is quite unstable.\n\nSometimes, it can happen that your friends don't interested in the game for which you like. The follwing shows media and players' attitude towards the same game.","5722754b":"It's interesting that for sports and platform games, the number of games released by top 5 publishers is nearly half of the market, while for the adventure, the top 5 only have a share of 25%.\n\n# Scores: Enjoyed the game?\u2026or maybe not?\nSome companies have good reputation due to their high quality games, see who is the best one:","efb4c592":"Finally, it's time to chat about consoles:","a02f414f":"# First of all\u2026\u2026\nIn the past, the first video game was created in **1950** built by Josef Kates called *Bertie the Brain*, then the seed of video games sprouted, kept growing for decades\u2026 Today, video game has played a important role in our entertainment time. As a big fan of video games, I want to share my analysis and discovery in this beautiful wonderland.","8b95790a":"Wii Sports won the first place! Its sales volumn is **twice** the second! Further more, in top 10 games, all of them are all from the same publisher\u2014\u2014 Nintendo, which show that it has most powerful influence over the world of video games.\n\nNow you may curious about those game companies: who are the top publishers? are your favourite publisher one of them?\n","ce33538b":"Pulishers' favourite platforms are Sony's PS2 and Nintendo's DS series. Let's see how it goes throughout the whole period:","6fb3d392":"# Thank you for reading my works!\nWe can see that there are many stories in the world of video games!    \nI am really proud of this as my first data analysis project, if you have any advice please give a comment!   \nAnd again, I hope you enjoy reading this kernel! ","bcac1c56":"First peak was reached by PS in 2003, the second and third peak were reached by PS2 and DS respectively. Note that 4 of 10 consoles are from Sony and 3 are from Nintendo: these two companies have already competed for more than 20 years. What about sales?","320c0a03":"# Genre: What kind of game do you fancy?\nLove puzzles? or prefer shooting? Let's have a look at the data for genres.","ebee342f":"We all have intuition that Nintendo has highest sales volume, but the winner in game releases is\u2014\u2014Namco Bandai\uff0cwho is the result of a merger in March 2006 between the video game operations of Namco and Bandai.$^{[from \\ wikipedia]}$    \nSo , could that mean more game released $\\neq$ more game sold?","a380469e":"# Platforms: A Cruel War","d6bd6c17":"# The well-known one\nLet's begin analysis with this: there are definitely some games that you have heard of, even if you don't play video games. Now here is a list of games that have highest sales in the world, are you suprised?","4654960d":"It looks like action game has dominated the market since 2003, but before that sports game was the most popular one. I believe you have noticed that there is a sharp fall for all genres in 2012, which we will see more on it a bit latter.\n\nAt this point, may I kindly ask you where are you from and what genre of games do you love? The plot below shows players' preference in diffenrent regions.","98bcd5bd":"We can see that media and players are generally agree to each other for those good games, but for the other games, they have different words to say.","cbc38b1d":"From the graph on the left we can see that in fact, Nintendo was just a outlier (has been too good!!). But those little point were crowded together in the lower left corner, so I used a log scale on the data: then on the right one, we can see a roughly positive relationship between No. of releases and sales."}}