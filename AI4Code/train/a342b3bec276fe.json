{"cell_type":{"9e172a5b":"code","78f75570":"code","79141414":"code","f310b24a":"code","aae384ff":"code","7b2733fb":"code","ebbd9599":"markdown","805bbeaa":"markdown","77407066":"markdown","066bb90c":"markdown","97b7b441":"markdown"},"source":{"9e172a5b":"import numpy as np\nimport matplotlib.pyplot as plt\nplt.rcParams.update({'font.size': 18})\nplt.style.use('fivethirtyeight')\nimport pandas as pd","78f75570":"# read in the data\ndata = pd.read_csv(\"..\/input\/carbon-dioxide\/archive.csv\", parse_dates= {\"date\" : [\"Year\",\"Month\"]})\n# remove any NaN data\ndata = data.dropna(how='any', subset=['Carbon Dioxide (ppm)'])\n# select the data between 1970 and 2017\ndata = data[data['date'].between('1970-01-01', '2016-12-01')]\ndata = data.set_index('date')\n# take a look \ndata","79141414":"data.plot(y='Carbon Dioxide (ppm)', kind='line',figsize=(12,5), lw=2, title=\"Carbon Dioxide Levels in Atmosphere\");","f310b24a":"from statsmodels.tsa.seasonal import seasonal_decompose\nadditiveDecomposition = seasonal_decompose(data['Carbon Dioxide (ppm)'], model='additive', period=12)","aae384ff":"data.plot(y='Carbon Dioxide (ppm)', kind='line',figsize=(12,5), lw=2, title=\"Carbon Dioxide Levels: Trend\")\nadditiveDecomposition.trend.plot(kind='line',figsize=(12,5), lw=3);","7b2733fb":"additiveDecomposition.seasonal.plot(kind='line',figsize=(12,5), lw=2, title=\"Seasonality and residual terms\")\nadditiveDecomposition.resid.plot(lw=2);","ebbd9599":"# Time series decomposition example\nIn this short notebook we shall be decomposing a time series into three components; the overall trend, the seasonal component, and finally a noise, or residual, term:\n\nY[t] = Trend[t] + Seasonal[t] + residual[t]\n\nTo do this we shall me making use of [statsmodels.tsa.seasonal.seasonal_decompose](https:\/\/www.statsmodels.org\/stable\/generated\/statsmodels.tsa.seasonal.seasonal_decompose.html). For data we shall be using the [Carbon Dioxide Levels in Atmosphere](https:\/\/www.kaggle.com\/ucsandiego\/carbon-dioxide) published by the University of California's Scripps Institution of Oceanography. We shall assume that there is a periodicity of 12 months.","805bbeaa":"Plot the data we shall be decomposing","77407066":"Perform the time series decomposition","066bb90c":"Now let us superimpose the overall trend on top of the original data","97b7b441":"Finally, here are the seasonal (in blue) and residual components (in red)"}}