{"cell_type":{"39176732":"code","04927cb0":"code","8fd39930":"code","89ea0691":"code","caee7c3e":"code","7f1cb38b":"code","baaef039":"markdown","104f950d":"markdown"},"source":{"39176732":"# Clone and install YOLOv5\n!git clone https:\/\/github.com\/ultralytics\/yolov5\n%cd yolov5\n%pip install -qr requirements.txt\n%cd ..\/","04927cb0":"import os\nos.environ['WANDB_MODE']=\"disabled\"\nfrom IPython.display import FileLink\nimport shutil\nfrom shutil import copyfile","8fd39930":"# Make a directory to copy the best weights file to\nif not os.path.exists('\/kaggle\/working\/output'):\n    os.mkdir('\/kaggle\/working\/output')","89ea0691":"# Specify the series and plane (only the T1wCE series is currently available in the dataset)\nSERIES = 't1wce'\nPLANE = 'axial'","caee7c3e":"# Call the YOLO train script\n!python yolov5\/train.py --img 512 --batch 32 --epochs 5 --data '..\/input\/brain-tumor-object-detection-datasets\/{PLANE}_{SERIES}_2_class\/{PLANE}_{SERIES}_2_class.yaml' --weights yolov5\/yolov5s.pt --cache","7f1cb38b":"# Copy the pt file and zip it up\n# Example usage of the exported model: https:\/\/www.kaggle.com\/davidbroberts\/brain-tumor-object-detection\n\ncopyfile('yolov5\/runs\/train\/exp\/weights\/best.pt', f'\/kaggle\/working\/output\/{PLANE}_{SERIES}_2_class.pt')\nshutil.make_archive(f'{PLANE}_{SERIES}', 'zip', '\/kaggle\/working\/output')\n\nFileLink(f'{PLANE}_{SERIES}.zip')","baaef039":"#### Some of my other MR processing notebooks:\n\n- Brain Tumor Object Detection -> https:\/\/www.kaggle.com\/davidbroberts\/brain-tumor-object-detection\n- Determining MR image planes -> https:\/\/www.kaggle.com\/davidbroberts\/determining-mr-image-planes\n- Determining MR Slice Orientation -> https:\/\/www.kaggle.com\/davidbroberts\/determining-mr-slice-orientation\n- Determining DICOM image order -> https:\/\/www.kaggle.com\/davidbroberts\/determining-dicom-image-order\n- Reference Lines on MR images -> https:\/\/www.kaggle.com\/davidbroberts\/mr-reference-lines\n- Manual VOI LUT on MR images -> https:\/\/www.kaggle.com\/davidbroberts\/manual-voi-lut-on-mr-images\n- Standardizing MR Images -> https:\/\/www.kaggle.com\/davidbroberts\/standardizing-mr-images\n- Export DICOM Images by Plane -> https:\/\/www.kaggle.com\/davidbroberts\/export-dicom-series-by-plane\/","104f950d":"<div class='alert alert-info' style='text-align: center'><h1>YOLOv5 Brain Tumor Object Detection - Train<\/h1>\n- yet another MR processing notebook -<\/div>\n\n#### This notebook is a train script for object detecting brain tumors in all three planes.\n#### It trains both Object Detection and Classification (pos\/neg for MGMT status).\n#### The dataset contains ~400 images, classification labels and bounding box coordinates for each plane of the T1wCE series.\n#### The datasets are split into train\/test sets.\n#### I exported the JPGs from the RSNA-MICCAI brain MR dataset and hand labeled tumors the using https:\/\/makesense.ai\n\n- Dataset -> https:\/\/www.kaggle.com\/davidbroberts\/brain-tumor-object-detection-datasets\n- Inference Notebook -> https:\/\/www.kaggle.com\/davidbroberts\/brain-tumor-object-detection\n\n- * I set the epochs to 5 for quick saving, you'll probably want to do many more.\n- * Classification is not very accurate when compared to the patient's actual MGMT status. \n- * You might increase the number of images to make it more accurate (but I doubt it will help using the RSNA dataset)."}}