{"cell_type":{"5ca4bf42":"code","5989ffe1":"code","d4515b99":"code","cfc2c2c4":"code","cf3c8199":"code","fc777083":"code","4f687718":"code","790498d6":"code","28a15dbd":"code","d2f94cd4":"code","041e1711":"code","bf491f3a":"code","91ecd054":"code","520b30a0":"code","ba56cb33":"code","62415258":"code","033674a1":"code","9e5a2c12":"code","7876473d":"code","81bd1abb":"code","4b0f035b":"markdown","92dabf00":"markdown"},"source":{"5ca4bf42":"import numpy as np \nimport pandas as pd\nimport requests \n\nfrom bs4 import BeautifulSoup","5989ffe1":"r = requests.get('https:\/\/en.wikipedia.org\/wiki\/List_of_cities_by_average_temperature')\nsoup = BeautifulSoup(r.text,'html.parser')","d4515b99":"r.text[0:500]","cfc2c2c4":"continent = soup.find_all('span', attrs={'class':'mw-headline'})\ncontinent","cf3c8199":"results = soup.find_all('td')\nlen(results)","fc777083":"temperature = list()\ncount = 0\nc = 0\ntemp = list()\nfor idx in range(len(results)):\n    try:\n        if count == 0:\n            country = results[idx].find('a')['title']\n            count += 1\n            temp.append(country)\n        else: \n            if idx == 3457: # There is dirty data in here -_- monaco didn't have a city -_-\n                city = results[idx].contents[0] \n                count = 0\n                temp.append(city)\n                \n            else:\n                city = results[idx].find('a')['title']\n                count = 0\n                temp.append(city)\n    except:\n        temp.append(results[idx].contents[0])\n        c+=1\n    if c == 14:\n        temperature.append(tuple(temp))\n        temp = list()\n        c = 0","4f687718":"columns = ['Country','City','Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec','Avg_Year', 'other']","790498d6":"world_temp_2020 = pd.DataFrame(temperature,columns = columns)\nworld_temp_2020.drop(columns = 'other',inplace=True)","28a15dbd":"world_temp_2020.tail()","d2f94cd4":"num_col = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul',\n       'Aug', 'Sep', 'Oct', 'Nov', 'Dec', 'Avg_Year']","041e1711":"Month = pd.DataFrame()\nfor col in num_col:\n    month = list()\n    for i in range(len(world_temp_2020)):\n        try:\n            month.append(float(world_temp_2020.iloc[i,:][col]))\n        except:\n            month.append(float(world_temp_2020.iloc[i,:][col][1:])*-1)\n    Month[col] = month\n","bf491f3a":"for col in num_col:\n    world_temp_2020[col] = Month[col]","91ecd054":"world_temp_2020.head()","520b30a0":"Continent = list()","ba56cb33":"for i in range(len(world_temp_2020)):\n    if i <= 108:\n        Continent.append('Africa')\n    elif i > 108 and i<= 183:\n        Continent.append('Asia')\n    elif i > 183 and i <= 245:\n        Continent.append('Europe')\n    elif i > 245 and i <= 343:\n        Continent.append('North America')\n    elif i > 343 and i<=369:\n        Continent.append('Oceania')\n    elif i > 369:\n        Continent.append('South America')","62415258":"world_temp_2020['Continent'] = Continent","033674a1":"world_temp_2020.head()","9e5a2c12":"world_temp_2020.tail()","7876473d":"world_temp_2020.info()","81bd1abb":"world_temp_2020.to_csv('Avg_World_Temp_2020.csv')","4b0f035b":"### Change the data type from beautifulsoup object into float","92dabf00":"### Adding Continent Column"}}