{"cell_type":{"a6ad87e9":"code","b32901a2":"code","6aeb06e1":"code","11163f3f":"code","eb54bfd3":"code","39e10837":"code","e300a30b":"code","f652b895":"code","62375b36":"code","a72a6ef0":"code","b297d0b1":"code","fb14bdbe":"code","b20f3f58":"code","801588df":"code","b1b19ebc":"code","0ded30fa":"code","73f6f26e":"code","b79697d0":"code","20901391":"code","61a70bf0":"code","f30bfc4e":"code","93d63542":"code","73258824":"code","3ffb8df8":"code","07c1413a":"code","f137cef1":"code","97d809d7":"code","c3036dc5":"code","28308dc6":"code","2175ce57":"code","0653c9f6":"code","f8da9ca7":"code","2f7b623b":"code","82275465":"code","8ca75d49":"code","cef72a30":"code","ce9dc5ec":"code","c0f40532":"code","6b50db1e":"code","068f0b90":"code","9fa2f897":"code","3abee962":"code","c745244c":"code","cf0bb559":"code","237e9364":"code","59ac8366":"code","ba4cb903":"code","12929f06":"code","67ec8775":"code","d6ae34d0":"code","2b767bf1":"code","a8d7b534":"code","cfc09272":"code","9e587e08":"code","a1bc3b36":"code","fdcddda9":"code","91097ba1":"code","6fa5e12d":"code","17d7c9e6":"code","7d86f124":"code","b5211631":"code","da554d84":"code","1ef68e02":"code","f7c940cf":"code","807e0e63":"code","5aa01620":"code","91549a9a":"code","0cf143e3":"markdown","f46ea8ae":"markdown","13568b05":"markdown","e021f6c4":"markdown","5b56b91e":"markdown","c11c49e0":"markdown","00759ab7":"markdown","5aad45fa":"markdown","562d598c":"markdown","a9807a28":"markdown","b9c7afcf":"markdown","3ceff7dc":"markdown","05677744":"markdown","0f2e2fc1":"markdown","dd2a9468":"markdown","6c277d4d":"markdown","fd9c9496":"markdown","026327ab":"markdown","ecdd6ae9":"markdown","5ac20aa3":"markdown","64c82e6a":"markdown","642659d5":"markdown","b79f04b2":"markdown","e0ff4cda":"markdown","7f3cc9fa":"markdown","701a2af5":"markdown","42329442":"markdown","14d7cbcc":"markdown","d97817bf":"markdown","79f1badf":"markdown","12ef40fe":"markdown","0e833430":"markdown","834d54fa":"markdown","12f30b9e":"markdown","5071a0b6":"markdown","40440060":"markdown","1beedfb0":"markdown","bf62bc6f":"markdown","ccfb746d":"markdown","fbe92148":"markdown","e7f77a03":"markdown","40825510":"markdown","969607ff":"markdown","9ed06e7c":"markdown","a48008b5":"markdown","671e8cbf":"markdown","2e782158":"markdown","f373c817":"markdown","47cece49":"markdown","8d39ebd6":"markdown","75593a3e":"markdown","3fdecc13":"markdown","d32f4943":"markdown","e14bbf8a":"markdown","b3042159":"markdown","04253d26":"markdown","010d57d7":"markdown","89c66236":"markdown","eba329d8":"markdown","7a7a4711":"markdown","2f345349":"markdown","2866d299":"markdown","03a46863":"markdown","36a8759d":"markdown","363d3229":"markdown","bcc9151a":"markdown","6f1728f6":"markdown","84bab257":"markdown","ba24a8f7":"markdown","4dbc1bcd":"markdown","3fe67398":"markdown","80cc0061":"markdown","4cc5f432":"markdown","5affa985":"markdown","94e305f0":"markdown","6df678e5":"markdown","34dcb479":"markdown","3a4113bf":"markdown","dcc49d67":"markdown","ed66989a":"markdown","1e14acfb":"markdown","6d2cc285":"markdown","b244b580":"markdown","50dbdea1":"markdown","ba88b5b4":"markdown","913dedda":"markdown","ca02c279":"markdown","a0248970":"markdown","2ef7d982":"markdown","b8552cff":"markdown","32f738ed":"markdown","d0411d70":"markdown","88ca8b83":"markdown","c83736c1":"markdown","f8793481":"markdown"},"source":{"a6ad87e9":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","b32901a2":"import pandas as pd\nimport warnings\nimport seaborn as sns\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport re\nwarnings.filterwarnings('ignore')\n\nplt.style.use('fivethirtyeight')\nplt.rcParams['figure.figsize'] = 15, 7\nplt.rcParams['xtick.labelsize']=15\nplt.rcParams['ytick.labelsize']=15","6aeb06e1":"wine_df = pd.read_csv('\/kaggle\/input\/wine-reviews\/winemag-data-130k-v2.csv')","11163f3f":"wine_df.head()","eb54bfd3":"num_rows = wine_df.shape[0]\nnum_cols = wine_df.shape[1]\nprint('Number of rows: ', num_rows)\nprint('Number of columns: ', num_cols)","39e10837":"wine_df.drop(columns='Unnamed: 0', inplace = True)","e300a30b":"wine_df.info()","f652b895":"# The columns with categorical data type\ncat_cols_name = wine_df.columns[wine_df.dtypes=='object']\ncat_cols_nunique = wine_df[cat_cols_name].nunique()\ncat_cols_unique = [wine_df[cols_name].unique() for cols_name in cat_cols_name]\ndata = {'cat_cols_nunique': cat_cols_nunique, 'cat_cols_unique':cat_cols_unique}\n# Create dataframe\ndf_cat_cols = pd.DataFrame(data, columns = ['cat_cols_nunique', 'cat_cols_unique'])\ndf_cat_cols","62375b36":"wine_df.isnull().sum()","a72a6ef0":"wine_df.drop(columns=['designation', 'taster_twitter_handle'], inplace = True)","b297d0b1":"wine_df[wine_df['country']=='Egypt']","fb14bdbe":"wine_df = wine_df[wine_df['country']!='Egypt'].reset_index(drop = True)\nnum_rows -= 1 # update value","b20f3f58":"# Handle missing in categorical variable\ncat_name = ['country', 'region_1', 'region_2', 'taster_name', 'province', 'variety']\nfor name in cat_name:\n    wine_df[name].fillna('unknown', inplace = True)","801588df":"#Handle missing in numerical variable\n\nisnull_price = wine_df['price'].isnull()\nmean_price_wine_byCountry = wine_df.groupby('country')['price'].agg('mean')\nwine_df.loc[isnull_price,'price'] = [mean_price_wine_byCountry[row[0]] for row in wine_df[isnull_price].values]","b1b19ebc":"# Check again\nwine_df.isnull().sum()","0ded30fa":"# Create new attribute is provinceOfCountry -  it's useful for visualization\nwine_df['provinceOfCountry'] = '( ' + wine_df['country'] + ' ) ' + wine_df['province']\nwine_df['provinceOfCountry'].head()","73f6f26e":"## Some simple descriptive statistic\nwine_df.describe()","b79697d0":"plt.figure(figsize = (15, 8))\nsns.distplot(wine_df['price'])\nplt.title(\"Price distribution\", fontsize = 30)","20901391":"# Creat a new log_price property\nwine_df['price_log'] = np.log(wine_df['price'])","61a70bf0":"plt.figure(figsize = (15, 8))\nsns.distplot(wine_df['price_log'])\nplt.xlabel('Price ( e^x)', fontsize = 20)\nplt.title(\"Price log distribution\", fontsize = 30)","f30bfc4e":"plt.figure(figsize = (15, 8))\nsns.distplot(wine_df['points'])\nplt.title(\"Distribution of points\", fontsize = 30)","93d63542":"plt.figure(figsize = (10, 5))\nplot = sns.regplot(x = 'points', y = 'price_log', data = wine_df, line_kws={'color':'red'}, \n                  x_jitter=True, fit_reg=True, color='darkgreen')\nplot.set_title(\"Corr between price and points\")\nplt.show()","73258824":"plt.figure(figsize = (15, 7))\ncountry = wine_df['country'].value_counts().sort_values(ascending = False)\ncountry[:20].plot.bar(color = 'darkgreen')\nplt.xticks(rotation = 45)\nplt.show()","3ffb8df8":"\ndef barchart_plot(distinct_val, attr_gr, attr_agg, x_label, y_label, title):\n    '''\n    func: barchart drawing\n    ---------\n    Parameter:\n    \n    distinct_val: list 1-d\n\n    attr_gr: string\n             the property for groupby\n    attr_agg: string \n              the property for operation of aggregation\n    x_label : string\n              label for x coordinate in chart\n    y_label : string\n              label for y coordinate in chart\n    title   : string\n              title for chart\n    \n    '''\n    df_top = wine_df.loc[wine_df[attr_gr].isin(distinct_val)]\n    df = df_top.groupby(attr_gr)[attr_agg].nunique().sort_values(ascending = False)\n    df.plot.bar(use_index = True, color = 'darkgreen')\n    plt.xlabel(x_label, fontsize = 20)\n    plt.ylabel(y_label,fontsize = 20)\n    plt.xticks(rotation = 40, fontsize = 10)\n    plt.title(title, fontsize = 20)\n    plt.show()\n    \n    \ndef boxplot_chart(distinct_val, x, y, title):\n    '''\n    func:  boxplot\n    ---------\n    Parameter:\n    \n    distinct_val: list 1-d\n                  \n    x: string\n    y: string \n    title   : string\n              title for chart\n    '''\n    plt.figure(figsize = (15, 7))\n    df_top = wine_df.loc[wine_df[x].isin(distinct_val)]\n    sns.boxplot(x = x , y = y, data = df_top, color = 'darkgreen')\n    plt.xticks(rotation = 45, fontsize = 10)\n    plt.title(title, fontsize = 20)\n    plt.show()\n    ","07c1413a":"province = wine_df['provinceOfCountry'].value_counts()[:20]\ntop_province = province.index.values","f137cef1":"barchart_plot(top_province ,'provinceOfCountry', 'region_1', 'Province', 'Number of region1' ,'Province with the most region_1')","97d809d7":"boxplot_chart(top_province, 'provinceOfCountry', 'price', 'The regions that produce the first-class wines' )","c3036dc5":"barchart_plot(top_province, 'provinceOfCountry', 'title', 'Province', 'Count', 'The province owns the most wines' )","28308dc6":"barchart_plot(top_province, 'provinceOfCountry', 'variety', 'Province', 'Variety of grapes',\\\n                                                  'The regions that have the most type of grapes' )","2175ce57":"wine_df[wine_df['province']=='California']['variety'].value_counts(ascending=False).index[:10]","0653c9f6":"boxplot_chart(top_province, 'provinceOfCountry', 'points', 'Point by Province')","f8da9ca7":"top_country = country.index.values[:20]","2f7b623b":"barchart_plot(top_country, 'country', 'province', 'Country', 'Number of provinces', 'The country that have the most provinces')","82275465":"boxplot_chart(top_country, 'country', 'price_log', \"Price by Country's\")","8ca75d49":"boxplot_chart(top_country, 'country', 'points', \"Point by Country's\")","cef72a30":"top_manufacture_of_wine = wine_df.groupby(['winery', 'country']).agg({'points':'mean', \n                                        'price': ['mean', 'size']}).sort_values(by=[('price', 'size')], ascending = False)\ntop_manufacture_of_wine[:10]","ce9dc5ec":"winery = wine_df['winery'].value_counts()[:20]\ntop_winery = winery.index.values","c0f40532":"boxplot_chart(top_winery, 'winery', 'price_log', \"Price by winery's\" )","6b50db1e":"boxplot_chart(top_winery, 'winery', 'points', \"Point by winery's\") ","068f0b90":"barchart_plot(top_country, 'country', 'winery', 'Count', 'Country', 'The country that have the most winery')","9fa2f897":"variety = wine_df['variety'].value_counts()[:20]\ntop_variety = variety.index.values","3abee962":"variety.plot.bar(use_index = True, color = 'darkgreen')\nplt.title(\"Grapes for wine\", fontsize = 30)\nplt.ylabel(\"Count\", fontsize = 20)\nplt.xlabel(\"Grape\", fontsize = 20)\nplt.xticks(rotation= 60)\nplt.show()","c745244c":"df_top_variety = wine_df.loc[wine_df['variety'].isin(top_variety)]\ngrape_in_country_nunique = df_top_variety.groupby('variety')['country'].nunique()\ngrape_in_country_unique = df_top_variety.groupby('variety')['country'].unique()","cf0bb559":"data = {'grape_in_country_nunique': grape_in_country_nunique, 'grape_in_country_unique': grape_in_country_unique}\ndf_variety = pd.DataFrame(data)\ndf_variety = df_variety.sort_values(by='grape_in_country_nunique', ascending = False)\ndf_variety","237e9364":"df_variety.plot.bar(use_index = True, y = 'grape_in_country_nunique', color = 'darkgreen')\nplt.title(\"Number of countries where grapes are grown\", fontsize = 20)\nplt.ylabel(\"Count\", fontsize = 15)\nplt.xlabel(\"Grape\", fontsize = 15)\nplt.xticks(rotation = 45, fontsize = 10)\nplt.show()","59ac8366":"grape_for_price = df_top_variety.groupby(['variety', 'provinceOfCountry'])['price'].agg('mean')\n\ngrape_for_price = grape_for_price.unstack('variety')\ngrape_for_price","ba4cb903":"grape_in_best_province = grape_for_price.idxmax(axis = 0)","12929f06":"print(\" Lo\u1ea1i nho Red Blend cho gi\u00e1 tr\u1ecb r\u01b0\u1ee3u t\u1ed1t nh\u1ea5t \u1edf: \", grape_in_best_province['Red Blend'])\nprint(\" Lo\u1ea1i nho Pinot Noir cho gi\u00e1 tr\u1ecb r\u01b0\u1ee3u t\u1ed1t nh\u1ea5t \u1edf: \", grape_in_best_province['Pinot Noir']) \nprint(\" Lo\u1ea1i nho Chardonnay cho gi\u00e1 tr\u1ecb r\u01b0\u1ee3u t\u1ed1t nh\u1ea5t \u1edf: \", grape_in_best_province['Chardonnay']) \nprint(\" Lo\u1ea1i nho Cabernet Sauvignon cho gi\u00e1 tr\u1ecb r\u01b0\u1ee3u t\u1ed1t nh\u1ea5t \u1edf: \", grape_in_best_province['Cabernet Sauvignon']) \nprint(\" Lo\u1ea1i nho Merlot cho gi\u00e1 tr\u1ecb r\u01b0\u1ee3u t\u1ed1t nh\u1ea5t \u1edf: \", grape_in_best_province['Merlot']) ","67ec8775":"boxplot_chart(top_variety, 'variety', 'price_log', 'Price by variety of grapes')","d6ae34d0":"boxplot_chart(top_variety, 'variety', 'points', 'Points by variety of grapes')","2b767bf1":"df = wine_df[wine_df['taster_name']!='unknown']\nprint( df['taster_name'].nunique())","a8d7b534":"sns.countplot(x = 'taster_name', data = df, color = 'darkgreen')\nplt.xlabel('Taster name', fontsize=20)\nplt.ylabel('Count', fontsize = 20)\nplt.xticks(rotation = 45, fontsize = 10)\nplt.title('Taster name count', fontsize = 20)\nplt.show()","cfc09272":"boxplot_chart( df['taster_name'].unique(), 'taster_name', 'points', \"Point by taster's\" )","9e587e08":"boxplot_chart( df['taster_name'].unique(), 'taster_name', 'price_log', \"price by taster's\" )","a1bc3b36":"wine_df.iloc[68586, 8:11]","fdcddda9":"wine_df[wine_df['title'].str.contains('1105', '2014')]","91097ba1":"wine_df.iloc[63, 8:11]","6fa5e12d":"number_in_title = wine_df['title'].apply(lambda x: re.findall(r'\\d{4}', x))\nnumber_in_winery = wine_df['winery'].apply(lambda x: re.findall(r'\\d{4}', x))","17d7c9e6":"act_year = [list(set(number_in_title[i]) - set(number_in_winery[i])) if number_in_winery[i]!=None\n                                                                     else number_in_title[i] for i in range(num_rows)]","7d86f124":"year_generate = []\nfor idx, v in enumerate(act_year):\n    if len(v)==1:\n        year_generate.append(v[0])\n        continue\n    if len(v)>1:\n        arr = []\n        for y in v:\n            if y<='2020':\n                arr.append(y)\n        year_generate.append(max(arr))\n        continue\n    if len(v)==0:\n        year_generate.append(year_generate[idx-1])","b5211631":"wine_df = wine_df.assign(year = year_generate)\nwine_df['year'] = wine_df['year'].astype(int)","da554d84":"print(\"T\u1ed5ng s\u1ed1 m\u1eabu Null c\u1ee7a thu\u1ed9c t\u00ednh year: \", wine_df['year'].isnull().sum())\nprint(\"\\nMi\u1ec1n gi\u00e1 tr\u1ecb trong year: \",  wine_df['year'].unique())","1ef68e02":"wine_df[wine_df['title'].str.contains(r'1607|1503')]","f7c940cf":"wine_df = wine_df[~((wine_df['year']==1503) | (wine_df['year']==1607))]","807e0e63":"wine_df = wine_df.assign(age = wine_df['year'].apply(lambda x: 2019 - x ))\n\n# TCreate age property\nwine_df['age'].describe()","5aa01620":"plot = sns.countplot(x = 'age', data=wine_df, color = 'darkgreen')\nplot.set_xticklabels(plot.get_xticklabels(), rotation = 100)\nplt.show()","91549a9a":"plt.figure(figsize = (15, 10))\nplot = sns.regplot(x = 'age', y = 'price_log', data = wine_df, line_kws={'color':'red'}, \n                  x_jitter=True, fit_reg=True, color='darkgreen')\nplot.set_title(\"Corr between price and points\")\nplt.show()","0cf143e3":"Grapes are greatly influenced by climate and soil, depending on the region that Grapes can yield, yield and high quality for winemaking. Therefore, not all countries are fortunate to have many regions to grow grapes. Through some information above, we can also see that the famous vine-growing regions are often concentrated in European countries, North America, and South America. So let's analyze a bit about the top countries in this industry!","f46ea8ae":"We expect to see the famous and long-standing countries in the wine production industry such as: Italy, France, Spain...","13568b05":"### The scores between producers","e021f6c4":"## The number of null variable of each column","5b56b91e":"Step 2:","c11c49e0":"To obtain this information:\n\n- Step 1: Calculate the average value of each grape in the provinces.\n- Step 2: Find out the loyalty that the wine produced by this grape has the highest average value","00759ab7":"Step 4:","5aad45fa":"**Your comment**","562d598c":"Here we also considered on the 20 varieties of grapes with the most evaluation and the variety variable","a9807a28":" Or there are patterns, in the title do not contain numeric values","b9c7afcf":"**Your comment**","3ceff7dc":"\nTo answer this question, we take 2 steps:\n\n- Step 1: Create a dataframe table named df_variety with an index of variety, column 1 is grape_in_country_nunique, column 2 is grape_in_country_unique\n        \n         + Statistics of the number of countries of each grape and save in variable grape_in_country_nunique\n         + Statistics of country names of each grape and save in variable grape_in_country_unique\n        \n- Step 2: Based on the newly created dataframe, draw barchart chart","05677744":"### After going through some information about the price and number of wines. Let us now analyze which area are highly ranked for the wine quanlity.","0f2e2fc1":"**Your comment**","dd2a9468":"### Compare the price between countries","6c277d4d":"**First of all, we see that only 19 authors participated in commenting and rating. So starting we will statistic the number of reviews, comments of each author.**","fd9c9496":"**Your comment**","026327ab":"After the standardization step: there are still some samples that I think have the wrong value, maybe the value here is not the year of production but the name of the wine. So we will delete these samples.","ecdd6ae9":"Step 1:","5ac20aa3":"## Count the number of occurrences of countries","64c82e6a":"# Come back to EDA","642659d5":"Step 1, 2:","b79f04b2":"**Your comment**","e0ff4cda":"categorical variable is: country, description, designation, province, region_1, region_2, taster_name, taster_twitter_handle, title, variety, winery.\n\nNumerical variable is: points, price","7f3cc9fa":"### Which countries have the most producers?","701a2af5":"### We often hear about extremely expensive wine bottles, so where do they come from?","42329442":"## Points's distribution","14d7cbcc":"https:\/\/winemart.vn\/cac-giong-nho-lam-ruou-vang\/\n\nhttps:\/\/khoruou.vn\/top-3-vung-trong-nho-noi-tieng-nhat-the-gioi-hien-nay-newsid1155.html\n\nhttps:\/\/meta.vn\/hotro\/tuoi-tho-cua-ruou-vang-quyet-dinh-nhu-the-nao-den-chat-luong-ruou-2119\n\nhttp:\/\/ruoutruongsinhgialai.com\/tin-tuc\/29\/230\/vi-sao-ruou-de-cang-lau-cang-ngon.\n\nhttps:\/\/www.kaggle.com\/kabure\/wine-review-s-eda-recommend-systems","d97817bf":"**Your comment**","79f1badf":"## 4. What types of grapes are the most commonly used for wine production? What is the price and average score for the bottle of wine make from them?","12ef40fe":"If you look closely, you will see the year of production is in the title attribute. But in the title may appear numeric values that are not the year of manufacture as in the following example the value 1789 is in the name '1789 Wines' - 1 winery. And here the production year is 2007.","0e833430":"### The points for the wines are made from over 20 of the most popular grapes","834d54fa":"# Import libraries","12f30b9e":"**Your comment**","5071a0b6":"### The provinces that have the most region for vineyard.","40440060":"Let's take a look at the famous and suitable lands for growing grapes. That is the first criterion to make a good wine. Now we come to the second criterion that is equally important, <font color = 'red'> wine production process <\/font>. Each winery has its own unique recipes for the best taste. Now let's find out who these wineries are, in which country.\n\n\n\nHow to judge it as a famous wine producer, in my opinion, I will consider the following criteria:\n\n- The average score of the brand's wines, and also based on a certain number of comments, reviews for high reliability.\n\n\n- Average wine prices of firms. Because there may be some that focus solely on the premium wine segment, so the quality is high.","1beedfb0":"Step 1:","bf62bc6f":"**Your comment**","ccfb746d":"As above, we have gone through the key elements in making a quality wine. The scores and comments about each wine give us an overview of the quality of wine in each region, each type.\n\nThe above comments and reviews may also have personal tendencies, if they are happy, they will accept this wine high, and sad, they will give a low score. Or there are those who always score very low, or very high. So let's analyze some of the authors with the most reviews and the scores they give.","fbe92148":"**Your comment**","e7f77a03":"We have the year of manufacture, now we will calculate the age of the wine by 1 point of time - the year of manufacture. Here, I choose the year 2019 (Do not take the biggest year in the year attribute as a milestone, because it is the year of production, but the wine often goes through at least 1-2 years of incubation to make pepper. receptor).","40825510":"**Then we will perform the following processing steps:**\n\n- Step 1: Get an array of 4-digit numeric values in the `title` part and name it ** number_in_title **.\nStep 2: Get an array of numeric values if any appear in `winery` and name it ** number_in_winery **.\n- Step 3:\n     + Retain values in title but not in winery\n     + If number_in_title contains more than 2 values, default to get the maximum value that is valid (less than 2020 - at many very large values).\n     + Fill empty values equal to the production year of the preceding sample.\n    \n- Step 4: Eliminate false values.","969607ff":"### What grape varieties are most used to make wine?","9ed06e7c":"## 1. Which province have the most wine producing regions, the average wine prices, average scores across these provinces.?","a48008b5":"# Preprocessing data","671e8cbf":"Delete properties that do not have much meaning or difficult values in the analysis","2e782158":"## The data type of variable","f373c817":"### Find out how well these wine reviewers usually try the wines for the money.","47cece49":"**Your comment**","8d39ebd6":"We can see:\n  + if the score is higher, the price increases\n  + Most of the most expensive wines range from 87 to 92 point\n","75593a3e":"### Which province that have the most brand of wines","3fdecc13":"### Which region can grow the most grapes?","d32f4943":"**Your comment**","e14bbf8a":"## 5. The authors who have the most reviews, and the range of scores they give for their reviews.","b3042159":"## Price's distribution","04253d26":"This can also partly affect their rating. If there are reviewers who just try out premium wines, they can always score well.","010d57d7":"### What types of grapes are grown in the most countries?","89c66236":"# Feature engineering","eba329d8":"Step 1 - handle with missing in categorical variable: fill 'unknown' for missing value.\n\n\nStep 2 -  handle with missing in numerical variable: fill price's missing value with average price of wine in the same country","7a7a4711":"After the above analysis, we will go to answer an interesting question - whether age affects alcohol prices or not.\n\nPreviously, according to the knowledge I saw in the newspaper and researched online, the old bottles of wine are expensive because:\n\n- The bottles of old wine are expensive because of their rarity and are carefully preserved.\n- Wine when drinking will have a very attractive aroma. When drinking, the wine is very soft, without a sharp feeling in the tongue or throat. The toxin content in alcohol has also been greatly reduced because over time, the toxin has been removed. Drinking perennial wine is not only delicious but also extremely safe for your health. This is also the reason why the wine for the longer it tastes and the more expensive.","2f345349":"### Visually by scatter plot chart to show the relationship between the variable price and age","2866d299":"**Your comment**","03a46863":"## Handle missing value","36a8759d":"## The correlation between points and price","363d3229":"Or in the below samples, the year is 2014, 2013, 2012, 2011. The number 1105 is part of the name of the wine, and as I mentioned above, the wines can be distinguished by the year of production.","bcc9151a":"## Which countries have the most wine producing regions and wine prices? Average scores between these country","6f1728f6":"The taste of the bottle of wine is determine by the type of grapes it makes. However it can be said that soil, and climate in the wine vineyard is the decisive factor to create a wine with perfect taste. In each vineyard there is a mineral content that nourishes the vine and its climate is characteristic. There are grapes \n\n**This is the first reason why we start to analysis of the most famous vineyards in the world.**","84bab257":"### Producer's wine price rating is in the top","ba24a8f7":"### Preprocessing: Find the year of manufacture and calculate the age of each wine","4dbc1bcd":"### About the points that the authors give to the wines they rate","3fe67398":"**Your comment**","80cc0061":"### Say these popular grape varieties are grown in many countries around the world, but let's see where this variety is used to make the highest valued wine.","4cc5f432":"**Your comment**","5affa985":"**Your comment**","94e305f0":"**We consider only the 20 countries with the most reviews. and previously this list of 20 countries is stored in the country variable**","6df678e5":"# References","34dcb479":"**Your comment**","3a4113bf":"# Load data","dcc49d67":"Step 3:","ed66989a":"**Your comment**","1e14acfb":"Step 2:","6d2cc285":"## 3. Which are the most famous winemakers in the world?","b244b580":"# EDA","50dbdea1":"As above, we see that the value domain of price is very large. But the price'mean is only 39.6 .So there are some outlier with price more than 3000, make the distribution to skew the left, and difficult to observe. So to avoid the influence of outlier, we normalize price by taking log to see how the price'distribution.","ba88b5b4":"**Your comment**","913dedda":"**Your comment**","ca02c279":"If you check again in the data,only 1 sample belongs to Egypt and the value in its price is null. So here we don't know how update the price of the wine in this country. So for the sake of simplicity below we delete the line belonging to Egypt","a0248970":"We have analyzed the first 2 factors to get a good bottle of wine, which is the producer and the wine growing region. Now, let's break down the very important thing that remains the grape variety.\n\nThe wine grapes are usually smaller than the grape eaten, thicker skin and always contain seeds. In the dataset, the varieties are stored in the `variety` property.","2ef7d982":"### Which countries have the most wine producing regions?","b8552cff":"## 6. How does alcohol age affect the price of the wines?","32f738ed":"To answer this question, we have to find 2 quests\n\n- Find and calculate the year of wine production and then based on the year of production to calculate the age. So where is the year of wine production?\n\n\n- With the newly created age attribute, we statistic the number of samples for each age.\n\n\n- Draw a scatter chart to show the relationship between the variable price and age.","d0411d70":"### The average points between countries that have the most reviews","88ca8b83":"### The prices for the wines are made from over 20 of the most popular grapes","c83736c1":"Create a province variable containing the most 20 provinces in the dataset.","f8793481":"# Question\n\n## I have some question here\n\n1. Which province have the most wine producing regions, the average wine prices, average scores across these provinces.?\n2. Which countries have the most wine producing provinces, the average wine prices, average scores across these countries.?\n3. Which are the most famous winemakers in the world?\n4. What types of grapes are the most commonly used for wine production? What is the price and average score for the bottle of wine make from them?\n5. The authors who have the most reviews, and the range of scores they give for their reviews.\n6. How does alcohol age affect the price of the wines?"}}