{"cell_type":{"96559c65":"code","d5e13c7c":"code","f56fe6dd":"code","21980d1f":"code","fe11bc51":"code","3878a275":"code","6ed5f141":"code","e3280cee":"code","5406181f":"code","d0e05f57":"code","f02b7c3d":"code","bb4f9541":"code","99da0515":"code","b9c0eb83":"code","2db22b4c":"code","71264254":"code","3ef8b31e":"markdown"},"source":{"96559c65":"import numpy as np \nimport pandas as pd\nimport os\n\nimport itertools\nfrom sklearn import preprocessing\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.model_selection import train_test_split\nfrom sklearn import svm\nfrom sklearn.model_selection import GridSearchCV\nfrom sklearn import metrics \nfrom sklearn.metrics import f1_score\nfrom sklearn.model_selection import cross_val_score\nimport matplotlib.pyplot as plt\nimport seaborn as sns","d5e13c7c":"os.listdir(\"..\/input\")","f56fe6dd":"df15 = pd.read_csv(\"..\/input\/2015.csv\")\ndf16 = pd.read_csv(\"..\/input\/2016.csv\")\ndf17 = pd.read_csv(\"..\/input\/2017.csv\")\ndf18 = pd.read_csv(\"..\/input\/2018.csv\")\ndf19 = pd.read_csv(\"..\/input\/2019.csv\")","21980d1f":"df15.head()","fe11bc51":"df16.head()","3878a275":"df17.head()","6ed5f141":"df18.head()","e3280cee":"df19.head()","5406181f":"def cluster_map(d, title=\"\"):\n    sns.set(style=\"white\")\n    sns.clustermap(d.corr(), \n                   pivot_kws=None, \n    #                method='average', \n    #                metric='euclidean', \n                   z_score=None, \n                   standard_scale=None,\n                   figsize=None,\n                   cbar_kws=None, \n                   row_cluster=True, \n                   col_cluster=True, \n                   row_linkage=None, \n                   col_linkage=None,\n                   row_colors=None, \n                   col_colors=None, \n                   mask=None,\n                   center=0,\n                   cmap=\"vlag\",\n                   linewidths=.75, \n    #                figsize=(13, 13)\n                  )\n    \n    plt.title(title)\n    \ndef corr_plot(d, title=\"\"):\n    # Compute the correlation matrix\n    corr = d.corr()\n    columns = d.columns\n    # Generate a mask for the upper triangle\n    mask = np.zeros_like(corr, dtype=np.bool)\n    mask[np.triu_indices_from(mask)] = True\n\n    # Set up the matplotlib figure\n    f, ax = plt.subplots(figsize=(len(columns), len(columns)))\n\n    # Generate a custom diverging colormap\n    # cmap = sns.diverging_palette(220, 10, as_cmap=True)\n    cmap = sns.diverging_palette(h_neg=220, h_pos=10, s=75, l=50, sep=10, n=len(columns), center='light', as_cmap=True)\n\n    sns.set(style=\"white\")\n    sns.heatmap(corr,\n             vmin=None,\n             vmax=None,\n             cmap=cmap,\n             center=None,\n             robust=True,\n             annot=True, \n    #          fmt='.2g',\n             annot_kws=None, \n    #          linewidths=0.5, \n    #          linecolor='white',\n             cbar=True,\n             cbar_kws={\"shrink\": .5},\n             cbar_ax=None, \n             square=True, \n             xticklabels='auto',\n             yticklabels='auto', \n             mask=mask, \n             ax=None)\n\n\n    plt.yticks(rotation=0)\n    plt.xticks(rotation=90)  \n    plt.title(title)","d0e05f57":"cluster_map(df15, title=\"2015\")\ncluster_map(df16, title=\"2016\")\ncluster_map(df17, title=\"2017\")\ncluster_map(df18, title=\"2018\")\ncluster_map(df19, title=\"2019\")","f02b7c3d":"corr_plot(df15, title=\"2015\")\ncorr_plot(df16, title=\"2016\")\ncorr_plot(df17, title=\"2017\")\ncorr_plot(df18, title=\"2018\")\ncorr_plot(df19, title=\"2019\")","bb4f9541":"df19.head()","99da0515":"features = ['GDP per capita', 'Social support', 'Healthy life expectancy', 'Freedom to make life choices', \n            'Generosity','Perceptions of corruption']","b9c0eb83":"df = df18\n\ny = \"Score\"\n\nplt.rcParams[\"figure.figsize\"] = (18,3)\n\nfor x in features:\n    sns.lineplot(x=x, y=y, data=df18)\n    sns.lineplot(x=x, y=y, data=df19)\n    plt.title(x.title() + \" vs. \" + y.title())\n    plt.plot()\n    plt.show()","2db22b4c":"df19.columns\n","71264254":"from sklearn.preprocessing import OneHotEncoder\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn import linear_model\n\n\nfeatures = ['GDP per capita', 'Social support', 'Healthy life expectancy', 'Freedom to make life choices', \n            'Generosity','Perceptions of corruption']\n\ntarget = \"Score\"\n# target = \"Overall rank\"\n\n\nX = df19[features]\ny = df19[target]\n\n\nclf = linear_model.Ridge()\n\n\nscores = cross_val_score(clf, X, y, cv=5, scoring='neg_mean_absolute_error')\nscores.mean()","3ef8b31e":"Following can be found from above line\/relational, correlation plot\n- 'GDP per capita', 'Social support', 'Healthy life expectancy' was positively correlated with happiness scores\n- 'Generosity', 'Perceptions of corruption' was not correlated with happines scores"}}