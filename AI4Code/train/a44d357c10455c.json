{"cell_type":{"3809690d":"code","33d39ae5":"code","83c378e9":"code","983dcc87":"code","16e70ebf":"code","d944f2d6":"code","c5a1c5ee":"code","b0b267d8":"code","557854e2":"code","c113bf44":"code","d6569d56":"code","106435ba":"code","c4cdf24a":"code","000b8b9b":"code","ddfc79fc":"code","b75f450b":"code","cb7a7e4b":"code","bc257401":"code","4370230b":"code","63084398":"code","f135df14":"code","205a40f4":"code","8853a229":"code","787196a6":"code","55c1f1af":"code","f1f94e62":"code","99d0364d":"code","ad2df5d9":"code","87f7e92d":"code","81e47929":"code","946786bf":"code","407c2c30":"code","a27fcdaa":"code","8e56bf74":"code","4f9a5f95":"code","b28ce1da":"code","2399e665":"code","89cc6b3d":"code","69b783e7":"code","e900ebb0":"code","9dbc49cd":"code","1ef01d7f":"code","9954f54c":"code","fad74379":"markdown","21a6f9aa":"markdown","d0716f36":"markdown","16e776b1":"markdown","f3d8dd31":"markdown","176463ac":"markdown","78ef90be":"markdown","5e846201":"markdown","2fd48b8c":"markdown","ac0c20d7":"markdown","164f532b":"markdown","c6b6fc81":"markdown","39d4c7f6":"markdown","9435fa1f":"markdown","1d7ec445":"markdown","2397da3a":"markdown","4d87f835":"markdown","96d414de":"markdown","bf9d8627":"markdown","986a8eb1":"markdown","ea537b3c":"markdown","922584ce":"markdown"},"source":{"3809690d":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","33d39ae5":"import numpy as np\nimport pandas as pd \nfrom matplotlib import pyplot as plt\nimport seaborn as sns\nplt.style.use('seaborn')\n\n%matplotlib inline","83c378e9":"df = pd.read_csv('..\/input\/english-premier-league202021\/EPL_20_21.csv')\ndf.shape","983dcc87":"df.info()","16e70ebf":"df.isna().sum()","d944f2d6":"df.head()","c5a1c5ee":"clubs = df['Club'].unique()","b0b267d8":"teams = df.groupby('Club')","557854e2":"def get_total_category_data(col):\n    total = []\n    for club in clubs:\n        total.append(teams.get_group(club)[col].sum())\n    data = pd.DataFrame({'Club':clubs,f'Total {col}':total})\n    return data","c113bf44":"total_goals = get_total_category_data('Goals')\ntotal_goals","d6569d56":"total_goals[total_goals['Total Goals'] == total_goals['Total Goals'].max()]","106435ba":"total_goals[total_goals['Total Goals'] == total_goals['Total Goals'].min()]","c4cdf24a":"plt.figure(figsize=(10,10))\nsns.barplot(data=total_goals,x='Total Goals',y='Club')\nplt.title(\"Club and Total Goals\")\nplt.show()","000b8b9b":"total_assists = get_total_category_data('Assists')\ntotal_assists","ddfc79fc":"total_assists[total_assists['Total Assists'] == total_assists['Total Assists'].max()]","b75f450b":"total_assists[total_assists['Total Assists'] == total_assists['Total Assists'].min()]","cb7a7e4b":"plt.figure(figsize=(10,10))\nsns.barplot(data=total_assists,x='Total Assists',y='Club')\nplt.title(\"Club and Total Assists\")\nplt.show()","bc257401":"total_Pgoals = get_total_category_data('Penalty_Goals') \ntotal_Pattempted = get_total_category_data('Penalty_Attempted')","4370230b":"penalties = total_Pattempted.merge(total_Pgoals,on='Club')","63084398":"penalties","f135df14":"y=np.arange(20)\nplt.figure(figsize=(10,15))\nplt.barh(y,penalties['Total Penalty_Attempted'], label='Penalties Attempted',color='green',height=0.4)\nplt.barh(y+0.4,penalties['Total Penalty_Goals'], label='Penalties Scored',color='blue',height=0.4)\nplt.title(\"Penalties Attempted vs Penalties Scored\")\nplt.yticks(y,penalties['Club'])\nplt.ylabel('Club')\nplt.xlabel(\"Number\")\nplt.gca().invert_yaxis()\nplt.legend()\nplt.show()","205a40f4":"Ycards = get_total_category_data('Yellow_Cards')\nRcards = get_total_category_data('Red_Cards')","8853a229":"cards = Ycards.merge(Rcards,on='Club')\ncards","787196a6":"y=np.arange(20)\nplt.figure(figsize=(10,15))\nplt.barh(y,cards['Total Yellow_Cards'], label='Yellow Cards',color='yellow',height=0.4)\nplt.barh(y+0.4,cards['Total Red_Cards'], label='Red Cards',color='red',height=0.4)\nplt.title(\"Yellow cards vs Red cards\")\nplt.yticks(y,cards['Club'])\nplt.ylabel('Club')\nplt.xlabel(\"Number\")\nplt.gca().invert_yaxis()\n#plt.xscale('log')\nplt.legend()\nplt.show()","55c1f1af":"highest_yellow = cards['Total Yellow_Cards'] == cards['Total Yellow_Cards'].max()\ncards[['Club','Total Yellow_Cards']][highest_yellow ]","f1f94e62":"highest_red = cards['Total Red_Cards'] == cards['Total Red_Cards'].max()\ncards[['Club','Total Red_Cards']][highest_red ]","99d0364d":"total_passes = get_total_category_data('Passes_Attempted')\ntotal_passes","ad2df5d9":"highest_passes = total_passes['Total Passes_Attempted'] == total_passes['Total Passes_Attempted'].max()\ntotal_passes[highest_passes]","87f7e92d":"plt.figure(figsize=(10,10))\nsns.barplot(data=total_passes,x='Total Passes_Attempted',y='Club')\nplt.title(\"Club and Total Passes\")\nplt.show()","81e47929":"for club in clubs:\n    sns.countplot(data=teams.get_group(club)[['Nationality']],y='Nationality')\n    plt.title(club)\n    plt.show()","946786bf":"top5 = lambda df,by :df.sort_values(by=by,ascending=False)[:5]","407c2c30":"goal_scorers = df[['Name','Club','Goals','Penalty_Goals']]\ntop5(goal_scorers, 'Goals')","a27fcdaa":"assist_providers = df[['Name','Club','Assists']]\ntop5(assist_providers, 'Assists')","8e56bf74":"passes_attempted = df[['Name', 'Club', 'Position', 'Passes_Attempted']]\ntop5(passes_attempted,'Passes_Attempted')","4f9a5f95":"yellow_cards = df[['Name','Club','Yellow_Cards']]\ntop5(yellow_cards,'Yellow_Cards')","b28ce1da":"red_cards = df[['Name','Club','Red_Cards']]\ntop5(red_cards,'Red_Cards')","2399e665":"most_time_played = df[['Name','Club','Mins']]\ntop5(most_time_played,'Mins')","89cc6b3d":"def club_top_player(category):\n    names = []\n    top = []\n    for club in clubs:\n        gs = teams.get_group(club)[['Name','Club',category]]\n        top_player = gs[gs[category] == gs[category].max()][:1]\n        names.append(list(top_player['Name'])[0])\n        top.append(list(top_player[category])[0])\n    tdf = pd.DataFrame({'Club':clubs,'Name':names,f'{category}':top})\n    return tdf","69b783e7":"#Top scorer of each club\nclub_top_player(category='Goals')","e900ebb0":"#Top assist provider of each club\nclub_top_player(category='Assists')","9dbc49cd":"#Most matches played for each club\nclub_top_player(category='Matches')","1ef01d7f":"#Most time played \nclub_top_player(category='Mins')","9954f54c":"#Highest Passes Attempted player of each club\nclub_top_player(category='Passes_Attempted')","fad74379":"# **Top 5 most Assist makers**","21a6f9aa":"# **Total Assists of each club**","d0716f36":"# **Passes Attempted**","16e776b1":"# **PL Club's Stats**","f3d8dd31":"## **Club with highest Goals**","176463ac":"# **Yellow cards vs Red cards**","78ef90be":"# **Penalties Attempted vs Penalties Scored**","5e846201":"# **Top 5 red cards**","2fd48b8c":"# **Player's stats**","ac0c20d7":"# **Club and Nationality**","164f532b":"# **Club with highest Red Cards**","c6b6fc81":"# **Top 5 Most Minutes played**","39d4c7f6":"# **Top 5 Goal Scorers**","9435fa1f":"# **Top 5s**","1d7ec445":"## **Club with least Goals**","2397da3a":"# **Top 5 yellow cards**","4d87f835":"# **Club with highest Yellow Cards**","96d414de":"# **Total goals by each club**","bf9d8627":"# **Club with Least Assists**","986a8eb1":"# **Club with highest Assists**","ea537b3c":"# **Top 5 passes attempted**","922584ce":"# **Top Scorer of each club**"}}