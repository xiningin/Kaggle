{"cell_type":{"37897477":"code","bbc4a501":"code","27983e84":"code","d89eb802":"code","d0cf9f2d":"code","1ea58471":"code","1c23e3c1":"code","8d876ea4":"code","b294a61e":"code","811c7494":"code","bd2ff0fd":"code","d3adc873":"code","763c3460":"code","9daaa2c8":"code","3bca889e":"code","14d03ee5":"code","5dab5049":"markdown","0abdd05f":"markdown","fb9438f0":"markdown","c4c8c33a":"markdown"},"source":{"37897477":"# Import all the required libraries\nfrom tensorflow.keras.preprocessing import image\nfrom tensorflow.keras.preprocessing.image import load_img, img_to_array\nfrom tensorflow.keras.applications.resnet50 import ResNet50, preprocess_input, decode_predictions","bbc4a501":"# Create an instance of the pre-trained Resnet model\nmodel = ResNet50()","27983e84":"#  Loads the image into the Jupyter Notebook\nimg_path = '..\/input\/images\/bird.jpg'\nimg = load_img(img_path, target_size=(360, 480))\nimg","d89eb802":"# Converts the image into a NumPy array, which is the desired format for Keras\nimg = img_to_array(img)\nimg.shape","d0cf9f2d":"# Reshape the image into a four-dimensional format since that's what is expected by the model\nimg = img.reshape((1, 360, 480, 3))","1ea58471":"# Converts the input into a format that's acceptable for the model\nimg = preprocess_input(img)\n","1c23e3c1":"# Run the prediction\nresult = model.predict(img)","8d876ea4":"# Converts the numeric output of the model prediction into text labels\nlabel = decode_predictions(result)\nlabel","b294a61e":"# Get a class having high probability\nlabel = label[0][0][1]\nlabel","811c7494":"# Print the label\nprint('This is most probably ' + label)","bd2ff0fd":"#  The text to be converted into speech\ntxt = 'This is most probably ' + label","d3adc873":"# Import the required libraries\n!pip install gtts\n\nfrom gtts import gTTS\nimport os","763c3460":"# Converting text into speech\nspeech = gTTS(text=txt)","9daaa2c8":"# Save the resulting audio file\nspeech.save(\"prediction.mp3\")\n","3bca889e":"os.system(\"prediction.mp3\")\n","14d03ee5":"# Play an audio file\n\nfrom pydub import AudioSegment\nimport IPython\n\naudio_path = '.\/prediction.mp3'\n\nIPython.display.Audio(audio_path)\n","5dab5049":"In this script we will classify an image of bird using a pre-trained model called **ResNet50** and the text will be converting into speech using a API called **Google Text-to-Speech (gTTS)**.","0abdd05f":"The model has successfully identified our image(bird). Further we will convert this result into speech.","fb9438f0":"--------------------------------------------   END   ------------------------------------------------","c4c8c33a":"# Classify an image and convert the resulting class text into speech"}}