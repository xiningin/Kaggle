{"cell_type":{"a8fb0d16":"code","7ab55507":"code","e3f37b95":"code","3fd417bd":"code","20782bf6":"code","dd4e90b8":"code","b1358e17":"code","ac30b65c":"code","f7900c0a":"code","03deb9aa":"code","54b3b757":"markdown"},"source":{"a8fb0d16":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os","7ab55507":"districts = pd.read_csv('\/kaggle\/input\/learnplatform-covid19-impact-on-digital-learning\/districts_info.csv')\ndistricts.head()","e3f37b95":"# combine all district engagement data files into one data frame\nengagement = pd.DataFrame()\nfor dirname, _, filenames in os.walk('\/kaggle\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data\/'):\n    for filename in filenames:\n        district_engagement = pd.read_csv(os.path.join(dirname, filename))\n        district_engagement['district_id'] = float(filename.split('.')[0])\n        engagement = engagement.append(district_engagement)\nengagement.head()","3fd417bd":"engagement.drop(['time', 'lp_id', 'pct_access'], axis=1, inplace=True)\nengagement","20782bf6":"# Focus on average engagement index by district\nengagement = engagement.groupby('district_id').mean()","dd4e90b8":"engagement = pd.merge(engagement, districts, on='district_id')\nengagement.dropna(inplace=True)\nengagement.head()","b1358e17":"engagement = engagement[['engagement_index', 'pct_black\/hispanic', 'pct_free\/reduced', 'pp_total_raw']]\nengagement","ac30b65c":"# Convert interval values to means\n\ndef get_interval_mean(interval):\n    if str(interval) != 'nan':\n        limits = str(interval).split(',')\n        lower_limit = float(limits[0][1:])\n        upper_limit = float(limits[1][:-1])\n        return (lower_limit + upper_limit)\/2\n    else:\n        return None\n\nengagement['pct_black\/hispanic_mean'] = engagement['pct_black\/hispanic'].apply(\n    get_interval_mean)\nengagement['pct_free\/reduced_mean'] = engagement['pct_free\/reduced'].apply(\n    get_interval_mean)\nengagement['pp_total_raw_mean'] = engagement['pp_total_raw'].apply(\n    get_interval_mean)\n","f7900c0a":"engagement = engagement[['engagement_index', 'pct_black\/hispanic_mean', \n                         'pct_free\/reduced_mean', 'pp_total_raw_mean']]\nengagement","03deb9aa":"engagement.corr()","54b3b757":"# Conclusions: \nThere is a significant positive correlation (0.26) between per-pupil expenditure and average pupil engagement with online tools by district.\n\nThere is a significant negative correlation (-0.15) between percentage of Black\/Hispanic students and average pupil engagement with online tools by district."}}