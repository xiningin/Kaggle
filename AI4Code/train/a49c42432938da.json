{"cell_type":{"8f00e3a9":"code","8da03b7c":"code","a1db57cb":"code","8189a42d":"code","7e415def":"code","3f8ec630":"code","b3f477b2":"code","42862c22":"code","27be8eb4":"code","1986fadc":"code","864b62e6":"code","91f4fb99":"code","c80a4fa6":"code","200fdfdc":"code","1214866f":"code","9c02bb24":"code","50ceccb8":"code","ef071fd6":"code","de14c49b":"code","97d980de":"code","5876b003":"code","c23540fd":"code","b2a9b498":"markdown","618e9fab":"markdown","9dbcffe7":"markdown","1e326338":"markdown","b66c107a":"markdown","94f1fbe0":"markdown","078eaa2a":"markdown","1806018f":"markdown","f5413b06":"markdown","e439a9fc":"markdown","4762a916":"markdown","c24f89b2":"markdown","72267390":"markdown","470ad123":"markdown","658443a4":"markdown","9feb24d7":"markdown","257c8550":"markdown","96b8d57a":"markdown","4b31d5e1":"markdown","22e0592b":"markdown","d5d827b2":"markdown","97e40829":"markdown","994e264a":"markdown","5915a796":"markdown","eecfa34e":"markdown","0a285b9e":"markdown"},"source":{"8f00e3a9":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.image as mpimg\n%matplotlib inline\nimport seaborn as sns","8da03b7c":"df=pd.read_csv('..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv')","a1db57cb":"df.head()","8189a42d":"df.describe(include='all')","7e415def":"df.dtypes","3f8ec630":"df.isnull().sum()","b3f477b2":"df.drop(['id','host_name','last_review'], axis=1, inplace=True)","42862c22":"names=[]\nupper=[]\nfor i in df.name:\n    j=str(i).split()\n    upper.append(j)\nfor i in upper:\n    for j in i:\n        names.append(j.lower())\nfrom collections import Counter\n#let's see top 20 used words\ntop_20=Counter(names).most_common()\ntop_20=top_20[0:20]\ntop_20","27be8eb4":"nd=pd.DataFrame(top_20)\nnd=nd.rename(columns={0:'Words', 1:'Count'})\nplt.figure(figsize=(18,12))\nsns.barplot(nd['Words'], nd['Count'], palette='Accent')","1986fadc":"# Analysing the uniques present..\ndf.neighbourhood_group.unique()","864b62e6":"# Analysing the uniques present..\ndf.neighbourhood.unique()","91f4fb99":"df.room_type.unique()","c80a4fa6":"plt.figure(1, figsize=(15, 7))\nplt.title(\"Which was the host max no. of times\")\nsns.countplot(x = \"host_id\", order=df['host_id'].value_counts().index[0:10] ,data=df,palette='Accent')","200fdfdc":"avg_=df.groupby('neighbourhood_group',as_index=False)['price'].mean()\nplt.figure(figsize=(10,6))\nsns.barplot(avg_['neighbourhood_group'], avg_['price'])","1214866f":"plt.figure(1, figsize=(15, 7))\nplt.title(\"Neighbourhood Counts\")\nsns.countplot(x = \"neighbourhood\", order=df['neighbourhood'].value_counts().index[0:10] ,data=df)","9c02bb24":"#taking top 10 neighbourhoods\nnei=df.loc[df['neighbourhood'].isin(['Williamsburg','Bedford-Stuyvesant','Harlem','Bushwick',\n                                               'Upper West Side','Hell\\'s Kitchen','East Village','Upper East Side',\n                                               'Crown Heights','Midtown'])]\n#using factorplot to represent multiple interesting attributes together and a count\nplot=sns.factorplot(x='neighbourhood', hue='neighbourhood_group', col='room_type', data=nei, kind='count')\nplot.set_xticklabels(rotation=90)","50ceccb8":"req=df[df.price<500]\nplot=req.plot(kind='scatter', x='longitude', y='latitude', label='availability_365', c='price',\n                  cmap=plt.get_cmap(), colorbar=True, alpha=0.4, figsize=(10,8))","ef071fd6":"sns.scatterplot(df.longitude,df.latitude,hue=df.neighbourhood_group,palette='Accent')","de14c49b":"top=df.nlargest(10,'number_of_reviews')\ntop","97d980de":"plt.figure(figsize=(15,10))\nplt.xticks(rotation=60)\nsns.barplot(top['name'], top['number_of_reviews'], palette='Accent')","5876b003":"sns.kdeplot(df['price'],shade=True,color='r')","c23540fd":"import scipy.stats as stats\nsns.distplot(np.log1p(df['price']),color='r')","b2a9b498":"#### We compare price based on location on the map.","618e9fab":"#### We see that thre are many missing values in the columns.\nThe presence of NULL values in **name** and **host_id** don't make difference as they are not important for our analysis.\nIn **last_review** column, we cannot perform any operation as the values are simply not available.\nFor, **reviews_per_month** we impute the value 0.0 .","9dbcffe7":"## Data Exploration and Data Visualization :","1e326338":"## Let's begin with analyzing names:","b66c107a":"#### We see that the price distribution follows log(1+p) distriburtion.","94f1fbe0":"### Let's Examine the neighbourhood_group with prices","078eaa2a":"We can clearly observe that words like `room, bedroom, private, apartment, cozy` are widely used rather than some catchy headlines that are expected to be used for marketing.","1806018f":"We can infer that top reviews have come from the area `Herlem` and most of the people have opted for a `Private room` and most reviews are from **Room near JFK Queen Bed** which is from Jamaica neighbourhood.","f5413b06":"We see that there are three plots. As we see that there are 2 parameters column and hue and these are the factors which are respomsible for separation of **Factor Plot**. We see that **shared room is barely available** in top 10 listing. **Manhattan and Brooklyn** are the most travelled locations. We can also observe that Bedford-Stuyvesant and Williamsburg are the most popular for Manhattan borough, and Harlem for Brooklyn.","e439a9fc":"## Price","4762a916":"These are **top 10** neighbourhoods.","c24f89b2":"As we can see that the price distribution is very unevenly distributed, with most being low priced.\nSo there is no use of finding mean of the prices as it will have affect of outliers.","72267390":"### Loading the required libraries..","470ad123":"#### We can see that there are 16 columns which give tremendous amount of information.","658443a4":"## Room Type:","9feb24d7":"We can see the locatiom of various neighbourhood groups on map of **NYC** as shown above.","257c8550":"These are the **hosts** that take the maximum advantage of the airbnb services. We can see that top host has 327 listings in it followed by others.","96b8d57a":"Let's see the description or the overview of complete data.","4b31d5e1":"To analyze this first we'll create an empty list of all the words and then count the number of occurences of each word. So that we get the most popular terms used in airbnb services.","22e0592b":"### Let's examine host_id","d5d827b2":"## No. of Reviews","97e40829":"We see that **Manhattan** has the highest mean price. And the trend is:\n    * Manhattan\n    * Brooklyn\n    * Queens\n    * Staten Island\nFirst, we can state that Manhattan has the highest range of prices for the listings with $150 price as average observation, followed by Brooklyn with \\$90 per night. Queens and Staten Island appear to have very similar distributions, Bronx is the cheapest of them all. This distribution and density of prices were completely expected; for example, as it is no secret that Manhattan is one of the most expensive places in the world to live in, where Bronx on other hand appears to have lower standards of living.","994e264a":"#### Doing the above steps we got to know about the categorical variables.","5915a796":"#### We clearly see the representations of Latitudes and Longitudes in the above map.","eecfa34e":"## The END.\n### Please star\/upvote if you like.","0a285b9e":"## Latitude and Longitude Columns:"}}