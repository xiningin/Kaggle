{"cell_type":{"c11a90f6":"code","114ff6be":"code","c50a64cf":"code","ddb35f31":"code","a5ad6b1a":"code","4c33965a":"code","c12f6b1a":"code","e86f8bdb":"code","ecd06937":"code","c08a6322":"code","078f5ce5":"code","4e80e381":"code","c736e44e":"code","ea0881ad":"code","9acf6672":"code","773be131":"code","7379bb2d":"code","5406741c":"code","466b53eb":"code","cc3a51dd":"code","9e0d7c6f":"code","aa6f37ee":"code","3acb2211":"code","8dbda980":"code","21b4b7ac":"code","d31bc8c2":"code","ab079cd7":"code","270a93e9":"code","ad4a7ed8":"code","a626c879":"code","447227bc":"code","9037570c":"code","ce6c89ef":"code","f0afc238":"code","ddfaddfd":"code","da685f0c":"code","b4df9bda":"code","d3a16517":"code","cac2a7cc":"code","732357fc":"code","3a1718df":"code","3917f020":"code","dc2697c9":"code","ac3eb4c1":"code","2b7a3827":"code","02ab9b61":"code","e6f07ca0":"code","bbbab9a1":"code","2ea1749f":"code","fce4987c":"code","f9153e84":"code","dc8da3dc":"code","06626ed7":"code","3af65039":"code","8cf8bf34":"code","a613ceca":"code","6aef9582":"code","fdeee63d":"code","c066c002":"code","f084302c":"code","0c9128ad":"code","c8cc297d":"code","87f04fac":"code","602c8d01":"code","ad08ab2e":"code","a613b439":"code","f07f6e6f":"code","8c0022a9":"code","617c8403":"code","c5dd7d5d":"code","c128df6b":"markdown","2ed9fa19":"markdown","b729befb":"markdown","18cfec33":"markdown","41947013":"markdown","c03fb9a4":"markdown","ae1c1ed6":"markdown","19524b74":"markdown","bd04cb71":"markdown","cae3a211":"markdown","cce83e26":"markdown","c2f16efd":"markdown","a324e244":"markdown","5bdd8c9b":"markdown","53298fff":"markdown","2d998870":"markdown","8b46a62c":"markdown","f8d77531":"markdown","e0b71b80":"markdown","f5360894":"markdown","b5574903":"markdown","67d627ad":"markdown","bc611f1c":"markdown","99ea2f08":"markdown","cc260d4e":"markdown","6f673152":"markdown","1977511e":"markdown","3e08d85d":"markdown","aa6519ab":"markdown","baee50ad":"markdown","775154d9":"markdown","e218df5f":"markdown","b65fd2e4":"markdown","b5c6d5a8":"markdown","9a998217":"markdown","c67376a2":"markdown","bb5fb52c":"markdown","621e4050":"markdown","1af8b20e":"markdown","2b8c6d12":"markdown","38d7aaac":"markdown","9cce94d8":"markdown"},"source":{"c11a90f6":"import numpy as np\nimport pandas as pd\n\nimport statsmodels.api as sm\nfrom statsmodels.graphics.gofplots import qqplot\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\n\nimport warnings\nwarnings.filterwarnings('ignore')","114ff6be":"pf = pd.read_csv('\/kaggle\/input\/nfl-big-data-bowl-2022\/PFFScoutingData.csv')\npf.columns","c50a64cf":"pf = pf[['gameId', 'hangTime', 'operationTime', 'kickType', 'kickDirectionIntended', 'kickDirectionActual']]","ddb35f31":"pf.duplicated().sum()","a5ad6b1a":"pf.drop_duplicates(inplace=True)","4c33965a":"print(\"data shape:\", pf.shape)\npf.isna().sum()","c12f6b1a":"pf.dropna(axis=0, inplace=True)","e86f8bdb":"pf.shape","ecd06937":"pf.head(3)","c08a6322":"plays = pd.read_csv('\/kaggle\/input\/nfl-big-data-bowl-2022\/plays.csv')\nprint(plays.columns)","078f5ce5":"plays = plays[['gameId', 'playId', 'quarter', 'down', 'yardsToGo', 'possessionTeam', 'specialTeamsPlayType',\n              'specialTeamsResult', 'playResult']]","4e80e381":"plays.duplicated().sum()","c736e44e":"plays.isna().sum()","ea0881ad":"plays.shape","9acf6672":"plays.head(3)","773be131":"players = pd.read_csv('\/kaggle\/input\/nfl-big-data-bowl-2022\/players.csv')\nprint(players.columns)","7379bb2d":"players.duplicated().sum()","5406741c":"players.isna().sum()","466b53eb":"players.dropna(inplace=True)","cc3a51dd":"def func(row):\n    s = row['height'].split('-')\n    if len(s)==1:\n        return int(row['height'])\n    else:\n        return int(row['height'].split('-')[0])*12+int(row['height'].split('-')[1])","9e0d7c6f":"players['height'] = players.apply(func, axis=1)","aa6f37ee":"players['birthDate'] = pd.to_datetime(players['birthDate'])","3acb2211":"players.shape","8dbda980":"players.head(3)","21b4b7ac":"games = pd.read_csv('\/kaggle\/input\/nfl-big-data-bowl-2022\/games.csv')\ngames.columns","d31bc8c2":"games.duplicated().sum()","ab079cd7":"games.isna().sum()","270a93e9":"# games['gameDate'] = pd.to_datetime(games['gameDate'])","ad4a7ed8":"games.shape","a626c879":"games.head(3)","447227bc":"pf['kickType'].unique()","9037570c":"pf['kickType'] = pf['kickType'].map({'N':'standard punt style', 'A':'Aussie-style punts', 'R':'Rugby style punt'})","ce6c89ef":"pf['kickType'].value_counts()","f0afc238":"px.bar(pf['kickType'].value_counts(), title='Most frequent kick types', labels={'index':'style', 'value':'count'})","ddfaddfd":"pf[pf['kickDirectionActual']!=pf['kickDirectionIntended']].shape[0]","da685f0c":"Actual_Intend_dir = pd.pivot_table(data=pf, index=['kickDirectionIntended'], columns='kickDirectionActual', values='gameId', aggfunc='count').fillna(0)","b4df9bda":"plt.figure(figsize=(7,5))\nsns.heatmap(Actual_Intend_dir, cmap='Blues', annot=True);","d3a16517":"px.scatter(data_frame=pf, x='operationTime', y='hangTime', marginal_x='histogram', marginal_y='histogram')","cac2a7cc":"plt.figure(figsize=(15,5))\n\nx1 = plt.subplot(1, 2, 1)\nq1 = qqplot(pf['hangTime'], line='s',ax = x1)\n\nx2 = plt.subplot(1, 2, 2)\nq2 = qqplot(pf['operationTime'], line='s',ax = x2)","732357fc":"plays.head()","3a1718df":"px.bar(plays['quarter'].value_counts(), width=700, height=400, title='Number of plays each quarter', labels={'index':'quarter', 'value':'count'})","3917f020":"px.bar(plays['down'].value_counts(), width=700, height=400, title='Number of plays each down', labels={'index':'down', 'value':'count'})","dc2697c9":"plays['playResult'].describe()","ac3eb4c1":"px.histogram(plays['playResult'], width=1000, height=500)","2b7a3827":"plt.figure(figsize=(12,7))\nsns.violinplot(plays['playResult']);","02ab9b61":"top_10 = plays['possessionTeam'].value_counts()[:10]\ntop_10","e6f07ca0":"px.bar(top_10, width=1000, height=500, orientation='h', title='Number of plays each possessionTeam', labels={'index':'possessionTeam', 'value':'count'})","bbbab9a1":"t = plays['specialTeamsPlayType'].value_counts()\nt","2ea1749f":"px.pie(names=t.index, values=t, title='Special teams play type')","fce4987c":"players.head()","f9153e84":"plt.figure(figsize=(15,5))\nsns.lineplot(data=players, x='Position', y='height');","dc8da3dc":"plt.figure(figsize=(15,5))\nsns.lineplot(data=players, x='Position', y='weight');","06626ed7":"c = players['collegeName'].value_counts()[:10]\n\nplt.figure(figsize=(12,7))\nplt.barh(c.index, c);","3af65039":"players['height'].describe()","8cf8bf34":"players.query('height==66')","a613ceca":"players.query('height==81')","6aef9582":"print(\"Unique NFL seasons and their counts :\")\ng_season = games.pivot_table(index = ['season'], aggfunc = 'size') \ng_season = g_season.reset_index()\ng_season.columns= [\"Seasons\", \"Counts\"]\ng_season = g_season.sort_values(\"Counts\", ascending = False)\nprint(g_season)","fdeee63d":"px.bar(g_season, x=\"Seasons\", y=\"Counts\", title=\"NFL Seasons\", color=\"Seasons\")","c066c002":"print(\"Unique NFL weeks and their counts :\")\ng_week = games.pivot_table(index = ['week'], aggfunc = 'size') \ng_week = g_week.reset_index()\ng_week.columns= [\"Weeks\", \"Counts\"]\ng_week = g_week.sort_values(\"Counts\", ascending = False)\nprint(g_week)","f084302c":"px.bar(g_week, x=\"Weeks\", y=\"Counts\", title=\"NFL Weeks\", color=\"Weeks\")","0c9128ad":"temp=games['week']\nMatches_on_weekly_basis=pd.DataFrame()\nMatches_on_weekly_basis['week']=temp.value_counts().index\nMatches_on_weekly_basis['Count']=temp.value_counts().values\nMatches_on_weekly_basis=Matches_on_weekly_basis.sort_values(by='week')\nfig = px.line(Matches_on_weekly_basis, x=\"week\", y=\"Count\", title='Matches on Weekly Basis')\nfig.show()","c8cc297d":"print(\"Unique NFL dates and their counts :\")\ng_date = games.pivot_table(index = ['gameDate'], aggfunc = 'size') \ng_date = g_date.reset_index()\ng_date.columns= [\"Date\", \"Counts\"]\ng_date = g_date.sort_values(\"Counts\", ascending = False)\nprint(g_date)","87f04fac":"fig = px.bar(g_date, x=\"Date\", y=\"Counts\", title='Number of games for every date', color=\"Counts\")\nplt.figure(figsize=(9,7))\n\nfig.show()","602c8d01":"temp = games['gameDate'].value_counts().reset_index()\ntemp.columns = ['date', 'games']\ntemp = temp.sort_values('games')\n\nfig = px.line(temp, x='date',y=\"games\",  title='Number of games for every date')\nfig.show()","ad08ab2e":"print(\"Unique NFL timings and their counts :\")\ng_time = games.pivot_table(index = ['gameTimeEastern'], aggfunc = 'size') \ng_time = g_time.reset_index()\ng_time.columns= [\"Time\", \"Counts\"]\ng_time = g_time.sort_values(\"Counts\", ascending = False)\nprint(g_time)","a613b439":"px.bar(g_time, x=\"Time\", y=\"Counts\", title=\"Number of games based on Timing\", color=\"Counts\")","f07f6e6f":"temp = games['gameTimeEastern'].value_counts().reset_index()\ntemp.columns = ['time', 'games']\ntemp = temp.sort_values('games')\nplt.figure(figsize=(7,5))\nfig = px.line(temp, x='time',y=\"games\",  title='Number of games based on Timing')\nfig.show()","8c0022a9":"games['gameYear'] = pd.DatetimeIndex(games['gameDate']).year\nprint(games[\"gameYear\"])","617c8403":"print(\"number of games through years :\")\ng_year = games.pivot_table(index = ['gameYear'], aggfunc = 'size') \ng_year = g_year.reset_index()\ng_year.columns= [\"Year\", \"Counts\"]\ng_year = g_year.sort_values(\"Counts\", ascending = False)\nprint(g_year)","c5dd7d5d":"px.bar(g_year, x=\"Year\", y=\"Counts\", title=\"number of games through years \", color=\"Year\")","c128df6b":"    - minimum result is -72\n    - maximum result is 82\n    - average result is 27\n<br>We can see that the most frequent results are **0**, and **40**","2ed9fa19":"### 2.3 Player Data","b729befb":"#### Cheack for normailty with QQ-Plot","18cfec33":"<a id='q11'><\/a>\n### 3.10 Who is the tallest and shortest players?","41947013":"<a id='q14'><\/a>\n### 3.14 Number of games based on Timing\n","c03fb9a4":"## Project: Investigate a Dataset NFL\nby: **Abdallah Mahmoud**, **Ali Aboelnaga**, **Habiba Mourad**, **Omnia Ahmed**, **Reem Tarek**\n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">1. Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">2. Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">3. Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">4. Conclusions<\/a><\/li>\n<\/ul>","ae1c1ed6":"<a id='q11'><\/a>\n### 3.11 Which season has most plays?","19524b74":"**There is no observed relation between `hangTime` and `OperationTime`**","bd04cb71":"<a id='q6'><\/a>\n### 3.6 Minimum, maximum, and average play result","cae3a211":"<a id='q9'><\/a>\n### 3.9 What is the relation between `Position`, `Height`","cce83e26":"check for duplicates","c2f16efd":"1. The most frequent kick type is the standerd, followed by the Aussie.\n2. There are 191 cases where the player misses the inteded direction,90 times the intended direction was L (left), but the actual was C (center).\n3. The hangTime and OperationTime are normally distributed, but there is no relation bewteen them.\n4. Most playes happen in the second quarter, while only few are in the 5th quarter.\n5. Most plays heppen in down 0, folowed by 4, and only few happpen in down 1,2,3.\n6. the minimum result was -72, maximum was 82, average was 27 and we can see that the most frequent results are **0**, and **40**.\n7. The most frequent teams are `BAL` and `NO`.\n8. Most frequent specialTeamsPlayType is kickoff.\n9. `T` and `OT` tends to be the tallest players.\n10. Alabama graduates most special teams players.\n11. Number of plays in each season is almost the same.\n12. Number of plays per weeks varu from 41 to 48.\n13. Most number of matches happend on 01\/03\/2021, and least happened on 11\/04\/2019.\n14. Most plays starts at 13:00.\n15. 2020 has the most number of plays.","a324e244":"<a id='q8'><\/a>\n### 3.8 Most frequent specialTeamsPlayType","5bdd8c9b":"<a id='q2'><\/a>\n### 3.2 How often does the actual kick direction differ from the intended direction?","53298fff":"we have no `nulls`","2d998870":"drop nulls","8b46a62c":"Let's check first for duplicates and drop them","f8d77531":"convert `birthDate` to datetime","e0b71b80":"### 2.1 PFFScouting Data","f5360894":"<a id='conclusions'><\/a>\n## 4. Conclusions","b5574903":"again, check for nulls","67d627ad":"<a id='q3'><\/a>\n### 3.3 Relation between hangTime and OperationTime","bc611f1c":"<a id='q5'><\/a>\n### 3.5 Number of plays each down","99ea2f08":"select only target columns","cc260d4e":"### 2.2 Plays Data","6f673152":"Since the data is huge, we will work only on columns that we find most interesting to us and drop the rest.","1977511e":"<a id='q12'><\/a>\n### 3.12 Number of matches by week","3e08d85d":"There are lots of missing values\n\nWe have many choices:-\n1. drop columns with too many `NaN`\n2. replace them with 0\n3. fill them with the mean\/mode\n4. leave them\n\nsince we have many data we can drop the null values.","aa6519ab":"<a id='q4'><\/a>\n### 3.4 Number of plays each quarter","baee50ad":"<a id='q7'><\/a>\n### 3.7 Top 10 frequent possession teams","775154d9":"<a id='q10'><\/a>\n### 3.10 What college graduates most special teams players?","e218df5f":"Now, check for `null` values","b65fd2e4":"<a id='q13'><\/a>\n### 3.13 Number of games for every date","b5c6d5a8":"**The most frequent kick type is the `standerd`, followed by the `Aussie`**","9a998217":"<a id='q1'><\/a>\n### 3.1 What is the most frequent kickoff type?","c67376a2":"<a id='wrangling'><\/a>\n## 2. Data Wrangling\n\nIn this section of the report, we will load in the data, check for cleanliness, and then trim and clean the dataset for analysis.","bb5fb52c":"<a id='q15'><\/a>\n### 3.15 Number of games through years\n","621e4050":"**There are 191 cases where the player misses the inteded direction.**<br>\n<br>most frequent:-\n- 90 times the intended direction was `L` (left), but the actual was `C` (center)\n- 71 times the intended direction was `R` (right), but the actual was `C` (center)","1af8b20e":"### 2.4 Games Data","2b8c6d12":"**The most frequent specialTeamsPlayType is Kickoff**","38d7aaac":"<a id='intro'><\/a>\n## 1. Introduction\n### Overview\nThe 2022 Big Data Bowl data contains Next Gen Stats player tracking, play, game, player, and PFF scouting data for all 2018-2020 Special Teams plays.\n\n### Questions\n<ul>\n<li><a href=\"#q1\">1. What is the most frequent kickoff type?<\/a><\/li>\n<li><a href=\"#q2\">2. How often does the actual kick direction differ from the intended direction?<\/a><\/li>\n<li><a href=\"#q3\">3. Relation between hangTime and OperationTime<\/a><\/li>\n<li><a href=\"#q4\">4. Number of plays each quarter<\/a><\/li>\n<li><a href=\"#q5\">5. Number of plays each down<\/a><\/li>\n<li><a href=\"#q6\">6. Minimum, maximum and average play result<\/a><\/li>\n<li><a href=\"#q7\">7. Top 10 frequent possession teams<\/a><\/li>\n<li><a href=\"#q8\">8. Most frequent specialTeamsPlayType<\/a><\/li>\n<li><a href=\"#q9\">9. What is the relation between height and position<\/a><\/li>\n<li><a href=\"#q10\">10. What college graduates most special teams players<\/a><\/li>\n<li><a href=\"#q11\">11. Which season has most plays? <\/a><\/li>\n<li><a href=\"#q12\">12. Number of matches by week<\/a><\/li>\n<li><a href=\"#q13\">13. Number of games for every date<\/a><\/li>\n<li><a href=\"#q14\">14. Number of games based on Timing<\/a><\/li>\n<li><a href=\"#q15\">15. Number of games through years<\/a><\/li>\n<\/ul>","9cce94d8":"<a id='eda'><\/a>\n## 3. Exploratory Data Analysis"}}