{"cell_type":{"43dca526":"code","0b569b8c":"code","b86650fe":"code","7274b7bd":"code","2b5876ab":"code","d128ce72":"code","5ee831f3":"code","92548744":"code","24e56744":"code","ae89bea6":"code","fe3373cb":"code","67ec0c59":"code","a8669eca":"code","d39c99b0":"code","dd5e1813":"code","930e8d1f":"code","c6fe5212":"code","67f079b3":"code","60f87aaa":"code","1755d04e":"code","1f4b583a":"code","63249a06":"code","352bc6c6":"code","bebf1205":"code","a5522e3a":"code","268b93fe":"code","731cc4d3":"code","2eab9ba6":"code","24f99b75":"code","038467bd":"code","5cdb7e93":"code","d162eb73":"code","a4ed481a":"code","5ae0f7d6":"code","d5c010d5":"code","5ddb2f1f":"code","f493742f":"code","85e2d014":"code","b3640afb":"code","c99bf98c":"code","82653339":"code","52a22d1b":"code","e5e464bf":"code","b73667c2":"code","2a6a71ad":"code","36759816":"code","295712b6":"code","561ee114":"code","db38e8a9":"code","0875618c":"code","8973af84":"code","41b61617":"code","2396c311":"code","e2ca6780":"code","26a744f7":"code","1b810ab8":"code","d0d9f6c9":"code","c028ce95":"code","cd414cfb":"code","78dc0eb5":"code","54e14fd8":"code","cb16c660":"code","05f9e981":"code","7f249205":"code","042f5614":"code","cd8882a6":"code","7e362137":"code","00a72d1b":"code","3eb081e5":"code","f4d14986":"code","4e85a64e":"code","d947edec":"code","791b5d02":"code","46051096":"code","6c37cda1":"code","2e8af942":"code","db52ed8a":"code","08c39043":"markdown","c33b236d":"markdown","a9752dd4":"markdown","be4b4f33":"markdown","3a531a39":"markdown","a127d27b":"markdown","01442b6c":"markdown","69b26127":"markdown","14ea1936":"markdown","9c65e027":"markdown","82010d51":"markdown","03fed27d":"markdown","eb4f9898":"markdown","abd013b5":"markdown","bcf4755c":"markdown"},"source":{"43dca526":"import numpy as np\nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport warnings\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.metrics import classification_report, confusion_matrix, accuracy_score, make_scorer\nwarnings.filterwarnings('ignore')\n%matplotlib inline\n\nimport os","0b569b8c":"df = pd.read_csv(os.path.join('\/kaggle\/input\/titanic', 'train.csv'))","b86650fe":"df.head()","7274b7bd":"df.tail()","2b5876ab":"df.info()","d128ce72":"df.shape","5ee831f3":"df.isna().sum()","92548744":"df.duplicated().sum()","24e56744":"df.describe()","ae89bea6":"#ns.set_color_codes('dark')\nsns.set_palette(\"hls\")\nplt.rcParams['figure.figsize'] = 10, 8","fe3373cb":"# make copy of data:\ndfc = df.copy()","67ec0c59":"dfc.columns","a8669eca":"#removing passenger id column\ndfc = dfc.drop(columns=['PassengerId'])","d39c99b0":"sns.countplot(dfc.Survived);","dd5e1813":"dfc.Survived.value_counts(normalize= True)","930e8d1f":"sns.countplot(dfc.Pclass);","c6fe5212":"sns.barplot('Pclass', 'Survived', data = dfc, ci = None);","67f079b3":"# Survivors percentage for each class\ndfc.groupby('Pclass')['Survived'].agg('mean')*100","60f87aaa":"dfc.Name.sample(15)","1755d04e":"sns.countplot(dfc.Sex);","1f4b583a":"sns.barplot('Sex', 'Survived', data = dfc);","63249a06":"sns.distplot(dfc.Age);","352bc6c6":"dfc[dfc.Age < 1]","bebf1205":"sns.boxplot(y= 'Age', x ='Survived', data = dfc);","a5522e3a":"g1 = sns.FacetGrid(data = dfc, col = 'Survived', height= 4, aspect= 7\/6)\ng1.map(sns.distplot, 'Age');","268b93fe":"dfc.groupby('Survived')['Age'].agg([np.min, np.mean, np.max])","731cc4d3":"sns.boxplot('Age', data = dfc);","2eab9ba6":"g2 = sns.FacetGrid(data = dfc, col = 'Survived',  height= 4, aspect= 7\/6)\ng2.map(sns.boxplot, 'Age')","24f99b75":"dfc[dfc.Age > 60].Survived.value_counts()","038467bd":"sns.countplot(dfc.SibSp);","5cdb7e93":"sns.barplot('SibSp', 'Survived', data = dfc, ci = None);","d162eb73":"sns.countplot(dfc.Parch);","a4ed481a":"sns.barplot('Parch', 'Survived', data = dfc, ci = None);","5ae0f7d6":"dfc.Ticket.sample(10)","d5c010d5":"sns.distplot(dfc.Fare);","5ddb2f1f":"sns.boxplot(dfc.Fare);","f493742f":"dfc.Fare.describe()","85e2d014":"dfc[dfc.Fare >100].Pclass.value_counts()","b3640afb":"dfc.Cabin.sample(10)","c99bf98c":"dfc.Embarked.sample(10)","82653339":"sns.countplot(dfc.Embarked);","52a22d1b":"sns.barplot('Embarked', 'Survived', data = dfc, ci =False);","e5e464bf":"dfc['cabin_2'] = dfc.Cabin.str[0]\ndfc.head()","b73667c2":"sns.countplot(dfc.cabin_2);","2a6a71ad":"sns.barplot('cabin_2', 'Survived', data = dfc);","36759816":"dfc[dfc.cabin_2 == 'T']","295712b6":"dfc.groupby(['cabin_2', 'Pclass'])['Survived'].agg(['mean', 'count'])","561ee114":"sns.countplot('Pclass', data = dfc[dfc.Cabin.isna()]);","db38e8a9":"dfc[dfc.Cabin.isna()].info()","0875618c":"dfc[\"cabin_2\"].fillna(\n    dfc.groupby('Pclass')[\"cabin_2\"].transform(\n        lambda x: x.mode()[0]), inplace= True\n)","8973af84":"#check\ndfc.isna().sum()","41b61617":"dfc[dfc.Embarked.isna()]","2396c311":"emb_1 = dfc[dfc.Pclass == 1].Embarked.mode()[0]\nemb_1","e2ca6780":"dfc['Embarked'].fillna(emb_1, inplace= True)","26a744f7":"dfc.isna().sum()","1b810ab8":"dfc.cabin_2.unique()","d0d9f6c9":"dfc.cabin_2.replace({'A': 1, 'B': 2, 'C': 3, 'D': 4, 'E': 5, 'F': 6, 'G': 7, 'T': 8}, inplace= True)","c028ce95":"dfc.Embarked.unique()","cd414cfb":"dfc.Embarked.replace({'S': 1, 'C': 2, 'Q':3}, inplace =True)","78dc0eb5":"dfc.Sex.replace({'male': 0, 'female': 1}, inplace= True)","54e14fd8":"dfc.head()","cb16c660":"features = ['Pclass', 'Sex', 'SibSp', 'Parch', 'Fare', 'Embarked', 'cabin_2']","05f9e981":"X = dfc[features]\ny = dfc['Survived']","7f249205":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=1)","042f5614":"logreg = LogisticRegression(random_state=121)\n\nlogreg.fit(X_train, y_train)\n\ny_pred = logreg.predict(X_test)\n\naccuracy = accuracy_score(y_test, y_pred)\n\nprint('Accuracy:', accuracy)","cd8882a6":"df_test = pd.read_csv('..\/input\/titanic\/test.csv')","7e362137":"df_test['cabin_2'] = df_test.Cabin.str[0]\n","00a72d1b":"df_test[\"cabin_2\"].fillna(\n    df_test.groupby('Pclass')[\"cabin_2\"].transform(\n        lambda x: x.mode()[0]), inplace= True\n)","3eb081e5":"emb_test = df_test[df_test.Pclass == 1].Embarked.mode()[0]\n","f4d14986":"df_test['Embarked'].fillna(emb_test, inplace= True)","4e85a64e":"df_test.cabin_2.replace({'A': 1, 'B': 2, 'C': 3, 'D': 4, 'E': 5, 'F': 6, 'G': 7, 'T': 8}, inplace= True)","d947edec":"df_test.Embarked.replace({'S': 1, 'C': 2, 'Q':3}, inplace =True)","791b5d02":"df_test.Sex.replace({'male': 0, 'female': 1}, inplace= True)","46051096":"X_test_f = df_test[features]","6c37cda1":"X_test_f.fillna(X_test.Fare.median(), inplace = True)","2e8af942":"prediction = logreg.predict(X_test_f)","db52ed8a":"submission = pd.DataFrame({'PassengerId': df_test.PassengerId, 'Survived': prediction})\nsubmission.to_csv('submission.csv', index=False)\nprint(\"Your submission was successfully saved!\")","08c39043":"# Age:","c33b236d":"## Embarked:","a9752dd4":"# Pclass","be4b4f33":"# Name:","3a531a39":"## Ticket:","a127d27b":"# Parch","01442b6c":"## Cabin:","69b26127":"* Most passengers don't have any siblings or spouses.\n* Survival rate is high for passengerd with 1 or 2, while passengers with 5 or 8 didn't survive.","14ea1936":"# Exploring Data:","9c65e027":"# Notes:\n* Data consists of 891 observations and 12 columns.\n* We have both numerical and categorical features.\n* Some columns have null values: Age, Cabin and Embarked.","82010d51":"# Survived:","03fed27d":"# Sex","eb4f9898":"## Fare:","abd013b5":"# EDA:","bcf4755c":"# SibSp"}}