{"cell_type":{"f344e26d":"code","0df5751a":"code","4fe5cd56":"code","81f56927":"code","fb66706c":"code","7b5b1968":"code","984d9451":"code","bb20cdf3":"markdown","0adf3b10":"markdown","73f86122":"markdown","72382a4c":"markdown","1e2c58d3":"markdown","ded3983c":"markdown","df828fa5":"markdown","49b0fd62":"markdown","0e235137":"markdown"},"source":{"f344e26d":"# Import Python Packages\nimport pandas as pd\nimport numpy as np\nimport plotly.express as px\nimport warnings \nwarnings.filterwarnings('ignore')\n\n# Load Data\ncoordinates = pd.read_csv('\/kaggle\/input\/latitude-and-longitude-for-every-country-and-state\/world_country_and_usa_states_latitude_and_longitude_values.csv')\ncountry_coordinates = coordinates[['country_code','latitude','longitude','country']]\nstate_coordinates = coordinates[['usa_state_code','usa_state_latitude','usa_state_longitude','usa_state']]\ndf = pd.read_csv('\/kaggle\/input\/novel-corona-virus-2019-dataset\/covid_19_data.csv')\ndf['Country\/Region'].replace(['Mainland China'], 'China',inplace=True)\ndf['Country\/Region'].replace(['US'], 'United States',inplace=True)\ndf['Country'] = df['Country\/Region']\ndf = df[df.ObservationDate==np.max(df.ObservationDate)]\ntodays_date = '9\/23\/2020' # Update this line every time that you rerun the notebook\n\n# Mortality Ratio for every country in the dataset -- technically the ratio of deaths to infections\ndf_deaths = pd.DataFrame(df.groupby('Country')['Deaths'].sum())\ndf_confirmed = pd.DataFrame(df.groupby('Country')['Confirmed'].sum())\ndf_confirmed['Deaths'] = df_deaths['Deaths']\ndf_global = df_confirmed\ndf_global['Mortality Ratio'] = np.round((df_global.Deaths.values\/df_global.Confirmed.values)*100,2)\ndf_global = df_global.reset_index()\ndf_global = df_global.merge(country_coordinates, left_on='Country', right_on='country')\ndf_global = df_global[['Country','Confirmed','Deaths','Mortality Ratio','latitude','longitude','country_code']]\ndf_global.columns = ['Country','Confirmed','Deaths','Mortality Ratio','Latitude','Longitude','Country_Code']\ndf_global.to_csv('\/kaggle\/working\/global_covid19_mortality_rates.csv')\n\n# Mortality Ratio for every state in the USA -- technically the ratio of deaths to infections\ndf_usa = df[df['Country\/Region']=='United States']\ndf_usa = df_usa[df_usa.ObservationDate==np.max(df_usa.ObservationDate)]\ndf_usa['State'] = df_usa['Province\/State']\ndf_usa['Mortality Ratio'] = np.round((df_usa.Deaths.values\/df_usa.Confirmed.values)*100,2)\ndf_usa.sort_values('Mortality Ratio', ascending= False).head(10)\ndf_usa = df_usa.merge(state_coordinates, left_on='State', right_on='usa_state')\ndf_usa['Latitude'] = df_usa['usa_state_latitude']\ndf_usa['Longitude'] = df_usa['usa_state_longitude']\ndf_usa = df_usa[['State','Confirmed','Deaths','Recovered','Mortality Ratio','Latitude','Longitude','usa_state_code']]\ndf_usa.columns = ['State','Confirmed','Deaths','Recovered','Mortality Ratio','Latitude','Longitude','USA_State_Code']\ndf_usa.to_csv('\/kaggle\/working\/usa_covid19_mortality_rates.csv')","0df5751a":"fig = px.choropleth(df_global, \n                    locations=\"Country\", \n                    color=\"Confirmed\", \n                    locationmode = 'country names', \n                    hover_name=\"Country\",\n                    range_color=[0,2000000],\n                    title='Global COVID-19 Infections as of '+todays_date)\nfig.show()\n\nfig = px.choropleth(df_global, \n                    locations=\"Country\", \n                    color=\"Deaths\", \n                    locationmode = 'country names', \n                    hover_name=\"Country\",\n                    range_color=[0,100000],\n                    title='Global COVID-19 Deaths as of '+todays_date)\nfig.show()\n\nfig = px.choropleth(df_global, \n                    locations=\"Country\", \n                    color=\"Mortality Ratio\", \n                    locationmode = 'country names', \n                    hover_name=\"Country\",\n                    range_color=[0,10],\n                    title='Global COVID-19 Mortality Ratios as of '+todays_date)\nfig.show()","4fe5cd56":"fig = px.bar(df_global.sort_values('Confirmed',ascending=False)[0:20], \n             x=\"Country\", \n             y=\"Confirmed\",\n             title='Global COVID-19 Infections as of '+todays_date)\nfig.show()\n\nfig = px.bar(df_global.sort_values('Deaths',ascending=False)[0:20], \n             x=\"Country\", \n             y=\"Deaths\",\n             title='Global COVID-19 Deaths as of '+todays_date)\nfig.show()\n\nfig = px.bar(df_global.sort_values('Deaths',ascending=False)[0:20], \n             x=\"Country\", \n             y=\"Mortality Ratio\",\n             title='Global COVID-19 Mortality Ratios as of '+todays_date+' for Countries with Top 20 Most Deaths')\nfig.show()","81f56927":"fig = px.choropleth(df_usa, \n                    locations=\"USA_State_Code\", \n                    color=\"Confirmed\", \n                    locationmode = 'USA-states', \n                    hover_name=\"State\",\n                    range_color=[0,500000],scope=\"usa\",\n                    title='USA COVID-19 Infections as of '+todays_date)\nfig.show()\n\nfig = px.choropleth(df_usa, \n                    locations=\"USA_State_Code\", \n                    color=\"Deaths\", \n                    locationmode = 'USA-states', \n                    hover_name=\"State\",\n                    range_color=[0,20000],scope=\"usa\",\n                    title='USA COVID-19 Deaths as of '+todays_date)\nfig.show()\n\nfig = px.choropleth(df_usa, \n                    locations=\"USA_State_Code\", \n                    color=\"Mortality Ratio\", \n                    locationmode = 'USA-states', \n                    hover_name=\"State\",\n                    range_color=[0,10],scope=\"usa\",\n                    title='USA COVID-19 Mortality Ratios as of '+todays_date)\nfig.show()","fb66706c":"fig = px.bar(df_usa.sort_values('Confirmed',ascending=False)[0:20], \n             x=\"State\", \n             y=\"Confirmed\",\n             title='USA COVID-19 Infections as of '+todays_date)\nfig.show()\n\nfig = px.bar(df_usa.sort_values('Deaths',ascending=False)[0:20], \n             x=\"State\", \n             y=\"Deaths\",\n             title='USA COVID-19 Deaths as of '+todays_date)\nfig.show()\n\nfig = px.bar(df_usa.sort_values('Deaths',ascending=False)[0:20], \n             x=\"State\", \n             y=\"Mortality Ratio\",\n             title='USA COVID-19 Mortality Ratios as of '+todays_date+' for USA States with Top 20 Most Deaths')\nfig.show()","7b5b1968":"df_global2 = df_global\ndf_global2['Latitude'] = abs(df_global2['Latitude'])\ndf_global2 = df_global2[df_global2['Country']!='China']\n\nfig = px.scatter(df_global2.sort_values('Deaths',ascending=False), \n             x=\"Latitude\", \n             y=\"Confirmed\",\n             title='Global COVID-19 Infections vs Absolute Value of Latitude Coordinate as of '+todays_date)\nfig.show()\n\nfig = px.scatter(df_global2.sort_values('Deaths',ascending=False), \n             x=\"Latitude\", \n             y=\"Deaths\",\n             title='Global COVID-19 Deaths vs Absolute Value of Latitude Coordinate as of '+todays_date)\nfig.show()\nfig = px.scatter(df_global2.sort_values('Deaths',ascending=False), \n             x=\"Latitude\", \n             y=\"Mortality Ratio\",\n             title='Global COVID-19 Mortality Ratios vs Absolute Value of Latitude Coordinate as of '+todays_date)\nfig.show()\ndf_global.sort_values('Mortality Ratio', ascending= False).head(10)","984d9451":"fig = px.scatter(df_usa.sort_values('Deaths',ascending=False), \n             x=\"Latitude\", \n             y=\"Mortality Ratio\",\n             title='USA States COVID-19 Mortality Ratios vs Absolute Value of Latitude Coordinate as of '+todays_date)\nfig.show()\ndf_usa.sort_values('Mortality Ratio', ascending= False).head(10)","bb20cdf3":"*Step 3: Plot Spread of COVID-19 for Every Country*\n* Note that here the mortality ratio is defined as the ratio of deaths to infections * 100","0adf3b10":"# Conclusion\n\n**Does latitude impact the spread of COVID-19?  Perhaps this notebook will help answer that question once we have more data.**","73f86122":"*Step 4: Map Spread of COVID-19 for USA State*","72382a4c":"*Step 6: Plot COVID-19 vs Latitude for Every Country*\n* Note that here the mortality ratio is defined as the ratio of deaths to infections * 100","1e2c58d3":"*Step 7: Plot COVID-19 vs Latitude for Every USA State*\n* Note mortality ratio is the ratio of deaths to infections * 100","ded3983c":"*Step 1: Import Python packages and load the data*","df828fa5":"*Step 5: Plot Spread of COVID-19 for USA State*\n* Note mortality ratio is the ratio of deaths to infections * 100","49b0fd62":"*Step 2: Map Spread of COVID-19 for Every Country*","0e235137":"# Does latitude impact the spread of COVID-19?\n* Here I use public datasets that are hosted on Kaggle to demonstrate that there are geographic variations in both SARS-CoV-2 infection rates and COVID-19 mortality ratios."}}