{"cell_type":{"769cae46":"code","5fd55e27":"code","54e0f7a8":"code","06a768a9":"code","e419bdd7":"code","edd7fca4":"code","8687e4a6":"code","3bce2a50":"code","071f5e1d":"code","5df32659":"code","0ed1ce59":"code","79371583":"code","b4567e25":"code","402e8772":"code","b11c9d1b":"code","897dff2e":"markdown","5e83b103":"markdown","470a62bb":"markdown","1895c3f7":"markdown","e116bb60":"markdown","c16ae28d":"markdown","024d3f8e":"markdown","67716b2d":"markdown","a9e17c9b":"markdown","052a8a8c":"markdown","c3d986af":"markdown","b6e88862":"markdown","b4d0ac29":"markdown","31a84616":"markdown"},"source":{"769cae46":"import numpy as np \nimport pandas as pd\nfrom dateutil.parser import parse\nfrom typing import List\nimport matplotlib.pyplot as plt\nimport seaborn as sns","5fd55e27":"df = pd.read_csv(\"..\/input\/currency-exchange-rates\/exchange_rates.csv\")\ndf.dtypes","54e0f7a8":"# Parse dates\ndate_times : List = []\nfor index, row in df.iterrows():\n    date_times.append(parse(row[\"date\"], dayfirst=True))\ndf[\"date\"] = date_times\ndf.dtypes","06a768a9":"months_of_year : List = []\ndays_of_year : List = []\nfor index, row in df.iterrows():\n    # get day of year``\n    # get day of year``\n    days_of_year.append(row[\"date\"].to_pydatetime().timetuple().tm_yday)\n    # get day of year``\n    months_of_year.append(row[\"date\"].month)\ndf[\"day_of_year\"] = days_of_year\ndf[\"months\"] = months_of_year","e419bdd7":"AusDf = df.loc[df[\"currency\"] == \"AUD\"]\nAusDf.head()","edd7fca4":"plt.xticks(rotation = -45) \ndisplay(sns.lineplot(data=AusDf, x=\"date\", y=\"value\"))","8687e4a6":"unique_currencies = df[\"currency\"].unique()\nunique_dates = df[\"date\"].unique()\ncurrency_dict = {}\nfor currency in unique_currencies:\n    currency_dict[currency] = []\n\nfor date in unique_dates:\n    temp_df = df.loc[df[\"date\"] == date]\n    for currency in unique_currencies:\n        if (len(temp_df.loc[temp_df[\"currency\"] == currency]) > 0):\n            currency_dict[currency].append(temp_df.loc[temp_df[\"currency\"] == currency][\"value\"].iloc[0])\n    ","3bce2a50":"widedf = pd.DataFrame.from_dict(currency_dict)\nwidedf.head()","071f5e1d":"plt.figure(figsize=(10,10))\n    \n# plot the heatmap\nsns.heatmap(widedf.corr())","5df32659":"# calculate the correlation matrix\ncols = []\ncols_done = []\nfor col_one in widedf.iloc[:,:-1].columns:\n    if (abs(widedf[col_one].corr(widedf['AUD'])) > 0.5):\n        cols.append(col_one)\n    cols_done.append(col_one)\ncorrdf = widedf.copy()\ncorrdf = corrdf[cols].corr()\n    \n# plot the heatmap\nplt.figure(figsize=(10,10))\nsns.heatmap(corrdf, \n        xticklabels=corrdf.columns,\n        yticklabels=corrdf.columns)","0ed1ce59":"widedf = widedf.reset_index(drop=True)\nwidedf[\"id\"] = widedf.index\ndisplay(sns.regplot(x=\"id\", y=\"AUD\", data=widedf.iloc[-14:,:]).set(title='Last Two Weeks'))","79371583":"display(sns.residplot(x=\"id\", y=\"AUD\", data=widedf.iloc[-14:,:]).set(title='Last Two Weeks'))","b4567e25":"display(sns.regplot(x=\"id\", y=\"AUD\", data=widedf.iloc[-7:,:]).set(title='Last week'))","402e8772":"plt.xlim(27, 45)\ndisplay(sns.regplot(x=\"id\", y=\"AUD\", data=widedf.iloc[:,:], truncate=False, ci=99))","b11c9d1b":"plt.xlim(0, 45)\ndisplay(sns.regplot(x=\"id\", y=\"AUD\", order=2, data=widedf.iloc[:,:], truncate=False, ci=99).set(title='Last week'))","897dff2e":"# Polynomial Regression Graph\n\nThis is purely for fun. I don't believe it is useful for currency all that much.","5e83b103":"# Load libraries","470a62bb":"# Convert Date\n\nTurn the date column into a proper date datatype instead of an object","1895c3f7":"# Introduction\n\nI do a lot of research in currency trading so this is and interesting data set for me. Thanks @ruchi798 for making this available.\n\nI will be looking at the dataset with a particular interest in Australia, there is no particular reason for this and it should be easy to swap out for another country if a person is interested. If you feel there are things I could have done better please comment, I'm on Kaggle to learn.","e116bb60":"Interesting relationship with the Islander Krona, Hungarian Forint and the Rand. \n\nThis is most likely because the world is trying to adapt to the higher inflation expected and this is leading to different approaches to different currencies. Obviously this is an assumption based on a small time period but it would be my expectation.\n\nNot much surprise that the economies that are close geographically and economically linked to Australia are positively correlated.","c16ae28d":"Plot residuals of the last two weeks","024d3f8e":"# Create Day of Year Categorical Column\n\nIt is useful to break the data up into days and months","67716b2d":"# Plot Into Future\n\nThis is a very basic use of regression to look at the trend into the Future. Please note that currencies are difficult to predict even one day in advance. It cannot be understated how difficult it is to predict movements of a currency and I do not recommend trading based on predicted values.","a9e17c9b":"# Convert Table to Wide Format\n\nLets make the columns different countries with values","052a8a8c":"Create table","c3d986af":"# Look at Trends","b6e88862":"# Look at One Country - Australia","b4d0ac29":"# Correlations with Australia\n\nLet's look at correlations specific to Australia cutting out the minor ones","31a84616":"# Load Data"}}