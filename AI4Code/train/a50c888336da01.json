{"cell_type":{"e9d9c412":"code","a0b19747":"code","cfba9f8f":"code","4ae39c94":"code","ad18596c":"code","07196817":"code","a9d54868":"code","ee7872c6":"code","e620195d":"code","d1d551a5":"code","7360bb7a":"code","df4eae65":"code","bf0a6b1c":"code","e9074b89":"code","a5b45d1b":"code","ee48b676":"code","f15fedd5":"code","ceb98f9e":"code","f45128ef":"code","050780d8":"code","df8f88c9":"code","ac30bda1":"code","3a1c6f6f":"code","f3732980":"code","8a65797f":"code","1399b1b1":"code","41c05104":"code","7c409ec5":"code","f19d2e9a":"code","025406e8":"code","80cfdba3":"code","130aeb9b":"code","85db63f4":"code","df379bd3":"code","d0b71d88":"code","284ed691":"code","b2c81409":"code","59367358":"code","6b949961":"code","b62afd54":"code","35406f32":"code","8d6f2fbd":"code","5cd46366":"code","d5366ece":"code","2513c81d":"code","2975f11b":"code","0c4f20ca":"code","9896377a":"code","47c536d6":"code","ce2fdcdd":"code","b771d620":"code","506bbdba":"code","3cb78e0a":"code","8935ac88":"markdown","ae7e70b8":"markdown","7ede45b6":"markdown","104034ef":"markdown","c6799ec5":"markdown","26ff77ce":"markdown","dff56917":"markdown","97e2bbcd":"markdown","31422c02":"markdown","87409f95":"markdown","efece3fd":"markdown","25a09203":"markdown","e824a3be":"markdown","e10b327a":"markdown","ab3ebfcd":"markdown","8f164e14":"markdown","0173e7e5":"markdown","30800b14":"markdown","edb08fb2":"markdown","fc43a102":"markdown","b5d2564b":"markdown","0cf5209a":"markdown","a26c35c9":"markdown","d3806e3c":"markdown","a28fb4b4":"markdown"},"source":{"e9d9c412":"#Analysis and mathematical libraries\nimport numpy as np\nimport pandas as pd\n\n#Visualizations' libraries\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nimport seaborn as sns\n\n#For handling missing values\nimport missingno as msno\n\n#DateTime libraries\nimport time, datetime\n\n#Escape warnings\nimport warnings\nwarnings.filterwarnings('ignore')\n","a0b19747":"df = pd.read_csv('..\/input\/uberdrives\/My Uber Drives - 2016.csv')\ndf","cfba9f8f":"df.columns = df.columns.str.replace(\"*\",\"\")\n","4ae39c94":"df.head()","ad18596c":"df.tail()","07196817":"df.info()","a9d54868":"df.shape","ee7872c6":"df.describe()","e620195d":"df.isnull().sum()","d1d551a5":"plt.figure(figsize = (10,5))\nsns.heatmap(df.isnull(), cmap = 'magma', yticklabels = False)\nplt.yticks(rotation = 90)","7360bb7a":"msno.bar(df, figsize = (10,4), fontsize = 10, color = 'b')\nplt.xticks(rotation = 0)","df4eae65":"null_columns = df.columns[df.isnull().any()]\ndf[null_columns].isnull().sum()","bf0a6b1c":"df.drop(index = 1155, axis = 0, inplace = True)\n","e9074b89":"df.isnull().sum()","a5b45d1b":"df['PURPOSE'].isnull().sum()\/len(df)","ee48b676":"df['PURPOSE'].fillna(method = 'ffill', inplace = True)","f15fedd5":"df.isnull().sum()","ceb98f9e":"df['START_DATE'] = pd.to_datetime(df['START_DATE'], errors = 'coerce')\ndf['END_DATE'] = pd.to_datetime(df['END_DATE'], errors = 'coerce')\ndf.info()\n\n#datatype of start date and end date changed from object to datetime ","f45128ef":"df.head()","050780d8":"msno.bar(df, figsize = (10,4), fontsize = 10, color = 'b')\nplt.xticks(rotation = 0)","df8f88c9":"category = pd.crosstab(index = df['CATEGORY'], columns = 'travel count as per category')\ncategory","ac30bda1":"category.plot(kind = 'bar', color = 'b')\nplt.legend()","3a1c6f6f":"start_point = df.START.value_counts()\nstart_point\n","f3732980":"print(start_point[start_point > 10])","8a65797f":"start_point[start_point > 10].plot(kind = 'pie', shadow = True)","1399b1b1":"print(start_point[start_point <= 10])","41c05104":"stop_point = df.STOP.value_counts()\nstop_point","7c409ec5":"print(stop_point[stop_point > 10])","f19d2e9a":"stop_point[stop_point > 10].plot(kind = 'pie', shadow = True)","025406e8":"print(stop_point[stop_point <= 10])","80cfdba3":"miles_count = df.MILES.value_counts()\nmiles_count","130aeb9b":"print(miles_count[miles_count > 10])","85db63f4":"miles_count[miles_count > 10].plot(kind = 'bar', color = 'g')","df379bd3":"print(miles_count[miles_count <= 10])","d0b71d88":"miles = pd.crosstab(index = df['MILES'] > 10, columns = 'count of miles')\nmiles","284ed691":"miles.plot(kind = 'bar', color = 'b')","b2c81409":"print(df.PURPOSE.value_counts())","59367358":"plt.figure(figsize = (15,5))\nsns.countplot(df['PURPOSE'], order = df['PURPOSE'].value_counts().index, palette = 'rocket', saturation = 1)","6b949961":"df['minutes'] = df.END_DATE - df.START_DATE\ndf.head()","b62afd54":"df['minutes'] = df['minutes'].dt.total_seconds()\/60\ndf.head()","35406f32":"pd.DataFrame({'Mean' : df.groupby(['PURPOSE'])['MILES'].mean().round(1),\n              'Min' : df.groupby(['PURPOSE'])['MILES'].min(),\n              'Max' : df.groupby(['PURPOSE'])['MILES'].max()}).reset_index()","8d6f2fbd":"plt.figure(figsize=(13,5))\nplt.subplot(1,2,1)\nsns.boxplot(data = df, x = df.PURPOSE, y = df.MILES, palette = 'viridis')\nplt.xticks(rotation = 45)\nplt.subplot(1,2,2)\nsns.boxplot(data = df, x = df.PURPOSE, y = df.minutes, palette = 'viridis')\nplt.xticks(rotation = 45)\n","5cd46366":"plt.figure(figsize = (16,4))\nplt.subplot(1,2,1)\nsns.boxplot(data = df, x = df.PURPOSE, y = df.MILES, showfliers = False)\nplt.xticks(rotation = 45)\nplt.subplot(1,2,2)\nsns.boxplot(data = df, x = df.PURPOSE, y = df.minutes, showfliers = False)\nplt.xticks(rotation = 45)","d5366ece":"plt.figure(figsize = (8,5))\ndef round(x):\n  if x['START'] == x['STOP']:\n    return 'yes'\n  else:\n    return 'no'\n\ndf['Round_trip'] = df.apply(round, axis = 1)\ndf","2513c81d":"  sns.countplot(df['Round_trip'], order = df['Round_trip'].value_counts().index, palette = 'rocket_r')","2975f11b":"df['month'] = pd.DatetimeIndex(df['START_DATE']).month","0c4f20ca":"dic = {1 : 'Jan', \n       2 : 'Feb',\n       3 : 'Mar',\n       4 : 'Apr',\n       5 : 'May',\n       6 : 'Jun',\n       7 : 'Jul',\n       8 : 'Aug',\n       9 : 'Sept',\n       10 : 'Oct',\n       11 : 'Nov',\n       12 : 'Dec'}\n\ndf['month'] = df['month'].map(dic)","9896377a":"plt.figure(figsize = (12,4))\nsns.countplot(df['month'], order = df['month'].value_counts().index, palette = 'flare')\n","47c536d6":"plt.figure(figsize = (12,5))\nsns.countplot(df['Round_trip'], hue = df['month'])\nplt.legend","ce2fdcdd":"plt.figure(figsize = (16,4))\n\nplt.subplot(1,2,1)\nsns.lineplot(data = df, x = df.minutes, y = df.MILES, color = 'brown')\n\nplt.subplot(1,2,2)\nsns.scatterplot(data = df, x = df.minutes, y = df.MILES, color = 'brown')\n","b771d620":"plt.figure(figsize = (9,5))\nsns.countplot(data = df, x = 'PURPOSE', hue = 'CATEGORY', dodge = False)\nplt.xticks(rotation = 45)","506bbdba":"plt.figure(figsize = (15,4))\npd.Series(df['START']).value_counts()[:25].plot(kind = 'bar', color = 'g')\nplt.title('Car rides start location frequency')\nplt.xticks(rotation = 45)","3cb78e0a":"plt.figure(figsize = (15,4))\npd.Series(df['STOP']).value_counts()[:25].plot(kind = 'bar', color = 'violet')\nplt.title('Car rides stop location frequency')\nplt.xticks(rotation = 45)","8935ac88":"#### For december there are more number of round trips and in may there were no round trips","ae7e70b8":"### Where do customers most frequently take cabs OR frequency of cab rides start points","7ede45b6":"**Cary was the most frequent stop point**","104034ef":"###Distribution of cab rides based on category","c6799ec5":"#### Huge rush of rides in the month of december so prices can be charged high","26ff77ce":"###Entering month name and evaluating frequency of trip in each month","dff56917":"*43.46 of the values are null in purpose column*","97e2bbcd":"###Frequency of car rides stop points","31422c02":"####for airport and travels, time taken is much more","87409f95":"**840 travel counts were less than 10 miles and 315 travel counts were more than 10 miles**","efece3fd":"### Calculate the duration, as there might be some relation of it with purpose of rise","25a09203":"**Most of the travel counts were for meeting purposes followed by meal\/entertainment**","e824a3be":"###Checking how many are the round trips (same start and stop points)","e10b327a":"### Grouping purpose by miles to see if we can get any pattern ","ab3ebfcd":"#Conclusions:\n\n\n*  Business cabs were not only used more in volume but also have travelled more distance \n*   Round trips were more in december. \n\n\n*   December can prove to be the best month for earning profit by raising fare as demand is more. \n*   Seasonal pattern is there.\n\n\n*   Cab traffic was high in just 5 cities comparatively.\n*   Most of the cab rides are within a distance of 35 miles taking about 30 minutes.\n\n\n\n \n\n*   For airport, cab rides are taking more time than usual.\n\n\n\n\n\n\n\n\n\n","8f164e14":"#### Outliers are not included in our analysis","0173e7e5":"### Box plots without outliers","30800b14":"**There were 1078 travel counts for business pupose and 77 travel counts for personal purposes**","edb08fb2":"# **Handling Missing Values**","fc43a102":"**Cary was the most frequent start point**","b5d2564b":"**Contents** \n\n\n*   Geography: USA, Sri Lanka, Pakistan\n*   Time Period: January 2016 - December 2016\n*   Unit of analysis: Drives\n*   Total drives: 1,155\n*   total miles: 12,204\n\n\n\n\n\n\n\n","0cf5209a":"**28 travel counts (highest) were there for 9.9 miles followed by 26 travel counts of 3.1 miles**\n\n---\n\n","a26c35c9":"###Box plot of miles and minutes ","d3806e3c":"The dataset contains start date, end date, start location, end location, miles driven and purpose of drive - business, personal drives, meetings","a28fb4b4":"# **UBER ANALYSIS**"}}