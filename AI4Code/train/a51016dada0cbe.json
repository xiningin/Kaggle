{"cell_type":{"d69d6c83":"code","9741760f":"code","3d8091e1":"code","a3538af4":"code","dc00cf6a":"code","35994470":"code","db9551b2":"code","7fb815b9":"code","a52d17df":"code","6174df99":"code","4c7cf096":"code","aef82ea6":"code","7e406f01":"code","df5dcd04":"code","db1807cb":"code","bd187abf":"code","27cdb637":"code","cac2befb":"code","59ed3c1b":"code","2a21bcc8":"code","2235a931":"code","066848c1":"code","719f04fd":"code","d5db7458":"code","c8b401e1":"code","9a6d425c":"code","568390ed":"code","9cf8234e":"code","ee0ed001":"code","c2457150":"markdown","d614717c":"markdown","922d43ed":"markdown","111f7be7":"markdown","43dde2fb":"markdown","03875e37":"markdown","44d58030":"markdown","5a7f30ad":"markdown","176546d1":"markdown","11a803d1":"markdown","a84cb09e":"markdown","b7dd1796":"markdown","482b0c9a":"markdown","ba8177ca":"markdown","1ecc1cf7":"markdown","531d8add":"markdown","458c6da8":"markdown","27a5abd9":"markdown","6790d504":"markdown","aecade63":"markdown","ca82ab75":"markdown","195c6c22":"markdown","ff9046b2":"markdown","7e4c04e6":"markdown","21ca2920":"markdown","b42275c1":"markdown","0fe83e16":"markdown","b13d4719":"markdown","d0b47610":"markdown","6e7a96c6":"markdown"},"source":{"d69d6c83":"import pandas as pd\nimport numpy as np\nimport warnings\nwarnings.filterwarnings('ignore')","9741760f":"data = pd.read_csv('..\/input\/WA_Fn-UseC_-HR-Employee-Attrition.csv')\ndata.head()","3d8091e1":"data.columns","a3538af4":"data = data.drop(['EmployeeCount','EmployeeNumber','Over18','StandardHours'],axis=1)\ndata.columns","dc00cf6a":"data['MaritalStatus'].unique()","35994470":"data.loc[data['Attrition']=='No','Attrition'] = 0\ndata.loc[data['Attrition']=='Yes','Attrition'] = 1\ndata.head()","db9551b2":"data['Business_Travel_Rarely']=0\ndata['Business_Travel_Frequently']=0\ndata['Business_Non-Travel']=0\n\ndata.loc[data['BusinessTravel']=='Travel_Rarely','Business_Travel_Rarely'] = 1\ndata.loc[data['BusinessTravel']=='Travel_Frequently','Business_Travel_Frequently'] = 1\ndata.loc[data['BusinessTravel']=='Non-Travel','Business_Non-Travel'] = 1","7fb815b9":"data['Life Sciences']=0\ndata['Medical']=0\ndata['Marketing']=0\ndata['Technical Degree']=0\ndata['Education Human Resources']=0\ndata['Education_Other']=0\n\ndata.loc[data['EducationField']=='Life Sciences','Life Sciences'] = 1\ndata.loc[data['EducationField']=='Medical','Medical'] = 1\ndata.loc[data['EducationField']=='Other','Education_Other'] = 1\ndata.loc[data['EducationField']=='Technical Degree','Technical Degree'] = 1\ndata.loc[data['EducationField']=='Human Resources','Education Human Resources'] = 1\ndata.loc[data['EducationField']=='Marketing','Marketing'] = 1","a52d17df":"data['Sales']=0\ndata['R&D']=0\ndata['Dept_Human Resources'] =0\n\ndata.loc[data['Department']=='Sales','Sales'] = 1\ndata.loc[data['Department']=='Research & Development','R&D'] = 1\ndata.loc[data['Department']=='Human Resources','Dept_Human Resources'] = 1","6174df99":"data.loc[data['Gender']=='Male','Gender'] = 1\ndata.loc[data['Gender']=='Female','Gender'] = 0","4c7cf096":"data['Research Scientist']=0\ndata['Laboratory Technician']=0\ndata['Sales Executive']=0\ndata['Manufacturing Director']=0\ndata['Healthcare Representative']=0\ndata['Sales Representative']=0\ndata['Research Director']=0\ndata['Manager'] = 0\ndata['Job_Human_Resources'] = 0\n\ndata.loc[data['JobRole']=='Research Scientist','Research Scientist'] = 1\ndata.loc[data['JobRole']=='Laboratory Technician','Laboratory Technician'] = 1\ndata.loc[data['JobRole']=='Sales Executive','Sales Executive'] = 1\ndata.loc[data['JobRole']=='Sales Representative','Sales Representative'] = 1\ndata.loc[data['JobRole']=='Manufacturing Director','Manufacturing Director'] = 1\ndata.loc[data['JobRole']=='Healthcare Representative','Healthcare Representative'] = 1\ndata.loc[data['JobRole']=='Research Director','Research Director'] = 1\ndata.loc[data['JobRole']=='Manager','Manager'] = 1\ndata.loc[data['JobRole']=='Human Resources','Job_Human_Resources'] = 1\ndata.head()","aef82ea6":"data['Marital_single']=0\ndata['Marital_married']=0\ndata['Marital_divorced']=0\n\ndata.loc[data['MaritalStatus']=='Married','Marital_married'] = 1\ndata.loc[data['MaritalStatus']=='Single','Marital_single'] = 1\ndata.loc[data['MaritalStatus']=='Divorced','Marital_divorced'] = 1","7e406f01":"data.loc[data['OverTime']=='No','OverTime'] = 0\ndata.loc[data['OverTime']=='Yes','OverTime'] = 1\ndata.head()","df5dcd04":"data.columns","db1807cb":"data = data.drop(['BusinessTravel','EducationField',\n                        'Department','JobRole','MaritalStatus'],axis=1)\ndata.head()","bd187abf":"data.dtypes","27cdb637":"data['Attrition'] = data['Attrition'].astype('int')\ndata['Gender'] = data['Gender'].astype('int')\ndata['OverTime'] = data['OverTime'].astype('int')","cac2befb":"data.corr()","59ed3c1b":"from sklearn.cross_validation import train_test_split\n#from random import seed\n\n#seed(20)\ntrain_x = data.drop(['Attrition'],axis=1)\ntrain_y = data['Attrition']\n\nX,test_x,Y,test_y = train_test_split(train_x, train_y, test_size=0.3,random_state=20)\nlen(test_x)","2a21bcc8":"from sklearn.discriminant_analysis import LinearDiscriminantAnalysis\n\nclf = LinearDiscriminantAnalysis()\nclf.fit(X,Y)","2235a931":"from sklearn.metrics import accuracy_score\n\npred_y = clf.predict(test_x)\n\naccuracy = accuracy_score(test_y, pred_y, normalize=True, sample_weight=None)\naccuracy","066848c1":"from sklearn.metrics import classification_report\n\nprint(classification_report(test_y, pred_y))","719f04fd":"from sklearn.feature_selection import RFE\n\nrfe = RFE(clf,40)\nrfe = rfe.fit(train_x,train_y)\nprint(rfe.support_)\nprint(rfe.ranking_)","d5db7458":"X =rfe.transform(X)\ntest_x = rfe.transform(test_x)\nX.shape","c8b401e1":"from sklearn.metrics import accuracy_score\n\nclf.fit(X,Y)\npred_y = clf.predict(test_x)\n\naccuracy = accuracy_score(test_y, pred_y, normalize=True, sample_weight=None)\naccuracy","9a6d425c":"from sklearn.metrics import classification_report\n\nprint(classification_report(test_y, pred_y))","568390ed":"from sklearn.discriminant_analysis import QuadraticDiscriminantAnalysis\n\nclf = QuadraticDiscriminantAnalysis()\nclf.fit(X,Y)","9cf8234e":"from sklearn.metrics import accuracy_score\n\npred_y = clf.predict(test_x)\n\naccuracy = accuracy_score(test_y, pred_y, normalize=True, sample_weight=None)\naccuracy","ee0ed001":"from sklearn.metrics import classification_report\n\nprint(classification_report(test_y, pred_y))","c2457150":"## Applying Recursive Feature Elimination (RFE) for feature selection","d614717c":"# Employee Attrition using Linear Discriminant Analysis","922d43ed":"## Categorising on the basis of Marital Satus of Employee","111f7be7":"## Importing Libraries and Dataset","43dde2fb":"## Applying Linear Discriminant Analysis (LDA) to our data","03875e37":"### Calculating accuracy of our modified model","44d58030":"##  Setting predictor gender where male is indicated as 1 and female as 0","5a7f30ad":"## Dividing data into train and test dataset","176546d1":"#### We have applied linear discriminant analysis to the data getting an accuracy of 88.20% little bit higher then the logistic approach. As it is clear from our model that we are getting low value of recall for true value of attrition ,i.e., we are not getting enough of the relevant information of the attrited employees from the data. The retrieved model shows high senstivity but low specificity.\n\nNow ,we will try a new model with few less relevant features trimmed out from our dataset.","11a803d1":"## Getting quantitative estimates of our model","a84cb09e":"## Checking for useless predictor variables and removing them","b7dd1796":"### Getting quantitative estimates of our model","482b0c9a":"### Getting unique elements for every predictor variable","ba8177ca":"## Categorising on the basis of travel for business purposes; rarely,frequently or no travel","1ecc1cf7":"## Categorising on the basis of education field","531d8add":"### Calculating accuracy of our model","458c6da8":"## Converting datatypes of some predictor variables","27a5abd9":"**Linear Discriminant Analysis (LDA)** is a technique of model distribution of predictors in each of the response classes and use Bayes Theorem to flip around into estimates for classwise probability. This approach assumes the predictors to have come from multivariate Gaussian Distribution with class specific mean vector and common covariance matrix.\"","6790d504":"### Few of the predictors are useless carrying same value for all the observations ,thus having no significance in the desired output variable:\n####    'EmployeeCount' , 'EmployeeNumber' , 'Over18' , 'StandardHours","aecade63":"It is clear that the **Quadratic Discriminant Analysis** is of no use to our data because of smaller dataset and larger variance.Thus, we go with previous two approaches of **Logistic Regression** and **Linear Discriminant Analysis** for our data.","ca82ab75":"### Transforming our data to desired no. of features","195c6c22":"### Quantitative estimates of our transformed model","ff9046b2":"#### Thus, we see a slight increase in accuracy of our model. We have trimmed our dataset to 40 features. This approach also shows considerable increase in precision,recall and F1 score .This ultimately results in increase of specificity of our model.This model also reduces our memory space and processing time as the operations to be performed are much less than former.\n\nTrying with different number of features changes the accuracy of the model.","7e4c04e6":"## Setting up the Over Time predictor","21ca2920":"## Categorising on the basis of working department","b42275c1":"## Finding coorelation among various predictors","0fe83e16":"## Replacing our Attrition output by integer constants","b13d4719":"## Categorising on the basis of Job Role","d0b47610":"### Calculating accuracy of our model","6e7a96c6":"## Applying Quadratic Discriminant Analysis (QDA) to our data"}}