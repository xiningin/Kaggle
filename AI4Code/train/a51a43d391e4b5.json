{"cell_type":{"aa976a8b":"code","d395955f":"code","82ee43dd":"code","e39f02ed":"code","0f5b91a5":"code","add932a0":"code","03a30aec":"code","2b5c23a3":"code","d1811d7f":"code","ffdf3c18":"code","fd1a7921":"code","b0e7d895":"code","b4d3c984":"code","e9b8ca1a":"code","209e004f":"code","059adcbb":"code","26e4a49d":"code","fb0379c8":"code","9dad4505":"code","2b847424":"code","cff7c9ff":"code","cfdad492":"code","14b6b175":"code","da4e5cb8":"code","aebaf0a7":"code","5ddadb1f":"code","04297baa":"code","0e4343cb":"code","77a58171":"code","33cc32a1":"code","fa40f6b7":"code","1872c6f2":"code","2165cb18":"code","45040d3b":"markdown"},"source":{"aa976a8b":"# This Python 3 environment comes with many helpful analytics libraries installed\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt","d395955f":"train = pd.read_csv(\"..\/input\/titanic\/train.csv\")","82ee43dd":"test = pd.read_csv(\"..\/input\/titanic\/test.csv\")","e39f02ed":"all = pd.concat([train, test], sort = False)\nall.info()","0f5b91a5":"all","add932a0":"#Fill Missing numbers with median\nall['Age'] = all['Age'].fillna(value=all['Age'].median())\nall['Fare'] = all['Fare'].fillna(value=all['Fare'].median())","03a30aec":"all.loc[: , ['Age','Fare']]","2b5c23a3":"all['Embarked'] = all['Embarked'].fillna('S')\nall.loc[: , ['Embarked']]","d1811d7f":"#Title\nimport re\ndef get_title(name):\n    title_search = re.search(' ([A-Za-z]+\\.)', name)\n    \n    if title_search:\n        return title_search.group(1)\n    return \"\"","ffdf3c18":"all['Title'] = all['Name'].apply(get_title)\nall['Title'].value_counts()","fd1a7921":"all['Title'] = all['Title'].replace([\"Mr.\" ], 0)\nall['Title'] = all['Title'].replace([\"Miss.\"] , 1)\nall['Title'] = all['Title'].replace([\"Mrs.\"], 2)\nall['Title'] = all['Title'].replace([\"Master.\", \"Dr.\", \"Rev.\", \"Col.\", \"Major.\", \"Mlle.\",\"Countess.\",\"Ms.\", \"Lady.\", \"Jonkheer.\", \"Don.\", \"Dona.\", \"Mme.\",\"Capt.\",\"Sir.\"] ,  3)\nall['Title'].value_counts()","b0e7d895":"#Cabin\nall['Cabin'] = all['Cabin'].fillna('Missing')\nall['Cabin'] = all['Cabin'].str[0]\nall['Cabin'].value_counts()","b4d3c984":"#Family Size & Alone \nall['Family_Size'] = all['SibSp'] + all['Parch'] + 1\nall['IsAlone'] = 0\nall.loc[all['Family_Size']==1, 'IsAlone'] = 1\nall.head()","e9b8ca1a":"all['Embarked'].value_counts()","209e004f":"#Drop unwanted variables\nall1 = all.drop(['Name', 'Ticket','SibSp','Parch'], axis = 1)\nall1.head()","059adcbb":"all_dummies = pd.get_dummies(all1, drop_first = True)\nall_dummies.head()","26e4a49d":"all_train = all_dummies[all_dummies['Survived'].notna()]\nall_train.info()","fb0379c8":"all_test = all_dummies[all_dummies['Survived'].isna()]\nall_test.info()","9dad4505":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(all_train.drop(['PassengerId','Survived'],axis=1), \n                                                    all_train['Survived'], test_size=0.30, \n                                                    random_state=101)","2b847424":"all","cff7c9ff":"from sklearn.linear_model import LogisticRegression\n\nlogmodel = LogisticRegression(solver = 'liblinear')\nlogmodel.fit(X_train,y_train)","cfdad492":"predictions = logmodel.predict(X_test)\npredictions","14b6b175":"from sklearn.metrics import classification_report\nprint(classification_report(y_test,predictions))","da4e5cb8":"from sklearn.metrics import confusion_matrix\nconfusion_matrix(y_test,predictions)","aebaf0a7":"from sklearn.metrics import mean_absolute_error\nprint(mean_absolute_error(y_test,predictions))","5ddadb1f":"TestForPred = all_test.drop(['PassengerId', 'Survived'], axis = 1)","04297baa":"TestForPred","0e4343cb":"t_pred = logmodel.predict(TestForPred).astype(int)","77a58171":"t_pred","33cc32a1":"PassengerId = all_test['PassengerId']","fa40f6b7":"PassengerId","1872c6f2":"logSub = pd.DataFrame({'PassengerId': PassengerId, 'Survived':t_pred })\nlogSub.head()","2165cb18":"logSub.to_csv(\"Titanic_Predection.csv\", index = False)","45040d3b":"****Extra Features:"}}