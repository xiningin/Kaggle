{"cell_type":{"e8a0962f":"code","54ee87ba":"code","3a0f81c6":"code","d2a44ddd":"code","2d9d140b":"code","8494168a":"code","b5e39e9e":"code","22dfe2ca":"code","aac75589":"code","e2f09861":"code","2ae3238c":"code","298ec8ff":"markdown","a8393a1b":"markdown","97a9904f":"markdown"},"source":{"e8a0962f":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport matplotlib.image as mpimg\nimport matplotlib.patches as patches\nimport pylab as pl\nfrom PIL import Image\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","54ee87ba":"img0 = \"..\/input\/labeled-mask-dataset-yolo-darknet\/obj\/147-with-mask.jpg\"\n_ = plt.figure(figsize = (15,20))\n_ = plt.axis('off')\n_ = plt.imshow(mpimg.imread(img0))","3a0f81c6":"#Code by stpete_ishii https:\/\/www.kaggle.com\/stpeteishii\/face-mask-yolo-data-viewing\n\ndirectory = '..\/input\/labeled-mask-dataset-yolo-darknet\/obj'\n\nimagepath=[]\nimagefile=[]\nboxset=[]\nboxfile=[]\n\nfor im in os.listdir(directory):\n    if im[-5:]=='.jpg':\n        path=os.path.join(directory,im)\n        imagepath+=[path]\n        imagefile+=[im]\n    elif im[-4:]=='.jpg':\n        path=os.path.join(directory,im)\n        imagepath+=[path]\n        imagefile+=[im]\n        \nfor im in imagefile:\n    if im[-5:]=='.jpg':\n        bx=im[0:-5]+'.txt'\n        path=os.path.join(directory,bx)\n        bxdata=np.loadtxt(path)\n        boxset+=[bxdata]\n        boxfile+=[bx]\n    elif im[-4:]=='.jpg':\n        bx=im[0:-4]+'.txt'\n        path=os.path.join(directory,bx)\n        bxdata=np.loadtxt(path)\n        boxset+=[bxdata]\n        boxfile+=[bx]","d2a44ddd":"print(imagefile[0:5])\nprint(boxfile[0:5])","2d9d140b":"print(len(boxset))\nprint(len(imagepath))","8494168a":"#Code by stpete_ishii https:\/\/www.kaggle.com\/stpeteishii\/face-mask-yolo-data-viewing\n\ndef draw_bbox2(num0):\n    \n    img0=imagepath[num0]\n    box0=boxset[num0]\n    im = Image.open(img0)\n    W,H = im.size\n    print(im.size)\n    \n    _ = plt.figure(figsize = (15,20))\n    _ = plt.axis('on')\n    _ = plt.imshow(mpimg.imread(img0))\n    \n    ax = plt.gca()\n    ax.text(10,50,f'MASK',fontsize=20,color='yellow')\n    ax.text(10,100,f'NO MASK',fontsize=20,color='red')\n    \n    if type(box0[0])==int:\n        mk,x0,y0,w0,h0 = box0\n        x=(x0-w0\/2)*W\n        y=(y0-h0\/2)*H\n        w=w0*W\n        h=h0*H\n        if mk==1:\n            rect = patches.Rectangle((x,y),w,h,linewidth=2,edgecolor='yellow',fill = False)\n        elif mk==0:\n            rect = patches.Rectangle((x,y),w,h,linewidth=2,edgecolor='red',fill = False)\n        ax.add_patch(rect)\n        plt.show\n\n    else:\n        for item in box0:\n            mk,x0,y0,w0,h0 = item\n            x=(x0-w0\/2)*W\n            y=(y0-h0\/2)*H\n            w=w0*W\n            h=h0*H\n            if mk==1:\n                rect = patches.Rectangle((x,y),w,h,linewidth=2,edgecolor='yellow',fill = False)\n            elif mk==0:\n                rect = patches.Rectangle((x,y),w,h,linewidth=2,edgecolor='red',fill = False)            \n            ax.add_patch(rect)\n            plt.show","b5e39e9e":"#Code by stpete_ishii https:\/\/www.kaggle.com\/stpeteishii\/face-mask-yolo-data-viewing\n\nnum0=0\nfor i in range(1510):  #1510 I took from print(len(boxset)) Output 2 snippets above\n    if imagepath[i]==img0:\n        num0=i\n        print(i)","22dfe2ca":"draw_bbox2(num0)","aac75589":"draw_bbox2(10)","e2f09861":"draw_bbox2(13)","2ae3238c":"draw_bbox2(11)","298ec8ff":"#Code by stpete_ishii https:\/\/www.kaggle.com\/stpeteishii\/face-mask-yolo-data-viewing","a8393a1b":"#The N95 Mask will protect you against Covid. However, it won't protect you from my awful Codes.","97a9904f":"![](https:\/\/encrypted-tbn0.gstatic.com\/images?q=tbn:ANd9GcQRySTdU_tb82anFsFLz103kEpbynSRKh33wQ&usqp=CAU)youtube.com"}}