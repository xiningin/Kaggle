{"cell_type":{"5d161c1c":"code","168ab1af":"code","43117dbe":"code","c5fe4705":"code","eafa0003":"code","850b9b02":"code","864bc4c4":"code","f9b294b7":"code","f47cda27":"code","02096812":"code","b5f877ba":"code","3b531b33":"code","72eece3b":"code","c3e1a363":"code","b194c7fa":"code","5983674a":"code","1059215d":"code","f4a94765":"code","0dfdb70c":"code","c00821cb":"code","903b829e":"code","24566f7c":"code","cae75430":"markdown","408bc307":"markdown","ba6e0072":"markdown","f415cd93":"markdown","1a90d400":"markdown","e77884a3":"markdown","78494dd1":"markdown","8140c830":"markdown","5eadeb50":"markdown","b1158513":"markdown","4871fc5e":"markdown","5e2761f7":"markdown","c4b70428":"markdown","e3b6e4cb":"markdown","aaeaa82f":"markdown","e97eb18a":"markdown","1aef7104":"markdown","be5faeb0":"markdown","818518c5":"markdown","2931d5ad":"markdown","9375cff3":"markdown","c0fe8482":"markdown","82f4094a":"markdown","c930498e":"markdown","f51a66f3":"markdown","4a28b9c2":"markdown","589721ae":"markdown"},"source":{"5d161c1c":"conda install tensorflow-gpu==1.15.0\nconda install -c anaconda protobuf","168ab1af":"pip install -r requirements.txt","43117dbe":"!pip install pillow\n!pip install lxml\n!pip install jupyter  \n!pip install matplotlib\n!pip install pandas\n!pip install opencv-python\n!pip install cython==0.28.1\n!pip install tf_slim\n!pip install scipy","c5fe4705":"variable name: PYTHONPATH\n\nvariable: C:\\tensorflow\\models;C:\\tensorflow\\models\\research;C:\\tensorflow\\models\\research\\slim","eafa0003":"PYTHONPATH=C:\\tensorflowapi\\models;C:\\tensorflowapi\\models\\research;C:\\tensorflowapi\\models\\research\\slim","850b9b02":"protoc --python_out=. .\\object_detection\\protos\\anchor_generator.proto .\\object_detection\\protos\\argmax_matcher.proto .\\object_detection\\protos\\bipartite_matcher.proto .\\object_detection\\protos\\box_coder.proto .\\object_detection\\protos\\box_predictor.proto .\\object_detection\\protos\\eval.proto .\\object_detection\\protos\\faster_rcnn.proto  .\\object_detection\\protos\\faster_rcnn_box_coder.proto .\\object_detection\\protos\\flexible_grid_anchor_generator.proto .\\object_detection\\protos\\calibration.proto .\\object_detection\\protos\\hyperparams.proto .\\object_detection\\protos\\image_resizer.proto .\\object_detection\\protos\\input_reader.proto .\\object_detection\\protos\\losses.proto .\\object_detection\\protos\\matcher.proto .\\object_detection\\protos\\mean_stddev_box_coder.proto .\\object_detection\\protos\\model.proto .\\object_detection\\protos\\optimizer.proto .\\object_detection\\protos\\pipeline.proto .\\object_detection\\protos\\post_processing.proto .\\object_detection\\protos\\preprocessor.proto .\\object_detection\\protos\\region_similarity_calculator.proto .\\object_detection\\protos\\square_box_coder.proto .\\object_detection\\protos\\ssd.proto .\\object_detection\\protos\\ssd_anchor_generator.proto .\\object_detection\\protos\\string_int_label_map.proto .\\object_detection\\protos\\train.proto .\\object_detection\\protos\\keypoint_box_coder.proto .\\object_detection\\protos\\multiscale_anchor_generator.proto .\\object_detection\\protos\\graph_rewriter.proto .\\object_detection\\protos\\center_net.proto .\\object_detection\\protos\\grid_anchor_generator.proto .\\object_detection\\protos\\fpn.proto .\\object_detection\\protos\\target_assigner.proto","864bc4c4":"python setup.py build\npython setup.py install","f9b294b7":"python xml_to_csv.py","f47cda27":"# TO-DO replace this with label map\ndef class_text_to_int(row_label):\n    if row_label == 'yourclassname':\n        return 1\n    else:\n        None","02096812":"python generate_tfrecord.py --csv_input=images\\train_labels.csv --image_dir=images\\train --output_path=train.record\n\npython generate_tfrecord.py --csv_input=images\\test_labels.csv --image_dir=images\\test --output_path=test.record\n","b5f877ba":"item\n {\n  id: 1\n  name: 'yourclassname'\n }","3b531b33":"faster_rcnn {\n    num_classes: 32","72eece3b":"fine_tune_checkpoint : \"C:\/tensorflowapi\/models\/research\/object_detection\/faster_rcnn_inception_v2_coco_2018_01_28\/model.ckpt\"","c3e1a363":"input_path: \"C:\/tensorflowapi\/models\/research\/object_detection\/train.record\"","b194c7fa":"label_map_path: \"C:\/tensorflowapi\/models\/research\/object_detection\/training\/labelmap.pbtxt\"","5983674a":"num_examples: 1","1059215d":"input_path: \"C:\/tensorflowapi\/models\/research\/object_detection\/test.record\"","f4a94765":"label_map_path: \"C:\/tensorflowapi\/models\/research\/object_detection\/training\/labelmap.pbtxt\"","0dfdb70c":"python train.py --logtostderr --train_dir=training\/ --pipeline_config_path=training\/faster_rcnn_inception_v2_pets.config","c00821cb":"python export_inference_graph.py --input_type image_tensor --pipeline_config_path training\/faster_rcnn_inception_v2_pets.config --trained_checkpoint_prefix training\/model.ckpt-XXXX --output_directory inference_graph","903b829e":"IMAGE_NAME = 'yourtestimagename.JPG'","24566f7c":"NUM_CLASSES = 1","cae75430":"# \ud83d\udc3eStep 3\n\ud83d\udce3Way 1: Specify pythonpathi in system environment variables. And create new system variable","408bc307":"Move the setup.py file under the model\/research folder. Then run the following commands in models\/research directory to run the setup.py file we moved.","ba6e0072":"# \ud83d\udcccDataset Preparing\nYour dataset must be in voc format and each image must have its own tag file (with an .xml extension).\n\n# \ud83d\udc3eStep 1\nMove the data you will use as test and train folders to models\/research\/object_detection\/images directory.\n\n# \ud83d\udc3eStep 2\nRun the code below in models\/research\/object_detection directory. In the images folder, test_labels.csv and train_labels.csv csv files will be created. You can check.","f415cd93":"# \ud83d\udc3eStep 3\nType your classes in the generate_tfrecord.py file as below.","1a90d400":"* Line 106: Write your fine_tune_checkpoint","e77884a3":"# \ud83d\udcccDirectory","78494dd1":"# \ud83d\udc3eStep 4 : Creating labelmap.pbtxt\n* The first thing to do in this step is to move files faster_rcnn_inception_v2_pets.config, graph.pbtxt into models \/ research \/ object_detection \/ training directory.\n* Then a file named labelmap.pbtxt should be created in models \/ research \/ object_detection \/ training directory.\n\u26a0\ufe0f The extension of the labelmap file must be .pbtxt.\n\nType your classes and ids in the **labelmap.pbtxt** file as below:","8140c830":"# Test Image\n\n# \ud83d\udc3eStep 1\nWrite the IDLE to your command and you will see screen like in the follow.\n\n# \ud83d\udc3eStep 2\nChoose File\/Open... from the left corner of the idle. Selec the Object_detection_image.py file in directory models\/research\/object_detection from the screen that opens.\n\n# \ud83d\udc3eStep 3\nThere are two options here. You can set the path of the test folder in the object_detection_image.py file, or you can move the image you want to test to the models\/research \/ object_detection directory.\n\n**Hint \ud83d\udddd\ufe0f** \nHere, the operations are carried out by moving the desired image to the test models \/ research \/ object_detection directory.","5eadeb50":"* Line 130: Write the count of your test images in models\/research\/images\/test folder.","b1158513":"# \ud83d\udc3eStep 4\nPress F5 to Run Module.","4871fc5e":"* Line 123: Write your input path of train.record path.","5e2761f7":"# \ud83d\udc3eStep 1\nDownload the Tensorflow model file from the link below. We will do the work in this directory. Upload this repo as .zip and unzipped into the directory where you will be working.\n\nhttps:\/\/github.com\/tensorflow\/models\n\nNOTE \ud83d\udcdd Change the name of the file you unzipped to models.\n\n# \ud83d\udc3eStep 2\nMove the model in the repo, the file faster_rcnn_inception_v2_coco_2018_01_28 to the models\/research\/object_detection directory.\n\nNOTE \ud83d\udcdd To find the missing files in the object_detection directory, move the missing files models\/research\/object_detection like in the object_detection.rar","c4b70428":"* Line 135: Write your input path of test.record path.","e3b6e4cb":"Write the number of classes the object detector can identify.","aaeaa82f":"After cloning this repo, upload from within the requirements.txt file.","e97eb18a":"# \ud83d\udc3eStep 4\nRun the following commands in the model\/research directory.\n\nNOTE \ud83d\udcdd Can be duplicates in command below.","1aef7104":"conda install tensorflow-gpu==1.15.0\nconda install -c anaconda protobuf","be5faeb0":"# \ud83d\udcccTraining\n\n\u26a0\ufe0f Before the training models\/research\/object_detection\/inference_graph folder must be empty.\n\nFor starting to train, run the command below in models\/research\/object_detection directory.","818518c5":"# \ud83d\udcccTesting\n\n**Inference Graph**\n\n\u26a0\ufe0f Write the number of the last model.ckpt model created in the inference_graph directory in the XXXX part of the command.","2931d5ad":"# \ud83d\udcccCreating Anaconda Environment and Requirements","9375cff3":"It will show like the following image.\n\n![training](https:\/\/github.com\/BuseYaren\/faster-r-cnn-tensorflow-api-custom\/blob\/main\/images\/training.jpg?raw=true)","c0fe8482":"* Line 137: Write your label map path.","82f4094a":"NOTE \ud83d\udcdd id = return values, name = name of your class in generate_tfrecord.py NOTE \ud83d\udcdd Before the training models\/research\/object_detection\/training folder must contain faster_rcnn_inception_v2_pets.config, graph.pbtxt, labelmap.pbtxt\n\n# \ud83d\udc3eStep 5\n* Line 9: # write your class count","c930498e":"Example: The number of my model, which was formed after the training I did, was \"0\" as follows.\n\n![inference](https:\/\/github.com\/BuseYaren\/faster-r-cnn-tensorflow-api-custom\/raw\/main\/images\/inference_graph.jpg)","f51a66f3":"* Line 125: Write your label map path.","4a28b9c2":"Run the code below in models\/research\/object_detection directory.","589721ae":"\ud83d\udce3Way 2: Set environment in Command Prompt with command below."}}