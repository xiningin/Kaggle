{"cell_type":{"e89d08af":"code","3403ec13":"code","0f83e6b0":"code","911d340e":"code","50bcfe7c":"code","f422b454":"code","499098ba":"code","34344500":"code","3a3c9512":"code","570dbb7d":"code","07cd97dd":"code","352d7182":"code","8eca9817":"code","23a94ec9":"code","d8a03a4e":"code","286fa156":"code","d3cc3c59":"code","e9941ba8":"code","9f9380d6":"code","aaff8e94":"code","eb0b44a1":"code","249e8272":"code","c966cd69":"code","65aade8f":"code","2b23b09d":"code","4d23585b":"code","aec17355":"code","b7c36110":"code","245305f0":"code","37fb8269":"code","8ea888fb":"code","8234b767":"code","15264056":"code","b6cd8b1d":"markdown","d26d7302":"markdown","624926ce":"markdown","c44531a1":"markdown","47be77e8":"markdown","dfb3e29a":"markdown","c11ade95":"markdown","edd83bd5":"markdown","f37d96a7":"markdown","a01a9ca1":"markdown","b95c71b8":"markdown","3dcaab47":"markdown","3b58367e":"markdown","05990da6":"markdown","4aa7c872":"markdown","81aa47d3":"markdown","a2d752fc":"markdown"},"source":{"e89d08af":"%matplotlib inline\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nfrom tqdm import tqdm, tqdm_notebook\n\nfrom glob import glob\n\nimport re\nimport gc\n\nimport json\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom IPython.display import display\n\nimport plotly.express as px #Plotly Express\n\nfrom plotly.offline import iplot\n#to link plotly to pandas\nimport cufflinks as cf\ncf.go_offline()\ncf.set_config_file(offline = False, world_readable = True)\n\nplt.rcParams[\"figure.figsize\"] = (12, 8)\nplt.rcParams['axes.titlesize'] = 16\nplt.style.use('seaborn-whitegrid')\nsns.set_palette('Set3')\n\nimport os\nprint(os.listdir('..\/input\/'))\n\nimport warnings\nwarnings.simplefilter('ignore')\n\nfrom time import time, strftime, gmtime\nstart = time()\nimport datetime\nprint(str(datetime.datetime.now()))","3403ec13":"os.listdir('..\/input\/careerbuilder-jobs-2020-csv\/')","0f83e6b0":"path = '\/kaggle\/input\/careerbuilder-job-listing-2020\/marketing_sample_for_careerbuilder_usa-careerbuilder_job_listing__20200401_20200630__30k_data.ldjson'","911d340e":"%%time\njobs = pd.DataFrame()\nwith open(path, 'r') as f:\n    for i, line in enumerate(f):\n        try:\n            data = json.loads(line.strip('\\n'))\n            temp = pd.DataFrame([data], columns = data.keys())\n            jobs = pd.concat([jobs, temp], axis = 0)\n        except Exception as e:\n            print(e)","50bcfe7c":"jobs = jobs.reset_index(drop = True)\nprint(jobs.shape)\njobs.to_csv('.\/CareerBuilder_Jobs_2020.csv', index = False)","f422b454":"#jobs = pd.read_csv('..\/input\/careerbuilder-jobs-2020-csv\/CareerBuilder_Jobs_2020.csv')\n#print(jobs.shape)\n#jobs.head()","499098ba":"jobs.describe().T","34344500":"jobs.info()","3a3c9512":"missing = jobs.isna().sum().reset_index()\nmissing.columns = ['features', 'total_missing']\nmissing['percent'] = (missing['total_missing'] \/ len(jobs)) * 100\nmissing.index = missing['features']\ndel missing['features']\n\nmissing['total_missing'].iplot(kind = 'bar', \n                               title = 'Missing Values Count in Dataset',\n                               xTitle = 'Features',\n                               colors = 'red',\n                               yTitle = 'Count')\nmissing.T","570dbb7d":"to_drop = missing[missing['percent'] >= 80.0].index\nprint(f\"There are {len(to_drop)} features with more than 80% missing values. We will drop this from dataset.\")\njobs.drop(to_drop, axis = 1, inplace = True)\njobs.shape","07cd97dd":"import itertools\nimport collections\nfrom collections import Counter\n\nfrom nltk.corpus import stopwords\n\nimport re\nfrom wordcloud import WordCloud\n\ndef plot_wordcloud(data, col, text = None):\n    stop = stopwords.words('english')\n    all_words = [word for word in data[col] if word not in stop]\n    word_freq = Counter(all_words)\n\n    wordcloud = WordCloud(width = 900,\n                          height = 500,\n                          max_words = 200,\n                          max_font_size = 100,\n                          relative_scaling = 0.5,\n                          background_color = \"rgba(255, 255, 255, 0)\", \n                          mode = \"RGBA\",\n                          normalize_plurals = True).generate_from_frequencies(word_freq)\n    plt.figure(figsize = (18, 16))\n    plt.imshow(wordcloud, interpolation = 'bilinear')\n    plt.title(text, fontsize = 20, color = 'Red', y = 1.05)\n    plt.axis(\"off\")\n    plt.show()","352d7182":"plot_wordcloud(jobs, 'job_title', 'WordCloud of Job Title - Frequent occuring Job Titles')","8eca9817":"jobs['state'].value_counts().sort_values(ascending = True).iplot(kind = 'bar', \n                                                                  orientation = 'h',\n                                                                  yTitle = 'States',\n                                                                  title = 'States with most Job Vacancies'\n                                                                 )","23a94ec9":"print(f\"Number of companies doing Job postings: {jobs['company_name'].nunique()}\")","d8a03a4e":"jobs['company_name'].value_counts().sort_values(ascending = False)[:50].iplot(kind = 'bar', \n                                                                  orientation = 'h',\n                                                                  yTitle = 'Company Names',\n                                                                  colors = 'grey',\n                                                                  title = 'Companies by their Vacancies'\n                                                                 )","286fa156":"amazon = jobs[jobs['company_name'] == 'Amazon Fulfillment'][['state', 'city']].value_counts()\nprint(f\"Amazon Fulfillment has job vacancies in {len(amazon)} locations\")","d3cc3c59":"amazon[:50].iplot(kind = 'bar', \n                  orientation = 'h',\n                  yTitle = 'State-City',\n                  title = 'Top 50 Amazon Fulfillment Jobs Location',\n                  colors = 'blue'\n                 )","e9941ba8":"print(f\"Number of locations with one Amazon Fulfillment job vacancies is {len(amazon[amazon.values == 1])}\")","9f9380d6":"amazon[-50:].iplot(kind = 'bar', \n                  orientation = 'h',\n                  yTitle = 'State-City',\n                  title = 'Bottom 50 Amazon Fulfillment Jobs Location',\n                  colors = 'red'\n                 )","aaff8e94":"jobtypes = jobs['job_type'].value_counts()\npx.pie(jobtypes, values = jobtypes.values, names = jobtypes.index,\n       title = 'No. of Job Postings by Job_Type',\n      color_discrete_sequence = px.colors.qualitative.Pastel)","eb0b44a1":"job_type = jobs[jobs['job_type'] == 'Full-Time'][['company_name', 'state', 'city', 'job_title']]\njob_type['company_name'].value_counts()[:10].iplot(kind = 'bar', \n                                                  orientation = 'h',\n                                                  yTitle = 'Companies',\n                                                  colors = 'green',\n                                                  title = 'Top 10 companies offering Full-Time positions'\n                                                 )","249e8272":"job_type[['state', 'city']].value_counts()[:10].iplot(kind = 'bar', \n                                                  orientation = 'v',\n                                                  yTitle = 'State-City',\n                                                  colors = 'gold',\n                                                  title = 'Top 10 Locations with Full-Time positions'\n                                                 )","c966cd69":"job_type['job_title'].value_counts()[:10].iplot(kind = 'bar', \n                                                  orientation = 'h',\n                                                  yTitle = 'Job Title',\n                                                  colors = 'blue',\n                                                  title = 'Top 10 Job Title for Full-Time Jobs'\n                                                 )","65aade8f":"job_type = jobs[jobs['job_type'] == 'Part-Time'][['company_name', 'state', 'city', 'job_title']]\njob_type['company_name'].value_counts()[:10].iplot(kind = 'bar', \n                                                  orientation = 'h',\n                                                  yTitle = 'Companies',\n                                                  colors = 'gray',\n                                                  title = 'Top 10 companies offering Part-Time positions'\n                                                 )","2b23b09d":"job_type[['state', 'city']].value_counts()[:10].iplot(kind = 'bar', \n                                                  orientation = 'v',\n                                                  yTitle = 'State-City',\n                                                  colors = 'violet',\n                                                  title = 'Top 10 Locations with Part-Time positions'\n                                                 )","4d23585b":"job_type['job_title'].value_counts()[:10].iplot(kind = 'bar', \n                                                  orientation = 'h',\n                                                  yTitle = 'Job Title',\n                                                  colors = 'blue',\n                                                  title = 'Top 10 Job Title for Part-Time Jobs'\n                                                 )","aec17355":"job_type = jobs[jobs['job_type'] == 'Contractor'][['company_name', 'state', 'city', 'job_title']]\njob_type['company_name'].value_counts()[:10].iplot(kind = 'bar', \n                                                  orientation = 'h',\n                                                  yTitle = 'Companies',\n                                                  colors = 'gray',\n                                                  title = 'Top 10 companies offering Contractor Job Type'\n                                                 )","b7c36110":"job_type[['state', 'city']].value_counts()[:10].iplot(kind = 'bar', \n                                                  orientation = 'v',\n                                                  yTitle = 'State-City',\n                                                  colors = 'blue',\n                                                  title = 'Top 10 Locations with Contractor Job Type'\n                                                 )","245305f0":"job_type['job_title'].value_counts()[:10].iplot(kind = 'bar', \n                                                  orientation = 'h',\n                                                  yTitle = 'Job Title',\n                                                  colors = 'blue',\n                                                  title = 'Top 10 Job Title for Contractor Jobs'\n                                                 )","37fb8269":"job_type = jobs[jobs['job_type'] == 'Seasonal\/Temp'][['company_name', 'state', 'city', 'job_title']]\njob_type['company_name'].value_counts()[:10].iplot(kind = 'bar', \n                                                  orientation = 'h',\n                                                  yTitle = 'Companies',\n                                                  colors = 'red',\n                                                  title = 'Top 10 companies offering Temp Jobs'\n                                                 )","8ea888fb":"job_type[['state', 'city']].value_counts()[:10].iplot(kind = 'bar', \n                                                  orientation = 'v',\n                                                  yTitle = 'State-City',\n                                                  colors = 'grey',\n                                                  title = 'Top 10 Locations with Temp Jobs'\n                                                 )","8234b767":"job_type['job_title'].value_counts()[:10].iplot(kind = 'bar', \n                                                  orientation = 'h',\n                                                  yTitle = 'Job Title',\n                                                  colors = 'blue',\n                                                  title = 'Top 10 Job Title for Temp Jobs'\n                                                 )","15264056":"finish = time()\nprint(strftime(\"%H:%M:%S\", gmtime(finish - start)))","b6cd8b1d":"Check which companies have Full-Time, Part-Time Jobs","d26d7302":"- Amazon Fulfillment has the largest number of Job postings -  7501\n- The 2nd largest number of postings is by GPAC - 924","624926ce":"<code>__Job Title__<\/code>","c44531a1":"- The above plot shows the top 50 locations of the jobs postings from Amazon Fulfillment\n- Boston, MA has the highest number of vacancies\n- Next comes the Cincinnati, OH","47be77e8":"Let's plot WordCloud of the Job titles offered","dfb3e29a":"- We remove the features with missing values more than 80%, imputing these missing values is of no use","c11ade95":"- CA - California has the highest job postings followed by NJ","edd83bd5":"<code>__State__<\/code>","f37d96a7":"__Seasonal\/Temp Jobs__","a01a9ca1":"__Part-Time__","b95c71b8":"__Read raw ldjson file to pandas dataframe__","3dcaab47":"- Let's check the location of Amazon Fulfillment's Jobs","3b58367e":"__Contractor__","05990da6":"<code>__Job_Type__<\/code>","4aa7c872":"__Full-Time__","81aa47d3":"<code>__Company_name__<\/code>","a2d752fc":"- Amazon offers most Full-Time positions follwed by GPAC and Lowe's"}}