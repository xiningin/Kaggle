{"cell_type":{"1a233be2":"code","3a58e587":"code","2e6d0a2a":"code","82494f39":"markdown","074ed14a":"markdown","95736e39":"markdown","7ba9b7de":"markdown","d0cc7912":"markdown"},"source":{"1a233be2":"import os, random, numpy, pandas, matplotlib.pyplot as plt\nimport numpy as np\nfrom kaggle_environments.envs.halite.helpers import *\nfrom kaggle_environments import make, evaluate\nfrom random import randint","3a58e587":"def agent(obs, config):\n    board = Board(obs, config)\n    me = board.current_player\n    directions = [ShipAction.NORTH, ShipAction.EAST, ShipAction.SOUTH, ShipAction.WEST]\n    \n    if me.halite >= 500 and len(me.shipyards) == 1 and len(me.ships) == 0:\n        for shipyard in me.shipyards:\n            if me.halite >= 500 and shipyard.cell.ship == None:\n                me.shipyards[0].next_action = ShipyardAction.SPAWN\n                return me.next_actions\n        \n    for ship in me.ships:\n        \n        if len(me.shipyards)<1 and ship.cell.shipyard == None:\n            me.ships[0].next_action = ShipAction.CONVERT\n        else:\n            h_avail = [ship.cell.north.halite, ship.cell.east.halite, ship.cell.south.halite, ship.cell.west.halite]\n            avail = [ship.cell.north.ship, ship.cell.east.ship, ship.cell.south.ship, ship.cell.west.ship]\n\n            i=0\n            for a in avail:\n                if a!=None:\n                    h_avail[i] = -1000\n                i+=1\n            best = max(h_avail)\n            \n            if ship.halite >= 500:\n                shipyard_poses = np.array([])\n                for shipyard in me.shipyards:\n                     shipyard_poses = np.append(shipyard_poses, shipyard.position)\n                shipyard_poses = shipyard_poses.reshape(-1, 2)\n                \n                for i in shipyard_poses:\n                    poses = np.array([])\n                    for pos in abs(shipyard_poses - ship.position):\n                        poses = np.append(poses, np.sum(pos))    \n                shipyard_pos = shipyard_poses[list(poses).index(min(poses))]\n                    \n                if shipyard_pos[1] > ship.position[1]:\n                    ship.next_action = ShipAction.NORTH\n                elif shipyard_pos[1] < ship.position[1]:\n                    ship.next_action = ShipAction.SOUTH\n                else:\n                    if shipyard_pos[0] > ship.position[0]:\n                        ship.next_action = ShipAction.EAST\n                    elif shipyard_pos[0] < ship.position[0]:\n                        ship.next_action = ShipAction.WEST\n                return me.next_actions   \n                \n            elif best > ship.cell.halite and ship.cell.halite < 100 and ship.cell.shipyard == None:\n                hal_pos = h_avail.index(best)\n                next_dir = directions[hal_pos]\n                ship.next_action = next_dir\n                return me.next_actions\n            elif ship.cell.halite >= 10:\n                return\n            elif best == ship.cell.halite and best != 0 and ship.cell.halite != 0:\n                return\n            else:\n                if None in avail:\n                    while True:\n                        rand = randint(0, 3)\n                        if avail[rand] == None:\n                            ship.next_action = directions[rand]\n                            return me.next_actions\n                else:\n                    print('cannot move')\n                    return\n            \n    return me.next_actions","2e6d0a2a":"env = make('halite', debug=True)\nenv.run([agent, 'random', 'random', 'random'])\nenv.render(mode='ipython', width=800, height=600)","82494f39":"This is a basic implementation of the AI, as there is only one ship and shipyard which spawns, however, it does its job efficiently as it manages to gather a multitude of halite and deliver it to the shipyard.","074ed14a":"Here is the actual game being played by the code we wrote.","95736e39":"# Halite\n### Welcome to the Halite Game AI where we will create an agent which will be able to play the game Halite.","7ba9b7de":"This is the code for the agent.\nAs we can see, there are a lot of conditions which guide our AI through the game.","d0cc7912":"## Thank you for reading my notebook\n## If you enjoyed it, please upvote it as it would help me make more of these"}}