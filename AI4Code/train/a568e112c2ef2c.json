{"cell_type":{"78af4e6c":"code","bb42ba13":"code","f35cc367":"code","167f7f08":"code","5fb9afe3":"code","f576f95d":"code","a3fd4e42":"code","c74de32d":"code","23321b03":"code","d176cd7e":"code","5f25780d":"code","c1d55a04":"code","d26bf691":"code","ab76d63a":"markdown","78fefec4":"markdown","8add4fc4":"markdown","d0641d36":"markdown","03a45bc3":"markdown","36fb27eb":"markdown","ccfc3f35":"markdown"},"source":{"78af4e6c":"#Setup\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n#tree map\nimport plotly.express as px\n\n%matplotlib inline\n\n#Load Dataset into df\ndf = pd.read_csv('..\/input\/environment-impact-of-food-production\/Food_Production.csv')","bb42ba13":"#Explore dataset\nprint(df.info())\ndf.head(n=10)","f35cc367":"#Check for percentage missing data\nfor col in df.columns:\n    pct_missing = np.mean(df[col].isnull())\n    print('{} - {}%' .format(col, pct_missing))","167f7f08":"#sort data\nQ1_sorted= df.sort_values(by = 'Total_emissions', ascending=True)\n#subset dataset\nplotdata= Q1_sorted.iloc[:,0:9]","5fb9afe3":"#Tree map \nfig = px.treemap(df, path=['Food product'],\n                 values='Total_emissions',\n                 color='Total_emissions' )\nfig.update_traces(textinfo=\"label + value\")\nfig.show()","f576f95d":"#Stacked Bar Chart\n#change size of the figure [width, height]\nplt.rcParams['figure.figsize'] = [15, 20]\n#Create style base on seaborm\nsns.set()\nplotdata.plot(x = 'Food product', y= ['Land use change', 'Animal Feed', 'Farm', 'Processing','Transport', 'Packging', 'Retail'], kind='barh', stacked=True)\nplt.ylabel('Kilogram (kg) of Consumed Food ')\nplt.xlabel('Kg CO2e')\nplt.title('Full Lifecycle Greenhouse Gas Emissions from Common Proteins and Vegetables')\n#custome legend location \nplt.legend(loc=0)\nplt.show()","a3fd4e42":"#Pie Chart\nplotdata.iloc[:,1:8].sum().plot(kind='pie', figsize=(15,10), autopct='%1.1f%%')\nplt.ylabel('Percentage %')\nplt.title('Food Production Percentage by each stage  ')\nplt.show()","c74de32d":"#Assign based on different unit: per 1000kcal, per kilogram, per 100g protein\nkcal_df = Q1_sorted[['Food product','Eutrophying emissions per 1000kcal (gPO\u2084eq per 1000kcal)','Greenhouse gas emissions per 1000kcal (kgCO\u2082eq per 1000kcal)','Freshwater withdrawals per 1000kcal (liters per 1000kcal)',\n'Land use per 1000kcal (m\u00b2 per 1000kcal)', 'Scarcity-weighted water use per 1000kcal (liters per 1000 kilocalories)'] ]\nkg_df = Q1_sorted[['Food product','Eutrophying emissions per kilogram (gPO\u2084eq per kilogram)', 'Freshwater withdrawals per kilogram (liters per kilogram)', 'Land use per kilogram (m\u00b2 per kilogram)',\n           'Scarcity-weighted water use per kilogram (liters per kilogram)']]\nprotein_df = Q1_sorted[['Food product','Eutrophying emissions per 100g protein (gPO\u2084eq per 100 grams protein)', 'Greenhouse gas emissions per 100g protein (kgCO\u2082eq per 100g protein)', 'Freshwater withdrawals per 100g protein (liters per 100g protein)',\n                'Land use per 100g protein (m\u00b2 per 100g protein)', 'Scarcity-weighted water use per 100g protein (liters per 100g protein)']]","23321b03":"df.info()","d176cd7e":"subset= df.loc[df['Food product'].isin(['Beef (beef herd)','Beef (dairy herd)'])]\nsub = subset.drop(subset.iloc[:,1:12], axis=1)\nbeef =sub.drop(sub.iloc[:,4:6], axis=1)\nbeef","5f25780d":"beef.plot(x='Food product', kind='bar')\nplt.xlabel('Types of Beef')\nplt.show()","c1d55a04":"\nproduce_kcal = kcal_df.drop(columns=['Eutrophying emissions per 1000kcal (gPO\u2084eq per 1000kcal)', \n                                     'Greenhouse gas emissions per 1000kcal (kgCO\u2082eq per 1000kcal)'])\nbeef_kcal= produce_kcal[produce_kcal['Food product'].isin(['Beef (beef herd)','Beef (dairy herd)'])]\nbeef_kcal","d26bf691":"\nplt.rcParams['figure.figsize'] = [15, 10]\n\nax = beef_kcal.plot(x='Food product',y = ['Freshwater withdrawals per 1000kcal (liters per 1000kcal)',\n                                        'Land use per 1000kcal (m\u00b2 per 1000kcal)', \n                                        'Scarcity-weighted water use per 1000kcal (liters per 1000 kilocalories)'],\n                  kind='bar')\nfor p in ax.patches:\n    ax.annotate(str(p.get_height()), (p.get_x() * 1.005, p.get_height() * 1.005))\nplt.show()","ab76d63a":"# Green House Gas Emission \n**Question 1:**\n\nWhich food product is the highest green house gas emission? \n","78fefec4":"# **Introduction**\n\nThis dataset will be all about the environmental impact of popular diets and foods. From carbon footprint to water use, we will explore how different foods can impact the environment.\n\nHere is the list of six questions based on the dataset, we try to cover:\n\n1) Which types of food have more negative impact on the environment? Which stage of food production contributes more to the greenhouse gas emmision?\n\n2) How much resource we need to produce the beef? ","8add4fc4":"**Question 2:**\n\nHow much resource we need to produce the beef?","d0641d36":"# Setup dataset","03a45bc3":"Farm is one of the biggest green house gas emission stage in the food production, which accounted for 56.1%. Land use change and Animal food source also contribute dramatically to the green house gas emission with 21.1% and 7.6% respectively. \n","36fb27eb":" Which stage of food production contributes more to the greenhouse gas emmision?","ccfc3f35":"For the food product, Beef produced in beef herd is one of the biggest contribution to green house gas emission with more than 59.6 kgCO2. In contrast, beef produced with dairy herd generates half of the total emission compared to traditonal beef production, 21.1kgCo2 versus 59.6 KgCo2. \n\nLamb & Mutton is also the second green house gas emission with 24.5 KgCo2. In the dataset, there is no report of Lamb & Mutton production with dairy heard. This type of food produce might also produce half of the green house gas emission like raising beef heard with dairy food source. "}}