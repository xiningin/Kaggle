{"cell_type":{"b6cfa577":"code","1d08410b":"code","aeb6f3d4":"code","5968de2a":"code","19c4e9be":"code","03eb7541":"code","07876968":"code","35836d2f":"code","26060a42":"markdown","8a3ac29b":"markdown","978e5c7b":"markdown","8a9cbe74":"markdown","4be5ddb6":"markdown","5c73b99a":"markdown","52498806":"markdown","1e185f01":"markdown","8c33ff34":"markdown","8b396b37":"markdown","9c8aa120":"markdown","3f2a03f1":"markdown","54ce7a2b":"markdown","9a2dbe95":"markdown"},"source":{"b6cfa577":"import pandas as pd \nimport matplotlib.pyplot as plt\nimport numpy as np\nimport seaborn as sns\nimport matplotlib\nfrom plotly.offline import iplot\nfrom plotly import figure_factory as FF\n\n%matplotlib inline\n\nplt.style.use('ggplot')\nmatplotlib.rcParams['font.family'] = \"serif\"\n#sns.set_context('poster')\n\n\nall_matches = pd.read_csv('\/kaggle\/input\/cricket-odi-results\/ODIMatchResults_Inn.csv')\nall_matches['Date'] = pd.to_datetime(all_matches.Date, format=\"%d %b %Y\")\nall_matches['year'] = all_matches.Date.map(lambda x:x.year)","1d08410b":"def function(x):\n    matches = all_matches[(all_matches.Inn == 1) & (all_matches.runs >= x)]\n    matches.year.value_counts(sort=False).plot.line(figsize=(20,6))\n    plt.xlabel('Year', fontsize=25)\n    string = str(x)\n    plt.ylabel('Number of ' + string + '+ Scores', fontsize=20)\n    ax = plt.gca()\n    ax.xaxis.set_label_coords(0.5, -0.15)\n    ax.yaxis.set_label_coords(-0.06, 0.5)\n    ax.tick_params(labelsize=15)\n    plt.show()\n    \n    total_matches = matches.Inn.count()\n    total_matches_won = matches[matches.result == 'won'].Inn.count()\n\n    table_data = [[string + '+ Batting First ( All Teams )', '# Won', '# Loss', 'Percent Win'],\n                  [total_matches,total_matches_won,total_matches-total_matches_won,round((total_matches_won\/total_matches)*100,2)]]\n    figure1 = FF.create_table(table_data)\n\n    teamWise_matches = matches.groupby('team1').Inn.count().sort_values(ascending=False)\n    teamWise_matchesWon = matches[matches.result == 'won'].groupby('team1').Inn.count()\n    teamWise_matchesWon = teamWise_matchesWon.reindex(teamWise_matches.index)\n    table_data2 = []\n    for i in range(0,len(teamWise_matches)):\n        row = {}\n        row['Team'] = teamWise_matches.index[i]\n        row['# ' + string + '+ Batting First'] = teamWise_matches[i]\n        row['# Won'] = teamWise_matchesWon[i]\n        row['Percent Won'] = round((teamWise_matchesWon[i]\/teamWise_matches[i])*100,2)\n        table_data2.append(row)\n\n    table_data2 = pd.DataFrame(table_data2)\n    table_data2.sort_values(by='Percent Won',ascending=False, inplace=True)\n    figure2 = FF.create_table(table_data2)\n    return figure1, figure2\n\nfigure1, figure2 = function(300)","aeb6f3d4":"iplot(figure1)","5968de2a":"iplot(figure2)","19c4e9be":"years = np.arange(1985,2020)\nperwon = []\nmatches = all_matches[(all_matches.Inn == 1) & (all_matches.runs >= 300)]\nfor i in years:\n    b = matches[matches.year <= i].result.value_counts()\n    if(len(b) == 1):\n        perwon.append(100)\n    else:\n        perwon.append((b[0]\/(b[0]+b[1]))*100)\nfig = plt.figure(figsize=(20,6))\nax = fig.add_subplot(111)\nplt.plot(years, perwon)\nplt.xlabel('Year', fontsize=25)\nplt.ylabel('Win %', fontsize=20)\nax.xaxis.set_label_coords(0.5, -0.15)\nax.yaxis.set_label_coords(-0.05, 0.5)\nax.tick_params(labelsize=15)\nplt.show()","03eb7541":"figure1 , figure2 = function(325)\niplot(figure1)\niplot(figure2)","07876968":"figure1 , figure2 = function(350)\niplot(figure1)\niplot(figure2)","35836d2f":"matches = all_matches[(all_matches.Inn == 2) & (all_matches.runs>=300)]\n\ntotal_matches = matches.groupby('team1').Inn.count()\ntotal_matches_won = matches[matches.result == 'won'].groupby('team1').Inn.count()\ntotal_matches_won = total_matches_won.reindex(total_matches.index)\ntable_data = []\ntotal_matches_won[0] = 0\nfor i in range(0,len(total_matches_won)):\n    row = {}\n    row['Team'] = total_matches_won.index[i]\n    row['Target of 300+'] = total_matches[i]\n    if(total_matches_won[i] == None):\n        total_matches_won[i] = 0\n    row['# Successfully chased'] = int(total_matches_won[i])\n    row['Win Percent'] = round((total_matches_won[i]\/total_matches[i])*100,2)\n    table_data.append(row)\n\ntable_data = pd.DataFrame(table_data)\ntable_data.sort_values(by='Win Percent',ascending=False, inplace=True)\nfigure = FF.create_table(table_data)\niplot(figure)","26060a42":"**Total percent of matches won after scoring 300+**","8a3ac29b":"England have won on 23 out of 28 instances. I remember England losing one among those 5 matches very distinctly. A certain gentleman took his jersey off on the lord\u2019s balcony. ","978e5c7b":"**Chasing 300+ in ODIs**","8a9cbe74":"The first team to chase down a target of over 300 runs was Srilanka. The chase came in 1992 world cup match against Zimbabwe. Zimbabwe invited to bat first, went on to post a total of 312. Sri Lanka chased down the total by a collective effort.","4be5ddb6":"**350+ Totals**","5c73b99a":"# How Safe is 300+ in ODIs : Statistical Analysis\nMade with Love for Cricket and Programming","52498806":"**Team Wise Win percent after scoring 300+**","1e185f01":"The sport has changed a lot over the years, the rules have been tweaked a lot and have been tweaked more in favour of batsmen. The norm in any sport is for one skill to rise and then another to rise in response to counter it. Something very different has happened in ODI cricket, batting has evolved at a faster rate than bowling. This has lead to rise in average runs scored in a ODI match and rise in frequency of successfull chase down of 300+ totals. \n\nThank you for having a look at this notebook","8c33ff34":"**325+ Totals**","8b396b37":"Considering all the ODIs played after 1985","9c8aa120":"**Getting the Data**","3f2a03f1":"South Africa has won 68 out of 72 games !","54ce7a2b":"**Percent of matches won till a given year, after scoring 300+**","9a2dbe95":"**Number of times 300+ was scored batting first, each year since 1985**"}}