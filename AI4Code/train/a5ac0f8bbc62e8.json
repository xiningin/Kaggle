{"cell_type":{"39925712":"code","85a947bb":"code","2cd560c7":"code","d58c6216":"code","a3280536":"code","43b10875":"code","c568f529":"code","cc65d28c":"code","d61a92b2":"code","8ba6fbfe":"code","85086f7d":"code","748a526f":"code","610310c4":"code","243e784a":"code","b1a7397f":"code","0047ce75":"code","2294e64a":"code","8aca4f0b":"code","bac39009":"code","e65bd526":"code","2ca3f1ae":"code","0e1f77a7":"code","70cf5cae":"code","1fa9c7a9":"code","02ca55d0":"code","380f9911":"code","2738acd5":"code","71b7603f":"code","d27fa353":"code","01a4c395":"code","55f4c258":"code","960ddca9":"code","32ca205d":"code","ae7035e4":"code","3dcfb68f":"code","2e798cf4":"code","94833db9":"code","c711a147":"code","f56fe688":"markdown","6ae5753f":"markdown","f03db9a7":"markdown","5276a5ba":"markdown","52db6266":"markdown","308c5eec":"markdown","7e1e3790":"markdown","8ef23ebf":"markdown","d815f411":"markdown","4172125e":"markdown","8d1c3ac6":"markdown","f1747a34":"markdown","d2652932":"markdown","3753f169":"markdown","fdab7b2d":"markdown","49b729dc":"markdown","57f2bfb3":"markdown","f8fe523b":"markdown","450c88c3":"markdown","888871bd":"markdown","95cf2807":"markdown","107ff12f":"markdown","96e96244":"markdown","6363b95f":"markdown","2dab8ca0":"markdown","6c9274b9":"markdown","ec0345da":"markdown","52168406":"markdown","0fe82755":"markdown","b68009aa":"markdown","56374336":"markdown","16a43367":"markdown","fec9c897":"markdown","dd34d863":"markdown","e5ff4e12":"markdown","4d5d92ce":"markdown","f2ca4b02":"markdown","fc13c77c":"markdown","f123bbc2":"markdown","51297475":"markdown","dc8addbf":"markdown","02822fe0":"markdown"},"source":{"39925712":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","85a947bb":"!pip install datascience","2cd560c7":"from datascience import *","d58c6216":"q = Table.read_table('\/kaggle\/input\/quran-clean-without-araab\/Quran-clean-without-aarab.csv')","a3280536":"q","43b10875":"q.show(3)","c568f529":"q.select('Ayah')","cc65d28c":"q.num_rows","d61a92b2":"q.row(q.num_rows-1)","8ba6fbfe":"def count_words(item):\n    return len(item.split())","85086f7d":"q.apply(count_words, 'Ayah')","748a526f":"qwc = q.with_columns(\"words\", q.apply(count_words, 'Ayah'))\nqwc","610310c4":"qwc = qwc.relabeled(0,'SrNo')\nqwc","243e784a":"qwc.row(qwc.num_rows-1)","b1a7397f":"en = Table.read_table('\/kaggle\/input\/qurancsv\/Quran.csv')\nen","0047ce75":"en = en.relabeled(4, 'en')\nen","2294e64a":"en = en.select(['SrNo', 'en'])\nen","8aca4f0b":"en = en.with_columns('sr', en.column('SrNo')-1).drop('SrNo')\nen","bac39009":"en.row(en.num_rows-1)","e65bd526":"quran = qwc.join('SrNo', en, 'sr')\nquran","2ca3f1ae":"quran = quran.relabeled(1, 'sno').relabeled(2,'vno')\nquran","0e1f77a7":"quran.where('sno', 2).where('vno',255)","70cf5cae":"quran.where('vno', 1)","1fa9c7a9":"def discount_basmalah(sura_no, verse_no, words):\n    if (sura_no==1 or sura_no==9):\n        return words\n    if (verse_no == 1):\n        return words-4\n    else:\n        return words","02ca55d0":"quran = quran.with_columns('wc', quran.apply(discount_basmalah,'sno','vno', 'words'))\nquran","380f9911":"q_place = Table.read_table('\/kaggle\/input\/quran-makki-madani\/quran-toc.csv')\nq_place","2738acd5":"q_select = q_place.select(['No.','Place'])\nq_select","71b7603f":"quran = quran.join('sno',q_select,'No.')\nquran","d27fa353":"quran.sort('wc', descending=True)","01a4c395":"quran.where('Place', 'Meccan').sort('wc', descending=True)","55f4c258":"quran2 = quran.drop('words')\nquran2","960ddca9":"lc = quran2.apply(len, 'Ayah')-quran2.column('wc')+1","32ca205d":"quran2 = quran2.with_columns('lc', lc)\nquran2","ae7035e4":"quran2.sort('lc', descending=True)","3dcfb68f":"np.array(quran2.column('lc')).sum()\/np.array(quran2.column('wc')).sum()","2e798cf4":"qmeccan = quran2.where('Place','Meccan').select('wc','lc')\nnp.array(qmeccan.column('lc')).sum()\/np.array(qmeccan.column('wc')).sum()","94833db9":"qmedinan = quran2.where('Place','Medinan').select('wc','lc')\nnp.array(qmedinan.column('lc')).sum()\/np.array(qmedinan.column('wc')).sum()","c711a147":"quran.to_csv('quran-en-ar-place.csv')","f56fe688":"given this we can write the following handy code,and assign the result to a new table called `qwc` meaning quran with word counts.","6ae5753f":"let us see the last row","f03db9a7":"Let us see how you can `apply` a function to each row of the Table.","5276a5ba":"The `words` column in the `quran` table seems redundent, so we can drop it.","52db6266":"Notice that the datasource we got does not have English translation. But kaggle has other [datasources](https:\/\/www.kaggle.com\/mohamedwaelbishr2018\/qurancsv) that has English translations. Sounds like a good use case for `join`ing two tables. Let us do that.","308c5eec":"Having the letter counts would enable lots more analysis on the stylistic properties of the Quran. For example, what is the average size of a single word in the Quran?","7e1e3790":"I have noticed a problem while checking the 'SrNo' of both datasets. The first dataset `qwc` has SrNo starting from Zero, while the second `en` starts from 1. So, let us create a new column `sr` in the second dataset so we have similar ID value to join both tables. ","8ef23ebf":"## Conditional selectivity","d815f411":"How many rows are there in this quranic table. In other words, how many total Ayaat are there in the Quran?","4172125e":"## Saving the File","8d1c3ac6":"as previous, I am curious to know which verses has the most letters.","f1747a34":"With the above example, we need to be mindful of the fact that the Arabic text in this dataset includes the `bismillah` as the first part of the verse no. 1 of each surah, whereas the English translation does not do that. This have implications on the count of words. \n\nSo, let us adjust the `words` count of the first verse of each surah by discounting 4 words (which is the count of words in Basmalah). But the last caviat is that we do not want to do this discounting on the first chapter of the Quran, because as we know the first verse of Sura Fatiha is a basmalah.\n\nThe same goes for Surah at-Tawbah which does not have the basmalah at the start, and hence it should not be discounted. ","d2652932":"So, let us see how to find verse 2:255 in the quran?","3753f169":"for convinience let us relable further some long fileds.","fdab7b2d":"Here is a function that given a sentence will return the number of words in that sentence.","49b729dc":"If we wanted to be a more detailed, we can repeat the same for Meccan and Medinan surahs. ","57f2bfb3":"Everything is ready, so let us do it.","f8fe523b":"another example: find me first verses of all surahs.","450c88c3":"In this Tutorial, I am going to experiment with the `Table` class under the `Datascience` module for some exploratory analysis of the Quran. Let us get started.","888871bd":"## Find English translation","95cf2807":"The above tells us that Madani surahs are generally has bigger verse size, and that among the Meccan surahs the verse 20 or surah al-Muzzammil (sno. 73) is the largest among Meccan surah (and 4th largest in the Quran).","107ff12f":"Next, I have to install the `datascience` module using `pip`. Full documentation of this module can be found [here](http:\/\/data8.org\/datascience\/).","96e96244":"So, let us start defining a function that does that exactly.","6363b95f":"If we are interested to know the largest verses in only **Meccan** surah, then we apply the filter and then do the sort as follows.","2dab8ca0":"## Makki or Madani","6c9274b9":"Thus, we can `apply` a function on a table as follows","ec0345da":"As you can see, we have the English translation under a column called \"EnglishTranslation\", here is how to relabel the filed (which is the fourth one if you count from zero) to a shorter column name.","52168406":"Let me rename the first coulumn from unnamed to SrNo","0fe82755":"we can run a quick analysis of the verse lengths, by using the `sort` function.","b68009aa":"Let us just select the two columns that interest us when it comes to joining.","56374336":"Here is the first step, reading the table using `read_table` method.","16a43367":"With a small logic, we can have another column that counts the number of characters in each verse. The logic is that we can use `len` function to count all characters in a verse which includes the **whitespace** which we can then discount by no. of words plus one. Let us do it.","fec9c897":"It shows that on average, Quranic words are around 4.3 letters and that Medinan surahs has slighly bigger word size but not that much significant. ","dd34d863":"all it matters now is to apply that function to each row of the quran.","e5ff4e12":"Similarly we can selec certain columns only","4d5d92ce":"## Counting Words","f2ca4b02":"Above was just scratching the surface of what we can do with the Quranic dataset. I will leave the rest for you. Here, I am going to save the Quran Table as a csv file. ","fc13c77c":"First, I used a [Quran](https:\/\/www.kaggle.com\/hammaadali\/quran-clean-without-araab) database already available under Kaggle and brought it under my folder. \n\nbelow is the standard Kaggle prefix.","f123bbc2":"## Display a verse","51297475":"Everything seems in place. So, let us join. It works as follows:\nJoin the first table `qwc` using the `SrNo` as the ID with the corresponding table `en` which has the same ID under column `sr`. This will append all remaining columns of the second table `en` to the new table which I chose to name it as `quran`.","dc8addbf":"Let us bring in another interesting table about the place of revelation, i.e., Makki or Madani. I have brought in the [data](https:\/\/www.kaggle.com\/abdulbaqi\/quran-makki-madani), so let us join it with out table.","02822fe0":"With `Table` we can show certain number of rows from top, for example"}}