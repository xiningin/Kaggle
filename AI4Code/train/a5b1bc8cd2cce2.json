{"cell_type":{"cfe44a53":"code","f492c405":"code","a9f950ad":"code","e93f86c2":"code","669f4452":"code","15178c1b":"code","d4cb6317":"code","d207fb28":"code","0c2dd943":"code","4d26dd52":"code","08c5cec0":"code","51379d2e":"code","07b32871":"code","a21633c5":"code","693db82e":"code","30a20ab9":"markdown","2e98bc9a":"markdown","97ee1ef8":"markdown","45fb2c16":"markdown","3741dffc":"markdown","d9d55b58":"markdown","23826872":"markdown","26a75930":"markdown","252f4fb1":"markdown","806c1403":"markdown","828979d9":"markdown","09b7abdb":"markdown","7b611a42":"markdown","3868a921":"markdown"},"source":{"cfe44a53":"import pandas as pd\n\nimport plotly.offline as py\nimport plotly.graph_objs as go\n\npy.init_notebook_mode(connected=True)","f492c405":"#Importando dataset\nurl_linha = \"..\/input\/cota-parlamentar-sp\/cota_parlamentar_sp.csv\"\ndslinha = pd.read_csv(url_linha, sep=',')\n","a9f950ad":"dslinha.head(1)","e93f86c2":"#Verificando os partidos que mais gastaram\nby_part = dslinha.groupby(['sgpartido'])['vlrdocumento'].agg('sum').sort_values(ascending=False)\nby_part.head(5)","669f4452":"#Construindo o gr\u00e1fico de gastos por partidos por anos\n\n#Pegando os 5 partidos que mais gastaram\nby_year_PT   = dslinha[dslinha['sgpartido'] == 'PT'].groupby(['numano'])['vlrdocumento'].agg('sum')\nby_year_PSDB = dslinha[dslinha['sgpartido'] == 'PSDB'].groupby(['numano'])['vlrdocumento'].agg('sum')\nby_year_PP   = dslinha[dslinha['sgpartido'] == 'PP'].groupby(['numano'])['vlrdocumento'].agg('sum')\nby_year_DEM  = dslinha[dslinha['sgpartido'] == 'DEM'].groupby(['numano'])['vlrdocumento'].agg('sum')\nby_year_PR   = dslinha[dslinha['sgpartido'] == 'PR'].groupby(['numano'])['vlrdocumento'].agg('sum')\n\n#Pegando os anos em que houveram gastos\nyear = dslinha['numano'].sort_values().unique()\n\n#Criando as linhas de dados\nlinha1 = go.Scatter(x = year, y = by_year_PT, marker =  {'color' : 'red'}, mode = 'markers+lines', name = 'PT')\nlinha2 = go.Scatter(x = year, y = by_year_PSDB, marker =  {'color' : 'blue'}, mode = 'markers+lines', name = 'PSDB')\nlinha3 = go.Scatter(x = year, y = by_year_PP, marker =  {'color' : 'yellow'}, mode = 'markers+lines', name = 'PP')\nlinha4 = go.Scatter(x = year, y = by_year_DEM, marker =  {'color' : 'green'}, mode = 'markers+lines', name = 'DEM')\nlinha5 = go.Scatter(x = year, y = by_year_PR, marker =  {'color' : 'gray'}, mode = 'markers+lines', name = 'PR')\n\ndados = [linha1, linha2, linha3, linha4, linha5]\n\n#Criando o layout do gr\u00e1fico\n\nlayout = go.Layout(title='5 Partidos com Maiores Gastos entre 2009 e 2018 - SP',\n                   yaxis={'title':'Valor Gasto'},\n                   xaxis={'title':'Ano do Gasto'})\n\nfig = go.Figure(data=dados, layout=layout)\n\npy.iplot(fig)","15178c1b":"#Importando dataset\nurl_barra = \"..\/input\/aula3-ex1\/BR_eleitorado_2016_municipio.csv\"\ndsbarra = pd.read_csv(url_barra, sep=',')\ndsbarra.head(3)","d4cb6317":"#Trablhando o dataset para incluir as regioes\n\ndsbarra['regiao'] = 'Nordeste'\ndsbarra['regiao'][(dsbarra['uf'] == 'RS') | (dsbarra['uf'] == 'PR') | (dsbarra['uf'] == 'SC')] = 'Sul'\ndsbarra['regiao'][(dsbarra['uf'] == 'SP') | (dsbarra['uf'] == 'RJ') | (dsbarra['uf'] == 'ES') | (dsbarra['uf'] == 'MG')] = 'Sudeste'\ndsbarra['regiao'][(dsbarra['uf'] == 'GO') | (dsbarra['uf'] == 'DF') | (dsbarra['uf'] == 'MT') | (dsbarra['uf'] == 'MS')] = 'Centro-Oeste'\ndsbarra['regiao'][(dsbarra['uf'] == 'AC') | (dsbarra['uf'] == 'AM') | (dsbarra['uf'] == 'RR') | (dsbarra['uf'] == 'PA') | (dsbarra['uf'] == 'TO') | (dsbarra['uf'] == 'RO') | (dsbarra['uf'] == 'AP')] = 'Norte'\ndsbarra.head(10)","d207fb28":"#Construindo o gr\u00e1fico eleitores por regi\u00e3o do Brasil\n\n#Agrupando por regi\u00e3o\nby_region_tot   = dsbarra.groupby(['regiao'])['total_eleitores'].agg('sum')\nby_region_man   = dsbarra.groupby(['regiao'])['gen_masculino'].agg('sum')\nby_region_wom   = dsbarra.groupby(['regiao'])['gen_feminino'].agg('sum')\n\n\n#Pegando as regi\u00f5es\nregion = dsbarra['regiao'].sort_values().unique()\n\n#Criando as barras de dados\nbarra1 = go.Bar(x = region, y = by_region_tot, marker =  {'color' : 'red'},name = 'Total')\nbarra2 = go.Bar(x = region, y = by_region_man, marker =  {'color' : 'blue'},name = 'Homens')\nbarra3 = go.Bar(x = region, y = by_region_wom, marker =  {'color' : 'yellow'}, name = 'Mulheres')\n\ndados = [barra1, barra2, barra3]\n\n#Criando o layout do gr\u00e1fico\n\nlayout = go.Layout(title='Eleitores por Regi\u00f5es do Brasil',\n                   yaxis={'title':'N\u00famero de Eleitores'},\n                   xaxis={'title':'Regi\u00e3o do Brasil'})\n\nfig = go.Figure(data=dados, layout=layout)\n\npy.iplot(fig)","0c2dd943":"#Importando dataset\nurl_hist = \"..\/input\/cota-parlamentar-sp\/cota_parlamentar_sp.csv\"\ndshist = pd.read_csv(url_hist, sep=',')\ndshist.head(3)","4d26dd52":"#Construindo o histograma de distribui\u00e7\u00e3o quantidade de notas por parlamentar\n\n#Criando os dados para o histograma\nhisto = go.Histogram(y = dshist['txnomeparlamentar'])\n\ndados = [histo]\n\npy.iplot(dados)","08c5cec0":"url_radar = \"https:\/\/raw.githubusercontent.com\/matheusmota\/dataviz2018\/master\/resources\/datasets\/Pokemon.csv\"\ndsradar = pd.read_csv(url_radar, sep=',')","51379d2e":"dsradar[(dsradar['Name'] == 'Pikachu') | (dsradar['Name'] == 'Mewtwo')]","07b32871":"#Criando os atributos para plotar\nhp   = int(dsradar[dsradar['Name'] == 'Pikachu']['HP'])\natq  = int(dsradar[dsradar['Name'] == 'Pikachu']['Attack'])\ndefs = int(dsradar[dsradar['Name'] == 'Pikachu']['Defense'])\nsatq = int(dsradar[dsradar['Name'] == 'Pikachu']['Sp. Atk'])\nsdef = int(dsradar[dsradar['Name'] == 'Pikachu']['Sp. Def'])\nspe  = int(dsradar[dsradar['Name'] == 'Pikachu']['Speed'])\n\nhp1   = int(dsradar[dsradar['Name'] == 'Mewtwo']['HP'])\natq1  = int(dsradar[dsradar['Name'] == 'Mewtwo']['Attack'])\ndefs1 = int(dsradar[dsradar['Name'] == 'Mewtwo']['Defense'])\nsatq1 = int(dsradar[dsradar['Name'] == 'Mewtwo']['Sp. Atk'])\nsdef1 = int(dsradar[dsradar['Name'] == 'Mewtwo']['Sp. Def'])\nspe1  = int(dsradar[dsradar['Name'] == 'Mewtwo']['Speed'])\n\n#Plotando a compara\u00e7\u00e3o\ndata = [\n    go.Scatterpolar(\n      r = [hp, atq, defs, satq, sdef, spe],\n      theta = ['HP','ATTACK','DEFENSE', 'SP. ATK', 'SP. DEF', 'SPEED'],\n      fill = 'toself',\n      name = 'PIKACHU'\n    ),\n    go.Scatterpolar(\n      r = [hp1, atq1, defs1, satq1, sdef1, spe1],\n      theta = ['HP','ATTACK','DEFENSE', 'SP. ATK', 'SP. DEF', 'SPEED'],\n      fill = 'toself',\n      name = 'MEWTWO'\n    )\n]\n\nlayout = go.Layout(title = 'Reedi\u00e7\u00e3o Filme Pokemon 2000 - Pikachu vs Mewtwo',\n  polar = dict(\n    radialaxis = dict(\n      visible = True,\n      range = [0, 160]\n    )\n  ),\n  showlegend = True\n)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig, filename = \"radar\/multiple\")","a21633c5":"#Construindo o gr\u00e1fico eleitores por cidades nas regi\u00e3o do Brasil\n\n#Criando as caixas de dados\ncaixa1 = go.Box(y = dsbarra.loc[dsbarra['regiao'] == 'Centro-Oeste', 'total_eleitores'], marker =  {'color' : 'red'}, name = 'Centro-Oeste')\ncaixa2 = go.Box(y = dsbarra.loc[dsbarra['regiao'] == 'Nordeste', 'total_eleitores'], marker =  {'color' : 'blue'},name = 'Nordeste')\ncaixa3 = go.Box(y = dsbarra.loc[dsbarra['regiao'] == 'Norte', 'total_eleitores'], marker =  {'color' : 'yellow'}, name = 'Norte')\ncaixa4 = go.Box(y = dsbarra.loc[dsbarra['regiao'] == 'Sudeste', 'total_eleitores'], marker =  {'color' : 'green'}, name = 'Sudeste')\ncaixa5 = go.Box(y = dsbarra.loc[dsbarra['regiao'] == 'Sul', 'total_eleitores'], marker =  {'color' : 'grey'}, name = 'Sul')\n\ndados = [caixa1, caixa2, caixa3, caixa4, caixa5]\n\n#Criando o layout do gr\u00e1fico\n\nlayout = go.Layout(title='Eleitores por Regi\u00f5es do Brasil - Dispers\u00e3o nas Cidades',\n                   yaxis={'title':'N\u00famero de Eleitores'},\n                   xaxis={'title':'Regi\u00e3o do Brasil'})\n\nfig = go.Figure(data=dados, layout=layout)\n\npy.iplot(fig)","693db82e":"fig = {\n    \"data\": [{\n        \"type\": 'violin',\n        \"y\": dsbarra['regiao'],\n        \"box\": {\n            \"visible\": True\n        },\n        \"line\": {\n            \"color\": 'black'\n        },\n        \"meanline\": {\n            \"visible\": True\n        },\n        \"fillcolor\": '#8dd3c7',\n        \"opacity\": 0.6,\n        \"x0\": 'Cidades Brasil'\n    }],\n    \"layout\" : {\n        \"title\": \"Quantidades de Cidades com Eleitores por Regi\u00e3o\",\n        \"yaxis\": {\n            \"zeroline\": False,\n        }\n    }\n}\n\npy.iplot(fig, filename = 'violin\/basic', validate = False)","30a20ab9":"## Gr\u00e1fico de Caixa","2e98bc9a":"# Quest\u00e3o \u00fanica - Plotly Python\n\nUtilizando um ou mais [datasets da disciplina](https:\/\/github.com\/matheusmota\/dataviz2018\/tree\/master\/resources\/datasets), usando o [Plotly Python](https:\/\/plot.ly\/python\/), construa:\n\n* Um gr\u00e1fico de linha\n* Um gr\u00e1fico de barras\n* Um histograma\n* Um gr\u00e1fico radar\n* Um gr\u00e1fico de caixa\n* Um gr\u00e1fico de violino\n\nDeixe claro qual o dataset escolhido e as vari\u00e1veis.\n\n","97ee1ef8":"## Gr\u00e1fico de Violino","45fb2c16":"## Gr\u00e1fico de Barras","3741dffc":"### O histograma acima tem o objetivo de apresentar os deputados e a quantidade de emiss\u00f5es de gastos informadas no periodo de 2009 a 2018. Os valores s\u00e3o em emiss\u00f5es de gastos e n\u00e3o valor monet\u00e1rio.","d9d55b58":"### Acima temos a dispers\u00e3o de cidades por regi\u00f5es brasileiras, \u00e9 interessante observar que \u00e9 praticamente igual a quantidade de cidades entre as 3 maiores regi\u00f5es, SUL, SUDESTE e NORDESTE, por\u00e9m ao analisarmos os gr\u00e1ficos anteriores temos que a regi\u00e3o SUDESTE tem uma quantidade muito maior de eleitores, o que nos levar a concluir o quanto a regi\u00e3o SUDESTE \u00e9 demograficamente mais populosa que as demais regi\u00f5es brasileiras.","23826872":"### No gr\u00e1fico acima foi realizada uma compara\u00e7\u00e3o entre os atributos de dois pokemons, fiz uma analogia da luta que teve no filme pokemon 2000, onde o ikachu perde v\u00e1rias vezes para o Mewtwo, ao analisar o gr\u00e1fico conseguimos ver o porqu\u00ea.","26a75930":"### No gr\u00e1fico de caixas acima, o objetivo era apresentar a dispers\u00e3o de quantidade de eleitores por cidades brasileiras, por\u00e9m como h\u00e1 cidades com uma concentra\u00e7\u00e3o absurdamente maior que as demais, \u00e9 dif\u00edcil identificar a principal caracter\u00edstica desse gr\u00e1fico, as caixas.","252f4fb1":"## Gr\u00e1fico de Linha","806c1403":"## Gr\u00e1fico de Radar","828979d9":"## Histograma","09b7abdb":"### Acima apresentado um gr\u00e1fico de linhas com os 5 partidos que mais gastaram, percebemos uma queda acentuada de gastos pelo PT ap\u00f3s 2014. Outra grande queda \u00e9 ap\u00f3s 2017, o que explica isso \u00e9 o fato de o dataset n\u00e3o ter tantos dados do ano de 2018.","7b611a42":"# Especializa\u00e7\u00e3o em Ci\u00eancia de Dados - Turma 2018.1 - Facens\n## Aula 3 | Exerc\u00edcio 1\n\n* **Data de entrega:** 28\/out\/2018 11:59 AM\n* **Professor:**  Matheus Mota\n* **Aluno:**  Bruno Cesar de Oliveira Silva\n* **RA:** 091585","3868a921":"### O gr\u00e1fico de barras acima apresenta o total de eleitores por regi\u00e3o do Brasil, al\u00e9m da divis\u00e3o entre homens e mulheres que comp\u00f5em esse total. N\u00e3o foi considerado os valores de genero n\u00e3o informado."}}