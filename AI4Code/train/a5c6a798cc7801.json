{"cell_type":{"295645c9":"code","7fc87c62":"code","dc970d73":"code","bac52e00":"code","557269e5":"code","a3ff17be":"code","f2064830":"code","3d68ebc4":"code","f234513c":"code","28648b46":"code","e5e23d92":"code","1757c286":"code","ab96a8a1":"code","f7950ec5":"code","7f7ce9ca":"code","9cca70ce":"code","3127bef5":"code","d1bf534c":"code","eb54c019":"code","de544909":"code","17294196":"code","8fd1ccf2":"code","614f92cc":"code","7378fbee":"code","d79f4a8c":"code","57c1775d":"code","bf494d37":"code","225fadb4":"code","4456016a":"code","1ebadc4a":"code","ef1ff7bd":"code","bd31b0f9":"code","b3b6c583":"code","831d507d":"code","1f875f50":"code","f26e12db":"code","c06ad0b1":"code","4471ae37":"code","e99e4d9a":"code","6bfcab27":"code","e905e553":"code","ed8c9809":"code","52bd19fb":"code","5246048e":"code","ed91fd43":"code","072cc555":"code","ba8d40b2":"code","d91c65eb":"code","6bc440c9":"code","6e7d2baf":"code","dc5cd8c7":"code","badce0eb":"code","09715393":"code","54f2c0aa":"code","fdd4bd4a":"code","f8ab22f4":"code","f497cced":"code","3c57e204":"code","8dbb398a":"code","794dd52c":"code","128eaafd":"code","b8b566e0":"code","e62a2a75":"code","77fb4808":"code","2e041e04":"code","b42eab1b":"code","24ebac6b":"code","de59d005":"code","a122fcc0":"code","a2b172a0":"code","cb28097c":"markdown","51d8d5a7":"markdown","993fabbd":"markdown","e08869bf":"markdown","d22ff143":"markdown"},"source":{"295645c9":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns","7fc87c62":"df1= pd.read_csv('..\/input\/air-quality-data-in-india\/city_day.csv')","dc970d73":"df1.head()","bac52e00":"df1['City'].unique()","557269e5":"df = df1[df1['City']=='Delhi']","a3ff17be":"df.head()","f2064830":"df.shape","3d68ebc4":"df.info()","f234513c":"df.isnull().sum()","28648b46":"df= df.drop(['Xylene','Toluene','Benzene','O3','CO','SO2'], axis=1)\n","e5e23d92":"#df1['City'].unique()\ndf = df.dropna()","1757c286":"#df2 = df1[df1['City']=='Mumbai']\nsns.heatmap(df.corr())","ab96a8a1":"#df2.isnull().sum()","f7950ec5":"#df1.isnull().sum()","7f7ce9ca":"#dff = df1.drop(['PM10','NH3','Xylene'],axis=1)","9cca70ce":"#dff.isnull().sum()","3127bef5":"#DF= dff.dropna()","d1bf534c":"#DF=DF.head(1000)","eb54c019":"#DF['City'].unique()","de544909":"#DF.info()","17294196":"df.describe()","8fd1ccf2":"#DF.AQI_Bucket= DF.AQI_Bucket.astype(float)\n#DF[['AQI_Bucket']] = DF[['AQI_Bucket']].apply(pd.to_numeric) \n","614f92cc":"#DF.head()","7378fbee":"sns.boxplot(data=df)","d79f4a8c":"drop_outlier = df[(df['AQI']>500) | (df['PM2.5']>180) | (df['NO']>65) |(df['NH3']>50) | (df['NO2']>90) | (df['NOx']>100) | (df['PM10']>450)].index","57c1775d":"df = df.drop(drop_outlier)\n#DF=DF.drop(drop_outlier2)\n","bf494d37":"df.info()","225fadb4":"sns.boxplot(data= df)","4456016a":"plt.figure(figsize=(8,4),dpi=200)\npalette ={'Good': \"g\", 'Poor': \"C0\", 'Very Poor': \"C1\",'Severe': \"r\",\"Moderate\": 'b',\"Satisfactory\":'y'}\nsns.scatterplot(x= 'AQI', y= 'PM2.5', data=df,hue ='AQI_Bucket',palette = palette, ci= None)","1ebadc4a":"plt.figure(figsize=(8,4),dpi=200)\npalette ={'Good': \"g\", 'Poor': \"C0\", 'Very Poor': \"C1\",'Severe': \"r\",\"Moderate\": 'b',\"Satisfactory\":'y'}\nsns.scatterplot(x= 'AQI', y= 'NO2', data=df,hue ='AQI_Bucket',palette = palette, ci= None)","ef1ff7bd":"plt.figure(figsize=(8,4),dpi=200)\npalette ={'Good': \"g\", 'Poor': \"C0\", 'Very Poor': \"C1\",'Severe': \"r\",\"Moderate\": 'b',\"Satisfactory\":'y'}\nsns.scatterplot(x= 'AQI', y= 'NH3', data=df,hue ='AQI_Bucket',palette = palette, ci= None)","bd31b0f9":"plt.figure(figsize=(8,4),dpi=200)\npalette ={'Good': \"g\", 'Poor': \"C0\", 'Very Poor': \"C1\",'Severe': \"r\",\"Moderate\": 'b',\"Satisfactory\":'y'}\nsns.scatterplot(x= 'AQI', y= 'NOx', data=df,hue ='AQI_Bucket',palette = palette, ci= None)","b3b6c583":"sns.heatmap(df.corr())","831d507d":"df1","1f875f50":"sns.heatmap(df1.corr())","f26e12db":"plt.figure(figsize=(8,4),dpi=200)\npalette ={'Good': \"g\", 'Poor': \"C0\", 'Very Poor': \"C1\",'Severe': \"r\",\"Moderate\": 'b',\"Satisfactory\":'y'}\nsns.scatterplot(x= 'AQI', y= 'PM10', data=df,hue ='AQI_Bucket',palette = palette, ci= None)","c06ad0b1":"drop_outlier1 = df[(df['AQI']<165) & (df['PM10']>200)].index\ndrop_outlier2 = df[(df['AQI']>200) & (df['PM10']<110)].index\ndf = df.drop(drop_outlier1)\ndf = df.drop(drop_outlier2)\n\n","4471ae37":"plt.figure(figsize=(8,4),dpi=200)\npalette ={'Good': \"g\", 'Poor': \"C0\", 'Very Poor': \"C1\",'Severe': \"r\",\"Moderate\": 'b',\"Satisfactory\":'y'}\nsns.scatterplot(x= 'AQI', y= 'PM10', data=df,hue ='AQI_Bucket',palette = palette, ci= None)","e99e4d9a":"plt.figure(figsize=(12,4),dpi=200)\npalette ={'Good': \"g\", 'Poor': \"C0\", 'Very Poor': \"C1\",'Severe': \"r\",\"Moderate\": 'b',\"Satisfactory\":'y'}\nsns.scatterplot(x= 'AQI', y= 'PM2.5', data=df,hue ='AQI_Bucket',palette = palette, ci= None)","6bfcab27":"#drop_outlier = DF[(DF['AQI']>500) | (DF['PM2.5']>120) | (DF['NO']>50) | (DF['SO2']>150) | (DF['CO']>50) | (DF['O3']>100) | (DF['NO2']>150) | (DF['NOx']>100)].index","e905e553":"#drop_outlier = DF[(DF['AQI']>600) | (DF['PM2.5']>300)].index\n#drop_outlier2= DF[(DF['AQI']<200) & (DF['PM2.5']>150)].index","ed8c9809":"#DF = DF.drop(drop_outlier)\n#DF=DF.drop(drop_outlier2)","52bd19fb":"#drop_outlier3= DF[(DF['NO2']>200)].index","5246048e":"#DF=DF.drop(drop_outlier3)","ed91fd43":"df.info()","072cc555":"#sns.heatmap(DF.corr())","ba8d40b2":"X= df.drop(['City', 'AQI_Bucket', 'AQI', 'NH3','NOx','NO','Date'], axis= 1)","d91c65eb":"y= df['AQI']","6bc440c9":"sns.boxplot(data=X)","6e7d2baf":"sns.pairplot(data=X)","dc5cd8c7":"X.info()","badce0eb":"from sklearn.model_selection import train_test_split","09715393":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.30, random_state=101)","54f2c0aa":"from sklearn.preprocessing import StandardScaler","fdd4bd4a":"Scaler = StandardScaler()","f8ab22f4":"scaled_X_train = Scaler.fit_transform(X_train)\nscaled_X_test = Scaler.transform(X_test)","f497cced":"from sklearn.svm import SVR","3c57e204":"param_grid = {'C':[0.001,0.01,0.1,0.5,1],\n             'kernel':['linear','rbf','poly'],\n              'gamma':['scale','auto'],\n              'degree':[2,3,4],\n              'epsilon':[0,0.01,0.1,0.5,1,2]}","8dbb398a":"from sklearn.model_selection import GridSearchCV","794dd52c":"svr = SVR()\ngrid = GridSearchCV(svr,param_grid=param_grid)","128eaafd":"grid.fit(scaled_X_train,y_train)","b8b566e0":"grid.best_params_","e62a2a75":"model_predict=grid.predict(scaled_X_test)","77fb4808":"#model.fit(scaled_X_train, y_train)","2e041e04":"#model_predict=model.predict(scaled_X_test)","b42eab1b":"from sklearn.metrics import mean_absolute_error, mean_squared_error","24ebac6b":"mean_squared_error(model_predict, y_test)","de59d005":"np.sqrt(mean_squared_error(y_test,model_predict))","a122fcc0":"x=np.arange(0,len(y_test))\nprint(x)","a2b172a0":"fig = plt.figure(figsize =(12,8), dpi=200)\n\n# Add set of axes to figure\naxes = fig.add_axes([0, 0, 1, 1]) # left, bottom, width, height (range 0 to 1)\n\n# Plot on that set of axes\naxes.plot(x[0:50], y_test[0:50], label='y_test')\naxes.plot(x[0:50], model_predict[0:50], label='predict')\nplt.legend()\nplt.show()","cb28097c":"x=np.array(df['Date'].head(50))\ny= np.array(df['AQI'].head(50))\n\nplt.plot(x,y)","51d8d5a7":"plt.figure(figsize=(12,4),dpi=200)\npalette ={'Good': \"g\", 'Poor': \"C0\", 'Very Poor': \"C1\",'Severe': \"r\",\"Moderate\": 'b',\"Satisfactory\":'y'}\nsns.scatterplot(x= 'AQI', y= 'NO2', data=df,hue ='AQI_Bucket',palette = palette, ci= None)","993fabbd":"import datetime\nDF['date'] = pd.to_datetime(DF['date'])\n","e08869bf":"plt.figure(figsize=(8,4),dpi=200)\npalette ={'Good': \"g\", 'Poor': \"C0\", 'Very Poor': \"C1\",'Severe': \"r\",\"Moderate\": 'b',\"Satisfactory\":'y'}\nsns.scatterplot(x= 'AQI', y= 'NO2', data=df,hue ='AQI_Bucket',palette = palette, ci= None)","d22ff143":"plt.figure(figsize=(12,4),dpi=200)\npalette ={'Good': \"g\", 'Poor': \"C0\", 'Very Poor': \"C1\",'Severe': \"r\",\"Moderate\": 'b',\"Satisfactory\":'y'}\nsns.scatterplot(x= 'AQI', y= 'PM2.5', data=df,hue ='AQI_Bucket',palette = palette, ci= None)"}}