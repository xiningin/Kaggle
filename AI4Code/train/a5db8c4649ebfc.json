{"cell_type":{"f01dc595":"code","0c668d17":"code","25d71610":"code","af1fe06c":"code","8f4a1553":"code","e05447ce":"code","125940bf":"code","5e49f8e0":"code","11020be1":"code","b12aeaaa":"code","96b29a97":"code","f0b0790c":"code","0bbeb1e6":"code","1f3a5479":"code","0d357046":"code","45ee56bd":"code","f3979627":"code","2d54dc88":"code","60dc98c0":"markdown","5a1ed419":"markdown","dd0233ea":"markdown","6620d77c":"markdown","6cbedefc":"markdown","651a4574":"markdown","40c5813f":"markdown","d3465bdd":"markdown","0e7f001a":"markdown","69308762":"markdown","2ba9c113":"markdown","a1967580":"markdown","13a27a44":"markdown","8c18ea4a":"markdown"},"source":{"f01dc595":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\n%matplotlib inline","0c668d17":"df_us = pd.read_csv('https:\/\/raw.githubusercontent.com\/CSSEGISandData\/COVID-19\/master\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_confirmed_US.csv')\ndf_deaths_us = pd.read_csv('https:\/\/raw.githubusercontent.com\/CSSEGISandData\/COVID-19\/master\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_deaths_US.csv')\ndf_recovered_us = pd.read_csv('https:\/\/raw.githubusercontent.com\/CSSEGISandData\/COVID-19\/master\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_deaths_US.csv')\n\ndf_deaths_us.head()","25d71610":"df_global = pd.read_csv('https:\/\/raw.githubusercontent.com\/CSSEGISandData\/COVID-19\/master\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_confirmed_global.csv')\ndf_deaths_global = pd.read_csv('https:\/\/raw.githubusercontent.com\/CSSEGISandData\/COVID-19\/master\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_deaths_global.csv')\ndf_recovered_global = pd.read_csv('https:\/\/raw.githubusercontent.com\/CSSEGISandData\/COVID-19\/master\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_deaths_global.csv')\ndf_global.head()","af1fe06c":"covid_data = {'global_cases':df_global, 'global_deaths':df_deaths_global, 'global_recovered':df_recovered_global,'us_cases':df_us, 'us_deaths':df_deaths_us, 'us_recovered':df_recovered_us }","8f4a1553":"def plot_data(data,column_name,column_val):\n    if column_name=='Country\/Region':\n        dataframe = data['global_cases']\n        deaths = data['global_deaths']\n    elif column_name=='Province_State':\n        dataframe = data['us_cases']\n        deaths = data['us_deaths']\n        \n    cc = dataframe[dataframe[column_name]==column_val].iloc[:,11:].T.sum(axis = 1)\n    cc = pd.DataFrame(cc)\n    cc.columns = ['Cases']\n    cc = cc.loc[cc['Cases']>0]\n\n    y = np.array(cc['Cases'])\n    x = np.arange(cc.size)\n    dy = np.append([0],np.diff(y))\n    \n    cd = deaths[deaths[column_name]==column_val].iloc[:,12:].T.sum(axis = 1)\n    cd = pd.DataFrame(cd)\n    cd.columns = ['Deaths']\n    cd = cd.loc[cd['Deaths']>0]\n\n    yd = np.array(cd['Deaths'])\n    xd = np.arange(cd.size)\n    dd = np.append([0],np.diff(yd))\n    \n    plt.figure(1,figsize=(15,15))\n    ax1=plt.subplot(221)\n    ax1.semilogy(x,y)\n    plt.title(column_val+' Number of cases (semilog)')\n    plt.xlabel('days')\n    plt.ylabel('Cumulative Cases (log)')\n    ax1.minorticks_on()\n    ax1.grid(which='minor',linestyle=':')\n    ax1.grid(which='major',linestyle='-')\n       \n    ax2=plt.subplot(222)\n    ax2.bar(x,dy)\n    plt.title(column_val+' Daily increase in cases (linear)')\n    plt.xlabel('days')\n    plt.ylabel('Change in cases')\n    ax2.grid()\n    \n    try:\n        ax3=plt.subplot(223)\n        ax3.loglog(y,dy,'b.')\n        plt.title(column_val+' Cumulative cases vs Change in cases (loglog)')\n        plt.xlabel('Cululative cases (log)')\n        plt.ylabel('Change in cases (log)')\n        ax3.minorticks_on()\n        ax3.grid(which='minor',linestyle=':')\n        ax3.grid(which='major',linestyle='-')\n    except:\n        print(y.size,dy.size)\n        \n    ax4=plt.subplot(224)\n    ax4.bar(xd,dd)\n    plt.title(column_val+' Daily increase in deaths (linear)')\n    plt.xlabel('days')\n    plt.ylabel('Change in deaths')\n    ax2.grid()\n        ","e05447ce":"plot_data(covid_data,'Country\/Region','Korea, South')","125940bf":"plot_data(covid_data,'Country\/Region','Italy')","5e49f8e0":"plot_data(covid_data,'Country\/Region','China')","11020be1":"plot_data(covid_data,'Country\/Region','US')","b12aeaaa":"plot_data(covid_data,'Province_State','New York')","96b29a97":"plot_data(covid_data,'Province_State','New Jersey')","f0b0790c":"plot_data(covid_data,'Province_State','Washington')","0bbeb1e6":"plot_data(covid_data,'Province_State','California')","1f3a5479":"plot_data(covid_data,'Province_State','Florida')","0d357046":"plot_data(covid_data,'Country\/Region','Sweden')","45ee56bd":"plot_data(covid_data,'Country\/Region','Japan')","f3979627":"plot_data(covid_data,'Country\/Region','Russia')","2d54dc88":"plot_data(covid_data,'Country\/Region','Turkey')","60dc98c0":"Washington's data is kind of noisy, since there are fewer data points, but growth has definitely been slower than NY\/NJ.","5a1ed419":"Define a function that takes a dataframe and matches a value for the column name to a country\/state name to extract the number of confirmed cases and creates a few plots of the time series data.","dd0233ea":"How about NJ? It's bending, too.","6620d77c":"Then, read the global data, which is broken down by country.","6cbedefc":"Now, looking at Italy, we can see that they have started to make a difference, but new cases has not gone to zero yet.","651a4574":"# Quick analysis of COVID-19 Data\nThe data was pulled from the <a href='https:\/\/coronavirus.jhu.edu\/map.html'>Johns Hopkins Center for Systems Science and Engineering (CSSE)<\/a>\n\nData was captured from their github page (https:\/\/github.com\/CSSEGISandData\/COVID-19) on 4\/7. You can run this Jupyter Notebook to pull the latest data and plot it.","40c5813f":"Now, let's look at some individual states, starting with the state with the most cases, NY. It looks like the curve is bending now.","d3465bdd":"Florida looks like it is on the decline despite their delay in instituting stay-at-home policies. Maybe that's a sign that the disease is declining everywhere and not just in places that have strict lock downs. That would be a good thing...","0e7f001a":"In the US, there is still a long way to go as of 4\/7, but the slope has started to decrease.\n\nBy the way, the number of days for cases to double is inversely proportional to the slope of the semilog curve.","69308762":"Let's check out California. It looks like they have started bending slightly, but the data is a bit jumpy.","2ba9c113":"China's data is suspect, but here are the official numbers. The loglog plot looks very different than other countries'. This is a tip-off that something is funny with the data.","a1967580":"Let's first look at the South Korea total numbers.\n\nThe first plot is total cases versus time on a semilog plot. If this curve is linear, then the cases are growing exponentially. This exponential growth can't be sustained indefinitely. Eventually the whole population will be infected, if unchecked and the number of cases will stop rising. Measures like social distancing and quarantine with or without contact tracing will also stop the growth. The curve will actually be a logistic curve in the end.\n\nThe slope of the semilog plot represents the exponent $n$ of the exponential model:\n\n$c = c_0e^{nt}$\n\nsince, taking the log, we have a linear plot in time with the slope as $n$:\n\n$ln(c) = nt+ln(c_0)$\n\nTo find the time to double, we use $2c_0 = c_0e^{nt}$ and solve for t:\n\n$t_d = ln(2)\/n$\n\nThe second plot below shows daily increase in cases.\n\nA useful plot to determine if you are starting to make a difference in slowing or stopping the spread is to plot a loglog plot with total cases on the x axis and new cases on the y axis. The time aspect on this plot is inferred, since it is just a scatter plot of these data points over time. \n\nOn the plot of cases for South Korea, you can see that they were able to slow growth by noting the 'knee' in the curve when new cases started to slow down.","13a27a44":"First, import required python libraries","8c18ea4a":"Now pull the US data. The US data is broken down by state and county.\nAfter download of the csv file into a pandas dataframe, show the beginning of the file."}}