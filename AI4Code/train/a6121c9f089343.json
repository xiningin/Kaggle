{"cell_type":{"c10ba5f1":"code","849b2478":"code","3da2a766":"code","bbb2604d":"code","c5666adc":"code","0b5d0702":"code","53a2e51c":"code","12b489ad":"code","8ef48d0a":"code","8e923e0f":"code","434abff0":"code","e4e417b1":"code","f5f8879d":"code","e05c7e8c":"code","cdd8d876":"code","e5b3828d":"code","eb42e295":"code","3a2cc12c":"code","83e3d478":"code","7e1a88ca":"code","72fd5456":"code","6905d919":"code","6a8638d0":"code","c3e054c1":"code","79d38311":"code","6aa4fe43":"code","fc5b75de":"code","7d06828d":"code","b19a5a9c":"code","7ecbebe9":"code","8de5c4a5":"code","e255e200":"code","d78e75d3":"code","f82ca9fe":"code","64467862":"code","7edc0e7d":"code","35bdaa56":"code","aab0c726":"code","c420e3ba":"code","68b1ad86":"code","46974839":"code","e1477348":"markdown","c7fe998a":"markdown","bade777d":"markdown","3786ca92":"markdown","3abb1076":"markdown","1a8bf393":"markdown","0089f08e":"markdown","72cee0d1":"markdown","f239839e":"markdown","498918d6":"markdown","197ce384":"markdown","abec494d":"markdown","e7bd1404":"markdown","6746248b":"markdown","6733ae91":"markdown","d74f81d9":"markdown","d512e868":"markdown","54cabd98":"markdown","7bd33c8e":"markdown","9c21db6d":"markdown","43bb8b4f":"markdown","6cde4d27":"markdown","ca8ab793":"markdown","f80b6ae4":"markdown","50a214d5":"markdown","d68f69ee":"markdown","ffb263cf":"markdown","a276d13a":"markdown","e8c2aa0c":"markdown","b586d054":"markdown","e35ab573":"markdown","13617c26":"markdown","20061367":"markdown","52ddd4cd":"markdown","902fdae2":"markdown","48dfd173":"markdown","ec79e5d2":"markdown"},"source":{"c10ba5f1":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","849b2478":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport matplotlib\nimport numpy as np\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\nimport plotly as py\nimport plotly.graph_objs as go\ninit_notebook_mode(connected=True) #do not miss this line\n#py.offline.iplot(fig)","3da2a766":"df=pd.read_csv('..\/input\/crime-against-women-20012014-india\/crimes_against_women_2001-2014.csv')\ndf.head()","bbb2604d":"#Dropping District Column and Unnamed 0 column\n\ndf.drop(['Unnamed: 0'],axis=1,inplace=True)\ndf.drop(['DISTRICT'],axis=1,inplace=True)","c5666adc":"print(df['STATE\/UT'].unique())\nlen(df['STATE\/UT'].unique())","0b5d0702":"#Removing repeated entries\n\ndef get_case_consistency(row):\n    row = row['STATE\/UT'].strip()\n    row = row.upper()\n    #row = row.title()\n    return row\n\ndf['STATE\/UT'] = df.apply(get_case_consistency, axis=1)\n\ndf['STATE\/UT'].replace(\"A&N ISLANDS\", \"A & N ISLANDS\", inplace = True)\ndf['STATE\/UT'].replace(\"D&N HAVELI\", \"D & N HAVELI\", inplace = True)\ndf['STATE\/UT'].replace(\"DELHI UT\", \"DELHI\", inplace = True)\n\ndf['STATE\/UT'].unique()","53a2e51c":"#Check for null values\ndf.isnull().sum()","12b489ad":"def func(total_case_all_years):\n\n    for i in list(df.columns)[2:]:\n        total_case_all_years[i]=df.groupby(['Year'])[i].sum()\n        \n    return total_case_all_years\n\ntotal_case_all_years=pd.DataFrame()\ntotal_case_all_years=func(total_case_all_years)\ntotal_case_all_years","8ef48d0a":"#Total Number of cases in each year\npd.DataFrame(total_case_all_years.sum(axis=1),columns=['Total Number of Cases'])","8e923e0f":"fig = px.bar(pd.DataFrame( total_case_all_years.sum(axis=1),columns=['Total Number of Cases']), \n             x=pd.DataFrame( total_case_all_years.sum(axis=1)).index, \n             y='Total Number of Cases',title='Total Number of Crimes in Each year',color_discrete_sequence=['green'])\nfig.show()","434abff0":"pd.DataFrame( total_case_all_years.sum(axis=0),columns=['Count']).sort_values(by='Count',ascending=False)","e4e417b1":"fig = px.pie(pd.DataFrame( total_case_all_years.sum(axis=0),columns=['Count']), values='Count', names=pd.DataFrame( total_case_all_years.sum(axis=0)).index, title='Percentage of Each Crime between 2001 - 2014')\nfig.show()","f5f8879d":"fig = px.bar(total_case_all_years, x=total_case_all_years.index, y='Rape',title='Year Wise Rape Cases',color_discrete_sequence=['black'])\nfig.show()","e05c7e8c":"fig = px.bar(total_case_all_years, x=total_case_all_years.index, \n             y='Kidnapping and Abduction',color_discrete_sequence=['brown'],title='Year Wise Kidnapping and Abduction Cases')\nfig.show()","cdd8d876":"fig = px.bar(total_case_all_years, x=total_case_all_years.index, y='Dowry Deaths',color_discrete_sequence=['purple'],title='Year wise Dowry Deaths Cases')\nfig.show()","e5b3828d":"fig = px.bar(total_case_all_years, x=total_case_all_years.index, \n             y='Assault on women with intent to outrage her modesty',color_discrete_sequence=['darkolivegreen'],\n            title='Year Wise Assault on women with intent to outrage her modesty Cases')\nfig.show()","eb42e295":"fig = px.bar(total_case_all_years, x=total_case_all_years.index, \n             y='Insult to modesty of Women',color_discrete_sequence=['brown'],title=\"Year Wise Insult to modesty of women Cases\")\nfig.show()","3a2cc12c":"fig = px.bar(total_case_all_years, x=total_case_all_years.index, y='Cruelty by Husband or his Relatives',\n             color_discrete_sequence=['black'],title='Year Wise Cruelty by Husband or his Relatives')\nfig.show()","83e3d478":"fig = px.bar(total_case_all_years, x=total_case_all_years.index, y='Importation of Girls',\n             color_discrete_sequence=['darkgreen'],title='Year Wise Importation Of Girls Cases')\nfig.show()","7e1a88ca":"#Creating a dataframe that consists number of cases state\/ut wise\n\ndef func(state_wise_data):\n\n    for i in list(df.columns)[2:]:\n        state_wise_data[i]=df.groupby(['STATE\/UT'])[i].sum()\n        \n    return state_wise_data\n\nstate_wise_data=pd.DataFrame()\nstate_wise_data=func(state_wise_data)\nstate_wise_data","72fd5456":"state=pd.DataFrame( state_wise_data.sum(axis=1),columns=['Total Cases'])\n#state.head()","6905d919":"pd.DataFrame( state_wise_data.sum(axis=1),columns=['Total Count']).sort_values(by='Total Count',ascending=False).head(10)","6a8638d0":"pd.DataFrame( state_wise_data.sum(axis=1),columns=['Total Case'] ).sort_values(by='Total Case').head(10)","c3e054c1":"fig = px.pie(state, values='Total Cases', names=state.index, title='Total Crime Rate state\/ut wise Distribution')\nfig.show()","79d38311":"pd.DataFrame(state_wise_data.idxmax(),columns=['STATE \/ UT'])","6aa4fe43":"print('**Top 5 States\/UT with highest number of Rape Cases**')\ndisplay(pd.DataFrame(state_wise_data['Rape']).sort_values(by='Rape',ascending=False).head())\n\nprint('\\n\\n**Top 5 States\/UT with lowest number of Rape Cases**')\npd.DataFrame(state_wise_data['Rape']).sort_values(by='Rape').head()","fc5b75de":"print('**Top 5 States\/UT With Highest Number of Kidnapping And Abduction Cases**')\ndisplay(pd.DataFrame(state_wise_data['Kidnapping and Abduction']).sort_values(by='Kidnapping and Abduction',ascending=False).head())\n\nprint('\\n\\n**Top 5 States\/UT With Lowest Number of Kidnapping And Abduction Cases**')\npd.DataFrame(state_wise_data['Kidnapping and Abduction']).sort_values(by='Kidnapping and Abduction').head()","7d06828d":"print('**Top 5 States\/UT With Highest Number of Dowry Deaths Cases**')\ndisplay(pd.DataFrame(state_wise_data['Dowry Deaths']).sort_values(by='Dowry Deaths',ascending=False).head())\n\nprint('\\n\\n**Top 5 States\/UT With Lowest Number of Dowry Deaths Cases**')\npd.DataFrame(state_wise_data['Dowry Deaths']).sort_values(by='Dowry Deaths').head()","b19a5a9c":"print('**Top 5 States\/UT With Highest Number of Assault on women with intent to outrage her modesty Cases**')\ndisplay(pd.DataFrame(state_wise_data['Assault on women with intent to outrage her modesty']).sort_values(by='Assault on women with intent to outrage her modesty',ascending=False).head())\n\nprint('\\n\\n**Top 5 States\/UT With Lowest Number of Assault on women with intent to outrage her modesty Cases**')\npd.DataFrame(state_wise_data['Assault on women with intent to outrage her modesty']).sort_values(by='Assault on women with intent to outrage her modesty').head()","7ecbebe9":"print('**Top 5 States\/UT With Highest Number of Insult to modesty of Women Cases**')\ndisplay(pd.DataFrame(state_wise_data['Insult to modesty of Women']).sort_values(by='Insult to modesty of Women',ascending=False).head())\n\nprint('\\n\\n**Top 5 States\/UT With Lowest Number of Insult to modesty of Women Cases**')\npd.DataFrame(state_wise_data['Insult to modesty of Women']).sort_values(by='Insult to modesty of Women').head()","8de5c4a5":"print('**Top 5 States\/UT With Highest Number of Cruelty by Husband or his Relatives Cases**')\ndisplay(pd.DataFrame(state_wise_data['Cruelty by Husband or his Relatives']).sort_values(by='Cruelty by Husband or his Relatives',ascending=False).head())\n\nprint('\\n\\n**Top 5 States\/UT With Lowest Number of Cruelty by Husband or his Relatives Cases**')\npd.DataFrame(state_wise_data['Cruelty by Husband or his Relatives']).sort_values(by='Cruelty by Husband or his Relatives').head()","e255e200":"print('**Top 5 States\/UT With Highest Number of Importation of Girls Cases**')\ndisplay(pd.DataFrame(state_wise_data['Importation of Girls']).sort_values(by='Importation of Girls',ascending=False).head())\n\nprint('\\n\\n**Top 5 States\/UT With Lowest Number of Cruelty by Husband or his Relatives Cases**')\npd.DataFrame(state_wise_data['Importation of Girls']).sort_values(by='Importation of Girls').head()","d78e75d3":"def which_state_you_want_to_analyze(state_name):\n    try:\n        fig = px.pie(state_wise_data, values=state_wise_data.loc[state_name], \n                     names=state_wise_data.iloc[0,:].index, title='Total Crime Rate Distribution for {}'.format(state_name))\n        fig.show()\n    except KeyError:\n        print('You Entered Wrong STATE\/UT Name')\n    \nstate_name=input('Enter Name of State\/UT : ').upper()\nwhich_state_you_want_to_analyze(state_name)","f82ca9fe":"fig = matplotlib.pyplot.gcf()\nfig.set_size_inches(10,10)\na=np.arange(len(total_case_all_years.T.index))\nwidth=0.35\nfig, ax = plt.subplots()\nrects1 = ax.bar(a - width\/2, total_case_all_years.T[2001], width, label='2001')\nrects2 = ax.bar(a + width\/2, total_case_all_years.T[2014], width, label='2014')\nax.set_xticks(a)\nax.set_xticklabels(total_case_all_years.T.index)\nax.legend()\ndef autolabel(rects):\n    for rect in rects:\n        height = rect.get_height()\n        ax.annotate('{}'.format(height),\n                    xy=(rect.get_x() + rect.get_width() \/ 2, height),\n                    xytext=(0, 3), \n                    textcoords=\"offset points\",\n                    ha='center', va='bottom')\n\n\nautolabel(rects1)\nautolabel(rects2)\n\nfig = matplotlib.pyplot.gcf()\nfig.set_size_inches(25,13)\nplt.xlabel('\\nTYPES OF CRIME')\nplt.ylabel('NUMBER OF CRIME ')\nplt.title('2001 VS 2014 CRIME RATE COMPARASION')","64467862":"data_2001=pd.DataFrame()\n\nfor i in df.columns[2:]:\n    data_2001[i]=df[df.Year==2001].groupby('STATE\/UT')[i].sum()\/\/2\n    \ndata_2001.head()\ndata_2001['Total Cases in 2001']=data_2001.sum(axis=1)\n\n\ndata_2014=pd.DataFrame()\n\nfor i in df.columns[2:]:\n    data_2014[i]=df[df.Year==2014].groupby('STATE\/UT')[i].sum()\/\/2\n    \ndata_2014['Total Cases in 2014']=data_2014.sum(axis=1)\n#data_2014.drop(['TELANGANA'],inplace=True)","7edc0e7d":"comparasion_between_2001_2014=pd.DataFrame()\n\ncomparasion_between_2001_2014['STATE\/UT']=data_2001.index\ncomparasion_between_2001_2014.set_index('STATE\/UT',inplace=True)\n\ncomparasion_between_2001_2014['Total Cases in 2001']=data_2001['Total Cases in 2001']\ncomparasion_between_2001_2014['Total Cases in 2014']=data_2014['Total Cases in 2014']\n\ncomparasion_between_2001_2014['Increase in number of crimes in 14 Years']=data_2014['Total Cases in 2014']-data_2001['Total Cases in 2001']","35bdaa56":"comparasion_between_2001_2014","aab0c726":"comparasion_between_2001_2014.sort_values(by='Increase in number of crimes in 14 Years',ascending=False).head()","c420e3ba":"fig = matplotlib.pyplot.gcf()\nfig.set_size_inches(10,10)\na=np.arange(5)\nwidth=0.35\nfig, ax = plt.subplots()\nrects1 = ax.bar(a - width\/2, comparasion_between_2001_2014.sort_values(by='Increase in number of crimes in 14 Years',ascending=False).head()['Total Cases in 2001'], width, label='2001')\nrects2 = ax.bar(a + width\/2, comparasion_between_2001_2014.sort_values(by='Increase in number of crimes in 14 Years',ascending=False).head()['Total Cases in 2014'], width, label='2014')\nax.set_xticks(a)\nax.set_xticklabels(comparasion_between_2001_2014.sort_values(by='Increase in number of crimes in 14 Years',ascending=False).head().index)\nax.legend()\ndef autolabel(rects):\n    for rect in rects:\n        height = rect.get_height()\n        ax.annotate('{}'.format(height),\n                    xy=(rect.get_x() + rect.get_width() \/ 2, height),\n                    xytext=(0, 3), \n                    textcoords=\"offset points\",\n                    ha='center', va='bottom')\n\n\nautolabel(rects1)\nautolabel(rects2)\n\nfig = matplotlib.pyplot.gcf()\nfig.set_size_inches(20,10)\nplt.xlabel('\\nSTATE \/ UT')\nplt.ylabel('Total NUMBER OF CRIMES ')\nplt.title('Increase In Total Crimes In 14 Years')\n\nfig = px.bar(comparasion_between_2001_2014, x=comparasion_between_2001_2014.sort_values(by='Increase in number of crimes in 14 Years',ascending=False).head().index, \n             y=comparasion_between_2001_2014.sort_values(by='Increase in number of crimes in 14 Years',ascending=False).head()['Increase in number of crimes in 14 Years'],\n            labels={\n                'y':'Increase in number of cases in 14 Years',\n                'x':'STATES \/ UT'\n            },color_discrete_sequence=['black'])\nfig.show()","68b1ad86":"comparasion_between_2001_2014.sort_values(by='Increase in number of crimes in 14 Years').head()","46974839":"fig = matplotlib.pyplot.gcf()\nfig.set_size_inches(10,10)\na=np.arange(5)\nwidth=0.35\nfig, ax = plt.subplots()\nrects1 = ax.bar(a - width\/2, comparasion_between_2001_2014.sort_values(by='Increase in number of crimes in 14 Years').head()['Total Cases in 2001'], width, label='2001')\nrects2 = ax.bar(a + width\/2, comparasion_between_2001_2014.sort_values(by='Increase in number of crimes in 14 Years').head()['Total Cases in 2014'], width, label='2014')\nax.set_xticks(a)\nax.set_xticklabels(comparasion_between_2001_2014.sort_values(by='Increase in number of crimes in 14 Years').head().index)\nax.legend()\ndef autolabel(rects):\n    for rect in rects:\n        height = rect.get_height()\n        ax.annotate('{}'.format(height),\n                    xy=(rect.get_x() + rect.get_width() \/ 2, height),\n                    xytext=(0, 3), \n                    textcoords=\"offset points\",\n                    ha='center', va='bottom')\n\n\nautolabel(rects1)\nautolabel(rects2)\n\nfig = matplotlib.pyplot.gcf()\nfig.set_size_inches(20,10)\nplt.xlabel('\\nSTATE \/ UT')\nplt.ylabel('Total NUMBER OF CRIMES ')\nplt.title('Increase In Total Crimes In 14 Years')\n\nfig = px.bar(comparasion_between_2001_2014, x=comparasion_between_2001_2014.sort_values(by='Increase in number of crimes in 14 Years').head().index, \n             y=comparasion_between_2001_2014.sort_values(by='Increase in number of crimes in 14 Years').head()['Increase in number of crimes in 14 Years'],\n            labels={\n                'y':'Increase in number of cases in 14 Years',\n                'x':'STATES \/ UT'\n            },color_discrete_sequence=['deepskyblue'])\nfig.show()","e1477348":"### <font color='red'>Top 5 States\/UT with highest and lowest number of Importation of Girls Cases","c7fe998a":">**UTTAR PRADESH has highest crime rate while LAKSHADWEEP is the one with lowest.**","bade777d":">**Cruelty by Husband or his Relatives has highest number of cases (42%), while Imortation of Girls being lowest.**\n\n>**Cruelty by Husband or his Relatives has twice number of cases than Assault on women has.**","3786ca92":">**There is an increase in crime by 142 % in 14 Years**","3abb1076":"### <font color='red'> Top 10 States\/Union Territories  With Lowest Crime Rate","1a8bf393":"# <font color='darkgreen'>Function For Specific State\/UT Analysis\n\n**Enter name of the State\/UT for which you want to analyze crime rate over 14 Years**","0089f08e":" ### 2) Kidnapping and Abduction","72cee0d1":"## How's crime rate varying with time ?","f239839e":"### 1) Rape","498918d6":"### 7) Importation of Girls","197ce384":"## Year wise Analysis","abec494d":"### <font color='red'>Top 5 States\/UT with highest and lowest number of Kidnapping and Abduction Cases","e7bd1404":">**Number of Kidnapping and Abduction cases has increased exponentially over time.**","6746248b":"### <font color='red'>Top 5 States\/UT with highest and lowest number of Dowry Deaths Case","6733ae91":"### <font color='red'>Top 5 States\/UT with Highest And Lowest Number of Assault on women with intent to outrage her modesty Cases","d74f81d9":"### 3) Dowry Deaths","d512e868":"### <font color='red'>Top 5 States\/UT with Highest And Lowest Number of Insult to modesty of Women Cases","54cabd98":"### 5) Insult to modesty of women","7bd33c8e":">**Crimes under Cruelty by Husband or his Relatives has continousally increased over time** ","9c21db6d":"## <font color='brown'> STATE\/UT Wise Analysis","43bb8b4f":"### <font color='red'>Top 5 States\/UT with highest and lowest number of Rape Cases","6cde4d27":"## Which  was highest reported crime and which one was least ?","ca8ab793":"### <font color='red'>Top 5 States\/UT with highest and lowest number of Cruelty by Husband or his Relatives Cases","f80b6ae4":"### <font color='red'>Top 10 States\/Union Territories  With Highest Crime Rate","50a214d5":">**Number of Rape Cases has increased over time, Highest jump can be seen in year 2013 with an increase of 37.5 %**","d68f69ee":">**Cases of Assault on women with intent to outrage her modesty drastically increased in year 2013 by 56%**","ffb263cf":"## <font color='red'>Top 5 States \/ UT  Where Crime Rate Has Increased The Most \nwith highest increase in number of crime rates","a276d13a":"|||\n|------|------|\n|**Total Number of Crimes between 2001 - 2014 :**| 2660805  |\n|**Highest reported crime :**| Cruelty by Husband or his Relatives (42%) of total cases|\n|**State\/UT with lowest crime rate :**|LAKSHADWEEP with 0.000101 % of total case|\n|**State\/UT with highest crime rate :**|UTTAR PRADESH with 10.9 % of total case |\n|**Highest Number of Rape Cases :**|MADHYA PRADESH|\n|**Highest Number of Kidnapping and Abduction Cases :**|UTTAR PRADESH|\n|**Highest Number of Dowry Deaths Cases :**|UTTAR PRADESH|\n|**Highest Number of Assault on women with intent to outrage her modesty Cases :**|Madhya Pradesh|\n|**Highest Number of Insult to modesty of Women cases :**|ANDHRA PRADESH|\n|**Highest Number of Cruelty by Husband or his Relatives Cases:**|WEST BENGAL|\n|**Highest Number of Importation of Girls Cases:**|BIHAR|\n|**Lowest Number of Rape Cases :**|LAKSHADWEEP|\n|**Lowest Number of Kidnapping and Abduction Cases :**|LAKSHADWEEP|\n|**Lowest Number of Dowry Deaths Cases :**|LAKSHADWEEP|\n|**Lowest Number of Assault on women with intent to outrage her modesty cases :**|LAKSHADWEEP|\n|**Lowest Number of Insult to modesty of Women cases :**|DAMAN & DIU|\n|**Lowest Number of Cruelty by Husband or his Relatives cases :**|LAKSHADWEEP|\n|**Lowest Number of Importation of Girls cases:**|A & N ISLANDS|\n\n>## <font color='darkgreen'>**Puducherry is the only state\/UT where crime rate has decreased in 14 years**\n\n>## <font color='gunjan'>**Daman And Diu is the only State\/UT where crime rate has neither increased nor decreased in 14 years**","e8c2aa0c":">**Cases of Importation of Girls was highest in 2005. In last 4 years a decreasing trend can be seen in the rate**","b586d054":"### 6) Cruelty by Husband or his Relatives","e35ab573":"## <font color='brown'>Change In Crime Rate of States\/UT In 14 Years (2001-2014) ","13617c26":">**Number of Insult to modesty of women cases is fluctuating throught the time**","20061367":"## <font color='red'>Top 5 States\/UT With Minimun Increase In Crime Rate In 14 Years","52ddd4cd":"## <font color='brown'>2001 vs 2014 Stats","902fdae2":"## Insights\n\n|Crime |Increase\/Decrease Percentage|\n|------|------|\n|  Rape| Increased By 128 % |\n|**<font color='red'>Kidnapping and Abduction**  |**<font color='red'>Increased By 291.33%**|\n|Dowry Deaths | Inccreased By 23.41 %|\n|Assault on women  |Increased By 140.98 %|\n| Insult to modesty of Women|Decreased By 0.11 %|\n|Cruelty by Husband or his Relatives|Increased By 149.9 % |\n| **<font color='green'>Importation of Girls**|**<font color='green'>Decreased By 88.59 %** |","48dfd173":"## <font color='brown'>Out of 7 types of crime which are the states\/ut having maximum cases of each type ?","ec79e5d2":"### 4) Assault on women with intent to outrage her modesty"}}