{"cell_type":{"c8ffba9b":"code","fc5b309b":"code","73ee7f42":"code","5d60a372":"code","1f09a0cf":"code","2784de03":"code","34d52036":"code","476e4eeb":"code","8e7b8723":"code","5ab17b0c":"code","b7f34364":"code","c51d4bde":"code","1fc77dd1":"code","94119e31":"code","c4d92919":"code","a52ec927":"code","cfb4f20d":"code","af70076e":"markdown","3aae8534":"markdown","8f03d821":"markdown","95af54fa":"markdown","bb0e096e":"markdown","775ec185":"markdown","d4aec5d7":"markdown","838e0efc":"markdown","3b9f5c88":"markdown","237264b3":"markdown","102cd8fc":"markdown","f42cb6f7":"markdown","d08f406c":"markdown","4c99cbe8":"markdown","aa662383":"markdown"},"source":{"c8ffba9b":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\n# for dirname, _, filenames in os.walk('\/kaggle\/input'):\n#     for filename in filenames:\n#         print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","fc5b309b":"file_path= \"..\/input\/nifty50-stocks-dataset\/National_Stock_Exchange_of_India_Ltd.csv\"\nnifty_50 = pd.read_csv(file_path,index_col=\"Symbol\")\nnifty_50.head()","73ee7f42":"nifty_50.info()","5d60a372":"nifty_50.rename(columns={\"% Chng\":\"Percent_Change\",\"Volume (lacs)\":\"Volume_In_Lacs\",\"Turnover (crs.)\":\"Turnover_In_Crores\",\"52w H\":\"52_Week_High\",\"52w L\":\"52_Week_Low\",\n                      \"365 d % chng\":\"365_Day_Percent_Change\",\"30 d % chng\":\"30_Day_Percent_Change\"},inplace=True)\ncols = nifty_50.select_dtypes(exclude=['float']).columns\nfor col in cols:\n    print(col)\n    nifty_50[col]=nifty_50[col].str.replace(\",\",\"\")\n\nnifty_50[cols] = nifty_50[cols].apply(pd.to_numeric, downcast='float', errors='coerce')\n\nnifty_50.info()","1f09a0cf":"nifty_50.describe()","2784de03":"plt.figure(figsize=(25,6))\nplt.xticks(rotation=90)\n\nsns.set_style(\"whitegrid\")\n\nax = sns.barplot(x=nifty_50.index,y=nifty_50[\"Turnover_In_Crores\"])\n#sns.barplot(x=nifty_50.index,y=nifty_50[\"Turnover_In_Crores\"])\nax.bar_label(ax.containers[0], fontsize = 8)\nplt.title(\"Nifty 50 Stocks Turnover in Crores\")\nplt.xlabel(\"Stock Names\")\nplt.ylabel(\"Turnover(crores)\")\n","34d52036":"print(\"Average Turnover of Companies comrising Nifty 50 Index is {0:.2f}.\".format(nifty_50.Turnover_In_Crores.mean()))","476e4eeb":"plt.figure(figsize=(25,6))\nplt.xticks(rotation=90)\n\nsns.set_style(\"whitegrid\")\n\nax = sns.barplot(x=nifty_50.index,y=nifty_50[\"Volume_In_Lacs\"])\n#sns.barplot(x=nifty_50.index,y=nifty_50[\"Volume_In_Lacs\"])\nax.bar_label(ax.containers[0], fontsize = 8)\nplt.title(\"Nifty 50 Stocks Volume Traded in Lacs\")\nplt.xlabel(\"Stock Names\")\nplt.ylabel(\"Volume Traded(lacs)\")","8e7b8723":"print (\"Avg. Volume Traded {:.2f} Lacs\".format(nifty_50.Volume_In_Lacs.mean()))","5ab17b0c":"plt.figure(figsize=(15,6))\nsns.scatterplot(x=nifty_50.Turnover_In_Crores,y=nifty_50.Volume_In_Lacs)\nplt.title(\"Scatterplot between Turnover and Volume Traded\",fontsize=15)\nplt.xlabel(\"Turnover(Crores)\",fontsize=10)\nplt.ylabel(\"Volume(Lacs)\",fontsize=10)","b7f34364":"plt.figure(figsize=(15,6))\nsns.regplot(x=\"Turnover_In_Crores\",y=\"Volume_In_Lacs\",data=nifty_50)\nplt.title(\"Turnover and Volume Traded\",fontsize=15)\nplt.xlabel(\"Turnover(Crores)\",fontsize=10)\nplt.ylabel(\"Volume(Lacs)\",fontsize=10)","c51d4bde":"#nifty_50.columns\nplt.figure(figsize=(25,5))\nplt.xticks(rotation=90)\nax=sns.barplot(x=nifty_50.index,y=nifty_50[\"365_Day_Percent_Change\"])\nax.bar_label(ax.containers[0], fontsize = 8)\nplt.title(\"365 Days percent change\")\nplt.xlabel(\"Stock Names\")\nplt.ylabel(\"365 Days percent change\")","1fc77dd1":"\nplt.figure(figsize=(25,5))\nplt.xticks(rotation=90)\nax=sns.barplot(x=nifty_50.index,y=nifty_50[\"365_Day_Percent_Change\"].abs())\nax.bar_label(ax.containers[0], fontsize = 8)\nplt.title(\"365 Days absolute percent change\")\nplt.xlabel(\"Stock Names\")\nplt.ylabel(\"365 Days percent change\")","94119e31":"#nifty_50.columns\nnifty_50[\"Avg_Price_52_Week\"]= (nifty_50[\"52_Week_High\"]+nifty_50[\"52_Week_Low\"])\/2\nnifty_50[\"Standard_Deviation\"] = np.sqrt(((nifty_50[\"52_Week_High\"]-nifty_50[\"Avg_Price_52_Week\"])**2 + (nifty_50[\"52_Week_Low\"]-nifty_50[\"Avg_Price_52_Week\"])**2)\/2)","c4d92919":"plt.figure(figsize=(25,5))\nplt.xticks(rotation=90)\nax=sns.barplot(x=nifty_50.index,y=nifty_50[\"Standard_Deviation\"])\nax.bar_label(ax.containers[0], fontsize = 8)\nplt.title(\"Volatility Over 52 week high and low data points\")\nplt.xlabel(\"Stock Names\")\nplt.ylabel(\"Standard Deviation\")","a52ec927":"plt.figure(figsize=(15,6))\nsns.regplot(x=nifty_50[\"Turnover_In_Crores\"],y=nifty_50[\"Standard_Deviation\"])\nplt.title(\"Standard Deviation vs Turnover\",fontsize=15)\nplt.xlabel(\"Turnover of Nifty 50 stocks\")\nplt.ylabel(\"Standard Deviation of Nifty 50 stocks\")","cfb4f20d":"nifty_50_related=nifty_50.iloc[:,5:]\nnifty_50_related=nifty_50_related.drop([\"52_Week_High\",\"52_Week_Low\",\"Avg_Price_52_Week\"],axis=1)\nnifty_50_corr=nifty_50_related.corr()\nplt.figure(figsize=(10, 10))\nsns.heatmap(nifty_50_corr,annot=True)\nplt.title(\"Heatmap of Attributes to check the correlation\")","af70076e":"# 365 day volatility analysis","3aae8534":"**Average Turnover**","8f03d821":"***BAJAJFINSV, SHREECEM, NESTLEIND and BAJFINANCE have highest volatility in price over 52 weeks.***","95af54fa":"plt.figure(figsize=(15,6))\nsns.regplot(x=nifty_50[\"Volume_In_Lacs\"],y=nifty_50[\"Standard_Deviation\"])\nplt.title(\"Standard Deviation vs Volume Traded\",fontsize=15)\nplt.xlabel(\"Volume Traded of Nifty 50 stocks\")\nplt.ylabel(\"Standard Deviation of Nifty 50 stocks\")","bb0e096e":"# **Check relatioship between Volume and Turnover**","775ec185":"***Standard Deviation is not affected by turn over.***","d4aec5d7":"![1610520139_T1H1DR_Stock_Market.jpg](attachment:9d9db2e1-2a1e-4ba1-84d3-43d909e24825.jpg)","838e0efc":"# **Turnover of all Nifty 50 stocks in Crores**","3b9f5c88":"# **Datafame Metadata Changes**","237264b3":"# Check Relationship between Volatility and Turnover","102cd8fc":"# **Correlation Matrix**","f42cb6f7":"***Slightly -ve correlation with volume Traded***","d08f406c":"***Current Percent Change has positive correlation with 30 day percent change whereas negative correlation beween 365 percentage change. That means 365 percent change does not drive the actual price but near term change affects the price.***\n","4c99cbe8":"# Volume Traded","aa662383":"***Clearly +ve correlation between Turnover and Volumes Traded***"}}