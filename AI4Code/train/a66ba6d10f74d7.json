{"cell_type":{"76e61090":"code","0a9d9cf1":"code","fa4ae9de":"code","a7d0132d":"code","4051ecdb":"code","556f911e":"code","18179924":"code","65444f1a":"code","243342d2":"code","46c6b3e6":"code","5882de2e":"code","d6e99acd":"code","54a6ba7a":"code","5d8d2775":"code","426c723a":"code","dd0f6ffa":"code","9b4a62be":"code","e6cf9c99":"code","71552b79":"code","36b85276":"code","22512d97":"code","46b4fca2":"code","2f378fb3":"code","da9215fd":"code","d574f885":"code","b9a28f2d":"code","785bd9c3":"code","b15d7259":"code","0da45310":"code","d7b7338f":"code","30b0eb84":"code","da2547c6":"code","67da0b0e":"markdown","e7fcbaea":"markdown","acad5df9":"markdown","d63ac178":"markdown","03ebf1c0":"markdown","80f18f8f":"markdown","91f291fc":"markdown","98252fba":"markdown","fbd54f4c":"markdown","f3394870":"markdown","279864c3":"markdown","435e2c50":"markdown","cf457ea4":"markdown","9e6e5273":"markdown","3f4ac5e8":"markdown","67becfc3":"markdown","ca99d505":"markdown","1cbfa4a5":"markdown","7f8bc836":"markdown","40a15b01":"markdown","37ac8684":"markdown","f284ffa0":"markdown","407a5c74":"markdown"},"source":{"76e61090":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sb\nimport os\n\n%matplotlib inline\n\nprint(os.listdir('..\/input'))","0a9d9cf1":"tumor = pd.read_csv('..\/input\/machine-hack-melanoma-tumor-size-prediction\/train.csv')\ntumor.head()","fa4ae9de":"tumor.tumor_size.describe()","a7d0132d":"print(tumor.dtypes)\nprint(tumor.shape)","4051ecdb":"tumor.info()","556f911e":"bins = np.arange(0, tumor.tumor_size.max()+0.25, 0.25)\nplt.hist(data = tumor, x = 'tumor_size', bins = bins)\nplt.xlabel('Size (mm)')\nplt.ylabel('frequency')\nplt.title('The Distribution of \"tumor_size\"');","18179924":"tumor.mass_npea.describe()","65444f1a":"tumor.size_npear.describe()","243342d2":"plt.figure(figsize = [20, 5]) \n\nplt.subplot(1, 2, 1) \nbins = np.arange(2865, tumor.mass_npea.max()+500, 500)\nplt.hist(data = tumor, x = 'mass_npea', bins = bins)\nplt.xlabel('Mass of the area(mm)')\nplt.ylabel('Frequency')\nplt.xlim(0, 40000)\nplt.title('Size area Distribution')\n\nplt.subplot(1, 2, 2) \nbins = np.arange(510, tumor.size_npear.max()+200, 200)\nplt.hist(data = tumor, x = 'size_npear', bins = bins)\nplt.xlabel('Size of the area(mm)')\nplt.ylabel('Frequency')\n# plt.xlim(0, 40000);\nplt.title('Mass area Distribution');\n","46c6b3e6":"\nnp.arange(0, tumor['size_npear'].max(), 1000)","5882de2e":"tumor['area_size'] = tumor['size_npear'].apply(lambda x: 's1' if (x <= 1000)\n                                         else( 's2' if x>1000 and x<=2000   \n                                             else( 's3'  if x>2000 and x<=3000\n                                                 else( 's4'  if x>3000 and x<=4000\n                                                      else ('s5' if x>4000 and x<=5000 else 's6')) )))\n\ntumor['area_size']","d6e99acd":"base_color = sb.color_palette()[0]\norder_index = tumor.area_size.value_counts().index\nsb.countplot(data = tumor, x='area_size', color = base_color, order = order_index)\nplt.xlabel('Area size')\nplt.title('Area sizes frequency');","54a6ba7a":"bins = np.arange(2865, tumor.mass_npea.max()+100, 100)\nplt.hist(data = tumor, x = 'mass_npea', bins = bins)\nplt.xlabel('MASS(mm)')\nplt.ylabel('Frequency')\nplt.title('Mass area Distribution with small bins');","5d8d2775":"plt.figure(figsize = [10, 10], tight_layout = 5)\n\nplt.subplot(3, 1, 1) \nbins = np.arange(0, tumor.damage_size.max()+8, 8)\nplt.hist(data = tumor, x = 'damage_size', bins = bins)\nplt.xlabel('Damage size')\nplt.ylabel ('Frequency')\nplt.title('damage_size distribution')\n\nplt.subplot(3, 1, 2) \nbins = np.arange(0, tumor.exposed_area.max()+100000, 100000)\nplt.hist(data = tumor, x = 'exposed_area', bins = bins)\nplt.xlabel('Exposed area')\nplt.xticks([0, 1e6, 2e6, 3e6, 4e6, 5e6], [0, '1m', '2m', '3m', '4m', '5m'])\nplt.ylabel ('Frequency')\nplt.title('exposed_area distribution')\n\nplt.subplot(3, 1, 3) \nbins = np.arange(0, tumor.std_dev_malign.max()+10, 10)\nplt.hist(data = tumor, x = 'std_dev_malign', bins = bins)\nplt.xlabel('standard deviation of malign')\nplt.ylabel ('Frequency')\nplt.title('std_dev_malign distribution');","426c723a":"tumor.malign_ratio.describe()","dd0f6ffa":"bins = np.arange(tumor.malign_ratio.min(), tumor.malign_ratio.max()+0.01, 0.01)\nplt.hist(data = tumor, x = 'malign_ratio', bins = bins)\nplt.xlabel('Malign ratio')\nplt.ylabel('Frequency')\nplt.title('Malign ratio distribution');","9b4a62be":"tumor.tumor_size.describe()","e6cf9c99":"plt.figure(figsize = [12, 8])\nsb.heatmap(tumor.corr(),annot = True, cmap = 'viridis_r', fmt = '.2f');","71552b79":"samples = np.random.choice(tumor.shape[0], 200, replace = False)\ndiamonds_samp = tumor.loc[samples,:]\n\ng = sb.PairGrid(data = diamonds_samp)\ng = g.map_diag(plt.hist, bins = 20)\ng.map_offdiag(plt.scatter)\nplt.subplots_adjust(top=0.9)\ng.fig.suptitle('Scatter plot for all variabels');","36b85276":"plt.figure(figsize = [15, 8])\nbase_color = sb.color_palette()[0]\n\nplt.subplot(2, 2, 1)\n#Let's return the axes object\nax1 = sb.violinplot(data=tumor, x='area_size', y='size_npear', color=base_color, innner='quartile')\n\nplt.subplot(2, 2, 2)\nsb.boxplot(data=tumor, x='area_size', y='size_npear', color=base_color)\n\nplt.subplot(2, 2, 3)\n#Let's return the axes object\nax1 = sb.violinplot(data=tumor, x='area_size', y='malign_ratio', color=base_color, innner='quartile')\n\nplt.subplot(2, 2, 4)\nsb.boxplot(data=tumor, x='area_size', y='malign_ratio', color=base_color);","22512d97":"bins_edges = np.arange(tumor.malign_ratio.min(), tumor.malign_ratio.max()+0.01, 0.01)\ng = sb.FacetGrid(data = tumor, col = 'area_size', col_wrap = 3)\ng.map(plt.hist, 'malign_ratio', bins = bins_edges)\nplt.subplots_adjust(top=0.9)\ng.fig.suptitle('malign_ratio for each area_size class');","46b4fca2":"plt.figure(figsize = [10, 8])\nbase_color = sb.color_palette()[0]\n\nplt.subplot(2, 2, 1)\nplt.scatter(data = tumor, x = 'size_npear', y = 'tumor_size', alpha = 0.05)\nplt.xlabel('size_npear')\nplt.ylabel('tumor_size')\n\nplt.subplot(2, 2, 2)\nplt.scatter(data = tumor, x = 'malign_ratio', y = 'tumor_size', alpha = 0.05)\nplt.xlabel('malign_ratio')\nplt.ylabel('tumor_size')\n\nplt.subplot(2, 2, 3)\nplt.scatter(data = tumor, x = 'malign_penalty', y = 'tumor_size', alpha = 0.05)\nplt.xlabel('malign_penalty')\nplt.ylabel('tumor_size')\n\nplt.subplot(2, 2, 4)\nplt.scatter(data = tumor, x = 'damage_ratio', y = 'tumor_size', alpha = 0.05)\nplt.xlabel('damage_ratio')\nplt.ylabel('tumor_size');","2f378fb3":"sample = np.random.choice(tumor.shape[0], 200, replace = False)\ntumor_sample = tumor.loc[sample]\ntumor_sample","da9215fd":"sb.regplot(data = tumor_sample, x = 'malign_ratio', y = 'tumor_size');","d574f885":"plt.figure(figsize = [10, 8], tight_layout = 5)\nbase_color = sb.color_palette()[0]\n\nplt.subplot(3, 3, 1)\nsb.regplot(data = tumor_sample, x = 'malign_ratio', y = 'tumor_size', x_jitter = 0.05, fit_reg = False, scatter_kws = {'s' : tumor_sample['mass_npea']\/250})\nplt.title('mass_npea')\n\nplt.subplot(3, 3, 2)\nsb.regplot(data = tumor_sample, x = 'malign_ratio', y = 'tumor_size', x_jitter = 0.05, fit_reg = False, scatter_kws = {'s' : tumor_sample['size_npear']\/80})\nplt.title('size_npear')\n\nplt.subplot(3, 3, 3)\nsb.regplot(data = tumor_sample, x = 'malign_ratio', y = 'tumor_size', x_jitter = 0.05, fit_reg = False, scatter_kws = {'s' : tumor_sample['damage_size']\/3})\nplt.title('damage_size')\n\nplt.subplot(3, 3, 4)\nsb.regplot(data = tumor_sample, x = 'malign_ratio', y = 'tumor_size', x_jitter = 0.05, fit_reg = False, scatter_kws = {'s' : tumor_sample['exposed_area']\/35e3})\nplt.title('exposed_area')\n\nplt.subplot(3, 3, 5)\nsb.regplot(data = tumor_sample, x = 'malign_ratio', y = 'tumor_size', x_jitter = 0.05, fit_reg = False, scatter_kws = {'s' : tumor_sample['std_dev_malign']\/3})\nplt.title('std_dev_malign')\n\nplt.subplot(3, 3, 6)\nsb.regplot(data = tumor_sample, x = 'malign_ratio', y = 'tumor_size', x_jitter = 0.05, fit_reg = False, scatter_kws = {'s' : tumor_sample['malign_penalty']\/2})\nplt.title('malign_penalty')\n\nplt.subplot(3, 3, 7)\nsb.regplot(data = tumor_sample, x = 'malign_ratio', y = 'tumor_size', x_jitter = 0.05, fit_reg = False, scatter_kws = {'s' : tumor_sample['damage_ratio']})\nplt.title('damage_ratio');","b9a28f2d":"plt.figure(figsize = [10, 5])\nbase_color = sb.color_palette()[0]\n\nplt.subplot(1, 2, 1)\nsb.regplot(data = tumor_sample, x = 'malign_ratio', y = 'tumor_size', x_jitter = 0.05, fit_reg = False, scatter_kws = {'s' : tumor_sample['damage_size']})\nplt.xlabel('Malign ratio')\nplt.ylabel('Tumor size')\nplt.title('Damage size as a third dimention using size')\n\nsizes = [50, 150, 300]\nlegend_obj = []\nfor s in sizes:\n    legend_obj.append(plt.scatter([],[],s = s\/2, color = base_color))\n    \nplt.legend(legend_obj, sizes, title = 'Damage size')\n\nplt.subplot(1, 2, 2)\nplt.scatter(data = tumor_sample, x = 'malign_ratio', y = 'tumor_size', c = 'damage_size', cmap = 'viridis_r')\nplt.colorbar(label = 'Damage size')\nplt.xlabel('Malign ratio')\nplt.ylabel('Tumor size')\nplt.title('Damage size as a third dimention using color');","785bd9c3":"plt.figure(figsize = [10, 5])\nbase_color = sb.color_palette()[0]\n\nplt.subplot(1, 2, 1)\nsb.regplot(data = tumor_sample, x = 'mass_npea', y = 'size_npear', x_jitter = 0.05, fit_reg = False, scatter_kws = {'s' : tumor_sample['damage_size']})\nplt.xlabel('Malign ratio')\nplt.ylabel('Tumor size')\nplt.title('Damage size as a third dimention using size')\nsizes = [50, 150, 300]\nlegend_obj = []\nfor s in sizes:\n    legend_obj.append(plt.scatter([],[],s = s\/2, color = base_color))\n    \nplt.legend(legend_obj, sizes, title = 'Damage size')\n\nplt.subplot(1, 2, 2)\nplt.scatter(data = tumor_sample, x = 'mass_npea', y = 'size_npear', c = 'damage_size', cmap = 'viridis_r')\nplt.colorbar(label = 'Damage size')\nplt.xlabel('Malign ratio')\nplt.ylabel('Tumor size')\nplt.title('Damage size as a third dimention using size');","b15d7259":"plt.figure(figsize = [10, 5])\nbase_color = sb.color_palette()[0]\n\nplt.subplot(1, 2, 1)\nsb.regplot(data = tumor_sample, x = 'std_dev_malign', y = 'exposed_area', x_jitter = 0.05, fit_reg = False, scatter_kws = {'s' : tumor_sample['damage_size']})\nplt.xlabel('malign standard deviation')\nplt.ylabel('Exposed area')\nsizes = [50, 150, 300]\nlegend_obj = []\nfor s in sizes:\n    legend_obj.append(plt.scatter([],[],s = s\/2, color = base_color))\n    \nplt.legend(legend_obj, sizes, title = 'Damage size')\n\nplt.subplot(1, 2, 2)\nplt.scatter(data = tumor_sample, x = 'std_dev_malign', y = 'exposed_area', c = 'damage_size', cmap = 'viridis_r')\nplt.colorbar(label = 'Damage size')\nplt.xlabel('malign standard deviation')\nplt.ylabel('Exposed area')","0da45310":"tumor.columns","d7b7338f":"fig, ax = plt.subplots(ncols = 2, figsize = [10, 5])\n\nbins_x = np.arange(tumor_sample.malign_ratio.min(), tumor_sample.malign_ratio.max()+0.03, 0.03)\nbins_y = np.arange(0, 21+2, 2)\nax[0].hist2d(data = tumor_sample, x = 'malign_ratio', y = 'tumor_size', cmin = 0.5,\n           cmap = 'viridis_r', bins = [bins_x, bins_y])\n\nax[0].set_xlabel('malign_ratio')\nax[0].set_ylabel('tumor_size')\nax[0].set_title('Data spread between malign_ratio \"\\n\" and tumor_size')\n\nax[1].scatter(data = tumor_sample, x = 'malign_ratio', y = 'tumor_size')\nplt.title('Data spread between malign_ratio \"\\n\" and tumor_size');","30b0eb84":"def hist2dgrid(x, y, **kwargs):\n    palette = kwargs.pop('color')\n    bins_x = np.arange(tumor.malign_ratio.min(), tumor_sample.malign_ratio.max()+0.03, 0.03)\n    bins_y = np.arange(0, 21+2, 2)\n    plt.hist2d(x, y, bins = [bins_x, bins_y], cmap = palette, cmin = 0.5)","da2547c6":"# We got just one categorical variable so I will see the malign_ratio and tumor_size with this third variable.\ng = sb.FacetGrid(data = tumor, col = 'area_size', col_wrap = 3, height = 3,\n                 xlim = [0, 35])\ng.map(hist2dgrid, 'malign_ratio', 'tumor_size', color = 'inferno_r')\nplt.subplots_adjust(top=0.9)\ng.fig.suptitle('malign_ratio Vs tumor_size for each area_size class');","67da0b0e":"# Data Exploration and discovery variables relationships","e7fcbaea":"### Talk about some of the relationships you observed in this part of the investigation. How did the feature(s) of interest vary with other features in the dataset?\n\nFrom the previous plots we was conserned with variables that correlate with tumor_size and we fount just 2 variables are posetive correlated with it these two variables are size_npear and malign_ratio\n\n### Did you observe any interesting relationships between the other features (not the main feature(s) of interest)?\n\nI found according to the heatmap above that ['mass_npea', 'size_npear', 'damage_size','exposed_area', 'std_dev_malign'] have a very strong positive correlation\n\n## Multivariate Exploration","acad5df9":"**Poth of mass_npea and size_npear are right skewed this means that most data points might has small tumor size.**","d63ac178":"There are little bit spikes","03ebf1c0":"### Here I classified the size_npear variable to help me make visualization using categorical variable","80f18f8f":"Most of the data points have high ratio(Poeple how may have small tumoe size)","91f291fc":"**The more malign_ratio(normal\/malign) value the less the damage_size and it's logical.**","98252fba":"# Bivariate Exploration\n### The most variables that correlate with tumor_size are size_npear and malign_ratio","fbd54f4c":"### Visualize damage_size, exposed_area and std_dev_malign distribution","f3394870":"### Here is the most spread area_size is s3 which is between 2000 & 3000.\n**this means that the sost of the people are placed between these two values are with small size_npear(the size of the area understudy for melanoma tumor)**","279864c3":"### 2 dimensional Histogram for malign_ratio, tumor_size for each value in area_size","435e2c50":"### Now I will see malign_ratio(ration of normal to malign) means that higher ratio we get the less spread of Tumor.","cf457ea4":"### with high mass and size of the area we can find limited data points, on the other side most of the data points don't have large mass and size\n**(The higher values we get of each, the less people are affected)**","9e6e5273":"### Explore each variable as a third dimention with malign_ratio and tumor_size","3f4ac5e8":"### The relationshipe among  mass_npea, size_npear, damage_size\nthese three variables strongly corelated to each other\n\nI used two plots to avoid the confusion of the size at the first plot","67becfc3":"### the structure of the data:\n\nThe dataset contains The data contains 9,146 rows for each patient, with 10 columns mass_npea, size_npear,\tmalign_ratio,\tdamage_size, exposed_area,\tstd_dev_malign,\terr_malign, malign_penalty,\tdamage_ratio,\ttumor_size, most features are numerical continuous except the malign_penalty is a discrete one.\n\n### The main featues of interest:\nI'm interested in defining which features are best to predict the tumor_size.\n\n### Features will help in the dataset I think support my investigation into my feature(s) of interest\nThese variabels are related the most with the size.\n\n[mass_npea, size_npear, damage_size, exposed_area, std_dev_malign]\n- mass_npea --> the mass of the area understudy for melanoma tumor\n- size_npear --> the size of the area understudy for melanoma tumor\n- damage_size --> unrecoverable area of skin damaged by the tumor\n- exposed_area --> total area exposed to the tumor\n- std_dev_malign --> standard deviation of malign skin measurements\n\n## Univariate Exploration","ca99d505":"### 2 dimensional Histogram for malign_ratio, tumor_size","1cbfa4a5":"### scatter plot for all variables","7f8bc836":"### The relationshipe among  std_dev_malign, exposed_area, damage_size\nthese three variables strongly corelated to each other","40a15b01":"### malign_ratio for each area_size class\n**Distribution of malign_ratio for each area_size**","37ac8684":"### Talk about some of the relationships you observed in this part of the investigation. Were there features that strengthened each other in terms of looking at your feature(s) of interest?\n\n1) mass_npea, size_npear, damage_size as shown in the plot have a very strong correlation. \n2) std_dev_malign, exposed_area, damage_size also are correlated strongly \nfrom the previous 2 information we get that damage_size is correlated to mass_npea, size_npear, std_dev_malign and exposed_area which means the these 5 variables are correlated in a strong way with each other.\n\n\n### Were there any interesting or surprising interactions between features?\n\nFrom malign_ratio and tumor_size 2d plot we can see that most of the data is concentrated in range of tumor_size from 0 to 4 nearly, and the range for malign_ratio 0.23 to 0.28 nearly. we still have one variable that correlates with the tumor_size strongly which is malign_ratio.","f284ffa0":"### Discuss the distribution(s) of your variable(s) of interest. Were there any unusual points? Did you need to perform any transformations?\n\nAs shown in first Univariate plot the tumor_size variable is right skewed and most of the data points are placed between 0.5 and 5 tumor size, most of the variables are also right skewed except malign_ratio variable was normally distributed.the dataset has no categorical variable so I've made a new column extracted from area_size variable to help me explore the data with more visualse.\n\n### Of the features you investigated, were there any unusual distributions? Did you perform any operations on the data to tidy, adjust, or change the form of the data? If so, why did you do this?\n\nThere was some data points seem to be like outliers put I didn't remove them because It's logial to find some peolple with very large area size(they are the most cancerous ones), so instead of removing them we need to know how to cure them.the  I've classified the size_npear to 5 classes based on the area size, I converted it to a categorical variable to make it easy for visualizing with the help of numerical data","407a5c74":"### Here is we can capture a closer look to how some variables correlate with tumor_size\n**Still the size_npear and malign_ratio have the strongest correlation**"}}