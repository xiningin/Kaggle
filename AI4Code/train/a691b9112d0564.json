{"cell_type":{"264dccd6":"code","e8dfabc9":"code","1d09a484":"code","329d9f4f":"code","5e9dee90":"code","19915ca2":"code","fb7dd78f":"code","08a1c19d":"code","47f8cf1c":"code","5d81f78b":"code","bb2812fc":"code","a3c5dde5":"code","4c4a2ed8":"code","18a0d4bb":"code","48a5fbb6":"code","96fb5f5d":"code","bccac6c0":"code","0a439dc4":"code","42333d84":"code","93c5fa38":"code","eb854b2a":"code","9867c202":"code","6e68dd25":"code","b22c4078":"code","286bef14":"markdown","3d8d36a1":"markdown","c51543d5":"markdown"},"source":{"264dccd6":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\nfrom plotly.colors import n_colors\nfrom IPython.display import Image","e8dfabc9":"covid_vaccination = pd.read_csv(\"\/kaggle\/input\/covid-world-vaccination-progress\/country_vaccinations.csv\")","1d09a484":"covid_vaccination.head(10)","329d9f4f":"covid_vaccination.info()","5e9dee90":"info_covid = covid_vaccination.isnull().sum()","19915ca2":"info_covid","fb7dd78f":"covid_vaccination['country_vac'] = covid_vaccination['country'] + ' vaccine is used - ' +  covid_vaccination['vaccines']","08a1c19d":"for i in covid_vaccination['country_vac'].unique():\n    print(i)","47f8cf1c":"countries_list = covid_vaccination.country.unique()\nprint(countries_list)","5d81f78b":"vaccine_df = covid_vaccination[covid_vaccination['country'].isin(countries_list)].fillna(0)","bb2812fc":"vaccine_df.head(100)","a3c5dde5":"percent_vacc = vaccine_df.groupby(['country'], sort=False, as_index=False)['people_vaccinated_per_hundred'] \\\n.max() \\\n.sort_values(by='people_vaccinated_per_hundred', ascending=False)\npercent_vacc","4c4a2ed8":"percent_fvacc = vaccine_df.groupby(['country'], sort=False, as_index=False)['people_fully_vaccinated_per_hundred'] \\\n.max() \\\n.sort_values(by='people_fully_vaccinated_per_hundred', ascending=False)\npercent_fvacc","18a0d4bb":"precent_vacc_f_vacc = percent_vacc.merge(percent_fvacc, how='outer', on='country').fillna(0)\nprecent_vacc_f_vacc","48a5fbb6":"percent_vacc = precent_vacc_f_vacc.groupby(['country'], sort=False)['people_vaccinated_per_hundred'].max()\npercent_vacc","96fb5f5d":"percent_fvacc = precent_vacc_f_vacc.groupby(['country'], sort=False)['people_fully_vaccinated_per_hundred'].max()\npercent_fvacc","bccac6c0":"ax = percent_vacc.iloc[:15].plot(kind='bar', figsize=(10,6), color=\"royalblue\", fontsize=13,);\nax = percent_fvacc.iloc[:15].plot(kind='bar', figsize=(10,6), color=\"orange\", fontsize=13,);\n\nax.grid(which='major',zorder=1, alpha=0.5)\nax.grid(which='minor', alpha=1)\n\nax.legend()\nax.set_alpha(0.2)\nax.set_title(\"15 Most popular countries for vaccination\", fontsize=22)\nax.set_ylabel(\"Percent\", fontsize=15)\nax.set_xlabel(\"Country\", fontsize=15);\nplt.show()","0a439dc4":"max_covid_day = covid_vaccination.fillna(0).groupby(['country'], sort=False, as_index=False) \\\n.agg({'daily_vaccinations': 'max'})","42333d84":"max_covid_day","93c5fa38":"days_covid_country = covid_vaccination.fillna(0).merge(max_covid_day, how='inner', on=['country', 'daily_vaccinations'])","eb854b2a":"days_covid_country","9867c202":"fig = px.bar(\n  days_covid_country.sort_values('daily_vaccinations'), \n  x='date', y='daily_vaccinations',\n  color='country',\n)\nfig.update_layout(\n  template='plotly_dark',\n  margin=dict(r=10, t=25, b=40, l=60)\n)\nfig.show()","6e68dd25":"country_covid = days_covid_country.query(f'daily_vaccinations == {days_covid_country.daily_vaccinations.max()}')\ncountry_covid","b22c4078":"print(f'The maximum percentage of vaccinated in the whole country: {country_covid[\"people_fully_vaccinated_per_hundred\"].iloc[0]}')","286bef14":"### Task 1 - Which country is using what vaccine?","3d8d36a1":"### Task 2 - In which country the vaccination programme is more advanced?","c51543d5":"### Task 3 - Where are vaccinated more people per day? But in terms of percent from entire population ?"}}