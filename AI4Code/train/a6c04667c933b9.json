{"cell_type":{"b0ab7a89":"code","9ad0590c":"code","7e1e70b2":"code","34a75b8e":"code","987ef529":"code","d67c02e2":"code","fd8bf42e":"markdown","850029d9":"markdown"},"source":{"b0ab7a89":"import pandas as pd\nimport time\nimport os.path\n\nimport warnings\nwarnings.filterwarnings('ignore')","9ad0590c":"# install DenMune clustering algorithm using pip from https:\/\/pypi.org\/project\/denmune\/\n!pip install denmune\n# now import it\nfrom denmune import DenMune","7e1e70b2":"# clone datasets from our repository datasets\nif not os.path.exists('datasets'):\n  !git clone https:\/\/github.com\/egy1st\/datasets\n    \ndata_path = 'datasets\/denmune\/chameleon\/'  \ndatasets = [\"t7.10k\", \"t4.8k\", \"t5.8k\", \"t8.8k\"]    ","34a75b8e":"#@title  { run: \"auto\", vertical-output: true, form-width: \"50%\" }\ndataset = \"t7.10k\" #@param [\"t4.8k\", \"t5.8k\", \"t7.10k\", \"t8.8k\"]\nshow_noize_checkbox = True #@param {type:\"boolean\"}\ndata_path = 'datasets\/denmune\/chameleon\/' \n\n# train file\ndata_file = data_path + dataset +'.csv'\nX_train = pd.read_csv(data_file, sep=',', header=None)\n","987ef529":"from itertools import chain\n\n# Denmune's Paramaters\nknn = 39 # number of k-nearest neighbor, the only parameter required by the algorithm\n\n# create list of differnt snapshots of the propagation\nsnapshots = chain([0], range(2,5), range(5,50,5), range(50, 100, 10), range(100,500,50), range(500,1000, 100), range(1000,3000, 250),range(3000,5500,500))\n\nfrom IPython.display import clear_output\nfor snapshot in snapshots:\n    print (\"itration\", snapshot )\n    #clear_output(wait=True)\n    dm = DenMune(train_data=X_train, k_nearest=knn, rgn_tsne=False, prop_step=snapshot)\n    labels, validity = dm.fit_predict(show_analyzer=False, show_noise=False)    ","d67c02e2":"from PIL import Image\n\n# collect immages for each snapshot automatically by the algorithm in a folder named propagation\nimages = []\nprop_folder = 'propagation'\nimg_files = os.listdir(prop_folder)\nimg_files = [os.path.join(prop_folder, f) for f in img_files]\nsorted_files = sorted (img_files, key=os.path.getmtime) \nfor filename in sorted_files:\n  im = Image.open(filename)\n  images.append(im)\n\n# create annimated gif to show evolution of the propagation\nimages[0].save('propagation.gif', save_all=True, append_images=images[1:], optimize=False, duration=800, loop=1)","fd8bf42e":"##### Have you ever wondered how a cluster propgate. It is time to reveal the beuty of clusters propgation. It as simple as\n- running the following cells,\n- wait,\n- watch and\n- ENJOY.","850029d9":"![cluster propagation](https:\/\/raw.githubusercontent.com\/egy1st\/denmune-clustering-algorithm\/main\/images\/propagation.gif)"}}