{"cell_type":{"b8bb104d":"code","6de823ab":"code","2e6cf958":"code","b36bf7b4":"code","383a9871":"code","d56edacd":"code","6b206b28":"code","69f17246":"code","b88005be":"code","aac95aa0":"code","3450c3ba":"code","1129273f":"code","a48f1424":"code","2d6ac7d3":"code","d52275bc":"code","642727cf":"code","22e9cf03":"code","7abdb087":"code","a27eb221":"code","08dba79f":"code","b4525cf8":"markdown","4d2a8938":"markdown","de2ce741":"markdown","038675ae":"markdown","5a6537a5":"markdown","a7bc715a":"markdown","d48c98c9":"markdown","ae83ca9e":"markdown","ff673e95":"markdown","3cccb321":"markdown","43d773a2":"markdown","078c12a3":"markdown"},"source":{"b8bb104d":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","6de823ab":"import seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.graph_objects as go\nimport plotly.express as px\nimport plotly.figure_factory as ff\nfrom plotly.subplots import make_subplots","2e6cf958":"df = pd.read_csv('\/kaggle\/input\/cusersmarildownloadsallcsv\/all.csv',delimiter=';', encoding = \"ISO-8859-2\")\ndf.head()","b36bf7b4":"df.shape","383a9871":"df.isna().sum()","d56edacd":"cou_terr = df['c\/t'].value_counts()\n\nfig = px.pie(names=cou_terr.index,\n            values=cou_terr,\n            title='Countries VS Territories')\n\nfig.update_traces(textinfo='percent',\n            insidetextorientation='radial',\n            legendgroup='show', \n            marker = dict(colors=px.colors.qualitative.Pastel2))\n\nfig.update_layout(paper_bgcolor='rgb(248, 248, 255)',\n     plot_bgcolor='rgb(248, 248, 255)',\n     showlegend=True,)\nfig.show()","6b206b28":"# status F= Free,  PF= Partly Free,  NF= Not Free\n\nstatus = df['status'].value_counts()\n\nfig= px.bar(x=status.index,\n           y=status,\n           text=(status\/len(df['status'])*100),\n           title='Freedom Status',\n           width=700)\n\n\nfig.add_annotation(text='Completely Free',x=0,y=870,showarrow=False,font_size=12)\n\nfig.add_annotation(text='Partly Free',x=1,y=650,showarrow=False,font_size=12)\n\n\nfig.add_annotation(text='Not Free',x=2,y=600,showarrow=False,font_size=12)\n\nfig.update_traces(textposition='outside', texttemplate='%{text:.4s}%',\n                 marker=dict(color='aliceblue', line=dict(color='steelblue', width=3)))\n\nfig.update_layout(paper_bgcolor='rgb(248, 248, 255)',\n     plot_bgcolor='rgb(248, 248, 255)',\n     showlegend=False,)\nfig.show()","69f17246":"df['country_territory'].nunique()","b88005be":"countries_total = df.groupby('country_territory')['Total'].sum().reset_index().sort_values(by='Total', ascending=False)\nplt.figure(figsize=(8,40))\nsns.barplot(y= countries_total['country_territory'],x=countries_total['Total'])\nplt.title('Freedom Score Of Countries Over The 10 Years', fontsize=14)","aac95aa0":"fig = px.histogram(x=df['PR_rating'],\n                  color=df['status'],\n                  nbins=10,\n                  width=800,\n                  barmode='overlay',\n                  color_discrete_sequence=['lightgreen','lightyellow','lightblue'])\nfig.add_vline(x=2.5, line_width=1, line_color='grey',line_dash='dot',opacity=0.7)\nfig.add_vline(x=5, line_width=1, line_color='grey',line_dash='dot',opacity=0.7)\n\nfig.add_annotation(text='Free (1.0\u20132.5)',x=1,y=530,showarrow=False,font_size=12)\nfig.add_annotation(text='Partly Free (3.0\u20135.0)',x=4,y=530,showarrow=False,font_size=12)\nfig.add_annotation(text='Not Free (5.5\u20137.0)',x=6,y=530,showarrow=False,font_size=12)\n\nfig.update_layout(paper_bgcolor='rgb(248, 248, 255)',\n     plot_bgcolor='rgb(248, 248, 255)',\n     showlegend=False,)\nfig.show()","3450c3ba":"fig = px.histogram(x=df['CL_rating'],\n                  color=df['status'],\n                  nbins=10,\n                  width=800,\n                  barmode='overlay',\n                  color_discrete_sequence=['gold','lightpink','thistle'])\n\nfig.add_vline(x=2.5, line_width=1, line_color='grey',line_dash='dot',opacity=0.7)\nfig.add_vline(x=5, line_width=1, line_color='grey',line_dash='dot',opacity=0.7)\n\nfig.add_annotation(text='Free (1.0\u20132.5)',x=1,y=470,showarrow=False,font_size=12)\nfig.add_annotation(text='Partly Free (3.0\u20135.0)',x=4,y=470,showarrow=False,font_size=12)\nfig.add_annotation(text='Not Free (5.5\u20137.0)',x=6,y=470,showarrow=False,font_size=12)\n\nfig.update_layout(paper_bgcolor='rgb(248, 248, 255)',\n     plot_bgcolor='rgb(248, 248, 255)',\n     showlegend=False,)\n\nfig.show()","1129273f":"status_over_years = df.groupby('edition')['status'].value_counts().reset_index(name='count')\n\nfig = px.bar(x = status_over_years['edition'],\n            y=status_over_years['count'],\n            color=status_over_years['status'],\n            barmode='group',\n            text=status_over_years['count'],\n             color_discrete_sequence=['lightblue','royalblue','darkblue'],\n            width=1100)\n\nfig.add_annotation(text='This Graph Shows That Most countries have lost their freedom after year 2013',x=2017,y=110,showarrow=False,font_size=15)\n\nfig.update_traces(textposition='outside')\n\nfig.update_layout(paper_bgcolor='rgb(248, 248, 255)',\n     plot_bgcolor='rgb(248, 248, 255)',\n     showlegend=False,)\n\nfig.show()","a48f1424":"countries = df[(df['c\/t']=='c') & (df['edition']==2021)]\n\ntotal = countries.groupby(['country_territory'])['Total'].sum().reset_index().sort_values(by='Total', ascending=False).head(20)[::-1]\n\nfig = make_subplots(rows=1, cols=2, column_widths=[0.50, 0.35], vertical_spacing=0.01,\n                    subplot_titles=['Top 20 Free Countries By Total Score','Total Score Boxplot- All Countires'])\n\nfig.append_trace(go.Bar(y=total['country_territory'],\n                       x=total['Total'],\n                       orientation='h',\n                        text=total['Total'],\n                        textposition='outside',\n                       marker=dict(color='lightpink', line=dict(color='deeppink', width=2)),name=''),1,1)\n\nfig.append_trace(go.Box(y=countries['Total'],\n                       marker_color='powderblue',\n                       name=''),1,2)\n\n\n\nfig.update_layout(\n     paper_bgcolor='rgb(248, 248, 255)',\n     plot_bgcolor='rgb(248, 248, 255)',\n     showlegend=False,\n     title_text='Top 20 Free Countries In 2021',\n     title_font_size=22,\nwidth=1200)\n\nfig.show()","2d6ac7d3":"df['world'] = 'world'\nfreedom_2021 = df[df['edition']==2021]\n\nfig = px.treemap(freedom_2021, path=[ 'world','region', 'country_territory'], values='Total',hover_data=['edition'],\n                  color='status',color_discrete_sequence=px.colors.qualitative.Safe)\n\n\nfig.update_layout(\n    title_text='Freedom Level Across The Regions In 2021',\n    paper_bgcolor='rgb(248, 248, 255)',\n    geo_bgcolor='rgb(248, 248, 255)',\n    geo_showframe=False,\n    title_font_size=22,\n)\nfig.show()","d52275bc":"fig = px.choropleth(countries, locations='country_territory',locationmode='country names',\n                    color='status',\n                    hover_name='region',\n                    color_discrete_sequence=px.colors.qualitative.Pastel,\n                   )\nfig.update_layout(\n    title_text='Freedom Level Across The Globe In 2021',\n    paper_bgcolor='rgb(248, 248, 255)',\n    geo_bgcolor='rgb(248, 248, 255)',\n    geo_showframe=False,\n    title_font_size=22,\n)\nfig.show()","642727cf":"region_mean = countries.groupby('region')['Total'].mean().reset_index().sort_values(by='Total')\n\nfig = go.Figure()\nfig.add_trace(go.Bar(x=region_mean['Total'],\n                     y=region_mean['region'],\n                     orientation='h',\n                     text=region_mean['Total'],\n                     marker=dict(\n                     color='peachpuff',\n                     line=dict(color='black', width=2)\n                )))\n\nfig.update_traces(textposition='outside', texttemplate='%{text:.3s}%')\n\nfig.update_layout(title_text='Freedom score per Region In 2021',\n                  title_font_size=22,\n                  paper_bgcolor='rgb(248, 248, 255)',\n                  plot_bgcolor='rgb(248, 248, 255)',\n                 width=700)","22e9cf03":"ax = df.groupby('country_territory').filter(lambda x: x['status'].nunique() > 1)\nax = ax.groupby(['edition','country_territory'])['status'].value_counts().reset_index(name='count').sort_values(by='count', ascending=False)\nax = ax.rename(columns = {'edition':'year','country_territory':'Country'})\nax = ax.drop('count', axis=1)","7abdb087":"fig = px.bar(ax,\n            x='year',\n            y='Country',\n            color='status',\n            height=1000,\n            text=ax['year'].astype(str)+' '+ax['status'].astype(str))\n\nfig.update_layout(title_font_size=22,\n                  paper_bgcolor='rgb(248, 248, 255)',\n                  plot_bgcolor='rgb(248, 248, 255)')\nfig.show()","a27eb221":"dff = df[df['c\/t']=='c']\n\ndff = dff.groupby(['edition','country_territory'])['status'].value_counts().reset_index(name='count')","08dba79f":"fig = (\n   px.choropleth(\n                 dff               \n                ,locations='country_territory'               \n                ,color='status'\n                ,hover_name='country_territory'  \n                ,locationmode='country names'\n                ,animation_frame='edition'   \n                ,color_discrete_sequence=px.colors.qualitative.Safe\n                ,height=600)\n  .update_layout(\n                 title_text=''\n                ,title_x=0.3\n                ,margin=dict(r=10, t=40, b=10, l=10)\n                ,coloraxis_colorbar_title='status')\n)\nfig.layout.updatemenus[0].buttons[0].args[1][\"frame\"][\"duration\"] = 800\n\nfig.update_layout(title_text='Freedom Status Changing Over The Years',\n                  title_font_size=22,\n                  paper_bgcolor='rgb(248, 248, 255)',\n                  plot_bgcolor='rgb(248, 248, 255)')\nfig.show()","b4525cf8":"# Overall Freedom Score OF Countires Over The Years","4d2a8938":"# Visualize Countries Who Have Changed Their Status Over The Years","de2ce741":"# Which Region Have The Most Free Countries?","038675ae":"# CL: Civil Liberties Distribution","5a6537a5":"# Which Region Has highest Freedom Score?","a7bc715a":"# ","d48c98c9":"**Europe & Americas Region** has the highest number free countries \n\nwhereas **Sub-Saharan Africa(SSA)** , **Middle East and North Africa(Mena)** & **Eurasia** **Region** has least number of free countries.","ae83ca9e":"# PR: Political Rights Distribution ","ff673e95":"# Countries Who Have Lost Or Gain Their Freedom","3cccb321":"**How Many Countries Has Lost & Gain Their Freedom Over The Years?**","43d773a2":"**Top 15 Countries With Highest Freedom Score In 2021**","078c12a3":"# Visualize Free Countries Across The Globe"}}