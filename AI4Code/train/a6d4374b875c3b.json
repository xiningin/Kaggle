{"cell_type":{"09c002cb":"code","d9c73687":"code","dda4d98f":"code","831e314f":"code","fc817519":"code","93456ebe":"code","be27f9fa":"code","442c872f":"code","daf216d9":"code","7f063ee5":"code","8b59d780":"code","6a945a3e":"code","ea0c3626":"code","b46f987e":"code","5443990e":"code","db6161dc":"code","3167597b":"code","691568a0":"code","6ef05135":"code","8935059c":"code","03706388":"code","7074fd09":"code","cab23d6b":"markdown","c40f8d47":"markdown","2c72c568":"markdown","4d5d6924":"markdown","dc163d7f":"markdown","7071e3b4":"markdown","b42c7158":"markdown","96443c2e":"markdown","e871f16e":"markdown","7ab874d5":"markdown","6d4eb285":"markdown","2e971719":"markdown","c8a85930":"markdown","479365f7":"markdown","cab3635b":"markdown"},"source":{"09c002cb":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nfrom scipy import stats\nfrom matplotlib.gridspec import GridSpec\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nimport plotly.graph_objects as go","d9c73687":"path = '..\/input\/students-performance-in-exams\/StudentsPerformance.csv'\ndata = pd.read_csv(path)\ndata.head()","dda4d98f":"fig = plt.figure(figsize=(25,7))\ngrid = GridSpec(nrows=1, ncols=3, figure=fig)\nfig.suptitle(\"Test score distribution by gender\", fontsize=20)\n\naxis1 = fig.add_subplot(grid[0,0])\nsns.histplot(data=data, x='math score', hue='gender')\n\naxis2 = fig.add_subplot(grid[0,1])\nsns.histplot(data=data, x='writing score', hue='gender')\n\naxis3 = fig.add_subplot(grid[0,2])\nsns.histplot(data=data, x='reading score', hue='gender')\n\nplt.show()","831e314f":"fig = plt.figure(figsize=(25,7))\ngrid = GridSpec(nrows=1, ncols=3, figure=fig)\nfig.suptitle(\"Test score distribution by race\/ethnicity\", fontsize=20)\n\naxis4 = fig.add_subplot(grid[0,0])\nsns.histplot(data=data, x='math score', hue='race\/ethnicity')\n\naxis5 = fig.add_subplot(grid[0,1])\nsns.histplot(data=data, x='writing score', hue='race\/ethnicity')\n\naxis6 = fig.add_subplot(grid[0,2])\nsns.histplot(data=data, x='reading score', hue='race\/ethnicity')\n\nplt.show()","fc817519":"fig = plt.figure(figsize=(25,7))\ngrid = GridSpec(nrows=1, ncols=3, figure=fig)\nfig.suptitle(\"Test score distribution by Level of education\", fontsize=20)\n\naxis7 = fig.add_subplot(grid[0,0])\nsns.histplot(data=data, x='math score', hue='parental level of education')\n\naxis9 = fig.add_subplot(grid[0,1])\nsns.histplot(data=data, x='writing score', hue='parental level of education')\n\naxis9 = fig.add_subplot(grid[0,2])\nsns.histplot(data=data, x='reading score', hue='parental level of education')\n\nplt.show()","93456ebe":"fig = plt.figure(figsize=(25,7))\ngrid = GridSpec(nrows=1, ncols=3, figure=fig)\nfig.suptitle(\"Test score distribution by Lunch type\", fontsize=20)\n\naxis10 = fig.add_subplot(grid[0,0])\nsns.histplot(data=data, x='math score', hue='lunch')\n\naxis11 = fig.add_subplot(grid[0,1])\nsns.histplot(data=data, x='writing score', hue='lunch')\n\naxis12 = fig.add_subplot(grid[0,2])\nsns.histplot(data=data, x='reading score', hue='lunch')\n\nplt.show()","be27f9fa":"fig = plt.figure(figsize=(25,7))\ngrid = GridSpec(nrows=1, ncols=3, figure=fig)\nfig.suptitle(\"Test score distribution by Preparation Course\", fontsize=20)\n\naxis13 = fig.add_subplot(grid[0,0])\nsns.histplot(data=data, x='math score', hue='test preparation course')\n\naxis10 = fig.add_subplot(grid[0,1])\nsns.histplot(data=data, x='writing score', hue='test preparation course')\n\naxis15 = fig.add_subplot(grid[0,2])\nsns.histplot(data=data, x='reading score', hue='test preparation course')\n\nplt.show()","442c872f":"none = data[data['test preparation course'] == 'none']\ncompleted = data[data['test preparation course'] == 'completed']\n\nstandard = data[data['lunch'] == 'standard']\nfree = data[data['lunch'] == 'free\/reduced']\n\nmale = data[data['gender'] == 'male']\nfemale = data[data['gender'] == 'female']","daf216d9":"stats_math_levene_course, p_value_math_levene_course = stats.levene(none['math score'], completed['math score'])\n\nstats_reading_levene_course, p_value_reading_levene_course = stats.levene(none['reading score'], completed['reading score'])\n\nstats_writing_levene_course, p_value_writing_levene_course = stats.levene(none['writing score'], completed['writing score'])\n\nprint(\"Math Score -> P-Value:\", p_value_math_levene_course)\n\nprint(\"\\nReading Score -> P-Value:\", p_value_reading_levene_course)\n\nprint(\"\\nWriting Score -> P-Value:\", p_value_writing_levene_course)","7f063ee5":"stats_math_course, p_value_math_course = stats.ttest_ind(a=none['math score'], b=completed['math score'], equal_var=True)\n\nstats_reading_course, p_value_reading_course  = stats.ttest_ind(a=none['reading score'], b=completed['reading score'], equal_var=True)\n\nstats_writing_course, p_value_writing_course  = stats.ttest_ind(a=none['writing score'], b=completed['writing score'], equal_var=False)\n\nprint(\"\\nMath Score -> P-Value:\", p_value_math_course)\n\nprint(\"\\nReading Score -> P-Value:\", p_value_reading_course)\n\nprint(\"\\nWriting Score -> P-Value:\", p_value_writing_course)\n","8b59d780":"stats_math_levene_lunch, p_value_math_levene_lunch = stats.levene(standard['math score'], free['math score'])\n\nstats_reading_levene_lunch, p_value_reading_levene_lunch = stats.levene(standard['reading score'], free['reading score'])\n\nstats_writing_levene_lunch, p_value_writing_levene_lunch = stats.levene(standard['writing score'], free['writing score'])\n\nprint(\"Math Score -> P-Value:\", p_value_math_levene_lunch)\n\nprint(\"\\nReading Score -> P-Value:\", p_value_reading_levene_lunch)\n\nprint(\"\\nWriting Score -> P-Value:\", p_value_writing_levene_lunch)","6a945a3e":"stats_math_lunch, p_value_math_lunch = stats.ttest_ind(a=standard['math score'], b=free['math score'], equal_var=True)\n\nstats_reading_lunch, p_value_reading_lunch  = stats.ttest_ind(a=standard['reading score'], b=free['reading score'], equal_var=True)\n\nstats_writing_lunch, p_value_writing_lunch  = stats.ttest_ind(a=standard['writing score'], b=free['writing score'], equal_var=True)\n\nprint(\"Math Score -> P-Value:\", p_value_math_lunch)\n\nprint(\"\\nReading Score -> P-Value:\", p_value_reading_lunch)\n\nprint(\"\\nWriting Score -> P-Value:\", p_value_writing_lunch)","ea0c3626":"stats_math_levene_gender, p_value_math_levene_gender = stats.levene(male['math score'], female['math score'])\n\nstats_reading_levene_gender, p_value_reading_levene_gender = stats.levene(male['reading score'], female['reading score'])\n\nstats_writing_levene_gender, p_value_writing_levene_gender = stats.levene(male['writing score'], female['writing score'])\n\nprint(\"Math Score -> P-Value:\", p_value_math_levene_gender)\n\nprint(\"\\nReading Score -> P-Value:\", p_value_reading_levene_gender)\n\nprint(\"\\nWriting Score -> P-Value:\", p_value_writing_levene_gender)","b46f987e":"stats_math_gender, p_value_math_gender = stats.ttest_ind(a=male['math score'], b=female['math score'], equal_var=True)\n\nstats_reading_gender, p_value_reading_gender  = stats.ttest_ind(a=male['reading score'], b=female['reading score'], equal_var=True)\n\nstats_writing_gender, p_value_writing_gender  = stats.ttest_ind(a=male['writing score'], b=female['writing score'], equal_var=True)\n\nprint(\"Math Score -> P-Value:\", p_value_math_gender)\n\nprint(\"\\nReading Score -> P-Value:\", p_value_reading_gender)\n\nprint(\"\\nWriting Score -> P-Value:\", p_value_writing_gender)","5443990e":"\n\nfig = go.Figure(data=[go.Table(\n    header=dict(values=['Variable', 'Levene Test Math Score','T-Test Math Score','Levene Test Reading Score','T-Test Reading Score', 'Levene Test Writing Score','T-Test Writing Score'],\n                line_color='black',\n                fill_color='cornflowerblue',\n                align='center',\n                font=dict(color='black', size=14)),\n    cells=dict(values=[['Gender', 'Lunch', 'Course'], # 1st column\n                       [round(p_value_math_levene_gender, 4), round(p_value_math_levene_lunch, 4), round(p_value_math_levene_course, 4)],\n                       [p_value_math_gender, p_value_math_lunch, p_value_math_course], \n                       [round(p_value_reading_levene_gender, 4), round(p_value_reading_levene_lunch, 4), round(p_value_reading_levene_course, 4)],\n                       [p_value_reading_gender, p_value_reading_lunch, p_value_reading_course],\n                       [round(p_value_writing_levene_gender, 4),round(p_value_writing_levene_lunch, 4), round(p_value_writing_levene_course, 4)],\n                       [p_value_writing_gender, p_value_writing_lunch, p_value_writing_course]], # 2nd column\n               line_color='black',\n               fill_color='lightskyblue',\n               align='center'))\n])\n\nfig.update_layout(width=1750, height=300)\nfig.show()","db6161dc":"genderTypes = {'gender': {'female': 0, 'male': 1}}\n\ncourseTypes = {'test preparation course': {'none': 0, 'completed': 1}}\n\nlunchTypes = {'lunch': {'free\/reduced': 0, 'standard': 1}}\n\ndata = data.replace(genderTypes)\n\ndata = data.replace(courseTypes)\n\ndata = data.replace(lunchTypes)","3167597b":"data = pd.get_dummies(data, columns=['race\/ethnicity', 'parental level of education'], prefix=['race', 'education'])","691568a0":"data.drop(['race_group E', 'education_some high school'], axis=1, inplace=True)","6ef05135":"data.head()","8935059c":"x_with_all_variables = data.drop('math score', axis=1)\ny_with_all_variables = data['math score']\n\nX_train_all, X_test_all, y_train_all, y_test_all = train_test_split(x_with_all_variables, y_with_all_variables, random_state=40)\n\nx_using_less_variables = data[['gender', 'lunch', 'test preparation course', 'reading score']]\ny_using_less_variables = data['math score']\n\nX_train, X_test, y_train, y_test = train_test_split(x_using_less_variables, y_using_less_variables, random_state=40)","03706388":"model_all_variables = LinearRegression()\nmodel_all_variables.fit(X_train_all, y_train_all)\npred_all_variables = model_all_variables.predict(X_test_all)\n\nmodel_less_variables = LinearRegression()\nmodel_less_variables.fit(X_train, y_train)\npred_less_variables = model_less_variables.predict(X_test)\n","7074fd09":"pd.DataFrame({\"Real\": y_test, 'Predict With All Variables': pred_all_variables, 'Predict With Less Variables': pred_less_variables})","cab23d6b":"### Lunch","c40f8d47":"# \ud83d\udcc1 Model Section","2c72c568":"## Comparison","4d5d6924":"## One Hot Encoding","dc163d7f":"# \ud83d\udcbe Data preparation","7071e3b4":"## Test split","b42c7158":"# \u2716\ufe0f Variables","96443c2e":"# \u2b07\ufe0f Downloading data","e871f16e":"# \ud83d\udcca Graphs","7ab874d5":"## Prediction","6d4eb285":"## Levene Test and T-Test\n* Levene: The Levene test tests the null hypothesis that all input samples are from populations with equal variances. Levene\u2019s test is an alternative to Bartlett\u2019s test bartlett in the case where there are significant deviations from normality.\n<\/br>\n<\/br>\n* T-Test: \n  This is a two-sided test for the null hypothesis that 2 independent samples have identical average (expected) values. This test assumes that the populations have identical variances by default.\n<\/br>\n<\/br>\n<\/br>\n<\/br>\n\n$H_0$: The two samples have identical average  ($p \\geq 0.05$)\n<\/br>\n<\/br>\n\n$H_a$: The two samples do not have identical average ($p < 0.05$)","2e971719":"## Defining variables\n","c8a85930":"### Course\n","479365f7":"### Gender","cab3635b":"We can confirm that we dont need to use 14 columns to predict"}}