{"cell_type":{"273ab01b":"code","17fe9cb3":"code","e2804f50":"code","5d154c6f":"code","4ea0dc21":"code","5ab420e4":"code","da8754f4":"code","f60d73fe":"code","2feb04ed":"code","a0ede693":"code","62b0d934":"code","bc87b09d":"code","bc11794e":"code","fec9e8c0":"code","b7877df0":"code","6b072b14":"code","2d797c22":"code","88507207":"code","05705592":"code","525eeb79":"markdown","ad948143":"markdown","efea6b13":"markdown","f16ebfea":"markdown","d08bc00b":"markdown","731c69d6":"markdown","3969e5bc":"markdown","03f68c07":"markdown","0581f978":"markdown","50e95588":"markdown","c8129a0a":"markdown"},"source":{"273ab01b":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport re\nfrom scipy.stats import norm","17fe9cb3":"def like(x, pattern):\n    r = re.compile(pattern)\n    vlike = np.vectorize(lambda val: bool(r.fullmatch(val)))\n    return vlike(x)","e2804f50":"df = pd.read_csv('..\/input\/medium-articles-dataset\/medium_data.csv')","5d154c6f":"df","4ea0dc21":"df['title'].isna().sum()","5ab420e4":"df['claps'].isna().sum()","da8754f4":"regex = '.*[0-9]+.*'","f60d73fe":"df_numbers = df.loc[like(df['title'], regex), ['title', 'claps']]","2feb04ed":"df_not_numbers = df.loc[~like(df['title'], regex), ['title', 'claps']]","a0ede693":"df_numbers","62b0d934":"df_not_numbers","bc87b09d":"n = len(df_numbers.index)\nn","bc11794e":"m = len(df_not_numbers.index)\nm","fec9e8c0":"x_bar = df_numbers['claps'].values.mean()\nx_bar","b7877df0":"y_bar = df_not_numbers['claps'].values.mean()\ny_bar","6b072b14":"var1 = df_numbers['claps'].values.var()\nvar1","2d797c22":"var2 = df_not_numbers['claps'].values.var()\nvar2","88507207":"z = (x_bar - y_bar)\/np.sqrt(var1\/n + var2\/m)\nz","05705592":"p = 1 - norm.cdf(z)\np","525eeb79":"# Are stories with numbers in headlines more successful?","ad948143":"## Let's use a dataset of 6k+ articles and some statistics to find out","efea6b13":"For a significance level of $\\alpha$ = 0.001, it follows that p $\\approx$ 0.0009 < $\\alpha$, and therefore we reject the null hypothesis and accept the alternative. In plain English, this means: \"**We are 99.9% confident that stories with numbers in their headlines are expected to have more claps than stories without numbers in headlines**\".","f16ebfea":"And, our p-value is:","d08bc00b":"**Sample 1: Articles with numbers in headlines**  \nWe will model the number of claps inside this group as **n** i.i.d. (independent and identically distributed) random variables: $X_1, X_2, \u2026, X_n$ with expected value $\\mu_1$ and variance $\\sigma_1^2$, both of which are finite.  \n \n**Sample 2: Articles without numbers in headlines**  \nWe will model the number of claps inside this group as **m** i.i.d. random variables: $Y_1, Y_2, \u2026, Y_m$ with expected value $\\mu_2$ and variance $\\sigma_2^2$, both of which are finite.","731c69d6":"And we got a p-value much smaller than the usual threshold of 0.05. That's good news, we can reject the null hypothesis very confidently.","3969e5bc":"And the following test statistic:  \n  \n$$\nZ = \\frac{(\\bar{X_n} - \\bar{Y_m}) - (\\mu_1 - \\mu_2)}{\\sqrt{\\frac{\\sigma_1^2}{n} + \\frac{\\sigma_2^2}{m}}}\n$$","03f68c07":"In this notebook I did a 2 sample hypothesis test to check if the expected number of claps is bigger for articles with numbers in their headlines compared to headlines without numbers.","0581f978":"$\\mu_1 - \\mu_2 = 0$ by the null hypothesis. So our test statistic is:","50e95588":"Neither 'title' nor 'claps' columns contain NaNs.","c8129a0a":"We will consider the following hypotheses:  \n  \n$$\n\\begin{cases}\nH_0: \\mu_1 \\leq \\mu_2 \\\\\nH_1: \\mu_1 \\gt \\mu_2\n\\end{cases}\n$$"}}