{"cell_type":{"77b5b5b5":"code","3a005b7a":"code","95a63656":"code","917f0f2d":"code","456b6edb":"code","5820210c":"code","7814bbd4":"code","bab4af01":"code","fb6f798e":"code","9fe6f319":"code","422e6fc8":"code","3603586d":"code","a53c8893":"code","5d264e93":"code","111b1fc7":"code","19bf0de9":"code","0dbe8f9c":"code","ff464daa":"code","52a5fbae":"code","38b74192":"code","d30677ce":"code","2c7038d4":"code","61130ad2":"code","59b09eed":"code","8f8ee4ca":"code","798343dc":"code","610c5da1":"code","97b08e8d":"code","820c197a":"code","515dd55b":"code","c19b6142":"code","ae15e35a":"code","abcdee88":"code","20644bf3":"code","b6c3c20a":"code","2f3a8b1d":"markdown","a70ffc56":"markdown","f061ff0f":"markdown","09d827f0":"markdown","0ff31cf2":"markdown","ce08ddaa":"markdown","98dd5a00":"markdown","791887b4":"markdown","b75048b2":"markdown","384b8b01":"markdown","2352a584":"markdown","60833540":"markdown","00785cff":"markdown","ae0db2dd":"markdown","65b598ce":"markdown","cf0e5c45":"markdown","8a3381c9":"markdown"},"source":{"77b5b5b5":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.ensemble import ExtraTreesRegressor\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.ensemble import RandomForestRegressor","3a005b7a":"df=pd.read_csv('..\/input\/cars-data\/car data.csv')","95a63656":"df.head()","917f0f2d":"df.shape","456b6edb":"df.info()","5820210c":"df.describe()","7814bbd4":"df.isnull().sum()","bab4af01":"fig=plt.figure(figsize=(8,4))\nsns.distplot(df['Selling_Price'])\nplt.title('Sales data distribution')","fb6f798e":"sns.set_theme(style=\"white\")\nrs = np.random.RandomState(33)\nd = pd.DataFrame(data=rs.normal(size=(100, 9)),\n                 columns=list(df))\ncorr = d.corr()\nmask = np.triu(np.ones_like(corr, dtype=bool))\nf, ax = plt.subplots(figsize=(11, 9))\ncmap = sns.diverging_palette(230, 20, as_cmap=True)\nsns.heatmap(corr, mask=mask, cmap=cmap, vmax=.3, center=0,\n            square=True, linewidths=.5, cbar_kws={\"shrink\": .5})","9fe6f319":"print(df['Seller_Type'].unique())\nprint(df['Transmission'].unique())\nprint(df['Owner'].unique())","422e6fc8":"df.columns","3603586d":"final_dataset=df[['Year', 'Selling_Price', 'Present_Price', 'Kms_Driven',\n       'Fuel_Type', 'Seller_Type', 'Transmission', 'Owner']]","a53c8893":"final_dataset['Current_Year']=2021","5d264e93":"final_dataset['no_year']=final_dataset['Current_Year']-final_dataset['Year']","111b1fc7":"final_dataset.head()","19bf0de9":"final_dataset.drop(['Year'],axis=1,inplace=True)","0dbe8f9c":"final_dataset.head()","ff464daa":"final_dataset.drop(['Current_Year'],axis=1,inplace=True)","52a5fbae":"final_dataset.head()","38b74192":"final_dataset=pd.get_dummies(final_dataset,drop_first=True)","d30677ce":"final_dataset.head()","2c7038d4":"final_dataset.corr()","61130ad2":"corrmat=final_dataset.corr()\ntop_corr_features=corrmat.index\nplt.figure(figsize=(20,20))\ng=sns.heatmap(final_dataset[top_corr_features].corr(),annot=True,cmap=\"RdYlGn\")","59b09eed":"y=final_dataset['Selling_Price']\ny.head()","8f8ee4ca":"X=final_dataset.drop(['Selling_Price'],axis=1)\nX.head()","798343dc":"model=ExtraTreesRegressor()\nmodel.fit(X,y)","610c5da1":"print(model.feature_importances_)","97b08e8d":"feat_importances=pd.Series(model.feature_importances_,index=X.columns)\nfeat_importances.nlargest(5).plot(kind='barh')\nplt.show()","820c197a":"scaler=StandardScaler()\nX=scaler.fit_transform(X)","515dd55b":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=2)","c19b6142":"random_forest_regressor=RandomForestRegressor()\nrandom_forest_regressor.fit(X_train,y_train)","ae15e35a":"train_acc=random_forest_regressor.score(X_train,y_train)\ntest_acc=random_forest_regressor.score(X_test,y_test)\nprint('Training Accuracy: ',round(train_acc*100, 2),'%')\nprint('Testing Accuracy: ',round(test_acc*100, 2),'%')","abcdee88":"predictions=random_forest_regressor.predict(X_test)\npredictions","20644bf3":"sns.distplot(y_test-predictions)","b6c3c20a":"plt.scatter(y_test,predictions)","2f3a8b1d":"Since machine learning algorithms are unable to work with string data. Thus, creating dummies of specific columns to convert the values to 0's and 1's.","a70ffc56":"# **Building the model**","f061ff0f":"# **Importing Libraries**","09d827f0":"# **Plotting the graphs**","0ff31cf2":"Extracting all unique values from specific columns.","ce08ddaa":"Finding out the labels that has a much greater impact on the model.","98dd5a00":"# **Cleaning the Data**","791887b4":"# **Introduction**\nDue to the increased price of new cars and the incapability of customers to buy new cars due to the lack of funds, used cars sales are on a global increase. There is a need for a used car price prediction system to effectively determine the worthiness of the car using a variety of features.","b75048b2":"I'd really appriciate an upvote. It really motivates me to go on and do more projects.\nThankyou","384b8b01":"Dropping the year column and replacing it with number of years in order to make the data clean and more efficient.","2352a584":"Checking if dataset contains null values","60833540":"# **Finding the accuracy**","00785cff":"Plotting a histogram to visualize the car market in accordance with the dataset.","ae0db2dd":"# **Splitting the data**","65b598ce":"Plotting a heat map to analyze the data and keep an eye on the co-relation between labels.","cf0e5c45":"# **Analyzing the data**","8a3381c9":"Splitting the data into test and train set using library, the ratio being **70% Training data** and **30% Test data**."}}