{"cell_type":{"c48a5757":"code","e5a1c14d":"code","6135bcae":"code","95b2f785":"code","3e848376":"code","60476d6e":"code","21fe4c86":"code","00219545":"code","313bf062":"code","73e51306":"code","b332b004":"code","31e7aa6c":"code","ccbcaae8":"code","9ae4aa10":"code","a5ee9428":"code","cb75086f":"markdown"},"source":{"c48a5757":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","e5a1c14d":"!pip install medpy","6135bcae":"from medpy.io import load\nimage_data, image_header = load('..\/input\/sample_dataset_for_testing\/sample_dataset_for_testing\/fullsampledata\/subset4mask\/1.3.6.1.4.1.14519.5.2.1.6279.6001.122763913896761494371822656720\/123.tiff')","95b2f785":"image_data","3e848376":"image_data.shape,image_data.dtype","60476d6e":"height,width = image_data.shape","21fe4c86":"from medpy.io import header\nheader.get_pixel_spacing(image_header)","00219545":"directory = '..\/input\/sample_dataset_for_testing\/sample_dataset_for_testing\/fullsampledata\/subset4mask\/1.3.6.1.4.1.14519.5.2.1.6279.6001.122763913896761494371822656720\/'","313bf062":"n_slices  = 310\nheight,width = 512,512","73e51306":"vol3d = np.zeros((n_slices,height,width))\n","b332b004":"ddd = [os.path.join(directory, fname)\n             for fname in os.listdir(directory) if fname.endswith('.tiff')]\nfor i,j in enumerate(ddd):\n    vol3d[i],_ = load(str(j))","31e7aa6c":"vol3d.shape","ccbcaae8":"import matplotlib.pyplot as plt\n%matplotlib inline\nplt.imshow(vol3d[-1,:,:])\nplt.colorbar()\nplt.plot()","9ae4aa10":"def sample_stack(stack, rows=6, cols=6, start_with=10, show_every=3):\n    fig,ax = plt.subplots(rows,cols,figsize=[12,12])\n    for i in range(rows*cols):\n        ind = start_with + i*show_every\n        ax[int(i\/rows),int(i % rows)].set_title('slice %d' % ind)\n        ax[int(i\/rows),int(i % rows)].imshow(stack[ind],cmap='gray')\n        ax[int(i\/rows),int(i % rows)].axis('off')\n    plt.show()\n\nsample_stack(vol3d)","a5ee9428":"plt.hist(vol3d.flatten(), bins=50, color='c')\nplt.xlabel(\"Hounsfield Units (HU)\")\nplt.ylabel(\"Frequency\")\nplt.show()","cb75086f":"# What is -3000? Certainly it is neither LUNG,AIR,WATER.. it has to be an artefact"}}