{"cell_type":{"0ee1a64f":"code","8aba01ed":"code","78e45829":"code","e6f5f0d6":"code","a6cae2ad":"code","1f9bdef4":"code","afc7ec70":"code","41045fda":"code","a8a1aee8":"code","a76ecf58":"code","37a6a6fc":"code","03ed2f53":"code","6561ff13":"code","ef9858a3":"code","43e897ee":"code","b35082b7":"code","defed503":"code","0c398317":"code","817cf6ba":"code","160a773a":"code","99b889e4":"code","f11cc675":"code","9a0c2235":"code","d8eb69a9":"code","89b8638b":"markdown","43e8840c":"markdown","b55d5d3f":"markdown","ecb96962":"markdown","eba61f28":"markdown","f7b96ad0":"markdown","da9ca671":"markdown","79e05543":"markdown","afd04a36":"markdown","ad1965d5":"markdown","d2d129e8":"markdown","aaf434f1":"markdown","c8ba0399":"markdown","38a8441d":"markdown","92f3f526":"markdown"},"source":{"0ee1a64f":"import datetime as dt \nimport pandas as pd \nimport pandas_datareader.data as web\nimport numpy as np \nimport matplotlib.pyplot as plt \nfrom matplotlib import style\n","8aba01ed":"style.use('ggplot')","78e45829":"start = dt.datetime(2000, 1, 1)\nend = dt.datetime(2016, 12, 31)","e6f5f0d6":"# df = web.DataReader(\"TSLA\", 'yahoo', start, end)\n# df.shape","a6cae2ad":"#df.to_csv('Tesla.csv', index )","1f9bdef4":"tesla_data = pd.read_csv('..\/input\/Tesla.csv', parse_dates = True, index_col = 'Date')\ntesla_data.shape","afc7ec70":"tesla_data.head()","41045fda":"tesla_data.plot()","a8a1aee8":"tesla_data['High'].plot()","a76ecf58":"tesla_data[['Open', 'Close']].plot()","37a6a6fc":"tesla_data['100ma'] = tesla_data['Adj Close'].rolling(window = 100).mean()","03ed2f53":"tesla_data.head()","6561ff13":"tesla_data['100ma'] = tesla_data['Adj Close'].rolling(window = 100, min_periods = 0).mean()","ef9858a3":"tesla_data.head()","43e897ee":"ax1 = plt.subplot2grid((6, 1), (0, 0), rowspan = 5, colspan = 1)\nax2 = plt.subplot2grid((6, 1), (5, 0), rowspan = 1, colspan = 1, sharex = ax1)\n\n# Plotting the data\nax1.plot(tesla_data.index, tesla_data['Adj Close'], label = \"Adj Close\")\nax1.plot(tesla_data.index, tesla_data['100ma'], label = \"100 Moving Average\")\nax2.plot(tesla_data.index, tesla_data['Volume'])\n\nax1.set_ylabel('Price')\nax1.set_xlabel('Time Period')\nplt.legend()","b35082b7":"# We can collect data for every 10 days as an OHLC as well using the OHLC function \ntesla_ohlc = tesla_data['Adj Close'].resample('10D').ohlc()\ntesla_ohlc","defed503":"#Resampling the data\ntesla_data_10days  = tesla_data['Adj Close'].resample('10D')\ntype(tesla_data_10days)","0c398317":"mean_10days = tesla_data_10days.mean()\nmean_10days","817cf6ba":"# Sum of 10 days data of volume \nvolume_10days = tesla_data['Volume'].resample('10D').sum()\n(volume_10days)","160a773a":"import matplotlib.dates as mdates\n#from mpl_finance import candlestick_ohlc","99b889e4":"tesla_ohlc.reset_index(inplace = True)\ntesla_ohlc.head()","f11cc675":"tesla_ohlc['Date'] = tesla_ohlc['Date'].map(mdates.date2num)","9a0c2235":"tesla_ohlc.head()","d8eb69a9":"ax1 = plt.subplot2grid((6, 1), (0, 0), rowspan = 5, colspan = 1)\nax2 = plt.subplot2grid((6, 1), (5, 0), rowspan = 1, colspan = 1, sharex = ax1)\n\n#Plotting the data\nax1.xaxis_date()\n\ncandlestick_ohlc(ax1, tesla_ohlc)","89b8638b":"Reset to regular indexing and then we will switch to mdates","43e8840c":"## Manipulating Data for a particular time frame","b55d5d3f":"Let's get our data and and add it to the data frame\n","ecb96962":"## Subplots and Axes","eba61f28":"Setting  the style for the plots ","f7b96ad0":"## Plotting Matplotlib dates and graphs \nMatplotlib needs it's own date library. \nWe will aslo need the finance library of matplotlib \nLet's import that. ","da9ca671":"We see that the first 100 rows would be missing. To change that, we add a parameter. ","79e05543":"Convert to CSV","afd04a36":"### Visualising our data\nUsing pandas itself to create lineplots","ad1965d5":"## Adding More columns","d2d129e8":"Switch to Mdates for some non-sensical reason ","aaf434f1":"## Acquiring Data","c8ba0399":"# Python for Finance","38a8441d":"Importing necessary libraries","92f3f526":"Let's set the dates "}}