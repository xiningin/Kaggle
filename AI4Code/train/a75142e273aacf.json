{"cell_type":{"956422db":"code","5cdad923":"code","20edb96a":"code","a91b2b2a":"code","f6190700":"code","a33f7949":"code","23f1fd44":"code","6da1f119":"code","78addb47":"code","affc0064":"code","b16216fd":"code","ac383fff":"code","f874308a":"code","3fb30c9e":"code","eb93aa4b":"code","db0083fb":"code","1d040ec3":"code","8bb43cfb":"code","67782f47":"code","3a8303cc":"code","c1caedae":"code","925263b9":"code","198de834":"code","4545c704":"code","a1e906de":"code","dc073984":"code","dccb1c18":"code","239dede4":"code","5b330f38":"code","79ae96a6":"code","440cf920":"code","7e99923b":"code","77545196":"code","a48e748d":"code","e8a2b4ca":"code","b5f5be77":"code","1d87930d":"code","3c484bf4":"code","a2a384a1":"code","d9275957":"code","28512fd5":"code","3d06c6d6":"code","d37b9bcb":"code","77ba2fb1":"code","83347d3f":"code","c3437bff":"code","68dc1920":"code","599889b4":"code","7699f5a2":"markdown","4a1c5b11":"markdown","dc13b63e":"markdown","23b35b3a":"markdown","ad91d476":"markdown","7e48dca1":"markdown","9c65c987":"markdown","8f0ec516":"markdown","25f14e55":"markdown","224d7e4b":"markdown","995e4e38":"markdown","f1f1769e":"markdown","29501c1b":"markdown","0f581c77":"markdown","08dc6db7":"markdown","d14918e4":"markdown","dd0bc83c":"markdown","b175c5a0":"markdown","d74598a4":"markdown","b3a372ff":"markdown","405d8545":"markdown"},"source":{"956422db":"import pandas as pd \nimport numpy as np","5cdad923":"df = pd.read_csv('HR_Data.csv')\ndf","20edb96a":"print(df.isnull().sum())","a91b2b2a":"df.describe()","f6190700":"df.info()","a33f7949":"df.groupby('Status').count()","23f1fd44":"df7 = df['Status']","6da1f119":"df7 = pd.get_dummies(df7,drop_first=True)","78addb47":"df1 = pd.merge(df, df7, left_index = True, right_index = True)","affc0064":"#checking duplicates\nsum(df1.duplicated(subset = 'SLNO'))\n# having duplicate values","b16216fd":"df1.drop_duplicates(subset =\"SLNO\",keep = False, inplace = True) ","ac383fff":"import matplotlib.pyplot as plt\nimport warnings\nwarnings.filterwarnings('ignore')\nimport os\nimport seaborn as sns","f874308a":"sns.distplot(df1['Age'])","3fb30c9e":"sns.catplot(\"Not Joined\",'Age',data = df1)","eb93aa4b":"hike = plt.figure(figsize = (8,6))\n\ng1 = hike.add_subplot(2,2,1) \ng2 = hike.add_subplot(2,2,2)\n\ng1.hist(df1['Pecent.hike.expected.in.CTC'], color = 'green')\ng1.set_title('Pecent.hike.expected.in.CTC')\n\ng2.hist(df1['Percent.hike.offered.in.CTC'], color = 'red')\ng2.set_title('Percent.hike.offered.in.CTC')\n\nplt.tight_layout() \nplt.show()","db0083fb":"scatter_age_balance = df1.plot.scatter('Pecent.hike.expected.in.CTC','Percent.hike.offered.in.CTC',color = 'blue',figsize = (7,5))\n\nplt.title('The Relationship between offered and expected ')\nplt.show()","1d040ec3":"dur_cam = sns.lmplot(x='Duration.to.accept.offer', y='Notice.period',data = df1,hue = 'Status',fit_reg = False,scatter_kws={'alpha':0.6},palette = 'rainbow', height =6)\n\nplt.axis([0,65,0,65])\nplt.ylabel('Notice.period')\nplt.xlabel('Duration.to.accept.offer')\nplt.title('The Relationship between the Number and Duration of Calls (with Response Result)')\nplt.show()","8bb43cfb":"sns.catplot(\"Not Joined\",'Percent.difference.CTC',data = df1)","67782f47":"g= sns.pairplot(df1)","3a8303cc":"plt.figure(figsize=(30,30))\nax = sns.heatmap(df1.corr(), annot = True, linewidth = 3)\nax.tick_params(size = 10, labelsize = 10)\nplt.title(\"HR CHURN\", fontsize = 25)\nplt.show()","c1caedae":"from sklearn.model_selection import train_test_split\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn.model_selection import KFold\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.preprocessing import MinMaxScaler\nsc = MinMaxScaler()\nimport warnings\nwarnings.filterwarnings('ignore')","925263b9":"df2 = df1.copy()\ndf2","198de834":"df2.drop(['Candidate.Ref'],axis=1, inplace=True)\ndf2","4545c704":"df2.drop(['Location'],axis=1, inplace=True)","a1e906de":"df2.drop(['Status'],axis = 1, inplace = True)","dc073984":"df2 = pd.get_dummies(df2,drop_first=True)","dccb1c18":"df7= df2['Not Joined'].copy()\ndf7","239dede4":"df2.drop(['Not Joined'],axis = 1, inplace = True)","5b330f38":"df2 = pd.merge(df2, df7, left_index = True, right_index = True)","79ae96a6":"df2.drop(['SLNO'],axis = 1, inplace = True)\ndf2","440cf920":"df2.info()","7e99923b":"from sklearn.preprocessing import MinMaxScaler\nsc = MinMaxScaler()","77545196":"num_vars = ['Duration.to.accept.offer', 'Notice.period', 'Pecent.hike.expected.in.CTC', 'Percent.hike.offered.in.CTC', 'Percent.difference.CTC','Rex.in.Yrs', 'Age']\n\ndf2[num_vars] = sc.fit_transform(df2[num_vars])","a48e748d":"list(zip(df2.columns))","e8a2b4ca":"col = df2.columns\ncol","b5f5be77":"X_sca = df2[col]","1d87930d":"import statsmodels.api as sm  \nX_sca = sm.add_constant(X_sca)","3c484bf4":"from statsmodels.stats.outliers_influence import variance_inflation_factor\n\nvif = pd.DataFrame()\nX = X_sca\nvif['Features'] = X.columns\nvif['VIF'] = [variance_inflation_factor(X.values, i) for i in range(X.shape[1])]\nvif['VIF'] = round(vif['VIF'], 2)\nvif = vif.sort_values(by = \"VIF\", ascending = False)\nvif","a2a384a1":"df2.drop(['LOB_MMS'],axis = 1, inplace = True)\ndf2.drop(['Gender_Male'],axis = 1, inplace = True)\ndf2.drop(['Joining.Bonus_Yes'],axis = 1, inplace = True)\ndf2.drop(['Candidate.relocate.actual_Yes'],axis = 1, inplace = True)\ndf2","d9275957":"array = df2.values\nX = array[:,0:-1]\nY = array[:,-1]","28512fd5":"X_train, X_test, Y_train, Y_test= train_test_split(X, Y, test_size=0.2, random_state=51)","3d06c6d6":"from sklearn.ensemble import RandomForestClassifier\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.naive_bayes import GaussianNB","d37b9bcb":"models = []\nmodels.append(('LR', LogisticRegression()))\nmodels.append(('KNN', KNeighborsClassifier()))\nmodels.append(('DTC', DecisionTreeClassifier()))\nmodels.append(('NB', GaussianNB()))\nmodels.append(('RFC', RandomForestClassifier()))","77ba2fb1":"result = []\nfor name, model in models:\n    kfold = KFold(n_splits=10, random_state=51)\n    croresults = cross_val_score(model, X_train, Y_train, cv=kfold, scoring='accuracy')\n    result.append(croresults)\n    output = \"%s: %f (%f)\" % (name, croresults.mean(), croresults.std())\n    print(output)","83347d3f":"RFC = RandomForestClassifier(n_estimators=42)\nRFC.fit(X_train, Y_train)","c3437bff":"predictions = RFC.predict(X_test)","68dc1920":"print(accuracy_score(Y_test, predictions))","599889b4":"from sklearn.metrics import confusion_matrix\nimport pylab as pl\ncm = confusion_matrix(Y_test, predictions)\npl.matshow(cm)\npl.title('Confusion matrix \\n')\npl.colorbar()\npl.show()","7699f5a2":"## Clean the dataset","4a1c5b11":"# ML Assignment \u2013 HR CHURN PREDICTION","dc13b63e":"> accuracy score","23b35b3a":"> confusion matrix","ad91d476":"#### Prepare Data for Classification","7e48dca1":"- by this chart we can say that the person with immidiate joining and with 45 day notice period joins more as compare to other.","9c65c987":"<img src='https:\/\/static.wixstatic.com\/media\/e42cce_756b090fe40548eda9148fd5599980bb~mv2.gif' width='450'>","8f0ec516":"> pridiction","25f14e55":"- converting all the numerical data to scaler units.","224d7e4b":"- by this chart we can say that as the increase in age the chances of joining of job is more.","995e4e38":"- by this we can say that the person who have hike percent difference in positive the chances of joining is more.","f1f1769e":"- by this scatter chart we can say that all the data points are mainly focus in between 0-150.","29501c1b":"- by this chart we can say that the age of candidate is in between 22-40 and candidate with approx age 35 is of most.","0f581c77":"#### Converting categorical data to numerical.","08dc6db7":"### VIF","d14918e4":"# Exploratory Data Analysis","dd0bc83c":"> importing libraries","b175c5a0":"#  Machine Learning Algorithm","d74598a4":"- by this we can say that the best algorithm would be random forest.","b3a372ff":"- by these charts we can say that if the hike expected is almost same as the hike offered the chances of cndidate joining the job is more.","405d8545":"> Importing ML models"}}