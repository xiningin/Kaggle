{"cell_type":{"37b05d37":"code","03828949":"code","f707d6fb":"code","4bda238f":"code","18b184cb":"code","28e31bc4":"markdown","acfb60f3":"markdown","143eb47a":"markdown","6196f6a7":"markdown","24fe8a44":"markdown","45a2e022":"markdown","87c4b23b":"markdown"},"source":{"37b05d37":"import numpy as np\nfrom scipy.integrate import odeint\nimport matplotlib.pyplot as plt","03828949":"def deriv(y, t, N, beta, gama):\n    S, I, R = y\n    dSdt = -beta * S * I \/ N\n    dIdt = beta * S * I \/ N - gama * I\n    dRdt = gama * I\n    return dSdt, dIdt, dRdt\n\ndef sir(N, beta, gama=1\/10, I0=1, R0=0, t=90):\n    t = np.linspace(0, t, t)\n    S0 = N - I0 - R0\n    y0 = S0, I0, R0\n    ret = odeint(deriv, y0, t, args=(N, beta, gama))\n    S, I, R = ret.T\n    return {'S': S, 'I': I, 'R': R, 't': t}\n\ndef curves(s, title):\n    fig, ax = plt.subplots(figsize=(12,8))\n    plt.plot(s['t'], s['S'], 'b', alpha=0.5, lw=4, label='Susceptible')\n    plt.plot(s['t'], s['I'], 'r', alpha=0.5, lw=4, label='Infected')\n    plt.plot(s['t'], s['R'], 'g', alpha=0.5, lw=4, label='Recovered')\n    plt.grid(which='major', axis='y')\n    plt.ticklabel_format(scilimits=(6,6), axis='y')\n    plt.text(0.9,1,s='\u03b2: %.3f \u03b3: %.2f' % (beta, gama), transform=ax.transAxes, fontsize=10)\n    plt.title(title, fontsize=14, fontweight='bold', color='#333333')\n    plt.xlabel('Days', fontsize=12)\n    plt.ylabel('Number of cases (million)', fontsize=12)\n    legend = plt.legend(loc=5, fontsize=12)\n    ax.set_ylim(0)\n    [ax.spines[spine].set_visible(False) for spine in ('top', 'right', 'left')]\n    plt.gca().xaxis.set_major_locator(plt.MultipleLocator(10))\n    plt.show();","f707d6fb":"gama = 1\/5.2\nbeta = 2.2\ncurves(sir(209300000 , beta, gama, t=120, I0=100), 'COVID-19 SIR Model in Brazil: No-action')","4bda238f":"beta = 0.88\ncurves(sir(209300000, beta, gama, t=120, I0=100), 'COVID-19 SIR Model in Brazil: Social Distancing')","18b184cb":"beta = 0.449\ncurves(sir(209300000, beta, gama, t=120, I0=100), 'COVID-19 SIR Model in Brazil: Social Distancing + Quarantine')","28e31bc4":"## No actions taken\nThe following model simulates a context where no-actions are taken. The average infection duration is `5.2` days and the [standard infection rate](https:\/\/www.nejm.org\/doi\/full\/10.1056\/NEJMe2002387) is `2.2`.","acfb60f3":"<div id=\"disclaimer\"><\/div>\n## Disclaimer\nDue to the complex nature of a pandemic, this work does not intend to be an accurate projection or a model that tries to reproduce the complexity of reality. The main goal of this project is to propose a reflection of the importance of social distancing, quarantine and other infection prevention actions, to minimize the pandemic effects and try to flat the infection curve.","143eb47a":"<div id=\"conclusion\"><\/div>\n# Conclusion\nGiven the recent social distancing and quarantine efforts, Brazil will face something between 50 and 140 million infected people during the next 60 days. According to the World Health Organization, 80% of the infected people manifest mild symptoms or no sign of infection. It's evident the importance of social distancing and quarantine efforts to minimize the infection spread rate and avoid the healthcare infrastructure collapse.","6196f6a7":"# SIR Model: COVID-19 in Brazil\nThe following notebook is an attempt to predict the COVID-19 progression curves, using the SIR Model and the spread rate in Brazil.\n\n---\n\n# Table of contents\n\n1. [Acknowledgment](#acknowledgment)\n1. [What is the SIR model?](#what)\n1. [COVID-19 in Brazil](#brazil)\n1. [Methodology and results](#methodology)\n1. [Conclusion](#conclusion)\n1. [Disclaimer](#disclaimer)\n\n---\n\n<div id=\"acknowledgment\"><\/div>\n# Acknowledgment\n* The code used on this notebook was created based on the example provided on the book [Learning Scientific Programming with Python](https:\/\/scipython.com\/book\/chapter-8-scipy\/additional-examples\/the-sir-epidemic-model\/), written by Christian Hill;\n* The coefficientes used on this notebook were extracted from [Modeling and forecasting the Covid-19 pandemic in Brazil](https:\/\/www.joserobertoafonso.com.br\/modeling-and-forecasting-the-covid-19-pandemic-in-brazil-bastos-cajueiro\/) paper, written by Saulo B.Bastos and Daniel O. Cajueiro.\n\n<div id=\"what\"><\/div>\n# Whats is the SIR model?\nAccording to [Wikipedia](https:\/\/en.wikipedia.org\/wiki\/Compartmental_models_in_epidemiology), SIR model is:\n\n> One of the simplest compartmental models, and many models are derivatives of this basic form. The model consists of three compartments: S for the number of susceptible, I for the number of infectious, and R for the number of recovered or deceased (or immune) individuals. This model is reasonably predictive for infectious diseases which are transmitted from human to human, and where recovery confers lasting resistance, such as measles, mumps and rubella.\n\n<img src='https:\/\/wikimedia.org\/api\/rest_v1\/media\/math\/render\/svg\/29728a7d4bebe8197dca7d873d81b9dce954522e' alt='SIR equation'>\n\nBasically, the SIR model provides three curves, or compartments: the number of susceptible, infected and recovered people over time. The model is build over a differential equation that considers:\n\n* the infection rate (\u03b2);\n* the average infection duration (\u03b3);\n* the number of infected people at  the begining (I0);\n* the number of recovered people at the begining (R0);\n* the population size (N).\n\n<img src='https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/9\/93\/SIR_Flow_Diagram.svg\/1200px-SIR_Flow_Diagram.svg.png' alt='SIR flow'>\n\n<div id=\"brazil\"><\/div>\n# COVID-19 in Brazil\nAccording to the Brazilian Health Ministry, here in Brazil, the COVID-19 infection is spreading based on the following:\n\n* infection rate (\u03b2) of 0.449, due to quarantine and social isolation;\n* average infection duration (\u03b3) of 5.2 days;\n* 100 confirmed cases on March 14th;\n* population size of 209.3 million.\n\n<div id=\"methodology\"><\/div>\n# Methodology and results\nThe following code implements two methods: `deriv()` and `sir()`. The first one builds a differential equation based on the SIR parameters and time range. The second method implements the model, assembling the arrays and returning the SIR variables into a dictionary. Then, the values are plotted on a Matplotlib chart.","24fe8a44":"## Social Distancing\nThe next model simulates a context where the population is oriented to keep social distancing. In this context, the average infection duration is also `5.2` days, but the infection rate is reduced by 60%, becoming `0.88`.","45a2e022":"## Social Distancing and quarantine\nFinally, the last model simulates a combination of social distancing and quarantine. The average infection duration remains on `5.2` days, but the infection rate is reduced by 80%, becoming `0.449`.","87c4b23b":"## Thank you and stay home! :)"}}