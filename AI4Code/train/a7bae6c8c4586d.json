{"cell_type":{"52ef9a2d":"code","7eee416f":"code","2dfa587e":"code","f0384cc7":"code","6cb32c5f":"code","38df3bcd":"code","9cc6014b":"code","25ec3675":"code","59800783":"code","9612e34c":"code","bec4c48c":"code","ed41f868":"code","703af68b":"code","0ac5dc2f":"code","db51e468":"code","cc2d8f94":"code","d08dbb31":"code","1c4afa46":"code","3ad75b7d":"code","3510c9a2":"code","8562f368":"code","11d371b5":"code","6f872c9a":"code","26281deb":"code","f9c7b707":"code","fc4f3ece":"code","705d8cbc":"code","5f028e58":"code","8dccd5db":"code","a79ad2d6":"code","4ac60c37":"code","2e2b355d":"code","4ee72b23":"code","373c8bb4":"code","a8f293c1":"code","7538b5ef":"code","b826f570":"code","9c47c5d6":"code","d5a2a725":"code","657489c6":"code","6ae407ff":"code","b6bf28d9":"code","efa758f9":"code","8973cc83":"code","c7692ed9":"code","601432e4":"markdown","0f9c9c6a":"markdown","5751856e":"markdown","60ece302":"markdown","1496ae99":"markdown","51c912d3":"markdown","08153137":"markdown","5b97de97":"markdown","1b2a32d4":"markdown","002924f8":"markdown","ab08e39d":"markdown","e1c358dd":"markdown","b8c33a16":"markdown","fcefb6fa":"markdown","be457d43":"markdown","e0404773":"markdown","22c69516":"markdown","11c85c80":"markdown","bf628d9f":"markdown","865546ff":"markdown","b89706d2":"markdown","81110aab":"markdown","0f240d6d":"markdown","65cb5c54":"markdown","dc2f816f":"markdown","eb9e7f45":"markdown"},"source":{"52ef9a2d":"import pandas as pd \nimport numpy as np\nimport matplotlib.pyplot as plt\nimport scipy.stats as stats\nimport statsmodels\nimport statsmodels.api as sm\nimport statsmodels.formula.api as smf\nimport seaborn as sns\nfrom statsmodels.formula.api import ols\nfrom sklearn.model_selection import train_test_split\n\ndata = pd.read_csv(\"..\/input\/students-performance-in-exams\/StudentsPerformance.csv\")","7eee416f":"sns.set(style='whitegrid')","2dfa587e":"data.columns","f0384cc7":"data.rename(columns={\n                    'race\/ethnicity':'race',\n                    'parental level of education': 'parent_education',\n                    'test preparation course': 'pretest'\n                    },inplace=True)\ndata.columns","6cb32c5f":"data.info()","38df3bcd":"data.isna().sum()","9cc6014b":"data['avg_score'] = data.loc[:,['math score','reading score','writing score']].apply(np.mean, axis=1).round(4)","25ec3675":"sns.distplot(data['avg_score'])","59800783":"_ = stats.probplot(data['avg_score'], plot=sns.mpl.pyplot)","9612e34c":"p = sns.countplot(x='gender', data=data, palette='muted')\n_ = plt.setp(p.get_xticklabels(), rotation=90)","bec4c48c":"sns.boxplot(x='gender',y='avg_score',data=data)","ed41f868":"sns.distplot(data[data['gender']=='female']['avg_score'])","703af68b":"sns.distplot(data[data['gender']=='male']['avg_score'])","0ac5dc2f":"def prepare_anova_data(column_name):\n    list_names_factor_type = list(data[column_name].unique())\n    n_sample = data[column_name].value_counts().min()\n    groups = [data[data[column_name]==key].sample(n_sample) for key in list_names_factor_type]\n    pre_data = pd.concat(groups)\n    return pre_data","db51e468":"results = ols('avg_score ~ C(gender)', data=prepare_anova_data('gender')).fit()\nresults.summary()\naov_table = sm.stats.anova_lm(results, typ=2)\naov_table","cc2d8f94":"p = sns.countplot(x='race', data=data, order=data['race'].value_counts().index, palette='muted')\n_ = plt.setp(p.get_xticklabels(), rotation=90)","d08dbb31":"p = sns.boxplot(x='race',y='avg_score', data=data, palette='muted')\n_ = plt.setp(p.get_xticklabels(), rotation=90)","1c4afa46":"sns.distplot(data[data['race']=='group A']['avg_score'],bins=20)","3ad75b7d":"sns.distplot(data[data['race']=='group B']['avg_score'],bins=20)","3510c9a2":"sns.distplot(data[data['race']=='group C']['avg_score'],bins=20)","8562f368":"sns.distplot(data[data['race']=='group D']['avg_score'],bins=20)","11d371b5":"sns.distplot(data[data['race']=='group E']['avg_score'],bins=15)","6f872c9a":"results = ols('avg_score ~ C(race)', data=prepare_anova_data('race')).fit()\nresults.summary()\naov_table = sm.stats.anova_lm(results, typ=2)\naov_table","26281deb":"order=list(data['parent_education'].value_counts().index)\norder","f9c7b707":"p = sns.countplot(x='parent_education', data=data, order=order, palette='muted')\n_ = plt.setp(p.get_xticklabels(), rotation=90)","fc4f3ece":"sns.distplot(data[data['parent_education']==order[0]]['avg_score'])","705d8cbc":"sns.distplot(data[data['parent_education']==order[1]]['avg_score'])","5f028e58":"sns.distplot(data[data['parent_education']==order[2]]['avg_score'])","8dccd5db":"sns.distplot(data[data['parent_education']==order[3]]['avg_score'])","a79ad2d6":"sns.distplot(data[data['parent_education']==order[4]]['avg_score'],bins=15)","4ac60c37":"sns.distplot(data[data['parent_education']==order[5]]['avg_score'],bins=12)","2e2b355d":"p = sns.boxplot(data=data, x='parent_education', y='avg_score')\n_ = plt.setp(p.get_xticklabels(), rotation=90)","4ee72b23":"p = sns.countplot(x='parent_education',hue='race', data=data, order=data['parent_education'].value_counts().index, palette='muted')\nplt.title('sorted by parent_education')\n_ = plt.setp(p.get_xticklabels(), rotation=90)","373c8bb4":"p = sns.countplot(x='lunch', data=data, palette='muted')","a8f293c1":"sns.boxplot(x='lunch',y='avg_score',data=data)","7538b5ef":"sns.distplot(data[data['lunch']=='standard']['avg_score'])","b826f570":"sns.distplot(data[data['lunch']=='free\/reduced']['avg_score'])","9c47c5d6":"results = ols('avg_score ~ lunch', data=prepare_anova_data('lunch')).fit()\naov_table = sm.stats.anova_lm(results, typ=2)\naov_table","d5a2a725":"p = sns.countplot(x='pretest', data=data,palette='muted')\n_ = plt.setp(p.get_xticklabels(),rotation=0)","657489c6":"sns.boxplot(x=data['pretest'],y=data['avg_score'])","6ae407ff":"sns.boxplot(x=data['race'],y=data['avg_score'],hue=data['pretest'])","b6bf28d9":"p = sns.lineplot(x=data['parent_education'],y=data['avg_score'],hue=data['pretest'])\n_ = plt.setp(p.get_xticklabels(),rotation=90)","efa758f9":"results = ols('avg_score ~ parent_education', data=prepare_anova_data('parent_education')).fit()\nresults.summary()\naov_table = sm.stats.anova_lm(results, typ=2)\naov_table.round(4)","8973cc83":"results = ols('avg_score ~ pretest', data=prepare_anova_data('pretest')).fit()\nresults.summary()\naov_table = sm.stats.anova_lm(results, typ=2)\naov_table","c7692ed9":"model = ols('avg_score ~ C(race)*C(lunch)*C(gender)', data).fit()\naov_table = sm.stats.anova_lm(model, typ=2)\naov_table.round(4)\n","601432e4":"we see how distibuted avg_score by pretest and race. We can say there is a tendency that students who wrote the test have a higher average score regardless of race","0f9c9c6a":"distribution average score by parental education.","5751856e":"we can say that can exist some relationship a gender with an average score","60ece302":"distribution average score group by race. ","1496ae99":"see how students distributed by gender. we see not big difference in the distribution in favor of female","51c912d3":"we can say that can exist some relationship a parental education with an average score","08153137":"we see that students who completed a test are much less than who didn't complete","5b97de97":"we can say that average score distributed by lunch normally","1b2a32d4":"students ditribution by parental education. The smallest group in size is a \"master's degree\". The biggest group in size is a \"some college\".","002924f8":"distribution of average score by each race","ab08e39d":"in these two plots we see that our avg_score values distributed almost normally(has deviations on the tails on both sides)","e1c358dd":"create function that make the same size of samples","b8c33a16":"distribution race by parent_education","fcefb6fa":"we can say that distribution is normally","be457d43":"My task:\n* 1) check basic info about dataset: len, missing data etc.\n* 2) calculate average_score each student\n* 3) see how students are distributed by race, parental education, test preparation course, lunch\n* 4) see how average score is distributed by race, parental education, test preparation course, lunch, gender\n* 5) check whether there are the relationship to the average score with race, parental education, test preparation course, lunch, gender.\n","e0404773":"we see that students who has a free\/reduced lunch are much less than who has standard","22c69516":"check missing data. Our data haven't missing data","11c85c80":"the relationship between race and average score can exist","bf628d9f":"we can't say that exist influencs between average score and interection of race,lunch and gender\n","865546ff":"Students distributed by race. The smallest group in size is a group A. The biggest group in size is a group C.","b89706d2":"we see how distibuted avg_score by pretest and parental education. We can say there is a tendency that students who wrote the test have a higher average score regardless of race","81110aab":"we can say that exist some relationship an average score with lunch","0f240d6d":"Check the columns name. we see that some columns have spaces in the names. So we will rename the columns","65cb5c54":"we see that number of rows is 1000 and number of columns 8. 3 columns have integer type of data, and other are object. and we haven't null value in each column and row","dc2f816f":"create column with average score . ","eb9e7f45":"we can say that can exist some relationship a pretest with an average score"}}