{"cell_type":{"d0f98202":"code","fb621f85":"code","7af57736":"code","fabb6960":"code","39d6d8e7":"code","c121e205":"code","7a32bc74":"code","a9ec3852":"code","acb7e2ee":"code","1a20fa17":"code","da338076":"code","51654bd8":"code","c5e12ab0":"code","300db161":"code","2965314a":"code","9496c774":"code","de10c37e":"code","363581a1":"code","0a168447":"code","a9d451f8":"code","344a4ddf":"code","eab24ef8":"code","c727daf4":"code","0257af5f":"code","6b637b62":"code","8dd1d332":"code","d2399cfb":"code","719fb459":"code","c997b310":"code","99f7b984":"code","8916fe23":"code","c44200ae":"code","530ab853":"code","cf1eefe3":"code","3a274688":"code","f25f14c4":"code","c7db7088":"code","27187dc3":"code","738cf76c":"code","6dbeb196":"code","dfa7faa2":"code","ca25d6f1":"code","69a5f0e4":"code","2ea54904":"code","e3f09c51":"code","ead60101":"code","470684ee":"code","db785b4c":"code","7bc82c61":"code","3016174f":"code","6701b5a3":"code","d882c51f":"code","45216820":"code","e7437be0":"code","ab1594b8":"code","60acf031":"markdown","4592dc79":"markdown","3475c2da":"markdown","bc9b5cf3":"markdown","e47b4550":"markdown","6077b6d2":"markdown","115d5368":"markdown","8c90c407":"markdown","9d7d3915":"markdown","e27567a2":"markdown","3607456c":"markdown","ec53211f":"markdown","463bdae6":"markdown","3021f8a4":"markdown","cb343bf1":"markdown","88a2c2f5":"markdown","56f8e734":"markdown","8faced73":"markdown","1743d706":"markdown","ed01d3b8":"markdown","c5da0272":"markdown","7f87fad0":"markdown","20869821":"markdown","1676ab51":"markdown","e8b91d86":"markdown","47d9ec81":"markdown","dd682ce8":"markdown","b6dabff7":"markdown","52c88dec":"markdown","ec9f5e92":"markdown","d0a8d757":"markdown","083c407e":"markdown","58f1d0ef":"markdown","834f7dc7":"markdown","49aef9fd":"markdown"},"source":{"d0f98202":"!pip install numpy pandas matplotlib.pyplot seaborn  --upgrade --quite\n\n!pip install plotly --upgrade ","fb621f85":"import pandas as pd\nimport numpy as np\nimport datetime\nimport glob\nimport copy\nfrom plotly import subplots\nfrom plotly.offline import init_notebook_mode, iplot\nimport matplotlib.pyplot as plt\nimport plotly.graph_objects as go\nimport plotly.express as px\nimport missingno as msno\nimport seaborn as sns","7af57736":"import matplotlib.style as style\n\nstyle.use(\"fivethirtyeight\")\nstyle.use('seaborn-poster')\n\nplt.rcParams['font.family'] = 'sans-serif'","fabb6960":"path='..\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data'\nfilepath=glob.glob(path+'\/*')\ndatalist=[]\nfor file in filepath:\n    df=pd.read_csv(file)\n    d_id=file.split('\/')[4].split('.')[0]\n    df[\"d_id\"] = d_id\n    datalist.append(df)\nengage_df=pd.concat(datalist)\n","39d6d8e7":"engage_df.head()","c121e205":"engage_df.info()","7a32bc74":"engage_df['lp_id']= engage_df['lp_id'].fillna(0.0).astype(int)","a9ec3852":"engage_df['time']= pd.to_datetime(engage_df['time'])","acb7e2ee":"engage_df['d_id']=engage_df['d_id'].astype(int)","1a20fa17":"engage_df.info()","da338076":"#Use the Method describe to obtain a statistical summary of the Engagement data\nengage_df.describe()","51654bd8":"missing_values = engage_df.isna().sum()\nmissing_values","c5e12ab0":"mean=engage_df['engagement_index'].mean()\nengage_df['engagement_index'].replace(np.nan,mean, inplace=True)","300db161":"mean=engage_df['pct_access'].mean()\nengage_df['pct_access'].replace(np.nan,mean, inplace=True)","2965314a":"missing_values = engage_df.isna().sum().to_dict()\nmissing_values_df = pd.DataFrame(list(missing_values.items()), columns=['Column', 'Missing_Values'])\n\nfig = px.bar(missing_values_df,\n       x = 'Column',\n       y = 'Missing_Values',\n       template = 'plotly_dark',\n       title = 'Missing Values')\nfig.show()","9496c774":"plt.figure(figsize=(20,10))\nsns.boxplot(y=engage_df.engagement_index);\nplt.ylabel('engagement_index', fontsize=20, labelpad=20);","de10c37e":"engage_df = engage_df[engage_df.engagement_index < 150000.00]","363581a1":"districts_df=pd.read_csv('..\/input\/learnplatform-covid19-impact-on-digital-learning\/districts_info.csv')","0a168447":"districts_df.head()","a9d451f8":"districts_df.info()","344a4ddf":"missing_values = districts_df.isna().sum()\nmissing_values","eab24ef8":"districts_df.dropna(thresh=6, inplace=True)","c727daf4":"missing_values = districts_df.isna().sum()\nmissing_values","0257af5f":"state = districts_df['state'].value_counts()\nfig = px.pie(state, \n             values = state.values, \n             names = state.index,\n             color_discrete_sequence=px.colors.sequential.RdBu)\nfig.update_traces(textposition='inside', textinfo='percent+label', \n                  marker = dict(line = dict(color = 'white', width = 2)))\nfig.show()","6b637b62":"local = districts_df['locale'].value_counts()\nfig = px.pie(local, \n             values = local.values, \n             names = local.index,\n             color_discrete_sequence=px.colors.sequential.RdBu)\nfig.update_traces(textposition='inside', textinfo='percent+label', \n                  marker = dict(line = dict(color = 'white', width = 2)))\nfig.show()","8dd1d332":"sns.displot(data=districts_df, x='state', hue= 'locale', height=8, aspect=3)","d2399cfb":"pct_black_hispanic = districts_df['pct_black\/hispanic'].value_counts()\npct_black_hispanic","719fb459":"pct_black_hispanic = districts_df['pct_black\/hispanic'].value_counts()\nfig = px.pie(pct_black_hispanic, \n             values = pct_black_hispanic.values, \n             names = pct_black_hispanic.index,\n             color_discrete_sequence=px.colors.sequential.RdBu)\nfig.update_traces(textposition='inside', textinfo='percent+label', \n                  marker = dict(line = dict(color = 'white', width = 2)))\nfig.show()\n","c997b310":"pct_black_hispanic = districts_df['pct_black\/hispanic'].value_counts()\nfig = px.pie(pct_black_hispanic, \n             values = pct_black_hispanic.values, \n             names = pct_black_hispanic.index,\n             color_discrete_sequence=px.colors.sequential.RdBu)\nfig.update_traces(textposition='inside', textinfo='percent+label', \n                  marker = dict(line = dict(color = 'white', width = 2)))\nfig.show()","99f7b984":"county_connections_ratio = districts_df['county_connections_ratio'].value_counts()\nfig = px.pie(county_connections_ratio, \n             values = county_connections_ratio.values, \n             names = county_connections_ratio.index,\n             color_discrete_sequence=px.colors.sequential.RdBu)\nfig.update_traces(textposition='inside', textinfo='percent+label', \n                  marker = dict(line = dict(color = 'white', width = 2)))\nfig.show()","8916fe23":"pp_total_raw = districts_df['pp_total_raw'].value_counts()\nfig = px.pie(pp_total_raw, \n             values = pp_total_raw.values, \n             names = pp_total_raw.index,\n             color_discrete_sequence=px.colors.sequential.RdBu)\nfig.update_traces(textposition='inside', textinfo='percent+label', \n                  marker = dict(line = dict(color = 'white', width = 2)))\nfig.show()\n","c44200ae":"products_df=pd.read_csv('..\/input\/learnplatform-covid19-impact-on-digital-learning\/products_info.csv')","530ab853":"products_df.head()","cf1eefe3":"products_df.info()","3a274688":"missing_values = products_df.isna().sum()\nmissing_values","f25f14c4":"products_df.dropna(thresh=6, inplace=True)","c7db7088":"missing_values = products_df.isna().sum()\nmissing_values","27187dc3":"products_df['Sector(s)'].value_counts()","738cf76c":"Sector = products_df['Sector(s)'].value_counts()\nfig = px.pie(Sector, \n             values = Sector.values, \n             names = Sector.index,\n             color_discrete_sequence=px.colors.sequential.RdBu)\nfig.update_traces(textposition='inside', textinfo='percent+label', \n                  marker = dict(line = dict(color = 'white', width = 2)))\nfig.show()","6dbeb196":"Primary_Essential_Function = products_df['Primary Essential Function'].value_counts()\nfig = px.pie(Primary_Essential_Function, \n             values = Primary_Essential_Function.values, \n             names = Primary_Essential_Function.index,\n             color_discrete_sequence=px.colors.sequential.RdBu)\nfig.update_traces(textposition='inside', textinfo='percent+label', \n                  marker = dict(line = dict(color = 'white', width = 2)))\nfig.show()","dfa7faa2":"# merge dataframe using district_id as key\nlearnPlatform_df = pd.merge(engage_df,districts_df,left_on='d_id',right_on=['district_id'])","ca25d6f1":"learnPlatform_df=pd.merge(learnPlatform_df,products_df,left_on='lp_id',right_on='LP ID')","69a5f0e4":"learnPlatform_df.info()","2ea54904":"#distribution of state and locale\nsns.displot(data=learnPlatform_df, y='state', hue= 'locale', col='locale')","e3f09c51":"state_district_id = learnPlatform_df.groupby(by ='state').count()[['district_id']]\nplt.figure(figsize=(15,10))\nplt.title(\"States with most Districts Mentioned\")\nplt.ylabel('No of districts')\nplt.xlabel('States')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=state_district_id .index,y=list(state_district_id ['district_id']))\nplt.xticks(rotation=90)","ead60101":"locale_district_id = learnPlatform_df.groupby(by ='locale').count()[['district_id']]\nplt.figure(figsize=(15,10))\nplt.title(\"Locale with most Districts Mentioned\")\nplt.ylabel('No of districts')\nplt.xlabel('locale')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=locale_district_id .index,y=list(locale_district_id ['district_id']))\nplt.xticks(rotation=90)","470684ee":"states = learnPlatform_df.groupby(by ='pct_free\/reduced').count()[['district_id']]\nplt.figure(figsize=(15,10))\nplt.title(\"pct_free\/reduced with most Districts Mentioned\")\nplt.ylabel('No of districts')\nplt.xlabel('No. of pct_black\/hispanic mentioned')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=states.index,y=list(states['district_id']))\nplt.xticks(rotation=90)","db785b4c":"locale_pct_black_hispanic = learnPlatform_df.groupby(by ='locale').count()[['pct_black\/hispanic']]\nplt.figure(figsize=(15,10))\nplt.title(\"Locale with most pct_black\/hispanic\")\nplt.ylabel('pct_black\/hispanic')\nplt.xlabel('Locale')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=locale_pct_black_hispanic.index,y=list(locale_pct_black_hispanic['pct_black\/hispanic']))\nplt.xticks(rotation=90)","7bc82c61":"Locale_pct_free_reduced = learnPlatform_df.groupby(by ='locale').count()[['pct_free\/reduced']]\nplt.figure(figsize=(15,10))\nplt.title(\"Locale  with most pct_free\/reduced Mentioned\")\nplt.ylabel('pct_free\/reduced')\nplt.xlabel('Locale')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=Locale_pct_free_reduced.index,y=list(Locale_pct_free_reduced['pct_free\/reduced']))\nplt.xticks(rotation=90)","3016174f":"locale_engagement_index = learnPlatform_df.groupby(by ='locale').count()[['engagement_index']]\nplt.figure(figsize=(15,10))\nplt.title(\"Locale  with most engagement_index Mentioned\")\nplt.ylabel('engagement_index')\nplt.xlabel('Locale')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=locale_engagement_index.index,y=list(locale_engagement_index['engagement_index']))\nplt.xticks(rotation=90)","6701b5a3":"sns.countplot(x=\"Provider\/Company Name\", data = learnPlatform_df, order=learnPlatform_df['Provider\/Company Name'].value_counts().index[:5])\nplt.title(\"Top 5 Provider\/Company\")","d882c51f":"percent_page_load = learnPlatform_df.groupby('district_id').mean().sort_values('pct_access', ascending = False).round(4).head(7).reset_index()\nplt.figure(figsize=(15,10))\nplt.title(\"Top 7 Districts with largest percentage of page loads\",{'fontsize':25})\nplt.ylabel('pct_access')\nplt.xlabel('district_id')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=percent_page_load.district_id,y=percent_page_load.pct_access)\n#y=list(percent_page_load['pct_access']\nplt.xticks(rotation=90)\n","45216820":"load = learnPlatform_df.groupby('Product Name').mean().sort_values('engagement_index', ascending = False).round(4).head(5).reset_index()\nplt.figure(figsize=(15,10))\nplt.title(\"Top 5 Product which get more Visiter\",{'fontsize':25})\nplt.ylabel('engagement_index')\nplt.xlabel('Product Name')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=load['Product Name'],y=list(load['engagement_index']))\nplt.xticks(rotation=90)","e7437be0":"state_district_id = learnPlatform_df.groupby(by ='state').count()[['district_id']]\nplt.figure(figsize=(15,10))\nplt.title(\"States with most Districts Mentioned\")\nplt.ylabel('No of districts')\nplt.xlabel('States')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=state_district_id.index,y=list(state_district_id ['district_id']))\nplt.xticks(rotation=90)","ab1594b8":"percent_page_load = learnPlatform_df.groupby('Provider\/Company Name').mean().sort_values('LP ID', ascending = False).round(4).head(15).reset_index()\nplt.figure(figsize=(15,10))\nplt.title(\"Top 15 Provider\/Company Name which provide More Product \",{'fontsize':25})\nplt.ylabel('LP ID')\nplt.xlabel('Provider\/Company Name')\nsns.set(rc={\"axes.facecolor\":\"#283747\", \"axes.grid\":False,'xtick.labelsize':14,'ytick.labelsize':14})\nsns.barplot(x=percent_page_load['Provider\/Company Name'],y=percent_page_load['LP ID'])\n#y=list(percent_page_load['pct_access']\nplt.xticks(rotation=90)","60acf031":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\"> Locale with most pct_black\/hispanic  <\/h1><a id=0><\/a>","4592dc79":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\">  District data information  <\/h1><a id=0><\/a>","3475c2da":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\">  Missing Values <\/h1><a id=0><\/a>\n\nLet's check if there are any missing values in the data","bc9b5cf3":"***Insights:***\n\n here are some engagement_index  above 150000.00.  Let's drop those Values from data\n","e47b4550":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\"> Locale  with most pct_free\/reduced  <\/h1><a id=0><\/a>","6077b6d2":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\">  Missing Values <\/h1><a id=0><\/a>\n\nLet's check if there are any missing values in the data","115d5368":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\">  Engagement data Information <\/h1><a id=0><\/a>\n\n","8c90c407":"***Insights:***\nThere are  some missing data. Let's drop the rows in the data with missing values","9d7d3915":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\"> States with most Districts  <\/h1><a id=0><\/a>","e27567a2":"***Insights:***\nNow we have clean data and no missing data in engage_df","3607456c":"***Insights:***\n\nSuburb has More students with 2018-19 NCES data who are eligible for free or reduced price lunch","ec53211f":"***Insights:***\nThe engagement_index and pct_access columns has some missing data. We can replace the missing values of the columns with the mean of the columns  using the method replace()","463bdae6":"***Insights:***\n\nSuburb has more pct_black\/hispanic as campared to other locales","3021f8a4":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\"> Top 5 Provider\/Company <\/h1><a id=0><\/a>","cb343bf1":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\">  Missing Values <\/h1><a id=0><\/a>\n\nLet's check if there are any missing values in the data","88a2c2f5":"| district_id |: School district ID\n\n| state |: The state where the school district is located\n\n| locale |: The locale classification divides the U.S. territory into four types of regions: urban, suburban, town, and rural\n\n| pct_black\/hispanic |: According to 2018-19 NCES data, the percentage of students identified as black or Hispanic in the region\n\n| pct_free\/reduced |: Percentage of regional students with 2018-19 NCES data who are eligible for free or reduced price lunch\n\n| county_connections_ratio |: Ratio of high-speed internet among residents\n\n| pp_total_raw | Total expenditure per student for the project (the sum of local and federal expenditures). Expenditure data is school-by-school, and we use average values to represent the expenditures of a given school district.","56f8e734":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\"> Top 15 Provider\/Company Name which provide More Product <\/h1><a id=0><\/a>","8faced73":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\">  Product data information  <\/h1><a id=0><\/a>","1743d706":"***Insights:***\nNow we have clean data","ed01d3b8":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\"> Locale  with most engagement_index  <\/h1><a id=0><\/a>","c5da0272":"***Insights:***\n\nConnecticut has more Districts as campared to other states","7f87fad0":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\"> States with most Districts <\/h1><a id=0><\/a>","20869821":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\"> Top 5 Product which get more Visiter <\/h1><a id=0><\/a>","1676ab51":"***Insights:***\n\n1. lp_id is float let's convert Ip_id from float to int numeric type\n2. time is object let's convert time from object to datetime\n3. d_id is object let's convert d_id from object to int numeric type","e8b91d86":"| time |: Date\n\n| lp_id |: Product ID\n\n| pct_access |: Percentage of students in this school district who have at least one page visited on a certain day\n\n| engagement_index |: The total number of pages visited by the school district per thousand students in this product\n\nFor example, if Area A\u2019s participation index for product X on August 10, 2021 is 26666.66, it means that on August 10, 2021, there will be 26666.66 page load events per 1,000 students for product X","47d9ec81":"***Insights:***\n\nGoogle LLC provide more products","dd682ce8":"| LP ID|: Product ID\n\n| URL |: web link for a specific product\n\n| Product Name |: Specific product name\n\n| Provider\/Company Name |: Product supplier name\n\n| Sector(s) |: The education sector that uses the product\n\n| Primary Essential Function |: The basic function of the product. There are two layers of labels. The product was first marked in one of three categories: LC = learning and curriculum, CM = classroom management, and SDO = school and district operations","b6dabff7":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:250%;text-align:center;border-radius: 100px 100px; color:#40E0D0\"> Impact of COVID-19  on Digital Learning Platform <\/h1><a id=0><\/a>","52c88dec":"***Insights:***\n\nGoogle DOCS get more visitor as campared to other prodcut name","ec9f5e92":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\"> Removing Outliers <\/h1><a id=0><\/a>\n\nThere seems to be some outliers in the engagement_index column. Let's check them.","d0a8d757":"***Insights:***\n\nSuburb has more Districts as campared to other locales","083c407e":"***Insights:***\n\nSuburb has more pages visited for specfic product","58f1d0ef":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\"> Locale with most Districts  <\/h1><a id=0><\/a>","834f7dc7":"<h1 style=\"background-color:black\n;font-family:newtimeroman;font-size:225%;text-align:left; color:#40E0D0\"> Top 7 Districts with largest percentage of page loads<\/h1><a id=0><\/a>","49aef9fd":"***Insights:***\nThere are  some missing data. Let's drop the rows in the data with missing values\n"}}