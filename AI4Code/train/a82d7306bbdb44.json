{"cell_type":{"5c2a237e":"code","7b536845":"code","0ef361b4":"code","d10de952":"code","5ebf9f7c":"code","8b022212":"code","24a3b912":"code","d3bbcef6":"code","45955ec2":"code","b1b45360":"code","40d02260":"code","9aae26b4":"code","8bde38af":"code","0c0e2a8b":"code","44a7f2bd":"code","e8ba61be":"code","8b32dfb1":"code","bddcf890":"code","b31aac62":"code","29816d59":"markdown","561c32d3":"markdown","11985774":"markdown","0172ceb5":"markdown","f5526084":"markdown","e49213d3":"markdown","de1093cc":"markdown","d21d60c6":"markdown","543811a0":"markdown","f22045d0":"markdown","4d121b99":"markdown","475d1118":"markdown","9171f97d":"markdown","837c3d63":"markdown","5002e191":"markdown","3da52472":"markdown","7be38b5f":"markdown","d73d2211":"markdown","02e65089":"markdown","14e320ee":"markdown"},"source":{"5c2a237e":"import pandas as pd\nimport numpy as np\nimport plotly.graph_objects as go","7b536845":"df= pd.read_csv('..\/input\/predict-test-scores-of-students\/test_scores.csv')","0ef361b4":"df.info()","d10de952":"fig = go.Figure( [ go.Bar(x=list(df.groupby('lunch').mean()['pretest'].index), y=df.groupby('lunch').mean()['pretest'], text=np.round(df.groupby('lunch').mean()['pretest'].values, 2), textposition='outside') ] )\nfig.update_layout(\n    title_text=\"Pre-test averages for students who Qualifies\/Does't Qualifies for free\/reduced meals\",\n    xaxis_title='Free\/reduced lunch',\n    yaxis_title='Score'\n)\nfig.show()","5ebf9f7c":"fig = go.Figure( [ go.Bar(x=list(df.groupby('lunch').mean()['posttest'].index), y=df.groupby('lunch').mean()['posttest'], text=np.round(df.groupby('lunch').mean()['posttest'].values, 2), textposition='outside')  ] )\nfig.update_layout(\n    title_text=\"Post-test averages for students who Qualifies\/Does't Qualifies for free\/reduced meals\",\n    xaxis_title='Free\/reduced lunch',\n    yaxis_title='Score'\n)\nfig.show()","8b022212":"fig = go.Figure( [ go.Bar(x=list(df[df['pretest']>=80][['pretest', 'posttest']].columns), y=df[df['pretest']>=80][['pretest', 'posttest']].mean(), text=np.round(df[df['pretest']>=80][['pretest', 'posttest']].mean(),2), textposition='outside')  ] )\nfig.update_layout(\n    title_text=\"Test averages for students with good scores >=80\",\n    xaxis_title='Test',\n    yaxis_title='Score'\n)\nfig.show()","24a3b912":"fig = go.Figure( [ go.Bar(x=list(df[df['pretest']<80][['pretest', 'posttest']].columns), y=df[df['pretest']<80][['pretest', 'posttest']].mean(), text=np.round(df[df['pretest']<80][['pretest', 'posttest']].mean(),2), textposition='outside')  ] )\nfig.update_layout(\n    title_text=\"Test averages for students with bad scores <80\",\n    xaxis_title='Test',\n    yaxis_title='Score'\n)\nfig.show()","d3bbcef6":"names= list(df.groupby('teaching_method').mean()['posttest'].index)\nvalues= df.groupby('teaching_method').mean()['posttest'].values\n\nfig = go.Figure( [ go.Bar(x=names, y=values, text=np.round(values, 2), textposition='outside') ] )\nfig.update_layout(\n    title_text=\"Post test averages for teaching methods\",\n    xaxis_title='Teaching method',\n    yaxis_title='Score'\n)\nfig.show()","45955ec2":"df.groupby(['school_type', 'teaching_method']).mean()['posttest']","b1b45360":"#prepare data\nx= list(df.groupby(['school_type', 'teaching_method']).mean()['posttest'].index.get_level_values(0).unique())\ny= df.groupby(['school_type', 'teaching_method']).mean()['posttest']\nlegend= list(df.groupby(['school_type', 'teaching_method']).mean()['posttest'].index.get_level_values(1).unique())\n\n\n#plot data\nfig = go.Figure(data=[\n    go.Bar(name=legend[0], x=x, y=[y.loc[x[0], legend[0]], y.loc[x[1], legend[0]]], text=np.round([y.loc[x[0], legend[0]], y.loc[x[1], legend[0]]], 2), textposition='outside'),\n    go.Bar(name=legend[1], x=x, y=[y.loc[x[0], legend[1]], y.loc[x[1], legend[1]]], text=np.round([y.loc[x[0], legend[1]], y.loc[x[1], legend[1]]], 2), textposition='outside')\n])\n\n# Change the bar mode\n\nfig.update_layout(barmode='group',\n                 title_text=\"Avergaes for each (schoool_type, teachin_method) pair\",\n                 xaxis_title='School type',\n                 yaxis_title='Score',\n                 annotations=[\n        dict(\n            x=1.15,\n            y=1.05,\n            xref='paper',\n            yref='paper',\n            text='Teachin method',\n            showarrow=False\n        )\n    ]\n                 )\nfig.show()","40d02260":"df.groupby('gender').mean()['posttest']","9aae26b4":"names= list(df.groupby('gender').mean()['posttest'].index)\nvalues= df.groupby('gender').mean()['posttest'].values\n\nfig = go.Figure( [ go.Bar(x=names, y=values, text=np.round(values, 2), textposition='outside') ] )\nfig.update_layout(\n    title_text=\"Post test averages for male\/female\",\n    xaxis_title='Gender',\n    yaxis_title='Score'\n)\nfig.show()","8bde38af":"names= list(df.groupby('school_setting').mean()['posttest'].index)\nvalues= df.groupby('school_setting').mean()['posttest'].values\n\nfig = go.Figure( [ go.Bar(x=names, y=values, text=np.round(values, 2), textposition='outside') ] )\nfig.update_layout(\n    title_text=\"Post-test averages for school areas\",\n    xaxis_title='School area',\n    yaxis_title='Score'\n)\nfig.show()","0c0e2a8b":"#remove unimportant features (school, classroom, n_students, student_id, gender)\ndf.drop(['school', 'classroom', 'n_student', 'student_id', 'gender'], axis=1, inplace=True)","44a7f2bd":"#make dummies for categorical features\nt=pd.get_dummies(df[list(df.columns[:4])], drop_first=True)\ndf= pd.concat([df, t], axis=1)\ndf.drop(list(df.columns[:4]), axis=1, inplace=True)","e8ba61be":"from sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import MinMaxScaler\nfrom sklearn.metrics import r2_score\nfrom sklearn.pipeline import Pipeline\nfrom sklearn.linear_model import LinearRegression\n","8b32dfb1":"#Train test split\nx= df.drop('posttest', axis=1)\ny=df['posttest']\nx_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.2, random_state=101)","bddcf890":"#create pipeline\npipeline = Pipeline([\n    ('scaler', MinMaxScaler()), \n    ('model', LinearRegression())\n])\n\npipeline.fit(x_train, y_train)# fit pipeline","b31aac62":"pred= pipeline.predict(x_test)\nr2_score(y_test, pred)","29816d59":"# Are private schools worth it?","561c32d3":"### kids with reduced\/free lunches performed worse than kids without reduced\/ free lunch in both pre-test and post-test, though it is not clear if family's income is the only factor that affects thier grades.","11985774":"It looks like that the enviroment plays a big role on the scores students achive in thier post test as can be seen (e.g: family income, school area, teaching method, etc...). Private Schools hava a higher post test score average than public but not everyone an afford it, which make public schools in suburban areas the best choise for the majority of families.","0172ceb5":"### Assume that 80\/100 is the minumem good grade","f5526084":"# Does gender plays a role?","e49213d3":"# Does family income affect scores?","de1093cc":"# Does a good pre-test means a good post-test?","d21d60c6":"# Does school area matter?","543811a0":"### Schools in suburban areas have a high post test average","f22045d0":"# Model evaluation","4d121b99":"### Extract and remove features","475d1118":"### On average students under the Experimental method achive on average higher grades in the post test","9171f97d":"# Conclusion","837c3d63":"# AI Model","5002e191":"### Private schools have a higher post test average for both teaching methods.","3da52472":"According to the [National School Lunch Program](https:\/\/www.ers.usda.gov\/topics\/food-nutrition-assistance\/child-nutrition-programs\/national-school-lunch-program\/) Free lunches are available to children in households with incomes at or below 130 percent of poverty, and Reduced-price lunches are available to children in households with incomes between 130 and 185 percent of poverty.  \nbased on this we can conclude that children who qualify for free\/reduced meals are from households with low income.","7be38b5f":"# Goals  \nThe goal is to find what affects students scores in tests (post test), then a ML model will be used to try and predict students post test scores.[GitHub](https:\/\/github.com\/FancyWhale69\/predict_scores)  \n\n# Data set   \nThe data is from IBM SPSS document folder or [Kaggle](https:\/\/www.kaggle.com\/kwadwoofosu\/predict-test-scores-of-students)\n\n# Index  \n[Does family income affect scores](#Does-family-income-affect-scores?)  \n[Does a good pre-test means a good post-test?](#Does-a-good-pre-test-means-a-good-post-test?)  \n[what is the diffrence in teaching methods?](#what-is-the-diffrence-in-teaching-methods?)  \n[Are private schools worth it?](#Are-private-schools-worth-it?)  \n[Does gender plays a role?](#Does-gender-plays-a-role?)  \n[Does school area matter?](#Does-school-area-matter?)  \n[AI Model](#AI-Model)  \n[Model evaluation](#model-evaluation)  \n[Conclusion](#Conclusion)","d73d2211":"# what is the diffrence in teaching methods?","02e65089":"### Both genders have the same post test average score","14e320ee":"### From tha graphs we can see that students who achevied good score in thier pretest are expected to rise thier score by 10 points on average in posttest, meanwhile other students are expected to increase thier posttest score by 13 point on average but on average they will be below 70 for the posttest."}}