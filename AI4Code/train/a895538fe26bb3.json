{"cell_type":{"f55ad4ac":"code","43dd7073":"code","ef22e2ec":"code","97d52ee9":"code","ff74f3cf":"code","cb33ac97":"markdown"},"source":{"f55ad4ac":"import numpy as np\nimport pandas as pd\nimport os\nfrom kaggle.competitions import twosigmanews","43dd7073":"# Create the environment\nenv = twosigmanews.make_env()","ef22e2ec":"def naive_predict(market_obs_df, predictions_template_df):\n    market_obs_df = market_obs_df.set_index('assetCode')\n    predictions_template_df['confidenceValue'] = predictions_template_df.assetCode.apply(lambda x: market_obs_df.loc[x].returnsOpenPrevMktres10)\n    \n    # replace NAs with zeros\n    predictions_template_df['confidenceValue'] = predictions_template_df['confidenceValue'].fillna(0.0)\n    # there are supposed to be inf values in the data\n    predictions_template_df['confidenceValue'] = predictions_template_df['confidenceValue'].replace([np.inf, -np.inf], 0.0)\n    # clip values to the required range\n    predictions_template_df['confidenceValue'] = predictions_template_df['confidenceValue'].clip(-1.0, 1.0)\n    return predictions_template_df","97d52ee9":"days = env.get_prediction_days()","ff74f3cf":"for (market_obs_df, _, predictions_template_df) in days:\n    predictions_df = naive_predict(market_obs_df, predictions_template_df)\n    env.predict(predictions_df)\n\nenv.write_submission_file()","cb33ac97":"# Naive prediction kernel\n\nIn this kernel, we will predict the returns for the next 10 days by taking the returns for the previous 10 days."}}