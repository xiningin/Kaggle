{"cell_type":{"761c3a72":"code","e579e305":"code","7d294f60":"code","5b6dcc39":"code","505a6531":"code","80502cf4":"code","b27ab0be":"code","d7f0ffb5":"code","7e949433":"markdown","8ad51a9e":"markdown"},"source":{"761c3a72":"import warnings;warnings.filterwarnings(\"ignore\")\n\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n%matplotlib inline","e579e305":"data = pd.read_csv('\/kaggle\/input\/imdb-data\/title_basics.csv')\ndata = data[['titleType','primaryTitle','isAdult','startYear','endYear','runtimeMinutes','genres']]\ndata","7d294f60":"tmp = data[data['startYear']!='\\\\N']\ntmp['startYear'] = tmp['startYear'].astype(int)\ntmp1 = tmp[['primaryTitle','startYear']].groupby('startYear').count().reset_index().sort_values('startYear')\ntmp2 = tmp[['primaryTitle','startYear','titleType']].groupby(['startYear','titleType']).count().reset_index().sort_values('startYear')\n\nfig,ax_arr = plt.subplots(2,1,figsize=(25,10))\nsns.lineplot(data=tmp1, x='startYear', y='primaryTitle', ax=ax_arr[0])\nax_arr[0].set_title('Trending with startYear')\nsns.lineplot(data=tmp2, x='startYear', y='primaryTitle', hue='titleType', ax=ax_arr[1])\nax_arr[1].set_title('Trending with startYear by every titleType')\nplt.show()","5b6dcc39":"key = 'titleType'\ntmp = data[[key,'primaryTitle']].groupby(key).count().reset_index().sort_values('primaryTitle',ascending=False)\n\nplt.figure(figsize=(25,5))\nsns.barplot(data=tmp, x=tmp[key], y=tmp['primaryTitle'])\nplt.title(f'Distribution of {key}')\nplt.show()","505a6531":"key = 'isAdult'\ntmp = data[[key,'primaryTitle']]\ntmp = tmp[(tmp[key]==0) | (tmp[key]==1) | (tmp[key]=='0') | (tmp[key]=='1')]\ntmp['isAdult'] = tmp['isAdult'].astype(int)\ntmp = tmp.groupby(key).count().reset_index()\n\n# plt.figure(figsize=(10,10))\n# plt.pie(tmp['primaryTitle'],labels=['NoAdult' if x==0 else 'Adult' for x in tmp['isAdult']])\n# plt.title(f'Distribution of {key}')\n# plt.show()\n\nfig,ax_arr = plt.subplots(3,4,figsize=(25,20))\nax_arr[0][0].pie(tmp['primaryTitle'],labels=['NoAdult' if x==0 else 'Adult' for x in tmp['isAdult']])\nax_arr[0][0].set_title(f'Distribution of {key}')\nfor idx,titleType in enumerate(list(data['titleType'].unique())):\n    tmp = data[data['titleType']==titleType][[key,'primaryTitle']]\n    tmp = tmp[(tmp[key]==0) | (tmp[key]==1) | (tmp[key]=='0') | (tmp[key]=='1')]\n    tmp['isAdult'] = tmp['isAdult'].astype(int)\n    tmp = tmp.groupby(key).count().reset_index()\n\n    i,j = (idx+1)\/\/4,(idx+1)%4\n    ax_arr[i][j].pie(tmp['primaryTitle'],labels=['NoAdult' if x==0 else 'Adult' for x in tmp['isAdult']])\n    ax_arr[i][j].set_title(f'Distribution of {key} by {titleType}')\nplt.show()","80502cf4":"key = 'runtimeMinutes'\ntmp = data[data[key].apply(str.isdigit)][[key,'titleType','isAdult']]\ntmp[key] = tmp[key].astype(int).apply(lambda x:x if x<200 else 200)\n\nfig,ax_arr = plt.subplots(2,1,figsize=(25,10))\nsns.histplot(data=tmp, x=key, ax=ax_arr[0])\nax_arr[0].set_title(f'Distribution of {key}')\nsns.histplot(data=tmp, x=key, hue=\"titleType\", ax=ax_arr[1])\nax_arr[1].set_title(f'Distribution of {key} by titleType')\nplt.show()","b27ab0be":"tmp = data[data['startYear']!='\\\\N'][['startYear','titleType','primaryTitle']]\ntmp['startYear'] = tmp['startYear'].astype(int)\ntmp = tmp.groupby(['startYear','titleType']).count().reset_index()\ntmp_stat = tmp.groupby('startYear').count().reset_index()\ntmp = tmp.merge(tmp_stat,on=\"startYear\")\n\npd.pivot_table(tmp,index='startYear',columns='titleType_x',values='primaryTitle_x').plot(kind='bar', figsize=(25,5), stacked=True)\nplt.legend(loc='right')\nplt.title('Propotion of titleType by startYear')\nplt.show()","d7f0ffb5":"genres_list = [str(genres_str).split(',') for genres_str in data['genres'].unique().tolist()]\ngenres_list = [genres.strip() for genres in list(set(sum(genres_list,[])))]\n\ntmp = data[['primaryTitle','genres']]\nfor genres in genres_list:\n    tmp[genres] = tmp['genres'].apply(lambda x:1 if genres in str(x) else 0)\ntmp = tmp[genres_list].sum().reset_index().sort_values(0,ascending=False)\ntmp.columns = ['genres','count']\n\nplt.figure(figsize=(25,5))\nsns.barplot(data=tmp,x='genres',y='count')\nplt.title(f'Distribution of genres')\nplt.xticks(rotation=90)\nplt.show()","7e949433":"<h2 style = \"font-size:50px; font-family:Garamond ; font-weight : normal; background-color:#191970; color :  #F0FFF3; text-align: center; border-radius: 5px 5px; padding: 5px\">\ud83e\udd16\ud83e\udd16PLEASE UPVOTE!!!\ud83e\udd16\ud83e\udd16<\/h2> \n\n## View and clean for IMDb data","8ad51a9e":"The end."}}