{"cell_type":{"23b7d85e":"code","7c1976c3":"code","128e0455":"code","dd5bbd4d":"code","229856e3":"code","01affb86":"code","4705ccfd":"code","75bd6eb0":"code","3bed094a":"code","1f5aba05":"code","ce4ab3b1":"code","257ef13d":"code","e9ff2192":"code","47814da4":"code","1458fa52":"code","79620e08":"markdown","c0a36724":"markdown","e78deafe":"markdown","31e4b6f3":"markdown","686ddf2b":"markdown","f6bad275":"markdown","b5931725":"markdown","dca71678":"markdown"},"source":{"23b7d85e":"# storing and anaysis\nimport numpy as np\nimport pandas as pd\n\n# visualization\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nimport plotly.express as px\n\nfrom IPython.display import Javascript\nfrom IPython.core.display import display, HTML\n\n# color pallette\ncdr = ['#393e46', '#ff2e63', '#30e3ca'] # grey - red - blue\nidr = ['#f8b400', '#ff2e63', '#30e3ca'] # yellow - red - blue\n\ns = '#f0134d'\nh = '#12cad6'\ne = '#4a47a3'\nm = '#42e6a4'\nc = '#333333'\n\nshemc = [s, h, e, m, c]\nsec = [s, e, c]","7c1976c3":"# COVID-19\n# --------\n\n# covid_19 dataset\ncovid_19 = pd.read_csv('..\/input\/corona-virus-report\/covid_19_clean_complete.csv', \n                       parse_dates=['Date'])\n\n# selecting important columns only\ncovid_19 = covid_19[['Date', 'Country\/Region', 'Confirmed', 'Deaths', 'Recovered']]\n\n# replacing Mainland china with just China\ncovid_19['Country\/Region'] = covid_19['Country\/Region'].replace('Mainland China', 'China')\n\n# renaming columns\ncovid_19.columns = ['Date', 'Country', 'Cases', 'Deaths', 'Recovered']\n\n# group by date and country\ncovid_19 = covid_19.groupby(['Date', 'Country'])['Cases', 'Deaths', 'Recovered']\ncovid_19 = covid_19.sum().reset_index()\n\n# latest\nc_lat = covid_19[covid_19['Date'] == max(covid_19['Date'])].reset_index()\n\n# latest grouped by country\nc_lat_grp = c_lat.groupby('Country')['Cases', 'Deaths', 'Recovered'].sum().reset_index()\n\n# nth day\ncovid_19['nth_day'] = (covid_19['Date'] - min(covid_19['Date'])).dt.days\n\n# day by day\nc_dbd = covid_19.groupby('Date')['Cases', 'Deaths', 'Recovered'].sum().reset_index()\n\n# nth day\nc_dbd['nth_day'] = covid_19.groupby('Date')['nth_day'].max().values\n\n# no. of countries\ntemp = covid_19[covid_19['Cases']>0]\nc_dbd['n_countries'] = temp.groupby('Date')['Country'].apply(len).values\n\nc_dbd['new_cases'] = c_dbd['Cases'].diff()\nc_dbd['new_deaths'] = c_dbd['Deaths'].diff()\nc_dbd['epidemic'] = 'COVID-19'\n","128e0455":"# EBOLA\n# ------\n\n# ebola dataset\nebola_14 = pd.read_csv(\"..\/input\/ebola-outbreak-20142016-complete-dataset\/ebola_2014_2016_clean.csv\", \n                       parse_dates=['Date'])\n\n# selecting important columns only\nebola_14 = ebola_14[['Date', 'Country', 'No. of confirmed, probable and suspected cases',\n                     'No. of confirmed, probable and suspected deaths']]\n\n# renaming columns\nebola_14.columns = ['Date', 'Country', 'Cases', 'Deaths']\nebola_14.head()\n\n# group by date and country\nebola_14 = ebola_14.groupby(['Date', 'Country'])['Cases', 'Deaths']\nebola_14 = ebola_14.sum().reset_index()\n\n# filling missing values\nebola_14['Cases'] = ebola_14['Cases'].fillna(0)\nebola_14['Deaths'] = ebola_14['Deaths'].fillna(0)\n\n# converting datatypes\nebola_14['Cases'] = ebola_14['Cases'].astype('int')\nebola_14['Deaths'] = ebola_14['Deaths'].astype('int')\n\n# latest\ne_lat = ebola_14[ebola_14['Date'] == max(ebola_14['Date'])].reset_index()\n\n# latest grouped by country\ne_lat_grp = e_lat.groupby('Country')['Cases', 'Deaths'].sum().reset_index()\n\n# nth day\nebola_14['nth_day'] = (ebola_14['Date'] - min(ebola_14['Date'])).dt.days\n\n# day by day\ne_dbd = ebola_14.groupby('Date')['Cases', 'Deaths'].sum().reset_index()\n\n# nth day\ne_dbd['nth_day'] = ebola_14.groupby('Date')['nth_day'].max().values\n\n# no. of countries\ntemp = ebola_14[ebola_14['Cases']>0]\ne_dbd['n_countries'] = temp.groupby('Date')['Country'].apply(len).values\n\ne_dbd['new_cases'] = e_dbd['Cases'].diff()\ne_dbd['new_deaths'] = e_dbd['Deaths'].diff()\ne_dbd['epidemic'] = 'EBOLA'","dd5bbd4d":"# SARS\n# ----\n\n# sars dataset\nsars_03 = pd.read_csv(\"..\/input\/sars-outbreak-2003-complete-dataset\/sars_2003_complete_dataset_clean.csv\", \n                       parse_dates=['Date'])\n\n# selecting important columns only\nsars_03 = sars_03[['Date', 'Country', 'Cumulative number of case(s)', \n                   'Number of deaths', 'Number recovered']]\n\n# renaming columns\nsars_03.columns = ['Date', 'Country', 'Cases', 'Deaths', 'Recovered']\n\n# group by date and country\nsars_03 = sars_03.groupby(['Date', 'Country'])['Cases', 'Deaths', 'Recovered']\nsars_03 = sars_03.sum().reset_index()\n\n# latest\ns_lat = sars_03[sars_03['Date'] == max(sars_03['Date'])].reset_index()\n\n# latest grouped by country\ns_lat_grp = s_lat.groupby('Country')['Cases', 'Deaths', 'Recovered'].sum().reset_index()\n\n# nth day\nsars_03['nth_day'] = (sars_03['Date'] - min(sars_03['Date'])).dt.days\n\n# day by day\ns_dbd = sars_03.groupby('Date')['Cases', 'Deaths', 'Recovered'].sum().reset_index()\n\n# nth day\ns_dbd['nth_day'] = sars_03.groupby('Date')['nth_day'].max().values\n\n# no. of countries\ntemp = sars_03[sars_03['Cases']>0]\ns_dbd['n_countries'] = temp.groupby('Date')['Country'].apply(len).values\n\n\ns_dbd['new_cases'] = s_dbd['Cases'].diff()\ns_dbd['new_deaths'] = s_dbd['Deaths'].diff()\ns_dbd['epidemic'] = 'SARS'","229856e3":"# MERS\nmers_cntry = pd.read_csv(\"..\/input\/mers-outbreak-dataset-20122019\/country_count_latest.csv\")\nmers_weekly = pd.read_csv(\"..\/input\/mers-outbreak-dataset-20122019\/weekly_clean.csv\")","01affb86":"# sum of cases\n# -----------\n\nc_cases = sum(c_lat_grp['Cases'])\nc_deaths = sum(c_lat_grp['Deaths'])\nc_no_countries = len(c_lat_grp['Country'].value_counts())\n\ns_cases = sum(s_lat_grp['Cases'])\ns_deaths = sum(s_lat_grp['Deaths'])\ns_no_countries = len(s_lat_grp['Country'].value_counts())\n\ne_cases = sum(e_lat_grp['Cases'])\ne_deaths = sum(e_lat_grp['Deaths'])\ne_no_countries = len(e_lat_grp['Country'].value_counts())","4705ccfd":"epidemics = pd.DataFrame({\n    'epidemic' : ['COVID-19', 'SARS', 'EBOLA', 'MERS', 'H1N1'],\n    'start_year' : [2019, 2003, 2014, 2012, 2009],\n    'end_year' : [2020, 2004, 2016, 2017, 2010],\n    'confirmed' : [c_cases, s_cases, e_cases, 2494, 6724149],\n    'deaths' : [c_deaths, s_deaths, e_deaths, 858, 19654],\n    'no_of_countries' : [c_no_countries, s_no_countries, e_no_countries, 27, 178]\n})\n\nepidemics['mortality'] = round((epidemics['deaths']\/epidemics['confirmed'])*100, 2)\nepidemics = epidemics.sort_values('end_year').reset_index(drop=True)\nepidemics.head()","75bd6eb0":"fig = px.bar(epidemics.sort_values('confirmed',ascending=False), \n             x=\"confirmed\", y=\"epidemic\", color='epidemic', \n             text='confirmed', orientation='h', title='No. of Cases', \n             range_x=[0,7500000],\n             color_discrete_sequence = [h, c, e, s, m])\nfig.update_traces(textposition='outside')\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","3bed094a":"fig = px.bar(epidemics.sort_values('deaths',ascending=False), \n             x=\"deaths\", y=\"epidemic\", color='epidemic', \n             text='deaths', orientation='h', title='No. of Deaths',\n             range_x=[0,25000],\n             color_discrete_sequence = [h, e, c, m, s])\nfig.update_traces(textposition='outside')\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","1f5aba05":"fig = px.bar(epidemics.sort_values('mortality',ascending=False),\n             x=\"mortality\", y=\"epidemic\", color='epidemic', \n             text='mortality', orientation='h', title='Moratlity rate', \n             range_x=[0,100],\n             color_discrete_sequence = [e, m, s, c, h])\nfig.update_traces(textposition='outside')\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","ce4ab3b1":"fig = px.bar(epidemics.sort_values('no_of_countries', ascending=False),\n             x=\"no_of_countries\", y=\"epidemic\", color='epidemic', \n             text='no_of_countries', orientation='h', title='No. of Countries', \n             range_x=[0,200],\n             color_discrete_sequence = [h, c, s, m, e])\nfig.update_traces(textposition='outside')\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","257ef13d":"temp = pd.concat([s_dbd, e_dbd, c_dbd], axis=0, sort=True)\n                \nfig = px.line(temp, x=\"Date\", y=\"Cases\", color='epidemic', \n             title='No. of new cases',\n             color_discrete_sequence = sec)\nfig.update_layout(xaxis_rangeslider_visible=True)\n\n\nfig = px.line(temp, x=\"Date\", y=\"Deaths\", color='epidemic', \n             title='No. of new deaths',\n             color_discrete_sequence = sec)\nfig.update_layout(xaxis_rangeslider_visible=True)\n","e9ff2192":"fig = px.line(temp, x=\"nth_day\", y=\"Cases\", color='epidemic', \n             title='Cases', color_discrete_sequence = sec)\nfig.update_layout(xaxis_rangeslider_visible=True)\nfig.show()\n\nfig = px.line(temp, x=\"nth_day\", y=\"Deaths\", color='epidemic', \n             title='Deaths', color_discrete_sequence = sec)\nfig.update_layout(xaxis_rangeslider_visible=True)\nfig.show()\n\nfig = px.line(temp, x=\"nth_day\", y=\"n_countries\", color='epidemic', \n             title='No. of Countries', color_discrete_sequence = sec)\nfig.update_layout(xaxis_rangeslider_visible=True)\nfig.show()","47814da4":"temp = covid_19.groupby('Date')['Cases'].sum().reset_index()\n\ncovid = temp['Cases']\nsars = [8096 for i in range(len(temp))]\nebola = [28646 for i in range(len(temp))]\nmers = [2494 for i in range(len(temp))]\nh1n1 = [6724149 for i in range(len(temp))]\n\nplt.style.use('seaborn-whitegrid')\nplt.figure(figsize=(20, 8))\nax = plt.plot(temp['Date'], covid, label='COVID-19 (2019-2020)', c='#555555', alpha=0.8)\nax = plt.plot(temp['Date'], sars, label='SARS (2003-2004)', c='#E71D36', ls='--', alpha=0.8)\nax = plt.plot(temp['Date'], ebola, label='EBOLA (2014-2016)', c='#FF9F1C', ls='--', alpha=0.8)\nax = plt.plot(temp['Date'], mers, label='MERS', c='#2EC4B6', ls='--', alpha=0.8)\nplt.title('Number of Cases')\nplt.legend()\nplt.show()","1458fa52":"temp = covid_19.groupby('Date')['Deaths'].sum().reset_index()\n\ncovid = temp['Deaths']\nsars = [774 for i in range(len(temp))]\nebola = [11323 for i in range(len(temp))]\nmers = [858 for i in range(len(temp))]\nh1n1 = [19654 for i in range(len(temp))]\n\nplt.figure(figsize=(20, 8))\nax = plt.plot(temp['Date'], covid, label='COVID-19 (2019-2020)', c='#555555', alpha=0.8)\nax = plt.plot(temp['Date'], sars, label='SARS (2003-2004)', c='#E71D36', ls='--', alpha=0.8)\nax = plt.plot(temp['Date'], ebola, label='EBOLA (2014-2016)', c='#FF9F1C', ls='--', alpha=0.8)\nax = plt.plot(temp['Date'], mers, label='MERS', c='#2EC4B6', ls='--', alpha=0.8)\nax = plt.plot(temp['Date'], h1n1, label='H1N1', c='#2345BA', ls='--', alpha=0.8)\nplt.title('Number of Deaths')\nplt.legend()\nplt.show()","79620e08":"### EBOLA","c0a36724":"# Preprocessing","e78deafe":"### SARS","31e4b6f3":"### COVID-19","686ddf2b":"# N days","f6bad275":"# Libraries","b5931725":"> # By date","dca71678":"### MERS"}}