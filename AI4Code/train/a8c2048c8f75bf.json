{"cell_type":{"6e60025d":"code","12f9f1aa":"code","2eb92bda":"code","078436dc":"code","e0f60979":"code","c72e9d6a":"code","65013f1f":"code","2212999d":"code","cb82aba2":"code","d5cc03aa":"code","ff528b33":"code","5100100b":"code","0fa6cf8f":"code","30f531fa":"code","510d5765":"code","a47f9259":"code","728e257a":"code","caf375e7":"code","41903300":"code","a2ee745e":"code","8c37298c":"code","18dbe6ad":"code","c27775f0":"code","d18c6eff":"code","67fc2e4e":"code","539a2b32":"code","accaa59a":"code","52adfb1c":"code","41f91985":"code","72a10493":"code","58894f2f":"code","83a2eb1d":"code","96b327ad":"code","192a97a4":"code","44819330":"code","4f4d2e39":"code","eafac2c0":"code","6f92584e":"code","b7ba112c":"code","0dba2c68":"code","5b0e699f":"code","e405f77c":"code","057ea312":"code","1ab69dcd":"code","2adedea8":"code","89f5b426":"code","05761558":"code","781b1190":"code","e5b51cd7":"code","da2d0a79":"code","0bc394d1":"code","6948a43e":"code","54d10317":"code","652ba22b":"code","7a47c1f6":"code","2e8ff836":"code","d2c05a79":"code","bc78471a":"code","4b7d8352":"code","420be9b7":"code","4744bc3e":"code","d02017a3":"code","ec5d2d54":"code","d143d292":"code","ad3f8fc5":"code","d328dedc":"code","5edf745a":"code","7e692b86":"code","d7260c39":"code","61abd771":"code","ff063730":"code","5d6eba47":"code","b0625329":"code","11e9549b":"code","543c5981":"code","66c40ce6":"code","7059a78d":"code","fd44e2b3":"code","5acffaf1":"code","e5624d26":"code","01663608":"code","2d995064":"code","cb09b6ea":"code","83f161e7":"code","106f8c0c":"markdown","3345e9c2":"markdown","1629dff8":"markdown","3e400608":"markdown","d35a9e6c":"markdown","b92ecb17":"markdown","630ee502":"markdown","dd5283cc":"markdown","811bee1d":"markdown","592ecc37":"markdown","d74b6eef":"markdown","82a2552d":"markdown","91df7762":"markdown","8de25e07":"markdown","cc949ee6":"markdown","f91fd6d8":"markdown","f0da796e":"markdown","6ad6d822":"markdown","6d9decc8":"markdown","a1dbadc2":"markdown","22a592c2":"markdown","bf0451dd":"markdown","f2274593":"markdown","422ec9d4":"markdown","4410be2b":"markdown","e0d2cbc1":"markdown","b186088f":"markdown","e36be9e3":"markdown","5cbf0710":"markdown","e6f666f8":"markdown","27ed8892":"markdown","f5867576":"markdown","f9dbfef3":"markdown","a0b784c4":"markdown","404e5aeb":"markdown","8709de38":"markdown","8c907df6":"markdown","04afbd75":"markdown","bd476c65":"markdown","c589c260":"markdown","434a0130":"markdown","9baecb85":"markdown","b2f70f67":"markdown","987a406d":"markdown","3949cf58":"markdown","dd9fa9f8":"markdown","b8e8331f":"markdown","f41f8627":"markdown","84d16a58":"markdown","6f4f7a82":"markdown","ffa6d013":"markdown","00002909":"markdown","b97aaccc":"markdown","bbdde56c":"markdown","613a2aa2":"markdown","9fafb165":"markdown","4ed786ec":"markdown","c690f4cf":"markdown","d1fe65dd":"markdown","ac9838cd":"markdown","7883d0b3":"markdown","6e42e5ee":"markdown","6f0edef6":"markdown","bb15eba9":"markdown","4e2f9a12":"markdown","7955719d":"markdown","4b44767e":"markdown","0efae692":"markdown","afb8d740":"markdown","9e4894e0":"markdown","aa2ef6f5":"markdown","d8a9ee42":"markdown","8fbc5616":"markdown","02b64715":"markdown","a0b0eaa1":"markdown","a6746180":"markdown","5f24cebf":"markdown","7d745f35":"markdown","d3af5905":"markdown","2c4ce4a5":"markdown","aa35f4de":"markdown","4632f1d5":"markdown","8ce744c5":"markdown","da32a3ed":"markdown","6d0b18d1":"markdown","620e74ae":"markdown","9b057757":"markdown"},"source":{"6e60025d":"import pandas as pd\nimport numpy as np\nfrom matplotlib import pyplot as plt\nimport seaborn as sns","12f9f1aa":"confirmed_global = pd.read_csv('..\/input\/covid19\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_confirmed_global.csv')\nconfirmed_global = confirmed_global.drop(columns=['Lat', 'Long'])\nconfirmed_global['Total Confirmed'] = confirmed_global.iloc[:,-1]","2eb92bda":"def missing_values_table(confirmed_global):\n    mis_val = confirmed_global.isnull().sum()\n    mis_val_pct = 100*mis_val \/ len(confirmed_global)\n    mis_val_table = pd.concat([mis_val, mis_val_pct], axis=1)\n    mis_val_table_ren_columns = mis_val_table.rename(columns = {0: 'Missing Values', 1: '% of Total  Values'})\n    return mis_val_table_ren_columns\n\nmissing_confirmed_global = missing_values_table(confirmed_global)\nmissing_confirmed_global.sort_values('Missing Values', ascending=False).head()","078436dc":"confirmed_global = confirmed_global.groupby('Country\/Region').sum().reset_index()\nconfirmed_global.head()","e0f60979":"deaths_global = pd.read_csv('..\/input\/covid19\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_deaths_global.csv')\ndeaths_global = deaths_global.drop(columns=['Lat', 'Long'])\ndeaths_global['Total Deaths'] = deaths_global.iloc[:,-1]","c72e9d6a":"missing_confirmed_deaths = missing_values_table(deaths_global)\nmissing_confirmed_deaths.sort_values('Missing Values', ascending=False).head()","65013f1f":"deaths_global = deaths_global.groupby('Country\/Region').sum().reset_index()\ndeaths_global.head()","2212999d":"recovered_global = pd.read_csv('..\/input\/covid19\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_recovered_global.csv')\nrecovered_global = recovered_global.drop(columns=['Lat', 'Long'])\nrecovered_global['Total Recovered'] = recovered_global.iloc[:,-1]","cb82aba2":"missing_recovered_global = missing_values_table(recovered_global)\nmissing_recovered_global.sort_values('Missing Values', ascending=False).head()","d5cc03aa":"recovered_global = recovered_global.groupby('Country\/Region').sum().reset_index()\nrecovered_global.head()","ff528b33":"latest_confirmed_global = confirmed_global[['Country\/Region', 'Total Confirmed']]\nlatest_confirmed_deaths = deaths_global[['Country\/Region', 'Total Deaths']]\nlatest_confirmed_recovered = recovered_global[['Country\/Region', 'Total Recovered']]\n\nlatest_global_stats = latest_confirmed_global.merge(latest_confirmed_deaths, on=['Country\/Region'], how='left').merge(latest_confirmed_recovered, on=['Country\/Region'], how='left')\n\nlatest_global_stats['Active Cases'] = latest_global_stats['Total Confirmed'] - latest_global_stats['Total Deaths'] - latest_global_stats['Total Recovered']\nlatest_global_stats['Mortality Rate (%)'] = (latest_global_stats['Total Deaths'] \/ latest_global_stats['Total Confirmed']*100).round(2)\nlatest_global_stats.to_csv('latest_global_stats.csv')\nlatest_global_stats.head()","5100100b":"missing_latest_global = missing_values_table(latest_global_stats)\nmissing_latest_global.sort_values('Missing Values', ascending=False).head()","0fa6cf8f":"worldwide_stats = latest_global_stats[['Total Confirmed', 'Total Deaths', 'Total Recovered', 'Active Cases']].sum()\nworldwide_stats = worldwide_stats.to_frame().rename(columns={0: 'Number of Cases'})\nworldwide_stats","30f531fa":"total_confirmed = worldwide_stats.iloc[0,0]\ntotal_deaths = worldwide_stats.iloc[1,0]\ntotal_recovered = worldwide_stats.iloc[2,0]\ntotal_active = worldwide_stats.iloc[3,0]","510d5765":"labels = ['Deaths', 'Recovered', 'Active']\ncolors = ['red', 'green', 'orange']\nvalues = [total_deaths, total_recovered, total_active]\nfig, ax = plt.subplots(figsize=(8,6))\nax.pie(values, explode=(0.4, 0, 0), autopct='%1.1f%%', shadow=True, startangle=90, textprops={'fontsize': 14}, colors=colors)\nax.axis('equal')\nax.set_title('Worldwide COVID-19 Cases', size=16)\nax.legend(labels, title='Cases', loc='upper right')\nplt.show()","a47f9259":"total_global_cases = confirmed_global.sum(axis=0).to_frame()\ntotal_global_cases = total_global_cases.iloc[2:-1].rename(columns={0: 'Total Confirmed Cases'})","728e257a":"days = range(0,len(total_global_cases),10)\n\nax = plt.figure(figsize=(16,6))\nplt.plot(total_global_cases['Total Confirmed Cases'], linewidth=2)\nplt.title('Evolution of Total Confirmed Cases (Worldwide)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('Confirmed Cases')\nplt.xticks(days, days)\nplt.show()","caf375e7":"total_global_deaths = deaths_global.sum(axis=0).to_frame()\ntotal_global_deaths = total_global_deaths.iloc[2:-1].rename(columns={0: 'Total Confirmed Deaths'})","41903300":"days = range(0,len(total_global_deaths),10)\n\nax = plt.figure(figsize=(16,6))\nplt.plot(total_global_deaths['Total Confirmed Deaths'], linewidth=2)\nplt.title('Evolution of Total Confirmed Deaths (Worldwide)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('Confirmed Deaths')\nplt.xticks(days, days)\nplt.show()","a2ee745e":"total_global_recoveries = recovered_global.sum(axis=0).to_frame()\ntotal_global_recoveries = total_global_recoveries.iloc[2:-1].rename(columns={0: 'Total Confirmed Recoveries'})","8c37298c":"days = range(0,len(total_global_cases),10)\n\nax = plt.figure(figsize=(16,6))\nplt.plot(total_global_recoveries['Total Confirmed Recoveries'], linewidth=2)\nplt.title('Evolution of Total Confirmed Recoveries (Worldwide)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('Confirmed Recoveries')\nplt.xticks(days, days)\nplt.show()","18dbe6ad":"top_10_confirmed = latest_global_stats.sort_values('Total Confirmed', ascending=False)[:10][['Country\/Region', 'Total Confirmed']].reset_index(drop=True)\ntop_10_confirmed","c27775f0":"labels = top_10_confirmed['Country\/Region']\nconfirmed = top_10_confirmed['Total Confirmed']\nax = plt.subplot()\nplt.barh(range(len(labels)), confirmed, color='red', edgecolor='black')\nax.set_yticks(range(len(labels)))\nax.set_yticklabels(labels)\nplt.xlabel('Confirmed Cases')\nplt.title('Top 10 Countries (Confirmed Cases)')\nplt.show()","d18c6eff":"top_10_deaths = latest_global_stats.sort_values('Total Deaths', ascending=False)[:10][['Country\/Region', 'Total Deaths']].reset_index(drop=True)\ntop_10_deaths","67fc2e4e":"labels = top_10_deaths['Country\/Region']\ndeaths = top_10_deaths['Total Deaths']\nax = plt.subplot()\nplt.barh(range(len(labels)), deaths, color='red', edgecolor='black')\nax.set_yticks(range(len(labels)))\nax.set_yticklabels(labels)\nplt.xlabel('Total Deaths')\nplt.title('Top 10 Countries (Total Deaths)')\nplt.show()","539a2b32":"over_1000_cases = latest_global_stats[latest_global_stats['Total Confirmed'] >= 1000]\nhighest_deathrate = over_1000_cases.sort_values('Mortality Rate (%)', ascending=False)[:10][['Country\/Region', 'Mortality Rate (%)']].reset_index(drop=True)\nhighest_deathrate","accaa59a":"labels = highest_deathrate['Country\/Region']\ndeathrate = highest_deathrate['Mortality Rate (%)']\nax = plt.subplot()\nplt.barh(range(len(labels)), deathrate, color='red', edgecolor='black')\nax.set_yticks(range(len(labels)))\nax.set_yticklabels(labels)\nplt.xlabel('Mortality Rate (%)')\nplt.title('Top 10 Countries (Highest Death Rate (over 1000 cases))')\nplt.show()","52adfb1c":"lowest_deathrate = over_1000_cases.sort_values('Mortality Rate (%)')[:10][['Country\/Region', 'Mortality Rate (%)']].reset_index(drop=True)\nlowest_deathrate","41f91985":"labels = lowest_deathrate['Country\/Region']\ndeathrate = lowest_deathrate['Mortality Rate (%)']\nax = plt.subplot()\nplt.barh(range(len(labels)), deathrate, color='green', edgecolor='black')\nax.set_yticks(range(len(labels)))\nax.set_yticklabels(labels)\nplt.xlabel('Mortality Rate (%)')\nplt.title('Top 10 Countries (Lowest Death Rate (over 1000 cases))')\nplt.show()","72a10493":"confirmed_cases_country = confirmed_global.groupby('Country\/Region').sum().reset_index()","58894f2f":"canada_confirmed_cases = confirmed_cases_country[confirmed_cases_country['Country\/Region'] == 'Canada'].reset_index(drop=True)\nuk_confirmed_cases = confirmed_cases_country[confirmed_cases_country['Country\/Region'] == 'United Kingdom'].reset_index(drop=True)\nus_confirmed_cases = confirmed_cases_country[confirmed_cases_country['Country\/Region'] == 'US'].reset_index(drop=True)","83a2eb1d":"canada_confirmed = canada_confirmed_cases.iloc[0,1:-1].to_frame()\nuk_confirmed = uk_confirmed_cases.iloc[0,1:-1].to_frame()\nus_confirmed = us_confirmed_cases.iloc[0,1:-1].to_frame()","96b327ad":"days = range(0,len(canada_confirmed),10)\nlegend = ['Canada', 'UK', 'US']\n\nax = plt.figure(figsize=(16,6))\nplt.plot(canada_confirmed, linewidth=2)\nplt.plot(uk_confirmed, linewidth=2)\nplt.plot(us_confirmed, linewidth=2)\nplt.legend(legend)\nplt.title('Comparison of Total Confirmed Cases (Canada, UK and US)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('Total Confirmed Cases')\nplt.xticks(days, days)\nplt.show()","192a97a4":"deaths_country = deaths_global.groupby('Country\/Region').sum().reset_index()","44819330":"canada_confirmed_deaths = deaths_country[deaths_country['Country\/Region'] == 'Canada'].reset_index(drop=True)\nuk_confirmed_deaths = deaths_country[deaths_country['Country\/Region'] == 'United Kingdom'].reset_index(drop=True)\nus_confirmed_deaths = deaths_country[deaths_country['Country\/Region'] == 'US'].reset_index(drop=True)","4f4d2e39":"canada_deaths = canada_confirmed_deaths.iloc[0,1:-1].to_frame()\nuk_deaths = uk_confirmed_deaths.iloc[0,1:-1].to_frame()\nus_deaths = us_confirmed_deaths.iloc[0,1:-1].to_frame()","eafac2c0":"days = range(0,len(canada_deaths),10)\nlegend = ['Canada', 'UK', 'US']\n\nax = plt.figure(figsize=(16,6))\nplt.plot(canada_deaths, linewidth=2)\nplt.plot(uk_deaths, linewidth=2)\nplt.plot(us_deaths, linewidth=2)\nplt.legend(legend)\nplt.title('Comparison of Total Deaths (Canada, UK and US)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('Total Deaths')\nplt.xticks(days, days)\nplt.show()","6f92584e":"canada_latest_stats = latest_global_stats[latest_global_stats['Country\/Region'] == 'Canada']\nuk_latest_stats = latest_global_stats[latest_global_stats['Country\/Region'] == 'United Kingdom']\nus_latest_stats = latest_global_stats[latest_global_stats['Country\/Region'] == 'US']\n\ncountries = ['Canada', 'United Kingdom', 'US']\nsummary_stats = latest_global_stats.loc[latest_global_stats['Country\/Region'].isin(countries)].reset_index(drop=True)\nsummary_stats","b7ba112c":"labels = ['Deaths', 'Recoveries', 'Active']\ncolors = ['red', 'green', 'orange']\ncanada = canada_latest_stats[['Total Deaths', 'Total Recovered', 'Active Cases']]\nuk = uk_latest_stats[['Total Deaths', 'Total Recovered', 'Active Cases']]\nus = us_latest_stats[['Total Deaths', 'Total Recovered', 'Active Cases']]\n\nplt.figure(figsize=(16,7))\nax1 = plt.subplot(1, 3, 1)\nax1.pie(canada, explode=(0.2, 0, 0), autopct='%1.1f%%', shadow=True, startangle=90, textprops={'fontsize': 14}, colors=colors)\nax1.axis('equal')\nax1.set_title('Canada COVID-19 Cases', size=16, style='oblique')\nax1.legend(labels, title='Cases')\n\nax2 = plt.subplot(1, 3, 2)\nax2.pie(uk, explode=(0.2, 0, 0), autopct='%1.1f%%', shadow=True, startangle=90, textprops={'fontsize': 14}, colors=colors)\nax2.axis('equal')\nax2.set_title('UK COVID-19 Cases', size=16, style='oblique')\nax2.legend(labels, title='Cases')\n\nax3 = plt.subplot(1, 3, 3)\nax3.pie(us, explode=(0.2, 0, 0), autopct='%1.1f%%', shadow=True, startangle=90, textprops={'fontsize': 14}, colors=colors)\nax3.axis('equal')\nax3.set_title('US COVID-19 Cases', size=16, style='oblique')\nax3.legend(labels, title='Cases')\n\nplt.tight_layout()\nplt.show()","0dba2c68":"new_global_cases = confirmed_global.sum(axis=0).to_frame()\nnew_global_cases= new_global_cases.iloc[2:-1]","5b0e699f":"new_global_cases['New Daily Cases'] = new_global_cases[0].diff(1)\nnew_global_cases = new_global_cases.rename(columns={0: 'Total Confirmed Cases'})","e405f77c":"days = range(0,len(new_global_cases),10)\n\nax = plt.figure(figsize=(16,6))\nplt.plot(new_global_cases['New Daily Cases'], linewidth=2)\nplt.title('New Daily Confirmed Cases (Worldwide)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('New Daily Cases')\nplt.xticks(days, days)\nplt.show()","057ea312":"new_global_deaths = deaths_global.sum(axis=0).to_frame()\nnew_global_deaths = new_global_deaths.iloc[2:-1]","1ab69dcd":"new_global_deaths['New Daily Deaths'] = new_global_deaths[0].diff(1)\nnew_global_deaths = new_global_deaths.rename(columns={0: 'Total Confirmed Deaths'})","2adedea8":"days = range(0,len(new_global_deaths),10)\n\nax = plt.figure(figsize=(16,6))\nplt.plot(new_global_deaths['New Daily Deaths'], linewidth=2)\nplt.title('New Daily Confirmed Deaths (Worldwide)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('New Daily Deaths')\nplt.xticks(days, days)\nplt.show()","89f5b426":"new_canada_cases = canada_confirmed_cases.sum(axis=0).to_frame()\nnew_canada_cases = new_canada_cases.iloc[2:-1]\nnew_canada_cases['New Daily Cases'] = new_canada_cases[0].diff(1)\nnew_canada_cases = new_canada_cases.rename(columns={0: 'Total Confirmed Cases'})","05761558":"days = range(0,len(new_canada_cases),10)\n\nax = plt.figure(figsize=(16,6))\nplt.plot(new_canada_cases['New Daily Cases'], linewidth=2)\nplt.title('New Daily Confirmed Cases (Canada)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('New Daily Cases')\nplt.xticks(days, days)\nplt.show()","781b1190":"new_canada_deaths = canada_confirmed_deaths.sum(axis=0).to_frame()\nnew_canada_deaths = new_canada_deaths.iloc[2:-1]\nnew_canada_deaths['New Daily Deaths'] = new_canada_deaths[0].diff(1)\nnew_canada_deaths = new_canada_deaths.rename(columns={0: 'Total Confirmed Deaths'})","e5b51cd7":"days = range(0,len(new_canada_deaths),10)\n\nax = plt.figure(figsize=(16,6))\nplt.plot(new_canada_deaths['New Daily Deaths'], linewidth=2)\nplt.title('New Daily Confirmed Deaths (Canada)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('New Daily Deaths')\nplt.xticks(days, days)\nplt.show()","da2d0a79":"new_uk_cases = uk_confirmed_cases.sum(axis=0).to_frame()\nnew_uk_cases = new_uk_cases.iloc[2:-1]\nnew_uk_cases['New Daily Cases'] = new_uk_cases[0].diff(1)\nnew_uk_cases = new_uk_cases.rename(columns={0: 'Total Confirmed Cases'})","0bc394d1":"days = range(0,len(new_uk_cases),10)\n\nax = plt.figure(figsize=(16,6))\nplt.plot(new_uk_cases['New Daily Cases'], linewidth=2)\nplt.title('New Daily Confirmed Cases (UK)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('New Daily Cases')\nplt.xticks(days, days)\nplt.show()","6948a43e":"new_uk_deaths = uk_confirmed_deaths.sum(axis=0).to_frame()\nnew_uk_deaths = new_uk_deaths.iloc[2:-1]\nnew_uk_deaths['New Daily Deaths'] = new_uk_deaths[0].diff(1)\nnew_uk_deaths = new_uk_deaths.rename(columns={0: 'Total Confirmed Deaths'})","54d10317":"days = range(0,len(new_uk_deaths),10)\n\nax = plt.figure(figsize=(16,6))\nplt.plot(new_uk_deaths['New Daily Deaths'], linewidth=2)\nplt.title('New Daily Confirmed Deaths (UK)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('New Daily Deaths')\nplt.xticks(days, days)\nplt.show()","652ba22b":"new_us_cases = us_confirmed_cases.sum(axis=0).to_frame()\nnew_us_cases = new_us_cases.iloc[2:-1]\nnew_us_cases['New Daily Cases'] = new_us_cases[0].diff(1)\nnew_us_cases = new_us_cases.rename(columns={0: 'Total Confirmed Cases'})","7a47c1f6":"days = range(0,len(new_us_cases),10)\n\nax = plt.figure(figsize=(16,6))\nplt.plot(new_us_cases['New Daily Cases'], linewidth=2)\nplt.title('New Daily Confirmed Cases (US)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('New Daily Cases')\nplt.xticks(days, days)\nplt.show()","2e8ff836":"new_us_deaths = us_confirmed_deaths.sum(axis=0).to_frame()\nnew_us_deaths = new_us_deaths.iloc[2:-1]\nnew_us_deaths['New Daily Deaths'] = new_us_deaths[0].diff(1)\nnew_us_deaths = new_us_deaths.rename(columns={0: 'Total Confirmed Deaths'})","d2c05a79":"days = range(0,len(new_us_deaths),10)\n\nax = plt.figure(figsize=(16,6))\nplt.plot(new_us_deaths['New Daily Deaths'], linewidth=2)\nplt.title('New Daily Confirmed Deaths (US)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('New Daily Deaths')\nplt.xticks(days, days)\nplt.show()","bc78471a":"days = range(0,len(new_canada_cases),10)\nplt.figure(figsize=(16,6))\nplt.plot(new_canada_cases['New Daily Cases'], linewidth=2)\nplt.plot(new_uk_cases['New Daily Cases'], linewidth=2)\nplt.plot(new_us_cases['New Daily Cases'], linewidth=2)\nplt.title('Comparison of New Daily Cases (Canada, UK and US)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('New Daily Cases')\nplt.legend(['Canada', 'UK', 'US'])\nplt.xticks(days, days)\nplt.show()","4b7d8352":"days = range(0,len(new_canada_deaths),10)\nplt.figure(figsize=(16,6))\nplt.plot(new_canada_deaths['New Daily Deaths'], linewidth=2)\nplt.plot(new_uk_deaths['New Daily Deaths'], linewidth=2)\nplt.plot(new_us_deaths['New Daily Deaths'], linewidth=2)\nplt.title('Comparison of New Daily Deaths (Canada, UK and US)')\nplt.xlabel('Days since first confirmed case')\nplt.ylabel('New Daily Deaths')\nplt.legend(['Canada', 'UK', 'US'])\nplt.xticks(days, days)\nplt.show()","420be9b7":"confirmed_us_states = pd.read_csv('..\/input\/covid19\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_confirmed_US.csv')\nconfirmed_us_states = confirmed_us_states.drop(columns=['UID', 'iso2', 'iso3', 'code3', 'FIPS', 'Admin2', 'Lat', 'Long_'])\nconfirmed_us_states = confirmed_us_states.groupby('Province_State').sum().reset_index()\nconfirmed_us_states['Total Confirmed'] = confirmed_us_states.iloc[:,-1]\nconfirmed_us_states.head()","4744bc3e":"deaths_us_states = pd.read_csv('..\/input\/covid19\/csse_covid_19_data\/csse_covid_19_time_series\/time_series_covid19_deaths_US.csv')\ndeaths_us_states = deaths_us_states.drop(columns=['UID', 'iso2', 'iso3', 'code3', 'FIPS', 'Admin2', 'Lat', 'Long_'])\ndeaths_us_states = deaths_us_states.groupby('Province_State').sum().reset_index()\ndeaths_us_states['Total Deaths'] = deaths_us_states.iloc[:,-1]\ndeaths_us_states.head()","d02017a3":"latest_us_states_confirmed = confirmed_us_states[['Province_State', 'Total Confirmed']]\nlatest_us_states_deaths = deaths_us_states[['Province_State', 'Population', 'Total Deaths']]","ec5d2d54":"latest_us_states = latest_us_states_confirmed.merge(latest_us_states_deaths, how='left')\nlatest_us_states = latest_us_states[['Province_State', 'Population', 'Total Confirmed', 'Total Deaths']]\nlatest_us_states['Mortality Rate (%)'] = (latest_us_states['Total Deaths'] \/ latest_us_states['Total Confirmed'] * 100).round(2).fillna(0)\nlatest_us_states['Cases per 100,000'] = (latest_us_states['Total Confirmed'] \/ latest_us_states['Population'] * 100000).round(0)\nlatest_us_states['Deaths per 100,000'] = (latest_us_states['Total Deaths'] \/ latest_us_states['Population'] * 100000).round(0)","d143d292":"latest_us_states = latest_us_states.drop(latest_us_states[(latest_us_states.Province_State == 'American Samoa')\n                                                         | (latest_us_states.Province_State == 'Diamond Princess')\n                                                         | (latest_us_states.Province_State == 'Grand Princess')\n                                                         | (latest_us_states.Province_State == 'Guam')\n                                                         | (latest_us_states.Province_State == 'Northern Mariana Islands')\n                                                         | (latest_us_states.Province_State == 'Puerto Rico')\n                                                         | (latest_us_states.Province_State == 'Virgin Islands')].index).reset_index(drop=True)\nlatest_us_states.to_csv('latest_us_states.csv')\nlatest_us_states.head()","ad3f8fc5":"us_states_confirmed_sorted = latest_us_states.sort_values('Total Confirmed')\nconfirmed_sorted = us_states_confirmed_sorted['Total Confirmed']\nstates = us_states_confirmed_sorted['Province_State']\n\nplt.figure(figsize=(12,10))\nax = plt.subplot()\nplt.barh(states, confirmed_sorted, color='red', edgecolor='black')\nax.set_yticks(range(len(states)))\nax.set_yticklabels(states)\nplt.title('Confirmed Cases in US States', size=16, style='oblique')\nplt.xlabel('Confirmed Cases', size=12)\nplt.ylabel('US State', size=12)\nplt.show()","d328dedc":"us_states_deaths_sorted = latest_us_states.sort_values('Total Deaths')\ndeaths_sorted = us_states_deaths_sorted['Total Deaths']\nstates = us_states_confirmed_sorted['Province_State']\n\nplt.figure(figsize=(12,10))\nax = plt.subplot()\nplt.barh(states, deaths_sorted, color='red', edgecolor='black')\nax.set_yticks(range(len(states)))\nax.set_yticklabels(states)\nplt.title('Confirmed Deaths in US States', size=16, style='oblique')\nplt.xlabel('Confirmed Deaths', size=12)\nplt.ylabel('US State', size=12)\nplt.show()","5edf745a":"us_states_mortality_sorted = latest_us_states.sort_values('Mortality Rate (%)')\nmortality_sorted = us_states_mortality_sorted['Mortality Rate (%)']\nstates = us_states_mortality_sorted['Province_State']\n\nplt.figure(figsize=(12,10))\nax = plt.subplot()\nplt.barh(states, mortality_sorted, color='red', edgecolor='black')\nax.set_yticks(range(len(states)))\nax.set_yticklabels(states)\nplt.title('Mortality Rate (%) in US States', size=16, style='oblique')\nplt.xlabel('Mortality Rate (%)', size=12)\nplt.ylabel('US State', size=12)\nplt.show()","7e692b86":"us_states_cases_population_sorted = latest_us_states.sort_values('Cases per 100,000')\ncases_population_sorted = us_states_cases_population_sorted['Cases per 100,000']\nstates = us_states_cases_population_sorted['Province_State']\n\nplt.figure(figsize=(12,10))\nax = plt.subplot()\nplt.barh(states, cases_population_sorted, color='red', edgecolor='black')\nax.set_yticks(range(len(states)))\nax.set_yticklabels(states)\nplt.title('Cases per 100,000 Population in US States', size=16, style='oblique')\nplt.xlabel('Cases per 100,000 Population', size=12)\nplt.ylabel('US State', size=12)\nplt.show()","d7260c39":"us_states_deaths_population_sorted = latest_us_states.sort_values('Deaths per 100,000')\ndeaths_population_sorted = us_states_deaths_population_sorted['Deaths per 100,000']\nstates = us_states_deaths_population_sorted['Province_State']\n\nplt.figure(figsize=(12,10))\nax = plt.subplot()\nplt.barh(states, deaths_population_sorted, color='red', edgecolor='black')\nax.set_yticks(range(len(states)))\nax.set_yticklabels(states)\nplt.title('Deaths per 100,000 Population in US States', size=16, style='oblique')\nplt.xlabel('Deaths per 100,000 Population', size=12)\nplt.ylabel('US State', size=12)\nplt.show()","61abd771":"new_confirmed_global = confirmed_global.set_index('Country\/Region')","ff063730":"countries = list(new_confirmed_global.index)\navg_infection_rates = []\nfor country in countries:\n    avg_infection_rates.append(new_confirmed_global.loc[country].diff().mean())\nnew_confirmed_global['avg_infection_rate'] = avg_infection_rates","5d6eba47":"country_avg_infection_rates = pd.DataFrame(new_confirmed_global['avg_infection_rate'])\ncountry_avg_infection_rates.head()","b0625329":"world_happiness_report = pd.read_csv('..\/input\/world-happiness-report\/world_happiness_report.csv')","11e9549b":"columns_to_drop = ['Score', 'Generosity', 'Perceptions of corruption']\nworld_happiness_report.drop(columns=columns_to_drop, inplace=True)","543c5981":"world_happiness_report.set_index(['Country'], inplace=True)\nworld_happiness_report.head()","66c40ce6":"happiness_data = world_happiness_report.join(country_avg_infection_rates).copy()\nhappiness_data.head()","7059a78d":"happiness_data.corr()","fd44e2b3":"plt.figure(figsize=(12,10))\n\nax1 = plt.subplot(2, 2, 1)\nx1 = happiness_data['GDP per capita']\ny1 = happiness_data['avg_infection_rate']\nsns.regplot(x1, np.log(y1))\n\nax2 = plt.subplot(2, 2, 2)\nx2 = happiness_data['Social support']\ny2 = happiness_data['avg_infection_rate']\nsns.regplot(x2, np.log(y2))\n\nax3 = plt.subplot(2, 2, 3)\nx3 = happiness_data['Healthy life expectancy']\ny3 = happiness_data['avg_infection_rate']\nsns.regplot(x3, np.log(y3))\n\nax4 = plt.subplot(2, 2, 4)\nx4 = happiness_data['Freedom to make life coaches']\ny4 = happiness_data['avg_infection_rate']\nsns.regplot(x4, np.log(y4))","5acffaf1":"new_deaths_global = deaths_global.set_index('Country\/Region')","e5624d26":"countries = list(new_deaths_global.index)\navg_death_rates = []\nfor country in countries:\n    avg_death_rates.append(new_deaths_global.loc[country].diff().mean())\nnew_deaths_global['avg_death_rate'] = avg_death_rates","01663608":"country_avg_death_rates = pd.DataFrame(new_deaths_global['avg_death_rate'])\ncountry_avg_death_rates.sort_values(['avg_death_rate'], ascending=True).head()","2d995064":"happiness_data2 = world_happiness_report.join(country_avg_death_rates).copy()\nhappiness_data2.head()","cb09b6ea":"happiness_data2.corr()","83f161e7":"plt.figure(figsize=(12,10))\n\nax1 = plt.subplot(2, 2, 1)\nx1 = happiness_data2['GDP per capita']\ny1 = happiness_data2['avg_death_rate']\nresult1 = np.where(y1 > 0.0000000001, y1, -10)\nsns.regplot(x1, np.log(result1, out=result1, where=result1 > 0))\n\nax2 = plt.subplot(2, 2, 2)\nx2 = happiness_data2['Social support']\ny2 = happiness_data2['avg_death_rate']\nresult2 = np.where(y2 > 0.0000000001, y2, -10)\nsns.regplot(x2, np.log(result2, out=result2, where=result2 > 0))\n\nax3 = plt.subplot(2, 2, 3)\nx3 = happiness_data2['Healthy life expectancy']\ny3 = happiness_data2['avg_death_rate']\nresult3 = np.where(y3 > 0.0000000001, y3, -10)\nsns.regplot(x3, np.log(result3, out=result3, where=result3 > 0))\n\nax4 = plt.subplot(2, 2, 4)\nx4 = happiness_data2['Freedom to make life coaches']\ny4 = happiness_data2['avg_death_rate']\nresult4 = np.where(y4 > 0.0000000001, y4, -10)\nsns.regplot(x4, np.log(result4, out=result4, where=result4 > 0))","106f8c0c":"As seen from the two graphs above, the number of new US daily cases is steadily decreasing again, after it had a large second spike and was struggling to control the virus. The number of new daily deaths was also decreasing however is beginning to show a slight upward trend again.","3345e9c2":"## 1.3 Preparing the data - Confirmed Global Recoveries","1629dff8":"A closer look into the number of new daily confirmed cases and deaths within the UK, where I was born.","3e400608":"![image.png](attachment:image.png)","d35a9e6c":"# 3. Worldwide Evolution of COVID-19","b92ecb17":"## 13.4 Correlation Matrix","630ee502":"## 1.1 Preparing the data - Confirmed Global Cases","dd5283cc":"## 9.2 UK - New Daily Deaths","811bee1d":"Unfortunately, the year 2020 will be forever remembered as the year the Coronavirus caused chaos in the world, resulting in a million deaths (likely many more unreported), causing thousands of businesses to collapse, and just generally changing the way that most of us live our daily life.\n\nThe aim of this notebook is to perform exploratory data analysis relating to the spread of the virus since it was first recorded in 2019. A number of datasets have been used from John Hopkins University for this analysis:\n\n* Daily time-series summary of global confirmed cases\n* Daily time-series summary of global confirmed deaths\n* Daily time-series summary of global confirmed recoveries\n* Daily time-series summary of US confirmed cases\n* Daily time-series summary of US confirmed deaths\n\nAn additional dataset from the World Happiness Report 2020 has also been used. This includes a number of living factors for each country, including GDP per capita, social support, healthy life expectancy, and freedom to make life choices. The dataset for this was taken from the link below (under Downloads -> Data for Figure 2.1), cleaned up and then added to this notebook.\n\nhttps:\/\/worldhappiness.report\/ed\/2020\/\n\nIt should be noted that due to various factors (e.g. inaccuracies in reporting, differing levels of reporting standards between countries, etc.), it is very difficult to draw conclusive insights from trends in the data. Consequently, this analysis is more about presenting findings from the available recorded data, rather than uncovering insights.","592ecc37":"## 5.2 Total Confirmed Deaths","d74b6eef":"## 4.2 Deaths","82a2552d":"This section will investigate whether the average daily death rate for each country is influenced by a number of living factors for each country, including GDP per capita, social support, healthy life expectancy, and freedom to make life choices.\nThe average daily death rate is calculated as the average of every daily increase in the number of confirmed deaths for each country.","91df7762":"# 13. Analysis of whether average infection rate is influenced by country living factors","8de25e07":"# 8. Canada - New Daily Cases & Deaths","cc949ee6":"## 12.8 Deaths per 100,000 population by State","f91fd6d8":"## 3.2 Worldwide Evolution of Confirmed Deaths","f0da796e":"## 8.1 Canada - New Daily Cases","6ad6d822":"A closer look into the number of new daily confirmed cases and deaths within the US. I've never lived here, however it's the country most talked about regarding the coronavirus, so I couldn't leave it out!","6d9decc8":"## 14.1 Preparing the data - getting the average death rate for each country","a1dbadc2":"## 14.2 Preparing the data - joining the tables","22a592c2":"# 2. Worldwide Summary Statistics","bf0451dd":"## 12.3 Preparing the data - Joining the tables to get latest statistics ","f2274593":"## 12.6 Mortality Rate (%) by State","422ec9d4":"Read in the dataset pertaining to the number of global confirmed recoveries. Dropped columns which aren't required, and then checked for missing values. Inserted an additional column with the latest number of confirmed recoveries, and then grouped by country.","4410be2b":"## 13.1 Preparing the data - getting the average infection rate for each country","e0d2cbc1":"# 6. Comparison of Summary Statistics (Canada, UK and US)","b186088f":"## 3.1 Worldwide Evolution of Confirmed Cases","e36be9e3":"![image.png](attachment:image.png)","5cbf0710":"![image.png](attachment:image.png)","e6f666f8":"# 10. US - New Daily Cases & Deaths","27ed8892":"## 11.1 Comparison of New Daily Cases","f5867576":"This section will look into how the number of total cases, deaths, and recoveries have evolved over time. It should be noted that the data from these datasets begins on 23\/01\/20, however the first case was actually recorded in December 2019.\n\nThe World Health Organization declared the outbreak a global pandemic on 11\/03\/20, which is around day 50 on the charts below. We can see how severe the spread has been since this date.","f9dbfef3":"A look into how the total number of confirmed cases and deaths have evolved in Canada, the UK and the US.","a0b784c4":"## 12.7 Cases per 100,000 population by State","404e5aeb":"## 7.1 Worldwide - New Daily Cases","8709de38":"![image.png](attachment:image.png)","8c907df6":"This section will investigate whether the daily average infection rate for each country is influenced by a number of living factors for each country, including GDP per capita, social support, healthy life expectancy, and freedom to make life choices. The data for these factors has been taken from the World Happiness Report 2020.\nThe average daily infection rate is calculated as the average of every daily increase in the number of confirmed cases for each country.","04afbd75":"A closer look into the number of new daily confirmed cases and deaths within Canada, where I currently reside.","bd476c65":"# 7. Worldwide - New Daily Cases & Deaths","c589c260":"## 1.4 Preparing the data - Joining tables together to get latest update statistics","434a0130":"## 4.1 Confirmed Cases","9baecb85":"# 12. US States Data","b2f70f67":"![image.png](attachment:image.png)","987a406d":"# 4. Statistics by Country","3949cf58":"## 4.3 Mortality Rate (%)","dd9fa9f8":"## 13.5 Visualization of the results","b8e8331f":"Read in the dataset pertaining to the number of global confirmed cases. Dropped columns which aren't required, and then checked for missing values. Inserted an additional column with the latest number of confirmed cases, and then grouped by country.","f41f8627":"The table below presents the number of total confirmed cases, deaths, recoveries and active cases globally, as of the date specified at the beginning of this notebook. The pie chart breaks the number of confirmed cases down into whether they have resulted in death, recovery, or are still active. It should be noted that the number of active cases has been assumed as the remainder of cases which have not resulted in death or recovery.","84d16a58":"## 14.3 Correlation Matrix","6f4f7a82":"This section will take a closer look at the statistics by country.\n\nIt is noted that recoveries are generally not tracked\/monitored as accurately, for example in the UK recoveries are hardly monitored. Examples like this create huge outliers in the data, therefore in the following sections of the analysis, recoveries will not be focused on.","ffa6d013":"A comparison of the 3 sections above.","00002909":"![image.png](attachment:image.png)","b97aaccc":"## 7.2 Worldwide - New Daily Deaths","bbdde56c":"## 13.2 Preparing the data - World Happiness Report","613a2aa2":"## 3.3 Worldwide Evolution of Confirmed Recoveries","9fafb165":"![image.png](attachment:image.png)","4ed786ec":"As we can seen from the scatterplots above, all 4 factors have a positive correlation with the average daily infection rate. This is perhaps surprising, however is likely due to a higher rate of testing in more developed countries compared with developing countries.","c690f4cf":"## Importing modules used for analysis","d1fe65dd":"Joined the 3 tables together on 'Country\/Region' column, so that the total confirmed cases, deaths, and recoveries are presented for each country. Inserted additional columns for the number of active cases and the mortality rate.","ac9838cd":"![image.png](attachment:image.png)","7883d0b3":"## 10.2 US - New Daily Deaths","6e42e5ee":"## 8.2 Canada - New Daily Deaths","6f0edef6":"## 5.1 Total Confirmed Cases","bb15eba9":"The two graphs above show that the rate of spread of the virus has slowed significantly in Canada, in terms of it's peak. However, the country does continue to see around 500 new cases per day, which has remained the same for the last couple of months. This could be due to restrictions being eased. The umber of new daily deaths registered continues to remain very low (~5-10).","4e2f9a12":"Read in the dataset pertaining to the number of global confirmed deaths. Dropped columns which aren't required, and then checked for missing values. Inserted an additional column with the latest number of confirmed deaths, and then grouped by country.","7955719d":"## 14.4 Visualization of the results","4b44767e":"## 12.1 Preparing the data - US States Confirmed Cases ","0efae692":"## 12.4 Total Confirmed Cases by State","afb8d740":"As with Canada, the UK has significantly slowed the rate of spread of the virus when compared with its peak, however recently there has been an upward trend of new daily cases, which is concerning. Again, this is likely due to restrictions being eased. While the number of new daily cases is increasing, thankfully the number of new daily deaths registered continues to be very low.","9e4894e0":"## 9.1 UK - New Daily Cases","aa2ef6f5":"This section will look into the number of new daily confirmed cases and deaths worldwide.","d8a9ee42":"As can be seen from the two graphs above, both the number of confirmed cases and deaths show no sign of slowing down, and the threat of virus remains very real.","8fbc5616":"# 11. Comparison of Canada, UK and US (New Daily Cases & Detahs)","02b64715":"## 10.1 US - New Daily Cases","a0b0eaa1":"# 9. UK - New Daily Cases & Deaths","a6746180":"## 11.2 Comparison of New Daily Deaths","5f24cebf":"# **COVID-19 Analysis & Visualization**\n\n![image.png](attachment:image.png)\n\nLatest update: 31\/08\/2020","7d745f35":"## 12.2 Preparing the data - US States Confirmed Deaths ","d3af5905":"A closer look into the data for US states.","2c4ce4a5":"# 14. Analysis of whether average death rate is influenced by country living factors","aa35f4de":"Creating a matrix with correlations between the living factors and the average infection rate.","4632f1d5":"The above pie charts are an example of how reporting differs between countries. The UK does not monitor recoveries, therefore the 87.2% active cases is not an accurate representation. The US does monitor recoveries, however the large portion of active cases is reflective as the virus still continues to spread at a high pace there.","8ce744c5":"## 1.2 Preparing the data - Confirmed Global Deaths","da32a3ed":"## 12.5 Total Confirmed Deaths by State","6d0b18d1":"Missing values in the Province\/State column are not problematic, therefore these have been left blank. Although the column is not going to be used, it has been retained for now.","620e74ae":"# 5. Comparison of Evolution (Canada, UK and US)","9b057757":"## 13.3 Preparing the data - joining the tables"}}