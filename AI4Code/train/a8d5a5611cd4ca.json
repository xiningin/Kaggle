{"cell_type":{"d886fb4b":"code","f79cf713":"code","1080503c":"code","bed45689":"code","d50500a6":"code","57d33105":"code","f2ae2d29":"code","13e6a2e2":"code","9f51b7e8":"code","03879483":"code","5832b37b":"code","8bb072ca":"code","b9f3e53c":"code","012d17a7":"code","59cf67bf":"code","7421d691":"code","d4c66d71":"code","e654d919":"code","e298b046":"markdown","c0756742":"markdown","092790b3":"markdown","acc018fe":"markdown","75c40e72":"markdown","7b60bdec":"markdown"},"source":{"d886fb4b":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns","f79cf713":"df=pd.read_csv('..\/input\/montreal-crime-data\/Montreal Crime Data.csv')","1080503c":"df.head()","bed45689":"df_clean=df.sort_values(by='date').reset_index()\ndf_clean=df_clean[['date','category','city','neighbourhood']]","d50500a6":"df_clean['date']=pd.to_datetime(df_clean['date'])\ndf_clean['Year']=df_clean['date'].dt.year\ndf_clean['Month']=df_clean['date'].dt.month","57d33105":"df_clean['Day']=df_clean['date'].dt.day_name()","f2ae2d29":"df_clean=df_clean[df_clean['Year']!=2021]","13e6a2e2":"df_clean.head()","9f51b7e8":"df_clean.Year.unique()","03879483":"import math\n\n# Rounding the integer to the next hundredth value plus an offset of 100\ndef roundup(x):\n    return 100 + int(math.ceil(x \/ 100.0)) * 100 \nsns.set_style('dark')\nfig, ax = plt.subplots();\nfig.set_size_inches(18, 5);\ndf_clean['category'].value_counts().plot(kind='bar',ax=ax);\nax = plt.gca()\n# Iterate through the list of axes' patches\nfor p in ax.patches:\n    ax.text(p.get_x() + p.get_width()\/2., p.get_height(), '%d' % int(p.get_height()), \n            fontsize=12, color='black', ha='center', va='bottom')\nplt.title('Total number of different crimes',fontsize=18);\nplt.xticks(rotation=0,fontsize=12);\nplt.yticks([0,10000,20000,30000,40000],['0','10k','20k','30k','40k'],fontsize=12);\nplt.show()","5832b37b":"fig, ax = plt.subplots();\nfig.set_size_inches(12, 4);\ndf_clean.groupby(by='Year').agg({'category':'count'}).plot(kind='bar',ax=ax)\nax = plt.gca()\nax.set_ylim([0, 28000])\n# Iterate through the list of axes' patches\nfor p in ax.patches:\n    ax.text(p.get_x() + p.get_width()\/2., p.get_height(), '%d' % int(p.get_height()), \n            fontsize=12, color='black', ha='center', va='bottom')\nplt.title('Number of Crimes per Year',fontsize=15);\nplt.xticks(rotation=0,fontsize=12);\nplt.yticks([0,5000,10000,15000,20000,25000],['0','5k','10k','15k','20k','25k'],fontsize=12);\nplt.show()","8bb072ca":"fig, ax = plt.subplots();\nfig.set_size_inches(12, 4);\ndf_clean.groupby(by='Year').agg({'category':'count'}).plot(kind='line',ax=ax,marker='o')\nax.set_ylim([0, 28000])\nplt.title('Number of Crimes per Year',fontsize=15);\nplt.xticks(rotation=0,fontsize=12);\nplt.yticks([0,5000,10000,15000,20000,25000],['0','5k','10k','15k','20k','25k'],fontsize=12);\nplt.show()","b9f3e53c":"for _ in df_clean.Year.unique():\n    df_new=df_clean[df_clean['Year']==_]\n    fig, ax = plt.subplots()\n    fig.set_size_inches(18, 3)\n    df_new.groupby(by='Month').agg({'category':'count'}).plot(kind='line',marker='o',ax=ax)\n    plt.title('Number of Crimes per Month in {}'.format(_),fontsize=16)\n    plt.ylim([0,2500])\n    plt.xticks([1,2,3,4,5,6,7,8,9,10,11,12],['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],fontsize=12)","012d17a7":"fig, ax = plt.subplots();\nfig.set_size_inches(18, 4);\ncolor=sns.color_palette()[0]\nsns.countplot(data=df_clean,x='Month',color=color,ax=ax)\nax = plt.gca()\nax.set_ylim([0, 13000])\n# Iterate through the list of axes' patches\nfor p in ax.patches:\n    ax.text(p.get_x() + p.get_width()\/2., p.get_height(), '%d' % int(p.get_height()), \n            fontsize=12, color='black', ha='center', va='bottom')\nplt.title('Number of Crimes per month',fontsize=15);\nplt.xticks(rotation=0,fontsize=12);\nplt.yticks([0,2000,4000,6000,8000,10000,12000],['0','2k','4k','6k','8k','10k','12k'],fontsize=12);\n\nplt.show()","59cf67bf":"fig, ax = plt.subplots();\nfig.set_size_inches(18, 4);\ncolor=sns.color_palette()[0]\nsns.countplot(data=df_clean,x='Day',color=color,ax=ax)\nax = plt.gca()\nax.set_ylim([0, 22000])\n# Iterate through the list of axes' patches\nfor p in ax.patches:\n    ax.text(p.get_x() + p.get_width()\/2., p.get_height(), '%d' % int(p.get_height()), \n            fontsize=12, color='black', ha='center', va='bottom')\nplt.title('Number of Crimes per Year',fontsize=15);\nplt.xticks(rotation=0,fontsize=12);\n\nplt.show()","7421d691":"df_clean.head(2)","d4c66d71":"df_clean['city'].value_counts()[:10]","e654d919":"df_clean['neighbourhood'].value_counts()[:10]","e298b046":"- Number of crimes is decreasing from 2015 to 2020","c0756742":"# Montreal Crime Data Analysis\n----","092790b3":"## Questions \n- 1- What are the most frequent crimes in Montreal ?\n- 2- How many crimes are committed on an annual base in Montreal ?\n- 3- Is there any changes in number of crimes from one month to another ?\n- 4- Does the number of crimes differ from one day to another ?\n- 5- What are the cities with the highest number of crimes ?\n- 6- What are the neighbourhood with the highest number of crimes ?","acc018fe":"## Data Discussion\n- Category column has the crimes that were committed.\n- Date column has a range from 2015 to 2021, since 2021 is not finished yet i will remove it from the data.\n- City column has the cities names at which the crimes where committed.\n- Month column is a derived column from date column to provide more value to the data.\n- Year column is a derived column from date column.","75c40e72":"- October has the highest number of crimes.\n- February has the lowest number of crimes.","7b60bdec":"- Monday has the highest number of crimes\n- Saturday has the lowest number of crimes"}}