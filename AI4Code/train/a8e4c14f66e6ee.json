{"cell_type":{"0d54bd15":"code","0928ab93":"code","dd989eeb":"code","945b96fe":"code","8cfc7190":"code","406b3eec":"code","dac7a406":"code","ddf51931":"code","95eb30a3":"code","60aaa163":"code","ee0de329":"code","c1dc8868":"code","c3bf4f4d":"code","f019a41c":"code","d4adaac2":"code","19e33f91":"code","191179c2":"code","1f3b97aa":"code","c120d3e2":"code","1ed9d7d0":"code","9850e9e4":"code","dbeace22":"code","90f80f37":"code","a063c386":"code","c8fd69ec":"code","93236ccb":"code","103daa8e":"code","7a5b2f4a":"code","36d6f86d":"code","a5212dc9":"code","00340c21":"code","117f5785":"code","2e30c273":"code","28daf003":"code","365f6956":"code","dc47b43e":"code","03c8f0a1":"code","525098aa":"code","41726e53":"code","f2be6a86":"code","288ab68c":"code","5b95068f":"code","65f97996":"code","f049af98":"code","7a396c96":"markdown","465ffcdf":"markdown","6425b7b0":"markdown","fdea8ce8":"markdown","e131a9f7":"markdown","83183e30":"markdown","37387f8a":"markdown","314cb31d":"markdown","2cdea460":"markdown","8d88ad7f":"markdown","018ad3d0":"markdown","801446b7":"markdown","3a518dba":"markdown","3f337732":"markdown","6b23290b":"markdown","1bbafca7":"markdown","a1ffa286":"markdown","0169f2b2":"markdown","d87c2815":"markdown","56b08110":"markdown","b894442f":"markdown","3a33974a":"markdown","b6400220":"markdown","fcf7663c":"markdown","5395d4bd":"markdown","f693721b":"markdown","22539daf":"markdown","85979e29":"markdown","ab982681":"markdown","2098d3b9":"markdown"},"source":{"0d54bd15":"#importing Libraries\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport cufflinks as cf\nfrom scipy import stats\nimport plotly.express as px\nimport matplotlib.pyplot as plt\n\nfrom plotly.offline import download_plotlyjs,init_notebook_mode,plot,iplot\ninit_notebook_mode(connected=True)\ncf.go_offline()","0928ab93":"df = pd.read_csv(\"..\/input\/pima-indians-diabetes-database\/diabetes.csv\")\ndf.head(n=5)","dd989eeb":"df.shape","945b96fe":"df.describe()","8cfc7190":"df.info()","406b3eec":"df.isnull().sum()","dac7a406":"col = ['Glucose','BloodPressure','SkinThickness','Insulin','BMI']\n\nfor i in col:\n    df[i].replace(0,df[i].mean(),inplace=True)","ddf51931":"duplicate = df[df.duplicated()]\nduplicate","95eb30a3":"px.histogram(df,x='Outcome',color='Outcome',barmode='group')","60aaa163":"px.histogram(df,x='Pregnancies',color='Outcome',barmode='group')","ee0de329":"px.histogram(df,x='Glucose',color='Outcome')","c1dc8868":"px.histogram(df,x='BloodPressure',color='Outcome')","c3bf4f4d":"px.histogram(df,x='SkinThickness',color='Outcome')","f019a41c":"px.histogram(df,x='Insulin',color='Outcome')","d4adaac2":"px.histogram(df,x='BMI',color='Outcome')","19e33f91":"px.histogram(df,x='DiabetesPedigreeFunction',color='Outcome')","191179c2":"px.histogram(df,x='Age',color='Outcome')","1f3b97aa":"px.scatter(df,x='Age',y='BMI',color='Outcome',size='Pregnancies',hover_data=['BloodPressure','Insulin'])","c120d3e2":"px.box(df,points='all')","1ed9d7d0":"px.violin(df,x='Insulin',box=True,points='all',color='Outcome')","9850e9e4":"zscore = np.abs(stats.zscore(df))\nprint(zscore)","dbeace22":"threshold = 4\nprint(np.where(zscore > 4))","90f80f37":"df1=df\ndf1 = df1[(zscore<4).all(axis=1)]","a063c386":"df.shape,df1.shape","c8fd69ec":"px.imshow(df1.corr())","93236ccb":"data = df1.drop(['Outcome'],axis=True)\ndata_target = df1['Outcome']","103daa8e":"from sklearn.model_selection import train_test_split\nx_train,x_test,y_train,y_test = train_test_split(data,data_target,test_size=0.3,random_state=42)","7a5b2f4a":"from sklearn.preprocessing import MinMaxScaler\nscaler=MinMaxScaler()\nx_train=scaler.fit_transform(x_train)\nx_test=scaler.transform(x_test)","36d6f86d":"from sklearn.linear_model import LogisticRegression\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn.svm import SVC\nfrom sklearn.naive_bayes import GaussianNB\nfrom sklearn.ensemble import BaggingClassifier\nfrom sklearn.ensemble import GradientBoostingClassifier\nfrom xgboost import XGBClassifier\nfrom sklearn.metrics import accuracy_score,confusion_matrix","a5212dc9":"log_reg = LogisticRegression()\nlog_reg.fit(x_train,y_train)\n\nlog_acc=accuracy_score(y_test,log_reg.predict(x_test))\n\nprint(\"Train Set Accuracy:\"+str(accuracy_score(y_train,log_reg.predict(x_train))*100))\nprint(\"Test Set Accuracy:\"+str(accuracy_score(y_test,log_reg.predict(x_test))*100))","00340c21":"d_tree = DecisionTreeClassifier()\nd_tree.fit(x_train,y_train)\n\nd_acc=accuracy_score(y_test,d_tree.predict(x_test))\n\nprint(\"Train Set Accuracy:\"+str(accuracy_score(y_train,d_tree.predict(x_train))*100))\nprint(\"Test Set Accuracy:\"+str(accuracy_score(y_test,d_tree.predict(x_test))*100))","117f5785":"r_for = RandomForestClassifier()\nr_for.fit(x_train,y_train)\n\nr_acc=accuracy_score(y_test,r_for.predict(x_test))\n\nprint(\"Train Set Accuracy:\"+str(accuracy_score(y_train,r_for.predict(x_train))*100))\nprint(\"Test Set Accuracy:\"+str(accuracy_score(y_test,r_for.predict(x_test))*100))","2e30c273":"k_nei = KNeighborsClassifier()\nk_nei.fit(x_train,y_train)\n\nk_acc = accuracy_score(y_test,k_nei.predict(x_test))\n\nprint(\"Train set Accuracy:\"+str(accuracy_score(y_train,k_nei.predict(x_train))*100))\nprint(\"Test Set Accuracy:\"+str(accuracy_score(y_test,k_nei.predict(x_test))*100))","28daf003":"s_vec = SVC()\ns_vec.fit(x_train,y_train)\n\ns_acc = accuracy_score(y_test,s_vec.predict(x_test))\n\nprint(\"Train set Accuracy:\"+str(accuracy_score(y_train,s_vec.predict(x_train))*100))\nprint(\"Test Set Accuracy:\"+str(accuracy_score(y_test,s_vec.predict(x_test))*100))","365f6956":"g_clf = GaussianNB()\ng_clf.fit(x_train,y_train)\n\ng_acc = accuracy_score(y_test,g_clf.predict(x_test))\n\nprint(\"Train set Accuracy:\"+str(accuracy_score(y_train,g_clf.predict(x_train))*100))\nprint(\"Test Set Accuracy:\"+str(accuracy_score(y_test,g_clf.predict(x_test))*100))","dc47b43e":"from sklearn.ensemble import VotingClassifier\nmodel1 = LogisticRegression(random_state=1)\nmodel2 = RandomForestClassifier(random_state=1)\nmodel3 = SVC(random_state=1)\nmodel4 = KNeighborsClassifier()\nmodel = VotingClassifier(estimators=[('lr', model1), ('rf', model2),('sc',model3)], voting='hard')\nmodel.fit(x_train,y_train)\nmodel.score(x_test,y_test)","03c8f0a1":"score = model.score(x_test,y_test)\ntrain_scored = model.score(x_train,y_train)\nprint(\"DecisionTreeClassifier Test Score:\",train_scored*100)\nprint(\"DecisionTreeClassifier Test Score:\",score*100)\nm_acc = accuracy_score(y_test,model.predict(x_test))","525098aa":"B_clf = BaggingClassifier(base_estimator = SVC(),n_estimators=10, random_state=6)\nB_clf.fit(x_train,y_train)\n\nB_acc = accuracy_score(y_test,B_clf.predict(x_test))\n\nprint(\"Train set Accuracy:\"+str(accuracy_score(y_train,B_clf.predict(x_train))*100))\nprint(\"Test Set Accuracy:\"+str(accuracy_score(y_test,B_clf.predict(x_test))*100))","41726e53":"GB_clf = GradientBoostingClassifier(n_estimators=100,random_state=6)\nGB_clf.fit(x_train,y_train)\n\nGB_acc = accuracy_score(y_test,GB_clf.predict(x_test))\n\nprint(\"Train set Accuracy:\"+str(accuracy_score(y_train,GB_clf.predict(x_train))*100))\nprint(\"Test Set Accuracy:\"+str(accuracy_score(y_test,GB_clf.predict(x_test))*100))","f2be6a86":"x_clf = XGBClassifier()\nx_clf.fit(x_train,y_train)\n\nx_acc = accuracy_score(y_test,x_clf.predict(x_test))\n\nprint(\"Train set Accuracy:\"+str(accuracy_score(y_train,x_clf.predict(x_train))*100))\nprint(\"Test Set Accuracy:\"+str(accuracy_score(y_test,x_clf.predict(x_test))*100))","288ab68c":"models = pd.DataFrame({\n    'Model': ['Logistic','KNN', 'SVC',  'Decision Tree Classifier',\n             'Random Forest Classifier',  'Gaussian','Voting Classifier','Bagging','Boosting','xgboost'],\n    'Score': [ log_acc,k_acc, s_acc, d_acc, r_acc, g_acc,m_acc,B_acc,GB_acc,x_acc]\n})\n\nmodels.sort_values(by = 'Score', ascending = False)","5b95068f":"px.bar(models,x='Model',y='Score',color='Model')","65f97996":"y_predict=s_vec.predict(x_test)\nconf_mat = confusion_matrix(y_predict,y_test)","f049af98":"from mlxtend.plotting import plot_confusion_matrix\n \nfig, ax = plot_confusion_matrix(conf_mat=conf_mat, figsize=(6, 6), cmap=plt.cm.Greens)","7a396c96":"* If you have diabetes, you are twice as likely to have high blood pressure. Untreated, high blood pressure can raise your   risk for heart disease.","465ffcdf":"* BMI and Diabatespedigreefunction features values are float type and remaining are int type ","6425b7b0":"**VotingClassifier**","fdea8ce8":"* A normal measurement of free insulin is less than 17 mcU\/mL","e131a9f7":"# <center> <div class=\"alert alert-block alert-info\">  <span style=\"color:crimson;\"> Diabetes Prediction  <\/center>","83183e30":"# <center> <div class=\"alert alert-block alert-info\">  <span style=\"color:crimson;\"> Models <\/center>","37387f8a":"**Statistical Insights**","314cb31d":"# Data Visualization","2cdea460":"**LogisticRegression**","8d88ad7f":"**DecisionTree**","018ad3d0":"**Outliers removal**","801446b7":"* After 35 have more yellow bubbles","3a518dba":"* 500 patients with good condition\n* 268 patients with bad condition","3f337732":"* No duplicate values","6b23290b":"* Insulin have more outliers","1bbafca7":"# Data cleaning\n\n**Checking and Removing null values**","a1ffa286":"**<center> Any good suggestions are accepted <\/center>**","0169f2b2":"* A blood sugar level less than 140 mg\/dL (7.8 mmol\/L) is normal. A reading of more than 200 mg\/dL (11.1 mmol\/L) after two   hours indicates diabetes. A reading between 140 and 199 mg\/dL (7.8 mmol\/L and 11.0 mmol\/L) indicates prediabetes.","d87c2815":"# <center> <div class=\"alert alert-block alert-info\">  <span style=\"color:crimson;\"> Done <\/center>\n","56b08110":"# <center> <div class=\"alert alert-block alert-info\">  <span style=\"color:crimson;\"> Data Preprocessing <\/center>","b894442f":"![diabetes](https:\/\/blogs.biomedcentral.com\/on-medicine\/wp-content\/uploads\/sites\/6\/2019\/05\/AdobeStock_168931649.t5cb8050a.m800.xfO8gsyEaog6WSrZjeMVZW26gzxV9HbkmhltC8DUSpRI-620x342.jpeg)\n\n*Diabetes is a disease that occurs when your blood glucose, also called blood sugar, is too high. Blood glucose is your main source of energy and comes from the food you eat. Insulin, a hormone made by the pancreas, helps glucose from food get into your cells to be used for energy*","3a33974a":"# <center> <div class=\"alert alert-block alert-info\">  <span style=\"color:crimson;\"> Exploratory Data Analysis <\/center>","b6400220":"* Mostly grater than 35 age patients have high ratio","fcf7663c":"**RandomForest**","5395d4bd":"1. For these below mentioned features minimum values are zero.so,consider these rows with zero values as null values\n* **BloodPressure**\n* **Glucose**\n* **SkinThickness**\n* **insulin**\n* **BMI**\n2. Maximum insulin here 846 this may be a outlier\n","f693721b":"**Checking Duplicates**","22539daf":"# <center> <div class=\"alert alert-block alert-info\">  <span style=\"color:crimson;\"> Data Description <\/center>\n    \n* **Pregnancies**: Number of times pregnant\n* **Glucose**: Plasma glucose concentration a 2 hours in an oral glucose tolerance test\n* **BloodPressure**: Diastolic blood pressure (mm Hg)\n* **SkinThickness**: Triceps skin fold thickness (mm)\n* **Insulin**: 2-Hour serum insulin (mu U\/ml)\n* **BMI**: Body mass index (weight in kg\/(height in m)^2)\n* **DiabetesPedigreeFunction**: Diabetes pedigree functionr\n* **Age**: Age (years)\n* **Cabin** : Cabin Number\n* **Outcome**: Class variable (0 or 1)","85979e29":"**support vector**","ab982681":"**Gaussiannb**","2098d3b9":"**Knearstneigbors**"}}