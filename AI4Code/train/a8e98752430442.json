{"cell_type":{"30eeda4f":"code","f0c4be08":"code","57f71934":"code","77c794c0":"code","703de8c0":"code","baff9337":"code","f1706b4c":"code","6d2e98be":"code","2d145ac6":"code","dc7dfd39":"code","50be7e6e":"code","a99e526b":"code","73665cbd":"code","d5f384ad":"code","00d8ad23":"code","e93421bd":"code","4a98d1cb":"code","fda98557":"code","dba938ba":"code","121e0daa":"code","0828c090":"code","563551c0":"markdown","01221f30":"markdown","766ccc15":"markdown","fe44ad94":"markdown","9549d757":"markdown","3ef0fc6c":"markdown","80f048e9":"markdown","713c779b":"markdown","227378dd":"markdown","af34bb75":"markdown","ccf8e879":"markdown","405f694f":"markdown","713cb6ac":"markdown","5c6e2812":"markdown","3ff9a878":"markdown","0e66cb11":"markdown","64e7ee40":"markdown","1567acf9":"markdown","8feddb7a":"markdown"},"source":{"30eeda4f":"\n# import the necessary libraries\nimport numpy as np \nimport pandas as pd \n\n# Visualisation libraries\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nsns.set()\nfrom plotly.offline import init_notebook_mode, iplot \nimport plotly.graph_objs as go\nimport plotly.offline as py\nimport pycountry\npy.init_notebook_mode(connected=True)\nimport folium \nfrom folium import plugins\n\n# Graphics in retina format \n%config InlineBackend.figure_format = 'retina' \n\n# Increase the default plot size and set the color scheme\nplt.rcParams['figure.figsize'] = 8, 5\n#plt.rcParams['image.cmap'] = 'viridis'\n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Disable warnings \nimport warnings\nwarnings.filterwarnings('ignore')","f0c4be08":"#from IPython.display import IFrame\n#IFrame('https:\/\/www.myheatmap.com\/maps\/PPk1_rfT1jQ%3D', width=800, height=600)","57f71934":"# Reading the dataset\ndata= pd.read_csv(\"..\/input\/novel-corona-virus-2019-dataset\/covid_19_data.csv\")\ndata.head()","77c794c0":"# Let's look at the various columns\ndata.info()","703de8c0":"# Convert Last Update column to datetime64 format\n\ndata['Date'] = data['ObservationDate'].apply(pd.to_datetime)\ndata.drop(['SNo'],axis=1,inplace=True)\n\n#Set Date column as the index column.\n#data.set_index('Last Update', inplace=True)\ndata.head()","baff9337":"# Countries affected\ndata.rename(columns={'Country\/Region':'Country'},inplace = True)\ncountries = data['Country'].unique().tolist()\nprint(countries)\n\nprint(\"\\nTotal countries affected by virus: \",len(countries))","f1706b4c":"#Combining China and Mainland China cases\n\ndata['Country'].replace({'Mainland China':'China'},inplace=True)\ncountries = data['Country'].unique().tolist()\nprint(\"\\nTotal countries affected by virus: \",len(countries))","6d2e98be":"d = data['Date'][-1:].astype('str')\nyear = int(d.values[0].split('-')[0])\nmonth = int(d.values[0].split('-')[1])\nday = int(d.values[0].split('-')[2].split()[0])\n\nfrom datetime import date\ndata_latest = data[data['Date'] >= pd.Timestamp(date(year,month,day))]\ndata_latest.head()","2d145ac6":"# Creating a dataframe with total no of confirmed cases for every country\nNumber_of_countries = len(data_latest['Country'].value_counts())\n\n\ncases = pd.DataFrame(data_latest.groupby('Country')['Confirmed'].sum())\ncases['Country'] = cases.index\ncases.index=np.arange(1,Number_of_countries+1)\n\nglobal_cases = cases[['Country','Confirmed']]\n#global_cases.sort_values(by=['Confirmed'],ascending=False)\nglobal_cases","dc7dfd39":"# Importing the world_coordinates dataset\nworld_coordinates = pd.read_csv('..\/input\/world-coordinates\/world_coordinates.csv')\n\n# Merging the coordinates dataframe with original dataframe\nworld_data = pd.merge(world_coordinates,global_cases,on='Country')\nworld_data.head()","50be7e6e":"\n# create map and display it\nworld_map = folium.Map(location=[10, -20], zoom_start=2.3,tiles='Stamen Toner')\n\nfor lat, lon, value, name in zip(world_data['latitude'], world_data['longitude'], world_data['Confirmed'], world_data['Country']):\n    folium.CircleMarker([lat, lon],\n                        radius=10,\n                        popup = ('<strong>Country<\/strong>: ' + str(name).capitalize() + '<br>'\n                                '<strong>Confirmed Cases<\/strong>: ' + str(value) + '<br>'),\n                        color='red',\n                        \n                        fill_color='red',\n                        fill_opacity=0.7 ).add_to(world_map)\nworld_map\n","a99e526b":"# A look at the different cases - confirmed, death and recovered\nprint('Globally Confirmed Cases: ',data_latest['Confirmed'].sum())\nprint('Global Deaths: ',data_latest['Deaths'].sum())\nprint('Globally Recovered Cases: ',data_latest['Recovered'].sum())","73665cbd":"# Let's look the various Provinces\/States affected\n\ndata_latest.groupby(['Country','Province\/State']).sum()","d5f384ad":"# Provinces where deaths have taken place\ndata_latest.groupby('Country')['Deaths'].sum().sort_values(ascending=False)[:5]","00d8ad23":"\n# Lets also look at the Recovered stats\ndata_latest.groupby('Country')['Recovered'].sum().sort_values(ascending=False)[:5]","e93421bd":"#Mainland China\nChina = data_latest[data_latest['Country']=='China']\nChina\n","4a98d1cb":"f, ax = plt.subplots(figsize=(12, 8))\n\nsns.set_color_codes(\"pastel\")\nsns.barplot(x=\"Confirmed\", y=\"Province\/State\", data=China[1:],\n            label=\"Confirmed\", color=\"r\")\n\nsns.set_color_codes(\"muted\")\nsns.barplot(x=\"Recovered\", y=\"Province\/State\", data=China[1:],\n            label=\"Recovered\", color=\"g\")\n\n# Add a legend and informative axis label\nax.legend(ncol=2, loc=\"lower right\", frameon=True)\nax.set(xlim=(0, 1000), ylabel=\"\",\n       xlabel=\"Stats\")\nsns.despine(left=True, bottom=True)","fda98557":"latitude = 39.91666667\nlongitude = 116.383333\n \n# create map and display it\nchina_map = folium.Map(location=[latitude, longitude], zoom_start=12)\n\nchina_coordinates= pd.read_csv(\"..\/input\/china-states-coordinates\/China_states_coordinates.csv\")\nchina_coordinates.rename(columns={'States':'Province\/State'},inplace=True)\ndf_china_virus = China.merge(china_coordinates)\n\n# Make a data frame with dots to show on the map\ndata = pd.DataFrame({\n   'name':list(df_china_virus['Province\/State']),\n   'lat':list(df_china_virus['Latitude']),\n   'lon':list(df_china_virus['Longitude']),\n   'Confirmed':list(df_china_virus['Confirmed']),\n   'Recovered':list(df_china_virus['Recovered']),\n   'Deaths':list(df_china_virus['Deaths'])\n})\n\ndata.head()","dba938ba":" \n# create map for total confirmed cases in china till date\nchina_map1 = folium.Map(location=[latitude, longitude], zoom_start=4,tiles='Stamen Toner')\n\nfor lat, lon, value, name in zip(data['lat'], data['lon'], data['Confirmed'], data['name']):\n    folium.CircleMarker([lat, lon],\n                        radius=13,\n                        popup = ('Province: ' + str(name).capitalize() + '<br>'\n                        'Confirmed: ' + str(value) + '<br>'),\n                        color='red',\n                        \n                        fill_color='red',\n                        fill_opacity=0.7 ).add_to(china_map1)\n    folium.Map(titles='jj', attr=\"attribution\")    \nchina_map1\n","121e0daa":"\n\nchina_map = folium.Map(location=[latitude, longitude], zoom_start=4,tiles='Stamen Toner')\n\nfor lat, lon, value, name in zip(data['lat'], data['lon'], data['Deaths'], data['name']):\n    folium.CircleMarker([lat, lon],\n                        radius=value*0.02,\n                        popup = ('Province: ' + str(name).capitalize() + '<br>'\n                        'Deaths: ' + str(value) + '<br>'),\n                        color='black',\n                        \n                        fill_color='red',\n                        fill_opacity=0.7 ).add_to(china_map)\n    folium.Map(titles='jj', attr=\"attribution\")    \nchina_map\n","0828c090":"china_map = folium.Map(location=[latitude, longitude], zoom_start=4,tiles='Stamen Toner')\n\nfor lat, lon, value, name in zip(data['lat'], data['lon'], data['Recovered'], data['name']):\n    folium.CircleMarker([lat, lon],\n                        radius=10,\n                        popup = ('Province: ' + str(name).capitalize() + '<br>'\n                        'Recovered: ' + str(value) + '<br>'),\n                        color='green',\n                        \n                        fill_color='green',\n                        fill_opacity=0.7 ).add_to(china_map)\n       \nchina_map\n","563551c0":"Till now, majority of the  deaths have occured in China with the majority occuring in **Hubei** alone. **Wuhan**, the epicentre of the virus is the capital of **Hubei**","01221f30":"Note that China and Mainland China have been reported separately.","766ccc15":"### Let's look at the Confirmed vs Recovered figures of Provinces of China other than Hubei","fe44ad94":"## Total Recovered cases in china till date","9549d757":"## Next Steps:\n\nThis was just a quick EDA of the data. However, there is a lot that can be done including looking at the period in which the virus had spread etc. I wish to keep working on the kernel. However, I am submitting a preliminary analysis here.","3ef0fc6c":"Let's create a new dataframe which consists of the latitude and longitudes of the countries under observation","80f048e9":"I have created the above map by using Folium Maps. You can click on the red bubbles to get information about the region and the number of confirmed cases there.\n\n![](https:\/\/imgur.com\/nkexz1H.png)\n\nIncase you are interested to know about them, here is a kernel I wrote on the same:\n\n[Visualising Geospatial data to get insights](https:\/\/www.kaggle.com\/parulpandey\/visualising-geospatial-data-to-get-insights)","713c779b":"# Wuhan Coronavirus : A geographical analysis\n\nWith the news coming in that the [World Health Organization has declared the novel coronavirus outbreak a public health emergency](https:\/\/edition.cnn.com\/2020\/01\/30\/health\/coronavirus-who-public-health-emergency-international-concern-declaration\/index.html), it has increased the general fear among the public. A lot of countires have heightened their measures to fight with this virus with the condition in China still senitive..More than 20 countries and territories outside of mainland China have confirmed cases of the virus -- spanning Asia, Europe, North America and the Middle East -- as India, Italy and the Philippines reported their first cases on Thursday.[source](https:\/\/edition.cnn.com\/2020\/01\/30\/asia\/wuhan-coronavirus-update-intl-hnk\/index.html)","227378dd":"## Countries which have been affected by the Coronavirus(2019-nCoV)till now","af34bb75":"## A Closer look at China's condition","ccf8e879":"### Update (4th Feb) : \n* The code in the notebook has been updated to generalise for all dates and countries.\n* Also, I am making the [world_coordinates.csv](https:\/\/www.kaggle.com\/parulpandey\/world-coordinates) file available which contains the latitudes and longitudes of all the countries of the world. The dataset has been scraped from the net.\n                 ","405f694f":"# Geographical Visualisation the present condition of Mainland China","713cb6ac":"You can zoom over, pan and click on the maps above to get a closer look at the areas affected.","5c6e2812":"## Total Deaths in china till date","3ff9a878":"## Visualizing the current world scenario","0e66cb11":"Othre notebooks related to COVID-19:\n- [Tracking India's Coronavirus spread](https:\/\/www.kaggle.com\/parulpandey\/tracking-india-s-coronavirus-spread-wip)\n- [Impact of COVID-19 on 2020's Tech Conferences](https:\/\/www.kaggle.com\/parulpandey\/impact-of-covid-19-on-2020-s-tech-conferences)","64e7ee40":"![](https:\/\/imgur.com\/q1JolVI.png)","1567acf9":"# Current status worldwide","8feddb7a":"## Total confirmed cases in china till date"}}