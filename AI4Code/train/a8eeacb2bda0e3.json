{"cell_type":{"d80f6854":"code","51b311e7":"code","ae84efe8":"code","46f6436d":"code","3597986c":"code","d029b3e1":"code","bcb56abf":"code","345d24da":"code","2cf493d5":"code","576ce88e":"code","f122caa0":"code","c8d27bcd":"code","806f26d0":"code","68debfdd":"code","17152b93":"code","4fc7b560":"code","32dec71c":"code","c248035a":"code","82e169c8":"code","57296623":"code","359b1843":"code","18d4794e":"code","4e276be4":"code","8e018fc4":"code","17c56bde":"code","84410b56":"markdown","b6423c59":"markdown","572a1f25":"markdown","e236e770":"markdown","d9523306":"markdown","829097be":"markdown","8461352c":"markdown","c06a5a20":"markdown","cddc9b29":"markdown","6c411744":"markdown","133e2c6b":"markdown","33a2dc7d":"markdown","fd3df845":"markdown","f2f9d6e6":"markdown","431fd615":"markdown","7ace9336":"markdown","4b337c31":"markdown","f1a55a12":"markdown","cacb35fe":"markdown","80f5db4a":"markdown","744734cf":"markdown","c5f04a3f":"markdown","8c2adb61":"markdown","784ae2de":"markdown","2a843e6d":"markdown","12e6f3f1":"markdown","4671e025":"markdown","dd285321":"markdown","75bbe6d7":"markdown","281aba44":"markdown","8cc6b791":"markdown","488d2e5f":"markdown","6cb2e5aa":"markdown","8097621f":"markdown","0f4933f3":"markdown","17908e0a":"markdown","55d8975a":"markdown","35927e02":"markdown","af555ac0":"markdown","e583bdb1":"markdown","9fefb880":"markdown","dac69716":"markdown","5a696951":"markdown","28e94b4c":"markdown","4f7b555f":"markdown","15a7944d":"markdown","2e237671":"markdown","b470c6a7":"markdown","a926c039":"markdown","a2bd1dae":"markdown","5f363d01":"markdown","42626b80":"markdown","cf69abce":"markdown","561f1619":"markdown","7d02a824":"markdown","3c3b0a26":"markdown","69a1939f":"markdown","5d531c06":"markdown"},"source":{"d80f6854":"%%html\n<style>\n@import url('https:\/\/fonts.googleapis.com\/css?family=Ewert|Roboto&effect=3d|ice|');\nbody {background-color: gainsboro;} \na {color: #37c9e1; font-family: 'Roboto';} \nh1 {color: #37c9e1; font-family: 'Orbitron'; text-shadow: 4px 4px 4px #aaa;} \nh2, h3 {color: slategray; font-family: 'Orbitron'; text-shadow: 4px 4px 4px #aaa;}\nh4 {color: #818286; font-family: 'Roboto';}\nspan {font-family:'Roboto'; color:black; text-shadow: 5px 5px 5px #aaa;}  \ndiv.output_area pre{font-family:'Roboto'; font-size:110%; color:lightblue;}      \n<\/style>","51b311e7":"import sqlite3\nimport pandas as pd","ae84efe8":"path = \"..\/input\/\" \ndatabase = path + 'hubway.db'\n\nconn = sqlite3.connect(database)\ntables = pd.read_sql(\"\"\"SELECT *\n                        FROM sqlite_master\n                        WHERE type='table';\"\"\", conn)\nprint(\"Conection SuccessFull\",conn)","46f6436d":"df = pd.read_sql_query(\"SELECT * FROM trips\", conn)\ndf","3597986c":"pd.read_sql_query(\"SELECT start_date, bike_number FROM trips;\",conn)","d029b3e1":"pd.read_sql_query(\"SELECT start_date, bike_number FROM trips LIMIT 5;\",conn)","bcb56abf":"df =pd.read_sql_query(\"SELECT * FROM trips LIMIT 5;\",conn) \ndf","345d24da":"df=pd.read_sql_query(\"SELECT duration, start_date FROM trips LIMIT 5\",conn)\ndf","2cf493d5":"df=pd.read_sql_query(\"SELECT duration FROM trips ORDER BY duration ASC\",conn)\ndf","576ce88e":"df=pd.read_sql_query(\"SELECT duration FROM trips ORDER BY duration DESC LIMIT 1;\",conn)\ndf","f122caa0":"df=pd.read_sql_query(\"SELECT duration FROM trips ORDER BY duration DESC LIMIT 10\",conn)\ndf","c8d27bcd":"pd.read_sql_query(\"SELECT bike_number from trips  WHERE bike_number = 'B00400' LIMIT 10 \",conn)","806f26d0":"df=pd.read_sql_query(\"SELECT * FROM trips WHERE duration > 9990;\",conn)\ndf","68debfdd":"df=pd.read_sql_query(\"SELECT * FROM trips WHERE (duration >= 9990) AND (sub_type = 'Registered')ORDER BY duration DESC;\",conn)\ndf","17152b93":"pd.read_sql_query(\"SELECT COUNT(id) FROM trips \",conn)","4fc7b560":"df=pd.read_sql_query(\"SELECT COUNT(*) FROM trips WHERE sub_type = 'Registered';\",conn)\ndf","32dec71c":"df=pd.read_sql_query(' ' ' SELECT COUNT(*) AS \"Total Trips by Registered Users\" FROM trips WHERE sub_type = \"Registered\";' ' ' ,conn)\ndf","c248035a":"df=pd.read_sql_query(' ' ' SELECT AVG(duration) AS \"Average Duration\" FROM trips;  ' ' ' ,conn )\ndf","82e169c8":"df=pd.read_sql_query(' ' '  SELECT sub_type, AVG(duration) AS \"Average Duration\" FROM trips GROUP BY sub_type; ' ' ',conn)\ndf","57296623":"df=pd.read_sql_query(' ' ' SELECT bike_number as \"Bike Number\", COUNT(*) AS \"Number of Trips\" FROM trips GROUP BY bike_number ORDER BY COUNT(*) DESC LIMIT 1; ' ' ',conn)\ndf","359b1843":"df=pd.read_sql_query(' ' ' SELECT AVG(duration) FROM trips WHERE (2017 - birth_date) > 30; ' ' ',conn )\ndf","18d4794e":"df=pd.read_sql_query(' ' ' SELECT * FROM stations LIMIT 5; ' ' ',conn)\ndf","4e276be4":"df=pd.read_sql_query(' ' '  SELECT stations.station AS \"Station\", COUNT(*) AS \"Count\" FROM trips  INNER JOIN stations ON trips.start_station = stations.id GROUP BY stations.station ORDER BY COUNT(*) DESC LIMIT 5; ' ' ',conn)\ndf","8e018fc4":"df=pd.read_sql_query(' ' ' SELECT stations.station AS \"Station\", COUNT(*) AS \"Count\" FROM trips  INNER JOIN stations ON trips.start_station = stations.id WHERE trips.start_station = trips.end_station GROUP BY stations.station ORDER BY COUNT(*) DESC LIMIT 5; ' ' ',conn)\ndf","17c56bde":"df=pd.read_sql_query(' ' '  SELECT COUNT(trips.id) AS \"Count\" FROM trips INNER JOIN stations AS start ON trips.start_station = start.id INNER JOIN stations AS end ON trips.end_station = end.id WHERE start.municipality <> end.municipality;' ' ',conn)\ndf","84410b56":"This query uses`*` as a wildcard instead of specifying columns to return. This means the `SELECT` command has given us every column in the trips table. We also used the`LIMIT` function to restrict the output to the first five rows of the table.\n\nThe previous example returned every column in the trips table. If we were only interested in the duration and start_date columns, we could replace the wildcard with the column names as follows:","b6423c59":"# &#128207; 5. COUNT\nThe next question we set out at the beginning of the notebook is **\"How many trips were taken by `'registered'` users?\" ** To answer it, we could run the same query as above and modify the `WHERE` expression to return all of the rows where `sub_type` is equal to `'Registered'` and then count them up. You could count them up on the screen, however, SQL actually has a built in command to do the work for us, `COUNT`.\n\nThis allows us to shift the calculation to the database and save us the trouble of writing additional scripts to count up results. To use it, you simply include `COUNT(column_name)` instead of (or in addition to) the columns you want to `SELECT`, like this:","572a1f25":"### &#128681; Note:\nThis shows that about 300k out of 1.5 million trips (or 20%) ended in a different municipality than they started in - further evidence that people mostly use Hubway bicycles for relatively short journeys rather than longer trips between towns.","e236e770":"## &#128268; 2.2 Database Connection Code","d9523306":"Here's what the final query will look like when we run it:","829097be":"## &#128187; 2.5 SQL Code Implementation\nThe SQL code or commands we'll use to answer these questions are:\n<ul>\n    <li>1. SELECT<\/li>\n    <li>2. LIMIT<\/li>\n    <li>3.  ORDER BY<\/li>\n    <li>4.WHERE<\/li>\n    <li>5.COUNT<\/li>\n    <li>6.Aggregate Functions(SUM,AVG,MIN,MAX)<\/li>\n    <li>7.GROUP BY<\/li>\n    <li>8. Arithmetic Operators<\/li>\n    <li>9. JOIN<\/li>\n    <\/ul>","8461352c":"* Let's take a moment to think through the additional things the database will need to know before it can return the information we want:\n\n* Which table is the order_number column in?\n\n* Which table is the name column in?\n\n* How is the information in the orders table connected to the information in the customers table?","c06a5a20":"## How SQL Work - Understanding the implementation\n![Imgur](https:\/\/i.imgur.com\/g55maqS.png)","cddc9b29":"## &#128240; 2.4 Overview of Analysis\nIn this Notebook I will  try cover up some Question By SQL Code or Command,Here are some Question:\n\n* What was the duration of the longest trip?\n\n* How many trips were taken by 'registered' users?\n\n* What was the average trip duration?\n\n* Do registered or casual users take longer trips?\n\n* Which bike was used for the most trips?\n\n* What is the average duration of trips by users over the age of 30?","6c411744":"### &#128681; Note:\nWhat we see here is that there aren't a whole bunch of trips at 9999, so it doesn't look like we're cutting off the top end of our durations, but it's still difficult to tell whether that's the real length of the trip or just the maximum allowed value. Hubway charges additional fees for rides over 30 minutes (somebody keeping a bike for 9999 seconds would have to pay an extra $25 in fees) so it's plausible that they decided 4 digits would be sufficient to track the majority of rides.","133e2c6b":"Finally,** how many trips start and end in different municipalities?** This question takes things a step further. We want to know how many trips start and end in a different municipality. To achieve this, we need to `JOIN` the trips table to the stations table twice. Once `ON` the start_station column and then `ON` the end_station column. In order to do this, we have to create an alias for the stations table so that we are able to differentiate between data that relates to the `start_station` and data that relates to the `end_station`. We do this in exactly the same way we've been creating aliases for individual columns to make them display with a more intuitive name, using `AS`.","33a2dc7d":"# &#128223; 5. Aggregate Functions(SUM,AVG,MIN,MAX)\n`COUNT` is not the only trick SQL has in this domain. You can also use `SUM, AVG, MIN` and `MAX` to return the sum, average, minimum and maximum of a column respectively. These, along with `COUNT`, are known as aggregate functions. So to answer our third question,** \"What was the average trip duration?\"**, we can use the `AVG` function on the duration column (and, once again, use AS to give our output column a more descriptive name):","fd3df845":"### &#128681; Note: \nAs you can see, the query returned 14 different trips, each with a duration of 9990 seconds or more. Something that stands out about this query is that all but one of the results has a `sub_type` of `\"Casual\"`. Perhaps this is an indication that `\"Registered\"` users are more aware of the extra fees for long trips and maybe Hubway could do a better job of conveying their pricing structure to Casual users to help them avoid overage charges.","f2f9d6e6":"## &#128268; 1.3  Connection Database:\nThe basic structure of the query is very simple: You define what you want to see after the SELECT, * means all possible columns You choose the table after the FROM You add the conditions for the data you want to use from the table(s) after the WHERE\n![Imgur](https:\/\/i.imgur.com\/gSEqsbo.jpg)\nThe stracture, and the order of the sections matter, while spaces, new lines, capital words and indentation are there to make the code easier to read.","431fd615":"# &#128640; 4. WHERE","7ace9336":"**```SELECT order_number, name FROM orders;```**","4b337c31":"### &#128681; Note:\nYou'll also notice that we use quote marks in this query. That's because the bike_number is stored as a string. If the column contained numeric data types the quote marks would not be necessary.","f1a55a12":"# &#128505; 1. SELECT \nSELECT will be the foundation of almost every query you write - it tells the database which columns you want to see. You can either specify columns by name (separated by commas) or use the wildcard `*` to return every column in the table. In addition to the columns you want to retrieve, you also have to tell the database which table to get them from. To do this you use the keyword `FROM` followed by the name of the table. For example, if we wanted to see the start_date and bike_number for every trip in the trips table, we could use the following query:","cacb35fe":"## &#128206; 1.2  Relational Databases:\nA relational database is, simply, a database that stores related information across multiple tables and allows you to query information in more than one table at the same time.\n\nIt's easier to understand how this works by thinking through an example. Imagine you're a business and you want to keep track of your sales information. You could set up a spreadsheet in Excel with all of the information you want to keep track of as separate columns: Order number, date, amount due, shipment tracking number, customer name, customer address, and customer phone number.\n\n![Imgur](https:\/\/i.imgur.com\/QhbmFgq.png)\n \n Sales data in Excel &#128070;\n \n![Imgur](https:\/\/i.imgur.com\/KCj0fP8.png)\n\nSales data in a relational database &#128070;\n\nWith a relational database, like the one in the above diagram, you avoid all of these issues. You could set up two tables, one for orders and one for customers. The 'customers' table would include a unique ID number for each customer, along with the name, address and phone number we were already tracking. The 'orders' table would include your order number, date, amount due, tracking number and, instead of a separate field for each item of customer data, it would have a column for the customer ID. This enables us to pull up all of the customer info for any given order, but we only have to store it once in our database rather than listing it out again for every single order.","80f5db4a":"**4.2** We can also combine multiple logical tests in our `WHERE` clause using `AND` or `OR`. If, for example, in our previous query we had only wanted to return the trips with a duration over 9990 seconds that also had a `sub_type` of `Registered`, we could use `AND` to specify both conditions. I also recommend using parentheses to separate each logical test. This isn't strictly required for the code to function, but they can make your queries easier to understand as you increase the complexity. Let's run that query now. We already know it should only return one result, so it should be easy to check that we've got it right:","744734cf":"The previous commands are great for pulling out sorted information for particular columns, but what if you already have a specific subset of the data you want to look at? That's where `WHERE` comes in. The `WHERE` command allows you to use a logical operator to specify which rows should be returned. For example you could use the following command to return every trip taken with bike `B00400`:","c5f04a3f":"**4.1** Let's write a query that uses WHERE to return every column in the trips table for each row with a duration longer than 9990 seconds: ","8c2adb61":"# &#128218; 6.GROUP BY \n`GROUP` BY separates the rows into groups based on the contents of a particular column and allows us to perform aggregate functions on each group. To get a better idea of how this works, let's take a look at the gender column. Each row can have one of three possible values in the gender column, \"Male\", \"Female\" or Null (missing - we don't have gender data for casual users). When we use GROUP BY, the database will separate out each of the rows into a different group based on the value in the gender column, in much the same way that you might separate a deck of cards into different suits. You can imagine making two piles, one of all the males, one of all the females.\n\nSo let's walk through exactly how to write a query to answer our question of whether registered or casual users take longer trips.\n\n* As with each of our queries so far, we'll start with `SELECT` to tell the database which information we want to see. In this instance, we'll want `sub_type` and `AVG(duration)`.\n\n* We'll also include `GROUP BY` sub_type to separate out our data by subscription type and calculate the averages of registered and casual users separately.\n\nHere's what the code looks like when you put it all together:","784ae2de":"**```SELECT orders.order_number, customers.name```**\n\n**```FROM orders```**\n\n**```INNER JOIN customers```**\n\n**```ON orders.customer_id = customers.customer_id```**","2a843e6d":"# &#128225; 3. ORDER BY\nThe final command we need to know before we can answer the first of our questions is `ORDER BY`. This command allows you to sort the database on a given column. To use it, you simply specify the name of the column you would like to sort on. By default, `ORDER BY` sorts in ascending order. If you would like to specify which order the database should be sorted, you can add the keyword `ASC` for ascending order or `DESC` for descending order. For example, if we wanted to sort the trips table from the shortest duration to the longest we could add the following line to our query:","12e6f3f1":"# &#128291; 7. Arithmetic Operators\nThe last of our questions about this table is a little more tricky than the others. We want to know the **average duration of trips by registered members over the age of 30**. We could just figure out the year in which 30 year olds were born in our heads and then plug it in, but a more elegant solution is to use arithmetic operations directly within our query. SQL allows us to use +, -, * and \/ to perform an arithmetic operation on an entire column at once.","4671e025":"### &#128681; Note:\nAs you can see from the output, bike B00490 took the most trips. Let's run through how we got there:\n\n* The first line is a SELECT clause to tell the database we want to see the bike_number column and a count of every row. It also uses AS to tell the database to display each column with a more useful name.\n* The second line uses FROM to specify that the data we're looking for is in the trips table.\n* The third line is where things start to get a little tricky. We use GROUP BY to tell the COUNT function on line 1 to count up each value for bike_number separately.\n* On line four we have an ORDER BY clause to sort the table in descending order and make sure our most-used bike is at the top.\n* Finally we use LIMIT to restrict the output to the first row, which we know will be the bike that was used in the highest number of trips because of how we sorted the data on line four.","dd285321":"To answer the first two of these questions, we can include the table names for each column in our `SELECT` command. The way we do this is simply to write the table name and column name separated by a .. For example, instead of `SELECT` `order_number`, name we would write `SELECT` orders.order_number, customers.name. Adding the table names here helps the database to find the columns we're looking for by telling it which table to look in for each.\n\nTo tell the database how the orders and customers tables are connected, we use `JOIN` and `ON`. `JOIN` specifies which tables should be connected and ON specifies which columns in each table are related. We're going to use an inner join, which means that rows will only be returned where there is a match in our columns specified in `ON`. In this example, we will want to use `JOIN` on whichever table we didn't include in the `FROM` command. So we can either use `FROM` orders `INNER JOIN` customers or `FROM` customers `INNER JOIN` orders. As we discussed earlier, these tables are connected on the `customer_id` column in each table. Therefore, we will want to use `ON` to tell the database that these two columns refer to the same thing like this:","75bbe6d7":"But what about our next question, do registered or casual users take longer trips? We already know one way to answer this question - we can run two `SELECT AVG(duration)`` FROM` trips queries with `WHERE `clauses that restrict one to \"Registered\" and one to \"Casual\" users. SQL also includes a way that we can answer this question in a single query, using the GROUP BY command.","281aba44":"# &#128279;  8. JOIN\nSo far we've been looking at queries that only pull data from the trips table, but you'll remember from the introduction that this database contains a second table, stations. The stations table contains information about every station in the Hubway network and includes an id column that is referenced by the trips table.\n![Imgur](https:\/\/i.imgur.com\/Nehnebq.png)\nBefore we start to work through some real examples on our dataset, let's take a moment to look back at the hypothetical order tracking database from earlier. In that database we had two tables, `orders` and `customers`, and they were connected by the `customer_id` column. Let's say we wanted to write a query that returned the `order_number` and `name` for every order in the database. If they were both stored in the same table, we could use the following query:","8cc6b791":"This query worked and has returned the answer to our question, but the column heading isn't particularly descriptive. If you want to make your results more readable, you can use AS to give your output an alias (or nickname). If we wanted to re-run the previous query but give our column heading an alias of Total Trips by Registered Users, we could do the following:","488d2e5f":"### &#128681; Note: \nIn this instance, it doesn't matter which column we choose to count because every column should have data for each row in our query, but sometimes a query might have missing (or \"null\") values for some rows. If you're not sure whether a column contains null values you can run your `COUNT` on the id column - the id column is never null, so you can be sure your count won't have missed anything. You can also use `COUNT(1)` or `COUNT(*)` to count up every row in your query.","6cb2e5aa":"Now we know that the longest trip lasted 9999 seconds, or a little over 166 minutes. With a maximum value of 9999, however, we don't know whether this is really the length of the longest trip or if the database was only set up to allow a four digit number.\n* Let's try running the same query as before, but adjust the `LIMIT` to return the 10 highest durations and see if that's the case:","8097621f":"For example we can use the following code to `JOIN` the stations table to the trips table using an alias of 'start'. We can then combine 'start' with our column names using . to refer to data that comes from this specific `JOIN` (rather than the second `JOIN` we will do `ON` the `end_station` column):","0f4933f3":"Now, we will need to read the dataset using the commands below.\n\nNote: Make sure Database connection before you run the data load and read code below.\n\ndf is a variable pointing to a pandas data frame.","17908e0a":"**3.1** With the `SELECT`, `LIMIT` and `ORDER BY` commands in our repertoire, we can now attempt to answer our first question: **What was the duration of the longest trip?**\n\nTo answer this question, it's helpful to break it down into sections and identify which commands we will need to address each part. First we need to pull the information from the duration column of the trips table. Then, to find which trip is the longest, we can sort the duration column in descending order. Here's how you might work this through to come up with a query that will get the information you're looking for:\n\n* Use `SELECT` to retrieve the duration column FROM the trips table.\n\n* Use `ORDER BY` to sort the duration column and use the `DESC` keyword to specify that you want to sort in descending order.\n\n* Use `LIMIT` to restrict the output to 1 row.\n\nLet's go ahead and run this query and find out how long the longest trip lasted.","55d8975a":"I'll try to answer some questions in the data, starting with ** which station is the most frequent starting point?** Let's work through it step by step:\n\n* First we want to use SELECT to return the station column from the stations table and the COUNT of the number of rows.\n* Next we specify the tables we want to JOIN and tell the database to connect them ON the start_station column in the trips table and the id column in the stations table.\n* Then we get into the meat of our query - we GROUP BY the station column in the stations table so that our COUNT will count up the number of trips for each station separately\nFinally we can ORDER BY our COUNT and LIMIT the output to a manageable number of results","35927e02":"Let's take a look at a query to answer our question. We can use `SELECT COUNT(*)` to count up the total number of columns returned and `WHERE` `sub_type` = \"Registered\" to make sure we only count up the trips taken by Registered users.","af555ac0":"\n* `id` \u2014 A unique identifier for each station (corresponds to the start_station and end_station columns in the trips table)\n\n* `station` \u2014 The station name\n\n* `municipality` \u2014 The municipality that the station is in (Boston, Brookline, Cambridge or Somerville)\n\n* `lat` \u2014 The latitude of the station\n\n* `lng` \u2014 The longitude of the station\n\n* Which stations are most frequently used for round trips?\n\n* How many trips start and end in different municipalities?\n\n","e583bdb1":"### &#128681; Note:\nUnfortunately order_number column and the name column are stored in two different tables, so we have to add a few extra steps. ","9fefb880":"## &#128203; 1.1  Defination of SQL:\nSQL is a conceptual language for working with data stored in databases. In our case, SQLite is the specific implementation. Most SQL languges share all of the capabilities in this doc. The differences are usually in performance and advances analytical funcionalities (and sometimes bugs of course). Eventually, we will use SQL lunguage to write queries that would pull data from the DB, manipulate it, sort it, and extract it.\n\n![Imgur](https:\/\/i.imgur.com\/3V5m8s5.jpg)\n\nThe most important component of the DB is its tables - that's where all the data stored. Usually the data would be devided to many tables, and not stored all in one place (so designing the data stracture propely is very important). Most of this script would handle how to work with tables. Other than tables, there are some other very useful concepts\/features that we won't talk about:\n\n* table creation\n\n* inserting \/ updating data in the DB\n\n* functions - gets a value as an input, and returns manipulation of that value (for example function that remove white spaces)","dac69716":"# Motivation \n# \"work HARD , dream BIG , never GIVE UP\" &#128170; ","5a696951":"### &#128681; Note:\nSo it turns out that the average trip duration is 912 seconds, which is about 15 minutes. This makes some sense since we know that Hubway charges extra fees for trips over 30 minutes because the service is designed for riders to take short, one-way trips.","28e94b4c":"The next question we'll look at is **which stations are most frequently used for round trips?** We can use much the same query as before. We will `SELECT` the same output columns and `JOIN` the tables in the same way, but this time we'll add a `WHERE` clause to restrict our `COUNT` to trips where the start_station is the same as the end_station.","4f7b555f":"## &#128197; 2.3 Initial exploration of the Dataset\nLet's start by taking a look at our database. The database has two tables, trips and stations. To begin with, we'll just look at the trips table, which contains the following columns:\n\n*` id `\u2014 A unique integer that serves as a reference for each trip.\n\n*`duration` \u2014 The duration of the trip, measured in seconds.\n\n*`start_date` \u2014 The date and time the trip began.\n\n*`start_station` \u2014 An integer that corresponds to the id column in the stations table for the station the trip started.\n\n*`end_date` \u2014 The date and time the trip ended.\n\n*` end_station` \u2014 The 'id' of the station the trip ended.\n\n*` bike_number` \u2014 Hubway's unique identifier for the bike used on the trip.\n\n*`sub_type` \u2014 The subscription type of the user. \"Registered\" for users with a membership, \"Casual\" for users without a membership.\n\n*`zip_code`\u2014 The zip code of the user (only available for registered members).\n\n*`birth_date` \u2014 The birth year of the user (only available for registered members).\n\n*`gender` \u2014 The gender of the user (only available for registered members).","15a7944d":"We simply added the LIMIT command and then a number representing the number of rows we want to be returned. In this instance we used 5, but you can replace that with any number to get the appropriate amount of data for the project you're working on.\n\nWe will use LIMIT a lot in our queries on the Hubway database in this notebook - the trips table contains over a 1.5 million rows of data and we certainly don't need to display all of those to answer the questions we're going to be working on.\n\nLet's run our first query on the Hubway database. First we will store our query as a string and then use the function we defined earlier to run it on the database. Take a look at the following example:","2e237671":"Our next question was** which bike was used for the most trips? **and we can answer this using a very similar query. Take a look at the following example and see if you can figure out what each line is doing - we'll go through it step by step afterwards so you can check you got it right:","b470c6a7":"**```ON orders.customer_ID = customers.customer_id```**","a926c039":"# &#128187; Implementation","a2bd1dae":"# &#128209; Contents\n<ul>\n<li>1. Introduction<\/li>\n<ul>\n    <li>1.1 Defination Of SQL <\/li>\n    <li>1.2 Relational Databases<\/li>\n    <li>1.3 Connection Database <\/li>\n<\/ul>\n<li>2. Implementation <\/li>\n<ul>\n    <li>2.1 Import Libraries <\/li>\n    <li>2.2 Database connection code <\/li>\n    <li>2.3  Initial exploration of the Dataset <\/li>\n    <li>2.4 Overview of Analysis <\/li>\n    <li>2.5 SQL Code Implementation<\/li>\n<\/ul>\n<\/ul>\n\n<br>","5f363d01":"### &#128681; Note:\nIn this example, we started with the SELECT command so that the database knows we want it to find us some data. Then we told the database we were interested in the start_date and bike_number columns. Finally we used FROM to let the database know that the columns we want to see are part of the trips table.\n\nOne important thing to be aware of when writing SQL queries is that the language requires every query to end with a semicolon (;).","42626b80":"# &#128208; 2. LIMIT \nThe next command we need to know before we start to run queries on our Hubway database is LIMIT. LIMIT simply tells the database how many rows you want it to return. The SELECT query we looked at in the previous section would return the requested information for every row in the trips table, but sometimes that could mean a lot of data and you might not want all of it. If, instead, we wanted to see the start_date and bike_number for the first five trips in the database, we could add LIMIT to our query as follows:","cf69abce":" **INNER JOIN stations AS start ON trips.start_station = start.id**","561f1619":"### &#128681; Note:\nIf you're familiar with Boston, you'll understand why these are the most popular stations. South Station is one of the main commuter rail stations in the city, Charles Street runs along the river close to some nice scenic routes and Boylston and Beacon streets are right downtown near a number of office buildings.","7d02a824":"This query will return the order number of every order in the database along with the customer name that is associated with each.\n\nMoving back to our Hubway database we can now write some queries to see `JOIN` in action, but before we get started we should take a look at the rest of the columns in the stations table. Here's a query to show us the first 5 rows so we can see what the stations table looks like:","3c3b0a26":"# &#128253; 1. Introduction","69a1939f":"Once again we use the . to make sure the database knows which table each of these columns is in. So when we put all of this together, we get a query that looks like this:","5d531c06":"## &#128229; 2.1  Import Libraries\nWe will start by importing the Python libraries we will be using in this analysis. These libraries include:\n\n* sqllite3 for interacting with a local relational database; \n\n* pandas  for data ingestion ."}}