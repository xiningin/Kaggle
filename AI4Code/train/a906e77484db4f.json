{"cell_type":{"9d926ec5":"code","ae2a9d1e":"code","a804d891":"code","4aa00c16":"code","94450e51":"code","0cbc40a2":"code","bbfa0592":"code","c2c76dbd":"code","f442b5ad":"code","41bf91c8":"code","c1ef54cf":"code","115eafe0":"code","ca38fc5c":"code","3debfe89":"code","ab31b4de":"code","804d419e":"code","5fc6e768":"code","38544792":"code","7c506007":"code","6f9a7880":"code","2643f4ab":"code","ca6da1c8":"code","3055bc4f":"code","709ccee6":"code","55e94cd1":"code","76f8d13c":"code","f3b0d6fd":"code","7e7d432c":"code","29c50d67":"code","0351c9c5":"code","54b52845":"code","aecced11":"code","8c7eb48d":"code","6cf8842a":"code","14b1adae":"code","1d52730c":"code","f5dd8add":"code","3ed64972":"code","d10058dc":"code","647ee99c":"code","c4713ba7":"code","5f629e23":"code","056e9b92":"code","63a51ef1":"code","459bdee5":"code","2d1ee504":"code","20005733":"code","344c5f02":"code","30cc88ad":"code","20732237":"code","ac1bb811":"code","62c04fb0":"code","4c899134":"code","3556530d":"code","06761771":"code","987f98d1":"code","93442c37":"code","e666a572":"code","61c6d5ce":"code","beab4d1a":"code","d0b50481":"code","5f976df7":"code","a6be1d1d":"code","aa0b5422":"code","7e6a854f":"code","f02297eb":"code","00734091":"code","5abaaf01":"code","095d409d":"code","78f73ae8":"code","ff006bdb":"code","68f60915":"markdown","1024ef5a":"markdown","8de72334":"markdown","ff7594c3":"markdown","98997148":"markdown","02ef6286":"markdown","5b8101ff":"markdown","323859ae":"markdown","bc31f3af":"markdown","4e6e3662":"markdown","ced7767d":"markdown","95c7963d":"markdown","a36947d8":"markdown","a11bb633":"markdown","4803c868":"markdown","383db2d9":"markdown","6799d977":"markdown","1d59901e":"markdown","c6e37909":"markdown","98fc42a1":"markdown","a93cf4af":"markdown","f5fde192":"markdown","669de82b":"markdown","6c43e229":"markdown","ac5526c3":"markdown","3db74f69":"markdown","1f5ef2c4":"markdown","9cc56540":"markdown","01de7c74":"markdown","4bdd063e":"markdown","fee3825f":"markdown","d20692a9":"markdown","fc5ac2ff":"markdown"},"source":{"9d926ec5":"%config Completer.use_jedi = False","ae2a9d1e":"# Import Dataset\nimport pandas as pd\nimport numpy as np\nimport os\nfrom glob import glob\n\nfrom datetime import datetime\n\nfrom matplotlib import pyplot as plt\nimport seaborn as sns\nimport missingno as msno\nfrom wordcloud import WordCloud\n\nengagement_path = \"..\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data\/\"","a804d891":"# Set Path to Dataset\ndata_district = pd.read_csv(\"..\/input\/learnplatform-covid19-impact-on-digital-learning\/districts_info.csv\")\ndata_product = pd.read_csv(\"..\/input\/learnplatform-covid19-impact-on-digital-learning\/products_info.csv\")","4aa00c16":"# Get Full Path to Engagement Data\nglob_pattern = os.path.join(engagement_path, '*')\nlist_engagement = sorted(glob(glob_pattern), key=os.path.getctime)\nlist_engagement[:5]","94450e51":"# Read All Engagement Data\nli = []\nfor filename in list_engagement:\n    df = pd.read_csv(filename, index_col=None, header=0)\n    df['district_id'] = filename.split(\"\/\")[-1].split(\".\")[0]\n    li.append(df)\n    \ndata_engagements = pd.concat(li, axis=0, ignore_index=True)","0cbc40a2":"# Show First 5 row of Disctrict Data\ndata_district.head()","bbfa0592":"# Show District Data Columns Name\ndata_district.columns","c2c76dbd":"# Show District Data Info\ndata_district.info()","f442b5ad":"#Show Disctrict Data Statistical Value\ndata_district.describe(include='all')","41bf91c8":"#Visualize Missing Value\nmsno.bar(data_district,color='#4895ef', sort=\"ascending\", figsize=(10,5), fontsize=12)\nplt.show()","c1ef54cf":"#Show Null Index Based On pp_total_raw Null Value\ndata_district[data_district['pp_total_raw'].isnull()]","115eafe0":"#Drop Index That 6 Coloumn Contain NAN Value\ndata_district.dropna(thresh=6, inplace=True)","ca38fc5c":"data_district.isnull().sum()","3debfe89":"data_district['locale'].value_counts()","ab31b4de":"# Create Pie Chart For Locale Columns\ndata_district['locale'].value_counts().plot(kind='pie',\n                                           explode=[0.05, 0.05, 0.05, 0.05],\n                                           fontsize=12,\n                                           autopct='%3.1f%%',\n                                           figsize=(7,7),\n                                           startangle=135,\n                                           cmap='Wistia')\nplt.ylabel(\"Locale Data\")","804d419e":"data_district['state'].value_counts()","5fc6e768":"sns.catplot(data=data_district, y='state', kind='count', height=12, aspect=1)\nplt.title(\"Frequent State\")","38544792":"sns.displot(data=data_district, y='state', hue='locale', height=10, aspect=0.8)\nplt.title(\"Distribution Between State and Locale\")","7c506007":"sns.displot(data=data_district, y='state', hue='locale', col='locale', height=10, aspect=0.8)","6f9a7880":"sns.countplot(data=data_district, x='pct_black\/hispanic',\n             order = data_district['pct_black\/hispanic'].value_counts().index,\n             hue='locale')\nplt.legend(loc=\"upper right\")","2643f4ab":"# pct_black_hispanic extraction\n# Remove Symbols and Separate the number\npct_black_hispanic = data_district['pct_black\/hispanic'].str.split(',', n=1, expand=True)\ndata_district['pct_black'] = pct_black_hispanic[0].str.replace('[','',regex=True)\ndata_district['hispanic'] = pct_black_hispanic[1].str.replace('[','',regex=True)\ndata_district['pct_black'] = pd.to_numeric(data_district['pct_black'])\ndata_district['hispanic'] = pd.to_numeric(data_district['hispanic'])\n\ndata_district['pct_black\/hispanic_mean'] = (data_district['pct_black'] + data_district['hispanic'])\/2","ca6da1c8":"\ndata_district.head()","3055bc4f":"# Distribution plot for pct_black, pct_hispanic and pct_black\/hispanic mean\nsns.displot(data=data_district, x='pct_black', hue='locale', kind='kde')\nsns.displot(data=data_district, x='hispanic', hue='locale', kind='kde')\nsns.displot(data=data_district, x='pct_black\/hispanic_mean', hue='locale', kind='kde')","709ccee6":"# Distribution plot based on state\nsns.displot(data=data_district, x='pct_black\/hispanic_mean', hue='state', height=8, aspect=.8)","55e94cd1":"sns.countplot(data=data_district, x='pct_free\/reduced',\n             order = data_district['pct_free\/reduced'].value_counts().index,\n             hue='locale')\nplt.legend(loc=\"upper right\")","76f8d13c":"# pct_free\/reduced extraction\n# Remove Symbols and Separate the number\npct_free_reduced = data_district['pct_free\/reduced'].str.split(',', n=1, expand=True)\ndata_district['free'] = pct_free_reduced[0].str.replace('[','',regex=True)\ndata_district['reduced'] = pct_free_reduced[1].str.replace('[','',regex=True)\ndata_district['free'] = pd.to_numeric(data_district['free'])\ndata_district['reduced'] = pd.to_numeric(data_district['reduced'])\n\n\ndata_district['free'].fillna(data_district['free'].mean(), inplace=True)\ndata_district['reduced'].fillna(data_district['reduced'].mean(), inplace=True)\n\ndata_district['pct_free\/reduced_mean'] = (data_district['free'] + data_district['reduced'])\/2","f3b0d6fd":"data_district.head()","7e7d432c":"sns.displot(data=data_district, x='free', hue='locale', kind='kde')\nsns.displot(data=data_district, x='reduced', hue='locale', kind='kde')\nsns.displot(data=data_district, x='pct_free\/reduced_mean', hue='locale', kind='kde')","29c50d67":"sns.displot(data=data_district, x='pct_free\/reduced_mean', hue='state', height=8, aspect=.8)","0351c9c5":"sns.countplot(data=data_district, x='county_connections_ratio',\n             order = data_district['county_connections_ratio'].value_counts().index,\n             hue='locale')\nplt.legend(loc=\"upper right\")","54b52845":"fig, ax = plt.subplots(figsize=(20,10))\nsns.countplot(ax=ax, data=data_district, x='county_connections_ratio',\n             order = data_district['county_connections_ratio'].value_counts().index,\n             hue='state')\nplt.legend(loc=\"upper right\")","aecced11":"sns.countplot(data=data_district, y='pp_total_raw')\nplt.show()","8c7eb48d":"# pct_free\/reduced extraction\n# Remove Symbols and Separate the number\n\npp_total_raw = data_district['pp_total_raw'].str.split(\",\",n=1,expand=True)\n\ndata_district['total'] = pp_total_raw[0].str.replace('[','',regex=True)\ndata_district['raw'] = pp_total_raw[1].str.replace('[','',regex=True)\n\ndata_district['total'] = pd.to_numeric(data_district['total'])\ndata_district['raw'] = pd.to_numeric(data_district['raw'])\n\ndata_district['total'].fillna(data_district['total'].mean(), inplace=True)\ndata_district['raw'].fillna(data_district['raw'].mean(), inplace=True)\n\ndata_district['pp_total_raw_mean'] = (data_district['total'] + data_district['raw'])\/2","6cf8842a":"sns.displot(data=data_district, x=\"pp_total_raw_mean\", hue='state', height=8, aspect=.8)\nplt.show()","14b1adae":"data_product.head()","1d52730c":"data_product.info()","f5dd8add":"data_product.describe(include='all')","3ed64972":"msno.bar(data_product,color='#4895ef', sort=\"ascending\", figsize=(10,5), fontsize=12)\nplt.show()","d10058dc":"plt.figure(figsize=(12, 8))\nsns.countplot(y='Provider\/Company Name', data=data_product, order=data_product[\"Provider\/Company Name\"].value_counts().index[:10])\nplt.title(\"Top 10 Provider\/Company Names\",font=\"Serif\", size=20)\nplt.show()","647ee99c":"d1=d2=d3=0\nfor s in data_product[\"Sector(s)\"]:\n    if(not pd.isnull(s)):\n        s = s.split(\";\")\n        for i in range(len(s)):\n            sub = s[i].strip()\n            if(sub == 'PreK-12'): d1+=1\n            if(sub == 'Higher Ed'): d2+=1\n            if(sub == 'Corporate'): d3+=1\n\nfig, ax  = plt.subplots(figsize=(16, 8))\nfig.suptitle('Sector Distribution', size = 20, font=\"Serif\")\nexplode = (0.05, 0.05, 0.05)\nlabels = ['PreK-12','Higher Ed','Corporate']\nsizes = [d1,d2, d3]\nax.pie(sizes, explode=explode,startangle=60, labels=labels,autopct='%1.2f%%', pctdistance=0.7, colors=[\"#ff228a\",\"#20b1fd\",\"#ffb703\"])\nax.add_artist(plt.Circle((0,0),0.4,fc='white'))\nplt.show()\n","c4713ba7":"primary_sub = data_product['Primary Essential Function'].str.split(\"-\",n=1,expand=True)\ndata_product['primary'] = primary_sub[0]\ndata_product['sub'] = primary_sub[1]","5f629e23":"data_product['primary'].value_counts().plot(kind='pie',\n                                           explode=[0.05, 0.05, 0.05, 0.05],\n                                           fontsize=12,\n                                           autopct='%3.1f%%',\n                                           figsize=(7,7),\n                                           startangle=135,\n                                           cmap='Wistia')\nplt.ylabel(\"Primary\")","056e9b92":"sns.catplot(data=data_product, y='sub', kind='count', height=12, aspect=1)","63a51ef1":"sns.displot(data=data_product, y='Primary Essential Function', hue='Sector(s)', height = 12, aspect=2)\nplt.show()","459bdee5":"products_name = data_product['Product Name'].unique()\nproducts_name_str = \",\".join(products_name)\n\nwordist = WordCloud(width=1000, height=500, random_state=1, background_color='white', collocations=False).generate(products_name_str)\nplt.figure(figsize=(15,15))\nplt.imshow(wordist)\nplt.axis(\"off\")\nplt.show()","2d1ee504":"# providers_name = data_product['Provider\/Company Name'].unique()\n# providers_name_str = \",\".join(products_name)\n\n# wordist = WordCloud(width=1000, height=500, random_state=1, background_color='white', collocations=False).generate(providers_name_str)\n# plt.figure(figsize=(15,15))\n# plt.imshow(wordist)\n# plt.axis(\"off\")\n# plt.show()","20005733":"data_engagements.head()","344c5f02":"data_engagements = data_engagements[~data_engagements.lp_id.isnull()]\ndata_engagements = data_engagements[~data_engagements.district_id.isnull()]","30cc88ad":"data_engagements['time'] = pd.to_datetime(data_engagements['time'])\ndata_engagements['quarter'] = data_engagements.time.apply(lambda x:x.quarter)\ndata_engagements['week'] = data_engagements.time.apply(lambda x:x.weekofyear)","20732237":"data_engagements['lp_id'] = data_engagements['lp_id'].apply(lambda x: str(int(x)))\ndata_engagements['district_id'] = data_engagements['district_id'].astype('str')","ac1bb811":"data_engagements.isnull().sum()","62c04fb0":"data_engagements.dropna(inplace=True)","4c899134":"data_engagements.describe(include='all', datetime_is_numeric=True)","3556530d":"data_engagements.head()","06761771":"def lineplot(df, agr_col, target_col, title):\n    fig, ax1 = plt.subplots(figsize = [15,5])\n    ymin = 0\n    ymax = df[target_col].max()\n    plt.vlines(x=datetime.strptime('2020-02-10', '%Y-%m-%d'), ymin=ymin, ymax=ymax, color = 'blue', lw = 4)\n    ax1.fill_between([datetime.strptime('2020-05-15', '%Y-%m-%d'), datetime.strptime('2020-09-15', '%Y-%m-%d')], 0, ymax, alpha = 0.15, color = 'purple')\n    ax1 = sns.lineplot(data = df, x = agr_col, y = target_col, color = 'green')\n    plt.title(title)\n    plt.show()","987f98d1":"# Create visualization for total engagements per day\ntemp_df = data_engagements.groupby('time').agg({'engagement_index':'sum', 'pct_access':'sum'}).reset_index(drop = False)\nlineplot(temp_df, 'time', 'engagement_index', 'Total Engagement per day')","93442c37":"def weekly_barplot(df, agr_col, target_col, title):\n    fig, ax1 = plt.subplots(figsize = [15,5])\n    ymin = 0\n    ymax = df[target_col].max()\n    ax1 = sns.barplot(data = data, x = agr_col, y = target_col, color = 'dodgerblue')\n    ax1.set_box_aspect(10\/len(ax1.patches)) #change 10 to modify the y\/x axis ratio\n    ax1 = plt.vlines(x=5, ymin=ymin, ymax=ymax, color = 'red', lw = 4)\n    ax1 = plt.vlines(x=31, ymin=ymin, ymax=ymax, color = 'black', lw = 4)\n    plt.title(title);\n    plt.show()","e666a572":"temp_df = data_engagements.groupby('week').agg({'engagement_index':'sum', 'pct_access':'mean'}).reset_index(drop = False)\ndata = temp_df[~temp_df.week.isin([1, 53] + list(range(20, 39)))].sort_values('week')\nweekly_barplot(data, 'week', 'engagement_index', 'Weekly Engagement')","61c6d5ce":"temp_df = data_engagements.groupby(by = 'time', as_index = True).agg('mean')\n\nplt.rcParams['figure.figsize']= [15, 8]\nstart_date = datetime(2020,5,1)\nend_date = datetime(2020,9,30)\ntemp_df[(start_date<=temp_df.index) & (temp_df.index<=end_date)].plot(y='engagement_index',grid=True)\nplt.show()","beab4d1a":"plt.rcParams['figure.figsize']= [15, 8]\ntemp_df[(start_date<=temp_df.index) & (temp_df.index<=end_date)].plot(y='pct_access',grid=True)\nplt.show()","d0b50481":"# Convert district_id to int64,so the data can be merged with engagement data\ndata_engagements['district_id'] = data_engagements['district_id'].astype(np.int64)","5f976df7":"# Rename LP ID to lp_id to int64,so the data can be merged with engagement data\ndata_product = data_product.rename({'LP ID': 'lp_id'}, axis=1)","a6be1d1d":"data_product['lp_id'] = data_product['lp_id'].astype(np.int64)","aa0b5422":"# Merge data_engagements with data_district\nengagement_combine = pd.merge(data_engagements,data_district,on=['district_id'])","7e6a854f":"engagement_combine['lp_id'] = engagement_combine['lp_id'].astype(np.int64)","f02297eb":"# Merge with data_product\nengagement_combine = pd.merge(engagement_combine,data_product,on=['lp_id'])","00734091":"engagement_combine.describe(include='all', datetime_is_numeric=True)","5abaaf01":"engagement_combine.groupby('Primary Essential Function')[['engagement_index']].median().plot(kind='bar', figsize=(15, 7), color=['blue'])\nplt.show()","095d409d":"# Plot distribusi Engagement index based on Sector\nengagement_combine.groupby('Sector(s)')[['engagement_index']].median().plot(kind='bar', figsize=(15, 7), color=['blue'])\nplt.show()","78f73ae8":"# Plot distribusi Engagement index based on locale\nengagement_combine.groupby(['locale'])[['pct_access']].median().plot(kind='bar', figsize=(15, 7),color=['green'])\nplt.show()","ff006bdb":"engagement_combine.groupby(['state'])[['engagement_index']].median().plot(kind='bar', figsize=(15, 7),color=['green'])\nplt.show()","68f60915":"* Gambar diatas menunjukkan pct_free\/reduced mayoritas berada pada **suburb**","1024ef5a":"* Gambar di atas menunjukkan mayoritas **state** memiliki persentase pct_black\/hispanic yang rendah","8de72334":"* What is the picture of digital connectivity and engagement in 2020?\n    \n    Dari grafik yang terlihat, terjadi perubahan yang signifikan ketika COVID-19 terjadi.\n\n* What is the effect of the COVID-19 pandemic on online and distance learning, and how might this also evolve in the future?\n\n    Dari data yang ada, pengaruh COVID-19 berakibat pada berubahnya pola belajar secara *offline* menjadi *online*, *Digital Learning Platforms* akan menjadi sarana baru sebagai tempat belajar pada pelajar saat pandemi dan setelah pandemi.\n    \n* How does student engagement with online learning platforms relate to different geography? Demographic context (e.g., race\/ethnicity, ESL, learning disability)? Learning context? Socioeconomic status?\n\n    Berdasarkan data, engagement index tertinggi terdapat pada **locale Rural** dan **Sector Corporate** dan **State North Dakota**\n    \n\n    \n    ","ff7594c3":"* Gambar diatas menunjukkan pct_black\/hispanic mayoritas berada pada **suburb** dan **rural**","98997148":"* Mayoritas **state** memiliki persentasi yang rendah pada pendistribusian data county_connections_ratio ","02ef6286":"Data Definition\n","5b8101ff":"# District Data Processing","323859ae":"* Gambar di atas menunjukkan mayoritas **state** retdistribusi pp_total_raw","bc31f3af":"* Plural memilki engagement index yang lebih tinggi","4e6e3662":"# Engagement Data in District Dataset","ced7767d":"**District Data Describe**\n\n* District id memiliki 233 nilai\n* Terdapat 23 *state* pada dataset\n* Connecticut merupakan *state* yang sering muncul pada data\n* Terdapat 4 *locale* pada dataset\n* *Suburb* merupakan *locale* yang sering muncul pada data\n* pct_black\/hispanic memiliki 5 ratio yang berbeda\n* Ratio 0,0.2 memiliki frekuensi kemunculan paling tinggi\n* county_connections_ratio memiliki 2 ratio yang berbeda\n* Ratio 0.18,1 memiliki frekuensi kemunculan paling tinggi\n* pp_total_raw memiliki 11 ratio yang berbeda\n* Ratio 8000,10000 memiliki frekuensi kemunculan paling tinggi","95c7963d":"* Gambar di atas menunjukkan banyak **state** memiliki persentase rata-rata pct_free\/reduced","a36947d8":"# Product Data Processing","a11bb633":"* Pada gambar diatas, Utah merupakan *state* dengan frekuensi kemunculan terbanyak","4803c868":"Data Preparation","383db2d9":"* Dari grafik di atas, terlihat terdapat kenaikan **engagement index** dari bulan Februari menuju Maret\n* Terjadi penurunan **engagement index** antara bulan may 2020 dan september 2020","6799d977":"* Dari gambar di atas terlihat Google LLC adalah provider yang sering digunakan\n* Selisih Google LLC dibandingkan provider yang lainnya relatif sangat jauh","1d59901e":"* **Prek-12** memiliki persentase yang lebih tinggi pada distribusi **Sector(s)**","c6e37909":"# Engagement Data Processing","98fc42a1":"**District Dataset Information**\n\n* Terdapat 233 baris data dan 7 Kolom pada dataset distrik\n* Terdapat 1 kolom numerical, sisanya adalah object atau kategorical\n* Terdapat *missing values* pada dataset","a93cf4af":"Lakukan ekstraksi pct_black\/hispanic menjadi tipe numeric dengan menhitung rata-rata dari angka rasio.","f5fde192":"* Timestamp waktu dimulai sejak tanggal 1 Januari 2020","669de82b":"* Mayoritas **Primary Essential Function** adalah LC","6c43e229":"* Gambar di atas menunjukkan **Primary Essential Function** yang sering digunakan adalah Digital Learning Platform","ac5526c3":"**Missing Values Info**\n\n* District id tidak memiliki *missing values*\n* pp_total_raw memiliki *missing values* terbanyak","3db74f69":"* Plot di ats menunjukkan mayoritas Prek-12 **Sector(s)** banyak terdistribusi dengan LC-Digital Learning","1f5ef2c4":"* Pie Chart menunjukan *suburb* mempunyai persentasi yang lebih besar dibandingkan *Rural*, *City*, dan *Town* dari kolom **locale**","9cc56540":"* Missing Value pada data relatif sedikit\n* **Sector(s)** dan **Primary Essential Function** mempunyai missing value yang lebih banyak diantara yang lain","01de7c74":"* Sector Corporate memiliki engagement index yang paling tinggi","4bdd063e":"* Mayoritas **suburb** berada pada **state** Utah, Illinois, Connecticut, dan Ohio\n* Mayoritas **rural** berada pada **state** Connecticut, New York, dan Illinois\n* Mayoritas **city** berada pada **state** California, dan Utah\n* Mayoritas **town** berada pada **state** Utah","fee3825f":"# Conclusion","d20692a9":"* Plot di atas menunjukkan mayoritas county_connections_ratio berada pada rasio 0.18,1\n* **Suburb** memiliki county_connections_ratio yang banyak","fc5ac2ff":"* Terdapat 372 jenis **URL** dan **Product Name**\n* Terdapat 290 jenis **Provider\/Company Name** \n* Terdapat 5 jenis **Sector(s)** \n* Terdata 35 jenis **Primary Essential Function**\n* **URL** yang paling sering muncul adalah *https:\/\/www.splashmath.com*\n* **Product Name** yang memiliki frekuensi kemunculan yang tinggi adalah SplashLearn\n* **Provider\/Company Name** yang banyak digunakan adalah Google LLC\n* **Sector(s)** yang banyak muncul adalah Prek-12\n* **Primary Essential Function** yang banyak digunakan adalah LC-Digital Learning Plaforms"}}