{"cell_type":{"b88bccce":"code","5462e206":"code","0f4f228b":"code","fe26a952":"code","8b538d41":"code","3074280d":"code","57cfae9e":"code","0bf41aff":"code","5cbc9c61":"code","ec86be24":"code","46bcb1cc":"code","ebd283e6":"code","0046ae41":"code","07e480aa":"code","c6c9c365":"code","f4d21d0f":"code","d81fb06f":"code","0bf69740":"code","5724aecd":"code","e7a350f4":"code","cb0908ff":"code","444409e1":"code","5dcc7266":"code","b4667896":"code","2b2e54c8":"code","b7b4f820":"code","2652d05f":"code","5173377a":"code","954a7120":"code","b67c3d41":"code","d95d23c4":"code","a0a265df":"code","58f74531":"code","dd64df28":"code","3dac672d":"markdown","ea0a3a5e":"markdown","199d66b8":"markdown","53af3d96":"markdown","2695a2aa":"markdown","219209e9":"markdown","b9def3d7":"markdown","e4dd246c":"markdown","79dbd88c":"markdown","b2302458":"markdown","305d8762":"markdown","8d95daea":"markdown","c4cb0d1d":"markdown","f41e7789":"markdown","4c55de48":"markdown","89d4a851":"markdown","c66d5d37":"markdown","08f6d749":"markdown"},"source":{"b88bccce":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","5462e206":"import numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.model_selection import train_test_split\n%matplotlib inline\nimport sys\nfrom sklearn.linear_model import LinearRegression \nfrom sklearn import metrics\nfrom sklearn import preprocessing\nimport statsmodels.api as sm","0f4f228b":"train=pd.read_csv('\/kaggle\/input\/av-healthcare-analytics-ii\/healthcare\/train_data.csv')\ntest=pd.read_csv('\/kaggle\/input\/av-healthcare-analytics-ii\/healthcare\/test_data.csv')\nsub=pd.read_csv('\/kaggle\/input\/av-healthcare-analytics-ii\/healthcare\/sample_sub.csv')","fe26a952":"train.head()","8b538d41":"train.info()\n","3074280d":"train.isna().sum()","57cfae9e":"train.head()","0bf41aff":"train['count']=1","5cbc9c61":"train.head()","ec86be24":"train.Stay.value_counts()","46bcb1cc":"train.Age.value_counts()","ebd283e6":"train['Severity of Illness'].describe()","0046ae41":"train['Hospital_type_code'].describe()","07e480aa":"plt.figure(figsize = (10,5))\nsns.countplot(x = 'Hospital_type_code', data = train, palette = 'gist_earth')\nplt.xlabel('Hospital type code', size = 20)\nplt.ylabel('Patient Density', size = 20)\nplt.title('Patient Density per Hospital Type Code')\nplt. savefig('100dpi1.png', dpi=100)\nplt.show()","c6c9c365":"plt.figure(figsize = (10,5))\nsns.countplot(x = 'Hospital_type_code', data = train, palette = 'rainbow')\nplt.xlabel('Hospital type code', size = 20)\nplt.ylabel('Stay', size = 20)\nplt.title('Length of Stay per Hospital Type Code')\nplt. savefig('100dpi2.png', dpi=100)\nplt.show()","f4d21d0f":"train.Stay.value_counts()","d81fb06f":"Stay_index = train.Stay.value_counts().index[:11]\nStay_index","0bf69740":"Hospital_type_codeindex= train.Hospital_type_code.value_counts().index[:7]\nHospital_type_codeindex","5724aecd":"subdata = train[(train.Hospital_type_code.isin(Hospital_type_codeindex)) & (train.Stay.isin(Stay_index))]","e7a350f4":"cf = pd.crosstab(columns=subdata.Stay, index = subdata.Hospital_type_code) \ncf","cb0908ff":"plt.figure()\ncf = pd.crosstab(columns=subdata.Stay, index = subdata.Hospital_type_code) \ncf.plot.bar(figsize = (20,8), )\nplt.legend(loc = 'best')\nplt. savefig('100dpi3.png', dpi=100)\nplt.show()\n","444409e1":"train.Hospital_region_code.describe()","5dcc7266":"train.Hospital_region_code.value_counts()","b4667896":"import plotly.express as px\nfig = px.sunburst(train, path=['Hospital_region_code', 'Hospital_type_code'])\nfig.update_layout(title='Categorizing Hospital Type according to Region')\nfig.show()","2b2e54c8":"train","b7b4f820":"train.Ward_Type.value_counts()","2652d05f":"train.Ward_Facility_Code.value_counts()","5173377a":"train_new=train.drop(['case_id','Hospital_code','City_Code_Hospital','Hospital_region_code','City_Code_Patient','Visitors with Patient','Admission_Deposit','Ward_Facility_Code','Ward_Type'],axis=1)","954a7120":"train_new","b67c3d41":"train_new.drop(train_new.index[4])","d95d23c4":"train_new=train_new.drop(['Hospital_type_code','patientid'],axis=1)","a0a265df":"train_new","58f74531":"plt.figure(figsize=(12, 6))\nsns.countplot(train_new['Available Extra Rooms in Hospital']) ","dd64df28":"plt.figure(figsize=(12, 6))\nsns.countplot(train.Department) \nplt. savefig('100dpi4.png', dpi=100)\n","3dac672d":"### These indep variables are not valuable for our task. The aim of this project is to predict the LOS. Predicting LOS helps hospitals to identify patients of high LOS risk (patients who will stay longer) at the time of admission and thus better allocate resources for the management of these patients for the purposse of decreasing that long LOS.Thus, how patients are distributed betweeen different hospital type codes and region is not important here at all. What we care about is how to better manage patient at risk of high LOS in each hospital.","ea0a3a5e":"### This doesn't tell me much. Highest patient density (patient admissions) is in Gyn department. Typically for the LOS won't go over 2-3 days. Unless there's complications with mom or baby. Many departments are not included in this dataset; especially departments that tend to have patients with high LOS.\n### Where's the ICU? DOU? MedSurg? Telemetry? NICU? ","199d66b8":"### Most patients in all hopital type codes had a LOS= 21-30 followed by 11-20","53af3d96":"### For this matter I have decided to drop:case_id,Hospital_code,City_Code_Hospital,Hospital_region_code,City_Code_Patient,Visitors with patient,Admission_Deposit\n### I will keep the indep variable Hospital_type_code","2695a2aa":"# Bivariate Analysis","219209e9":"### there are 7 unique hospital type codes with 'a' being the most frequent code which shows that the density of patient cases will be highest in hospital type code 'a'","b9def3d7":"### Age groups 41-50 and 31-40 are the most freq group hospitalized","e4dd246c":"### this confirms what I stated before : hospital with type code'a' has highest number of patients\n### thus, less beds\/rooms left available. hospital with type code'g' has lowest number pf patients\n### thus, more beds\/rooms left available. \n### But what is the LOS of most patients in hospital with type code'a'?\n### what is the LOS of most patients in hospital with type code'g'?\n### LOS will determine how often the beds become readily available regardless of current \n### patient density.","79dbd88c":"### The questions we need to answer to predict patients at risk of high LOS:\n### - What department has the greater density of patients with highest LOS?\n### - Can bed grade affect LOS? Can it play a role in decreasing or increasing LOS?\n### - What type of Admission is associated with highest LOS?\n### - What level of severity of illness is associated with highest LOS?\n### - What Age group is associated with highest LOS?\n\n### We will answer these questions in the following visualizations.\n","b2302458":"# Data Exploration","305d8762":"### Since the significant and busiest units of the hospital, where the MAJORITY of patients stay for care, are missing. I conclude that this dataset is incomplete. One can't possibly build a model to predict LOS using a dataset in which the vast majority of its records is from the labor & delivery unit. Any predictive ML model built using this dataset would do poorly and would give a misrepresentation of the predicted LOS. ","8d95daea":"### Available extra rooms in hospital ","c4cb0d1d":"# Data Wrangling","f41e7789":"# Data Visualization","4c55de48":"### Patient denisty per department","89d4a851":"### I will drop Ward_Type and Ward_Facility_Code as well. As they don't play any role in predicting our dep variable LOS.","c66d5d37":"### This shows that patient density is very close within X and Y region. in the X region the patients are better distributed between different hospital codes than regions Y and Z.\n ","08f6d749":"### the patientid in the first 5 observations is the same: 31397. Is this re-admission ? 31397 mentioned twice in hospital type code c and twice in b.\n### as a healthcare professional I know that the patient is given same MRN regardless of number of encounters. It is alarming because the LOS ASSOCIATED with that patientid is very high 41-50 days. Maybe there are duplicated rows? rows 3 and 4 seem duplicated. Let me drop one of them."}}