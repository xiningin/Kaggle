{"cell_type":{"f2d22945":"code","67053976":"code","d590a596":"code","9aa43b73":"code","3f0bae36":"markdown","eb7a8ea1":"markdown","48594b1d":"markdown"},"source":{"f2d22945":"# Read in the data\n\nimport numpy as np\nimport pandas as pd\n\ntrain = pd.read_csv(\"..\/input\/covid19-local-us-ca-forecasting-challenge-week-1\/ca_train.csv\")\ntest  = pd.read_csv(\"..\/input\/covid19-local-us-ca-forecasting-challenge-week-1\/ca_test.csv\")","67053976":"public_leaderboard_start_date = \"2020-03-12\"\nlast_public_leaderboard_train_date = \"2020-03-11\"\npublic_leaderboard_end_date  = \"2020-03-26\"\n\nsubmission = test[[\"ForecastId\"]]\nsubmission.insert(1, \"ConfirmedCases\", 0)\nsubmission.insert(2, \"Fatalities\", 0)\n\ncases  = train[train[\"Date\"]==last_public_leaderboard_train_date][\"ConfirmedCases\"].values[0] * (2**(1\/4))\ndeaths = train[train[\"Date\"]==last_public_leaderboard_train_date][\"Fatalities\"].values[0] * (2**(1\/4))\n\nfor i in list(submission.index)[:15]:\n    cases = cases * (2**(1\/4))\n    deaths = deaths * (2**(1\/4))\n    submission.loc[i, \"ConfirmedCases\"] = cases\n    submission.loc[i, \"Fatalities\"] = deaths\n\nsubmission","d590a596":"last_train_date = max(train[\"Date\"])\n\ncases  = train[train[\"Date\"]==last_public_leaderboard_train_date][\"ConfirmedCases\"].values[0]\ndeaths = train[train[\"Date\"]==last_public_leaderboard_train_date][\"Fatalities\"].values[0]\n\nfor i in submission.index:\n    if test.loc[i, \"Date\"]>last_train_date: # Apply growth rule\n        cases  = cases  * (2**(1\/4))\n        deaths = deaths * (2**(1\/4))\n    if test.loc[i, \"Date\"]>public_leaderboard_end_date: # Update submission value\n        submission.loc[i, \"ConfirmedCases\"] = cases\n        submission.loc[i, \"Fatalities\"] = deaths\n\nsubmission","9aa43b73":"submission.to_csv(\"submission.csv\", index=False)","3f0bae36":"# Public Leaderboard Predictions\n\nWe should be only using data up until 2020-03-11 for the public leaderboard.","eb7a8ea1":"# Final Evaluation Prediction\n\nFor this, we'll use the most recent data point to predict forward into the future period (corresponding to after submissions close for this competition).","48594b1d":"# Sample Submission: 4-Day Doubling Baseline\n\nThis is for the COVID-19 forecasting challenge, Local-CA Week 1 edition.\n\nThis will walk through making a sample submission based on the dataset.\n\nIt makes the obviously flawed assumption that COVID-19 cases\/fatalities double indefinitely every 4 days from the most recent data points.\n\nIt will apply the most recent data point (prior to each of the public\/private evaluation windows), and propagate those forward through time."}}