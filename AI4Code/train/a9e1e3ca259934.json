{"cell_type":{"37a7c084":"code","bf26becd":"code","ec020764":"code","ebc727b3":"code","f87b7141":"code","b64b6a69":"code","3c1681fb":"code","563ed5dc":"code","8be94bc7":"code","0242c790":"code","393cd9e8":"code","7a84a38f":"code","819b7ce0":"code","88cd41f1":"code","180ecd72":"code","ab8cdbdb":"code","7eaddcc0":"code","fb76c340":"code","3573e221":"code","30e74063":"code","87cbad07":"code","4b257ecb":"code","b99a87f5":"code","08f81057":"code","8d997d88":"code","1c5d2214":"code","fd46c95b":"code","80a71156":"code","72ae8277":"code","1c8a15ec":"code","3b5e7965":"code","ea4cd89d":"code","a3eb99f7":"code","13eea47e":"markdown","814c6945":"markdown","dd49cfc1":"markdown","222bc0fa":"markdown","c997a36d":"markdown","0a42bf3a":"markdown","fc5abe5e":"markdown","a08c796d":"markdown","508ebc38":"markdown","222b93ef":"markdown","26163dfa":"markdown","b1d5cbe3":"markdown","6ecc0996":"markdown","57aa0d84":"markdown","3024ed62":"markdown","06201846":"markdown","1ede654c":"markdown","f31a8c65":"markdown","acbb695a":"markdown","0e8e532f":"markdown","196ea091":"markdown","a626a01b":"markdown","0f66a3ba":"markdown","19ce4619":"markdown"},"source":{"37a7c084":"import os \nfor dirname, _, filenames in os.walk('\/kaggle\/input'): \n    for filename in filenames: \n        print(os.path.join(dirname, filename))","bf26becd":"import pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\n\ni94 = pd.read_csv('..\/input\/metro-traffic-volume\/Metro_Interstate_Traffic_Volume.csv')\n\ni94.head()","ec020764":"i94.tail()","ebc727b3":"# checking columns in the dataset\n\ni94.info()","f87b7141":"# we notice date_time column is type 'object', we will need to convert\/cast it to datetime type. \n\ni94['date_time'] = pd.to_datetime(i94['date_time'])","b64b6a69":"# checking if our column 'date_time' is type datetime64\ni94.info()","3c1681fb":"i94['traffic_volume'].plot.hist()\nplt.show()","563ed5dc":"#examining traffic_volume column\n\ni94['traffic_volume'].describe()","8be94bc7":"day = i94.copy()[(i94['date_time'].dt.hour >= 7) & (i94['date_time'].dt.hour < 19)]\nday.describe()","0242c790":"night = i94.copy()[(i94['date_time'].dt.hour >= 19) | (i94['date_time'].dt.hour < 7)]\nnight.shape\nnight.describe()","393cd9e8":"plt.figure(figsize = (12,3.5))\n\n# plotting day time \nplt.subplot(1,2,1)\nplt.hist(day['traffic_volume'])\nplt.ylim(0,8000)\nplt.xlim(-100, 7500)\nplt.xlabel('Traffic Volume')\nplt.ylabel('Frequency')\nplt.title('Traffic Volume: Day')\n\n#plotting night time\nplt.subplot(1,2,2)\nplt.hist(night['traffic_volume'])\nplt.ylim(0,8000)\nplt.xlim(-100, 7500)\nplt.xlabel('Traffic Volume')\nplt.ylabel('Frequency')\nplt.title('Traffic Volume: Night')\n\n\nplt.show()","7a84a38f":"# lets take a look at traffic volumes by month\n\nday['month'] = day['date_time'].dt.month\nby_month = day.groupby('month').mean()\nby_month['traffic_volume']","819b7ce0":"# creating a line plot to show how traffic volume changes with time\n\nby_month['traffic_volume'].plot.line()\nplt.xlabel('Month of the Year')\nplt.ylabel('Traffic Volume')\nplt.title('Traffic Volume Throughout The Year')\n\nplt.show()","88cd41f1":"day['year'] = day['date_time'].dt.year\nonly_july = day[day['month'] == 7]\nonly_july.groupby('year').mean()['traffic_volume'].plot.line()\nplt.show()","180ecd72":"day['dayofweek'] = day['date_time'].dt.dayofweek\nby_dayofweek = day.groupby('dayofweek').mean()\nby_dayofweek['traffic_volume']","ab8cdbdb":"#plotting average traffic per day\n\nby_dayofweek['traffic_volume'].plot.line()\nplt.xlabel('Day of Week')\nplt.ylabel('Traffic Volume')\nplt.title('Traffic Volume Per Day of Week')\nplt.show()","7eaddcc0":"day.head()","fb76c340":"day['hour'] = day['date_time'].dt.hour\n\nweekend_days = day.copy()[day['dayofweek'] >= 5]\nbusiness_days = day.copy()[day['dayofweek'] <= 4]\n","3573e221":"weekend_days.head()","30e74063":"business_days.head()","87cbad07":"by_hour_weekend = weekend_days.groupby('hour').mean()\nby_hour_business = business_days.groupby('hour').mean()\n","4b257ecb":"by_hour_weekend.head()","b99a87f5":"by_hour_business.head()","08f81057":"plt.figure(figsize = (12,4))\n\n# Weekend Days\nplt.subplot(1,2,1)\nby_hour_weekend['traffic_volume'].plot.line()\nplt.xlabel('Hour of the Day')\nplt.ylabel('Traffic Volume')\nplt.xlim(6,20)\nplt.ylim(1500,6500)\nplt.title('Average Traffic Volume Per Hour during Weekends')\n\n#Business Days\nplt.subplot(1,2,2)\nby_hour_business['traffic_volume'].plot.line()\nplt.xlabel('Hour of the Day')\nplt.ylabel('Traffic Volume')\nplt.xlim(6,20)\nplt.ylim(1500,6500)\nplt.title('Average Traffic Volume Per Hour during Business Days')\n\nplt.show()\n","8d997d88":"day.head()","1c5d2214":"day.corr()","fd46c95b":"#lets visualize correlation values using a heatmap\n\ncorrelation = day.corr()\n\nplt.figure(figsize = (12,6))\n\nsns.heatmap(correlation, annot = True, linecolor='white',linewidths=0.1, cmap = 'BuGn')\nplt.title('Correlation Matrix')\n\nplt.show()","80a71156":"#grouping by weather \nby_weather_main = day.groupby('weather_main').mean()","72ae8277":"by_weather_main.head()","1c8a15ec":"plt.figure(figsize = (12,7))\n\nby_weather_main['traffic_volume'].plot.barh()\nplt.xlabel('Traffic Volume')\nplt.ylabel('Weather')\nplt.title('Average Traffic Volumes for each Weather from 2012-2018 on I-94 Interstate Highway')\n\nplt.show()","3b5e7965":"by_weather_description = day.groupby('weather_description').mean()","ea4cd89d":"by_weather_description.head()","a3eb99f7":"plt.figure(figsize = (14,12))\n\nby_weather_description['traffic_volume'].plot.barh()\nplt.xlabel('Traffic Volume')\nplt.ylabel('Weather Description')\nplt.title('Average Traffic Volumes for each Weather description from 2012-2018 on I-94 Interstate Highway')\nplt.axvline(x = 5000, color = 'Red')\n\nplt.show()","13eea47e":"Again as expected, Saturday and Sunday have lower traffic volumes than the rest of the week.","814c6945":"Just by using the 'describe()' method, it's clear that day time has a much higher traffic volume than night. Lets visualize it to see it better.","dd49cfc1":"Lets take a look at the average traffic per day ","222bc0fa":"Given these plots,we can deduce the following: <br>\n- On average business days have higher traffic volumes than weekend days.\n- Weekend days experience a rise in traffic volumes from early mornings (7 am) and a reach peak mid-day (12 pm)\n- There is a decrease in traffic volumes for business day from 6 - 8 am, this is likely due to rush hour time. \n- We then see another increase from 1 - 4 pm, this is likely due to people coming back from work.","c997a36d":"It appears that the decrease of traffic in July comes from the year 2016. Apparently this is due to construction of the I-94 highway in the summer of 2016.","0a42bf3a":"The aim of this EDA was to look at what factors cause high traffic volumes on the I94-Interstate Highway. We have concluded that time (time of day\/ day of week\/ month) and weather (description) are the biggest contributor to high traffic volumes from 2012-2018 on the I-94 interstate highway. \n<br>\nBelow is a summary of my findings: <br>\n- Traffic volumes are higher during the day.\n- Traffic volumes are higher from March-October and lower from November-February (July was an exception).\n- Business days show higher volumes than weekend days, rush hour appears to be from (7-16).\n- Traffic volume show week correlation with temperature (r = 0.13). \n- Weather_main was also not a great indicator of traffic volumes.\n- Three Weather description appear to best correlate with high traffic volumes (> 5000).\n    - Shower Snow\n    - Proximity thunderstorm with drizzle\n    - Light rain and snow","fc5abe5e":"# Time as a Factor","a08c796d":"We can observe few things from these plots:\n- Day time plot is skewed to the left\n- Night time plot is skewed to the right\n- Day time traffic volume is much higher than night, this trend was also seen earlier by the 'describe()' method.","508ebc38":"# Conclusion","222b93ef":"Lets groupby hour of the day and examine both data sets","26163dfa":"As expected winter months (December - February) have dips in traffic volume. Interestingly, we see a dip in July. Lets look at July for each year from 2013-2018 to see if we observe the same pattern.","b1d5cbe3":"### What causes high traffic volumes during the day?","6ecc0996":"Weather plays a big part in traffic volumes. Lets take a look. Since we're only looking at day time data, we will be using our 'day' dataset we created earlier.","57aa0d84":"# Exploration","3024ed62":"0 - Monday <br>\n1 - Tuesday <br>\n2 - Wednesday <br>\n3 - Thursday <br>\n4 - Friday <br>\n5 - Saturday <br>\n6 - Sunday <br>","06201846":"# Weather as a Factor","1ede654c":"# I-94 Interstate Highway Traffic Analysis & Visualization","f31a8c65":"The trend is not very easy to observe, it appears that most weather condition cause a traffic volume of >4000 on average. Lets take a look at 'weather_description' since its much more detailed. ","acbb695a":"There are multiple factors influencing traffic volume, we can assume time of the day is one factor. The date_time column contains date and time of the day, we will isolate for time of the day and examine traffic volumes.\n\nWe will assume the following:\n1) Day time - 7 am to 7 pm \n<br>\n2) Night time - 7 pm to 7 am","0e8e532f":"Traffic volume correlates most strongly with temperature (r = 0.13), this is not a very strong correlation so instead we will be looking at the categorical variable 'weather_main' and 'weather_description'. ","196ea091":"We can see that 3 descriptions of weather give a traffic volume of over 5000 on average:\n1) Shower Snow <br>\n2) Proximity thunderstorm with drizzle <br>\n3) Light rain and snow <br>","a626a01b":"The aim of this analysis and exploration is look at what causes high traffic volumes on the I-94 Interstate highway.\n<br> <br>\nThis data was taken from a station located between Minneapolis and Saint Paul, the direction is westbound. This data and the result of this analysis should not be used to generalize all traffic on the I-94. For more information, please see the documentation from the data source linked below. \n<br> <br>\nData Source: https:\/\/archive.ics.uci.edu\/ml\/datasets\/Metro+Interstate+Traffic+Volume","0f66a3ba":"**We will now split our data between weekened and business day for a more fair analysis**","19ce4619":"## Time of the day"}}