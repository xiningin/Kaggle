{"cell_type":{"b685699c":"code","792a5210":"code","9816916a":"code","0795fe1f":"code","735ef874":"code","97113c5a":"code","e713a295":"code","6b4a027e":"code","01fee614":"code","8d01f8bc":"code","5d91fe2b":"code","93d07394":"code","10cae778":"code","8777b77b":"code","2bab265b":"code","c110693d":"code","3ca3e625":"code","7bfb50a6":"code","1a51af43":"code","c0cbe660":"code","0e813dc4":"code","d5057e67":"code","2c22d575":"code","b29909dd":"code","6381052e":"code","2c04be7b":"code","48868dae":"markdown","4c71daa4":"markdown","911f74d5":"markdown","b4a6333f":"markdown"},"source":{"b685699c":"#importing libraries:\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt \nimport seaborn as sns\nprint('Dataset_Imported')","792a5210":"#importing datasets.\nbar=pd.read_csv('..\/input\/stockmarket-dataset\/bar-S.csv')\nquote=pd.read_csv('..\/input\/stockmarket-dataset\/quote-S.csv')\ntarget=pd.read_csv('..\/input\/stockmarket-dataset\/target.csv')\nevent=pd.read_csv('..\/input\/stockmarket-dataset\/event.csv')\nrating=pd.read_csv('..\/input\/stockmarket-dataset\/rating.csv')\nnews=pd.read_csv('..\/input\/stockmarket-dataset\/news.csv')\nbar.head(5)","9816916a":"#importing files that needs to be analyzed:\nquote.head()","0795fe1f":"#Filtering the table based on time column 2020-08-05:\nBar_30=bar[bar['time'].str.lower().str.contains('2020-08-05')]\nQuote_30=quote[quote['time'].str.lower().str.contains('2020-08-05')]\n\n#Merging Two dataframes into one based on time:\nMerged_df=pd.merge(Bar_30,Quote_30,on='time')\n\nMerged_df.info() ","735ef874":"#column names of this dataframe\nprint(Merged_df.columns)","97113c5a":"Merged_df=Merged_df.head(30)\nMerged_df.shape","e713a295":"#Visualizing bid_price, ask_price, average_price based on time:\nplt.figure()\ndataframe=Merged_df[['bid_price','ask_price','average_price']].plot(figsize=(14,9),marker='o',grid=True,markersize=5)#line plot\nplt.xlabel('Time')\nplt.ylabel('Price');","6b4a027e":"rating.head()","01fee614":"df_rating=rating[['symbol','ratingBuy','ratingScaleMark','consensusStartDate','consensusEndDate']]\ndf_bar=bar[['symbol','average_price']]\nTable=pd.merge(df_rating,df_bar,on='symbol')\nTable=Table[['symbol','ratingBuy','ratingScaleMark','average_price','consensusStartDate','consensusEndDate']]\nTable.head()","8d01f8bc":"Table.shape","5d91fe2b":"plt.figure(figsize=(30,20))\nplt.subplots_adjust(hspace = 0.5)\nplt.subplot(2,1,1)\nsns.lineplot(data=Table, x=\"consensusStartDate\", y=\"average_price\",marker='o',c='#4b0082',linestyle=':')\nplt.xticks(rotation=90)\nplt.xlabel('consensusStartDate',fontsize=19)\nplt.ylabel('average_price',fontsize=23)\nplt.subplot(2,1,2)\nsns.lineplot(data=Table, x='consensusEndDate',y='average_price',marker='^',c='green',markersize=8,linestyle='dashed')\nplt.xticks(rotation=90)\nplt.xlabel('consensusEndDate',fontsize=19)\nplt.ylabel('average_price',fontsize=23)","93d07394":"target.head()","10cae778":"#pulling price target average from Target data set \ntarget_df=target[target['updatedDate'].str.lower().str.contains('2020-08-31')]\nTarget_df=target_df[['updatedDate','priceTargetAverage']]\n\n\n#Renaming column label to perform merging process:\nTarget_df_final=Target_df.rename(columns={'updatedDate':'reportDate'})\nTarget_df_final.head()","8777b77b":"#Merging 'priceTargetAverage' column from Target dataframe with event dataframe:\nMerged_Dataframe=pd.merge(Target_df_final,event, on='reportDate')\nprint(Merged_Dataframe)","2bab265b":"#Splitting datetime into date and time for further processing:\nbar_split=bar[bar['time'].str.lower().str.contains('2020-08-31')]\nx=bar_split['time'].str.split(\" \", n = 1, expand = True)\nbar_split['updatedDate']= x[0] # Date\nbar_split['time2']=x[1] # Time\nbar_split.head()","c110693d":"#looking for a common column to merge the dataframe:\nbar_common=bar_split[['updatedDate','average_price']]\nprint(bar_common.head(),'\\n',Target_df.head())","3ca3e625":"#Merging dataframes by on updatedDate\nUpdatedDate_df_merged=pd.merge(bar_common,Target_df,on='updatedDate')\nUpdatedDate_df_merged.drop('priceTargetAverage',axis=1,inplace=True)\nprint(UpdatedDate_df_merged)","7bfb50a6":"UpdatedDate_df_merged.plot(figsize=(19,9), grid=True)\nplt.xlabel('Time', fontsize=19)\nplt.ylabel('average_price', fontsize=19)","1a51af43":"bar.columns","c0cbe660":"news.columns","0e813dc4":"news['datetime'].head(2)","d5057e67":"bar_split['time'].head(2)","2c22d575":"bar_final=bar_split\nbar_final=bar_final.rename(columns={'updatedDate':'date','time':'datetime','time2':'time'})\nbar_final.columns","b29909dd":"# Selecting columns we are gonna merge from preprocessed bar dataframe: \nbar_final=bar_final[['datetime','average_price','time']]\n\n#Merging dataframes for final Dataframe:\nDataframe_final=pd.merge(news,bar_final,on='datetime')\nDataframe_final","6381052e":"Dataframe_final.dtypes","2c04be7b":"plt.figure()\nDataframe_final.plot(figsize=(19,5),c='red')\nplt.xlabel('Time', fontsize=14)\nplt.ylabel('Average Price',fontsize=14)\nplt.title('Average Price Distribution', fontsize=19)","48868dae":"# Beat the street with Analytics\n### Analytics using python, scikit learn, tensorflow and keras\nConsider a subset ( 30 rows) of @bar. How do 'bidprice', 'askprice', 'average_price' of any stock ( any symbol) are\nmoving in that subset period? Maybe you can try for \u20182020-08-05\u2019. Graphical and data analysis. Dataset @quote @bar dataset\nmake a table [symbol,ratingBuy,ratingScaleMark,mean of average_price,consensusStartDate,consensusEndDate] from @rating and @bar dataset\n'average_price' column @bar dataset. How average price changes over 'consensusStartDate' an 'consensusEndDate' from @rating dataset.Graph\nHow the 'average_price' @bar dataset changes a few days before and after the 'reportDate' for any stock. Graphical.\npull 'priceTargetAverage' column from @target dataset. Changes of 'priceTargetAverage' around 'reportDate' from @event dataset on or before.\nShow by table.\nneed to add the 'average_price' at updated date from @bar dataset\nneed to find the trend in price prior and post updated date\n[present trend vs.prior trend]. ranking.up\/down.\n'datetime' upto minute ['2020-08-12 11:31'] and @averageprice at that time from @bar dataset. [datetime,stock,summary,averageprice]\nfrom @bar and @news dataset\n","4c71daa4":"# ### Need to add the 'average_price' at updated date from @bar dataset","911f74d5":"****## \"Need to find the trend in price prior and post updated date\n## [present trend vs.prior trend]. ranking.up\/down.\n## 'datetime' upto minute ['2020-08-12 11:31'] and @averageprice at that time from @bar dataset. [datetime,stock,summary,averageprice] from @bar and @news dataset\"","b4a6333f":"### pull 'priceTargetAverage' column from @target dataset. Changes of 'priceTargetAverage' around 'reportDate' from @event dataset on or before. Show by table."}}