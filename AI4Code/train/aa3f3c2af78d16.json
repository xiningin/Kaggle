{"cell_type":{"80dcb7f9":"code","4102efb5":"code","9b4f0ba4":"code","41b8c468":"code","ed37b35a":"code","ac1e285d":"code","cb6ea70d":"code","6f4abbe0":"code","29053e25":"code","8f9e6dda":"code","01723bfc":"code","1e4c1cb7":"code","565be423":"code","dcdddde3":"code","6a1bee40":"code","c804f7f0":"code","03d1a962":"code","b11bf3de":"code","ab511139":"code","66ad36ed":"code","a5e8fe5d":"code","3ca80aa4":"code","8aa11a9b":"code","5701a04d":"code","731728e2":"code","022da8a3":"code","cc4948c5":"code","da4207ce":"code","ec891b91":"code","620dbeae":"code","4c4dbfd9":"code","45f1fbae":"code","4f184b3a":"code","31721ac7":"code","a343cfb4":"code","63d6c7ae":"code","d116ab67":"code","c7b3bd97":"markdown","cd27993e":"markdown","4802a51b":"markdown","21c46461":"markdown","5f10c1f2":"markdown","9278b476":"markdown","2cd7d8be":"markdown","66adc229":"markdown","c0427036":"markdown","6b7375fb":"markdown","ac1a963b":"markdown","fdb174ac":"markdown","54f9fa9e":"markdown","d3a09a32":"markdown","b89ef81c":"markdown","92b40145":"markdown"},"source":{"80dcb7f9":"!pip install watermark\n!pip install nicaviz","4102efb5":"%reload_ext autoreload\n%autoreload 2","9b4f0ba4":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport nicaviz\nimport seaborn as sns\nimport time\nimport matplotlib.pyplot as plt\nimport itertools\nimport glob\nimport re\nimport math\n\nsns.set_style(\"whitegrid\")\n\n%load_ext watermark\n%watermark \n\nimport warnings\nwarnings.filterwarnings(\"ignore\", category=DeprecationWarning) \nwarnings.simplefilter(action='ignore', category=FutureWarning)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session\n\nnotebookstart = time.time()\n%watermark --iversions","41b8c468":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/ventilator-pressure-prediction-nicaviz-eda\/notebook\n\n#Tracking 2020\n\ntrack20 = pd.read_csv(\"\/kaggle\/input\/nfl-big-data-bowl-2022\/tracking2020.csv\")\n\n\ndisplay(track20.head())\ndisplay(track20.nica.categorical_describe())","ed37b35a":"players = pd.read_csv('..\/input\/nfl-big-data-bowl-2022\/players.csv')\nplayers.head()","ac1e285d":"games = pd.read_csv('..\/input\/nfl-big-data-bowl-2022\/games.csv')\ngames.head()","cb6ea70d":"games.dtypes","6f4abbe0":"players['birthDate'] = pd.to_datetime(players['birthDate'])","29053e25":"games['gameDate'] = pd.to_datetime(games['gameDate'])","8f9e6dda":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/covid-digital-learning-data-exploration\n\nwith nicaviz.timer(\"Timeserie Resample Plot\"):\n    players.nica.mass_plot(\n        plt_set= [\"birthDate\"],\n        plottype = \"ts_resample\",\n        resample=True,\n        resample_interval=\"1D\"\n    )","01723bfc":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/covid-digital-learning-data-exploration\n\nwith nicaviz.timer(\"Timeserie Resample Plot\"):\n    players.nica.mass_plot(\n        plt_set= [\"birthDate\"],\n        plottype = \"ts_resample\",\n        resample=True,\n        resample_interval=\"1W\"\n    )","1e4c1cb7":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/covid-digital-learning-data-exploration\n\nwith nicaviz.timer(\"Timeserie Resample Plot\"):\n    players.nica.mass_plot(\n        plt_set= [\"birthDate\"],\n        plottype = \"ts_resample\",\n        resample=True,\n        resample_interval=\"1Y\"\n    )","565be423":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/covid-digital-learning-data-exploration\n\nwith nicaviz.timer(\"Timeserie Resample Plot\"):\n    games.nica.mass_plot(\n        plt_set= [\"gameDate\"],\n        plottype = \"ts_resample\",\n        resample=True,\n        resample_interval=\"1D\"\n    )","dcdddde3":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/covid-digital-learning-data-exploration\n\nwith nicaviz.timer(\"Timeserie Resample Plot\"):\n    games.nica.mass_plot(\n        plt_set= [\"gameDate\"],\n        plottype = \"ts_resample\",\n        resample=True,\n        resample_interval=\"1W\"\n    )","6a1bee40":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/covid-digital-learning-data-exploration\n\nwith nicaviz.timer(\"Timeserie Resample Plot\"):\n    games.nica.mass_plot(\n        plt_set= [\"gameDate\"],\n        plottype = \"ts_resample\",\n        resample=True,\n        resample_interval=\"1Y\"\n    )","c804f7f0":"playersInt = ['nflId', 'weight']","03d1a962":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/covid-digital-learning-data-exploration\n\n#Sample was reduced to 500. In the Original code was 500000\n\nwith nicaviz.timer(\"Timeserie Rolling Plot\"):\n    players.sample(500).nica.mass_plot(\n        plt_set= playersInt,\n        plottype = \"ts_rolling\",\n        x_var=\"birthDate\",\n        rolling=True,\n        r=30\n    )","b11bf3de":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/covid-digital-learning-data-exploration\n\nwith nicaviz.timer(\"Boxplots\"):\n    players.nica.mass_plot(\n        plt_set= playersInt,\n        plottype = \"boxplot\")","ab511139":"#Saved for the next Dataset since it was crammed. Too many values.\n\n#Code by Nicapotato https:\/\/www.kaggle.com\/nicapotato\/covid-digital-learning-data-exploration\n\n#categoricals = [\n #   \"collegeName\",\n  #  \"displayName\",\n   # \"Position\",\n    #\"height\",\n    \n#]\n\n#with nicaviz.timer(\"Small Hue Boxplots\"):\n #   for hue_col in categoricals:\n  #      players.nica.mass_plot(\n           # plt_set= playersInt,\n           # hue = hue_col,\n            #columns = 2,\n            #plottype = \"boxplot\")","66ad36ed":"#Code by Nick Brooks https:\/\/github.com\/nicapotato\/nicaviz\/blob\/master\/notebooks\/Plot_Examples.ipynb\n\nwith nicaviz.timer(\"Wordcloud Plot\"):\n    track20.nica.mass_plot(\n        plt_set= [\"team\", \"playDirection\"],\n        plottype = \"wordcloud\")","a5e8fe5d":"#Code by Nick Brooks https:\/\/github.com\/nicapotato\/nicaviz\/blob\/master\/notebooks\/Plot_Examples.ipynb\n\nwith nicaviz.timer(\"Count Plot\"):\n    track20.nica.mass_plot(\n        plt_set= [\"gameId\", \"playId\"],\n        plottype = \"countplot\")","3ca80aa4":"#Code by Nick Brooks https:\/\/github.com\/nicapotato\/nicaviz\/blob\/master\/notebooks\/Plot_Examples.ipynb\n\nwith nicaviz.timer(\"Bar Plot\"):\n    track20.nica.mass_plot(\n        plt_set= [\"x\", \"y\"],\n        x_var = \"team\",\n        plottype = \"bar\")","8aa11a9b":"#Code by Nick Brooks https:\/\/github.com\/nicapotato\/nicaviz\/blob\/master\/notebooks\/Plot_Examples.ipynb\n\nwith nicaviz.timer(\"Boxplots\"):\n    track20.nica.mass_plot(\n        plt_set= [\"x\", \"y\"],\n        plottype = \"boxplot\")\n\n    track20.nica.mass_plot(\n        plt_set= [\"x\", \"y\"],\n        hue = \"team\",\n        plottype = \"boxplot\")","5701a04d":"#Code by Nick Brooks https:\/\/github.com\/nicapotato\/nicaviz\/blob\/master\/notebooks\/Plot_Examples.ipynb\n\nwith nicaviz.timer(\"Distplots\"):\n    track20.nica.mass_plot(\n        plt_set= [\"x\", \"y\"],\n        plottype = \"distplot\")\n\n    track20.nica.mass_plot(\n        plt_set= [\"x\", \"y\"],\n        hue = \"team\",\n        plottype = \"distplot\")","731728e2":"#Code by Nick Brooks https:\/\/github.com\/nicapotato\/nicaviz\/blob\/master\/notebooks\/Plot_Examples.ipynb\n\nwith nicaviz.timer(\"Distplots\"):\n    track20.nica.mass_plot(\n        plt_set= [\"s\", \"a\"],\n        hue = \"frameId\",\n        plottype = \"distplot\")","022da8a3":"#Code by Nick Brooks https:\/\/github.com\/nicapotato\/nicaviz\/blob\/master\/notebooks\/Plot_Examples.ipynb\n\nwith nicaviz.timer(\"Countplot\"):\n    track20.nica.mass_plot(\n        plt_set= [\"gameId\", \"playId\"],\n        hue = \"playDirection\",\n        plottype = \"countplot\")\n\n    track20.nica.mass_plot(\n        plt_set= [\"gameId\", \"playId\"],\n        plottype = \"countplot\")","cc4948c5":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/ventilator-pressure-prediction-nicaviz-eda\/notebook\n\ncategoricals = [\"event\", \"displayName\", \"position\", \"team\", \"playDirection\"]\n#continuous = ['x', 'y', \"s\", \"a\", \"dis\", \"o\", \"dir\", \"nflId\", \"jerseyNumber\"] #I reduced since it took many time\ncontinuous = [\"dir\", \"nflId\", \"jerseyNumber\"]#Test below with only 3 continuous\ninteger = ['frameId', 'gameId', 'playId']\ntimevar = 'time'","da4207ce":"with nicaviz.timer(\"Distplots\"):\n    track20.nica.mass_plot(\n        plt_set= [\"nflId\", \"jerseyNumber\"],\n        plottype = \"distplot\")\n\n    track20.nica.mass_plot(\n        plt_set= [\"nflId\", \"jerseyNumber\"],\n        hue = \"displayName\",\n        plottype = \"distplot\")","ec891b91":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/ventilator-pressure-prediction-nicaviz-eda\/notebook\n\ntrack20.nica.mass_plot(\n    plt_set = categoricals,\n    columns = 3,\n    plottype = \"countplot\")","620dbeae":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/ventilator-pressure-prediction-nicaviz-eda\/notebook\n\n#It took 3 minutes to plot the reduced continuous features\n\ntrack20.nica.mass_plot(\n    plt_set = continuous,\n    columns = 3,\n    plottype = \"distplot\")\n\nprint(\"['nflId', 'jerseyNumber'] Correlation: {}\".format(track20[['nflId', 'jerseyNumber']].corr().iloc[0,1]))","4c4dbfd9":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/ventilator-pressure-prediction-nicaviz-eda\/notebook\n\nfor cont in continuous:\n    track20.nica.pivot_plots(\n        categoricalcols = categoricals,\n        valuecol = cont,\n        aggfunc = np.mean,\n        columns = 1)","45f1fbae":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/ventilator-pressure-prediction-nicaviz-eda\/notebook\n\ntrack20.nica.mass_plot(\n    plt_set = continuous,\n    columns = 3,\n    hue = 'team',\n    plottype = \"distplot\");","4f184b3a":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/ventilator-pressure-prediction-nicaviz-eda\/notebook\n\ntrack20.nica.mass_plot(\n    plt_set = [\"event\", \"displayName\", \"position\", \"playDirection\"],\n    columns = 3,\n    hue = 'team',\n    plottype = \"countplot\")","31721ac7":"with nicaviz.timer(\"Correlation Plot\"):\n    games.nica.rank_correlations_plots([\"season\", \"gameId\", \"week\"], 9)","a343cfb4":"with nicaviz.timer(\"Pivot Heatmap Plot\"):\n    categorical = ['homeTeamAbbr', 'visitorTeamAbbr', 'gameTimeEastern']\n    games.nica.pivot_plots(categorical, \"gameId\", np.sum)","63d6c7ae":"#Code by Nick Brooks https:\/\/www.kaggle.com\/nicapotato\/ventilator-pressure-prediction-nicaviz-eda\/notebook\n\nfor cont in continuous:\n    track20.nica.pivot_plots(categoricals, cont, np.mean)","d116ab67":"print(\"Notebook Runtime: %0.2f Minutes\"%((time.time() - notebookstart)\/60))","c7b3bd97":"#Interval 1year (Games file)","cd27993e":"#Interval 1 year (Players file)","4802a51b":"![](https:\/\/avatars.githubusercontent.com\/u\/14944829?v=4)https:\/\/github.com\/nicapotato","21c46461":"#WordCloud","5f10c1f2":"#Code by Nicapotato https:\/\/www.kaggle.com\/nicapotato\/ventilator-pressure-prediction-nicaviz-eda\/notebook\n\nhttps:\/\/www.kaggle.com\/nicapotato\/covid-digital-learning-data-exploration\n\nVentilator Pressure Prediction Nicaviz EDA\nBy Nick Brooks, September 2021\n\nResources:\n\nhttps:\/\/github.com\/nicapotato\/nicaviz\n\n\nhttps:\/\/github.com\/nicapotato\/nicaviz\/blob\/master\/notebooks\/Plot_Examples.ipynb","9278b476":"<center style=\"font-family:verdana;\"><h1 style=\"font-size:200%; padding: 10px; background: #001f3f;\"><b style=\"color:#DEB887;\">Nicaviz by Nick Brooks, aka: Nicapotato<\/b><\/h1><\/center>","2cd7d8be":"#Interval 1day (Games file)","66adc229":"#That's so cool Nick Brooks (a.k.a Nicapotato). Thank you.\n\n#Acknowledgement\n\nCode by Nicapotato https:\/\/www.kaggle.com\/nicapotato\/ventilator-pressure-prediction-nicaviz-eda\/notebook\n\nVentilator Pressure Prediction Nicaviz EDA By Nick Brooks, September 2021\n\nResources\n\nhttps:\/\/github.com\/nicapotato\/nicaviz https:\/\/github.com\/nicapotato\/nicaviz\/blob\/master\/notebooks\/Plot_Examples.ipynb\n\n#Vote Nicapotato code https:\/\/www.kaggle.com\/nicapotato\/ventilator-pressure-prediction-nicaviz-eda\/notebook","c0427036":"#Recommended by Nick using column = 1 for pivot plots if they get crammed.","6b7375fb":"#To satisfy Nick curiousity about how the continuous variables differ with Team category.","ac1a963b":"<h1><span class=\"label label-default\" style=\"background-color:black;border-radius:100px 100px; font-weight: bold; font-family:Garamond; font-size:20px; color:#03e8fc; padding:10px\">Categorical Variables<\/span><\/h1><br>","fdb174ac":"#Interval 1Week (Games file)","54f9fa9e":"#Interval 1 Week. (Players file)","d3a09a32":"<h1><span class=\"label label-default\" style=\"background-color:black;border-radius:100px 100px; font-weight: bold; font-family:Garamond; font-size:20px; color:#03e8fc; padding:10px\">Time Series<\/span><\/h1><br>","b89ef81c":"Save the chart below for the next Dataset","92b40145":"#Interval 1day (Players file)"}}