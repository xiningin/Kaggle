{"cell_type":{"b78d3162":"code","81839344":"code","f24add44":"code","64002d1d":"code","a4f0d961":"code","b418c261":"code","5a8c13bc":"code","ea49b796":"code","6aec3179":"code","a88ca2fa":"code","d96c98ce":"code","f5c65f50":"code","78e1a821":"markdown","fd136930":"markdown","304c6bae":"markdown","79416767":"markdown","9f174c00":"markdown","ec5fc3e8":"markdown","d983976c":"markdown","2fea1aba":"markdown","0c6c459e":"markdown","19be3b9a":"markdown","368de408":"markdown","af99f630":"markdown","7e0b7770":"markdown","849040ce":"markdown","70229432":"markdown","9708e2a6":"markdown"},"source":{"b78d3162":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline","81839344":"df = pd.read_csv('..\/input\/titanic-datset\/Titanic.csv',usecols=['Age','Fare','Survived'])\ndf.head()","f24add44":"df.isnull().sum()","64002d1d":"df['Age'].dropna().sample()","a4f0d961":"df['Age'].dropna().sample(df['Age'].isnull().sum())","b418c261":"df['Age'].dropna().sample(df['Age'].isnull().sum(),random_state=0)","5a8c13bc":"df[df['Age'].isnull()].index","ea49b796":"def RSI(df,variable,median):\n    df[variable+'_median'] = df[variable].fillna(median)#replace Nan with median\n    df[variable+'_random'] = df[variable]#Copy feature into new feature\n    #calculate random smaple and store into random_sample_values\n    random_sample_value = df[variable].dropna().sample(df[variable].isnull().sum(),random_state=0)\n    #in random_sample_value all filled nan values are present now we want to put\/merge this all filled values in our dataset\n    # for this we want to match all nan values index in random_sample_values with df[variavle_'random] \n    #Pandas need to have same index in order to merge dataset\n    random_sample_value.index = df[df[variable].isnull()].index#find index of NaN values in feature\n    #now put a condition where ever it is null with loc function then replace with random_sample_values\n    df.loc[df[variable].isnull(),variable+'_random'] =random_sample_value","6aec3179":"median = df['Age'].median()","a88ca2fa":"RSI(df,'Age',median)","d96c98ce":"df.head()","f5c65f50":"plt.figure(figsize=(12,8))\ndf.Age.plot(kind='kde',color='b')\ndf.Age_median.plot(kind='kde',color='y')\ndf.Age_random.plot(kind='kde',color='r')\nplt.legend()","78e1a821":"### Import Required Libraries ","fd136930":"    - There is 177 null values are present in Age feature.","304c6bae":"### plot graph between Age, Age_median , Age_random","79416767":"- Call Function\n    - RSI('dataframe','Feature','median')\n","9f174c00":"    - where .dropna() function drop all nan values in that feature and .sample() function return any one random value","ec5fc3e8":"    - This line of code return a index where Age is NaN","d983976c":"#### Note: \n- from plot we can say that Random Sample Imputation work better than Mean Median Mode imputation is some cases.\n- When we use Median to fillna there is Distortion\n- There is Less distortion in random sample\n- In every cases random sample imputation wont work","2fea1aba":"##  Now, we replace this NaN by using Random Sample Imputation","0c6c459e":"    - this function check where is null values are present and replace Nan with random sample","19be3b9a":"### Loading dataset","368de408":"### Create A function which Replace NaN with Random Sample\n- Here we creating a two new features Age_median and Age_random \n- In Age_median replace NaN with Median and In Age_random replce NaN with Random Sample ","af99f630":"- calculate median","7e0b7770":"### Check null values","849040ce":"    - This function check where is null values are present and replace Nan with random sample\n    - We use random_state because it replace NaN with specific value only ( if we not use random_state then values change evrytime when we run .)","70229432":"# Random Sample Imputation\n\n-  Random Sample Imputation take a random observation from the feature.\n-  After that we use random observation to replace NaN in that feature.\n-  It should be used when data is missing completely at  random (MCAR)","9708e2a6":"### Please drop a comment and share your feedback\n## Thank you \ud83d\ude07\ud83d\ude07 !"}}