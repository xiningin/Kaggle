{"cell_type":{"042cc179":"code","c01483a7":"code","54af7954":"code","69f0ea91":"code","08e7d0f3":"code","d7fc0dc5":"code","a2067912":"code","bce2d10e":"code","2f3de80d":"code","87572172":"code","6fa5ab13":"code","49c028f6":"code","45b96e93":"code","e3258995":"code","46ec58e9":"code","096b7757":"code","c40251c6":"code","1e76eb5d":"code","b81f4e94":"code","353cf802":"code","27c890bf":"code","36b0f106":"code","1181af62":"code","b19fe573":"code","a266a6d9":"code","a5c7e0cd":"code","73f61c3b":"code","cefd3f14":"code","bc4c71c6":"code","ecd80ac4":"markdown","7d5bf7e6":"markdown","8e25612c":"markdown","a1322985":"markdown","7443aedc":"markdown","1835899f":"markdown","f884ac2d":"markdown","ffc77943":"markdown","0b3a69ef":"markdown","8924bca4":"markdown","09bc4f3e":"markdown","1d02db55":"markdown","69ed2449":"markdown","650b7f1d":"markdown","89e3afe3":"markdown","c2b95d18":"markdown","06c330df":"markdown","def52e6d":"markdown","16cb7d64":"markdown","2e8fccfe":"markdown","a459025e":"markdown","f49702d6":"markdown","0a8b28c6":"markdown","ff7701bf":"markdown","4bbcf4b1":"markdown","a2771ef8":"markdown","539e9c80":"markdown"},"source":{"042cc179":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","c01483a7":"import pandas as pd\nimport seaborn as sns\npd.set_option('display.max_columns', None)\npd.set_option('display.width', 500)","54af7954":"# import titanic dataset\ndf=sns.load_dataset(\"titanic\")\ndf.head()","69f0ea91":"df[\"sex\"].value_counts()","08e7d0f3":"df.nunique()","d7fc0dc5":"df[\"pclass\"].nunique()","a2067912":"df[[\"sex\",\"parch\"]].nunique()","bce2d10e":"df[\"embarked\"]=df[\"embarked\"].astype(str)\ndf[\"embarked\"].dtypes","2f3de80d":"df[df[\"embarked\"]==\"C\"]","87572172":"df[df[\"embarked\"] != \"S\"]","6fa5ab13":"df[(df[\"age\"] < 30) & (df[\"sex\"] == \"female\")]","49c028f6":"df[(df[\"age\"] > 70) | (df[\"fare\"] > 500)]","45b96e93":"df.isnull().sum()","e3258995":"df.drop(\"who\",axis=1,inplace=True)\ndf.head()\n","46ec58e9":"df[\"deck\"].fillna(df[\"deck\"].mode()[0] , inplace=True)\ndf[\"deck\"].isnull().sum()","096b7757":"df[\"age\"].fillna(df[\"age\"].median(), inplace=True)\ndf[\"age\"].isnull().sum()","c40251c6":"df.groupby([\"sex\",\"pclass\"])[\"survived\"].agg({\"mean\",\"sum\",\"count\"})","1e76eb5d":"def cat_age(age):\n    if age <30:\n        return 1\n    elif age >= 30 :\n        return 0","b81f4e94":"#solution 1\n\ndf[\"age_flag\"] = df.apply(lambda x: cat_age(x[\"age\"]),axis=1)","353cf802":"# solution 2\n\ndf[\"age_flag\"]=df[\"age\"].apply(cat_age)","27c890bf":"# import tips dataset\ndf=sns.load_dataset(\"tips\")\ndf.head()","36b0f106":"df.groupby(\"time\")[\"total_bill\"].agg({\"mean\",\"max\",\"min\"})","1181af62":"df.groupby([\"time\",\"day\"])[\"total_bill\"].agg({\"mean\",\"max\",\"min\",\"sum\"})","b19fe573":"df[(df[\"time\"]==\"Lunch\") & (df[\"sex\"]==\"Female\")].groupby(\"day\")[\"total_bill\",\"tip\"].agg({\"sum\",\"mean\",\"max\",\"min\"})","a266a6d9":"df[\"total_bill\"].loc[((df[\"size\"] < 3) & (df[\"total_bill\"] > 10))].mean()","a5c7e0cd":"def sum(a, b):\n    return  a + b\n\n\ndf[\"total_bill_tip_sum\"] = df.apply(lambda x: sum(x[\"total_bill\"], x[\"tip\"]),axis=1)\n\ndf.head()","73f61c3b":"f_avg = df[df[\"sex\"] == \"Female\"][\"total_bill\"].mean()\nm_avg = df[df[\"sex\"] == \"Male\"][\"total_bill\"].mean()\n\ndef mean_cat(x, y):\n    if x == \"Female\":\n        if y > f_avg:\n            return 1\n        else:\n            return 0\n    else:\n        if x == \"Male\":\n            if y > m_avg:\n                return 1\n            else:\n                return 0\n\ndf[\"total_bill_flag\"] = df.apply(lambda x: mean_cat(x[\"sex\"], x[\"total_bill\"]),axis=1)\ndf.head()","cefd3f14":"df.groupby([\"sex\",\"total_bill_flag\"]).agg({\"total_bill_flag\": [\"count\"]})","bc4c71c6":"top_30=df.sort_values(\"total_bill_tip_sum\",ascending=False).head(30)\ntop_30.head()","ecd80ac4":"13.Fill na values with median in \"age\" column\n","7d5bf7e6":"24. Sort values from largest to smallest according to the total_bill_tip_sum variable and assign the first 30 people to a new dataframe.\n","8e25612c":"11.Drop \"who\" column","a1322985":"<h3>Tips Dataset<\/h3>","7443aedc":"2.Find number of unique values for each column","1835899f":"20.Find average of total_bill where size is less than 3 and total bill is greater than 10.(use loc)","f884ac2d":"18.Find sum,mean,min and max values of \"total_bill\" variable in \"time\" and \"day\" breakdown","ffc77943":"21. Create new column named \"total_bill_tip_sum\" which represent sum of tip and bill for each customer","0b3a69ef":"14.Find mean,sum and count values of \"survived\" variable in \"plcass\" and \"sex\" breakdown","8924bca4":"22. Find the average of the total_bill variable for men and women separately. Create a new total_bill_flag variable that gives 0 for those below the averages you find, and 1 for those above and equal to the averages you find.","09bc4f3e":"8.Select observations where \"age\" is smallar than 30 and \"sex\" is \"female\"","1d02db55":"7.Select observations where \"embarked\" is not \"S\"","69ed2449":"4.Find number of unique values for \"pclass\" and \"parch\" columns in one line","650b7f1d":"16.Create a column named age_flag with using cat_age function","89e3afe3":"6.Select observations where \"embarked\" is \"C\"","c2b95d18":"<h3>Titanic Dataset<\/h3>","06c330df":"5.Change type of \"embarked\" variable as category.","def52e6d":"19.Find sum,mean,min and max values of \"total_bill\" and \"tip\" variables in \"day\" where time is lunch and sex is female","16cb7d64":"3.Find number of unique values for \"pclass\" column","2e8fccfe":"10.Find number of null values for each variable ","a459025e":"23. Using the total_bill_flag variable, observe the number of below and above average by gender.","f49702d6":"**Import required libraries and adjustments**","0a8b28c6":"12.Fill na values with mode in \"deck\" column","ff7701bf":"15.Define a function that returns 1 for those less than 30 y.o and 0 for those greater than or equal to 30\n\n","4bbcf4b1":"1.How many male and female passenger in dataset?","a2771ef8":"17.Find mean,min and max values of \"total_bill\" variable in \"time\" breakdown","539e9c80":"9.Select observations where \"fare\" is greater than 500 or \"age\" is greater than 70"}}