{"cell_type":{"4a567348":"code","a5b0afb8":"code","6203ab96":"code","aadbe384":"code","ab10f42a":"code","17d5075a":"code","186808d8":"code","edf05b14":"code","3756af0f":"code","e4a94b01":"code","26bcee75":"code","312f6b96":"code","6ad5859d":"code","0559733c":"code","08b8abbf":"code","51c791a4":"code","5fc9b20d":"code","1e03db6a":"code","6f4cf222":"code","c21ee725":"code","a35cb500":"code","06ebad51":"code","cab6c119":"code","30e94507":"code","479ae65e":"code","eccd3100":"code","276ffbad":"code","8c8e9ac3":"code","fb972414":"code","109ea057":"code","89b36a88":"code","869d4083":"code","40e20ffc":"code","9cf62a52":"code","1b30d27a":"code","81b1d9cf":"code","5d99dbe8":"code","b2d19b22":"code","b9575a6f":"code","90aadaff":"code","c08b9eb5":"code","fef86f42":"code","2fa06270":"code","bd93f3e0":"code","f733d852":"code","ed894ec7":"code","c7922dad":"code","6aab3f2a":"code","18d1a916":"code","cd6d6a06":"code","6b4be19e":"code","ab917fee":"code","52229b01":"code","7a3f0820":"code","6a744760":"code","01ffd60e":"code","ec0ae8a3":"code","d50ccdd8":"markdown","04a70a54":"markdown","f354ded4":"markdown","1d0354d4":"markdown","67a6548c":"markdown","9e0d4464":"markdown","25010424":"markdown","886312e5":"markdown","8b42e64c":"markdown","cebdb879":"markdown","ee04c0d9":"markdown","13913a6a":"markdown","56a8c8a8":"markdown","29cdaedb":"markdown","a0cf420d":"markdown","99521efc":"markdown","2b4efb97":"markdown","132f660c":"markdown","5b84fd7b":"markdown","5c843781":"markdown","ff4d47db":"markdown","79d44c11":"markdown","6348a5bb":"markdown","ddae9196":"markdown","d185579d":"markdown","35d65503":"markdown","a435df9d":"markdown","a1f609bc":"markdown","e8d95682":"markdown","52b43382":"markdown","719d911b":"markdown","9b515858":"markdown","5a71187b":"markdown","d57355bb":"markdown","b868cb77":"markdown","936dc442":"markdown","ef7b60df":"markdown","7994da75":"markdown","bb9069d9":"markdown","ecf4fb48":"markdown","fb625fda":"markdown","024f2092":"markdown","4e1b1346":"markdown","c6e341b8":"markdown","58c2d82f":"markdown","c0db7e9a":"markdown","29470930":"markdown","151c5832":"markdown","2bf6a0e4":"markdown","81b9963f":"markdown","4f522baf":"markdown","b561224d":"markdown","8cf2df09":"markdown","979ce662":"markdown","f5814484":"markdown"},"source":{"4a567348":"%matplotlib inline","a5b0afb8":"import sys\nimport time\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport geopy.distance\n\nfrom nose.tools import *\nfrom mpl_toolkits.basemap import Basemap","6203ab96":"weather_station_locations = pd.read_csv(\"..\/input\/weatherww2\/Weather Station Locations.csv\", index_col = 0, header=0,\n    names=[\"wban\", \"name\", \"state_country_id\", \"str_latitude\", \"str_longitude\", \"elev\", \"latitude\", \"longitude\"])\nweather_station_locations.shape","aadbe384":"weather_station_locations.sample(5)","ab10f42a":"summary_of_weather = pd.read_csv(\"..\/input\/weatherww2\/Summary of Weather.csv\", index_col = 0, header=0,\n    names=[\"sta\", \"date\", \"precip\", \"wind_gust_spd\", \"max_temp\", \"min_temp\", \"mean_temp\", \"snowfall\",\n           \"poor_weather\", \"yr\", \"mo\", \"da\", \"prcp\", \"dr\", \"spd\", \"max\", \"min\", \"mea\", \"snf\", \"snd\",\n           \"ft\", \"fb\", \"fti\", \"ith\", \"pgt\", \"tshdsbrsgf\", \"sd3\", \"rhx\", \"rhn\", \"rvg\", \"wte\"], low_memory=False)\nsummary_of_weather.shape","17d5075a":"summary_of_weather.sample(5)","186808d8":"aerial_bombing_operations = pd.read_csv(\"..\/input\/world-war-ii\/operations.csv\", index_col = 0, header=0,\n    names=[\"mission_id\", \"mission_date\", \"theater_of_operations\", \"country\", \"air_force\", \"unit_id\",\n           \"aircraft_series\", \"callsign\", \"mission_type\", \"takeoff_base\", \"takeoff_location\", \"takeoff_latitude\",\n           \"takeoff_longitude\", \"target_id\", \"target_country\", \"target_city\", \"target_type\", \"target_industry\",\n           \"target_priority\", \"target_latitude\", \"target_longitude\", \"altitude_hundreds_of_feet\", \"airborne_aircraft\",\n           \"attacking_aircraft\", \"bombing_aircraft\", \"aircraft_returned\", \"aircraft_failed\", \"aircraft_damaged\",\n           \"aircraft_lost\", \"high_explosives\", \"high_explosives_type\", \"high_explosives_weight_pounds\",\n           \"high_explosives_weight_tons\", \"incendiary_devices\", \"incendiary_devices_type\",\n           \"incendiary_devices_weight_pounds\", \"incendiary_devices_weight_tons\", \"fragmentation_devices\",\n           \"fragmentation_devices_type\", \"fragmentation_devices_weight_pounds\", \"fragmentation_devices_weight_tons\",\n           \"total_weight_pounds\", \"total_weight_tons\", \"time_over_target\", \"bomb_damage_assessment\", \"source_id\"], low_memory=False)\naerial_bombing_operations.shape","edf05b14":"aerial_bombing_operations.sample(5)","3756af0f":"weather_station_locations.info()","e4a94b01":"weather_station_locations = weather_station_locations[[\"latitude\", \"longitude\"]]\n\nassert weather_station_locations.shape == (161, 2)","26bcee75":"weather_station_locations = weather_station_locations[((weather_station_locations.latitude <= 90) &\n                                (weather_station_locations.latitude >= -90)) &\n                                ((weather_station_locations.longitude <= 180) &\n                                (weather_station_locations.longitude >= -180))]\n\nassert weather_station_locations.shape == (161, 2)","312f6b96":"summary_of_weather.info()","6ad5859d":"summary_of_weather = summary_of_weather[[\"date\", \"precip\", \"snowfall\", \"poor_weather\"]]\nsummary_of_weather.info()","0559733c":"summary_of_weather.date =  pd.to_datetime(summary_of_weather.date, format = \"%Y-%m-%d\")\nsummary_of_weather.info()","08b8abbf":"summary_of_weather.precip[(pd.to_numeric(summary_of_weather.precip, errors='coerce').notnull()) == False].unique()","51c791a4":"summary_of_weather.loc[(summary_of_weather.precip == \"T\"), \"precip\"] = 0.00\nsummary_of_weather.precip = summary_of_weather.precip.astype(float)\nsummary_of_weather.info()","5fc9b20d":"summary_of_weather.snowfall.unique()","1e03db6a":"summary_of_weather.loc[(summary_of_weather.snowfall == \"#VALUE!\"), \"snowfall\"] = 0.00\nsummary_of_weather.snowfall = summary_of_weather.snowfall.fillna(0.00)\nsummary_of_weather.snowfall = summary_of_weather.snowfall.astype(float)\nsummary_of_weather.info()","6f4cf222":"summary_of_weather.poor_weather.unique()","c21ee725":"summary_of_weather.groupby(\"poor_weather\")[\"poor_weather\"].count()","a35cb500":"summary_of_weather.poor_weather = summary_of_weather.poor_weather.apply(lambda x: str(x).count(\"1\"))\nsummary_of_weather.poor_weather = summary_of_weather.poor_weather.astype(\"int64\")\nsummary_of_weather.poor_weather.unique()","06ebad51":"summary_of_weather.precip[summary_of_weather.precip > 0].describe(percentiles = [.5, .7, .9, .98]),\\\nsummary_of_weather.snowfall[summary_of_weather.snowfall > 0].describe(percentiles = [.5, .7, .9, .98])","cab6c119":"summary_of_weather.groupby(\"poor_weather\")[\"poor_weather\"].count()","30e94507":"mask = ((summary_of_weather.precip > 4) & (summary_of_weather.precip <= 9) & (summary_of_weather.poor_weather < 1))\nsummary_of_weather.loc[mask, \"poor_weather\"] = 1\nmask = ((summary_of_weather.precip > 9) & (summary_of_weather.precip <= 27) & (summary_of_weather.poor_weather < 2))\nsummary_of_weather.loc[mask, \"poor_weather\"] = 2\nmask = ((summary_of_weather.precip > 27) & (summary_of_weather.precip <= 63) & (summary_of_weather.poor_weather < 3))\nsummary_of_weather.loc[mask, \"poor_weather\"] = 3\nmask = ((summary_of_weather.precip > 63) & (summary_of_weather.poor_weather < 4))\nsummary_of_weather.loc[mask, \"poor_weather\"] = 4","479ae65e":"summary_of_weather.groupby(\"poor_weather\")[\"poor_weather\"].count()","eccd3100":"mask = ((summary_of_weather.snowfall > 8) & (summary_of_weather.snowfall <= 14) & (summary_of_weather.poor_weather < 1))\nsummary_of_weather.loc[mask, \"poor_weather\"] = 1\nmask = ((summary_of_weather.snowfall > 14) & (summary_of_weather.snowfall <= 30) & (summary_of_weather.poor_weather < 2))\nsummary_of_weather.loc[mask, \"poor_weather\"] = 2\nmask = ((summary_of_weather.snowfall > 30) & (summary_of_weather.snowfall <= 61) & (summary_of_weather.poor_weather < 3))\nsummary_of_weather.loc[mask, \"poor_weather\"] = 3\nmask = ((summary_of_weather.snowfall > 61) & (summary_of_weather.poor_weather < 4))\nsummary_of_weather.loc[mask, \"poor_weather\"] = 4","276ffbad":"summary_of_weather.groupby(\"poor_weather\")[\"poor_weather\"].count()","8c8e9ac3":"aerial_bombing_operations.info()","fb972414":"aerial_bombing_operations = aerial_bombing_operations[[\"mission_date\", \"target_latitude\",\n    \"target_longitude\", \"aircraft_returned\", \"aircraft_failed\", \"aircraft_damaged\", \"aircraft_lost\"]]\naerial_bombing_operations.shape","109ea057":"aerial_bombing_operations = aerial_bombing_operations.dropna(subset=[\"target_latitude\", \"target_longitude\"])\naerial_bombing_operations.info()","89b36a88":"aerial_bombing_operations = aerial_bombing_operations[((aerial_bombing_operations.target_latitude <= 90) &\\\n                                   (aerial_bombing_operations.target_latitude >= -90)) & \\\n                                         ((aerial_bombing_operations.target_longitude <= 180) &\\\n                                   (aerial_bombing_operations.target_longitude >= -180))]\naerial_bombing_operations.shape","869d4083":"aerial_bombing_operations.mission_date =  pd.to_datetime(aerial_bombing_operations.mission_date, format = \"%m\/%d\/%Y\")\naerial_bombing_operations.info()","40e20ffc":"plt.hist(summary_of_weather.poor_weather, bins = 5)\nplt.title(\"Weather conditions distribution\")\nplt.xlabel(\"Poor weather value\")\nplt.ylabel(\"Count\")\nplt.show()","9cf62a52":"plt.hist(aerial_bombing_operations.mission_date.dt.year, bins = 7)\nplt.title(\"Operations by year distribution\")\nplt.xlabel(\"Year\")\nplt.ylabel(\"Count\")\nplt.show()","1b30d27a":"def drawgeolocations(longitude, latitude, loc_size, loc_color, label):\n    figure = plt.figure(figsize = (15, 12))\n    current_axis = figure.add_subplot(111)\n    m = Basemap(projection = \"merc\", llcrnrlat = -80, urcrnrlat = 80,\n    llcrnrlon = -180, urcrnrlon = 180)\n    \n    locations_lon, locations_lat = m(longitude.tolist(), latitude.tolist())\n    \n    m.drawcoastlines(ax = current_axis)\n    m.fillcontinents(color = \"coral\", lake_color = \"aqua\")\n    m.drawparallels(np.arange(-90, 91, 30))\n    m.drawmeridians(np.arange(-180, 181, 60))\n    m.drawmapboundary(fill_color = \"aqua\")\n    m.scatter(locations_lon, locations_lat, color = loc_color, s = loc_size, zorder = 2)\n    plt.xlabel(label)\n    plt.show()","81b1d9cf":"drawgeolocations(weather_station_locations.longitude, weather_station_locations.latitude, \n                 30, \"green\", \"Location of weather stations\")","5d99dbe8":"drawgeolocations(aerial_bombing_operations.target_longitude, aerial_bombing_operations.target_latitude, \n                 30, \"red\", \"Locations of air attacks\")","b2d19b22":"summary_of_weather_with_loc = summary_of_weather.join(weather_station_locations)\nsummary_of_weather_with_loc.info()","b9575a6f":"def get_closest_weatherstation(lat, lot, weather_stations):\n    min_distance = sys.maxsize\n    min_station_index = -1\n    for index, station in weather_station_locations.iterrows():\n        distance = geopy.distance.distance((lat, lot), (station[\"latitude\"], station[\"longitude\"]))\n        if min_distance > distance:\n            min_distance = distance\n            min_station_index = index\n            \n    return min_station_index, min_distance\n    \nassert get_closest_weatherstation(40.23333333, 18.08333333, weather_station_locations) == (34111, 0)","90aadaff":"# Very slow operation - over 2 hours. Result is saved to ...data\/operation_to_sta_mapping.csv\n\n#lambdafunc = lambda x: get_closest_weatherstation(x[\"target_latitude\"], x[\"target_longitude\"], weather_station_locations)\n#operation_to_sta_mapping = aerial_bombing_operations.apply(lambdafunc, axis=1)\n#csv_operation_to_sta_mapping_df = pd.DataFrame(operation_to_sta_mapping, columns = [\"tuple\"])[\"tuple\"].apply(pd.Series)\n#csv_operation_to_sta_mapping_df.columns = [\"sta\", \"sta_distance\"]\n#csv_operation_to_sta_mapping_df.sta_distance = csv_operation_to_sta_mapping_df.sta_distance.astype(str).str[:-3].astype(float)\n#csv_operation_to_sta_mapping_df.to_csv(\"data\/operation_to_sta_mapping.csv\")\n\noperation_to_sta_mapping = pd.read_csv(\"..\/input\/ww2-aerial-operation-to-closest-ww2-weather-statio\/operation_to_sta_mapping.csv\", index_col = 0, header=0)\noperation_to_sta_mapping.head(5)","c08b9eb5":"operations_with_weather_sta = aerial_bombing_operations.join(operation_to_sta_mapping)\noperations_with_weather_sta.head(5)","fef86f42":"operations_with_weather_sta = operations_with_weather_sta.reset_index().set_index([\"sta\", \"mission_date\"])\noperations_with_weather_sta.index.names = [\"sta\", \"date\"]\noperations_with_weather_sta.head(5)","2fa06270":"summary_of_weather = summary_of_weather.reset_index().set_index([\"sta\", \"date\"])\nsummary_of_weather.head(5)","bd93f3e0":"operations_with_weather = operations_with_weather_sta.merge(summary_of_weather, left_index=True, right_on=[\"sta\", \"date\"])\noperations_with_weather = operations_with_weather.reset_index().set_index(\"mission_id\")\noperations_with_weather.head(5)","f733d852":"def plot_operations_weather_distr_by_sta_distance(operations, distance):\n    operations_by_sta_distance = operations[operations.sta_distance < distance]\n    operations_by_weather = operations_by_sta_distance.groupby(\"poor_weather\")[\"poor_weather\"].count()\n    operations_by_weather.plot.bar()\n    plt.title(\"Operations by weather condition with distance \\n to closest weather station < \" + str(distance))\n    plt.xlabel(\"Poor weather value\")\n    plt.ylabel(\"Operations count\")\n    plt.show()","ed894ec7":"plot_operations_weather_distr_by_sta_distance(operations_with_weather, 2)","c7922dad":"plot_operations_weather_distr_by_sta_distance(operations_with_weather, 10)","6aab3f2a":"plot_operations_weather_distr_by_sta_distance(operations_with_weather, 50)","18d1a916":"plot_operations_weather_distr_by_sta_distance(operations_with_weather, 100)","cd6d6a06":"plot_operations_weather_distr_by_sta_distance(operations_with_weather, 500)","6b4be19e":"plot_operations_weather_distr_by_sta_distance(operations_with_weather, 1000)","ab917fee":"plot_operations_weather_distr_by_sta_distance(operations_with_weather, 10000)","52229b01":"worst_weather_operations = operations_with_weather[operations_with_weather.poor_weather == 4]\ndrawgeolocations(worst_weather_operations.target_longitude, worst_weather_operations.target_latitude, 30, \"blue\", \n                 \"Locations of air attacks poor_weather = 4\")","7a3f0820":"worst_weather_operations = operations_with_weather[operations_with_weather.poor_weather == 3]\ndrawgeolocations(worst_weather_operations.target_longitude, worst_weather_operations.target_latitude, 30, \"blue\",\n                 \"Locations of air attacks poor_weather = 3\")","6a744760":"worst_weather_operations = operations_with_weather[operations_with_weather.poor_weather == 2]\ndrawgeolocations(worst_weather_operations.target_longitude, worst_weather_operations.target_latitude, 30, \"blue\",\n                 \"Locations of air attacks poor_weather = 2\")","01ffd60e":"worst_weather_operations = operations_with_weather[operations_with_weather.poor_weather == 1]\ndrawgeolocations(worst_weather_operations.target_longitude, worst_weather_operations.target_latitude, 30, \"blue\",\n                 \"Locations of air attacks poor_weather = 1\")","ec0ae8a3":"worst_weather_operations = operations_with_weather[operations_with_weather.poor_weather == 0]\ndrawgeolocations(worst_weather_operations.target_longitude, worst_weather_operations.target_latitude, 30, \"blue\",\n                 \"Locations of air attacks poor_weather = 0\")","d50ccdd8":"Let validate the available location data as we did earlier.","04a70a54":"Next column is poor_weather which should be of type int.","f354ded4":"For the purpose of the research, we need to create a function that can easily and comprehensively visualize graphs of distribution of attacks on weather condition with different accuracy - distance from the attack to the nearest station recording weather conditions.","1d0354d4":"From the visualization of attacks and stations, we can keep in mind that there is no nearby weather station in the area of some attacks. This observation must lead us to think that it is possible to work on weather data that does not match the location of the attacks. Before we tackle this problem, let's link the weather forecasts to specific geographic locations through the appropriate locations of the stations that have recorded them.","67a6548c":"We found the problem and it is good that we have a single value. We can now take action to fix the problem. At first, we consider the options, remove the records with that value, or fill them with an average column value. For people outside of the meteorological community, as I am, value seems like a mistake, be it human or system. But it turns out that if we look for T-value information when measuring rainfall, behind [T(Trace) stands a definition](https:\/\/www.thoughtco.com\/what-is-trace-of-precipitation-3444238). Let remember that we always do research before we take action!\n\n_\"Trace amounts of precipitation are abbreviated by the capital letter \"T\", often placed in parenthesis (T).<br>\nIf you must convert a trace to a numerical amount, it would equal 0.00.\"_","9e0d4464":"We are now ready to visualize geographic locations.","25010424":"### What is the distribution of attacks vs. weather condition? Is there a direct dependence?","886312e5":"We see that the data is loaded correctly. It remains to remove unnecessary columns, for our research we will need only the coordinates of the weather stations.","8b42e64c":"## Inspect, fill missing data and remove unnecessary columns","cebdb879":"#### Weather station locations","ee04c0d9":"Let's first remove unnecessary columns. As we can see, many of them do not have or have insufficient information. Others, according to the dataset information, repeat the information with different units of measurement. \u0422here are also those that will not be needed in the process of the research.","13913a6a":"## Introduction","56a8c8a8":"By analyzing the distribution of poor_weather values, we can see if the data is close to what is expected based on the experience of real-time observations in the real world.","29cdaedb":"An interesting result! Attacks are concentrated in two areas - India (Himalayas) and Papua New Guinea. These are regions that are at the top of bad and volatile weather conditions. When organizing attacks in these regions there is no choice - the weather conditions almost all the year is very bad!<br>Let's see the locations of the next level of poor weather.","a0cf420d":"Let's first read the data, fix column names, set correct indexes and see if we've read it properly.","99521efc":"The next step is to fix the date column that is currently from an object type. In the previous data visualisations, we can see that the date format is \"year-month-day\".","2b4efb97":"## Conclusion","132f660c":"The next step is to find the nearest station for each attack. In this way, we will find the most accurate \/ near weather situation possible for an attack.<br>\nTo do this, we need to do a function that measures the distance from the attack point to each station and returns the nearest station id and distance to station.","5b84fd7b":"We now have to remove the records whose missing data can not be recovered. In this case, this is location data.","5c843781":"From the survey we found that air attacks during World War II, and not only, were planned and conducted at the closest possible time to ideal weather conditions.\nExceptions are targets in regions with very poor year-round climatic conditions or regions of enormous significance in the context of the war justifying the risk of bad conditions.\nLast but not least, we have seen how complicated the process of reading, clearing, completing and transforming the necessary data is!","ff4d47db":"## Future work","79d44c11":"#### Summary of weather","6348a5bb":"During this analysis we will familiarize you with the methods of reading, cleaning and filling in missing data when working with a datasources.<br>\nAlso, ways to merge our required data from different datasources.<br><br>\nWill we see if there is any dependence, and what is it, between air strikes, during the Second World War, and the meteorological conditions when they are realized.<br><br>\nFor this purpose, we will use the following two (three :)) datasources from the [kaggle](https:\/\/www.kaggle.com) site:<br>\n[Weather Conditions in World War Two](https:\/\/www.kaggle.com\/smid80\/weatherww2) (2 datasources .csv format)<br>\n[Aerial Bombing Operations in World War II](https:\/\/www.kaggle.com\/usaf\/world-war-ii) (1 datasource .csv format)","ddae9196":"The next step is to do the standard date column conversion operation.","d185579d":"We see two values that do not fit in the type. It may be from a human or system error, or a way of describing the data on the station. In any case, we can assume that if there was snowfall, the data would be correct. To do this, we can correct the problem values by replacing them with 0.","35d65503":"We can definitely see that weather condition has a direct influence on the attacks. Attacks are mainly conducted under good weather conditions.<br>\nLet's see the visualization of attacks for each value of weather condition (poor_weather).","a435df9d":"Almost the same results! The difference is that we have a new region (Germany) of attacks where we should normally have a choice of meteorological conditions in an attack. But if we think this is a region of enormous significance in the context of the war, for this reason, attacks are apparently done despite the bad conditions!<br><br>\nNext visualizations begin not contain data with so prominent distributions. Indicating that attacks are taking place in good weather, except for those targets that are very significant and need to be struck regardless of the conditions. Or targets are in regions that are bad weather all year round, in this case, there is no other option than a bad weather attack!","a1f609bc":"## References\n[Kaggle](https:\/\/www.kaggle.com)<br>\n    [Weather Conditions in World War Two](https:\/\/www.kaggle.com\/smid80\/weatherww2)<br>\n    [Aerial Bombing Operations in World War II](https:\/\/www.kaggle.com\/usaf\/world-war-ii)<br>\n    [What Is a \\\"Trace\\\" of Precipitation?](https:\/\/www.thoughtco.com\/what-is-trace-of-precipitation-3444238)<br>\n    [Probabilistic Parameterizations of Visibility Using Observations of,\n   Rain Precipitation Rate, Relative Humidity, and Visibility](https:\/\/journals.ametsoc.org\/doi\/pdf\/10.1175\/2009JAMC1927.1)<br>\n    [Jack Lee Art \u2013 WW2 Bomber\/Lightning Storm](http:\/\/www.norcalblogs.com\/postscripts\/2019\/03\/31\/jack-lee-art-ww2-bomberlightning-storm\/)<br>\n    [The Hump](https:\/\/en.wikipedia.org\/wiki\/The_Hump)<br>\n    [Climate - Papua New Guinea](https:\/\/www.climatestotravel.com\/climate\/papua-new-guinea)<br>\n    [Mm per year: Countries Compared](https:\/\/www.nationmaster.com\/country-info\/stats\/Geography\/Average-rainfall-in-depth\/Mm-per-year)<br>","e8d95682":"## Abstract","52b43382":"#### Weather station locations","719d911b":"The result of the research would be strengthened by using a more complete and consistent dataset for weather conditions. The dataset used here is too incomplete and inconsistent!\nAlso, if we have a more complete dataset for attacks - more information about lost aircrafts, damaged aircrafts, success attack percentage, etc., would give us room for more research!","9b515858":"Let's check the problem with the snowfall column, which should also be a float type.","5a71187b":"## Analyze data, generate needed columns and join dataframes","d57355bb":"#### Aerial bombing operations","b868cb77":"# WW2 Aerial bombing operations vs. Weather\n### Author: Georgi Stoyanov\n### July 2019","936dc442":"Applying the function is too slow, the time is more than 2 hours! For this reason, the result of the operation is written to a new dataset operation_to_sta_mapping.csv.","ef7b60df":"#### Summary of weather","7994da75":"### Attacks by weather conditions locations","bb9069d9":"#### Analyze Summary of weather","ecf4fb48":"The next step is to inspect, clean up and complete the data.","fb625fda":"For the purpose of our study, this column, which unfortunately is the most confusing, is the most important! Because of this, we must fill missing values and modify existing ones in the most objective way. Once we have allowed values from 0 to 4, we can take values from precip and snowfall columns to generate new poor_weather value, then modify or add the new value according to their value. We perform this operation consistently and according to the weight of the distribution.","024f2092":"Here the problem is serious! We have very bad data! From the description of the columns in the dataset, we assume that the column should hold information about more than one event (position, boolean value). The bad thing is that the data is absolutely inconsistent and incomplete. Here we accept the approach to count events that have happened (count 1 in string), and the values obtained (in this case from 0 to 4) to fill in the column.","4e1b1346":"<a href=\"http:\/\/www.norcalblogs.com\/postscripts\/2019\/03\/31\/jack-lee-art-ww2-bomberlightning-storm\/\"><img src=\"https:\/\/i.ibb.co\/st3QL54\/head-img.png\" align=\"center\" alt=\"Jack Lee Art \u2013 WW2 Bomber\/Lightning Storm\"\/><\/a>\n###### [Jack Lee Art \u2013 WW2 Bomber\/Lightning Storm](http:\/\/www.norcalblogs.com\/postscripts\/2019\/03\/31\/jack-lee-art-ww2-bomberlightning-storm\/)","c6e341b8":"The document contains my data processing methodology, analysis and research approaches.<br><br>\nThe result of the observations shows the relationship between the air attacks during the Second World War and the meteorological conditions when they were realized.<br><br>\nThe process of research shows that the weather data may not be the most complete for the purpose of the research, and that future work may require a fuller meteorological data to definitely confirm the results.","58c2d82f":"The next problem is the data in the precip column, the rainfall information must be in the float format. We need to check the values that do not fit the format.","c0db7e9a":"First we remove unnecessary columns which we do not need or carry insignificant information.","29470930":"## Read datasets","151c5832":"The final step of preparing the research data follows. We must link each attack with the weather condition observed by the nearest station and the distance to that station.","2bf6a0e4":"Now we have to check if there are incorrect coordinates. For this purpose, we need to limit latitude from 90 to -90 and longitude from 180 to -180.","81b9963f":"## Research","4f522baf":"It seems that the data is cleaned, filled and ready for the next step of preparation procedure.","b561224d":"We see, at least in my view, a distribution of the poor weather ratio.<br>\nA little beyond the scope of the research but of interest to me, we can view distribution of attacks by years.","8cf2df09":"For the next research - visualization of geographic locations of attacks and weather stations, we need to make a function for this. This will save us from repetition of code and better readability.","979ce662":"#### Aerial bombing operations","f5814484":"Let's use the function at different distances and see what the results are."}}