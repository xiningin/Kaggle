{"cell_type":{"43d65c14":"code","1fdc2175":"code","4e961d16":"code","3d618a0c":"code","0f8fa4bd":"code","d9ec8162":"code","f12cd3a6":"code","cf42ee50":"code","30b24aba":"code","0cf2c3c4":"code","b67256cb":"code","374801d1":"code","56cab489":"code","bb0a5ca6":"code","43d692b7":"code","92de9ec6":"code","9068ed77":"code","dde82908":"code","82333bde":"code","16de67b8":"code","6349f68e":"code","f1fda9b9":"code","3c90f369":"markdown","c9952f9d":"markdown","0ce5b9de":"markdown","29fc1551":"markdown","0056380a":"markdown","e1854512":"markdown","66fc1847":"markdown","84831b0a":"markdown"},"source":{"43d65c14":"# numerical analysis\nimport numpy as np\n# storing and processing in dataframes\nimport pandas as pd\n\n# basic plotting\nimport matplotlib.pyplot as plt\n# advanced plotting\nimport seaborn as sns","1fdc2175":"# read data\ndf = pd.read_csv(\"..\/input\/forest-fires-in-brazil\/amazon.csv\", encoding='latin1')\n\n# random rows\ndf.sample(5)","4e961d16":"# columns names\ndf.columns","3d618a0c":"# no. of rows and columns\ndf.shape","0f8fa4bd":"# consise summary of dataframe\ndf.info()","d9ec8162":"# descriptive statistics\ndf.describe(include='all')","f12cd3a6":"# no. of missing values in each column\ndf.isnull().sum()","cf42ee50":"# number of unique values in each column\ndf.nunique()","30b24aba":"# df['year'].value_counts()\ndf['year'].unique()","0cf2c3c4":"# df['month'].value_counts()\ndf['month'].unique()","b67256cb":"# df['state'].value_counts()\ndf['state'].unique()","374801d1":"# month no.\nmn = {\"Janeiro\":1, \"Fevereiro\":2, \"Mar\u00e7o\":3, \"Abril\":4, \"Maio\":5, \"Junho\":6, \"Julho\":7, \n      \"Agosto\":8, \"Setembro\":9, \"Outubro\":10, \"Novembro\":11, \"Dezembro\":12}\n\n# english month names\nmn_name = {\"Janeiro\":\"January\", \"Fevereiro\":\"February\", \"Mar\u00e7o\":\"March\", \"Abril\":\"April\",\n           \"Maio\":\"May\", \"Junho\":\"June\", \"Julho\":\"July\", \"Agosto\":\"August\", \"Setembro\":\"September\", \n           \"Outubro\":\"October\", \"Novembro\":\"November\", \"Dezembro\":\"December\"}\n\n# create a new 'month no.' column\ndf['month_no'] = df['month'].map(mn)\n\n# month name to english\ndf['month'] = df['month'].map(mn_name)\n\n# first few rows\ndf.head()","56cab489":"# renaming column\ndf = df.rename(columns={'date':'date_reported'})\n\n# date format\ndf['date'] = pd.to_datetime((df['year']*10000 + df['month_no']*100 + int(1)), format='%Y%m%d')\n\n# rearrange columns\ndf = df[['state', 'month', 'month_no', 'year', 'date', 'number', 'date_reported']]","bb0a5ca6":"# get latitude and longitude data\n# ===============================\n\n# get state names\nstate_wise = pd.DataFrame(df.groupby('state')['number'].sum())\nstate_wise = state_wise.reset_index()\nstates = state_wise['state'].to_list()\n\n# latitude and longitude\nlat = [-9.0238, -9.5713, -0.9020, -3.4168, -12.5797, -5.4984, -15.7998, -19.1834, \n       -15.8270, -4.9609, -12.6819, -18.5122, -7.2400, -1.9981, -8.8137, -21.5072, \n       -22.9068, -11.5057, -2.7376, -27.2423, -23.5505, -10.5741, -10.1753]\nlon = [-70.8120, -36.7820, -52.0030, -65.8561, -41.7007, -39.3206, -47.8645, -40.3089, \n       -49.8362, -45.2744, -56.9211, -44.5550, -36.7820, -54.9306, -36.9541, -43.3208, \n       -43.1729, -63.5806, -62.0751, -50.2189, -46.6333, -37.3857, -48.2982]\n\n# create dictionaries\nlatitude = {st: la for st, la in zip(states, lat)}\nlongitude = {st: lo for st, lo in zip(states, lon)}\n\n# add columns to the dataframe\ndf['Latitude'] = df['state'].map(latitude)\ndf['Longitude'] = df['state'].map(longitude)\n\n# first few rows\ndf.head()","43d692b7":"sns.catplot(data=df, x='month', y='number', aspect=2.5)\nplt.title('No. of fires in each month')\nplt.show()","92de9ec6":"state_wise = df.groupby('state')['number'].sum().sort_values(ascending=False).reset_index()\nplt.figure(figsize=(7, 8))\nsns.barplot(data=state_wise, x='number', y='state', orient='h', palette='Dark2')\nplt.show()","9068ed77":"def group_by_col(col):\n    ","dde82908":"# df_pivot = df[['year', 'month', 'number']].pivot_table(values='number', index='year', columns='month', aggfunc='sum')\n# df_pivot.columns = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n# plt.figure(figsize=(20, 8))\n# sns.heatmap(df_pivot, annot=True, fmt='.0f', cmap='Reds')\n# plt.suptitle('Total fires')\n# plt.xlabel('')\n# plt.ylabel('')\n# plt.show()","82333bde":"# df_pivot = df[['state', 'year', 'number']].pivot_table(values='number', index='state', columns='year', aggfunc='sum')\n# plt.figure(figsize=(20, 8))\n# sns.heatmap(df_pivot, annot=True, fmt='.0f', cmap='Reds')\n# plt.suptitle('Total fires')\n# plt.xlabel('')\n# plt.ylabel('')\n# plt.show()","16de67b8":"# fig = px.scatter_geo(data_frame = state_wise, \n#                      scope='south america',\n#                      hover_name='state',\n#                      lon='longitude',\n#                      lat='latitude',\n#                      size='number',\n#                      color = 'number',\n#                      color_continuous_scale=px.colors.sequential.Peach)\n# fig.update_layout(title_text = 'Reported Fires')\n# fig.show()","6349f68e":"# plt.figure(figsize=(7, 14))\n# plt.barh(df['state'], df['number'])\n# plt.xlabel('State')\n# plt.ylabel('Number of fire')\n# plt.show()","f1fda9b9":"# sns.set_style('whitegrid')\n\n# plt.figure(figsize=(15,5))\n# ax = sns.lineplot(x ='year',y = 'number', data=df, estimator ='sum', err_style=None)\n# plt.xlabel('Year')\n# plt.ylabel('Number of Fires')\n# ax.xaxis.set_major_locator(plt.MaxNLocator(19))\n# ax.set_xlim(1998, 2017)","3c90f369":"# Data","c9952f9d":"> * **year** - Year when fire happened  \n> * **state** - Brazilian State   \n> * **month** - Month when fire happend  \n> * **number** - Number of fire reported    \n> * **date** - Date when fire were reported  ","0ce5b9de":"# Visual EDA","29fc1551":"# Libraries","0056380a":"# Data Cleaning","e1854512":"### Columns","66fc1847":"### Dataset Properties","84831b0a":"### Missing and Unique values"}}