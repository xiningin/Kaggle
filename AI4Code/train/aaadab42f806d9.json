{"cell_type":{"cfbf55c8":"code","36fc86ab":"code","9b43ea3c":"code","7eb559b1":"code","2b0f799f":"code","f035b921":"code","d8394264":"code","37f4b652":"code","5bdb8d59":"code","a3fe0659":"code","dd3eb728":"code","7950a1b9":"code","9a9e995f":"code","04814806":"code","bd8c0f0b":"code","bea2c1a7":"code","046cc444":"code","9b838f61":"code","623e5879":"code","d172dc15":"markdown","75ca2c24":"markdown","b20b409a":"markdown","ad70e432":"markdown","152111f7":"markdown","9c6bda19":"markdown","46d54054":"markdown","82d52930":"markdown","0d50f260":"markdown","4fbb3a8c":"markdown","0fb03916":"markdown","dce8e689":"markdown","df9a49b6":"markdown","9e80a47a":"markdown"},"source":{"cfbf55c8":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","36fc86ab":"import warnings\nwarnings.filterwarnings('ignore')","9b43ea3c":"df = pd.read_csv('\/kaggle\/input\/novel-corona-virus-2019-dataset\/2019_nCoV_data.csv')\nworld = pd.read_csv('\/kaggle\/input\/world-coordinates\/world_coordinates.csv')\ndf['Date'] = df['Date'].apply(pd.to_datetime)\ndf['Last Update'] = df['Last Update'].apply(pd.to_datetime)","7eb559b1":"d = df['Date'][-1:].astype('str')\nyear = int(d.values[0].split('-')[0])\nmonth = int(d.values[0].split('-')[1])\nday = int(d.values[0].split('-')[2].split()[0])\n\nfrom datetime import date\ndf_latest = df[df['Date'] > pd.Timestamp(date(year, month, day))]","2b0f799f":"df_latest['Last Update'] = pd.to_datetime(df_latest['Last Update'])\ndf_latest['Day'] = df_latest['Last Update'].apply(lambda x:x.day)\ndf_latest['Hour'] = df_latest['Last Update'].apply(lambda x:x.hour)\n\ndf_latest.head()","f035b921":"drop_element = ['Sno']\ndf_latest.drop(drop_element, axis=1, inplace = True)\n\n#Merge Hongkong and Taiwan data in China\ndf_latest['Country'].replace({'Mainland China':'China', \n                              'Hong Kong':'China',\n                             'Taiwan':'China'}, inplace = True)\n\nprint(df_latest.Country.unique())\nprint(\"\\nThere are %s countries are affected during this periode\" %format(len(df_latest.Country.unique())))","d8394264":"df_latest.groupby(['Country', 'Province\/State']).sum()","37f4b652":"df_latest.groupby('Country')['Deaths'].sum().sort_values(ascending = False)[:5]","5bdb8d59":"df_latest.groupby('Country')['Recovered'].sum().sort_values(ascending = False)[:5]","a3fe0659":"import matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots","dd3eb728":"dfww = df_latest.groupby(['Country']).agg({\n    'Confirmed':sum,\n    'Deaths':sum,\n    'Recovered':sum\n}).reset_index().sort_values('Confirmed', ascending = False)\n\ndfww.head()","7950a1b9":"trace1 = go.Bar(name = 'Confirmed', x = dfww['Country'][1:], y = dfww['Confirmed'][1:])\ntrace2 = go.Bar(name = 'Deaths', x = dfww['Country'][1:], y = dfww['Deaths'][1:])\ntrace3 = go.Bar(name = 'Recovered', x = dfww['Country'][1:], y = dfww['Recovered'][1:])\ndata = [trace1, trace2,trace3]\n\nfig = go.Figure(data)\nfig.update_layout(\n    barmode = 'stack',\n    title = 'Number of Confirmed\/Recovered in the World'\n    )\n\n\nfig.show()","9a9e995f":"df['Date'] = df['Date'].dt.date\ncond = df[df['Date'] > pd.Timestamp(date(2020, 1, 1))]\ncondgb = cond.groupby('Date').agg({'Confirmed':sum,\n                                  'Deaths':sum,\n                                  'Recovered':sum}).reset_index()\n","04814806":"fig = make_subplots(rows = 1, cols = 3, subplot_titles = (\"Confirmed\",\"Deaths\",\"Recovered\"))\n\nfig.add_trace(go.Scatter(name = 'Confirmed',\n                         x = condgb['Date'],\n                         y = condgb['Confirmed'],\n                         opacity = 0.8),\n              row = 1, col = 1)\n\nfig.add_trace(go.Scatter(name ='Deaths',\n                          x = condgb['Date'], \n                          y = condgb['Deaths'],\n                          line_color = 'red',\n                          opacity = 0.8),\n               row = 1, col=2)\n               \n\nfig.add_trace(go.Scatter(name = 'Recovered',\n                         x = condgb['Date'],\n                         y = condgb['Recovered'],\n                         line_color = 'Green',\n                         opacity = 0.8),\n              row = 1, col = 3)\n\n\nfig.update_layout(title_text=\"Global infection of nCoV over time\")\n\nfig.show()","bd8c0f0b":"dfcn = df_latest[df_latest['Country'] == 'China'].sort_values('Confirmed', ascending = False)\ndfcn.head()","bea2c1a7":"print(\"In China, There are %s province\/state are affected\" %format(len(dfcn['Province\/State'].unique())))","046cc444":"trace1 = go.Bar(name = 'Confirmed', x = dfcn['Province\/State'][1:], y = dfcn['Confirmed'][1:])\ntrace2 = go.Bar(name = 'Recovered', x = dfcn['Province\/State'][1:], y = dfcn['Recovered'][1:])\n\ndata = [trace1, trace2]\nfig = go.Figure(data)\nfig.update_layout(\n    barmode = 'stack',\n    title = 'Confirmed vs Recovered figures of Provinces of China other than Hubei'\n)\n\nfig.show()","9b838f61":"df['Last Update'] = pd.to_datetime(df['Last Update'])\ndf['Day'] = df['Last Update'].apply(lambda x:x.day)\ndf['Hour'] = df['Last Update'].apply(lambda x:x.hour)","623e5879":"plt.figure(figsize = (16,12))\nsns.set_style(\"whitegrid\")\nsns.lineplot(data = df[df['Province\/State'] == 'Hubei']['Confirmed'], label = 'Hubei confirmed casses')\nsns.lineplot(data = df[df['Province\/State'] == 'Zhejiang']['Confirmed'], label = 'Zhejiang confirmed casses')\nsns.lineplot(data = df[df['Province\/State'] == 'Guangzhou']['Confirmed'], label = 'Guangzhou confirmed casses')\n\nplt.show()","d172dc15":"Hubei has the most confirmed and recovered patients in China. And let's see Confirmed VS Recovered of China other than Hubei.","75ca2c24":"Top five countries for mortality","b20b409a":"Hubei and Zhejiang are the most import two province for this time. Let's look the increasing rate of confirmed casses of them.","ad70e432":"***Data Visualization***","152111f7":"Treat for date time","9c6bda19":"Let's check the world situation.","46d54054":"Let's visualize China situation.","82d52930":"Drop the Sno column and check the contries affected.","0d50f260":"Let's look at the Confirmed vs Recovered figures of world other than China.","4fbb3a8c":"To be continued...\n\nThe kernel will be continue updated for further data and a dashbord.","0fb03916":"Top five countries for cure rates","dce8e689":"Wuhan still has an increase in confirmed cases as an alarming rate.","df9a49b6":"**Thanks for Parul Pandey about the World_Coordinates.csv**\n\nHer kernel is: https:\/\/www.kaggle.com\/parulpandey\/wuhan-coronavirus-a-geographical-analysis","9e80a47a":"***Introduction***\n\n![](https:\/\/www.ucsf.edu\/sites\/default\/files\/styles\/full_width_page_banner__image\/public\/2020-01\/coronavirus-outbreak-map-1.30.2020.jpg)\n\nThe novel coronavirus (provisionally named 2019-nCoV) is a contagious virus that causes respiratory infection. It has been identified as the causative agent of the ongoing 2019\u201320 Wuhan coronavirus outbreak.\n\nAs many early cases were linked to a large seafood and animal market, the virus is thought to have a zoonotic origin, but this has not been confirmed. Comparisons of the genetic sequences of this virus and other virus samples have shown similarities to SARS-CoV (79.5%) and bat coronaviruses (96%), which makes an ultimate origin in bats likely.\n\nThe first known human infection occurred in December 8, 2019. An outbreak of 2019-nCoV was first detected in Wuhan, China, in mid-December 2019.The virus subsequently spread to all other provinces of China and to more than twenty other countries in Asia, Europe, North America, and Oceania. Human-to-human spread of the virus has been confirmed in China, Germany, Thailand, Taiwan, Japan, and the United States.\n\nAs of 1 February 2020, there were 12,024 confirmed cases of infection, of which 11,860 were within mainland China. Cases outside China, to date, were people who have either travelled from Wuhan, or were in direct contact with someone who travelled from the area. The number of deaths was 259 as of 1 February 2020.\n\nSource: https:\/\/en.wikipedia.org\/wiki\/Novel_coronavirus_(2019-nCoV)"}}