{"cell_type":{"d549fd0a":"code","4f6b08a2":"code","42f91f58":"code","dd4cd24f":"code","5ffae223":"code","19ca14fc":"code","d56e1765":"code","fc36bc3d":"code","90433cd2":"code","7ee8c6d7":"code","f19c86fc":"code","22de78d2":"code","829a5905":"code","eb11c4b8":"code","948e4f08":"code","e66941d3":"code","9071292a":"code","adb6c85d":"code","8c62837b":"code","a5f10841":"code","1a342ddf":"markdown","b28634d5":"markdown","0bea9133":"markdown","07f6ab8a":"markdown","ba220522":"markdown","a3b0f9bc":"markdown","8bb10a08":"markdown","41d9763b":"markdown","a5963b5f":"markdown","cdb56f85":"markdown"},"source":{"d549fd0a":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport re\nfrom scipy.stats import norm","4f6b08a2":"def like(x, pattern):\n    r = re.compile(pattern)\n    vlike = np.vectorize(lambda val: bool(r.fullmatch(val)))\n    return vlike(x)","42f91f58":"df = pd.read_csv('..\/input\/medium-articles-dataset\/medium_data.csv')","dd4cd24f":"df","5ffae223":"df['title'].isna().sum()","19ca14fc":"df['claps'].isna().sum()","d56e1765":"start_words = ['What', 'When', 'Why', 'Which', 'Who', 'How',\n               'Whose', 'Whom', 'Do', 'Are', 'Is', 'Will',\n               'Did', 'Can', 'Has', 'Should']\n\nregex = '(('+('|'.join(start_words))+').*)|(.*\\?)'","fc36bc3d":"regex","90433cd2":"df_questions = df.loc[like(df['title'], regex), ['title', 'claps']]","7ee8c6d7":"df_not_questions = df.loc[~like(df['title'], regex), ['title', 'claps']]","f19c86fc":"df_questions","22de78d2":"df_not_questions","829a5905":"n = len(df_questions.index)\nn","eb11c4b8":"m = len(df_not_questions.index)\nm","948e4f08":"x_bar = df_questions['claps'].values.mean()\nx_bar","e66941d3":"y_bar = df_not_questions['claps'].values.mean()\ny_bar","9071292a":"var1 = df_questions['claps'].values.var()\nvar1","adb6c85d":"var2 = df_not_questions['claps'].values.var()\nvar2","8c62837b":"z = (x_bar - y_bar)\/np.sqrt(var1\/n + var2\/m)\nz","a5f10841":"p = 1 - norm.cdf(z)\np","1a342ddf":"Neither 'title' nor 'claps' columns contain NaNs.","b28634d5":"**Sample 1: Articles with questions as headlines**  \nWe will model the number of claps inside this group as **n** i.i.d. (independent and identically distributed) random variables: $X_1, X_2, \u2026, X_n$ with expected value $\\mu_1$ and variance $\\sigma_1^2$, both of which are finite.  \n \n**Sample 2: Articles with non-questions as headlines**  \nWe will model the number of claps inside this group as m i.i.d. random variables: $Y_1, Y_2, \u2026, Y_m$ with expected value $\\mu_2$ and variance $\\sigma_2^2$, both of which are finite.","0bea9133":"And, our p-value is:","07f6ab8a":"$$\nZ = \\frac{(\\bar{X_n} - \\bar{Y_m}) - (\\mu_1 - \\mu_2)}{\\sqrt{\\frac{\\sigma_1^2}{n} + \\frac{\\sigma_2^2}{m}}}\n$$","ba220522":"## Let's do a hypothesis test to check if that's true","a3b0f9bc":"In this notebook I did a 2 sample hypothesis test to check if the expected number of claps is bigger for question-titled articles compared to non-question-titled articles.","8bb10a08":"For a significance level of $\\alpha$ = 0.05, it follows that p $\\approx$ 0.018 < $\\alpha$, and therefore we reject the null hypothesis and accept the alternative. In English, this means: \"**We are 95% confident that stories with questions as headlines are expected to have more claps than stories with non-question headlines**\".","41d9763b":"# Do stories with questions as headlines have more success?","a5963b5f":"$$\n\\begin{cases}\nH_0: \\mu_1 \\leq \\mu_2 \\\\\nH_1: \\mu_1 \\gt \\mu_2\n\\end{cases}\n$$","cdb56f85":"$\\mu_1 - \\mu_2 = 0$ by the null hypothesis. So our test statistic is:"}}