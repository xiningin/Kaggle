{"cell_type":{"7f2030c2":"code","c034cafb":"code","6f65f929":"code","a2aec15d":"code","2a95fcb2":"code","572e71c1":"code","7ed5ca02":"code","93f60d4a":"code","9390faf0":"code","fbaa3337":"code","309af36e":"code","f9ff32b0":"code","1d3e16dc":"code","78b1ab1a":"code","0bbb917c":"code","d1dfe5aa":"code","2fdefc4c":"code","c5babe93":"code","16f8f67d":"markdown","345ad9a1":"markdown","91d06ea0":"markdown","332dd902":"markdown","4efa553d":"markdown","2bb73c47":"markdown"},"source":{"7f2030c2":"import pandas as pd  ","c034cafb":"filename = '..\/input\/sentiment-analysis\/sentiment_analysis_train.v1.0.txt'","6f65f929":"with open(filename) as file:\n    lines = file.readlines()\n    lines = [line.rstrip() for line in lines]","a2aec15d":"lines[:10]","2a95fcb2":"labels = []\nsentences = []\nfor line in lines:\n    split = line.split()\n    label = split[0]\n    sentence = ' '.join(split[1:])\n    labels.append(label)\n    sentences.append(sentence)\n","572e71c1":"df = pd.DataFrame({'sentence': sentences, 'label': labels}) ","7ed5ca02":"df","93f60d4a":"!pip install fasttext","9390faf0":"!wget -O \/tmp\/lid.176.bin https:\/\/dl.fbaipublicfiles.com\/fasttext\/supervised-models\/lid.176.bin","fbaa3337":"import fasttext\n\nPRETRAINED_MODEL_PATH = '\/tmp\/lid.176.bin'\nmodel = fasttext.load_model(PRETRAINED_MODEL_PATH)","309af36e":"language_predictions = model.predict(sentences)\nlanguages = [language_predictions[0][i][0][9:] for i in range(len(sentences))]\nlanguages[:10]","f9ff32b0":"df['language'] = languages","1d3e16dc":"df","78b1ab1a":"!pip install googletrans==4.0.0rc1","0bbb917c":"from googletrans import Translator\nfrom tqdm import tqdm\n\ntranslator = Translator()\ntranslations = []\nfor i in tqdm(range(len(sentences))):\n    sentence = sentences[i]\n    translation = translator.translate(sentences[i], dest='en')\n    translations.append(translation.text)","d1dfe5aa":"with open('translations.txt', 'w') as f:\n    for item in translations:\n        f.write(\"%s\\n\" % item)","2fdefc4c":"# import time\n\n# start = time.time()\n# translation = translator.translate('2 ng\u00e0y ngh\u1ec9 \u1edf \u0111\u00e2y \u0111\u1ec1u c\u00f3 ch\u01b0\u01a1ng tr\u00ecnh x\u1ed5 s\u1ed1 r\u1ebb ti\u1ec1n', dest = 'en')\n# translation.text\n# end = time.time()\n# print(end - start)\n# print(translation.text)","c5babe93":"translations[:10]","16f8f67d":"reference: https:\/\/pypi.org\/project\/googletrans\/","345ad9a1":"**3. Add Translation**","91d06ea0":"# SENTIMENT ANALYSIS IN MULTIPLE LANGUAGES","332dd902":"**1. From txt to csv**","4efa553d":"**2. Language identifier**","2bb73c47":"reference: https:\/\/amitness.com\/2019\/07\/identify-text-language-python\/"}}