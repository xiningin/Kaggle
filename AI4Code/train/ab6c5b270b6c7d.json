{"cell_type":{"836eca77":"code","62a6f1eb":"code","854ef96d":"code","d56bd711":"code","4e061e8c":"code","0fe04d20":"code","f26c9c46":"code","b13a5b09":"code","21eacb17":"code","2f8fd111":"code","31f2f879":"code","3c41787a":"code","4bcbfb13":"code","27f50105":"code","81dca6c1":"code","907a0b6d":"code","3237e328":"code","4229c5dd":"code","eb7e4e9b":"code","94b69b18":"code","f119b1cc":"code","b9f4482b":"code","daccc5d0":"code","006da34e":"code","41ad7b9c":"code","73eac2fc":"code","fc1fcb63":"code","52211384":"code","c6cdf8b4":"code","77c70015":"code","ebf042ee":"code","f82ebff3":"code","1a8d887d":"code","307e3897":"code","8de684dd":"code","83a79546":"code","5d17af9a":"markdown","792bb23e":"markdown","b5b2b4d5":"markdown"},"source":{"836eca77":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)","62a6f1eb":"pol_deaths = pd.read_csv('..\/input\/air-pollution\/death-rates-from-air-pollution.csv')","854ef96d":"pol_deaths.head()","d56bd711":"del pol_deaths['Code']","4e061e8c":"pol_deaths.info()","0fe04d20":"pol_deaths.rename(columns={'Deaths - Air pollution - Sex: Both - Age: Age-standardized (Rate)': 'Deaths by air pollution', 'Deaths - Household air pollution from solid fuels - Sex: Both - Age: Age-standardized (Rate)': 'Deaths by household air pollution from fuels' ,'Deaths - Ambient particulate matter pollution - Sex: Both - Age: Age-standardized (Rate)': 'Death by ambient particulate pollution', 'Deaths - Ambient ozone pollution - Sex: Both - Age: Age-standardized (Rate)': 'Deaths by ambient ozone pollution'}, inplace=True)","f26c9c46":"print({'First year': pol_deaths['Year'].min(), 'Last year': pol_deaths['Year'].max()})","b13a5b09":"pol_deaths['Entity'].unique()","21eacb17":"pol_deaths.drop('Year', axis = 1).hist(bins = 20, figsize = (12,10))","2f8fd111":"pol_deaths.drop('Year', axis = 1).corr()","31f2f879":"pol_2017 = pol_deaths[pol_deaths['Year'] == 2017]\ndel pol_2017['Year']\n\npol_2017 = pol_2017.set_index(['Entity'])\npol_2017[\"Total pollution deaths\"] = pol_2017.iloc[:, 0] + pol_2017.iloc[:, 1] + pol_2017.iloc[:, 2] + pol_2017.iloc[:, 3]\n\npol_2017 = pol_2017[[\"Total pollution deaths\", \"Deaths by air pollution\", \"Deaths by household air pollution from fuels\",\n                     \"Death by ambient particulate pollution\", \"Deaths by ambient ozone pollution\"]]\n\nprint(\"\\nThe countrys with the top ten highest deaths by pollution - 2017\\n\")\npol_2017.sort_values('Total pollution deaths', ascending = False).head(10)","3c41787a":"print(\"\\nThe countrys with the top ten lowest deaths by pollution - 2017\\n\")\npol_2017.sort_values('Total pollution deaths', ascending = True).head(10)","4bcbfb13":"print(\"\\n\\nWe can see how countries compare when it comes to how they improved over the years.\\n\\n\")","27f50105":"pol_deaths[\"Total pollution deaths\"] = pol_deaths.iloc[:, 2] + pol_deaths.iloc[:, 3] + pol_deaths.iloc[:, 4] + pol_deaths.iloc[:, 5]\npol_con = pol_deaths.set_index(['Entity'])\n\ncountrys = list(pol_deaths['Entity'].unique())\n\n\n#################################################################################################################################\n\ns = []\n\nfor i in countrys:\n    \n    m = pol_con.loc[i, ['Year', 'Deaths by air pollution', 'Deaths by household air pollution from fuels',\n                        'Death by ambient particulate pollution', 'Deaths by ambient ozone pollution', 'Total pollution deaths']]\n    \n    s.append([i, m.loc[m['Year'] == 1990]['Total pollution deaths'] - m.loc[m['Year'] == 1999]['Total pollution deaths']\n             ,m.loc[m['Year'] == 1990]['Deaths by air pollution'] - m.loc[m['Year'] == 1999]['Deaths by air pollution']\n             , m.loc[m['Year'] == 1990]['Deaths by household air pollution from fuels'] - m.loc[m['Year'] == 1999]['Deaths by household air pollution from fuels']\n             , m.loc[m['Year'] == 1990]['Death by ambient particulate pollution'] - m.loc[m['Year'] == 1999]['Death by ambient particulate pollution']\n             , m.loc[m['Year'] == 1990]['Deaths by ambient ozone pollution'] - m.loc[m['Year'] == 1999]['Deaths by ambient ozone pollution']])\n\n\ndata1 = {'Country' : [], 'Drop in the total number of deaths by pollution (1990-1999)' : [],\n         'Drop in deaths by air pollution (1990-1999)' : [],\n        'Drop in deaths by household air pollution from fuels (1990-1999)' : [],\n       'Drop in death by ambient particulate pollution (1990-1999)' : [],\n        'Drop in deaths by ambient ozone pollution (1990-1999)' : []}\n\n\nfor i in range(len(s)):\n    \n    data1['Country'].append(s[i][0])\n    data1['Drop in the total number of deaths by pollution (1990-1999)'].append(s[i][1][0])\n    data1['Drop in deaths by air pollution (1990-1999)'].append(s[i][2][0])\n    data1['Drop in deaths by household air pollution from fuels (1990-1999)'].append(s[i][3][0])\n    data1['Drop in death by ambient particulate pollution (1990-1999)'].append(s[i][4][0])\n    data1['Drop in deaths by ambient ozone pollution (1990-1999)'].append(s[i][5][0])\n    \n    \ndf1 = pd.DataFrame.from_dict(data1)\ndf1 = df1.set_index(['Country'])\n\n\n#################################################################################################################################\n\ns = []\n\nfor i in countrys:\n    \n    m = pol_con.loc[i, ['Year', 'Deaths by air pollution', 'Deaths by household air pollution from fuels',\n                        'Death by ambient particulate pollution', 'Deaths by ambient ozone pollution', 'Total pollution deaths']]\n    \n    s.append([i, m.loc[m['Year'] == 1999]['Total pollution deaths'] - m.loc[m['Year'] == 2008]['Total pollution deaths']\n             ,m.loc[m['Year'] == 1999]['Deaths by air pollution'] - m.loc[m['Year'] == 2008]['Deaths by air pollution']\n             , m.loc[m['Year'] == 1999]['Deaths by household air pollution from fuels'] - m.loc[m['Year'] == 2008]['Deaths by household air pollution from fuels']\n             , m.loc[m['Year'] == 1999]['Death by ambient particulate pollution'] - m.loc[m['Year'] == 2008]['Death by ambient particulate pollution']\n             , m.loc[m['Year'] == 1999]['Deaths by ambient ozone pollution'] - m.loc[m['Year'] == 2008]['Deaths by ambient ozone pollution']])\n\n    \n\ndata2 = {'Country' : [], 'Drop in the total number of deaths by pollution (1999-2008)' : [],\n         'Drop in deaths by air pollution (1999-2008)' : [],\n        'Drop in deaths by household air pollution from fuels (1999-2008)' : [],\n       'Drop in death by ambient particulate pollution (1999-2008)' : [],\n        'Drop in deaths by ambient ozone pollution (1999-2008)' : []}\n\n\nfor i in range(len(s)):\n    \n    data2['Country'].append(s[i][0])\n    data2['Drop in the total number of deaths by pollution (1999-2008)'].append(s[i][1][0])\n    data2['Drop in deaths by air pollution (1999-2008)'].append(s[i][2][0])\n    data2['Drop in deaths by household air pollution from fuels (1999-2008)'].append(s[i][3][0])\n    data2['Drop in death by ambient particulate pollution (1999-2008)'].append(s[i][4][0])\n    data2['Drop in deaths by ambient ozone pollution (1999-2008)'].append(s[i][5][0])\n        \n\ndf2 = pd.DataFrame.from_dict(data2)\ndf2 = df2.set_index(['Country'])\n\n\n#################################################################################################################################\n\ns = []\n\nfor i in countrys:\n    \n    m = pol_con.loc[i, ['Year', 'Deaths by air pollution', 'Deaths by household air pollution from fuels',\n                        'Death by ambient particulate pollution', 'Deaths by ambient ozone pollution', 'Total pollution deaths']]\n              \n    s.append([i, m.loc[m['Year'] == 2008]['Total pollution deaths'] - m.loc[m['Year'] == 2017]['Total pollution deaths']\n             , m.loc[m['Year'] == 2008]['Deaths by air pollution'] - m.loc[m['Year'] == 2017]['Deaths by air pollution']\n             , m.loc[m['Year'] == 2008]['Deaths by household air pollution from fuels'] - m.loc[m['Year'] == 2017]['Deaths by household air pollution from fuels']\n             , m.loc[m['Year'] == 2008]['Death by ambient particulate pollution'] - m.loc[m['Year'] == 2017]['Death by ambient particulate pollution']\n             , m.loc[m['Year'] == 2008]['Deaths by ambient ozone pollution'] - m.loc[m['Year'] == 2017]['Deaths by ambient ozone pollution']])\n\n\ndata3 = {'Country' : [], 'Drop in the total number of deaths by pollution (2008-2017)' : [],\n         'Drop in deaths by air pollution (2008-2017)' : [],\n        'Drop in deaths by household air pollution from fuels (2008-2017)' : [],\n       'Drop in death by ambient particulate pollution (2008-2017)' : [],\n        'Drop in deaths by ambient ozone pollution (2008-2017)' : []}\n\n\nfor i in range(len(s)):\n    \n    data3['Country'].append(s[i][0])\n    data3['Drop in the total number of deaths by pollution (2008-2017)'].append(s[i][1][0])\n    data3['Drop in deaths by air pollution (2008-2017)'].append(s[i][2][0])\n    data3['Drop in deaths by household air pollution from fuels (2008-2017)'].append(s[i][3][0])\n    data3['Drop in death by ambient particulate pollution (2008-2017)'].append(s[i][4][0])\n    data3['Drop in deaths by ambient ozone pollution (2008-2017)'].append(s[i][5][0])\n    \n\ndf3 = pd.DataFrame.from_dict(data3)\ndf3 = df3.set_index(['Country'])\n\n\n#################################################################################################################################\n\ndflist = [df1,df2,df3]\nklist = ['(1990-1999)', '(1999-2008)', '(2008-2017)']\nhlist = ['h1','h2','h3']\n\n\nprint(\"\\n\\nLet's see which countries decreased their pollution deaths the most over the years.\\n\\n\\n\\n\")\n\n\nfor index,i in enumerate(hlist):\n    i = dflist[index].sort_values('Drop in the total number of deaths by pollution ' + klist[index], ascending = False).head(10)\n    i.plot.bar(figsize = (20,8), ylabel= 'Decrease in deaths',\n               title = 'Top 10 countries with the greatest reductions of pollution related deaths from ' + klist[index],\n               colormap = 'Accent')\n","81dca6c1":"hlist = ['h1','h2','h3']\n\nprint(\"\\n\\nLet's see which countries decreased their pollution deaths the least over the years.\\n\\n\\n\\n\")\n\nfor index,i in enumerate(hlist):\n    i = dflist[index].sort_values('Drop in the total number of deaths by pollution ' + klist[index], ascending = True).head(10)\n    i.plot.bar(figsize = (20,8), ylabel= 'Decrease in deaths',\n               title = 'Top 10 worst performing countries in regards to the numbers of pollution related deaths from ' + klist[index],\n               colormap = 'Accent')","907a0b6d":"del pol_deaths['Total pollution deaths']","3237e328":"print(\"\\n\\nI'm going to look at pollution deaths over time for a few major countries.\\n\\n\")","4229c5dd":"US = pol_deaths[pol_deaths['Entity'] == 'United States'].set_index(['Year'])\nChina = pol_deaths[pol_deaths['Entity'] == 'China'].set_index(['Year'])\nIndia = pol_deaths[pol_deaths['Entity'] == 'India'].set_index(['Year'])\nGermany = pol_deaths[pol_deaths['Entity'] == 'Germany'].set_index(['Year'])\nFrance = pol_deaths[pol_deaths['Entity'] == 'France'].set_index(['Year'])\nCanada = pol_deaths[pol_deaths['Entity'] == 'Canada'].set_index(['Year'])\n\n\nl = [US,China,India,Germany,France,Canada]\nfor i in l:\n    i.plot(title = i.iloc[0][0] + ' Pollution Related Deaths', ylabel = 'Deaths' , figsize = (20,14))","eb7e4e9b":"print(\"\\nNote how similar the US, Germany, and France are to each other, and also note how similar India and China are to each other.\\n\")\nprint(\"The blue line has the greatest number of deaths associated with all of these countries, but the orange has the second most\")\nprint(\"for India and China.\\n\")","94b69b18":"print(\"\\nFor some perspective I'm going to look at another dataset that has some numbers for the levels of pollution around the world.\\n\")","f119b1cc":"pollution = pd.read_csv('..\/input\/pm25-global-air-pollution-20102017\/PM2.5 Global Air Pollution 2010-2017.csv')","b9f4482b":"print(\"\\n\\nThe following dataset has the mean annual levels of pollution (fine particulate pollution in micrograms per cubic meter) for\")\nprint(\"a number of countries and regions from the years 2010 to 2017.\\n\\n\\n\")\n\npollution","daccc5d0":"del pollution['Country Code']","006da34e":"pollution.info()","41ad7b9c":"pollution.head()","73eac2fc":"pollution['Mean Pollution Level'] = ((pollution['2010'] + pollution['2011'] + pollution['2012']\n                                     + pollution['2013'] + pollution['2014'] + pollution['2015']\n                                     + pollution['2016'] + pollution['2017'])\/8)\n\npollution_later = pollution.copy()\npollution = pollution.set_index('Country Name')\n\npollution.head()","fc1fcb63":"p = pollution.sort_values('Mean Pollution Level',ascending = False)['Mean Pollution Level'].head(10)\np.plot.bar(figsize = (20,8), title = 'Top 10 most polluting countries on average (2010-2017)', ylabel = \"Levels of pollution\", color = 'steelblue')","52211384":"q = pollution.sort_values('Mean Pollution Level',ascending = True)['Mean Pollution Level'].head(10)\nq.plot.bar(figsize = (20,8), title = 'Top 10 least polluting countries on average (2010-2017)', ylabel = \"Levels of pollution\", color = 'steelblue')","c6cdf8b4":"pollution.loc[['North America','United States'], :]","77c70015":"print(\"\\nIt seems a little weird at first that North America has a lower mean level of pollution then the US, but the dataset records\")\nprint(\"annual mean levels of pollution, not the total amount of pollution created over the year.\\n\")","ebf042ee":"pollution_later.head()","f82ebff3":"pollution_later = pd.melt(pollution_later, id_vars=['Country Name'],\n                          value_vars=['2010', '2011','2012', '2013','2014', '2015','2016', '2017'])\n\npollution_later","1a8d887d":"pollution_later = pollution_later.rename(columns={\"variable\": \"Year\", \"value\": \"Fine particulate pollution (microgram per cubic meter)\"})\npollution_later","307e3897":"print(\"\\n\\nUsing the same countries I was focusing on earlier in regards to pollution related deaths,\")\nprint(\"I'm going to look at the rate of pollution over time.\\n\\n\")","8de684dd":"US = pollution_later[pollution_later['Country Name'] == 'United States'].set_index(['Year'])\nChina = pollution_later[pollution_later['Country Name'] == 'China'].set_index(['Year'])\nIndia = pollution_later[pollution_later['Country Name'] == 'India'].set_index(['Year'])\nGermany = pollution_later[pollution_later['Country Name'] == 'Germany'].set_index(['Year'])\nFrance = pollution_later[pollution_later['Country Name'] == 'France'].set_index(['Year'])\nCanada = pollution_later[pollution_later['Country Name'] == 'Canada'].set_index(['Year'])\n\nl = [US,China,India,Germany,France,Canada]\nfor i in l:\n    i.plot(title = 'Rates of pollution in ' + i.iloc[0][0],\n           ylabel = 'Micrograms per cubic meter of fine particulate pollution', legend = False, figsize = (20,10))","83a79546":"print(\"\\n\\nChina and India have significantly higher starting point pollution levels than the other countries.\\n\")\nprint(\"Every country other than India continues to have their pollution levels trend downward over time.\\n\")\nprint(\"India had a big drop in pollution levels from 2011 to 2012 (the biggest it has had in the data), but\")\nprint(\"even in 2012 India has had a significantly higher level of pollution than every other country at their worst.\\n\\n\")","5d17af9a":"Deaths by air pollution has a very strong correlation with the deaths by air pollution from solid fuels. However\ndeaths by air pollution has a relatively weak correlation with deaths by ambient ozone pollution and next to\nno correlation with ambient particulate matter pollution.","792bb23e":"The most recent year available in this dataset is 2017, so I'm going to see how the different countrys do on pollution in that year.","b5b2b4d5":"1.   Of these variables the deaths by air pollution and the deaths by household air pollution from solid fuels are both\n     on a notably higher scale than the other two.\n   \n2.   As the deaths by air pollution increases the frequency seems to steadily decrease.\n\n3.   The deaths by ambient particulate pollution seems to have a right-tailed distribution, which is a little weird.\n\n4.   Compared to the other causes, the deaths by ambient ozone pollution are most frequently very low in number.\n\n5.   The deaths by air pollution from solid fuels also very frequently has a fairly low number deaths, though it is more dispersed;\n     it can however often be sometimes rather large compared to the number of deaths by ambient ozone pollution.\n"}}