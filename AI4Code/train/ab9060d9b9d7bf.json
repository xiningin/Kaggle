{"cell_type":{"3963d1ba":"code","005fafc1":"code","14b2a212":"code","e73a0e5e":"code","9a789f4b":"markdown","d963e03a":"markdown"},"source":{"3963d1ba":"%pylab inline\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nh = 0.95 #we want at least this chance of finding a single infected person\n\ndef samples_needed(h,p):\n    n = ceil(log(1-h) \/ log(1-p))\n    print(\"%s tests needed for a %s%% chance to find at least one positive, if the true prevalence is %s\" %(n, h*100,p))\n    return n","005fafc1":"print(\"New York State, assuming 10x more cases than reported\")\np = 3066.2E-6 #confirmed cases per capita in new york state. source: http:\/\/www.91-divoc.com, 29 March 2020\np*=10\n__ = samples_needed(h,p)","14b2a212":"print(\"nationwide average, assuming 10x reported cases exist\")\np = 427E-6 #confirmed cases per capita in US\np *=10 # assume 10x underreporting\n\n__ = samples_needed(h,p)\n","e73a0e5e":"print(\"Minnesota, assuming 10x more cases than reported\")\np = 89.2E-6\np*=10\n\n__ = samples_needed(h,p)","9a789f4b":"Let $p$ be the per capita infection rate.  The true value of $p$ is unknown but is lower bounded by the number of confirmed cases per capita. Then the probability $h$ of at least one hit, for $n$ samples is $h = 1 - (1-p)^n$. To find the number of samples needed for a 95% chance of finding a positive example, solve for $n$ to get $n = log(1-h) \/ log(1-p)$.","d963e03a":"# Sample size for stochastic Covid testing\n\nThe purpose of this notebook is to estimate how many people would need to be sampled to get an accurate picture of the true prevalence of SARS-COV2 infection."}}