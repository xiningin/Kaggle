{"cell_type":{"1b05c502":"code","6684db84":"code","7af74e5f":"code","7a189892":"code","8928c4c8":"code","424f5be1":"code","8f754fa3":"code","2312142c":"code","bd1c1485":"code","90482b20":"code","b7c15752":"code","5864bce7":"code","9bf8c0d7":"code","f1a3429c":"code","feb74d1d":"markdown","28fca576":"markdown","04c6cdee":"markdown","4a9045f5":"markdown","ccd17533":"markdown","bbdbc230":"markdown","4449e2a8":"markdown","4a8aaff9":"markdown","b9d152a9":"markdown","dded1c35":"markdown","f0a339f0":"markdown","98a3d5ed":"markdown"},"source":{"1b05c502":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","6684db84":"import pandas as pd\nfrom matplotlib import pyplot as plt\nfrom scipy import stats","7af74e5f":"insurance_data = pd.read_csv('..\/input\/insurance-data\/insurance.csv')\nprint(insurance_data.head())","7a189892":"\nsmoking_and_cost_data = insurance_data[['smoker', 'charges']]\n\n\nsmoking_and_cost_data_grouped = smoking_and_cost_data.groupby(['smoker']).mean()\nprint(smoking_and_cost_data_grouped)\n\nmultiple = round(smoking_and_cost_data_grouped['charges'][1]\/smoking_and_cost_data_grouped['charges'][0])\n\nprint('The average smoker is charged about {x} times the amount of the average non-smoker '.format(x= multiple))","8928c4c8":"children_and_cost_data = insurance_data[['children', 'charges']]\n\n\nchildren_and_cost_data_grouped = children_and_cost_data.groupby(['children']).mean()\nprint(children_and_cost_data_grouped)\n\nplt.scatter(children_and_cost_data['children'],children_and_cost_data['charges'] )\nplt.show()","424f5be1":"number_children = children_and_cost_data['children']\n\nno_child = []\none_child = []\ntwo_children = []\nthree_children = []\nfour_children = []\nfive_children = []\n\nfor i in number_children:\n    if i == 0:\n        no_child.append(i)\n    if i == 1:\n        one_child.append(i)\n    if i == 2:\n        two_children.append(i)\n    if i == 3:\n        three_children.append(i)\n    if i == 4:\n        four_children.append(i)\n    if i == 5:\n        five_children.append(i)\n\n\n\nchild_dist = [len(no_child)]+[len(one_child)]+[len(two_children)]+[len(three_children)]+[len(four_children)]+[len(five_children)]\nprint(child_dist)\n\nx = [0, 1, 2, 3, 4, 5]\n\nplt.bar(x, child_dist)\nplt.title('Distribution of Number of Children')\nplt.xlabel('Number of Children')\nplt.ylabel('Number of Participants with x Children')\nplt.show()","8f754fa3":"bmi = insurance_data['bmi']\ncost = insurance_data['charges']\nsmoker = insurance_data['smoker']\n\nplt.scatter(bmi,cost)\nplt.title('Relationship between Insurance Cost and BMI')\nplt.xlabel('Body Mass Index')\nplt.ylabel('Insurance Cost')\nplt.show()","2312142c":"plt.hist(bmi, bins=50)\nplt.title('Distribution of BMI')\nplt.xlabel('Body Mass Index')\nplt.ylabel('Number of Data Points in Bin')\nplt.show()\n\npvalue = stats.jarque_bera(bmi)[1]\nif pvalue > 0.05:\n    print('Not normally distributed')\nelse:\n    print('Normally distributed')","bd1c1485":"sex_and_cost_data = insurance_data[['sex', 'charges']]\n\n\nsex_and_cost_data_grouped = sex_and_cost_data.groupby(['sex']).mean()\nprint(sex_and_cost_data_grouped)\n\nmultiple = sex_and_cost_data_grouped['charges'][1]\/sex_and_cost_data_grouped['charges'][0]\n\nprint('The average male is charged about {x} times the amount of the average female'.format(x= multiple))","90482b20":"female = insurance_data['sex'] == 'female'\ninsurance_female = insurance_data[female]\n\n\nmale = insurance_data['sex'] == 'male'\ninsurance_male = insurance_data[male]\n\nplt.hist(insurance_female['charges'],bins=50, alpha=0.5, label='female')\nplt.hist(insurance_male['charges'], alpha=0.5,bins=50, label='male')\nplt.title('Distribution of Insurance Cost by Sex')\nplt.xlabel('Insurance Cost')\nplt.ylabel('Number of Data Points in Bin')\nplt.legend(loc='upper right')\nplt.show()","b7c15752":"fig, (ax1, ax2) = plt.subplots(1,2)\nfig.suptitle('Distribution of Insurance Cost for Males and Females')\nfig.tight_layout(pad=3)\nax1.boxplot(insurance_male['charges'])\nax1.set_title('Male')\nax2.boxplot(insurance_female['charges'])\nax2.set_title('Female')\nplt.show()","5864bce7":"age = insurance_data['age']\n\nplt.scatter(age,cost)\nplt.title('Relationship between Insurance Cost and Age')\nplt.xlabel('Age')\nplt.ylabel('Insurance Cost')\nplt.show()","9bf8c0d7":"insurance_data = pd.get_dummies(insurance_data)\nprint(len(insurance_data))","f1a3429c":"from sklearn.linear_model import LinearRegression\nfrom sklearn.model_selection import train_test_split\n\nX_data = insurance_data.drop(['charges'], axis=1)\n\nX = X_data\n#print(len(X_data))\nY = insurance_data['charges']\n\nx_train, x_test, y_train, y_test = train_test_split(X, Y, test_size=0.2, random_state=1)\n#print(x_train.head())\n\nreg = LinearRegression()\nreg.fit(x_train,y_train)\n\ny_predictions = reg.predict(x_test)\n\n#print(y_predictions)\n\nscore = reg.score(x_test, y_test)\nprint(score)","feb74d1d":"# 1 Data Exploration","28fca576":"## How does having children affect insurance cost?","04c6cdee":"Hypothesis: \n\ncost = age * slope + base\n\n- Customer gets classified depending on all factors except age. This results in the base.\n- The age multiplied with a certain slope added on the base results in the insurance cost.","4a9045f5":"# U.S. Medical Insurance Costs","ccd17533":"## How does age affect insurance cost?","bbdbc230":"## Data Preparation","4449e2a8":"## How does smoking affect insurance cost?","4a8aaff9":"## Goals:\n\n- Explore Data\n    - How does smoking affect insurance cost?\n    - How does having children affect insurance cost?\n    - How does the BMI affect insurance cost?\n    - How does the sex affect insurance cost?\n    - How does age affect insurance cost?\n    \n    \n- Build Insurance Cost Predictor\n    - What are the dominant factors?","b9d152a9":"## How does the sex affect insurance cost?","dded1c35":"# 2 Insurance Cost Predictor","f0a339f0":"## Prediction with Linear Regression","98a3d5ed":"## How does the BMI affect insurance cost?"}}