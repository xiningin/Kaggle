{"cell_type":{"79e16b4a":"code","5fc933df":"code","434e52b2":"code","aa6579bc":"code","0c01486d":"code","3dcd96c7":"code","e9d44f6f":"code","25f065d4":"code","ac7107a7":"code","00aa626c":"code","e35ddbfd":"markdown","e0b662dd":"markdown","b3ff5867":"markdown","057c22ed":"markdown","2f7230f9":"markdown","39906e52":"markdown","01802b54":"markdown","0158a362":"markdown","956f54dd":"markdown","413c8784":"markdown","4e3784bd":"markdown","148b3170":"markdown"},"source":{"79e16b4a":"import numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport folium\nfrom IPython.display import display\nfrom pandas_profiling import ProfileReport\nimport seaborn as sns\nsns.set()","5fc933df":"df_listings = pd.read_csv(\"\/kaggle\/input\/airbnb-new-york\/listings.csv\")\ndf_reviews  = pd.read_csv(\"\/kaggle\/input\/airbnb-new-york\/reviews.csv\")\ndf_calendar = pd.read_csv(\"\/kaggle\/input\/airbnb-new-york\/calendar.csv\")\n\npd.set_option('display.max_columns', None)\npd.set_option('display.max_rows', None)","434e52b2":"ProfileReport(df_listings, title=\"RELAT\u00d3RIO DE DADOS DATASET LISTINGS\")","aa6579bc":"ProfileReport(df_reviews, title=\"RELAT\u00d3RIO DE DADOS DATASET REVIEWS\")","0c01486d":"ProfileReport(df_calendar, title=\"RELAT\u00d3RIO DE DADOS CALENDAR\", minimal=True)","3dcd96c7":"plt.figure(figsize=(10,7))\nplt.title('Tipo Acomoda\u00e7\u00f5es anunciadas por Bairro')\nplt.legend()\nsns.countplot (x='room_type', data=df_listings, hue='neighbourhood_group_cleansed')\nplt.show()","e9d44f6f":"df_ny = pd.DataFrame()\ndf_ny['neighbourhood'] = df_listings.neighbourhood_group_cleansed.value_counts().index\ndf_ny['total']         = df_listings.neighbourhood_group_cleansed.value_counts().values\n\n# GeoJSON\nny_neighborhoods_json_url = '\/kaggle\/input\/airbnb-new-york\/nyc_neighborhoods2.geojson'\n\n# Mapa base\ncoordenadas_NY = [40.730610, -73.935242]\nny_city = folium.Map(location=coordenadas_NY, zoom_start=11)\n\n# Camada choroplet\nfolium.Choropleth(\n    geo_data=ny_neighborhoods_json_url,\n    name='choropleth',\n    data=df_ny,\n    columns=['neighbourhood', 'total'],\n    key_on='properties.borough',\n    fill_color='YlOrRd',\n    fill_opacity=0.7,\n    line_opacity=0.2,\n    legend_name='N\u00famero de an\u00fancios por regi\u00e3o'\n).add_to(ny_city)\n\n# Plota o mapa\nny_city","25f065d4":"#df_listings['price']=df_listings.price.str.replace ('$','', regex=True).str.replace(',', '', regex = True).astype(float).astype(int)\n#df_listings['price_category'] = df_listings.price.map (lambda x: 'CHEAP' if x < 100 else 'MEDIUM' if x >= 100 and x< 500 else 'EXPENSIVE')\n\nlabels = list (set(df_listings.price_category.values))\n\nsizes = [df_listings.price_category[df_listings.price_category == labels[0]].value_counts()[0],\n         df_listings.price_category[df_listings.price_category == labels[1]].value_counts()[0],\n         df_listings.price_category[df_listings.price_category == labels[2]].value_counts()[0]\n        ] \nplt.figure(figsize=(12,12))\nfig1, ax1 = plt.subplots()\nax1.pie(sizes, labels=labels, autopct='%1.1f%%', shadow=True)\nplt.show()","ac7107a7":"#sns.set_theme(style=\"ticks\", palette=\"pastel\")\n\n# Draw a nested boxplot to show bills by day and time\nsns.boxplot(x=\"neighbourhood_group_cleansed\", y=\"price\", \n            hue=\"price_category\", palette=[\"m\", \"g\"],\n            data=df_listings)\nsns.despine(offset=10, trim=True)\n","00aa626c":"df_listings.host_id.value_counts().head(10)\n\nplt.figure(figsize=(10,7))\nplt.title('Rela\u00e7\u00e3o entre An\u00fancios e Hosts')\nsns.countplot (x='host_id', data=df_listings)\nplt.show()","e35ddbfd":"### **Dataset Listings**\nPontos importantes a serem observados \u00e9 que algumas vari\u00e1veis possuem alta cardinalidade, alta correla\u00e7\u00e3o com outras colunhas e algumas colunas possuem mais de 50% de valores missing.","e0b662dd":"### **Dataset Calendar**\nAs vari\u00e1veis *date*, *price* e *adjusted_price* possuem alta cardinalidade.  ","b3ff5867":"### Cidade: New York ","057c22ed":"\n\n## **Continua...**\n\n","2f7230f9":"### **Dataset Reviews**\nAlguns pontos de observa\u00e7\u00e3o em rela\u00e7\u00e3o a este dataset: As vari\u00e1veis *date*, *review_name* e *comments* tem alta cardinalidade. Poucos valores faltantes em *reviewer_name* (<0.1%) e em *comments* (0.1%)","39906e52":"## **An\u00e1lise dos dados**\n#### **Tipos de im\u00f3veis alugados por bairro**\n### A maior parte dos an\u00fancios s\u00e3o de alugu\u00e9is de im\u00f3veis completos (Entire home).\n### A regi\u00e3o de Manhattan \u00e9 onde est\u00e3o concentrados a maioria das ofertas de im\u00f3veis.","01802b54":"Rela\u00e7\u00e3o entre a quantidade de an\u00fancios\/host","0158a362":"### Fonte de dados: http:\/\/insideairbnb.com\/get-the-data.html","956f54dd":"## **Importando pacotes e carregando os datasets**","413c8784":"## **Descri\u00e7\u00e3o inicial dos Dados**\n* listings - Informa\u00e7\u00f5es detalhadas dos an\u00fancios (listings) contendo 74 atributos. Neste datase h\u00e1 informa\u00e7\u00f5es sobre as carater\u00edsticas da acomomoda\u00e7\u00e3o anunciada bem como dados do anfitri\u00e3o (host).\n* reviews - Informa\u00e7\u00f5es sobre os coment\u00e1rios (reviews) dados pelos visitantes contendo 6 atributos\n* calendar - Informa\u00e7\u00f5es sobre as reservas (booking)","4e3784bd":"# **Introdu\u00e7\u00e3o a Ci\u00eancia de Dados**\n## **An\u00e1lise Explorat\u00f3ria de Dados Inside Airbnb**","148b3170":"![](https:\/\/magazine.zarpo.com.br\/wp-content\/uploads\/2019\/02\/O-que-fazer-em-Nova-York-tradicional-ou-inovador-Encante-se-pelo-melhor-da-Big-Apple-770x450.jpg)"}}