{"cell_type":{"608c99ce":"code","21e082cb":"code","5e9c76bc":"code","de2afe07":"code","18a40f91":"code","b6c67b76":"code","e68a9744":"code","503a4978":"markdown","624e13bf":"markdown","d8c42105":"markdown","4854fd9e":"markdown","6752e9cf":"markdown","e0cf48ae":"markdown","6d91110b":"markdown","67250b5c":"markdown","1488d4f6":"markdown"},"source":{"608c99ce":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","21e082cb":"episodes_df = pd.read_csv('\/kaggle\/input\/how-i-met-your-mother-episodes-data\/himym_episodes.csv',\n                          parse_dates=['original_air_date'])\nimdb_df = pd.read_csv('\/kaggle\/input\/how-i-met-your-mother-episodes-data\/himym_imdb.csv',\n                      parse_dates=['original_air_date'])\n\nepisodes_df.head()","5e9c76bc":"# Only keep relevant columns from the IMDb dataset to avoid duplication.\nimdb_df = imdb_df[['title', 'original_air_date', 'imdb_rating', 'total_votes', 'desc']]\n\nhimym_df = episodes_df.merge(imdb_df, how='left', on=['title', 'original_air_date'])\nhimym_df.shape","de2afe07":"sns.lmplot(x=\"episode_num_overall\", y=\"imdb_rating\", hue=\"season\", data=himym_df, height=6, aspect=2, ci=None)\nplt.xlabel(\"Episode\")\nplt.ylabel(\"IMDb Rating\")\nplt.title(\"IMDb Ratings for How I Met Your Mother episodes\")","18a40f91":"sns.lmplot(x=\"episode_num_overall\", y=\"us_viewers\", hue=\"season\", data=himym_df, height=6, aspect=2, ci=None)\nplt.xlabel(\"Episode\")\nplt.ylabel(\"US Viewers\")\nplt.title(\"US Viewers for How I Met Your Mother episodes\")\nplt.ticklabel_format(style='plain', axis='y')","b6c67b76":"best_writers = himym_df.groupby('written_by')['imdb_rating'].agg(['mean', 'count']).sort_values(by='mean')\n\n# combine the writers names with their episode counts\nlabels = ['{} ({})'.format(name, best_writers.loc[name, 'count']) for name in best_writers.index]\nbest_writers.index = labels\n\nbest_writers.plot(kind='barh', figsize=(14,14), y='mean', legend=False,\n                   title=\"HIMYM Writers by Average IMDb Rating\")","e68a9744":"best_directors = himym_df.groupby('directed_by')['imdb_rating'].agg(['mean', 'count']).sort_values(by='mean')\n\n# combine the directors names with their episode counts\nlabels = ['{} ({})'.format(name, best_directors.loc[name, 'count']) for name in best_directors.index]\nbest_directors.index = labels\n\nbest_directors.plot(kind='barh', figsize=(14,3), y='mean', legend=False,\n                   title=\"HIMYM Directors by Average IMDb Rating\")","503a4978":"The viewership also remained fairly steady throughout the original run of the show. There's a decline in viewership from the beginning to the end of most seasons, but the show maintained most of its viewers during its 9-year run.","624e13bf":"### Load and Merge the episode data and IMDb ratings files\nA short example notebook to show how to load and merge the data from the two files in the *How I Met Your Mother* dataset. The common columns are Title and Air Date.","d8c42105":"One of the series stars, [Neil Patrick Harris](https:\/\/en.wikipedia.org\/wiki\/Neil_Patrick_Harris), takes the top directing spot for one episode. Notably, all but 12 of the episodes of How I Met Your Mother were directed by the same person, [Pamela Fryman](https:\/\/en.wikipedia.org\/wiki\/Pamela_Fryman).","4854fd9e":"The series had fairly steady IMDb ratings throughout most of its run, until the last season which was very different from the others (the last season mostly takes place over a single weekend).","6752e9cf":"### Who are the fan-favorite How I Met Your Mother writers?","e0cf48ae":"### Which seasons had the most viewers","6d91110b":"### Which seasons have the highest IMDb ratings?","67250b5c":"### Who are the fan-favorite How I Met Your Mother directors?","1488d4f6":"As is usual with long-running TV shows, the writing credits are spread out over many different writers. Series creators [Carter Bays](https:\/\/en.wikipedia.org\/wiki\/Carter_Bays) and [Craig Thomas](https:\/\/en.wikipedia.org\/wiki\/Craig_Thomas_(screenwriter)) co-wrote 66 of the 208 episodes. They also combined with [Chris Harris](https:\/\/www.imdb.com\/name\/nm0364539\/) to write one episode, and that writing team gets the top spot. Harris is also the highest-rated regular writer on the show, with an average IMDb rating over 8.0 for his 16 episodes."}}