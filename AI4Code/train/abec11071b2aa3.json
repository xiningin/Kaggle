{"cell_type":{"665ff5f4":"code","61f3b7b3":"code","876b475e":"code","9686ea66":"code","27c9f1c2":"code","31a55aae":"code","89e8af6e":"code","6b8de5fe":"code","68e51afd":"code","f6a3f25d":"code","3a861929":"code","f2dbe823":"code","6a12699e":"code","a6a73e7f":"code","6de3f0f1":"code","74c71763":"code","2017d807":"code","904a7c09":"code","cde8fb0b":"code","5674cb2b":"code","7b63b190":"code","ab995727":"code","fa492ebe":"code","02f632d4":"code","6c78a6d3":"code","f5ee83c7":"code","abc4e6cb":"code","e4f6461b":"code","2069cada":"code","762efd08":"code","4cb9cfc2":"code","f4d61d0a":"code","ab24eebb":"code","cc2c5d5e":"code","3d9ec417":"code","278c6d1d":"code","e6899237":"code","68b2b79c":"code","e85147d2":"code","f1e77ee9":"code","52dd2514":"code","faacc897":"code","6beb7376":"code","590a35ce":"code","80312ab2":"code","2846610d":"code","d13093be":"code","b7cdc2c6":"code","1359f452":"code","b83a63aa":"code","8d59bafd":"code","f592beaa":"markdown","790f2cf5":"markdown","36abe09a":"markdown","a9e0e5c9":"markdown","7496536d":"markdown","a94c71bb":"markdown","4f0a1e9a":"markdown","837ce153":"markdown","d6873e46":"markdown","2a094943":"markdown","cc827c0a":"markdown","0dbe48d4":"markdown","8cc4cfba":"markdown","67ec0ac6":"markdown"},"source":{"665ff5f4":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt","61f3b7b3":"fifa_21 = pd.read_csv('..\/input\/fifa-21-complete-player-dataset\/players_21.csv')","876b475e":"fifa_21.head()","9686ea66":"fifa_21.columns","27c9f1c2":"# for col in fifa_21.columns:\n#     print(col)","31a55aae":"fifa_21.shape","89e8af6e":"fifa_21.isnull().sum()","6b8de5fe":"fifa_21['nationality'].value_counts()","68e51afd":"fifa_21['nationality'].value_counts()[:10]\n# fifa_21['nationality'].value_counts()[0:10]","f6a3f25d":"fifa_21['nationality'].value_counts()[:10].keys()","3a861929":"fifa_21['nationality'].value_counts()[:10].index","f2dbe823":"plt.figure(figsize = (8,5))\nplt.bar(\n    list(fifa_21['nationality'].value_counts()[:5].keys()), \n    list(fifa_21['nationality'].value_counts()[:5]),\n    color = 'g'\n)\nplt.show()","6a12699e":"player_salary  = fifa_21[['short_name', 'wage_eur']]\nplayer_salary.head()","a6a73e7f":"player_salary = player_salary.sort_values(by = ['wage_eur'], ascending = False)\nplayer_salary.head()","6de3f0f1":"plt.figure(figsize = (8,5))\nplt.bar(\n    list(player_salary['short_name'][:5]), \n    list(player_salary['wage_eur'][:5]),\n    color = 'r'\n)\nplt.show()","74c71763":"fifa_21['nationality'] == 'Germany'","2017d807":"# Players from Germany\nGermany = fifa_21[fifa_21['nationality'] == 'Germany']\nGermany.head()","904a7c09":"# Get the tallest German player\nGermany.sort_values(by = ['height_cm'], ascending = False).head()","cde8fb0b":"# Get the German player with more weight\nGermany.sort_values(by = ['weight_kg'], ascending = False).head()","5674cb2b":"# Get the German player with more wages\nGermany.sort_values(by = ['wage_eur'], ascending = False).head()","7b63b190":"# Get the German player with more weight\nGermany[['short_name', 'wage_eur']].sort_values(by = ['wage_eur'], ascending = False).head()","ab995727":"# Players shooting\nplayer_shooting = fifa_21[['short_name', 'shooting']]","fa492ebe":"player_shooting.sort_values(by = ['shooting'], ascending = False).head()","02f632d4":"# Players Defending\nplayer_defending = fifa_21[['short_name', 'defending', 'nationality', 'club_name']]","6c78a6d3":"player_defending.sort_values(by = ['defending'], ascending = False).head()","f5ee83c7":"# Club\nreal_madrid = fifa_21[fifa_21['club_name'] == 'Real Madrid']","abc4e6cb":"real_madrid.sort_values(by = ['wage_eur'], ascending = False).head()","e4f6461b":"real_madrid.sort_values(by = ['shooting'], ascending = False).head()","2069cada":"real_madrid.sort_values(by = ['defending'], ascending = False).head()","762efd08":"real_madrid['nationality'].value_counts()","4cb9cfc2":"players_heights = fifa_21[[\"short_name\", \"height_cm\"]]\nplayers_heights.head()","f4d61d0a":"players_heights.nlargest(10, \"height_cm\")","ab24eebb":"Top_10_tallest_players = players_heights.nlargest(10, \"height_cm\")\nTop_10_tallest_players.plot(x ='short_name', y='height_cm', kind = 'scatter', figsize=(15, 10))","cc2c5d5e":"players_heights.nsmallest(10, \"height_cm\")","3d9ec417":"Top_10_shortest_players = players_heights.nsmallest(10, \"height_cm\")\nTop_10_shortest_players.plot(x ='short_name', y='height_cm', kind = 'scatter', figsize=(15, 10))","278c6d1d":"fifa_21.nsmallest(16,\"overall\")","e6899237":"Strongest_players = fifa_21.nlargest(10, \"power_strength\")","68b2b79c":"Strongest_players","e85147d2":"# Graphical representation of the top 10 strongest players:\nStrongest_players.plot(x ='short_name', y='power_strength', kind = 'scatter', figsize=(15, 10))","f1e77ee9":"top_valuable_club_names = ('FC Barcelona', 'Tottenham Hotspur', 'Paris Saint-Germain', 'Chelsea', 'Manchester City', \"Manchester United\", \"Arsenal\", \"Liverpool\", \"Real Madrid\", \"Bayern Munich\")","52dd2514":"clubs = fifa_21.loc[fifa_21['club_name'].isin(top_valuable_club_names) & fifa_21['age']]\nfig, ax = plt.subplots()\nfig.set_size_inches(20, 10)\nax = sns.boxenplot('club_name', 'age', data=clubs)\nax.set_title(label='Age distribution in the top 10 most valuable clubs', fontsize=25)\nplt.xlabel('Clubs', fontsize=20)\nplt.ylabel('Age', fontsize=20)\nplt.grid()","faacc897":"fifa_21.drop([\"gk_diving\", \"gk_handling\",\"gk_kicking\",\"gk_reflexes\",\"gk_speed\",\"gk_positioning\", \"player_traits\", \"loaned_from\", \"player_tags\",\"nation_jersey_number\", \"nation_position\", \"defending_marking\"], inplace=True, axis = 1)","6beb7376":"fifa_21.dropna(inplace=True)","590a35ce":"fifa_21.isnull().sum()","80312ab2":"x = fifa_21[[\"defending_standing_tackle\",\"mentality_composure\",\"defending_sliding_tackle\", \"attacking_heading_accuracy\", \"power_strength\",\"mentality_aggression\",\"mentality_interceptions\", \"attacking_short_passing\", \"skill_ball_control\",\"movement_reactions\" ,\"power_jumping\"]]\ny = fifa_21[\"overall\"]","2846610d":"from sklearn.preprocessing import StandardScaler\nsc = StandardScaler()","d13093be":"x = sc.fit(x).transform(x.astype(float))","b7cdc2c6":"from sklearn.model_selection import train_test_split\nx_train, x_test, y_train, y_test = train_test_split(x,y,  test_size=0.2, random_state = 99)","1359f452":"from sklearn import linear_model\nregr = linear_model.LinearRegression()\nregr.fit(x_train, y_train)\npred = regr.predict(x_test)","b83a63aa":"from sklearn import metrics","8d59bafd":"metrics.r2_score(pred, y_test)","f592beaa":"# PREDICTIVE ANALYTICS\n\nWe are trying to predict the overall (output) a defender would have based on some features (input). Firstly we drop the following columns from the dataframe - \"gk_diving\", \"gk_handling\",\"gk_kicking\",\"gk_reflexes\",\"gk_speed\",\"gk_positioning\", \"player_traits\", \"loaned_from\", \"player_tags\",\"nation_jersey_number\", \"nation_position\", \"defending_marking\". Theoretically, 25% to 30% is the maximum missing values allowed and these columns exceed this range hence why they are getting dropped.","790f2cf5":"- AGE DISTRIBUTION IN THE TOP 10 MOST VALUABLE CLUBS IN THE WORLD\n\nThe top 10 most valuable clubs in the world are Tottenham Hotspurs, PSG, Arsenal, Chelsea, Man City, Liverpool, Manchester United, Bayern Munich, Real Madrid and Barcelona.","36abe09a":"From the graph, we can see the shortest player is H.Nakagawa. He is a Japanese footballer who plays as a midfielder for Japanese club Shonan Bellmare on loan from Kashiwa Reysol.\n\n- LOWEST RATED PLAYERS\n\nThe lowest rating in Fifa 21 is 47. There are 16 players with this rating. The players are seen below:","a9e0e5c9":"- EVALUATION","7496536d":"Now we have dropped those columns, the following columns have missing values as well - \"club_name\", \"league_name\", \"league_rank\", \"release_clause_eur\", \"team_position\", \"team_jersey_number\",\"joined\", \"contract_valid_until\",\"pace\", \"shooting\", \"passing\",\"dribbling\", \"defending\",\"physic\" but the range of the missing values is within the allowed range. So we drop the missing values.","a94c71bb":"# Import Library","4f0a1e9a":"The top 10 tallest players are:","837ce153":"From the graph, we can see the tallest player is T. Hol\u00fd. He is a Czech professional footballer who plays as a goalkeeper for Ipswich Town.\n\n- TOP 10 SHORTEST PLAYERS\n\nThe second insight we are looking to pull from the data is \"who are the top 10 shortest players?\"\n\nThe top 10 shortest players are:","d6873e46":"- TRAINING","2a094943":"- TOP 10 TALLEST PLAYERS\n\nThe first insight we are looking to pull from the data is \"who are the top 10 tallest players?\"\n\nSteps\n\nWe group the columns \"short_name\", \"height_cm\" and make a new dataframe called \"player_heights\".","cc827c0a":"# FIFA World \nHere we do have dataset for years 2015 to 2021.\n\nFor now will be using 2021 to start with.","0dbe48d4":"- FEATURE SELECTION\n\nNow we have cleaned the data and have no missing values, we select our features for prediciton.","8cc4cfba":"- TOP 10 STRONGEST PLAYERS","67ec0ac6":"- SPLIT DATA\n\nNow we split our dataset using a 80-20 split (80% for training and 20% for testing). After which we use a linear regression algorithm for training."}}