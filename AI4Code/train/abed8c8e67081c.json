{"cell_type":{"bf8007e8":"code","20f960ce":"code","1e04dbfa":"code","42bdea52":"code","e1b651b9":"code","f6cb9b82":"code","109725b8":"code","49f7efdf":"code","5136e001":"code","4143e419":"code","15c21f71":"code","71960820":"code","9b7b21f5":"code","c96c65f3":"code","322d835c":"code","a7fcdf3b":"code","db70f3e7":"code","1ed256b1":"code","8d365eb8":"code","a63172a4":"code","a0087659":"markdown","77ff995b":"markdown","ee2d2d80":"markdown","a915007e":"markdown","5b50d42e":"markdown","a3e0a868":"markdown"},"source":{"bf8007e8":"import pandas as pd\r\nimport numpy as np\r\nimport matplotlib.pyplot as plt\r\n%matplotlib inline\r\nimport seaborn as sns","20f960ce":"dataset = pd.read_csv('..\/input\/amazon-top-50-bestselling-books-2009-2019\/bestsellers with categories.csv')\r\n\r\nprint(dataset.shape)","1e04dbfa":"dataset.head()","42bdea52":"dataset.info()","e1b651b9":"features_with_na = [feature for feature in dataset.columns if dataset[feature].isnull().sum() > 1]\r\n\r\nfor feature in features_with_na:\r\n    print(feature, np.round(dataset[feature].isnull().mean, 4), '% missing values')","f6cb9b82":"numerical_features = [feature for feature in dataset.columns if dataset[feature].dtype != 'O']\r\n\r\nprint('There are {} numerical columns in the dataset'.format(len(numerical_features)))\r\n\r\ndataset[numerical_features].head()\r\n","109725b8":"categorical_features = [feature for feature in dataset.columns if dataset[feature].dtype == 'O']\r\n\r\ndataset[categorical_features].head()","49f7efdf":"for feature in categorical_features:\r\n    print('The feature {} has {} number of categories'.format(feature, len(dataset[feature].unique())))","5136e001":"dataset.groupby('Genre')['User Rating'].median().plot.bar()\r\nplt.xlabel('Genre')\r\nplt.ylabel('User Rating')\r\nplt.title(feature)\r\nplt.show()","4143e419":"sns.heatmap(data = dataset[numerical_features].corr(), annot = True)","15c21f71":"sns.pairplot(data = dataset[numerical_features])","71960820":"for feature in numerical_features:\r\n    plt.figure()\r\n    sns.kdeplot(data = dataset[feature], shade = True, color = 'seagreen')","9b7b21f5":"from sklearn.preprocessing import LabelEncoder\r\n\r\nlencoder = LabelEncoder()\r\nlencoder.fit(dataset['Genre'])\r\ndataset['Genre'] = lencoder.transform(dataset['Genre'])\r\ndataset.head()","c96c65f3":"X = dataset[['Reviews','Genre','Price','Year']]\r\ny = dataset['User Rating']","322d835c":"from sklearn.model_selection import train_test_split\r\n\r\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=11)","a7fcdf3b":"print('Shape of X_train is: ', X_train.shape) \r\nprint('Shape of X_test is: ', X_test.shape)\r\n\r\nprint('Shape of y_train is: ', y_train.shape)\r\nprint('Shape of y_test is: ', y_test.shape)","db70f3e7":"from sklearn.linear_model import LinearRegression\r\n\r\nlmodel = LinearRegression()\r\n\r\nlmodel.fit(X_train, y_train)","1ed256b1":"y_predicted = lmodel.predict(X_test)","8d365eb8":"from sklearn import metrics\r\n\r\nmean_square_error = metrics.mean_squared_error(y_test, y_predicted)\r\nroot_mean_square_error = np.sqrt(mean_square_error)\r\n\r\nprint('Mean Squared Error is: ',mean_square_error)\r\nprint('Root Mean Squared Error is: ',root_mean_square_error)","a63172a4":"plt.figure(figsize=(10,10))\r\nplt.scatter(y_test, y_predicted, c='teal',marker='+')\r\n\r\np1 = max(max(y_predicted), max(y_test))\r\np2 = min(min(y_predicted), min(y_test))\r\nplt.plot([p1, p2], [p1, p2], 'b-')\r\nplt.xlabel('Actuals', fontsize=12)\r\nplt.ylabel('Predictions', fontsize=12)\r\nplt.axis('equal')\r\nplt.show()","a0087659":"## Project Name: Amazon Top 50 Bestselling Books 2009 - 2019\r\n\r\nThe main goal of this project is to do EDA and predict user rating","77ff995b":"## Numerical Variables","ee2d2d80":"With the above step we can conclude that there are no missing values in any of the features","a915007e":"### Relationship between Genre and dependent variable User Rating","5b50d42e":"## Missing Values","a3e0a868":"## Categorical Variables"}}