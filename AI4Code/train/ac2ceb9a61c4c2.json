{"cell_type":{"e64f02af":"code","417b4cb6":"code","32783af9":"code","f061e7ce":"code","8b1014b9":"code","cbe14bc5":"code","deb7b0f9":"code","c3ededbc":"code","f5819527":"code","5d9cd245":"code","31bef8ee":"code","48565132":"code","0b9ba614":"code","71704990":"code","916267a2":"markdown","ef55b005":"markdown","67b00998":"markdown","4fe4eacf":"markdown","dab98293":"markdown","b857f1b0":"markdown","af9db2be":"markdown","52e6c563":"markdown","98595b3d":"markdown"},"source":{"e64f02af":"import datetime\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\n\nimport matplotlib.pyplot as plt","417b4cb6":"# Reading the dataset.\n\ndate_parse = lambda dates: pd.datetime.strptime(dates, '%Y')\ndf_mandi = pd.read_csv('..\/input\/agriculture-commodity-apmc-msp\/CMO_MSP_Mandi.csv', parse_dates=['year'], index_col='year', date_parser=date_parse)\n\nprint('Length of dataset: ', len(df_mandi))\nprint('Crops types:', set(df_mandi['Type']))\n#df_mandi.loc[df_mandi['commodity'] == 'BAJRI']","32783af9":"df_mandi.shape\ndf_mandi.info","f061e7ce":"# Checking missing data values.\n\ndf_mandi.isna().sum()","8b1014b9":"# Reading the dataset as a timeseries data.\n\ndate_parse = lambda dates: pd.datetime.strptime(dates, '%Y-%m')\ndf_monthly = pd.read_csv('..\/input\/agriculture-commodity-apmc-msp\/Monthly_data_cmo.csv', parse_dates=['date'], index_col='date', date_parser=date_parse)\n\nprint('Length of dataset:', len(df_monthly), '\\n')\n#print(type(df_monthly['date']))\nprint(df_monthly.dtypes)\n\nprint('\\nSet of unique district names:', set(df_monthly['district_name']))\n\ndf_monthly.head()","cbe14bc5":"#decribing data\n\ndf_monthly.describe()","deb7b0f9":"# Method to plot the boxplot for prices of the commodity and detect the outliers.\n\ndef plot_boxplot(df_commodity):\n    plt.figure(figsize=(15, 8))\n    ax = sns.boxplot(x=df_commodity.index.date, y=df_commodity['modal_price'], linewidth=2)\n    #ax = sns.boxplot(x=df_commodity.index, y=df_commodity['max_price'], linewidth=2)\n    plt.xticks(rotation=45)\n    plt.xlabel('Date')\n    plt.show()","c3ededbc":"df_cotton = df_monthly.loc[df_monthly['Commodity'] == 'Cotton']\nplot_boxplot(df_cotton)","f5819527":"#creating data frame \ndataframe=df_monthly[['Commodity','modal_price','min_price']]\ndataframe","5d9cd245":"# Method to plot prices (max, min and average prices) corresponding to the given commodity and APMC.\n\ndef plot_prices(commodity, apmc):\n    global df_monthly\n    plt.figure(figsize=(15,5))\n\n    plt.subplot(1, 3, 1)\n    plt.plot(df_monthly.loc[(df_monthly['Commodity'] == commodity) & (df_monthly['APMC'] == apmc)]['min_price'])\n    plt.ylabel('Min price')\n    plt.xlabel('Months')\n    plt.xticks(rotation=45)\n    plt.title('Commodity = %s and APMC = %s' % (commodity, apmc))\n\n    plt.subplot(1, 3, 2)\n    plt.plot(df_monthly.loc[(df_monthly['Commodity'] == commodity) & (df_monthly['APMC'] == apmc)]['max_price'])\n    plt.ylabel('Max price')\n    plt.xlabel('Months')\n    plt.xticks(rotation=45)\n\n    plt.subplot(1, 3, 3)\n    plt.plot(df_monthly.loc[(df_monthly['Commodity'] == commodity) & (df_monthly['APMC'] == apmc)]['modal_price'])\n    plt.ylabel('Avg. price')\n    plt.xlabel('Months')\n    plt.xticks(rotation=45)\n\n    plt.tight_layout()","31bef8ee":"# Sort by index values (i.e. by dates).\ndf_monthly.sort_index(axis=0, inplace=True)\n\n# Plot prices for different commodities in 'Ahmednagar' APMC.\nplot_prices('Onion', 'Vaijapur')","48565132":"plot_prices('Maize', 'Vaijapur')","0b9ba614":"def plot_arrival(commodity, apmc):\n    global df_monthly\n    plt.plot(df_monthly.loc[(df_monthly['Commodity'] == commodity) & (df_monthly['APMC'] == apmc)]['arrivals_in_qtl'])\n    plt.ylabel('arrival in quantity')\n    plt.xlabel('Months')\n    plt.xticks(rotation=45)\n    plt.title('Commodity = %s and APMC = %s' % (commodity, apmc))\n    plt.show()","71704990":"df_monthly.sort_index(axis=1, inplace=True)\nplot_arrival('Onion', 'Vaijapur')","916267a2":"### **Commodity Arrival in Vaijapur APMC :**\n","ef55b005":"By Observing This we can find that Onion and Maize is most supply to Vaijapur APMC\nso we can say that In this region the more farmer are farming onion and maize in their farm ,\nand the environment is also suitable for that. And cotton ,Soybean, Gram, bajri is also taken in\nthis region .","67b00998":"#### Importing necessary modules.","4fe4eacf":"**Dataset Description** :\n\nFor the analysis I have used the Dataset of Agriculture Commodities, Prices & Seasons\nof Maharashtra . Which Consist 62430 Rows and 9 attribute. The attributes details are as\nfollows :\n* arrivals_in_qtl- Quantity arrival in market (in quintal)\n* min_price- Minimum price charged per quintal\n* max_price- Maximum price charged per quintal\n* modal_price- Mode (Average) price charged per quintal\n* And other regarding APMC Location and Date and year.","dab98293":"The above Box Plot is for 'Cotton' commodity. It represents the average monthly prices for years: 2014, 2015 and 2016. The values in the rectangular box represent 1st, 2nd and 3rd Quartiles from bottom to up for every timestamp. The dark points away from the whiskers are outliers. For ex- In June 2016, the average price value (per quintal) is close to Rs. 6000 which is clearly an outlier.\n\nBox Plot provides a very good visualization to find out the presence of outliers in the dataset.","b857f1b0":"# Agriculture Crop Analysis ","af9db2be":"#### Reading Dataset\n","52e6c563":"**Objective** :\n1. Understand price fluctuations accounting the seasonal effect.\n    * Detect seasonality type (multiplicative or additive) for each cluster of APMC and commodities.\n    * De-seasonalize prices for each commodity and APMC according to the detected seasonality type\n2. Compare prices in APMC\/Mandi with MSP(Minimum Support Price)- raw anddepersonalized\n3. Flag set of APMC\/mandis and commodities with highest price fluctuation acrossdifferent commodities in each relevant season, and year.","98595b3d":"### Author : Nilesh Kapse \n#### Aim :\n**To analyse the data of Agriculture Commodities, Prices & Seasons to measure key trends\nin the agriculture sector in India. Our aim is to understand trends in APMC (Agricultural\nproduce market committee)\/mandi price & quantity arrival data for different commodities in\nMaharashtra. And to find out the following Objective.**"}}