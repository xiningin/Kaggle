{"cell_type":{"afd729ca":"code","a2d09a22":"code","8fdc9cbf":"code","2979758e":"code","d93a6aa6":"code","4723dbd6":"code","a3d39f89":"code","0e688df6":"code","65e2e4d3":"code","b1700ca9":"code","4dbce22b":"code","962d264e":"markdown","79db4690":"markdown"},"source":{"afd729ca":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nairbnb=pd.read_csv('..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv')\nprint(airbnb.head())","a2d09a22":"airbnb.drop(['latitude','longitude','last_review'],axis=1,inplace=True)\nairbnb.dropna(how='any',inplace=True)","8fdc9cbf":"airbnb_corr=airbnb.corr(method='kendall')\nplt.figure(figsize=(18,12))\nsns.heatmap(airbnb_corr,annot=True)","2979758e":"sns.countplot(airbnb['neighbourhood_group'], palette=\"plasma\")\n\n#plt.gcf()=Get Current Figure\n","d93a6aa6":"sns.boxplot(data=airbnb,x='neighbourhood_group',y='availability_365')\nplt.gcf()\nplt.figure(figsize=(10,10))","4723dbd6":"host=airbnb['host_name'].value_counts()\nprint(host[host>200])\n#pandas Series \u4e2d\u5982\u4f55\u8c03\u7528 \u6761\u4ef6","a3d39f89":"price=airbnb[airbnb['price']>=200]\nprint(price['name'])","0e688df6":"#\u4e0b\u9762\u6211\u4eec\u8fdb\u884c\u7b80\u5355\u7684\u673a\u5668\u5b66\u4e60: \u7b80\u5355\u7684\u591a\u5143\u7ebf\u6027\u56de\u5f52\n#\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u6570\u636e\u4e2d\u6709\u8bb8\u591a\u975e\u6570\u5b57\u7684\u6570\u636e\uff0c\u6211\u4eec\u9700\u8981\u628a\u4ed6\u4eec\u6570\u5b57\u5316\u3002#\n","65e2e4d3":"airbnb.drop(['id','name','host_id','host_name','neighbourhood','number_of_reviews','reviews_per_month'], axis=1, inplace=True)\nairbnb.head(5)","b1700ca9":"def Encode(airbnb):\n    for column in airbnb.columns[airbnb.columns.isin(['neighbourhood_group', 'room_type'])]:\n        airbnb[column] = airbnb[column].factorize()[0]\n    return airbnb\nairbnb_en = Encode(airbnb.copy())\nprint(airbnb_en.head())","4dbce22b":"from sklearn.linear_model import LinearRegression\nfrom sklearn.model_selection import train_test_split\nx=airbnb_en.iloc[:,[0,1,3,4,5]]\ny=airbnb_en['price']\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=.1,random_state=353)\nx_train.head()\ny_train.head()\nreg=LinearRegression()\nreg.fit(x_train,y_train)\ny_pred=reg.predict(x_test)\nfrom sklearn.metrics import r2_score\nr2_score(y_test,y_pred)","962d264e":"\u63a5\u4e0b\u6765\u6211\u4eec\u8fdb\u884c\u4e00\u4e9b\u7b80\u5355\u7684\u6570\u636e\u5206\u6790\n1\uff0c\u4e0d\u540c\u8857\u533a\u9152\u5e97\u7684\u5206\u5e03\n2\uff0c\u4e0d\u540c\u8857\u533a\u7a7a\u623f\u91cf\u7684\u4e0d\u540c\n3\uff0c\u5217\u51fa\u7ebd\u7ea6\u5e02\u62e5\u6709200\u5bb6\u5bbe\u9986\u4ee5\u4e0a\u7684hoster\n4\uff0c\u5217\u51fa\u7ebd\u7ea6\u5e02\u4ef7\u683c\u9ad8\u4e8e200\u7f8e\u5143\u7684\u5bbe\u9986\n","79db4690":"\u4e0b\u9762\u6211\u4eec\u7528\u534f\u65b9\u5dee\u6765\u521d\u6b65\u89c2\u5bdf\u6570\u636e\u4e2d\u90a3\u4e9b\u53ef\u80fd\u4f1a\u5b58\u5728\u76f8\u5173\u6027"}}