{"cell_type":{"74e0bf6f":"code","02ddfe3e":"code","6b625913":"code","3e979d19":"code","1cde5f17":"code","b4584cec":"code","f0bdae12":"code","482219bb":"code","61be3ddc":"code","e417eb02":"code","9112734d":"code","6b184478":"code","691f78e2":"code","df75153f":"code","1fcbe87d":"code","12553a92":"code","f3750785":"code","2f6dac3f":"markdown","6752eb16":"markdown","5d9bd870":"markdown","6a914e59":"markdown","b0589302":"markdown","113ffa83":"markdown","2e7a35cf":"markdown","0ba7ca21":"markdown","4fd24c08":"markdown"},"source":{"74e0bf6f":"# PACKAGES\n\n# standard\nimport numpy as np\nimport pandas as pd\n\n# plots\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\npd.set_option('display.max_colwidth', 100) # more room for text in data frame views","02ddfe3e":"# load data\ndf_train = pd.read_csv('..\/input\/chaii-hindi-and-tamil-question-answering\/train.csv')\ndf_test = pd.read_csv('..\/input\/chaii-hindi-and-tamil-question-answering\/test.csv')\ndf_sub = pd.read_csv('..\/input\/chaii-hindi-and-tamil-question-answering\/sample_submission.csv')","6b625913":"# preview of training data\ndf_train","3e979d19":"# show test set, has only 5 rows...\ndf_test","1cde5f17":"# add a few features\ndf_train['n_char_context'] = df_train.context.str.len()\ndf_train['n_word_context'] = df_train.context.str.split().map(lambda x : len(x))\ndf_train['char_per_word_context'] = df_train.n_char_context \/ df_train.n_word_context\n\ndf_train['n_char_question'] = df_train.question.str.len()\ndf_train['n_word_question'] = df_train.question.str.split().map(lambda x : len(x))\ndf_train['char_per_word_question'] = df_train.n_char_question \/ df_train.n_word_question\n\ndf_train['n_char_answer'] = df_train.answer_text.str.len()\ndf_train['n_word_answer'] = df_train.answer_text.str.split().map(lambda x : len(x))\ndf_train['char_per_word_answer'] = df_train.n_char_answer \/ df_train.n_word_answer\n\n# relative position of answer in context\ndf_train['answer_start_rel'] = df_train.answer_start \/ df_train.n_char_context\n\nnew_features = ['n_char_context', 'n_word_context', 'char_per_word_context',\n                'n_char_question', 'n_word_question', 'char_per_word_question',\n                'n_char_answer', 'n_word_answer', 'char_per_word_answer',\n                'answer_start_rel']","b4584cec":"# show basic stats of new features\ndf_train[new_features].describe()","f0bdae12":"# plot distributions\nfor f in new_features:\n    plt.figure(figsize=(10,4))\n    plt.hist(df_train[f], bins=20)\n    plt.title('Histogram of ' + f)\n    plt.grid()\n    plt.show()","482219bb":"# language distribution\nplt.figure(figsize=(10,5))\ndf_train.language.value_counts().plot(kind='bar')\nplt.title('Language')\nplt.grid()\nplt.show()","61be3ddc":"plt.figure(figsize=(7,7))\nplt.scatter(df_train.n_word_context, df_train.n_word_question,\n            alpha=0.25)\nplt.title('Word count - Questions vs Context')\nplt.xlabel('# Words Context')\nplt.ylabel('# Words Question')\nplt.grid()\nplt.show()","e417eb02":"plt.figure(figsize=(7,7))\nplt.scatter(df_train.n_char_context, df_train.n_char_question,\n            alpha=0.25)\nplt.title('Character count - Questions vs Context')\nplt.xlabel('# Chars Context')\nplt.ylabel('# Chars Question')\nplt.grid()\nplt.show()","9112734d":"plt.figure(figsize=(7,7))\nplt.scatter(df_train.char_per_word_context, df_train.char_per_word_question,\n            alpha=0.25)\nplt.title('Characters per Word - Question vs Context')\nplt.xlabel('Chars\/Word Context')\nplt.ylabel('Chars\/Word Question')\nplt.grid()\nplt.show()","6b184478":"plt.figure(figsize=(7,7))\nplt.scatter(df_train.n_word_question, df_train.n_word_answer,\n            alpha=0.25)\nplt.title('Word count - Answer vs Question')\nplt.xlabel('# Words Question')\nplt.ylabel('# Words Answer')\nplt.grid()\nplt.show()","691f78e2":"plt.figure(figsize=(7,7))\nplt.scatter(df_train.n_char_question, df_train.n_char_answer,\n            alpha=0.25)\nplt.title('Character count - Answer vs Question')\nplt.xlabel('# Chars Question')\nplt.ylabel('# Chars Answer')\nplt.grid()\nplt.show()","df75153f":"plt.figure(figsize=(7,7))\nplt.scatter(df_train.char_per_word_question, df_train.char_per_word_answer,\n            alpha=0.25)\nplt.title('Characters per Word - Answer vs Question')\nplt.xlabel('Chars\/Word Question')\nplt.ylabel('Chars\/Word Answer')\nplt.grid()\nplt.show()","1fcbe87d":"# we have a few rows where the answer is longer (number of words) than the question\ndf_Q_longer_A = df_train[df_train.n_word_answer > df_train.n_word_question]\ndf_Q_longer_A","12553a92":"# plot all pairs and display language using color\nsns.pairplot(data=df_train[new_features+['language']], hue='language',\n             plot_kws={'alpha' : 0.25})\nplt.show()","f3750785":"sns.violinplot(data=df_train, x='language', y='char_per_word_context')\nplt.grid()\nplt.title('Context')\nplt.show()\n\nsns.violinplot(data=df_train, x='language', y='char_per_word_question')\nplt.grid()\nplt.title('Question')\nplt.show()\n\nsns.violinplot(data=df_train, x='language', y='char_per_word_answer')\nplt.grid()\nplt.title('Answer')\nplt.show()","2f6dac3f":"### Languages","6752eb16":"### Scatter Plots Question \/ Context","5d9bd870":"<a id='3'><\/a>\n# EDA","6a914e59":"# First glance on CHAII data\n## Table of Contents\n* [Import Data](#1)\n* [Introduce new Features](#2)\n* [EDA](#3)","b0589302":"### Plot all Pairs - By Language","113ffa83":"### Scatter Plots Answer \/ Questions","2e7a35cf":"<a id='2'><\/a>\n# Introduce new Features","0ba7ca21":"<a id='1'><\/a>\n# Import data","4fd24c08":"### The difference in chars per word between Tamil and Hindi texts is remarkable (answers are an exception, they are typically very short so the effect is much smaller there):"}}