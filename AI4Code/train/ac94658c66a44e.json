{"cell_type":{"52f2ff02":"code","64c957d0":"code","d8905faf":"code","3073ef15":"code","d5e9523d":"code","e55f723d":"code","82954547":"code","3c3419e2":"code","6819fd6c":"code","1b742e37":"code","0ed51cbf":"code","a7ef49ca":"code","242b78c6":"code","201e5678":"code","276a5137":"code","66a3affb":"code","0ef20638":"code","07e1e9df":"code","21e79ad9":"code","98d35890":"code","a1307575":"code","5200fd91":"code","cec653b8":"code","81bd1d3b":"code","92f6e31f":"code","aa9dd035":"code","f84154e0":"code","ee3b8e66":"code","4366aaf3":"code","4e4bd656":"code","256a5b39":"code","cb50eded":"code","b9df724f":"code","11551f1b":"code","3dcb1826":"code","b25ee631":"code","afeaefca":"code","00bbc265":"code","72ff7bfc":"code","cfc7b0f6":"code","2a3e8a44":"code","7cb17d8a":"code","51808031":"markdown","a8ee640b":"markdown","f49bb684":"markdown","a8a025f3":"markdown","ca69efab":"markdown","0f1fb150":"markdown","eb49357a":"markdown","a7644a61":"markdown","2c579bae":"markdown","978d7594":"markdown","04b4dfa9":"markdown","7f3c7c6c":"markdown","58baef70":"markdown","b6139921":"markdown","ef8e0914":"markdown","7b43a35e":"markdown","ed57b0fa":"markdown","018285c0":"markdown","b28128cb":"markdown","0b7cf055":"markdown","1abbb186":"markdown"},"source":{"52f2ff02":"# Matematik\n\nimport numpy as np \nimport pandas as pd \n\n# G\u00f6rselle\u015ftirme\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns","64c957d0":"data = pd.read_csv(\"..\/input\/heart-disease-uci\/heart.csv\")","d8905faf":"print(\"Veri'nin ilk 5 sat\u0131r\u0131\")\ndata.head()","3073ef15":"print(\"Veri'nin son 5 sat\u0131r\u0131\")\ndata.tail()","d5e9523d":"print(\"Sat\u0131r\/S\u00fctun\") \ndata.shape","e55f723d":"print(\"Verimiz s\u00fctunlar\u0131nda ka\u00e7 farkl\u0131 de\u011fer bar\u0131nd\u0131r\u0131yor.\")\ndata.nunique()","82954547":"print(\"Veri i\u00e7in korelasyon bilgileri\") \n\n# G\u00f6rselle\u015ftirilmi\u015f hai bizim i\u00e7in daha iyi ve anla\u015f\u0131l\u0131r olucakt\u0131r.\ndata.corr()","3c3419e2":"print(\"Veri hakk\u0131nda temel bilgiler\")\ndata.describe()","6819fd6c":"print(\"Veri hakk\u0131nda bilgiler\")\ndata.info()","1b742e37":"print(\"Bo\u015f de\u011ferlerin tablo \u015feklinde g\u00f6sterimi\")\ndata.isnull()","0ed51cbf":"print(\"Bo\u015f de\u011ferlerin s\u00fctun  bazl\u0131 toplanmas\u0131\")\n\ndata.isnull().sum(axis=0)","a7ef49ca":"print(\"S\u00fctunlar\u0131n isimlerinin incelenmesi\")\ndata.columns","242b78c6":"f, ax = plt.subplots(figsize=(10,10))\n\n# annot = True : renklerin i\u00e7inde say\u0131larda yazs\u0131n\n# linewidths = 5 :aralardaki k\u0131rm\u0131z\u0131 \u00e7izginin boyutu\n# linecolor = red : aralardaki k\u0131rm\u0131z\u0131 \u00e7izginin rengi\n# ax = ax : belirledi\u011fim de\u011ferleri koyucam\n\nsns.heatmap(data.corr(), annot=True, linewidths=5, linecolor=\"red\", fmt =\".1f\",ax=ax)\nplt.show()","201e5678":"sns.barplot(x=\"cp\",\n           y=\"target\",\n           data=data,)","276a5137":"sns.catplot(x=\"cp\",\n           y=\"target\",\n           data=data,\n           kind=\"violin\")","66a3affb":"sns.catplot(y=\"age\",x=\"target\",data=data,kind=\"violin\")","0ef20638":"y= data.target.values\n\nx_data = data.drop([\"target\"],axis=1)","07e1e9df":"x = (x_data-np.min(x_data))\/(np.max(x_data)-np.min(x_data)).values","21e79ad9":"x.head()","98d35890":"from sklearn.model_selection import train_test_split\n\nx_train, x_test, y_train, y_test = train_test_split(x,y,test_size=0.2, random_state=42)","a1307575":"from sklearn.linear_model import LogisticRegression\n\nlr= LogisticRegression()\n\nlr.fit(x_train,y_train)\n\nprint(\"Logistic Regression test ba\u015far\u0131s\u0131 {}\".format(lr.score(x_test,y_test)))","5200fd91":"from sklearn.neighbors import KNeighborsClassifier\n\nknn = KNeighborsClassifier(n_neighbors = 3) # k\n\nknn.fit(x_train,y_train)","cec653b8":"predict = knn.predict(x_test)\npredict","81bd1d3b":"print(\"KNN test ba\u015far\u0131s\u0131 ({}) test ba\u015far\u0131s\u0131: {} \".format(3,knn.score(x_test,y_test)))","92f6e31f":"# find k value\nscore_list = []\nfor each in range(1,15):\n    knn2 = KNeighborsClassifier(n_neighbors = each)\n    knn2.fit(x_train,y_train)\n    score_list.append(knn2.score(x_test,y_test))\n    \nplt.figure(figsize=(20,10))\nplt.plot(range(1,15),score_list)\n\nplt.show()","aa9dd035":"# Belirledi\u011fimiz k de\u011ferinden daha ba\u015far\u0131l\u0131 k de\u011ferleri varsa modelimizi o k de\u011feri ile e\u011fitebilirdik. Ama biz en ba\u015far\u0131l\u0131 olan\u0131 se\u00e7mi\u015fiz zaten.","f84154e0":"from sklearn.svm import SVC\n\nsvm = SVC(random_state = 1)\nsvm.fit(x_train,y_train)","ee3b8e66":"print(\"SVM nin test ba\u015far\u0131s\u0131 {}\".format(svm.score(x_test,y_test)))","4366aaf3":"from sklearn.naive_bayes import GaussianNB\n\nnb = GaussianNB()\nnb.fit(x_train,y_train)","4e4bd656":"print(\"Naive Bayes test de\u011ferleri {}\".format(nb.score(x_test,y_test)))","256a5b39":"from sklearn.tree import DecisionTreeClassifier\n\ndt = DecisionTreeClassifier()\ndt.fit(x_train,y_train)\n\nprint(\"Decision Tree test de\u011ferleri {}\".format(dt.score(x_test,y_test)))","cb50eded":"from sklearn.ensemble import RandomForestClassifier\n\nrf = RandomForestClassifier( n_estimators =100, random_state=1)\nrf.fit(x_train,y_train)\n\nprint(\"Random Forest test de\u011ferleri {}\".format(rf.score(x_test,y_test)))","b9df724f":"y_pred = rf.predict(x_test)\ny_true = y_test","11551f1b":"#%% confusion matrix\nfrom sklearn.metrics import confusion_matrix\ncm = confusion_matrix(y_true,y_pred)\n","3dcb1826":"# %% cm visualization\nf, ax = plt.subplots(figsize =(5,5))\nsns.heatmap(cm,annot = True,linewidths=0.5,linecolor=\"red\",fmt = \".0f\",ax=ax)\nplt.xlabel(\"y_pred\")\nplt.ylabel(\"y_true\")\nplt.show()\n","b25ee631":"lr_score = lr.score(x_test,y_test)\nknn_score = knn.score(x_test,y_test)\nsvm_score = svm.score(x_test,y_test)\nnb_score = nb.score(x_test,y_test)\ndt_score = dt.score(x_test,y_test)\n\nmodels_data =[\"Lr\",\"Knn\",\"Svm\",\"Nb\",\"Dt\"]\nscore_data = [lr_score,knn_score,svm_score,nb_score,dt_score]\n","afeaefca":"score_data","00bbc265":"df = pd.DataFrame({'Models': models_data,'Score':score_data})\ndf","72ff7bfc":"sns.barplot(x= models_data, y= score_data,palette = sns.cubehelix_palette(len(x)))","cfc7b0f6":"# asceding : azalan s\u0131ralama\nnew_index = (df[\"Score\"].sort_values(ascending=False)).index.values\n\n# indexleri de\u011fi\u015ftir\nsorted_data = df.reindex(new_index)","2a3e8a44":"sorted_data","7cb17d8a":"plt.figure(figsize=(10,5)) \n\nsns.barplot(x=\"Models\", y=\"Score\",data=sorted_data)","51808031":"## K-Nearest Neighbour (KNN)","a8ee640b":"## Decision Tree Classification","f49bb684":"## Random Forest","a8a025f3":"## Support Vector Machine (SVM) Classification","ca69efab":"## K\u00fct\u00fcphaneler","0f1fb150":"# Classification Modellerinin Ba\u015far\u0131 De\u011ferlerinin Kar\u015f\u0131la\u015ft\u0131r\u0131lmas\u0131 ve G\u00f6rselle\u015ftirilmesi\n","eb49357a":"## Logistic Regression","a7644a61":"## Evualuation Classificution Models","2c579bae":"## Veriyi G\u00f6rselle\u015ftirmek ve anlam \u00e7\u0131karmak","978d7594":"# Kalp Hastal\u0131\u011f\u0131 \u00fczerine Makine \u00d6\u011frenmesi","04b4dfa9":"# \u0130\u00e7indekiler\n\n* Veri Seti: Heart Disease UCI\n    * K\u00fct\u00fcphaneler\n    * Veri Okuma\n    * Veri'ye \u0130lk Bak\u0131\u015f\n    * Verinin \u0130\u015flemlere Haz\u0131r D\u00fczeye Getirilmesi\n* Veriyi G\u00f6rselle\u015ftirmek ve anlam \u00e7\u0131karmak\n* Classification Modelleri\n    * Logistic Regression\n    * K-Nearest Neighbour (KNN)\n    * Support Vector Machine (SVM) \n    * Naive Bayes\n    * Decision Tree\n    * Random Forest\n    * Evualuation Classificution Models\n* Classification Modellerinin Ba\u015far\u0131 De\u011ferlerinin Kar\u015f\u0131la\u015ft\u0131r\u0131lmas\u0131 ve G\u00f6rselle\u015ftirilmesi\n","7f3c7c6c":"## Tren Test Split","58baef70":"## Veri'ye ilk bak\u0131\u015f","b6139921":"## Veri Okuma","ef8e0914":"## Naive Bayes","7b43a35e":"### Context\nThis database contains 76 attributes, but all published experiments refer to using a subset of 14 of them. In particular, the Cleveland database is the only one that has been used by ML researchers to\nthis date. The \"goal\" field refers to the presence of heart disease in the patient. It is integer valued from 0 (no presence) to 4.\n\nAttribute Information:\n\nage\nsex\nchest pain type (4 values)\nresting blood pressure\nserum cholestoral in mg\/dl\nfasting blood sugar > 120 mg\/dl\nresting electrocardiographic results (values 0,1,2)\nmaximum heart rate achieved\nexercise induced angina\noldpeak = ST depression induced by exercise relative to rest\nthe slope of the peak exercise ST segment\nnumber of major vessels (0-3) colored by flourosopy\nthal: 3 = normal; 6 = fixed defect; 7 = reversable defect\nThe names and social security numbers of the patients were recently removed from the database, replaced with dummy values. One file has been \"processed\", that one containing the Cleveland database. All four unprocessed files also exist in this directory.\n\nTo see Test Costs (donated by Peter Turney), please see the folder \"Costs\"\n\n### Acknowledgements\n#### Creators:\n\nHungarian Institute of Cardiology. Budapest: Andras Janosi, M.D.\nUniversity Hospital, Zurich, Switzerland: William Steinbrunn, M.D.\nUniversity Hospital, Basel, Switzerland: Matthias Pfisterer, M.D.\nV.A. Medical Center, Long Beach and Cleveland Clinic Foundation: Robert Detrano, M.D., Ph.D.\nDonor:\nDavid W. Aha (aha '@' ics.uci.edu) (714) 856-8779\n\n### Inspiration\nExperiments with the Cleveland database have concentrated on simply attempting to distinguish presence (values 1,2,3,4) from absence (value 0).\n\nSee if you can find any other trends in heart data to predict certain cardiovascular events or find any clear indications of heart health.\n\n\nhttps:\/\/archive.ics.uci.edu\/ml\/datasets\/Heart+Disease","ed57b0fa":"## Normalizasyon","018285c0":"# Veri Seti : Heart Disease UCI","b28128cb":"# Classification Modelleri","0b7cf055":"## x ve y datalar\u0131n\u0131 belirlemek","1abbb186":"## Verinin i\u015flemlere haz\u0131r d\u00fczeye getirilmesi"}}