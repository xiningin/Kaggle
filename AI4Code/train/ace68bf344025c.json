{"cell_type":{"1925ac9c":"code","3f35ea78":"code","e11977eb":"code","ffa2fbde":"code","a3539776":"code","df44ee47":"code","fde2ba89":"code","513ce693":"code","f87a26db":"code","454f3294":"code","4bf2dcd0":"code","c5db1215":"code","b41b8025":"code","af7d1c42":"code","1f06163a":"code","dce114b0":"code","5343d0d4":"code","1982673d":"code","6a9619bf":"code","e491f671":"code","fdbf69f4":"code","f6d120ff":"code","bbb6d5d1":"code","b8d0b728":"code","e989df03":"code","1ef7d16b":"code","4d36f5c1":"code","1ab96be4":"code","1452cc9c":"code","367db6c8":"code","1305276d":"code","6a8af0b4":"code","fd00965f":"code","5f0cfa8b":"code","a91c7edc":"code","004793f2":"code","f2cd2036":"code","3db4e7dd":"code","b47abd99":"code","374ab349":"code","7e582cce":"code","d70676a5":"code","c1abfa88":"code","7f0bf174":"code","2018ea8c":"code","e2463c5f":"code","52f50172":"code","45b7fdb8":"code","8308a201":"code","91bd3526":"code","a41a5dec":"code","6ac47fc5":"code","d004631a":"code","5d0bc1dc":"code","efef6060":"code","9a28c062":"code","c3e8c34a":"code","83278c0e":"code","ff1879c7":"code","139d6a83":"code","fc4fab11":"code","d756dc77":"code","a57b0144":"code","eb6076a5":"code","23a8a43a":"code","c164f693":"code","33b860ef":"code","d0a6d30b":"markdown","8ab83ba3":"markdown"},"source":{"1925ac9c":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","3f35ea78":"import os","e11977eb":"os.listdir(\"..\/input\/titanic\")","ffa2fbde":"train_data = pd.read_csv(\"..\/input\/titanic\/train.csv\")","a3539776":"train_data.head()","df44ee47":"train_data.info()","fde2ba89":"sns.set_style(style='whitegrid')","513ce693":"sns.countplot(x='Survived',hue='Sex',data=train_data);","f87a26db":"sns.countplot(x='Survived',hue='Pclass',data=train_data);","454f3294":"sns.distplot(train_data['Age'].dropna(),kde=False,bins=30);","4bf2dcd0":"sns.countplot(train_data['SibSp'])","c5db1215":"train_data.isnull().sum()","b41b8025":"#Analysing the age and passenger class through boxplot\nplt.figure(figsize=(10,8))\nsns.boxplot(x='Pclass',y='Age',data=train_data)","af7d1c42":"def add_age(col):\n    Age = col[0]\n    Pclass = col[1]\n    if pd.isnull(Age):\n        #fill the null columns with the average value from the boxplot\n        if Pclass == 1:\n            return 37\n        elif Pclass == 2:\n            return 29\n        else:\n            return 24\n    else:\n        return Age","1f06163a":"train_data['Age'] = train_data[['Age','Pclass']].apply(add_age,axis=1)","dce114b0":"train_data.isnull().sum()","5343d0d4":"train_data.drop('Cabin',axis=1,inplace=True)","1982673d":"train_data.dropna(inplace=True)","6a9619bf":"train_data.isnull().sum()","e491f671":"train_data.head()","fdbf69f4":"sex = pd.get_dummies(train_data['Sex'],drop_first=True)","f6d120ff":"sex.head()","bbb6d5d1":"embark = pd.get_dummies(train_data['Embarked'],drop_first=True)","b8d0b728":"embark.head()","e989df03":"train_data = pd.concat([train_data,sex,embark],axis=1)","1ef7d16b":"train_data.head()","4d36f5c1":"train_data.columns","1ab96be4":"train_data = train_data.drop(['Sex','Embarked','Name','Ticket','PassengerId'],axis=1)","1452cc9c":"train_data.head()","367db6c8":"test = pd.read_csv(\"..\/input\/titanic\/test.csv\")","1305276d":"test_data = test.copy()","6a8af0b4":"test_data.head()","fd00965f":"test_data.isnull().sum()","5f0cfa8b":"plt.figure(figsize=(10,8))\nsns.boxplot(x='Pclass',y='Age',data=test_data)","a91c7edc":"def add_age_test(col):\n    Age = col[0]\n    Pclass = col[1]\n    if pd.isnull(Age):\n        #fill the null columns with the average value from the boxplot\n        if Pclass == 1:\n            return 42\n        elif Pclass == 2:\n            return 26\n        else:\n            return 24\n    else:\n        return Age","004793f2":"test_data['Age'] = test_data[['Age','Pclass']].apply(add_age_test,axis=1)","f2cd2036":"test_data.drop('Cabin',axis=1,inplace=True)","3db4e7dd":"test_data['Fare'].mean()","b47abd99":"test_data['Fare'] = test_data['Fare'].fillna(test_data['Fare'].mean())","374ab349":"test_data.isnull().sum()","7e582cce":"test_data.head(155)","d70676a5":"sex_test = pd.get_dummies(test_data['Sex'],drop_first=True)","c1abfa88":"sex_test.head()","7f0bf174":"embark_test = pd.get_dummies(test_data['Embarked'],drop_first=True)","2018ea8c":"embark_test.head()","e2463c5f":"test_data = pd.concat([test_data,sex_test,embark_test],axis=1)","52f50172":"test_data.head()","45b7fdb8":"test_data = test_data.drop(['Sex','Embarked','Name','Ticket','PassengerId'],axis=1)","8308a201":"test_data.head()","91bd3526":"X_train = train_data.drop(['Survived'],axis=1)","a41a5dec":"y_train = train_data['Survived'].values","6ac47fc5":"X_test = test_data","d004631a":"from sklearn.linear_model import LogisticRegression","5d0bc1dc":"model = LogisticRegression()","efef6060":"model.fit(X_train,y_train)","9a28c062":"predictions = model.predict(X_test)","c3e8c34a":"predictions.shape","83278c0e":"real_values = pd.read_csv(\"..\/input\/titanic\/gender_submission.csv\")","ff1879c7":"real_values.shape","139d6a83":"from sklearn.metrics import classification_report, confusion_matrix","fc4fab11":"confusion_matrix(real_values['Survived'].values,predictions)","d756dc77":"print(classification_report(real_values['Survived'].values,predictions))","a57b0144":"result = pd.DataFrame(predictions,columns=['Survived'])","eb6076a5":"result = pd.concat([test['PassengerId'],result],axis=1)","23a8a43a":"result","c164f693":"result.to_csv(\"submission.csv\",index=False)","33b860ef":"os.listdir(\"..\/working\")","d0a6d30b":"Test data","8ab83ba3":"Passengers in the 1st class are older than the passengers in 3rd class except some outliers. This makes sense because, age is directly propotional to the wealth acquired throughtout the days."}}