{"cell_type":{"3fa5fc6e":"code","9dba27c7":"code","837b26e4":"code","b4d2e2b8":"code","e6a1e976":"code","b421ea94":"code","5780bb42":"code","a66a8a4d":"code","a0860d37":"code","06643d96":"markdown","c2842442":"markdown","9594122f":"markdown","fe8cecfd":"markdown","30012403":"markdown","0913a071":"markdown","3dc8659e":"markdown"},"source":{"3fa5fc6e":"import pandas as pd\nimport numpy as np\nfrom scipy.stats import chi2_contingency\nfrom scipy.stats import chi2","9dba27c7":"elec = pd.read_csv(\"..\/input\/market-bias\/electronics.csv\")\nmod = pd.read_csv(\"..\/input\/market-bias\/modcloth.csv\")","837b26e4":"#Function to detect market bias between user attribute and model attribute\ndef marketbias(df):\n    tab = pd.crosstab(df['model_attr'], df['user_attr'])\n    val = chi2_contingency(tab.values)\n    expected_values = val[3]\n    dof = val[2] # degree of freedom\n    print(\"Observed values:\")\n    print(tab)\n    print( \"-------------------------------------\")\n    print(\"Expected values:\")\n    print(expected_values)\n    chi_square=sum([(o-e)**2.\/e for o,e in zip(tab.values,expected_values)])\n    chi_square_statistic=chi_square[0]+chi_square[1]\n    print( \"-------------------------------------\")\n    print(\"Chi-square statistic: \",chi_square_statistic)\n    print( \"-------------------------------------\")\n    critical_value=chi2.ppf(q=1-0.05,df=dof)\n    print(\"Critical value: \",critical_value)\n    p_value=1-chi2.cdf(x=chi_square_statistic,df=dof)\n    print( \"-------------------------------------\")\n    print(\"P-value: \",p_value)\n    if (chi_square_statistic>=critical_value) & (p_value<=0.05):\n        print(\"Reject H0,There is Market bias\")\n    else:\n        print(\"Retain H0,There is no Market bias\")","b4d2e2b8":"mod.head()","e6a1e976":"mod = mod[mod.user_attr.isnull() == False]","b421ea94":"marketbias(mod)","5780bb42":"elec.head()","a66a8a4d":"elec = elec[elec.user_attr.isnull() == False]","a0860d37":"marketbias(elec)","06643d96":"# **Possible Market Bias in product recommendation:** \nDue to the selection of a\nparticular human model in a product image. These correlations may\nresult in the underrepresentation of particular niche markets in the\ninteraction data. For example, a female user who would potentially\nlike motorcycle products may be less likely to interact with them if\nthey are promoted using stereotypically \u2018male\u2019 images. Our goal is to detect market bias in the data if any!","c2842442":"![Capture.PNG](attachment:218f7d7c-d045-4558-866a-43485d8bfe0a.PNG)","9594122f":"**Two real-world e-commerce datasets collected from a\nwomen\u2019s clothing website ModCloth\nand the Electronics category\non Amazon**","fe8cecfd":"# **`Market bias`**\n1.   **Hypothesis H0 when there is no market bias**\n2.   **Hypothesis H1 when there is market bias**","30012403":"# Thus, both the datasets have market bias and needs to be dealt with as it can affect the recommender systems.","0913a071":"# Checking Market bias in electronics","3dc8659e":"## Checking Market bias in ModCloth "}}