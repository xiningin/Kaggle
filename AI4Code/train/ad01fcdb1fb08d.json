{"cell_type":{"463c4521":"code","7e742f30":"code","c6278b72":"code","0d3df03e":"code","d4611c2f":"code","b203c0b2":"code","5d1262b7":"code","ae659a9e":"code","1882241d":"code","36cef983":"code","e2abb53a":"code","9d6a6a16":"code","045188f8":"code","802c42cc":"code","94718f06":"code","32d52d6b":"code","bdedb155":"code","b8c41fca":"markdown"},"source":{"463c4521":"import pandas as pd\npd.options.display.precision = 15","7e742f30":"train = pd.read_csv('..\/input\/train.csv', dtype={\n    'acoustic_data': 'int16',\n    'time_to_failure': 'float64',\n}, nrows=200000000)","c6278b72":"train[::1000].plot(secondary_y=['time_to_failure'], figsize=(30,5))","0d3df03e":"train[:50000].plot(secondary_y=['time_to_failure'], figsize=(30,5))","d4611c2f":"train.iloc[:8000].plot(secondary_y=['time_to_failure'], figsize=(5, 30))","b203c0b2":"a, b = train.time_to_failure[4094:4096]","5d1262b7":"print('Interval between chunks: %.9f\\nInterval between points: %.9f' % (a - b, train.time_to_failure[0] - a))","ae659a9e":"from IPython.display import display, Audio","1882241d":"Audio(train.acoustic_data[:150000], rate=2000)","36cef983":"failures = train.index[train.time_to_failure.shift(1) < train.time_to_failure]","e2abb53a":"spike = train[:failures[0]].acoustic_data.abs().argmax()\nd = train[spike - 100000:failures[0]]\nd.plot(figsize=(30, 5), secondary_y=['time_to_failure'])","9d6a6a16":"display(Audio(d.acoustic_data, rate=4000))","045188f8":"import librosa\nimport librosa.display\nX = librosa.stft(d.acoustic_data.astype('float16').values)\nXdb = librosa.amplitude_to_db(abs(X))","802c42cc":"from matplotlib import pylab as plt\nplt.figure(figsize=(28, 10))\nlibrosa.display.specshow(Xdb, x_axis='time', y_axis='hz')","94718f06":"import os\ntest = []\nfor i in os.listdir('..\/input\/test'):\n    test.append((i, pd.read_csv('..\/input\/test\/' + i, dtype={'acoustic_data': 'int16'})))","32d52d6b":"for name, i in test:\n    if i.acoustic_data.max() > 1000:\n        display(name)\n        display(Audio(i.acoustic_data, rate=4000))\n        i.plot()\n        plt.show()","bdedb155":"for i in range(10):\n    display(test[i][0])\n    display(Audio(test[i][1].acoustic_data, rate=4000))\n    test[i][1].plot()\n    plt.show()","b8c41fca":"Errr... wat?"}}