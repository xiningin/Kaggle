{"cell_type":{"6c7a77e7":"code","f2a91ad8":"code","0e62a674":"code","92c42ee8":"code","f5712ab8":"code","07e45778":"code","c09ce2d1":"code","e0add603":"code","51810085":"code","fe23fe87":"code","e0dc60f8":"code","a5242e10":"code","af1608f9":"code","4d69d98e":"code","6baf28dd":"code","634c378b":"code","3340a26e":"code","e2aaf4e6":"code","01665f72":"code","719b11cc":"code","2d45ae27":"code","13b49ddd":"code","fa6797dd":"code","7a250400":"code","86f9722d":"code","7012f7e0":"code","e92ac161":"code","032a4faf":"code","17f2b89c":"code","90d47298":"code","b920c6ac":"code","6619b6c7":"code","a8103a00":"code","e868c0f1":"code","11c75024":"code","26286402":"code","ad2a17fa":"code","bf17924c":"code","c475c451":"code","ab18b59b":"code","ed9f11a8":"code","11a64fe2":"code","1017c7aa":"code","36a56121":"code","65b0da14":"code","10c99331":"code","c77ea91c":"code","bce27165":"code","ad476eb2":"markdown","54ca6496":"markdown","44bbf82e":"markdown","a9b1c499":"markdown","b8c5b5a7":"markdown","25508160":"markdown","88fe16e6":"markdown","10555a99":"markdown","20c2723a":"markdown","bbe77c0a":"markdown","e1bc7fa4":"markdown","d88863d2":"markdown","1e468155":"markdown","4bb1f061":"markdown","4d66fd19":"markdown","a267af1a":"markdown","cc1ab059":"markdown","05b11d5b":"markdown","ab725af5":"markdown","ac86e8e1":"markdown","c2cd6c36":"markdown"},"source":{"6c7a77e7":"# Let us import all the libraries that we can use.\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","f2a91ad8":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","0e62a674":"# let us read the data now.\ntrain = pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")","92c42ee8":"# Get an idea about the data by looking at the first 5 rows.\ntrain.head()","f5712ab8":"# Let us find how many rows and columns are there.\ntrain.shape","07e45778":"# Numerical values.\ntrain.describe() ","c09ce2d1":"# get some detailed information about data.\ntrain.info()","e0add603":"# tells number of missing values\ntrain.isnull().sum() ","51810085":"# Getting little idea on which all columns are effecting the Survival number.\nplt.figure(figsize=(8,6))\nax = sns.heatmap(train.corr().abs(), annot=True)\nplt.show()","fe23fe87":"# We'll start off by dropping few columns feature as the heatmap above shows some which have no relation with Survived column.\n#Some of them are string and cannot be categorised. Plus we cannot extract lot of useful information from them.\ntrain.drop(['PassengerId','Cabin','Ticket','Fare'], axis = 1, inplace=True)\ntrain.shape","e0dc60f8":"# Creating a new attribute to help in filling age.\ntrain['Title'] = train['Name'].str.extract(' ([A-Za-z]+)\\.', expand=False)\ntrain['Title'].value_counts()","a5242e10":"title_mapping = {\"Mr\":0, \"Miss\":1, \"Mrs\":2, \"Master\":3, \"Dr\":3, \"Rev\":3, \"Col\":3, \"Major\":3, \"Mlle\":3, \"Countess\":3, \"Ms\":3, \"Jonkheer\":3, \"Don\":3, \"Capt\":3, \"Sir\":3, \"Countess\":3, \"Mme\":3, \"Lady\":3 }\ntrain['Title'] = train['Title'].map(title_mapping)","af1608f9":"train.head()","4d69d98e":"# We dont need Name column now as it is a string and cannot be categorised further.So it wont help in our analysis.\ntrain.drop('Name', axis=1, inplace=True)","6baf28dd":"# Fill missing age with median age for each title.\ntrain[\"Age\"].fillna(train.groupby(\"Title\")[\"Age\"].transform(\"median\"),inplace=True)","634c378b":"train[\"Age\"] = train[\"Age\"].fillna(-0.5)\nbins = [-1, 0, 5, 12, 18, 24, 35, 60, np.inf]\nlabels = ['Unknown', 'Baby', 'Child', 'Teenager', 'Student', 'Young Adult', 'Adult', 'Senior']\ntrain['AgeGroup'] = pd.cut(train[\"Age\"], bins, labels = labels)\nsns.barplot(x=\"AgeGroup\", y=\"Survived\", data=train)\nplt.show()","3340a26e":"Age_group_mapping={'Unknown':0, 'Baby':1, 'Child':1, 'Teenager':2, 'Student':2, 'Young Adult':3, 'Adult':4, 'Senior':5}\ntrain['AgeGroup']=train['AgeGroup'].map(Age_group_mapping)","e2aaf4e6":"train.head()","01665f72":"# We can drop Age attribute now as we have retained AgeGroup column.\ntrain.drop(['Age'], axis = 1, inplace=True)","719b11cc":"print(\"Number of people embarking in Southampton (S):\",train[train[\"Embarked\"] == \"S\"].shape[0])\n\nprint(\"Number of people embarking in Cherbourg (C):\",train[train[\"Embarked\"] == \"C\"].shape[0])\n\nprint(\"Number of people embarking in Queenstown (Q):\",train[train[\"Embarked\"] == \"Q\"].shape[0])","2d45ae27":"#replacing the missing values in the Embarked feature with S\ntrain = train.fillna({\"Embarked\": \"S\"})","13b49ddd":"train.head()","fa6797dd":"# Create a family size descriptor from SibSp and Parch\ntrain[\"Fsize\"] = train[\"SibSp\"] + train[\"Parch\"] + 1","7a250400":"sns.barplot(x=\"Fsize\", y=\"Survived\", data=train)","86f9722d":"# Create new feature of family size\ntrain['Single'] = train['Fsize'].map(lambda s: 1 if s == 1 else 0)\ntrain['SmallF'] = train['Fsize'].map(lambda s: 1 if  s == 2  else 0)\ntrain['MedF'] = train['Fsize'].map(lambda s: 1 if 3 <= s <= 4 else 0)\ntrain['LargeF'] = train['Fsize'].map(lambda s: 1 if s >= 5 else 0)","7012f7e0":"g = sns.factorplot(x=\"Single\",y=\"Survived\",data=train,kind=\"bar\")\ng = g.set_ylabels(\"Survival Probability\")\ng = sns.factorplot(x=\"SmallF\",y=\"Survived\",data=train,kind=\"bar\")\ng = g.set_ylabels(\"Survival Probability\")\ng = sns.factorplot(x=\"MedF\",y=\"Survived\",data=train,kind=\"bar\")\ng = g.set_ylabels(\"Survival Probability\")\ng = sns.factorplot(x=\"LargeF\",y=\"Survived\",data=train,kind=\"bar\")\ng = g.set_ylabels(\"Survival Probability\")","e92ac161":"train[\"Sex\"] = train[\"Sex\"].map({\"male\": 0, \"female\":1})","032a4faf":"# finding on an average who survived more( Male or Females)\ntrain.groupby('Sex')[['Survived']].mean()","17f2b89c":"sns.barplot(x=\"Sex\", y=\"Survived\", data=train)","90d47298":"# finding on an average which class passengers survived.\ntrain.groupby('Pclass')[['Survived']].mean()","b920c6ac":"sns.barplot(x=\"Pclass\", y=\"Survived\", data=train)","6619b6c7":"train.groupby('SibSp')[['Survived']].mean()","a8103a00":"sns.barplot(x=\"SibSp\", y=\"Survived\", data=train)","e868c0f1":"train.groupby('Parch')[['Survived']].mean()","11c75024":"sns.barplot(x=\"Parch\", y=\"Survived\", data=train)","26286402":"train.groupby('Embarked')[['Survived']].mean()","ad2a17fa":"sns.barplot(x=\"Embarked\", y=\"Survived\", data=train)","bf17924c":"train.pivot_table('Survived', index = 'Embarked', columns = 'Pclass')","c475c451":"train.pivot_table('Survived', ['Sex','AgeGroup'], 'Embarked')","ab18b59b":"sns.catplot(x ='Embarked', hue ='Survived',  \nkind ='count', col ='Pclass', data = train) ","ed9f11a8":"train.groupby('AgeGroup')[['Survived']].mean()","11a64fe2":"sns.barplot(x=\"AgeGroup\", y=\"Survived\", data=train)","1017c7aa":"train.pivot_table('Survived', index = 'Sex', columns = 'AgeGroup')","36a56121":"sns.barplot(x=\"Sex\", y=\"Survived\", hue=\"AgeGroup\", data=train)","65b0da14":"train.pivot_table('Survived', index = 'Pclass', columns = 'AgeGroup')","10c99331":"sns.barplot(x=\"Pclass\", y=\"Survived\",hue=\"AgeGroup\",  data=train)","c77ea91c":"train.pivot_table('Survived', ['Sex','AgeGroup'], 'Pclass')","bce27165":"train.pivot_table('Survived', ['Sex','AgeGroup'], 'Fsize')","ad476eb2":"We can imagine that large families will have more difficulties to evacuate, looking for theirs sisters\/brothers\/parents during the evacuation. So, I created a \"Fsize\" (family size) feature which is the sum of SibSp , Parch and 1 (including the passenger).","54ca6496":"I created three attributes while doing my analysis, these were:\n\n1. Title - This attribute was created with the help of Name column and as few values were missing in Age column so to fill those I thought of creating this column as every name had a title.\n\n2. AgeGroup - This helped in making Age data more manageable and it was easy to analyse .\n\n3. Family Size - As there were families in the ship so I thought it will effect the survival chances so using SibSp and Parch i came up with Family Size.\n\nFrom the data description and questions to answer, I\u2019ve determined that some dataset columns will not play a part in my analysis and these columns can therefore be removed. This will decluster the dataset and also help with processing performance of the dataset.\n\nI excluded (dropped) few attributes from the analysis:\n\n\n1. PassengerId - As the ID had no effect on passengers survival. The heatmap which i had used to find correlation between all the attributes showed hardly any relation between ID and Survived column. It is just a  number so it played no role in my analysis.\n\n2. Cabin - First reason of dropping this column was it had many missing values. Secondly the Cabin number was not providing any information which would help in my analysis.They are strings, cannot be categorized.\n\n3. Ticket - Ticket no. was not helping in coming to any conclusion and did not effect the survival rate.They are strings, cannot be categorized \n\n4. Name - After getting the Title column, Name attribute had no role in analysis so I dropped it. They are strings, cannot be categorized more.\n\n5. Fare - The heatmap showed that fare was not effecrting survival factor much so it could be dropped. It gave similar information as Pclass nothing more so I dropped it.\n\n6. Age - As I had retained Age range in AgeGroup column so it could be dropped.\n","44bbf82e":"Passengers who had less siblings had higher chances to survive.","a9b1c499":"Small kids and young passengers had higher chances to survive. To get more clear lets see with Sex column.","b8c5b5a7":"The first class and Second class females and kids survived maximum, while males of first class survived more on an average.","25508160":"Majority of class 3 passengers boarded from Q.\nS looks lucky for class 1 and 2 passengers compared to class 3.","88fe16e6":"The family size seems to play an important role, survival probability is worst for large families.\n\nAdditionally, I decided to create 4 categories of family size to get more clear numbers.","10555a99":"As we can see that few columns are having some missing values thats why the number of entries are less than 891 for them. Let us get clear number for them.","20c2723a":"\n**What categories of passengers were most likely to survive the Titanic disaster?**","bbe77c0a":"To make things more clear I am using visualisation as it helps me in my analysis","e1bc7fa4":"The answer to the main question - What categories of passengers were most likely to survive the Titanic disaster?","d88863d2":"This tells us that Class 1 passengers have a higher survival chance compared to classes 2 and 3. It implies that Pclass contributes a lot to a passenger\u2019s survival rate. Maximum passengers who survived were from  first class.  As we all know that when Titanic Sank the part which went under water first had third class cabin and first class was on upper level of the ship so this tells us why the first class passengers were able to survive.","1e468155":"Age, Cabin and Embarked have missing values. We should work on them first and see if they are really needed or can be dropped.","4bb1f061":"We see that most embarked from Southhampton, so we can fill in the empty values with \"S\"","4d66fd19":"One of the reasons that the shipwreck led to such loss of life was that there were not enough lifeboats for the passengers and crew. Although there was some element of luck involved in surviving the sinking, some groups of people were more likely to survive than others, such as women, children, and the upper- class.\n\nAfter analysing the whole data set I have come to a conclusion that :\n\n1. Female passengers and children were most likely to survive.The data, and more so, the graphs tends to support the idea that \u201cwomen and children first\u201d possibly played a role in the survival of a number of people. It\u2019s a bit surprising that all the children didn\u2019t survive but this could possibly be attributed to the mis-representation of what age is considered as the cut off for adults - i.e. if in the 1900\u2019s someone 15-17 were considered adults, they would not have been \u201csaved\u201d under the \u201cwomen and children first\u201d idea and would be made to fend for themselves. That would in turn, change the outcome of the above data and possible increase the number of children who survived.\n\n2. If females and kids were from first class then their chances to survive were even more. As when we take these three attributes together- Sex, AgeGroup and Pclass- we get to see that first class females and kids had higher survival rate.Based on the raw numbers it would appear as though passengers in Class 3 had a similar survival rate as those from Class 1 with 119 and 136 passengers surviving respectively. However, looking at the percentages of the overall passengers per class and the total numbers across each class, it can be assumed that a passenger from Class 1 is about 2.5x times more likely to survive than a passenger in Class 3.\n\nSocial-economic standing was a factor in survival rate of passengers.\n\n3. I can also see that passengers who had small families had more chances to survive and in that also females and kids of small families had more chance. Family size mattered alot so I created this attribute- Fsize- and found that families with 2 to 4 members had higher rate of survival compared to single and large families.\n\nThe results of the analysis, although tentative, would appear to indicate that class and sex, namely, being a female with upper social-economic standing (first class), would give one the best chance of survival when the tragedy occurred on the Titanic. Age alone did not seem to be a major factor. While being a man in third class, gave one the lowest chance of survival. Women and children, across all classes, tend to have a higher survival rate than men in genernal but by no means did being a child or woman guarentee survival. \n\n\nI am stating all this after comparing everything and all attributes , as you can see the tables and graphs shown in my coding.","a267af1a":"We have already seen before that small and medium size families survived more in number than single or big families. And in this also we can see that female and kids are more in number.","cc1ab059":"Just by observing the graph, it can be approximated that the survival rate of men is around 20% and that of women is around 75%. Therefore, whether a passenger is a male or a female plays an important role in determining if one is going to survive.We can see that more Females survived as they were given priority while rescue operation.","05b11d5b":"There were three attributes which had missing values:\n\n1. Age - To fill up the missing values in Age, I created the Title attribute using Name of passengers and then using Title and median of Age column I filled up the missing values.\n\n2. Cabin - There were many missing values in this attribute but as I was not seeing any relation of cabin no. with the survival rate, I simply dropped it.\n\n3. Embarked - This attribute had very few values missing so I just calculated the number of passengers embarking from various ports and saw that Maximum number of passengers embarked from Southhampton so I filled up the missing value with the S.","ab725af5":"This graph gives a summary of the age range of men, women and children who were saved. The survival rate is \u2013\n\n1. Good for children.\n\n2. High for women in the age range 20-90.\n\n3. Less for men as the age increases.","ac86e8e1":"Data Analysis\n","c2cd6c36":"Factorplots of family size categories show that Small and Medium families have more chance to survive than single passenger and large families."}}