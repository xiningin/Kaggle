{"cell_type":{"245fefac":"code","ec2f8de0":"code","9bdd334e":"code","cc035c4f":"code","a2ae678e":"code","620f56b4":"code","18235c64":"code","5257bf13":"code","0f11f4a8":"code","87cd9e36":"code","ff9745eb":"code","2938de07":"code","c0c26eb7":"code","873071df":"markdown","750790b2":"markdown","f6c68c33":"markdown","b18388e1":"markdown","cecaeba5":"markdown","c39270ea":"markdown","5610cfcd":"markdown","14eeb61d":"markdown","ec4cb1a4":"markdown","d30a933a":"markdown","85d8338a":"markdown","e83682b6":"markdown","2bf8d4cb":"markdown"},"source":{"245fefac":"import pandas as pd\ndf = pd.read_csv(\"\/kaggle\/input\/conventional-weather-stations-brazil\/conventional_weather_stations_inmet_brazil_1961_2019.csv\", sep=\";\")","ec2f8de0":"df.dtypes","9bdd334e":"df.head()","cc035c4f":"df.index = pd.to_datetime(df['Data'])","a2ae678e":"average_monthly_temperature = df['Temp Comp Media'].groupby(df.index.month).mean()\naverage_monthly_temperature","620f56b4":"data_2019 = df[df.index.year == 2019]\ndata_2019.head()","18235c64":"data_2019_monthly_average = data_2019\ndata_2019_monthly_average = data_2019_monthly_average\\\n    .groupby(data_2019_monthly_average.index.month)['Temp Comp Media']\\\n    .mean() - average_monthly_temperature\ndata_2019_monthly_average","5257bf13":"import matplotlib.pyplot as plt\nfig = plt.figure(figsize=(8,8))\nax1 = plt.subplot(111, projection='polar')","0f11f4a8":"import numpy as np\nfig = plt.figure(figsize=(8,8))\nax1 = plt.subplot(111, projection='polar')\nr = data_2019_monthly_average\ntheta = np.linspace(0, 2*np.pi, 12)\n\nax1.plot(theta, r)","87cd9e36":"import numpy as np\n\n\nfig = plt.figure(figsize=(9,9))\nax1 = plt.subplot(111, projection='polar')\n\n\ntheta = np.linspace(0, 2*np.pi, 12)\n\nax1.grid(False)\nax1.set_title(\"Brazil Temperature Change (1961-2019)\", color='white', fontdict={'fontsize': 30})\nlines, labels = plt.thetagrids((90, 60, 30, 0, 330, 300, 260, 230, 210, 180, 150, 120), labels=('Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'), fmt=None)\nax1.set_ylim(-3, 3)\n\nax1.tick_params(axis='x', colors='white', labelsize=18)\n\nfig.set_facecolor(\"#323331\")\nax1.set_facecolor('#000100')\n\nyear = 1961\n\nyear_data = df[df.index.year == year]\n\nr  = year_data.groupby(year_data.index.month)['Temp Comp Media'].mean() - average_monthly_temperature\n\nyear_label = ax1.text(0,0,year, color='white', size=30, ha='center')\n\nax1.plot(theta, r)\nplt.tight_layout()","ff9745eb":"full_circle_thetas = np.linspace(0, 2*np.pi, 1000)\nblue_line_one_radii = [-1.0]*1000\nblue_line_two_radii = [0.0]*1000\nred_line_one_radii = [1.5]*1000\n\nax1.plot(full_circle_thetas, blue_line_one_radii, c='blue')\nax1.plot(full_circle_thetas, blue_line_two_radii, c='blue')\nax1.plot(full_circle_thetas, red_line_one_radii, c='red')","2938de07":"ax1.text(np.pi\/2, -1.0, \"-1.0 C\", color=\"blue\", ha='center', fontdict={'fontsize': 20})\nax1.text(np.pi\/2, 0.0, \"0.0 C\", color=\"blue\", ha='center', fontdict={'fontsize': 20})\nax1.text(np.pi\/2, 1.5, \"1.5 C\", color=\"red\", ha='center', fontdict={'fontsize': 20})","c0c26eb7":"import sys\nfrom matplotlib.animation import FuncAnimation\n\nyears = list(range(1961, 2020))\n\ndef update(i):\n    year = years[i]\n    \n    year_data = df[df.index.year == year]\n\n    r = year_data.groupby(year_data.index.month)['Temp Comp Media'].mean() - average_monthly_temperature\n\n    year_label.set_text(year)\n    ax1.set_facecolor('#000100')\n    ax1.plot(theta, r)\n    plt.tight_layout()\n\nanim = FuncAnimation(fig, update, frames=len(years), interval=200)\n\ngif_output = '\/kaggle\/working\/brazil_temperature_change_1961_2019.gif'\n\nanim.save(gif_output, dpi=120, writer='imagemagick', savefig_kwargs={'facecolor': '#323331'})\n\nfrom IPython.display import Image\nImage(gif_output)","873071df":"# Brazil Temperature Change (1961-2019)","750790b2":"<img src=\"https:\/\/s7.gifyu.com\/images\/brazil_temperature_change_1961_2019-1.gif\" data-canonical-src=\"https:\/\/s7.gifyu.com\/images\/brazil_temperature_change_1961_2019-1.gif\" width=\"500\" height=\"500\" \/>","f6c68c33":"# Calculate Average Monthly Temperature (1961-2019)","b18388e1":"### Configure date index","cecaeba5":"# Calculate deviation from the average temperature","c39270ea":"# Preparing data for polar plotting","5610cfcd":"### Show all fields","14eeb61d":"### Show first rows","ec4cb1a4":"# Adding temperature rings","d30a933a":"   # Load dataset","85d8338a":"# Create polar coordinate system","e83682b6":"# Filter values by year ","2bf8d4cb":"# Generating The GIF Animation"}}