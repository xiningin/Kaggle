{"cell_type":{"46b59ff4":"code","ff91dc62":"code","9206c40c":"code","1dbeced2":"code","f025e322":"code","0b5c94b7":"code","8054a22c":"code","ea82918a":"code","4c90c842":"code","f8b24783":"code","88010b96":"code","0cdbe7a4":"code","c931d47e":"code","10b1f2f9":"code","5c5ed911":"code","f7d6af14":"code","074a4d7b":"code","50171c75":"code","189dfe52":"code","8dfb1f17":"code","07889ed7":"code","58310155":"markdown","895250f8":"markdown","fb215ca6":"markdown","1934bd52":"markdown","de9863f5":"markdown","65d5d037":"markdown","39447d7d":"markdown","b487d0cc":"markdown","63ea0811":"markdown","10405096":"markdown","6d841572":"markdown","934f8dd9":"markdown","f8bf609b":"markdown","88751601":"markdown","4d04d6f7":"markdown","003f7673":"markdown","c77887c9":"markdown","a8a30149":"markdown","93670530":"markdown"},"source":{"46b59ff4":"!pip install wooldridge","ff91dc62":"import numpy as np\nimport scipy\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport statsmodels.api as sm","9206c40c":"import wooldridge\nwooldridge.data('wage2', description = True)","1dbeced2":"import pandas as pd\n\nwage = pd.read_stata(\"..\/input\/woodridge\/datasets v1\/WAGE2.DTA\")\n\nselected = ['lwage','educ', 'exper', 'hours', 'KWW']\nwage_selected = wage[selected]\nwage_selected.sort_values(\n    by = 'lwage',\n    ascending = False).head(10).round(3)","f025e322":"# Find the anova table\nfrom statsmodels.formula.api import ols\n\nmodel = ols('lwage ~ KWW + hours', data = wage_selected).fit()\nanova_table = sm.stats.anova_lm(model, typ = 2)\nanova_table.round(3)","0b5c94b7":"print(wage_selected.info())\nwage_selected.describe().round(3)","8054a22c":"# Find the correlation about each elements\nwage_selected.corr().round(3)","ea82918a":"# Plot the correlation matrix\n\nimport seaborn as sn\nimport matplotlib.pyplot as plt\nfrom matplotlib.pyplot import figure\n\nsn.heatmap(wage_selected.corr(), annot = True)\nplt.show()","4c90c842":"# Export to CSV\nwage_selected.to_csv('wage.csv')","f8b24783":"y = wage['lwage']\nx = wage['educ']\nX = sm.add_constant(x)","88010b96":"results = sm.OLS(y,X).fit()\nprint(results.summary())","0cdbe7a4":"# plot the graph with lwage and educ\n\nfig, ax = plt.subplots(figsize = (9,6))\n\nax.plot(x,y,'o', label = 'data')\nax.plot(x, results.fittedvalues, 'r--', label = 'OLS')\n\nax.legend(loc = 'best')","c931d47e":"y = wage_selected['lwage']\nx = wage_selected['exper']\nX = sm.add_constant(x)","10b1f2f9":"model = sm.OLS(y,X).fit()\npredictions = model.predict(X)\n\nprint(model.summary())","5c5ed911":"# plot the graph with lwage and educ\n\nfig, ax = plt.subplots(figsize = (9,6))\n\nax.plot(x,y,'o', label = 'data')\nax.plot(x, predictions, 'r--', label = 'OLS')\n\nax.legend(loc = 'best')","f7d6af14":"y = wage_selected['lwage']\nx = wage_selected['KWW']\nX = sm.add_constant(x)\n\nmodel = sm.OLS(y,X).fit()\npredictions = model.predict(X)\n\nprint(model.summary())","074a4d7b":"# Histogram of Predicted Values of Wages - MLR6\nplt.hist(predictions, density = True, bins = 30)\nplt.ylabel('Density')\nplt.xlabel('Fitted values')\nplt.show()","50171c75":"# historgram about KWW\n# %matplotlib inline \n\nplt.hist(x, density = True, bins = 40)\nplt.ylabel('KWW Frequency')\nplt.show()","189dfe52":"# plot the graph with lwage and KWW\n\nfig, ax = plt.subplots(figsize = (9,6))\n\nax.plot(x,y,'o', label = 'data')\nax.plot(x, predictions, 'r--', label = 'OLS')\n\nax.legend(loc = 'best')","8dfb1f17":"x = wage_selected[['exper', 'educ']]\ny = wage_selected['lwage']\nX = sm.add_constant(x)\n\nmodel = sm.OLS(y,X).fit()\npredictions = model.predict(X)\n\nprint(model.summary())","07889ed7":"predictions.describe().round(3)","58310155":"## Task Description\nNamely, students may wish to choose one or more of the following econometric tasks\n\n**1. Explain one variable, for example log (wages) or sys or other, using other variables as predictors. (using OLS)**\n\nTools used may be one of the following\n- a. OLS,\n- b. 2SLS, fixed effects, differencing, errors in variables\n- c. panel analysis with fixed \/ random effects, FGLS, GMM estimation\n- d. logistic regression, Heckit model, Tobit model\n\n2. Explain more than one variable using simultaneous equations\n\n3. analyze a time\u2010series using econometric or ARIMA approaches\n\n4. build a volatility model of a time\u2010series\n\n5. build a simulation model for estimating VaR\n\n## Requirment\nAfter this analysis, students will write a report showing detailed results and their interpretation.\nThe report will be delivered to the teacher and evaluated based on the demonstrated ability to perform the analysis and interpret results (below, more on evaluation).\n\nReports are due on or before before the final exam day.  \nReports cannot have more than 8 pages.  \nReports can be delivered by email in the form of an attached file. Preferable, convert your report to a PDF format before submitting.  \n\nIn the first page, the report should show \n- the title, \n- the name of the dataset used, \n- together with a two\u2010lines summary of the analysis (for example \u201cA regression analysis of wages ...\u201d), \n- and the numbers, names, of the students that are members of the group.  \n\nNo more than 5 students per group. For you, it is better to have less. \n\nThe maximum number of points to be awarded is 20. The characteristics that lead to the maximum mark are, by order,\n1. soundness of the analysis,\n2. soundness of explanations,\n3. level of sophistication of analyses,\n4. level of sophistication of the tool used to carry out analyses,\n5. the inverse of the number of students in the group (maximum 1 student only).\n\n\nMail dtrigueiros at umac and no other of my email addresses.","895250f8":"# BECO7010 Report for Econometric Analysis\n```\nReport generated by\nDaniel Sou\nSOU CHON WAI\nMC154602\n```","fb215ca6":"#### Summary Statistics","1934bd52":"$\\normalsize ln(Wage_i) = \\beta_1 + \\beta_2 Education_i + \\beta_3 Experience_i +  u_i$","de9863f5":"We found that the formula is\n```\nlwage = 5.937 + 0.0598 * educ\n\nR^2 = 0.097\n```\n\nNow we plot the graph","65d5d037":"## Step 03c. `lwage` and `KWW`\n$\\normalsize ln(Wage_i) = \\beta_1 + \\beta_2 KWW_i +  u_i$","39447d7d":"### Step 01 Show the detail of data","b487d0cc":"## Import the model","63ea0811":"### Variable Descriptions","10405096":"# Conclusion\n\nThe results of this analysis support the economic hypothesis that an increase in wage leads to a\ndecrease in number of dependents to a certain degree. The strongest evidence for this relationship resulted\nfrom Multiple Regression Model 3, where a one percent increase in wage decreased the number of\ndependents by 0.33 dependents holding all other factors constant, with -0.33 holding significance at the\n1% level. However, the coefficient for lwage was not significant even at the 10% level for either Multiple\nRegression Model 1 or Multiple Regression Model 2. This could be due to multi-collinearity between\nlwage, educ, and exper because experience and education heavily impact wage. The results from the Ftest indicated that lwage was jointly significant with educ and exper, which is why they were dropped in \nMultiple Regression Model 3 to try to observe the significance of lwage on number of dependents without\nthe strong influence of the significance from educ and exper. \n\nIn addition, MLR.4 \u2013 MLR.6 were not strictly satisfied for this analysis, so the significance of the results produced is not very high. The\nrelationship derived between wage and number of dependents in Multiple Regression Model 3 could\nprovide support for future analysis that works to determine whether this relationship is significant\neconomically with a data set or different analysis that satisfies all of the CLM assumptions.\n\n\nIn order to improve and extend the results of this analysis for future use, more recent data could\nbe used to determine whether the negative relationship between wage and number of dependents holds\ntrue in a more modern society. Some other factors that could be included in the future are physical\nhousehold size, as discussed in MLR.4, and a dummy variable indicating whether or not the family\nchooses to use child care. If data about child care were available, the results of this analysis could be\nimproved, because if a family chooses to use child care, they would no longer have to spend additional\ntime in household production that would prevent them from spending more hours working in the labor\nforce. \n\nFor this reason, it would be interesting to see whether child care availability and the cost of child\ncare have impacts on whether or not individuals choose to have more or less children depending on their\nincome level. Using the results from this analysis as a structure, more significant results could potentially\nbe produced if child care statistics were used and if a more recent data set that satisfies more of the CLM\nassumptions was used. These potential future extensions would help to determine if there is a true\nsignificance between wage and number of dependents. ","6d841572":"## Method Use - OLS\n\nOrdinary Least Square, OLS \n\n### Regression Tables\nYou will probably need to create tables within Word that report this information in a more succinct way.\n\nStandard information to report on a regression table \n- Dependent variable\n- Explanatory variables\n- Estimates for constant term and coefficient estimates for explanatory variables\n- Standard errors for estimates above\n- Indication of which variables are statistically significant (using *, see below)\n- R-squared\n- Number of observations \/ sample period\n\n\u2022 It is common to report more than one regression in your paper.  \nAlthough you may only discuss one for your presentation. Based on which variables you find to be significant, you may drop some of the explanatory variables to improve the efficiency (precision of the regression\u2019s \u201cfit\u201d to the data) of the coefficient estimates.\n\n### Samples of Regression Table\n![](https:\/\/desktop.arcgis.com\/en\/arcmap\/latest\/tools\/spatial-statistics-toolbox\/GUID-4A3E5672-2B18-4FBF-A1FF-E5C44D3C71B3-web.png)","934f8dd9":"### Step 02 Classical Linear Model (CLM) Assumptions","f8bf609b":"---\n# Part 01 | First Page of the Report\n> First Page of the Report\n\n## Anlayse how earnings depend on experience, education, hours, and KWW score\n\n## Summary\nIn this analysis, the relationship between Earnings and some elements such as experience, education, hours and KWW score is investigated. \n\nThis analysis attempts to derive the relationship between wage and KWW score, investigating the\nproposed positive relationship between income level and knowledge of work score. \n\nKWW: Knowledge of world work score, a general test of work-related abilities\n\n## Group Member\n```\nReport generated by\nDaniel Sou\nSOU CHON WAI\nMC154602\n```","88751601":"# Part 02 | Main Task: Explain `log(wages)` with other variable predictors\n\nTask 01:   \nExplain one variable, for example `log (wages)` or `sys` or other, using other variables as predictors\n","4d04d6f7":"### Step 03b. `lwage` and `exper`\n\n$\\normalsize ln(Wage_i) = \\beta_1 + \\beta_2 Experience_i +  u_i$\n","003f7673":"## Findings\nIn the table above, it is important to find the element`lwage` can be explained with `educ`, `exper` and `hours`, `KWW`\n\n#### Remark\nThe reason I use `log(wage)` rather than `wage` because the main target is finding the wage gaps of a particular percentage. It makes more sense to measure \"percent\" changes in wage (which is what `ln(wage)` is), rather than absolute changes in wage.   \nThe wage distribution is truncated at 0 and is highly right-skewed. If I try to use wage to estimate the effects of various things on wages, I'll probably end up with people making estimated negative wages.\n\n### Formula 01\n$\\normalsize Wage = f(Education, Experience)$\n\nThe relationship is\n\n$\\normalsize ln(Wage_i) = \\beta_1 + \\beta_2 Education_i + \\beta_3 Experience_i +  u_i$\n\n### Formula 02\n\nThe effect of gender on wages can be modeled simply as\n\n$\\normalsize ln(Wage_i) = \\beta_1 + \\beta_2 Female_i + u_i$","c77887c9":"### Step 03a. To do the OLS Regression with `lwage` and `educ` in `wage` package\n\n$\\normalsize ln(Wage_i) = \\beta_1 + \\beta_2 Education_i + \\beta_3 Experience_i +  u_i$","a8a30149":"First, we use to find the relationship with `ln(wage)` and `educ`\n\n$\\normalsize ln(Wage_i) = \\beta_1 + \\beta_2 Education_i +  u_i$","93670530":"There are a set of Classical Linear Model (CLM) assumptions that must be evaluated as to whether\nthis analysis meets the assumptions:\n\n#### 01 Assumption MLR.1 (Linear in Parameters): \nIn this analysis, the variables of interest are numdep and wage. \nThe model for the population can be written as numdep = b0 + b1(lwage) + u , where b0 and b1 are unknown parameters (constants) of interest and u is an unobserved random error term. \nBecause the analysis between numdep and lwage can be written as a linear model, assumption MLR.1 is met in this analysis.\n\n#### 02 Assumption MLR.2 (Random Sampling):   \nThe source of this data was from a Current Population Survey in 1976. It can be assumed that this produced a random sample of 576 observations used in this analysis. This assumption means that the data can be used to estimate the ceteris paribus\neffects of lwage on numdep and that the data are representative of the population described in\nMLR.1.\n\n#### 03 Assumption MLR.3 (No Perfect Collinearity): \nIf there is sample variation in each independent variable and no exact linear relationship between independent variables, the ceteris paribus effect\nof lwage on numdep can be computed. This analysis meets this assumption, because there are no\nexact linear relationships between lwage, educ, exper, tenure, married, nonwhite, and female. As\nseen in Table 3 below, the highest correlation coefficient is 0.50 between tenure and exper, which\nis not close to a perfect linear relationship of 1.00; therefore, MLR.3 is satisfied.\n\n#### 04 Assumption MLR.4 (Zero Conditional Mean): \nMLR.4 assumes that the unobserved factors are,\non average, unrelated to the explanatory variables so that the unbiasedness of each OLS estimator\nfor the corresponding population parameter holds true. For this analysis, MLR.4 is not likely to be\nperfectly satisfied due to omitted variable bias. One potential source of omitted variable bias for\nthis analysis would be the physical size of the house measured in square footage. Wage and\nsquare footage of the house are likely to be positively correlated, because as people earn more,\nthey can afford to purchase a larger house. If \ud835\udeff1 represents the slope of the simple regression of\nsquare footage of a house on wage, then \ud835\udeff1 is likely to be greater than 0 because if the positive\nrelationship between wage and square footage. If b8 represents the OLS estimator for house size\nif it were to be included in the model of regressing numdep on all of the independent variables in the analysis, then \uf0628 is likely to be positive. As physical house size increases, there is more space\nfor more dependents, giving \uf0628 a predicted positive value. Because it is predicted that \ud835\udeff1 > 0 and\n\uf0628 > 0, there would be a positive omitted variable bias, meaning the OLS estimators in this\nanalysis are overestimated, due to the positive impact of house size. Including a variable\nrepresenting physical house size in the model could eliminate this bias; however, data on square\nfootage of the house was not included in the data set. Therefore, MLR.4 is not likely to be\nsatisfied for this analysis, indicating that the results produced should be taken with caution.\n\n#### 05 Assumption MLR.5 (Homoskedasticity): \nMLR.5 states that the error u has the same variance given any values of the explanatory variables. To check whether the variance in the residuals is homoskedastic, a scatter plot can be generated plotting the residuals vs. the fitted values from\nregressing numdep on lwage. No clear pattern should be observed in the scatter plot for MLR.5 to\nbe satisfied. As seen in A6 in the Appendix, there is some sort of negative relationship pattern\nindicating variance is not constant. \n\nMLR.5 is not satisfied for this model, so it cannot be assumed\nthat u has the same variance for any values of the explanatory variables, which also indicates that\nnumdep does not have the same variance for any values of the explanatory variables. Results of\nthis analysis should be taken with caution. \n\nGraph 2. Residuals vs. Fitted Values\n\n#### 06 Assumption MLR.6 (Normality): \nMLR.6 states that the population error u is independent of the\nexplanatory variables and is normally distributed with zero mean and variance $\\sigma^2$\n. If MLR.6 is\nsatisfied, it would indicate that the predicted values for numdep are also normally distributed. A\nhistogram can be generated using the fitted values from the regression of numdep on lwage to\ncheck if the predicted values are normally distributed. As seen in A7 in the Appendix, the\nhistogram is somewhat normally distributed with a slight left skew. However, MLR.6 can be\ndropped if the sample size is reasonably large. Because the sample size for this analysis is 526,\nMLR.6 can be dropped for this analysis."}}