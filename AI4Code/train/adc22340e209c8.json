{"cell_type":{"fed826fa":"code","ad0cab5c":"code","62a78f05":"code","d069900f":"code","6ad619e8":"code","6727fff1":"code","ae0dd016":"code","7cf795b8":"code","469b0611":"code","d89d1418":"code","c661d713":"code","2336cc14":"code","9452e75e":"code","97dde92e":"markdown","d12477b9":"markdown"},"source":{"fed826fa":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os","ad0cab5c":"list_csv =[]\n\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        if('.csv' in os.path.join(dirname, filename)):\n            list_csv.append(os.path.join(dirname, filename))\n\n            \nlist_csv = list(set(list_csv) - set(['\/kaggle\/input\/tweet-sentiment-extraction\/train.csv',\n '\/kaggle\/input\/tweet-sentiment-extraction\/test.csv',\n '\/kaggle\/input\/tweet-sentiment-extraction\/sample_submission.csv']))","62a78f05":"list_csv","d069900f":"df_test = pd.read_csv(\"\/kaggle\/input\/tweet-sentiment-extraction\/test.csv\")\n\nlist_df =[]\n\nfor i in list_csv:\n    df = pd.read_csv(i)\n    df_test = pd.merge(df_test, df, on = 'textID')","6ad619e8":"df_test.head()","6727fff1":"df_sentiment = df_test.copy()\ndf_sentiment.columns = ['textID', 'text', 'sentiment'] + list('selected_text_' + pd.Series(range(len(list_csv))).astype('str'))\n","ae0dd016":"df_sentiment.head()","7cf795b8":"count = 0\n\ndictionary = {}\n\n\nfor row in df_sentiment.iterrows():\n    #print(row)\n    list_elements = [str(i).lower().strip() for i in row[1].to_list()[3:]]\n    cleaned_text = ' '.join(list_elements)\n    cleaned_text = cleaned_text.split(' ')\n\n    df_idf = pd.Series(cleaned_text).value_counts()\/(len(list_csv)-1)\n\n    dictionary[row[1].textID] = ' '.join(df_idf[df_idf > .7].index)\n    \n    count = count+1\n","469b0611":"df = pd.DataFrame.from_dict(dictionary, columns=['selected_text'], orient = 'index').reset_index()\n\ndf.columns = ['textID', 'selected_text']\n\ndf.head()","d89d1418":"df_sample = pd.read_csv(\"\/kaggle\/input\/tweet-sentiment-extraction\/sample_submission.csv\")","c661d713":"df_submission = pd.merge(df_sample,df, on = 'textID', how = 'left' )","2336cc14":"df_submission  = df_submission.fillna('')\ndf_submission['selected_text']= df_submission.selected_text_x + df_submission.selected_text_y\ndf_submission.head()","9452e75e":"df_submission[['textID', 'selected_text']].to_csv(\"submission.csv\", index = False)","97dde92e":"## Please do not use this for final submission Selection. This only contain Public Row prediction","d12477b9":"## Submission"}}