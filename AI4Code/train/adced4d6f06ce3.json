{"cell_type":{"a32c2d53":"code","8ddad1b7":"code","f1d65f01":"code","f98a3018":"code","53787fdd":"code","056b43a8":"code","cf1ae421":"code","8d2a23c5":"code","cb64dc08":"code","44bc50cd":"code","c74c75e2":"code","fef207b4":"code","f6031da3":"code","e71af3f4":"code","aacf1df7":"code","38f057fb":"code","e3347f65":"code","2604e0d3":"code","556cbccd":"code","3e3067bf":"code","aa036c7b":"code","96569df7":"code","b2181813":"code","905023d3":"code","61937f02":"code","b8760689":"code","22ddb95a":"code","dcec29a9":"code","e8084160":"code","317da106":"code","15211868":"code","1b6fd484":"code","2314e06e":"code","257d82c6":"code","eea892eb":"code","6ba4401b":"code","ee622308":"code","35677f9b":"markdown","8bbc43ff":"markdown","b6cc1f61":"markdown","ef51ac1a":"markdown","caa63766":"markdown","68ec2265":"markdown","617669b9":"markdown","70acc751":"markdown","9cba3cd6":"markdown","db08265e":"markdown","0c88a70c":"markdown","1ace3e3f":"markdown","6aa9afde":"markdown","7de4071c":"markdown","0cf81597":"markdown","d31ad276":"markdown","ec1d1fd3":"markdown","408f5d51":"markdown","b4099b05":"markdown","0e8cef1c":"markdown","d4d8f4dc":"markdown","315235a1":"markdown","2956539f":"markdown","93b89239":"markdown","093d0e77":"markdown","9c02664f":"markdown","eaf49f55":"markdown","1654a2cd":"markdown","1bfbbae6":"markdown","255736cf":"markdown","a63a49dc":"markdown","69286e57":"markdown"},"source":{"a32c2d53":"#import libraries\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline","8ddad1b7":"#load the dataset\ntrain=pd.read_csv('..\/input\/titanic\/train.csv')\ntest=pd.read_csv('..\/input\/titanic\/test.csv')","f1d65f01":"#take a look at the data\nprint('train shape is:',train.shape,'\\n','test shape is:',test.shape,'\\n\\n')\nprint('the features of data:\\n\\n',train.columns.values)\ntrain.head()\n","f98a3018":"#desciptive statistics\ntrain.describe()","53787fdd":"#for catigorical data\ntrain.describe(include=['O'])","056b43a8":"#count plot for sex column\nsns.countplot(x='Sex',data=train,palette='Blues');","cf1ae421":"#plot histogram for Age column\nplt.hist(train['Age']);\nplt.xlabel('Age')","8d2a23c5":"#plot the relationship between Sex and surviving\nsns.barplot(x='Sex',y='Survived',data=train);","cb64dc08":"#plot the relationship between Sex and AGE\nfig=plt.figure(figsize=(30,20))\nsns.barplot(x='Age',y='Survived',data=train);\nplt.xticks(rotation=90);","44bc50cd":"#count plot for Class column\nsns.countplot(x='Pclass',data=train,palette='Reds');","c74c75e2":"#plot the relationship between Pclass and survived columns\nsns.barplot(x='Pclass',y='Survived',data=train);","fef207b4":"#plot the relationship between Pclass,Sex and survived columns\nsns.barplot(x='Pclass',y='Survived',hue='Sex',data=train);","f6031da3":"#plot the relationship between Pclass and Fare\nsns.barplot(x='Pclass',y='Fare',data=train);","e71af3f4":"#plot the relationship between the surviving and Fare\nsns.barplot(x='Survived',y='Fare',data=train);","aacf1df7":"#missing data for Age column\ntrain['Age'].isnull().sum()","38f057fb":"train['Name'].unique()[:5]","e3347f65":"#Extract titles from Name (training data)\ntrain['Title']=0\ntrain['Title']=train['Name'].str.extract('([A-Za-z]+)\\.', expand=False)\ntrain.head()","2604e0d3":"#barplot between Age and Title features\nplt.figure(figsize=(15,5))\nsns.barplot(x='Title',y='Age',data=train);","556cbccd":"#replace Ms title with Miss to avoid some problems with missing data handling\ntrain['Title'] = train['Title'].replace('Ms', 'Miss')\ntrain['Title'].unique()","3e3067bf":"#find the mean of ages \nMEAN=train.groupby('Title')['Age'].mean()\nMEAN.head()","aa036c7b":"#Transform MEAN to dictionary\ndict_MEAN=MEAN.to_dict()\ndict_MEAN","96569df7":"#impute ages based on titles\nindx_null_age=train.loc[train['Age'].isnull()].index\ntrain.loc[indx_null_age,'Age']=train.loc[indx_null_age,'Title'].map(dict_MEAN)\ntrain.head()","b2181813":"#chack missing data again\ntrain['Age'].isnull().sum()","905023d3":"#plot Age and Survived fearures again to detect and select ageband from the graph\nplt.figure(figsize=(30,15))\nsns.barplot(x='Age',y='Survived',data=train)\nplt.xticks(rotation=90);","61937f02":"#create Ageband\ntrain['Age']=pd.cut(train['Age'],bins=[0,15,48,80],labels=['child','adult','elder'])\ntrain.head()","b8760689":"#count plot for Age column after this modification\nsns.countplot(x='Age',data=train,palette='Greens');","22ddb95a":"#plot the relationsip between Age and survived\nsns.barplot(x='Age',y='Survived',data=train);\n","dcec29a9":"#create new feature from SibSp and Parch features\ntrain['Family size']=train['SibSp']+train['Parch']\ntrain.head()","e8084160":"#plot the relationsip between Family size and survived\nsns.barplot(x='Family size',y='Survived',data=train);\n","317da106":"#create Isalone feature\ntrain['Isalone']=0\ntrain.loc[train['Family size']==1,'Isalone']=1\ntrain.head()","15211868":"#plot the relationsip between Isalone and survived\nsns.barplot(x='Isalone',y='Survived',data=train);\n","1b6fd484":"#missing data for Embarked column\ntrain['Embarked'].isnull().sum()","2314e06e":"#handel with missing data in Embarked feature \n#train['Embarked'].head()\ntrain['Embarked'].mode()[0]","257d82c6":"#fill nulls with most common value S\ntrain['Embarked']=train['Embarked'].fillna(train['Embarked'].mode()[0])","eea892eb":"#count plot for Embarked column\nsns.countplot(x='Embarked',data=train,palette='Oranges_r');","6ba4401b":"#plot the relationsip between Embarked and survived\nsns.barplot(x='Embarked',y='Survived',data=train);\n","ee622308":"grid = sns.FacetGrid(train,row='Embarked', size=2.2, aspect=1.6);\ngrid.map(sns.pointplot,'Pclass', 'Survived','Age',alpha=.5, ci=None);\ngrid.add_legend();","35677f9b":"#### Q2: Does the passenger's social level affect his survival or not?","8bbc43ff":"this is all I did in exploring Titanic data I hope it gaves you a little bit about exploring and yes I focused more on the geaphs because I think it is a very strong tool to show the relationships.","b6cc1f61":"lets see in a graph the surviving rate between children,adults and old passengers in each embarked and each class","ef51ac1a":"from the graph we understand that females are survived more than males in Titanic","caa63766":"#### Q1: Is there a relationship between age and sex to be survived and could the age and sex affect the probability of survival?\nso lets try to answer this question","68ec2265":"from this graph we notice the count of males and females among the passengers and as we can see the number of males are more than females","617669b9":"from the graph as we can see the most passengers were adults","70acc751":"according to the graph I will divide the Age to three bands in the range(0,15,48,80)","9cba3cd6":"from the graph we can see there is a very good relationship between Age and Title so we can use this relation to handle with missing data in Age column.","db08265e":"from the graph we could notice that the half of passengers were in the third class","0c88a70c":"#### the answer of question 2:\n- yes the passenger's social level affect his surviving.\n- the highest survival rate found in calass 1 then 2 and the lowest is in class 3.\n- the ticket fare also has a strong relationship with surviving ,as the fare increase the surviving rate increase too.","1ace3e3f":"the graph shows the highest survival rate is among first class passengers and the lowest is among the third class","6aa9afde":"##### missing data","7de4071c":"#### missing data","0cf81597":"Titanic data is very interesting data to explore specially for biginners in machine learning and data science .I hope this notebook is useful for you to understand and explore the data","d31ad276":"to answer this question we have to create new features","ec1d1fd3":"from this histogram we notice that there is a variance in age of passengers from children to old but the most passengers are adult between teenagers until 30 years old.","408f5d51":"to impute the missing data in Age columns we find it's relationshp with Name column","b4099b05":"the most survived passengers are from embarked C","0e8cef1c":"this graph shows the Port of Embarkation (C = Cherbourg, Q = Queenstown, S = Southampton). as we notice the most passengers embarkation is Southampton","d4d8f4dc":"lets explore the data and try to answer som questions","315235a1":"#### Q3: Does family size has an effect on survival rate?","2956539f":"### The end","93b89239":"#### lets explore Embarked column","093d0e77":"##### lets see the sex of passengers in each class with their survival rate","9c02664f":"### more explore and analysis for Age and Name","eaf49f55":"from these above graphs we notice that there is a strong relationship between Isalone and Surviving than with Family size so the passenger who is alone has more survival rate than the passenger with his family ","1654a2cd":"## Explore data","1bfbbae6":"from the graph we notice that we have three catigories of passengers  and survival rate is increase in children and elder passengers than the adults","255736cf":"#### The answer of question 1 is:\n\n- the number of males are more than number of females among the passengers\n- the age of passengers is varying between infant until old ,but the most passengers are adults.\n- females have survival rate more than males so there is a strong relationship between sex    and surviving.\n- the passengers devided into 3 catigoris depending on age (children,adults,olds)and the      survival rate is more high between children and elder passengers than adults,sothere is a     strong relationship between Age and surviving.","a63a49dc":"as we notice from the graph females have large survival rate in class one then class two and the lowest one in class three.\nwe notice the same in males.","69286e57":"# Exploratory data analysis of Titanic data"}}