{"cell_type":{"76c68805":"code","b9e4839c":"code","c52ddbd7":"code","ec378612":"code","4640d061":"code","4980498f":"code","9d2e56c2":"code","6f5991ad":"code","c5078dad":"code","3801e518":"code","1f0d76cb":"code","a73e1e38":"code","c35d00f2":"code","59e4d8f9":"code","408fc747":"markdown","59508072":"markdown","75143174":"markdown","f5ccf716":"markdown","0428ccda":"markdown","b33401d4":"markdown"},"source":{"76c68805":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport matplotlib.pyplot as plt #visualization\n%matplotlib inline\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport plotly.offline as py\nimport plotly.express as px\nimport seaborn as sns\n\nimport warnings\nwarnings.simplefilter(action='ignore', category=FutureWarning)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","b9e4839c":"nRowsRead = 1000 # specify 'None' if want to read whole file\ndf = pd.read_csv('..\/input\/cusersmarildownloadsvetcsv\/vet.csv', delimiter=';', encoding = \"ISO-8859-1\", nrows = nRowsRead)\ndf.dataframeName = 'vet.csv'\nnRow, nCol = df.shape\nprint(f'There are {nRow} rows and {nCol} columns')\ndf.head()","c52ddbd7":"df.isnull().sum()","ec378612":"#Code by Gabriel Preda\n\ndef plot_count(feature, title, df, size=1):\n    '''\n    Plot count of classes \/ feature\n    param: feature - the feature to analyze\n    param: title - title to add to the graph\n    param: df - dataframe from which we plot feature's classes distribution \n    param: size - default 1.\n    '''\n    f, ax = plt.subplots(1,1, figsize=(4*size,4))\n    total = float(len(df))\n    g = sns.countplot(df[feature], order = df[feature].value_counts().index[:30], palette='Pastel1')\n    g.set_title(\"Number and percentage of {}\".format(title))\n    if(size > 2):\n        plt.xticks(rotation=90, size=8)\n    for p in ax.patches:\n        height = p.get_height()\n        ax.text(p.get_x()+p.get_width()\/2.,\n                height + 3,\n                '{:1.2f}%'.format(100*height\/total),\n                ha=\"center\") \n    plt.show()","4640d061":"plot_count(\"cohort_years\", \"cohort_years\", df,2)","4980498f":"#Code by Seungbum Lim https:\/\/www.kaggle.com\/seungbumlim\/20-21-ml-ds-survey-pandas-filter-custom-function\n\nplt.figure(figsize = (8, 4))\nax = sns.countplot(data = df,\n                   x = 'agegrp',\n                   palette = 'Blues_r')\n\nax.bar_label(ax.containers[0])\nax.set_ylim(0, 4500)\nax.set_title('Age group', pad = 20)\n\nplt.show()","9d2e56c2":"#Code by Seungbum Lim https:\/\/www.kaggle.com\/seungbumlim\/20-21-ml-ds-survey-pandas-filter-custom-function\n\nplt.figure(figsize = (6, 4))\nax = sns.countplot(data = df,\n                   y = 'status_y10_earn',\n                   palette = 'Blues_r')\n\nax.bar_label(ax.containers[0])\n# ax.set_ylim(0, 17000)\nax.set_title('Status 10 years earnings', pad = 20)\n\nplt.show()","6f5991ad":"#Code by Seungbum Lim https:\/\/www.kaggle.com\/seungbumlim\/20-21-ml-ds-survey-pandas-filter-custom-function\n\nplt.figure(figsize = (6, 4))\nax = sns.countplot(data = df,\n                   y = 'status_y5_earn',\n                   palette = 'Reds_r')\n\nax.bar_label(ax.containers[0])\n# ax.set_ylim(0, 17000)\nax.set_title('Status 5 years earnings', pad = 20)\n\nplt.show()","c5078dad":"!pip install dataprep","3801e518":"! python -m pip install \"dask[dataframe]\" --upgrade  # or python -m pip install","1f0d76cb":"from dataprep.eda import plot, plot_correlation, create_report, plot_missing","a73e1e38":"plot(df)","c35d00f2":"plot(df, \"agegrp\")","59e4d8f9":"plot(df, \"y10_nonemp\")","408fc747":"<h1><span class=\"label label-default\" style=\"background-color:#2B3A67;border-radius:100px 100px; font-weight: bold; font-family:Garamond; font-size:20px; color:#DC143C; padding:10px\">Employment Coverage<\/span><\/h1><br>\n\n\n\"The LEHD data at the U.S. Census Bureau is a quarterly database of jobs covering over 96% of employment in the United States. The core jobs data is state unemployment insurance (UI) wage records collected via a voluntary federal-state data sharing partnership. These job records are then supplemented with Census Bureau surveys and other federal agency administrative records to supply additional information on the characteristics of workers and employers. This linked employer-employee data for the U.S. is the source data for Census Bureau's Quarterly Workforce Indicators (QWI), LEHD Origin-Destination Employment Statistics (LODES), and Job-to-Job Flows (J2J). More information about the LEHD data is available in Abowd et al. (2009).\"\n\nhttps:\/\/lehd.ces.census.gov\/data\/veo_experimental.html","59508072":"<h1><span class=\"label label-default\" style=\"background-color:#2B3A67;border-radius:100px 100px; font-weight: bold; font-family:Garamond; font-size:20px; color:#DC143C; padding:10px\">Earnings, and Employment Concepts<\/span><\/h1><br>\n\n\nEarnings\n\n\"Earnings are total annual earnings for attached workers from all jobs, converted to 2018 dollars using the CPI-U. For the annual earnings tabulations, we impose two labor force attachment restrictions. First, we drop veterans who earn less than the annual equivalent of full-time work at the prevailing federal minimum wage. Additionally, we drop veterans with two or more quarters with no earnings in the reference year. These workers are likely to be either marginally attached to the labor force or employed in non-covered employment.\"\n\nEmployment\n\n\"While most VEO tabulations include earnings from all jobs, tabulations by employer characteristics only consider the veteran's main job for that year. Main jobs are defined as the job for which veterans had the highest earnings in the reference year. To attach employer characteristics to that job, we assign industry and geography from the highest earnings quarter with that employer in the year. For multi-establishment firms, we use LEHD unit-to-worker imputations to assign workers to establishments, and then assign industry and geography.\"\n\nhttps:\/\/lehd.ces.census.gov\/data\/veo_experimental.html","75143174":"<center style=\"font-family:verdana;\"><h1 style=\"font-size:200%; padding: 10px; background: #2B3A67;\"><b style=\"color:#DC143C;\">Veterans Employment Outcomes (VEO)<\/b><\/h1><\/center>\n\n\n\"Veteran Employment Outcomes (VEO) are new experimental U.S. Census Bureau statistics on labor market outcomes for recently discharged Army veterans. These statistics are tabulated by military specialization, service characteristics, employer industry (if employed), and veteran demographics. They are generated by matching service member information with a national database of jobs, using state-of-the-art confidentiality protection mechanisms to protect the underlying data.\"\n\n\"The VEO are made possible through data sharing partnerships between the U.S. Army, State Labor Market Information offices, and the U.S. Census Bureau. VEO data are currently available at the state and national level.\"\n\nhttps:\/\/lehd.ces.census.gov\/data\/veo_experimental.html","f5ccf716":"#Feedback\n\nPlease send questions and comments to CES.Local.Employment.Dynamics@census.gov.\n\n#References\n\nJohn M. Abowd, Bryce E. Stephens, Lars Vilhuber, Fredrik Andersson, Kevin L. McKinney, Marc Roemer, and Simon Woodcock. The LEHD Infrastructure Files and the Creation of the Quarterly Workforce Indicators. In Producer Dynamics: New Evidence from Micro Data, NBER Chapters, pages 149-230. National Bureau of Economic Research, Inc., September 2009.\n\nFoote, Andrew David, Ashwin Machanavajjhala, and Kevin McKinney. 2019. Releasing Earnings Distributions Using Differential Privacy: Disclosure Avoidance System For Post-Secondary Employment Outcomes (PSEO). Journal of Privacy and Confidentiality 9 (2).\n\nhttps:\/\/lehd.ces.census.gov\/data\/veo_experimental.html","0428ccda":"![](https:\/\/encrypted-tbn0.gstatic.com\/images?q=tbn:ANd9GcS_baMsslBzvNtCQRhtTDTWw2xm7FyLS3ES4w&usqp=CAU)twitter.com","b33401d4":"<h1><span class=\"label label-default\" style=\"background-color:#2B3A67;border-radius:100px 100px; font-weight: bold; font-family:Garamond; font-size:20px; color:#DC143C; padding:10px\">VEO data<\/span><\/h1><br>\n\n\"Veteran Employment Outcomes (VEO) are experimental tabulations developed by the Longitudinal Employer-Household Dynamics (LEHD) program in collaboration with the U.S. Army and state agencies. VEO data provides earnings and employment outcomes for Army veterans by rank and military occupation, as well as veteran and employer characteristics. VEO are currently released as a research data product in \"experimental\" form.\n\n\"The VEO provide data on earnings and employment for recently discharged Army veterans. Earnings are available at the 25th, 50th, and 75th percentiles, one, five, and ten years after separation from active-duty service, by rank, occupation, and discharge cohort. Selected tables include industry and location of employment for veterans. These statistics are generated by matching veteran records with a national database of jobs.\"\n\n\"The VEO use cutting-edge differential privacy methods to protect the confidentiality of the underlying data, a protection method developed in computer science to bound the privacy risk to individuals from multiple queries to the same database. Differential privacy methods allow the Census Bureau to release detailed tabulations on veteran outcomes while minimizing the privacy risk to individuals in the data.\"\n\nhttps:\/\/lehd.ces.census.gov\/data\/veo_experimental.html"}}