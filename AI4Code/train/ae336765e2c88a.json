{"cell_type":{"6aac5c3c":"code","d49e27ea":"code","70d41129":"code","845426dc":"code","8ca097be":"code","bfc8358f":"code","ce5907af":"code","7dff50d8":"code","243b56dd":"code","b2671de4":"code","93876104":"code","25a70043":"code","b3245d72":"code","e34547dd":"code","a799eae2":"code","4596a329":"code","202ba2bc":"code","15236a89":"code","fbf1f6d9":"code","7724c3db":"code","788c0012":"code","21e5b14c":"code","2e69942c":"code","456a46e4":"code","6de3344a":"code","eafa1ef4":"code","e59bc187":"code","4d463ec9":"code","ed67c9a5":"code","e63d2b46":"code","03a6328d":"code","1d765bc0":"code","2336513b":"code","38616f02":"code","d85bff5a":"markdown","67b4d326":"markdown","02073db5":"markdown","40136c2d":"markdown","67cc236b":"markdown","ee20144c":"markdown","9473d876":"markdown","b72d83e0":"markdown","47813969":"markdown","7f887a2d":"markdown","8009639b":"markdown","7a10f0bb":"markdown","8c75b97c":"markdown","1083cc7c":"markdown","ede820be":"markdown","c1266f1e":"markdown","0588960b":"markdown","2807bf3c":"markdown","f741606b":"markdown","fd8d09a8":"markdown","f68e62dd":"markdown","c12f19cf":"markdown","bd82a7f5":"markdown","beb31fc6":"markdown","510a6051":"markdown"},"source":{"6aac5c3c":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom wordcloud import WordCloud\n\nimport os","d49e27ea":"books = pd.read_csv('..\/input\/books.csv', error_bad_lines=False, index_col='bookID')","70d41129":"books.head()","845426dc":"books.info()","8ca097be":"books[['average_rating', '# num_pages', 'ratings_count', 'text_reviews_count']].describe()","bfc8358f":"print('weighted(rating_count) mean ratings: ', np.average(a=books.average_rating, axis=0, weights=books.ratings_count))","ce5907af":"fg, ax = plt.subplots(1,2, figsize=(10,10))\n\nsns.boxplot(y=books['average_rating'], data=books, ax=ax[0], color='g')\nax[0].set_title('Average Rating')\n\nsns.boxplot(y=books['# num_pages'], data=books, ax=ax[1], color='r')\nax[1].set_title('Number of Pages')\n\nplt.show()","7dff50d8":"valid = books[(books['# num_pages'] > 0) & (books['# num_pages'] < 2000)]\nprint(len(valid)\/len(books)*100, '% books')","243b56dd":"fg, ax = plt.subplots(1,2, figsize=(10,10))\n\nsns.boxplot(y=valid['average_rating'], data=valid, ax=ax[0], color='g')\nax[0].set_title('Average Rating')\n\nsns.boxplot(y=valid['# num_pages'], data=valid, ax=ax[1], color='r')\nax[1].set_title('Number of Pages')\n\nplt.show()","b2671de4":"fg, ax = plt.subplots(1,2, figsize=(20,10))\n\nsns.distplot(valid['average_rating'], ax=ax[0], color='g')\nax[0].set_title('Average Rating')\n\nsns.distplot(valid['# num_pages'], ax=ax[1], color='r')\nax[1].set_title('Number of Pages')\n\nplt.show()","93876104":"plt.figure(figsize=(10,10))\nsns.kdeplot(valid.average_rating, valid['# num_pages'], cmap='Blues', shade=True, shade_lowest=True)\nplt.show()","25a70043":"correlation = books[['average_rating', '# num_pages', 'ratings_count', 'text_reviews_count']].corr()\nsns.heatmap(correlation, annot=True, vmax=1, vmin=-1, center=0)\nplt.show()","b3245d72":"books['language_code'].unique()","e34547dd":"lang_freq_table = pd.DataFrame(books.language_code.value_counts())\nlang_freq_table","a799eae2":"lang_freq_table.plot(kind='pie', subplots=True, figsize=(10,10))\nplt.show()","4596a329":"plt.figure(figsize=(20,10))\nsns.boxplot(y=books.average_rating, x=books.language_code)\nplt.show()","202ba2bc":"plt.figure(figsize=(20,10))\nsns.boxplot(y=valid['# num_pages'], x=valid.language_code)\nplt.show()","15236a89":"cons_lang = lang_freq_table[lang_freq_table['language_code']>10].index\nlang_wise = books[books['language_code'].isin(cons_lang)].groupby('language_code').median()\nlang_wise['book_count'] = lang_freq_table.loc[cons_lang]['language_code']","fbf1f6d9":"lang_wise[['book_count', 'average_rating', '# num_pages', 'ratings_count', 'text_reviews_count']]","7724c3db":"lang_wise.sort_values('average_rating', ascending=False, inplace=True)\nplt.figure(figsize=(20,10))\na = sns.barplot(x='average_rating', y=lang_wise.index, data=lang_wise, orient='h')\na.plot([3.96,3.96],[0, len(lang_wise)], linewidth=2)\nplt.show()","788c0012":"lang_wise.sort_values('# num_pages', ascending=False, inplace=True)\nplt.figure(figsize=(20,10))\na = sns.barplot(x='# num_pages', y=lang_wise.index, data=lang_wise, orient='h')\na.plot([301,301],[0, len(lang_wise)], linewidth=2)\nplt.show()","21e5b14c":"lang_wise.sort_values('ratings_count', ascending=False, inplace=True)\nplt.figure(figsize=(20,10))\na = sns.barplot(x='ratings_count', y=lang_wise.index, data=lang_wise, orient='h')\na.plot([630.5,630.5],[0, len(lang_wise)], linewidth=2)\nplt.show()","2e69942c":"lang_wise.sort_values('text_reviews_count', ascending=False, inplace=True)\nplt.figure(figsize=(20,10))\na = sns.barplot(x='text_reviews_count', y=lang_wise.index, data=lang_wise, orient='h')\na.plot([40,40],[0, len(lang_wise)], linewidth=2)\nplt.show()","456a46e4":"new_dict = {}\n\nfor lang in cons_lang:\n    df = books[books['language_code']==lang]\n    wgt_mean_rating = np.average(a=df.average_rating, axis=0, weights=df.ratings_count)\n    new_dict[lang] = wgt_mean_rating\nwgt_mean = pd.DataFrame.from_dict(new_dict, orient='index', columns=['wgt_mean_rating'])","6de3344a":"wgt_mean = wgt_mean.sort_values('wgt_mean_rating', ascending=False)\nwgt_mean","eafa1ef4":"plt.figure(figsize=(20,10))\na = sns.barplot(x='wgt_mean_rating', y=wgt_mean.index, data=wgt_mean, orient='h')\na.plot([4.024,4.024],[0, len(lang_wise)], linewidth=2)\nplt.show()","e59bc187":"text = ''.join(title for title in books.title)\nwc = WordCloud(max_font_size=70, max_words=100, background_color='white').generate(text)\nplt.figure(figsize=(16,10))\nplt.imshow(wc, interpolation='bilinear')\nplt.axis('off')\nplt.show()","4d463ec9":"text = ''.join(title for title in books.authors)\nwc = WordCloud(max_font_size=70, max_words=100, background_color='white').generate(text)\nplt.figure(figsize=(16,10))\nplt.imshow(wc, interpolation='bilinear')\nplt.axis('off')\nplt.show()","ed67c9a5":"auth_freq_table = pd.DataFrame(books.authors.value_counts())","e63d2b46":"cons_auth = auth_freq_table[auth_freq_table['authors']>0].index\nauthors_wise = books[books['authors'].isin(cons_auth)].groupby('authors').mean()\nauthors_wise['book_count'] = auth_freq_table.loc[cons_auth]['authors']","03a6328d":"authors_wise = authors_wise[['book_count', 'average_rating', '# num_pages', 'ratings_count', 'text_reviews_count']]","1d765bc0":"top_10_auth_book_count = authors_wise.sort_values(['book_count', 'average_rating'], ascending=False)[:12]\ntop_10_auth_book_count","2336513b":"top_10_authors = authors_wise[(authors_wise['book_count']>5) & (authors_wise['ratings_count'] > 1e5) ].sort_values(['average_rating', 'book_count', 'ratings_count', '# num_pages', 'text_reviews_count'], ascending=False)[:10]\ntop_10_authors","38616f02":"top_10_books = books[books['ratings_count']>1e5].sort_values(['average_rating', 'ratings_count', '# num_pages', 'text_reviews_count'], ascending=False)[:11]\ntop_10_books","d85bff5a":"We can see there is a high positive correlation between ratings_count and text_reviews_count.","67b4d326":"<b>Top 10 authors according to average rating of their books<\/b>\n<br>Only those authors are considered who has written more then 5 books and who has average rating count more than 100000.","02073db5":"There is huge range of number of pages. Outliers with more than 2000 pages are mostly collection of books from series of books.\n<br> Books with less than 2000 pages are <b>99.20%<\/b> of total books. Hence, It is still OK that, books with pages more than 2000 can be dropped for some the calculation.","40136c2d":"<b>Top 10 books according to average rating<\/b>\n<br>Only those books are considered who has average rating count more than 100000.","67cc236b":"More than 90% books are in English language or its variants.","ee20144c":"There books in total 30 different languages. There are books in 4 variants of english language like eng, en-US, en-GB, en-CA.","9473d876":"<b>zho, mul, jpn,<\/b> and <b>ita<\/b> has higher weighted mean rating than over weighted mean.","b72d83e0":"Since more than 80% books are in English language, overall variability estimaror (median) is highly influenced by variability estimator (median) of books in english language.","47813969":"Again, english books has much much more text reviews than any other language books.","7f887a2d":"Median of rating of all books (3.96) is similar to median of rating of books in english language.\n<br>Overall median of books (3.96) is shown as vertical line in the plot.","8009639b":"Median of number of pages of all books is shown as vertical line at 301 in the plot.\n<br><b>zho<\/b> language has books with fewer panges whereas <b>mul<\/b> language has books with more pages as compare to books in other languages.","7a10f0bb":"**Please add you comment on this kernel**\n<br>**If you like this kernel, then Do not forget to Vote.**","8c75b97c":"Books in written in <b>enm<\/b> language are significantly larger as compare to books in other languages. This may not be true in general since we have just 3 sample for <b>enm<\/b> language.\n<br>Books in <b>jpn<\/b> languages have very narrow distibution for number of pages even when er have 63 samples. That implies that books in <b>jpn<\/b> language have approximately similar number of pages.","1083cc7c":"Mean, min, max, standard deviation and distribution of numerical data.","ede820be":"Clearly english books has much much more rating counts than any other language books.","c1266f1e":"As i have aforementioned weighted mean is better variability estimator in this case.\n<br>Here is the language wise weighted mean ratings for books. Ratings count is used as a weight.","0588960b":"Types od Data:\n1. Continous Numeric - average_rating\n1. Descrete Numeric - # num_pages, ratings_count and text_reviews_count\n1. Categorical - authors, language_code\n1. Text - title","2807bf3c":"After removing outlier books with more than 2000 pages. Distribution of number of pages looks better.","f741606b":"Goodreads books dataset contains information about 13714 books.<br>\nInformation like, Book title, Book's author(s), average rating of book on Goodreads, ISBN, ISBN13, language of book, number of pages in book, number of rating for book and number of text review of book.","fd8d09a8":"Word cloud of books' titles","f68e62dd":"Languages which has more than 200 books very similar interquartile range for average rating.","c12f19cf":"Since many language has very few samples (less than 10), here is the language wise median of average rating, number of pages, ratings count and text review count for language which has more than 10 samples.","bd82a7f5":"* Rating with more rating count must have more weightage than same rating with lesser rating count. As rating count increases, distribution of rating on rating scale also increases. Hence, book with more rating count weights higher than book with lesser rating count with same rating.\n* Number of ratings for books can be used as weight for calculating weighted mean of average rating.\n* Weighted mean provides more realistic estimate.","beb31fc6":"<b>Top 10 authors according to number of books written by them<\/b>","510a6051":"Word cloud of authors name."}}