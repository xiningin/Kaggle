{"cell_type":{"fb73072f":"code","5700870c":"code","b34d3213":"code","394eeb33":"code","f7cc1b3e":"code","55476e6c":"code","1d11b422":"code","c8cf685f":"code","fb9680ff":"code","55f36d7d":"code","b6bfec47":"code","f8f54a36":"code","88e532ea":"code","b70c6fa8":"code","ce46d0f6":"code","c9cbc185":"code","050b111b":"code","84160129":"code","b3eda81f":"code","827f6e84":"code","d6ff8cad":"code","4918f8ee":"code","b1d02b33":"code","d10b7438":"code","b136ca20":"code","b12eec0b":"markdown","f60f5978":"markdown","f4f18717":"markdown","ff763fd7":"markdown","9a20f29e":"markdown","3b886a62":"markdown","a05f7809":"markdown","1ca1d792":"markdown","7fdb8ee5":"markdown","70b276d9":"markdown","c436bd79":"markdown","1aa65d20":"markdown","504c84b0":"markdown","e1be71ef":"markdown","e865655c":"markdown","efabe858":"markdown","10877a2f":"markdown","2283bbbf":"markdown","25e0912d":"markdown","6c6ddb68":"markdown","07ecd1e5":"markdown","78d2f929":"markdown","35f15e9a":"markdown","2a141c42":"markdown","3bf23157":"markdown","c3937706":"markdown","3330ca0b":"markdown","d334d571":"markdown","afd75e89":"markdown","f8a767f0":"markdown","e6b9b04a":"markdown"},"source":{"fb73072f":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np\nhbm = pd.read_csv(\"..\/input\/haberman.csv\")","5700870c":"# (Q) how many data-points and features?\n#get dimentions of the table\n#total number of rows and columns\nprint (hbm.shape)","b34d3213":"hbm = hbm.rename(columns = {\"30\" : \"Age\", \"64\" : \"Op_Year\", \"1\" : \"axil_nodes_det\", \"1.1\" : \"Surv_status\"})","394eeb33":"#(Q) What are the column names in our dataset?\nprint (hbm.columns)","f7cc1b3e":"#(Q) How many data points for each class are present? \nhbm[\"Surv_status\"].value_counts()","55476e6c":"#if you want to see initial some rows then use head command (default 5 rows)\nhbm.head()","1d11b422":"#if you want to see last few rows then use tail command (default last 5 rows will print)\nhbm.tail()","c8cf685f":"#slicing\nhbm[30:45]","fb9680ff":"# To know statistical summary of data which is very important\nhbm.describe()","55f36d7d":"hbm.Surv_status.value_counts(normalize=True)","b6bfec47":"\nhbm.plot(kind='scatter', x='Age', y='Op_Year');\nplt.grid()\nplt.show()\n\n#cannot make any sence out it.\n#what if we color the point by thier class_lebel\/Surv_status.","f8f54a36":"#2-D Scatter plot with color-coading for each Surv_status\/class.\nsns.set_style('whitegrid');\nsns.FacetGrid(hbm, hue='Surv_status',size= 4) \\\n   .map(plt.scatter, \"Age\", \"Op_Year\") \\\n   .add_legend();\nplt.title('2-D scatter plot for age and opration year')\nplt.show();\n\n#blue and orange data point cannot be easily seperated.\n#we can draw multiple 2-D scatter plot for each combination of features.","88e532ea":"#2-D scatter plot b\/w age and axil_nodes_det\nsns.set_style('whitegrid');\nsns.FacetGrid(hbm, hue='Surv_status',size= 4) \\\n   .map(plt.scatter, \"Age\", \"axil_nodes_det\") \\\n   .add_legend();\nplt.title('2-D scatter plot for age and axillary nodes detected')\nplt.show();","b70c6fa8":"#Only possible to view 2D patterns.\nplt.close();\nsns.set_style('darkgrid');\nsns.pairplot(hbm, hue=\"Surv_status\",vars = [\"Age\", \"Op_Year\", \"axil_nodes_det\"], size = 3);\nplt.suptitle(\"pair plot of age, operation_year and axillary_node\")\nplt.show()\n\n# NOTE: the diagnol elements are PDFs for each feature. PDFs are expalined below.","ce46d0f6":"import numpy as np\nhbm_1 = hbm.loc[hbm[\"Surv_status\"] == 1];\nhbm_2 = hbm.loc[hbm[\"Surv_status\"] == 2];\nplt.plot(hbm_1[\"Age\"], np.zeros_like(hbm_1['Op_Year']), 'o')\nplt.plot(hbm_2[\"Age\"], np.zeros_like(hbm_2['Op_Year']), 'o')\nplt.show()","c9cbc185":"import warnings\nwarnings.filterwarnings('ignore')","050b111b":"# Let's split our dataframe inti two dataframes\nyes_hbm = hbm[hbm.Surv_status == 1] \nno_hbm = hbm[hbm.Surv_status == 2]","84160129":"for data in [yes_hbm,no_hbm]:\n    for column in hbm.columns[:-1]:\n        sns.FacetGrid(data,hue=\"Surv_status\", size = 4).map(sns.distplot,column).add_legend()\n        plt.ylabel(\"Density\")\n        plt.title(\"Histogram of \" + column)\n        plt.show()\n        print(\"*\"*75)","b3eda81f":"for column in hbm.columns[:-1]:\n    sns.FacetGrid(hbm, hue=\"Surv_status\", size=4).map(sns.distplot,column).add_legend()\n    plt.ylabel(\"Density\")\n    plt.title(\"Histogram of \"+ column)\n    plt.show()\n    print(\"*\"*75)","827f6e84":"for column in hbm.columns[:-1]:\n    counts, bins_edges = np.histogram(hbm[column],bins=10,density=True)\n    pdf = counts\/sum(counts)\n    cdf = np.cumsum(pdf)\n    print(counts)\n    print(\"PDF and CDF of \",column,\" variable.\")\n    print(\"PDF: \",pdf)\n    print(\"Bins_Edges: \",bins_edges)\n    plt.plot(bins_edges[1:],pdf,'b-', label = 'pdf')\n    plt.plot(bins_edges[1:],cdf,'r-', label='cdf')\n    plt.legend()\n    plt.show()\n    print(\"*\"*75)","d6ff8cad":"for data in [yes_hbm,no_hbm]:\n    for column in hbm.columns[:-1]:\n        counts, bins_edges = np.histogram(data[column],bins=10,density=True)\n        pdf = counts\/sum(counts)\n        cdf = np.cumsum(pdf)\n        print(\"PDF and CDF of \",column,\" variable In DataFrame:\",data.Surv_status.iloc[0],\"_DF\")\n        print(\"PDF: \",pdf)\n        print(\"Bins_Edges: \",bins_edges)\n        plt.plot(bins_edges[1:],pdf,'b-', label='pdf')\n        plt.plot(bins_edges[1:],cdf,'r-', label='cdf')\n        plt.legend()\n        plt.show()\n        print(\"*\"*75)","4918f8ee":"from statsmodels import robust\nfor column in hbm.columns[:-1]:\n    print(\"*\"*75)\n    print(column,\" variable : \")\n    print(\"\\nMedian :- \")\n    print(np.median(hbm[column]))\n    print(\"\\nQuantiles :- \")\n    print(np.percentile(hbm[column],np.arange(0,100,25)))\n    print(\"\\nMedian Absolute Deviation :-\")\n    print(robust.mad(hbm[column]))","b1d02b33":"# Box-plot with whiskers: another method of visualizing the  1-D scatter plot more intuitivey.\n# The Concept of median, percentile, quantile.\nfig, axes = plt.subplots(1,3,figsize=(10,5))#sharey='all')\nfor idx, feature in enumerate(list(hbm.columns)[:-1]):\n    sns.boxplot(x='Surv_status', y=feature, data=hbm, ax=axes[idx])\nplt.show()","d10b7438":"# A violin plot combines the benefits of the previous two plots and simplifies them\n\n# Denser regions of the data are fatter, and sparser ones thinner in a violin plot\nfig, axes = plt.subplots(1, 3, figsize=(15, 5))\nfor idx, feature in enumerate(list(hbm.columns)[:-1]):\n    sns.violinplot(x=\"Surv_status\", y=feature, data=hbm, ax=axes[idx], kind='kde')\nplt.show()","b136ca20":"#2D Density plot, contors-plot\nfig, axes = plt.subplots(1, 3, figsize=(5, 5))\nfor idx, feature in enumerate(list(hbm.columns)[:-1]):\n    sns.jointplot(x=feature, y=\"axil_nodes_det\", data=hbm_1, kind='kde');\n    plt.plot();","b12eec0b":"# Observations","f60f5978":"# Observation :","f4f18717":"# Median, Percentile, Quantile, IQR, MAD ","ff763fd7":"To know number of data-points for each class.\nAs it is not balanced dataset, it is imbalanced dataset because the number of data-points for both of the class are significantly different.\n we will see how to handle imbalanced data later\n","9a20f29e":"Number of Instances: 306\n\nNumber of Attributes: 4 (including the class attribute)\n\nAttribute Information:\n\n1. Age of patient at time of operation (numerical)\n2. Patient's year of operation (year - 1900, numerical)\n3. Number of positive axillary nodes detected (numerical)\n4. Survival status (class attribute):\n        1 = the patient survived 5 years or longer\n        2 = the patient died within 5 year\n   Missing Attribute Values: None","3b886a62":"## Observation :","a05f7809":"# Multivariate probability density, contour plot","1ca1d792":"# Haberman's Survival Data","7fdb8ee5":"# 2-D Scatter Plot","70b276d9":"1. As we are unable to classify which is the most useful feature because of too much overlapping. But, Somehow we can say, In operation_year, 60-65 more person died who has less than 6 axillary_lymph_node.\n2. And hence, this plot is not much informative in this case.","c436bd79":"# Box plot and Whiskers","1aa65d20":"Relevant Information: The dataset contains cases from a study that was conducted between 1958 and 1970 at the University of Chicago's Billings Hospital on the survival of patients who had undergone surgery for breast cancer.","504c84b0":"## 1 - Univariate analysis on Two separated dataframes","e1be71ef":"1. Using Age and Op_Year features, we cannot seperated Surv_status.\n2. Seperating Survival status (class attribute) 1(the patient survived 5 years) from 2(the patient died within 5 year) is much harder as they have considerable overlap.","e865655c":"## 2 - Univariate analysis on the whole data set","efabe858":"### Observation","10877a2f":"1. Patients who survived have lower no. of auxilary nodes compared patoents who din't survive.\n\n2. Out of all 3 features, axil_nodes is most important.\n\n3. Most no. of surgeries were performed between 1960 - 64.\n\n4. Most of the patients who had undergone surgery were aged between 42-60 years.\n\n5. People with auxilary nodes less than 5 had higher chances of survival.\n\n6. People with ages less than 40 had 90% chances of survival.","2283bbbf":"1. The number of positive lymph nodes of the survivors is highly densed from 0 to 5.\n2. Almost 80% of the patients have less than or equal to 5 positive lymph nodea.\n3. The patients treated after 1966 have the slighlty higher chance to surive that the rest. The patients treated before 1959 have the slighlty lower chance to surive that the rest.","25e0912d":"## Univariate PDFs\/CDFs on the yes\/no datasets(split in two data sets)","6c6ddb68":"# Histogram, PDF, CDF","07ecd1e5":"### Observation :","78d2f929":"### Attribute Information","35f15e9a":"# Pair-plot","2a141c42":"# Conclusions","3bf23157":"Downlaod haberman.csv from ''' https:\/\/www.kaggle.com\/gilsousa\/habermans-survival-data-set '''\nLoad haberman.csv into a pandas dataFrame.","c3937706":"### Univariate PDFs\/CDFs on the whole Data set ","3330ca0b":"1. In the above 2d scatter plot class label(i.e. a person died or survived) is not linearly seprable.\n2. 0-5 axillary notes detected person survived and died as well but the died ratio is less than survive ratio.","d334d571":"### 1-D Scatter Plot","afd75e89":"# Violin plots","f8a767f0":"## Data Description","e6b9b04a":"1. The age of the patients vary from 30 to 83 with the median of 52.\n2. The number of detected nodes vary from 0 to 52 (probably an outlier) with the median of 1 and mean of 4.\n3. 75% of data points have less than 5 detected axilary nodes and nearly 25% have no detected nodes.\n4. The target column is unbalanced with 73% Yes(1) and 26% No(2)."}}