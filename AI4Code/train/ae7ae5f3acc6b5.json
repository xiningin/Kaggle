{"cell_type":{"768224e1":"code","bb504e35":"code","00333c34":"code","e0ef3b65":"code","ee6c1df1":"code","dc05f296":"code","a84d812d":"code","782af35a":"code","93cc6775":"code","1f797884":"code","5a6ca799":"code","9f334c31":"code","d96e1c8b":"code","112d0b27":"code","34ff03a0":"code","3d4cf95c":"code","b4923fa1":"code","e7b1bdf5":"code","59366be4":"code","6b4e5203":"code","f309a1fb":"code","33bf1995":"code","a1c1ca23":"code","41b514e0":"code","cfe3bbdf":"code","b9e0475b":"code","c0e417fb":"code","de840f3b":"code","f568525e":"code","db8a43dd":"code","080f8870":"code","68c1a79b":"code","97a6e2c9":"code","8aa5d87a":"code","545da271":"code","e71bdd6e":"code","90f04e7a":"code","4ad3f4c3":"code","926eaba6":"code","1f0e5187":"code","251aab93":"code","aa1b2f55":"code","8970e4b9":"code","b714a5d1":"markdown"},"source":{"768224e1":"import pandas as pd\nimport numpy as np\nimport random as rnd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.model_selection import cross_val_score","bb504e35":"train=pd.read_csv('..\/input\/titanic\/train.csv')\ntest=pd.read_csv('..\/input\/titanic\/test.csv')","00333c34":"print(\"dimensions of train: {}\".format(train.shape))\nprint(\"dimensions of test: {}\".format(test.shape))","e0ef3b65":"train.describe()","ee6c1df1":"train.head()","dc05f296":"train.describe(include=['O'])","a84d812d":"train.columns","782af35a":"train['Survived'].value_counts()","93cc6775":"sns.countplot(train['Survived'])","1f797884":"cols=['Pclass', 'Sex', 'Age', 'SibSp','Fare', 'Embarked']\nn_rows=2\nn_cols=3\nfig,axs=plt.subplots(n_rows,n_cols,figsize=(n_rows*7,n_cols*3))\nfor r in range(0,n_rows):\n    for c in range(0,n_cols):\n        \n        i=r*n_cols+c\n        ax=axs[r][c]\n        sns.countplot(train[cols[i]],hue=train['Survived'],ax=ax)\n        ax.set_title(cols[i])\n        ax.legend(title='Survived',loc='upper right')\nplt.tight_layout()","5a6ca799":"data=train.drop(['Ticket','Cabin','PassengerId'],axis=1)\ndata.head()","9f334c31":"title=set()\nfor name in train[\"Name\"]:\n    title.add(name.split(\",\")[1].split(\".\")[0].strip())\nprint(title) ","d96e1c8b":"titles={'Sir':\"officer\",'Mme':\"normald\",'Mr':\"norm\",'Master':\"normald\",'Don':\"officer\",'Miss':\"normald\",'Lady':\"normald\",'Mlle':\"normald\",'Col':\"officer\",'Ms':\"normald\",'the Countess':\"royal\",'Mrs':\"normald\",'Major':\"officer\",'Capt':\"officer\",'Dr':\"officer\",'Rev':\"officer\",'Jonkheer':\"royal\"}","112d0b27":"data[\"Name\"]=data[\"Name\"].map(lambda name:name.split(\",\")[1].split(\".\")[0].strip())\ndata[\"Name\"]=data.Name.map(titles)\ndata.head(10)","34ff03a0":"data.dtypes","3d4cf95c":"data.Sex=data.Sex.map({'female':0,'male':1})\ndata.Embarked=data.Embarked.map({'S':0,'Q':1,'C':2})\ndata.Name=data.Name.map({\"royal\":0,\"normald\":1,\"officer\":2,\"norm\":3})\ndata.head()","b4923fa1":"data.isnull().sum()","e7b1bdf5":"data.dropna(inplace=True)","59366be4":"data.Age.mean()","6b4e5203":"data.Age.fillna(data.Age.mean(),inplace=True)","f309a1fb":"data.head()","33bf1995":"data[\"Age\"]=round((data.Age.mean()\/data.Age.std()))\ndata[\"Fare\"]=round((data.Fare.mean()\/data.Fare.std()))","a1c1ca23":"data.describe()","41b514e0":"x_train,x_test,y_train,y_test=train_test_split(\n    data.drop([\"Survived\"],axis=1),\n    data.Survived,\n    test_size=0.2,\n    random_state=0,\n    stratify=data.Survived\n)","cfe3bbdf":"lr=LogisticRegression()\nlr.fit(x_train,y_train)\n\nY_pred=lr.predict(x_test)\naccuracy_score(y_test,Y_pred)","b9e0475b":"test.head()","c0e417fb":"df=test.drop(['Ticket','Cabin','PassengerId'],axis=1)","de840f3b":"title=set()\nfor name in train[\"Name\"]:\n    title.add(name.split(\",\")[1].split(\".\")[0].strip())\nprint(title) ","f568525e":"titles={'Sir':\"officer\",'Mme':\"normald\",'Mr':\"norm\",'Master':\"normald\",'Don':\"officer\",'Miss':\"normald\",'Lady':\"normald\",'Mlle':\"normald\",'Lady':\"normald\",'Mlle':\"normald\",'Col':\"officer\",'Ms':\"normald\",'the Countess':\"royal\",'Mrs':\"normald\",'Major':\"officer\",'Capt':\"officer\",'Dr':\"officer\",'Rev':\"officer\",'Jonkheer':\"royal\"}","db8a43dd":"df[\"Name\"]=df[\"Name\"].map(lambda name:name.split(\",\")[1].split(\".\")[0].strip())\ndf[\"Name\"]=df.Name.map(titles)\ndf.head(10)","080f8870":"df.Sex=df.Sex.map({'female':0,'male':1})\ndf.Embarked=df.Embarked.map({'S':0,'Q':1,'C':2})\ndf.Name=df.Name.map({\"royal\":0,\"normald\":1,\"officer\":2,\"norm\":3})\ndf.head()","68c1a79b":"df.isnull().sum()","97a6e2c9":"df.Age.fillna(df.Age.mean(),inplace=True)","8aa5d87a":"df[\"Fare\"]=df[\"Fare\"].fillna(df[\"Fare\"].mean())","545da271":"df.Name.fillna(df.Name.mean(),inplace=True)","e71bdd6e":"df.isnull().sum()","90f04e7a":"df[\"Age\"]=round((df.Age.mean()\/df.Age.std()))\ndf[\"Fare\"]=round((df.Fare.mean()\/df.Fare.std()))","4ad3f4c3":"df.head()","926eaba6":"pred=lr.predict(df)","1f0e5187":"pred","251aab93":"submission=pd.DataFrame({\n    \"PassengerId\":test[\"PassengerId\"],\n    \"Survived\":pred\n    })\nsubmission.to_csv(\"submission_titanic.csv\",index=False)","aa1b2f55":"pred_df=pd.read_csv(\"submission_titanic.csv\")","8970e4b9":"sns.countplot(x=\"Survived\",data=pred_df)","b714a5d1":"# Test data set"}}