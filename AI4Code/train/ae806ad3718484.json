{"cell_type":{"444ac020":"code","b6740e14":"code","86c76fca":"code","7e822521":"code","1130a93e":"code","6168beef":"code","312f7672":"code","3edf8f4c":"code","2dbc6df6":"code","9004b5b8":"code","53690a84":"code","f99b571f":"code","46c3a6ce":"markdown","ffd1a6b1":"markdown","bb8ed7be":"markdown","ad842cd5":"markdown","c5431f0f":"markdown","b5a6d355":"markdown","6749e636":"markdown","6e4ab153":"markdown","aaa30425":"markdown","81c61999":"markdown"},"source":{"444ac020":"#let's import all the needed libraries for the analysis\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy.stats import ttest_ind","b6740e14":"#upload grossery website data\ngrossery_web_data_orig = pd.read_csv('..\/input\/grocery-website-data-for-ab-test\/grocerywebsiteabtestdata.csv')\ngrossery_web_data_orig.head()","86c76fca":"#grouping to make one row per IP address\ngrossery_web_data = grossery_web_data_orig.groupby(['IP Address', 'LoggedInFlag', 'ServerID'])['VisitPageFlag'].sum().reset_index(name='sum_VisitPageFlag')","7e822521":"#checking if there is IP address with more than 1 visit\ngrossery_web_data['visitFlag'] = grossery_web_data['sum_VisitPageFlag'].apply(lambda x: 1 if x !=0 else 0)\ngrossery_web_data.head()","1130a93e":"#creating groups for control and treatment\ngrossery_web_data['group'] = grossery_web_data.ServerID.map({1:'Treatment', 2:'Control', 3:'Control'})","6168beef":"grossery_web_data.dtypes","312f7672":"#removing all records where the LoggedInFlag=1, so it filters out all the users with accounts\ngrossery_web_data = grossery_web_data[grossery_web_data['LoggedInFlag'] != 1]\ngrossery_web_data","3edf8f4c":"treatment = grossery_web_data[grossery_web_data['group']=='Treatment']\ncontrol = grossery_web_data[grossery_web_data['group']=='Control']\n\nttest_ind(treatment['visitFlag'], control['visitFlag'], equal_var = False)","2dbc6df6":"#let's calculate the differences in means\ngrossery_web_data_diff_mean = grossery_web_data.groupby(['group', 'visitFlag'])['group'].count().reset_index(name='Count')\ngrossery_web_data_diff_mean","9004b5b8":"grossery_web_data.groupby('group').visitFlag.mean()","53690a84":"#crosstab by groups\ngroupped = pd.crosstab(grossery_web_data_diff_mean['group'], grossery_web_data_diff_mean['visitFlag'], values=grossery_web_data_diff_mean['Count'], aggfunc=np.sum, margins=True)\ngroupped","f99b571f":"#Percentage row\n100*groupped.div(groupped['All'], axis=0)","46c3a6ce":"### **Website of the grossery store chain**","ffd1a6b1":"Looking at the result of p-value seems like it's unlikely that means are the same.\n\nSo next let's count number of visits grouped by treatment or control group and see if they clicked on a link.","bb8ed7be":"\n**In this use case I am working as an analyst for a large grossery chain. One of the goals our company has, it's to drive more customers to download our mobile app and register for the loyalty program.**\n\n*My manager is curious if changing link to a button of the app store will improve the click through rate for our download app page.*\n\n![link to button for downloading the app](https:\/\/i.imgur.com\/RXxvVpY.png)","ad842cd5":"### Data preparation\n\nServer 1 will contain the data for our treatment group and servers 2 and 3 for the control group. So data will be divided as 33% and 67%.\n\nLoggedInFlag (shows if user has profile on our website) and VisitPageFlag (shows if user clicked on our dowlnoad app link).","c5431f0f":"In the Control group percentage of users that clicked on the link is ~19% and in the treatment group ~23%, so 4% jump.\n\n**The result of our AB test shows that the company can drive approximately 4% more users to click on the app download if they change the link for the App store \/ Play store button.**","b5a6d355":"<img src=\"https:\/\/i.imgur.com\/PPBlwBa.png\" width=\"300px\">","6749e636":"**To find the answer I will perform a randomized experiment.**\n\nOur unit of diversion in this experiment is IP address. \nThe population we're targeting - Website visitors without an account. \nThe duration of the test - 1 week. \nThe size of our treatment and control groups - 1\/3 of the treatment units and 2\/3 of control units.\n\n*Let's try to figure out if the customer clicked or not on the download app button on the home page.*","6e4ab153":"*For this dataset I decided to apply my knowledge of A\/B tests and learn how to design an experiment for a product and analyse the results to draw some insights and reccomendations.*","aaa30425":"It would be nice to see the percent differences.","81c61999":"### Analyzing the result"}}