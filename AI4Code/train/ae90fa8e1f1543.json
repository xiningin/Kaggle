{"cell_type":{"1356fe53":"code","ab2a9b6c":"code","a75154cb":"code","bd679a80":"code","46968baf":"code","7034fb75":"code","ed60463a":"code","f443acbf":"code","f088a172":"code","b36ff65e":"code","d3269ab2":"code","1ed0b3dc":"code","bc82e263":"code","1ad2011a":"code","b55823c5":"code","2ce474f7":"code","12c570da":"code","210bb34f":"code","6a239185":"code","8ad7669a":"code","4dc8d6cd":"code","e627bc46":"code","1257e94b":"code","8a4143c8":"code","13494c47":"code","99567181":"code","181b0ab1":"code","be971734":"code","b9ef830a":"code","5bc2cce0":"code","4646742e":"code","1158d1f3":"code","df67c96f":"code","80b03fe4":"code","6b5fbecb":"code","d3ed3539":"code","bef658ac":"code","3f7bbb6f":"code","bb4b5bd4":"markdown","56983767":"markdown","112d232b":"markdown","c0f46918":"markdown","603f19ae":"markdown","7c43b072":"markdown","91a990f2":"markdown","ba992ffa":"markdown","6c502897":"markdown","6730f3af":"markdown","9bc3dcb0":"markdown","a2bcdc19":"markdown","d1896cab":"markdown","361b6ca3":"markdown","f693f992":"markdown","0193becf":"markdown","b3c473ae":"markdown","93a854f1":"markdown","0647b4a8":"markdown","572b95d7":"markdown","c14bfc04":"markdown","12dcbf70":"markdown","6251424c":"markdown","8b823366":"markdown","af66acd9":"markdown","b20eb909":"markdown","54a8a5e4":"markdown","639b0fa2":"markdown","97767600":"markdown","71c67db6":"markdown","894791a4":"markdown","0031fe59":"markdown","f148ba40":"markdown","df9edd72":"markdown"},"source":{"1356fe53":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nimport glob\nimport datetime as dt\npath = '..\/input\/fitbit\/Fitabase Data 4.12.16-5.12.16'\n\nfilenames =  os.listdir(path)\nprint(filenames)\n\nfor filename in filenames:\n    globals()[filename.split('.')[0]] = pd.read_csv(f\"{path}\/{filename}\") \n    print(filename.split('.')[0])\n    #globals() function allows us to name the dataframes with the filenames. \n    #I used split() to not include .csv part in the filename","ab2a9b6c":"print(len(hourlySteps_merged))\nprint(len(hourlyCalories_merged))\nprint(len(dailyCalories_merged))\nprint(len(dailySteps_merged))\nprint(len(sleepDay_merged))\nprint(len(heartrate_seconds_merged))","a75154cb":"#Let's checkout the dataframes\nhourlySteps_merged.head(3),hourlyCalories_merged.head(3),dailySteps_merged.head(3), dailyActivity_merged.head(3)","bd679a80":"#Merging Daily Data\ndailyStuff = pd.merge(dailyActivity_merged, dailyCalories_merged, left_on = [\"Id\",\"ActivityDate\"],\n                  right_on = [\"Id\",\"ActivityDay\"])\ndailyStuff = pd.merge(dailyStuff,dailyIntensities_merged, on = [\"Id\",\"ActivityDay\"])\ndailyStuff = pd.merge(dailyStuff,dailySteps_merged, on = [\"Id\",\"ActivityDay\"])\n\n#Making Activity Day datetime and getting only the date part to merge with sleep data (now this column is not datetime)\ndailyStuff['ActivityDay'] = pd.to_datetime(dailyStuff['ActivityDay']).dt.date\n\n#making sleepday's SleepDay column datetime and getting only the date\n#Since, everydays sleep time is 12.00 AM, We dont have much use of that data (now this column is not datetime)\nsleepDay_merged['SleepDay']= pd.to_datetime(sleepDay_merged['SleepDay']).dt.date\n\n#creating a new dataframe  with sleepdata - this dataframe have less rows than dailyStuff dataframe\ndailyStuff_with_Sleep = pd.merge(dailyStuff,sleepDay_merged, how = 'right',left_on = [\"Id\",\"ActivityDay\"],\n                                  right_on = [\"Id\",\"SleepDay\"])\n\ndailyStuff.head(4),dailyStuff_with_Sleep.head(4)","46968baf":"#Let's remove these columns because they are redundant and we don't need em.\ndailyStuff.drop(['ActivityDate','Calories_y','SedentaryMinutes_y','LightlyActiveMinutes_y','SedentaryActiveDistance_y',\n                 'FairlyActiveMinutes_y','VeryActiveMinutes_y','LightActiveDistance_y','ModeratelyActiveDistance_y',\n                'VeryActiveDistance_y','StepTotal'],inplace = True,axis = 1)\ndailyStuff_with_Sleep.drop(['ActivityDate','SleepDay','Calories_y','SedentaryMinutes_y','LightlyActiveMinutes_y',\n                            'SedentaryActiveDistance_y','FairlyActiveMinutes_y','VeryActiveMinutes_y',\n                            'LightActiveDistance_y','ModeratelyActiveDistance_y', 'VeryActiveDistance_y',\n                            'StepTotal'],inplace = True,axis = 1)\n\n#and now lets rename some columns\ndailyStuff.rename(columns = {'Calories_x':'Calories','SedentaryMinutes_x':'SedentaryMinutes',\n                            'LightlyActiveMinutes_x':'LightlyActiveMinutes','FairlyActiveMinutes_x':'FairlyActiveMinutes',\n                            'VeryActiveMinutes_x':'VeryActiveMinutes','SedentaryMinutes_x':'SedentaryMinutes',\n                            'LightActiveDistance_x':'LightActiveDistance','ModeratelyActiveDistance_x':'ModeratelyActiveDistance',\n                            'VeryActiveDistance_x':'VeryActiveDistance','SedentaryActiveDistance_x':'SedentaryActiveDistance'},inplace = True)\ndailyStuff_with_Sleep.rename(columns = {'Calories_x':'Calories','SedentaryMinutes_x':'SedentaryMinutes',\n                            'LightlyActiveMinutes_x':'LightlyActiveMinutes','FairlyActiveMinutes_x':'FairlyActiveMinutes',\n                            'VeryActiveMinutes_x':'VeryActiveMinutes','SedentaryMinutes_x':'SedentaryMinutes',\n                            'LightActiveDistance_x':'LightActiveDistance','ModeratelyActiveDistance_x':'ModeratelyActiveDistance',\n                            'VeryActiveDistance_x':'VeryActiveDistance','SedentaryActiveDistance_x':'SedentaryActiveDistance'},inplace = True)","7034fb75":"dailyStuff.head()","ed60463a":"#Merging Hourly Data\nhourlyStuff = pd.merge(hourlyCalories_merged,hourlyIntensities_merged,on = [\"Id\",\"ActivityHour\"])\nhourlyStuff = pd.merge(hourlyStuff,hourlySteps_merged,on = [\"Id\",\"ActivityHour\"])\n\n#creating a new column with hour of the day because it might be useful in the future\nhourlyStuff['Hour'] = pd.to_datetime(hourlyStuff['ActivityHour']).dt.hour\nhourlyStuff.head(4)","f443acbf":"dailyStuff.info()\ndailyStuff_with_Sleep.info()","f088a172":"dailyStuff['ActivityDay'] = pd.to_datetime(dailyStuff['ActivityDay'])\ndailyStuff['Day'] = dailyStuff['ActivityDay'].dt.day_name()\ndailyStuff_with_Sleep['ActivityDay'] = pd.to_datetime(dailyStuff_with_Sleep['ActivityDay'])\ndailyStuff_with_Sleep['Day'] = dailyStuff_with_Sleep['ActivityDay'].dt.day_name()\ndailyStuff['Id'] = dailyStuff['Id'].astype('string')\ndailyStuff_with_Sleep['Id'] = dailyStuff_with_Sleep['Id'].astype('string')\n#now its perfect","b36ff65e":"dailyStuff.head()","d3269ab2":"#Let's see about hourly Data\nhourlyStuff.info()","1ed0b3dc":"\nhourlyStuff['Hour'] = hourlyStuff['Hour'].astype('category') #categorical\nhourlyStuff['Id'] = hourlyStuff['Id'].astype('string')\n#now its perfect","bc82e263":"hourlyStuff.head(4)","1ad2011a":"#Checking  how many Participants are in our datasets\nprint(dailyStuff[\"Id\"].nunique())\nprint(dailyStuff_with_Sleep[\"Id\"].nunique())\nprint(hourlyStuff[\"Id\"].nunique())","b55823c5":"#Checking if there are any missing values in our dataframes\nprint(dailyStuff_with_Sleep.isnull().values.any()) #gives us true or false, df.isnull().values.sum() = gives us number of missing values\nprint(dailyStuff.isnull().values.any())\nprint(hourlyStuff.isnull().values.any())","2ce474f7":"from  matplotlib import pyplot as plt\nimport seaborn as sns","12c570da":"#Looking at daily average statistics\ndailyStuff[['TotalSteps','TotalDistance','Calories','SedentaryMinutes']].mean()","210bb34f":"#Average Sleep Statistics\nprint(dailyStuff_with_Sleep[['TotalMinutesAsleep','TotalTimeInBed']].mean())\nprint(\"Ratio Between Average Sleep time and Average Total time in bed: \"+\n     str(dailyStuff_with_Sleep['TotalMinutesAsleep'].mean()\/dailyStuff_with_Sleep['TotalTimeInBed'].mean()))","6a239185":"#Let's visualize average values of Types of Active Minutes\ndailyActivityMean = dailyStuff.agg(\n{'SedentaryMinutes': ['mean'],'LightlyActiveMinutes': ['mean'],\n 'FairlyActiveMinutes': ['mean'],'VeryActiveMinutes': ['mean']}).reset_index()\nplt.figure(figsize = (15,5))\nplt1 = sns.barplot(data = dailyActivityMean)\nplt1.set_xticklabels(plt1.get_xticklabels(), rotation=45)\nplt1.set(xlabel='Level of Activeness', ylabel='Minutes',title = 'Average Activity Comparison')\ndailyActivityMean","8ad7669a":"#Let's visualize average distances travelled with Active Levels\n#Sedentary Active Distance dont make any sense because you can you cant walk while being sedentary\n#So, We'll drop it\ndailyStuff.drop(['SedentaryActiveDistance'],inplace = True,axis = 1)\ndailyStuff_with_Sleep.drop(['SedentaryActiveDistance'],inplace = True,axis = 1)\ndailyDistanceMean = dailyStuff.agg(\n{'LightActiveDistance': ['mean'],\n 'ModeratelyActiveDistance': ['mean'],'VeryActiveDistance': ['mean']}).reset_index()\nplt.figure(figsize = (15,5))\nplt1 = sns.barplot(data = dailyDistanceMean)\nplt1.set_xticklabels(plt1.get_xticklabels(), rotation=45)\nplt1.set(xlabel='Level of Activeness', ylabel='Minutes',title = 'Average Travelled Distance Comparison')\ndailyActivityMean","4dc8d6cd":"#Lets visualize How long users are active (Minutes) according to the day of the week.\n#Getting total Active minutes (we don't need sedenatary because it's not really active)\ndailyStuff['TotalActiveMinutes'] = dailyStuff[['LightlyActiveMinutes',\n 'FairlyActiveMinutes','VeryActiveMinutes']].sum(axis = 1)\nTotalActivitybyDay =  dailyStuff.groupby(['Day']).agg({'TotalActiveMinutes':'mean'}).reset_index()\ndf_mapping = pd.DataFrame({\n    'Day': ['Monday', 'Tuesday', 'Wednesday', 'Thursday','Friday','Saturday','Sunday']})\nsort_mapping = df_mapping.reset_index().set_index('Day')\nTotalActivitybyDay['DayNum'] = TotalActivitybyDay['Day'].map(sort_mapping['index'])\nTotalActivitybyDay.sort_values(['DayNum'],inplace =True)\nplt.figure(figsize = (15,5))\nplt1 = sns.barplot(data = TotalActivitybyDay,x = \"Day\",y = \"TotalActiveMinutes\")\nplt1.set_xticklabels(plt1.get_xticklabels(), rotation=45)\nplt1.set(xlabel='Day of the Week', ylabel='Minutes',title = 'Average Total Active Minutes Vs Days of the week')\n\nTotalActivitybyDay","e627bc46":"#Comprehensive Days of the Week vs Active Sedentary Minutes\nActiveMinutesTypesbyDay = dailyStuff.groupby(['Day']).agg({\n    'SedentaryMinutes':'mean','LightlyActiveMinutes':'mean',\n    'FairlyActiveMinutes':'mean','VeryActiveMinutes':'mean'}).reset_index()\nActiveMinutesTypesbyDay['DayNum'] = ActiveMinutesTypesbyDay['Day'].map(sort_mapping['index'])\nActiveMinutesTypesbyDay.sort_values(['DayNum'],inplace =True)\nActiveMinutesTypesbyDay.drop('DayNum',inplace = True,axis = 1)\n\nActiveMinutesTypesbyDay\n","1257e94b":"melted_ActiveMinutesTypesbyDay = ActiveMinutesTypesbyDay.melt('Day',var_name = 'ActivityLevel',value_name = 'Minutes')\nmelted_ActiveMinutesTypesbyDay","8a4143c8":"#Plotting\nplt.figure(figsize = (15,5))\nplt1 = sns.barplot(data = melted_ActiveMinutesTypesbyDay,x = 'Day',y = 'Minutes',hue = 'ActivityLevel')\nplt1.set_xticklabels(plt1.get_xticklabels(), rotation=45)\nplt1.set(xlabel='Day of the Week', ylabel='Minutes',title = 'Activity Level Vs Days of the week')\nplt.show()\n","13494c47":"#Comprehensive Days of the Week vs Active Sedentary Minutes\nDistanceTravelledTypesbyDay = dailyStuff.groupby(['Day']).agg({\n    'LightActiveDistance':'mean','ModeratelyActiveDistance':'mean',\n    'VeryActiveDistance':'mean'}).reset_index()\nDistanceTravelledTypesbyDay['DayNum'] = ActiveMinutesTypesbyDay['Day'].map(sort_mapping['index'])\nDistanceTravelledTypesbyDay.sort_values(['DayNum'],inplace =True)\nDistanceTravelledTypesbyDay.drop('DayNum',inplace = True,axis = 1)\n\nDistanceTravelledTypesbyDay","99567181":"#Melting the dataset\nmelted_DistanceTravelledTypesbyDay = DistanceTravelledTypesbyDay.melt('Day',var_name = 'DistanceType',value_name = 'Distance')\nmelted_DistanceTravelledTypesbyDay","181b0ab1":"#Plotting the dataset\nplt.figure(figsize = (15,5))\nplt1 = sns.barplot(data = melted_DistanceTravelledTypesbyDay,x = 'Day',y = 'Distance',hue = 'DistanceType')\nplt1.set_xticklabels(plt1.get_xticklabels(), rotation=45)\nplt1.set(xlabel='Day of the Week', ylabel='Distance',title = 'Distance Type Vs Days of the week')\nplt.show()","be971734":"#Lets also draw a best fitting line \/ curve through the plot using Linear Regression\nfrom sklearn.linear_model import LinearRegression \nfrom sklearn.preprocessing import PolynomialFeatures\npoly_reg = PolynomialFeatures(degree =5)\n\nlin_reg = LinearRegression()\nx = dailyStuff['TotalDistance'].values.reshape(-1,1)\ny =dailyStuff['TotalActiveMinutes'].values.reshape(-1,1)\nX_poly = poly_reg.fit_transform(x)\nlin_reg.fit(X_poly,dailyStuff['TotalActiveMinutes'])\npred = lin_reg.predict(X_poly)\n\nx_grid = np.arange(min(x),max(x),0.01)\n\nplt.figure(figsize = (7,7))\nplt.scatter(data = dailyStuff,x = 'TotalDistance',y = 'TotalActiveMinutes',color = 'darkblue')\nplt.plot(x_grid ,lin_reg.predict(poly_reg.fit_transform(x_grid.reshape(-1,1))), color = 'red')\nplt.xlabel(\"Total Distance\")\nplt.ylabel(\"Total Active Minutes\")\nplt.title(\"Total Active Minutes vs Total Distance Travelled\")\nplt.show()","b9ef830a":"#Lets also draw a best fitting line \/ curve through the plot using Linear Regression\npoly_reg = PolynomialFeatures(degree =3)\nx = dailyStuff['TotalActiveMinutes'].values.reshape(-1,1)\ny =dailyStuff['Calories'].values.reshape(-1,1)\nX_poly = poly_reg.fit_transform(x)\nlin_reg = LinearRegression()\n\nlin_reg.fit(X_poly,y)\npred = lin_reg.predict(X_poly)\n\nx_grid = np.arange(min(x),max(x),0.01)\n\nplt.figure(figsize = (7,7))\nplt.scatter(data = dailyStuff,x = 'TotalActiveMinutes',y = 'Calories',color = 'green')\nplt.plot(x_grid ,lin_reg.predict(poly_reg.fit_transform(x_grid.reshape(-1,1))), color = 'yellow')\nplt.xlabel(\"Total Active Minutes\")\nplt.ylabel(\"Daily Calories Burned\")\nplt.title(\"Daily Calories Burned vs Total Active Minutes\")\nplt.show()","5bc2cce0":"poly_reg = PolynomialFeatures(degree =1)\nx = dailyStuff_with_Sleep['TotalMinutesAsleep'].values.reshape(-1,1)\ny =dailyStuff_with_Sleep['Calories'].values.reshape(-1,1)\nX_poly = poly_reg.fit_transform(x)\nlin_reg = LinearRegression()\n\nlin_reg.fit(X_poly,y)\npred = lin_reg.predict(X_poly)\n\nx_grid = np.arange(min(x),max(x),0.01)\n\nplt.figure(figsize = (7,7))\nplt.scatter(data = dailyStuff_with_Sleep,x = 'TotalMinutesAsleep',y = 'Calories',\n            color = 'olive')\nplt.plot(x_grid ,lin_reg.predict(poly_reg.fit_transform(x_grid.reshape(-1,1))),\n         color = 'darkorange')\nplt.xlabel(\"Total Sleep Received (Minutes)\")\nplt.ylabel(\"Daily Calories Burned\")\nplt.title(\"Total Sleep Received (Minutes) vs Calories Burned\")\nplt.show()","4646742e":"poly_reg = PolynomialFeatures(degree =2)\nx = dailyStuff_with_Sleep['TotalMinutesAsleep'].values.reshape(-1,1)\ny =dailyStuff_with_Sleep['SedentaryMinutes'].values.reshape(-1,1)\nX_poly = poly_reg.fit_transform(x)\nlin_reg = LinearRegression()\n\nlin_reg.fit(X_poly,y)\npred = lin_reg.predict(X_poly)\n\nx_grid = np.arange(min(x),max(x),0.01)\n\nplt.figure(figsize = (7,7))\nplt.scatter(data = dailyStuff_with_Sleep,x = 'TotalMinutesAsleep',\n            y = 'SedentaryMinutes',color = 'blueviolet')\nplt.plot(x_grid ,lin_reg.predict(poly_reg.fit_transform(x_grid.reshape(-1,1))), color = 'gold')\nplt.xlabel(\"Total Sleep Received (Minutes)\")\nplt.ylabel(\"Sedentary Minutes\")\nplt.title(\"Total Sleep Received (Minutes) vs Sedentary Minutes\")\nplt.show()","1158d1f3":"#Looking at Hourly average statistics\nhourlyStuff[['Calories','TotalIntensity','StepTotal']].mean()","df67c96f":"hourlyCalories = hourlyStuff.groupby(['Hour']).agg({'Calories':'mean'}).reset_index()\n\nplt.figure(figsize = (10,3))\nhC = sns.barplot(data = hourlyCalories,x = 'Hour',y = 'Calories')\nhC.set(xlabel='Hour of the Day', ylabel='Calories',title = 'Hour of the Day Vs Calories Burned')\nplt.show()\n#hourlyCalories","80b03fe4":"hourlySteps = hourlyStuff.groupby(['Hour']).agg({'StepTotal':'mean'}).reset_index()\n\nplt.figure(figsize = (10,3))\nhC = sns.barplot(data = hourlySteps,x = 'Hour',y = 'StepTotal')\nhC.set(xlabel='Hour of the Day', ylabel='Amount of Steps',\n       title = 'Hour of the Day Vs Amount of Steps Taken')\nplt.show()\n#hourlySteps","6b5fbecb":"hourlyIntensity = hourlyStuff.groupby(['Hour']).agg({'TotalIntensity':'mean'}).reset_index()\n\nplt.figure(figsize = (10,3))\nhC = sns.barplot(data = hourlyIntensity,x = 'Hour',y = 'TotalIntensity')\nhC.set(xlabel='Hour of the Day', ylabel='Hourly Intensity',\n       title = 'Hour of the Day Vs Intensity')\nplt.show()\n#hourlyIntensity","d3ed3539":"#Choosing promising variables from the dailyStuff Dataset\ndailyStuff_filtered = dailyStuff[['TotalSteps','TotalDistance','VeryActiveDistance','ModeratelyActiveDistance',\n                                 'LightActiveDistance','VeryActiveMinutes','FairlyActiveMinutes','LightlyActiveMinutes',\n                                 'SedentaryMinutes','TotalActiveMinutes','Calories']]\ndailyStuff_filtered.head(4)","bef658ac":"# split into input (X) and output (Y) variables\nX = dailyStuff_filtered.iloc[:,:-1] #first 10 variables \ny = dailyStuff_filtered.iloc[:,-1] #Calory Data\n\n# Splitting the dataset into the Training set and Test set\nfrom sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.2, random_state = 0)#20% test size\n\n\n#Getting Polynomials from variables\nfrom sklearn.preprocessing import PolynomialFeatures\npoly_reg = PolynomialFeatures(degree =2)\nX_poly = poly_reg.fit_transform(X_train)\n\n#Fitting the data to LinearRegressionModel\nfrom sklearn.linear_model import LinearRegression\nregressor = LinearRegression()\nregressor.fit(X_poly,y_train)\n\n#Prediction\ny_pred = regressor.predict(poly_reg.fit_transform(X_test))\n\n#Measuring Accuracy with Mean Squared Error\nfrom sklearn.metrics import mean_squared_error \nprint(\"Mean Squared Error is: \" + str(mean_squared_error(y_test,y_pred)))","3f7bbb6f":"\nnewdf = dailyStuff_filtered[['TotalSteps','TotalDistance','VeryActiveDistance',\n                                 'LightActiveDistance','VeryActiveMinutes','LightlyActiveMinutes',\n                                 'SedentaryMinutes','Calories']]\nX = newdf.iloc[:,:-1]\ny = newdf.iloc[:,-1]\n\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.2, random_state = 0)#20% test size\n\npoly_reg = PolynomialFeatures(degree =2)\nX_poly = poly_reg.fit_transform(X_train)\nregressor = LinearRegression()\nregressor.fit(X_poly,y_train)\n\ny_pred= regressor.predict(poly_reg.fit_transform(X_test))\n\nmean_squared_error(y_test,y_pred)\n\nprint(\"NEW Mean Squared Error is: \" + str(mean_squared_error(y_test,y_pred)))","bb4b5bd4":"<a id=\"cleaning-dataset\"><\/a>  \n## Cleaning and Processing\n\n##### Let's take a look at the datasets to get a better idea.","56983767":"Now it looks good lol  \n\n<a id=\"hourly\"><\/a>  \n##### Hourly data","112d232b":"We can observe a correlation between Daily Calories Burned and Total active Minutes. Obviously, THere will be a minimum amount of calories burned even if there is no active minutes. There are some incorrect data (where daily calories burned are zero) in our dataset. That data are incorrect because there it is impossible to not burn calories throughout the day. This maybe due to the user not wearing the fitness band throughout the day.\n\n**It is kind of obvious that there is a postive correlation between Total steps taken and Total Distance travelled** So, We won't be looking at that data","c0f46918":"**Let's findout the Average calories burned throughout the day by Hour**","603f19ae":"#### We can use SQL queries to join and format datasets as well. Below is how i created the dailyStuff dataset.\n###### SQL queries to join the Daily Stuff\n**select** * **from** fitbit.dailyActivity **as** da  \n**FULL JOIN** fitbit.dailyCalories **as** dc  \n**on** da.Id = dc.Id and da.ActivityDate  = dc.ActivityDay  \n**FULL JOIN** fitbit.dailyIntensities as di  \n**on** da.Id = di.id and dc.ActivityDay = di.ActivityDay  \n**FULL JOIN** fitbit.dailySteps **as** ds  \n**on** da.Id = ds.id and dc.ActivityDay = ds.ActivityDay  \n**ORDER BY** da.ActivityDate   ","7c43b072":"**Another interesting thing is the relationship between Total Calories burned and the Amount of sleep user received. Let's Look into that right now.**","91a990f2":"But, I used Pandas to do the same thing because it integrates more and easier in this scenario.","ba992ffa":"<a id=\"daily1\"><\/a>  \n#### Daily Data","6c502897":"We will only be using daily, hourly, and sleep datasets in this analysis. ","6730f3af":"We can see that their is a correlation between Total Active Minutes and Total Distance Travelled. Since the Fitbit fitness tracker collects Location (**GPS**) data, We can explain the outliers with Stationary exercising such as running on a trademill, stationary bike.. etc.  And this is not exactly a linear relationship. Which is to be expected with  this kind of data.\n\n  **Now, Let's visualise the relationship between Calories Burned and Total Active Minutes**","9bc3dcb0":"<a id=\"predict\"><\/a>  \n## Predicting Daily Caloric with Polynomial Linear Regression","a2bcdc19":"Let's find out more about our datasets using info() function. This will give us information about data types of each column and we can adjust them if we need to","d1896cab":"Unsuprisingly, during the night time, amount of steps taken is really low. Most amount of steps are taken during the day.  \n  \n  **Let's do the same thing for the Total Intensity**","361b6ca3":"We can see that most of the calories are burned during the day time.  \n  \n  **Now Let's See Amount of Steps taken (Average) throughout the day by Hour**","f693f992":"We can see that users have a consistant Activity Type Durations throughout the week.  \n  \n**Now Let's Do the Same for Distance**","0193becf":"<a id=\"insights\"><\/a> \n### Insights  \n* Clear positive correlation between activity and calories burned\n* Less sleep causes users to be less productive. So improving\n* Users are more likely to be active during the day time (duh...)\n* Cannot find a relationship between sleep duration and amount of calories burned\n* Longer a user is active, more likely for them to travel more (walk, run, etc..)\n* Activity level, Amount of activity is don't change much with differant days of the week (slightly higher on saturdays)\n* When travelling, users are most likely to be lightly active followed by very active, lastly moderately active  \n\n<a id=\"recommend\"><\/a> \n### Recommendations  \n* If bellabeat users want to reduce sedentary time, recommend them to improve their sleeping (sleep longer)\n* Recommend users who work sedentary jobs to exercise regularly\n* Collect more data from the bellabeat users (with their permission) for better analysis\n* Show bellabest users the benefits of increasing amount of steps taken. According to [CDC](https:\/\/www.cdc.gov\/diabetes\/prevention\/pdf\/postcurriculum_session8.pdf), more than 10000 steps per day reduces the risk of injuries, and reduces mortality in general.\n* Suggest users recommended caloric intake based on their activity levels and their needs (lose weight, gain weight, etc.)  \n  \n  # Thank you!!!!!","b3c473ae":"##### Hooray! we don't have any missing values! We can proceed with the analysis!\n<a id=\"EDA\"><\/a>  \n## Exploratory Data Analysis\n","93a854f1":"We can see that in Average Users are Asleep for 91% of the total time in Bed","0647b4a8":"Hourly dataframes are pretty consistant and we can merge them by Id and ActivityHour. But there is inconsistency in the naming scheme of daily activity and other daily dataframes (ActivityDay = ActivityDate). So, we will get some redundent rows while merging. But we can remove them later so no worries.","572b95d7":"We can see that Dailystuff and hourlystuff data sets have 33 participants,  and daily with sleep have 24 participants","c14bfc04":"We can see that most data types assigned are correct. We will have to convert ActivityDay to a datetime type as well. And the other thing that concerns little bit is the User Id data type which is set to numeric. Since we used data collected from 33 differant users, we can set them to categorical type as well. But, Since we are not analyzing individuals' activities we can leave it as it is or convert to string type. We'll do the latter.","12dcbf70":"Suprisingly, the is no  visible correlation between Amount of Sleep and Calories Burned. But, we can see that most users are getting 300-600 minutes (5-10 hours) of sleep daily.  \n  \n  **Let's see if users are going to be more likely to be sedentary if they don't get enough sleep or not**","6251424c":"# Bellabeat Fitness Tracker Exploratory and Predictive Data Analysis with Python   \n  \n  ## Table of Contents  \n* [Introduction](#introduction)\n* [Cleaning and Processing](#cleaning-dataset)\n   - [Daily data](#daily)\n   - [Hourly data](#hourly)\n* [Exploratory Data Analysis](#EDA)\n    - [Daily data](#daily1)\n    - [Hourly data](#hourly1)\n* [Predicting Daily Caloric with Polynomial Linear Regression](#predict)\n* [Insights](#insights)\n* [Recommendations](#recommend)\n\n\n\n\n\n<a id=\"introduction\"><\/a>  \n## Introduction\n\n### Task\n   **Learn about how people use smart fitness devices to identify opportunities for Bellabeat in the smart fitness world**  \n     \n### Questions  \n1. What are some trends in smart device usage?\n2. How could these trends apply to Bellabeat customers?\n3. How could these trends help influence Bellabeat marketing strategy?\n\n## Prepare  \nWe used data from [Fitbit Fitness trackers](https:\/\/www.kaggle.com\/arashnic\/fitbit) collected from consenting fitbit users. This includes heart rate data, activity data, caloric intake data, and sleep monitoring data. This dataset [ROCCCs.](https:\/\/www.coursera.org\/learn\/data-preparation\/lecture\/lHirM\/what-is-bad-data)\n  \n  \n### Importing the dataset","8b823366":"We can see that there is a negative correlation between Amount of Sleep Received and Sedentary Minutes. Users are more likely to be Sedentary for a long time if they dont get enough sleep. ","af66acd9":"In order to plot correctly, We need to melt the dataset with respect to the Day column. This is sort of like converting Wide Table to Long Table","b20eb909":"Total steps amount is slightly less than the amount recommended by [CDC](https:\/\/www.cdc.gov\/diabetes\/prevention\/pdf\/postcurriculum_session8.pdf) which is 8000 Steps. According to [Healthline](https:\/\/www.healthline.com\/nutrition\/how-many-calories-per-day), Average caloric expenditure of females is 2100 calories and for males its 2600. In this dataset, gender of users is not available. So, mean value of 2300 is acceptable","54a8a5e4":"We can see that Activity hour, Id, Hour are in the wrong format. I can convert it to string type. I will need to convert Activity Hour to datetime. Even though technically Hour column is also datetime, it's more useful in the categorical format for us. You'll see why later.","639b0fa2":"<a id=\"hourly1\"><\/a>  \n#### Hourly Data","97767600":"We can see that there are no significant differences in active minutes by days of the week.","71c67db6":"Even for Distance, We can see that users have a consistant Distance Type Distances throughout the week.  \n  \n  **Now, Let's visualise the relationship between Distance Travelled and Total Active Minutes**","894791a4":"I already checked out other files and there are 940 rows in daily dataframes (sleepDay_merged has 413) and 22099 rows in hourly dataframes. Heartrate dataframe has 2483658 rows and we will use that later. So we can merge hourly dataframes together to create one dataframe and daily dataframes together to create a daily dataframe. But, I will create a special dataframe for daily analysis with sleep data, it will have less rows than the normal daily dataframe. ","0031fe59":"#### Merging datasets to create hourly and daily datasets for Easy Analysis.   \n  <a id=\"daily\"><\/a>  \n  ##### Daily data","f148ba40":"Then I optimized the model to improve prediction accuracy by removing some variables from the dataset.","df9edd72":"We can see that users are mostly lightly active when travelling."}}