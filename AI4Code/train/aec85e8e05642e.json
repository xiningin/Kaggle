{"cell_type":{"5679d9b3":"code","3d11aa18":"code","0d2893c0":"code","eecf1206":"code","24f383e0":"code","195bd072":"code","970aa5ee":"code","5eca35f3":"code","c5279b12":"code","4a8546ee":"code","705c600d":"code","5280ae14":"code","96b81f49":"code","2594caf3":"code","3ab3bf18":"code","a461330d":"code","1a9add63":"code","111ba788":"code","1965938b":"code","e81ef193":"code","7a400f4c":"code","d9e2a1a6":"code","af86540c":"code","2044d717":"code","31fe98c3":"code","1485747c":"code","8def7c90":"code","f6a4a9c6":"code","7993e69d":"code","f7d7d7ab":"code","21b19f4b":"code","962ef2f4":"code","b1c0eec0":"code","4b92718c":"code","a07a08db":"code","feaf0f8e":"code","dd60b529":"code","436ed8c7":"code","ebb9dd41":"code","a53c0b89":"markdown","6fc79aba":"markdown","2b3ad8c3":"markdown","4ba6b4d3":"markdown","2ea63cb1":"markdown","22bcb785":"markdown","dc177ce6":"markdown","2fe11e1c":"markdown","960a3540":"markdown","da61d736":"markdown","2685fde8":"markdown"},"source":{"5679d9b3":"import pandas as pd\nimport numpy as np\nimport category_encoders as ce\nfrom sklearn.linear_model import LinearRegression,Ridge\nfrom sklearn.model_selection import train_test_split,RepeatedKFold,GridSearchCV\nfrom sklearn.metrics import mean_squared_error,mean_absolute_error,r2_score\nfrom sklearn.tree import DecisionTreeRegressor\nfrom sklearn.ensemble import RandomForestRegressor\nimport pandas_profiling as pp","3d11aa18":"df = pd.read_csv(\"..\/input\/retail-prices-of-commodities-in-india\/Monthly_Food_Retail_Prices.csv\")","0d2893c0":"df","eecf1206":"pp.ProfileReport(df)","24f383e0":"for i in df.columns:\n    print(\"Column Nam\",i,\"\\n\",df[i].value_counts())","195bd072":"df.isnull().sum()","970aa5ee":"df.describe()","5eca35f3":"df[\"Commodity\"].fillna(\"Not Available\",inplace=True)\ndf[\"Variety\"].fillna(\"FAQ\",inplace = True)","c5279b12":"df.isnull().sum()","4a8546ee":"df[\"State\"].value_counts()","705c600d":"def one_hot_encoding(df,col):\n    one_hot_encoder=ce.OneHotEncoder(cols=col,return_df=True,use_cat_names=True)\n    df_final = one_hot_encoder.fit_transform(df)\n    return df_final","5280ae14":"df = one_hot_encoding(df,\"State\")\ndf = one_hot_encoding(df,\"Centre\")\ndf = one_hot_encoding(df,\"Commodity\")\ndf = one_hot_encoding(df,\"Variety\")\ndf = one_hot_encoding(df,\"Unit\")","96b81f49":"df","2594caf3":"df[[\"Month\",\"Year\"]] = df['Date'].str.split('-',n=1,expand=True)","3ab3bf18":"def split_Date(val):\n    mon={'JAN':1, 'FEB':2, 'MAR':3, 'APR':4, 'MAY':5, 'JUN':6, 'JUL':7, 'AUG':8, 'SEP':9,'OCT':10, 'NOV':11, 'DEC':12}\n    return mon[val]","a461330d":"df[\"Month\"] = df[\"Month\"].apply(split_Date)","1a9add63":"df","111ba788":"columns_to_be_removed = [\"Category\",\"Date\"]","1965938b":"df.drop(columns_to_be_removed,axis = 1,inplace= True)","e81ef193":"df_test = df[df[\"Retail Price\"].isnull()==True]\n","7a400f4c":"df_train = df.dropna()\ndf_train","d9e2a1a6":"X_train = df_train.drop(\"Retail Price\",axis = 1)\nX_test = df_test.drop(\"Retail Price\",axis = 1)\nY_train = df_train[\"Retail Price\"]","af86540c":"lr = LinearRegression()","2044d717":"lr.fit(X_train,Y_train)","31fe98c3":"Y_pred = lr.predict(X_test)","1485747c":"df_test[\"Retail Price\"] = Y_pred","8def7c90":"df_test","f6a4a9c6":"df_final = pd.concat([df_train,df_test],axis = 0)","7993e69d":"df_final = df_final.reset_index(drop=True)","f7d7d7ab":"df_final","21b19f4b":"X = df_final.drop(\"Retail Price\",axis = 1)\nY = df_final[\"Retail Price\"]","962ef2f4":"X_train,X_test,Y_train,Y_test = train_test_split(X,Y,random_state=27,test_size = 0.25)","b1c0eec0":"lr = LinearRegression()","4b92718c":"lr.fit(X_train,Y_train)","a07a08db":"ridge = Ridge(alpha=1.0)\nridge.fit(X_train, Y_train)","feaf0f8e":"Y_pred_lr = lr.predict(X_test)","dd60b529":"r2_score(Y_pred_lr,Y_test)","436ed8c7":"Y_pred_ridge = ridge.predict(X_test)","ebb9dd41":"r2_score(Y_pred_ridge,Y_test)","a53c0b89":"# Predicting the Retail Prices","6fc79aba":"# One Hot encoding","2b3ad8c3":"# Importing Data","4ba6b4d3":"# Evaluation Metrics","2ea63cb1":"# Training Models","22bcb785":"# Analysing Data","dc177ce6":"# Thank You \ud83e\udd17\n### I hope you had a good time reading my notebook. Pls do support and comment! \ud83d\ude0e","2fe11e1c":"# Data Overview","960a3540":"# Importing Packages","da61d736":"# Data Transformation","2685fde8":"<center><h1 class=\"list-group-item list-group-item-success\">Retail Prices Of Commodities In India<\/center>\n<img src = \"https:\/\/encrypted-tbn0.gstatic.com\/images?q=tbn:ANd9GcSQGblZ3lAcUjYRXf1BlooEem7PeNM4UHUS-w&usqp=CAU\" style = \"width:30%\">\n    <h3>Context<\/h3>\n<p>In the light of the recent surge in prices of petrol, prices of several day-to-day commodities have increased (or are expected to increase in the future). Let us take a deep dive into the historical price variation of different commodities in India.<\/p>\n\n<h3>Content<\/h3>\n    \n<p>The dataset contains information about retail prices of commodities like fruits, vegetables, clothes, etc. The data captures weekly as well as monthly prices across different states and important\/major districts\/market centers.<p>\n\nThe commodities have generalized categories and do not contain brand information. \n\n<li>\nState: Indian state. Example: Maharashtra, Madhya Pradesh, Rajasthan, etc.\n<\/li>\n<li>Center: Market center. Example: Mumbai, Pune, Bangalore, etc.<\/li>\n<li>\nCommodity: Name of the commodity. Example: Fish, Apple, Dhoti, Saree, Ghee,\netc.\n<\/li>\n<li>\nVariety: Subtype of the commodity. Example: Type of apple is Delicious medium\nsize.\n<\/li>\n<li>Unit: Measurement unit. Example: Kg, Litre, Dozens, etc.<\/li>\n<li>Category: Food or Non Food<\/li>\n<li>\nDate: For weekly, it is a weekly date and for monthly it is a monthly date.\n<\/li>\n<li>Retail price: Retail price of the commodity in rupees.<\/li>\n<br>\n    \n<h3>Contents:<\/h3>\n<font size = 3.5 color = \"blue\">\n<li>Importing Packages<\/li>\n<li>Importing Data<\/li>\n<li>Analysing Data<\/li>\n<li>Data Overview<\/li>\n<li>One Hot encoding<\/li>\n<li>Data Transformation<\/li>\n<li>Predicting the Retail Prices<\/li>\n<li>Training Models<\/li>\n<li>Evaluation Metrics<\/li>"}}