{"cell_type":{"21cb50ea":"code","b00e7755":"code","07b25192":"code","4e94ed39":"markdown","94e6b219":"markdown"},"source":{"21cb50ea":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport missingno as msno\nfrom yarl import URL\nsns.set_style('whitegrid')\n","b00e7755":"df = pd.read_csv('..\/input\/companies-info-wikipedia-2021\/sparql_2021-11-03_22-25-45Z.csv')\n\n#mnso.matrix(df) - checking for any missing data with missingno \n\ndef process_location(text):\n    if ':\/\/' in text:\n        url= URL(text)\n        path_tail= url.path.split('\/')[-1]\n        return path_tail\n    else:\n        return text\n\ndf = df.drop_duplicates(subset='name').reset_index() # dropping duplicates in 'name' column\ndf = df.drop(['a','type','index'],axis=1).reset_index() # dropping other columns with useless data\ndf = df[~df['foundation'].str.contains('[A-Za-z]', na=False)] # filtering 'foundation' col of text\ndf = df.drop([140,214,220]) \ndf['sector'] = df['sector'].apply(lambda x: x.split(\"\/\")[-1]) # clearing data from links in 'sector'\ndf = df[~df['location'].str.contains('[0-9]', na=False)] # filtering 'location' inputs with numbers\ndf = df[~df['products'].str.contains('[0-9]', na=False)] # filtering 'products' inputs with numbers\ndf['foundation'] = df['foundation'].fillna(0) # filling na values \ndf['foundation'] = pd.to_datetime(df['foundation']) # sorting df by 'foundation'\ndf['foundation'] = df['foundation'].dt.year\ndf = df.replace('did not disclose',np.nan)\ndf = df.sort_values('foundation') # finishing sorting df by 'foundation'\ndf['sector'] = df['sector'].replace('_', ' ', regex=True) \ndf['location'] = df['location'].astype('str')  \ndf['location'] = df['location'].apply(process_location)\ndf['location'] = df['location'].replace('_', '',regex=True)\ndf['products'] = df['products'].astype('str')  \ndf['products'] = df['products'].apply(process_location)\ndf['products'] = df['products'].replace('_', '',regex=True)\ndf= df.reset_index()\ndf = df.drop(['index','level_0'],axis=1)\ndf.shape\ndf.head(5)","07b25192":"fig,ax = plt.subplots(figsize=(6,15))\n\nax = sns.barplot(y='sector',x='employee',data=df)\nax.set(title='Employees in each sector',\n      xlabel='Amount of Employees',\n      ylabel='Sectors')","4e94ed39":"***Hey guys it is my first ever notebook posted on Kaggle. I decided to practice my skills that I learned with clearing this data and doing some visualistion that was possible to do. Please, understand that I'm newbie in pandas, seaborn, matplotlib and my code could be very messy and not clear, I promise, I will impove it ;)***","94e6b219":"**I also decided to add some visualisation that was possible to do. I still could not use other columns such as assets,equity,revenue,profit as they are still untidy and require some work, as I'm still newbie I decided to not proceed with clearing it as it will require some additional knowledge about any currency library in order to clean it and get it tidy**"}}