{"cell_type":{"318f2623":"code","7204eb86":"code","74072986":"code","5f42b754":"code","2d346092":"code","e673cda6":"code","4a6e13b8":"code","a5b537ed":"code","6f2c5239":"code","45577c35":"code","fd8c2283":"code","8cef3ecf":"code","3bc6bba0":"code","a1b4877f":"code","6f8cbe1c":"code","a308df5f":"code","245c8c5f":"code","607f15c3":"code","8b3d6c88":"code","346c418a":"markdown"},"source":{"318f2623":"import pandas as pd\nimport statsmodels.api as sm\nimport statsmodels.formula.api as smf\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.cluster import KMeans\ncolor = sns.color_palette()\nfrom IPython.core.display import display, HTML\ndisplay(HTML(\"<style>.container { width:100% !important; }<\/style>\"))\n%matplotlib inline","7204eb86":"salary = pd.read_csv(\"..\/input\/nba_2017_salary.csv\");\nbr_2017 = pd.read_csv(\"..\/input\/nba_2017_br.csv\");\nplayers =pd.read_csv(\"..\/input\/nba_2017_players_stats_combined.csv\");\nprint(br_2017.columns.values)\nbr_2017.head(5)","74072986":"corr = br_2017.corr()\na = plt.subplots(figsize=(15,9))\na = sns.heatmap(corr, \n            xticklabels=corr.columns.values,\n            yticklabels=corr.columns.values)","5f42b754":"sns.lmplot(x=\"Age\", y=\"PS\/G\", data=br_2017)","2d346092":"sns.lmplot(x=\"AST\", y=\"PS\/G\", data=br_2017)","e673cda6":"selected_player = br_2017[br_2017[\"Player\"] == \"LeBron James\"].iloc[0]","4a6e13b8":"distance_columns = ['Age', 'G', 'GS', 'MP', 'FG', 'FGA', 'FG%', '3P', '3PA', '3P%', '2P', '2PA', '2P%', 'eFG%', 'FT', 'FTA', 'FT%', 'ORB', 'DRB', 'TRB', 'AST', 'STL', 'BLK', 'TOV', 'PF', 'PS\/G']","a5b537ed":"import math\ndef euclidean_distance(row):\n    inner_value = 0\n    for k in distance_columns:\n        inner_value += (row[k] - selected_player[k]) ** 2\n    return math.sqrt(inner_value)","6f2c5239":"lebron_distance = br_2017.apply(euclidean_distance, axis=1)\nprint(\"Each player's Euclidean Distance with LeBron James:\")\nprint(lebron_distance)","45577c35":"br_2017_numeric = br_2017[distance_columns]","fd8c2283":"br_2017_normalized = (br_2017_numeric - br_2017_numeric.mean()) \/ br_2017_numeric.std()\nbr_2017_normalized.fillna(0, inplace=True)","8cef3ecf":"from scipy.spatial import distance\nlebron_normalized = br_2017_normalized[br_2017[\"Player\"] == \"LeBron James\"].iloc[0]","3bc6bba0":"euclidean_distances = br_2017_normalized.apply(lambda row: distance.euclidean(row, lebron_normalized), axis=1)\ndistance_frame = pd.DataFrame(data={\"dist\": euclidean_distances, \"idx\": euclidean_distances.index})\ndistance_frame.sort_values(\"dist\", inplace=True)\nsecond_smallest = distance_frame.iloc[1][\"idx\"]\nmost_similar_to_lebron = br_2017.loc[int(second_smallest)][\"Player\"]","a1b4877f":"import random\nfrom numpy.random import permutation","6f8cbe1c":"br_2017.fillna(0, inplace=True)\nbr_2017.head(5)","a308df5f":"random_indices = permutation(br_2017.index)\nrandom_indices = permutation(br_2017.index)\ntest_cutoff = math.floor(len(br_2017)\/3)\ntest_data = br_2017.loc[random_indices[1:test_cutoff]]\ntrain_data = br_2017.loc[random_indices[test_cutoff:]]","245c8c5f":"x_columns = ['Age', 'G', 'GS', 'MP', 'FG', 'FGA', 'FG%', '3P', '3PA', '3P%', '2P', '2PA', '2P%', 'eFG%', 'FT', 'FTA', 'FT%', 'ORB', 'DRB', 'TRB', 'AST', 'STL', 'BLK', 'TOV', 'PF', 'PS\/G']\ny_column = [\"PS\/G\"]","607f15c3":"from sklearn.neighbors import KNeighborsRegressor\nknn = KNeighborsRegressor(n_neighbors=5)\nknn.fit(train_data[x_columns], train_data[y_column])\npredictions = knn.predict(test_data[x_columns])\nprint(predictions)","8b3d6c88":"actual = test_data[y_column]\nfrom sklearn.metrics import mean_squared_error \nfrom sklearn.metrics import mean_absolute_error \nfrom sklearn.metrics import r2_score\nprint(\"***** Model Assessment *****\")\nprint(\"MSE:\",mean_squared_error(actual,predictions))\nprint(\"MAE:\",mean_absolute_error(actual,predictions))\nprint(\"R_Square:\",r2_score(actual,predictions))","346c418a":"Exploration of How Social Media Can Predict Winning Metrics Better Than Salary"}}