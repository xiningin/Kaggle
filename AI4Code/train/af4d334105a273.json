{"cell_type":{"53a86c38":"code","55c129b3":"code","0a31f4fe":"code","f3baa42b":"code","98d7c711":"code","45860247":"code","23529bd2":"code","e5c72f7c":"code","6d9887cd":"code","9a48bd66":"code","5281d3ba":"code","d3557b1f":"code","99c3b7ff":"code","513d38ab":"code","9dd24e2e":"code","4a5491f2":"code","deabfae7":"code","443972f5":"code","0f8da4d4":"code","f4efbf6a":"code","6104d776":"code","3c8759b2":"code","7736ca24":"code","ff661e40":"code","66948075":"code","9c236eb6":"code","61892be2":"code","c64cead1":"code","37aacd5c":"code","f78aae92":"code","2eb9ad0d":"code","250dad51":"code","61574e84":"code","a0f30af9":"code","e9933da6":"code","270d9590":"code","ad03b064":"code","056dad89":"code","c3be751f":"code","5277b20d":"code","b0b1ab55":"code","9d694ab5":"code","300403fc":"code","d17bd883":"code","851248ec":"code","166c9e2d":"markdown","4667632a":"markdown","ed83df9c":"markdown","4c983a0f":"markdown","7d5eb592":"markdown","c02abce9":"markdown","3a19ed21":"markdown","066ce01c":"markdown","73dc3da4":"markdown","64b561ff":"markdown","e0573622":"markdown","e001c2e2":"markdown","bd6a71d7":"markdown","252908f2":"markdown","9e72b696":"markdown","6371322a":"markdown","974a3b41":"markdown","20dd0616":"markdown","2eab1b48":"markdown","47050737":"markdown","2c5a0b49":"markdown","0b35e43a":"markdown","739212e5":"markdown","8e9e5bcf":"markdown","7754807c":"markdown","862142fd":"markdown","6a841679":"markdown","ff5a7557":"markdown","1f331bee":"markdown","e874ac51":"markdown","03429a6b":"markdown","9aaef18e":"markdown"},"source":{"53a86c38":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\n\nimport os\n# for dirname, _, filenames in os.walk('\/kaggle\/input'):\n#     for filename in filenames:\n#         print(os.path.join(dirname, filename))","55c129b3":"data_suicide = pd.read_csv('\/kaggle\/input\/suicide-rates-overview-1985-to-2016\/master.csv')\ndata_suicide.head()","0a31f4fe":"data_suicide['age_range'] = data_suicide['age'].map(lambda x:x.split(' ')[0])\ndata_suicide = data_suicide[data_suicide['year'] < 2016]","f3baa42b":"data_grp_mf = data_suicide.groupby(by=['sex']).agg({\"suicides_no\": ['sum']})\ndata_grp_mf.columns = ['total_suicide']\ndata_grp_mf.reset_index(inplace=True)\n# data_grp_mf\n\nfig1, ax1 = plt.subplots(figsize=(15, 7))\nwedges, texts, autotexts = ax1.pie(data_grp_mf['total_suicide'], labels=data_grp_mf['sex'], autopct='%1.1f%%', startangle=90, colors=['#fd5235', '#636efa'])\nax1.axis('equal')\n\nplt.setp(autotexts, size=15, color=\"w\")\nplt.figtext(.5,.91,'Worldwide Suicide by Gender (1985 - 2015)', color='b', fontsize=25, ha='center')\nplt.show()","98d7c711":"data_sc_no = data_suicide.groupby(by=['age_range', 'sex']).agg({'suicides_no': ['sum']})\ndata_sc_no.columns = ['total_suicide']\ndata_sc_no.reset_index(inplace=True)\n# data_sc_no\n\ncolor = sns.color_palette(\"Set2\")\nsns.set(style=\"darkgrid\")\nplt.figure(figsize=(15, 10))\nsns.barplot(x='age_range', y='total_suicide', hue='sex', data=data_sc_no, palette=color)\n\nplt.setp(autotexts, size=10, color=\"w\")\nplt.figtext(.5,.91,'Worldwide Suicide on total suicide by Age (1985 - 2015)', color='b', fontsize=25, ha='center')\nplt.show()","45860247":"data_year_no = data_suicide.groupby(by=['year', 'sex']).agg({'suicides_no': ['sum']})\ndata_year_no.columns = ['total_suicide']\ndata_year_no.reset_index(inplace=True)\ndata_year_no\n\ncolor = sns.color_palette(\"Set2\")\nsns.set(style=\"darkgrid\")\nplt.figure(figsize=(15, 10))\nsns.barplot(x='year', y='total_suicide', hue='sex', data=data_year_no, palette=color)\nplt.xticks(rotation=90)\n\nplt.figtext(.5,.91,'Worldwide Suicide by Year (1985 - 2015)', color='b', fontsize=25, ha='center')\nplt.show()","23529bd2":"data_popk_year = data_suicide.groupby(by=['year']).agg({'suicides_no':['sum'], 'population': ['sum']})\ndata_popk_year.columns = ['total_suicide', 'total_population']\ndata_popk_year = data_popk_year.reset_index()\n\ndata_popk_year['deth_rat_100k'] = data_popk_year['total_suicide'] \/ data_popk_year['total_population'] * 100000\n# data_popk_year\nplt.figure(figsize=(15, 10))\nsns.lineplot(x=\"year\", y=\"deth_rat_100k\", marker='o', markersize=10, color='#f77189', data=data_popk_year)\n\nplt.figtext(.5,.91,'Worldwide Suicide on 100k pop rate by Year (1985 - 2015)', color='b', fontsize=25, ha='center')\nplt.show()","e5c72f7c":"data_popk_year_sex = data_suicide.groupby(by=['year', 'sex']).agg({'suicides_no':['sum'], 'population': ['sum']})\ndata_popk_year_sex.columns = ['total_suicide', 'total_population']\ndata_popk_year_sex = data_popk_year_sex.reset_index()\n\ndata_popk_year_sex['deth_rat_100k'] = data_popk_year_sex['total_suicide'] \/ data_popk_year_sex['total_population'] * 100000\n# data_popk_year\nplt.figure(figsize=(15, 10))\ncolor = sns.color_palette('husl', n_colors=2)\nsns.set(style=\"darkgrid\")\nsns.lineplot(x=\"year\", y=\"deth_rat_100k\", hue='sex', marker='o', markersize=10, color='#ec2915', data=data_popk_year_sex, palette=color)\n\nplt.figtext(.5,.91,'Suicide on 100k pop rate by Year and Gender (1985 - 2015)', color='b', fontsize=25, ha='center')\nplt.show()","6d9887cd":"data_popk_year_age = data_suicide.groupby(by=['year', 'age_range']).agg({'suicides_no':['sum'], 'population': ['sum']})\ndata_popk_year_age.columns = ['total_suicide', 'total_population']\ndata_popk_year_age = data_popk_year_age.reset_index()\n\ndata_popk_year_age['deth_rat_100k'] = data_popk_year_age['total_suicide'] \/ data_popk_year_age['total_population'] * 100000\n# data_popk_year\nplt.figure(figsize=(15, 10))\ncolor = sns.color_palette('Set2', n_colors=6)\nsns.set(style=\"darkgrid\")\nsns.lineplot(x=\"year\", y=\"deth_rat_100k\", hue='age_range', marker='o', markersize=10, color='#ec2915', data=data_popk_year_age, palette=color)\n\nplt.figtext(.5,.91,'Suicide on 100k pop rate by Year and Age (1985 - 2015)', color='b', fontsize=25, ha='center')\nplt.show()","9a48bd66":"data_country_total = data_suicide.groupby(by=['country']).agg({'suicides_no': ['sum']})\ndata_country_total.columns = ['total_suicide']\ndata_country_total.reset_index(inplace=True)\ndata_country_total = data_country_total.sort_values(by=['total_suicide'], ascending=False).head(20)\n# data_country_total\n\ncolor = sns.color_palette(\"Set2\")\nsns.set(style=\"darkgrid\")\nplt.figure(figsize=(15, 10))\nsns.barplot(x='total_suicide', y='country', data=data_country_total, palette=color)\nplt.xticks(rotation=90)\n\nplt.figtext(.5,.91,'Top 20 countries total suicide (1985 - 2015)', color='b', fontsize=25, ha='center')\nplt.show()","5281d3ba":"fig = px.pie(data_country_total, values='total_suicide', names='country')\nfig.update_traces(textposition='inside')\nfig.update_layout(uniformtext_minsize=12, uniformtext_mode='hide')\nfig.show()","d3557b1f":"plt.figure(figsize=(20, 15))\ncountries = ['Russian Federation', 'United States', 'Japan', 'France']\nfor i, column in enumerate(countries):\n    plt.subplot(2, 2, i+1)\n    data_rf = data_suicide[data_suicide['country'] == column]\n    data_rf_grp = data_rf.groupby(by=['year']).agg({\"suicides_no\": ['sum']})\n    data_rf_grp.columns = ['total_suicide']\n    data_rf_grp.reset_index(inplace=True)\n    # data_rf_grp = data_rf_grp.sort_values(by=['total_suicide'])\n    data_rf_grp\n\n    color = sns.color_palette(\"Set2\")\n    sns.set(style=\"darkgrid\")\n#     plt.figure(figsize=(15, 10))\n    sns.barplot(x='year', y='total_suicide', data=data_rf_grp, palette=color)\n    plt.xticks(rotation=90)\n    plt.title(f\"{column} total suicide by year (1985 - 2015)\")\n    \nplt.figtext(.5,.91,'Top 4 countries total suicide by year (1985 - 2015)', color='b', fontsize=25, ha='center')\n","99c3b7ff":"data_country_no = data_suicide.groupby(by=['country', 'sex']).agg({'suicides_no': ['sum']})\ndata_country_no.columns = ['total_suicide']\ndata_country_no.reset_index(inplace=True)\ndata_country_name = data_country_no.sort_values(by=['total_suicide'], ascending=False)\ndata_country_name = data_country_name.head(27)\ndata_country_name = data_country_name['country']\n\ndata_country_no = data_country_no[data_country_no['country'].isin(data_country_name)]\n# data_country_no.head()\n\ncolor = sns.color_palette(\"Set2\")\nsns.set(style=\"darkgrid\")\nplt.figure(figsize=(15, 10))\nsns.barplot(x='country', y='total_suicide', hue='sex', data=data_country_no, palette=color)\nplt.xticks(rotation=90)\n\nplt.figtext(.5,.91,'Top 20 countries total suicide Hue Sex (1985 - 2015)', color='b', fontsize=25, ha='center')\nplt.show()","513d38ab":"data_map = data_suicide.groupby(by=['country']).agg({\"suicides_no\": ['sum']})\ndata_map.columns = ['total_suicide']\ndata_map.reset_index(inplace=True)\ndata_map\n\nfig = px.choropleth(data_map, locations=\"country\", locationmode='country names',\n                    color=\"total_suicide\", # lifeExp is a column of gapminder\n                    hover_name=\"country\", # column to add to hover information\n                    color_continuous_scale='sunset')\n\nfig.update_layout(\n    title=\"Suicide By Country on Map (1985 - 2015)\",\n    font=dict(\n        family=\"Courier New, monospace\",\n        size=15,\n        color=\"RebeccaPurple\"\n    )\n)\n\nfig.show()","9dd24e2e":"data_grp_gdp_2 = data_suicide.groupby(by=['country', 'year', 'sex', 'gdp_per_capita ($)']).agg({\"suicides_no\": ['sum']})\ndata_grp_gdp_2.columns = [\"total_suicide\"]\ndata_grp_gdp_2.reset_index(inplace=True)\n# \"Russian Federation\" \"United States\" \"Japan\"\n\n# data_grp_gdp = data_grp_gdp.sort_values(by=['gdp_per_capita ($)'], ascending=False).head(200)\ndata_grp_gdp_2\n\ndata_grp_gdp_cng = data_grp_gdp_2[data_grp_gdp_2['total_suicide'] < 40000]\nplt.figure(figsize=(15, 10))\nsns.scatterplot(x=\"gdp_per_capita ($)\", y=\"total_suicide\", hue=\"sex\", data=data_grp_gdp_cng)\n\nplt.figtext(.5,.91,'Suicide by GDP per capita (1985 - 2015)', color='b', fontsize=25, ha='center')\nplt.show()","4a5491f2":"plt.figure(figsize=(20, 15))\ncountries = ['Russian Federation', 'United States', 'Japan', 'France']\nfor i, column in enumerate(countries):\n    plt.subplot(2, 2, i+1)\n\n    data_grp_gdp = data_suicide.groupby(by=['country', 'year', 'gdp_per_capita ($)']).agg({\"suicides_no\": ['sum']})\n    data_grp_gdp.columns = [\"total_suicide\"]\n    data_grp_gdp.reset_index(inplace=True)\n    # data_grp_gdp\n    data_grp_gdp_cn = data_grp_gdp[data_grp_gdp['country'] == column]\n\n    sns.scatterplot(x=\"gdp_per_capita ($)\", y=\"total_suicide\", data=data_grp_gdp_cn)\n    plt.title(f\"{column} total suicide by gdp per capita (1985 - 2015)\")\n    \nplt.figtext(.5,.91,'Top 4 countries total suicide by GDP per capita (1985 - 2015)', color='b', fontsize=25, ha='center')\n# plt.show()","deabfae7":"test_data = data_suicide.groupby(by=['year']).agg({\"gdp_per_capita ($)\":['mean'], \"suicides_no\": ['mean']})\ntest_data.columns = [\"gdp_per_capita\", \"total_suicide\"]\n# test_data.reset_index(inplace=True)\ntest_data\n\nfrom sklearn import preprocessing\nfrom sklearn.preprocessing import RobustScaler\n# min_max_scaller = RobustScaler()\nmin_max_scaller = preprocessing.MinMaxScaler()\ngdp_scale_data = min_max_scaller.fit_transform(test_data)\ngdp_scale_data \n\n\nsuicide_socio_economic_mean_scaled = pd.DataFrame(gdp_scale_data)\nsuicide_socio_economic_mean_scaled.columns = test_data.columns\nsuicide_socio_economic_mean_scaled.index = test_data.index\ntest_data_final = suicide_socio_economic_mean_scaled.reset_index()\ntest_data_final\n\nplt.figure(figsize=(15, 10))\ncolor = sns.color_palette('husl', n_colors=2)\nsns.set(style=\"darkgrid\")\nsns.lineplot(x=\"year\", y=\"gdp_per_capita\", data=test_data_final, palette=\"tab10\", marker='o', markersize=10, linewidth=2.5, color='#36ada4')\nsns.lineplot(x=\"year\", y=\"total_suicide\", data=test_data_final, palette=\"tab10\", marker='o', markersize=10, linewidth=2.5, color='#e99675')\n\nplt.figtext(.5,.91,'Year wise total suicide with GDP (1985 - 2015)', color='b', fontsize=25, ha='center')\nplt.show()","443972f5":"suicide_socio_economic_mean= data_suicide.pivot_table(['suicides\/100k pop','gdp_per_capita ($)'],['year'], aggfunc='mean')\nx = suicide_socio_economic_mean.values\n\nfrom sklearn import preprocessing\nmin_max_scaller = preprocessing.MinMaxScaler()\ngdp_scale_data = min_max_scaller.fit_transform(x)\ngdp_scale_data \n\nsuicide_socio_economic_mean_scaled = pd.DataFrame(gdp_scale_data)\nsuicide_socio_economic_mean_scaled.columns = suicide_socio_economic_mean.columns\nsuicide_socio_economic_mean_scaled.index = suicide_socio_economic_mean.index\nsuicide_socio_economic_mean_scaled.reset_index(inplace=True)\n\nplt.figure(figsize=(15, 10))\nsns.lineplot(x=\"year\", y=\"gdp_per_capita ($)\", data=suicide_socio_economic_mean_scaled, palette=\"tab10\", marker='o', markersize=10, linewidth=2.5, color='#36ada4')\nsns.lineplot(x=\"year\", y=\"suicides\/100k pop\", data=suicide_socio_economic_mean_scaled, palette=\"tab10\", marker='o', markersize=10, linewidth=2.5, color='#e99675')\n\nplt.figtext(.5,.91,'100k population suicide chart with GDP (1985 - 2015)', color='b', fontsize=25, ha='center')\nplt.show()","0f8da4d4":"data_grp_pop = data_suicide.groupby(by=['age_range', 'sex']).agg({\"population\": ['sum']})\ndata_grp_pop.columns = ['total_population']\ndata_grp_pop.reset_index(inplace=True)\n# data_grp_pop\n\ncolor = sns.color_palette(\"Set2\")\nsns.set(style=\"darkgrid\")\nplt.figure(figsize=(15, 10))\nsns.barplot(x='age_range', hue='sex', y='total_population', data=data_grp_pop, palette=color)\nplt.xticks(rotation=90)\n\nplt.figtext(.5,.91,'Population by age range (1985 - 2015)', color='b', fontsize=25, ha='center')\nplt.show()","f4efbf6a":"plt.figure(figsize=(5, 5))\nfig = px.pie(data_grp_pop, values='total_population', names='age_range')\nfig.show()","6104d776":"data_grp_pop_sui = data_suicide.groupby(by=['age_range', 'sex']).agg({\"population\": ['sum'], \"suicides_no\": ['sum']})\ndata_grp_pop_sui.columns = ['total_population', \"total_suicide\"]\ndata_grp_pop_sui.reset_index(inplace=True)\ndata_grp_pop_sui\n\ndata_grp_pop_sui['deth_rat_100k'] = data_grp_pop_sui['total_suicide'] \/ data_grp_pop_sui['total_population'] * 100000\n\ncolor = sns.color_palette(\"Set2\")\nsns.set(style=\"darkgrid\")\nplt.figure(figsize=(15, 10))\nsns.barplot(x='age_range', hue='sex', y='deth_rat_100k', data=data_grp_pop_sui, palette=color)\nplt.xticks(rotation=90)\n\nplt.figtext(.5,.91,'Suicide rate 100k Population by age range (1985 - 2015)', color='b', fontsize=25, ha='center')\nplt.show()","3c8759b2":"data_grp_mf = data_suicide.groupby(by=['sex']).agg({\"suicides_no\": ['sum']})\ndata_grp_mf.columns = ['total_suicide']\ndata_grp_mf.reset_index(inplace=True)\n# data_grp_mf\n\nfig1, ax1 = plt.subplots(figsize=(15, 7))\nwedges, texts, autotexts = ax1.pie(data_grp_mf['total_suicide'], labels=data_grp_mf['sex'], autopct='%1.1f%%', startangle=90, colors=['#646dd5', '#64b1d5'])\nax1.axis('equal')\n\nplt.setp(autotexts, size=15, color=\"w\")\nplt.figtext(.5,.91,'Men and Women suicide percentage (1985 - 2015)', color='#ee4a09', fontsize=25, ha='center')\nplt.show()","7736ca24":"data_popk_year_sex = data_suicide.groupby(by=['year', 'sex']).agg({'suicides_no':['sum'], 'population': ['sum']})\ndata_popk_year_sex.columns = ['total_suicide', 'total_population']\ndata_popk_year_sex = data_popk_year_sex.reset_index()\n\ndata_popk_year_sex['deth_rat_100k'] = data_popk_year_sex['total_suicide'] \/ data_popk_year_sex['total_population'] * 100000\n# data_popk_year\nplt.figure(figsize=(15, 10))\nflatui = [\"#e78ac3\", \"#8da0cb\"]\ncolor = sns.color_palette(flatui)\nsns.set(style=\"darkgrid\")\nsns.lineplot(x=\"year\", y=\"deth_rat_100k\", hue='sex', marker='o', markersize=10, color='#ec2915', data=data_popk_year_sex, palette=color)\n\nplt.figtext(.5,.91,'Commit suicide per 100k people (1985 - 2015)', color='#ee4a09', fontsize=25, ha='center')\nplt.show()","ff661e40":"data_sc_pop = data_suicide.groupby(by=['age_range', 'sex']).agg({'suicides_no': ['sum'], 'population': ['sum']})\ndata_sc_pop.columns = ['total_suicide', 'total_population']\ndata_sc_pop.reset_index(inplace=True)\n\ndata_sc_pop['deth_rat_100k'] = data_sc_pop['total_suicide'] \/ data_sc_pop['total_population'] * 100000\ndata_sc_pop\n\nflatui = [\"#e78ac3\", \"#8da0cb\"]\ncolor = sns.color_palette(flatui)\nsns.set(style=\"darkgrid\")\nplt.figure(figsize=(15, 10))\nsns.barplot(x='age_range', y='deth_rat_100k', hue='sex', data=data_sc_pop, palette=color)\n\nplt.setp(autotexts, size=10, color=\"w\")\nplt.figtext(.5,.91,'Suicide rate in 100k population by age (1985 - 2015)', color='#ee4a09', fontsize=25, ha='center')\nplt.show()","66948075":"data_sc_no = data_suicide.groupby(by=['age_range', 'sex']).agg({'suicides_no': ['sum']})\ndata_sc_no.columns = ['total_suicide']\ndata_sc_no.reset_index(inplace=True)\n# data_sc_no\n\nflatui = [\"#ffd92f\", \"#a6d854\"]\ncolor = sns.color_palette(flatui)\nsns.set(style=\"darkgrid\")\nplt.figure(figsize=(15, 10))\nsns.barplot(x='age_range', y='total_suicide', hue='sex', data=data_sc_no, palette=color)\n\nplt.setp(autotexts, size=10, color=\"w\")\nplt.figtext(.5,.91,'Total suicide by age range (1985 - 2015)', color='#ee4a09', fontsize=25, ha='center')\nplt.show()","9c236eb6":"suicide_socio_economic_mean= data_suicide.pivot_table(['suicides\/100k pop','gdp_per_capita ($)'],['year'], aggfunc='mean')\nx = suicide_socio_economic_mean.values\n\nfrom sklearn import preprocessing\nmin_max_scaller = preprocessing.MinMaxScaler()\ngdp_scale_data = min_max_scaller.fit_transform(x)\ngdp_scale_data \n\nsuicide_socio_economic_mean_scaled = pd.DataFrame(gdp_scale_data)\nsuicide_socio_economic_mean_scaled.columns = suicide_socio_economic_mean.columns\nsuicide_socio_economic_mean_scaled.index = suicide_socio_economic_mean.index\nsuicide_socio_economic_mean_scaled.reset_index(inplace=True)\n\nplt.figure(figsize=(15, 10))\nsns.lineplot(x=\"year\", y=\"gdp_per_capita ($)\", data=suicide_socio_economic_mean_scaled, palette=\"tab10\", marker='o', markersize=10, linewidth=2.5, color='#36ada4')\nsns.lineplot(x=\"year\", y=\"suicides\/100k pop\", data=suicide_socio_economic_mean_scaled, palette=\"tab10\", marker='o', markersize=10, linewidth=2.5, color='#e99675')\n\nplt.figtext(.5,.91,'Suicide rate for every 100k people with GDP by year (1985 - 2015)', color='#ee4a09', fontsize=25, ha='center')\nplt.show()","61892be2":"len(data_suicide['country'].unique())","c64cead1":"sri_data = data_suicide[data_suicide['country'] == 'United States']\nlen(sri_data['year'].unique())","37aacd5c":"year_count_data = data_suicide.groupby(by=['country']).agg({'year':['nunique']})\nyear_count_data.columns = ['year_count']\nyear_count_data.reset_index(inplace=True)\n# year_count_data","f78aae92":"plt.figure(figsize=(15, 10))\ndata_grp_gdp = data_suicide.groupby(by=['country', 'year', 'gdp_per_capita ($)']).agg({'suicides_no': ['sum'], 'population': ['sum']})\ndata_grp_gdp.columns = ['total_suicide', 'total_population']\ndata_grp_gdp.reset_index(inplace=True)\n\ndata_grp_gdp['deth_rat_100k'] = data_grp_gdp['total_suicide'] \/ data_grp_gdp['total_population'] * 100000\ndata_grp_gdp\n\ndata_grp_gdp['prev_value'] = data_grp_gdp.groupby('country')['deth_rat_100k'].shift(periods=10)\n\n\ndata_grp_gdp = data_grp_gdp.groupby(by=['country']).tail(10)\ndata_grp_gdp = data_grp_gdp.groupby(by=['country']).agg({'deth_rat_100k': ['sum'], 'prev_value': ['sum']})\ndata_grp_gdp.columns = ['total_deth', 'total_prev']\ndata_grp_gdp.reset_index(inplace=True)\n\n\n\ndata_grp_gdp['diff'] = data_grp_gdp['total_deth'] - data_grp_gdp['total_prev']\ndata_grp_gdp = data_grp_gdp[data_grp_gdp['diff'] > 0]\ndata_grp_gdp = data_grp_gdp.sort_values(by=['diff'], ascending=False)\ndata_grp_gdp = pd.merge(data_grp_gdp, year_count_data, on=['country'], how='left')\n\ntotal_country = data_grp_gdp\n\ndata_grp_gdp = data_grp_gdp[data_grp_gdp['year_count'] > 30]\ndata_grp_gdp = data_grp_gdp.head(4)\ncountry_names = data_grp_gdp['country'].values\ncountry_names\n","2eb9ad0d":"total_country = total_country['country'].values\nplt.subplots(figsize=(8,8))\nwordcloud = WordCloud(\n                          background_color='white',\n                          width=512,\n                          height=384\n                         ).generate(\" \".join(total_country))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('graph.png')\n\nplt.show()","250dad51":"plt.figure(figsize=(20, 15))\nfor i, column in enumerate(country_names):\n    plt.subplot(2, 2, i+1)\n\n    data_grp_gdp = data_suicide.groupby(by=['country', 'year', 'gdp_per_capita ($)']).agg({'suicides_no': ['sum'], 'population': ['sum']})\n    data_grp_gdp.columns = ['total_suicide', 'total_population']\n    data_grp_gdp.reset_index(inplace=True)\n\n    data_grp_gdp['deth_rat_100k'] = data_grp_gdp['total_suicide'] \/ data_grp_gdp['total_population'] * 100000\n#     data_grp_gdp\n    # data_grp_gdp\n    data_grp_gdp_cn = data_grp_gdp[data_grp_gdp['country'] == column]\n\n    sns.lineplot(x=\"gdp_per_capita ($)\", y=\"deth_rat_100k\", data=data_grp_gdp_cn, palette=\"tab10\", marker='o', markersize=10, linewidth=2.5, color='#e99675')\n    plt.title(f\"{column} per 100k suicide by gdp per capita (1985 - 2015)\")\n    \nplt.figtext(.5,.91,'Top 4 countries total suicide by GDP per capita (1985 - 2015)', color='b', fontsize=25, ha='center')\n# plt.show()","61574e84":"plt.figure(figsize=(20, 15))\ncountries = ['Suriname', 'Guyana', 'Republic of Korea', 'Montenegro']\nfor i, column in enumerate(country_names):\n    plt.subplot(2, 2, i+1)\n    data_grp_gdp = data_suicide.groupby(by=['country', 'year', 'gdp_per_capita ($)']).agg({\"suicides_no\": ['sum']})\n    data_grp_gdp.columns = [\"total_suicide\"]\n    data_grp_gdp.reset_index(inplace=True)\n    # data_grp_gdp\n    data_grp_gdp_cn = data_grp_gdp[data_grp_gdp['country'] == column]\n\n    sns.lineplot(x=\"gdp_per_capita ($)\", y=\"total_suicide\", data=data_grp_gdp_cn, palette=\"tab10\", marker='o', markersize=10, linewidth=2.5, color='#e99675')\n    plt.title(f\"{column} total suicide by gdp per capita (1985 - 2015)\")\n#     plt.title(f\"United States total suicide by gdp per capita (1985 - 2015)\")","a0f30af9":"map_gen = {'25-34': 'Boomers', '35-54': 'Silent', '15-24': 'Generation X', '55-74': 'Millenials', '75+': 'G.I. Generation', '5-14': 'Generation Z'}","e9933da6":"copy_data = data_suicide.copy()\ncopy_data['generation'] = copy_data['age_range'].map(map_gen)\n# copy_data","270d9590":"data_sc_no = copy_data.groupby(by=['generation']).agg({'suicides_no': ['sum']})\ndata_sc_no.columns = ['total_suicide']\ndata_sc_no.reset_index(inplace=True)\ndata_sc_no = data_sc_no.sort_values(by=['total_suicide'], ascending=False)\n# data_sc_no\n\ncolor = sns.color_palette(\"coolwarm\")\nsns.set(style=\"darkgrid\")\nplt.figure(figsize=(15, 10))\nsns.barplot(x='total_suicide', y='generation', data=data_sc_no, palette=color)\n\nplt.setp(autotexts, size=10, color=\"w\")\nplt.figtext(.5,.91,'Worldwide Suicide on total suicide by generation (1985 - 2015)', color='#ee4a09', fontsize=25, ha='center')\nplt.show()","ad03b064":"data_popk_year_age = copy_data.groupby(by=['year', 'generation']).agg({'suicides_no':['sum'], 'population': ['sum']})\ndata_popk_year_age.columns = ['total_suicide', 'total_population']\ndata_popk_year_age = data_popk_year_age.reset_index()\n\ndata_popk_year_age['deth_rat_100k'] = data_popk_year_age['total_suicide'] \/ data_popk_year_age['total_population'] * 100000\n# data_popk_year\nplt.figure(figsize=(15, 10))\ncolor = sns.color_palette('coolwarm', n_colors=6)\nsns.set(style=\"darkgrid\")\n# sns.barplot(x='generation', y='deth_rat_100k', data=data_popk_year_age, palette=color)\nsns.lineplot(x=\"year\", y=\"deth_rat_100k\", hue='generation', marker='o', markersize=10, color='#ec2915', data=data_popk_year_age, palette=color)\n\nplt.figtext(.5,.91,'Suicide on 100k pop rate by Year and generation (1985 - 2015)', color='#ee4a09', fontsize=25, ha='center')\nplt.show()","056dad89":"plt.figure(figsize=(15, 10))\ndata_grp_gdp = data_suicide.groupby(by=['country', 'year', 'gdp_per_capita ($)']).agg({'suicides_no': ['sum'], 'population': ['sum']})\ndata_grp_gdp.columns = ['total_suicide', 'total_population']\ndata_grp_gdp.reset_index(inplace=True)\n\ndata_grp_gdp['deth_rat_100k'] = data_grp_gdp['total_suicide'] \/ data_grp_gdp['total_population'] * 100000\ndata_grp_gdp\n\ndata_grp_gdp['prev_value'] = data_grp_gdp.groupby('country')['deth_rat_100k'].shift(periods=10)\n\n\ndata_grp_gdp = data_grp_gdp.groupby(by=['country']).tail(10)\ndata_grp_gdp = data_grp_gdp.groupby(by=['country']).agg({'deth_rat_100k': ['sum'], 'prev_value': ['sum']})\ndata_grp_gdp.columns = ['total_deth', 'total_prev']\ndata_grp_gdp.reset_index(inplace=True)\n\n\n\ndata_grp_gdp['diff'] = data_grp_gdp['total_deth'] - data_grp_gdp['total_prev']\ndata_grp_gdp = data_grp_gdp[data_grp_gdp['diff'] > 0]\ndata_grp_gdp = data_grp_gdp.sort_values(by=['diff'], ascending=False)\ndata_grp_gdp = pd.merge(data_grp_gdp, year_count_data, on=['country'], how='left')\n\ntotal_country = data_grp_gdp\n\ndata_grp_gdp = data_grp_gdp[data_grp_gdp['year_count'] > 30]\ndata_grp_gdp = data_grp_gdp.head(4)\ncountry_names = data_grp_gdp['country'].values\ncountry_names","c3be751f":"plt.figure(figsize=(15, 10))\ndata_trend = data_suicide.groupby(by=['country', 'year', 'gdp_per_capita ($)']).agg({'suicides_no': ['sum'], 'population': ['sum']})\ndata_trend.columns = ['total_suicide', 'total_population']\ndata_trend.reset_index(inplace=True)\ndata_trend = pd.merge(data_trend, year_count_data, on=['country'], how='left')\ndata_trend = data_trend[data_trend['year_count'] > 30]\n\ndata_trend['deth_rat_100k'] = data_trend['total_suicide'] \/ data_trend['total_population'] * 100000\n\ndata_trend['prev_value_1'] = data_trend.groupby('country')['deth_rat_100k'].shift(periods=1)\ndata_trend['diff_1'] = data_trend['deth_rat_100k'] - data_trend['prev_value_1']\n\ndata_trend['prev_value_2'] = data_trend.groupby('country')['deth_rat_100k'].shift(periods=2)\ndata_trend['diff_2'] = data_trend['deth_rat_100k'] - data_trend['prev_value_2']\n# data_trend","5277b20d":"us_data_trend = data_trend[data_trend['country'] == 'United States']\n# us_data_trend","b0b1ab55":"def change_colour(val):\n   return ['background-color: #a0f0a0' if x < 0  else 'background-color: #f9c1c1' for x in val]\nus_data_trend_1 = us_data_trend.copy()\nus_data_trend_1 = us_data_trend_1[['country', 'year', 'deth_rat_100k', 'prev_value_1', 'diff_1', 'prev_value_2', 'diff_2']]\nus_data_trend_1 = us_data_trend_1.style.apply(change_colour, axis=1, subset=['diff_1', 'diff_2'])\nus_data_trend_1","9d694ab5":"plt.figure(figsize=(15, 10))\nsns.lineplot(x=\"year\", y=\"diff_1\", data=us_data_trend, palette=\"tab10\", marker='o', markersize=10, linewidth=2.5, color='#e99675')\nplt.figtext(.5,.91,'United States suicide trend lag-1 (1985 - 2015)', color='#ee4a09', fontsize=25, ha='center')\nplt.show()","300403fc":"sns.set(style=\"darkgrid\")\nsns.jointplot(\"population\", \"suicides_no\", data=data_suicide, kind=\"reg\", color=\"#e99675\", height=10)\nplt.figtext(.5,1.05,'Population wise suicide with suicides no (1985 - 2015)', color='#6788ee', fontsize=25, ha='center')\nplt.show()","d17bd883":"data_grp_gdp = data_suicide.groupby(by=['country', 'year', 'gdp_per_capita ($)']).agg({'suicides_no': ['sum'], 'population': ['sum']})\ndata_grp_gdp.columns = ['total_suicide', 'total_population']\ndata_grp_gdp.reset_index(inplace=True)\n\ndata_grp_gdp['deth_rat_100k'] = data_grp_gdp['total_suicide'] \/ data_grp_gdp['total_population'] * 100000\ndata_grp_gdp\ntotal_country = data_grp_gdp\ntotal_country = total_country.sort_values(by=['deth_rat_100k'], ascending=False)\ntotal_country = total_country['country'].values\n# total_country\nplt.subplots(figsize=(8,8))\nwordcloud = WordCloud(\n                          background_color='#000',\n                          width=650,\n                          height=550,\n                         ).generate(\" \".join(total_country))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('graph.png')\n\nplt.figtext(.5,.91,'Top countries in 100k death rate', color='#6788ee', fontsize=25, ha='center')\nplt.show()","851248ec":"from mpl_toolkits.mplot3d import axes3d\nsuicide_3d = data_suicide.copy()\n\nsns.set(rc={'figure.figsize':(15,10)})\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nax.scatter(suicide_3d['gdp_per_capita ($)'], suicide_3d['year'], suicide_3d['suicides\/100k pop'], alpha=0.2, c=\"red\", s=30) \nplt.title('gdp_per_capita ($), year, suicides\/100k pop')\nplt.legend(loc=2)\nplt.figtext(.5,.91,'3d plot with gdp_per_capita, year, suicides\/100k pop', color='#6788ee', fontsize=25, ha='center')\nplt.show()","166c9e2d":"<h2 style='color: #055b2b'> Ans: Yes men are more suicide than women. <\/h2>","4667632a":"so suicide of per 100k people we can see men has more tendency than women to commit suicide.","ed83df9c":"<h2 style='color: #ca3636'> 3. Q: Is silent group leave us silently? <\/h2>","4c983a0f":"---\n\n<h1 style=\"text-align: center;font-size: 30px; color: #e34b4b;\">Data Analysis<\/h1>\n\n---","7d5eb592":"## Basic operation","c02abce9":"maybe you have some query about age range. can any age range make that difference. okk see again...","3a19ed21":"We analyze this question and find out something really interesting.","066ce01c":"---\n\n<h1 style=\"text-align: center;font-size: 30px; color: #e34b4b;\">Some Extra Sugar<\/h1>\n\n---\n","73dc3da4":"nope there were no specific age group to make that age difference. so can say that...","64b561ff":"From this existing dataset we can see that some of the information in the generation does not match, so we update the data set.","e0573622":"---\n\n<h1 style=\"text-align: center;font-size: 30px; color: #e34b4b;\">Q&A Session<\/h1>\n\n---","e001c2e2":"## 1.2 Worldwide Suicide by Age","bd6a71d7":"## 1.3 Worldwide Suicide by Year","252908f2":"---\n\n<h1 style=\"text-align: center;font-size: 30px;\">Miss You All.....<\/h1>\n\n---\n\n<ul style=\"list-style: none;\">\n    <li style=\"float: left;width: 46%;margin: 5px 20px 0px 0%;\"> <img src=\"https:\/\/tonedeaf.thebrag.com\/wp-content\/uploads\/2020\/06\/Chester-Bennington-768x435.jpg\" \/> <\/li>\n    <li style=\"float: left;width: 45.5%;margin: 5px 20px 0px 0%;\"> <img src=\"https:\/\/img.republicworld.com\/republic-prod\/stories\/promolarge\/xxhdpi\/7o7grhzmahdobr19_1592131687.jpeg?tr=w-812,h-464\" \/> <\/li>\n<ul>\n\n---\n","9e72b696":"<h1 style=\"color: #080566;\"> 2. Top countries in 100k death rate <\/h1>","6371322a":"Suicides have declined since 2004, when GDP grew around the world. but some countries have some difference. like United States.","974a3b41":"<h2 style='color: #ca3636'>1. Q: Do men commit suicide more than women?<\/h2>","20dd0616":"# 2. Country wise Suicide Report","2eab1b48":"<h2 style='color: #055b2b'> Ans: Silent groups are more prone to suicide.<\/h2>","47050737":"<h2 style='color: #055b2b'> Ans: It's difficult to say because too many countries suicide increasing with gdp. So actually money are not life saver.<\/h2>","2c5a0b49":"<h1 style=\"color: #080566;\"> 1. Population wise suicide with suicides no <\/h1>","0b35e43a":"'Republic of Korea', 'Chile', 'United States', 'Malta' and others too too many countries suicide are increased with GDP. Our answer is.....","739212e5":"# 3. GDP wise Suicide Report","8e9e5bcf":"<h2 style='color: #ca3636'> 2. Q: Does money can prevent suicide? <\/h2>","7754807c":"I see this data set have some issue. its not include all countries. specially africa and south asia area.","862142fd":"# 1. Worldwide Suicide Report","6a841679":"# 4. Population wise Suicide Report","ff5a7557":"from avobe information we can say that....","1f331bee":"its clearly indicate that men do more suicide than women. men suicide rate is 76.9% and women is 23.1%. you can be say that, population can be a fact. ok lets see about population ways suicide.","e874ac51":"## 1.1 Worldwide Suicide by Gender","03429a6b":"---\n\n<h1 style=\"text-align: center;font-size: 30px; color: #e34b4b;\">Suicide Trend<\/h1>\n\n---","9aaef18e":"<h1 style=\"color: #080566;\"> 3. 3d plot with gdp_per_capita, year, suicides\/100k pop <\/h1>"}}