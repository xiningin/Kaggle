{"cell_type":{"05fc2680":"code","9ebdb453":"code","de5c1170":"code","ff864c2b":"code","555758f7":"code","8a379fc0":"code","d5bba6be":"code","7b281532":"code","a8e8bf07":"code","fe54b473":"code","dabcb7c2":"code","c3caf8f2":"code","36ccbcde":"code","717cf414":"code","f856128f":"code","154a9285":"code","a1749402":"code","96ec9d71":"code","8bdcf31f":"code","1c339fdf":"code","98c08eff":"code","b2bb127d":"code","5fe3ef03":"code","f27945cb":"markdown","29bcfc40":"markdown","cc9a74ab":"markdown","53726490":"markdown","8f575b28":"markdown","c9afbd70":"markdown","3a588808":"markdown","52302acf":"markdown","4b443ccd":"markdown","9a0047cb":"markdown","879a661f":"markdown","ce01a077":"markdown","d1aeb739":"markdown","1a2677f6":"markdown","16cae804":"markdown","75c09318":"markdown","ded62bed":"markdown","bd480e4b":"markdown","e72c4ffa":"markdown","cbbcaee8":"markdown","b0cfb01f":"markdown"},"source":{"05fc2680":"from wordcloud import WordCloud\nimport matplotlib.pyplot as plt \nimport seaborn as sns \nimport pandas as pd \nimport numpy as np \nfrom opencage.geocoder import OpenCageGeocode\nfrom mpl_toolkits.basemap import Basemap\nkey = '2117b047581540e59c772059f03a714a'\ngeocoder = OpenCageGeocode(key)\nfrom matplotlib import style \nstyle.use('fivethirtyeight')\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","9ebdb453":"df= pd.read_csv('..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv')","de5c1170":"df.head()","ff864c2b":"def wordcloud(df):\n    words  = df['name'][~pd.isnull(df['name'])]\n    wordcloud = WordCloud(width=500,height=400).generate(''.join(words))\n    plt.figure(figsize=(10,14))\n    plt.axis('off')\n    plt.imshow(wordcloud)\n    plt.show()\nwordcloud(df)","555758f7":"def pairplots(df):\n    plt.figure(figsize=(12,16))\n    cols = ['minimum_nights','number_of_reviews','reviews_per_month','calculated_host_listings_count','availability_365','price']\n    sns.pairplot(df[cols])\n    plt.tight_layout()\n    plt.show()\npairplots(df)","8a379fc0":"def corrcoef(df):\n    plt.figure(figsize=(8,10))\n    cols = ['minimum_nights','number_of_reviews','reviews_per_month','calculated_host_listings_count','availability_365','price']\n    cm = df[cols].corr()\n    hm = sns.heatmap(cm,cbar=True,annot=True,square=True,fmt='.2f',\n                     annot_kws={'size':15},yticklabels=cols,xticklabels=cols)\n    plt.show()\ncorrcoef(df)","d5bba6be":"def kde_plot(df):\n    plt.figure(figsize=(16,8))\n    sns.kdeplot(df.loc[df['neighbourhood_group']=='Brooklyn','availability_365'],color='r',label='Brooklyn',shade=True,alpha=0.7)\n    sns.kdeplot(df.loc[df['neighbourhood_group']=='Manhattan','availability_365'],color='dodgerblue',label='Manhattan',shade=True,alpha=0.7)\n    sns.kdeplot(df.loc[df['neighbourhood_group']=='Queens','availability_365'],color='orange',label='Queens',shade=True,alpha=0.7)\n    sns.kdeplot(df.loc[df['neighbourhood_group']=='Staten Island','availability_365'],color='green',label='Staten Island',shade=True,alpha=0.7)\n    sns.kdeplot(df.loc[df['neighbourhood_group']=='Bronx','availability_365'],color='pink',label='Bronx',shade=True,alpha=0.7)    \n    plt.xlabel('availability',fontsize=18)\n    plt.legend()\n    plt.show()\nkde_plot(df)","7b281532":"df['Year'] = pd.DatetimeIndex(df['last_review']).year \ndf['month'] = pd.DatetimeIndex(df['last_review']).month","a8e8bf07":"df = df.sort_values(['month','Year'])","fe54b473":"def time_series_1(df):\n    style.use('ggplot')\n    plt.figure(figsize=(16,6))\n    x_labels = [x for x in range(1,13)]\n    colors = ['dodgerblue','red','pink','orange','green']\n    for i  in range(len(df['neighbourhood_group'].unique())):\n        temp_df = df[df['neighbourhood_group']==df['neighbourhood_group'].unique()[i]]\n        temp_df2 = temp_df.groupby(['month']).mean()\n        plt.plot(temp_df2.index,temp_df2['price'],color=colors[i])\n    plt.xticks(temp_df2.index,x_labels)\n    plt.xlabel('Months',fontsize=18)\n    plt.ylabel('Mean price $',fontsize=18)\n    plt.legend(['Manhattan', 'Brooklyn', 'Bronx', 'Queens', 'Staten Island'],loc='upper right')\n    plt.show()\ntime_series_1(df)    ","dabcb7c2":"def time_series_2(df):\n    plt.figure(figsize=(16,6))\n    style.use('ggplot')\n    colors = ['dodgerblue','red','pink','orange','green']\n    for i  in range(len(df['neighbourhood_group'].unique())):\n        temp_df = df[df['neighbourhood_group']==df['neighbourhood_group'].unique()[i]]\n        temp_df2 = temp_df.groupby(['Year']).mean()\n        plt.plot(temp_df2.index,temp_df2['price'],color=colors[i])\n    plt.xlabel('Years',fontsize=18)\n    plt.ylabel('Mean price $',fontsize=18)\n    plt.legend(['Manhattan', 'Brooklyn', 'Bronx', 'Queens', 'Staten Island'],loc='upper right')\n    plt.show()\ntime_series_2(df) ","c3caf8f2":"pip install opencage","36ccbcde":"conda install -c conda-forge basemap-data-hires","717cf414":"def new_york_basemap():\n    fig = plt.figure(figsize=(16,8))\n    \n    m = Basemap(projection='lcc',lat_0=40.71,lon_0=-74.00,\n                width=170000,height=90000,resolution='h')\n    \n    m.fillcontinents(color=\"#DDFFCC\",lake_color=\"#DDEEFF\")\n    m.drawmapboundary(fill_color='#DDEEFF')\n    m.drawcoastlines()\n\n    query = 'Manhattan'\n    results = geocoder.geocode(query)\n    lat = results[0]['geometry']['lat']\n    lng = results[0]['geometry']['lng']\n    xpt,ypt = m(lng,lat)\n    m.plot(xpt,ypt,'o','red',markersize=23*2)\n\n    query = 'Brooklyn'\n    results = geocoder.geocode(query)\n    lat = results[0]['geometry']['lat']\n    lng = results[0]['geometry']['lng']\n    xpt,ypt = m(lng,lat)\n    m.plot(xpt,ypt,'o','red',markersize=21*2)\n\n    query = 'Queens'\n    results = geocoder.geocode(query)\n    lat = results[0]['geometry']['lat']\n    lng = results[0]['geometry']['lng']\n    xpt,ypt = m(lng,lat)\n    m.plot(xpt,ypt,'o','red',markersize=15*2)\n\n    query = 'Bronx'\n    results = geocoder.geocode(query)\n    lat = results[0]['geometry']['lat']\n    lng = results[0]['geometry']['lng']\n    xpt,ypt = m(lng,lat)\n    m.plot(xpt,ypt,'o','red',markersize=10*2)\n    \n    query = 'Staten Island'\n    results = geocoder.geocode(query)\n    lat = results[0]['geometry']['lat']\n    lng = results[0]['geometry']['lng']\n    xpt,ypt = m(lng,lat)\n    m.plot(xpt,ypt,'o','red',markersize=5*2)\n    plt.legend(['Manhattan','Brooklyn','Queens','Bronx','Staten Island'],loc='lower left')\n    plt.title('New York City base map ')\n    \nnew_york_basemap()","f856128f":"def pie_chart(df):\n    style.use('ggplot')\n    fig,axes = plt.subplots(3,2,figsize=(8,8))\n#     cities = df['neighbourhood_group'].unique()\n#     fig,axes = plt.subplots(4,1)\n    room_list = df[df['neighbourhood_group']=='Manhattan']\n    room_list = room_list['room_type'].value_counts()\n    axes[0,0].pie(room_list,labels=room_list.index)\n    axes[0,0].set_title('Manhattan')\n    \n    \n    \n    room_list = df[df['neighbourhood_group']=='Brooklyn']\n    room_list = room_list['room_type'].value_counts()\n    axes[0,1].pie(room_list,labels=room_list.index)\n    axes[0,1].set_title('Boorklyn')\n    \n    \n    room_list = df[df['neighbourhood_group']=='Queens']\n    room_list = room_list['room_type'].value_counts()\n    axes[1,0].pie(room_list,labels=room_list.index)\n    axes[1,0].set_title('Queens')\n    \n    \n    room_list = df[df['neighbourhood_group']=='Bronx']\n    room_list = room_list['room_type'].value_counts()\n    axes[1,1].pie(room_list,labels=room_list.index)\n    axes[1,1].set_title(\"Bronx\")\n    \n    \n    room_list = df[df['neighbourhood_group']=='Staten Island']\n    room_list = room_list['room_type'].value_counts()\n    axes[2,0].pie(room_list,labels=room_list.index)\n    axes[2,0].set_title('Staten Island')\n    fig.delaxes(axes[2,1])        \npie_chart(df)","154a9285":"# top 50 expensive places \ndef new_york_basemap_2(df):\n    fig = plt.figure(figsize=(12,8))\n    \n    m = Basemap(projection='lcc',lat_0=40.71,lon_0=-74.00,\n                width=75000,height=75000,resolution='h')\n    \n    m.fillcontinents(color=\"pink\",lake_color=\"#DDEEFF\")\n    m.drawmapboundary(fill_color='#DDEEFF')\n    m.drawcoastlines()\n    \n    x = df.sort_values(by='price',ascending=False)\n    x = x.reset_index()\n    for i in range(50):\n        lat = x['latitude'][i]\n        lng = x['longitude'][i]\n        xpt,ypt = m(lng,lat)\n        m.plot(xpt,ypt,'o','red',markersize=5.0)\n\n    plt.title('New York\"s most expensive airbnb places ',fontsize=18)\n    \nnew_york_basemap_2(df)","a1749402":"# top 50 available spots in new york \ndef new_york_basemap_3(df):\n    fig = plt.figure(figsize=(12,8))\n    \n    m = Basemap(projection='lcc',lat_0=40.71,lon_0=-74.00,\n                width=75000,height=75000,resolution='h')\n    \n    m.fillcontinents(color=\"yellow\",lake_color=\"#DDEEFF\")\n    m.drawmapboundary(fill_color='#DDEEFF')\n    m.drawcoastlines()\n    \n    x = df.sort_values(by='availability_365',ascending=False)\n    x = x.reset_index()\n    for i in range(50):\n        lat = x['latitude'][i]\n        lng = x['longitude'][i]\n        xpt,ypt = m(lng,lat)\n        m.plot(xpt,ypt,'o','red',markersize=5.0)\n\n    plt.title('Available places in new york throughout the year ',fontsize=18)\n    \nnew_york_basemap_3(df)","96ec9d71":"def availability_by_month(df):\n    style.use('seaborn')\n    df.dropna(inplace=True)\n    df.replace(0,inplace=True)\n    x =  [i for i in range(12)]\n    fig,axes = plt.subplots(5,figsize=(20,8))\n    colors = ['r','b','g','y','pink']\n    cities = df['neighbourhood_group'].unique()\n    for j in range(5):  \n        new_df = df[df['neighbourhood_group']==cities[j]]\n        \n        y_list = []\n        for i in range(1,13):\n            y = new_df[new_df['month']==i]\n\n            y_value  = y['availability_365'].mean()\n            y_list.append(y_value)\n        axes[j].plot(x,y_list,color=colors[j])\n        axes[j].set_xticks([])\n        axes[j].set_title(cities[j],fontsize=15)\n    \n    axes[2].set_ylabel('Availability of days',fontsize=28)\n    plt.xlabel('Months',fontsize=28)\n    plt.xticks(x,x)\n    plt.show()\navailability_by_month(df)","8bdcf31f":"def new_york_basemap_4(city,lat,lon,df):\n    fig = plt.figure(figsize=(12,8))\n    \n    m = Basemap(projection='lcc',lat_0=lat,lon_0=lon,\n                width=8000,height=8000,resolution='h')\n    \n    m.fillcontinents(color=\"#FFDDCC\",lake_color=\"#DDEEFF\")\n    m.drawmapboundary(fill_color='#DDEEFF')\n    m.drawcoastlines()\n    \n    x = df[df['neighbourhood_group']==city]\n    x = x.sort_values(by='number_of_reviews',ascending=False)\n    x = x.reset_index()  \n    for i in range(50):\n        lat = x['latitude'][i]\n        lng = x['longitude'][i]\n        xpt,ypt = m(lng,lat)\n        m.plot(xpt,ypt,'o','red',markersize=7.0)\n\n    plt.title('Most popular(by_reviews) places of '+ city,fontsize=18)\n\nnew_york_basemap_4('Manhattan',40.7831, -73.9712,df)","1c339fdf":"new_york_basemap_4('Brooklyn',40.6782, -73.9442,df)","98c08eff":"new_york_basemap_4('Bronx',40.8448, -73.8648,df)","b2bb127d":"new_york_basemap_4('Queens',40.7282, -73.7949,df)","5fe3ef03":"new_york_basemap_4('Staten Island',40.5795, -74.1502,df)","f27945cb":"<a id=\"7\"><\/a>\n<font color=\"gray\" size=+1.0><b>7. New_York_Basemap<\/b><\/font>\n<div><h3>\n    <span style=\"font-family:cursive\"> Most number of Airbnb rooms in New york in different regions.<\/span>\n    <\/h3>\n    <\/div>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","29bcfc40":"<a id=\"11\"><\/a>\n<font color=\"gray\" size=+1.0><b>11. Stacked_Plots<\/b><\/font>\n<div><h3>\n    <span style=\"font-family:cursive\"> availability of rooms in NYC.<\/span>\n    <\/h3>\n    <\/div>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","cc9a74ab":"<a id=\"8\"><\/a>\n<font color=\"gray\" size=+1.0><b>8. Pie_chart<\/b><\/font>\n<div><h3>\n    <span style=\"font-family:cursive\"> Room type disribution in different regions.<\/span>\n    <\/h3>\n    <\/div>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","53726490":"<a id=\"12\"><\/a>\n<font color=\"gray\" size=+1.0><b>12. New_York_Basemap_4<\/b><\/font>\n<div><h3>\n    <span style=\"font-family:cursive\">Most popular(by_reviews) places of Manhattan<\/span>\n    <\/h3>\n    <\/div>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","8f575b28":"<a id=\"10\"><\/a>\n<font color=\"gray\" size=+1.0><b>10. New_York_Basemap_3<\/b><\/font>\n<div><h3>\n    <span style=\"font-family:cursive\"> Top 50 available places in New York.<\/span>\n    <\/h3>\n    <\/div>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","c9afbd70":"<a id=\"top\"><\/a>\n\n<div class=\"list-group\" id=\"list-tab\" role=\"tablist\">\n<h3 class=\"list-group-item list-group-item-action active\" data-toggle=\"list\"  role=\"tab\" aria-controls=\"home\">Quick_Access<\/h3>\n\n  \n* [1. WordCloud](#1)\n* [2. Pair_Plots](#2)\n* [3. Correlation](#3)\n* [4. Density_Plot](#4)\n* [5. Time_Series_1](#5)\n* [6. Time_Series_2](#6)\n* [7. New_York_Basemap](#7)\n* [8. Piechart](#8)\n* [9. New_York_Basemap_2](#9) \n* [10. New_York_Basemap_3](#10)\n* [11. Stacked_Plots](#11)\n* [12. Manhattan_map](#12)\n* [13. Brooklyn_map](#13)\n* [14. Bronx_map](#14)\n* [15. Queens_map](#15)\n* [16. Staten Island map](#16) ","3a588808":"<a id=\"3\"><\/a>\n<font color=\"gray\" size=+1.0><b>3. Correlation<\/b><\/font>\n\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","52302acf":"<a id=\"16\"><\/a>\n<font color=\"gray\" size=+1.0><b>16. Staten Island map<\/b><\/font>\n<div><h3>\n    <span style=\"font-family:cursive\">Most popular(by_reviews) places of Staten Island<\/span>\n    <\/h3>\n    <\/div>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","4b443ccd":"<a id=\"4\"><\/a>\n<font color=\"gray\" size=+1.0><b>4. Density_plot<\/b><\/font>\n<div><h3>\n    <span style=\"font-family:cursive\">Density plot of availability in terms of days of top 5 places of New York.<\/span>\n    <\/h3>\n    <\/div>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","9a0047cb":"<a id=\"5\"><\/a>\n<font color=\"gray\" size=+1.0><b>5 .Time_series_1<\/b><\/font>\n<div><h3>\n    <span style=\"font-family:cursive\"> Average(mean) price fluctuation over 12 months over different places.<\/span>\n    <\/h3>\n    <\/div>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","879a661f":" # Thank You!!!","ce01a077":"<a id=\"1\"><\/a>\n<font color=\"gray\" size=+1.0><b>1. Wordcloud <\/b>\n  <\/font>   \n<div><h3>\n    <span style=\"font-family:cursive\">This is the wordcloud of room descriptions.<br \/><\/span>\n    <\/h3>\n    <\/div>\n    \n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","d1aeb739":"<a id=\"13\"><\/a>\n<font color=\"gray\" size=+1.0><b>13. Brooklyn_map<\/b><\/font>\n<div><h3>\n    <span style=\"font-family:cursive\">Most popular(by_reviews) places of Brooklyn<\/span>\n    <\/h3>\n    <\/div>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","1a2677f6":"<a id=\"6\"><\/a>\n<font color=\"gray\" size=+1.0><b>6. Time_series_2<\/b><\/font>\n<div><h3>\n    <span style=\"font-family:cursive\"> Average(mean) price fluctuation over the years  over different places.<\/span>\n    <\/h3>\n    <\/div>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","16cae804":"<div> <h1> <span style=\"color:brown\"> Please give an upvote if you liked the notebook\ud83d\ude4c<\/span><\/h1><\/div>\n\n","75c09318":"<div> <h1> <span style=\"color:red\">AirBnB  EDA<\/span><\/h1><\/div>\n","ded62bed":"<a id=\"2\"><\/a>\n<font color=\"gray\" size=+1.0><b>2. PairPlots<\/b><\/font>\n<div><h3>\n    <span style=\"font-family:cursive\">Relationship of numerical columns .<\/span>\n    <\/h3>\n    <\/div>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","bd480e4b":"![600px-Airbnb-newyork.jpg](attachment:600px-Airbnb-newyork.jpg)","e72c4ffa":"<a id=\"9\"><\/a>\n<font color=\"gray\" size=+1.0><b>9. New_York_Basemap_2\n    <\/b><\/font>\n<div><h3>\n    <span style=\"font-family:cursive\">Top 50 expensive Airbnb places in New York  <br \/> <h4> As you can see these are mostly in Manhattan and Brooklyn<h4><\/span>\n    <\/h3>\n    <\/div>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","cbbcaee8":"<a id=\"15\"><\/a>\n<font color=\"gray\" size=+1.0><b>15. Queens_map<\/b><\/font>\n<div><h3>\n    <span style=\"font-family:cursive\">Most popular(by_reviews) places of Queens<\/span>\n    <\/h3>\n    <\/div>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","b0cfb01f":"<a id=\"14\"><\/a>\n<font color=\"gray\" size=+1.0><b>14. Bronx_map<\/b><\/font>\n<div><h3>\n    <span style=\"font-family:cursive\">Most popular(by_reviews) places of Bronx<\/span>\n    <\/h3>\n    <\/div>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>"}}