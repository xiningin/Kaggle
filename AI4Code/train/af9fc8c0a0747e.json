{"cell_type":{"205feb69":"code","c94f0b8b":"code","b7a16ae3":"code","72becc7b":"code","d40ae91c":"code","0ba33575":"code","f6f710a8":"code","edaa8a92":"code","bc96a5e1":"code","14f175a4":"code","8d9a6e37":"code","32c49d61":"code","3981aed2":"code","34421356":"code","77668d0d":"code","2ceb72a7":"code","5d780b92":"code","c0a964fc":"code","18d174fc":"code","e08409b7":"code","c464bf3d":"code","74c22107":"code","5d36cf72":"code","410a7686":"code","90877ec1":"code","9e46baf2":"code","6ad4752c":"code","533e5721":"code","08116f52":"code","e4ea0e66":"code","34a7674e":"code","266da8cb":"code","ae4d4840":"markdown","9c1ebd76":"markdown","d7ea0f11":"markdown","314f275a":"markdown","e3d6612a":"markdown","0aaa49e3":"markdown","a7daa8c8":"markdown","30cec0af":"markdown","a80a27ae":"markdown","26428d9a":"markdown","f16c572a":"markdown","e3cbefae":"markdown","fdd95449":"markdown","ec988594":"markdown","448667f3":"markdown","5d4947a0":"markdown","f79835d4":"markdown","6d78a4bf":"markdown","fb0d19e8":"markdown","f95968b2":"markdown","5363b02d":"markdown","7d4d7a38":"markdown","53474e4d":"markdown","1e5b2619":"markdown","1c32e595":"markdown","dcc13ca1":"markdown","7d3ffa87":"markdown","b5262f8e":"markdown"},"source":{"205feb69":"import pandas as pd\nimport numpy as np\nimport re\nfrom sklearn.preprocessing import LabelEncoder\nfrom wordcloud import WordCloud\nfrom collections import Counter\n%matplotlib inline\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.graph_objects as go\nimport plotly.express as px\nimport warnings\nwarnings.filterwarnings('ignore')","c94f0b8b":"data = pd.read_csv('..\/input\/data-analyst-jobs\/DataAnalyst.csv')","b7a16ae3":"data.head()","72becc7b":"data.info()","d40ae91c":"data = data.replace(-1, np.nan)\ndata = data.replace('-1', np.nan)\ndata = data.replace(-1.0, np.nan)","0ba33575":"data.info()","f6f710a8":"data['Salary Estimate'].value_counts()","edaa8a92":"data['Salary Estimate'] = data['Salary Estimate'].apply(lambda x: str(x))\ndata['Salary Estimate'] = data['Salary Estimate'].apply(lambda x: re.findall(r'\\d+', x))\ndata['sal_est_min'] = data['Salary Estimate'].str[0].astype(np.float32)\ndata['sal_est_max'] = data['Salary Estimate'].str[1].astype(np.float32)\ndata.drop('Salary Estimate', axis=1, inplace=True)","bc96a5e1":"data['Revenue'].value_counts()","14f175a4":"data['rev_scale'] = data['Revenue'].apply(lambda x: 1e6 if 'million' in str(x) else (1e9 if 'billion' in str(x) else (np.nan)))\ndata['rev_scale'] = data['rev_scale'].astype(np.float32)\ndata['Revenue'] = data['Revenue'].apply(lambda x: str(x))\ndata['Revenue'] = data['Revenue'].apply(lambda x: re.findall(r'\\d+', x))\ndata['rev_min'] = data['Revenue'].str[0].astype(np.float32) * data['rev_scale']\ndata['rev_max'] = data['Revenue'].str[1].astype(np.float32) * data['rev_scale']\ndata.drop(['Revenue', 'rev_scale'], axis=1, inplace=True)","8d9a6e37":"data['Size'].value_counts()","32c49d61":"data['Size'] = data['Size'].apply(lambda x: str(x))\ndata['Size'] = data['Size'].apply(lambda x: re.findall(r'\\d+', x))\ndata['min_emp_size'] = data['Size'].str[0].astype(np.float32)\ndata['max_emp_size'] = data['Size'].str[1].astype(np.float32)\ndata.drop('Size', axis=1, inplace=True)","3981aed2":"data['Location'].value_counts()","34421356":"data['city'], data['state'] = data['Location'].str.split(',', 1).str\ndata.drop('Location', axis=1, inplace=True)","77668d0d":"data['Headquarters'].value_counts()","2ceb72a7":"data['hq_city'], data['hq_state'] = data['Headquarters'].str.split(',',1).str\ndata.drop('Headquarters', axis=1, inplace=True)","5d780b92":"data['company'] = data['Company Name'].apply(lambda x: str(x).split('\\n')[0])\ndata.drop('Company Name', axis=1, inplace=True)","c0a964fc":"data['Job Title'].head()","18d174fc":"data['Job Title'], data['Department'] = data['Job Title'].str.split(',', 1).str\ndata[['Job Title', 'Department']].head()","e08409b7":"data.drop('Unnamed: 0', axis=1, inplace=True)","c464bf3d":"data.head()","74c22107":"job_titles = list(data['Job Title'].values)\njt = ' '.join(job_titles)\nwc = WordCloud(width = 800, height = 640, background_color='black').generate(jt)\nplt.figure(figsize = (14, 12))\nplt.imshow(wc)\nplt.axis('off')\nplt.show()","5d36cf72":"titles , values = zip(*Counter(job_titles).most_common(20))\nplt.figure(figsize=(12,7))\nplt.bar(titles, values)\nplt.title('Top Job Titles')\nplt.xticks(rotation=90)\nplt.show()","410a7686":"plt.figure(figsize=(10,8))\nsns.distplot(data['Founded'], bins=100, kde=False, color='orange', hist_kws={\"rwidth\":0.75,'edgecolor':'black', 'alpha':1.0})\nplt.xlim([1930, 2020])\nplt.title('Founding Year')\nplt.xlabel('Year Founded')\nplt.ylabel('No .of companies')\nplt.show()","90877ec1":"ownership= list(data['Type of ownership'].dropna().values)\ndict1 = Counter(ownership)\ndict1 = sorted(dict1.items(), key=lambda x: x[1], reverse=True)\nownership_type, counts = zip(*dict1)\nplt.figure(figsize=(12,7))\nplt.bar(ownership_type, counts, color='crimson')\nplt.title('Ownership Type')\nplt.xticks(rotation=90)\nplt.xlabel('Sector')\nplt.ylabel('No. of companies')\nplt.show()","9e46baf2":"industry = data['Industry'].dropna().values\nind, vals = zip(*Counter(industry).most_common(15))\nplt.figure(figsize=(12,8))\nplt.bar(ind, vals, color='brown')\nplt.xticks(rotation=90)\nplt.xlabel('Industry')\nplt.ylabel('No. of companies')\nplt.show()","6ad4752c":"sector = data['Sector'].dropna()\nfig = px.pie(sector, names='Sector', title='Sectors')\nfig.show()","533e5721":"# Total no. of cities in data\nlen(data['city'].unique())","08116f52":"top_25 = data.groupby('city')[['sal_est_min', 'sal_est_max']].mean().sort_values(by = ['sal_est_max','sal_est_min'], ascending = False).head(25)\n\nfig = go.Figure()\n\nfig.add_trace(go.Bar(x=top_25.index, y=top_25.sal_est_min, name='Min Salary'))\nfig.add_trace(go.Bar(x=top_25.index, y=top_25.sal_est_max, name='Max Salary'))\n\nfig.update_layout(title='Min and Max salaries in top 25 cities for Data Analyst roles in $\\'000', barmode='stack')\nfig.show()","e4ea0e66":"roles_sal = data.groupby('Job Title')[['sal_est_min', 'sal_est_max']].mean().sort_values(['sal_est_max', 'sal_est_min'], ascending=False).head(20)\n\nfig = go.Figure()\n\nfig.add_trace(go.Bar(x=roles_sal.index, y=roles_sal.sal_est_min, name='Min Salary'))\nfig.add_trace(go.Bar(x=roles_sal.index, y=roles_sal.sal_est_max, name='Max Salary'))\n\nfig.update_layout(title='Min & Max salaries of 20 Job titles in $\\'000', barmode='stack')\nfig.show()","34a7674e":"data['Easy Apply'][data['Easy Apply'].notna()].shape[0]\/data.shape[0] * 100","266da8cb":"openings = data['Job Title'][data['Easy Apply'] == 'True']\nopenings = Counter(openings).most_common(15)\nopenings, counts = zip(*openings)\nplt.figure(figsize=(12,6))\nplt.bar(openings, counts)\nplt.title('Job vacancies')\nplt.xticks(rotation=90)\nplt.xlabel('Job Title')\nplt.ylabel('No. of vacancies')\nplt.show()","ae4d4840":"**Job Titles**","9c1ebd76":"Salary estimate is a string with alpha-numeric and special symbols. Extract min and max salary values and put them in different columns","d7ea0f11":"Job vacancies","314f275a":"**Industry**","e3d6612a":"A great majority of these organizations happen to be Private and Public companies","0aaa49e3":"# Data Visualization","a7daa8c8":"IT Services, Staffing & Outsourcing are the top two industries where there are far more Data Analyst roles than in other industries. ","30cec0af":"Extract Job title and department from Job title field","a80a27ae":"# Data Cleaning","26428d9a":"Only 3.55% of the data contains job openings","f16c572a":"![image.png](attachment:image.png)","e3cbefae":"**Min and Max salaries of top 25 cities**","fdd95449":"Revenue is given in million dollars in some cases and billion dollars in other cases. Extract min and max revenues and put them in different columns","ec988594":"**Founding Year. Considering it from 1930 until 2020**","448667f3":"# Import libraries","5d4947a0":"**Sectors**","f79835d4":"Percentage of job openings in data","6d78a4bf":"# Load data","fb0d19e8":"Many of these organizations were founded around 2000 ","f95968b2":"If you like my work, please upvote :)","5363b02d":"Three quarters of total job postings are from 4 sectors: Tech, Business services, Finance, Health care.","7d4d7a38":"Split Headquarters into HQ city and HQ state","53474e4d":"Split Location into city and state","1e5b2619":"This data contains -1 in multiple columns that indicates missing data. Replace it with np.nan","1c32e595":"# Problem Overview","dcc13ca1":"**Type of Ownership**","7d3ffa87":"Extract employee size ","b5262f8e":"This dataset was created by picklesueat and contains more than 2000 job listing for data analyst positions, with features such as:\n\n* Salary Estimate\n* Location\n* Company Rating\n* Job Description and more."}}