{"cell_type":{"62473610":"code","db1bc795":"code","c21abad4":"code","8a17c370":"code","0d20a359":"code","b91e37f0":"code","e30537b1":"code","4cb688b5":"code","ebf373fe":"code","11909f51":"code","0d4f4888":"code","25c5cc50":"code","f85447f8":"code","041fd849":"code","4b6b167e":"code","977b2a64":"code","87e7d548":"code","ebb8f4c7":"code","047c2667":"code","89034b97":"code","bf4c45d6":"code","961b0817":"code","35743422":"code","d5e3d02d":"code","94734b46":"code","fc6671b7":"code","db6b1b21":"code","698eccec":"code","618c8198":"code","5b221519":"code","f026de54":"code","454b5077":"code","b065d0bc":"code","e35aa07a":"code","9fe1e8b4":"code","9a4eb6a8":"code","86ed697d":"code","9ed5ca85":"code","4974af1f":"code","17a25db5":"code","6f9ffec7":"code","33085d4f":"code","a2e4041d":"code","b747db9b":"code","4692121f":"code","37e3998f":"code","eb088c3f":"code","00921589":"markdown","4ba7f51a":"markdown","9948ab5f":"markdown","54c59ea0":"markdown","ffd7440c":"markdown","3f330fd6":"markdown","903fbcd2":"markdown","e14d0ab7":"markdown","c5134e6c":"markdown","32a29775":"markdown","0d75de60":"markdown","888428fe":"markdown","97115f8f":"markdown","dd618e15":"markdown","d5b0d601":"markdown","d6ca15c6":"markdown","78064415":"markdown","dcd2426e":"markdown"},"source":{"62473610":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","db1bc795":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns","c21abad4":"df = pd.read_csv('..\/input\/usdtry-conversion-and-interest-rates-20102021\/turkey_investments.csv')\ndf.head()","8a17c370":"df['Date'] = pd.to_datetime(df[\"Date\"],yearfirst=True,format='%Y%m',infer_datetime_format = True)\n## There is no data (yet) about USD interest dates in August 2021\ndf.drop(df.tail(1).index,inplace=True)","0d20a359":"# Importing some styling\nsns.set_style('whitegrid')","b91e37f0":"# USD Exchange Rate 1 USD vs TRY (2010-2021)\n## First of all I want to see USD\/TRY conversion over the years. I will use USD Selling. ( When Customer buys USD, we are using sell (from the bank or exchange office). I know backwards logic!)\nplt.figure(figsize=(24,6),dpi=200)\nsns.lineplot(data=df,x='Date',y='USD Selling').set_title(\"USD Exchange Rate between 2010 and 2021\",weight='bold')\nplt.xlabel(\"Date\",weight='bold')\nplt.ylabel(\"1 USD equals ... TRY\",weight='bold')","e30537b1":"# Interest Rates for TRY (2010-2021)\ndf.plot(x='Date', y=['1 Month TRY Interest','3 Months TRY Interest','6 Months TRY Interest','1 Year TRY Interest'],legend=True, title= 'TRY Interest Rates',figsize=(24,6),subplots=True)\n","4cb688b5":"# Above graphs are showing the general trend but I want to format x axis as \"date\"\nimport matplotlib.dates as mdates\nimport matplotlib.cbook as cbook","ebf373fe":"df.plot(x='Date', y=['1 Month TRY Interest','3 Months TRY Interest','6 Months TRY Interest','1 Year TRY Interest'],legend=True, title= 'TRY Interest Rates',figsize=(24,6))\nplt.xlabel(\"Date\",weight='bold')\nplt.ylabel(\"TRY Interest Rates %\",weight='bold')","11909f51":"# Interest Rates for USD (2010-2021)\ndf.plot(x=\"Date\",y=['1 Month USD Interest','3 Months USD Interest','6 Months USD Interest','1 Year USD Interest'],figsize=(24,6),legend=True,title=\"USD Interest Rates\")\nplt.xlabel(\"Date\",weight='bold')\nplt.ylabel(\"USD Interest Rates %\",weight='bold')","0d4f4888":"# First of all, based on the dataset, if I could keep my start-up money($100000)and exchange in August 2021 how much TRY would I have? \nlen = df.shape[0]\nlen","25c5cc50":"tl_total_2021 = round(100000*df['USD Buying'][len-1],2)\ntl_total_2021","f85447f8":"## if I exchange my $100000 in 2010.\ntl_total_2010 = round(100000* df[\"USD Buying\"][0],2)\ntl_total_2010","041fd849":"def interest(P,R,months):\n    return (P\/100)*(R\/12)*months","4b6b167e":"# I want to create a function which I can use for creating individual dataframes based on the interest rate.\ndef interest_df(P,R,month,original_df,conversion):\n    term = original_df.shape[0]\n    i = 0\n    \n    monthly_I = []\n    monthly_t = []\n    monthly_P = []\n    if conversion == 'USD':\n        conversion_array = []\n\n    new_principal=P\n\n    while i < term:\n        int_monthly = interest(new_principal,R[i],month)\n        int_after_tax = round((int_monthly*0.8),2)\n        monthly_I.append(int_after_tax)\n        new_principal = new_principal + int_after_tax\n        monthly_P.append(new_principal)\n        monthly_t.append(df['Date'][i]) \n        if conversion == \"USD\":\n            conversion_array.append(round(new_principal*original_df['USD Buying'][i],2))\n        i = i+month\n    \n    if conversion == 'TRY':   \n        data_try = {\"Date\": monthly_t,\"Interest\" : monthly_I,\"Principal\": monthly_P }     \n        new_try_df = pd.DataFrame(data_try)\n    elif conversion == 'USD' :\n        data_usd = {\"Date\": monthly_t,\"Interest\" : monthly_I,\"Principal\": monthly_P, \"Return in TRY\": conversion_array }     \n        new_usd_df = pd.DataFrame(data_usd)\n\n    if conversion == \"TRY\":\n        return new_try_df\n    else:\n        return new_usd_df","977b2a64":"df_one_month_TRY = interest_df(tl_total_2010, df[\"1 Month TRY Interest\"],1,df,\"TRY\")\ndf_one_month_TRY.describe()","87e7d548":"df_one_month_TRY['Date'] = df_one_month_TRY[\"Date\"].dt.date\n## End of August 2021, I would have following amount on my account, if I exchange my money to Turkish Lira and put on a monthly interest\nTRY_monthly_total = round(df_one_month_TRY[\"Principal\"].max(),2)\nTRY_monthly_total","ebb8f4c7":"plt.figure(figsize=(20,6),dpi=200)\nsns.barplot(data=df_one_month_TRY,x=\"Date\",y=\"Principal\")\nplt.title('Monthly TRYPrincipal',weight='bold',fontsize=16)    \nplt.xlabel(\"Date\",weight='bold')\nplt.ylabel(\"Principal\",weight='bold')\nplt.xticks(rotation=90)","047c2667":"df_three_month_TRY = interest_df(tl_total_2010, df[\"3 Months TRY Interest\"],3,df, \"TRY\")\ndf_three_month_TRY['Date'] = df_three_month_TRY[\"Date\"].dt.date\n## End of August 2021, I would have following amount on my account, if I exchange my money to Turkish Lira and put on 3 monthly interest\nTRY_three_monthly_total = round(df_three_month_TRY[\"Principal\"].max(),2)\nTRY_three_monthly_total","89034b97":"plt.figure(figsize=(20,6),dpi=200)\nax = sns.barplot(data=df_three_month_TRY,x=\"Date\",y=\"Principal\")\nplt.title('3 Monthly TRY Principal',weight='bold',fontsize=16)    \nplt.xlabel(\"Date\",weight='bold')\nplt.ylabel(\"Principal\",weight='bold')\nplt.xticks(rotation=90)\n\n#for p in ax.patches:\n#    ax.annotate(f'\\n{p.get_height()}', (p.get_x()+0.2, p.get_height()), ha='center', va='top', color='black', size=10)\nplt.show()","bf4c45d6":"df_six_month_TRY = interest_df(tl_total_2010, df[\"6 Months TRY Interest\"],6,df, \"TRY\")\ndf_six_month_TRY['Date'] = df_six_month_TRY[\"Date\"].dt.date\ndf_six_month_TRY","961b0817":"## End of August 2021, I would have following amount on my account, if I exchange my money to Turkish Lira and put on 6 monthly interest\nTRY_six_monthly_total = df_six_month_TRY[\"Principal\"].max()\nTRY_six_monthly_total","35743422":"plt.figure(figsize=(20,6),dpi=200)\nax = sns.barplot(data=df_six_month_TRY,x=\"Date\",y=\"Principal\")\nplt.title('6 Monthly TRY Principal',weight='bold',fontsize=16)    \nplt.xlabel(\"Date\",weight='bold')\nplt.ylabel(\"Principal\",weight='bold')\nplt.xticks(rotation=90)","d5e3d02d":"df_one_year_TRY = interest_df(tl_total_2010, df[\"1 Year TRY Interest\"],12,df, \"TRY\")\ndf_one_year_TRY['Date'] = df_one_year_TRY[\"Date\"].dt.date\ndf_one_year_TRY","94734b46":"## End of August 2021, I would have following amount on my account, if I exchange my money to Turkish Lira and put on annual interest\nTRY_one_year_total = round(df_one_year_TRY[\"Principal\"].max(),2)\nTRY_one_year_total","fc6671b7":"plt.figure(figsize=(20,6),dpi=200)\nsns.barplot(data=df_one_year_TRY,x=\"Date\",y=\"Principal\")\nplt.title('Annual TRY Principal',weight='bold',fontsize=16)    \nplt.xlabel(\"Date\",weight='bold')\nplt.ylabel(\"Principal\",weight='bold')\nplt.xticks(rotation=90)","db6b1b21":"df_one_month_USD = interest_df(100000, df[\"1 Month USD Interest\"],1,df,\"USD\")\ndf_one_month_USD","698eccec":"convert_USD_one_month_total = df_one_month_USD['Return in TRY'][len-1]\nconvert_USD_one_month_total","618c8198":"df_three_month_USD = interest_df(100000, df[\"3 Months USD Interest\"],3,df,\"USD\")\ndf_three_month_USD","5b221519":"convert_USD_three_month_total = df_three_month_USD['Return in TRY'].max()\nconvert_USD_three_month_total","f026de54":"df_six_month_USD = interest_df(100000, df[\"6 Months USD Interest\"],6,df,\"USD\")\ndf_six_month_USD","454b5077":"convert_USD_six_month_total =  df_six_month_USD['Return in TRY'].max()\nconvert_USD_six_month_total","b065d0bc":"df_one_year_USD = interest_df(100000, df[\"1 Year USD Interest\"],12,df,\"USD\")\ndf_one_year_USD","e35aa07a":"convert_USD_year_total = df_one_year_USD['Return in TRY'].max()\nconvert_USD_year_total","9fe1e8b4":"fig = plt.figure(figsize=(20,8),dpi=200)\n\n\nfor frame in [df_one_month_TRY,df_three_month_TRY,df_six_month_TRY,df_one_year_TRY]:\n    plt.plot(frame[\"Date\"], frame['Principal'])\n    #plt.legend(['One month TRY Interest','Three months TRY Interest','Six months TRY Interest','One year TRY Interest'])\n    \nfor frame in [df_one_month_USD,df_three_month_USD,df_six_month_USD,df_one_year_USD]:\n    plt.plot(frame[\"Date\"], frame['Return in TRY'])\n    plt.legend(['One month TRY Interest','Three months TRY Interest','Six months TRY Interest','One year TRY Interest','One month USD Interest (Return in TRY)','Three months USD Interest (Return in TRY)','Six months USD Interest (Return in TRY)','One year USD Interest (Return in TRY)'])\n    \n\nplt.ylim(100000,1200000) \n\nplt.xlabel('Date',weight='bold',fontsize=10)\nplt.ylabel('Principal after Interests (Millions, TRY)',weight='bold',fontsize=10)\nplt.title(\"2010-2021 TRY and USD Interest Returns Comparison\",weight='bold')\n\nplt.show()","9a4eb6a8":"## I already calculated earlier on the notebook converted $100000 in July 2010 and July 2021\nprint(\"If we converted our $100000 in July 2010, it would be :\",tl_total_2010)\nprint(\"If we converted our $100000 in July 2021, it would be :\",tl_total_2021)","86ed697d":"my_index = ['One month TRY Interest','Three months TRY Interest','Six months TRY Interest','One year TRY Interest','One month USD Interest','Three months USD Interest','Six months USD Interest','One year USD Interest']\nmy_columns = ['Total Money in TRY','Total Money in USD',\"Total Interest in TRY\",\"Total Interest in USD\", \"Difference with Interest in TRY\",\"Total Earning % in TRY\", \"Total Earning % in USD\" ]","9ed5ca85":"## I will make the similar calculations for each df, so making a function will save some time\n\nusd_buying_2021 = df['USD Buying'][len-1]\n\ndef result_maker(dframe,currency):\n    l = dframe.shape[0]\n \n    if currency == 'USD':\n        tr_principal = round(dframe['Return in TRY'][l-1],2)\n        usd_principal = round(dframe[\"Principal\"][l-1],2)\n        tr_interest = round(dframe['Return in TRY'][l-1]-tl_total_2010,2)  \n        ## $100000 is our starting point \n        usd_interest = round(dframe[\"Principal\"][l-1] - 100000,2)\n        difference_tr = tr_principal - tl_total_2021       \n        tr_earning_perc = int(100*((tr_principal-tl_total_2010)\/tl_total_2010))\n        usd_earning_perc = int(100*((usd_principal-100000)\/100000))\n        \n    if currency==\"TRY\":\n        tr_principal = round(dframe['Principal'][l-1],2)\n        usd_principal = round((dframe[\"Principal\"][l-1] \/ usd_buying_2021),2)\n        tr_interest = round(dframe['Principal'][l-1]- tl_total_2010,2)        \n        usd_interest = round(usd_principal-100000,2)\n        difference_tr = tr_principal - tl_total_2021\n        tr_earning_perc = int(100*((tr_principal-tl_total_2010)\/tl_total_2010))\n        usd_earning_perc = int(100*((usd_principal-100000)\/100000))\n        \n    return [tr_principal,usd_principal,tr_interest,usd_interest,difference_tr,tr_earning_perc,usd_earning_perc]","4974af1f":"tr_one_month = result_maker(df_one_month_TRY,\"TRY\")\ntr_one_month","17a25db5":"usd_one_month = result_maker(df_one_month_USD,\"USD\")\nusd_one_month","6f9ffec7":"tr_three_month = result_maker(df_three_month_TRY,\"TRY\")\ntr_six_month = result_maker(df_six_month_TRY,\"TRY\")\ntr_one_year = result_maker(df_one_year_TRY,\"TRY\")\nusd_three_month = result_maker(df_three_month_USD,\"USD\")\nusd_six_month = result_maker(df_six_month_USD,\"USD\")\nusd_one_year = result_maker(df_one_year_USD,\"USD\")","33085d4f":"## I need to create\/ take the data from each df based on my columns descriptions and create an series.\nsummary_data = [tr_one_month,tr_three_month,tr_six_month,tr_one_year,usd_one_month,usd_three_month,usd_six_month,usd_one_year]","a2e4041d":"summary_df = pd.DataFrame(data=summary_data, index=my_index,columns=my_columns)\nsummary_df","b747db9b":"types = summary_df.index\nplt.figure(figsize=(20,6),dpi=200)\nax = sns.barplot(data=summary_df,x=types,y='Total Money in TRY',palette=\"spring\")\nplt.title('Total Money in Turkish Lira after 10 year with Interest',weight='bold',fontsize=16)    \nplt.suptitle('Starting with $100000 = 153631.36 TL in July 2010',weight='bold',fontsize=12)\nplt.xlabel('INTEREST TYPE',weight='bold')\nplt.ylabel('TOTAL MONEY IN TRY (Millions TRY)',weight='bold')\nplt.xticks(rotation=45)\n\nfor p in ax.patches:\n    ax.annotate(f'\\n{p.get_height()}', (p.get_x()+0.2, p.get_height()), ha='center', va='top', color='black', size=10)\n\nplt.tight_layout()\nplt.show()","4692121f":"types = summary_df.index\nplt.figure(figsize=(20,6),dpi=200)\nax = sns.barplot(data=summary_df,x=types,y='Total Money in USD',palette=\"summer\")\nplt.title('Total Money in USD after 10 year with Interest',weight='bold',fontsize=16)    \nplt.suptitle('Starting with $100000 in July 2010',weight='bold',fontsize=12)\nplt.xlabel('INTEREST TYPE',weight='bold')\nplt.ylabel('TOTAL MONEY IN USD (Millions USD)',weight='bold')\nplt.xticks(rotation=45)\n\nfor p in ax.patches:\n    ax.annotate(f'\\n{p.get_height()}', (p.get_x()+0.2, p.get_height()), ha='center', va='top', color='black', size=10)\n\nplt.tight_layout()\n\nplt.show()","37e3998f":"types = summary_df.index\nplt.figure(figsize=(20,6),dpi=200)\nax = sns.barplot(data=summary_df,x=types,y='Total Earning % in TRY',palette=\"colorblind\")\nplt.title('Total  Earning Percentage in Turkish Lira',weight='bold',fontsize=16)    \nplt.xlabel('INTEREST TYPE',weight='bold')\nplt.ylabel('GAIN PERCENTAGE',weight='bold')\nplt.xticks(rotation=45)\n\nfor p in ax.patches:\n    ax.annotate(f'\\n{p.get_height()}', (p.get_x()+0.2, p.get_height()), ha='center', va='top', color='black', size=10)\n\nplt.tight_layout()\n\nplt.show()","eb088c3f":"types = summary_df.index\nplt.figure(figsize=(20,6),dpi=200)\nax = sns.barplot(data=summary_df,x=types,y='Total Earning % in USD',palette=\"colorblind\")\nplt.title('Total  Earning Percentage in US Dollar',weight='bold',fontsize=16)    \nplt.xlabel('INTEREST TYPE',weight='bold')\nplt.ylabel('GAIN PERCENTAGE',weight='bold')\nplt.xticks(rotation=45)\n\nfor p in ax.patches:\n    ax.annotate(f'\\n{p.get_height()}', (p.get_x()+0.2, p.get_height()), ha='center', va='top', color='black', size=10)\n\nplt.tight_layout()\n\nplt.show()","00921589":"**Total Earning % in TRY**","4ba7f51a":"**Summary Table Visualization\n**\n\nGraph for Total Money in TRY","9948ab5f":"3 Monthly USD Interest\n\nLet's assume I had $100000 in July 2010 and I kept my USD and put 3 monthly interest until July 2021. (every 3 months interest is adding to my principal.) How much money I would have in the end(July 2021)? (For comparasion, I will convert to TRY in the end of the period)","54c59ea0":"1 Year TRY Interest\n\nLet's assume I had $100000 in July 2010 and I converted my USD to TRY and put annual interest until July 2021. (every three months interest is adding to my principal.) How much money I would have in the end(July 2021) ?","ffd7440c":"TURKISH LIRA INTERESTS\n\nMonthly TRY Interest\n\nLet's assume I had $100000 in July 2010 and I converted my USD to TRY and put monthly interest until August 2021. (every month interest is adding to my principal.) How much money I would have in the end(July 2021) ?","3f330fd6":"**Total Earning % in USD\u00b6**","903fbcd2":"Some explanation about column names:\n\nTotal Money in TRY: How much Turkish Lira did we make in end of July 2021 based on our choice of interest.(total sum)\n\nTotal Money in USD: How much United States Dolar did we make in end of July 2021 based on our choice of interest.(total sum)\n\nTotal Interest in TRY: Based on $100000 starting point, how much interest did we earn as TRY.\n\nTotal Interest in USD: Based on $100000 starting point, how much interest did we earn as USD.\n\nDifference with Interest in TRY: Difference between total money in TRY and conversion of $100000 to TRY in July 2021\n\nTotal Earning % in TRY: 100*((Total Money in TRY - Original Money in TRY)\/Original Money in TRY)\n\nTotal Earning % in USD: 100*((Total Money in USD - 100000)\/ 100000)","e14d0ab7":"Finally!\n\nAnnual USD Interest\n\nLet's assume I had $100000 in July 2010 and I kept my USD and put annual interest until July 2021. (every year interest is adding to my principal.) How much money I would have in the end(July 2021)? (For comparasion, I will convert to TRY in the end of the period) In [91]:","c5134e6c":"DATA ANALYSIS AND ANSWERING QUESTIONS:\n\nQ1: EXCHANGE MY MONEY IN 2010 FROM USD TO TRY:\nIF I WOULD EXCHANGED MY 100000 USD TO 'TRY' AND PUT 'TRY INTEREST'. COULD I HAVE MORE MONEY IN THE END?","32a29775":"Graph for Total Money in USD","0d75de60":"3 Monthly TRY Interest\n\nLet's assume I had $100000 in July 2010 and I converted my USD to TRY and put 3 monthly interest until July 2021. (every three months interest is adding to my principal.) How much money I would have in the end(July 2021) ?","888428fe":"USD INTERESTS\n\nQ2: KEEP MY MONEY IN 2010 IN USD:\n\nIF I KEPT MY 100000 USD AND PUT 'USD INTEREST'. COULD I HAVE MORE MONEY IN THE END?\n","97115f8f":"6 Monthly USD Interest\n\nLet's assume I had $100000 in July 2010 and I kept my USD and put 6 monthly interest until July 2021. (every 6 months interest is adding to my principal.) How much money I would have in the end(July 2021)? (For comparasion, I will convert to TRY in the end of the period)","dd618e15":"****Data Visualization - DF Comparison :","d5b0d601":"The Compound Interest Formula The compound interest formula finds principal plus interest.\nA = P(1 + r\/n)^nt\nIn the formula\nA = Accrued amount (principal + interest)\nP = Principal amount\nr = Annual nominal interest rate as a decimal\nR = Annual nominal interest rate as a percent\nr = R\/100\nn = number of compounding periods per unit of time\nt = time in decimal years; e.g., 6 months is calculated as 0.5 years. Divide your partial year number of months by 12 to get the decimal years.\nI = Interest amount\nBecause of the constant changing interest rates, people are investing their money in short terms in Turkey. So, if we simplify the formula for finding the interest, it will be like following:\nI = (P\/100) * (R\/12) * months\nIn [24]:\n","d6ca15c6":"6 Monthly TRY Interest\n\nLet's assume I had $100000 in July 2010 and I converted my USD to TRY and put 6 monthly interest until July 2021. (every three months interest is adding to my principal.) How much money I would have in the end(July 2021) ?","78064415":"Q3: COMPARING THE TOTAL PRINCIPAL & INTEREST IN AUGUST 2021 BASED ON PERCENTAGE","dcd2426e":"Monthly USD Interest\n\nLet's assume I had $100000 in July 2010 and I kept my USD and put monthly interest until July 2021. (every month interest is adding to my principal.) How much money I would have in the end(July 2021)? (For comparasion, I will convert to TRY in the end of the period)"}}