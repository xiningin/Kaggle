{"cell_type":{"f959bc21":"code","9464eb58":"code","8e687c99":"code","6734b9dd":"code","56f4be7a":"code","e681f521":"code","6fdc1ed0":"code","15c77aae":"code","a595f7d5":"code","5b19d468":"code","f0d05e56":"code","8610d7df":"code","2f7a7c44":"code","9d16a156":"code","acdd8002":"code","84713721":"code","40239372":"code","fc604b2a":"code","6cfaa58d":"code","f3d85090":"code","57124ba8":"code","df4994d5":"code","88914780":"code","ddd90fb9":"code","466b42b7":"code","2a760fae":"code","01ea2ad9":"code","196b00c3":"code","6b800990":"code","965df18b":"code","b379b626":"code","f91b5f00":"code","208df739":"code","72247696":"code","75b07e30":"code","bbddd1ce":"code","91676a65":"code","addc44d1":"code","6d1bb4b1":"code","0fbd1fbf":"code","760b758e":"markdown","0f33dd3a":"markdown","c102cf0a":"markdown","8689b39c":"markdown","57ffea4b":"markdown","1b46920f":"markdown","8128002e":"markdown","0f2281ac":"markdown","c7de419c":"markdown","cbed9aa7":"markdown","24b69096":"markdown","a8568aa4":"markdown","61952798":"markdown","297b4561":"markdown","25b3a9da":"markdown","9eb8b6bf":"markdown","ec227da2":"markdown","45d2956f":"markdown","0192de2f":"markdown","f5ea8fd7":"markdown","12400df3":"markdown","b2006f62":"markdown","eef73910":"markdown","b5be4fe0":"markdown","410f7269":"markdown","0b887172":"markdown","84cb21d1":"markdown","79195345":"markdown","9c232c64":"markdown","549be515":"markdown","56b83c69":"markdown","bb7f8ffc":"markdown","26aea87f":"markdown","95f3da65":"markdown","24170cb0":"markdown","c4a865d0":"markdown","3d95d49e":"markdown","f67608e9":"markdown","6a454df9":"markdown","9890744c":"markdown","b9afeabb":"markdown","d0215cd7":"markdown","91d383d6":"markdown","3c69dd0d":"markdown","f8ae8444":"markdown"},"source":{"f959bc21":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom datetime import datetime\nimport seaborn as sns\n# the commonly used alias for seaborn is sns\n\n# set a seaborn style of your taste\nsns.set_style(\"whitegrid\")","9464eb58":"df=pd.read_csv('..\/input\/WA_Fn-UseC_-HR-Employee-Attrition.csv')","8e687c99":"df.head()","6734b9dd":"df.tail()","56f4be7a":"df.shape","e681f521":"print(df.info())","6fdc1ed0":"# Check Missing Values\nround(100*(df.isnull().sum()\/len(df.index)), 2)","15c77aae":"# Employee Number is Unique field Check for Duplicates\nprint(any(df['EmployeeNumber'].duplicated())) ","a595f7d5":"df.loc[df['Attrition']==\"Yes\",'attr']=1\ndf.loc[df['Attrition']==\"No\",'attr']=0\ndf.attr.value_counts()","5b19d468":"df.columns","f0d05e56":"# Importing matplotlib and seaborn\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n# Let's see the correlation matrix \nplt.figure(figsize = (16,10))     # Size of the figure\nsns.heatmap(df.corr(),annot = True)","8610d7df":"#Assign Label \n#Education 1 'Below College' 2 'College' 3 'Bachelor' 4 'Master' 5 'Doctor'\n#EnvironmentSatisfaction 1 'Low' 2 'Medium' 3 'High' 4 'Very High'\n#JobInvolvement 1 'Low' 2 'Medium' 3 'High' 4 'Very High'\n#JobSatisfaction 1 'Low' 2 'Medium' 3 'High' 4 'Very High'\n#PerformanceRating 1 'Low' 2 'Good' 3 'Excellent' 4 'Outstanding'\n#RelationshipSatisfaction 1 'Low' 2 'Medium' 3 'High' 4 'Very High'\n#WorkLifeBalance 1 'Bad' 2 'Good' 3 'Better' 4 'Best'\n\n#Education\ndf.loc[df['Education'] == 1,'Education_type'] = \"Below College\"\ndf.loc[df['Education'] == 2,'Education_type'] = \"College\"\ndf.loc[df['Education'] == 3,'Education_type'] = \"Bachelor\"\ndf.loc[df['Education'] == 4,'Education_type'] = \"Master\"\ndf.loc[df['Education'] == 5,'Education_type'] = \"Doctor\"\n#EnvironmentSatisfaction\ndf.loc[df['EnvironmentSatisfaction'] == 1,'Envnt_Satisfctn_type'] = \"Low\"\ndf.loc[df['EnvironmentSatisfaction'] == 2,'Envnt_Satisfctn_type'] = \"Medium\"\ndf.loc[df['EnvironmentSatisfaction'] == 3,'Envnt_Satisfctn_type'] = \"High\"\ndf.loc[df['EnvironmentSatisfaction'] == 4,'Envnt_Satisfctn_type'] = \"Very High\"\n\n#JobInvolvement\n\ndf.loc[df['JobInvolvement'] == 1,'JobInvolvement_type'] = \"Low\"\ndf.loc[df['JobInvolvement'] == 2,'JobInvolvement_type'] = \"Medium\"\ndf.loc[df['JobInvolvement'] == 3,'JobInvolvement_type'] = \"High\"\ndf.loc[df['JobInvolvement'] == 4,'JobInvolvement_type'] = \"Very High\"\n\n#JobSatisfaction\n\ndf.loc[df['JobSatisfaction'] == 1,'JobSatisfaction_type'] = \"Low\"\ndf.loc[df['JobSatisfaction'] == 2,'JobSatisfaction_type'] = \"Medium\"\ndf.loc[df['JobSatisfaction'] == 3,'JobSatisfaction_type'] = \"High\"\ndf.loc[df['JobSatisfaction'] == 4,'JobSatisfaction_type'] = \"Very High\"\n\n#PerformanceRating\ndf.loc[df['PerformanceRating']==1,'Perfrm_rating_type']=\"Low\"\ndf.loc[df['PerformanceRating'] == 2,'Perfrm_rating_type'] = \"Medium\"\ndf.loc[df['PerformanceRating'] == 3,'Perfrm_rating_type'] = \"High\"\ndf.loc[df['PerformanceRating'] == 4,'Perfrm_rating_type'] = \"Very High\"\n#RelationshipSatisfaction\n\ndf.loc[df['RelationshipSatisfaction']==1,'Rel_satisfctn_type']=\"Low\"\ndf.loc[df['RelationshipSatisfaction'] == 2,'Rel_satisfctn_type'] = \"Medium\"\ndf.loc[df['RelationshipSatisfaction'] == 3,'Rel_satisfctn_type'] = \"High\"\ndf.loc[df['RelationshipSatisfaction'] == 4,'Rel_satisfctn_type'] = \"Very High\"\n\n#WorkLifeBalance\ndf.loc[df['WorkLifeBalance']==1,'WorkLifeBal_type']=\"Bad\"\ndf.loc[df['WorkLifeBalance'] == 2,'WorkLifeBal_type'] = \"Good\"\ndf.loc[df['WorkLifeBalance'] == 3,'WorkLifeBal_type'] = \"Better\"\ndf.loc[df['WorkLifeBalance'] == 4,'WorkLifeBal_type'] = \"Best\"\n\ndf['WorkLifeBal_type'].value_counts()\n\n#Create age band\ndf.Age.max() #60\ndf.Age.min() #18\ndf.Age.mean() #36\n\ndf.loc[((df['Age'] >= 18) & (df['Age'] <= 25)),'Age_band']='18_ge_to_le_25'\ndf.loc[((df['Age'] > 25) & (df['Age'] <= 35)),'Age_band']='25_gr_to_le_35'\ndf.loc[((df['Age'] > 35) & (df['Age'] <= 45)),'Age_band']='35_gr_to_le_45'\ndf.loc[((df['Age'] > 45) & (df['Age'] <= 55)),'Age_band']='45_gr_to_le_55'\ndf.loc[(df['Age'] > 55),'Age_band']='gr_55'\ndf['Age_band'].value_counts()","2f7a7c44":"plt.figure(num=None, figsize=(12, 8), dpi=80, facecolor='w', edgecolor='k')\nsns.boxplot(x='Gender',y=\"Age\", hue=\"Attrition\", data=df)\nplt.show()","9d16a156":"plt.figure(figsize=(20, 6))\nsns.boxplot(x='Gender', y='MonthlyIncome', hue=\"Attrition\", data=df)\nplt.title('Gender wise avg. Salaries')\nplt.show()","acdd8002":"plt.figure(figsize=(20, 4))\nsns.boxplot(x='Gender',y='JobSatisfaction', data=df, hue='Attrition')\nplt.title(\"Genderwise Job Satisfaction\")\nplt.ylabel(\"Jobsatisfaction Unit\")\nplt.show()","84713721":"plt.figure(figsize=(20, 4))\nsns.countplot(x='Age_band', data=df, hue='Attrition')\nplt.title(\"Attrition Age Bandwise\")\nplt.ylabel(\"Number of Clients\")\nplt.show()","40239372":"# Check Attrition Percentage for each band\n\ngroup_by = df.groupby('Age_band')\n\ndf_t1=df.groupby('Age_band')['EmployeeNumber'].count().reset_index()\ndf_t2=df[df['Attrition'] == \"Yes\"].groupby('Age_band')['EmployeeNumber'].count().reset_index()\ndf_t1['tot_count']=df_t1['EmployeeNumber']\ndf_t1=df_t1.drop(columns = ['EmployeeNumber'])\ndf_t2['attr_cnt']=df_t2['EmployeeNumber']\ndf_t2=df_t2.drop(columns = ['EmployeeNumber'])\ndf_t1\ndf_t2\n#Merge these two datasets\nfinal = pd.merge(df_t1, df_t2, how='inner', on = 'Age_band')\nfinal['attrition_per_total']=round(final['attr_cnt']\/(final['tot_count'])*100)\nfinal\n#Plot on bar chart\nplt.figure(figsize=(15, 4))\nsns.barplot(x='Age_band', y='attrition_per_total', data=final)\nplt.title(\"No of Clients Age Bandwise\")\nplt.ylabel(\"Attrition(%) wrt. total\")\nplt.show()","fc604b2a":"# subplot 1\n#distplot for not attrited clients\nplt.figure(figsize=(24, 6))\ndf_dis1=df.loc[df['Attrition']==\"Yes\"]\nplt.subplot(2, 2, 1)\nplt.title('DistanceFromHome for Attrited Employees')\nsns.distplot(df_dis1['DistanceFromHome'])\n\n# subplot 2\nplt.figure(figsize=(24, 6))\ndf_dis2=df.loc[df['Attrition']==\"No\"]\nplt.subplot(2, 2, 2)\nplt.title('DistanceFromHome for Not attrited Employees')\nsns.distplot(df_dis2['DistanceFromHome'])","6cfaa58d":"plt.figure(figsize=(20, 6))\nsns.boxplot(x='JobRole', y='DistanceFromHome', data=df, hue=\"Attrition\")","f3d85090":"# subplot 1\n#distplot for not attrited clients\nplt.figure(figsize=(24, 6))\ndf_dis1=df.loc[df['Attrition']==\"Yes\"]\nplt.subplot(2, 2, 1)\nplt.title('MonthlyIncome for Attrited Employees')\nsns.distplot(df_dis1['MonthlyIncome'])\n\n# subplot 2\nplt.figure(figsize=(24, 6))\ndf_dis2=df.loc[df['Attrition']==\"No\"]\nplt.subplot(2, 2, 2)\nplt.title('MonthlyIncome for Not attrited Employees')\nsns.distplot(df_dis2['MonthlyIncome'])","57124ba8":"plt.figure(figsize=(20, 6))\nsns.boxplot(x='Department', y='MonthlyIncome', hue=\"Attrition\", data=df)\nplt.title('Department  wise Salaries')\nplt.show()","df4994d5":"group_by = df.groupby('Department')\n\ndf_t1=df.groupby('Department')['EmployeeNumber'].count().reset_index()\ndf_t2=df[df['Attrition'] == \"Yes\"].groupby('Department')['EmployeeNumber'].count().reset_index()\ndf_t1['tot_count']=df_t1['EmployeeNumber']\ndf_t1=df_t1.drop(columns = ['EmployeeNumber'])\ndf_t2['attr_cnt']=df_t2['EmployeeNumber']\ndf_t2=df_t2.drop(columns = ['EmployeeNumber'])\ndf_t1\ndf_t2\n#Merge these two datasets\nfinal = pd.merge(df_t1, df_t2, how='inner', on = 'Department')\nfinal['attrition_per_total']=round(final['attr_cnt']\/(final['tot_count'])*100)\nfinal\n#Plot on bar chart\nplt.figure(figsize=(15, 4))\nsns.barplot(x='Department', y='attrition_per_total', data=final)\nplt.title(\"No of Clients Department wise\")\nplt.ylabel(\"Attrition(%) wrt. total\")\nplt.show()","88914780":"plt.figure(figsize=(20, 6))\nsns.boxplot(x='JobSatisfaction_type', y='MonthlyIncome', hue=\"Attrition\", data=df)\nplt.title('Jobsatisfaction Level and Salaries')\nplt.show()","ddd90fb9":"plt.figure(figsize=(20, 6))\nsns.boxplot(x='Education_type', y='MonthlyIncome', hue=\"Attrition\", data=df)\nplt.show()","466b42b7":"plt.figure(figsize=(20, 4))\nsns.boxplot(x='JobLevel', y='MonthlyIncome', hue=\"Attrition\", data=df)\nplt.show()","2a760fae":"plt.figure(figsize=(20, 4))\nsns.boxplot(x='JobRole', y='DailyRate', hue=\"Attrition\", data=df)\nplt.show()","01ea2ad9":"plt.figure(figsize=(15, 4))\nsns.boxplot(x='Perfrm_rating_type', y='PercentSalaryHike', hue=\"Attrition\", data=df)\nplt.title(\"Avg. Salary Hike by performance ratingwise\")\nplt.show()","196b00c3":"plt.figure(figsize=(20, 4))\nsns.boxplot(x='JobRole', y='EnvironmentSatisfaction', hue=\"Attrition\", data=df)\nplt.title(\"Enivironment Satisfaction JobRole wise\")\nplt.show()","6b800990":"plt.figure(figsize=(20, 4))\nsns.boxplot(x='Department', y='WorkLifeBalance', hue=\"Attrition\", data=df)\nplt.title(\"Work life balance department wise\")\nplt.show()","965df18b":"plt.figure(figsize=(20, 4))\nsns.countplot(x='OverTime', hue=\"Attrition\", data=df)\nplt.title(\"Attriton Overtime wise\")\nplt.show()","b379b626":"#Overtime vs Jobrole\ndf.loc[df['OverTime']==\"Yes\",'OverTime_1']=1\ndf.loc[df['OverTime'] ==\"No\",'OverTime_1'] =0\n\nplt.figure(figsize=(20, 4))\nsns.boxplot(x='JobRole', y='OverTime_1', hue=\"Attrition\", data=df)\nplt.title(\"OverTime JobRole wise\")\nplt.show()\n","f91b5f00":"plt.figure(figsize=(20, 4))\nsns.boxplot(x='JobRole', y='YearsAtCompany', hue=\"Attrition\", data=df)\nplt.title(\"YearsAtCompany JobRole wise\")\nplt.show()","208df739":"plt.figure(figsize=(20, 4))\nsns.barplot(x='JobRole', y='YearsInCurrentRole', hue=\"Attrition\", data=df)\nplt.title(\"YearsInCurrentRole JobRole wise\")\nplt.show()","72247696":"plt.figure(figsize=(20, 4))\nsns.barplot(x='JobLevel', y='YearsSinceLastPromotion', hue=\"Attrition\", data=df)\nplt.title(\"YearsSinceLastPromotion JobLevel wise\")\nplt.show()","75b07e30":"group_by = df.groupby('Rel_satisfctn_type')\n\ndf_t1=df.groupby('Rel_satisfctn_type')['EmployeeNumber'].count().reset_index()\ndf_t2=df[df['Attrition'] == \"Yes\"].groupby('Rel_satisfctn_type')['EmployeeNumber'].count().reset_index()\ndf_t1['tot_count']=df_t1['EmployeeNumber']\ndf_t1=df_t1.drop(columns = ['EmployeeNumber'])\ndf_t2['attr_cnt']=df_t2['EmployeeNumber']\ndf_t2=df_t2.drop(columns = ['EmployeeNumber'])\ndf_t1\ndf_t2\n#Merge these two datasets\nfinal = pd.merge(df_t1, df_t2, how='inner', on = 'Rel_satisfctn_type')\nfinal['attrition_per_total']=round(final['attr_cnt']\/(final['tot_count'])*100)\nfinal\n#Plot on bar chart\nplt.figure(figsize=(15, 4))\nsns.barplot(x='Rel_satisfctn_type', y='attrition_per_total', data=final)\nplt.title(\"No of Employees Rel_satisfctn_type Bandwise\")\nplt.ylabel(\"Attrition(%) wrt. total\")\nplt.show()","bbddd1ce":"group_by = df.groupby(['MaritalStatus','Gender'])\ndf_t1=group_by['EmployeeNumber'].count().reset_index()\ndf_t2=df[df['Attrition'] == \"Yes\"].groupby(['MaritalStatus','Gender'])['EmployeeNumber'].count().reset_index()\ndf_t1['tot_count']=df_t1['EmployeeNumber']\ndf_t1=df_t1.drop(columns = ['EmployeeNumber'])\ndf_t2['attr_cnt']=df_t2['EmployeeNumber']\ndf_t2=df_t2.drop(columns = ['EmployeeNumber'])\ndf_t1\nfinal = pd.merge(df_t1, df_t2, how='inner', on = ['MaritalStatus','Gender'])\nfinal['attrition_per_total']=round(final['attr_cnt']\/(final['tot_count'])*100)\nfinal\n#Plot on bar chart\nplt.figure(figsize=(15, 4))\nsns.barplot(x='MaritalStatus', y='attrition_per_total',hue='Gender', data=final)\nplt.title(\"No of Employees MaritalStatus Bandwise\")\nplt.ylabel(\"Attrition(%) wrt. total\")\nplt.show()\n","91676a65":"final","addc44d1":"df['BusinessTravel'].value_counts()","6d1bb4b1":"group_by = df.groupby(['MaritalStatus','BusinessTravel'])\ndf_t1=group_by['EmployeeNumber'].count().reset_index()\ndf_t2=df[df['Attrition'] == \"Yes\"].groupby(['MaritalStatus','BusinessTravel'])['EmployeeNumber'].count().reset_index()\ndf_t1['tot_count']=df_t1['EmployeeNumber']\ndf_t1=df_t1.drop(columns = ['EmployeeNumber'])\ndf_t2['attr_cnt']=df_t2['EmployeeNumber']\ndf_t2=df_t2.drop(columns = ['EmployeeNumber'])\ndf_t1\nfinal = pd.merge(df_t1, df_t2, how='inner', on = ['MaritalStatus','BusinessTravel'])\nfinal['attrition_per_total']=round(final['attr_cnt']\/(final['tot_count'])*100)\nfinal\n#Plot on bar chart\nplt.figure(figsize=(15, 4))\nsns.barplot(x='MaritalStatus', y='attrition_per_total',hue='BusinessTravel', data=final)\nplt.title(\"\")\nplt.ylabel(\"Attrition(%) wrt. total\")\nplt.show()","0fbd1fbf":"final","760b758e":"- Salary Hike and Performance ratings are in sink","0f33dd3a":"### Feature Scaling to check the correlation","c102cf0a":"- Single employess has the highest attrition rate(25%)\n- Male perchantage of attrition is more in compare to female","8689b39c":"#### Let's see how is pay diffirence gender wise","57ffea4b":"### Data Quality Checks","1b46920f":"### DistanceFromHome and Jobrole","8128002e":"### Import and Understand Dataset","0f2281ac":"#### Let's check that department with high salary gaps are having more attriton or not","c7de419c":"- This Heat Map help to understand how all these variables correlated\n- age is correlated with MonthlyIncome, Joblevel, Totalworkingyears\n- Job level and Monthly income has similar kind of correlation with other variables, only one variable can be use for analysis\n- YearsAtcompany, YearsinCurrentrole, YearsSincelastpromotion, YearswithcurrManager--out of these vars only one or 2 vars can be use for analysis","cbed9aa7":"- For attrited employees male has lower jobs satisfaction","24b69096":"### Univariate and Mulivariate Analysis","a8568aa4":"### Monthly Salary, Education ,Jobtitle, department, job staisfaction","61952798":"-  Attrition is high due to overtime","297b4561":"- Attited employee has less monthly income in compare to not attrited employees","25b3a9da":"#### Let's see gender wise job satisfaction","9eb8b6bf":"- Not a huge diff in the avg. age of attritied employee of male and female employees","ec227da2":"-  There is no significance diff pay diff in male and female","45d2956f":"### PercentSalaryHike, PerformanceRating, EnvironmentSatisfaction, WorkLifeBalance, and OverTime","0192de2f":"- Distancefromhome has more impact on Job role of \"Health Represntative\" and \"Human Resource\", WFH option can not be\n  use in such kind of roles","f5ea8fd7":"### BusinessTravel,MaritalStatus","12400df3":"-  Worklife balance seems ok in all the departments","b2006f62":"- Travel Frequently leads to higher attrition, specially incase of single it is 39%, for married and divorced it \n  is less than 21%","eef73910":"- People are quitting because at same education their salaris are less in compare to who don't quit","b5be4fe0":"-  In roles such as Healthcare, Manager and Research Director attrired employees have spend more time in compare to\n   employess who stayed back\n-  In others roles attrites employees have spend less time in compare to non- attrited employees in same role","410f7269":"## IBM HR Analytics Employee Attrition & Performance\nThe objective is here to figure out major factors which are impacting the attrition of employees. These factors can be the distance from home to office, Salary, Worklife balance etc.\n\nData is available for 1600 employees. This Explanatory Data Analysis will figure out the actual reasons behind attrition.","0b887172":"- Relationship Satisfaction Status low has the highest attrition Rate(21%), rest all have same attr rate","84cb21d1":"- Environment Satisfaction is low for the poeple who are quitting","79195345":"- People who are having less monthly income at joblevel 4 are quitting\n- At job level 5, people who are having more monthly income are quitting","9c232c64":" - Sales has 21% attrition rate and HR has 19% which very high in compare to RND (14%)","549be515":"- Maximun attrition happens between age 18 to 25 (36%) followed by age band 25 to 35 -(19%)\n- Minimum attrition happens between age range of 35 to 45(9%)","56b83c69":"#### Let's check what is impact of monthly salary and job satisfaction  together","bb7f8ffc":"- From dist plot, office distance more than 10KM has higher attrition","26aea87f":"- No missing value in data","95f3da65":"-  In Job level 3,4,5 attrited employees have spend significant more time without promotion in compare to employees\n   who stayed back","24170cb0":"-  Some job roles such as Sales Executive, Laboratory Technician and HR are impacted by ovetime","c4a865d0":"### Age, Gender, Salary, Job satisfaction","3d95d49e":"-  Employees who have attrited in some roles like Manager, Research Director has significant higher number of years\n   in company in compare to employees who stayed back","f67608e9":"- No duplicates values","6a454df9":"-  In department RND and HR there is a huge diff in salaries and people with low salaries are quitting","9890744c":"#### Let's check Environment Satisfaction","b9afeabb":"### RelationshipSatisfaction,MaritalStatus","d0215cd7":"#### Lets check what is the impact of Dailyrate and jobrole on attrition","91d383d6":"### Check the correlation","3c69dd0d":"- Salary has an impact on all kind of job satisfaction level, less salary is big reason for job change","f8ae8444":"### YearsAtCompany,YearsInCurrentRole,YearsSinceLastPromotion,TotalWorkingYears and YearsWithCurrManager"}}