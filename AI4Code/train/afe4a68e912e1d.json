{"cell_type":{"6e3f0d06":"code","beaea82e":"code","77e0eea4":"code","e8f11c75":"code","dfdb3c09":"code","2df25cec":"code","e4de6688":"code","e0b6b947":"code","4d84fb6c":"code","5284a5e0":"code","1096c109":"code","b1fa13d7":"code","7ca20fa4":"code","4ec9b277":"code","5daa537b":"code","7fe1432c":"code","042e2b64":"code","daffa79a":"code","d5998b84":"code","35463b42":"code","97eddd9d":"code","58c9dd03":"code","5995f5a5":"code","09c534b4":"code","fb0a83c9":"markdown","0b7a5260":"markdown","f72e92f6":"markdown","fbd9edfc":"markdown","9f11ec2f":"markdown","cd85efdc":"markdown","df8b1cbc":"markdown","59935c86":"markdown","01a982c6":"markdown","3737f3f7":"markdown","9dc649de":"markdown","a1671715":"markdown","a2152789":"markdown","b9705d18":"markdown","ea7ba208":"markdown","18bd6d8e":"markdown","a2125adb":"markdown","b9496443":"markdown","f2028f01":"markdown","dc46b21d":"markdown","01272afd":"markdown","02083a9e":"markdown","d5cd41c1":"markdown","269dfc11":"markdown","98f9a6ff":"markdown","c7251a6e":"markdown","583ac28f":"markdown"},"source":{"6e3f0d06":"!pip install calmap","beaea82e":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport plotly.figure_factory as ff\nfrom plotly.subplots import make_subplots\nimport calmap\nplt.rcParams['figure.figsize'] = 8, 5\nplt.style.use(\"fivethirtyeight\")\npd.options.plotting.backend = \"plotly\"\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator","77e0eea4":"data = pd.read_csv('..\/input\/data-police-shootings\/fatal-police-shootings-data.csv')\ndata.head()","e8f11c75":"data.date = pd.to_datetime(data.date)","dfdb3c09":"data.shape","2df25cec":"data.info()","e4de6688":"def nulls(df):\n    for col in df.columns:\n        nll = data[col].isnull().sum()\n        print(f\"{col} \\t\\t {round(nll\/len(df)*100,2)}% Null\")\nnulls(data)","e0b6b947":"fig,ax = calmap.calendarplot(data.groupby(['date']).id.count(), monthticks=1, daylabels='MTWTFSS',cmap='YlGn',\n                    linewidth=0, fig_kws=dict(figsize=(20,20)))\nfig.show()","4d84fb6c":"freq = data[['date','id']]\nfreq['year'] = freq.date.dt.year\nfreq['month'] = freq.date.dt.month\nfreq.head()","5284a5e0":"fig = go.Figure(data=[go.Bar(x=freq.groupby(['year']).agg('count')['id'].index, y=freq.groupby(['year']).agg('count')['id'].values,)])\nfig.update_layout(title_text='Shootouts by year')\nfig.show()","1096c109":"fig = go.Figure(data=[go.Bar(x=freq.groupby('month').agg('count')['id'].index, y=freq.groupby('month').agg('count')['id'].values,)])\nfig.update_layout(title_text='Shootouts by Month')\nfig.show()","b1fa13d7":"fig = go.Figure(data=[go.Pie(labels=data.manner_of_death.value_counts().index, values=data.manner_of_death.value_counts().values,textinfo='label+percent')])\nfig.update_layout(title='How were they killed?')\nfig.show()","7ca20fa4":"data.plot.hist(x=\"age\")","4ec9b277":"fig = go.Figure([go.Bar(x=data.gender.value_counts().index, y=data.gender.value_counts().values)])\nfig.update_layout(title=\"Number of Shootouts by Gender\")\nfig.show()","5daa537b":"5176\/238","7fe1432c":"print(f\"{len(data.loc[data.armed=='unarmed'])\/len(data)*100}% Cases were Unarmed\")","042e2b64":"armed=list(data['armed'].dropna().unique())\nfig, (ax2) = plt.subplots(1,1,figsize=[17, 10])\nwordcloud2 = WordCloud(width=1000,height=400).generate(\" \".join(armed))\nax2.imshow(wordcloud2,interpolation='bilinear')\nax2.axis('off')\nax2.set_title('Most Used Arms',fontsize=20)","daffa79a":"fig = go.Figure(data=[go.Pie(labels=data.flee.value_counts().index, values=data.flee.value_counts().values,textinfo='label+percent')])\nfig.update_layout(title='Did they Flee?')\nfig.show()","d5998b84":"print(f'{len(data.loc[(data.flee==\"Not fleeing\") & (data.armed==\"unarmed\")])} Cases were Unarmed and Did not Flee. Yet were Killed.')","35463b42":"fig = go.Figure([go.Bar(x=data.threat_level.value_counts().index, y=data.threat_level.value_counts().values)])\nfig.update_layout(title=\"Threat Level Assessment\")\nfig.show()","97eddd9d":"fig = go.Figure(data=[go.Pie(labels=data.race.value_counts().index, values=data.race.value_counts().values,textinfo='label+percent')])\nfig.update_layout(title='Did they Flee?')\nfig.show()","58c9dd03":"fig = go.Figure([go.Choropleth(\n    locations=data.groupby(['state']).agg('count')['id'].index,\n    z=data.groupby(['state']).agg('count')['id'].values.astype(float),\n    locationmode='USA-states',\n    colorscale='Reds',\n    autocolorscale=False,\n    text=data['state'], # hover text\n    marker_line_color='white', # line markers between states\n    showscale = True,\n#     text=data.groupby(['state','race']).agg('count')['id'],\n)])\nfig.update_layout(geo_scope='usa',title='Shootouts across the States')\nfig.show()","5995f5a5":"data.groupby(['state','race'])['id'].count().unstack('state').plot.bar()","09c534b4":"fig = go.Figure(go.Bar(\n    x= data.groupby('city').agg('count')['id'].sort_values(ascending=False)[:20].index, \n    y= data.groupby('city').agg('count')['id'].sort_values(ascending=False)[:20].values,  \n    text=data.groupby('city').agg('count')['id'].sort_values(ascending=False)[:20].index,\n    textposition='outside',\n    marker_color=data.groupby('city').agg('count')['id'].sort_values(ascending=False)[:20].values\n))\nfig.update_layout(title='Shootout by City Stats')\nfig.show()","fb0a83c9":"**Observations**:\n- Most common weapons are Knife, gun, metal","0b7a5260":"**Observations**:\n- Clearly 50% of the victims are White\n- The next most affected group is the Black Community (26.5%) , followed by Hispanic (18%)","f72e92f6":"**Observations**:\n- California, Texas and Florida have highest recorded shootouts\n- Northern and NorthEastern States show lower shootout counts","fbd9edfc":"## Null Values Exploration","9f11ec2f":"# Exploring if Gender Makes a Difference","cd85efdc":"# Exploring Manner of Death","df8b1cbc":"**Observations**:\n- Goes to show most cases originate from California, Texas and Florida","59935c86":"# Were they armed? Did They Flee?","01a982c6":"References<br>\nhttps:\/\/www.kaggle.com\/raenish\/don-t-shoot","3737f3f7":"**Observations**:\n- No real trend noticed. \n- 2020 has half data therefore count seems to be low\n- Every year sees upto 1000 shootout cases\n- 2020 is at 481 cases halfway through the year","9dc649de":"**Observations**:\n- 66% victims did not Flee, yet were KILLED\n- Majority of the remaining victims used Cars or fled on Foot","a1671715":"# Guns and The Police\n<img src=\"https:\/\/image.cnbcfm.com\/api\/v1\/image\/106559035-1590929831184gettyimages-1216502171.jpeg?v=1591036727&w=1600&h=900\" width=400><br>\nWith the high on public angst against police brutality exploring this dataset is of great important to gain insights into the picture behind Police Shootouts. In this kernel I aim to explore and understand this data and draw some observations to identify any specific patterns in the data. My study shall find out which communities are most affected in terms of age,race,etc.\n","a2152789":"# What age group is affected?\n#### Exploring Age","b9705d18":"**Observations**:\n- Number of cases where men are shot is 20x the number of female cases","ea7ba208":"* W: Whitenon-Hispanic \n* B: Black, non-Hispanic \n* A: Asian \n* N: Native American \n* H: Hispanic \n* O: Other None: unknown","18bd6d8e":"### 191 Victims were not armed, did not flee, yet were KILLED.","a2125adb":"**Observations**:\n- There are more dark spots in the First Quarter of the years indicating higher shootout count.\n","b9496443":"**Observations**:\n- LA, Phoenix and Houston record highest shootout count","f2028f01":"# Geographic Trends","dc46b21d":"If you find this notebook insightful please do UPVOTE!","01272afd":"# Exploring Shootout Frequency","02083a9e":"# State vs Race","d5cd41c1":"**Observations**:\n- Most affected Age group is 20-40\n- Fewer incidents for elder people","269dfc11":"**Observations**:\n- This confirms that there are more shootouts in the first quarter of the year","98f9a6ff":"# Does Race Play a Role?","c7251a6e":"**Final Summary**:\n- In the past 5 years Police Shooting have continued to remain around the 1000 kills\/year mark\n- California,Texas and Florida have recorded the most number of shootout deaths.\n- Northern and NorthEastern States show lower shootout counts\n- LA, Phoenix and Houston record highest shootout count amongst cities\n- White, Black and Hispanic race record highest deaths\n- People in the age bracket 20-40 are most affected\n- 66% victims did not Flee, yet were KILLED\n- 191 Victims were not armed, did not flee, yet were KILLED.","583ac28f":"**Observations**:\n- Most shootouts invlove the victim being shot. Rarely is the taser used."}}