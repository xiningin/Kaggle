{"cell_type":{"3fa27871":"code","8dfd9f52":"code","50ef512a":"code","344a5e15":"code","45410665":"code","d600385a":"code","1687d1c1":"code","b18e5c1f":"code","acdb8e4a":"code","28f0667d":"code","9d77bb14":"code","5c2634d0":"code","7202bdc6":"code","0c5d7b89":"markdown","69717ba9":"markdown","e4e6d368":"markdown","08ecbb33":"markdown","7c3fec7c":"markdown","b1077b62":"markdown","99e49365":"markdown","872a70d5":"markdown","8357539f":"markdown","14371b5c":"markdown","54a3db39":"markdown","ab7c7baa":"markdown","fdfde256":"markdown","f05d9f1a":"markdown","b970fc89":"markdown","15b0cd83":"markdown","a070ff15":"markdown","d9e0ef69":"markdown","ef41ee90":"markdown","572adc8f":"markdown","b583e5d3":"markdown","4cce3faa":"markdown","d65b6c1a":"markdown","9851c449":"markdown","91a0bfe1":"markdown","2f8d46b7":"markdown","3dd08115":"markdown"},"source":{"3fa27871":"!pip show pycaret","8dfd9f52":"!pip install -q pycaret","50ef512a":"!pip show pycaret","344a5e15":"!mkdir wheelhouse\n%cd wheelhouse","45410665":"!pip wheel pycaret","d600385a":"# current working directory is '\/kaggle\/working\/wheelhouse'\n!ls","1687d1c1":"%cd ..\/\n!ls","b18e5c1f":"!zip -r pycaret_2.3.1.zip wheelhouse","acdb8e4a":"!ls","28f0667d":"!ls ..\/input\/pycaret-231-whl","9d77bb14":"!unzip ..\/input\/pycaret-231-whl\/pycaret_2.3.1.zip -d ..\/pycaret","5c2634d0":"!ls ..\/pycaret\/","7202bdc6":"!pip install --no-index --no-deps ..\/pycaret\/wheelhouse\/*.whl","0c5d7b89":"### 2.4 Export the zip file to the local machine","69717ba9":"First, we will install the desired external package. In this step, the internet access should be enabled as below. ","e4e6d368":"On this example, we will download PyCaret v2.3.1 and make it into whl files. PyCaret is not a default library on kaggle notebook. This can be checked by using the code below. ","08ecbb33":"Now we have the kaggle dataset ready, attach it to a new notebook and disable the internet so it meets the requirements of the code competition. ","7c3fec7c":"After that, use the code below to zip the `wheelhouse` folder to `pycaret_2.3.1.zip` file. ","b1077b62":"![image.png](attachment:429d80f7-8aad-4489-9a21-480632924376.png)","99e49365":"## 1. Intro\n\nA code competition on kaggle is a special type of competition where participants have restricted access to CPU\/GPU runtime, internet, ability to use external data, and so on. The [requirements for this competition](https:\/\/www.kaggle.com\/c\/commonlitreadabilityprize\/overview\/code-requirements) is as followed. \n\n- CPU Notebook <= 3 hours run-time\n- GPU Notebook <= 3 hours run-time\n- Internet access disabled\n- Freely & publicly available external data is allowed, including pre-trained models\n- Submission file must be named submission.csv\n\nThe internet access is disabled for this competition, which means you can't install external libraries directly from the [PyPI](https:\/\/pypi.org\/) repositories. **However, what if using external libraries is NECESSARY for your inference notebook?** In this case, we have to use kaggle datasets along with whl files to install the packages. To be more specific, the process for installing external packages on kaggle notebook without access to the internet is as followed. \n\n1. load whl files for the external package on kaggle dataset\n2. attach the whl files on your notebook (NOTE: this notebook should have the internet access disabled)\n3. install the whl files using `pip install` command\n\nIn this notebook we will learn how to create a `wheelhouse` for the external libraries that you want to download on the kaggle notebook when the internet access is disabled. A `wheelhouse` is a folder that contains all the whl files needed to install a package. By using whl files, we can install a package without access to the internet. ","872a70d5":"After the zip file has been created, hover your mouse over the file and click `More actions > Download` to export the zip file to your local machine. After that, go to [kaggle datasets](https:\/\/www.kaggle.com\/datasets) and upload the zip file that contains the `wheelhouse` for installing the external package. My example of the dataset is on [HERE](https:\/\/www.kaggle.com\/jiny333\/pycaret-231-whl).","8357539f":"`pip wheel` command will create all the whl files needed to install PyCaret package. ","14371b5c":"## 3. Reference\n\n- https:\/\/stackoverflow.com\/questions\/57942120\/how-to-package-all-my-library-dependencies-in-wheel-file\n- https:\/\/linuxize.com\/post\/how-to-zip-files-and-directories-in-linux\/","54a3db39":"# Creating whl files for installing external libraries on kaggle notebooks without internet access\n\nIn this work, we will learn how to create whl files for installing external libraries on your kaggle notebook. This is necessary when the internet access from the notebook is denied, which is the case for many code competitions. \n\n**NOTE**: I'm not quite sure if using external libraries is forbidden on this competition. I wasn't able to find any info on that, please correct me if I'm wrong. ","ab7c7baa":"### 2.1 Install the desired external package","fdfde256":"We can observe that `pycaret_2.3.1.zip` has been created as shown below. ","f05d9f1a":"By using `pip show` command, we can see that PyCaret 2.3.1 has been installed.","b970fc89":"Since PyCaret is not on kaggle notebook, we will install it by using `pip install` and download it from [PyPI](https:\/\/pypi.org\/). The `-q` option is used to mute the messages when downloading the package. ","15b0cd83":"After unzipping the zip file, use the command below to install all the whl files. This doesn't require any internet connection. After the installation is finished, you will be able to use the external package on your kaggle notebook. ","a070ff15":"### 2.3 Create a zip file for exporting the wheelhouse","d9e0ef69":"Now we have all the whl files, we have to export it to our local machine so we can upload it on [kaggle datasets](https:\/\/www.kaggle.com\/datasets). In order to export all whl files at once, we will zip the `wheelhouse` folder. We will first change the current working directory to `\/kaggle\/working`","ef41ee90":"Unzip the zip file using the code below.","572adc8f":"Now we have the PyCaret installed, we have to create the `wheelhouse` which contains all the whl files needed for installing PyCaret. We will first make a `wheelhouse` directory and change the current working directory to that folder. ","b583e5d3":"By using `ls` command, we can view all the files that have been created inside the `wheelhouse` folder. All these dependencies are needed to install PyCaret. ","4cce3faa":"### 2.2 Make wheelhouse","d65b6c1a":"### 2.5 Install the whl files on a seperate kaggle notebook without internet connection","9851c449":"## 2. Methods","91a0bfe1":"![image.png](attachment:b4f5dc6d-110c-402a-a2b0-3303e517aa51.png)","2f8d46b7":"![image.png](attachment:3cb92aec-e952-4e9b-9a19-f28f9d4b66a8.png)","3dd08115":"![image.png](attachment:8cbb9530-39e2-45c3-9b6f-31276b59e2e3.png)"}}