{"cell_type":{"e7d7c75f":"code","b1cccb6e":"code","57d0fd40":"code","ceec6f04":"code","b5ab9c60":"code","bcf14744":"code","ff49c3b8":"code","db96071a":"code","bb149e76":"code","ae411028":"code","b4ecf79b":"code","6b95521a":"code","46839050":"code","4e8870be":"code","caff73ab":"code","871ec17b":"code","91e7031a":"code","d632ae05":"markdown","79fdac7d":"markdown","3db47e16":"markdown","5545d9e9":"markdown","7729133d":"markdown","3bf45b59":"markdown","5d6d91ad":"markdown","9a2ea28c":"markdown","35941414":"markdown","0ddcb9ef":"markdown","e8d8887d":"markdown"},"source":{"e7d7c75f":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%config InlineBackend.figure_format = 'retina'\n%matplotlib inline","b1cccb6e":"df = pd.read_csv('..\/input\/train.csv')\ndf.columns","57d0fd40":"df2 = df.copy()","ceec6f04":"# add target names for readability\ndef forest(x):\n    if x==1:\n        return 'Spruce\/Fir'\n    elif x==2:\n        return 'Lodgepole Pine'\n    elif x==3:\n        return 'Ponderosa Pine'\n    elif x==4:\n        return 'Cottonwood\/Willow'\n    elif x==5:\n        return 'Aspen'\n    elif x==6:\n        return 'Douglas-fir'\n    elif x==7:\n        return 'Krummholz'\n    \ndf2['Cover_Type'] = df2['Cover_Type'].apply(lambda x: forest(x))","b5ab9c60":"df2[df.columns[1:11]].hist(figsize=(20,15),bins=50)\nplt.tight_layout()","bcf14744":"df2['Cover_Type'].value_counts()","ff49c3b8":"cmap = sns.color_palette(\"Set2\")\n\nsns.countplot(x='Cover_Type', data=df2, palette=cmap);\nplt.xticks(rotation=45);","db96071a":"# convert dummies into a single column\n# convert wilderness\nwild_dummies = df[['Wilderness_Area1','Wilderness_Area2','Wilderness_Area3','Wilderness_Area4']]\nwild = wild_dummies.idxmax(axis=1)\nwild.name = 'Wilderness'\n\n# convert soil\nsoil_dummies = df[df.columns[15:55]]\nsoil = soil_dummies.idxmax(axis=1)\nsoil.name = 'Soil'\n\n# create new dataframe with only cover type, wilderness, soil\nwild = pd.concat([df2['Cover_Type'],wild,soil], axis=1)\nwild.head()","bb149e76":"# name wilderness type for readability\ndef wild_convert(x):\n    if x == 'Wilderness_Area1':\n        return 'Rawah'\n    elif x=='Wilderness_Area2':\n        return 'Neota'\n    elif x=='Wilderness_Area3':\n        return 'Comanche Peak'\n    elif x=='Wilderness_Area4':\n        return 'Cache la Poudre'\n    \nwild['Wilderness'] = wild['Wilderness'].apply(lambda x: wild_convert(x))","ae411028":"sns.countplot(x='Wilderness',data=wild, palette=cmap);","b4ecf79b":"plt.figure(figsize=(12,6))\nsns.countplot(x='Cover_Type',data=wild, hue='Wilderness');\nplt.xticks(rotation=45);","6b95521a":"plt.figure(figsize=(12,5))\nsns.countplot(x='Soil',data=wild);\nplt.xticks(rotation=90);","46839050":"# take a look at soil type summary statistics\ndf[df.columns[15:55]].describe().T.sort_values(by='mean')","4e8870be":"# select features which are continuous\nboxplots = df2[['Elevation', 'Aspect', 'Slope',\n               'Horizontal_Distance_To_Hydrology', 'Vertical_Distance_To_Hydrology',\n               'Horizontal_Distance_To_Roadways', 'Hillshade_9am', 'Hillshade_Noon',\n               'Hillshade_3pm', 'Horizontal_Distance_To_Fire_Points','Cover_Type']]","caff73ab":"cmap = sns.color_palette(\"Set2\")\n\nfig, axes = plt.subplots(ncols=2, nrows=5, figsize=(10, 18))\na = [i for i in axes for i in i]\nfor i, ax in enumerate(a):\n    sns.boxplot(x='Cover_Type', y=boxplots.columns[i], data=boxplots, palette=cmap, width=0.5, ax=ax);\n\n# rotate x-axis for every single plot\nfor ax in fig.axes:\n    plt.sca(ax)\n    plt.xticks(rotation=45)\n\n# set spacing for every subplot, else x-axis will be covered\nplt.tight_layout()","871ec17b":"# calculate pearson's correlation, exclude ID\ncorr = df[df.columns[1:]].corr()\n\ncorr['Cover_Type'].sort_values(ascending=False)","91e7031a":"plt.figure(figsize=(15, 8))\nsns.heatmap(corr, cmap=sns.color_palette(\"RdBu_r\", 20));","d632ae05":"### Correlation Plots","79fdac7d":"Each target forest cover have equal sample sizes","3db47e16":"### Check Counts for Target Variable","5545d9e9":"### Check Counts for Wilderness & Soil Types","7729133d":"We can see that elevation has very different interquantile ranges for each cover type.","3bf45b59":"### Boxplots, comparsion with forest cover types","5d6d91ad":"### Histogram distribution of continuous features","9a2ea28c":"Wilderness Area 2, or Neota, is not well represented.","35941414":"Soil Type 7 & Soil Type 15 has no correlation to cover type. ","0ddcb9ef":"There appears to be some pattern here, with certain forest cover preferring certain wilderness.","e8d8887d":"Some soil types like __25 & 8__ only contain 1 sample size. __Soil type 7 & 15__ does not even have 1 sample, hence did not appear in the barplot!"}}