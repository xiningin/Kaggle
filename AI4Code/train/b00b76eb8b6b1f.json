{"cell_type":{"5234bc01":"code","536655cc":"code","11d8ebbf":"code","e495cf4a":"code","1d6956b6":"code","388cd41c":"code","a6b8a042":"code","8c8881bd":"code","4b295b9e":"code","aebda8cb":"code","64275ae6":"code","980d8832":"code","88ce217b":"code","0b7417b8":"code","2d0bc760":"code","cb1632c4":"code","23a4532d":"code","e49fe10d":"code","3ae278bc":"code","90f85b15":"code","e169fa51":"code","901b880d":"code","2a59e95f":"code","e7f334fb":"code","48a21a8d":"code","1737f64f":"code","f8bb4562":"code","43fe8f47":"markdown","cadc3ad0":"markdown","0e65e637":"markdown","be6e2d17":"markdown","129562e1":"markdown","2366fc80":"markdown","d4e6c5ae":"markdown","89dee58f":"markdown","a0e02a72":"markdown","c5eb794f":"markdown","fbbad613":"markdown","ce6be4f9":"markdown","8eb6046c":"markdown","f09da069":"markdown","20c0bde6":"markdown","02817dd0":"markdown","5c4d730f":"markdown","229cb00f":"markdown","4d4e2543":"markdown","a947a3f2":"markdown"},"source":{"5234bc01":"# importing libraries\n\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline","536655cc":"# read the data\n\ndf = pd.read_csv('..\/input\/chocolate-bar-ratings\/flavors_of_cacao.csv')\ndf.head()","11d8ebbf":"# check the shape of the dataset\n\ndf.shape","e495cf4a":"# check the columns\n\ndf.columns","1d6956b6":"# rename the columns\n\ndf.columns = ['Company', 'Specific Bean Origin or Bar Name', 'REF', 'Review Date', 'Cocoa Percentage', \n              'Company Location', 'Rating', 'Bean Type', 'Broad Bean Origin']","388cd41c":"df.sample(10)","a6b8a042":"# replace blank spaces with 'NaN'\n# and check for null values\n\ndf = df.replace(r'^\\s+$', np.nan, regex = True)\ndf.isnull().sum()","8c8881bd":"# find the mode of 'Bean Type'\n\ndf['Bean Type'].value_counts()","4b295b9e":"df.drop(['Bean Type'], axis=1, inplace=True)","aebda8cb":"# check the values in the origin columns\n\ndf['Specific Bean Origin or Bar Name'].value_counts()","64275ae6":"df['Broad Bean Origin'].value_counts()","980d8832":"df.drop(['Broad Bean Origin'], axis=1, inplace=True)","88ce217b":"# convert the 'Cocoa Percentage' column to float\n\ndf['Cocoa Percentage'] = df['Cocoa Percentage'].apply(lambda x: float(x.strip('%')) \/ 100.0)","0b7417b8":"# create a new feature called 'Chocolate Type' using the 'Cocoa Percentage' column\n\ndf['Chocolate Type'] = df['Cocoa Percentage'].apply(lambda x: 'dark' if x>=0.7 else 'normal' if x>0.0 else 'white')","2d0bc760":"# check the different categories in 'Company Location'\n\ndf['Company Location'].value_counts()","cb1632c4":"# make a list of top 10 locations\n\ntop_location = list(df['Company Location'].value_counts()[:9].index)\ntop_location","23a4532d":"# leaving out the top 10 locations change all the other locations to 'Other', as there are a lot of locations \n# and it would be hard to visualize them \n\ndf['Company Location'] = df['Company Location'].apply(lambda x: x if x in top_location else 'Other')","e49fe10d":"df.head()","3ae278bc":"freq = df['Company Location'].value_counts()\ngen_order = freq.index\n\nplt.figure(figsize=(10,10))\nsns.countplot(y='Company Location', data=df, palette='Greens_r', order=gen_order)","90f85b15":"plt.figure(figsize=(10,10))\n\nsorted_counts = df['Company Location'].value_counts()\n\nplt.pie(sorted_counts, labels = sorted_counts.index, startangle = 90, counterclock = False);\nplt.axis('square');","e169fa51":"plt.figure(figsize=(15,8))\nsns.lineplot(x='Cocoa Percentage', y='Rating', data=df)","901b880d":"plt.figure(figsize = [18, 6])\n# plt.subplot(1, 2, 2)\nplt.hist2d(data = df, x = 'Cocoa Percentage', y = 'Rating', cmap='Blues_r')\nplt.colorbar()\nplt.xlabel('Cocoa Percentage')\nplt.ylabel('Rating');\n","2a59e95f":"plt.figure(figsize=(15,8))\nsns.countplot(data = df, x = df['Company Location'], hue = 'Chocolate Type', palette = 'copper_r', order=gen_order)","e7f334fb":"plt.figure(figsize=(15,15))\nsns.catplot(data=df, x='Company Location', y='Rating', palette = 'Pastel1', kind=\"box\",height=8, aspect=1.4)\n","48a21a8d":"sns.catplot(data=df, x='Company Location', y='Rating', palette = 'copper_r', hue='Chocolate Type', kind=\"box\",\n            height=8, aspect=1.4, order=gen_order)","1737f64f":"# sns.relplot(x=\"Review Date\", y=\"Rating\", hue=\"Chocolate Type\", kind=\"line\", data=df);\nplt.figure(figsize=(10,10))\npalette = sns.color_palette(\"mako_r\", 2)\n\nsns.lineplot(data=df, x=\"Review Date\", y=\"Rating\", hue=\"Chocolate Type\", palette='copper_r'\n#hue=\"Company Location\"\n            );","f8bb4562":"plt.figure(figsize=(10,10))\nsns.heatmap(df.corr(), square=True, cmap='copper', annot=True)","43fe8f47":"# Introduction\nFor this project I have decided to work on the [Chocolate bar ratings](https:\/\/www.kaggle.com\/rtatman\/chocolate-bar-ratings\/version\/1) dataset found on Kaggle using the **CRISP-DM Process:** Cross-Industry Standard Process for Data Mining<br>\n6 major phases : \n* Business understanding\n* Data understanding\n* Data preparation\n* Modeling\n* Evaluation\n* Deployment.\n\n\nChocolate is one of the most popular candies in the world. Each year, residents of the United States collectively eat more than 2.8 billions pounds. However, not all chocolate bars are created equal! This dataset contains expert ratings of over 1,700 individual chocolate bars, along with information on their regional origin, percentage of cocoa, the variety of chocolate bean used and where the beans were grown.\n\n<br>**Flavors of Cacao Rating System:**\n* 5= Elite (Transcending beyond the ordinary limits)\n* 4= Premium (Superior flavor development, character and style)\n* 3= Satisfactory(3.0) to praiseworthy(3.75) (well made with special qualities)\n* 2= Disappointing (Passable but contains at least one significant flaw)\n* 1= Unpleasant (mostly unpalatable)\n\n**REF-** A value linked to when the review was entered in the database. Higher = more recent.\n\n**Acknowledgements**<br>\nThese ratings were compiled by Brady Brelinski, Founding Member of the Manhattan Chocolate Society. For up-to-date information, as well as additional content (including interviews with craft chocolate makers), please see his website: [Flavors of Cacao](http:\/\/flavorsofcacao.com\/index.html)","cadc3ad0":"<a id='conclusion'><\/a>\n# Conclusion\n* The U.S.A is the largest producer of chocolate (dark as well as normal).\n* 65\u201375% of cocoa in chocolates is the most preferred range.\n* Australia has the highest median ratings (3.5), while U.K and Ecuador have the smallest (3).\n* Italy, Australia, and Switzerland have the best ratings for dark chocolate, and Canada and Ecuador for normal chocolate.\n* Italy is the only country with ratings higher than 4 and it's for dark chocolate.\n* The liking for dark chocolate has increased over the years whereas it's the same for normal chocolate.","0e65e637":"<a id='q2'><\/a>\n# Question 2-  How does the cocoa percentage in chocolates affect\u00a0ratings?","be6e2d17":"## The U.S.A is the largest producer of chocolate globally, followed by France and Canada, respectively.","129562e1":"## Australia has the highest median rating of 3.5.","2366fc80":"### As we can see 'Broad Bean Origin' and 'Specific Bean Origin or Bar Name' have almost the same categories and 'Broad Bean Origin' has a few missing values, we can drop the column.","d4e6c5ae":"### As we can see there are not many null values in the dataset, but there are a lot of blank spaces in the 'Bean Type' and 'Broad Bean Origin' column <br>\n### We can solve the missing values problem in the following ways:\n### 1. Fill in the blank spaces with the mode(or mean in case of numerical category) value\n### 2. Drop the column","89dee58f":"## As we can see in the line plot, the liking for dark chocolate has increased over the years whereas it's the same for normal chocolate.","a0e02a72":"## the production of dark chocolate is more than that of normal chocolate everywhere. Belgium is the smallest producer of normal chocolate and the U.S.A is the largest producer of normal as well as dark chocolate.","c5eb794f":"<a id='read_the_data'><\/a>\n# Read in the Data","fbbad613":"<a id='q3'><\/a>\n# Question 3- How does the production of chocolate vary based on type (normal or\u00a0dark)?","ce6be4f9":"# Flavours of Cacao\n## Table of contents\n* [Introduction](#Introduction)\n* [Read in the Data](#read_the_data)\n* [Data Preparation](#data_preparation)\n* [Exploratory Data Analysis](#EDA)\n    * [Which country is the largest producer of chocolate?](#q1)\n    * [How does the cocoa percentage in chocolates affect\u00a0ratings?](#q2)\n    * [How does the production of chocolate vary based on type (normal or\u00a0dark)?](#q3)\n    * [Which country has the highest\u00a0ratings?](#q4)\n    * [How does the cocoa percentage affect the ratings in different countries?](#q5)\n    * [How did the ratings for different types of chocolates change over time?](#q6)\n* [Conclusion](#conclusion)","8eb6046c":"## Italy, Australia, and Switzerland have the best ratings for dark chocolate and Canada and Ecuador for normal chocolate. Italy is the only country with ratings higher than 4 and it's for dark chocolate","f09da069":"<a id='data_preparation'><\/a>\n## Data Preparation","20c0bde6":"<a id='q5'><\/a>\n# Question 5- How does the cocoa percentage affect the ratings in different countries?","02817dd0":"## 65- 70% of cocoa has the most number of ratings, 3.5 being the average for this percentage, this is also the only range that has ratings higher than 4.5.","5c4d730f":"### Mode of 'Bean Type' column is **Trinitario**.<br>\n### But if we replace all the 888 missing values in the column with Trinitario, it will effect our analysis, so the better option here is to drop the column.","229cb00f":"<a id='q4'><\/a>\n# Question 4- Which country has the highest\u00a0chocolate ratings?","4d4e2543":"<a id='q6'><\/a>\n# Question 6- How did the ratings for different types of chocolates change over time?","a947a3f2":"<a id='EDA'><\/a>\n# Exploratory Data Analysis\n<a id='q1'><\/a>\n# Question 1 - Which country is the largest producer of chocolate?"}}