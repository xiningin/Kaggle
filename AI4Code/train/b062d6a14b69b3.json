{"cell_type":{"6a807d81":"code","e83de21a":"code","a8c6d381":"code","302d4b0f":"code","614bd01e":"code","ad64d1ba":"code","b58e2216":"code","e0880610":"code","056b6c4d":"code","affcdab2":"code","8936a091":"code","7dcfbbb1":"code","7427af90":"code","b7f33e8f":"code","60a25ee3":"code","c469f334":"code","77b86afa":"code","c9b63f43":"code","457f1034":"code","d92da409":"code","640e8cd0":"code","ba9bbb33":"code","7e86f6bd":"code","23066ef0":"code","9261ede4":"code","cb756ef2":"code","01386abd":"code","0d31488e":"code","cd5f64ff":"code","25c4ad1f":"code","6e923841":"code","89650f3a":"code","51e9e92a":"code","ff2dfb42":"code","51b95269":"code","f7c4cf13":"code","e65f13db":"code","5c6e22d5":"code","af22db16":"code","12697223":"code","6e1cc080":"markdown","79d49272":"markdown","fd2f7a46":"markdown","1b26f81d":"markdown","3b4d6bff":"markdown","8991670d":"markdown","93d86476":"markdown","d36a296b":"markdown","26129949":"markdown","a9a99fc5":"markdown","7c6d0c79":"markdown","4d1ac367":"markdown","b6009e3d":"markdown","5fb4f5a4":"markdown","2c52b269":"markdown","efc19f5a":"markdown","cfe113a2":"markdown","b5723a23":"markdown","344bb594":"markdown","3f34407e":"markdown","f7a2f652":"markdown","558fe4c4":"markdown","30dc56ad":"markdown","86377aa8":"markdown","56dde3a7":"markdown","589b194d":"markdown","1652b2ef":"markdown","50aaa919":"markdown","f6a18941":"markdown","05d0d3b0":"markdown"},"source":{"6a807d81":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nfrom pandas.tools.plotting import scatter_matrix\nimport seaborn as sns\nfrom wordcloud import WordCloud\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.\nimport pandas as pd\ndf = pd.read_csv('..\/input\/zomato.csv')","e83de21a":"df.head()","a8c6d381":"df.shape","302d4b0f":"df.isna().sum()","614bd01e":"#df = df.dropna(axis=0, subset=['rate'])\n#df.isna()","ad64d1ba":"df[df['rate'].isna()]","b58e2216":"#df['book_table'][df['rate'].isna()].value_counts()","e0880610":"df = df.dropna(axis=0, subset=['rate'])\ndf.dtypes","056b6c4d":"df.rate.astype(str,inplace=True)\ndf['rate'] = [x[:-2] for x in df['rate']]","affcdab2":"#df['rate'].fillna(\"0\/5\",inplace=True)\ndf['dish_liked'].fillna(\"None\",inplace=True)\ndf['cuisines'].fillna(\"None\",inplace=True)\ndf['approx_cost(for two people)'].fillna(\"0.0\",inplace=True)\ndf['rest_type'].fillna(\"None\",inplace=True)\ndf['location'].fillna(\"None\",inplace=True)","8936a091":"#df.isna().sum()","7dcfbbb1":"df['rate'] = pd.to_numeric(df['rate'],errors='coerce')\ndf['votes'] = pd.to_numeric(df['votes'],errors='coerce')\ndf.rename(columns={'approx_cost(for two people)': 'avg_cost'},inplace = True)\ndf.rename(columns={'listed_in(type)': 'type'},inplace = True)\ndf.rename(columns={'listed_in(city)': 'city'},inplace = True)\ndf['avg_cost'] = pd.to_numeric(df['avg_cost'],errors='coerce')\ndf.plot(x='rate',y='votes',kind='scatter',title='Relation between Rating and Vote')\ndf.plot(x='avg_cost',y='votes',kind='scatter',title='Relation between Cost and Vote')","7427af90":"df.isna().sum()","b7f33e8f":"df.drop(['url','address','reviews_list'],axis=1,inplace=True)","60a25ee3":"df.head()","c469f334":"#df.drop(['production_companies','cast'],axis=1,inplace=True)\ndf.drop_duplicates(keep='first',inplace=True)","77b86afa":"df['rate'].dtype","c9b63f43":"df.type.value_counts()","457f1034":"df.hist(figsize=(8,8))","d92da409":"plt.subplots(1,2,figsize=(8,4))\nplt.subplot(1,2,1)\nsns.countplot(df['online_order'])\nplt.subplot(1,2,2)\nsns.countplot(df['book_table'])\nplt.tight_layout()","640e8cd0":"#plt.figure(figsize=(20,5))\n#sns.countplot(df['location'],palette='ocean_r',order=df['location'].value_counts().index)\n#plt.xticks(rotation=90)","ba9bbb33":"\"\"\"\nplt.figure(figsize=(15,5))\nsns.distplot(df['avg_cost'])\nplt.xticks(rotation=90)\nsns.distplot(df['avg_cost'])\n\"\"\"\n","7e86f6bd":"#df.rate.dtype","23066ef0":"plt.figure(figsize=(15,5))\nrest_type=df['rest_type'].value_counts()[:20]\nsns.barplot(rest_type.index,rest_type,palette='Pastel1')\nplt.xlabel('Count')\nplt.title(\"Most popular cuisines of Bangalore\")\nplt.xticks(rotation=90)","9261ede4":"plt.figure(figsize=(15,5))\nsns.countplot(df['city'],palette='Purples',order = df['city'].value_counts().index)\nplt.xticks(rotation=90)","cb756ef2":"plt.figure(figsize=(5,5))\nsns.countplot(df['type'],palette='Accent',order = df['type'].value_counts().index)\nplt.xticks(rotation=90)","01386abd":"plt.figure(figsize=(10,5))\nsns.countplot(df['rate'],palette='Oranges')\nplt.xticks(rotation=90)","0d31488e":"plt.figure(figsize=(7,4))\ncuisines=df['cuisines'].value_counts()[:10]\nsns.barplot(cuisines.index,cuisines)\nplt.xlabel('Count')\nplt.title(\"Most popular cuisines of Bangalore\")\nplt.xticks(rotation=90)","cd5f64ff":"plt.figure(figsize=(3,3))\ndf.groupby('book_table')['rate'].mean().plot.bar()\nplt.ylabel('Average rating')","25c4ad1f":"plt.figure(figsize=(6,3))\ndf.groupby('online_order')['rate'].mean().plot.bar()\nplt.ylabel('Average rating')","6e923841":"#df.groupby('name')['rate'].mean()","89650f3a":"#df.query('online_order==\"Yes\"').query('book_table==\"Yes\"')","51e9e92a":"#plt.figure(figsize=(7,7))\n#Rest_locations=df['location'].value_counts()[:15]\n#sns.barplot(Rest_locations.index,Rest_locations,palette='Blues')\n#plt.xticks(rotation=90)","ff2dfb42":"rest_params = df.groupby(by='type', as_index=False).mean().sort_values(by='rate',ascending=False)\nfig, ax = plt.subplots(figsize=(10, 7))\nsns.barplot(x='type', y='avg_cost', data=rest_params, ax=ax,palette='Greens')\nax2 = ax.twinx()\nsns.lineplot(x='type', y='rate', data=rest_params, ax=ax2, sort=False)\nax.tick_params(axis='x', labelrotation=90)\nax.xaxis.set_label_text(\"\")\n\nxs = np.arange(0,10,1)\nys = rest_params['rate']\nfor x,y in zip(xs,ys):\n    label = \"{:.2f}\".format(y)\n    plt.annotate(label, # this is the text\n                 (x,y), # this is the point to label\n                 textcoords=\"offset points\", # how to position the text\n                 xytext=(0,10), # distance from text to points (x,y)\n                 ha='center', # horizontal alignment can be left, right or center\n                 color='black')\n    \nax.set_title('Average Cost and Rating of Restaurants by Type', size=14)\nplt.tight_layout()","51b95269":"\"\"\"\ndf['dish_liked']=df['dish_liked'].apply(lambda x : x.split(',') if type(x)==str else [''])\ndf['dish_liked'].value_counts()\n#rest=df['rest_type'].value_counts()[:9].index\n\"\"\"","f7c4cf13":"def produce_wordcloud(rest):\n    \n    plt.figure(figsize=(20,30))\n    for i,r in enumerate(rest):\n        plt.subplot(3,3,i+1)\n        corpus=df[df['rest_type']==r]['dish_liked'].values.tolist()\n        corpus=','.join(x  for list_words in corpus for x in list_words)\n        wordcloud = WordCloud(max_font_size=None, background_color='white', collocations=False,\n                      width=1500, height=1500).generate(corpus)\n        plt.imshow(wordcloud)\n        plt.title(r)\n        plt.axis(\"off\")\n        ","e65f13db":"numeric_vars = ['avg_cost','rate','votes']\nplt.figure(figsize = [8, 5])\nsns.heatmap(df[numeric_vars].corr(), annot = True, fmt = '.3f',cmap = 'vlag_r', center = 0)\nplt.show()","5c6e22d5":"df['dish_liked']=df['dish_liked'].apply(lambda x : x.split(',') if type(x)==str else [''])\ndf['dish_liked']\nrest=df['rest_type'].value_counts()[:9].index\nrest\nproduce_wordcloud(rest) ","af22db16":"print(rest)","12697223":"numeric_vars = ['avg_cost','rate','votes']\nplt.figure(figsize = [8, 5])\nsns.heatmap(df[numeric_vars].corr(), annot = True, fmt = '.3f',cmap = 'vlag_r', center = 0)\nplt.show()","6e1cc080":"**Customers usually prefer having food delivered rather than eating out**","79d49272":"5. Deleting rows which have \"NA\" ","fd2f7a46":"**By this we conclude, we can delete rows who have ratings as \"NA\"**","1b26f81d":"Now that we are done dealing with all the NAs. Let us focus more on bringing more sense from the data already present. If you see , every record in the table has a rating out of 5. Let us try removing the '\/5' ","3b4d6bff":"### Developing Wordcloud to see which are the favorite foods in each type of eating categories ###","8991670d":"What is the top 20 famous cuisines in Bangalore?","93d86476":"6. If you would have observed, the ratings for all restaurants are made out of 5. Hence we can remove the '\/5' from the rating","d36a296b":"This is a kernel based on Zomato Ratings. I have tried to do a uni-variate analysis, bi-variate analysis to understand which factors influence customers to give a certain rate to the restaurants.Is it location based? or are customers price sensitive?\n\nLet us start answering questions as:-\n Which are the famous restaurants people like to dine in?\n   - What is the rating they usually give?\n   - What is the cost they are willing to pay?\n   - What is the characteristics\/nature of food that customers prefer to eat here?\n   - Is Cost a factor when it comes to give rating to customers?","26129949":"What are the famous eating places in Bangalore","a9a99fc5":"## Multi-Variable Analysis ##","7c6d0c79":"2. We assess the number of columns and rows present. This data is useful incase we want to delete certain rows which contain null values","4d1ac367":"What are the top 15 preferred eating places in Bangalore?","b6009e3d":"Votes definitely have an impact on rates. But cost overall, doesnt seem to have an impact on rates","5fb4f5a4":"> 1. ![](http:\/\/)Here we get a basic idea on the data set wrt its columns and data present","2c52b269":"4. Checking the rows whose ratings have NA as a value","efc19f5a":"## Bivariate Analysis","cfe113a2":"### Exploratory Data Analysis","b5723a23":"**Average Rating given to Restaurants for Online Order Option**\n\nHere we check what are the average ratings given to restaurants who provide the option of ordering food online. \n\nThe difference is not much","344bb594":"7. The observation from the data set is that Rate, Votes and Average Cost per 2 person should be numeric . They are right now represented as strings.","3f34407e":"__Average Rating given to Restaurants for Providing Booking Option__\n\n\nHere we check what are the average ratings given to restaurants who provide the option of booking a table at their restaurant. It Looks like customers prefer restaurants who give the provision of booking a table","f7a2f652":"> 3. Checking for NAs in the Data","558fe4c4":"## Univariate Analysis","30dc56ad":"**Quick Bites and Casual Dining is mostly what customers usually prefer**","86377aa8":"### Conversion to Numeric and Renaming","56dde3a7":"Here we try to identify the relationship between variables like cost, Rates and Votes","589b194d":"Q.What are the preferred ways of eating in Bangalore?","1652b2ef":"**By the data above, we understand rate is a dependant variable . Rate is given by customers based on factors like online_order options, booking a table option, dishes prepared, type of cuisine etc.**","50aaa919":"**North Indian Cuisine is considered to be famous in Bnagalore**","f6a18941":"Q. What is the most favourite eating destinations in Bangalore?","05d0d3b0":"Which are the most Popular cuisines of Bangalore?"}}