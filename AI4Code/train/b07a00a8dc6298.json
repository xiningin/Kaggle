{"cell_type":{"fe788bb2":"code","b2d78233":"code","b9473c61":"code","742169a9":"code","28ac01f0":"code","855f05c3":"code","466570e1":"code","2ca4fd12":"code","27e8afc9":"code","3886bd86":"code","a10ccb2c":"code","e6c0bdf1":"code","a6bfe5f2":"code","95105503":"code","1be7528f":"code","b76d1ef0":"code","cf651cff":"code","bfe517b3":"code","e93fd55a":"code","0ecaadca":"code","8c8c19c5":"code","7e393af5":"code","6068fc3f":"code","eeff0bbf":"code","2245e802":"code","dfb04ddf":"code","5c64dbf5":"code","aa693605":"code","9741f4ff":"code","d9358818":"code","485dfd40":"code","9f3a2324":"markdown","9410197e":"markdown","1c9a431e":"markdown"},"source":{"fe788bb2":"import pandas as pd\nimport matplotlib.pyplot as plt\nfrom plotnine import *","b2d78233":"crime12 = pd.read_csv('..\/input\/crime-in-india\/crime\/crime\/42_District_wise_crimes_committed_against_women_2001_2012.csv')","b9473c61":"crime13 = pd.read_csv('..\/input\/crime-in-india\/crime\/crime\/42_District_wise_crimes_committed_against_women_2013.csv')","742169a9":"crime12.columns = crime12.columns.str.upper()","28ac01f0":"crime13.columns = crime13.columns.str.upper()\ncrime13['STATE\/UT'] = crime13['STATE\/UT'].str.upper()\ncrime13['DISTRICT'].replace('ZZ TOTAL', 'TOTAL', inplace = True)","855f05c3":"dataframe = pd.concat([crime12, crime13])","466570e1":"dataframe.head()","2ca4fd12":"dataframe.fillna(value = 0, inplace= True)","27e8afc9":"total_crime = dataframe[dataframe['DISTRICT'] == 'TOTAL']","3886bd86":"punjab_crime = total_crime[total_crime['STATE\/UT'] == 'PUNJAB']","a10ccb2c":"punjab_crime.set_index('YEAR')[['DOWRY DEATHS', 'CRUELTY BY HUSBAND OR HIS RELATIVES','ASSAULT ON WOMEN WITH INTENT TO OUTRAGE HER MODESTY']].plot(kind = 'line', figsize = (12,8))\nplt.xlabel('Years')\nplt.ylabel('No. of Cases in Punjab')\nplt.title('Domestic Violence against Women')\nplt.show()","e6c0bdf1":"data24 = dataframe[(dataframe['DISTRICT'] == 'TOTAL') & (dataframe['YEAR'] == 2013)]","a6bfe5f2":"allstates24 = data24[['RAPE', 'KIDNAPPING AND ABDUCTION','INSULT TO MODESTY OF WOMEN']].plot(kind = 'barh', figsize = (10,13), width = 1)\nallstates24.set_xlabel('No. of Cases in 2013')\nallstates24.set_yticklabels(data24['STATE\/UT'])\nplt.show()","95105503":"crimes = dataframe.groupby('STATE\/UT').sum()","1be7528f":"crimes.drop('YEAR', axis= 1, inplace= True)","b76d1ef0":"crimes['TOTAL'] = 0","cf651cff":"for i in range(len(crimes.index)):\n    crimes['TOTAL'][i] = crimes.iloc[i].sum()","bfe517b3":"max_crimes = crimes['TOTAL'].nlargest(10).plot(kind = 'barh', title = 'Most Unsafe States for Women(2001-13)', figsize = (6,5))\nplt.xlabel('No. of Crimes')\nplt.show()\nmin_crimes = crimes['TOTAL'].nsmallest(10).plot(kind = 'barh', title = 'Safest States for Women(2001-13)', figsize = (6,5))\nplt.xlabel('No. of Crimes')\nplt.show()","e93fd55a":"dataframe.head()","0ecaadca":"def setHighCrime(df):\n    '''Function to set value of highCrime depending on ViolentCrimesPerPop'''\n    if df['DOWRY DEATHS'] > 7:\n        return True\n    else:\n        return False\n    \n# Adding a new field \"highCrime\"\ndataframe['highCrime'] = dataframe.apply(setHighCrime, axis=1)\n\n# Calculating the percentage of positive and negative instances in the dataset\npercentage_intances = dataframe.groupby('highCrime').size() * 100 \/ len(dataframe)\nprint(percentage_intances)\nprint(\"------------------\")\nprint(\"Percentage Positive Instance = {}\\nPercentage Negative Instance = {} \".format(percentage_intances[1],percentage_intances[0]))","8c8c19c5":"X = dataframe.drop('RAPE', axis=1).drop('IMPORTATION OF GIRLS', axis=1).drop('INSULT TO MODESTY OF WOMEN', axis=1).drop('CRUELTY BY HUSBAND OR HIS RELATIVES', axis=1).drop('STATE\/UT', axis=1).drop('DOWRY DEATHS', axis=1).drop('DISTRICT', axis=1).drop('ASSAULT ON WOMEN WITH INTENT TO OUTRAGE HER MODESTY', axis=1).drop('KIDNAPPING AND ABDUCTION', axis=1).drop('highCrime', axis=1)\n\ny = dataframe[\"highCrime\"]\n\n","7e393af5":"from sklearn.model_selection import train_test_split\nx_train, x_test, y_train, y_test = train_test_split(X,y,test_size = .50,random_state = 10)","6068fc3f":"y_test","eeff0bbf":"testing = [x_test,y_test]","2245e802":"result = pd.concat(testing,axis = 1)","dfb04ddf":"\nimport seaborn as sns\nsns.set()\nresult = result.set_index('YEAR')","5c64dbf5":"sns.heatmap(result)\nplt.show()","aa693605":"print(result)","9741f4ff":"from sklearn.preprocessing import StandardScaler\nsc = StandardScaler()\nx_train = sc.fit_transform(x_train)\nx_test = sc.transform(x_test)","d9358818":"from sklearn.linear_model import LogisticRegression\nfrom sklearn.metrics import classification_report,confusion_matrix,accuracy_score,precision_recall_curve, roc_curve, auc, log_loss\nimport numpy as np\nlogreg = LogisticRegression()\nlogreg.fit(x_train,y_train)\n\ny_pred = logreg.predict(x_test)\nlogreg_accy = round(accuracy_score(y_pred,y_test), 3)\nprint (logreg_accy)","485dfd40":"print (classification_report(y_test, y_pred, labels=logreg.classes_))\nprint (confusion_matrix(y_pred, y_test))","9f3a2324":"# Upvote it if you like it.!\n**Till then! Be aware and stay away from the Negative people. We should be respecting Women!**\n\n# Keep Kaggling!","9410197e":"<h1 style=\"text-align:center\">   \n      <font color = black >\n                Crime Against Women\n        <\/font>    \n<\/h1>   \n<hr style=\"width:100%;height:5px;border-width:0;color:gray;background-color:gray\">\n<center><img style = \"height:450px;\" src=\"https:\/\/www.instepp.org\/wp-content\/uploads\/2021\/01\/crimes-pic.jpeg\"><\/center>\n                   ","1c9a431e":"# Exploring the crime data on Women of our Country \"INDIA\". But recently due to some deep worrying events happening, I feel that this kernel needs to be explored more, and give more usefull insights.My main motive is to drill down the given data, so that some preventive inferences can be deduced which could help in saving this country's mothers and sister!"}}