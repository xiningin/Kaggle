{"cell_type":{"385d7d44":"code","228fd3a7":"code","f1d19486":"code","0a24f746":"code","5bcf4b2e":"code","87a1e21c":"code","621d1ebb":"code","7e956659":"code","0f771a8f":"code","68f9940a":"code","b7244512":"code","14fda553":"code","49171237":"code","1aff7823":"code","0bec6f4b":"code","65a71f4f":"code","2c2cae15":"code","6aa58f71":"code","41ba283b":"code","0048a9a8":"code","75b78925":"code","5c8fa3f1":"code","2a46ad2e":"code","2b9e2088":"code","03e9a27c":"code","e7ec801d":"code","0eee8912":"code","1332bc49":"code","f3f87189":"code","1fc2916b":"code","f17477b9":"code","74a2a8d8":"code","2571a63d":"code","0088b5a3":"code","bf2ea290":"code","6515a3fc":"code","8af4b6b6":"code","156c99fc":"code","1367aa21":"code","bbd79923":"code","502c5827":"code","0f01a734":"code","72c89983":"code","1158be3e":"markdown","76d8cd9a":"markdown","fe8b7a70":"markdown","71485b8d":"markdown","195a1a60":"markdown","ef079873":"markdown","8fa06b6c":"markdown","3c2bd240":"markdown","a5298610":"markdown","03ca4f64":"markdown","53e6c2de":"markdown","6472e3c7":"markdown","340c2298":"markdown","4205cd32":"markdown","d9c8ba4d":"markdown","7b6ba5f8":"markdown","0177664b":"markdown","0b88a885":"markdown","f32f6b86":"markdown","298a5a56":"markdown","5a86a485":"markdown","2442ed96":"markdown","d3aa3168":"markdown","f768baf6":"markdown","761568c3":"markdown","64fc70fb":"markdown","23e4454f":"markdown","1f00b7c0":"markdown","bd8801fb":"markdown","fc2905d5":"markdown","2c6faa48":"markdown","ed468982":"markdown","461f10da":"markdown","5c87b599":"markdown"},"source":{"385d7d44":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","228fd3a7":"import matplotlib.pyplot as plt\nimport seaborn as sns\n#matplotlib inline#for encoding\nfrom sklearn.preprocessing import LabelEncoder#for train test splitting\nfrom sklearn.model_selection import train_test_split#for decision tree object\nfrom sklearn.tree import DecisionTreeClassifier#for checking testing results\nfrom sklearn.metrics import classification_report, confusion_matrix#for visualizing tree \nfrom sklearn.tree import plot_tree","f1d19486":"df = pd.read_csv('..\/input\/nfl-big-data-bowl-2022\/plays.csv') ","0a24f746":"df1 = df.copy()","5bcf4b2e":"# return the values.\ndf2 = df1.loc[:, ['possessionTeam',\"specialTeamsPlayType\",'specialTeamsResult','kickLength','playResult']]\n  \n# Print the result\ndf2","87a1e21c":"df2.sort_values(\"specialTeamsPlayType\", inplace = True)\n\nmul_filter1 = df2['specialTeamsPlayType']=='Kickoff'\n\nmul_filter2 = df2['specialTeamsResult']=='Return'\n\ndf2.where(mul_filter1 & mul_filter2, inplace = True) \n\ndf2.dropna()\n","621d1ebb":"df2.hist(column='kickLength')","7e956659":"df2.hist(column='playResult')","0f771a8f":"df3 = df.copy()","68f9940a":"# return the values.\ndf4 = df3.loc[:, ['possessionTeam',\"specialTeamsPlayType\",'specialTeamsResult','kickLength','playResult']]","b7244512":"df4.sort_values(\"specialTeamsPlayType\", inplace = True)\n\nmul_filter1 = df4['specialTeamsPlayType']=='Kickoff'\n\nmul_filter2 = df4['specialTeamsResult']=='Touchback'\n\ndf4.where(mul_filter1 & mul_filter2, inplace = True) \n\ndf4=df4.dropna()\ndf4","14fda553":"df4.hist(column='kickLength')","49171237":"df7 = df.copy()","1aff7823":"# return the values.\ndf8 = df7.loc[:, ['possessionTeam',\"specialTeamsPlayType\",'specialTeamsResult','kickLength','playResult']]","0bec6f4b":"df8.sort_values(\"specialTeamsPlayType\", inplace = True)\n\nmul_filter1 = df8['specialTeamsPlayType']=='Field Goal'\n\nmul_filter2 = df8['specialTeamsResult']=='Kick Attempt Good'\n\ndf8.where(mul_filter1 & mul_filter2, inplace = True) \n\ndf8=df8.dropna()\ndf8","65a71f4f":"df8.hist(column='kickLength')","2c2cae15":"df9 = df.copy()","6aa58f71":"# return the values.\ndf10 = df9.loc[:, ['possessionTeam',\"specialTeamsPlayType\",'specialTeamsResult','kickLength','playResult']]","41ba283b":"df10.sort_values(\"specialTeamsPlayType\", inplace = True)\n\nmul_filter1 = df10['specialTeamsPlayType']=='Field Goal'\n\nmul_filter2 = df10['specialTeamsResult']=='Kick Attempt No Good'\n\ndf10.where(mul_filter1 & mul_filter2, inplace = True) \n\ndf10.dropna()\n","0048a9a8":"df10.hist(column='kickLength')","75b78925":"df11 = df.copy()","5c8fa3f1":"# return the values.\ndf12 = df11.loc[:, ['possessionTeam',\"specialTeamsPlayType\",'specialTeamsResult','kickLength','playResult']]","2a46ad2e":"df12.sort_values(\"specialTeamsPlayType\", inplace = True)\n\nmul_filter1 = df12['specialTeamsPlayType']=='Punt'\n\nmul_filter2 = df12['specialTeamsResult']=='Return'\n\ndf12.where(mul_filter1 & mul_filter2, inplace = True) \n\ndf12.dropna()","2b9e2088":"df12.hist(column='kickLength')","03e9a27c":"df14 = df.copy()","e7ec801d":"# return the values.\ndf15 = df14.loc[:, ['possessionTeam',\"specialTeamsPlayType\",'specialTeamsResult','kickLength','playResult']]","0eee8912":"df15.sort_values(\"specialTeamsPlayType\", inplace = True)\n\nmul_filter1 = df15['specialTeamsPlayType']=='Punt'\n\nmul_filter2 = df15['specialTeamsResult']=='Touchback'\n\ndf15.where(mul_filter1 & mul_filter2, inplace = True) \n\ndf15.dropna()","1332bc49":"df15.hist(column='kickLength')","f3f87189":"df16 = df.copy()","1fc2916b":"# return the values.\ndf17 = df16.loc[:, ['possessionTeam',\"specialTeamsPlayType\",'specialTeamsResult','kickLength','playResult']]","f17477b9":"df17.sort_values(\"specialTeamsPlayType\", inplace = True)\n\nmul_filter1 = df17['specialTeamsPlayType']=='Punt'\n\nmul_filter2 = df17['specialTeamsResult']=='Fair Catch'\n\ndf17.where(mul_filter1 & mul_filter2, inplace = True) \n\ndf17.dropna()","74a2a8d8":"df17.hist(column='kickLength')","2571a63d":"df20 = df.copy()","0088b5a3":"# return the values.\ndf21 = df20.loc[:, ['possessionTeam',\"specialTeamsPlayType\",'specialTeamsResult','kickLength','playResult']]","bf2ea290":"df21.sort_values(\"specialTeamsPlayType\", inplace = True)\n\nmul_filter1 = df21['specialTeamsPlayType']=='Punt'\n\nmul_filter2 = df21['specialTeamsResult']=='Downed'\n\ndf21.where(mul_filter1 & mul_filter2, inplace = True) \n\ndf21.dropna()","6515a3fc":"df21.hist(column='kickLength')","8af4b6b6":"df22 = df.copy()","156c99fc":"# return the values.\ndf23 = df22.loc[:, ['possessionTeam',\"specialTeamsPlayType\",'specialTeamsResult','playResult']]","1367aa21":"df23.sort_values(\"specialTeamsPlayType\", inplace = True)\n\nmul_filter1 = df23['specialTeamsPlayType']=='Extra Point'\n\nmul_filter2 = df23['specialTeamsResult']=='Kick Attempt No Good'\n\ndf23.where(mul_filter1 & mul_filter2, inplace = True) \n\ndf23.dropna()","bbd79923":"df24 = df.copy()","502c5827":"# return the values.\ndf25 = df24.loc[:, ['possessionTeam',\"specialTeamsPlayType\",'specialTeamsResult','playResult']]","0f01a734":"df25.sort_values(\"specialTeamsPlayType\", inplace = True)\n\nmul_filter1 = df25['specialTeamsPlayType']=='Extra Point'\n\nmul_filter2 = df25['specialTeamsResult']=='Kick Attempt Good'\n\ndf25.where(mul_filter1 & mul_filter2, inplace = True) \n\ndf25.dropna()","72c89983":"the probability of to do an extra point is P=KAG\/(KAG + KANG)=3252\/(3252+199)\nP=0.94549. Therefore, getting an extra point is 94.5% likely.\n","1158be3e":"KANG=199","76d8cd9a":"Now we we require to perform the filtering operations for accessing the desired data, for statistical analysis of the plays of special teams: the kickoff. First for special Teams Play Type we select kickoff, and second, for special Teams Result, Return:","fe8b7a70":"and graphing it","71485b8d":"In a simmilar way with the Kickoff: ","195a1a60":"and graphing it","ef079873":"# KICKOFF ","8fa06b6c":"KAG=3252 ","3c2bd240":"**TOUCHBACK**","a5298610":"Now, for special Teams Play Type we select Field Goal, and second, for special Teams Result, Kick Attempt Good:","03ca4f64":"Now, for special Teams Play Type we select Punt, and second, for special Teams Result, Return. filtering this data we obtain:","53e6c2de":"This means that the kickoff is taken and returned a mena value of 40 yards in average.","6472e3c7":"In this work we go to analyze the functions of the special team statiscally for to know the better strategy. \nThere exist 4 functions  of the special team plays: Kickoff, Punt, Extra point and Field goal.","340c2298":"**TOUCHBACK**","4205cd32":"![image.png](attachment:95b8ad2e-466f-42f3-a6d0-ee9ff5625bbf.png)!\n\nIllinois Football Roster Preview: Special Teams\nby Kirk Irwin\/Getty Images","d9c8ba4d":"Now we can see that deeper the kickoff, the number of touchbacks grows exponentially. This may mean that the kick is not caught or that the returner desists from continuing the play. This is explained because the kickoff of the ball is a parabolic movement. The formulas of the parabolic movement are:\n\n![image.png](attachment:49a1e68e-50d1-4538-accf-e0c0efccc4e5.png)\n![image.png](attachment:f692797f-acbc-49a5-954a-dcde78ec5f59.png) \n![image.png](attachment:1eea42f3-436e-4870-81be-ebc244b76e5a.png)\nBy Throwing a Football. Is it truly parabolic?\n\nwhere t is the time it takes for the ball to fall; and Xmax is the maximum distance along its travel; the alpha symbol is the angle at which the ball is kicked; Vo is the initial speed and g is the gravity. According to the formulas, when the angle gets bigger, the flight time of the ball increases and is maximum when it reaches 90 degrees. On the other hand, the reach is maximum when the angle is 45 degrees; for larger angles than 45 the reach will decrease until  zero at 90 degrees, where it would be a vertical movement, with the maximum time. \nAs we know, the maximum speed that the ball is kicked is 27.43 yds\/s, and g=8.96 yards\/s.  Therefore, we calculate, using the above formulas, with its respective distances traveled by the ball, the angle and time respectively:\n     \n     X=30 yds, alpha1=10.46, t1=1.1122 s, alpha2=79.5, t2=6.02 s;\n     X=40 yds, alpha1=14.21, t1=1.5 s,      alpha2=75.8, t2=5.94 s;\n     X=50 yds, alpha1=18.27, t1=1.919 s,    alpha2=71.7, t2=5.82 s;\n     X=60 yds, alpha1=22.8, t1= 2.37 s,     alpha2=67.2, t2=5.62 s;\n     X=70 yds, alpha1=28.23, t1=2.2896 s,   alpha2=61.8, t2=5.396 s;\n     X=80 yds, alpha1=36.15, t1=3.6119 s,   alpha2=53.85, t2=4.94 s.\n     X=90 yds,                  alpha=45      t=4.33 s.\n     \n We obtain two results because for alpha=45+theta, and alpha=45-theta, the equality is fulfilled: \n sin(2*(45+theta))=sin(2*(45-theta)).\n \nThe average  speed that a runner reach is Vp=9 yds\/s, and therefore when the ball travels more than 60 yds (t2=5.62 s) according to as shown in the table above. the distance that a gunner can reach is 50.58 yds (D =Vp*t2). From this limit time the gunner will no longer reach the ball and the returners will be able to start their play. In the previous graph it was shown that it is from this distance that the return of the kickoff begins.\n \n The result of a kick is multifactorial but depends mainly on how the kick is performed. Also because the calculation of parabolic motion is idealized, it does not consider air friction, wind speed, etc. This cannot be done with mathematical exactitude, because it is impossible to calculate the correct angle. This causes our result to have a statistical distribution. And a part of this distribution may not be the desirable results. It is desirable that all the kicks are above 45 degrees so that the time of landing is greater and to be able to stop the defense without allowing it to advance. A degrees lower than desirable reduces the travel time of the ball, and the other team can make its offensive play.","7b6ba5f8":"**DOWNED**","0177664b":"Now we will calculate the amount of missed field goals as a function of the distance of the kicks:","0b88a885":"We will graph the amount of field goals obtained as a function of the distance of the kick","f32f6b86":"The probability of making a field goal is P=KAG\/(KAG + KANG), where\n\nKAG=interval of Kick Attempt Good\n\nKANG=interval of Kick Attempt No Good.\n\nthen, calculating the probability for each of the intervals, 0-40, 40-55, and 55-65 respectively: P(0-40)=0.9764, P(40-55)=0.9764  and  P(55-65)=0.5.Therefore the probability of scoring a field goal up to 55 yards is great, and after that it drops to 50%. So this is the yard limit where there is a high risk that the attempt will not be successful.","298a5a56":" # **The Better play of the Especial Team**","5a86a485":"Now we will calculate the touchbacks of the Punt play","2442ed96":"# PUNT","d3aa3168":"The graphic of the play Result whose mean value is approximately 40 yards: ","f768baf6":"we obtain approximatelly a mean value of 50 yards. Similarly with the touchback of the kickoff, next to 50 yards the gunner no longer reaches the ball as shown in the previous table, the number of returns grows. ","761568c3":"**FAIR CATCH**","64fc70fb":"Here we will only select the data we need to analyze this type of play","23e4454f":"Also, after 53 yards the gunner no longer reaches the ball as shown in the previous table: in this play the defense, at this distance, the time the ball spends in the air is t2=5.82 s, then the distance a gunner takes to catch it is x=Vp*t2=9*5.82=52.38 yards. Then the gunners next  of the offensive team  inhibits an attack, and therefore the number of touchbacks grows. ","1f00b7c0":"therefore, we obtain the graphic of the kick Length whose mean value is approximately 65 yards:","bd8801fb":"# Extra Point","fc2905d5":"Now we will do a similar calculation of the touchback:","2c6faa48":"filtering this data","ed468982":"In this type of play something similar happens with the previous one, and the pressure of the defense causes the error due to the proximity of the defense. ","461f10da":"The Fair Catch reaches its maximum value for a kicklenght in the interval 41-45. Generally in this interval the defenders are already close to the receivers and this play is made to avoid the hit of the enemy defense. In this play the defense at a distance of approximately 40 yards, the time the ball spends in the air (t2=5.94) is greater than the time  (tp=40\/9=4.44 s) a runner takes to catch it, as shown in the table, which gives him time to stop his advance and \/ or recover the ball.","5c87b599":"# FIELD GOAL"}}