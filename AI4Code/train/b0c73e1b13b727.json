{"cell_type":{"d4ae11a0":"code","beb80ace":"code","b639179d":"code","dd5ce078":"code","c4e5ee84":"code","e287f26a":"code","38ebe13a":"code","e86307bb":"code","48171d74":"code","4dbddb3e":"code","51240d2a":"code","2447bb05":"code","44250eb8":"code","ea3c0588":"markdown","2ffc36f9":"markdown","b2a46020":"markdown","dbab0913":"markdown","2f4c2790":"markdown","4cd33c6a":"markdown","97e58b71":"markdown","ee855917":"markdown","51c57bf6":"markdown","e40a6d29":"markdown","c8bd3430":"markdown","9ee2f7dc":"markdown","455dafe5":"markdown","cca56db7":"markdown"},"source":{"d4ae11a0":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport cv2\nimport os\n\nfrom plotly import express as px, graph_objects as go\nfrom sklearn.model_selection import train_test_split, cross_val_score\nfrom sklearn.linear_model import LinearRegression, LogisticRegression\nfrom sklearn.metrics import accuracy_score","beb80ace":"books_df = pd.read_csv('\/kaggle\/input\/amazon-top-50-bestselling-books-2009-2019\/bestsellers with categories.csv')\nbooks_df.head()","b639179d":"print('shape of dataframe: {}'.format(books_df.shape))\nprint('number of authors: {}'.format(len(books_df.Author.unique())))","dd5ce078":"books_df.info()","c4e5ee84":"books_df.isnull().sum()","e287f26a":"genre_year_df = books_df[['Year', 'Genre']]\ngenre_year_df = pd.get_dummies(genre_year_df).groupby('Year').sum()\ngenre_year_fig = go.Figure(data=[\n    go.Bar(name='Fiction', x=genre_year_df.index, y=genre_year_df.Genre_Fiction),\n    go.Bar(name='Non Fiction', x=genre_year_df.index, y=genre_year_df['Genre_Non Fiction'])\n])\ngenre_year_fig.update_layout(barmode='stack', xaxis_title_text='year', yaxis_title_text='count', title='Number of book genres by year')","38ebe13a":"author_books_num = books_df.Author.value_counts(ascending=True)[-10:]\npx.bar(x=author_books_num ,\n        y=author_books_num .index,\n        color=author_books_num ,\n        orientation='h',\n        width=800,\n        title='Author by number of books')","e86307bb":"genre_num = books_df.Genre.value_counts()\npie_genre = go.Figure(data=[\n    go.Pie(labels=genre_num.index, values=genre_num, pull=[0, 0.05])\n])\npie_genre.update_layout(width=800, height=400, title='books by number of Genre')\npie_genre.show()","48171d74":"author_mean_p = books_df.groupby('Author').Price.mean().sort_values()[-10:]\npx.bar(x=author_mean_p,\n      y=author_mean_p.index,\n      color=author_mean_p,\n      width=800,\n      orientation='h',\n      title='Author by mean of price')","4dbddb3e":"# we have a different year of publishing here, so we addup the reviews number\nbooks_reviews_num = books_df.groupby('Author').Reviews.sum().sort_values(ascending=True)[-10:]\npx.bar(x=books_reviews_num,\n        y=books_reviews_num.index,\n        color=books_reviews_num,\n        orientation='h',\n        title='books by number of reviews')","51240d2a":"book_price_mean = books_df.groupby('Year').Price.mean().sort_values(ascending=True)[-10:]\nbook_price_mean.index = book_price_mean.index.astype(str) + ' year'\npx.bar(x=book_price_mean,\n      y=book_price_mean.index,\n      color=book_price_mean,\n      orientation='h',\n      title='mean book price by year')","2447bb05":"def return_pull(value):\n    return [0.05 if v==value.max() else 0  for v in value]\n\nauth_rate_pie = books_df['User Rating'].value_counts()\npie = go.Figure(data=[\n    go.Pie(labels=auth_rate_pie.index, values=auth_rate_pie, pull=return_pull(auth_rate_pie))\n])\npie.update_layout(width=800, title='How satisfied the users were with the books')","44250eb8":"books_republished = books_df.Name.value_counts(ascending=True)[-10:]\npx.bar(x=books_republished,\n      y=books_republished.index,\n      color=books_republished,\n      orientation='h',\n      title='number of books republished')","ea3c0588":"Author by mean of price","2ffc36f9":"In this notebook we will analyzing, cleaning and visulizing the data.","b2a46020":"books by number of reviews","dbab0913":"mean book price by year","2f4c2790":"## Import data","4cd33c6a":"Number of book genres by year","97e58b71":"number of books republished","ee855917":"How satisfied the users were with the books","51c57bf6":"Author by number of books","e40a6d29":"## Import a relevant libraries","c8bd3430":"## Introduction","9ee2f7dc":"## Data Visualization","455dafe5":"## Missing data","cca56db7":"books by number of Genre"}}