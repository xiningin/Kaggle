{"cell_type":{"e1afd26b":"code","e5942d9d":"code","0e72b4af":"code","abe3bc7b":"code","6e00482d":"code","c9bf46c6":"code","6a995556":"markdown","7d2cb440":"markdown","afde2468":"markdown","8c39bc84":"markdown","f63b99cd":"markdown","ce1ea83c":"markdown","47cef155":"markdown","861cab49":"markdown","1405c21d":"markdown"},"source":{"e1afd26b":"from IPython.display import Image\nImage(filename='..\/input\/basic-spreads\/Screen Shot 2021-02-24 at 2.44.16 PM.png',width=800, height=400)","e5942d9d":"from IPython.display import Image\nImage(filename='..\/input\/spread-math\/odds.jpeg',width=800, height=400)","0e72b4af":"#Accessing Chrome\n!wget https:\/\/dl.google.com\/linux\/direct\/google-chrome-stable_current_amd64.deb\n!apt install .\/google-chrome-stable_current_amd64.deb -y\n# Installing Chromedriver on Kaggle local environment\n!wget https:\/\/chromedriver.storage.googleapis.com\/88.0.4324.96\/chromedriver_linux64.zip\n!unzip chromedriver_linux64.zip\n!mv chromedriver \/usr\/local\/bin\n!chown root:root \/usr\/local\/bin\/chromedriver\n!chmod +x \/usr\/local\/bin\/chromedriver","abe3bc7b":"pip install -U selenium","6e00482d":"import pandas as pd\nfrom IPython.display import display\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.chrome.options import Options\nfrom selenium import webdriver\nimport time\n\npath='\/usr\/local\/bin\/chromedriver'\n\n\n#Driver settings required for this Kaggle Environment Driver\nchrome_options = Options()\nchrome_options.add_argument('--no-sandbox')\nchrome_options.add_argument('--headless')\nchrome_options.add_argument('--disable-dev-shm-usage')\nchrome_options.binary_location=\"\/usr\/bin\/google-chrome\"\n\n\n#Sleep time below required for delay to load all items on the page\ndriver = webdriver.Chrome(path, options=chrome_options)\n#pick your draftkings sport of choice and paste the associated page below\ndriver.get('https:\/\/sportsbook.draftkings.com\/leagues\/basketball\/3230960?category=game-lines&subcategory=game')\ntime.sleep(3)\n\nOdds=[]\nTeams=[]\nScore_Line=[]\nTotal_Goals=[]\nMoney_Line=[]\n\n#Below is specific code for Draft Kings.  This differs between sites, and you will need to\n#apply appropriate logic for the given site's JS.\n\nfor Team in driver.find_elements_by_class_name('sportsbook-table'):\n    Team_Name = Team.find_elements_by_xpath('.\/\/*[@class=\"event-cell__name\" or @class=\"sportsbook-odds american default-color\" or @class=\"sportsbook-empty-cell body\"]')\n    for value in Team_Name:\n        Odds.append(value.text)\n    Fourth = len(Odds)\/4\n    End1=int(Fourth)\n    Start2=int(Fourth)\n    End2=int((2*Fourth))\n    Start3=int((2*Fourth))\n    End3=int((3*Fourth))\n    Start4=int((3*Fourth))\n    End4=int((4*Fourth))\n    \n    Teams.append(Odds[0:End1])\n    Score_Line.append(Odds[Start2:End2])\n    Total_Goals.append(Odds[Start3:End3])\n    Money_Line.append(Odds[Start4:End4])\n    Odds=[]\n\nTeams_Final=[]\nScore_Line_Final=[]\nTotal_Goals_Final=[]\nMoney_Line_Final=[]\n\nfor i in Teams:\n    Teams_Final+=i\nfor j in Score_Line:\n    Score_Line_Final+=j\nfor k in Total_Goals:\n    Total_Goals_Final+=k\nfor l in Money_Line:\n    Money_Line_Final+=l\n\n    \n   \nDraftKings=pd.DataFrame(\n    {'Team': Teams_Final,\n     'Money_Line': Money_Line_Final,\n     'Score_Line': Score_Line_Final,\n     'Total_Goals': Total_Goals_Final\n    })\n \n\n    ","c9bf46c6":"display(DraftKings)","6a995556":"# When odds are in favor of bettor\n\nJust as books set margins where either side of a bet (+ and -) sum to a negative number.  This, statistically means that the average return is actually negative, if both bets are made.  There is a counter scenario to this: where you can find two opposing bets that have a positive odds sum.\n\n\n**Guaranteed Money**\n\nFor example, if you can find a book that has odds for home team to win at +110 and another book with away team to win at +105, you are earning money, regardless of the outcome.\n\n**Statistically Probable Earnings**\n\nFurthermore, by applying statstical principals, if a points spread is trusted as being a 50-50 outcome positive or negative, and you can find a book set +150 on one outcome and -130 on the opposite outcome, you may not win money on that particular game, but finding enough of these scenarios, statistically should yield profit for the bettor.","7d2cb440":"Warning: Please use this method carefully, and not for goals of making a profit (or as a way to \"print money\").\n\nThere are obstacles with this method: lines can change between placing bets if time is too long, books sometimes block bets from going through, and if you are betting (in the non-guaranteed, statistical method), you will need sufficient population of these scenarios to profit.  Margins can be small, and risk can be high.","afde2468":"# Spread: \nSouthern is expected to win by 7.5 points. The minus in -7.5 indicates the favorite, and which way the difference is expected to be.\n\n# Money:\nThis a straightforward pick of the winner.  Click on the +265 if you think alabama A&M will win, or the -330 if you think that Southern will win.\n\n# Total (Score):\nThe total score is predicted to be 134.5.  If you expect the total score to be over 134.5, click on the O 134.5, and if you expect it to be lower than 134.5, you pick U 134.5.\n\nNote these three \"lines\" and the Odds are + values and - values listed on each cell:","8c39bc84":"# How are odds set\n\n   # 1 Margin:\nThe first aspect is the margin, or method of guaranteeing the sportsbook to profit.  Let's say a basketball game has equal outcomes of a winner\/loser.  The book may set the moneyline odds to -110 for the home team, and -110 for the away team.  50% of bettors put odds toward home team and 50% of bettors put odds towards away team.  Assuming equal sums of 1000 on home and 1000 on away, the losers give the book 1000, the winners keep their 1000 prinicpal, and win 909.09, leaving the book with a profit of 90.91.  By setting the margin at -110 and -110, the book is statistically locking in earnings\n\n   # 2 Statistically Calculated Outcomes:\nThe second aspect is statistically caclulated outcomes of events.  There are services that provide lines for outcomes, which books can buy, or the book can do this in house.  An example of a third party firm is CG Technology, a Las Vegas-based odds consulting firm.  Either way, in house or outsourced, the book is generating, what they perceive, as the most probable outcome, and adding margin to that outcome.\n\n   # 3 Dynamic Odds as Bettors place Bets:\nThe third, primary, aspect is set based on how bettors place bets on the lines.  If the sportsbook places a moneyline for home win at -110 and away win at -110, and 10,000 is placed on away win \/ 1,000 is on home win, the book may change the odds, for any future bet to home win at +120 and away win at -150, as a way to incentivise a balanced bet on either outcome.","f63b99cd":"# What is a SportsBook\n\nSportsbooks allow customers to place bets on certain outcomes of sports.  They are typically on the winner\/loser of a competition (money line), on whether the score differential is above or below the predicted differential (spread), or on total score of the competition (total points).  There are many other bets that can be made, as well on outcomes internal to the event, or on larger league\/tournatment outcomes.","ce1ea83c":"# Positive Odds:\n\nWhen the odds have a +, it means that the winnings exceeds your bet.  This implies that the outcome is less likely to occur.  The winnings for a +135 odds are that if you bet 100, you will win 135, or that proportion, for your bet.\n\n# Negative Odds:\n\nWhen the odds have a -, it means the winnings will be less than the amount you bet because this is considered a likely outcome.  The winnings on a -135 are such that if you bet 135, you will only win 100, or that proportion, for your bet.","47cef155":"# Sportsbook Lines Comparison\n\nBy running comparisons of lines on sports books, you are able to identify these opportunities for guaranteed, or statistically probable earnings.  Below is an example of Selenium Webscraping code, and some basic Pandas to show how to do just this.  I have not included examples or even sites that I have personally identified these opportunities.  Please use this notebook as a starting off point to explore the possibilities.","861cab49":"Installing the latest selenium\n\n#Selenium is chosen for this application because sportsbooks are\n#very dynamic, with odds changing frequently, and so they are\n#more commonly displaying dynamic, JavaScript (which Selenium can hanndle; Beautiful Soup Cannot)","1405c21d":"# Not all books have same odds\n\nPoint 2, above, means that all books may determine odds of an outcome differently, since they may used different statistical calculations to determine the outcome of an event.\n\nPoint 3, above, means that depending on how some customers of a certain sportsbook bets, it may cause lines to move, and differ, even further."}}