{"cell_type":{"4b7f609f":"code","91e4327f":"code","e9eb5af1":"code","1ffde6e9":"code","0f46fb37":"code","00c6c9ce":"code","777bec4e":"code","e74762be":"code","a1a43b53":"code","ccfa88c9":"code","2867bafb":"code","4af1eee0":"code","38ca71b3":"code","ba82abc2":"code","f4046098":"code","baaedd46":"code","6d64c349":"markdown","8661ac32":"markdown","d657f146":"markdown","efa9f2f0":"markdown","c1b0f3d4":"markdown","c4f7d9c1":"markdown","23f75a95":"markdown","bb3a6b73":"markdown","3729786c":"markdown","0c915857":"markdown","4deb612f":"markdown","e09b3474":"markdown","6c37fe4b":"markdown","89f3e1da":"markdown","cfa43b30":"markdown","1711b3b1":"markdown","4633d64d":"markdown","8d75dc26":"markdown","96451cdb":"markdown","2613daa7":"markdown","2093f4b5":"markdown","e367ff6d":"markdown","1b655795":"markdown","c2476445":"markdown"},"source":{"4b7f609f":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt","91e4327f":"filepath = '..\/input\/spotify-top-2000s-mega-dataset\/Spotify-2000.csv'\nsongdata = pd.read_csv(filepath)","e9eb5af1":"#Thankfully no nulls!\nsongdata.isnull().sum()","1ffde6e9":"\nsongdata['Title'] = songdata['Title'].astype('string')\nsongdata['Artist'] = songdata['Artist'].astype('string')\nsongdata['Top Genre'] = songdata['Top Genre'].astype('string')\n\nsongdata.dtypes","0f46fb37":"songdata.rename(columns={'Top Genre': 'Genre',\n                             'Beats Per Minute (BPM)': 'bpm',\n                             'Loudness (dB)': 'loudness',\n                             'Length (Duration)': 'song_length',\n                        'Year': 'year',}, inplace=True)\nsongdata.head(5)","00c6c9ce":"attribute_columns = songdata[['year', 'bpm', 'Energy', 'Danceability', 'loudness', 'Liveness', 'Valence', 'song_length', 'Acousticness', 'Speechiness', 'Popularity']]\n\npd.plotting.scatter_matrix(\n    attribute_columns,\n    figsize=(20, 20)\n);\nplt.title('Song attribute scatter matrix');","777bec4e":"songdata['Hitfactor'] = songdata['Energy'] * songdata['Danceability'] * songdata['loudness']\nsongdata.plot(kind='scatter', x='Hitfactor', y='Popularity', color = 'purple')\nplt.title('Hitfactor correlations with popularity overall');","e74762be":"songdata_by_year = songdata \\\n    .groupby('year') \\\n    .mean()\n\nsongdata_by_year","a1a43b53":"songdata_by_year_hitfactor_plot = songdata_by_year[['Hitfactor']]\nsongdata_by_year_hitfactor_plot.plot(kind='line', figsize=(15, 15), color = 'green')\nplt.title('Average hitfactor levels throughout the years');","ccfa88c9":"#creating dataframes based on decade\nsixties_songdata = songdata[(songdata.year >1959) & (songdata.year <1970)]\nseventies_songdata = songdata[(songdata.year >1969) & (songdata.year <1980)]\neighties_songdata = songdata[(songdata.year >1979) & (songdata.year <1990)]\nnineties_songdata = songdata[(songdata.year >1989) & (songdata.year <2000)]\nthousands_songdata = songdata[(songdata.year >1999) & (songdata.year <2010)]\ntens_songdata = songdata[(songdata.year >2009) & (songdata.year <2020)]\n\neighties_songdata['Genre'].value_counts().head(20).plot(kind='bar', color = 'pink');\nplt.title('popular genres in the 80s');","2867bafb":"eighties_songdata.plot(kind='scatter', x='Valence', y='Popularity', color = 'pink')\nplt.title('Valence vs. Popularity in the 80s');\n","4af1eee0":"songdata_by_year_valence_plot = songdata_by_year[['Valence']]\nsongdata_by_year_valence_plot.plot(kind='line', figsize=(15, 15), color = 'green')\nplt.title('Average valence levels over time');\n","38ca71b3":"thousands_songdata['Genre'].value_counts().head(20).plot(kind='bar', color = 'pink');\nplt.title('Popular music genres in the 2000s');","ba82abc2":"songdata_by_year_acousticness_plot = songdata_by_year[['Acousticness']]\nsongdata_by_year_acousticness_plot.plot(kind='line', figsize=(15, 15), color = 'green')\nplt.title('Average acousticness levels over time');","f4046098":"songdata_by_year_speechiness_plot = songdata_by_year[['Speechiness']]\nsongdata_by_year_speechiness_plot.plot(kind='line', figsize=(15, 15), color = 'green')\nplt.title('Average speechiness levels over time');","baaedd46":"speechy_songs = songdata[(songdata.Genre.str.contains('hip' or 'rap'))]\nspeechy_songs.sort_values('year', ascending=True)","6d64c349":"As we see above, dance pop and alternative metal are loud and danceable genres (hence the names), which rose in popularity in the 2000s.","8661ac32":"**'Hitfactor' level increases in late 90's, what genres were increasing in popularity that could be the cause of that?**","d657f146":"**ANY QUESTIONS?**","efa9f2f0":"Using a scatterplot matrix of all attributes, I discovered overall popularity of a song is lightly correlated with energy, danceability, loudness attributes.","c1b0f3d4":"Here we see a dip in \"hitfactor\" in the 80's. Why could that be?","c4f7d9c1":"**(if time) Any other attributes that have drastically changed over time?**","23f75a95":"**Q: Does the hitfactor level change over time?**","bb3a6b73":"I created a field that combines these attributes to see if the correlation is stronger...","3729786c":"Data clean up plan:\n\n1. Change Title data type\n2. Change Artist data type\n3. Change Top Genre data type\n4. Change Top Genre column name\n5. Change Beats per Minute (BPM) column name\n6. Change Loudness (dB) column name\n7. Change Length (Duration) column name\n8. Change # Year column name","0c915857":"Data manipulation and plotting for patterns:\n1. Attributes were measured against each other to see if there were strong correlations between certain attributes and song popularity (popularity is one of the attributes using a ranking rather than a rating)\n2. Average attribute levels were calculated for each year to see how the average changed over time\n3. Created data frame for each decade to look at changes in correlations during different decades","4deb612f":"**Spotify Music Analysis: top 2000s**\nIn this project, I will be analyzing patterns of characteristics of top songs on Spotify and how they affected the popularity of those songs. The data set comes from http:\/\/sortyourmusic.playlistmachinery.com\/ which describes the qualities of the top 2000 songs on Spotify as of 2019.\n\n| Field | Description |\n| :-- | :-- |\n| **Title** | Title of the song\n| **Artist** | Artist of song\n| **Top Genre** | Main genre song falls under\n| **# Year** | Year song was released\n| **Beats per minute** | Number of counts per minute in the song; general indicator of song speed\n| **Energy** | Value from 1-100 to measure the energy level of the song\n| **Danceability** | Value from 1-100 given to measure how easy the song is to dance to\n| **Loudness** | Value in decibels indicating the volume the song.\n| **Liveness** | Value from 0-100 indicating the probability that the song is a live performance\n| **Valence** | The higher the value, the more positive mood for the song.\n| **Length (Duration)** | Value indicating duration of the song in seconds\n| **Acousticness** | Value frmo 0-100 indicating how acoustic the song is\n| **Speechiness** | Value from 0-55 indicating how much spoken word the song contains\n| **Popularity** | Value from 0-100 indicating the popularity\/listen volume of the song","e09b3474":"![](https:\/\/www.stpaulabilene.org\/wp-content\/uploads\/2018\/10\/spotify-logo-png-file-spotify-badge-large-png-1280.png)","6c37fe4b":"As we see above, average acousticness has decreased over time especially since the 50s. Might be on the rise right now...TBD","89f3e1da":"Questions:\n1. What attributes make a song popular in general?\n2. What attributes made a song popular in particular decades? Does that change over time?\n3. Are there certain song qualities that are more prevalent in some decades than others?","cfa43b30":"There is not a particularly interesting or strong pattern of valence over time. Mood doesn't seem to be a big factor in popular music that changes.","1711b3b1":"Above, we see around 1992, speechiness in music increases. \n**What were popular genres in the 90's?**","4633d64d":"Thank you for listening!","8d75dc26":"Below, we see valence, or the positive mood of a song, was an attribute that was positively correlated with popularity in the eighties. Popular music from this era was still \"happy\", just not in the same way as we might think, with attributes like being loud, energetic, or danceable. ","96451cdb":"**Did this mean popular music from the 80's was really sad?**","2613daa7":"I hypothesized that this was because of the rise in popularity of rap and hip hop in the late 80's, so I looked at all the songs in this list that were either rap or hip hop songs, and sorted them by year. The oldest song in this list is from 1986, around the time where we see speechiness increase in the above graph.","2093f4b5":"**Q: What attributes make a song popular in general?**","e367ff6d":"To see this, I created a new dataframe looking at average attribute levels grouped by year, then plotted hitfactor levels over time...","1b655795":"**Q: What genres were popular in the 80's?**","c2476445":"**How does the hitfactor level increase and decrease over time?**"}}