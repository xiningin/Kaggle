{"cell_type":{"7374d40f":"code","1a8def43":"code","d3fb844e":"code","4b0aad84":"code","740d42a6":"code","efb8786a":"code","90b2ee02":"code","19bfd0df":"code","44e278f3":"code","180949cd":"code","9021fd9e":"code","e6e0c30c":"code","55814083":"code","db114a08":"code","df2aa46a":"code","91a8c49e":"code","d5416f2f":"markdown","b5b04634":"markdown"},"source":{"7374d40f":"!pip install dataprep","1a8def43":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np\nimport calendar\nfrom wordcloud import WordCloud\n\nfrom dataprep.clean import clean_text\n\nsns.set(style='darkgrid')\nplt.rcParams[\"figure.figsize\"] = (12,6)","d3fb844e":"df = pd.read_csv('..\/input\/app-store-reviews\/app_store_reviews.csv')","4b0aad84":"df.head()","740d42a6":"df.shape","efb8786a":"df.dtypes","90b2ee02":"df.isna().sum()","19bfd0df":"df1 = df.copy()","44e278f3":"df1['date'] = pd.to_datetime(df['date'])\n\n#creare a new column month and year to do a better analysis\ndf1['month'] = df1['date'].dt.month.apply(lambda x: calendar.month_abbr[x])\ndf1['year'] = df1['date'].dt.year\n\n#Drop irrelevant column\ncols_drop = ['url', 'app_id', '_id', 'developerResponse', 'userName', 'crawled_at']\ndf1.drop(cols_drop, axis=1, inplace=True)\n\n#use datapre to clean the data\nfor col in df1[['title', 'review']]:\n  clean_text(df1, col)","180949cd":"df1.sample(2)","9021fd9e":"plt.figure(figsize=(25,8));\nplt.subplot( 2, 4, 1 );\nsns.countplot(x='rating', order=[5,4,3,2,1], data=df1);\nplt.title('RATING');\n\nplt.subplot( 2, 4, 2 );\nsns.countplot(x='isEdited', data=df1);\nplt.title('TOTAL OF EDITED');\n\nplt.subplot( 2, 4, 3 );\ndf_year = df1.groupby('year', as_index=False)['isEdited'].count().rename(columns={'isEdited':'total'})\nsns.lineplot(x='year', y='total', data = df_year);\nplt.title('TOTAL REVIEW BY YEAR');\n\nplt.subplot( 2, 4, 4 );\nsns.countplot(x='country', data=df1);\nplt.title('Total review by country');\n","e6e0c30c":"def count_rating(rating, data, x, y, n):\n    data = data[ data['rating'] == rating ]\n    count = data.groupby(x, as_index=False)['isEdited'].count().rename( columns = {'isEdited':'total'})\n    count['%'] = round((count['total'] \/ count['total'].sum()) * 100, 2)\n  \n    chart = sns.barplot(x=x, y =y, data = count.nlargest(n, 'total'), palette='Blues_r')\n    \n    plt.title(f'Rating {rating} by {x.replace(\"_\", \" \")}', fontweight=\"bold\")\n    chart.spines['top'].set_visible(False)\n    chart.spines['right'].set_visible(False)\n    plt.subplots_adjust(left=0.1, \n                    bottom=0.3,  \n                    right=0.9,  \n                    top=2.8,  \n                    wspace=0.4,  \n                   hspace=1)\n    return chart","55814083":"for i in range(1,6):\n    plt.subplot( 3, 3, i );\n    count_rating(i, df1, 'app_name', 'total', 10);\n    plt.xticks(rotation=90);","db114a08":"var = [' '\" \".join(word for word in df1['title'].astype(str))]\nvar=var[0]\n\nvar_1 = [' '\" \".join(word for word in df1['review'].astype(str))]\nvar_1=var_1[0]","df2aa46a":"wordcloud=WordCloud(width = 2000, height = 1000, \n                background_color ='White', colormap = 'Set2',min_font_size = 20).generate(var)\nwordcloud1=WordCloud(width = 2000, height = 1000, \n                background_color ='White', colormap = 'Set3',min_font_size = 20).generate(var_1)","91a8c49e":"plt.figure(figsize = (15, 8), facecolor = None)\n\nplt.subplot( 2, 2, 1 );\nplt.imshow(wordcloud)\nplt.title('WORLDCOUD TO TITLE')\nplt.axis(\"off\")\n\nplt.subplot( 2, 2, 2 );\nplt.imshow(wordcloud1)\nplt.title('WORLDCOUD TO REVIEW')\nplt.axis(\"off\")\n\nplt.tight_layout(pad = 0)\nplt.subplots_adjust(hspace=0.2)\n  \nplt.show()","d5416f2f":"**DAPTA PREPROCESSING**","b5b04634":"**EXPLORATORY ANALYSIS**"}}