{"cell_type":{"c6c0c683":"code","6049fc63":"code","365c8307":"code","f7bd147d":"code","8a215967":"code","426c9d56":"code","94ce05f7":"code","0261cbae":"code","68f38464":"code","063ae6ac":"code","8f0a3be6":"code","e0ad6357":"code","f52b2ca8":"code","5ac32a9e":"code","b4d3443e":"code","ddebd8bc":"code","a8300924":"code","99476a29":"code","3c63ecc8":"code","c625bbee":"code","c43fecbf":"code","ef163d5d":"code","8ba8f34e":"code","f5db1ea4":"code","f62fbea9":"code","d7d51c89":"code","59535526":"code","3ca1f4b6":"code","c102c0ca":"code","126cbbeb":"code","9b0d648a":"code","3cdf54b9":"code","9617d88f":"code","9790ff76":"code","8461d004":"code","93312007":"code","9f6d24f0":"code","58f17375":"code","a8a3c968":"code","9bb0d1f7":"code","47e453d8":"code","78d27663":"code","6165e798":"code","fa3ad14f":"code","74f2aa60":"code","0e0e2c0f":"code","b934b8fe":"code","1d0519e8":"code","1def6dde":"code","356a62e5":"code","c65d0dfe":"code","e8b164da":"code","9bd10b17":"code","8e348c1c":"markdown","b9f697b9":"markdown","0a56be50":"markdown","2b782ee2":"markdown","f8bc72a0":"markdown","ea76e212":"markdown","ba4602b8":"markdown","71a9748c":"markdown","0c28128e":"markdown","13c1fefd":"markdown","37a8e309":"markdown","4394ade7":"markdown","45e20c56":"markdown","38e7e299":"markdown","b4197ff1":"markdown","048d714b":"markdown","51499660":"markdown","9b0370d1":"markdown","f9db291a":"markdown","6965f3a7":"markdown","3df2bdbd":"markdown","ce3dbbfb":"markdown","41bee9d7":"markdown","b678c94c":"markdown","552c839a":"markdown","00a25b7b":"markdown","dd849c83":"markdown","fa7bc587":"markdown","f425f8c3":"markdown","86386008":"markdown","14acd800":"markdown","79fbbb45":"markdown","9799f47b":"markdown","2d48c1d2":"markdown","483d0f1f":"markdown","8e00cb41":"markdown","0c19532d":"markdown","15c8853c":"markdown","ab077713":"markdown","cbc25750":"markdown","2ee80403":"markdown","e377982d":"markdown","4a28289f":"markdown","5a999322":"markdown","ec593b6f":"markdown","3e3e49dc":"markdown","6962de22":"markdown","8cbd8544":"markdown","f87bde3e":"markdown","4d6b2906":"markdown","af60d002":"markdown","f6334d69":"markdown","a8e03fc7":"markdown","b228d381":"markdown","aff87d0c":"markdown","4a320061":"markdown","dae7c9b6":"markdown"},"source":{"c6c0c683":"#getting a sense of what data I have\n#importing libraries for visualisation and handling data\n\nfrom pandasql import sqldf\nimport datetime\nimport pandas as pd\nimport numpy as np\nimport scipy.stats\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\ndf = pd.read_csv('..\/input\/motorcyclepartssalesdata\/sales_data.csv', parse_dates=['date'])\ndf.head()","6049fc63":"#I want to know how many rows I'm working with\n\ndf.shape","365c8307":"#I'm checking the date range of my dataset\n\nprint(df.date.min(), df.date.max())","f7bd147d":"#I'm checking the data range for warehouses\n\ndf.warehouse.unique()","8a215967":"#I'm checking the data range for client types\n\ndf.client_type.unique()","426c9d56":"#I'm checking the data range for product lines\n\ndf.product_line.unique()","94ce05f7":"#I'm checking the data range for quantity per order\n\nprint(df.quantity.min(), df.quantity.max())","0261cbae":"#I'm checking the data range for unit price\n\nprint(df.unit_price.min(), df.unit_price.max())","68f38464":"#I'm checking the data range for total sales revenue ($) per order\n\nprint(df.total.min(), df.total.max())","063ae6ac":"#I'm checking the data range for payment methods\n\ndf.payment.unique()","8f0a3be6":"#visualising my results with a bar chart and a table\n#calculating a ratio\n\nsales_by_payment = df.groupby('payment')[['total']].sum()\nsales_by_payment = sales_by_payment.sort_values('total', ascending = True)\nsales_by_payment.plot(kind = 'barh')\nplt.show()\n\nratio = sales_by_payment.iloc[2,0]\/sales_by_payment.iloc[0,0]\nprint('\\nRatio of sales paid by transfer to sales paid by cash is {}\\n'.format(ratio))\nsales_by_payment","e0ad6357":"#prettifying my visualisation\n\nsales = sales_by_payment.total.values.tolist()\npayment_methods = ['Cash','Credit card', 'Transfer']\n\nfig, ax = plt.subplots()    \nind = np.arange(len(sales))  # the y locations for each payment method\nax.barh(ind, sales, 0.6, color=\"blue\")  # 0.6 is the width of bar\nax.set_yticks(ind)\nax.set_yticklabels(payment_methods, minor=False)\nplt.title('Total Sales by Payment Methods')\nplt.ylabel('Payment Methods')\nplt.xlabel('Sales ($)')      \n\nfor index, value in enumerate(sales):\n    ax.text(value + 10000, index, str(round(value,2)), color='blue', fontweight='bold')\nplt.show()","f52b2ca8":"#visualising my results with a bar chart and a table\n#calculating a ratio\n\navg_unit_price_by_product_line = df.groupby('product_line')[['unit_price']].mean()\navg_unit_price_by_product_line = avg_unit_price_by_product_line.sort_values(['unit_price'],ascending = True)\navg_unit_price_by_product_line.plot(kind = 'barh')\nplt.show()\n\nratio = avg_unit_price_by_product_line.iloc[5,0]\/avg_unit_price_by_product_line.iloc[0,0]\nprint('\\nRatio of average unit price for engine vs breaking system is {}\\n'.format(ratio))\navg_unit_price_by_product_line","5ac32a9e":"#prettifying my visualisation\n\nx = avg_unit_price_by_product_line.unit_price.values.tolist()\ny = ['Breaking system','Miscellaneous','Electrical system','Suspension & traction','Frame & body','Engine']\n\nfig, ax = plt.subplots()    \nind = np.arange(len(y))  # the y locations for each payment method\nax.barh(ind, x, 0.6, color=\"blue\")  # 0.6 is the width of bar\nax.set_yticks(ind)\nax.set_yticklabels(y, minor=False)\nplt.title('Average Unit Price by Product Line')\nplt.ylabel('Product Line')\nplt.xlabel('Average Unit Price ($)')      \n\nfor index, value in enumerate(x):\n    ax.text(value, index, str(round(value,2)), color='blue', fontweight='bold')","b4d3443e":"#visualising total sales with a bar chart and a table\n#calculating total sales ratio\n\ntotal_sales_by_client_type = df.groupby('client_type')[['total']].sum()\ntotal_sales_by_client_type = total_sales_by_client_type.sort_values('total',ascending = True)\ntotal_sales_by_client_type.plot(kind = 'barh')\nplt.show()\nratio = total_sales_by_client_type.iloc[1,0]\/total_sales_by_client_type.iloc[0,0]\nprint('\\nTotal wholesale sales to retail sales ratio is {}\\n'.format(round(ratio,2)))\ntotal_sales_by_client_type","ddebd8bc":"#visualising average sales with a bar chart and a table\n#calculating average sales ratio\n\navg_sales_by_client_type = df.groupby('client_type')[['total']].mean()\navg_sales_by_client_type = avg_sales_by_client_type.sort_values('total',ascending = True)\navg_sales_by_client_type.plot(kind = 'barh')\nplt.show()\nratio = avg_sales_by_client_type.iloc[1,0]\/avg_sales_by_client_type.iloc[0,0]\nprint('\\nAverage wholesale sales to retail sales ratio is {}\\n'.format(round(ratio,2)))\navg_sales_by_client_type","a8300924":"#visualising total sales with a bar chart and a table\n#calculating total sales ratio\n\ntotal_sales_by_warehouse = df.groupby('warehouse')[['total']].sum()\ntotal_sales_by_warehouse = total_sales_by_warehouse.sort_values('total',ascending = True)\ntotal_sales_by_warehouse.plot(kind = 'barh')\nplt.show()\nratio = total_sales_by_warehouse.iloc[2,0]\/total_sales_by_warehouse.iloc[0,0]\nprint('\\nRatio of total sales by central warehouse to west warehouse is {}\\n'.format(round(ratio,2)))\ntotal_sales_by_warehouse","99476a29":"#visualising average sales with a bar chart and a table\n\navg_sales_by_warehouse = df.groupby('warehouse')[['total']].mean()\navg_sales_by_warehouse = avg_sales_by_warehouse.sort_values('total',ascending = True)\navg_sales_by_warehouse.plot(kind = 'barh')\nplt.show()\navg_sales_by_warehouse","3c63ecc8":"#visualising total sales with a bar chart and a table\n#calculating a ratio\n\ntotal_sales_by_product_line = df.groupby('product_line')[['total']].sum()\ntotal_sales_by_product_line = total_sales_by_product_line.sort_values('total',ascending = True)\ntotal_sales_by_product_line.plot(kind = 'barh')\nplt.show()\nratio = total_sales_by_product_line.iloc[5,0]\/total_sales_by_product_line.iloc[0,0]\nprint('\\nRatio of total sales of Suspension & traction vs Miscellaneous is {}\\n'.format(ratio))\ntotal_sales_by_product_line","c625bbee":"#visualising average sales with a bar chart and a table\n\navg_sales_by_product_line = df.groupby('product_line')[['total']].mean()\navg_sales_by_product_line = avg_sales_by_product_line.sort_values('total',ascending = True)\navg_sales_by_product_line.plot(kind = 'barh')\nplt.show()\navg_sales_by_product_line","c43fecbf":"#exploring the relationship between client type and payment method using a scatter plot and a frequency table\n#calculating a ratio to compare frequency\n\nplt.scatter(df.client_type.values.tolist(), df.payment.values.tolist())\nplt.show()\nfrequency = df.groupby(['client_type','payment'])[['date']].count()\nfrequency = frequency.rename (columns = {'date':'count'})\nratio = frequency.iloc[1,0]\/frequency.iloc[0,0]\nprint('\\nRatio of number of credit card payments to cash payments is {}\\n'.format(round(ratio,2)))\nfrequency","ef163d5d":"#visualising average quantity per order, pivoted by product line\n\ndf_mean = pd.pivot_table(df,index = 'product_line',aggfunc = {'quantity':np.mean})\ndf_mean","8ba8f34e":"#visualising total quantity ordered, pivoted by product line\n\ndf_sum = pd.pivot_table(df,index = 'product_line',aggfunc = {'quantity':np.sum})\ndf_sum = df_sum.sort_values('quantity',ascending = True)\nratio = df_sum.iloc[5,0]\/df_sum.iloc[0,0]\nprint('\\nRatio of order quantity of suspension & traction to engine is {}\\n'.format(ratio))\ndf_sum","f5db1ea4":"#visualising overall frequency distribution of quantity per order in a histogram, 5 bins\n\nplt.hist(df.quantity, bins = 5)\nplt.show()","f62fbea9":"#for loop to plot histogram for each product line and its distribution of order quantity, 5 bins\n\nfor item in df.product_line.unique().tolist():\n    print(item)\n    plt.hist(df[df['product_line'] == item].quantity, bins = 5)\n    plt.show()","d7d51c89":"#pivot table by warehouse and product line to explore sales breakdown\n\ndf_sales = pd.pivot_table(df, index = ['warehouse','product_line'])\ndf_sales","59535526":"#quantity per order by product line and warehouse\n\nprint('Fig 1: Quantity')\nplt.figure(figsize=(15,8))\nsns.scatterplot(x='quantity',y='product_line',hue='warehouse',data=df_sales,s=100)\nplt.legend(bbox_to_anchor=(1.05, 1), loc='upper left', borderaxespad=0)\nplt.show()","3ca1f4b6":"#unit price by product line and warehouse\n\nprint('Fig 2: Unit Price')\nplt.figure(figsize=(15,8))\nsns.scatterplot(x='unit_price',y='product_line',hue='warehouse',data=df_sales,s=100)\nplt.legend(bbox_to_anchor=(1.05, 1), loc='upper left', borderaxespad=0)\nplt.show()","c102c0ca":"#total sales by product line and warehouse\n\nprint('Fig 3: Sales')\nplt.figure(figsize=(15,8))\nsns.scatterplot(x='total',y='product_line',hue='warehouse',data=df_sales,s=100)\nplt.legend(bbox_to_anchor=(1.05, 1), loc='upper left', borderaxespad=0)\nplt.show()","126cbbeb":"#preparing to draw the mean lines for Engine scatter plot\n#this is done retroactively after observing a cluster in the first quadrant in the Engine scatter plot that follows\n\navg_quantity = df[df['product_line'] == 'Engine']['quantity'].mean()\navg_unit_price = df[df['product_line'] == 'Engine']['unit_price'].mean()\nx = []\ny = []\nfor i in range(10):\n    y.append(avg_unit_price)\n    x.append(avg_quantity)\n\nmin_quantity = df[df['product_line'] == 'Engine']['quantity'].min()\nmax_quantity = df[df['product_line'] == 'Engine']['quantity'].max()\nmin_unit_price = df[df['product_line'] == 'Engine']['unit_price'].min()\nmax_unit_price = df[df['product_line'] == 'Engine']['unit_price'].max()","9b0d648a":"#checking for correlation between unit price and quantity, for each product line\n\nprint ('Series 1')\nfor item in df.product_line.unique().tolist():\n    print(item)\n    plt.figure(figsize=(8,4))\n    sns.scatterplot(x='quantity', y='unit_price', hue = 'warehouse', data = df[df['product_line'] == item])\n    plt.legend(bbox_to_anchor=(1.05, 1), loc='upper left', borderaxespad=0)\n    if item == 'Engine':\n        plt.plot(np.arange(min_quantity,min_quantity+45,4.5),y,linestyle = 'dashed')\n        plt.plot(x,np.arange(min_unit_price,min_unit_price+15,1.5), linestyle = 'dashed')\n    plt.show()","3cdf54b9":"#to see if there is any pattern or correlation in quantity vs unit price, overall, pivoted by warehouse\n\nprint('Fig 2A: All product lines')\nplt.figure(figsize=(8,4))\nsns.scatterplot(x='quantity', y='unit_price', hue = 'warehouse',data = df)\nplt.legend(bbox_to_anchor=(1.05, 1), loc='upper left', borderaxespad=0)\nplt.show()","9617d88f":"#measuring correlation between unit price and quantity, overall\n\nprint('Fig 2B: All product lines')\nr = scipy.stats.linregress(df.quantity,df.unit_price).rvalue\np = scipy.stats.linregress(df.quantity,df.unit_price).pvalue\nslope = scipy.stats.linregress(df.quantity,df.unit_price).slope\nprint('r = {}'.format(round(r,3)))\nprint('p = {}'.format(round(p,3)))\nprint('slope is {}'.format(round(slope,3)))\nsns.regplot(x='quantity', y='unit_price', data = df)\nplt.show()","9790ff76":"#measuring correlation between unit price and quantity, for each warehouse\n\nprint ('Series 3')\nfor warehouse in df.warehouse.unique().tolist():\n    print(warehouse)\n    df3 = df[df['warehouse'] == warehouse]\n    r = scipy.stats.linregress(df3.quantity,df3.unit_price).rvalue\n    p = scipy.stats.linregress(df3.quantity,df3.unit_price).pvalue\n    slope = scipy.stats.linregress(df3.quantity,df3.unit_price).slope\n    print('r = {}'.format(round(r,3)))\n    print('p = {}'.format(round(p,3)))\n    print('slope is {}'.format(round(slope,3)))\n    sns.regplot(x='quantity', y='unit_price', data = df3)\n    plt.show()","8461d004":"#preparing the dataset by adding 3 new columns\n\ndf['month'] = df['date'].dt.month\ndf['day_of_month'] = df['date'].dt.day\ndf['week_of_month'] = (df['day_of_month'] - 1) \/\/ 7 + 1\ndf['day_of_week'] = df['date'].dt.weekday #0 is Monday\ndf","93312007":"#scatterplot to find seasonality or cyclical patterns in sales\n\nprint('Series 4')\nperiod_list = ['month','week_of_month','day_of_month','day_of_week']\nfor period in period_list:\n    print(period)\n    plt.figure(figsize = (15,8))\n    sns.scatterplot(x=period,y='total', hue = 'week_of_month', data = df, s= 100)\n    plt.legend(bbox_to_anchor=(1.05, 1), loc='upper left', borderaxespad=0)\n    plt.show()","9f6d24f0":"#plot time series to see total sales over the 3-month time period\n\nprint('Fig 5: Sales from Jun to Aug 2021')\nplt.figure(figsize=(15,8))\nsns.lineplot(x='date',y='total',data=df)\nplt.show()","58f17375":"#check total sales and total quantity by period for seasonality\n#note 0 is Monday\n\nprint('Series 6')\nfor period in period_list:\n    for column in ['quantity','total']:\n        print('{} by {}'.format(column, period))\n        df4 = pd.pivot_table(df, index= [period],aggfunc = {column:np.sum})\n        df4.plot(kind='barh')\n        plt.show()\n        #display(df4)\n    print('\\n\\n')","a8a3c968":"#check Tuesdays for anomalies\n\ndf5 = df[(df.day_of_week == 1)]\ndf5 = df5.groupby('date')[['quantity']].sum()\ndf5.sort_values('quantity',ascending = False).head()","9bb0d1f7":"#looking at days where order quantity is at least 32 and occurs on 28th for anomalies\n\ndf6 = df[(df.day_of_month == 28) & (df.quantity >=32)]\ndf6","47e453d8":"#finding out when large wholesale orders take place\n\nprint('wholesale order quantity')\ndf7 = df[(df.client_type == 'Wholesale')]\ndf7 = df7.groupby('day_of_month')[['quantity']].sum()\ndf7.plot(kind = 'barh')\nplt.show()\n\ndf7 = df7.sort_values('quantity', ascending = False).head()\ndisplay(df7)","78d27663":"#pivot table by product line and client type\n#ratio of unit price of wholesale to retail\n\ndf9 = pd.pivot_table(df, index = ['product_line','client_type'],aggfunc = {'quantity':np.sum,'total':np.sum,'unit_price':np.mean})\ndisplay(df9)\n\nkey = df.sort_values('product_line').product_line.unique().tolist()\nratio_dict={}\nfor i in range(6):\n    ratio_dict[key[i]] = round(df9.iloc[2*i+1,2]\/df9.iloc[2*i,2],2)\nratio_dict","6165e798":"#comparing bar graphs of quantity, total sales and unit price for wholesale vs retail\n\nfor item in ['quantity','total','unit_price']:\n    df9[[item]].plot(kind = 'barh')\n    plt.show()","fa3ad14f":"#relational plot to compare retail and wholesale\n\nprint('Fig 7')\nsns.relplot(x='quantity',y='product_line',hue = 'payment',size = 'total',col = 'client_type',data= df)\nplt.show()\nprint('\\n\\nFig 8')\nsns.relplot(x='quantity',y='unit_price',hue = 'product_line',col = 'client_type',data= df)\nplt.show()\nprint('\\n\\nFig 9')\nsns.relplot(x='warehouse',y='product_line',hue = 'payment',col = 'client_type',data= df)\nplt.show()\nprint('\\n\\nFig 10')\nsns.relplot(x='warehouse',y='unit_price',hue = 'product_line',col = 'client_type',data= df)\nplt.show()","74f2aa60":"#finding out what percentage of retail engine sales are paid in cash, compared to total retail sales paid in cash\n\ndf11 = df[(df['product_line']=='Engine') & (df['client_type']=='Retail')]\na = df11.shape[0]\nb = df11[(df11['payment']=='Cash')].shape[0]\npercentage_cash_retail_Engine = round(b\/a*100,2)\nprint('Percentage of retail Engine sales paid in cash is {} %'.format(percentage_cash_retail_Engine))\n\ncredit_card = sales_by_payment.iloc[1,0]\ncash = sales_by_payment.iloc[0,0]\nratio = cash \/ (cash+ credit_card)*100\nprint('Percentage of retail sales paid in cash is {} %'.format(round(ratio,2)))","0e0e2c0f":"# finding the percentage of wholesale sales by West warehouse to compare against percentage of overall sales\n\ndf13 = df[(df['client_type']=='Wholesale')]\ndf13 = pd.pivot_table(df13,index='warehouse',aggfunc = {'total':np.sum})\nperc_west_wholesale = df13.iloc[2,0]\/float(df13.sum())*100\ndf14 = pd.pivot_table(df,index='warehouse',aggfunc = {'total':np.sum})\nperc_west_all = df14.iloc[2,0]\/float(df14.sum())*100\nprint('Percentage of West warehouse sales out of total is {} %'.format(round(perc_west_all,2)))\nprint('Percentage of West warehouse wholesale sales out of total wholesale sales is {} %'.format(round(perc_west_wholesale,2)))","b934b8fe":"#finding the total sales by warehouse and client type\n\ndf.groupby(['warehouse','client_type'])[['total']].sum()","1d0519e8":"#finding the average order value paid by cash vs credit card to compare the order value\n\ndf.groupby(['payment'])[['total']].mean()","1def6dde":"#using sql now because it seems more efficient for the remaining problems\n#finding sales in electrical systems, group by client type\n\nmysql = lambda q: sqldf(q, globals())\nquery = \"SELECT client_type,count(total),sum(total) FROM df WHERE product_line = 'Electrical system' GROUP BY client_type\"\nmysql(query)","356a62e5":"#counting percentage of orders that are from retail\n\nquery = \"SELECT client_type,count(total),sum(total) FROM df GROUP BY client_type\"\nmysql(query)","c65d0dfe":"#using previous query to calculate percentages\n\nprint('Percentage of retail orders out of total number of orders is {} %'.format(775\/(775+225)*100))\nprint('Percentage of retail sales out of total sales is {} %'.format(round(129470\/(129470+159642)*100),2))","e8b164da":"#find range of quantity by retail customers\n\nquery = \"SELECT min(quantity),max(quantity) FROM df where client_type = 'Retail'\"\nmysql(query)","9bd10b17":"#final check for any patterns that I may have missed\n\nsns.pairplot(df)\nplt.show()\ndf.corr()","8e348c1c":"I observe spikes against the trend on Tuesday in the week and on the 28th in the month. I wonder if it is due to one particular large order and whether I will get a clear trend if this anomaly is removed.","b9f697b9":"In this list, I have orders with large quantities and occurring on 28th. They are more likely to happen on Monday or Saturday, not Tuesday. The only thing I see in common in this list is 'Wholesale' and 'Transfer'.","0a56be50":"# Preface\nHere is a list of technical tools I use in this report:\n\nSQL: pandasql, group by\n\nPython: for loops, enumerate\n\nPandas: groupby, pivot_table\n\nNumpy: sum, mean, arange\n\nScipy: linregress\n\nMatplotlib and Seaborn: visualisation\n\nOther tools: histograms, scatter plots, regression lines, correlation testing\n\nI have pursued 11 lines of questioning in this report. The first two are questions posed by my colleague and the rest are my own. \n\nI list the key findings below so that the reader may skip to parts that most interests them, though the investigations are largely conducted in logical order based on patterns that arise in earlier investigations.\n\nDo note that there are more than 50 cells of code so this is a lengthy report.\n\nSome of the investigations lead to a dead end but they were still worth exploring to confirm the absence of patterns, trends or anomalies. These investigations are also necessary to exhaust every avenue to optimise sales and resource allocation. \n\nThe findings get more and more interesting towards the end. =)","2b782ee2":"The slope is close to 0, the correlation coefficient r is close to 0, the p value is 26% which is far too large. Hence I conclude that there is no correlation between quantity and unit price, overall. My previous suspicion that there might have been a negative correlation has been debunked.","f8bc72a0":"#### \u2705 Preliminary notes: \n1. I note that the date range is only 3 months and that this date range may not be sufficient to draw long term conclusions.\n2. I note that I have 1000 rows of data, which is substantial. However, when the data is broken down by warehouse or product line, it may not be a large enough dataset per category to draw reliable conclusions.\n3. I note that several columns contain qualitative data which will be useful for me to \"groupby\" later in my analysis.\n4. I note that several columns contain quantitative data which will be useful for me to sort into bins for frequency analysis or perform calculations on later in my analysis. \n5. Finally, I make a cautionary note that the unit price varies greatly between 10 dollars and 60 dollars, and this is an important factor to consider when drawing conclusions about sales later in my analysis.\n","ea76e212":"These are Tuesdays with orders of largest quantity. There are no 28ths in this list. So it is not a single large order that caused the spikes.","ba4602b8":"I don't see any pattern here, but there might be a slope so I'm going to perform some calculations.","71a9748c":"## \ud83d\udcd6 Q11. Wholesale vs Retail Sales breakdown for attribution and opportunities.","0c28128e":"## \ud83d\udcd6 Q6. Is there a correlation between client type and payment method?\nWhen answering the question about payment methods, I wondered what they might be attributed to. In this section, I explore the correlation between client type and payment method.","13c1fefd":"Sales by retail and wholesale seem very close, difference is insignificant. Electrical system does not really outperform in retail compared to wholesale.","37a8e309":"The dots are reasonably close to each other. I note a single blue dot in the far right (Central).","4394ade7":"I note that the average quantity per order, overall, is about the same, around 9, for each product line. It is interesting that Engine, the most expensive produce line, also has the largest average quantity per order. These average values are useful as benchmark values to compare against later on. ","45e20c56":"The numbers that jump at me are quantity for Engine. But there are too many numbers and I need a visualisation.","38e7e299":"## \ud83d\udcd6 Q2. What is the average unit price for each product line?\nIn this section, I repeat the same process to answer my colleague's second question, using groupby and a horizontal bar chart to visualise the result.","b4197ff1":"Again, the percentage of wholesale sales is still close to the percentage of overall sales contributed by West warehouse.","048d714b":"#### \u2705 Conclusion: \nThe average sales by warehouse is about the same, however the total sales in the central warehouse is 3 times that of the west warehouse. It is possible that the number of orders from the West warehouse can be improved. Will need to look deeper into the breakdown of types of orders to confirm this recommendation.","51499660":"## \ud83d\udcd6 Q8. Visualise and explain sales pivoted by warehouse and product line. \nIn this section, I want to see which warehouse and product line is performing the best or worst in sales and quantity per order. I also want to see if unit price is an important factor. ","9b0370d1":"We have discussed comparison of unit price previously. In terms of quantity per order and total sales, wholesale exceeds retail in every product line except for Electrical systems. \n\nBreaking system has the highest quantity sold for wholesale while Frame & body has the highest total sales for wholesale.\n\nSuspension & traction has both the highest quantity sold as well as highest total sales for retail clients.","f9db291a":"Miscellaneous, Breaking system, Engine, Electrical system, these product lines show 2-5% higher average unit prices in wholesale compared to retail. This seems odd, as wholesale customers buy in bulk and therefore should get discounts compared to retail customers.","6965f3a7":"I am trying to see if there is an obvious cyclical pattern. I suspect that there might be a weekly pattern. I will investigate this further.","3df2bdbd":"## \ud83d\udcd6 Q5. What are the average and total sales by product line?\nNext I explore average sales and total sales based on product line. This starts to get interesting because I recall that the unit prices for each product line are different. I wonder if the results I get will surprise me.","ce3dbbfb":"#### \u2705 Conclusion: \nOn average, breaking systems cost the least per unit while engines cost the most, more than 3 times as much. Frame & body, suspension & traction, electrical systems are mid-range. This is important to factor in later when comparing total sales of engines and breaking systems.","41bee9d7":"There are 4 graphs above. In the first graph, I notice the light dots are near the top and the black dots are heavily concentrated below. I will verify this suspicion later. \n\nIn the second, third, fourth graphs, I see a downward trend in sales as the month\/week goes by. I will verify this observation later. ","b678c94c":"## \ud83d\udcd6 Preliminary Exploration\nThis section shows my preliminary exploration to find out the scope of data that I am working with.","552c839a":"## \ud83d\udcd6 Q10. Visualise sales by day of month, week of month, and by month. \nSo far I havent used date as a factor that contributes to sales. In this section, I will explore if sales is cyclical and trends with time.","00a25b7b":"There are no further patterns or correlations. ","dd849c83":"# Key Findings\n\n\n1. Transfer payments constitute the greatest amount of sales (about $160k), at about 8 times the sales paid by cash.\n\n2. The product line with the highest average unit price is Engines, at about 3 times the unit price of the lowest category Breaking Systems. It is followed by Frame & body.\n\n3. A wholesale order brings in an average of 4 times as much sales as a retail order, however total wholesale sales is only about 20% more than total retail sales.  \n\n4. The Central warehouse outperforms in sales, at about 3 times as much sales as the lowest-performing West.\n\n5. Suspension & traction generates the most sales, about 2.68 times the lowest category Miscellaneous. It is followed by Frame & body.\n\n6. Transfer payments are preferred by wholesale customers. Credit cards are preferred by retail customers to cash, at a ratio of about 5:1.\n\n7. Suspension & traction sees the largest quantities per order, about 3.42 times the lowest category Engines. It is followed by Breaking Systems. The distribution of quantity per order is similar across product lines.\n\n8. The Central warehouse sells Engines (the most expensive product line) at an average quantity of 12.47 units per order (overall average is 10.28). The North warehouse sells Frame & Body (the second most expensive product line) at an average quantity of 11.44 units per order (overall average is 9.75). The West warehouse sells Engines at an average quantity of 6.22 units per order (overall average is 10.28). This is the key to the sales discrepancy between warehouses.\n\n9. There is no correlation between quantity and unit price. Most orders have quantity of less than 10 per order. \n\n10. Wholesale orders with large quantity tend to happen in the first week of the month or on the 28th. Generally more sales happen near the start of the month than near the end of the month.\n\n11. It is not true that customers prefer to use cash for smaller amounts and credit card for larger amounts. West warehouse underperforms in both wholesale sales and retail sales. Most, if not all, product lines perform better in wholesale sales compared to retail sales. Breaking system has the highest quantity sold for wholesale while Frame & body has the highest total sales for wholesale. Suspension & traction has both the highest quantity sold as well as highest total sales for retail clients. Oddly, wholesale prices are 2-5% higher than retail prices in most of the product lines. The bulk of orders have quantity under 10 because 77.5% of all orders are retail orders.","fa7bc587":"## \ud83d\udcd6 Q3. What are the average and total sales by client type?\nI am starting to get curious about the distinction between averages and totals and wonder what I will find when I apply this approach to all the categories. I start off with average sales and total sales based on client type in this section. ","f425f8c3":"I note a caveat. Previously, engines had the highest quantity per order. However, in terms of total quantity sold, engine is the lowest.","86386008":"I would like to further look at data about cost and profit margins to determine the profitability of each product line.\n\nI would also like to look at data about customers, in particular wholesale customers, to determine if there is a whale who is skewing our sales data, or if the observed patterns in this report are reliable enough for sales projections.\n\nI would also like more data about each warehouse, so that more analysis and attribution can be done to explain and improve the sales discrepancy between them.\n\nData will also need to be collected for a longer period of time, preferably for two or three years, so that I can make more reliable conclusions about seasonal trends.\n\nConsidering that 2021 has been a pandemic-afflicted year, looking only at sales data without data about the supply chain and shipping information gives only part of the picture. Some data about supply patterns would be helpful for analysis and projections.","14acd800":"#### \u2705 Conclusion: \nFrom Series 4, there seems to be larger orders in the earlier part of the month compared to the later part of the month. Perhaps it is a recurring restocking phenomenon by wholesale customers at the start of the month. \n\nFig 5 suggests cyclicality, so I further explored weekly patterns.\n\nIn Series 6, the bar charts show spikes on Tuesdays and 28th of the month. After exploring the dataset, I found that large wholesale orders tend to happen on the 28th or in the first week of the month. ","79fbbb45":"All the scatter diagrams look random so I will not try to measure correlation between unit price and quantity by product line. There is a clear separation before 10 and after 10 for quantity per order. And the 1st quadrant in Engine is interesting, with mostly Blue dots. I added in the mean lines onto the Engine scatterplot to emphasize the emptiness of the 4th quadrant.","9799f47b":"#### \u2705 Conclusion: \nWholesale orders always use transfer payments. Retail orders always use credit card or cash payments, with more than 5 times as many orders using credit cards as cash. Since credit card is a preferred method, the company can explore partnering with a wider number of credit card providers. ","2d48c1d2":"#### \u2705 Conclusion: \nNotice in Fig 2, for 4 out of 6 product lines, the West warehouse has the highest unit prices on average. The 3 warehouses are closely clustered for each product line, so the unit prices do not diverge very much.\n\nIn Fig 1, in 4 out of 6 product lines, the West warehouse has the lowest order sizes on average. The West also deviates furthest left from the mean for Engines and Electrical systems - recall that Engines are the most expensive product line. On the other hand, Central warehouse has a much higher average quantity per order for Engines, while North warehouse has a much higher average quantity per order for Frame & body, both of which are the two most expensive product lines. \n\nThis explains why Central and North do better in sales than the West, seen in Fig 3. The higher unit price in West might also explain why the quantity per order in West is lower than the other warehouses. This possible correlation will be explored later with more calculations and visualisations.","483d0f1f":"I thought it would be a smaller amount because Engines are more expensive, but the percentage paid in cash is comparable to average.","8e00cb41":"Cash average order value vs credit card average order value is close, so there is no special number where customers will switch to using a credit card.\n\nFurther questions to resolve:\n- What percentage are retail orders? and what percentage are orders with quantity under 10?\n- How much more sales in Electrical systems are made due to retail clients rather than wholesale?","0c19532d":"Most orders are under 10, a moderate number of orders are under 15, and orders are rarely larger than 15. ","15c8853c":"#### \u2705 Conclusion: \nI note that the most expensive parts (engine and frame & body) also see the least total quantity sold. The product line that sees the greatest quantity sold is suspension & traction, at more than 3 times the number of orders for engines. This leads me to consider if there is a significant correlation between quantity and unit price, both across and within product lines. This is a question to be explored later. \n\nThe distribution of quantity of orders for each product line is similar to the distribution of quantity of orders for all product lines, and there are no significant anomalies or notable patterns. ","ab077713":"From the chart, I observe that there is a pattern where larger quantities are ordered earlier in the month, and the quantity decreases as the month progresses. The table shows the dates where large quantities are ordered are 1st, 3rd, 7th, 8th, 28th.","cbc25750":"I still want to check if the West warehouse in particular shows a negative correlation based on the earlier investigation. Yet all my r values and slopes are still close to 0, and all the p values are still far too large at 15%, 47% and 49% respectively. Hence I conclude that there is no correlation between quantity and unit price at any of the warehouses.","2ee80403":"I note that the dots are clustered together. Green dots appear to be leading this time. ","e377982d":"Clearly, West warehouse is underperforming in both Retail sales and Wholesale sales.","4a28289f":"## \ud83d\udcd6 Q9. Calculate correlation between quantity and unit price, broken down by product lines and warehouses.\nI now suspect that there might be a negative correlation between quantity and unit price. In this section, I will measure and test the correlation between them.","5a999322":"# Problem Statement\nI work in the accounting department of a company selling motorcycle parts. \nI have access to past sales data from June to August 2020. \nMy objective is to help my colleague analyze the data and report my findings. ","ec593b6f":"There are 4 charts above.\n\nFig 7 and Fig 8 confirm that orders from retail customers have quantity less than 10.\nFig 7 also confirms that wholesale orders are paid by transfer while retail orders are paid by cash or credit card.\nFig 8 also confirms that engine has the highest unit price while breaking system has the lowest, and is consistent for both wholesale and retail customers.\n\nFig 9 and Fig 10 show the lack of wholesale Engine sales by West warehouse. This is a clear area of improvement for West warehouse.\nFig 10 shows a clear lag in wholesale sales by West warehouse compared to the other two warehouses.\n\nQuestions that arise:\n- What percentage of retail Engine are paid in cash?\n- What is the percentage distribution of wholesale sales among the 3 warehouses?\n- Compare cash order value vs credit card order value to find the $ number when customers switch to credit card","3e3e49dc":"#### \u2705 Conclusion: \nFirst, we have debunked a few false hypotheses.\n\nIt is not true that customers prefer to use cash for smaller amounts and credit card for larger amounts. They use either for similar amounts of money.\n\nIt is not true that West warehouse is stronger in retail and lagging in wholesale.\nIt in facts underperforms in both wholesale sales and retail sales. \n\nIt is not true that customers tend to pay for Engines with credit card and not cash because of its higher price. The payment method for Engine is not so different from the preference in payment methods overall.\n\nIt is not true that Electrical system performs better in retail than in wholesale. The difference is insignificant. Most, if not all, product lines perform better in wholesale compared to retail.\n\nOddly, wholesale prices are 2-5% higher than retail prices in most of the product lines. \n\nThe bulk of orders have quantity under 10 because 77.5% of all orders are retail orders.","6962de22":"## \ud83d\udcd6 Q1. What is the total sales for each payment method?\nIn this section, I set out to find the answer to my colleague's question. I use a straightforward groupby and horizontal bar chart to visualise the result.","8cbd8544":"## \ud83d\udcd6 Q7. Visualise frequency distribution of quantity, pivoted by product line.\nIn my preliminary exploration, I found that quantity per order ranges from 1 to 40. That is a large range and I wonder what the modal quantity per order is, and what the distribution is like. In this section, I will use histograms to explore the distribution of quantity per order. Since I suspect that quantity depends on product line, I will plot separate histograms for each product line for comparison as well.","f87bde3e":"All retail orders have quantity from 1 to 10. Since retail order constitute 77.5% of all orders, this explains why the bulk of the orders have quantity of at most 10.","4d6b2906":"# Further Exploration","af60d002":"#### \u2705 Conclusion: \nAverage sales by product line is consistent with the unit price by product line. Total sales by product line, however, indicates that suspension & traction as well as frame & body products are the highest in demand during this period. Since the data covers June to Aug 2021 only, more data will need to be collected over a longer time period to confirm this trend. If confirmed, the supply for these product lines must be ensured to meet the demand. It might be useful to explore the quantity ordered by product line later - focusing especially on engines, frame & body, and suspension & traction.","f6334d69":"# Strategic Recommendations\n1. Evaluate current credit card payment options and explore enabling more cashless and or credit\/instalment options, targeted towards encouraging growth in retail sales (currently constituting 45% of revenue and 77.5% of orders).\n\n2. Ensure sufficient stock from the 28th of the month through 8th of following month, for every month, for large orders from wholesale customers. If any outreach or advertising targeted at wholesale customers is planned, have the campaign schedule planned with closing the sale at this time (28th to 8th) in mind.\n\n3. Get more on-the-ground data from Central warehouse, learn what makes them sell more and establish best practices for other warehouses to follow. Consider providing recognition and rewards for staff at Central warehouse.\n\n4. Leverage the high demand for suspension & traction (in both sales and quantities per order). Feature this product line in all advertising, marketing and branding material.\n\n5. Make the sales of Engines and Frame & Body a KPI for all warehouses, as it has been demonstrated to be the key contributor to sales performance. Compile CRM data from Central and North warehouse related to sales of Engines and Frame & Body and establish best practices for sales teams, with the goal of increasing sales of these two product lines through cross-selling or up-selling.\n\n6. Put West warehouse on probation\/observation for 6-9 months. Leverage insights from data to improve its sales performance during this period. If unsuccessful, consider investing in a different location instead. ","a8e03fc7":"## \ud83d\udcd6 Q4. What are the average and total sales by warehouse? \nNext I am exploring average sales and total sales based on warehouse.","b228d381":"#### \u2705 Conclusion: \nIn Series 1, the scatterplots show no correlation between quantity and unit price for each product line. There are dot plots throughout the vertical space, in the quantity range of 0 to 10, showing that the variation in the unit price does not have a significant effect on the quantity sold in that range. \n\nIn Series 1, the only notable observation is that for Engines, the first quadrant shows only Central and North warehouses that sell Engines in higher than average quantities at higher than average unit prices.\n\nIn Fig 2A and 2B, no correlation is found between quantity and unit prices as a whole.\n\nIn Series 3, none of the warehouses show significant correlation in their quantity and unit prices. \n\nAll the scatter plots consistently show that most orders have a quantity of less than 10 per order. This is consistent with our frequency distribution of quantity per order earlier. ","aff87d0c":"I note that the green dots (West) are mostly lagging. I also note on the far right is a blue dot (Central) and an orange dot (North), and on the far left are two green dots (West).","4a320061":"#### \u2705 Conclusion: \nTransfer payments form the bulk of sales and cash is the least favored payment method, with the former constituting sales of more than 8 times of the latter. A closer look at the data is needed to understand why.","dae7c9b6":"#### \u2705 Conclusion: \nAverage sales volume from wholesale is more than 4 times of retail orders. However, total sales volume from wholesale is only 23% higher than retail. This suggests two possibilities. First, retail sales could potentially outperform wholesale as a source of high sales growth. Second, it is possible that insufficient focus is being given to wholesale and it is underperforming its potential. More data needs to be looked at to find out which is the likelier scenario."}}