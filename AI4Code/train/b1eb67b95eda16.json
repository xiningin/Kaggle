{"cell_type":{"8472b696":"code","cf8e8be8":"code","68d2ee8b":"code","98920406":"code","63f9858a":"code","00d52795":"code","5efb8fc4":"code","5b02d310":"code","85e2fdc1":"code","ef3452a3":"code","6585eec8":"code","2a239f03":"code","f7901997":"code","57f4ad80":"code","68ef8ade":"code","bfeb7339":"code","b6bc16d3":"code","9663d6f1":"code","6b571841":"code","018c25ca":"code","98faeb24":"code","176208a4":"code","b3fb1770":"code","c04130c6":"code","becc0835":"code","8a22b06b":"code","b47a3545":"code","aceb613f":"code","91cdf3ab":"markdown","de45d26a":"markdown","62588d2f":"markdown","93b37f5a":"markdown","6295a3b7":"markdown","859ad72a":"markdown","df7019f3":"markdown","415d325c":"markdown","063f8b7f":"markdown","642812af":"markdown","f05b6452":"markdown","1ed3a10f":"markdown","aa99216a":"markdown","9e11cea2":"markdown","0182987e":"markdown","eca8a0eb":"markdown"},"source":{"8472b696":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport seaborn as sns\nimport plotly.express as px\nimport cufflinks as cf\nfrom scipy import stats\n%matplotlib inline\n\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected = True)\ncf.go_offline()\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","cf8e8be8":"PopularCreativeTypes = pd.read_csv(\"\/kaggle\/input\/hollywood-theatrical-market-synopsis-1995-to-2021\/PopularCreativeTypes.csv\");\nHighestGrossers = pd.read_csv(\"\/kaggle\/input\/hollywood-theatrical-market-synopsis-1995-to-2021\/HighestGrossers.csv\");\nData_Annual_Ticket = pd.read_csv(\"\/kaggle\/input\/hollywood-theatrical-market-synopsis-1995-to-2021\/AnnualTicketSales.csv\",thousands = ',');","68d2ee8b":"Data_Annual_Ticket[\"TICKETS SOLD\"] = Data_Annual_Ticket[\"TICKETS SOLD\"].replace(',','')\n\nData_Annual_Ticket[\"TOTAL BOX OFFICE\"] = Data_Annual_Ticket[\"TOTAL BOX OFFICE\"].str.replace(',','')\nData_Annual_Ticket[\"TOTAL BOX OFFICE\"] = Data_Annual_Ticket[\"TOTAL BOX OFFICE\"].str.replace('$','')\n\nData_Annual_Ticket[\"TOTAL INFLATION ADJUSTED BOX OFFICE\"] = Data_Annual_Ticket[\"TOTAL INFLATION ADJUSTED BOX OFFICE\"].str.replace(',','')\nData_Annual_Ticket[\"TOTAL INFLATION ADJUSTED BOX OFFICE\"] = Data_Annual_Ticket[\"TOTAL INFLATION ADJUSTED BOX OFFICE\"].str.replace('$','')\n\nData_Annual_Ticket[\"AVERAGE TICKET PRICE\"] = Data_Annual_Ticket[\"AVERAGE TICKET PRICE\"].str.replace('$','')\n\nData_Annual_Ticket = Data_Annual_Ticket.drop(labels = \"Unnamed: 5\",axis = 1)","98920406":"Data_Annual_Ticket.head(5)","63f9858a":"Data_Annual_Ticket['TICKETS SOLD'] = Data_Annual_Ticket['TICKETS SOLD'].astype(float)\nData_Annual_Ticket['TOTAL BOX OFFICE'] = Data_Annual_Ticket['TOTAL BOX OFFICE'].astype(float)","00d52795":"px.bar(Data_Annual_Ticket\n            ,x = 'YEAR'\n            ,y = 'TOTAL BOX OFFICE'\n            ,title = 'Total Box Office vs. Year')","5efb8fc4":"x = list(range(0,(2020-1995)))\ny = list(Data_Annual_Ticket['TOTAL BOX OFFICE'] )\ny.reverse()\ny.pop()\ny.pop()\nslope, intercept, r, p, std_err = stats.linregress(x, y)\nx1 = list(range(0,(2022-1995)))\ny1= [slope * x + intercept for x in x1 ]\ny1.reverse()\nData_Annual_Ticket['TOTAL BOX OFFICE WITHOUT COVID'] = y1\nData_Annual_Ticket[\"Diff\"] = Data_Annual_Ticket['TOTAL BOX OFFICE WITHOUT COVID']-Data_Annual_Ticket['TOTAL BOX OFFICE']","5b02d310":"px.line(Data_Annual_Ticket\n       ,x = 'YEAR'\n       ,y = [\"TOTAL BOX OFFICE\",\"TOTAL BOX OFFICE WITHOUT COVID\"]\n       ,labels = {'YEAR' :\"Years\", \"value\": \"Total Sale\"}\n       ,title = 'TOTAL BOX OFFICE vs TOTAL BOX OFFICE WITHOUT COVID')","85e2fdc1":"px.bar(Data_Annual_Ticket\n       ,x = 'YEAR'\n       ,y = \"Diff\"\n       ,labels = {'YEAR' :\"Year\", \"Diff\": \"Financial Loss\"}\n       ,title = 'Financial Loss (just last two years are important)'\n       ,barmode='group')","ef3452a3":"Data_Annual_Ticket[\"Percentage of Financial Loss\"] = (Data_Annual_Ticket[\"TOTAL BOX OFFICE WITHOUT COVID\"]-Data_Annual_Ticket[\"TOTAL BOX OFFICE\"])\/Data_Annual_Ticket[\"TOTAL BOX OFFICE WITHOUT COVID\"]*100\n\npx.bar(Data_Annual_Ticket\n       , x = 'YEAR'\n       , y = \"Percentage of Financial Loss\"\n       ,labels = {'YEAR' :\"Year\", \"Percentage of Financial Loss\": \"Percentage of Financial Loss %\"}\n       ,title = 'Financial Loss % (just last two years are important) ')","6585eec8":"HighestGrossers[\"TOTAL IN 2019 DOLLARS\"] = HighestGrossers[\"TOTAL IN 2019 DOLLARS\"].str.replace(',','')\nHighestGrossers[\"TOTAL IN 2019 DOLLARS\"] = HighestGrossers[\"TOTAL IN 2019 DOLLARS\"].str.replace('$','')\n\nHighestGrossers[\"TICKETS SOLD\"] = HighestGrossers[\"TICKETS SOLD\"].str.replace(',','')\n\nHighestGrossers['TOTAL IN 2019 DOLLARS'] = HighestGrossers['TOTAL IN 2019 DOLLARS'].astype(float)\nHighestGrossers['TICKETS SOLD'] = HighestGrossers['TICKETS SOLD'].astype(float)","2a239f03":"HighestGrossers.head(5)","f7901997":"px.pie(HighestGrossers\n       ,values = 'TOTAL IN 2019 DOLLARS' \n       ,names = 'DISTRIBUTOR'\n       ,title = 'Percentage of Each Distributors in Total Ticket Sale'\n       ,color_discrete_sequence = px.colors.sequential.RdBu\n       ,height = 600\n       )","57f4ad80":"px.pie(HighestGrossers\n       ,values = 'TOTAL IN 2019 DOLLARS' \n       ,names = 'MPAA RATING'\n       ,title = 'Percentage of Each MPAA Rating in Total Ticket Sale'\n       ,color_discrete_sequence = px.colors.sequential.RdBu\n       ,height = 600\n       )","68ef8ade":"df_g = HighestGrossers.groupby(by =['DISTRIBUTOR','GENRE'])['TICKETS SOLD'].sum().unstack().iplot(kind = 'bar')","bfeb7339":"df_g = HighestGrossers.groupby(by =['DISTRIBUTOR','GENRE'])['TICKETS SOLD'].count().unstack().iplot(kind = 'bar')","b6bc16d3":"df_g = HighestGrossers.groupby(by =['DISTRIBUTOR','MPAA RATING'])['TICKETS SOLD'].sum().unstack().iplot(kind = 'bar')","9663d6f1":"df_g = HighestGrossers.groupby(by =['DISTRIBUTOR','MPAA RATING'])['TICKETS SOLD'].count().unstack().iplot(kind = 'bar')","6b571841":"PopularCreativeTypes.head(5)","018c25ca":"PopularCreativeTypes[\"TOTAL GROSS\"] = PopularCreativeTypes[\"TOTAL GROSS\"].str.replace(',','')\nPopularCreativeTypes[\"TOTAL GROSS\"] = PopularCreativeTypes[\"TOTAL GROSS\"].str.replace('$','')\n\nPopularCreativeTypes[\"AVERAGE GROSS\"] = PopularCreativeTypes[\"AVERAGE GROSS\"].str.replace(',','')\nPopularCreativeTypes[\"AVERAGE GROSS\"] = PopularCreativeTypes[\"AVERAGE GROSS\"].str.replace('$','')\n\nPopularCreativeTypes[\"MARKET SHARE\"] = PopularCreativeTypes[\"MARKET SHARE\"].str.replace('%','')\n\nPopularCreativeTypes[\"MOVIES\"] = PopularCreativeTypes[\"MOVIES\"].str.replace(',','')","98faeb24":"PopularCreativeTypes = PopularCreativeTypes.drop(index = 9,axis = 0)","176208a4":"PopularCreativeTypes[\"MOVIES\"] = PopularCreativeTypes[\"MOVIES\"].astype(float)\nPopularCreativeTypes[\"TOTAL GROSS\"] = PopularCreativeTypes[\"TOTAL GROSS\"].astype(float)\nPopularCreativeTypes[\"AVERAGE GROSS\"] = PopularCreativeTypes[\"AVERAGE GROSS\"].astype(float)\nPopularCreativeTypes[\"MARKET SHARE\"] = PopularCreativeTypes[\"MARKET SHARE\"].astype(float)","b3fb1770":"px.pie(PopularCreativeTypes\n       ,values = 'TOTAL GROSS' \n       ,names = 'CREATIVE TYPES'\n       ,title = 'Percentage of Creative Types in Total Gross'\n       ,color_discrete_sequence = px.colors.sequential.RdBu\n       ,height = 600\n       )","c04130c6":"px.bar(PopularCreativeTypes\n      ,x = \"TOTAL GROSS\"\n      ,y =\"CREATIVE TYPES\"\n      ,title = \"Total Gross of Different type\")","becc0835":"px.pie(PopularCreativeTypes\n       ,values = 'AVERAGE GROSS' \n       ,names = 'CREATIVE TYPES'\n       ,title = 'Percentage of Creative Types in Average Gross'\n       ,color_discrete_sequence = px.colors.sequential.RdBu\n       ,height = 600\n       )","8a22b06b":"px.bar(PopularCreativeTypes\n      ,x = \"AVERAGE GROSS\"\n      ,y = \"CREATIVE TYPES\"\n      ,title = \"Average Gross in Different type\")","b47a3545":"px.pie(PopularCreativeTypes\n       ,values = 'MOVIES' \n       ,names = 'CREATIVE TYPES'\n       ,title = 'Percentage of Number of Muvies in Each Types'\n       ,color_discrete_sequence = px.colors.sequential.RdBu\n       ,height = 600\n       )","aceb613f":"px.bar(PopularCreativeTypes\n      ,x = \"MOVIES\"\n      ,y =\"CREATIVE TYPES\"\n      ,title = \"Number of Muvies in Different type\")","91cdf3ab":"**Changing the type of Data(object to float)**","de45d26a":"**Cleaning and Tiding Data**","62588d2f":"**Calculate that how much does covid-19 affect on last two years** ","93b37f5a":"**doing the same thing to the MPAA rating**\n","6295a3b7":"**We use pie chart to illustrate the percentage of different thing**","859ad72a":"**Illustrate the difference between total box office with covid and without covid**","df7019f3":"**Because of the inflation we just used TOTAL IN 2019 DOLLARS column**","415d325c":"**now visualising the Popular Creative Types**","063f8b7f":"**Calculating the total box office if last two years were normal years (*using linear regression*)**","642812af":"**Importing Data**","f05b6452":"**Now Visualizing the Highest Grossers**","1ed3a10f":"**Cleaning and Tiding Data**","aa99216a":"**Using bar chart to illustrate the total box office each year**","9e11cea2":"**using bar chart to state the sum of total ticket sale each distributor and each genre**","0182987e":"\n**How much does covid-19 affect on total box ofice in last two years in percent?**","eca8a0eb":"**using bar chart to state the count of total ticket sale each distributor and each genre**"}}