{"cell_type":{"af74bc30":"code","6e53ff75":"code","9c6d9760":"code","5507b76f":"code","4229f6a7":"code","b67cecbd":"code","6ad5ca31":"code","5db9985a":"code","ebea4d53":"code","523c4be8":"code","613ad4e4":"markdown","2437036b":"markdown","fdbc47b5":"markdown","febc0079":"markdown"},"source":{"af74bc30":"import sys\n!{sys.executable} -m pip install bar_chart_race","6e53ff75":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport bar_chart_race as bcr\nfrom IPython.display import HTML\nimport warnings\nwarnings.filterwarnings(\"ignore\")\nfrom IPython.display import Video","9c6d9760":"data = pd.read_csv('..\/input\/individuals-using-the-internet-of-population\/internet_usage_by_countries.csv')\ndata","5507b76f":"data.columns","4229f6a7":"data1=data[['Year','Country Name','Individuals using the Internet (% of population)']].copy()\ndata2=data1[data1['Year']>1987][data1['Year']<2020]\ndata2['Year']=data2['Year'].astype(str)\ndata2","b67cecbd":"# set double indexes\ndata2.set_index(['Year','Country Name'])","6ad5ca31":"# unstack!!!\ndata3=data2.set_index(['Year','Country Name']).unstack()['Individuals using the Internet (% of population)']\ndata3","5db9985a":"data4 = data3.fillna(method='ffill')\ndata4","ebea4d53":"df = data4\nbcr.bar_chart_race(\n    df=df,\n    filename='InternetUser_BarChartRace.mp4',\n    orientation='h',\n    sort='desc',\n    n_bars=20,\n    fixed_order=False,\n    fixed_max=False,\n    steps_per_period=10,\n    interpolate_period=False,\n    label_bars=True,\n    bar_size=.95,\n    period_label={'x': .99, 'y': .25, 'ha': 'right', 'va': 'center'},\n    #period_fmt='%B %d, %Y',\n    period_summary_func=lambda v, r: {'x': .99, 'y': .10,'s': '',\n                                      'ha': 'right', 'size': 10, 'family': 'Courier New'},\n    #perpendicular_bar_func='median',\n    period_length=2000,\n    figsize=(5,4),\n    dpi=500,\n    cmap='dark24',\n    title='Individuals using the Internet (% of population)',\n    title_size=12,\n    bar_label_size=7,\n    tick_label_size=7,\n    shared_fontdict={'color':'.1'},\n    scale='linear',\n    writer=None,\n    fig=None,\n    bar_kwargs={'alpha': .7},\n    filter_column_colors=True)","523c4be8":"Video(\"\/kaggle\/working\/InternetUser_BarChartRace.mp4\", width=800, height=600, embed=True)","613ad4e4":"# World Internet User Ranking - Bar Chart Race\n* cf. https:\/\/www.dexplo.org\/bar_chart_race\/\n* cf. https:\/\/github.com\/dexplo\/bar_chart_race\/","2437036b":"# Dataframe for Bar Chart Race","fdbc47b5":"# Data preparation","febc0079":"# Create Bar Chart Race\n"}}