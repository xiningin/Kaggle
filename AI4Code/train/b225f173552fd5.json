{"cell_type":{"7086835a":"code","1c7d7349":"code","b6fc7a05":"code","75d20286":"code","b76dcd8a":"code","59ad85c2":"code","f1b601c3":"code","0a054996":"code","429b1385":"code","b284e3cf":"code","a6c66818":"code","8b693537":"code","f0c039e4":"code","2a86dd45":"code","b3d7615d":"code","7e21e366":"code","56a00e3e":"code","3ad8533f":"code","81f5caa1":"code","2905a421":"code","77e767fd":"code","8f167525":"code","ef5d35ca":"code","5062c3c9":"code","53e0d108":"code","cba9bf76":"code","87167e96":"code","0c6594ab":"code","584a0820":"code","3df8b8bb":"code","36c05a8e":"code","2dd1e5dc":"code","c215e11d":"code","61eb00cd":"code","69ad0fc1":"code","2c9e3a7c":"code","f491fd57":"code","f86adfa9":"code","85283341":"code","7f1ac3dd":"code","ae2915ce":"code","7aae6de8":"code","eddd0902":"code","f4cfa98e":"code","7857ec92":"code","cb153834":"code","6ee00dc4":"code","bfb61b3c":"code","1ae02d33":"code","eb5c0fdb":"code","5cd3fef2":"code","63782741":"code","807ef895":"code","ff78cb6f":"code","3e7ced30":"code","f9ef10e6":"code","05194d35":"code","0a57ce86":"code","2bd75387":"code","a00891dd":"code","bb90c600":"code","96f4264a":"code","cd020a01":"code","23b52928":"code","5d9ad40c":"code","7bb54df1":"code","00cb3e17":"code","eda44529":"code","a3e74dbf":"code","3f82ef18":"code","dd26e0d9":"code","d0df87bd":"code","d77b359f":"code","ff4e0d68":"code","7904e54d":"markdown","790fe68f":"markdown","d233143b":"markdown","88ca2e6c":"markdown","b5d77418":"markdown","087a2891":"markdown","bc65d595":"markdown","20feb1df":"markdown","ff631c89":"markdown","3f8b7e82":"markdown","a04eaa0a":"markdown"},"source":{"7086835a":"import pandas as pd\ndata = pd.read_csv(\"..\/input\/udemy-courses\/clean_dataset.csv\")","1c7d7349":"data.head()","b6fc7a05":"data.describe()","75d20286":"len(data['course_title'].value_counts())","b76dcd8a":"data.shape","59ad85c2":"data_paid= data[data['is_paid']==True]","f1b601c3":"data_paid.shape","0a054996":"data_paid.head()","429b1385":"data_free=data[data['is_paid']==False]","b284e3cf":"data_free.shape","a6c66818":"data_free.head()","8b693537":"data_free.sort_values(by='num_subscribers',ascending=False)","f0c039e4":"data_paid.sort_values(by='num_subscribers',ascending=False)","2a86dd45":"import seaborn as sns\nimport matplotlib.pyplot as plt","b3d7615d":"sns.set_style('ticks')\nfig, ax = plt.subplots()\nfig.set_size_inches(11.7, 8.27)\nfig.set\nsns.scatterplot(x=\"price\", y=\"num_subscribers\",hue=\"num_subscribers\",ax=ax ,data=data_paid).set(title = 'price vs subscribers(paid)')\n\nax.spines['top'].set_visible(False)\nax.spines['right'].set_visible(False)","7e21e366":"data_paid[data_paid['num_subscribers']==max(data_paid['num_subscribers'])]","56a00e3e":"sns.set_style('ticks')\nfig, ax = plt.subplots()\nfig.set_size_inches(11.7, 8.27)\nfig.set\nsns.scatterplot(x=\"price\", y=\"num_lectures\",hue=\"num_lectures\",ax=ax ,data=data_paid).set(title = 'price vs number of lectures(paid)',xlabel= \"price\")\n\n\nax.spines['top'].set_visible(False)\nax.spines['right'].set_visible(False)","3ad8533f":"data_paid['subject'].value_counts()","81f5caa1":"data_paid[data_paid['price']=='200']['subject'].value_counts()","2905a421":"data_free['subject'].value_counts()","77e767fd":"sns.countplot(x='subject', data=data_paid)","8f167525":"sns.countplot(x='subject', data=data_free)","ef5d35ca":"import re\n\ndata[data['course_title'].str.contains(r'Data')== True]","5062c3c9":"sns.set_style('ticks')\nfig, ax = plt.subplots()\nfig.set_size_inches(11.7, 8.27)\nfig.set\nsns.scatterplot(x=\"price\", y=\"engagement\",hue=\"num_lectures\",ax=ax ,data=data_paid).set(title = 'price vs engagement(paid)')\n\n\nax.spines['top'].set_visible(False)\nax.spines['right'].set_visible(False)\n","53e0d108":"data_paid[data_paid['engagement']==1.0]","cba9bf76":"sns.set_style('ticks')\nfig, ax = plt.subplots()\nfig.set_size_inches(11.7, 8.27)\nsns.set_palette(\"Blues_d\")\nsns.scatterplot(x=\"num_lectures\", y=\"engagement\",hue=\"num_lectures\",ax=ax ,data=data_paid).set(title = 'engagement vs number of lectures(paid)')\n\nax.spines['top'].set_visible(False)\nax.spines['right'].set_visible(False)\n","87167e96":"data_paid[data_paid['num_lectures']==max(data_paid['num_lectures'])]","0c6594ab":"sns.set_style('ticks')\nfig, ax = plt.subplots()\nfig.set_size_inches(11.7, 8.27)\nfig.set\nsns.scatterplot(x=\"num_subscribers\", y=\"num_reviews\",hue=\"num_reviews\",ax=ax ,data=data_paid).set(title = 'price vs number of lectures(paid)')\n\n\nax.spines['top'].set_visible(False)\nax.spines['right'].set_visible(False)","584a0820":"data_paid_10=data_paid.sort_values(by='num_subscribers',ascending=False)[0:10].sort_values(\"num_subscribers\", ascending=False).reset_index(drop=True).reset_index()[['course_id','course_title','num_subscribers','num_reviews','price']]","3df8b8bb":"data_paid_10","36c05a8e":"\nsns.set_style('ticks')\nfig, ax = plt.subplots()\nfig.set_size_inches(11.7, 8.27)\nfig.set\nsns.barplot(x=\"course_title\", y=\"num_subscribers\",ax=ax ,data=data_paid_10).set(title = 'price vs number of lectures(paid)')\nplt.xticks(rotation=90)\n\nax.spines['top'].set_visible(False)\nax.spines['right'].set_visible(False)","2dd1e5dc":"data_free_10=data_free.sort_values(by='num_subscribers',ascending=False)[0:10].sort_values(\"num_subscribers\", ascending=False).reset_index(drop=True).reset_index()[['course_id','course_title','num_subscribers','num_reviews','price']]","c215e11d":"data_free_10","61eb00cd":"\nsns.set_style('ticks')\nfig, ax = plt.subplots()\nfig.set_size_inches(11.7, 8.27)\nfig.set\nsns.barplot(x=\"course_title\", y=\"num_subscribers\",ax=ax ,data=data_free_10).set(title = 'price vs number of lectures(paid)')\nplt.xticks(rotation=90)\n\n\nax.spines['top'].set_visible(False)\nax.spines['right'].set_visible(False)","69ad0fc1":"data_paid['subject'].value_counts()","2c9e3a7c":"data_paid_business = data_paid[data_paid['subject']=='Business Finance']","f491fd57":"data_paid_business['price']=data_paid_business['price'].apply(lambda x:int(x))\ntype(data_paid_business['price'][0])","f86adfa9":"sns.distplot(data_paid_business['price'])\n\nax.spines['top'].set_visible(False)\nax.spines['right'].set_visible(False)","85283341":"data_paid_development = data_paid[data_paid['subject']=='Web Development']","7f1ac3dd":"data_paid_development['price']=data_paid_development['price'].apply(lambda x:int(x))","ae2915ce":"sns.distplot(data_paid_development['price'])","7aae6de8":"data_paid_musical = data_paid[data_paid['subject']=='Musical Instruments']","eddd0902":"data_paid_musical['price']=data_paid_musical['price'].apply(lambda x:int(x))","f4cfa98e":"sns.distplot(data_paid_musical['price'])","7857ec92":"data_paid_musical[data_paid_musical['price']==200]","cb153834":"data1=data\n","6ee00dc4":"datat=data1.drop(['course_id','course_title','url','num_reviews','published_timestamp','engagement','content_multiplier'],axis=1)","bfb61b3c":"data.isnull().sum()","1ae02d33":"datat.head()","eb5c0fdb":"data['level'].value_counts()","5cd3fef2":"sns.countplot(x='level',data=data)","63782741":"datat.corr()","807ef895":"y = datat['num_subscribers']\nx = datat.drop(['num_subscribers'],axis=1)","ff78cb6f":"from sklearn.preprocessing import StandardScaler\nscaler = StandardScaler()\n","3e7ced30":"x['is_paid'] = x['is_paid'].apply(lambda x:str(x))\nx['price'] = x['price'].apply(lambda x: 0 if x=='Free' else x)\nx['price'] = x['price'].apply(lambda x:int(x))","f9ef10e6":"#x['price'] = scaler.fit_transform(x.price.values.reshape(-1, 1))","05194d35":"#x['num_lectures'] = scaler.fit_transform(x.num_lectures.values.reshape(-1, 1))","0a57ce86":"#x['content_duration'] = scaler.fit_transform(x.content_duration.values.reshape(-1, 1))","2bd75387":"#x['content_time_value'] = scaler.fit_transform(x.content_time_value.values.reshape(-1, 1))","a00891dd":"x = pd.get_dummies(x)","bb90c600":"x.columns\n","96f4264a":"from sklearn.ensemble import RandomForestRegressor \nfrom sklearn.model_selection import train_test_split","cd020a01":"regressor =  RandomForestRegressor(n_estimators = 100, random_state = 0) \nX_train, X_test, y_train, y_test = train_test_split(x, y, test_size=0.33, random_state=42)","23b52928":"regressor.fit(X_train,y_train)","5d9ad40c":"y_pred = regressor.predict(X_test)","7bb54df1":"feat_importances = pd.Series(regressor.feature_importances_, index=x.columns)\nfeat_importances.plot(kind='barh')","00cb3e17":"from sklearn.metrics import mean_absolute_error as mse\nmse_sub = mse(y_pred,y_test)","eda44529":"mse_sub","a3e74dbf":"\nfrom xgboost import XGBRegressor","3f82ef18":"regressor = XGBRegressor()\nregressor.fit(X_train,y_train)","dd26e0d9":"y_pred = regressor.predict(X_test)","d0df87bd":"mse_sub = mse(y_pred,y_test)","d77b359f":"mse_sub","ff4e0d68":"feature_important = regressor.get_booster().get_score(importance_type='weight')\nkeys = list(feature_important.keys())\nvalues = list(feature_important.values())\n\ndata = pd.DataFrame(data=values, index=keys, columns=[\"score\"]).sort_values(by = \"score\", ascending=False)\ndata.plot(kind='barh')","7904e54d":"# Courses with highest engagement","790fe68f":"# Distribution of price across different subjects","d233143b":"# Number of free courses in each subject","88ca2e6c":"# 310 free courses","b5d77418":"# course with highest number of subscribers","087a2891":"# Number of paid courses in each subject","bc65d595":"# unique course title","20feb1df":"# 3368 paid courses","ff631c89":"# Data","3f8b7e82":"# order according to suscribers","a04eaa0a":"# Highest paid Musical Courses"}}