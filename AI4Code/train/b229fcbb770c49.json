{"cell_type":{"d98f30dc":"code","54642c8e":"code","38687352":"code","7ef0d5b8":"code","969956f1":"code","dd753b9d":"code","2ab24607":"code","820d3cef":"code","0282863d":"code","25e234e1":"code","474ad3e7":"markdown","15316ff0":"markdown","9fba42eb":"markdown","09fa9434":"markdown","8689fa7a":"markdown","8f30c305":"markdown","4a19bcde":"markdown","dabdf516":"markdown","6655bf0f":"markdown","f3b287ba":"markdown","68394bd0":"markdown","ad7044c0":"markdown"},"source":{"d98f30dc":"import os\nimport os\nimport json\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\ndata_path = '\/kaggle\/input\/data-science-bowl-2019\/'\nfor dirname, _, filenames in os.walk(data_path):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","54642c8e":"keep_cols = ['event_id', 'game_session', 'installation_id', 'event_count', 'event_code', 'title', 'game_time', 'type', 'world','event_data']","38687352":"%%time \n\ntry:\n    train = pd.read_pickle(f'train.pkl')\n    test = pd.read_pickle(f'test.pkl')\n    specs = pd.read_pickle(f'specs.pkl')\n    train_labels = pd.read_pickle(f'train_labels.pkl')\n    sample_submission = pd.read_pickle(f'sample_submission.pkl')\n    print(f'Reading from pkl files')\nexcept (OSError, IOError) as e:\n    train = pd.read_csv(f'{data_path}train.csv')\n    test = pd.read_csv(f'{data_path}test.csv')\n    specs = pd.read_csv(f'{data_path}specs.csv')\n    train_labels = pd.read_csv(f'{data_path}train_labels.csv')\n    sample_submission = pd.read_csv(f'{data_path}sample_submission.csv')\n    \n    # uncomment below when using.   \n#     train.to_pickle(f'train.pkl')\n#     test.to_pickle(f'test.pkl')\n#     specs.to_pickle(f'specs.pkl')\n#     train_labels.to_pickle(f'train_labels.pkl')\n#     sample_submission.to_pickle(f'sample_submission.pkl')\n    print(f'Reading from CSV files')","7ef0d5b8":"%%time \n\ntrain.to_pickle(f'train.pkl')\ntest.to_pickle(f'test.pkl')\nspecs.to_pickle(f'specs.pkl')\ntrain_labels.to_pickle(f'train_labels.pkl')\nsample_submission.to_pickle(f'sample_submission.pkl')\nprint(f'Reading from CSV files')","969956f1":"%%time \n\ntrain = pd.read_pickle(f'train.pkl')\ntest = pd.read_pickle(f'test.pkl')\nspecs = pd.read_pickle(f'specs.pkl')\ntrain_labels = pd.read_pickle(f'train_labels.pkl')\nsample_submission = pd.read_pickle(f'sample_submission.pkl')\n","dd753b9d":"%%time \n\ntry:\n    train = pd.read_parquet(f'train.parquet')\n    test = pd.read_parquet(f'test.parquet')\n    specs = pd.read_parquet(f'specs.parquet')\n    train_labels = pd.read_parquet(f'train_labels.parquet')\n    sample_submission = pd.read_parquet(f'sample_submission.parquet')\n    print(f'Reading from pkl files')\nexcept (OSError, IOError) as e:\n    train = pd.read_csv(f'{data_path}train.csv')\n    test = pd.read_csv(f'{data_path}test.csv')\n    specs = pd.read_csv(f'{data_path}specs.csv')\n    train_labels = pd.read_csv(f'{data_path}train_labels.csv')\n    sample_submission = pd.read_csv(f'{data_path}sample_submission.csv')\n    \n    # uncomment below when using.   \n#     train.to_parquet(f'train.parquet')\n#     test.to_parquet(f'test.parquet')\n#     specs.to_parquet(f'specs.parquet')\n#     train_labels.to_parquet(f'train_labels.parquet')\n#     sample_submission.to_parquet(f'sample_submission.parquet')\n    print(f'Reading from CSV files')","2ab24607":"\n%%time \n\ntrain.to_parquet(f'train.parquet')\ntest.to_parquet(f'test.parquet')\nspecs.to_parquet(f'specs.parquet')\ntrain_labels.to_parquet(f'train_labels.parquet')\nsample_submission.to_parquet(f'sample_submission.parquet')\nprint(f'Reading from parquet files')","820d3cef":"%%time \n\ntrain = pd.read_parquet(f'train.parquet')\ntest = pd.read_parquet(f'test.parquet')\nspecs = pd.read_parquet(f'specs.parquet')\ntrain_labels = pd.read_parquet(f'train_labels.parquet')\nsample_submission = pd.read_parquet(f'sample_submission.parquet')\nprint(f'Reading from pkl files')","0282863d":"# train = train[keep_cols]\n# test = test[keep_cols]","25e234e1":"!ls -ltrh","474ad3e7":"# Load data faster\n\nWhile doing EDA we load data mulitple time or if we are using doing EDA on our machine its faster to pickle the data which can improve data load time drastically ","15316ff0":"The below code will take time as its first time loading. ","9fba42eb":"### Test time to save to .pkl file","09fa9434":"### Parquet File system","8689fa7a":"### If you like this please upvote","8f30c305":"Below code is for demo purpose just to check time perfomance. ","4a19bcde":"Reference: \n- https:\/\/www.kaggle.com\/tdobson\/30x-speedup-on-io","dabdf516":"Pickle is 2.8 GB for train.csv and parquet took 546 MB space. **","6655bf0f":"### Test time to load from .pkl file","f3b287ba":"### Load data If the pickle file does not exists it will fetch it from csv annd will create an .pkl file. ","68394bd0":"*...inprogress* \n","ad7044c0":"### Saving time to parquet"}}