{"cell_type":{"d36e096a":"code","03bb4dc4":"code","774a7b7c":"code","b79f3e4d":"code","26a5b170":"code","e2fbf524":"code","8d31f987":"code","daea1c16":"code","1ec79e28":"code","afcdd1f4":"code","9c486272":"markdown","ba003df4":"markdown","84a4cf5f":"markdown","87656e13":"markdown","fca24182":"markdown","646e91a2":"markdown","a9abc539":"markdown"},"source":{"d36e096a":"import numpy as np\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport os\nprint(os.listdir(\"..\/input\"))","03bb4dc4":"# df1b = pd.read_excel(\"..\/input\/mesukam1.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_1\u05d1\",header=4,index_col=['LocNameHeb', 'LocalityCode']) ","774a7b7c":"# df1a = pd.read_excel(\"..\/input\/mesukam1.xls\",sheet_name=3,header=4)\ndf1a = pd.read_excel(\"..\/input\/mesukam1.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_1\u05d0\",header=4)  # refer to specific sheet by name to ensure things remain stable if we later drop sheets in preproc\nprint(df1a.shape)\n\ndf1b = pd.read_excel(\"..\/input\/mesukam1.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_1\u05d1\",header=4) \nprint(df1b.shape)\n\nprint(\"Difference in # of columns:\",(df1a.shape[0]-df1b.shape[0]))\n\ndf1 = pd.concat([df1a,df1b])\nprint(\"df1 concatenated:\",df1.shape)","b79f3e4d":"df2a = pd.read_excel(\"..\/input\/mesukam1.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_2\u05d0\",header=4,index_col=[1,4])","26a5b170":"df2a.head()","e2fbf524":"df2a = pd.read_excel(\"..\/input\/mesukam1.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_2\u05d0\",header=4,index_col=[0:1]) \ndf2b = pd.read_excel(\"..\/input\/mesukam1.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_2\u05d1\",header=4) \nprint(\"Difference in # of columns:\",(df2a.shape[0]-df2b.shape[0]))\n\ndf2 = pd.concat([df2a,df2b])\nprint(\"df2 concatenated:\",df2.shape)\ndf2.head()","8d31f987":"df3 = pd.concat([pd.read_excel(\"..\/input\/mesukam1.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_3\u05d0\",header=4),pd.read_excel(\"..\/input\/mesukam1.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_2\u05d1\",header=4) ])\nprint(df3.shape)\n\ndf3.head()","daea1c16":"# df4 = pd.concat([pd.read_excel(\"..\/input\/mesukam2.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_4\u05d0\",header=4),pd.read_excel(\"..\/input\/mesukam2.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_4\u05d1\",header=4) ]) # orig; remove until column mismatch debugged\n\ndf4a = pd.read_excel(\"..\/input\/mesukam1.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_4\u05d0\",header=4) \nprint(\"df4a\",df4a.shape)\ndf4b = pd.read_excel(\"..\/input\/mesukam1.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_4\u05d1\",header=4) \nprint(\"df4b\",df4b.shape)\nprint(\"Difference in # of columns:\",(df4a.shape[0]-df4a.shape[0]))\n\ndf4 = pd.concat([df4a,df4b])\nprint(\"df4 concatenated:\",df4.shape)\ndf4.head()\n","1ec79e28":"df5 = pd.concat([pd.read_excel(\"..\/input\/mesukam1.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_5\u05d0\",header=4),pd.read_excel(\"..\/input\/mesukam1.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_5\u05d1\",header=4) ])\nprint(df5.shape)\n\ndf5.head()","afcdd1f4":"df6 = pd.read_excel(\"..\/input\/mesukam1.xls\",sheet_name=\"\u05d2\u05d9\u05dc\u05d9\u05d5\u05df_6\u05d0\",header=4)\nprint(df6.shape)\ndf6.head()","9c486272":"### 2:  10,000+\n - next grouping of regions:10k+ and districts \n* \"\u05d9\u05d9\u05e9\u05d5\u05d1\u05d9\u05dd \u05d4\u05de\u05d5\u05e0\u05d9\u05dd 10,000 \u05ea\u05d5\u05e9\u05d1\u05d9\u05dd \u05d5\u05d9\u05d5\u05ea\u05e8, \u05e8\u05d1\u05e2\u05d9\u05dd \u05d5\u05ea\u05ea-\u05e8\u05d1\u05e2\u05d9\u05dd (\u05d1\u05d9\u05d9\u05e9\u05d5\u05d1\u05d9\u05dd \u05d4\u05de\u05d7\u05d5\u05dc\u05e7\u05d9\u05dd \u05dc\u05e8\u05d1\u05e2\u05d9\u05dd \u05d5\u05ea\u05ea-\u05e8\u05d1\u05e2\u05d9\u05dd)\" \n* Will be annoying to merge  as it contains neighborhoods from the bigger areas. \n* note that the number of columns\/variables measured are different compared to sheets 1A\/1B ! ","ba003df4":"###  3: settlements or subareas of 2,000+\n* \u05d9\u05d9\u05e9\u05d5\u05d1\u05d9\u05dd \u05d4\u05de\u05d5\u05e0\u05d9\u05dd 2,000 \u05ea\u05d5\u05e9\u05d1\u05d9\u05dd \u05d5\u05d9\u05d5\u05ea\u05e8, \u05d0\u05d6\u05d5\u05e8\u05d9\u05dd \u05e1\u05d8\u05d8\u05d9\u05e1\u05d8\u05d9\u05d9\u05dd (\u05d1\u05d9\u05d9\u05e9\u05d5\u05d1\u05d9\u05dd \u05d4\u05de\u05d7\u05d5\u05dc\u05e7\u05d9\u05dd \u05dc\u05d0\u05d6\u05d5\u05e8\u05d9\u05dd \u05e1\u05d8\u05d8\u05d9\u05e1\u05d8\u05d9\u05d9\u05dd)","84a4cf5f":"### 1:  Settlements with over 100,000 residents\n* sheets 1A, 1B","87656e13":"### 6 : noisy, partial or missing\n* \u05d2\u05d9\u05dc\u05d9\u05d5\u05df 6 \u05d0 - \u05d9\u05d9\u05e9\u05d5\u05d1\u05d9\u05dd \u05e9\u05e2\u05d1\u05d5\u05e8\u05dd \u05e7\u05d9\u05d9\u05dd \u05d4\u05e4\u05e8\u05d5\u05e4\u05d9\u05dc \u05d4\u05d3\u05de\u05d5\u05d2\u05e8\u05e4\u05d9 \u05d1\u05dc\u05d1\u05d3 (\u05db\u05d5\u05dc\u05dc \u05d9\u05d9\u05e9\u05d5\u05d1\u05d9\u05dd \u05e9\u05d1\u05d4\u05dd \u05d4\u05ea\u05d1\u05e6\u05e2\u05d4 \u05e4\u05e7\u05d9\u05d3\u05d4 \u05de\u05d5\u05e2\u05d8\u05d4 \u05d1\u05e9\u05d8\u05d7, \u05d9\u05d9\u05e9\u05d5\u05d1\u05d9\u05dd \u05e9\u05db\u05dc\u05dc \u05dc\u05d0 \u05e0\u05e4\u05e7\u05d3\u05d5 \u05d5\u05d9\u05d9\u05e9\u05d5\u05d1\u05d9\u05dd \u05d0\u05e9\u05e8 \u05e0\u05e4\u05e7\u05d3\u05d5 \u05d1\u05d4\u05dd \u05e8\u05e7 \u05d3\u05d9\u05d9\u05e8\u05d9 \u05de\u05d5\u05e1\u05d3\u05d5\u05ea). \u05dc\u05d9\u05d9\u05e9\u05d5\u05d1\u05d9\u05dd \u05d0\u05dc\u05d4 \u05de\u05ea\u05e4\u05e8\u05e1\u05de\u05d9\u05dd \u05ea\u05db\u05d5\u05e0\u05d5\u05ea \u05d2\u05d0\u05d5\u05d2\u05e8\u05e4\u05d9\u05d5\u05ea \u05d5\u05de\u05e9\u05ea\u05e0\u05d9\u05dd \u05d3\u05de\u05d5\u05d2\u05e8\u05e4\u05d9\u05d9\u05dd \u05d1\u05dc\u05d1\u05d3.\n* areas for which only the demographic (and geographic) variables are avaialble. ","fca24182":"### Reading in the main census data\n* the data has descriptor sheets, and the rest is split into 11 sheets (each pair of sheets containing settlements with a given poppulation size). \n    * note that we see multiple rows per settlement (for sub-regions within it)\n* The last sheet has historical census data. Easy to use, but seperate from waht we want for now (the main census data)\n* the data has empty headers, then the *hebrew* column names (long and detailed), then short *english* column names. We'll use english for the community's sake. (and also to avoid worrying about spaces and escapers in our column headers)\n\n\n* each \"A\"\/\u05d0 sheet: contains demographic variables (not including marriage, fertility) from ICF. \n* EAch \"B\"\/\u05d1 sheet: contains socioeconomic variables  from the SEF","646e91a2":"###  5: up to 500 residents\n\u05d2\u05d9\u05dc\u05d9\u05d5\u05e0\u05d5\u05ea 5 \u05d0-\u05d1 - \u05d9\u05d9\u05e9\u05d5\u05d1\u05d9\u05dd \u05d4\u05de\u05d5\u05e0\u05d9\u05dd \u05e2\u05d3 500 \u05ea\u05d5\u05e9\u05d1\u05d9\u05dd.","a9abc539":"###  4:  1,999-501  residents\n\u05d2\u05d9\u05dc\u05d9\u05d5\u05e0\u05d5\u05ea 4 \u05d0-\u05d1 - \u05d9\u05d9\u05e9\u05d5\u05d1\u05d9\u05dd \u05d4\u05de\u05d5\u05e0\u05d9\u05dd 1,999-501 \u05ea\u05d5\u05e9\u05d1\u05d9\u05dd. * \n\n* ** column matching seems borked!*  - we'll need to fix!\n* the 2 files have different columns! "}}