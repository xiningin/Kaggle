{"cell_type":{"28ba729a":"code","2e6d1136":"code","618d455f":"code","88a47829":"code","135e7bad":"code","55cd24c9":"code","0fe958c3":"code","9399ddb5":"code","34704322":"code","bad8d3e1":"code","f844537d":"code","a897e70c":"code","a02ace70":"code","c79fe78c":"code","75137d8c":"markdown","e1136c49":"markdown","d3db91d7":"markdown","8978e6ef":"markdown","a64a1316":"markdown","bd774d24":"markdown","62718aa3":"markdown","34ab61de":"markdown","0e0216f4":"markdown","c487bcf4":"markdown","edb8e5c9":"markdown","501fa25b":"markdown","ce4a5df4":"markdown","14f92921":"markdown","3a539c80":"markdown","035f6ee3":"markdown"},"source":{"28ba729a":"# pip install opencage","2e6d1136":"from matplotlib import style \nstyle.use('fivethirtyeight')\nfrom opencage.geocoder import OpenCageGeocode\nfrom mpl_toolkits.basemap import Basemap\ngeocoder = OpenCageGeocode(key)\nkey = '2117b047581540e59c772059f03a714a'\nimport re\nimport numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt \nimport seaborn as sns \nfrom wordcloud import WordCloud \nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","618d455f":"df = pd.read_csv('..\/input\/co2-ghg-emissionsdata\/co2_emission.csv')\n","88a47829":"df.head()","135e7bad":"df.describe()","55cd24c9":"# top 5 least emission zones \ndef bar_graph_1(df):\n    fig = plt.figure(figsize=(10,6))\n    y = df.groupby(['Entity']).sum().sort_values('Annual CO\u2082 emissions (tonnes )')['Annual CO\u2082 emissions (tonnes )'][1:6]\n    x_labels =[y.index[i] for i in range(len(y))]\n    x =[1,2,3,4,5]\n    plt.bar(x,y)\n    plt.xticks(x,x_labels,fontsize=12)\n    plt.xlabel('Countries',fontsize=12)\n    plt.ylabel('Emission',fontsize=12)\n    plt.show()\nbar_graph_1(df)    ","0fe958c3":"# top 5 emissions \ndef bar_graph_2(df):\n    \n    fig = plt.figure(figsize=(10,6))\n    y = df.groupby(['Entity']).sum().sort_values('Annual CO\u2082 emissions (tonnes )')['Annual CO\u2082 emissions (tonnes )'][-5:]\n    x_labels =[y.index[i] for i in range(len(y))]\n    x =[1,2,3,4,5]\n    plt.bar(x,y)\n    plt.xticks(x,x_labels,fontsize=12)\n    plt.xlabel('Countries',fontsize=12)\n    plt.ylabel('Emission',fontsize=12)\n    plt.show()\nbar_graph_2(df)","9399ddb5":"# top 20 countries emission\ndef time_series_plot1(df):\n    style.use('ggplot')\n    fig = plt.figure(figsize=(12,6))\n    y = df.groupby(['Entity']).sum().sort_values('Annual CO\u2082 emissions (tonnes )')['Annual CO\u2082 emissions (tonnes )'][-20:]\n    x_labels =[y.index[i] for i in range(len(y))]\n    for i in range(len(x_labels)):       \n        abc=df.groupby(['Entity','Year']).mean().loc[x_labels[i]]\n        plt.plot(abc.index,abc['Annual CO\u2082 emissions (tonnes )'])\n    plt.xlabel('Years',fontsize=20)\n    plt.ylabel('Emission_over_time',fontsize=20)\n    plt.legend(x_labels)\ntime_series_plot1(df)","34704322":"#least 20 countries emission\ndef time_series_plot2(df):\n    style.use('seaborn')\n    fig = plt.figure(figsize=(12,6))\n    y = df.groupby(['Entity']).sum().sort_values('Annual CO\u2082 emissions (tonnes )')['Annual CO\u2082 emissions (tonnes )'][1:20]\n    x_labels =[y.index[i] for i in range(len(y))]\n    for i in range(len(x_labels)):\n        abc=df.groupby(['Entity','Year']).mean().loc[x_labels[i]]\n        plt.plot(abc.index,abc['Annual CO\u2082 emissions (tonnes )'])\n    plt.xlabel('Years',fontsize=20)\n    plt.ylabel('Emission_over_time',fontsize=20)\n    plt.legend(x_labels)\ntime_series_plot2(df)","bad8d3e1":"def word_cloud1(df):\n    x = df['Entity'].value_counts()\n    word_ls =[]\n    for i in range(len(x)):\n        word_ls += [x.index[i]]*x[i]\n   \n    wordcloud = WordCloud(width=350,height=250).generate(''.join(word_ls))\n    plt.figure(figsize=(19,9))\n    plt.axis('off')\n    plt.title('Countries',fontsize=20)\n    plt.imshow(wordcloud)\n    plt.show()\nword_cloud1(df)","f844537d":"def only_country_names():\n    new_list =[]\n    ls = df.groupby(['Entity']).mean().sort_values(['Annual CO\u2082 emissions (tonnes )'])[-51:-1].index\n    for i in range(len(ls)):\n        new_list.append(ls[i].split(' ')[0])\n    return new_list\nls = only_country_names()\n","a897e70c":"# top 50 countries emission plotting \ndef plot_world_basemap():\n    fig = plt.figure(figsize=(14,20))\n    m = Basemap(projection='mill',llcrnrlat=-60,urcrnrlat=90,\\\n                llcrnrlon=-180,urcrnrlon=180,resolution='c')\n\n    m.drawcoastlines()\n\n    m.drawcountries()\n    m.drawstates()\n\n    \n    for i in range(len(ls)):\n        query = ls[i]\n        results = geocoder.geocode(query)\n        lat = results[0]['geometry']['lat']\n        lng = results[0]['geometry']['lng']\n        x,y = m(lng,lat)\n        m.plot(x,y,'o','red',markersize=(i\/2)*2)\n    \n    m.fillcontinents(color='white',lake_color='#FFFFFF')\n\n    m.drawmapboundary(fill_color='#FFFFFF')\n    plt.title(\"Emissions by top 50 countries\",fontsize=20)\n    plt.show()\n\n\nplot_world_basemap()\n","a02ace70":"\ndef hist_plot(df):\n    y =[]\n    x_labels =[]\n    for i in range(18):\n    \n        x=df[df['Year']==2000+i].sort_values(['Annual CO\u2082 emissions (tonnes )','Year'])\n        intm = x['Annual CO\u2082 emissions (tonnes )'][-2:-1].values\n        label =x['Year'][-2:-1].values\n        x_labels.append(label[0])\n        y.append(int(intm[0]))\n      \n    x =[x for x in range(18)]\n    return (x,y,x_labels)\nfig= plt.figure(figsize=(14,8))\n\nx,y,x_labels =hist_plot(df)\nplt.bar(x[:6],y[:6],color='blue')\nplt.bar(x[6:],y[6:],color='red')\nplt.xticks(x,x_labels,rotation=45)\nplt.xlabel('Year',fontsize=20)\nplt.ylabel('Most emmissions by single country',fontsize=20)\nplt.legend(['USA','China'])\n","c79fe78c":"def pie_chart1(df):\n    fig,axes =  plt.subplots(3,2,figsize=(12,10))\n    plt.title('top 5 polluting regions every 50 years')\n    x = df[df['Year']==1751]\n    x = x.sort_values('Annual CO\u2082 emissions (tonnes )',ascending=False)\n    values = x['Annual CO\u2082 emissions (tonnes )'][:5]\n    labels=  x['Entity'][:5]\n    axes[0,0].pie(values,labels=labels,startangle=45,explode=[0.0,0.0,0.0,0.1,0.3])\n    axes[0,0].set_title('1751',fontsize=15)\n    \n    x1 = df[df['Year']==1800]\n    x1 = x1.sort_values('Annual CO\u2082 emissions (tonnes )',ascending=False)\n    values = x1['Annual CO\u2082 emissions (tonnes )'][:5]\n    labels=  x1['Entity'][:5]\n    axes[0,1].pie(values,labels=labels,startangle=45,explode=[0.0,0.0,0.0,0.1,0.3])\n    axes[0,1].set_title('1800',fontsize=15)\n    \n    \n    x2 = df[df['Year']==1850]\n    x2 = x2.sort_values('Annual CO\u2082 emissions (tonnes )',ascending=False)\n    values = x2['Annual CO\u2082 emissions (tonnes )'][:5]\n    labels=  x2['Entity'][:5]\n    axes[1,0].pie(values,labels=labels,startangle=45)\n    axes[1,0].set_title('1850',fontsize=15)\n    \n    \n    x3 = df[df['Year']==1900]\n    x3 = x3.sort_values('Annual CO\u2082 emissions (tonnes )',ascending=False)\n    values = x3['Annual CO\u2082 emissions (tonnes )'][:5]\n    labels=  x3['Entity'][:5]\n    axes[1,1].pie(values,labels=labels)\n    axes[1,1].set_title('1900',fontsize=15)\n    \n    x4 = df[df['Year']==1950]\n    x4 = x4.sort_values('Annual CO\u2082 emissions (tonnes )',ascending=False)\n    values = x4['Annual CO\u2082 emissions (tonnes )'][:5]\n    labels=  x4['Entity'][:5]\n    axes[2,0].pie(values,labels=labels)\n    axes[2,0].set_title('1950',fontsize=15)\n    \n    x5 = df[df['Year']==2000]\n    x5 = x5.sort_values('Annual CO\u2082 emissions (tonnes )',ascending=False)\n    values = x5['Annual CO\u2082 emissions (tonnes )'][:5]\n    labels=  x5['Entity'][:5]\n    axes[2,1].pie(values,labels=labels)\n    axes[2,1].set_title('2000',fontsize=15)\n    \n    plt.show()\npie_chart1(df)","75137d8c":"<div><h3> <span style='font-style:italic;color:green;'>\nCarbon dioxide is the most important, though not the only anthropogenic greenhouse gas.For a more complete idea of how a country influences climate change, gases such as methane and nitrous oxide should be taken into account.This is particularly so in agricultural economies.\n<br \/>\nCarbon dioxide emissions are also known for earlier periods.A study of a global sample of twelve countries provide estimates for CO2 emissions,\nsince 1800 and explores the long-run drivers of carbon dioxide emissions by decomposing changes in carbon emissions into \npopulation, income, technological and energy mix changes.\n<br \/><br \/>\nA carbon footprint is the total greenhouse gas (GHG) emissions caused by an individual, event, organization, service, or product, expressed as carbon dioxide equivalent.Greenhouse gases, including the carbon-containing gases carbon dioxide and methane, can be emitted through the burning of fossil fuels, land clearance and the production and consumption of food, manufactured goods, materials, wood, roads, buildings, transportation and other services.<br \/>\n\nIn most cases, the total carbon footprint cannot be calculated exactly because of inadequate knowledge of and data about the complex interactions between contributing processes, including the influence of natural processes that store or release carbon dioxide. For this reason, Wright, Kemp, and Williams proposed the following definition of a carbon footprint:<br \/>\n\nA measure of the total amount of carbon dioxide (CO2) and methane (CH4) emissions of a defined population, system or activity, considering all relevant sources, sinks and storage within the spatial and temporal boundary of the population, system or activity of interest. Calculated as carbon dioxide equivalent using the relevant 100-year global warming potential (GWP100).\n\nThe global average annual carbon footprint per person in the late 2010s was 0.7 tonnes CO2eq food, 1.1 tonnes from the home, 0.8 tonnes transport and 0.8 tonnes other.\n    <\/span>\n    <\/h3>   <\/div> ","e1136c49":"<div> <h1> <span style=\"color:brown\"> Please give an upvote if you liked the notebook\ud83d\ude4c<\/span><\/h1><\/div>","d3db91d7":"<div><h2>\n    <span style=\"font-family:cursive\">Pollution caused by different sectors  .<\/span>\n    <\/h2>\n    <\/div>","8978e6ef":"<a id=\"5\"><\/a>\n<font color=\"blue\" size=+1.0><b>Word cloud<br \/><\/b><\/font>\n\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","a64a1316":"<a id=\"4\"><\/a>\n<font color=\"blue\" size=+1.0><b> Time_series_plot 2 <br \/><\/b><\/font>\n   <h2> <p style=\"font-family:cursive\">Least emission of countries(20) since 1750.<br \/><\/p> <\/h2>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","bd774d24":"<a id=\"1\"><\/a>\n<font color=\"blue\" size=+1.0><b>Bar Graph-1 <br \/><\/b><\/font>\n   <h2> <p style=\"font-family:cursive\">Least 5 polluting countries.<br \/><\/p> <\/h2>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","62718aa3":"![graph.png](attachment:graph.png)","34ab61de":"![carbon-emission.jpg](attachment:carbon-emission.jpg)","0e0216f4":"<a id=\"8\"><\/a>\n<font color=\"blue\" size=+1.0><b>Pie_Chart <br \/><\/b><\/font>\n   <h2> <p style=\"font-family:cursive\">Emission distribution of different time_stamps<br \/><\/p> <\/h2>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","c487bcf4":"<a id=\"7\"><\/a>\n<font color=\"blue\" size=+1.0><b>Bar Graph-3 <br \/><\/b><\/font>\n   <h2> <p style=\"font-family:cursive\">Most co2  emission by a single-country since 2000<br \/><\/p> <\/h2>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","edb8e5c9":"<a id=\"6\"><\/a>\n<font color=\"blue\" size=+1.0><b>Geographic data <br \/><\/b><\/font>\n\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","501fa25b":"<a id=\"3\"><\/a>\n<font color=\"blue\" size=+1.0><b>Time_series_plot 1 <br \/><\/b><\/font>\n   <h2> <p style=\"font-family:cursive\">Emission of top 20 countries since 1750<br \/><\/p> <\/h2>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","ce4a5df4":"<a id=\"top\"><\/a>\n\n<div class=\"list-group\" id=\"list-tab\" role=\"tablist\">\n<h3 class=\"list-group-item list-group-item-action active\" data-toggle=\"list\"  role=\"tab\" aria-controls=\"home\">Menu<\/h3>\n\n  \n<font color=\"blue\" size=+1><b>Part 1<\/b><\/font>\n* [1. Bar Graph-1](#1)\n* [2. Bar Graph-2](#2)\n* [3. Time_Series_plot_1](#3)\n* [4. Time_Series_ploy_2](#4)\n* [5. WordCloud](#5)\n* [6. Geographic Map](#6)\n* [7. Bar Chart 3](#7)\n* [8. Piechart](#8)","14f92921":"# Thank You!!!","3a539c80":"<a id=\"2\"><\/a>\n<font color=\"blue\" size=+1.0><b>Bar Graph-2 <br \/><\/b><\/font>\n   <h2> <p style=\"font-family:cursive\">Topmost 5 polluting countries.<br \/><\/p> <\/h2>\n<a href=\"#top\" class=\"btn btn-primary btn-sm\"  aria-pressed=\"true\" style=\"color:white\" data-toggle=\"popover\" title=\"go to Colors\">Go to menu<\/a>","035f6ee3":"<div> <h1> <span style=\"color:brown\"> You can check my other notebooks at <a href='https:\/\/www.kaggle.com\/sumithawal\/notebooks'>Notebooks<\/a><\/span><\/h1><\/div>"}}