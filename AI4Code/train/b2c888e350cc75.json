{"cell_type":{"ecf693e5":"code","333988c9":"code","c84d401b":"code","a43a6beb":"code","29be3c29":"code","dd728ba4":"code","8f9409f1":"code","5caa6f3a":"code","82032488":"code","1cc37ba1":"code","87c1d8f3":"code","84287cc7":"code","49d96538":"code","f8958bb0":"code","fe0ff052":"code","1aaadd6c":"code","63b7181c":"code","6a9ac39f":"code","c0a3e704":"code","78613180":"code","82d92c73":"code","a5fbebbb":"code","a7b2fc43":"code","ed6ae3fc":"code","e1ed883e":"code","aec40d3f":"code","32a52cc2":"code","879208d3":"code","bce77060":"code","41a30e68":"code","0cd699fd":"code","1f7bdba8":"code","e371d34e":"code","9b66692a":"code","01edee1a":"code","b73b3c0f":"code","889f3407":"code","7dc3d4e8":"code","c08573ed":"code","24b71872":"code","0ce7a3ac":"markdown","4c8b9af8":"markdown","1f7a6b70":"markdown","b965189a":"markdown","eed7b9a0":"markdown","2dffcfe1":"markdown","63791aff":"markdown","acb35e0b":"markdown","35cfd922":"markdown","4e0bc6aa":"markdown","2f5ea545":"markdown","f97eca90":"markdown","cd2745ea":"markdown","08eccad7":"markdown","30be06f4":"markdown","69be1f6a":"markdown","28ecf25d":"markdown","b7c012ee":"markdown","2802e7d9":"markdown","a7eab594":"markdown","43944532":"markdown","f565faca":"markdown"},"source":{"ecf693e5":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","333988c9":"pip install countrygroups","c84d401b":"# importing libraries  used\nimport numpy as np \nimport seaborn as sns\nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport plotly.express as px\npd.options.display.max_columns = None\npd.set_option('display.max_colwidth',-1)\nimport scipy\nfrom countrygroups import ARAB_GROUP\npltSize = (20,10)","a43a6beb":"def getVaccines(df, cols):\n    '''returns a data frame of each vaccine, countries that uses it and how many country that uses it.\n        parameters are a data frame and columns of countries and vaccines \n    '''\n    countriesPerVacc = df.loc[:,cols].copy()\n    vacc = countriesPerVacc[cols[1]].str.split(', ').apply(pd.Series, 1).stack()\n    vacc.index = vacc.index.droplevel(-1)\n    vacc.name = cols[1]\n    del countriesPerVacc[cols[1]]\n    countriesPerVacc  = countriesPerVacc.join(vacc)\n    countriesPerVacc = pd.DataFrame(countriesPerVacc.groupby(cols[1])[cols[0]].unique())\n    countriesPerVacc['total_number_of_countries'] = countriesPerVacc[cols[0]].map(len).values\n    countriesPerVacc\n    return countriesPerVacc","29be3c29":"def plotBar(df, pltSize,labels,pltTitle):\n    '''plots a bar plot of column\n        parameters are a data frame of values of desired column to plot,\n        plot size, plot labels, and plot title'''\n    plt.figure(figsize = pltSize)\n    plt.bar(df.index, df)\n    plt.xticks(rotation = 90)\n    plt.ylabel(labels[1],fontsize = 15)\n    plt.xlabel(labels[0],fontsize = 15)\n    plt.title(pltTitle)\n    plt.xticks(fontsize = 12)\n    plt.yticks(fontsize = 15)\n    plt.show()","dd728ba4":"vaccProg = pd.read_csv('..\/input\/covid-world-vaccination-progress\/country_vaccinations.csv')\nvaccProg.head()","8f9409f1":"vaccProg.isna().sum()","5caa6f3a":"vaccProg.info()","82032488":"vaccProg[vaccProg.iso_code.isna()].country.unique()","1cc37ba1":"vaccProg.loc[vaccProg.country == 'England'] = vaccProg.loc[vaccProg.country == 'England'].fillna(\n    {'iso_code':'GB-ENG'})\nvaccProg.loc[vaccProg.country == 'Northern Cyprus'] = vaccProg.loc[vaccProg.country == 'Northern Cyprus'].fillna(\n    {'iso_code':' NC '})\nvaccProg.loc[vaccProg.country == 'Northern Ireland'] = vaccProg.loc[vaccProg.country == 'Northern Ireland'].fillna(\n    {'iso_code':'GB-NIR'})\nvaccProg.loc[vaccProg.country == 'Scotland'] = vaccProg.loc[vaccProg.country == 'Scotland'].fillna(\n    {'iso_code':'GB-SCT'})\nvaccProg.loc[vaccProg.country == 'Wales'] = vaccProg.loc[vaccProg.country == 'Wales'].fillna(\n    {'iso_code':'GB-WLS'})","87c1d8f3":"vaccProg.isna().sum()","84287cc7":"plt.subplots(figsize = pltSize)\nsns.heatmap(vaccProg.corr(),annot = True, square = True)\nplt.show()","49d96538":"fig = px.choropleth(locations = vaccProg.iso_code,hover_name = vaccProg.country,\n                    color = vaccProg.vaccines, color_continuous_scale = 'rainbow',\n                    title = 'Vaccines used in each country'\n                   )\nfig.show()","f8958bb0":"countriesOfVacc = getVaccines(vaccProg,['country','vaccines'])\ncountriesOfVacc","fe0ff052":"countriesOfVacc = countriesOfVacc['total_number_of_countries'].dropna().sort_values(ascending = False)","1aaadd6c":"plotBar(countriesOfVacc, pltSize,['Vaccine','Total number of countries'],'Number of Countries for each vaccine')","63b7181c":"totalVacc = vaccProg.loc[:,['country','total_vaccinations']].dropna().copy()\ntotalVacc.head()","6a9ac39f":"totalVacc.info()","c0a3e704":"totalVacc = totalVacc.groupby('country')['total_vaccinations'].max().sort_values(ascending = False)","78613180":"plotBar(totalVacc, pltSize,['Country', 'Total vaccinations'],'Total vaccinations for each country')","82d92c73":"vaccProg.loc[vaccProg.total_vaccinations == totalVacc.max(),['country', 'date','total_vaccinations']]","a5fbebbb":"vaccPercent = vaccProg.loc[:,['country','people_fully_vaccinated_per_hundred']].dropna().copy()","a7b2fc43":"vaccPercent.head()","ed6ae3fc":"vaccPercent = vaccPercent.groupby('country')['people_fully_vaccinated_per_hundred'].max().sort_values(ascending = False)\nplotBar(vaccPercent,pltSize,['Country', 'People fully vaccinated per hundred'],'Percentage of people fully Vaccinated for each country')","e1ed883e":"vaccProg.loc[vaccProg.people_fully_vaccinated_per_hundred == vaccPercent.max(),['country', 'date','people_fully_vaccinated_per_hundred']]","aec40d3f":"vaccProg.country.unique()","32a52cc2":"arabCountries = ARAB_GROUP.names\narabCountries ","879208d3":"vaccProgArb = vaccProg.loc[vaccProg.country.isin(arabCountries) ,:].copy()\nvaccProgArb.head()","bce77060":"exist = vaccProgArb.country.unique()\nexist","41a30e68":"notExist = [x for x in arabCountries if x not in exist ]\nnotExist","0cd699fd":"fig = px.choropleth(locations = vaccProgArb.iso_code,hover_name = vaccProgArb.country,\n                    color = vaccProgArb.vaccines, color_continuous_scale = 'rainbow',title = 'Vaccines used in each arab country')\nfig.show()","1f7bdba8":"countriesOfVaccArb = getVaccines(vaccProgArb, ['country', 'vaccines'])\ncountriesOfVaccArb","e371d34e":"countriesOfVaccArb = countriesOfVaccArb['total_number_of_countries'].sort_values(ascending = False)\nplotBar(countriesOfVaccArb, pltSize,['Vaccine', 'Total number of countries'],'Number of arab countries for each vaccine')","9b66692a":"totalVaccArb = vaccProgArb.loc[:,['country','total_vaccinations']].dropna().copy()\ntotalVaccArb.head()","01edee1a":"totalVaccArb = totalVaccArb.groupby('country')['total_vaccinations'].max().sort_values(ascending = False)","b73b3c0f":"plotBar(totalVaccArb,pltSize,['Country','Total vaccinations'], 'Total vaccinations for each arab country')","889f3407":"vaccProgArb.loc[vaccProgArb.total_vaccinations == totalVaccArb.max(),['country', 'date','total_vaccinations']]","7dc3d4e8":"vaccPercentArb = vaccProgArb.loc[:,['country','people_fully_vaccinated_per_hundred']].copy()","c08573ed":"vaccPercentArb = vaccPercentArb.groupby('country')['people_fully_vaccinated_per_hundred'].max().sort_values(ascending = False)\nplotBar(vaccPercentArb,pltSize,['Country', 'People fully vaccinated per hundred'],'People fully vaccinated per hundred for each arab country')","24b71872":"vaccProgArb.loc[vaccProgArb.people_fully_vaccinated_per_hundred == vaccPercentArb.max(),['country', 'date','people_fully_vaccinated_per_hundred']]","0ce7a3ac":"we can see that 8 out of 22 countries do exist in data set\nso let's see which vaccines are used for each of these countries.","4c8b9af8":"* # What arab country is vaccinated more people?","1f7a6b70":"* # Which vaccine is used more by arab countries?","b965189a":"<a id='intro'><\/a>\n# <center> Introduction<\/center>\nSince I heard news about the invention of  vaccines for corona virus I wanted to keep up with the progress of vaccination so as many people especially in the Arab world where I come from. Also I wanted to compare between progress in vaccination in Arab countries and the rest of the world.","eed7b9a0":"<a id = 'ack'><\/a>\n# <center>Acknowledgement<\/center>\nData set used in this analysis provided by [@Gabriel Preda](https:\/\/www.kaggle.com\/gpreda).<br>\nyou can find data set here [Covid-19 world vaccination progress](https:\/\/www.kaggle.com\/gpreda\/covid-world-vaccination-progress).","2dffcfe1":"## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#ack\">Acknowledgment<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href='#sum'>Summary<\/a><\/li>\n<\/ul>","63791aff":"<a id='wrangling'><\/a>\n# Data wrangling","acb35e0b":"some countries are missing their iso_code so let's see which countries are missing iso_code and fill them.","35cfd922":"![image.png](attachment:image.png)\n[<center>(Source)<\/center>](https:\/\/arabic.cnn.com\/health\/article\/2021\/01\/13\/first-people-receive-virus-vaccination-in-jordan)","4e0bc6aa":"Thats the iso-codes which are used for these countries : GB-ENG for England, NC for Northern Cyprus, GB-NIR for Northern Ireland, GB-SCT for Scotland, GB-WLS for Wales.\n","2f5ea545":"* # What vaccines are used and in which countries?","f97eca90":"* # What country is vaccinated more people?","cd2745ea":"* # What arab country is vaccinated a larger percent from its population?","08eccad7":"> which arab countries that exists in data ?","30be06f4":"In order to work with data of arab countries i needed to install and use countrygroups to get the exact ciuntries of arab groups and their official name.","69be1f6a":"<a id='eda'><\/a>\n# EDA","28ecf25d":"* # What country is vaccinated a larger percent from its population?","b7c012ee":"The following are utility functions used for analysis on world data and arab countries data.","2802e7d9":"First step is to see which arab countries that exists in COVID-19 World Vaccination Progress data set.","a7eab594":"we can see that percantage of UAE didn't change at all throughout days and that it has the largest percentage among arab countries ","43944532":"<a id = 'sum'><\/a>\n# Summary\nFrom analysis above we can see that Pfizer\/BioNTech vaccine is the most used vaccine by countries for world and also arab countries<br>\nUSA has vaccinated more people across the world.<br>\nUAE has vaccinated more people when it comes to arab countries.<br>\nIsrael has the largest percentage when it comes to people vaccinated per hundred and UAE has the largest percentage when it comes to arab countries.<br> ","f565faca":"# Now let's investigate progress of vaccination in arab countries."}}