{"cell_type":{"ea40f2cd":"code","46b86f5a":"code","85388e80":"code","995936ff":"code","42e9266a":"code","e8b21127":"code","c32f016e":"code","bda690b2":"code","0c44a90b":"code","a85353fd":"code","606417d9":"code","b845da22":"code","455f1d03":"code","54284555":"code","7cb43641":"code","1c21502c":"code","92eb6bbd":"code","8c76768c":"code","4b7ecaf2":"code","9940fbb1":"code","597d2312":"code","231f07c9":"code","61106444":"code","65fb268e":"code","0caf8662":"code","c35a1cd1":"code","ec0c6f3e":"code","630769cb":"code","1868f20f":"code","d0fe7334":"code","a6c4cc24":"code","ae9f6763":"code","bd2a1e1c":"code","0a6da648":"code","232b939e":"code","ff019254":"code","4b354b57":"code","052184c9":"code","f0a7ec13":"code","cfbbca32":"code","03f2b94b":"code","9c9d5354":"code","1defd2a8":"code","b2f8890b":"code","438f4619":"code","140fb88f":"code","eb8f7b20":"code","387934bb":"code","cdc2d8d3":"code","1b01504d":"code","14fe387f":"code","bfff375b":"code","e8103f4e":"code","43d1bbd7":"code","cb0c9469":"code","1c678f32":"code","a4dbcb9f":"code","60bdeec2":"code","f0a81463":"code","99903d00":"code","d2bad796":"code","5f452657":"code","ac982346":"code","16da4c49":"code","409ef1c0":"code","d5982b7a":"code","64fe693e":"code","653bdd5d":"code","d5fc5a9b":"code","bdb96869":"code","d20994df":"code","edaaf84a":"code","c4988223":"code","1cf70e1a":"code","738246a9":"code","34964d7c":"code","9dc4f1e7":"code","229b47e0":"code","79fc74e5":"code","ffacd146":"markdown","be55afda":"markdown","fbff3093":"markdown","b4a7717e":"markdown","f0c2f4b5":"markdown","f2858b96":"markdown","5b0c7b56":"markdown","5663907e":"markdown","246921c3":"markdown","c524b6a2":"markdown","45199dd7":"markdown","34d365f1":"markdown","cb539a9a":"markdown","19dbc456":"markdown","92848bef":"markdown","55b785ef":"markdown","3e1b5952":"markdown","c191c696":"markdown","6cf3995f":"markdown","a47f43fd":"markdown","4110db82":"markdown","121c38eb":"markdown","010fd246":"markdown","c7e0cc10":"markdown","741a8433":"markdown","76c17eda":"markdown","82a0b681":"markdown","c624a0e4":"markdown","c329cc22":"markdown","265adc77":"markdown","44322c63":"markdown","650ab6b8":"markdown","a6d7d58f":"markdown","8560e27b":"markdown","068bbedc":"markdown","ce4f4251":"markdown","2e7d9479":"markdown"},"source":{"ea40f2cd":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","46b86f5a":"import numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport pandas as pd\nimport plotly.express as px \nsns.set_style('darkgrid')\nfrom datetime import datetime\nfrom dateutil.tz import *\nimport re \n","85388e80":"data = pd.read_csv('\/kaggle\/input\/education\/our data.csv')","995936ff":"data.info()","42e9266a":"data.head(20)","e8b21127":"data.columns","c32f016e":"data.isnull().sum()","bda690b2":"# Function to calculate missing values by column\ndef missing_values_table(df):\n        # Total missing values\n        mis_val = df.isnull().sum()  \n        # Percentage of missing values\n        mis_val_percent = 100 * df.isnull().sum() \/ len(df)      \n        #types\n        types = df.dtypes       \n        # Make a table with the results\n        mis_val_table = pd.concat([mis_val, mis_val_percent,types], axis=1)       \n        # Rename the columns\n        mis_val_table_ren_columns = mis_val_table.rename(\n        columns = {0 : 'Missing Values', 1 : '% of Total Values', 2 : 'type'})       \n        # Sort the table by percentage of missing descending\n        mis_val_table_ren_columns = mis_val_table_ren_columns.sort_values('% of Total Values', ascending=False).round(1)            \n        # Print some summary information\n        print (\"Your selected dataframe has \" + str(df.shape[1]) + \" columns.\\n\")        \n        #add plot\n        plt.figure(figsize=(13,6))\n        sns.set(style=\"whitegrid\", color_codes=True)\n        sns.barplot(x = mis_val_table_ren_columns.index, y = mis_val_table_ren_columns[\"% of Total Values\"], data=mis_val_table_ren_columns)\n        plt.xticks(rotation = 90)\n        plt.title(\"Missing values count\")\n        plt.show()       \n        # Return the dataframe with missing information\n        return mis_val_table_ren_columns","0c44a90b":"#the missing values of our data\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nmissing_values_table(data)","a85353fd":"data.nunique()","606417d9":"print(\"the shape of our dataset is {}\".format(data.shape))","b845da22":"data.describe(include = 'all')","455f1d03":"data['AnnouncementsView'].describe()","54284555":"var = 'AnnouncementsView'\ndata_vis = pd.concat([data['Class'], data[var]], axis=1)\nf, ax = plt.subplots(figsize=(4, 8))\nfig = sns.boxplot(x=var, y=\"Class\", data=data_vis,hue='Class', palette='coolwarm')\nfig.axis(ymin=-2, ymax=5);","7cb43641":"data['VisITedResources'].describe()","1c21502c":"var = 'VisITedResources'\ndata_vis = pd.concat([data['Class'], data[var]], axis=1)\nf, ax = plt.subplots(figsize=(6, 6))\nfig = sns.boxplot(x=var, y=\"Class\", data=data_vis,hue='Class', palette='coolwarm')\nfig.axis(ymin=-2, ymax=5);","92eb6bbd":"data['Discussion'].describe()","8c76768c":"var = 'Discussion'\ndata_vis = pd.concat([data['Class'], data[var]], axis=1)\nf, ax = plt.subplots(figsize=(6, 6))\nfig = sns.boxplot(x=var, y=\"Class\", data=data_vis,hue='Class', palette='coolwarm')\nfig.axis(ymin=-2, ymax=5);","4b7ecaf2":"data['raisedhands'].describe()","9940fbb1":"var = 'raisedhands'\ndata_vis = pd.concat([data['Class'], data[var]], axis=1)\nf, ax = plt.subplots(figsize=(6, 6))\nfig = sns.boxplot(x=var, y=\"Class\", data=data_vis,hue='Class', palette='coolwarm')\nfig.axis(ymin=-2, ymax=5);","597d2312":"var = 'gender'\ndata[var].value_counts()","231f07c9":"var = 'NationalITy'\ndata[var].value_counts()","61106444":"var = 'PlaceofBirth'\ndata[var].value_counts()","65fb268e":"var = 'StageID'\ndata[var].value_counts()","0caf8662":"var = 'GradeID'\ndata[var].value_counts()","c35a1cd1":"var = 'SectionID'\ndata[var].value_counts()","ec0c6f3e":"var = 'Topic'\ndata[var].value_counts()","630769cb":"var = 'Semester'\ndata[var].value_counts()","1868f20f":"var = 'Relation'\ndata[var].value_counts()","d0fe7334":"var = 'raisedhands'\ndata[var].value_counts()","a6c4cc24":"var = 'ParentAnsweringSurvey'\ndata[var].value_counts()","ae9f6763":"var = 'StudentAbsenceDays'\ndata[var].value_counts()","bd2a1e1c":"var = 'Class'\ndata[var].value_counts()","0a6da648":"data[\"gender\"].value_counts(normalize=True).plot(kind='pie',autopct='%1.1f%%', colors = ['lightsteelblue', 'lightsalmon'])","232b939e":"data[\"SectionID\"].value_counts(normalize=True).plot(kind='pie',autopct='%1.1f%%',colors = ['lightsalmon', 'gainsboro', 'lightsteelblue'])","ff019254":"data[\"Semester\"].value_counts(normalize=True).plot(kind='pie',autopct='%1.1f%%',colors = ['lightsalmon', 'gainsboro'])","4b354b57":"data.NationalITy.value_counts(normalize=True).plot(kind='bar', color='gainsboro')","052184c9":"f, ax = plt.subplots(figsize=(15,8))\nsns.histplot(data['PlaceofBirth'], palette='coolwarm')","f0a7ec13":"# Count Plot (a.k.a. Bar Plot)\nsns.countplot(x='StageID', data=data, palette='coolwarm')\n \n# Rotate x-labels\nplt.xticks(rotation=-45)","cfbbca32":"# Count Plot (a.k.a. Bar Plot)\nsns.countplot(x='GradeID', data=data, palette='coolwarm')\n \n# Rotate x-labels\nplt.xticks(rotation=-45)","03f2b94b":"# Count Plot (a.k.a. Bar Plot)\nsns.countplot(x='Topic', data=data, palette= 'coolwarm')\n \n# Rotate x-labels\nplt.xticks(rotation=-45)","9c9d5354":"data[\"Relation\"].value_counts(normalize=True).plot(kind='pie',autopct='%1.1f%%', colors = ['lightsteelblue', 'lightsalmon'])","1defd2a8":"# Count Plot (a.k.a. Bar Plot)\nsns.countplot(x='ParentAnsweringSurvey', data=data, palette= 'coolwarm')","b2f8890b":"# Count Plot (a.k.a. Bar Plot)\nsns.countplot(x='ParentschoolSatisfaction', data=data, palette= 'coolwarm')\n","438f4619":"# Count Plot (a.k.a. Bar Plot)\nsns.countplot(x='StudentAbsenceDays', data=data, palette= 'coolwarm')","140fb88f":"data[\"Class\"].value_counts(normalize=True).plot(kind='pie',autopct='%1.1f%%', colors =  ['lightsalmon', 'gainsboro', 'lightsteelblue'])","eb8f7b20":"# Counts per class --> Is the dataset unbalanced?\ncounts = sns.countplot(x='Class', data=data, palette='coolwarm')\ncounts.set(xlabel='Class', ylabel='Count', title='Occurences per class')\nplt.show()","387934bb":"f, ax = plt.subplots(figsize=(15,8))\nsns.histplot(data['VisITedResources'], palette='coolwarm')","cdc2d8d3":"f, ax = plt.subplots(figsize=(15,8))\nsns.histplot(data['raisedhands'], palette='coolwarm')","1b01504d":"f, ax = plt.subplots(figsize=(15,8))\nsns.histplot(data['AnnouncementsView'], palette='coolwarm')","14fe387f":"f, ax = plt.subplots(figsize=(15,8))\nsns.histplot(data['Discussion'], palette='coolwarm')","bfff375b":"# Exploring nationalities\nnat = sns.countplot(x='NationalITy', data=data, palette='coolwarm')\nnat.set(xlabel='NationalITy', ylabel='Count', title='Nationality Representation')\nplt.setp(nat.get_xticklabels(), rotation=80)\nplt.show()","e8103f4e":"# Semester comparison\nsem = sns.countplot(x='Class', hue='Semester', order=['L', 'M', 'H'], data=data, palette='coolwarm')\nsem.set(xlabel='Class', ylabel='Count', title='Semester comparison')\nplt.show()\n","43d1bbd7":"# gender comparison\nplot = sns.countplot(x='Class', hue='gender', data=data, order=['L', 'M', 'H'], palette='coolwarm')\nplot.set(xlabel='Class', ylabel='Count', title='Gender comparison')\nplt.show()","cb0c9469":"plot = sns.swarmplot(x='Class', y='VisITedResources', hue='gender', order=['L', 'M', 'H'], \n              data=data, palette='coolwarm')\nplot.set(xlabel='Class', ylabel='Count', title='Gender comparison on visited resources')\nplt.rcParams['figure.figsize']=(10,5)\nplt.show()","1c678f32":"plt.figure(figsize=(14,8))\nsns.countplot('PlaceofBirth', data=data, palette='coolwarm')\nplt.xlabel('nationality')\nplt.ylabel('number of students');","a4dbcb9f":"sorted_place = data['PlaceofBirth'].value_counts().index\nplt.figure(figsize=(14,8))\nsns.countplot('PlaceofBirth', hue='gender', data=data, order=sorted_place, palette='coolwarm')\nplt.xlabel('nationality')\nplt.ylabel('number of students')\nplt.legend(loc='upper right');","60bdeec2":"fig, ax = plt.subplots(1,2, figsize=(14,8))\nsns.countplot('StageID', data=data, ax=ax[0], palette='coolwarm')\nsns.countplot('StageID', hue='gender', data=data, ax=ax[1], palette='coolwarm');","f0a81463":"fig, ax = plt.subplots(1,2, figsize=(14,8))\nsns.countplot('Topic', hue='gender', data=data, ax=ax[0], palette='coolwarm')\nsns.countplot('Topic', hue='StageID', data=data, ax=ax[1], palette='coolwarm')\nax[0].set_ylabel(\"number of students\")\nax[1].set_ylabel(\"number of students\")\nax[0].set_xticklabels(labels=labels, rotation=120)\nax[1].set_xticklabels(labels=labels, rotation=120)\nax[1].legend(loc='upper right');","99903d00":"topic_order = data['Topic'].value_counts().index","d2bad796":"fig, ax = plt.subplots(2,2, figsize=(12,8))\nsns.countplot(data.query('PlaceofBirth==\"KuwaIT\"')['Topic'], ax=ax[0,0], order=topic_order, palette='coolwarm')\nsns.countplot(data.query('PlaceofBirth==\"Jordan\"')['Topic'], ax=ax[0,1], order=topic_order, palette='coolwarm')\nsns.countplot(data.query('PlaceofBirth==\"Iraq\"')['Topic'], ax=ax[1,0], order=topic_order, palette='coolwarm')\nsns.countplot(data.query('PlaceofBirth==\"USA\"')['Topic'], ax=ax[1,1], order=topic_order, palette='coolwarm')\nax[0,0].set_xticklabels(labels=labels, rotation=120)\nax[0,1].set_xticklabels(labels=labels, rotation=120)\nax[1,0].set_xticklabels(labels=labels, rotation=120)\nax[1,1].set_xticklabels(labels=labels, rotation=120)\nax[0,0].set_title('Kuwait')\nax[0,1].set_title('Jordan')\nax[1,0].set_title('Iraq')\nax[1,1].set_title('USA')\nplt.tight_layout();","5f452657":"plt.figure(figsize=(14,8))\nf = sns.countplot('Topic', hue='Class', data=data, palette = 'coolwarm')\nf.set_xticklabels(labels=labels, rotation=120);","ac982346":"fig, ax = plt.subplots(1, 2, figsize=(14,8))\nsns.countplot('Class', data=data, ax=ax[0] , palette ='coolwarm')\nsns.countplot('Class', hue='StudentAbsenceDays', data=data, ax=ax[1] ,  palette ='coolwarm');","16da4c49":"fig, ax = plt.subplots(1,3, figsize=(14,6))\nsns.countplot('SectionID', hue='Class', data=data, ax=ax[0], palette = 'coolwarm')\nsns.countplot('StageID', hue='Class', data=data, ax=ax[1], palette = 'coolwarm')\nsns.countplot('Semester', hue='Class', data=data, ax=ax[2], palette = 'coolwarm');","409ef1c0":"fig, ax = plt.subplots(2, 2, figsize=(14,8))\nsns.barplot(x='Class', y='raisedhands', data=data, ax=ax[0,0], palette = 'coolwarm')\nsns.barplot(x='Class', y='VisITedResources', data=data, ax=ax[0,1], palette = 'coolwarm')\nsns.barplot(x='Class', y='Discussion', data=data, ax=ax[1,0], palette = 'coolwarm')\nsns.barplot(x='Class', y='AnnouncementsView', data=data, ax=ax[1,1], palette = 'coolwarm')\nplt.tight_layout();","d5982b7a":"data[\"gender\"]=data[\"gender\"].astype('category')\ndata[\"gender\"]=data[\"gender\"].cat.codes","64fe693e":"data[\"GradeID\"]=data[\"GradeID\"].astype('category')\ndata[\"GradeID\"]=data[\"GradeID\"].cat.codes","653bdd5d":"data[\"StageID\"]=data[\"StageID\"].astype('category')\ndata[\"StageID\"]=data[\"StageID\"].cat.codes","d5fc5a9b":"data[\"StudentAbsenceDays\"]=data[\"StudentAbsenceDays\"].astype('category')\ndata[\"StudentAbsenceDays\"]=data[\"StudentAbsenceDays\"].cat.codes","bdb96869":"data[\"ParentschoolSatisfaction\"]=data[\"ParentschoolSatisfaction\"].astype('category')\ndata[\"ParentschoolSatisfaction\"]=data[\"ParentschoolSatisfaction\"].cat.codes","d20994df":"data[\"Relation\"]=data[\"Relation\"].astype('category')\ndata[\"Relation\"]=data[\"Relation\"].cat.codes","edaaf84a":"data[\"ParentAnsweringSurvey\"]=data[\"ParentAnsweringSurvey\"].astype('category')\ndata[\"ParentAnsweringSurvey\"]=data[\"ParentAnsweringSurvey\"].cat.codes","c4988223":"data[\"PlaceofBirth\"]=data[\"PlaceofBirth\"].astype('category')\ndata[\"PlaceofBirth\"]=data[\"PlaceofBirth\"].cat.codes","1cf70e1a":"data[\"Semester\"]=data[\"Semester\"].astype('category')\ndata[\"Semester\"]=data[\"Semester\"].cat.codes","738246a9":"data[\"Topic\"]=data[\"Topic\"].astype('category')\ndata[\"Topic\"]=data[\"Topic\"].cat.codes","34964d7c":"data[\"NationalITy\"]=data[\"NationalITy\"].astype('category')\ndata[\"NationalITy\"]=data[\"NationalITy\"].cat.codes","9dc4f1e7":"data[\"SectionID\"]=data[\"SectionID\"].astype('category')\ndata[\"SectionID\"]=data[\"SectionID\"].cat.codes","229b47e0":"data.head()","79fc74e5":"plt.figure(figsize=(18,18))\nsns.heatmap(data.corr(),annot=True,cmap='coolwarm')","ffacd146":"# Correlation matrix","be55afda":"> The dataset is not extremely unbalanced. Although we do have a small dataset so this might still cause some problems with classification later on. Most of our students are from Kuwait or Jordan.","fbff3093":"> we can see that the answering survey is almost equaly distributed among parents","b4a7717e":"# Missing values","f0c2f4b5":"> if we take as a threshold \u00e0.8 (very strong correlation), we can say that the only 2 correlated features are StageID and GradeID","f2858b96":"> According to this plot, most student with Low level don't check frequently the new announcement.","5b0c7b56":"1. Numerical variables","5663907e":"> we can see that the feature PlaceofBirth gives us almost the same informations as the Nationality.","246921c3":"> Most of the students are from middle school. An interesting point to note is that, numbers of male and female students coming from high school are almost comparable.","c524b6a2":"> we can see that the relation with the father is more present than the one with the mother in the collected data","45199dd7":"> It looks like girls performed better than boys on average. Would the amount of visited resources in the online environment influence the final grade?","34d365f1":"> Comparing the median of each boxplot corresponding to one of the three level, we can conclude a direct relation between the student level and number of times he participated on discussion groups.\n","cb539a9a":"> From the above plot, we see that most of the enrollments are from Kuwait and Jordon. Although most of the students come from middle east countries, interestingly there are some enrollments from the united states.\nNext we look at the male to female ratio for each of these countries.","19dbc456":"> Number of times a student raise his hand on classroom has a direct impact on his level. According to this plot, students who raise their hands few times have a Low level, and students who raise thir hands frequently have a high level.","92848bef":"\n3. Plotting categorical variables","55b785ef":"> we can see that the most dominant nationalities are KW and Jordan.as the difference is large between the first and last country, we cant take the nationality as a direct criteria to classify a students performance","3e1b5952":"> This swarm plot shows us that students who received a lower grade (L) visited way fever resources than students that scored a M or H grade. Additionally, girls who received a high mark (H) almost exclusively visited a lot of the online resources than the rest.","c191c696":"> Although IT has maximum number of enrollments, the overall performance of students in this course is poor as compared to others since the number of students with high marks are significantly lower than that with low and average marks. In subjects like biology and chemistry, most of the students have scored high marks. ","6cf3995f":"* Students of section A have shown an overall better performance and very few students from section C have scored high marks.\n* Students coming from middle school have have the highest number of 'middle-level' and 'high-level' grades. In case of high school, these two numbers are almost comparable.\n* There is a decrease in number of 'low-level' grades and a corresponding increase in number of 'high-level' grades in second semester. That means, as students transit from first to second semester, they generally give a better performance.","a47f43fd":"> Chemistry seems to be equally popular among both female and male students. Students enrolled for biology, chemistry and geology are from middle school only.","4110db82":"> So most of the students have enrolled for IT. Interestingly, next popular topics are two languages - French and Arabic.","121c38eb":"> It looks like students's performed a bit better in the second semester ('S') than in the first semester ('F'). Suprisingly, the middle class stays the same but the lower class has less students in the second semester and the higher class has more students. Let's explore gender next.","010fd246":"> the data collected focuses more on grades 2 8 7 4 and 6, and this might influence our prediction","c7e0cc10":"> The number of times a student visits a course content has a direct impact on his class level, according to the plot, students who visit frequently a course content has a high level and most of student with Low level don't visit courses content. \n","741a8433":"* IT has the highest demand in Kuwait (also highest among the four countries shown above).\n* Math is the most popular topic in Jordan.\n* No student from Iraq has taken IT.\n* There is a comparable demand of math, biology and chemistry in USA.","76c17eda":"# Data visualization ","82a0b681":"> we can see that our data is clean as it doesnt contain any missing values","c624a0e4":"> So most of the students belong to 'middle level' with scores in the range 70-89. Students in 'high level' have high attendance rate whereas those in 'low level' have the lowest attendance rate.","c329cc22":"2. Categorical variables","265adc77":"> On average, the number of female students as compared to male students is quite low. In case of Lebanon, number of female enrollment is almost double that of male enrollments and in case of USA, it is slightly higher.","44322c63":"> we can see that the majority of students belong to classroom A then B then C.","650ab6b8":"It is clear from the above plots that students who are more involved in the classroom activities generally score high marks.","a6d7d58f":"> we can see that the data is collected equaly for the first and second semester.","8560e27b":"# Exploratory Data Analysis","068bbedc":"# Label data encoding","ce4f4251":"# loading the data","2e7d9479":"> the majority of our observations concern males"}}