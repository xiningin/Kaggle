{"cell_type":{"e62ea2f8":"code","8a9489c2":"code","fcd469a0":"code","5a913559":"code","26123dcc":"code","f7ae146d":"code","d77f4567":"code","17d3e309":"code","184a20e0":"code","6694724c":"code","3725c647":"code","f78d110f":"code","eaedc6e4":"code","91172f08":"code","ce6fb52c":"code","c1518337":"code","ab51f452":"code","e625cb4c":"code","033e48ae":"code","9bb8a934":"code","8f9c1573":"code","47201316":"code","dc8b405e":"code","20244846":"code","a5963d07":"code","cd1d9d53":"code","146e0c6b":"code","ee912b1d":"code","594965da":"code","f1ec7735":"code","39947ff8":"code","abd93b9e":"code","21afa165":"code","d5b39169":"code","04fde661":"code","9f382975":"code","b474dfcf":"code","7bd70fad":"markdown","68fc4f7c":"markdown","3672de79":"markdown","6cc58222":"markdown","ba98906a":"markdown","3dbbd926":"markdown","833d360c":"markdown","28641061":"markdown","ee7c9728":"markdown","ca0e45fc":"markdown","ee0406f2":"markdown","8039d31f":"markdown","99b1088a":"markdown","8dc59577":"markdown","03ff1afc":"markdown","aa61fa95":"markdown","e0b26c5d":"markdown","60fb7d93":"markdown","34ef759d":"markdown","5516066d":"markdown","f91ad1fb":"markdown","97fa36ab":"markdown","7d9e7e04":"markdown","248efa44":"markdown"},"source":{"e62ea2f8":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n#Importing required libraries for this analysis\nimport os;\nimport warnings\nwarnings.filterwarnings('ignore')\n#Checking current working directory is the same as all thye files are kept\nos.getcwd()","8a9489c2":"#Loading companies and rounds data into two dataframes\ncompanies = pd.read_csv(\"..\/input\/companies.txt\", sep = '\\t', encoding = \"ISO-8859-1\")\nrounds2 = pd.read_csv(\"..\/input\/rounds2.csv\", encoding = \"ISO-8859-1\")\nmapping = pd.read_csv(\"..\/input\/mapping.csv\")","fcd469a0":"#Checking if the dataframes are imported properly\ncompanies.tail(10)","5a913559":"rounds2.tail(10)","26123dcc":"print(companies.columns)\nprint(rounds2.columns)","f7ae146d":"#Removing Special Characters in both dataframes\ncompanies.permalink = companies.permalink.str.encode('utf-8').str.decode('ascii', 'ignore')\ncompanies.name = companies.name.str.encode('utf-8').str.decode('ascii', 'ignore')\nrounds2.company_permalink = rounds2.company_permalink.str.encode('utf-8').str.decode('ascii', 'ignore')\nrounds2.funding_round_permalink = rounds2.funding_round_permalink.str.encode('utf-8').str.decode('ascii', 'ignore')\n\ncompanies.permalink = companies.permalink.str.lower()\ncompanies.name = companies.name.str.lower()\nrounds2.company_permalink = rounds2.company_permalink.str.lower()","d77f4567":"rounds2.tail(10)","17d3e309":"companies.tail(10)","184a20e0":"#Performing exploratory data analysis \nrounds2.info()","6694724c":"companies.info()","3725c647":"print(rounds2.describe(), end='\\n\\n*********************************************\\n\\n')\nprint(companies.describe())","f78d110f":"#Print the counts for unique companies in rounds2 and companies\nprint(\"Number of Unique Companies from rounds2: {0}\".format(rounds2.company_permalink.nunique()))\nprint(\"Number of Unique Companies from companies: {0}\".format(companies.permalink.nunique()))","eaedc6e4":"#To check if companies in 'rounds2' dataframe are present in 'companies' dataframe\nn = rounds2.assign(Incompanies = rounds2.company_permalink.isin(companies.permalink).astype(int))\nlen(n[n.Incompanies == 0])","91172f08":"#Merging the two dataframes rounds2 and companies \n #Find total rows in master_frame\nmaster_frame = pd.merge(left=rounds2,right=companies, how='outer', left_on='company_permalink', right_on='permalink')\nprint(master_frame.info(), end = '\\n\\n\\n\\n\\n')\nprint(master_frame.describe())","ce6fb52c":"master_frame.head(3)","c1518337":"#Dropping permalink from master_frame as company_permalink has same values\nmaster_frame.drop(['permalink'], axis = 1, inplace = True)\nprint(\"List of Columns in Master_Frame: {0}\".format(master_frame.columns))","ab51f452":"#Derive unique funding round types in given data.\n#master_frame[['funding_round_type','raised_amount_usd']]\nround_types = master_frame['funding_round_type'].unique().tolist()\nround_types","e625cb4c":"#Checking if filter for raised_amount_usd.isnull() returns any rows \nmaster_frame[master_frame['raised_amount_usd'].isnull()].head()","033e48ae":"#Imputing null values\nmaster_frame[\"raised_amount_usd\"] = master_frame.groupby(\"funding_round_type\").transform(lambda x: x.fillna(x.mean()))","9bb8a934":"#To check if null values are still present for raised_amount_usd column \nmaster_frame[master_frame['raised_amount_usd'].isnull()]","8f9c1573":"#Find out average raised amount for each funding_round_type\npd.set_option('display.float_format', lambda x: '%.2f' % x)\nround_type_avg = master_frame.groupby('funding_round_type').mean().round(2)\nround_type_avg","47201316":"region = master_frame[master_frame.country_code.isnull()]['region'].unique().tolist()\nregion","dc8b405e":"#Keeping the rows where country_code value is not null\nmaster_frame = master_frame[master_frame.country_code.notnull()]\n\n#Since we are focusing on ventures only filtering dataframe for same\nmaster_frame[master_frame.funding_round_type == \"venture\"][['raised_amount_usd', 'country_code']].head(5)","20244846":"top9 = master_frame[master_frame.funding_round_type == \"venture\"].groupby('country_code').sum().reset_index().sort_values(by= 'raised_amount_usd', ascending=False)\ntop9 = top9.head(9).reset_index(drop = True)\ntop9 = top9.rename(index=str, columns={\"country_code\": \"country\", \"raised_amount_usd\": \"total_funding_raised\"})","a5963d07":"#Print top9\ntop9","cd1d9d53":"#In order to find top english speaking countries lets map them as \"English\/Non-English\".\nlng_dict = {\n  \"USA\": \"English\",\n  \"CHN\": \"Non-English\",\n  \"GBR\": \"English\",\n  \"IND\": \"English\",\n  \"CAN\": \"English\",\n  \"DEU\": \"Non-English\",\n  \"ISR\": \"Non-English\",\n  \"FRA\": \"Non-English\",\n  \"JPN\": \"Non-English\",\n  \"NLD\": \"Non-English\"\n}\ntop9['Language'] = top9['country'].map(lng_dict)","146e0c6b":"#Converting Values in Millions\ntop9.total_funding_raised = top9.total_funding_raised\/1000000\ntop9","ee912b1d":"mapping.head()","594965da":"x = mapping.set_index('category_list',inplace=False).stack()\nx = x[x!=0].to_frame().reset_index()\nx.drop([0], axis = 1, inplace = True)\nx = x.rename(index=str, columns={\"category_list\": \"Category\", \"level_1\": \"main_sector\"})\n\n\nx.Category = x.Category.str.replace('0', 'na',regex=False)\nx.head()","f1ec7735":"master_frame['primary_sector'] = master_frame['category_list'].str.split(pat= \"|\", expand=True)[0]\nmaster_frame.head(3)","39947ff8":"mapping.category_list = mapping.category_list.str.replace('0', 'na',regex=False)\n\nmaster_frame = pd.merge(left=master_frame,right=x, how='left', left_on='primary_sector', right_on='Category')","abd93b9e":"#Creating Dataframe D1\nD1 = master_frame[(master_frame.country_code == \"USA\") & (master_frame.funding_round_type == \"venture\") &\n                                                     (master_frame.raised_amount_usd >= 5000000) & \n                                                     (master_frame.raised_amount_usd <= 15000000)].reset_index(drop = True)\n\nD1['count_of_investments'] = D1['main_sector'].groupby(D1['main_sector']).transform('count')\nD1['total_amt_invested'] = D1['raised_amount_usd'].groupby(D1['main_sector']).transform('sum')\nD1.head(3)","21afa165":"#Total number of Investments in Country1\nprint(D1.company_permalink.count())\n\n#Total amount of investmemts in Country1\nprint(D1.raised_amount_usd.sum(), end='\\n\\n********************************************\\n\\n')\n\n#Top Sector name (no. of investment-wise) for Country1\nprint(D1.groupby('main_sector')['company_permalink'].count().reset_index().sort_values(by= 'company_permalink', ascending=False))\n\nprint(end = '\\n\\n*******************************************************************************************\\n\\n')\n\n#For point 3 (top sector count-wise), which company received the highest investment?\nprint(D1[D1.main_sector == \"Others\"].groupby(['company_permalink','name'])[['raised_amount_usd']].\n                    sum().reset_index().sort_values(by = 'raised_amount_usd', ascending = False).iloc[[0]])\n\nprint(end = '\\n\\n********************************************************************************************\\n\\n')\n\n#For point 4 (second best sector count-wise), which company received the highest investment?\nprint(D1[D1.main_sector == \"Social, Finance, Analytics, Advertising\"].groupby(['company_permalink','name'])[['raised_amount_usd']].\n                sum().reset_index().sort_values(by = 'raised_amount_usd', ascending = False).iloc[[0]])","d5b39169":"#Creating Dataframe D2\nD2 = master_frame[(master_frame.country_code == \"GBR\") & (master_frame.funding_round_type == \"venture\") &\n                                                     (master_frame.raised_amount_usd >= 5000000) & \n                                                     (master_frame.raised_amount_usd <= 15000000)].reset_index(drop = True)\n\nD2['count_of_investments'] = D2['main_sector'].groupby(D2['main_sector']).transform('count')\nD2['total_amt_invested'] = D2['raised_amount_usd'].groupby(D2['main_sector']).transform('sum')\nD2.head(3)","04fde661":"#Total number of Investments in Country2\nprint(D2.company_permalink.count())\n\n#Total amount of investmemts in Country2\nprint(D2.raised_amount_usd.sum(), end='\\n\\n********************************************\\n\\n')\n\n#Top Sector name (no. of investment-wise) for Country2\nprint(D2.groupby('main_sector')['company_permalink'].count().reset_index().sort_values(by= 'company_permalink', ascending=False))\n\nprint(end = '\\n\\n*******************************************************************************************\\n\\n')\n\n#For point 3 (top sector count-wise), which company received the highest investment?\nprint(D2[D2.main_sector == \"Others\"].groupby(['company_permalink','name'])[['raised_amount_usd']].\n                    sum().reset_index().sort_values(by = 'raised_amount_usd', ascending = False).iloc[[0]])\n\nprint(end = '\\n\\n********************************************************************************************\\n\\n')\n\n#For point 4 (second best sector count-wise), which company received the highest investment?\nprint(D2[D2.main_sector == \"Social, Finance, Analytics, Advertising\"].groupby(['company_permalink','name'])[['raised_amount_usd']].\n                sum().reset_index().sort_values(by = 'raised_amount_usd', ascending = False).iloc[[0]])","9f382975":"#Creating Dataframe D3\nD3 = master_frame[(master_frame.country_code == \"IND\") & (master_frame.funding_round_type == \"venture\") &\n                                                     (master_frame.raised_amount_usd >= 5000000) & \n                                                     (master_frame.raised_amount_usd <= 15000000)].reset_index(drop = True)\n\nD3['count_of_investments'] = D3['main_sector'].groupby(D3['main_sector']).transform('count')\nD3['total_amt_invested'] = D3['raised_amount_usd'].groupby(D3['main_sector']).transform('sum')\nD3.head(3)","b474dfcf":"#Total number of Investments in Country3\nprint(D3.company_permalink.count())\n\n#Total amount of investmemts in Country3\nprint(D3.raised_amount_usd.sum(), end='\\n\\n********************************************\\n\\n')\n\n#Top Sector name (no. of investment-wise) for Country3\nprint(D3.groupby('main_sector')['company_permalink'].count().reset_index().sort_values(by= 'company_permalink', ascending=False))\n\nprint(end = '\\n\\n*******************************************************************************************\\n\\n')\n\n#For point 3 (top sector count-wise), which company received the highest investment?\nprint(D3[D3.main_sector == \"Others\"].groupby(['company_permalink','name'])[['raised_amount_usd']].\n                     sum().reset_index().sort_values(by = 'raised_amount_usd', ascending = False).iloc[[0]])\n\nprint(end = '\\n\\n********************************************************************************************\\n\\n')\n\n#For point 4 (second best sector count-wise), which company received the highest investment?\nprint(D3[D3.main_sector == \"Social, Finance, Analytics, Advertising\"].groupby(['company_permalink','name'])[['raised_amount_usd']].\n                sum().reset_index().sort_values(by = 'raised_amount_usd', ascending = False).iloc[[0]])","7bd70fad":"## CheckPoint 5 - Sector Analysis 2\n\n### Now we have a data frame with each company\u2019s main sector (main_sector) mapped to it. When we say sector analysis, we refer to one of the eight main sectors.\n\n### Also, we know the top three English speaking countries and the most suitable funding type for thye Company. Let\u2019s call the three countries 'Country 1', 'Country 2' and 'Country 3' and the funding type 'FT'.\n\n### Also, the range of funding preferred by Spark Funds is 5 to 15 million USD.\n\n### Now, the aim is to find out the most heavily invested main sectors in each of the three countries (for funding type FT and investments range of 5-15 M USD).\n\n### We will create three separate data frames D1, D2 and D3 for each of the three countries containing the observations of funding type FT falling within the 5-15 million USD range. The three data frames should contain:\n\n###  1. All the columns of the master_frame along with the primary sector and the main sector\n\n###  2. The total number (or count) of investments for each main sector in a separate column\n\n###  3. The total amount invested in each main sector in a separate column Using the three data frames, you can calculate the total number and amount of investments in each main sector.","68fc4f7c":"### It has been noticed that there are some <code>primary_sectors<\/code> for which we could not find <code>main_sector<\/code> through mapping file. After an investigation, it has been observed that there are some categories which are misspelled in the mapping file. \n### Basically many categories which contain \"na\" in their name are replaced with \"0\". in order to deal with this, we are going to replace 0's with 'na'\n### #print(master_frame[master_frame.main_sector.isnull()]['primary_sector'].unique().tolist())","3672de79":"### 'region' seemed to be closest solution to derive country_code. But region is also missing for all the rows wherever country_code is missing. Hence, We decide to drop these rows.","6cc58222":"## Checkpoint 6: Plots\n### As a final step, we have to present our findings to the CEO of the Company -\n\n### 1. A plot showing the fraction of total investments (globally) in venture, seed, and private equity, and the average amount of investment in each funding type. This chart should make it clear that a certain funding type (FT) is best suited for the Company.\n\n### 2. A plot showing the top 9 countries against the total amount of investments of funding type FT. This should make the top 3 countries (Country 1, Country 2, and Country 3) very clear.\n\n### 3. A plot showing the number of investments in the top 3 sectors of the top 3 countries on one chart (for the chosen investment type FT). \n### (These plots were plotted in Tableau).","ba98906a":"## CheckPoint 3 - Country Analysis\n### This is the second goal of analysis \u2014 country analysis.\n### Now that we know the type of investment suited for Company is Venture, let's narrow down the countries.\n### Company wants to invest in countries with the highest amount of funding for the chosen investment type. This is a part of its broader strategy to invest where most investments are occurring.\n### Company wants to see the top nine countries which have received the highest total funding (across ALL sectors for the chosen investment type) for the chosen investment type, make a data frame named top9 with the top nine countries (based on the total investment amount each country has received).\n\n### Identify the top three English-speaking countries in the data frame top9.","3dbbd926":"## Results for CheckPoint1\/Table 1.1 -\n\n![image.png](attachment:image.png)","833d360c":"### Our Objective is to find country wise analysis of investments. But There are rows in dataframe which have null values in country_code column. So we will try to find out if we can fill null values in country_code from other columns we have.","28641061":"## Results for Table 5.1 -\n\n\n![image.png](attachment:image.png)","ee7c9728":"## Results for Table 2.1 -\n\n![image.png](attachment:image.png)","ca0e45fc":"## 2nd Plot -\n\n![image.png](attachment:image.png)","ee0406f2":"## Results for Table 3.1 -\n\n![image.png](attachment:image.png)","8039d31f":"## CheckPoint 1 - Data Cleaning 1\n\n### Load the companies and rounds data (provided on the previous page) into two data frames and name them companies and rounds2 respectively.\n\n### We will need to handle the encoded data from both dataframes **\"companies\"** and **\"rounds2\"**.","99b1088a":"### For Country 3-","8dc59577":"#### A Management Company wants to make investments in a few companies. Company wants to understand the global trends in investments to take the investment decisions effectively.\n\n**Business and Data Understanding -**\n\n**It has two minor constraints for investments:**\n\n    1. It wants to invest between 5 to 15 million USD per round of investment\n    2. It wants to invest only in English-speaking countries because of the ease of communication with the companies it would invest in\n\n#### *     For our analysis, consider a country to be English speaking only if English is one of the official languages in that country\n\n#### These conditions will give you sufficient information for our initial analysis. Before getting to specific questions, let\u2019s understand the problem and the data first.\n\n**1. What is the strategy?**\nCompany wants to invest where most other investors are investing. This pattern is often observed among early stage startup investors.\n\n**2. What is Company\u2019s business objective?**\n\nThe business objectives and goals of data analysis are pretty straightforward.\n\n**Business objective:** The objective is to identify the best sectors, countries, and a suitable investment type for making investments. The overall strategy is to invest where others are\n                        investing, implying that the 'best' sectors and countries are the ones 'where most investors are investing'.\n\n**Goals of data analysis:** \n\n#### Your goals are divided into three sub-goals:\n\n    1. **Investment type analysis:** Comparing the typical investment amounts in the venture, seed, angel, private equity etc. so that Company can choose the type that is best suited for\n                                     their strategy.\n    2. **Country analysis:** Identifying the countries which have been the most heavily invested in the past. These will be Company's favourites as well.\n    3. **Sector analysis:** Understanding the distribution of investments across the eight main sectors. (Note that we are interested in the eight 'main sectors' provided in the mapping file.\n                            The two files \u2014 companies and rounds2 \u2014 have numerous sub-sector names; hence, you will need to map each sub-sector to its main sector.)","03ff1afc":"### Since there are null values present in raised_amount_usd, we would need to impute these value with proper analog.\n### Here we chose to replace null of raised_amount_usd by average calculated for respective funding_round_type.\n### It is more logical to use this method since overall average may deviate largly from funding_round_type level average.","aa61fa95":"### It has been observed there are special characters in both the dataframes' columns. From \"companies dataframe 'permalink', 'name' columns and from \"rounds2\" dataframe 'company_permalink' and 'funding_round_permalink'.\n### This Still need to be handled.****","e0b26c5d":"## 3rd Plot -\n\n![image.png](attachment:image.png)","60fb7d93":"### For Country 2-","34ef759d":"## 1st Plot -\n\n![image.png](attachment:image.png)","5516066d":"### For Country 1-","f91ad1fb":"## --END--","97fa36ab":"## CheckPont 2 - Funding Type Analysis\n### This is the first of the three goals of data analysis \u2013 investment type analysis.\n\n### The funding types such as seed, venture, angel, etc. depend on the type of the company (startup, corporate, etc.), its stage (early stage startup, funded startup, etc.), the amount of funding (a few million USD to a billion USD), and so on. For example, seed, angel and venture are three common stages of startup funding.\n\n### 1. Seed\/angel funding refers to early-stage startups whereas venture funding occurs after seed or angel stage\/s and involves a relatively higher amount of investment.\n### 2. Private equity type investments are associated with much larger companies and involve much higher investments than venture type. Startups which have grown in scale may also receive private equity funding. This means that if a company has reached the venture stage, it would have already passed through the angel or seed stage\/s.\n\n### Company wants to choose one of these four investment types for each potential investment they will make.","7d9e7e04":"## CheckPoint 4 - Sector Analysis 1\n### This is the third goal of analysis \u2014 sector analysis\n### When we say sector analysis, we refer to one of the eight main sectors (named main_sector) listed in the mapping file (note that \u2018Other\u2019 is one of the eight main sectors). This is to simplify the analysis by grouping the numerous category lists (named \u2018category_list\u2019) in the mapping file. For example, in the mapping file, category_lists such as \u20183D\u2019, \u20183D Printing\u2019, \u20183D Technology\u2019, etc. are mapped to the main sector \u2018Manufacturing\u2019.\n\n### Also, for some companies, the category list is a list of multiple sub-sectors separated by a pipe (vertical bar |). For example, one of the companies\u2019 category_list is Application Platforms|Real Time|Social Network Media.\n\n### We came up with the business rule that the first string before the vertical bar will be considered the primary sector. In the example above, \u2018Application Platforms\u2019 will be considered the primary sector.\n\n### Extract the primary sector of each category list from the category_list column\n\n### Use the mapping file 'mapping.csv' to map each primary sector to one of the eight main sectors (Note that \u2018Others\u2019 is also considered one of the main sectors)","248efa44":"## This assignment is based on use of only basic pandas and numpy functions."}}