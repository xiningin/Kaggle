{"cell_type":{"c3c56945":"code","df2c38c1":"code","2ff429db":"code","855594bc":"code","e64963d6":"code","47f359c4":"code","b1c86a38":"code","e0eea33e":"code","5811083c":"code","006c588a":"code","dcdfe54c":"code","cad2319e":"code","8ecb9fa7":"code","36165530":"code","82e5ac18":"code","c2399564":"code","d982da1e":"markdown","82fa8c35":"markdown"},"source":{"c3c56945":"import numpy as np\nimport pandas as pd\nimport statsmodels.api as sm\nimport seaborn as sns\nfrom scipy import stats\nfrom fbprophet import Prophet\nimport logging\nlogging.getLogger().setLevel(logging.ERROR)\n\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\n# Suppress warnings \nimport warnings\nwarnings.filterwarnings('ignore')","df2c38c1":"df = pd.read_csv('..\/input\/industrial-production-index-in-usa\/INDPRO.csv')\ndf.head()","2ff429db":"df.columns = ['Date', 'IPI']\ndf.head()","855594bc":"df['Date'] = pd.to_datetime(df['Date'])\ndf.set_index ('Date', inplace = True)\ndf.index","e64963d6":"df_new = df['1998-01-01':]\ndf_new.head()","47f359c4":"# to check NAs\ndf_new.info()\ndf_new.isnull().sum()","b1c86a38":"df_new.describe().transpose()","e0eea33e":"f, ax = plt.subplots(figsize = (16,10))\nax.plot(df_new, c = 'r');","5811083c":"df_new.columns","006c588a":"df_new.index","dcdfe54c":"df_new = df_new.reset_index()\ndf_new.columns","cad2319e":"df_new.columns = ['ds', 'y'] \ndf_new.head()","8ecb9fa7":"#periods = 30\n#train_df = df_new[:-periods]","36165530":"m = Prophet()\nm.fit(df_new)\nfuture = m.make_future_dataframe(periods=365)\nforecast = m.predict(future)\nforecast[['ds', 'yhat', 'yhat_lower', 'yhat_upper']].tail()","82e5ac18":"fig1 = m.plot(forecast)\nfig2 = m.plot_components(forecast)","c2399564":"from fbprophet.plot import plot_plotly\nimport plotly.offline as py\npy.init_notebook_mode()\n\nfig = plot_plotly(m, forecast)  # This returns a plotly Figure\npy.iplot(fig)","d982da1e":"Now, we need to define a training set. In order to do that, we will leave out last 30 observations to predict and validate our forecast. And then, we fit the model to the data, and make the forecast!","82fa8c35":"Prophet requires the date column to be named ds and the feature column to be named y:"}}