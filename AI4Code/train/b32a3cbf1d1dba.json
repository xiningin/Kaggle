{"cell_type":{"b7b5f700":"code","8558269d":"code","0d076d94":"code","0901eda2":"code","c707e4a3":"code","6d992861":"code","2e5762c6":"code","9f9e41d1":"code","aabdf032":"code","582a9db6":"code","57a2807f":"code","10a804f0":"code","97571916":"code","a603af92":"code","ad302dc0":"code","5eb7f5e8":"code","718db382":"code","4a01dd5f":"code","14f1d213":"code","e1d3bea4":"code","d49a17dc":"code","6d0be848":"code","6018adb7":"code","2b968316":"code","5ec69aad":"code","de0de375":"code","63baac1f":"code","c46d4b08":"code","1c1bcb71":"code","0df4e63d":"code","8c648862":"code","86d84aee":"code","bbf9d43a":"code","7bbc34fc":"code","b175edcb":"code","5d6901a9":"code","ecab422d":"code","992ba220":"code","5a78d73e":"code","1acc344f":"markdown","b7759c54":"markdown","bd00401a":"markdown","41c8e98a":"markdown","463fd458":"markdown"},"source":{"b7b5f700":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport xgboost as xgb\nfrom sklearn.model_selection import GridSearchCV\nfrom sklearn.metrics import accuracy_score\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","8558269d":"df_train = pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")\ndf_test = pd.read_csv(\"\/kaggle\/input\/titanic\/test.csv\")","0d076d94":"df_train.info()","0901eda2":"df_test.info()","c707e4a3":"df_train.head()","6d992861":"df_test.head()","2e5762c6":"l = [\"Cabin\",\"Name\",\"Ticket\"]\nfor i in l:\n    del df_train[i]\n    del df_test[i]","9f9e41d1":"df_train.head()","aabdf032":"df_train[\"Age\"].fillna(value=df_train[\"Age\"].mean(),inplace=True)\ndf_test[\"Age\"].fillna(value=df_test[\"Age\"].mean(),inplace=True)","582a9db6":"sns.boxplot(y=\"Age\",data=df_train)","57a2807f":"sns.boxplot(y=\"Fare\",data=df_train)","10a804f0":"df_train[df_train[\"Age\"]>df_train[\"Age\"].quantile(0.99)]","97571916":"High_Range_Outlier_Age_Train = df_train[\"Age\"].quantile(0.99)\nLow_Range_Outlier_Age_Train = df_train[\"Age\"].quantile(0.01)\ndf_train.Age[df_train[\"Age\"]>1.005*High_Range_Outlier_Age_Train] = 1.005*High_Range_Outlier_Age_Train\ndf_train.Age[df_train[\"Age\"]<0.8*Low_Range_Outlier_Age_Train] = 0.8*Low_Range_Outlier_Age_Train","a603af92":"High_Range_Outlier_Age_Test = df_test[\"Age\"].quantile(0.99)\nLow_Range_Outlier_Age_Test = df_test[\"Age\"].quantile(0.01)\ndf_test.Age[df_test[\"Age\"]>1.005*High_Range_Outlier_Age_Test] = 1.005*High_Range_Outlier_Age_Test\ndf_test.Age[df_test[\"Age\"]<0.8*Low_Range_Outlier_Age_Test] = 0.8*Low_Range_Outlier_Age_Test","ad302dc0":"df_train[df_train[\"Age\"]>df_train[\"Age\"].quantile(0.99)]","5eb7f5e8":"df_train[df_train.Fare>df_train[\"Fare\"].quantile(0.99)]","718db382":"High_Range_Outlier_Fare_Train = df_train[\"Fare\"].quantile(0.99)\ndf_train.Fare[df_train.Fare>1.05*High_Range_Outlier_Fare_Train] = 1.05*High_Range_Outlier_Fare_Train","4a01dd5f":"High_Range_Outlier_Fare_Test = df_test[\"Fare\"].quantile(0.99)\ndf_test.Fare[df_test.Fare>1.05*High_Range_Outlier_Fare_Test] = 1.05*High_Range_Outlier_Fare_Test","14f1d213":"sns.countplot(x=\"Pclass\",data=df_train)","e1d3bea4":"sns.countplot(x=\"Sex\",data=df_train)","d49a17dc":"sns.countplot(x=\"SibSp\",data=df_train)","6d0be848":"sns.countplot(x=\"Parch\",data=df_train)","6018adb7":"sns.countplot(x=\"Embarked\",data=df_train)","2b968316":"df_train = pd.get_dummies(df_train,columns=[\"Pclass\",\"Sex\",\"SibSp\",\"Parch\",\"Embarked\"],drop_first=True)\ndf_test = pd.get_dummies(df_test,columns=[\"Pclass\",\"Sex\",\"SibSp\",\"Parch\",\"Embarked\"],drop_first=True)","5ec69aad":"df_train.info()","de0de375":"df_train.corr()","63baac1f":"del df_train[\"PassengerId\"]\ndel df_train[\"Age\"]\ndel df_train[\"Parch_2\"]\ndel df_train[\"Parch_3\"]\ndel df_train[\"Parch_4\"]\ndel df_train[\"Parch_5\"]\ndel df_train[\"Parch_6\"]\ndel df_train[\"SibSp_2\"]\ndel df_train[\"SibSp_3\"]\ndel df_train[\"SibSp_4\"]\ndel df_train[\"SibSp_5\"]\ndel df_train[\"SibSp_8\"]\ndel df_train[\"Embarked_Q\"]","c46d4b08":"del df_train[\"Pclass_2\"]","1c1bcb71":"df_test.info()","0df4e63d":"df_test.corr()","8c648862":"passengerID = df_test[\"PassengerId\"]","86d84aee":"del df_test[\"Parch_9\"]","bbf9d43a":"X_train = df_train.loc[:,df_train.columns!=\"Survived\"]\nY_train = df_train[\"Survived\"]\nxgb_classifer = xgb.XGBClassifier(n_estimators=400,learning_rate=0.1,random_state=42,\n                        colsample_bytree=0.8,gamma = 0.2,max_depth = 7,reg_alpha = 1,subsample = 0.8)\nxgb_classifer.fit(X_train,Y_train)","7bbc34fc":"df_test_score = pd.read_csv(\"\/kaggle\/input\/titanic\/gender_submission.csv\")\ndf_test_score.head()","b175edcb":"X_test = df_test[[\"Fare\",\"Pclass_3\",\"Sex_male\",\"SibSp_1\",\"Parch_1\",\"Embarked_S\"]]","5d6901a9":"accuracy_score(Y_train,xgb_classifer.predict(X_train))","ecab422d":"accuracy_score(df_test_score[\"Survived\"],xgb_classifer.predict(X_test))","992ba220":"Submission = pd.DataFrame({'PassengerId': passengerID, \"Survived\": xgb_classifer.predict(X_test)})","5a78d73e":"Submission.to_csv(\"Submission.csv\",index=False)","1acc344f":"# Import Modules","b7759c54":"# EDA Process","bd00401a":"# Accuracy","41c8e98a":"# Submission","463fd458":"# Modelling"}}