{"cell_type":{"1314f825":"code","b42dee2c":"code","755b52f2":"code","1e1f7d2f":"code","7cc4f1df":"code","d202990e":"code","0d5eed9a":"code","8ecbbc15":"code","f3fa0e31":"code","91516fb2":"code","d8de1765":"code","99fe9ba6":"code","fd260251":"code","b629e7e6":"code","b244f9cb":"code","4fafda4e":"code","852703ed":"code","d9824bfd":"code","6bf07652":"code","26718977":"code","a2487232":"code","78ceb3ab":"code","4dbafd3d":"code","d0b32e32":"code","4d12ab61":"code","42cb3707":"code","7b04f8bf":"code","ce6ac36a":"code","fd35c656":"code","5b7e1ebd":"code","9b993fb9":"code","4730a94e":"code","3604011c":"markdown","9ed9bfcb":"markdown","b1286141":"markdown","dac16ca4":"markdown","2f7e24aa":"markdown","fb3b1223":"markdown","bbad851a":"markdown","54cf01cd":"markdown","ee2b861b":"markdown"},"source":{"1314f825":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly as py\nimport cufflinks as cf\nimport plotly.express as px\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)\ncf.go_offline()\nfrom scipy.stats import pearsonr\nimport gc","b42dee2c":"movies_df= pd.read_csv('..\/input\/imdb-extensive-dataset\/IMDb movies.csv')\nmovies_df","755b52f2":"movies_df.isna().sum()","1e1f7d2f":"movies_df.info()","7cc4f1df":"movies_df['year']=movies_df['year'].replace('[TV Movie  ]','', regex=True).astype(int)","d202990e":"def decade(num, divisor):\n    return num - (num%divisor)\ndec=10\nmovies_df['Decade']=movies_df['year'].apply(decade, divisor=dec)","0d5eed9a":"movies_df[\"country\"]=movies_df[\"country\"].str.split(\", \", n = 4, expand = True)","8ecbbc15":"movies_cntry=movies_df.groupby(['country']).agg(Count=('title', 'count'))\nxyz=movies_cntry.sort_values(by='Count', ascending=False).head(25)\nxyz","f3fa0e31":"fig=px.bar(xyz, y='Count',text='Count')\nfig.update_layout(title_text='Top 25 Movie making Countries', title_x=0.5, showlegend=True)\nfig.update_traces(texttemplate='%{text:.2s}', textposition='outside')\nfig.update_layout(uniformtext_minsize=8)\nfig.update_layout(xaxis_tickangle=-45)","91516fb2":"movies_df['worlwide_gross_income']=movies_df['worlwide_gross_income'].replace('[$INRKGBP ]','', regex=True).astype(float)\nmovies_df['year']=movies_df['year'].replace('[TV Movie  ]','', regex=True).astype(int)","d8de1765":"title=movies_df['title']\nworlwide_gross_income=movies_df['worlwide_gross_income']\nyear=movies_df['year']\ntop_money= pd.concat([title, worlwide_gross_income,year], axis='columns', sort=False)\ntop_money","99fe9ba6":"top_money.sort_values(by= 'worlwide_gross_income', ascending = False, inplace = True)\ntoptop_money=top_money.head(25)\ntoptop_money","fd260251":"fig1=px.bar(toptop_money,x='title', y='worlwide_gross_income', text='year')\nfig1.update_layout(title_text='Top 25 Money making Movies Worldwide', title_x=0.5, showlegend=True)\nfig1.update_traces(texttemplate='%{text:.2s}', textposition='outside')\nfig1.update_layout(uniformtext_minsize=8)\nfig1.update_layout(xaxis_tickangle=-45)","b629e7e6":"movies_df['language']=movies_df['language'].str.split(\", \", n = 4, expand = True)","b244f9cb":"lang=movies_df['language']\nlang_money= pd.concat([title, worlwide_gross_income,lang], axis='columns', sort=False)\nlang_money","4fafda4e":"lang_money.sort_values(by= 'worlwide_gross_income', ascending = False, inplace = True)\nlang_money=lang_money.groupby(['language']).sum()\nlang_money1=lang_money.sort_values(by = 'worlwide_gross_income', ascending=False).head(25)\nlang_money1","852703ed":"fig2=px.bar(lang_money1, y='worlwide_gross_income', text='worlwide_gross_income')\nfig2.update_layout(title_text='Worldwide gross income for Each Language', title_x=0.5, showlegend=True)\nfig2.update_traces(texttemplate='%{text:.2s}', textposition='outside')\nfig2.update_layout(uniformtext_minsize=8)\nfig2.update_layout(xaxis_tickangle=-45)","d9824bfd":"movie_languages=movies_df.groupby(['language']).agg( Count = ('language','count'))\nmovie_languages=movie_languages.sort_values(by='Count', ascending=False).head(25)\nmovie_languages","6bf07652":"fig3=px.bar(movie_languages, y='Count',text='Count', title='Top 25 Movie making Languages')\nfig3.update_traces(texttemplate='%{text:.2s}', textposition='outside')\nfig3.update_layout(uniformtext_minsize=8)\nfig3.update_layout(xaxis_tickangle=-45)","26718977":"fig4=px.line(movies_df.groupby('year').size())\nfig4.update_layout(title_text='Total Number of Movies Per Year', title_x=0.5, showlegend=False)","a2487232":"ratings_df=pd.read_csv('..\/input\/imdb-extensive-dataset\/IMDb ratings.csv')\nratings_df","78ceb3ab":"ratings_df.isna().sum()","4dbafd3d":"ratings_df=ratings_df.drop(columns=['allgenders_0age_avg_vote', 'allgenders_0age_votes', 'males_0age_avg_vote', 'males_0age_votes', 'females_0age_avg_vote', 'females_0age_votes'])","d0b32e32":"df=movies_df.set_index('imdb_title_id').join(ratings_df.set_index('imdb_title_id'))\ndf","4d12ab61":"pea=pearsonr(df['weighted_average_vote'], df['mean_vote'])\npea=round(pea[0], 3)\npea","42cb3707":"fig5=px.scatter(df, x='weighted_average_vote', y='mean_vote', trendline='ols')\nfig5.update_layout(title_text='Weighted Average Vote vs. Mean Vote, Corr: 0.928', title_x=0.5)","7b04f8bf":"fig6=px.line(df.groupby('year').sum(), y='total_votes')\nfig6.update_layout(title_text='Total Number of Votes for Movies Each Year', title_x=0.5, showlegend=True)","ce6ac36a":"movie_languages1=df.groupby(['language']).size().sort_values(ascending=False)>=500\nlang_df1 = df.groupby('language').mean().loc[movie_languages1].sort_values(\"weighted_average_vote\", ascending=False)\nlang_df1","fd35c656":"fig7=px.bar(lang_df1, y='weighted_average_vote', text='weighted_average_vote')\nfig7.update_layout(title_text='Average Weighted Rating for Each Language', title_x=0.5, showlegend=True)\nfig7.update_traces(texttemplate='%{text:.2s}', textposition='outside')\nfig7.update_layout(uniformtext_minsize=8)\nfig7.update_layout(xaxis_tickangle=-45)","5b7e1ebd":"fig8=px.scatter(df,  x='weighted_average_vote', y='worlwide_gross_income')\nfig8.update_layout(title_text='Average Weighted Rating vs. Gross income worldwide', title_x=0.5)","9b993fb9":"fig9 = px.scatter(df, x=\"duration\", y=\"weighted_average_vote\")\nfig9.update_layout(title_text='Duration vs Average Rating', title_x=0.5)","4730a94e":"fig10 = px.scatter(df, x=\"duration\", y=\"worlwide_gross_income\")\nfig10.update_layout(title_text='Duration vs Gross income Worldwide', title_x=0.5)","3604011c":"Trying to understand which movie made highest money.","9ed9bfcb":"We can find 'allgenders_0age_avg_vote', 'allgenders_0age_votes', 'males_0age_avg_vote', 'males_0age_votes', 'females_0age_avg_vote', 'females_0age_votes' have a lot of null values, they are droped","b1286141":"English makes highest money followed by Mandarin","dac16ca4":"Importing IMDb movie data","2f7e24aa":"Clearly Marvel leads the way with awesome Avengers movies followed by first 3D movie Avatar.","fb3b1223":"This EDA is done to explore Plotly. If any suggestion for imporvements please comment below. Thank you.","bbad851a":"From IMDb webite weighted average is the best way understand average rating of any movie, henceforth weigthed average is going to be used.","54cf01cd":"USA makes highest number of movies followed by India and UK.","ee2b861b":"Grouping data by countries to find wihich country makes highest number of movies."}}