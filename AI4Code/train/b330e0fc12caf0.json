{"cell_type":{"c03fb614":"code","dc4b5de7":"code","a32c461a":"code","6918cf81":"code","2aeaae76":"code","82341752":"code","84b7de6e":"code","de74dffd":"code","bfe385cd":"code","75e79daa":"code","3d051b95":"code","0ec8dee2":"code","32d7a67c":"code","d9c0ac14":"code","7f064c8d":"code","de8cd2b0":"code","4435428f":"code","31294a39":"code","07100c12":"code","cb64b1ed":"code","ad199ec4":"code","2834a53d":"code","83ee8198":"code","e39618b7":"code","e983c853":"code","860dfb88":"code","306f4559":"markdown","e65ea85c":"markdown","bc209b0f":"markdown","5ca6bfce":"markdown","de165c6f":"markdown"},"source":{"c03fb614":"# !pip install kaggle","dc4b5de7":"import pandas as pd\nimport seaborn as sns\nimport numpy as np\nfrom pandas import DataFrame\nfrom sklearn.model_selection import train_test_split\nfrom sklearn import metrics\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nfrom sklearn.neighbors import KNeighborsRegressor, KNeighborsClassifier\nfrom sklearn.datasets import load_boston\nfrom sklearn.metrics import mean_squared_error\nfrom sklearn.metrics import mean_absolute_error\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","a32c461a":"# from google.colab import files\n\n# uploaded = files.upload()\n\n# for fn in uploaded.keys():\n    # print('User uploaded file \"{name}\" with length {length} bytes'.format(\n        # name=fn, length=len(uploaded[fn])))\n\n## Then move kaggle.json into the folder where the API expects to find it. ##\n# !mkdir -p ~\/.kaggle\/ && mv kaggle.json ~\/.kaggle\/ && chmod 600 ~\/.kaggle\/kaggle.json","6918cf81":"# !kaggle competitions list","2aeaae76":"# !kaggle competitions download -c ventilator-pressure-prediction","82341752":"# dataset = pd.read_csv(r'..\/content\/train.csv.zip')\n# testset = pd.read_csv(r'..\/content\/test.csv.zip')\n# submission = pd.read_csv(r'..\/content\/sample_submission.csv.zip')","84b7de6e":"dataset = pd.read_csv('..\/input\/ventilator-pressure-prediction\/train.csv')\ntestset  = pd.read_csv('..\/input\/ventilator-pressure-prediction\/test.csv')\nsubmission = pd.read_csv('..\/input\/ventilator-pressure-prediction\/sample_submission.csv')","de74dffd":"dataset.shape, testset.shape, submission.shape","bfe385cd":"dataset","75e79daa":"dataset.describe()","3d051b95":"testset","0ec8dee2":"testset.describe()","32d7a67c":"label = dataset.iloc[0: , 7]     # 0:id 1:breath_id 2:R 3:C 4:time_step 5:u_in 6:u_out 7:pressure\ndata = dataset.iloc[0: , [0, 1, 2, 3, 4, 5, 6, 7]]\ntestdat = testset.iloc[0: , [0, 1, 2, 3, 4, 5, 6]]\ntestdat.insert(len(testdat.columns), 'pressure', 0)\nx = [data, testdat]\n\ndata = (data.fillna(0)) #filling NA values\nprint(data)\ntestdat = testdat.fillna(0)\nprint(testdat)","d9c0ac14":"train_data, test_data, train_labels, test_labels = train_test_split(data, label, random_state = 7, train_size = 0.7)","7f064c8d":"train_data","de8cd2b0":"test_data","4435428f":"train_labels","31294a39":"test_labels","07100c12":"# clf = KNeighborsClassifier()\nclf = KNeighborsRegressor()\nclf.fit(train_data, train_labels)","cb64b1ed":"predictions = clf.predict(test_data)","ad199ec4":"# from sklearn.metrics import accuracy_score\n# print(accuracy_score(test_labels, predictions))","2834a53d":"result = clf.predict(testdat)","83ee8198":"print(result)","e39618b7":"index = [dataset['pressure']]\ndf = pd.DataFrame(data = result, index = testdat['id'], columns = ['pressure'])\ndf.to_csv('.\/submission.csv', header=True)\nprint('.\/submission.csv')","e983c853":"df","860dfb88":"# !kaggle competitions submit -c ventilator-pressure-prediction -f submission.csv -m \"Message\"","306f4559":"## Export","e65ea85c":"## Prediction","bc209b0f":"## Libraries","5ca6bfce":"## kNN","de165c6f":"## Load Data"}}