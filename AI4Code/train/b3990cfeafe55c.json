{"cell_type":{"a918f1c9":"code","a9a8574d":"code","21733314":"code","b85a2115":"code","e9da891f":"code","e98e21e8":"code","00d13d88":"code","55d11670":"code","35380952":"code","9963adbe":"code","c3dc50bc":"code","85293326":"code","c1090a99":"code","70ec6c08":"code","b6b8e9dc":"code","4c89e296":"code","d2af988a":"code","c16fe41c":"code","d5528133":"code","d1b5c7f7":"code","2454078f":"code","fb0aecc1":"code","406ce966":"code","524156bb":"code","b70fcf1e":"markdown","75557cb2":"markdown","6c35cae9":"markdown","88478961":"markdown","bfde6e3d":"markdown","43dd9384":"markdown","8f36552d":"markdown","0f5cf9d6":"markdown","850ddb14":"markdown","c7cc5659":"markdown"},"source":{"a918f1c9":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport matplotlib.patches as mpatches\nimport seaborn as sns\n%matplotlib inline\n\nfrom subprocess import check_output\nprint(check_output([\"ls\", \"..\/input\"]).decode(\"utf8\"))\n\n","a9a8574d":"crops_prod_data = pd.read_csv(\"..\/input\/datafile.csv\",index_col='Crop')\nprint(crops_prod_data.info())","21733314":"print(crops_prod_data)","b85a2115":"crops_prod_data = crops_prod_data.dropna()\nprint(crops_prod_data)","e9da891f":"# plots for crops\ncrops_prod_data.loc['Rice',:].plot()\ncrops_prod_data.loc['Milk',:].plot()\ncrops_prod_data.loc['All Agriculture',:].plot()\nplt.legend(loc='upper left')","e98e21e8":"print(crops_prod_data.index)","00d13d88":"print(crops_prod_data.T)","55d11670":"fig_size = plt.rcParams[\"figure.figsize\"]\n \nprint(\"Current size:\", fig_size)\nfig_size[0] = 12\nfig_size[1] = 9\nplt.rcParams[\"figure.figsize\"] = fig_size\ncrops_prod_data.T.plot(subplots=True,layout=(3,4))\nplt.xticks(rotation=45)\nplt.tight_layout()\n","35380952":"cultivation_data = pd.read_csv(\"..\/input\/datafile (1).csv\")\nprint(cultivation_data.info())","9963adbe":"print(cultivation_data.head())\nprint(cultivation_data.columns)","c3dc50bc":"cultivation_data['Per Hectare Cost Price'] = cultivation_data['Cost of Production (`\/Quintal) C2'] * cultivation_data['Yield (Quintal\/ Hectare) ']\ncultivation_data['Cost of cultivation per hectare'] = cultivation_data['Cost of Cultivation (`\/Hectare) A2+FL'] + cultivation_data['Cost of Cultivation (`\/Hectare) C2']\ncultivation_data['Yield in Kg per hectare'] = cultivation_data['Yield (Quintal\/ Hectare) '] * 100\nprint(cultivation_data.head())","85293326":"print(cultivation_data.T.head())","c1090a99":"print(cultivation_data.Crop.value_counts())","70ec6c08":"print(cultivation_data.columns)\ncolumns = ['Crop','State','Yield (Quintal\/ Hectare) ']\nnew_data = cultivation_data[columns]\ntable = new_data.pivot('Crop','State','Yield (Quintal\/ Hectare) ')\ntable = table.fillna(0)\ntable.plot(kind='bar',stacked=True,colormap='Paired')\nplt.ylabel('Yield (Quintal\/ Hectare)')\n","b6b8e9dc":"table.T.plot(kind='bar',stacked=True)\nplt.ylabel('Yield (Quintal\/ Hectare) ')\nplt.legend(loc='best')","4c89e296":"columns = ['Crop','State','Yield in Kg per hectare']\nnew_data = cultivation_data[columns]\ntable = new_data.pivot('Crop','State','Yield in Kg per hectare')\ntable = table.fillna(0)\nax = table.T.plot(kind='bar',stacked=True)\nlabels = []\nfor j in table.T.columns:\n    for i in table.T.index:\n        label = round((int(table.T.loc[i][j])),1)\n        labels.append(label)\n\npatches = ax.patches\n\nfor label, rect in zip(labels, patches):\n    width = rect.get_width()\n    if width > 0:\n        x = rect.get_x()\n        y = rect.get_y()\n        height = rect.get_height()\n        ax.text(x + width\/2.,y + height\/2.,label, ha='center',va='center')\n\nplt.ylabel('Yield (Kg\/ Hectare)')\nplt.legend(loc='best')","d2af988a":"columns = ['Crop','State','Per Hectare Cost Price']\nnew_data = cultivation_data[columns]\ntable = new_data.pivot('Crop','State','Per Hectare Cost Price')\ntable = table.fillna(0)\nax = table.T.plot(kind='bar',stacked=True)\nlabels = []\nfor j in table.T.columns:\n    for i in table.T.index:\n        label = round((int(table.T.loc[i][j])\/10000),1)\n        labels.append(label)\n\npatches = ax.patches\n\nfor label, rect in zip(labels, patches):\n    width = rect.get_width()\n    if width > 0:\n        x = rect.get_x()\n        y = rect.get_y()\n        height = rect.get_height()\n        ax.text(x + width\/2.,y + height\/2.,label, ha='center',va='center')\n\nplt.ylabel('Per Hectare Cost Price')\n","c16fe41c":"columns = ['Crop','State','Cost of cultivation per hectare']\nnew_data = cultivation_data[columns]\ntable = new_data.pivot('Crop','State','Cost of cultivation per hectare')\ntable = table.fillna(0)\nax = table.T.plot(kind='bar',stacked=True)\n\nlabels = []\nfor j in table.T.columns:\n    for i in table.T.index:\n        label = round((int(table.T.loc[i][j])\/10000),1)\n        labels.append(label)\n\npatches = ax.patches\n\nfor label, rect in zip(labels, patches):\n    width = rect.get_width()\n#    if width > 0:\n    x = rect.get_x()\n    y = rect.get_y()\n    height = rect.get_height()\n    ax.text(x + width\/2.,y + height\/2.,label,ha='center', va='center')\n    \nplt.ylabel('Cost of cultivation per hectare')\n","d5528133":"crop_data = pd.read_csv(\"..\/input\/datafile (2).csv\")\nprint(crop_data.info())","d1b5c7f7":"print(crop_data.columns)","2454078f":"crop_data['Crop'] = crop_data['Crop             ']\ndel crop_data['Crop             ']\nprint(crop_data.columns)","fb0aecc1":"columns = ['Crop','Production 2006-07', 'Production 2007-08', 'Production 2008-09','Production 2009-10', 'Production 2010-11']\ncolumns2 = ['Crop','Area 2006-07', 'Area 2007-08', 'Area 2008-09','Area 2009-10', 'Area 2010-11']\ncolumns3 = ['Crop','Yield 2006-07', 'Yield 2007-08', 'Yield 2008-09','Yield 2009-10', 'Yield 2010-11']\nproduction = crop_data[columns]\narea = crop_data[columns2]\nyd = crop_data[columns3]\nprint(production.head())\nproduction.index = production['Crop']\narea.index = area['Crop']\nyd.index = yd['Crop']\ndel production['Crop']\ndel area['Crop']\ndel yd['Crop']","406ce966":"print(production.T.columns)","524156bb":"fig_size = plt.rcParams[\"figure.figsize\"]\n \n# Prints: current size\nprint(\"Current size:\", fig_size)\nfig_size[0] = 18\nfig_size[1] = 18\nplt.rcParams[\"figure.figsize\"] = fig_size\ni=0\nax = production.T.plot(subplots=True,layout=(11,5),color='red',label='Production',legend=False)\nfor a in ax.flat:\n    a.set_title(production.index[i])\n    i += 1\nax1 = area.T.plot(subplots=True,layout=(11,5),ax=ax, linestyle=':',marker='.',color='blue',legend=False)\nax2 = yd.T.plot(subplots=True,layout=(11,5),ax=ax, linestyle='--',marker=\"*\",color='green',legend=False)\nlabels = ['Production','Area','Yield']\nplt.xticks(np.arange(5),('2006-07','2007-08','2008-09','2009-10','2010-11'))\nplt.legend(labels=labels,loc='upper center', bbox_to_anchor=(-0.5, -0.5),  shadow=True, ncol=3, fontsize = 'xx-large')\n\nplt.tight_layout()\n","b70fcf1e":"The above plot makes more sense than the previous plot. Now you can see Andra Pradesh has data on maximum number of crops and Tamil Nadu has maximum yield of Sugarcane.","75557cb2":"In this plot we added values of yield as kg\/Hectare. This information helps us to compare yield of different crops across different states. Due to large number of values, the plot is not formatted well.","6c35cae9":"You can see how Rice production has decreased in comparision to all agriculture","88478961":"The above plot helps us to compare cost of cultivation of different crops across different states. For formatting reasons, cost values are added as factors (actual value\/10000 rounded to one digit). You can clearly see Karnataka has lowest cost of cultivation for Groundnut.","bfde6e3d":"This bar chart provides information of yield of different crops. As yield of different crops vary a lot, sugarcane yield (Quintal\/ Hectare) is much more as compared to other crops so it makes this plot much less informative. We will make this plot state wise to make it more informative.","43dd9384":"As you can see Crop column name is having lot of space so it needs to be formatted","8f36552d":"The above plot helps us to compare per hectare cost of different crops across different states. For formatting reasons, cost values are added as factors (actual value\/10000 rounded to one digit). You can clearly see Uttar pradesh has lowest per hectare cost for sugarcane but it has lowest yield as well (infering from previous plot).","0f5cf9d6":"You can see from plots. Milk has exponential increase in production from 2008-09 to 2010-11. Rice, wheat, vegetables and pulses had steep decline in production from 2010-11 to 2011-12. Overall for all agriculture the production has increased from 2004-05 to 2011-12.","850ddb14":"As there is data available on three different attributes (Production, Area and Yield). We divide our dataframe into three different dataframes, setting Crop column as index in each one.","c7cc5659":"This dataset  contains production growth data for different crops in India from 2004-05 to 2011-12"}}