{"cell_type":{"4d0848f2":"code","fcd61f1e":"code","0142a1fa":"code","eeaeede6":"code","aed94a2c":"code","dd23e203":"code","a1af05de":"code","fcb3ac0c":"code","19e9828f":"code","38313c91":"code","2ffcd701":"code","c8369b3d":"code","5ef0ed07":"code","fcdd3986":"code","7876ae49":"code","d132df8b":"code","f63b093e":"code","c19c6c5e":"code","7ef3cb26":"code","6ba1101b":"code","c9d7ff5c":"code","93517b85":"code","3f633c21":"markdown","57570582":"markdown","e593e863":"markdown","9de9bc7e":"markdown","a814b979":"markdown","99d55a6a":"markdown","abafbb27":"markdown","0c121d41":"markdown","2982e623":"markdown","a197166f":"markdown","647a2c66":"markdown","23ad22f8":"markdown","ca7589dc":"markdown","87a6080d":"markdown","51974b8b":"markdown"},"source":{"4d0848f2":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nfrom collections import Counter\n# plotly\nimport plotly.plotly as py\nfrom plotly.offline import init_notebook_mode, iplot\ninit_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport seaborn as sns\n# word cloud library\nfrom wordcloud import WordCloud\nimport matplotlib.pyplot as plt\nimport datetime as dt\n\n# matplotlib\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","fcd61f1e":"data = pd.read_csv('..\/input\/planecrashinfo_20181121001952.csv')\ndata.info()\n\n","0142a1fa":"data.head()","eeaeede6":"date = []\nfor each in data.date:\n    x = pd.to_datetime(each)\n    date.append(x)\n    \ndata.date = date\n","aed94a2c":"seperate = data.aboard.str.split()\na,b,c = zip(*seperate)\nseperate = data.fatalities.str.split()\nd,e,f = zip(*seperate)\ndata.aboard = a\ndata.fatalities = d\n","dd23e203":"#data.dropna(inplace = True)\ndata.aboard.replace(['?'],0,inplace = True)\ndata.ac_type.replace(['?'],'a b',inplace = True)\ndata.fatalities.replace(['?'],0,inplace = True)","a1af05de":"data.aboard = data.aboard.astype(float)\ndata.fatalities = data.fatalities.astype(float)","fcb3ac0c":"data.head()","19e9828f":"sum_fatalities = []\nsum_aboard = []\nyear = data.date.dt.year.unique()\nfor each in year:\n    x = sum(data.fatalities[data.date.dt.year==each])\n    y = sum(data.aboard[data.date.dt.year==each])\n    sum_fatalities.append(x)\n    sum_aboard.append(y)\n    ","38313c91":"trace1 = go.Bar(\n    x = year,\n    y = sum_fatalities,\n    marker = dict(color = 'blue'),\n    name = 'death :'\n    )\ntrace2 = go.Scatter(\n    x = year,\n    y = sum_aboard,\n    mode = 'markers+lines',\n    marker = dict(color = 'red'),\n    name = 'aboard :'\n    )\nlayout = dict(title = 'DEATHS AND ABOARD',\n              xaxis= dict(title= 'YEAR',ticklen= 15,zeroline= False),yaxis = dict(title = 'NUMBERS',ticklen= 15,zeroline= False))\ndata1 = [trace1,trace2]\nfig = dict(data=data1,layout=layout)\niplot(fig)","2ffcd701":"data['time'].replace(['?'],'00:00',inplace = True)\nimport re\ntime = []\nfor each in data.time:\n    x = re.sub('[^0-9]','',each)\n    x = re.sub(' ','',x)\n    if len(x)!=4:\n        x = '0000'\n    a = list(x)\n    a.insert(2,':')\n    a = ''.join(a)\n    time.append(a)\n   \ndata['time'] = time\n","c8369b3d":"sep = data.ac_type.str.split() \nbrand = []\nfor each in sep:\n  \n    brand.append( each[0])\ndata.ac_type = brand","5ef0ed07":"data['death_rate'] = data.fatalities\/data.aboard\n\n\ndata['dead_or_alive'] = ['alive' if each<0.5 else 'dead' for each in data.death_rate]\n\ndata.head()","fcdd3986":"x = Counter(data.ac_type)\n\ny = x.most_common(7)\n\na,b = zip(*y)\n\ntrace1 = go.Pie(\n    values = b,\n    labels = a)\n\ndata2 = [trace1]\n\nlayout = dict(title = 'TOP 7 DEADLIEST AIRCRAFTS IN HISTORY')\n\nfig = dict(data = data2,layout = layout)\n\niplot(fig)","7876ae49":"a = Counter(data.ac_type)\n\nb = a.most_common(5)\n\nx,y = zip(*b)\n\na = data[data.ac_type==x[0]]\n\nb = data[data.ac_type==x[1]]\n\nc = data[data.ac_type==x[2]]\n\nd = data[data.ac_type==x[3]]\n\ne = data[data.ac_type==x[4]]\n\ndata1 = pd.concat([a,b,c,d,e],axis=0)","d132df8b":"plt.figure(figsize=(10,10))\n\nsns.swarmplot(data1.ac_type,data1.date.dt.year,hue=data.dead_or_alive)","f63b093e":"len(data)","c19c6c5e":"a = data[data.time == '00:00'].index\ndata.drop(a,inplace = True)\n","7ef3cb26":"a = pd.to_datetime(data.time)\n\nb = a.dt.hour.values\n\ndata['time'] = b\n\nlen(data)","6ba1101b":"data.head()","c9d7ff5c":"trace1 = go.Histogram(\n    x = data.time,\n    opacity = 0.5,\n    marker = dict(color = 'blue'))\nlayout = dict(title = 'AC-CRASHES PER HOUR',xaxis = dict(title = 'HOURS'),yaxis = dict(title = 'CRASH NUMBER'))\ndat = [trace1]\nfig = {'data':dat,'layout':layout}\niplot(fig)","93517b85":"plt.figure(figsize=(10,10))\n\ndata.groupby(data.time).death_rate.mean().plot()\nplt.title('time-death rate correlation')\nplt.xlabel('time')\nplt.ylabel('death rate')\n","3f633c21":"\n<a id=\"4\"><\/a> \n## BUILDING DATA.TIME COLUMN BY USING REGULAR EXPRESSION","57570582":"<a id=\"1\"><\/a> \n##  CONVERTING DATES TO DATETIME","e593e863":"\n<a id=\"7\"><\/a> \n## TOP 7 DEADLIEST AIRCRAFTS IN HISTORY\n","9de9bc7e":"**In this dataset we only use ['date','time','ac_type','aboard','fatalities '] columns**","a814b979":"So between 60s and 80s were the deadliest time for aircraft history. Very first period of large body and turbojet engined aircrafts like de havillands comet series ,dougles dc series and boeing 707s.","99d55a6a":"In last 100 years aircraft technology improved tremendously but this improvements were results of the aircraft crashes and behind this improvements so many people lost their lives. In this kernel we will analyse aircraft crashes and see whether or not some features have effect on it.\n","abafbb27":"SUMMARY\n\n* [ CONVERTING DATES TO DATETIME](#1)\n* [CLEANING DATA.ABOARD AND DATA.FATALITIES COLUMNS](#2)\n* [YEARLY SUM OF FATALITIES AND ABOARD](#3)\n* [BUILDING DATA.TIME COLUMN BY USING REGULAR EXPRESSION](#4)\n* [EXTRACTING AIRCRAFT BRANDS FROM DATA.AC_TYPE COLUMN ](#5)\n* [CLASSIFYING DEATH RATES](#6)\n* [TOP 7 DEADLIEST AIRCRAFTS IN HISTORY](#7)\n* [CLEANING DATA.TIME TO MAKE A REALISTIC PLOT](#8)\n","0c121d41":"**Data Analyses of Airplane Crashes**","2982e623":"\n<a id=\"5\"><\/a> \n## EXTRACTING AIRCRAFT BRANDS FROM DATA.AC_TYPE COLUMN","a197166f":"<a id=\"2\"><\/a> \n## CLEANING DATA.ABOARD AND DATA.FATALITIES COLUMNS","647a2c66":"<a id=\"3\"><\/a> \n## YEARLY SUM OF FATALITIES AND ABOARD","23ad22f8":"\n\n<a id=\"8\"><\/a> \n## CLEANING DATA.TIME TO MAKE A REALISTIC PLOT\n","ca7589dc":"I want to classify aboards and fatalities together by dividing them each other in order to use them in swarmplot.","87a6080d":"When we compare time-death rate correlation and AC-CRASHES PER HOUR graph we can observe that death rate and crash number\nis not directly related each other. Even though most crashes happen in daylight dark is deadlier than daylight.","51974b8b":"\n<a id=\"6\"><\/a> \n## CLASSIFYING DEATH RATES"}}