{"cell_type":{"b776bdfd":"code","3148d89e":"code","579279fb":"code","775b2470":"code","756aa923":"code","fcfbf3a2":"code","f135e3ee":"code","ddf7f69d":"code","764cd4be":"code","a30ce0fc":"code","2c4dcb8c":"code","8ccca0d2":"code","4cac455c":"code","fdbdebc6":"code","83be5394":"code","cb824f0a":"code","8cb83ad0":"code","fa4d072a":"code","b03bd956":"code","88b2a0c4":"markdown","7a216f9a":"markdown","1262af85":"markdown","cecb1a87":"markdown","f9f08207":"markdown","058d51c3":"markdown","31972e14":"markdown","3e5bde21":"markdown","05928546":"markdown","927d0405":"markdown","06a3d0f3":"markdown","c63b9c9f":"markdown","d41d74f7":"markdown","df8d5a78":"markdown"},"source":{"b776bdfd":"from scipy import stats\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nx = np.linspace(0, 3, 60)\ny = np.exp(x)\nplt.style.use('ggplot')\nf, ax = plt.subplots(figsize=(14,6))\n\nplt.bar(x, y, align='center', width=0.03)\n","3148d89e":"# Imports\nimport pandas as pd\nimport matplotlib.dates as mdates \nimport matplotlib.ticker as tkr\nfrom datetime import datetime\nimport datetime as dt\n\n# Dados de \u00d3bitos das Secretarias Estaduais de Sa\u00fade do dia 12 de Junho\ncovid2 = pd.read_csv('..\/input\/corona-virus-brazil\/brazil_covid19.csv')\ncovid2 = covid2.sort_values(['state', 'region', 'date'])\n\n# Create a new column with new deaths\/day.\ncovid2['new_deaths'] = np.where(covid2.state.eq(covid2.state.shift()), covid2.deaths.diff(), 1)\n","579279fb":"# Invert date format\ncovid2[\"date\"] = pd.to_datetime(covid2[\"date\"]).dt.strftime('%d\/%m\/%Y')\n","775b2470":"# Group by day and Aggregate by adding each days` deaths \ncovid2 = covid2.groupby('date').agg({'new_deaths': 'sum'})\ncovid2 = covid2.groupby('date').sum().reset_index()\ncovid2.head()\n","756aa923":"# Transform dates into an array of tuples to include on y-axis\nx = covid2['date']\nxdates = [dt.datetime.strptime(i,'%d\/%m\/%Y') for i in x]\ny = covid2['new_deaths'].values\n\n# Grab last day and last 24hs deaths\nnow = datetime.now()\nlast_day = now.strftime('%d\/%m')\n\n\n","fcfbf3a2":"\n# Plot\nplt.style.use('ggplot')\nf, ax = plt.subplots(figsize=(16,8), dpi=300)\n\n# Major ticks every 50, minor ticks every 10\nmajor_ticks = np.arange(0, 1500, 200)\nminor_ticks = np.arange(0, 1500, 50)\n\nax.set_yticks(major_ticks)\nax.set_yticks(minor_ticks, minor=True)\n\n# And a corresponding grid\nax.grid(which='minor', alpha=0.5)\nax.grid(which='major', alpha=0.8)\n\nplt.bar(xdates,y, width=0.7, label=\"\u00d3bitos por data da Notifica\u00e7\u00e3o\")\nplt.legend(loc=\"upper left\")\nplt.title(\"Mortos por COVID19 de acordo com a data da Notifica\u00e7\u00e3o\", fontweight='bold')\nplt.ylabel('\u00d3bitos', fontsize=10)\nplt.setp(plt.gca().xaxis.get_majorticklabels(),rotation=90)\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%d\/%m'))\nplt.gca().xaxis.set_major_locator(mdates.DayLocator(interval=2))\n\nf.text(0.5, 0.8, f'TOTAL: {int(covid2.new_deaths.sum())}', horizontalalignment='center', bbox={'alpha': 0.1, 'pad': 6})\nf.text(0.12, 0.01, \"Fonte: Secretarias Estaduais de Sa\u00fade {last_day}\", fontsize=10)\nf.text(0.9, 0.01, \"C\u00f3digo: www.kaggle.com\/fabianofpena\/covid-19-no-brasil\/\", ha=\"right\", fontsize=10)\n\nplt.savefig('filename.png')\nplt.show()\n","f135e3ee":"\"\"\" Dia 27 de Junho \"\"\"\n# Fonte: https:\/\/data.brasil.io\/dataset\/covid19\/_meta\/list.html\n# Dados de \u00d3bitos dos Cart\u00f3rios\nobitos2 = pd.read_csv(\"..\/input\/cartoriosjun\/obito_cartorio27jun.csv\", sep=\",\", error_bad_lines=False)\n\n# Check dtypes\nobitos2.dtypes\n\n\n","ddf7f69d":"# Convert to Datetime\nobitos2[\"date\"] = pd.to_datetime(obitos2[\"date\"]).dt.strftime('%d\/%m\/%Y')\nobitos2['date'] = pd.to_datetime(obitos2.date, format='%d\/%m\/%Y')\nobitos2.describe()","764cd4be":"# Group by day and Aggregate by adding each days` deaths \nagg2 = obitos2.groupby('date').agg({'new_deaths_covid19': 'sum'})\nagg2 = agg2.groupby('date').sum().reset_index()\n","a30ce0fc":"# Drop days without death\nagg2 = agg2[agg2.new_deaths_covid19 != 0.0]\n\n# Filter by dates before 8th Mar\nagg2 = agg2[agg2['date'] >= '2020-03-08']\n\nprint(agg2.isna().sum())\nagg2.head()","2c4dcb8c":"# Total accumulated deaths\nagg2['new_deaths_covid19'].sum()","8ccca0d2":"\n\"\"\" Dia 26 de Junho \"\"\"\n# Dados de \u00d3bitos dos Cart\u00f3rios dia 26 de Junho\nobitos = pd.read_csv(\"..\/input\/cartoriosjun\/obito_cartorio26jun.csv\",\n                   sep=\",\", error_bad_lines=False)\n\n\n# Check dtypes\nobitos.dtypes\n\n# Convert to Datetime\nobitos[\"date\"] = pd.to_datetime(obitos[\"date\"]).dt.strftime('%d\/%m\/%Y')\nobitos['date'] = pd.to_datetime(obitos.date, format='%d\/%m\/%Y')\n\n\n# Group by day and Aggregate by adding each days` deaths \nagg = obitos.groupby('date').agg({'new_deaths_covid19': 'sum'})\nagg = agg.groupby('date').sum().reset_index()\n\n\n#Drop days without death\nagg = agg[agg.new_deaths_covid19 != 0.0]\n\n# Filter by dates before 8th Mar\nagg = agg[agg['date'] >= '2020-03-08']\n\n","4cac455c":"# Extract last 24hs data\nagg2['diff'] = agg2['new_deaths_covid19'].subtract(agg['new_deaths_covid19'], fill_value=0)\n","fdbdebc6":"# Check deaths confirmed in the last 24hs\nagg2['diff'].sum()","83be5394":"# Transform datetime Series into an object\nagg2[\"date\"] = pd.to_datetime(agg2[\"date\"]).dt.strftime('%d\/%m\/%Y')\n","cb824f0a":"# Grab axis and transform dates into an array of tuples\nx = agg2['date']\nxdates = [dt.datetime.strptime(i,'%d\/%m\/%Y') for i in x]\ny = agg2['new_deaths_covid19'].values\ny = y.astype(int)\ny2 = agg2['diff'].values\ny2 = y2.astype(int)\n","8cb83ad0":"# Grab last day and last 24hs deaths\nnow = datetime.now()\nlast_day = now.strftime('%d\/%m')\nlast_deaths = int(agg2['diff'].sum())\nprev_death = int(agg2['new_deaths_covid19'].sum()-agg2['diff'].sum())\n","fa4d072a":"# Add Labels on the top of the bars\ndef bar_label(bars):\n    for bar in bars:\n        height = bar.get_height()\n        if height == 0:\n            continue\n        ax.annotate('{}'.format(height),\n            xy=(bar.get_x() + bar.get_width() \/ 2, bar.get_y() + height),\n            xytext=(0, 3),  # 3 points vertical offset\n            textcoords=\"offset points\",\n            ha='center', va='bottom', fontsize=8, rotation=90)","b03bd956":"# Plot\nplt.style.use('ggplot')\nf, ax = plt.subplots(figsize=(16,8), dpi=300)\n\n# Texts\nf.text(0.5, 0.8, f'TOTAL: {int(agg2.new_deaths_covid19.sum())}', horizontalalignment='center', bbox={'alpha': 0.1, 'pad': 6})\nf.text(0.125, 0.01, f\"Fonte: Portal Transpar\u00eancia Cart\u00f3rios {last_day}\", fontsize=10)\nf.text(0.9, 0.01, \"C\u00f3digo: www.kaggle.com\/fabianofpena\/covid-19-no-brasil\/\", ha=\"right\", fontsize=10)\n\n# Major ticks every 200, minor ticks every 100\nmajor_ticks = np.arange(0, 1001, 200)\nminor_ticks = np.arange(0, 1001, 50)\n\nax.set_yticks(major_ticks)\nax.set_yticks(minor_ticks, minor=True)\n\n# And a corresponding grid\nax.grid(which='minor', alpha=0.4)\nax.grid(which='major', alpha=0.9)\n\nplt.title(\"\u00d3bitos por COVID-19\")\n\n# ax.plot(y[:len(ma)], ma, color=\"#dd0000\")\nax.bar(xdates,y, width=0.7, color='darkorange', alpha=0.9, label=\"\u00d3bitos Anteriores\")\n#ax.bar(xdates,list(y2.astype(int)), width=0.7, color='steelblue', bottom=y, label=\"\u00d3bitos confirmados nas \u00faltimas 24 horas\")\ntop_bar = ax.bar(xdates,list(y2), width=0.7, color='steelblue', bottom=y, label=\"\u00d3bitos confirmados nas \u00faltimas 24 horas\")\nbar_label(top_bar)\n\nax.legend((f'\u00d3bitos anteriores: {prev_death}',\n           f\"\u00d3bitos Reportados no dia {last_day}: {last_deaths}\"), loc='upper left')\n\nplt.ylim(0,agg2.new_deaths_covid19.max()*1.2)\nplt.ylabel('\u00d3bitos', fontsize=12)\nplt.xlabel('Data do \u00d3bito', fontsize=12, labelpad=10)\nplt.setp(plt.gca().xaxis.get_majorticklabels(),rotation=90)\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%d\/%m'))\nplt.gca().xaxis.set_major_locator(mdates.DayLocator(interval=2))\n\nplt.show()","88b2a0c4":"# An\u00e1lise <a id='analise'><\/a>\nPrimeiro iremos validar os dados do s\u00edte do Minist\u00e9rio da Sa\u00fade, os quais apresentam \u00f3bitos por data de notifica\u00e7\u00e3o.\n\nPosteriormente, iremos conferir se h\u00e1 diferen\u00e7a entre a data de notifica\u00e7\u00e3o e a data efetiva do \u00f3bito.\nCaso haja, iremos alocar os \u00f3bitos das datas de notifica\u00e7\u00e3o, para a data efetiva do \u00f3bito, fazendo assim com que os dados apresentem uma realidade mais aproximada do cen\u00e1rio epidemiol\u00f3gico \n","7a216f9a":"Neste dataset, iremos carregar os ***dados do dia atual*** bem como do ***dia anteior*** a fim de constatar o percentual de casos \u00f3bitos atualizados nas \u00faltimas 24 horas.\nImportante frisar que caso o dia 14 de maio (pico atual) venha permanecer como o ponto mais alto de \u00f3bitos acumulados em 24 horas, poderemos confirmar que a pandemia no Brasil j\u00e1 atingiu o percentil 50. O que significa dizer que estamos em decl\u00ednio. ","1262af85":"# Conclus\u00f5es <a id='conclusoes'><\/a>\n","cecb1a87":"## 1) An\u00e1lise das mortes pela data da notifica\u00e7\u00e3o ","f9f08207":"#### Temos aproximadamente 73 dias de dados inseridos, desde as primeiros \u00f3bitos confirmados Covid-19 no Brasil. \n **Todavia, temos 9881 inputs.**\n **Isto ocorre porque os dados s\u00e3o atualizados diariamente e de forma cumulativa. **\n \n**Para tanto, precisaremos realizar o agrupamento pela data ('date'), bem como agregar os n\u00fameros de mortes (new_deaths_covid19') aplicando a soma de eventos (\u00f3bitos) repetidos no mesmo dia.**","058d51c3":"Conforme era de se esperar, a diferen\u00e7a entre os dados referentes \u00e0 data da notifica\u00e7\u00e3o do \u00f3bito e seu efetivo acontecimento, nos revela um novo modelo de distribui\u00e7\u00e3o semelhante \u00e0quele obtido no estudo realizado pela Singapore University of Technology em meados de abril, a saber, Distribui\u00e7\u00e3o Normal Padr\u00e3o.\n\nPor fim, deixo uma nota cr\u00edtica aos trabalhos realizados por estat\u00edsticos da Uni\u00e3o e das diversas unidades federativas do Brasil, que por imprecis\u00e3o e imper\u00edcia v\u00eaem legitimando, mediante suas an\u00e1lises, a tomada medidas bastante sens\u00edveis pelos gestores estaduais, a ponto de afetar n\u00e3o apenas a economia do pa\u00eds mas diversos setores da sociedade.\n\nEm v\u00eddeo recente (https:\/\/www.youtube.com\/watch?v=OaCbcqLwg0c), Dra. Margaret Harris, Porta-Voz da OMS, disse:\n\n    \"Nunca dissemos fa\u00e7am lockdown \u2014 dissemos identifiquem, fa\u00e7am o rastreamento \n    e acompanhem o desenvolvimento dos casos, isolem e tratem os doentes\"\n(https:\/\/www.smh.com.au\/politics\/federal\/who-backs-australian-move-to-ease-restrictions-20200426-p54na9.html)\n\nFica mais que evidente que a mudan\u00e7a de narrativa, vez por outra, por partes das autoridades internacionais e nacionais, demonstram um total desconhecimento (para n\u00e3o dizer que h\u00e1 uma conspira\u00e7\u00e3o coordenada) dos padr\u00f5es analisados por diversos estudos que comprovam que a quarentena n\u00e3o produz efeitos eficazes a fim de \"achatar a curva\" de gauss.\n\nLado outro, j\u00e1 sab\u00edamos, bem como estamos presenciando os efeitos nefastos de uma quarentena prolongada em todo o mundo.\n\nEm um pr\u00f3ximo estudo gostaria de analisar os estudos recentes da Universidade de Stanford que demonstra um \u00edndice de letalidade demasiadamente menor do que aquele que vem sendo propagado, o qual concluiu que a letalidade do Covid-19 chega a ser de aproximadamente 4 vezes menor do que a da influenza.\n\nMas por ora \u00e9 isto.","31972e14":"#### Temos aproximadamente 73 dias de dados inseridos, desde as primeiros \u00f3bitos confirmados Covid-19 no Brasil. \n#### Todavia, temos 1896 inputs.\n#### Isto ocorre porque os dados s\u00e3o atualizados diariamente de forma repetida.\n\nPara tanto, precisaremos realizar o agrupamento pela data ('date'), bem como agregar os n\u00fameros de mortes' (new_deaths') aplicando a soma de eventos repetidos no mesmo dia.","3e5bde21":"**Conforme apresentado pelo site do Minist\u00e9rio da Sa\u00fade, nesta primeira an\u00e1lise confirmamos que o gr\u00e1fico de n\u00famero de \u00f3bitos por data de notifica\u00e7\u00e3o, se assemelha a um modelo de Distribui\u00e7\u00e3o assim\u00e9trica \u00e0 esquerda ou assim\u00e9trica negativa (left skewed ou negative skewed).**\n\n**Passemos, ent\u00e3o, \u00e0 segunda an\u00e1lise para verificar se h\u00e1 incompatibilidade entre as datas de notifica\u00e7\u00e3o e a data efetiva do \u00f3bito.**\n\n**Lembrando que:**\n1. #### ***Se n\u00e3o houver diferen\u00e7a entre as datas de notifica\u00e7\u00e3o e as datas efetivas dos \u00f3bitos***, podemos concluir que o ***Brasil segue um padr\u00e3o at\u00edpico*** em rela\u00e7\u00e3o aos demais pa\u00edses que tiveram seu per\u00edodo de expens\u00e3o da epidemia por um per\u00edodo m\u00e9dio de 40 dias.\n\n1. #### ***Caso haja diferen\u00e7a entre as datas de notifica\u00e7\u00e3o e as datas efetivas dos \u00f3bitos***, e esta diferen\u00e7a seja suficiente para demonstrar que h\u00e1 a forma\u00e7\u00e3o de um \"bell-shaped curve\", podemos concluir que se torna ***injustific\u00e1vel todas as medidas de prorroga\u00e7\u00e3o das medidas restitrivas impostas pelos governos (\"lockdown\").***\n","05928546":"# Refer\u00eancias <a id='referencias'><\/a>\n\n[Singapore University of Technology] (https:\/\/www.flasog.org\/static\/COVID-19\/COVID19PredictionPaper20200426.pdf).\n\n[Minist\u00e9rio da Sa\u00fade] (https:\/\/data.brasil.io\/dataset\/covid19\/_meta\/list.html), (https:\/\/covid.saude.gov.br\/)\n","927d0405":"\n\n## Metodologia\nA metodologia aplicada ir\u00e1 verificar se h\u00e1 diferen\u00e7a entre as datas da notifica\u00e7\u00e3o dos \u00f3bitos com a efetiva data do seu acontecimento. Pois os dados do site de campanha (brazil_covid19.csv), na sua coluna \"new_deaths\", apresenta os dados de \u00f3bitos por data de notifica\u00e7\u00e3o, o que pode vir a ser diferente dos n\u00fameros de mortes de acordo com a data do \u00f3bito. \n\nPara isto, faremos uso de um outro dataset, este disponibilizado pelos cart\u00f3rios espalhados pelo Brasil, (https:\/\/data.brasil.io\/dataset\/covid19\/_meta\/list.html), o qual tr\u00e1s em sua coluna \"new_deaths_covid19\" a quantidade de \u00f3bitos ocorrida na respectiva data, conforme documenta\u00e7\u00e3o:\n\n    new_deaths_covid19: Quantidade de \u00f3bitos em decorr\u00eancia de suspeita ou confirma\u00e7\u00e3o de covid19 para o estado\u00a0state\u00a0ocorridos na data\u00a0date\u00a0(em 2020).\n\n\n# Fontes <a id='fonte'><\/a>\n* Raphael Fontes (https:\/\/www.kaggle.com\/unanimad\/corona-virus-brazil)\n\n* Minist\u00e9rio da Sa\u00fade (https:\/\/covid.saude.gov.br\/)\n\n* Secretarias Estaduais de Sa\u00fade (https:\/\/brasil.io\/dataset\/covid19\/caso_full\/?page=2)","06a3d0f3":"**Verificando os dados, percebemos que a Series 'date' \u00e9 um objeto. Portanto, devemos transforma-la em Datetime:**","c63b9c9f":"# **An\u00e1lise Explorat\u00f3ria de Dados do COVID-19 no Brasil**\n\n### *Uma an\u00e1lise cr\u00edtica ao tratamento de dados feito pelo Minist\u00e9rio da Sa\u00fade da Rep\u00fablica Federativa do Brasil*\n\n\n### \u00cdndice:\n* [Justificativa](#justificativa)\n* [Fontes](#fonte)\n* [An\u00e1lise](#analise)\n* [Conclus\u00f5es](#conclusoes)\n* [Refer\u00eancias](#referencias)\n\n---\n\n# Justificativa <a id='justificativa'><\/a>\nExiste uma narrativa, de alguns governos estaduais de que o Brasil segue em ascens\u00e3o exponencial em n\u00famero de casos\/\u00f3bitos.\nE, argumentam, os gestores destes estados, que por este motivo \u00e9 necess\u00e1rio a implementa\u00e7\u00e3o de uma extens\u00e3o das quarentenas.\nA ALERJ, por exemplo, votou nesta quarta-feira (dia 20) um projeto de lei que impunha medidas restritivas de locomo\u00e7\u00e3o ainda maiores e prolongadas, na qual requeria-se uma extens\u00e3o por mais 15 dias. O projeto de lei, entretanto fora rejeitado pela maioria dos Deputados Estaduais.\n\nTodavia um estudo pela Singapore University of Technology, em meados de Abril demonstrou, mediante uma an\u00e1lise preditiva, de que o ciclo do Covid-19 atinge aproximadamente 80% do cont\u00e1gio se d\u00e1 nos 2 primeiros meses (https:\/\/www.flasog.org\/static\/COVID-19\/COVID19PredictionPaper20200426.pdf)\n\nDe acordo com o estudo, o ciclo do cont\u00e1gio forma um modelo gaussiano (Distribui\u00e7\u00e3o Normal Padr\u00e3o), atingindo seu percentil 50 em aproximadamente 40 dias.\n\nO Brasil, por sua vez, desde a constata\u00e7\u00e3o do primeiro caso em 16 de mar\u00e7o at\u00e9 hoje, perfaz 2 meses de coleta de dados. E para nossa surpresa, percebemos um padr\u00e3o dissonante com aquele apresentado pela Singapore University of Technology.\n\nNo site criado pelo governo para publica\u00e7\u00e3o dos dados relacionados \u00e0 pandemia (https:\/\/covid.saude.gov.br\/) vemos que o gr\u00e1fico de n\u00famero de \u00f3bitos por data de notifica\u00e7\u00e3o segue uma forma de Distribui\u00e7\u00e3o assim\u00e9trica \u00e0 esquerda ou assim\u00e9trica negativa (left skewed ou negative skewed), conforme modelo abaixo:","d41d74f7":"Aqui vamos criar uma nova s\u00e9rie (\"coluna\") com a diferen\u00e7a de \u00f3bitos atualizados nas \u00faltimas 24 horas, a fim de plotar em conjunto a ***distribui\u00e7\u00e3o dos \u00f3bitos totais mais recente*** com a quantidade de \u00f3bitos apuradas nas ***\u00faltimas 24 horas***. Com isto poderemos mensurar se ainda h\u00e1 muitos laudos em atraso ap\u00f3s o dia 14 de maio. \nDesta feita, n\u00e3o havendo, e os dados das atualizados nas \u00faltimas 24 horas se concentrarem mais nos dias recentes, confirmaremos o pico no dia 14 de maio.","df8d5a78":"## 2) An\u00e1lise das mortes pela data do \u00d3bito "}}