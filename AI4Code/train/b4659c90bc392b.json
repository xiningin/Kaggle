{"cell_type":{"d4c95411":"code","d72a70f5":"code","edc728a9":"code","1a5481fc":"code","8d20fcad":"code","64b74b27":"code","cb5803ed":"code","d6770c23":"code","fd18c3a7":"code","31e0e8fc":"code","fdcbe7d9":"code","c9fb7176":"code","9bee9b3c":"code","f67a5e80":"code","7d5e5647":"code","bc57bada":"code","e42880cf":"code","e87b88c8":"code","30f3feda":"code","7622572c":"code","03718c10":"code","f2aa3f1d":"code","585962cc":"code","60888622":"code","b2e7bcf8":"code","6233ff58":"code","4e423910":"code","519e4d07":"code","a2dc3ab3":"code","ae21c65f":"code","bcdb0b1c":"code","bb7ba1eb":"code","c7d1fbe4":"code","e8269eb4":"code","7e9da52a":"code","c73df30f":"code","d9defafc":"code","8c9cafc0":"code","fdc04845":"code","c65eef46":"code","8cec8579":"code","162979a5":"code","e06aa5e9":"code","523f9f16":"code","54febe1e":"code","f1801625":"code","70f04778":"code","aa7c4fa2":"code","841baea2":"code","cf99ba4f":"code","0b84fe0f":"markdown","70ed148a":"markdown","dce770c1":"markdown","8397e3ae":"markdown","5ad88d49":"markdown","63773124":"markdown","08aeca8a":"markdown","018faac1":"markdown","7184687d":"markdown","ae5630a3":"markdown","3d6759b7":"markdown","f732cdbc":"markdown","d410371d":"markdown","50661551":"markdown","21f91a6f":"markdown","92d971d9":"markdown","72491c45":"markdown","fbe9f2a1":"markdown","77d754c8":"markdown","fb830400":"markdown","d3893223":"markdown","a40639c6":"markdown","1b9c8cbd":"markdown","1aba90a2":"markdown","93f5fbc6":"markdown","4c8aedf4":"markdown","eff7a478":"markdown","58c1ab2a":"markdown","a610f14c":"markdown","610efa0d":"markdown","a5483a8b":"markdown","e98674c3":"markdown","d8e8fd56":"markdown","79060457":"markdown","0ec3ebc2":"markdown","768afa6e":"markdown","ab761cc1":"markdown","cb09eec5":"markdown","df3a0b0e":"markdown","bd18eeba":"markdown","b2152d29":"markdown"},"source":{"d4c95411":"#importing the essentials\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\nimport plotly.graph_objects as go\nimport plotly.express as px\nfrom matplotlib import pyplot as plt\nimport seaborn as sns","d72a70f5":"data = pd.read_csv('..\/input\/us-police-shootings\/shootings.csv')","edc728a9":"data.info()","1a5481fc":"data.head()","8d20fcad":"#Mengelompokkan golongan berdasarkan umur\nbins = [0,18,45,60,100]\ngroup_names = ['Teenager','Adult','Old','Very Old']\ndata['Age Group'] = pd.cut(data['age'], bins, labels= group_names)\n\n#convert data tanggal dari string ke date\ndata['date']=pd.to_datetime(data['date'])\ndata['year'] = pd.DatetimeIndex(data['date']).year\ndata['month'] = pd.DatetimeIndex(data['date']).month\ndata['month_year']= pd.to_datetime(data['date']).dt.to_period('M')\n\ncount_year= data.groupby(['year']).agg('count')['id'].to_frame(name='count').reset_index()\n\n#drop kejadian yang terjadi pada 2020\ndata = data[data.year != 2020]\ndata.head()","64b74b27":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(10,7))\nsplot = sns.barplot(x=count_year['year'], y=count_year['count'], data=count_year)\nplt.xlabel(\"Tahun\")\nplt.ylabel(\"Jumlah\")\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.title('Penembakan berdasarkan tahun kejadian')\nfor p in splot.patches:\n    splot.annotate(format(p.get_height(), '.1f'), \n                   (p.get_x() + p.get_width() \/ 2., p.get_height()), \n                   ha = 'center', va = 'center', color='white', \n                   xytext = (0, -12), \n                   textcoords = 'offset points')\nplt.show()","cb5803ed":"plt.style.use('bmh')\ndata['month_year']= data.month_year.astype(str)\nline_chart = data.groupby(['month_year']).agg('count')['id'].to_frame(name='count').reset_index()\nplt.figure(figsize=(20,8))\nplt.xticks(fontsize=12)\nplt.yticks(fontsize=15)\nplt.plot(line_chart['month_year'],line_chart['count'])\nplt.title('Jumlah Penembakan setiap bulan')\nplt.xticks(ticks = line_chart['month_year'],rotation=90)\nplt.show()","d6770c23":"plt.style.use('bmh')\nline_chart = data[data.year == 2015].groupby(['month']).agg('count')['id'].to_frame(name='count').reset_index()\nplt.figure(figsize=(20,8))\nplt.xticks(fontsize=12)\nplt.yticks(fontsize=15)\nplt.plot(line_chart['month'],line_chart['count'])\nplt.title('Jumlah Penembakan setiap bulan')\nplt.xticks(ticks = line_chart['month'],rotation=90)\nplt.show()","fd18c3a7":"data2015 = data[data.year == 2015].groupby(['month']).agg('count')['id'].to_frame(name='count').reset_index()\ndata2016 = data[data.year == 2016].groupby(['month']).agg('count')['id'].to_frame(name='count').reset_index()\ndata2017 = data[data.year == 2017].groupby(['month']).agg('count')['id'].to_frame(name='count').reset_index()\ndata2018 = data[data.year == 2018].groupby(['month']).agg('count')['id'].to_frame(name='count').reset_index()\ndata2019 = data[data.year == 2019].groupby(['month']).agg('count')['id'].to_frame(name='count').reset_index()\n\nplt.figure(figsize=(20,10))\nplt.plot(data2015['month'],data2015['count'], label=2015)\nplt.plot(data2016['month'],data2016['count'], label=2016)\nplt.plot(data2017['month'],data2017['count'], label=2017)\nplt.plot(data2018['month'],data2018['count'], label=2018)\nplt.plot(data2019['month'],data2019['count'], label=2019)\n# Add title and x, y labels\nplt.title(\"Grafik Jumlah Penembakan menurut bulan kejadiannya\", fontsize=16, fontweight='bold')\nplt.xlabel(\"Bulan\")\nplt.ylabel(\"Jumlah Kejadian\")\n# Add legend\nplt.legend(loc='lower left')\nplt.show()","31e0e8fc":"line_chart.columns = ['Month_Year', 'Victim_Count']\nmax_1 = pd.DataFrame(line_chart[line_chart.Victim_Count == line_chart.Victim_Count.max()].reset_index(drop=True))\nmin_1 = pd.DataFrame(line_chart[line_chart.Victim_Count == line_chart.Victim_Count.min()].reset_index(drop=True))\nprint('Jumlah Penembakan paling banyak terjadi pada bulan\\n',max_1)\nprint('**********************************************')\nprint('Jumlah Penembakan paling sedikit terjadi pada bulan\\n',min_1)","fdcbe7d9":"avg_shot_per_day = (count_year['count'][0:5].sum())\/(365*5)\nprint('Avg death count per day',avg_shot_per_day)","c9fb7176":"avg_per_month = (count_year['count'][0:5].sum())\/(12*5)\nprint('Avg death count per month',avg_per_month)","9bee9b3c":"shot_or_taser = data.groupby(['Age Group','manner_of_death']).agg('count')['id'].to_frame(name='count').reset_index()\nshot_or_taser = shot_or_taser.rename(columns = {'manner_of_death':'Manner of Death', 0:'Count'})\nshot_or_taser = shot_or_taser.sort_values(by=['count'],ascending=False)","f67a5e80":"plt.rcParams['figure.figsize']= (15,7)\nsns.distplot(data['age'], color='blue')\nplt.title('Distribusi umur korban', fontsize=20)\nplt.xlabel('umur')\nplt.ylabel('jumlah')\nplt.show()","7d5e5647":"plt.style.use('seaborn-pastel')\nplt.figure(figsize=(20,10))\nsns.barplot(x=\"Age Group\", y=\"count\",hue=\"Manner of Death\", data=shot_or_taser)\nplt.xlabel(\"\")\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.title('Killings by Age Category')\nplt.ylabel(\"\")\n\nplt.show()","bc57bada":"plt.style.use('seaborn-pastel')\nplt.figure(figsize=(15,7))\nagecat = sns.barplot(x=\"Age Group\", y=\"count\",hue=\"Manner of Death\", data=shot_or_taser,log=True)\nplt.xlabel(\"\")\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.title('Killings by Age Group(On Log Axis)')\nplt.ylabel(\"\")\nfor p in agecat.patches:\n    agecat.annotate(format(p.get_height(), '.1f'), \n                   (p.get_x() + p.get_width() \/ 2., p.get_height()), \n                   ha = 'center', va = 'center', color='black', \n                   xytext = (0, -12), \n                   textcoords = 'offset points')\nplt.show()","e42880cf":"a=shot_or_taser.groupby(['Age Group']).sum().reset_index()\n\nlist_percent = []\ntotal = a['count']\ntemp = 0\ntemp_2 = 0\nfor i in range(4):\n    for j in range(2):\n        per=(shot_or_taser['count'][temp])\/total[temp_2]\n        list_percent.append(per)\n        temp=temp+1\n    temp_2=temp_2+1\n\nlist_1 = ['Shot','Shot and Tasered']\nteenager = list_percent[0:2]\nadult = list_percent[2:4]\nold = list_percent[4:6]\nvery_old = list_percent[6:8]","e87b88c8":"#For Teenager and Adult\nplt.style.use('seaborn-pastel')\nfig, (ax1,ax2) = plt.subplots(1,2,figsize = (15,15))\nfig, (ax3,ax4) = plt.subplots(1,2, figsize = (15,15))\nplt.rcParams.update({'font.size': 18})\nax1.pie(teenager, labels=list_1, shadow=True, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\n\nax2.pie(adult, labels=list_1, shadow=True, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\nax3.pie(old, labels=list_1, shadow=True, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\nax4.pie(very_old, labels=list_1, shadow=True, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\nax1.set_title(\"Teenager\")\nax2.set_title(\"Adult\")\nax3.set_title(\"Old\")\nax4.set_title(\"Very Old\")\nfig.tight_layout()\nplt.show()","30f3feda":"plt.style.use('ggplot')\nplt.figure(figsize=(20,10))\nsns.swarmplot(data=data, x=\"year\", y=\"age\",hue=\"manner_of_death\")\nplt.xlabel(\"\")\nplt.ylabel(\"\")\nplt.title('Manner of Death by Year and Age')\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.show()","7622572c":"#finding top 5(what ammunitions used)\n\narmed_or_not=data.groupby(['armed']).size()\narmed_or_not=armed_or_not.sort_values()\narmed_or_not = armed_or_not.to_frame().reset_index()\narmed_or_not = armed_or_not.rename(columns={'armed':'Armed', 0:'Count'})\narmed_or_not = armed_or_not.sort_values(by = ['Count'],ascending=False)\ntop_5= armed_or_not.head(5)","03718c10":"plt.figure(figsize=(20,10))\nplt.style.use('fivethirtyeight')\nplt.bar(top_5.Armed,top_5.Count)\nsns.barplot(x='Armed', y='Count', data=top_5)\nplt.title('Bersenjata atau tidak?', fontsize=24, fontweight='bold')\nplt.ylabel('Jumlah Korban')\nplt.xlabel('')\nplt.show()","f2aa3f1d":"records = data.shape[0]\narmed_or_not_pie = armed_or_not.head(4)\nlist_p = []\nfor i in (range(len(armed_or_not_pie))):\n    temp=(armed_or_not_pie['Count'].values[i]\/records)*100\n    list_p.append(temp)\n\nOthers_p= 100-sum(list_p)\npercentages=pd.Series(list_p)\narmed_or_not_pie['percent'] = percentages.values\narmed_or_not_pie.drop('Count',axis=1,inplace=True)\nOthers_df = ['Others',Others_p]\nother_series = pd. Series(Others_df, index = armed_or_not_pie.columns)\narmed_or_not_pie = armed_or_not_pie. append(other_series, ignore_index=True)","585962cc":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(7,7))\nplt.rcParams.update({'font.size': 18})\nplt.pie(armed_or_not_pie['percent'], labels=armed_or_not_pie['Armed'], shadow=True,\n        startangle=90, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\nplt.title(\"Armed or Not\")\nplt.tight_layout()\nplt.show()","60888622":"from wordcloud import WordCloud\n\nplt.rcParams['figure.figsize'] = (15, 10)\nplt.style.use('fast')\n\nwc = WordCloud(background_color = 'orange', width = 1500, height = 1000).generate(str(data['armed'].value_counts().head(25)))\nplt.title('Senjata yang digunakan oleh korban', fontsize = 20)\n\nplt.imshow(wc)\nplt.axis('off')\nplt.show()","b2e7bcf8":"#Gender Ratio\ndf=data['gender'].value_counts().reset_index().rename(columns={'index':'gender','gender':'count'})\nfig = go.Figure([go.Pie(labels=['Pria', 'Wanita'],values=df['count'], hole = 0.5)])\nfig.update_traces(hoverinfo='label+percent', textinfo='value+percent', textfont_size=15,insidetextorientation='radial')\nfig.update_layout(title=\"Rasio Korban Penembakan berdasarakn Jenis Kelamin\",title_x=0.5)\nfig.show()","6233ff58":"#full df\ngender_shoot = data.groupby(['year','gender']).agg('count')['id'].to_frame(name='count').reset_index()\n\n#for Male\nmale = gender_shoot.loc[gender_shoot['gender']=='M']\n\n#for Female\nfemale = gender_shoot.loc[gender_shoot['gender']=='F']","4e423910":"#plotting the data\nplt.figure(figsize=(20,10))\nplt.style.use('fivethirtyeight')\nx_indexes = np.arange(len(male['year']))\nwidth = 0.40\n\nplt.bar( x_indexes,male['count'],width = width,label = 'Male')\nplt.bar( x_indexes+width,female['count'],width = width, label = 'Female')\nplt.title('Gender Wise Killings per Year', fontsize=24, fontweight='bold')\nplt.xticks(ticks = x_indexes, labels = female['year'])\nplt.tight_layout()\nplt.legend()\nplt.show()","519e4d07":"df =data.groupby(['Age Group','gender']).agg('count')['id'].to_frame(name='count').reset_index()\ndf=df.sort_values(by=['count'],ascending=False)","a2dc3ab3":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,10))\nagegender = sns.barplot(x='Age Group', y='count', hue='gender', data=df,log=True)\nplt.title('Killings by Age Group(on log)', fontsize=24, fontweight='bold')\nplt.ylabel('Number of Victims')\nfor p in agegender.patches:\n    agegender.annotate(format(p.get_height(), '.1f'), \n                   (p.get_x() + p.get_width() \/ 2., p.get_height()), \n                   ha = 'center', va = 'center', color='white', \n                   xytext = (0, -12), \n                   textcoords = 'offset points')\nplt.show()","ae21c65f":"df =data.groupby(['Age Group','gender']).agg('count')['id'].to_frame(name='count').reset_index()\ndf=df.sort_values(by=['count'],ascending=False)","bcdb0b1c":"race_df = data.groupby(['year','race']).agg('count')['id'].to_frame(name='count').reset_index()\nrace_df = race_df.sort_values(by='count',ascending=False)","bb7ba1eb":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,10))\nsns.barplot(x=\"year\", y=\"count\",hue=\"race\", data=race_df)\nplt.title('Penembakan berdasarkan ras dan tahun', fontsize=24, fontweight='bold')\nplt.ylabel('Jumlah Korban')\nplt.xlabel('')\nplt.show()","c7d1fbe4":"fig = go.Figure([go.Pie(labels=race_df['race'],values=race_df['count'], hole = 0.6)])\nfig.update_traces(hoverinfo='label+percent', textinfo='value+percent', textfont_size=15,insidetextorientation='radial')\nfig.update_layout(title=\"Racial Propotions in Shootings\",title_x=0.5)\nfig.show()","e8269eb4":"plt.style.use('fivethirtyeight')\nfig_dims = (20, 10)\nfig, ax = plt.subplots(figsize=fig_dims)\nsns.stripplot(\n    data=data, x=\"age\", y=\"race\",s=15,\n    alpha=0.20,jitter=0.30\n)\nplt.title('Pembunuhan berdasarkan umur dan ras', fontsize=24, fontweight='bold')\nplt.ylabel('')\nplt.xlabel('Age')\nplt.show()","7e9da52a":"killings_by_race =data.groupby(['year','month_year','race']).count()['id'].reset_index()\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,10))\nsns.boxplot(x=killings_by_race['race'],y=killings_by_race['id'],dodge=False)\nplt.title('Killings by Race(By Month Average)')\nplt.ylabel('Number of Victims')\nplt.xlabel('')\nplt.show()","c73df30f":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,10))\nsns.boxplot(x=data['race'],y=data['age'],dodge=False)\nplt.title('Killings by Race by Age')\nplt.ylabel('Age')\nplt.xlabel('')\nplt.show()","d9defafc":"#Comparing White V\/S Black V\/S Hispanic\nwhite_black_hispanic = data[data['race']. isin (['Black','White','Hispanic'])]\nwhite_black_hispanic=white_black_hispanic.groupby(['year','race']).agg('count')['id'].to_frame(name='count').reset_index()\nwhite_black_hispanic['year']= white_black_hispanic['year'].astype(str)","8c9cafc0":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,10))\n\ncolors = [\"#2874A6\", \"#B9770E\",\"#922B21\"]\nsns.set_palette(sns.color_palette(colors))\n\nsns.lineplot( data=white_black_hispanic,x=\"year\", y=\"count\", hue=\"race\")\nplt.title('Killings in Top 3 Races by Year')\nplt.ylabel('Number of Victims')\nplt.xlabel('')\nplt.show()","fdc04845":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,10))\nplt.bar(data['state'].value_counts().index,data['state'].value_counts().values)\nplt.title('Killings by different States')\nplt.ylabel('Number of Victims')\nplt.xticks(fontsize=11)\nplt.show()","c65eef46":"top_5_states = data[data['state'] . isin(['CA','TX','FL','AZ','CO'])]\ntop_5_states = top_5_states.groupby(['state','flee']).agg('count')['id'].to_frame(name='count').reset_index().sort_values('count',ascending=False)","8cec8579":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,10))\nsns.barplot(x='state', y='count',hue='flee', data=top_5_states)\nplt.ylabel('Number of Victims')\nplt.title('Killings by States with different flee Status')\nplt.xlabel(\"\")\nplt.show()","162979a5":"plt.style.use('fivethirtyeight')\n\nfig_dims = (20, 20)\nfig, ax = plt.subplots(figsize=fig_dims)\nsns.stripplot(\n    data=data, x=\"age\", y=\"race\",hue=\"signs_of_mental_illness\",s=15,\n    alpha=0.3,jitter=0.30\n)\nplt.title('Penembakan berdasarkan ras dan kondisi mental')\nplt.axis('tight')\nplt.xlabel('Age')\nplt.show()","e06aa5e9":"df=data['signs_of_mental_illness'].value_counts().reset_index().rename(columns={'index':'signs_of_mental_illness','signs_of_mental_illness':'count'})\nfig = go.Figure([go.Pie(labels=df['signs_of_mental_illness'],values=df['count'], hole = 0.5)])\n\nfig.update_traces(hoverinfo='label+percent', textinfo='value+percent', textfont_size=15,insidetextorientation='radial')\n\nfig.update_layout(title=\"Ada tanda penyakit mental?\",title_x=0.5)\nfig.show()","523f9f16":"#Let's check by pie chart\npie_chart =data.groupby(['race','signs_of_mental_illness']).count()['id'].reset_index()\nblack_pie_chart = pie_chart[pie_chart['race']=='Black']\nwhite_pie_chart = pie_chart[pie_chart['race']=='White']\nhispanic_pie_chart = pie_chart[pie_chart['race']=='Hispanic']","54febe1e":"plt.style.use('seaborn-pastel')\nfig, (ax1,ax2,ax3) = plt.subplots(1,3,figsize = (15,15))\nplt.rcParams.update({'font.size': 18})\nax1.pie(black_pie_chart['id'], labels=black_pie_chart['signs_of_mental_illness'], shadow=True,\n        startangle=90, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\nax1.set_title(\"Race: Black\")\n\nax2.pie(white_pie_chart['id'], labels=white_pie_chart['signs_of_mental_illness'], shadow=True,\n        startangle=90, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\nax2.set_title(\"Race - White\")\n\nax3.pie(hispanic_pie_chart['id'], labels=hispanic_pie_chart['signs_of_mental_illness'], shadow=True,\n        startangle=90, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\nax3.set_title(\"Race - Hispanic\")\n\nfig.tight_layout()\n\nplt.show()","f1801625":"df=data.groupby(['date','gender','race'])['manner_of_death'].count().reset_index()\ndf['date']=pd.to_datetime(df['date'])\ndf['year-month'] = df['date'].apply(lambda x: str(x.year))\ndf_ym=df.groupby(['year-month','gender','race'])[['manner_of_death']].sum().reset_index()\ndf_ym['year-month']=pd.to_datetime(df_ym['year-month'])\ndf_ym=df_ym.sort_values('year-month')\ndf_ym['year-month']=df_ym['year-month'].astype('str').apply(lambda x: x.split('-')[0])\n\nfig = px.sunburst(df_ym, path=['year-month','gender','race'], values='manner_of_death')\nfig.update_layout(title=\"Number of deaths  by Gender,year,race\",title_x=0.5)\nfig.show()","70f04778":"df=data['threat_level'].value_counts().reset_index().rename(columns={'index':'threat_level','threat_level':'count'})\nfig = go.Figure([go.Pie(labels=df['threat_level'],values=df['count'], hole = 0.5)])\n\nfig.update_traces(hoverinfo='label+percent', textinfo='value+percent', textfont_size=15,insidetextorientation='radial')\nfig.update_layout(title=\"threat_level\",title_x=0.5)\nfig.show()","aa7c4fa2":"black_state=data[data['race']=='Black']['state'].value_counts().to_frame().reset_index().rename(columns={'index':'state','state':'count'})\n\nfig = go.Figure(go.Choropleth(\n    locations=black_state['state'],\n    z=black_state['count'].astype(float),\n    locationmode='USA-states',\n    colorscale='Reds',\n    autocolorscale=False,\n    text=black_state['state'], # hover text\n    marker_line_color='white', # line markers between states\n    colorbar_title=\"Millions USD\",showscale = False,\n))\nfig.update_layout(title_text='US Police shooting cases of black people',    title_x=0.5,\n    geo = dict( scope='usa', projection=go.layout.geo.Projection(type = 'albers usa'), showlakes=True, \n               lakecolor='rgb(255, 255, 255)'))\nfig.update_layout(template=\"simple_white\")\nfig.show()","841baea2":"white_state=data[data['race']=='White']['state'].value_counts().to_frame().reset_index().rename(columns={'index':'state','state':'count'})\n\nfig = go.Figure(go.Choropleth(\n    locations=white_state['state'],\n    z=white_state['count'].astype(float),\n    locationmode='USA-states',\n    colorscale='Greens',\n    autocolorscale=False,\n    text=black_state['state'], # hover text\n    marker_line_color='white', # line markers between states\n    colorbar_title=\"Millions USD\",showscale = False,\n))\nfig.update_layout(title_text='US Police shooting cases of White people',    title_x=0.5,\n    geo = dict( scope='usa', projection=go.layout.geo.Projection(type = 'albers usa'), showlakes=True, \n               lakecolor='rgb(255, 255, 255)'))\nfig.update_layout(template=\"simple_white\")\nfig.show()","cf99ba4f":"all_state=data[data['state']].value_counts().to_frame().reset_index().rename(columns={'index':'state','state':'count'})\n\nfig = go.Figure(go.Choropleth(\n    locations=white_state['state'],\n    z=white_state['count'].astype(float),\n    locationmode='USA-states',\n    colorscale='Greens',\n    autocolorscale=False,\n    text=black_state['state'], # hover text\n    marker_line_color='white', # line markers between states\n    colorbar_title=\"Millions USD\",showscale = False,\n))\nfig.update_layout(title_text='US Police shooting cases of White people',    title_x=0.5,\n    geo = dict( scope='usa', projection=go.layout.geo.Projection(type = 'albers usa'), showlakes=True, \n               lakecolor='rgb(255, 255, 255)'))\nfig.update_layout(template=\"simple_white\")\nfig.show()","0b84fe0f":"## <font color=\"violet\"><b>Killings By Age Group","70ed148a":"* Looks like that tasers are used comparatively less in case of Very old people\n* Let's Look at the actual data points","dce770c1":"* We can see that In Native, Other and Asian Race the age primarily lies in range 20-60\n* The cases of age Above 60 years usually falling in White Race \n* Let's find out the media ages by different races","8397e3ae":"# <font color=\"violet\"><b>Apakah korban sehat secara mental?\n   ","5ad88d49":"* We can see that not only Shot and Taseres but also Shot category is getting less year by year[](http:\/\/)","63773124":"# <font color=\"violet\"><b>Let's take a look at the Dataset","08aeca8a":"# <font color=\"violet\"><b>Median Age by Race","018faac1":"* It is clear from above chart that most of the people in all top 5 states were not fleeing during the encounter","7184687d":"* If we talk about Race, then we can see that every year the count of killings in White Race is much larger than other races\n* The above chart proves that the most people are from White race, then Black and then from Hispanic Race","ae5630a3":"* We can see clearly that majority people had gun, probably becaause of the lenient Arms laws in the U.S\n* Let's take a clear picture with help of Pie Chart by summarising all other weapons in an Other Category","3d6759b7":"* We can see that shot as well as Shot and Tasered both types are highest in Adult Category","f732cdbc":"# <font color=\"violet\"><b>Negara Bagian dengan jumlah kasus terbanyak","d410371d":"# <font color=\"violet\"><b>**Killings by Year**","50661551":"* 56.3% people were armed with Gun, and then we have 14.5 people who were armed with Knife\n* Others category include all other categories except top 4","21f91a6f":"# <font color=\"violet\"><b> Killings by Month","92d971d9":"Police Shootings of White People in States","72491c45":"# <font color=\"violet\"><b>Gender Wise Killings per Year","fbe9f2a1":"# <font color=\"violet\"><b>Let's visualize top 3 races","77d754c8":"# <font color=\"violet\"><b>Killing by Race (Monthly Average)","fb830400":"# <font color=\"violet\"><b>Penembakan berdasarkan Ras","d3893223":"# <font color=\"violet\"><b>Killings by Age Category","a40639c6":"# <font color=\"violet\"><b>Killings by Race by Age","1b9c8cbd":"# <font color=\"violet\">Top 3 Races by Mental Status","1aba90a2":"Police Shootings of Black People in States","93f5fbc6":"* It looks like most of them were mentally stable. Let's Visualize Top 3 Races i.e Black, White, Hispanic by Pie chart","4c8aedf4":"Let's Analyse by Age Category","eff7a478":"# <font color=\"violet\"><b>Let's look at top 5 states and check whether the person was fleeing or not","58c1ab2a":"* We can say that the most number of people shot are from White race and then from Black Race","a610f14c":"Tahun, Jenis Kelamin, Ras","610efa0d":"# <font color=\"violet\"><b>Shot or Tasered(in Percentages)","a5483a8b":"* We can see that most of the cases are from California, Texas and Florida","e98674c3":"* It looks like that the numbers of Shot and Tasered people are comparatively less than previous years, let's confirm that by checking the data","d8e8fd56":"## <font color=\"violet\"><b>Actual Data points (manner of death by year by Age)","79060457":"## <font color=\"violet\"><b>Bersenjata atau tidak?","0ec3ebc2":"# <font color=\"violet\"><b>Preprocess","768afa6e":"Apakah Polisi terancam?","ab761cc1":"* If we talk about killings by gender, then we can see that Men count is much larger than women","cb09eec5":"* It is clear from the above graph that Other category is having least meadin age, and then we have Black, Hispanic and then White","df3a0b0e":"* The data points are not clear because the Shot count is comparatively very high. Let's check it on Log scale","bd18eeba":"* On Average 37 White people get shot every Month\n* On Average 19 Black people get shot every Month\n* On Average 13 Hispanic people get shot every Month","b2152d29":"* Most people belong to Adult Category, let's take a closer look by including Gender into picture on log scale"}}