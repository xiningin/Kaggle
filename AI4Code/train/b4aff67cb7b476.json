{"cell_type":{"48e0489f":"code","ff3fe31c":"code","a12a27a0":"code","3efe1457":"code","7e5ed503":"code","f2d0a7b6":"code","d9d93327":"code","0283de6e":"code","9a0620c1":"code","a66fbdaf":"code","1482f465":"code","54d8e3e8":"markdown","c9db24de":"markdown","cce070fa":"markdown","1df9d1e5":"markdown","0c705de6":"markdown","18e1dce2":"markdown"},"source":{"48e0489f":"import pandas as pd\nimport math\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n\nimport folium\nfrom folium import Choropleth, Circle, Marker\nfrom folium.plugins import HeatMap, MarkerCluster","ff3fe31c":"df = pd.read_csv('..\/input\/crimes-in-boston\/crime.csv', encoding='latin-1')\ndf.head()","a12a27a0":"#lower\ndf.columns = map(str.lower, df.columns)\n\n#only 2018\ndf = df[df['year'] == 2018]\n\n#remove columns \ndata = df.drop(['incident_number','offense_code','ucr_part','location'], axis=1)\n\n#fill Nan values with N\ndata.fillna('N', inplace = True)\n\ndata.head(2)","3efe1457":"ax = sns.catplot(y='offense_code_group',\n           kind='count',\n            height=8, \n            aspect=1.5,\n            order=data.offense_code_group.value_counts().nlargest(10).index,\n           data=data)","7e5ed503":"sns.catplot(x='hour',\n           kind='count',\n            height=8, \n            aspect=1.5,\n            color='red',\n           data=data)\nplt.xlabel('Hour',fontsize=25)","f2d0a7b6":"sns.catplot(x='day_of_week',\n            kind='count',\n            height=8, \n            aspect=1.5,\n            data=data)\nplt.xlabel('Day',fontsize=25)","d9d93327":"data.lat = pd.to_numeric(df.lat)\ndata.long = pd.to_numeric(df.long)","0283de6e":"m = folium.Map(location=[42.361145, -71.057083], zoom_start=13)\n \n#Add points to the map\ncluster = MarkerCluster()\nfor idx, row in data.iterrows():\n    if not math.isnan(row['long']) and not math.isnan(row['lat']):\n        cluster.add_child(Marker([row['lat'], row['long']]))\nm.add_child(cluster)","9a0620c1":"#There can be no NaN values to plot the Heatmap\ndata.dropna(subset=['lat'], inplace=True)\ndata.dropna(subset=['long'], inplace=True)\n\n\nm_1 = folium.Map(location=[42.361145, -71.057083], zoom_start=13)\n\nHeatMap(data=data[['lat','long']], radius=10).add_to(m_1)\n\nm_1","a66fbdaf":"from wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\nsummary = data.offense_description\nall_summary = \" \".join(s for s in summary)\nstopwords = set(STOPWORDS)\nstopwords.update(['M','V','MA'])\n\nwordcloud = WordCloud(stopwords=stopwords,\n                     background_color='black', width=1600,\n                     height=800).generate(all_summary)","1482f465":"fig, ax = plt.subplots(figsize=(16,8))            \nax.imshow(wordcloud, interpolation='bilinear')\nax.set_axis_off()\nplt.imshow(wordcloud) ","54d8e3e8":"# **When do serious crimes occur?**","c9db24de":"# **HeatMap**","cce070fa":"# Geospacial Analysis","1df9d1e5":"I am going to focus on the year with complete data (2018)","0c705de6":"**Top 10 most common crimes**","18e1dce2":"# WordCloud"}}