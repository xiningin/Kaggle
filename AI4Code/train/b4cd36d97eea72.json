{"cell_type":{"7b8f8640":"code","1fa54a18":"code","215debc9":"code","e5e7928b":"code","4b6b50ae":"code","1a4ffdbb":"code","b4bd9eb4":"code","fdfe6120":"code","b1d69a72":"code","aa87c233":"code","e471fb70":"code","a5ac32f1":"code","2fe2fd1c":"markdown","c5277a8a":"markdown","773f13bc":"markdown","f8c145ab":"markdown","0bccd83a":"markdown","bf861a23":"markdown","afc1753a":"markdown","586c85d4":"markdown","4d172d24":"markdown"},"source":{"7b8f8640":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom scipy import stats\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\nimport seaborn as sns","1fa54a18":"#Reading the data.\ndf = pd.read_csv('..\/input\/suicide-rates-overview-1985-to-2016\/master.csv')","215debc9":"df.head(10)","e5e7928b":"#renaming some columns in appropriate form.\ndf.rename(columns={\"suicides\/100k pop\":\"suicides_pop\", \"HDI for year\": \"HDI_for_year\", \"gdp_per_capita ($)\":\"gdp_per_capita\",\n                    \" gdp_for_year ($) \":\"gdp_for_year\"}, inplace=True)\ndf","4b6b50ae":"#removing the commas.\ndf[\"gdp_for_year\"] = df[\"gdp_for_year\"].str.replace(\",\",\"\").astype(np.int64)\ndf[\"gdp_for_year\"]","1a4ffdbb":"df[\"age\"] = df[\"age\"].str.replace(\"5-14 years\",\"05-14 years\")\ndf[\"age\"]","b4bd9eb4":"#Making a lineplot graph in order to see the relation of gender.\nsns.set(style=\"darkgrid\")\nsns.lineplot(x = df[df.sex == \"male\"].year, y = df.suicides_no, ci = None, color='blue')\nsns.lineplot(x = df[df.sex == \"female\"].year, y = df.suicides_no, ci = None, color= 'red')\nplt.legend([\"male\",\"female\"])\nplt.show()","fdfe6120":"df1 = df.groupby([\"year\",\"age\"])[\"suicides_no\", \"population\"].sum().reset_index() \n#making a group on year by age, taking the sum of suicides_no and population.\nplt.figure(figsize=(9,7))\nsns.lineplot(x = \"year\", y = df1.suicides_no*100\/df1.population, hue = \"age\",\n             data = df1, linewidth = 3, style = \"age\", markers=True, dashes=False)\nplt.xlabel('year')\nplt.ylabel('ratio')\nplt.xticks(rotation = 90)\nplt.show()","b1d69a72":"#Calculating suicide rate\ndf_sum_all = df.groupby([\"country\",\"year\"])[\"suicides_no\"].sum().sort_index(ascending=True)[:] * 100\ndf_population_sum = df.groupby([\"country\",\"year\"]).population.sum().sort_index(ascending=False)[:]\ndf_total = df_sum_all\/df_population_sum\ndf_total.head(10)","aa87c233":"country_dict={}\n\nfor country in df_total.index.get_level_values(0):\n    if country not in country_dict.keys():\n        country_dict[country] = df_total[country].mean() #assigning the mean of other countries if a county is not in keys.\n    else:\n        pass\n\nlist1 = list(country_dict.items()) #assigning a list for items\nlist1.sort(key= lambda pair:pair[1], reverse = True) #using the key function here to have an order starting alphabetically descending.\n\ncountry_list = [a[0] for a in list1] #countries in indexes\ncountry_suicide = [a[1] for a in list1] #suicides in columns","e471fb70":"#Making a barplot of suicide rate versus country\nplt.figure(figsize=(8,32))\nsns.barplot(x=country_suicide[:],y=country_list[:], palette=\"flare\")\nplt.xlabel(\"ratio of suicide\")\nplt.ylabel(\"country\")\nplt.title(\"suicide rate versus country\")\nplt.show()","a5ac32f1":"df_gdp = df.groupby([\"country\",\"year\"]).gdp_per_capita.mean() #taking the mean of gdp\ncorr_eff = {}\nfor country in country_list[:10]: #Taking the first 10 countries.\n    slope, intercept, r_value, p_value, std_err = stats.linregress(df_gdp[country].values,df_total[country].values)\n    corr_eff[country] = float(r_value)\n    \nsns.barplot(x=list(corr_eff.keys()), y=list(corr_eff.values()), palette = \"rocket\")\nplt.xticks(rotation = 90)\nplt.xlabel(\"Country\")\nplt.ylabel(\"correlation coefficient\")\nplt.title(\"GDP versus suicides\")\nplt.show()","2fe2fd1c":"Just before 90s, suicides are dramatically increasing between age of 15+","c5277a8a":"<a id = \"5\"><\/a><dr>\n### Suicide Rate","773f13bc":"<a id = \"3\"><\/a><dr>\n### Gender","f8c145ab":"# Introduction\nSadly, suicide is a common thing all around the world. We'll be taking a small look on suicide factors starting with gender, then age. Later we'll be taking a suicide rate among countries with an amount of research of key factors. Lets begin.","0bccd83a":"Males were more likely to commit suicide. After the WW2, maybe because of psychological issues males committed suicide.","bf861a23":"<a id = \"2\"><\/a><dr>\n## Factor Analysis","afc1753a":"<a id = \"1\"><\/a><dr>\n## Load and Check Data","586c85d4":"<a id = \"4\"><\/a><dr>\n### Age","4d172d24":"### Index\n<font color = 'blue'>\n\n1. [Load and Check Data](#1)\n2. [Factor Analysis](#2)\n    * [Gender](#3)\n    * [Age](#4)\n    * [Suicide Rate](#5)"}}