{"cell_type":{"292b25d1":"code","819bf62f":"code","fcce0c75":"code","3ea79c2d":"markdown"},"source":{"292b25d1":"import numpy as np\nimport pandas as pd","819bf62f":"def transform_csv2pickle(path, usecols, dtype):\n    train = pd.read_csv(\n        path,\n        usecols=usecols,\n        dtype=dtypes\n    )\n    train.to_pickle('train.pkl')\n\n\npath = '..\/input\/ubiquant-market-prediction\/train.csv'\n\nbasecols = ['row_id', 'time_id', 'investment_id', 'target']\nfeatures = [f'f_{i}' for i in range(300)]\n\ndtypes = {\n    'row_id': 'str',\n    'time_id': 'uint16',\n    'investment_id': 'uint16',\n    'target': 'float32',\n}\nfor col in features:\n    dtypes[col] = 'float32'\n\n# transform_csv2pickle(path, basecols+features, dtypes)","fcce0c75":"%%time\ntrain = pd.read_pickle('..\/input\/ump-train-picklefile\/train.pkl')\ndisplay(train.info())\ndisplay(train.head())","3ea79c2d":"This notebook introduces dataset and code converted from train.csv to pickle file.\nIt takes less than a minute to load all the data, and the data size reduce from 18.5GB to 3.6GB.\n\ndataset URL : [https:\/\/www.kaggle.com\/columbia2131\/ump-train-picklefile](https:\/\/www.kaggle.com\/columbia2131\/ump-train-picklefile)"}}