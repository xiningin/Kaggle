{"cell_type":{"34c5a039":"code","e343a252":"code","99c1a6b3":"code","a8646a6f":"code","90ad5387":"code","1b40d530":"code","32fc7be7":"code","104b79ba":"code","fc96b339":"code","1e65bd57":"code","9102dd4d":"code","ced8a76c":"code","42590937":"code","09b46f06":"code","6c20a844":"code","fefa271b":"code","360eebbc":"code","2f66daf3":"code","b85d05e9":"code","c83b8dbf":"code","769be173":"code","dc209798":"code","fab9facc":"code","677205b1":"code","8f8f6c94":"code","69ff78b1":"code","c06dfdb9":"code","452dbb93":"code","a74b24ba":"code","de1c0c59":"code","ca7b8a81":"code","b2a91868":"code","09612368":"code","a36c5af3":"code","0454b842":"code","67e81002":"code","b5b87b28":"code","ad90eb84":"code","e9edcc92":"code","c7098231":"code","4508ee5c":"code","57846f2a":"code","3339b099":"code","868abc19":"code","1fcdfefc":"code","0923d1b4":"code","f763b5dc":"code","3e8d3974":"markdown","17f0b188":"markdown","70a46d41":"markdown","2d3dd75d":"markdown","1a951da8":"markdown","9ac2da91":"markdown"},"source":{"34c5a039":"import pandas as pd\nimport numpy as np","e343a252":"import matplotlib.pyplot as plt\nimport seaborn as sns","99c1a6b3":"sns.set()","a8646a6f":"data = pd.read_csv('..\/input\/911.csv')","90ad5387":"data.head()","1b40d530":"data.shape","32fc7be7":"data.info()","104b79ba":"column_names = list(data.columns)","fc96b339":"column_names","1e65bd57":"data.title.head()","9102dd4d":"def call_type_separator(x):\n    x = x.split(':')\n    return x[0]","ced8a76c":"data['call_type'] = data['title'].apply(call_type_separator)","42590937":"data.head()","09b46f06":"data['call_type'].unique()","6c20a844":"data['call_type'].value_counts()","fefa271b":"data['timeStamp'] = pd.to_datetime(data['timeStamp'], infer_datetime_format=True)","360eebbc":"data['timeStamp'].head()","2f66daf3":"import datetime as dt","b85d05e9":"data['year'] = data['timeStamp'].dt.year","c83b8dbf":"data['month'] = data['timeStamp'].dt.month_name()","769be173":"data['day'] = data['timeStamp'].dt.day_name()","dc209798":"data['hour'] = data['timeStamp'].dt.hour","fab9facc":"data.head()","677205b1":"def emergency_type_separator(x):\n    x = x.split(':')\n    x = x[1]\n    return x","8f8f6c94":"data['emergency_type'] = data['title'].apply(emergency_type_separator)","69ff78b1":"data.head()","c06dfdb9":"data.head(2)","452dbb93":"call_types = data['call_type'].value_counts()\ncall_types","a74b24ba":"from decimal import Decimal","de1c0c59":"plt.figure(figsize=(15, 5))\nax = call_types.plot.bar()\nfor p in ax.patches:\n    ax.annotate(Decimal(str(p.get_height())), (p.get_x(), p.get_height()))\nplt.xticks(rotation=0)","ca7b8a81":"data.info()","b2a91868":"calls_data = data.groupby(['month', 'call_type'])['call_type'].count()","09612368":"calls_data.head()","a36c5af3":"calls_data_percentage = calls_data.groupby(level=0).apply(lambda x: round(100*x\/float(x.sum())))","0454b842":"calls_data_percentage.head()","67e81002":"font = {\n    'size': 'x-large',\n    'weight': 'bold'\n}","b5b87b28":"month_order = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']","ad90eb84":"calls_data_percentage = calls_data_percentage.reindex(month_order, level=0)","e9edcc92":"calls_data_percentage = calls_data_percentage.reindex(['EMS', 'Traffic', 'Fire'], level=1)","c7098231":"calls_data_percentage.head()","4508ee5c":"sns.set(rc={'figure.figsize':(12, 8)})\ncalls_data_percentage.unstack().plot(kind='bar')\nplt.xlabel('Name of the Month', fontdict=font)\nplt.ylabel('Percentage of Calls', fontdict=font)\nplt.xticks(rotation=0)\nplt.title('Calls\/Month', fontdict=font)","57846f2a":"hours_data = data.groupby(['hour', 'call_type'])['call_type'].count()","3339b099":"hours_data.head()","868abc19":"hours_data_percentage = hours_data.groupby(level=0).apply(lambda x: round(100*x\/float(x.sum())))","1fcdfefc":"hours_data_percentage.head()","0923d1b4":"hours_data_percentage = hours_data_percentage.reindex(['EMS', 'Traffic', 'Fire'], level=1)","f763b5dc":"sns.set(rc={'figure.figsize':(18, 8)})\nhours_data_percentage.unstack().plot(kind='bar')\nplt.xlabel('Hour of the day', fontdict=font)\nplt.ylabel('Percentage of Calls', fontdict=font)\nplt.xticks(rotation=0)\nplt.title('Calls\/Hour', fontdict=font)","3e8d3974":"## Hourly Data","17f0b188":"## Separating call type from the data","70a46d41":"### Extracting year, month_name, day_name, hour of the day from timestamp column","2d3dd75d":"## Extracting call_detail","1a951da8":"## Visualizing data with different parameters","9ac2da91":"## Converting timestamp to pandas datetime"}}