{"cell_type":{"b1446881":"code","029b6ff5":"code","e4b34a48":"code","31b337ba":"code","70e1bd9e":"code","5ea17404":"code","2e32f453":"code","e4219d0e":"code","5af3a3a6":"code","c5dfb12e":"code","1efc72cf":"code","f0b30101":"code","6114c078":"code","74f7f98c":"code","e4ab7642":"code","4f0e2874":"code","03bb05a8":"code","f5ff834b":"code","d42b2df5":"code","ac1472f8":"code","cda965e9":"code","05004bd2":"markdown","1f10b2ca":"markdown","45c2773a":"markdown","cd264aad":"markdown","6ae49611":"markdown","d60b12e8":"markdown","c8599b91":"markdown","3dde9391":"markdown","3e720208":"markdown","58381bec":"markdown","62ca8148":"markdown","46fab2bb":"markdown","4f755a6f":"markdown","c61b9528":"markdown","935afc8e":"markdown","1d602359":"markdown"},"source":{"b1446881":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","029b6ff5":"!pip install -q -U git+https:\/\/github.com\/mljar\/mljar-supervised.git@master","e4b34a48":"import matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objs as go\nimport pandas_profiling as pp\nfrom supervised.automl import AutoML\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import accuracy_score","31b337ba":"df = pd.read_csv('..\/input\/stroke-prediction-dataset\/healthcare-dataset-stroke-data.csv')","70e1bd9e":"df.head()","5ea17404":"df.info()","2e32f453":"df.describe()","e4219d0e":"df","5af3a3a6":"sns.set_style('whitegrid')\nfig,ax = plt.subplots(4,2,figsize=(20,20))\nax = ax.flatten()\nsns.countplot(data=df,x='stroke',ax=ax[0],palette='cool')\nsns.countplot(data=df,x='hypertension',ax=ax[1],hue='stroke',palette='cool')\nsns.countplot(data=df,x='heart_disease',ax=ax[2],hue='stroke',palette='cool')\nsns.countplot(data=df,x='ever_married',ax=ax[3],hue='stroke',palette='cool')\nsns.countplot(data=df,x='work_type',ax=ax[4],hue='stroke',palette='cool')\nsns.countplot(data=df,x='gender',ax=ax[5],hue='stroke',palette='cool')\nsns.countplot(data=df,x='Residence_type',ax=ax[6],hue='stroke',palette='cool')\nsns.countplot(data=df,x='smoking_status',ax=ax[7],hue='stroke',palette='cool')\nplt.show()","c5dfb12e":"fig = px.histogram(df,x=df['bmi'],color='stroke',template='plotly_dark')\nfig.show()","1efc72cf":"fig = px.histogram(df,x='avg_glucose_level',color='stroke',template='plotly_dark')\nfig.show()","f0b30101":"fig = px.histogram(df,x=df['age'],color='stroke',template='plotly_dark')\nfig.show()","6114c078":"trace1 = go.Histogram(\n    x=df.bmi,\n    opacity=0.75,\n    name = \"bmi\",\n    marker=dict(color='rgba(171, 50, 196, 0.6)'))\ntrace2 = go.Histogram(\n    x=df.avg_glucose_level,\n    opacity=0.75,\n    name = \"average glucose level\",\n    marker=dict(color='rgba(12, 50, 196, 0.6)'))\ntrace3 = go.Histogram(\n    x=df.age,\n    opacity=0.75,\n    name = \"age\",\n    marker=dict(color='rgba(20, 200, 20, 0.6)'))\n\ndata = [trace1, trace2,trace3]\nlayout = go.Layout(barmode='overlay',\n                   title='correlation of numericle variables',\n                   xaxis=dict( title='Value'),\n                   yaxis=dict( title='Count'),\n)\nfig = go.Figure(data=data, layout=layout)\nfig.show()","74f7f98c":"\nplt.figure(figsize=(10,10))\nsns.heatmap(df.corr(),cmap='Greens',annot=True)\nplt.show()","e4ab7642":"sns.pairplot(data=df,hue='stroke')\nplt.show()","4f0e2874":"pp.ProfileReport(df)","03bb05a8":"df = df.drop('id',axis=1)\ny = df.pop('stroke')\ndf.head()","f5ff834b":"train_x,test_x,train_y,test_y = train_test_split(df,y,test_size=0.2,random_state=42)","d42b2df5":"model = AutoML(mode='Perform',eval_metric='f1')\nmodel.fit(train_x,train_y)","ac1472f8":"preds = model.predict(test_x)","cda965e9":"score = accuracy_score(preds,test_y)\nprint(score)","05004bd2":"# Table of content\n\n* [<font size=4>Importing required libraries <\/font>](#1)\n* [<font size=4>EDA<\/font>](#2)\n    * [How does bmi affects stroke](#2.1)\n    * [How does average glucose level affect stroke?](#2.2)\n    * [How does age affects stroke?](#2.3)\n    * [Lets check how numericle variables correlate with each other](#2.4)\n* [<font size=4>Modeling<\/font>](#3)\n\n* [<font size=4>Conclusion<\/font>](#4)","1f10b2ca":"# Importing libraries <a id='1'><\/a>","45c2773a":"# Conclusion <a id='4'><\/a>\n\n<html><font size= 4 color = \"blue\">this concludes my kernel Please upvote if you liked it<\/font><\/html>","cd264aad":"We can see a direct correlation between age and stroke. Older people are more prone to experiencing a stroke but we can't easily visualize such a relationship in BMI and average glucose level so let's plot a heatmap","6ae49611":"# how does age affects stroke? <a id='2.3'><\/a>","d60b12e8":"![](https:\/\/media.giphy.com\/media\/kfvEdnjjcAoea0naii\/giphy.gif)","c8599b91":"<center><img src=\"https:\/\/storage.googleapis.com\/kaggle-datasets-images\/1120859\/1882037\/04da2fb7763e553bdf251d5adf6f88d9\/data-original.jpg?t=2021-01-26-19-57-05\" width=\"700px\"><\/center>","3dde9391":"# EDA <a id='2'><\/a>","3e720208":"# <html> <font size=4 color='blue'>the dataset is unevenly distributed and contains very less no. of people who have suffered a stroke or other health problems<\/font>\n<\/html>","58381bec":"# Introduction","62ca8148":"# Modeling <a id = '3'><\/a>","46fab2bb":"<html><font size=4 color='blue'>bmi contains some null values<\/font><\/html>","4f755a6f":"# How does bmi affects stroke <a id='2.1'><\/a>","c61b9528":"A stroke is a medical condition in which poor blood flow to the brain causes cell death. In 2018, 1 in every 6 deaths from cardiovascular disease was due to stroke.\n\nIn this kernel, I performed EDA on stroke prediction dataset using Plotly and seaborn and then used AutoML for predicting stroke.\n","935afc8e":"# Lets check how numericle variables correlate with each other <a id='2.4'><\/a>","1d602359":"# how does average glucose level affect stroke? <a id='2.2'><\/a>"}}