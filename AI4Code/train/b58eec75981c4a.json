{"cell_type":{"58b4adfb":"code","d51cbda5":"code","e630edab":"code","9f57f403":"code","99a7381c":"code","524c28e4":"code","387781d2":"code","3ebf0b16":"code","568bdc49":"code","b29b2d16":"code","7add9829":"code","19477b68":"code","22f909d2":"code","243da2e7":"code","6736439c":"code","1996328b":"code","f1094102":"code","2a190e78":"code","21a6836f":"code","86141731":"code","a2867a28":"code","723fd4bf":"code","b5366227":"code","438ea0c3":"code","094a5969":"code","46f0ed15":"code","b587a606":"code","277c74cd":"code","006e0c2a":"code","24a5db92":"code","e78cc300":"code","f3509736":"code","e4ae7c71":"code","e91e024d":"code","db526c88":"code","e701ae65":"code","bcfad0ca":"code","c7a6fd95":"markdown","34a7132e":"markdown","c1802e58":"markdown","3e55b21d":"markdown","640b23e2":"markdown","74af213b":"markdown","2dc2d2eb":"markdown","1252bf44":"markdown","09e6dbda":"markdown","7febefe4":"markdown","d15823dd":"markdown","51d28f6e":"markdown","89441d3d":"markdown","ee29f603":"markdown","e6fac1d1":"markdown","c09fc610":"markdown","fa9651ff":"markdown","ce06a18b":"markdown","a09e368c":"markdown","0dfb07e0":"markdown","1255fda9":"markdown","2eb07225":"markdown","a6467f33":"markdown","723ceefc":"markdown","fa346948":"markdown","9cec8e0d":"markdown","c47d4698":"markdown","052a3af1":"markdown","49f18e58":"markdown","3861c343":"markdown"},"source":{"58b4adfb":"from IPython.display import Image\n\nImage(url='https:\/\/img4.cityrealty.com\/neo\/i\/p\/mig\/airbnb_guide.jpg')","d51cbda5":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns","e630edab":"ny=pd.read_csv(\"..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv\")\nny\n","9f57f403":"ny.head()","99a7381c":"ny.info()","524c28e4":"num_cols=ny.select_dtypes(exclude=\"object\").columns\nnum_cols","387781d2":"cat_cols=ny.select_dtypes(include=\"object\").columns\ncat_cols","3ebf0b16":"ny.dtypes","568bdc49":"ny.isnull().sum()","b29b2d16":"ny=ny.drop([\"id\",\"host_name\",\"last_review\"],axis=1)\nny.head()","7add9829":"ny=ny.fillna({\"reviews_per_month\":0})","19477b68":"ny.isnull().sum()","22f909d2":"ny.duplicated().sum()","243da2e7":"ny.neighbourhood_group.value_counts().plot(kind=\"bar\")\nplt.title(\"Share of neighbourhood\")\nplt.xlabel(\"neighbourhood_group\")\nplt.ylabel(\"Count\")","6736439c":"ny['neighbourhood_group'].value_counts().plot.pie(explode=[0,0.1,0,0,0],autopct='%1.1f%%',shadow=True)\n","1996328b":"plt.figure(figsize=(10,6))\nsns.countplot(x = 'room_type',hue = \"neighbourhood_group\",data = ny)\nplt.title(\"Room types occupied by the neighbourhood_group\")\nplt.show()","f1094102":"sns.barplot(data=ny,x=\"neighbourhood_group\",y=\"price\")","2a190e78":"ny[\"price\"].describe()","21a6836f":"sns.heatmap(ny.corr(),annot=True,cmap=\"coolwarm\")","86141731":"f,ax = plt.subplots(figsize=(16,8))\nax = sns.scatterplot(y=ny.latitude,x=ny.longitude,hue=ny.neighbourhood_group,palette=\"coolwarm\")\nplt.show()","a2867a28":"plt.figure(figsize=(10,6))\nny1=ny[ny.price<500]\n\nny1.plot(kind='scatter', x='longitude',y='latitude',label='availability_365',c='price',cmap=plt.get_cmap('jet'),colorbar=True,alpha=0.4,figsize=(10,10))\n\nplt.show()","723fd4bf":"sns.stripplot(data=ny,x='room_type',y='price',jitter=True)\n\nplt.show()","b5366227":"plt.figure(figsize=(10,6))\nny['number_of_reviews'].plot(kind='hist')\nplt.xlabel(\"Price\")\n\nplt.show()","438ea0c3":"f,ax = plt.subplots(figsize=(25,5))\nax=sns.stripplot(data=ny,x='minimum_nights',y='price',jitter=True)\n\nplt.show()","094a5969":"ny1=ny.sort_values(by=['number_of_reviews'],ascending=False).head(100)\nny1.head()","46f0ed15":"\nimport statsmodels.api as sm\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import mean_squared_error,r2_score\nfrom sklearn import preprocessing\nfrom sklearn.feature_selection import RFE\n\nimport warnings \nwarnings.filterwarnings('ignore')","b587a606":"ny[\"name\"] = pd.get_dummies(ny['name'])\nny[\"neighbourhood_group\"]= pd.get_dummies(ny['neighbourhood_group'])\nny[\"neighbourhood\"]= pd.get_dummies(ny['neighbourhood'])\nny[\"room_type\"]= pd.get_dummies(ny['room_type'])\n\n","277c74cd":"ny","006e0c2a":"X=ny.drop('price',axis=1)\ny=ny['price']","24a5db92":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.30, random_state=42)","e78cc300":"lr=LinearRegression()\nlr.fit(X_train,y_train)\ny_pred=lr.predict(X_test)\nr2_score(y_test,y_pred)","f3509736":"rfe = RFE(lr, 7)\n#Transforming data using RFE\nX_rfe = rfe.fit_transform(X,y)  \n#Fitting the data to model\nlr.fit(X_rfe,y)\nprint(rfe.support_)\nprint(rfe.ranking_)","e4ae7c71":"#no of features\nnof_list=np.arange(1,10)            \nhigh_score=0\n#Variable to store the optimum features\nnof=0           \nscore_list =[]\nfor n in range(len(nof_list)):\n    X_train, X_test, y_train, y_test = train_test_split(X,y, test_size = 0.3, random_state = 0)\n    lr = LinearRegression()\n    rfe = RFE(lr,nof_list[n])\n    X_train_rfe = rfe.fit_transform(X_train,y_train)\n    X_test_rfe = rfe.transform(X_test)\n    lr.fit(X_train_rfe,y_train)\n    score = lr.score(X_test_rfe,y_test)\n    score_list.append(score)\n    if(score>high_score):\n        high_score = score\n        nof = nof_list[n]\nprint(\"Optimum number of features: %d\" %nof)\nprint(\"Score with %d features: %f\" % (nof, high_score))","e91e024d":"xc=sm.add_constant(X)\nlm=sm.OLS(y,xc).fit()\nlm.summary()","db526c88":"X=X.drop(\"minimum_nights\",axis=1)","e701ae65":"xc=sm.add_constant(X)\nlm=sm.OLS(y,xc).fit()\nlm.summary()","bcfad0ca":"plt.figure(figsize=(16,8))\nsns.regplot(y_test,y_pred)\nplt.xlabel('Actual')\nplt.ylabel('Prediction')\nplt.title(\"SLR Model\")\nplt.grid(False)\nplt.show()","c7a6fd95":"We can observe from the dataset,there are 488895 rows and 16 columns.","34a7132e":"Longitude vs Latitude (representing different neighbourhood groups)","c1802e58":"Since 2008, guests and hosts have used Airbnb to expand on traveling possibilities and present a more unique, personalized way of experiencing the world. Today, Airbnb became one of a kind service that is used and recognized by the whole world. Data analysis on millions of listings provided through Airbnb is a crucial factor for the company. These millions of listings generate a lot of data - data that can be analyzed and used for security, business decisions, understanding of customers' and providers' (hosts) behavior and performance on the platform, guiding marketing initiatives, implementation of innovative additional services and much more.","3e55b21d":"We are using recurssive feature elimination model and accuracy we got is 10.39% when number of features are 9. ","640b23e2":"### Model 3","74af213b":"In our case, missing data that is observed does not have that much of importance regarding our dataset. Looking into the nature of our dataset we can state further things: columns \"name\" and \"host_name\" are irrelevant and insignificant to our data analysis, columns \"last_review\" and \"review_per_month\" need very simple handling. To elaborate, \"last_review\" is date; if there were no reviews for the listing - date simply will not exist. In our case, this column is irrelevant and insignificant therefore appending those values is not needed. For \"review_per_month\" column we can simply append it with 0.0 for missing values; we can see that in \"number_of_review\" that column will have a 0, therefore following this logic with 0 total reviews there will be 0.0 rate of reviews per month. Therefore, let's proceed with removing columns that are not important and handling of missing data.","2dc2d2eb":"We can see that low cost rooms or in range 0-50 $ have more reviews","1252bf44":"## Comparision between different models\n##### Assumptions :Data is following linear regression\n","09e6dbda":"Manhatten and Brooklyn have the highest share of hotels","7febefe4":"Comapring prices of different airbnb flats and rooms with different latitudes.Red color dots are the apartment or rooms with higher price.I have considered prices upto 300 $ to get a goo representation on the plot.We can see that Manhattan region has more expensive apartments.","d15823dd":"We can see that rooms with low minimum nights have high price.As mentioned before Home\/Apt have the highest price","51d28f6e":"### Displaying rooms with maximum reviews","89441d3d":"From the above plot we can observe that the prices are very high in Manhattan.","ee29f603":"From above heatmap we can find that there is no strong corelation except number_of_reviews vs reviews_per_month.","e6fac1d1":"# New York City Airbnb Open Data ","c09fc610":"### Importing libraries and loading data","fa9651ff":"## Data Source","ce06a18b":"We are using Superwise linear regression model(SLR) and the accuracy we got is 12.47%.Our model is predicting that how price is varying in newyork on different features.","a09e368c":"**So we are using SLR model because it gives the highest accuracy 12.47%.** ","0dfb07e0":"We can see that different room type has different price range.","1255fda9":"## Exploratory Data Analysis ","2eb07225":"### Model 2","a6467f33":"## Abstract","723ceefc":"### Model 1","fa346948":"There are 10 columns which has numerical values and 6 columns has categorical values.We also check the types of the columns.","9cec8e0d":"There is high concentration of prediction value between 0 to 1000.\n>The accuracy of the model is low because the data is not equally spread along the linear regression line.\n","c47d4698":"We have got the Neighborhood wise share of rooms","052a3af1":"After loading the dataset in and from the head of AB_2019_NYC dataset we can see a number of things. These 16 columns provide a very rich amount of information for deep data exploration we can do on this dataset. We do already see some missing values, which will require cleaning and handling of NaN values.","49f18e58":"We are using OLS model and we have dropped three features name,neighbourhood,minimum nights and the accuracy we got is 9.1%","3861c343":"This dataset has around 49,000 observations in it with 16 columns and it is a mix between categorical and numeric values."}}