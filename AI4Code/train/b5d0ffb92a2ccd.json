{"cell_type":{"b531ee2e":"code","36f9364e":"code","6cc5eab1":"code","bf0f3b5b":"code","ad48cc5b":"code","7aec594d":"code","242da363":"code","5febea35":"code","9f5efe86":"code","4e3dce84":"code","394aa0c5":"code","8142a904":"code","0d2799ec":"code","5276b51a":"code","2ac6dbb0":"code","0a5366aa":"code","be438ba3":"code","4c7d7fb0":"code","93683be1":"code","560987e5":"code","9baaa31d":"code","951131ed":"code","3a9ef499":"code","291c4661":"code","afc76547":"code","a6463ec0":"code","60262c6d":"code","721e6448":"code","1e2dd77f":"markdown","b828a82a":"markdown","5ad87373":"markdown","9e5a0f84":"markdown","57d0c1bb":"markdown","264ea319":"markdown","123438df":"markdown","aab010e4":"markdown","5e040045":"markdown","897459bf":"markdown","29ea958e":"markdown","618c2cd1":"markdown","cf97b2f0":"markdown","bdc5d5e7":"markdown","1c96585c":"markdown","bbee40c5":"markdown","1870e3e4":"markdown","ce0e7e06":"markdown","6f513e0c":"markdown"},"source":{"b531ee2e":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","36f9364e":"!pip install bar_chart_race\nimport numpy as np\nimport pandas as pd\nfrom IPython.display import HTML,display\nimport bar_chart_race as bcr\nimport plotly.express as px\nimport plotly.graph_objects as go","6cc5eab1":"data = pd.read_csv('..\/input\/covid19-by-country-with-government-response\/covid19_by_country.csv')\npopulation = pd.read_csv('..\/input\/covid19-by-country-with-government-response\/covid19_country_population.csv')","bf0f3b5b":"data","ad48cc5b":"data_pivot = data.pivot_table(index='Date',columns='Country')\ndata_latest = data_pivot.tail(1)\nday = data_latest.index[0]","7aec594d":"total_confirmed = []\ntotal_death = []\nfor i in range(len(data_pivot)):\n    day = data_pivot.index[i]\n    latest_confirmed = data_pivot['confirmed'].T\n    latest_death = data_pivot['deaths'].T\n    total_deaths_world = 0\n    total_cases_world = 0\n    for j,k in zip(latest_confirmed[day],latest_death[day]):\n        total_cases_world += j\n        total_deaths_world += k\n    total_confirmed.append(total_cases_world)\n    total_death.append(total_deaths_world)","242da363":"global_situation = pd.DataFrame({\"Date\":data_pivot.index,\"Total Confirmed Cases\":total_confirmed,\n                                 \"Total Death\":total_death})","5febea35":"#fig = go.Figure([go.Scatter(x=global_situation['Date'], y=global_situation['Total Confirmed Cases'])])\nfig = px.line(global_situation, x=\"Date\", y=global_situation.columns,\n              title='Global Situation')\nfig.show()","9f5efe86":"countries = data[\"Country\"].unique()\nfig=go.Figure()\n\nco_plot_names = []\nbuttons=[]\ndefault_country = \"US\"\n\nfor country_name in countries:\n    country = data[data[\"Country\"] ==  country_name]\n   \n    fig.add_trace(go.Box(x=country[\"Date\"], y=country[\"confirmed\"], visible=(country_name==default_country)))\n    fig.add_trace(go.Box(x=country[\"Date\"], y=country[\"deaths\"],visible=(country_name==default_country)))\n    \n    co_plot_names.extend([country_name]*2)\n    \nfor country_name in countries:\n    buttons.append(dict(method='update',\n                        label=country_name,\n                        args = [{'visible': [country_name==r for r in co_plot_names]}]))\n\nfig.update_layout(showlegend=False, updatemenus=[{\"buttons\": buttons, \"direction\": \"down\",\"showactive\": True, \"x\": 0.5, \"y\": 1.15}])\nfig.show()","4e3dce84":"latest_confirmed = data_latest['confirmed'].T.sort_values(by=day,ascending=False)\nlatest_confirmed_top = latest_confirmed[0:20]\nfig = go.Figure([go.Bar(x=list(latest_confirmed_top.index),y=latest_confirmed_top[day].values)])\nfig.update_layout(title_text='Total Cases by Country  (As of Dec 28th)')\nfig.show()","394aa0c5":"latest_death = data_latest['deaths'].T.sort_values(by=day,ascending=False)\nlatest_death_top = latest_death[0:20]","8142a904":"fig = go.Figure([go.Bar(x=list(latest_death_top.index),y=latest_death_top[day].values)])\nfig.update_layout(title_text='Total Death Cases by Country  (As of Dec 28th)')\nfig.show()","0d2799ec":"asia_cols = [\"India\",\"Turkey\",\"Iran\",\"Indonesia\",\"Iraq\",\"Bangladesh\",\"Philippines\",\"Pakistan\",\n            \"Israel\",\"Saudi Arabia\",\"Jordan\",\"Nepal\",\"Georgia\",\"Azerbaijan\",\"Japan\",\"United Arab Emirates\",\n            \"Lebanon\",\"Armenia\",\"Kuwait\",\"Kazakhstan\",\"Qatar\",\"Oman\",\"Malaysia\",\"Bahrain\",\"China\",\n            \"Kyrgyzstan\",\"Uzbekistan\",\"Korea, South\",\"Afghanistan\",\"Sri Lanka\",\"Cyprus\",\"Maldives\",\n            \"Tajikistan\",\"Syria\",\"Thailand\",\"Yemen\",\"Vietnam\",\"Mongolia\",\"Taiwan\",\"Bhutan\",\n            \"Cambodia\",\"Brunei\",\"Laos\",\"Timor-Leste\",\"West Bank and Gaza\",\"Burma\"]\neurope_cols = [\"Russia\",\"France\",\"United Kingdom\",\"Italy\",\"German\",\"Spain\",\"Poland\",\"Ukraine\",\n              \"Netherlands\",\"Czechia\",\"Belgium\",\"Romania\",\"Switzerland\",\"Portugal\",\"Sweden\",\n              \"Austria\",\"Hungary\",\"Serbia\",\"Croatia\",\"Bulgaria\",\"Belarus\",\"Slovakia\",\"Denmark\"\n              \"Moldova\",\"Greece\",\"Lithuania\",\"Slovenia\",\"Bosnia and Herzegovina\",\"Ireland\",\n              \"North Macedonia\",\"Albania\",\"Luxembourg\",\"Norway\",\"Montenegro\",\"Finland\",\n              \"Latvia\",\"Estonia\",\"Malta\",\"Andorra\",\"Iceland\",\"San Marino\",\"Liechtenstein\",\n              \"Monaco\",\"Kosovo\"]\noceania = [\"Australia\",\"New Zealand\",\"Papua New Guinea\",\"Fiji\",\"Solomon Islands\",\"Marshall Islands\",\"Samoa\",\"Vanuatu\"]\nn_america = [\"US\",\"Mexico\",\"Canada\",\"Panama\",\"Dominican Republic\",\"Costa Rica\",\"Guatemala\",\n            \"Honduras\",\"El Salvador\",\"Jamaica\",\"Cuba\",\"Belize\",\"Haiti\",\"Bahamas\",\"Trinidad and Tobago\"\n            \"Nicaragua\",\"Saint Lucia\",\"Antigua and Barbuda\",\"Saint Vincent and the Grenadines\"\n            \"Grenada\",\"Dominica\",\"Saint Kitts and Nevis\"]\ns_america = [\"Brazil\",\"Argentina\",\"Colombia\",\"Peru\",\"Chile\",\"Ecuador\",\"Bolivia\",\"Venezuela\"\n            \"Paraguay\",\"Uruguay\",\"Guyana\",\"Suriname\"]\nafrica = [\"South Africa\",\"Morocco\",\"Egypt\",\"Tunisia\",\"Ethiopia\",\"Libya\",\"Algeria\",\"Kenya\",\"Nigeria\"\n         \"Ghana\",\"Uganda\",\"Cameroon\",\"Sudan\",\"Namibia\",\"Zambia\",\"Senegal\",\"Mozambique\",\"Madagascar\",\n          \"Angola\",\"Botswana\",\"Guinea\",\"Mauritania\",\"Zimbabwe\",\"Cabo Verde\",\"Gabon\",\"Eswatini\",\"Rwanda\",\n          \"Mali\",\"Malawi\",\"Congo (Brazzaville)\",\"Congo (Kinshasa)\",\"Djibouti\",\"Burkina Faso\",\"Equatorial Guinea\",\n          \"Central African Republic\",\"Somalia\",\"Gambia\",\"Togo\",\"South Sudan\",\"Benin\",\"Niger\",\n          \"Lesotho\",\"Sierra Leone\",\"Guinea-Bissau\",\"Chad\",\"Liberia\",\"Sao Tome and Principe\",\n          \"Eritrea\",\"Burundi\",\"Comoros\",\"Mauritius\",\"Tanzania\",\"Seychelles\",\"Cote d'Ivoire\"]","5276b51a":"europe = data[data[\"Country\"].isin(europe_cols)]\neurope","2ac6dbb0":"cols = [\"Country\",\"Date\",\"confirmed\",\"deaths\",\"recoveries\"]\neurope = europe[cols]","0a5366aa":"europe = europe.pivot_table(index='Date',columns='Country')","be438ba3":"bcr.bar_chart_race(df=europe['confirmed'], n_bars=10,figsize=(5, 2),filter_column_colors=True)","4c7d7fb0":"bcr.bar_chart_race(df=europe['deaths'], n_bars=10, filter_column_colors=True,figsize=(5, 2))","93683be1":"asia = data[data[\"Country\"].isin(asia_cols)]\nasia = asia.pivot_table(index='Date',columns='Country')\nbcr.bar_chart_race(df=asia['confirmed'], n_bars=10,figsize=(5, 2),filter_column_colors=True)","560987e5":"bcr.bar_chart_race(df=asia['deaths'], n_bars=10,figsize=(5, 2),filter_column_colors=True)","9baaa31d":"na = data[data[\"Country\"].isin(n_america)]\nna = na.pivot_table(index='Date',columns='Country')\nbcr.bar_chart_race(df=na['confirmed'], n_bars=10,figsize=(5, 2),filter_column_colors=True)","951131ed":"bcr.bar_chart_race(df=na['deaths'], n_bars=10,figsize=(5, 2),filter_column_colors=True)","3a9ef499":"sa = data[data[\"Country\"].isin(s_america)]\nsa = sa.pivot_table(index='Date',columns='Country')\nbcr.bar_chart_race(df=sa['confirmed'], n_bars=10,figsize=(5, 2),filter_column_colors=True)","291c4661":"bcr.bar_chart_race(df=sa['deaths'], n_bars=10,figsize=(5, 2),filter_column_colors=True)","afc76547":"af = data[data[\"Country\"].isin(africa)]\naf = af.pivot_table(index='Date',columns='Country')\nbcr.bar_chart_race(df=af['confirmed'], n_bars=10,figsize=(5, 2),filter_column_colors=True)","a6463ec0":"bcr.bar_chart_race(df=af['deaths'], n_bars=10,figsize=(5, 2),filter_column_colors=True)","60262c6d":"oc = data[data[\"Country\"].isin(oceania)]\noc = oc.pivot_table(index='Date',columns='Country')\nbcr.bar_chart_race(df=oc['confirmed'], n_bars=5,figsize=(5, 2))","721e6448":"bcr.bar_chart_race(df=oc['deaths'], n_bars=5,figsize=(5, 2))","1e2dd77f":"* Reference: https:\/\/www.kaggle.com\/benhamner\/python-plotly-dropdown-demo","b828a82a":"* In this notebook, we analyze the COVID-19 data by using [Plotly](https:\/\/plotly.com\/python\/) and [bar_chart_race](https:\/\/www.dexplo.org\/bar_chart_race\/).\n* Ploty... One of the data visualization libraries\n* bar_chart_race... Library used for making animated bar chart races\n* If you like, please feel free to upvote.\n\n# Data Source\n* [COVID-19 by country - Daily Update](https:\/\/www.kaggle.com\/jcsantiago\/covid19-by-country-with-government-response)\n\n","5ad87373":"# COVID-19 Data Animation","9e5a0f84":"# Total Death Cases","57d0c1bb":"# Total Confirmed Cases (Europe)","264ea319":"# Total Confirmed Cases","123438df":"# Total Confirmed Cases (Africa)","aab010e4":"# Total Death Cases (Oceania)","5e040045":"# Total Death Cases (North America)","897459bf":"# Confirmed Cases and Deaths by Country","29ea958e":"# Global Situation ","618c2cd1":"# Total Death Cases (Europe)","cf97b2f0":"# Total Death Cases (Africa)","bdc5d5e7":"# Total Confirmed Cases (Oceania)","1c96585c":"# Total Confirmed Cases (Asia)","bbee40c5":"# Total Confirmed Cases (South America)","1870e3e4":"# Total Death Cases (South America)","ce0e7e06":"# Total Death Cases (Asia)","6f513e0c":"# Total Confirmed Cases (North America)"}}