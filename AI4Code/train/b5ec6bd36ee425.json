{"cell_type":{"756c3e62":"code","1fb6f16d":"code","07b88796":"code","b7231a1f":"code","24f4ba25":"code","4d000951":"code","cef2ff2f":"code","c3158aff":"code","e846299b":"markdown","127af19e":"markdown","0cd32c95":"markdown","b01102d9":"markdown","12d25e2a":"markdown","c94d0281":"markdown","fc3f6be6":"markdown","483087ba":"markdown","fc5f1933":"markdown","55c9e7d7":"markdown","d1c32835":"markdown","0530f24f":"markdown","14c321a9":"markdown","ca7449c6":"markdown","a151823e":"markdown","4230a7b9":"markdown"},"source":{"756c3e62":"# Import all necessary modules and initialize the plot style.\nimport numpy as np \nimport pandas as pd\nimport seaborn as sns\nimport plotly.express as px\n\nimport matplotlib.pyplot as plt\nfrom matplotlib import style\nstyle.use('ggplot')\n\nimport matplotlib.pyplot as plt\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.preprocessing import PolynomialFeatures\nfrom sklearn.pipeline import make_pipeline","1fb6f16d":"listing = pd.read_csv('..\/input\/airbnb-seattle-listings-data\/airbnb_seattle_listings_data.csv')\nlisting.head(5)","07b88796":"listing.dropna(subset=['host_acceptance_rate', 'reviews_per_month', 'review_scores_rating'], inplace=True)","b7231a1f":"display(listing)","24f4ba25":"X = listing['host_acceptance_rate'].transform(lambda x: float(x.strip('%')) \/ 100).values.reshape(-1, 1)   # values converts it into a numpy array\nY = listing['reviews_per_month'].values.reshape(-1, 1)  # -1 means that calculate the dimension of rows, but have 1 column\n\nmodel = LinearRegression()\nmodel.fit(X,Y)\nY_pred = model.predict(X)\n\nplt.figure(figsize=(8,8))\nplt.scatter(X, Y, s=30)\nplt.plot(X, Y_pred, color='black')\nplt.title('Host acceptance rate vs. Review number per month')\nplt.xlabel('Host acceptance rate')\nplt.ylabel('Review number per month')\nplt.show()","4d000951":"# Group by acceptance rate and take the average number of reviews for each given acceptance rate.\nprocessed_listing = listing.groupby('host_acceptance_rate').mean().reset_index()\n\nX = processed_listing['host_acceptance_rate'].transform(lambda x: float(x.strip('%')) \/ 100).values.reshape(-1, 1)   # values converts it into a numpy array\nY = processed_listing['reviews_per_month'].values.reshape(-1, 1)  # -1 means that calculate the dimension of rows, but have 1 column\n\nmodel = LinearRegression()\nmodel.fit(X,Y)\nY_pred = model.predict(X)\n\nplt.figure(figsize=(8,8))\nplt.scatter(X, Y, s=30)\nplt.plot(X, Y_pred, color='black')\nplt.title('Host acceptance rate vs. Average review number per month')\nplt.xlabel('Host acceptance rate')\nplt.ylabel('Average review number per month')\nplt.show()","cef2ff2f":"X = processed_listing['host_acceptance_rate'].transform(lambda x: float(x.strip('%')) \/ 100).values.reshape(-1, 1)   # values converts it into a numpy array\nY = processed_listing['review_scores_rating'].values.reshape(-1, 1)  # -1 means that calculate the dimension of rows, but have 1 column\n\nlog_Y = np.log(1 + Y)\nmodel = LinearRegression()\nmodel.fit(X,log_Y)\nlog_Y_pred = model.predict(X)\nY_pred = np.exp(log_Y_pred) - 1\n\nplt.figure(figsize=(8,8))\nplt.scatter(X, log_Y, s=30)\nplt.plot(X, log_Y_pred, color='black')\nplt.title('Host acceptance rate vs. Average review scores rating')\nplt.xlabel('Host acceptance rate')\nplt.ylabel('Log-transformed average review scores rating')\nplt.show()","c3158aff":"processed_listing = listing.groupby('reviews_per_month').mean().reset_index()\n\nX = processed_listing['reviews_per_month'].values.reshape(-1, 1)   # values converts it into a numpy array\nY = processed_listing['review_scores_rating'].values.reshape(-1, 1)  # -1 means that calculate the dimension of rows, but have 1 column\n\nmodel = LinearRegression()\nmodel.fit(X,Y)\nY_pred = model.predict(X)\n\nplt.figure(figsize=(8,8))\nplt.scatter(X, Y, s=30)\nplt.plot(X, Y_pred, color='black')\nplt.title('Reviews per month vs. Average review scores rating')\nplt.xlabel('Reviews per month')\nplt.ylabel('Average review scores rating')\nplt.show()","e846299b":"For the completeness, I also want to learn the relationship between the number of reviews and the average review rating in the context of Airbnb listing. Based on the above analysis, these two dimensions are intrinsically related via the host acceptance rate, and a result my expectation is they are positively correlated, though this is not necessarily true in a generic context.","127af19e":"# Seattle Airbnb data analysis on relationship b\/w acceptance rates and reviews ","0cd32c95":"The figure above reveals that a higher host acceptance rate implies on average an increased number of monthly reviews. This is also an intuitive conclusion as more acceptance might implies more guests served per month, which leads to a larger number of reviews. In the next part, we study the relationship between the host acceptance rate and the average review rating.\n","b01102d9":"### 1. Correlation between host acceptance rate and reviews per month","12d25e2a":"The data is ready for analysis.","c94d0281":"### 2. Correlation between host acceptance rate and review scores rating","fc3f6be6":"From the figure above we can see given the host acceptance rate, the number of received reviews can be distributed within a relatively large range, but there is an overall trend that the number of reviews increases as the host acceptance rate increases (telling from the exponentially increasing envelope). To study this trend, we take the average number of reviews (to reflect the overall trend) for each host acceptance rate and apply linear regression to model their relation.","483087ba":"For this study, we first apply the logarithmic transformation $Y' = \\log(1+Y)$ to the average review scores rating to have a nicer spreadout on the second dimension.","fc5f1933":"## Next Steps\n\nThe next logical step is looking for other possible correlations of getting more reviews and better ratings such as listing descriptions or neighborhood overview, and I will comapre different classifier models, including Decision Trees, SVMs, Naive Bayes etc. and which one performs the best for this kind of data.","55c9e7d7":"### 3. Correlation between reviews per month and review scores rating","d1c32835":"The above plot indeed suggests that more monthly reviews leads to a higher average rating. If we think of the influx of reviews as an iterative process, we can project an intersting positive feedback loop in the dynamics among host acceptance rate, monthly number of reviews, and the average rating. That is, a high host acceptance may bootstrap more reviews, which leads to better rating. A higher review score might attract more visitors and with the high acceptance rate, it leads to more reviews. This might be an insight into why a high host acceptance rate can be important for hosts.","0530f24f":"## Analysis","14c321a9":"## Data import and clean-up","ca7449c6":"## Overview\n\nAirbnb created economic opportunities for people to earn needed extra income by listing their homes. Due to the coronavirus pandemic, hosts on Airbnb around the world have struggled financially because of the economic hardship. To help hosts get more earning or booking, I aim to offer recommendations for increasing the review rating by studying the relation between the host acceptance rate for a property and the corresponding review rating. I hypothesize that listing hosts with higher acceptance rates have a higher probability of getting more reviews and better ratings.\n\n## Method\n\nI will choose Pathway 1: exploring Python for Machine Learning in this mini-project. The analysis will adopt a supervised learning method to study the relationship between the host acceptance rate for a property and the average review rating. Specifically, I will use regression to fit a model to describe the relationship between the two. \n\nThe dataset is part of Airbnb Inside that was scrapped on March 2021, and the original source can be found [here](http:\/\/insideairbnb.com\/get-the-data.html). They are available under a Public Domain Dedication license, so there is no restriction to use them.\u00a0\n\nIn this mini-project, I will analyze:\n\n* **host_acceptance_rate**: That rate at which a host accepts booking requests\n* **reviews_per_month**: The number of reviews the listing has over the lifetime of the listing\n* **review_scores_rating**: The score of ratings the listing has ","a151823e":"As can be seen above, a higher host acceptance rate leads to a higher average review rating. A relatively large number of reviews and a high average rating are typically indicators for good service in my personal experience and they are also non-trivial factors in my own decision for picking hosts in the past. Based on the above analysis, I would like to recommend hosts to increase their acceptance rate whenever possible.","4230a7b9":"## Conclusion\n\nBased on the result and visulization above, I conclude the following insights from analyzing Airbnb data:\n\n* Listing hosts with higher acceptance rates tend to obtain more reviews and better ratings.\n* Review number and review score rating are empirically and positively correlated.\n\nThis validates the hypothesis proposed at the beginning of this study. "}}