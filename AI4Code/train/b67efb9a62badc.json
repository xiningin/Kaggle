{"cell_type":{"971e252f":"code","4e2e356d":"code","b0f566d0":"code","67db48de":"code","da72f9d5":"code","d9260bad":"code","d6af739f":"code","50d89bba":"code","3afa1d15":"code","b2ef86b1":"code","70049901":"code","b4b4a661":"code","fc0d814e":"code","9ee83838":"code","e537f9a8":"code","35d0e44c":"code","c306a804":"code","ebbf1d3b":"markdown","22deaaf4":"markdown","e2f8220f":"markdown","7e25dea1":"markdown","1671b62f":"markdown","6dc6504d":"markdown","a01485ac":"markdown","87c402a6":"markdown","674aa9dd":"markdown","207a37b3":"markdown","32fe5158":"markdown","18a29bd3":"markdown","3acf8df1":"markdown","f11f4a84":"markdown","eec9947e":"markdown","6a5d6c99":"markdown","3382718e":"markdown","98bdc413":"markdown","01da203a":"markdown","1e8b0d0c":"markdown","a22d3b3b":"markdown","4f96d60f":"markdown","fdca6722":"markdown","9ff1b7c6":"markdown","20d25926":"markdown"},"source":{"971e252f":"# Work with Data - the main Python libraries\nimport numpy as np\nimport pandas as pd\n\n# Visualization\nimport matplotlib.pyplot as plt\n\n# Modeling and Prediction\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import r2_score","4e2e356d":"# Download training data\ntrain = pd.read_csv('\/kaggle\/input\/ammonium-prediction-in-river-water\/train.csv')","b0f566d0":"# Display the first 5 rows of the training dataframe.\n","67db48de":"# Information for training data\ntrain.info()","da72f9d5":"# Download test data\ntest = pd.read_csv('..\/input\/ammonium-prediction-in-river-water\/test.csv')","d9260bad":"# Display the 7 last rows of the training dataframe\n","d6af739f":"test.info()","50d89bba":"# Select the stations with the most data in training dataset\ntrain = train.drop(['Id','3','4','5','6','7'], axis = 1)\ntrain = train.dropna().reset_index(drop=True)\ntrain.info()","3afa1d15":"# Display the statistics for training data\n","b2ef86b1":"# Selecting a target featute and removing it from training dataset\ntarget = train.pop('target')","70049901":"# Select the stations with the most data in test dataset\ntest = test.drop(['Id','3','4','5','6','7'], axis = 1)\ntest = test.dropna().reset_index(drop=True)","b4b4a661":"# Display basic information about the test data\n","fc0d814e":"# Select model as LinearRegression\nmodel = LinearRegression()\n\n# Training model\nmodel.fit(train, target)\n\n# Prediction for training data\ny_train = model.predict(train)\n\n# Accuracy of model\nr2_score_acc = r2_score(target, y_train)\nprint(r2_score_acc)","9ee83838":"# Print rounded r2_score_acc to 2 decimal values after the text 'Accuracy of Linear Regression model is'\n","e537f9a8":"# Prediction of target for test data\ny_test = model.predict(test)","35d0e44c":"# Building plot for prediction for the training data \nx = np.arange(len(train))\nplt.figure(figsize=(16,8))\nplt.plot(x, target, label = \"target\", color = 'g')\nplt.plot(x, y_train, label = \"prediction\", color = 'b')\nplt.plot(x, np.full(len(train), 0.5), label = \"maximum allowable value\", color = 'r')\nplt.legend(loc='best')\nplt.grid(True)","c306a804":"# Building plot for prediction for the test data\n","ebbf1d3b":"**TASK:** Display the first 5 rows of the training dataframe.","22deaaf4":"**ADDITIONAL TASK:** Try replacing model LinearRegression in the code\n\n        model = LinearRegression()\n        \nwith another from the list in the [Sklearn documentation](https:\/\/scikit-learn.org\/stable\/modules\/classes.html#module-sklearn.linear_model) (see sections \"**Linear classifiers**\" and \"**Classical linear regressors**\") to increase the accuracy r2_score_acc of the prediction. Don't forget to first add their names to section 1 after the command:\n\n        from sklearn.linear_model import LinearRegression\n\nFor example:\n\n        from sklearn.linear_model import LinearRegression, LogisticRegression, Ridge","e2f8220f":"## 1. Import libraries<a class=\"anchor\" id=\"1\"><\/a>\n\n[Back to Table of Contents](#0.1)","7e25dea1":"**TASK:** Display basic information about the test data.","1671b62f":"## 4. Modeling<a class=\"anchor\" id=\"4\"><\/a>\n\n[Back to Table of Contents](#0.1)","6dc6504d":"The analysis showed that many values are only available in stations 1 and 2, while others have much less data. I propose select only these two stations.","a01485ac":"**TASK:** Display the statistics for training data.","87c402a6":"### Possible Tasks:\n\n* Analysis of data dependences, including EDA.\n\n* Prediction the target data (water quaity in the target station) with the highest accuracy.\n\n* Analysis of impact on the prediction accuracy in target station from the different number of stations (1, 2, ... 7).","674aa9dd":"**TASK:** Display the 5 last rows of the training dataframe.","207a37b3":"## Dataset [Ammonium prediction in river water](https:\/\/www.kaggle.com\/vbmokin\/ammonium-prediction-in-river-water)","32fe5158":"## 2. Download data<a class=\"anchor\" id=\"2\"><\/a>\n\n[Back to Table of Contents](#0.1)","18a29bd3":"## 3. EDA & FE<a class=\"anchor\" id=\"3\"><\/a>\n\n[Back to Table of Contents](#0.1)","3acf8df1":"**It is important to make sure** that all features in the training and test datasets:\n* do not have missing values (number of non-null values = number of entries of index) \n* all features have a numeric data type (int8, int16, int32, int64 or float16, float32, float64).","f11f4a84":"![image.png](attachment:image.png)\n* 1 - the source of the river (see at the station first on the left), \n* ....\n* 8 (target) - the place of water intake in Vinnytsia (see at the station in the lower right corner)","eec9947e":"**TASK:** Print rounded r2_score_acc to 2 decimal values after the text 'Accuracy of Linear Regression model is'.","6a5d6c99":"## 5. Prediction & Visualization<a class=\"anchor\" id=\"5\"><\/a>\n\n[Back to Table of Contents](#0.1)","3382718e":"<a class=\"anchor\" id=\"0\"><\/a>\n# [AI-ML-DS : Training for beginners](https:\/\/www.kaggle.com\/vbmokin\/ai-ml-ds-training-for-beginners-in-kaggle). Level 1 (very simple). 2020\n## Kaggle GM, Prof. [@vbmokin](https:\/\/www.kaggle.com\/vbmokin)\n### [Vinnytsia National Technical University](https:\/\/vntu.edu.ua\/), Ukraine\n#### [Chair of the System Analysis and Information Technologies](http:\/\/mmss.vntu.edu.ua\/index.php\/ua\/)","98bdc413":"I hope you find this notebook useful and enjoyable.\n\nYour comments and feedback are most welcome.\n\n[Go to Top](#0)","01da203a":"### It is recommended to start studying this course from another notebook \"[AI-ML-DS Training. L1T : Titanic - Decision Tree](https:\/\/www.kaggle.com\/vbmokin\/ai-ml-ds-training-l1t-titanic-decision-tree)\" - and then move on to this notebook.","1e8b0d0c":"## Acknowledgements\n* [Data Science for tabular data: Advanced Techniques](https:\/\/www.kaggle.com\/vbmokin\/data-science-for-tabular-data-advanced-techniques)\n* [EDA for tabular data: Advanced Techniques](https:\/\/www.kaggle.com\/vbmokin\/eda-for-tabular-data-advanced-techniques)\n* [Datasets for river water quality prediction](https:\/\/www.kaggle.com\/vbmokin\/datasets-for-river-water-quality-prediction)\n* [BOD prediction in river - 15 regression models](https:\/\/www.kaggle.com\/vbmokin\/bod-prediction-in-river-15-regression-models)\n* [The system \"MONITORING AND ENVIRONMENTAL ASSESSMENT OF WATER RESOURCES OF UKRAINE\", State Agency of Water Resources of Ukraine](http:\/\/monitoring.davr.gov.ua\/EcoWaterMon\/GDKMap\/Index)","a22d3b3b":"**TASK:** Drawing similar plot for test data (without line of the target because this information is unknown for test data).","4f96d60f":"Dataset has data of the Ammonium ions concentration in river water (the maximum permissible value in Ukraine is 0.5 mg\/cub. dm).\n\nAmmonium ions (NH4) concentration is measured in mg\/cub. dm (ie milligrams in the cubic decimeter).\n\nDatasets has data of river water quality from 8 consecutive stations of the state water monitoring system for Pivdennyi Bug river (from the source of the river to the water intake of the city of Vinnytsia).\n\nTarget is a NH4 concentration in the river crossection with the water intake of the Vinnytsia city.\n\nData for the 1997-2019.","fdca6722":"<a class=\"anchor\" id=\"0.1\"><\/a>\n## Table of Contents\n\n1. [Import libraries](#1)\n1. [Download data](#2)\n1. [EDA & FE](#3)\n1. [Modeling](#4)\n1. [Prediction & Visualization](#5)","9ff1b7c6":"# The concept of training:\n* the **last version (commit)** of the notebook has:\n        * the basic tasks (after \"TASK:\")\n        * the additional tasks for self-execution (after \"ADDITIONAL TASK:\")\n* the **previuos version (commit)** of the notebook has **answers** for the basic tasks","20d25926":"### Map of the stations:\nhttp:\/\/monitoring.davr.gov.ua\/EcoWaterMon\/GDKMap\/Index\n\n![image.png](attachment:image.png)\n\nThe upper reaches of the Pivdennyi Bug river"}}