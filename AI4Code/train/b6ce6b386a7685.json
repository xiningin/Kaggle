{"cell_type":{"76dbe6f1":"code","703cb5b7":"code","e49ecf4d":"code","1e524a92":"code","2573c507":"code","ca4225af":"code","39c10c76":"code","529660f7":"code","84b84769":"code","f4123a35":"code","e6e6ac79":"code","aec53961":"code","6bc6e549":"code","c76a0743":"code","a5a86d88":"code","36be56fd":"code","e7be9ed2":"code","3cc32a10":"markdown","2751c469":"markdown","8a030908":"markdown","5e9d1d38":"markdown","2cc047bf":"markdown","f3d0b467":"markdown","a9142df4":"markdown"},"source":{"76dbe6f1":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","703cb5b7":"wine = pd.read_csv('..\/input\/winemag-data_first150k.csv')\nwine.info()","e49ecf4d":"wine = wine.drop('Unnamed: 0', axis = 1)\nwine.head()","1e524a92":"wine[['points', 'price']].describe()","2573c507":"import matplotlib.pyplot as plt\nimport seaborn as sns\nfig, axes = plt.subplots(2, 1, figsize = (12, 8))\ng = sns.countplot('points', data = wine, ax = axes[0])\ng.set_title('Points Distribution', size = 15)\n\nt = sns.distplot(np.log(wine.price.dropna()), ax = axes[1])\nt.set_title(\"Price Distribuition\", fontsize = 15)\nt.set_xlabel(\"Log Prices\")\n\nplt.tight_layout()\nplt.show()","ca4225af":"sns.set()\ndef pop_plot(df, column, num):\n    df.groupby(column).size().nlargest(num).plot(kind = 'bar', figsize = (12, 5))\n    plt.xticks(rotation = 45)\n    plt.xlabel('')\n    plt.title('Top Most Reviews' + ' - ' + column, size = 15)\n    plt.show()","39c10c76":"wine_good = wine[(wine.points >= 90) & (wine.price >= 200)]\nwine_better = wine[(wine.points >= 90) & (wine.price < 200)]\npop_plot(wine_good, 'country', 10)\npop_plot(wine_better, 'country', 10)","529660f7":"pop_plot(wine_good, 'variety', 10)\npop_plot(wine_better, 'variety', 10)","84b84769":"wine_country_top4 = wine[wine.country.isin(['France', 'Italy', 'US', 'Germany'])]\ng = sns.FacetGrid(wine_country_top4, col = 'country', col_wrap = 2, height = 4, aspect = 3)\ng.map(sns.scatterplot, x = wine_country_top4.points, y = wine_country_top4.price)\nplt.show()","f4123a35":"wine_variety_top4 = wine[wine.variety.isin(['Pinot Noir', 'Chardonnay', 'Cabernet Sauvignon', 'Bordeaux-style Red Blend'])]\ng = sns.FacetGrid(wine_variety_top4, col = 'variety', col_wrap = 2, height = 4, aspect = 3)\ng.map(sns.scatterplot, x = wine_variety_top4.points, y = wine_variety_top4.price)\nplt.show()","e6e6ac79":"wine_us = wine[wine.country == 'US']\nwine_france = wine[wine.country == 'France']\npop_plot(wine_us, 'province', 5)\npop_plot(wine_france, 'province', 5)","aec53961":"wine_us_ca = wine[wine.province == 'California']\nwine_france_bordeaux = wine[wine.province == 'Bordeaux']\npop_plot(wine_us_ca, 'variety', 5)\npop_plot(wine_france_bordeaux, 'variety', 5)","6bc6e549":"wine_us_france = pd.concat([wine_us_ca, wine_france_bordeaux])\nfig, axes = plt.subplots(1, 2, figsize = (15, 5))\nsns.boxplot(x = 'country', y = 'points', data = wine_us_france, ax = axes[0]).set_title('Points Comparision between US & France', size = 15)\nsns.boxplot(x = 'country', y = 'price', data = wine_us_france, ax = axes[1]).set_title('Price Comparision between US & France', size = 15)\nplt.show()","c76a0743":"length = wine.description.str.len()\n(min(length), max(length))","a5a86d88":"from wordcloud import WordCloud, STOPWORDS\nfrom PIL import Image\ntext = ''.join(descript for descript in wine.description)\nstopwords = set(STOPWORDS)\nwine_sw = ['wine', 'feel', 'note', 'nose', 'show', 'shows', 'touch', 'mouth', 'taste', 'offer']\nstopwords.update(wine_sw)\ncloud = WordCloud(background_color = 'white', stopwords = stopwords).generate(text)\nplt.figure(figsize = (12, 8))\nplt.axis('off')\nplt.imshow(cloud, interpolation = 'bilinear')\nplt.show()","36be56fd":"wine_bordeaux_red = wine[wine.variety == 'Bordeaux-style Red Blend']\ntext_bordeaux_red = ''.join(descript for descript in wine_bordeaux_red.description)\nstopwords_bordeaux_red = stopwords.union(['character', 'bordeaux blend', 'good'])\ncloud_bordeaux_red = WordCloud(background_color = 'black', stopwords = stopwords_bordeaux_red).generate(text_bordeaux_red)\nplt.figure(figsize = (12, 8))\nplt.axis('off')\nplt.imshow(cloud_bordeaux_red, interpolation = 'bilinear')\nplt.show()","e7be9ed2":"wine_pinot = wine[wine.variety == 'Pinot Noir']\ntext_wine_pinot = ''.join(descript for descript in wine_pinot.description)\nstopwords_pinot = stopwords.union(['character'])\ncloud_pinot = WordCloud(background_color = 'black', stopwords = stopwords_pinot).generate(text_wine_pinot)\nplt.figure(figsize = (12, 8))\nplt.axis('off')\nplt.imshow(cloud_pinot, interpolation = 'bilinear')\nplt.show()","3cc32a10":"* Word Cloud","2751c469":"**Description Analysis**","8a030908":"* Go deep into US & France\n    * most popular regions\/varieties in both countries\n    * price\/points comparison    ","5e9d1d38":"* Go deep into price\/points - top countries\/varieties for good quality wines ","2cc047bf":"**Visualization**\n* Basic visualization for each column","f3d0b467":"**Preprocessing: drop unrelated columns \/ NaNs**","a9142df4":"**Statistical Analysis**"}}