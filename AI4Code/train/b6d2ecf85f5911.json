{"cell_type":{"cae1c835":"code","c4aba31a":"code","2b8cfd61":"code","73a020e9":"code","6bc6b853":"code","89b83e3c":"code","9862846e":"code","d40ecf4f":"code","05a3d667":"code","7bf409e1":"code","5dab3647":"code","dd566b93":"code","ee506023":"code","9624445d":"markdown","ebc20eb0":"markdown"},"source":{"cae1c835":"import gc\nfrom tqdm import tqdm\n#from tqdm._tqdm import trange\nimport numpy as np\nimport pandas as pd\nfrom pylab import rcParams\nimport matplotlib.pyplot as plt\nfrom sklearn.metrics import mean_squared_error\nfrom scipy.stats import probplot\n\nimport datetime as dt\nfrom datetime import date\nfrom datetime import timedelta\nfrom fbprophet import Prophet\n\n%matplotlib inline\nimport os\nimport warnings\nwarnings.filterwarnings(\"ignore\")","c4aba31a":"data0=pd.read_csv('..\/input\/west-australia-weather-1944-2016\/aus_weather.csv')\ndata0","2b8cfd61":"dt.datetime(2016,3,3).strftime('%Y-%m-%d')","73a020e9":"date=[]\nfor y,m,d in zip(data0['Year'],data0['Month'],data0['Day']):\n    date+=[dt.datetime(y,m,d).strftime('%Y-%m-%d')]\ndata0['Date']=date\ndata0","6bc6b853":"data1=data0[['Date','daily_avg']]","89b83e3c":"item1=data1\n\nitem1.columns = ['ds','y']\nitem1.y = item1.y.astype('float')\nitem1.ds = item1.ds.astype('datetime64')\n\nrcParams['figure.figsize'] = 20, 5\nplt.plot(item1.ds, item1.y)","9862846e":"train_item=item1[0:-60]\nvalidation_item=item1[-60:]","d40ecf4f":"ph = Prophet()\nph.fit(item1)\nforecast = ph.predict(item1[['ds']])\nfigure = ph.plot(forecast)\nfigure.show()","05a3d667":"from datetime import timedelta\nstart0 = dt.datetime.strptime('2017-01-01', '%Y-%m-%d').date()\nend0   = dt.datetime.strptime('2034-12-31', '%Y-%m-%d').date()\nprint((end0-start0).days)","7bf409e1":"def daterange(start,end):\n    for i in range((end-start).days):\n        return start+timedelta(i)  ","5dab3647":"dates0=[]\nfor i in range((end0-start0).days):\n    dates0+=[(start0+timedelta(i)).strftime('%Y-%m-%d') ]\nprint(dates0[0:10])","dd566b93":"dates0_df=pd.DataFrame(dates0)\ndates0_df.columns=['ds']\ndates0_df","ee506023":"ph = Prophet()\nph.fit(item1)\nforecast3=ph.predict(dates0_df)\nfigure = ph.plot(forecast3)\nfigure.show()","9624445d":"# fit past and predict future","ebc20eb0":"# fit past and predict past"}}