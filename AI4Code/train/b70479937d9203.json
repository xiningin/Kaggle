{"cell_type":{"4b46814f":"code","b8339e8a":"code","18a89f0f":"code","906b9b55":"code","1ce975dc":"code","ff81e4c0":"code","9ca5a2b7":"code","329ae23c":"code","dc8e00ce":"code","7e5f0d61":"code","02b1e54b":"code","b213af13":"code","b6804f0c":"code","910b6a00":"code","78d2b95d":"code","d55704cb":"code","0dc68e72":"code","06d1d966":"code","35b25c2c":"code","f775567e":"code","6c026353":"code","83bc72f4":"code","0aab556c":"markdown","01bdb839":"markdown","9fcb757f":"markdown","4ce108ab":"markdown","1eac5cfc":"markdown","bb398bc7":"markdown","d48ecedc":"markdown","83cdbc67":"markdown","5f0b0457":"markdown","9f5fb80b":"markdown","19560612":"markdown","c20c2de7":"markdown","698b7fa4":"markdown","6ee53a4e":"markdown","614ed5a6":"markdown","fcc337bb":"markdown","8ae47d61":"markdown","53ae648b":"markdown","f51764bc":"markdown","91c7e1c1":"markdown","d1883c40":"markdown","2d916c7f":"markdown","7e3633ca":"markdown"},"source":{"4b46814f":"import numpy as np \nimport matplotlib.pyplot as plt \nimport seaborn as sns \nimport pandas as pd \nimport warnings \nfrom statsmodels import robust \nimport warnings                                       #This sometimes does not seem to work so :\nwarnings.filterwarnings('ignore')\n\n# from IPython.display import HTML\n# HTML('''<script>\n# code_show_err=false; \n# function code_toggle_err() {\n#  if (code_show_err){\n#  $('div.output_stderr').hide();                #This Script will be helpful in supressing the warnings in the notebook\n#  } else {\n#  $('div.output_stderr').show();\n#  }\n#  code_show_err = !code_show_err\n# } \n# $( document ).ready(code_toggle_err);\n# <\/script>\n# To toggle on\/off output_stderr, click <a href=\"javascript:code_toggle_err()\">here<\/a>.''')","b8339e8a":"# # Plot color palette just to set the right kind of color scheme for our visualizarion :\n# def plot_color_palette(palette: str):\n#     figure = sns.palplot(sns.color_palette())\n#     plt.xlabel(\"Color palette: \" + palette)\n#     plt.show(figure)\n\n# palettes = [\"deep\", \"muted\", \"pastel\", \"bright\", \"dark\", \"colorblind\"]\n# for palette in palettes:\n#     sns.set(palette=palette)\n#     plot_color_palette(palette)\n# !pip install mplcyberpunk","18a89f0f":"# sns.set(palette='muted') #Set this according to your needs \nimport mplcyberpunk\nplt.style.use(\"cyberpunk\")\nmplcyberpunk.add_glow_effects()\n","906b9b55":"HSD = pd.read_csv('..\/input\/habermans-survival-data-set\/haberman.csv', header=None, names=['age', 'year', 'nodes', 'status'])\nHSD.info()","1ce975dc":"HSD.columns","ff81e4c0":"HSD[\"status\"].value_counts()","9ca5a2b7":"HSD.describe()","329ae23c":"HSD.plot(kind = \"scatter\", x = 'nodes', y = 'age')\nplt.title(\"Number of positive axillary nodes detected vs. Age of Patient \")\nplt.show()\nwarnings.filterwarnings('ignore')","dc8e00ce":"\n# sns.set_style(\"whitegrid\")\nsns.FacetGrid( HSD, hue = \"status\") \\\n    .map(plt.scatter, \"age\", \"nodes\")\\\n    .add_legend()\nplt.title(\"Number of positive axillary nodes detected vs. Age of Patient \")\nplt.show()\n\n\n","7e5f0d61":"plt.close()\n# sns.set_style(\"whitegrid\")\n# plt.suptitle(\"Pair plot\")\ng = sns.pairplot(HSD, vars = [\"age\", \"year\", \"nodes\"],  hue = \"status\", size = 4)\ng.fig.suptitle(\"Pair Plot\", fontsize=30)\n# g.fig.show()\nplt.show()","02b1e54b":"survived = HSD[HSD[\"status\"] == 1]\ndead = HSD[HSD[\"status\"] == 2]\n\nprint(survived[\"age\"].describe())","b213af13":"print(dead[\"age\"].describe())","b6804f0c":"print(\"Medians :\")\nprint(\"Median age of the people that survived : \",np.median(survived[\"age\"]))\nprint(\"Median age of the people that could not survive : \", np.median(dead[\"age\"]))\nprint(\"Median Positive lymph nodes in the people that survived : \", np.median(survived[\"nodes\"]))\nprint(\"Median Positive lymph nodes in the people that could not survive :  \", np.median(dead[\"nodes\"]))\nprint(\"------------------------------------------------------------------------------------------------\")\nprint(\"Quantiles :\")\nprint(\"Survived : \")\nprint(\"AGE :\",np.percentile(survived[\"age\"], np.arange(0, 100, 25)))\nprint(\"NODES : \", np.percentile(survived[\"nodes\"], np.arange(0,100,25)))\nprint(\"Dead : \")\nprint(\"AGE :\",np.percentile(dead[\"age\"], np.arange(0, 100, 25)))\nprint(\"NODES : \", np.percentile(dead[\"nodes\"], np.arange(0,100,25)))\nprint(\"------------------------------------------------------------------------------------------------\")\nprint(\"Percentiles : \")\nprint(\"Survived : \")\nprint(\"AGE :\",np.percentile(survived[\"age\"], 40))\nprint(\"NODES : \", np.percentile(survived[\"nodes\"], 40))\nprint(\"dead : \")\nprint(\"AGE :\",np.percentile(dead[\"age\"], 40))\nprint(\"NODES : \", np.percentile(dead[\"nodes\"], 40))\nprint(\"------------------------------------------------------------------------------------------------\")\nprint(\"Median Abolute Deviation : \")\nprint(\"Survived :\")\nprint(\"AGE :\",robust.mad(survived[\"age\"]))\nprint(\"NODES :\",robust.mad(survived[\"nodes\"]))\nprint(\"Dead :\")\nprint(\"AGE :\",robust.mad(dead[\"age\"]))\nprint(\"NODES :\",robust.mad(dead[\"nodes\"]))\n","910b6a00":"plt.plot(survived[\"age\"], np.zeros_like(survived[\"age\"]), 'o')\nplt.title(\"survival status univarite scatterplot\")\nplt.plot(dead[\"age\"], np.zeros_like(dead[\"age\"]), 'r')\nplt.show()","78d2b95d":"warnings.filterwarnings(\"ignore\")\nsns.FacetGrid(HSD, hue = \"status\", size = 6)\\\n    .map(sns.distplot, \"age\")\\\n    .add_legend()\nplt.title('Histogram of ages of patients', fontsize=30)\nplt.show()","d55704cb":"sns.FacetGrid(HSD, hue = \"status\", size = 6)\\\n    .map(sns.distplot, \"nodes\")\\\n    .add_legend()\nplt.title('Histogram of status of patients', fontsize=30)\nplt.show()","0dc68e72":"counts,bin_edges = np.histogram(survived[\"age\"], bins = 10, density = True )\npdf = counts\/(sum(counts))\nprint(pdf)\nprint(bin_edges, \"\\n\", \"#\"*90)\ncdf = np.cumsum(pdf)\nplt.plot(bin_edges[1:], pdf)\nplt.plot(bin_edges[1:], cdf)\nplt.gca().legend(('PDF','CDF'))\nplt.title('PDF and CDf of ages of patients who survived', fontsize=30)\nplt.show()\n\n","06d1d966":"counts,bin_edges = np.histogram(dead[\"age\"], bins = 10, density = True )\npdf = counts\/(sum(counts))\nprint(pdf)\nprint(bin_edges, \"\\n\", \"#\"*90)\ncdf = np.cumsum(pdf)\nplt.title('PDF and CDf of ages of patients who could not survive', fontsize=30)\nplt.plot(bin_edges[1:], pdf)\nplt.plot(bin_edges[1:], cdf)\nplt.gca().legend(('PDF','CDF'))\nplt.show()\n\n","35b25c2c":"counts,bin_edges = np.histogram(survived[\"age\"], bins = 10, density = True )\npdf = counts\/(sum(counts))\nprint(pdf)\nprint(bin_edges)\ncdf = np.cumsum(pdf)\nplt.plot(bin_edges[1:], pdf)\nplt.plot(bin_edges[1:], cdf)\n\ncounts,bin_edges = np.histogram(dead[\"age\"], bins = 10, density = True )\npdf = counts\/(sum(counts))\nprint(pdf)\nprint(bin_edges)\ncdf = np.cumsum(pdf)\nplt.plot(bin_edges[1:], pdf)\nplt.plot(bin_edges[1:], cdf)\n\nplt.gca().legend(('PDF of survived','CDF of survived ', 'PDF of dead ', 'CDF of dead'))\nplt.title('PDF and CDf of ages of both, survived and dead patients', fontsize=30)\n\nplt.show()\n\n\n\n\n","f775567e":"sns.violinplot(x = 'status', y = 'age', data = HSD)\nplt.title(\"Box Plot of status of patients who could and couldn't survive\", fontsize=30)\nplt.show()","6c026353":"sns.boxplot(x = \"status\" , y = \"age\", data = HSD )\nplt.title(\"Box Plot of status of patients who could and couldn't survive\", fontsize=30)\nplt.show()","83bc72f4":"sns.boxplot(x = 'status', y = 'nodes', data = HSD)\nplt.title(\"Box Plot of nodes of patients who could and couldn't survive\", fontsize=30)\nplt.show()","0aab556c":"### Observations:\n- There is not really much information that can be obtained from a 2-D scatterplot since the data points do not really support visualisation in a 2d space with scatterplot.","01bdb839":"### Observations :\n- Here, It can be seen that the name of the columns corroborate with the attribute information provided with the dataset. ","9fcb757f":"## Observations :\n- the pdf and cdf of the survived and dead patients seem to overlap a lot to make any significant observation.","4ce108ab":"# PDFs and CDFs :","1eac5cfc":"### Observations :\n- above mentioned high level satistics are self explanatory as the result of each operation like count, mean, standard deviation is stated right next to it.","bb398bc7":"## objective : \nOur objective here is to analyse how features like age and the number of axillary nodes affect the survival of a cancer patient.","d48ecedc":"# Box & Whiskers Plot :","83cdbc67":"### Observations :\n- number of datapoints = 306 per column.\n- number of columns - 4.\n- We have 3 features here that can ","5f0b0457":"## Observations:\n- it is quite difficult to make any firm obervations as the data points overlap each other almost entirely. \n- However, there does seems to be a little discernment post the age of 78(approx.) stating that the patients above the age of 78 could not survive the treatment.\n- Also, people below the age of 32 were cured completely.","9f5fb80b":"# 2D - scatter plot : ","19560612":"# Medians, quantiles, percentiles, median absolute deviation :","c20c2de7":"# Observations :\n- Number of people that did not survive the disease is 81.\n- average age of people that did not  survive the test : 53.\n- minimum age of people that did not survive the test : 34.\n- maximum age of people that did not survive the test : 83.","698b7fa4":"### Observations :\n- The number of people that survived the disease for 5 years or longer are 225 and the ones who died within 5 years are 81 in number. \n","6ee53a4e":"# Observations :\n- Shown above is a pairplot of all possible combinations of the features keeping the \"status\" as hue. \n- \"age\" and \"nodes are the most useful features in determining the survival status.\n- plots shown in blue represent the patients that survived.\n- plots shown in orange represent patients that died within 5 years of the treatment.\n- there is not much seperation seen in the data points when plotted on pair plots.","614ed5a6":"# Violion Plot :","fcc337bb":"#  3D Scatter plot :","8ae47d61":"### Loading the data from csv file :","53ae648b":"# Histograms :","f51764bc":"# observations \n- it can be inferred from the plot that the people between the age from 30 to approx. 34 survived after the treatment.\n- Also, people past the age of 73 were not able to survive. ","91c7e1c1":"# Plotting for Exploratory Data Analysis :\n\n# Data Description :\nThe Haberman's survival dataset contains cases from a study that was conducted between 1958 and 1970 at the University of Chicago's Billings Hospital on the survival of patients who had undergone surgery for breast cancer.\n\n# Attribute Information:\n\n1. Age of patient at time of operation (numerical)\n2. Patient's year of operation (year - 1900, numerical)\n3. Number of positive axillary nodes detected (numerical)\n4. Survival status (class attribute) 1 = the patient survived 5 years or longer 2 = the patient died within 5 years","d1883c40":"# Mean, variance and  standard deviation :","2d916c7f":"- no valuable interpretations can be drawn from a boxplot that has nodes as a feature as there are a lot of outlier data points related to the \"nodes\" feature. \n","7e3633ca":"# Observations :\n- Number of people that survived the disease is 225.\n- average age of people that survived the test : 52.\n- minimum age of people that survived the test : 30.\n- maximum age of people that survived the test : 77."}}