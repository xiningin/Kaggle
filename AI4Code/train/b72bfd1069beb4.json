{"cell_type":{"25aef3d6":"code","3e4ec116":"code","c709a434":"code","04390d11":"code","5f44793e":"code","d312c4b8":"code","b75b6aa2":"code","7dcc7d1a":"code","4d2d2528":"code","65b0b375":"code","83984a97":"code","381400c2":"code","1ead7d33":"markdown","50d526ad":"markdown","d18c0ea7":"markdown","c628aafb":"markdown","0539ddcc":"markdown","4df71614":"markdown","04006bf9":"markdown","812939d5":"markdown","54d88165":"markdown","48a1b18f":"markdown","04082e2b":"markdown","d0494350":"markdown","4817fc73":"markdown","cb5167ef":"markdown","1772e63a":"markdown","5033c260":"markdown","02721ac2":"markdown","48845fdb":"markdown","11325426":"markdown","f5a2f000":"markdown"},"source":{"25aef3d6":"import numpy as np\nimport pandas as pd \nimport seaborn as sns\nimport matplotlib.pyplot as plt","3e4ec116":"from subprocess import check_output\nprint(\"Found files\\n\" + check_output([\"ls\", \"..\/input\/cholera-outbreak-stockholm-1853\"]).decode(\"utf8\"))","c709a434":"date_cols = ['D\u00f6dsdatum']\nchurchdata = pd.read_csv (\"..\/input\/cholera-outbreak-stockholm-1853\/kolera-katarina-1853.csv\", \n                          parse_dates=date_cols) #load the dataset","04390d11":"dc = churchdata.head(2) #show the first 2 rows from the dataset\ndc","5f44793e":"churchdata.drop(churchdata[churchdata['F\u00f6rsamling'] != 'Katarina'].index, inplace=True)","d312c4b8":"churchdata.drop(churchdata[churchdata['Hemort'] != 'Katarina'].index, inplace=True)","b75b6aa2":"churchdata.drop ('F\u00f6rsamling', axis=1, inplace=True)\nchurchdata.drop ('Hemort', axis=1, inplace=True)\nchurchdata.drop ('Arkivref', axis=1, inplace=True)\nchurchdata.drop ('Sida', axis=1, inplace=True)","7dcc7d1a":"fig = churchdata[churchdata.K\u00f6n=='Man'].plot(kind='scatter',x='D\u00f6dsdatum',y='\u00c5lder',color='orange', label='Men')\nchurchdata[churchdata.K\u00f6n=='Kvinna'].plot(kind='scatter',x='D\u00f6dsdatum',y='\u00c5lder',color='blue', label='Women',ax=fig)\nfig.set_xlabel(\"Date of death\")\nfig.set_ylabel(\"\u00c5ge\")\nfig.set_title(\"Individual deaths\")\nfig2=plt.gcf()\nfig2.set_size_inches(14,14)\nplt.gcf().autofmt_xdate()","4d2d2528":"churchdata.sort_values (by=['D\u00f6dsdatum'], inplace=True)\ndc = churchdata.head (10)\ndc","65b0b375":"churchdata.hist(edgecolor='black', linewidth=1.2, column=[\"\u00c5lder\"])\nfig=plt.gcf()\nfig.set_size_inches(12,6)\nplt.gcf().autofmt_xdate()\nplt.gca().set(title='Age distribution')\npass\n# plt.savefig ('totals-and-age-distribution.png')","83984a97":"# x1 = churchdata.loc [churchdata.K\u00f6n=='Man', 'D\u00f6dsdatum']\nx1 = churchdata.loc [churchdata.K\u00f6n=='Man', 'D\u00f6dsdatum']\nx2 = churchdata.loc [(churchdata.K\u00f6n=='Kvinna'), 'D\u00f6dsdatum']\n \nplt.figure(figsize=(12,6))\nplt.hist([x1,x2], stacked=True, color = ['b','g'], label=['Men','Women'])\nplt.gca().set(title='Deaths \/ Timeline \/ Stacked on Sex', ylabel='# of deaths')\nplt.gcf().set_size_inches(14,10)\nplt.gcf().autofmt_xdate()\nplt.legend();","381400c2":"x1 = churchdata.loc [churchdata.\u00c5lder>=60, 'D\u00f6dsdatum']\nx2 = churchdata.loc [(churchdata.\u00c5lder>=40) & (churchdata.\u00c5lder < 60), 'D\u00f6dsdatum']\nx3 = churchdata.loc [(churchdata.\u00c5lder>=20) & (churchdata.\u00c5lder < 40), 'D\u00f6dsdatum']\nx4 = churchdata.loc [(churchdata.\u00c5lder>0) & (churchdata.\u00c5lder < 20), 'D\u00f6dsdatum']\n\nplt.figure(figsize=(12,6))\n\nplt.hist([x1,x2, x3, x4], stacked=True, color = ['black','b','g', 'y'], label=['>60','40-59','20-39','0-19'])\nplt.gca().set(title='Deaths \/ Timeline \/ Stacked on Age', ylabel='# of deaths')\nplt.gcf().set_size_inches(14,10)\nplt.gcf().autofmt_xdate()\n\nplt.legend();","1ead7d33":"#### Possible finding (see above)\nWe can clearly see that adolescents and young adults (10-25 years of age) seem to do better. <br \/>\nIn order to analyze this we need the actual demographics and age distribution for this time, in order to compare. I don't have this data right now. ","50d526ad":"Now drop all persons not being residents in S:t Catherine parish. (The provisorical Hospital treated several persons from other places).","d18c0ea7":"## Age distribution\nNow let's take a look at the age distribution of the dataset.","c628aafb":"## Age distribution\nNow let's take a look at the timeline and make a stacked histogram sorted on age.","0539ddcc":"Now plot every individuals in the dataset, i.e. all death events.","4df71614":"# Visualize data","04006bf9":"Now drop all data not related to S:t Catherine parish. ","812939d5":"Now read in the data. Store it in a Pandas Dataframe object <tt>churchdata<\/tt>.","54d88165":"### Possible finding (see above)\nWe can see that the epidemic starts in mid-August.\nWe can also see clearly that the intensity decreases around October 10.\nThe last cases are reported around Christmas.","48a1b18f":"# Final thoughts\n\nThis data and the analysis done above shows a dramatic event in which a significant portion of the population (around 3%) died within a couple of weeks. The number of sick persons was probably around 10-15% and caused a significant stress on society. The 1853 event was followed in 1854 and 1855 with similar but smaller epidemics, and cholera persisted in Stockholm well until the 1890's. But the situation improved as soon as sanitation conditions got better in the later part of the 19th century. \n\nFinally, the contemporary report from 1853 provides a lot of background information. See <a href=\"http:\/\/share.scb.se\/ov9993\/data\/historisk%20statistik\/Officiell%20statistik%201811-1860%2FH%C3%A4lso-%20och%20sjukv%C3%A5rden1851-1860%2FSundhetskollegii-underdaniga-berattelse-om-Medicinalverket-i-riket-1853-Bihang.pdf#%5B%7B%22num%22%3A203%2C%22gen%22%3A0%7D%2C%7B%22name%22%3A%22FitH%22%7D%2C581%5D\">this link<\/a>","04082e2b":"# Cholera Outbreak, Stockholm, late summer 1853\nThis notebook is a visualization of data describing the large outbreak of cholera in Stockholm 1853.\nAt this time Stockholm was a poor city, with very rudimentary level of sanitation. <br \/>\nThe epidemic started early August with sporadic cases, intensified and peaked in mid-September. Approximately 3% of the population died.","d0494350":"Now drop columns containing F\u00f6rsamling (Parish), Hemort (Residence) and archival reference (Arkivref and Sida).<br \/>\nThese columns are not needed for the analysis right now. ","4817fc73":"## Male vs Female casualities\nNow let's look at the timeline and make a stacked histogram sorted on sex. ","cb5167ef":"## Plot of all death events","1772e63a":"### Possible finding (see above)\nWe can see a steady increase of the spread during the first weeks of the epidemic. In the first weeks we can se more male casualities. In late October there is a slight overweight of female casualities.","5033c260":"## Outbreak\nLet's take a look at the first 10 casualities.","02721ac2":"# Setting up environment and data\n\nThe code is written in Python. We import the standard numerical and analysis libraries","48845fdb":"### Possible finding (see above)\nThis corresponds well to the document \"Sundhets-collegii underd\u00e5niga ber\u00e4ttele om Kolerafarsoten i Sverge, 1853\" which describes the outbreak and the first casualities. See <a href=\"http:\/\/share.scb.se\/ov9993\/data\/historisk%20statistik\/Officiell%20statistik%201811-1860%2FH%C3%A4lso-%20och%20sjukv%C3%A5rden1851-1860%2FSundhetskollegii-underdaniga-berattelse-om-Medicinalverket-i-riket-1853-Bihang.pdf\">this link<\/a>.","11325426":"Show the first two lines in the data. Just to make sure everything is alright.","f5a2f000":"Now just check that the proper data file is present. It is a CSV file on sibling directory <tt>..\/input\/cholera-outbreak-stockholm-1853<\/tt> with name <tt>kolera-katarina-1853.csv<\/t>"}}