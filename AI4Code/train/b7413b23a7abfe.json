{"cell_type":{"ff38dcf7":"code","56670a02":"code","40a45a10":"code","a4e0cee2":"code","c2c6e473":"code","88a934a8":"code","af659e38":"code","ba17c098":"code","25693265":"code","f043990f":"code","f44cc8af":"code","000d4b75":"code","a5c3307e":"code","cce5f67e":"code","0dbae83e":"code","d33d1b6f":"code","1eddc8ce":"code","8520d491":"code","2746566e":"markdown","45f8620d":"markdown","fb0b2db2":"markdown","51b21a6e":"markdown","fd4b89ab":"markdown"},"source":{"ff38dcf7":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","56670a02":"#importing the data\ndf_train = pd.read_csv('..\/input\/train.csv')\ndf_test = pd.read_csv('..\/input\/test.csv')","40a45a10":"data_cleaner = [df_train,df_test]","a4e0cee2":"df_train.head().transpose()","c2c6e473":"df_train.describe()","88a934a8":"df_train['time'].describe() #the date is in object format. Let us convert to datetime format for analysis","af659e38":"#It can be done directly as the data has been provided in a convertible format\ndf_train['time']= pd.to_datetime(df_train['time']) \ndf_test['time']= pd.to_datetime(df_test['time']) ","ba17c098":"df_train['time'].describe()","25693265":"df_test['time'].describe()","f043990f":"df_train.shape[0]","f44cc8af":"#Let us now explore the price dataset.\nfor dataset in data_cleaner:\n    dataset['pricebin'] = pd.cut(dataset['price'],df_train.shape[0]\/2500)","000d4b75":"df_train['pricebin'].unique()","a5c3307e":"pricebin_tr = df_train['pricebin'].value_counts(sort=False)\npricebin_t = df_test['pricebin'].value_counts(sort=False)","cce5f67e":"fig, axes = plt.subplots(nrows=1, ncols=2, figsize=(12, 6))\naxes[0].set_ylabel('Frequency')\naxes[0].set_title('Training set')\nplt.ylabel('Frequency')\npricebin_tr.plot(ax=axes[0],kind='bar')\naxes[1].set_ylabel('Frequency')\naxes[1].set_title('Testing set')\npricebin_t.plot(ax=axes[1],kind='bar')\nfig.tight_layout()","0dbae83e":"df_test['pricebin'].unique()","d33d1b6f":"df_test.describe()","1eddc8ce":"fig, ax = plt.subplots()\nsns.kdeplot(df_train['price'], ax=ax,shade=True)\nsns.kdeplot(df_test['price'], ax=ax,shade=True)","8520d491":"for dataset in data_cleaner:\n    #skewness and kurtosis\n    print(\"Skewness: %f\" % dataset['price'].skew())\n    print(\"Kurtosis: %f\" % dataset['price'].kurt())","2746566e":"The above description of the test and train dataset shows that the train data belongs to a time period between January 2017 to November 2018 while the test data belongs to a time period between January 2017 to January 2018. This suggests that the provider has data till the end of 2018 but unfortunately has not divided data randomly using the same random seed which result in the train data having more futuristic dataset. The test set renders the prediction purpose useless.","45f8620d":"<h2>Data Analysis for detection of leakages in stocks data generation<\/h2>\nOne can follow the article at: https:\/\/medium.com\/@hrshtsharma2012\/detecting-data-leakages-84cdd1ed5eb4 for introductory information about data leakages.","fb0b2db2":"Let us now explore the dataset.<br>\n**Exploratory data Analysis**","51b21a6e":"from the above results it seems as if the price data has been picked from a normal distribution. The train data has a mean of nearly 110 and the test data has a mean of around 119. Let us confirm our hypothesis by checking the kurtosis and skewness of the price provided.","fd4b89ab":"As the value of the Skewness (Sidedness from mean postion) and the kurtosis (hike from normal value) are very close to one one can assume that the data has been picked from a normal distribution. **This is the leak that we have found**. Since the training set also contains data from the future we can assume that prices in future are going to decrease."}}