{"cell_type":{"449172a5":"code","f04a8062":"code","f7534392":"code","316ece28":"code","1495e4a2":"code","591ef31c":"code","6fbc7204":"code","855af853":"code","b5750f29":"code","e333144e":"code","c150b9f2":"code","3482d2f4":"code","eae42475":"code","e242ad28":"code","0f4ff650":"code","3eb4f9ab":"code","2a04c2f7":"code","86fdda25":"code","a6eb81d6":"code","0dbe9984":"code","5e1f9674":"code","961f7501":"code","9b73f43d":"code","fc334ac9":"code","9b1ccf80":"code","f4586466":"code","24a2adea":"code","0f6366d6":"code","27fd9dda":"code","28a49ea7":"code","c095feb8":"code","18360bc7":"code","66d85ce8":"code","0606a434":"code","b3cb307e":"markdown","3911076e":"markdown","4e006253":"markdown","534291c8":"markdown","dcdb61e5":"markdown","d6eba802":"markdown","1fa576d0":"markdown","efeb92c2":"markdown","2143547f":"markdown","b6a902cc":"markdown","fe5aec93":"markdown"},"source":{"449172a5":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.  \n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","f04a8062":"import matplotlib.pyplot as pl\nimport seaborn as sns\nfrom sklearn import tree\nfrom sklearn.metrics import accuracy_score\n\n%matplotlib inline\n\nsns.set()","f7534392":"train = pd.read_csv('..\/input\/titanic\/train.csv')\ntest = pd.read_csv('..\/input\/titanic\/\/test.csv')","316ece28":"train.head()","1495e4a2":"train.info()","591ef31c":"train.isnull().sum()","6fbc7204":"train.describe()","855af853":"pd.value_counts(train['Survived']).plot.bar()","b5750f29":"sns.countplot(x='Survived', data = train);","e333144e":"test['Survived'] = 0\ntest[['PassengerId', 'Survived']].to_csv('no_survivors.csv', index = False)","c150b9f2":"sns.countplot(x='Sex', data = train);","3482d2f4":"sns.catplot(x='Survived', col='Sex', kind= 'count', data = train);","eae42475":"train.groupby(['Sex']).Survived.sum()","e242ad28":"print(\"Survived female % is: \",train[train.Sex == 'female'].Survived.sum()\/train[train.Sex == 'female'].Survived.count())\nprint(\"Survived male % is: \",train[train.Sex == 'male'].Survived.sum()\/train[train.Sex == 'male'].Survived.count())","0f4ff650":"f,ax=pl.subplots(1,2,figsize=(16,7))\ntrain['Survived'][train['Sex']=='male'].value_counts().plot.pie(explode=[0,0.2],autopct='%1.1f%%',ax=ax[0],shadow=True)\ntrain['Survived'][train['Sex']=='female'].value_counts().plot.pie(explode=[0,0.2],autopct='%1.1f%%',ax=ax[1],shadow=True)\nax[0].set_title('Survived (male)')\nax[1].set_title('Survived (female)')\n\npl.show()","3eb4f9ab":"test['Survived'] = test.Sex == 'female'\ntest['Survived'] = test.Survived.apply(lambda x: int(x))\n#test.head(n=20)","2a04c2f7":"test[['PassengerId', 'Survived']].to_csv('women_survive.csv', index = False)","86fdda25":"sns.catplot(x='Survived', col='Pclass', kind='count', data = train)","a6eb81d6":"print(\"The percentage of survivals in\") \nprint(\"Pclass=1 : \", train.Survived[train.Pclass == 1].sum()\/train[train.Pclass == 1].Survived.count())\nprint(\"Pclass=2 : \", train.Survived[train.Pclass == 2].sum()\/train[train.Pclass == 2].Survived.count())\nprint(\"Pclass=3 : \", train.Survived[train.Pclass == 3].sum()\/train[train.Pclass == 3].Survived.count())","0dbe9984":"sns.catplot('Pclass','Survived', kind='point', data=train);","5e1f9674":"pd.crosstab([train.Sex,train.Survived],train.Pclass,margins=True).style.background_gradient(cmap='summer_r')","961f7501":"sns.catplot('Pclass','Survived',hue='Sex', kind='point', data=train);","9b73f43d":"sns.catplot(x='Survived', col='Embarked', kind='count', data=train);","fc334ac9":"sns.catplot('Embarked','Survived', kind='point', data=train);","9b1ccf80":"sns.catplot('Embarked','Survived', hue= 'Sex', kind='point', data=train);","f4586466":"sns.catplot('Embarked','Survived', col='Pclass', hue= 'Sex', kind='point', data=train);","24a2adea":"pd.crosstab([train.Survived], [train.Sex, train.Pclass, train.Embarked], margins=True).style.background_gradient(cmap='autumn_r')","0f6366d6":"test['Survived'] = 0\n# all women survived\ntest.loc[ (test.Sex == 'female'), 'Survived'] = 1\n# except for those in Pclass 3 and embarked in S\ntest.loc[ (test.Sex == 'female') & (test.Pclass == 3) & (test.Embarked == 'S') , 'Survived'] = 0\ntest.head(n=20)","27fd9dda":"test[['PassengerId', 'Survived']].to_csv('embarked_pclass_sex.csv', index=False)","28a49ea7":"for df in [train, test]:\n    df['Age_bin']=np.nan\n    for i in range(8,0,-1):\n        df.loc[ df['Age'] <= i*10, 'Age_bin'] = i","c095feb8":"print(train[['Age' , 'Age_bin']].head(10))","18360bc7":"sns.catplot('Age_bin','Survived',hue='Sex',kind='point',data=train);","66d85ce8":"sns.catplot('Age_bin','Survived', col='Pclass' , row = 'Sex', kind='point', data=train);","0606a434":"pd.crosstab([train.Sex, train.Survived], [train.Age_bin, train.Pclass], margins=True).style.background_gradient(cmap='autumn_r')","b3cb307e":"The above two charts show that passengers that **embarked** in ***S*** are much more likely to ***die***\n\nand passengers that **embarked** in ***C*** are little more likely to ***survive***","3911076e":"This cross tab shows all ***women*** in ***1st & 2nd classes are survived*** and nearly all ***men*** in ***2nd & 3rd classes are died***","4e006253":"This shows that ***74%*** of ***women*** survived, while ***19%*** of ***men*** survived.","534291c8":"# Welcome to *Titanic* Notebook by *Andrew Qolta*","dcdb61e5":"Embarked, Pclass and Sex :\n\nPractically all women of Pclass 2 that embarked in C and Q survived, also nearly all women of Pclass 1 survived.\n\nAll men of Pclass 1 and 2 embarked in Q died, survival rate for men in Pclass 2 and 3 is always below 0.2\n\nFor the remaining men in Pclass 1 that embarked in S and Q, survival rate is approx. 0.4","d6eba802":"Then we can see that ***women*** are more likely to survive than ***men***.","1fa576d0":"This is the base model : no survivors\n\nsubmission : 0.627 accuracy on kaggle","efeb92c2":"the chart shows the passengers in the ***1st*** class are more likely to ***survive***, while in the ***2nd*** class are a ***little*** more likely to ***die*** and in the ***3rd*** class are ***much*** more likely to ***die***.","2143547f":"This is the second model : all women survived and all men died\n\nsubmission : 0.766 accuracy on kaggle","b6a902cc":"This is the third model : all women survived except who embarked in S and 3rd class together\n\nsubmission : 0.779 accuracy on kaggle","fe5aec93":"# References\nhttps:\/\/www.kaggle.com\/dejavu23\/titanic-eda-to-ml-beginner\n\nhttps:\/\/www.datacamp.com\/community\/tutorials\/kaggle-machine-learning-eda\n\nhttps:\/\/www.youtube.com\/watch?v=3eTSVGY_fIE"}}