{"cell_type":{"9806604b":"code","b5f5e75c":"code","e960dd62":"code","93be200c":"code","1157d2ee":"code","dfce9704":"code","1e2c0448":"code","c25ae93e":"code","2d03080e":"code","59a3e311":"code","9e0c6b18":"code","8092e305":"code","48cde5f1":"code","372b1af4":"code","479cb7bd":"code","cf97d870":"code","d401b6b0":"code","6693deec":"code","6c5dbe35":"code","ae17ae47":"code","5a190ef9":"code","12bd9c19":"code","073adf68":"code","fec03045":"code","cb74fb2c":"code","cfdc7914":"code","862cdc2f":"code","5d8c7f5d":"code","dda84e84":"code","2a9bdfde":"markdown","82da3a0c":"markdown","892691b4":"markdown","1bb51020":"markdown","5afa8fe3":"markdown","749c4cda":"markdown","a853f2c7":"markdown","f22ddbfb":"markdown","313bb920":"markdown","8223d3c5":"markdown","5dda4278":"markdown","322de1c6":"markdown","332221cc":"markdown","6eb0476a":"markdown","b202b172":"markdown","4002b49a":"markdown","e25d1432":"markdown","a71db49c":"markdown","52145e7d":"markdown","267ff8e5":"markdown","30386aed":"markdown","c5a51ac5":"markdown","3347d106":"markdown","50efd526":"markdown","ffacec98":"markdown"},"source":{"9806604b":"# Import Libraries for Analysis\nimport numpy as np\nimport pandas as pd\n\n# Import Libraries for visualization\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Import libraries for train test split\nfrom sklearn.model_selection import train_test_split\n\n# import Ilbrary for Scaling\nfrom sklearn.preprocessing import StandardScaler\n\n# import Ilbrary for Model Building\nfrom sklearn.linear_model import LogisticRegression\n\n# Supress Warnings\nimport warnings\nwarnings.filterwarnings('ignore')","b5f5e75c":"# Importing the Dataset\ndf = pd.read_csv('..\/input\/hr-analytics-and-job-prediction\/HR_comma_sep.csv')\ndf","e960dd62":"# Checking the info of data set\ndf.info()","93be200c":"# Checking Statistical Features\ndf.describe()","1157d2ee":"# creating a copy of the dataset\ndf_cpy = df.copy()","dfce9704":"# checking null values\ndf_cpy.isnull().sum()","1e2c0448":"# checking columns names\ndf_cpy.columns","c25ae93e":"plt.figure(figsize=(10,5))\ndf_cpy.groupby(['Department'])['left'].sum().plot.bar()\nplt.ylabel('Number of Employees who left the work')\nplt.title(\"Employee Retention of various Department\",fontsize=18)\nplt.show()","2d03080e":"plt.figure(figsize=(10,5))\ndf_cpy.groupby(['Department'])['promotion_last_5years'].sum().plot.bar()\nplt.ylabel('Number of Employees who left the work')\nplt.title(\"Promotions of various Department\",fontsize=18)\nplt.show()","59a3e311":"# Let's check the relation of other features of the data too with the Employee Retention\n\n# Satisfaction Level\nplt.figure(figsize=(20,10))\ndf_cpy.groupby(['satisfaction_level'])['left'].sum().plot.bar()\nplt.ylabel('Number of Employees who left the work', fontsize=16)\nplt.xlabel('Satisfaction Level', fontsize =16)\nplt.title(\"Satisfaction level of Employee who left the job\",fontsize=20)\nplt.show()","9e0c6b18":"# Work Accident\nplt.figure(figsize=(10,7)),\ndf_cpy.groupby(['Work_accident'])['left'].sum().plot.bar()\nplt.ylabel('Number of Employees who left the work', fontsize=14)\nplt.xlabel('Work Accidents', fontsize =14)\nplt.title(\"Work Accidents and Employee Retention\",fontsize=18)\nplt.show()","8092e305":"# last Evaluation\nplt.figure(figsize=(18,9))\ndf_cpy.groupby(['last_evaluation'])['left'].sum().plot.bar()\nplt.ylabel('Number of Employees who left the work')\nplt.title(\"Employees Retention\",fontsize=18)\nplt.show()","48cde5f1":"# number of projects\nplt.figure(figsize=(10,7)),\ndf_cpy.groupby(['number_project'])['left'].sum().plot.bar()\nplt.ylabel('Number of Employees who left the work', fontsize=14)\nplt.xlabel('Number of Projects', fontsize =14)\nplt.title(\"Employees Retention vs No. of Projects\",fontsize=18)\nplt.show()","372b1af4":"# Promotions last 5 years\nplt.figure(figsize=(10,7)),\ndf_cpy.groupby(['promotion_last_5years'])['left'].sum().plot.bar()\nplt.ylabel('Number of Employees who left the work', fontsize=14)\nplt.xlabel('Promotion', fontsize =14)\nplt.title(\"Promotions last 5 years Vs Employees Retention\",fontsize=18)\nplt.show()","479cb7bd":"# Salary\nplt.figure(figsize=(10,7)),\ndf_cpy.groupby(['salary'])['left'].sum().plot.bar()\nplt.ylabel('Number of Employees who left the work', fontsize=14)\nplt.xlabel('Salary', fontsize =14)\nplt.title(\"Salary of Employee who left the job\",fontsize=18)\nplt.show()","cf97d870":"# Eliminating other features that are not important for our analysis\n\n# let's create other copy of the dataset\ndf_2 = df_cpy.copy()\ndf_2 = df_2.drop('Work_accident', axis=1)","d401b6b0":"df_2.head()","6693deec":"df_dummy = pd.get_dummies(df_2)","6c5dbe35":"# Separating Dependent and Independent Features\n\ny = df_dummy.pop('left')\nx = df_dummy\n","ae17ae47":"x.head()","5a190ef9":"y.head()","12bd9c19":"# Splitting into test set and training set\nx_train, x_test, y_train, y_test = train_test_split(x, y, test_size = 0.25, random_state = 0)","073adf68":"# Shape of train set\nprint(x_train.shape)\n\n# Shape of test set\nprint(x_test.shape)","fec03045":"print(y_train.shape)\nprint(y_test.shape)","cb74fb2c":"# Applying Feature Scaling on our data for better model prediction\nsc = StandardScaler()\nx_train = sc.fit_transform(x_train)   \nx_test = sc.transform(x_test)","cfdc7914":"# applying logistic regression because it has probability type output\nclassifier = LogisticRegression(random_state = 0) \nclassifier.fit(x_train, y_train)","862cdc2f":"y_pred = classifier.predict(x_test)","5d8c7f5d":"from sklearn.metrics import confusion_matrix, accuracy_score\ncm = confusion_matrix(y_test, y_pred)\nprint(cm)","dda84e84":"# Printing Accuracy\naccuracy_score(y_test, y_pred)","2a9bdfde":"Here we can see that most of the Employee who left job was not satisfied and their satisfaction level was below 50% , but a good proportion of employees whose satisfaction level was between 0.7 to 0.95 also left the job. ","82da3a0c":"There are no null values in the given dataset","892691b4":"It can be clearly seen that most of the employees who left the job were earning low income or medium income and very less proportion of employees are there who left their job and were earning hign income.\n**This implies that Salary is a major factor in determining the Employee Retention**","1bb51020":"> **Hence we can use this model for Job Prediction (i.e we can predict whether an Employee will leave a job or not) with an accuracy of 77.14%**","5afa8fe3":"## Exploratory Data Analysis","749c4cda":"Let us first try to deeply understand the various factors, due to which Employees left the job","a853f2c7":"Checking sizes of data to know whether they are split correctly","f22ddbfb":"Therefore our Model can work with an accuracy of 77.14%","313bb920":"<h1 align='center' style='color:black'><b>HR Analytics and Job Prediction<\/b><\/h1>","8223d3c5":"## Train Test Split","5dda4278":"There are no extra spaces in the column names therefore we can proceed further.","322de1c6":"## Data Cleaning and Preparation","332221cc":"As we can see the sales department employee has less retention","6eb0476a":"## Model Evaluation","b202b172":"## Outline: -\n1. Import Dataset\n2. Data Cleaning and Data Preparation\n3. Exploratory Data Analysis\n5. Train Test Split\n6. Model Building\n7. Model Evaluation","4002b49a":"## Model Building","e25d1432":"It can be seen that the maximum number of promotions are in Sales Department, but still the highest number of employee who left the job are from Sales department.","a71db49c":"There are 14999 rows and 10 columns in the given dataset","52145e7d":"This shows that 2893 (i.e. 2656 + 237) predicted values out of 3750 values are same as the actual values, Now let's check accuracy of our model","267ff8e5":"#### Confusion Matrix","30386aed":"Most of the people who left the job have done 2 or less than 2 projects.","c5a51ac5":"## General Description: -\nThis dataset contains information about employees who worked in a company.\n\nThis dataset contains columns: Satisfactory Level, Number of Project, Average Monthly Hours, Time Spend Company, Promotion Last 5\nYears, Department, Salary\n\n\n## Aim: -\n1. To do Exploratory Data analysis to figure out which variables have a direct and clear impact on employee retention (i.e. whether they leave the company or continue to work)\n2. Plot bar charts showing the impact of employee salaries on retention\n3. Plot bar charts showing a relation between department and employee retention\n4. To build a logistic regression model\n5. Measure the accuracy of the model","3347d106":"#### Predicting values","50efd526":"#### Treating Categorical Values","ffacec98":"As we can see that work accident is not a major feature which determines Employee Retention as we can see people who have not faced any work accident also left the job."}}