{"cell_type":{"2128cc89":"code","935feac5":"code","3ba53e5c":"code","031b5304":"code","27bdc8dd":"code","52e72c59":"code","51e31836":"code","c80e3795":"code","24241a21":"code","42aa5069":"code","0fba13a9":"code","de1264fb":"code","f2ef811b":"code","4e960815":"code","5c668ef2":"code","defa8704":"code","f7c88863":"code","1f32dda7":"code","c9b5a804":"code","ad9ee15d":"code","68df5b82":"code","e75a5ba7":"code","4cf3e26e":"code","4c65bedd":"code","38553f23":"code","d9c31f5b":"code","1a8e27bb":"code","bc72e912":"code","35cf52d4":"code","e53cdef8":"code","744da921":"code","22565ecf":"code","c1863fb9":"code","f04a06aa":"code","e3b0e1f2":"code","254b4518":"code","be3cca69":"markdown","1d3d952b":"markdown","194d80d5":"markdown","5a769fba":"markdown","7c7f9ece":"markdown","29b85acc":"markdown","749a6a40":"markdown","962c9c33":"markdown","3137f2dd":"markdown","f7e75be9":"markdown","4e364593":"markdown","d1582168":"markdown","a3469b16":"markdown","84a603e5":"markdown","f798a533":"markdown","d6620f06":"markdown"},"source":{"2128cc89":"## Import all the necessary packages and libraries\n\nimport numpy as np \nimport pandas as pd\nimport re\nfrom math import pi\nimport os\n\n# Data visualization\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")","935feac5":"## Import the dataset \ndata = pd.read_csv('..\/input\/data.csv')\ndata.head()","3ba53e5c":"## Print all the available columns in the dataset provided\n\ndata.columns","031b5304":"## I have handpicked a few columns, that i consider important. Feel free to alter this input data.\n\ncolumns = [\n    'Name',\n    'Age',\n    'Nationality',\n    'Overall',\n    'Potential',\n    'Preferred Foot',\n    'Acceleration',\n    'Aggression',\n    'Agility',\n    'Balance',\n    'BallControl',\n    'Composure',\n    'Crossing',\n    'Curve',\n    'Club',\n    'Dribbling',\n    'FKAccuracy',\n    'Finishing',\n    'GKDiving',\n    'GKHandling',\n    'GKKicking',\n    'GKPositioning',\n    'GKReflexes',\n    'HeadingAccuracy',\n    'Interceptions',\n    'International Reputation',\n    'Jumping',\n    'LongPassing',\n    'LongShots',\n    'Marking',\n    'Position',\n    'Positioning',\n    'Reactions',\n    'ShortPassing',\n    'ShotPower',\n    'Skill Moves',\n    'SlidingTackle',\n    'SprintSpeed',\n    'Stamina',\n    'StandingTackle',\n    'Strength',\n    'Value',\n    'Vision',\n    'Volleys',\n    'Wage',\n    'Weak Foot',\n    'Work Rate'\n]","27bdc8dd":"## Final dataset after removing unnecessary columns.\n\ndf = pd.DataFrame(data, columns = columns)\ndf.head(10)","52e72c59":"left_or_right_footed = df[\"Preferred Foot\"].value_counts()\nprint(left_or_right_footed)\n\npercent_left = (4211)\/(13948 + 4211) * 100\n\nprint(\"\\nOnly {}% of the professionals playing football are left footed\". format(percent_left))\n\nplt.figure(figsize=(5,10))\nsns.set_style(\"whitegrid\");\nsns.countplot(df[\"Preferred Foot\"])\n\nplt.title(\"Number of players \")\nplt.show()","51e31836":"## Lets plot a graph to test whether age is actually a factor that affects an individuals professional Career.\n\nplt.figure(figsize = (15,10))\nsns.boxplot(x = \"Work Rate\", y = \"Age\", data = df)\nplt.show()","c80e3795":"## This block of code prints the number of footballers for each position.\n\ntotal_players_per_position = [df[\"Position\"].value_counts()]\ntotal_players_per_position","24241a21":"print(float(2025)\/2152)","42aa5069":"## To plot the graph and visualise the number of players in each position.\n\nplt.figure(figsize=(15,10))\nsns.set_style(\"whitegrid\");\nsns.countplot(df[\"Position\"])\n\nplt.title(\"Number of players per Position\")\nplt.show()","0fba13a9":"## Lets visualise the Overall Ratings per player\n\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(df, hue=\"Overall\", size = 10)\\\n.map(plt.scatter,\"Age\",\"Overall\")\\\n.add_legend();\nplt.show()","de1264fb":"## Lets visualise the Talented Potentials\n\nsns.set_style(\"whitegrid\");\nsns.FacetGrid(df, hue=\"Potential\", size = 10)\\\n.map(plt.scatter,\"Age\",\"Potential\")\\\n.add_legend();\nplt.show()","f2ef811b":"## Lets create a new column based on Potential and present Overall\n\ndf[\"Ratings\"] = (df[\"Potential\"] + df[\"Overall\"])\/2","4e960815":"player_features = (\n    'Acceleration', 'Aggression', 'Agility', \n    'Balance', 'BallControl', 'Composure', \n    'Crossing', 'Dribbling', 'FKAccuracy', \n    'Finishing', 'GKDiving', 'GKHandling', \n    'GKKicking', 'GKPositioning', 'GKReflexes', \n    'HeadingAccuracy', 'Interceptions', 'Jumping', \n    'LongPassing', 'LongShots', 'Marking'\n)\n\n# Top five features per position\nfor i, val in df.groupby(df['Position'])[player_features].mean().iterrows():\n    print('Position {}: {}, {}, {}, {}'.format(i, *tuple(val.nlargest(4).index)))","5c668ef2":"mid_data = df.loc[(df[\"Acceleration\"] > 85) & (df[\"Agility\"] > 85) & (df[\"Vision\"] > 85) & (df[\"BallControl\"] > 85) & (df[\"Dribbling\"] > 85) & (df[\"LongShots\"] > 85) & (df[\"HeadingAccuracy\"] > 85) & (df[\"Finishing\"] >85)]","defa8704":"# plotly\nimport plotly.plotly as py\nfrom plotly.offline import init_notebook_mode, iplot\ninit_notebook_mode(connected=True)\nimport plotly.graph_objs as go\n\ndata = [\n    go.Scatterpolar(\n        r = [87, 90, 94, 96, 97, 87],\n        theta = ['LongPassing','ShortPassing','Vision', 'BallControl', 'Dribbling', 'LongPassing'],\n        name = \"L. Messi\",\n        mode = 'lines',\n        line =  dict(\n            color = 'orangered'\n        )\n    ),\n    go.Scatterpolar(\n        r = [91, 92, 94, 91, 86, 91],\n        theta = ['LongPassing','ShortPassing','Vision', 'BallControl', 'Dribbling', 'LongPassing'],\n        name = 'Kevin De Bruyne',\n        mode = 'lines',\n        line =  dict(\n            color = 'peru'\n        )\n    ),\n    go.Scatterpolar(\n        r = [88, 93, 92, 93, 90, 88],\n        theta = ['LongPassing','ShortPassing','Vision', 'BallControl', 'Dribbling', 'LongPassing'],\n        name = 'L. Modric',\n        mode = 'lines',\n        line =  dict(\n            color = 'darkviolet'\n        )\n    ),\n    go.Scatterpolar(\n        r = [87, 93, 92, 94, 89, 87],\n        theta = ['LongPassing','ShortPassing','Vision', 'BallControl', 'Dribbling', 'LongPassing'],\n        name = 'David Silva',\n        mode = 'lines',\n        line =  dict(\n            color = 'deepskyblue'\n        )\n    ),\n    go.Scatterpolar(\n        r = [90, 87, 86, 90, 87, 90],\n        theta = ['LongPassing','ShortPassing','Vision', 'BallControl', 'Dribbling', 'LongPassing'],\n        name = 'Paul Pogba',\n        mode = 'lines',\n        line =  dict(\n            color = 'green'\n        )\n    )\n]\n\nlayout = go.Layout(\n        title='Best MIDFIELDER',\n  polar = dict(\n    radialaxis = dict(\n      visible = True,\n      range = [0, 100]\n    )\n  ),\n  showlegend = True\n)\n\nfig = go.Figure(data=data, layout=layout)\niplot(fig, filename = \"radar\/basic\")","f7c88863":"data = [\n    go.Scatterpolar(\n        r = [91, 91, 59, 72, 95, 86, 68, 91],\n        theta = ['Acceleration','Agility', 'Strength', 'Stamina', 'Balance', 'SprintSpeed', 'Jumping', 'Acceleration'],\n        name = \"L. Messi\",\n        mode = 'lines',\n        line =  dict(\n            color = 'violet'\n        )\n    ),\n    go.Scatterpolar(\n        r = [89, 87, 79, 88, 70, 91, 95, 89],\n        theta = ['Acceleration','Agility', 'Strength', 'Stamina', 'Balance', 'SprintSpeed', 'Jumping', 'Acceleration'],\n        name = 'Cristiano Ronaldo',\n        mode = 'lines',\n        line =  dict(\n            color = 'peru'\n        )\n    )\n]\n\nlayout = go.Layout(\n        title='Best Forward - Physicality',\n  polar = dict(\n    radialaxis = dict(\n      visible = True,\n      range = [0, 100]\n    )\n  ),\n  showlegend = True\n)\n\nfig = go.Figure(data=data, layout=layout)\niplot(fig, filename = \"radar\/basic\")","1f32dda7":"data = [\n    go.Scatterpolar(\n        r = [96, 95, 94, 96],\n        theta = ['Composure', 'Finishing', 'Vision', 'Composure'],\n        name = \"L. Messi\",\n        mode = 'lines',\n        line =  dict(\n            color = 'violet'\n        )\n    ),\n    go.Scatterpolar(\n        r = [95, 94, 82, 95],\n        theta = ['Composure', 'Finishing', 'Vision', 'Composure'],\n        name = 'Cristiano Ronaldo',\n        mode = 'lines',\n        line =  dict(\n            color = 'peru'\n        )\n    )\n]\n\nlayout = go.Layout(\n        title='Best Forward - Mentality',\n  polar = dict(\n    radialaxis = dict(\n      visible = True,\n      range = [0, 100]\n    )\n  ),\n  showlegend = True\n)\n\nfig = go.Figure(data=data, layout=layout)\niplot(fig, filename = \"radar\/basic\")","c9b5a804":"data = [\n    go.Scatterpolar(\n        r = [93, 94, 94, 85, 86, 70, 93],\n        theta = ['Curve', 'FKAccuracy', 'LongShots', 'ShotPower', 'Volleys', 'HeadingAccuracy', 'Curve'],\n        name = \"L. Messi\",\n        mode = 'lines',\n        line =  dict(\n            color = 'violet'\n        )\n    ),\n    go.Scatterpolar(\n        r = [81, 76, 93, 95, 87, 89, 81],\n        theta = ['Curve', 'FKAccuracy', 'LongShots', 'ShotPower', 'Volleys', 'HeadingAccuracy', 'Curve'],\n        name = 'Cristiano Ronaldo',\n        mode = 'lines',\n        line =  dict(\n            color = 'peru'\n        )\n    )\n]\n\nlayout = go.Layout(\n        title='Best Forward - Shots & Set Pieces',\n  polar = dict(\n    radialaxis = dict(\n      visible = True,\n      range = [0, 100]\n    )\n  ),\n  showlegend = True\n)\n\nfig = go.Figure(data=data, layout=layout)\niplot(fig, filename = \"Forward3\")","ad9ee15d":"no_players = df[\"Nationality\"].value_counts() \nno_players[0:20]","68df5b82":"from collections import Counter as counter\n\nplt.figure(1 , figsize = (15 , 7))\ncountries = []\nc = counter(df['Nationality']).most_common()[:11]\nfor n in range(11):\n    countries.append(c[n][0])\n\nsns.countplot(x  = 'Nationality' ,\n              data = df[df['Nationality'].isin(countries)] ,\n              order  = df[df['Nationality'].isin(countries)]['Nationality'].value_counts().index , \n             palette = 'rocket') \nplt.xticks(rotation = 90)\nplt.title('Maximum number footballers belong to which country' )\nplt.show()","e75a5ba7":"best_dict = {}\nfor nation in df['Nationality'].unique():\n    overall_rating = df['Overall'][df['Nationality'] == nation].sum()\n    best_dict[nation] = overall_rating","4cf3e26e":"best_average_ovr = {}\n\ncountries = list(best_dict.keys())\n\nfor country in countries:\n    if best_dict[country] > 9000 :\n        best_average_ovr[country] = best_dict[country]\/float(no_players[country])\n    else:\n        continue","4c65bedd":"best_average_ovr_sorted = sorted(best_average_ovr, key=best_average_ovr.get, reverse = True)","38553f23":"avg_ovr = []\n\nfor i in best_average_ovr_sorted:\n    avg_ovr.append(best_average_ovr[i])","d9c31f5b":"final_avg = avg_ovr[0:15]","1a8e27bb":"final_countries = best_average_ovr_sorted[0:15]","bc72e912":"plt.figure(figsize=(20,10))\n\nplt.bar(final_countries, final_avg, align='center', alpha=0.5)\nplt.ylabel('Average Overall Rating of an Individual')\nplt.xlabel('Countries')\nplt.title('Average Overall Rating of an individual in a country')\n \nplt.show()","35cf52d4":"no_players_club = df[\"Club\"].value_counts() \nno_players_club[0:20]","e53cdef8":"best_dict2 = {}\nfor clu in df['Club'].unique():\n    overall_rating = df['Overall'][df['Club'] == clu].sum()\n    best_dict2[clu] = overall_rating","744da921":"best_average_ovr2 = {}\n\nclubss = list(best_dict2.keys())\n\nfor j in clubss:\n    if best_dict2[j] > 1000 :\n        best_average_ovr2[j] = best_dict2[j]\/float(no_players_club[j])\n    else:\n        continue","22565ecf":"best_average_ovr2_sorted = sorted(best_average_ovr2, key=best_average_ovr2.get, reverse = True)","c1863fb9":"avg_ovr2 = []\n\nfor i in best_average_ovr2_sorted:\n    avg_ovr2.append(best_average_ovr2[i])","f04a06aa":"final_avg2 = avg_ovr2[0:15]","e3b0e1f2":"final_clubs = best_average_ovr2_sorted[0:15]","254b4518":"plt.figure(figsize=(30,15))\n\nplt.bar(final_clubs, final_avg2, align='center', alpha=0.5)\nplt.ylabel('Average Overall Rating of an Individual')\nplt.xlabel('Clubs')\nplt.title('Average Overall Rating of an individual in a Club')\n \nplt.show()","be3cca69":"# 9. Club with the best average Overall Ratings of an Individual","1d3d952b":"It is not easy to work with the entire set of data, I have selected a few columns from the total existing number of columns. This is an area of choice, feel free to work around a bit.","194d80d5":"# 6. Well, an Intelligent Pass at the right moment to the right person is as good as a Fancy dribble. \n\n\nWell both Kevin De Bruyne and Luka Modric are on a par when it comes down to picking the best Midfielder. The latter has more valuable experience. Winning the Champions League 3 years in a row. Earning the Highly Esteemed Ballon D'or Award. While, the former is yet to firmly showcase the ace up his sleeve. \n\nA perfect team of talented youngsters as his teammates under the abled guidance of Josep \"Pep\" Guardiola at Manchester City, Kevin De Bruyne could really set the bar high for the next generation of midfielders. Only time should be able to decide....\n\n![](https:\/\/i.makeagif.com\/media\/6-21-2018\/CnTh3e.gif)","5a769fba":"# 2. Most of the Footballers between the age of 23 - 28 have the Highest Work Rate throughout the game.","7c7f9ece":"![](https:\/\/www.trollfootball.me\/upload\/full\/2016\/03\/10\/theres-only-one-zlatan.jpg)","29b85acc":"## The next generation of Footballers seem to have great potentials. Many Footballers between the age 17 - 24 have a really high predicted Potential.","749a6a40":"# 3.  Number of Strikers (ST) ~ Number of Goalkeepers (GK)\n\n## Well, I didnt know there were as many goalkeepers as the number of Strikers professionally. Looks like these 2 positions are the most preferred by the lot.\n\n## There are 94 Goalkeepers for every set of 100 Strikers. Interesting !","962c9c33":"## a) Juventus has the best individual Overall Rating of more than 80% . Followed by Napoli and Inter Milan. \n\n## b) 4 out the top 5 teams are Italian sides. Looks like there is huge talent resting in the Italian sides.","3137f2dd":"# 4.  Overall Performance in the game starts deteriorating after the age 32 in most cases. Unless you are Zlatan Ibrahimovic, \"*I think I am like wine. The older I get. The better I get*.\" \n\n## This plot below shows the Overall Perfomance of a Footballer with respect to his age.","f7e75be9":"# 1.  Only 23% of the Footballers are left footed. ","4e364593":"# 7. Best forwards in the world. (Lionel Messi v\/s Cristiano Ronaldo)\n\n![](http:\/\/messivsronaldo.net\/wp-content\/uploads\/2017\/09\/messivsronaldo.png)","d1582168":"# ** Well, Most People either love to play or watch Football. **\n\n![](http:\/\/www.elitecolumn.com\/wp-content\/uploads\/2017\/09\/Andrea-Pirlo-Quotes-4.jpg)\n\n###  \"Football is played with the head. Your feet are just tools.\" - Andrea Pirlo.\n\nThat's some wise words, from one of the best professionals to have played this game for his life.  \n\nAs a fan of Football, the heated atmosphere enveloping the stadium packed with fans(*EPL houses on an average of 38,297 people* ) from all over the world to support their club\/team by singing phrases in unision to motivate the team, Shouting in joy when a Goal is scored or When the Goalkeeper saves a stunner or Even sometimes a Nail biting finish to win the league and secure the title (AAAAGGGUUUEEERRROOO !!! )  can run chills down the spine. It's more than a game, its a part of the Family to many!!\n\nI shall be analysing the dataset containing the detailed information about the players in the game. This dataset shall help us attain certain facts which you might not know.","a3469b16":"# 5. The best 4 Qualities for playing a particular position :\n\n![Kevin De Bruyne](https:\/\/i.dailymail.co.uk\/i\/pix\/2017\/12\/17\/22\/476464B700000578-5188919-image-a-22_1513548491192.jpg)\n","84a603e5":"## England has the Highest number of individuals involved in practising Football all over the world, followed by Germany and Spain","f798a533":"## Although England has the Highest number of Individuals playing Football. The quality of Players from Portugal, Brazil & Uruguay is better than most of the Footballing Nations.","d6620f06":"# 8. Country with the best average Overall Ratings of an Individual"}}