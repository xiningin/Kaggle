{"cell_type":{"96390192":"code","ee53425e":"code","1f3f30e5":"code","c2bc54ae":"code","1324f568":"code","611c208e":"code","9f77fa2e":"code","65422b5d":"code","e0ca07c5":"code","44735314":"code","dded523c":"code","4ca286df":"code","1a2ffe10":"code","fbbce1be":"code","4e27f002":"code","245fcbd8":"markdown","4da6a3c7":"markdown","f24b77ec":"markdown","579bf2f7":"markdown","56f2a197":"markdown","d5002bde":"markdown","7abcb337":"markdown","7c1a8f09":"markdown","6f1bf4f7":"markdown","3d3305bf":"markdown","1ceba5d5":"markdown","8161cea9":"markdown","6da8c910":"markdown","93213324":"markdown","000f6e52":"markdown","ab8d35ac":"markdown","3e2c45d0":"markdown","3ab7b4b1":"markdown","e7706021":"markdown","72f79dfe":"markdown","115d39d6":"markdown"},"source":{"96390192":"import urllib\nimport random\n\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport cv2\nfrom wordcloud import WordCloud, ImageColorGenerator","ee53425e":"path_data = \"..\/input\/index.csv\"\ndf = pd.read_csv(path_data)\n\ntext = ' '.join(df[\"description\"].values)\nprint(\"Text example: \")\ntext[:300]","1f3f30e5":"wordcloud = WordCloud(\n    background_color=\"black\",\n    width=500,\n    height=500,\n    random_state=42,\n)\n\nwordcloud.generate(text)\n\n\nplt.figure(figsize=(5, 5))\nplt.imshow(wordcloud)\nplt.axis(\"off\")\nplt.show()","c2bc54ae":"def load_mask(mask_url):\n    with urllib.request.urlopen(mask_url) as resp:\n        mask = np.asarray(bytearray(resp.read()), dtype=\"uint8\")\n        mask = cv2.imdecode(mask, cv2.IMREAD_COLOR)\n        mask = cv2.cvtColor(mask, cv2.COLOR_BGR2RGB)\n        \n    return mask\n\n\nmask = load_mask(\"https:\/\/i.imgur.com\/nY3pUfe.png\")\n\nplt.imshow(mask)\nplt.axis(\"off\");","1324f568":"wordcloud = WordCloud(\n    background_color=\"white\", \n    mask=mask,\n    max_words=500,\n    random_state=42,\n)\n\nwordcloud.generate(text)\n\n\nplt.figure(figsize=(8, 8))\nplt.imshow(wordcloud)\nplt.axis(\"off\")\nplt.show()","611c208e":"wordcloud = WordCloud(\n    background_color=\"white\", \n    mask=mask,\n    max_words=500,\n    random_state=42,\n    prefer_horizontal=0,\n)\n\nwordcloud.generate(text)\n\n\nplt.figure(figsize=(8, 8))\nplt.imshow(wordcloud)\nplt.axis(\"off\")\nplt.show()","9f77fa2e":"colormaps = [\n    \"winter\", \"spring\", \"summer\", \n    \"autumn\", \"gray\", \"rainbow\", \n    \"Blues\", \"jet\", \"Oranges\",\n]\n\nplt.figure(figsize=(16, 16))\n\nfor ind, colormap in enumerate(colormaps, 1):\n    wordcloud = WordCloud(\n        background_color=\"white\", \n        mask=mask,\n        max_words=200,\n        colormap=colormap,\n        random_state=42,\n    )\n    \n    wordcloud.generate(text)\n\n    plt.subplot(3, 3, ind)\n    plt.imshow(wordcloud)\n    plt.title(f'colormap: {colormap}', fontsize=16)\n    plt.axis(\"off\")","65422b5d":"colored_mask = load_mask(\"https:\/\/i.imgur.com\/HR1wh2N.png\")\n\nplt.imshow(colored_mask)\nplt.axis(\"off\");","e0ca07c5":"wordcloud = WordCloud(\n    background_color=\"white\", \n    mask=colored_mask,\n    max_words=500,\n    random_state=42,\n)\n    \nwordcloud.generate(text)\n\nimage_colors = ImageColorGenerator(colored_mask)\n\nplt.figure(figsize=(8, 8))\nplt.imshow(wordcloud.recolor(color_func=image_colors))\nplt.axis(\"off\")\nplt.show()","44735314":"wordcloud.to_file(\"example.png\")","dded523c":"new_mask = load_mask(\n    \"https:\/\/res.cloudinary.com\/practicaldev\/image\/fetch\/s--sKgAlMeY--\/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880\/https:\/\/dev-to-uploads.s3.amazonaws.com\/i\/9fzqwxykz0ha9emyrjin.jpg\"\n)\n\nplt.imshow(new_mask)\nplt.axis(\"off\")\nplt.show()\n\nwordcloud = WordCloud( \n    mask=new_mask,\n    random_state=42,\n    max_font_size=50,\n    colormap=\"Reds\",\n)\n    \nwordcloud.generate(text) \nwordcloud.to_file(\"love.png\")\n\nplt.figure(figsize=(8, 8))\nplt.imshow(wordcloud)\nplt.axis(\"off\")\nplt.show()","4ca286df":"new_mask = load_mask(\n    \"https:\/\/www.dailyhostnews.com\/wp-content\/uploads\/2018\/07\/Python-featured-1050x600.jpg\"\n)\n\nplt.imshow(new_mask)\nplt.axis(\"off\")\nplt.show()\n\nwordcloud = WordCloud(\n    background_color=\"white\",\n    mask=new_mask,\n    random_state=42,\n    max_font_size=50,\n    max_words=1000,\n)\n    \nwordcloud.generate(text) \n\nimage_colors = ImageColorGenerator(new_mask)\n\nplt.figure(figsize=(16, 8))\nplt.imshow(\n    wordcloud.recolor(color_func=image_colors)\n)\nplt.axis(\"off\")\nplt.show()","1a2ffe10":"new_mask = load_mask(\n    \"https:\/\/www.kaggle.com\/static\/images\/site-logo.png\"\n)\nnew_mask = cv2.resize(\n    new_mask, \n    (new_mask.shape[1] * 5, new_mask.shape[0] * 5),\n)\n\nplt.imshow(new_mask)\nplt.axis(\"off\")\nplt.show()\n\nwordcloud = WordCloud(\n    background_color=\"black\",\n    mask=new_mask,\n    random_state=42,\n    max_words=1000,\n)\n    \nwordcloud.generate(text) \n\nimage_colors = ImageColorGenerator(new_mask)\n\nplt.figure(figsize=(16, 8))\nplt.imshow(\n    wordcloud.recolor(color_func=image_colors)\n)\nplt.axis(\"off\")\nplt.show()","fbbce1be":"new_mask = load_mask(\n    \"https:\/\/luxuryasiainsider.files.wordpress.com\/2018\/01\/google_logo.png?w=723\"\n)\n\nplt.imshow(new_mask)\nplt.axis(\"off\")\nplt.show()\n\nwordcloud = WordCloud(\n    background_color=\"white\",\n    mask=new_mask,\n    random_state=42,\n    max_words=1000,\n)\n    \nwordcloud.generate(text) \n\nimage_colors = ImageColorGenerator(new_mask)\n\nplt.figure(figsize=(16, 8))\nplt.imshow(\n    wordcloud.recolor(color_func=image_colors)\n)\nplt.axis(\"off\")\nplt.show()","4e27f002":"new_mask = load_mask(\n    \"https:\/\/cdn.mos.cms.futurecdn.net\/SytNGv3ZxAVCkvcspmbbvh.jpg\"\n)\nnew_mask = cv2.resize(\n    new_mask, \n    (new_mask.shape[1] * 2, new_mask.shape[0] * 2),\n)\n\nplt.imshow(new_mask)\nplt.axis(\"off\")\nplt.show()\n\nwordcloud = WordCloud(\n    background_color=\"white\",\n    mask=new_mask,\n    random_state=42,\n    max_words=1000,\n)\n    \nwordcloud.generate(text) \n\nimage_colors = ImageColorGenerator(new_mask)\n\nplt.figure(figsize=(16, 8))\nplt.imshow(\n    wordcloud.recolor(color_func=image_colors)\n)\nplt.axis(\"off\")\nplt.show()","245fcbd8":"## More examples - Python Logo","4da6a3c7":"## More examples - Love","f24b77ec":"We can use different color maps for the clouds","579bf2f7":"# Word Cloud for [Ukrainian Descriptions Of Words](https:\/\/www.kaggle.com\/ihelon\/ukrainian-descriptions-of-words) dataset\n\nThis is the guide about using wordcloud library for building images from words.   \nWe will use Ukrainian Descriptions Of Words dataset, which contains a lot of ukrainian words. But you can use your own text corpus in other languages.","56f2a197":"## Colored masks","d5002bde":"To save wordcloud we can simply use wordcloud.to_file(path) method","7abcb337":"## Load data","7c1a8f09":"## Save word cloud to file","6f1bf4f7":"## More examples - Google Logo","3d3305bf":"## Colormaps for word cloud","1ceba5d5":"We can color the wordcloud using an image-based coloring strategy implemented in ImageColorGenerator. It uses the average color of the region occupied by the word in a source image.","8161cea9":"## Minimal example of the word cloud","6da8c910":"## More examples - YouTube Logo","93213324":"## Create word cloud from mask","000f6e52":"## More examples - Kaggle Logo","ab8d35ac":" Load simple mask as numpy array (you can use your own image)","3e2c45d0":"![](https:\/\/i.imgur.com\/UqXawPb.png)","3ab7b4b1":"Create and show default wordcloud (with the mask)","e7706021":"Let's load another colored mask as numpy array (you can use your own colored image)","72f79dfe":"Let's load the dataset with text and convert it into one text corpus","115d39d6":"We can control percentage of horizontal and vertical word arrangements using parameter *prefer_horizontal*. Set it to 0.1 to see nearly all words in vertical  arrangements"}}