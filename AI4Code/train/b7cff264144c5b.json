{"cell_type":{"22f3ed62":"code","a9f4d0ce":"code","71540a7d":"code","48d9138f":"code","b860ea02":"code","cdafd853":"code","3bb02f9f":"code","827e3885":"code","a6c59a1a":"code","1594ebc1":"code","f17fbc57":"code","5b409c13":"code","1da51597":"code","f22f922f":"code","39e07617":"code","ce8c5868":"code","bfa3f350":"code","b116ceba":"code","97dd89bf":"code","b95afa26":"code","e2702e6c":"code","03068885":"code","e4de28bb":"code","924ed0b4":"code","c8fe3ab0":"code","29e92410":"code","3a0b2934":"code","af49a59b":"code","94fda423":"code","5aa75262":"code","55857cc0":"code","fa868c16":"code","17984709":"code","56d87487":"code","b6c434a6":"code","16ce2a56":"code","ba4a4246":"code","c89c40a4":"code","40788477":"code","c5ee0547":"code","28adc8fd":"code","46eae492":"code","da1ca862":"code","543ebe38":"code","02f4684a":"markdown","404013a2":"markdown","385f308f":"markdown","d3e30aed":"markdown","3120a4bd":"markdown","c5d35059":"markdown","a1a19292":"markdown","82d4553e":"markdown","94ed2b70":"markdown","54b8896d":"markdown","d082cdcb":"markdown","86b9a095":"markdown","d4b8f875":"markdown","91ed73dd":"markdown","857649dd":"markdown","20d35e62":"markdown","34533d2d":"markdown","0ac37cb5":"markdown","54385916":"markdown","2c8f030b":"markdown","bebac790":"markdown","b0a32e72":"markdown","9d328d81":"markdown","90c313f4":"markdown","374cd634":"markdown","4501e19a":"markdown"},"source":{"22f3ed62":"import numpy as np\nimport pandas as pd\nimport math\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport datetime as dt\n%matplotlib inline","a9f4d0ce":"city = pd.read_csv('..\/input\/GlobalLandTemperaturesByCity.csv')\ncountry = pd.read_csv('..\/input\/GlobalLandTemperaturesByCountry.csv')\nglobal_temp = pd.read_csv('..\/input\/GlobalTemperatures.csv')","71540a7d":"city.head()","48d9138f":"city.shape","b860ea02":"country.head()","cdafd853":"country.shape","3bb02f9f":"global_temp.head()","827e3885":"global_temp.shape","a6c59a1a":"city.Country.unique()","1594ebc1":"India = city[city.Country == 'India']\nIndia.head()","f17fbc57":"India = India.set_index('dt')\nIndia.head()\n","5b409c13":"India.index =  pd.to_datetime(India.index)\nIndia.index.dtype","1da51597":"India_mean_temperature_monthly = India.groupby([India.index.month.rename('Month'),India.City])['AverageTemperature'].mean().reset_index()\nIndia_mean_temperature_monthly.head()","f22f922f":"#India_mean_temperature_monthly.head(4000)","39e07617":"top_cities = India_mean_temperature_monthly[India_mean_temperature_monthly.City.isin(['Ahmadabad', 'Calcutta', 'Madras','New Delhi', 'Bombay', 'Srinagar'])]\ntop_cities = top_cities.set_index('Month')\ntop_cities.head()","ce8c5868":"top_cities.plot(figsize =(12,5))\nplt.title('Monthly Mean Temperature of Top Cities')\nplt.ylabel(\"Average Temperature\")\nplt.grid(True)","bfa3f350":"India_mean_temperature_yearly = India.groupby([India.index.year.rename('Year'),India.City])['AverageTemperature'].mean().reset_index()\nIndia_mean_temperature_yearly.head(10)","b116ceba":"top_cities_yearly = India_mean_temperature_yearly[India_mean_temperature_yearly.City.isin(['Ahmadabad', 'Calcutta', 'Madras','New Delhi', 'Bombay', 'Srinagar'])]\ntop_cities_yearly = top_cities_yearly.set_index('Year')\ntop_cities_yearly.head()","97dd89bf":"top_cities_yearly.plot(color = 'brown',figsize =(12,5))\nplt.title('Yearly Mean Temperature of Top Cities')\nplt.ylabel(\"Average Temperature\")\nplt.grid(True)","b95afa26":"top_cities_yearly = top_cities_yearly.fillna(top_cities_yearly.mean())\ntop_cities_yearly.tail()","e2702e6c":"top_cities_yearly.plot(color = 'green',figsize =(12,5))\nplt.title('Yearly Mean Temperature of Top Cities')\nplt.ylabel(\"Average Temperature\")\nplt.grid(True)","03068885":"global_temp = global_temp.set_index('dt')\nglobal_temp.index = pd.to_datetime(global_temp.index)\nglobal_temp = global_temp.resample('A').mean()\nglobal_temp.head()","e4de28bb":"x = global_temp.loc[:,['LandAverageTemperature']]\nx.plot(figsize =(12,5))\nplt.title('Global Temperature')\nplt.xlabel(\"Year --->\")\nplt.ylabel(\"Temperature --->\")\nplt.grid(True)","924ed0b4":"country=country.set_index('dt')\ncountry.index=pd.to_datetime(country.index)\ncountry.head()","c8fe3ab0":"country_diff=country.groupby([country.index.year.rename('Year'),'Country']).AverageTemperature.mean().reset_index()\ncountry_diff.head()","29e92410":"country_diff=country_diff.groupby(['Country']).AverageTemperature.agg(['max','min']).reset_index()\ncountry_diff['diff']=country_diff['max']-country_diff['min']\ncountry_diff.head()","3a0b2934":"country_list_max = country_diff.nlargest(10, columns = 'diff')\ncountry_list_max","af49a59b":"plt.figure(figsize=(12,5))\nplt.title('Countries with Highest Temperature Difference')\nplt.xlabel('Country')\nplt.xticks(rotation = 90)\nplt.ylabel('Temperature Difference')\nplt.plot(country_list_max['Country'],country_list_max['diff'],color='g')\nplt.grid(True)","94fda423":"country_list_min = country_diff.nsmallest(10, columns = 'diff')\ncountry_list_min","5aa75262":"plt.figure(figsize=(12,5))\nplt.title('Countries with Lowest Temperature Difference')\nplt.xlabel('Country')\nplt.xticks(rotation = 90)\nplt.ylabel('Temperature Difference')\nplt.plot(country_list_min['Country'],country_list_min['diff'],color='r')\nplt.grid(True)","55857cc0":"country_filtered=country.groupby([country.index.year.rename('Year'),'Country']).AverageTemperature.mean().reset_index()\ncountry_filtered=country_filtered[country_filtered['Year']>=1900]\ncountry_filtered=country_filtered.groupby(['Country']).AverageTemperature.agg(['max','min']).reset_index()\ncountry_filtered['diff']=country_filtered['max']-country_filtered['min']\ncountry_filtered.head()","fa868c16":"country_list_max = country_filtered.nlargest(10, columns = 'diff')\ncountry_list_max","17984709":"plt.figure(figsize=(12,5))\nplt.title('Countries with Highest Temperature Difference')\nplt.xlabel('Country')\nplt.xticks(rotation = 90)\nplt.ylabel('Temperature Difference')\nplt.plot(country_list_max['Country'],country_list_max['diff'],color='g')\nplt.grid(True)","56d87487":"country_list_min = country_filtered.nsmallest(10, columns = 'diff')\ncountry_list_min","b6c434a6":"plt.figure(figsize=(12,5))\nplt.title('Countries with Lowest Temperature Difference')\nplt.xlabel('Country')\nplt.xticks(rotation = 90)\nplt.ylabel('Temperature Difference')\nplt.plot(country_list_min['Country'],country_list_min['diff'],color='r')\nplt.grid(True)","16ce2a56":"developed = ['United States', 'United Kingdom', 'France', 'Germany', 'Japan', 'Canada', 'Switzerland', 'Norway', 'Sweden', 'South Korea', 'Australia']\ndeveloped_df=country[country.Country.isin(developed)]\ndeveloped_df=developed_df.groupby([developed_df.index.year.rename('Year'),'Country']).AverageTemperature.mean().reset_index()\ndeveloped_df.head()","ba4a4246":"developing = ['China', 'India', 'Columbia', 'Brazil', 'Mexico', 'Indonesia', 'Philippines', 'Maldives', 'Turkey', 'South Africa', 'Libya']\ndeveloping_df=country[country.Country.isin(developing)]\ndeveloping_df=developing_df.groupby([developing_df.index.year.rename('Year'),'Country']).AverageTemperature.mean().reset_index()\ndeveloping_df.head()","c89c40a4":"fig, axs = plt.subplots(ncols=2,figsize=(12,5))\nsns.regplot(x='AverageTemperature',y='Year',fit_reg=True,data=developing_df, ax=axs[0])\naxs[0].set(title = 'Developing Countries')\nsns.regplot(x='AverageTemperature',y='Year',fit_reg=True,data=developed_df, ax=axs[1])\naxs[1].set(title ='Developed Countries');","40788477":"developing_df = developing_df[developing_df['Year'] > 1900]\n\nX = developing_df['Year'].values.reshape(-1,1)\nY = developing_df['AverageTemperature']\n#split dataset into train and test\nfrom sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, Y, test_size=0.3, random_state=0)\n\n#fit the model\nfrom sklearn.linear_model import LinearRegression\nregressor = LinearRegression()\nregressor.fit(X_train, y_train)\n\n#predict the test set results\ny_pred_1 = regressor.predict(X_test)\ny_pred_1","c5ee0547":"#coefficient and intercept for developing_df\nregressor.coef_, regressor.intercept_","28adc8fd":"regressor.predict([[2025]])\n","46eae492":"developed_df = developed_df[developed_df['Year'] > 1900]\n\nX = developed_df['Year'].values.reshape(-1,1)\nY = developed_df['AverageTemperature']\n#split dataset into train and test\nfrom sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, Y, test_size=0.3, random_state=0)\n\n#fit the model\nfrom sklearn.linear_model import LinearRegression\nregressor = LinearRegression()\nregressor.fit(X_train, y_train)\n\n#predict the test set results\ny_pred_2 = regressor.predict(X_test)\ny_pred_2","da1ca862":"#coefficient and intercept for developed_df\nregressor.coef_, regressor.intercept_","543ebe38":"regressor.predict([[2025]])","02f4684a":"####  ***Plotting the graph for top_cities of India***","404013a2":"####  ***Plotting the averageTemperature for countries with the lowest temperature difference. ***","385f308f":"### Countries with Minimum and Maximum temperature difference over years\n","d3e30aed":"### Temperature Comparison of Developed Vs. Developing nations:","3120a4bd":"#### * Importing the modules*","c5d35059":"The countries on Nothern and southern hemispheres seems to have witnessed significantly more global warming compared to the tropical countries.","a1a19292":"### Predicting temperature using Linear regression for Developed Countries\n","82d4553e":"### Data Aggregated per Month\n\nMean temperatures in Indian cities by month ","94ed2b70":"### Unique countries in dataframe city ","54b8896d":"#### **loading the datasets**","d082cdcb":"### Predicting the temperatures in  developed countries in the year 2025. ","86b9a095":"#### ***Plotting the averageTemperature for countries with the highest temperature difference. ***","d4b8f875":"    It contains 3 csv files:\n\n    GlobalLandTemperaturesByCity.csv \n    GlobalLandTemperaturesByCountry.csv\n    GlobalTemperatures.csv","91ed73dd":"The dataframe India contains data of 391 unique cities. ","857649dd":"### Trend in Global Temperature \n","20d35e62":"####  ***Plotting the AverageTemperature for top 10 countries with the highest temperature difference:***\n","34533d2d":"### Predicting temperature using Linear regression for Developing Countries\n","0ac37cb5":"The global mean temperature graph is definitely showing an upward trend. We can use the dataframe country to further evaluate whether the upward trend is uniform or contributed by some selected countries.","54385916":"####  ***Plotting the AverageTemperature for top 10 countries with the lowest temperature difference: ***\n","2c8f030b":"### Predicting the temperatures in  developing countries in the year 2025. ","bebac790":"### Data Aggregated per Year \n\nMean temperatures in Indian cities by Year \n","b0a32e72":"#### ***Creating a new dataframe  India from city  ***","9d328d81":"#### *** Plotting the graph for top_cities of India***","90c313f4":"### Handling missing data \n\nThe dataframe India_mean_temperature_yearly has many NaN values in the column AverageTemperature. That leads the the plot with broken lines. \n","374cd634":"## Climate Change: Earth Surface Temperature Data\n\n\n","4501e19a":"The increase in temperature is not very evident in both the plots. Also the data doesn't seem to be very reliable. So repeating the exercise by first filtering the dataframe country to only represent data after 1900."}}