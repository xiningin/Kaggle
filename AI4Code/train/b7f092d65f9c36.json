{"cell_type":{"967eed6e":"code","1dbcf9e9":"code","2128aeea":"code","72998e2f":"code","58fc4c91":"code","12856948":"code","396ce64c":"code","f7506eca":"code","17257301":"code","535fe11a":"code","a4f2d729":"code","973f9de4":"code","893374f8":"code","1d222bdf":"code","ba485e31":"code","507a808e":"code","7e21ab7b":"code","cf3d145e":"code","b4e641ba":"code","7f215ee8":"code","114ed383":"code","ad7fcfd4":"code","be28c174":"code","f1f1a3f2":"code","a3bc05f7":"code","ea2560bd":"code","39cb1a8d":"code","fe29c806":"code","f0b5646a":"code","f5a2a35e":"markdown","25e1a7df":"markdown","2c9d62e5":"markdown","5a9759a3":"markdown","9692a37d":"markdown","fa16b364":"markdown","09bfdc69":"markdown","f778a213":"markdown","86f6deb0":"markdown","6fbcbe85":"markdown","f72e110e":"markdown","8ccf8cee":"markdown","e4a2dbd9":"markdown","8aae5e60":"markdown","05935965":"markdown","c1edda92":"markdown","575f7eea":"markdown","2f93d9ac":"markdown"},"source":{"967eed6e":"import numpy as np\nimport pandas as pd\nimport igraph\nfrom igraph import Graph\nimport matplotlib.pylab as plt\n\nimport os\nfor dirname, _, filenames in os.walk('..\/input\/ml-in-graphs-hw0\/'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n%matplotlib inline","1dbcf9e9":"with open('..\/input\/ml-in-graphs-hw0\/wiki-Vote.txt') as f:\n    with open('removed_comments.txt', 'w') as f1:\n        for line in f:\n            if line[0] != '#':\n                f1.write(line)","2128aeea":"path = 'removed_comments.txt'\nwiki_graph = Graph.Read_Edgelist(path)","72998e2f":"wiki_graph.vcount()","58fc4c91":"wiki_graph.get_edgelist()[:5]","12856948":"[i for i in wiki_graph.get_edgelist() if i[0] == i[1]]","396ce64c":"wiki_graph.ecount()","f7506eca":"edgelist = set(wiki_graph.get_edgelist())\n\nundirected = [i for i in wiki_graph.get_edgelist()[:] if (i[1], i[0]) in edgelist]","17257301":"len(undirected)\/2","535fe11a":"wiki_graph.ecount() - len(undirected)\/2","a4f2d729":"has_out = set([i[0] for i in wiki_graph.get_edgelist()])\nlen([i for i in range(wiki_graph.vcount()) if i not in has_out])","973f9de4":"has_in = set([i[1] for i in wiki_graph.get_edgelist()])\nlen([i for i in range(wiki_graph.vcount()) if i not in has_in])","893374f8":"from collections import Counter","1d222bdf":"out_counter = Counter([i[0] for i in wiki_graph.get_edgelist()]) ","ba485e31":"len([i for i in out_counter.most_common() if i[1] > 10])","507a808e":"in_counter = Counter([i[1] for i in wiki_graph.get_edgelist()]) \nlen([i for i in in_counter.most_common() if i[1] < 10])","7e21ab7b":"h = wiki_graph.degree_distribution(bin_width=1, mode='out')","cf3d145e":"degrees = np.array([i[1] for i in h.bins()])[1:]\nn_vs = np.array([i[2] for i in h.bins()])[1:]\n\ndegrees = degrees[n_vs>0]\nn_vs = n_vs[n_vs>0]","b4e641ba":"plt.plot(np.log10(degrees), np.log10(n_vs))\nplt.grid()","7f215ee8":"np.polyfit(np.log10(degrees), np.log10(n_vs), 1)","114ed383":"java_graph = Graph.Read_Edgelist('..\/input\/ml-in-graphs-hw0\/stackoverflow-Java.txt')","ad7fcfd4":"java_graph.vcount()","be28c174":"components = java_graph.components(mode='WEAK')","f1f1a3f2":"clustered = components.cluster_graph()","a3bc05f7":"clustered.vcount()","ea2560bd":"biggest = components.giant()","39cb1a8d":"biggest.ecount(), biggest.vcount()","fe29c806":"scores = java_graph.pagerank()","f0b5646a":"Counter({k:v for k, v in zip(np.arange(java_graph.ecount()), scores)}).most_common()[:3]","f5a2a35e":"## 1.7","25e1a7df":"# 1.","2c9d62e5":"## 1.9","5a9759a3":"## 1.4","9692a37d":"## 2.1","fa16b364":"## 1.2","09bfdc69":"# 2","f778a213":"## 2.2","86f6deb0":"## 1.6","6fbcbe85":"## 3.1","f72e110e":"## 1.1","8ccf8cee":"## 1.5","e4a2dbd9":"## 1.8","8aae5e60":"## 3.3","05935965":"# 3","c1edda92":"## 3.2","575f7eea":"## 3.4","2f93d9ac":"## 1.3"}}