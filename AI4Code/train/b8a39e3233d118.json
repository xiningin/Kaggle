{"cell_type":{"9502ea40":"code","c42a64ce":"code","284bff8d":"code","200076bc":"code","b6bf9ac4":"code","f336b477":"code","b79d5537":"code","a31ce25d":"code","3858b356":"code","c1f3838a":"code","a2e57234":"code","c92e3989":"code","9f46ea1d":"code","05fca12b":"code","59795a09":"code","7539194e":"code","59a64f59":"code","d4dfa695":"code","e4fb5bb1":"code","473358c0":"code","8b84528f":"code","00fc2b8a":"markdown","51412841":"markdown","6155be38":"markdown","2d5bae19":"markdown","7d01036f":"markdown","0bfc5936":"markdown","7120b50d":"markdown","fe883f95":"markdown","032c4034":"markdown","3afe06df":"markdown","ea65048f":"markdown","b941a3be":"markdown","b3b910dc":"markdown"},"source":{"9502ea40":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","c42a64ce":"df= pd.read_csv(\"..\/input\/data.csv\")\ndf.head()","284bff8d":"arr = []\nfor a in df['Age']:\n    if a<20:\n        arr.append('Below 20')\n    elif a>20 and a<25:\n        arr.append('20-25')\n    elif a>25 and a<30:\n        arr.append('25-30')\n    elif a>30 and a<35:\n        arr.append('30-35')\n    else:\n        arr.append('Above 35')\narr = pd.Series(arr)\ndf['Age_Grp'] = arr\ndf[['Name','Age','Age_Grp']].head()","200076bc":"import seaborn as sns\nimport matplotlib.pyplot as plt\nplt.xticks(rotation = 0)\nsns.countplot(x = 'Age_Grp', data = df)","b6bf9ac4":"v_con = {'\u20ac': 1, 'K': 1000, 'M':1000000}\ndef con(val):    \n    unit = val[-1]\n    if unit == '0':\n        return 0\n    number = float(val[1:-1])\n    if unit in v_con:\n        val = v_con[unit]*number\n    return val\nvalue = []\nfor v in df['Value']:\n    value.append(con(v))\ndf['value'] = pd.Series(value)\ndf[['Name','Value','value']].head()","f336b477":"sns.scatterplot(df.Overall, df.value, palette='RdBu_r')","b79d5537":"grp_age = df.groupby('Age_Grp', as_index=False)\ndf_age = grp_age['value'].mean()\nsns.barplot(x = 'Age_Grp', y = 'value', data = df_age, palette='rainbow')","a31ce25d":"grp_age1 = df.groupby('Age', as_index=False)\ndf_a = grp_age1.value.mean()\nsns.lineplot(df.Age, df.value)","3858b356":"sns.set(style = 'whitegrid')\ngrp_age1 = df.groupby('Age', as_index=False)\ndf_a = grp_age1.Overall.mean()\nsns.lineplot(df.Age, df.Overall)","c1f3838a":"sns.set(style = 'whitegrid')\ngrp_age1 = df.groupby('Age', as_index=False)\ndf_a = grp_age1['Stamina','HeadingAccuracy', 'ShotPower','Acceleration', 'Crossing', 'Potential'].mean()\nsns.lineplot(df_a.Age, df_a.Stamina)\nsns.lineplot(df_a.Age, df_a.HeadingAccuracy)\nsns.lineplot(df_a.Age, df_a.ShotPower)\nsns.lineplot(df_a.Age, df_a.Acceleration)\nsns.lineplot(df_a.Age, df_a.Crossing)\nplt.legend(['Stamina','HeadingAccuracy', 'ShotPower','Acceleration', 'Crossing'])","a2e57234":"sns.lineplot(df_a.Age, df_a.Potential)","c92e3989":"x = df[['Overall', 'value', 'Composure', 'Penalties', 'Stamina', 'Balance']].corr(method = 'spearman')\nsns.heatmap(x, linewidths=0.1, annot= True)","9f46ea1d":"arr = []\ndf.Position.fillna('F', inplace =True)\ndef con_pos(pos):\n    for p in pos:\n        if p == 'M':\n            return 'MID'\n    for p in pos:\n        if p == 'B':\n            return 'DEF'\n    for p in pos:\n        if p == 'G':\n            return 'GK'\n    else:\n        return 'FWD'\n        \nfor pos in df['Position']:\n    arr.append(con_pos(pos))\ndf['position'] = pd.Series(arr)\ndf[['Name','Position','position']].head()","05fca12b":"sns.countplot(x = 'position', data = df, palette='YlGn_r')","59795a09":"sns.barplot(x = 'position', y = 'value', data = df, palette='YlGnBu_r')","7539194e":"grp_pos = df.groupby('position', as_index=False)\ndf_pos = grp_pos.mean()\ndf_pos.drop(['ID', 'Unnamed: 0','Jersey Number'], axis= 1)\nm = df_pos.melt('position', value_vars = ['Crossing', 'Composure', 'Marking', 'SlidingTackle','Stamina'])\nsns.barplot(m.position,m.value, hue = m.variable, palette='rainbow')\nplt.legend(loc = 'lower left')","59a64f59":"df_club = df.groupby('Club', as_index=False)['value'].mean()\ndf_club.sort_values(by= ['value'],ascending=False, inplace =True)\ndf_club.head()","d4dfa695":"plt.xticks(rotation  = 90)\nsns.barplot(x ='Club', y= 'value', data = df_club.head(15), palette='rainbow')","e4fb5bb1":"sns.set(style=\"whitegrid\")\nf,ax = plt.subplots(figsize = (9,6))\nplt.xticks(rotation = 90)\nax =sns.boxplot(x = 'Club', y = 'Overall', data = df.head(80),ax = ax )","473358c0":"labels = ['Stamina', 'Finishing', 'Crossing', 'HeadingAccuracy', 'Dribbling', 'Penalties','Acceleration']\nstat_m = df.loc[0,labels].values\nstat_r = df.loc[1,labels].values\nangles = np.linspace(0, 2*np.pi, len(labels), endpoint=False)\nstat_m = np.concatenate((stat_m, [stat_m[0]]))\nstat_r = np.concatenate((stat_r, [stat_r[0]]))\nangles = np.concatenate((angles,[angles[0]]))","8b84528f":"fig = plt.figure()\nax = fig.add_subplot(111,polar = True)\nax.plot(angles, stat_m, 'o-', label= 'Messi')\nax.plot(angles, stat_r, 'o-', label = 'Ronaldo')\nax.set_thetagrids(angles*180\/np.pi, labels)\nplt.legend(['Messi','Ronaldo'], loc = 'lower left')","00fc2b8a":"Maximum number of players belong to the age group of 20-25year","51412841":"**Correlation is maximum between the Value and Overall score**\nOther attributes also contribute to the Overall value of the player proportionally","6155be38":"**IMPORTING THE DATA FILE**","2d5bae19":"**Small comparision between Messi and Ronaldo**","7d01036f":"**Number of Players at different age group**","0bfc5936":"**Visualization based on age group**","7120b50d":"**Grouping the Age for better Visualization**","fe883f95":"***The reason for decreasing value agter certain age can clearly be seen as the decrease in attributes of the players after certin age***","032c4034":"**Value of players decreases after a certain age\nLets try to understand why.**","3afe06df":"**Visualization based on Clubs**","ea65048f":"**Visualizing on the basis of Playing Position**","b941a3be":"**Grouping position as Forward(FWD), Defence(DEF), Mid(MID), Goal Leeper(GK)**","b3b910dc":"**Converting String 'Value' values to float type**"}}