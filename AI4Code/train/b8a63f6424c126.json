{"cell_type":{"43b1b4c2":"code","c57935b2":"code","5619406f":"code","266f422a":"code","9d37d4c6":"code","8f34b5db":"code","8a692687":"code","0472194d":"code","8cced8bf":"code","a08732d6":"code","c5810f35":"code","5c73593d":"code","26e1227d":"code","5c3f25ca":"code","aaca4780":"code","34381808":"code","63cef38f":"code","03830e2a":"markdown","225a932e":"markdown","d5cf2a39":"markdown","2e101554":"markdown","ec51e58d":"markdown","eb1d430d":"markdown","8daa92d8":"markdown","01c15c6b":"markdown"},"source":{"43b1b4c2":"import os\nimport warnings\n%matplotlib inline\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport plotly.express as px\nimport matplotlib.pyplot as plt\nimport chart_studio.plotly as py\nwarnings.filterwarnings(\"ignore\")\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots","c57935b2":"playlist = pd.read_csv('..\/input\/nfl-playing-surface-analytics\/PlayList.csv')\ninjuries = pd.read_csv('..\/input\/nfl-playing-surface-analytics\/InjuryRecord.csv')\ntracking = pd.read_csv('..\/input\/nfl-playing-surface-analytics\/PlayerTrackData.csv')","5619406f":"print(\"Playlist \", playlist.shape)\nprint(\"Injury Record \", injuries.shape)\nprint(\"Player Track Data \", tracking.shape)","266f422a":"print(playlist.columns)\nprint(injuries.columns)\nprint(tracking.columns)","9d37d4c6":"playlist.head()","8f34b5db":"playlist.isnull().any().sum()","8a692687":"playlist.dtypes","0472194d":"len(np.unique(playlist['PlayKey']))","8cced8bf":"x = playlist['StadiumType'].value_counts().index\ny = playlist['StadiumType'].value_counts().values\nfig = go.Figure(data=[go.Bar(x=x, y=y,text=y,textposition='auto',marker={'color': 'royalblue'})])\nfig.update_xaxes(tickangle=45);fig.update_layout( title={'text': \"Stadium Distribution\",'y':0.9,'x':0.5,'xanchor': 'center','yanchor': 'top'},xaxis_title=\"Stadium Types\",yaxis_title=\"Number of Games Played\",font=dict(family=\"Courier New, monospace\",size=18,color=\"#7f7f7f\"))","a08732d6":"x = playlist[playlist['Temperature'] != -999]['Temperature'].value_counts().index\ny = playlist[playlist['Temperature'] != -999]['Temperature'].value_counts().values\nfig = go.Figure(data=[go.Bar(x=x, y=y,text=y,textposition='auto',marker={'color': 'royalblue'})])\nfig.update_xaxes(tickangle=45);fig.update_layout( title={'text': \"Temprature Distribution\",'y':0.9,'x':0.5,'xanchor': 'center','yanchor': 'top'},xaxis_title=\"Temperature (in F)\",yaxis_title=\"Number of Games Played\",font=dict(family=\"Courier New, monospace\",size=18,color=\"#7f7f7f\"))","c5810f35":"frame = { 'Index': playlist[['PlayKey', 'PlayType']].groupby('PlayType').count().sort_values(by='PlayType').index, 'Values': playlist[['PlayKey', 'PlayType']].groupby('PlayType').count()['PlayKey'].values} \nresult = pd.DataFrame(frame) \n\nfig = px.bar(result, x=\"Index\", y=\"Values\", title=\"Play Type Matches\", labels={'Index': 'Types of Play', 'Values': 'Number of Matches'})\nfig.show()","5c73593d":"frame = { 'Index': playlist['FieldType'].value_counts().index, 'Values': playlist['FieldType'].value_counts().values} \nresult = pd.DataFrame(frame) \n\nfig = px.bar(result, x=\"Index\", y=\"Values\", title=\"Play Type Matches\", labels={'Index': 'Turf Type', 'Values': 'Number of Matches'})\nfig.show()","26e1227d":"injuries.dtypes","5c3f25ca":"injuries.head(3)","aaca4780":"fig = make_subplots(rows=1, cols=2)\nx1 = playlist[['FieldType', 'PlayKey']].drop_duplicates().groupby('FieldType').count().index.values\ny1 = playlist[['FieldType', 'PlayKey']].drop_duplicates().groupby('FieldType').count()['PlayKey'].values\nx2 = injuries[['Surface', 'PlayKey']].drop_duplicates().groupby('Surface').count().index.values\ny2 = injuries[['Surface', 'PlayKey']].drop_duplicates().groupby('Surface').count()['PlayKey'].values\n# fig.show()\nfig.add_trace(\n    go.Bar(x=x1, y=y1, name=\"Turf Wise Games \"),\n    row=1, col=1,\n)\nfig.add_trace(\n    go.Bar(x=x2, y=y2, name=\"Turf Wise Injuries\"),\n    row=1, col=2\n)\nfig.update_layout(height=600, width=800, title_text=\"Plays\/Injuries\")\nfig.show()","34381808":"df = pd.merge(injuries, playlist, on=\"PlayKey\")","63cef38f":"df['StadiumType'].value_counts()","03830e2a":"### More Injuries are observed on Synthetic Turf even though more number of matches were played on Natural Turf","225a932e":"### More Coming Soon!","d5cf2a39":"### NFL 1st AND FUTURE ANALYTICS - 2019","2e101554":"*Playkey is the common column*","ec51e58d":"**Seems that in most of the matches, temprature was not recorded. Hence, it is entered as -999.**","eb1d430d":"**Number of Unique Games Played = 267006**","8daa92d8":"## Injuries","01c15c6b":"## Playlist"}}