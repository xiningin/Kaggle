{"cell_type":{"9131671c":"code","59aa0451":"code","c9060268":"code","0be088b0":"code","342dfec1":"code","aa8a429f":"code","d8a275a2":"code","e6d991b7":"code","1a6007b3":"code","8410c5e8":"code","be32e863":"code","3efb764c":"code","c35c990f":"code","a1cf6bdb":"code","d8fd99bc":"code","b0293e2d":"code","c3aed709":"code","b1d15cae":"code","c610074c":"code","a7ad6a54":"code","5cb14145":"code","1194ceac":"markdown","f60dd02b":"markdown","d8dd5530":"markdown","df6c511f":"markdown","c4519e95":"markdown","c2f1783d":"markdown","4d9376e7":"markdown","10211b6d":"markdown"},"source":{"9131671c":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","59aa0451":"train=pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")\ntest=pd.read_csv(\"\/kaggle\/input\/titanic\/test.csv\")","c9060268":"train['Sex'].loc[train['Sex']=='male']=0\ntrain['Sex'].loc[train['Sex']=='female']=1\n\ntest['Sex'].loc[test['Sex']=='male']=0\ntest['Sex'].loc[test['Sex']=='female']=1","0be088b0":"test.loc[test['Fare'].isnull()]","342dfec1":"test[\"Fare\"].loc[test['Fare'].isnull()]=8.0500","aa8a429f":"train['Cabin'].loc[train['Cabin'].isnull()]=0\ntrain['Cabin'].loc[train['Cabin']!=0]=1\n\ntest['Cabin'].loc[test['Cabin'].isnull()]=0\ntest['Cabin'].loc[test['Cabin']!=0]=1","d8a275a2":"train=train.dropna(subset=['Embarked'])","e6d991b7":"train['Embarked'].loc[train['Embarked']=='S']=1\ntrain['Embarked'].loc[train['Embarked']=='C']=2\ntrain['Embarked'].loc[train['Embarked']=='Q']=3\n\ntest['Embarked'].loc[test['Embarked']=='S']=1\ntest['Embarked'].loc[test['Embarked']=='C']=2\ntest['Embarked'].loc[test['Embarked']=='Q']=3","1a6007b3":"df=pd.concat([train,test])","8410c5e8":"print(df['Age'].loc[(df['Sex']==0)].mean())\nprint(df['Age'].loc[(df['Sex']==1)].mean())","be32e863":"def hist(par):\n    plt.figure(figsize=(20,6));\n    plt.hist(df[par].loc[df['Survived']==1],bins=20,alpha=0.6,label='live');\n    plt.hist(df[par].loc[df['Survived']==0],bins=20,alpha=0.6,label='die');\n    plt.grid()\n    plt.legend()\n    plt.show()","3efb764c":"hist('Age')","c35c990f":"train['Age'].loc[(train['Age'].isnull())&(train['Sex']==0)]=df['Age'].loc[(df['Sex']==0)].mean()\ntrain['Age'].loc[(train['Age'].isnull())&(train['Sex']==1)]=df['Age'].loc[(df['Sex']==1)].mean()\n\ntest['Age'].loc[(test['Age'].isnull())&(test['Sex']==0)]=df['Age'].loc[(df['Sex']==0)].mean()\ntest['Age'].loc[(test['Age'].isnull())&(test['Sex']==1)]=df['Age'].loc[(df['Sex']==1)].mean()\n","a1cf6bdb":"train['Age'].loc[train['Age']<=10]=0\ntrain['Age'].loc[(10<train['Age'])&(train['Age']<=15)]=1\ntrain['Age'].loc[(15<train['Age'])&(train['Age']<=30)]=2\ntrain['Age'].loc[(30<train['Age'])&(train['Age']<=50)]=3\ntrain['Age'].loc[(50<train['Age'])]=4\n\ntest['Age'].loc[test['Age']<=10]=0\ntest['Age'].loc[(10<test['Age'])&(test['Age']<=15)]=1\ntest['Age'].loc[(15<test['Age'])&(test['Age']<=30)]=2\ntest['Age'].loc[(30<test['Age'])&(test['Age']<=50)]=3\ntest['Age'].loc[(50<test['Age'])]=6","d8fd99bc":"from sklearn.ensemble import RandomForestClassifier\nclf = RandomForestClassifier(max_depth=6,random_state=1)","b0293e2d":"# x=['Pclass', 'Sex','SibSp','Parch','Fare','Cabin','Embarked','Age']\nx=['Pclass', 'Sex','SibSp','Parch','Fare','Cabin','Embarked','Age']\nclf = clf.fit(train[x],\n              train['Survived'])\n","c3aed709":"from sklearn.model_selection import cross_val_score\nscores = cross_val_score(clf, train[x], train['Survived'],cv=10)\nscores.mean()","b1d15cae":"predict=clf.predict(test[x])","c610074c":"sub=test[['PassengerId']]\n# sub=pd.DataFrame(test[['PassengerId']],predict)","a7ad6a54":"sub['Survived']=predict[:]","5cb14145":"sub.to_csv(\"submission.csv\",index=False)","1194ceac":"# \uc2dc\uac01\ud654 \ud6c4 \ub098\uc774\ubc94\uc8fc\ud654 \uc758\uc0ac\uacb0\uc815\ub098\ubb34","f60dd02b":"train['Age'].loc[train['Age']<=4]=0\ntrain['Age'].loc[(4<train['Age'])&(train['Age']<=15)]=1\ntrain['Age'].loc[(15<train['Age'])&(train['Age']<=30)]=2\ntrain['Age'].loc[(30<train['Age'])&(train['Age']<=40)]=3\ntrain['Age'].loc[(40<train['Age'])&(train['Age']<=50)]=5\ntrain['Age'].loc[(50<train['Age'])]=6\n\ntest['Age'].loc[test['Age']<=4]=0\ntest['Age'].loc[(4<test['Age'])&(test['Age']<=15)]=1\ntest['Age'].loc[(15<test['Age'])&(test['Age']<=30)]=2\ntest['Age'].loc[(30<test['Age'])&(test['Age']<=40)]=3\ntest['Age'].loc[(40<test['Age'])&(test['Age']<=50)]=5\ntest['Age'].loc[(50<test['Age'])]=6","d8dd5530":"###  Age","df6c511f":"### Cabin","c4519e95":"## \uba38\uc2e0\ub7ec\ub2dd","c2f1783d":"### Embarked","4d9376e7":"### \uc131\ubcc4","10211b6d":"### Fare"}}