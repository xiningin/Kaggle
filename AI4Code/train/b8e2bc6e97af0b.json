{"cell_type":{"2892eede":"code","9afa847f":"code","c6864bb2":"code","d0de11f9":"code","877152bd":"code","5847ff15":"code","fe59b51d":"code","98ae1f9e":"code","75ab6f26":"code","18fbdd26":"code","c55a7a5e":"code","1509780e":"code","0a5ac11c":"code","25301cde":"code","8fb692de":"code","5f26cc56":"code","3e4ca222":"code","47ebd4c0":"code","12a6c19c":"code","cc294bf3":"code","a70b029d":"code","32eeb80d":"code","50f43e7a":"code","66abc62a":"code","731be81e":"code","acaadedb":"markdown","6e8991c0":"markdown","137d2016":"markdown","29c35aeb":"markdown","24ebfcdd":"markdown","ce0c6840":"markdown","39328682":"markdown","2f7c0b57":"markdown","0c75641d":"markdown","81efe422":"markdown","e2d4794a":"markdown","8b85c19f":"markdown","958bdac9":"markdown","d5c98120":"markdown"},"source":{"2892eede":"import numpy as np \nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport warnings\nwarnings.filterwarnings('ignore')\n%matplotlib inline","9afa847f":"# Dataset containing information about crimes in San Francisco, CA\nurl = '..\/input\/sanfranciso-crime-dataset\/Police_Department_Incidents_-_Previous_Year__2016_.csv'","c6864bb2":"dataframe = pd.read_csv(url)\ndataframe","d0de11f9":"dataframe['Category'] = dataframe['Category'].str.capitalize()\ndataframe['Descript'] = dataframe['Descript'].str.capitalize()\ndataframe['PdDistrict'] = dataframe['PdDistrict'].str.capitalize()\ndataframe['Resolution'] = dataframe['Resolution'].str.capitalize()","877152bd":"dataframe.head(10)","5847ff15":"dataframe.isnull().sum()","fe59b51d":"dataframe.dropna(inplace=True)\ndataframe.reset_index(drop=True, inplace=True)","98ae1f9e":"dataframe","75ab6f26":"# Print the values in columns X, Y and Location to confirm that they are the same\nprint(dataframe['X'][0], dataframe['Y'][0])\nprint(dataframe['Location'][0])","18fbdd26":"#Remove columns X and Y\ndataframe = dataframe.drop('X', 1)\ndataframe = dataframe.drop('Y', 1)","c55a7a5e":"dataframe.head()","1509780e":"#Number of occurrences of 10 categories of crime\ncategoriasMF =  dataframe['Category'].value_counts()[:10]\ncategoriasMF","0a5ac11c":"plt.style.use('default')\ncmap = plt.cm.YlGnBu\ncolors = cmap(np.linspace(0., 1., 10))\nylabel = 'Occurrence'\n\nfig, ax = plt.subplots(1, 2, figsize=(12,5), constrained_layout=True)\nfig.suptitle('The 10 most frequent crimes', fontsize=16)\ncategoriasMF.plot.pie(autopct=\"%.1f%%\", colors = colors, ax = ax[0])\ncategoriasMF.plot.bar(color = colors, ylabel = ylabel, ax = ax[1])","25301cde":"days = dataframe['DayOfWeek'].value_counts()\ndays ","8fb692de":"days.plot.bar(title = 'Number of occurrences by days of the week', figsize=(5, 5), color = colors, ylabel = ylabel)","5f26cc56":"morning = dataframe.loc[((dataframe['Time'] > '00:00') & (dataframe['Time'] < '12:00')), 'Time'].value_counts()[:5]\nafternoon = dataframe.loc[((dataframe['Time'] > '12:00') & (dataframe['Time'] < '18:00')), 'Time'].value_counts()[:5]\nevening = dataframe.loc[(dataframe['Time'] > '18:00'), 'Time'].value_counts()[:5]","3e4ca222":"fig, ax = plt.subplots(1, 3, figsize=(12,5))\nmorning.plot.bar(title = 'Morning', color = colors, ylabel = ylabel, ax=ax[0])\nafternoon.plot.bar(title = 'Afternoon', color = colors, ylabel = ylabel, ax=ax[1])\nevening.plot.bar(title = 'Evening', color = colors, ylabel = ylabel, ax=ax[2])\nplt.tight_layout()","47ebd4c0":"mornCat = dataframe.loc[((dataframe['Time'] > '00:00') & (dataframe['Time'] < '12:00')), 'Category'].value_counts()[:5]\nafterCat = dataframe.loc[((dataframe['Time'] > '12:00') & (dataframe['Time'] < '18:00')), 'Category'].value_counts()[:5]\nevenCat = dataframe.loc[(dataframe['Time'] > '18:00'), 'Category'].value_counts()[:5]","12a6c19c":"fig, ax = plt.subplots(1, 3, figsize=(12,5))\nmornCat.plot.bar(title = 'Morning', color = colors, ylabel = ylabel, ax=ax[0])\nafterCat.plot.bar(title = 'Afternoon', color = colors, ylabel = ylabel, ax=ax[1])\nevenCat.plot.bar(title = 'Evening', color = colors, ylabel = ylabel, ax=ax[2])\nplt.tight_layout()","cc294bf3":"districts = dataframe['PdDistrict'].value_counts()\ndistricts","a70b029d":"fig, ax = plt.subplots(1, 2, figsize=(12,5), constrained_layout=True)\nfig.suptitle('Occurrences by district', fontsize=16)\ndistricts.plot.pie(autopct =\"%.1f%%\", colors = colors, ax = ax[0])\ndistricts.plot.bar(color = colors, ylabel = ylabel, ax = ax[1])","32eeb80d":"resolution = dataframe['Resolution'].value_counts()[:4]\nresolution","50f43e7a":"resolution.plot.bar(title = 'The 4 most frequent resolutions', figsize=(5, 5), color = colors, ylabel = ylabel)","66abc62a":"none = dataframe.loc[dataframe['Resolution'] == 'None', 'Category'].value_counts()[:10]\nbooked = dataframe.loc[dataframe['Resolution'] == 'Arrest, booked', 'Category'].value_counts()[:10]\nunfouded = dataframe.loc[dataframe['Resolution'] == 'Unfounded', 'Category'].value_counts()[:10]\njuvenile = dataframe.loc[dataframe['Resolution'] == 'Juvenile booked', 'Category'].value_counts()[:10]","731be81e":"fig, ax = plt.subplots(2, 2, figsize=(10,10))\nnone.plot.bar(title = 'None', color = colors, ylabel = ylabel, ax=ax[0,0])\nbooked.plot.bar(title = 'Booked', color = colors, ylabel = ylabel, ax=ax[0,1])\nunfouded.plot.bar(title = 'Unfouded', color = colors, ylabel = ylabel, ax=ax[1,0])\njuvenile.plot.bar(title = 'Juvenile', color = colors, ylabel = ylabel, ax=ax[1,1])\nplt.tight_layout()","acaadedb":"## The 10 most frequent crimes","6e8991c0":"## Resolution according to the category of the crime","137d2016":"## Number of cases per district","29c35aeb":"## According to the hours, what are the most committed crimes?","24ebfcdd":"## Longitude = X and Latitude = Y. Presented in order Y, X.","ce0c6840":"# Read .csv","39328682":"## Most committed crimes according to the days of the week","2f7c0b57":"# Capitalize the Category, Descript, PdDistrict and Resolution columns","0c75641d":"# Remove columns with duplicate information","81efe422":"# Data visualization","e2d4794a":"# Packages","8b85c19f":"# Remove rows with missing values","958bdac9":"### Crimes according to the hours","d5c98120":"### Crimes by shift"}}