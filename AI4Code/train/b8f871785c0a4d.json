{"cell_type":{"086f4a69":"code","7e517ace":"code","f1df82d2":"code","d176a5cd":"code","fde9a4c5":"code","d2a952da":"code","65610115":"code","83c94134":"code","46963d5c":"code","7b390e6a":"code","81853bdd":"code","7272edc7":"markdown","5609bc87":"markdown","a288471c":"markdown","f3cb7018":"markdown","8beb7280":"markdown","af235ce6":"markdown"},"source":{"086f4a69":"import re\nimport pandas as pd\nimport numpy as np\nfrom iso3166 import countries\nimport matplotlib.pyplot as plt\nfrom gensim.parsing.preprocessing import strip_numeric, strip_non_alphanum\n%matplotlib inline\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","7e517ace":"# The data used in this can be found on https:\/\/www.kaggle.com\/andresionek\/data-jobs-listings-glassdoor\n\nglassdoor = pd.read_csv(\"..\/input\/data-jobs-listings-glassdoor\/glassdoor.csv\")\ncountry_codes = pd.read_csv(\"..\/input\/data-jobs-listings-glassdoor\/country_names_2_digit_codes.csv\", index_col=1)","f1df82d2":"print(glassdoor.shape)\nglassdoor.head()","d176a5cd":"print(glassdoor.columns.values)","fde9a4c5":"print(list(country_codes.index))","d2a952da":"country_list = glassdoor[\"map.country\"].dropna()\ncountry_list.unique()","65610115":"clist = []\nfor item in country_list:\n    temp = item.split(\" - \")\n    temp = temp[0].split(\" [\")\n    t = re.sub(r\"[^a-zA-Z]+\",' ',temp[0])\n    t = t.strip()\n    clist.append(t)\n\npd.Series(clist).unique()","83c94134":"country_list_new = pd.Series([country_codes.loc[x,\"Name\"] if x in country_codes.index else x for x in clist])\ncountry_list_new.dropna()\nprint(country_list_new.unique())","46963d5c":"def rename(country):\n    try:\n        return countries.get(country).name\n    except:\n        return (np.nan)\n\ncountry_list_new = pd.Series(clist)\nrows_before = country_list_new.shape[0]\ncountry_list_new = country_list_new.apply(rename)\ncountry_list_new = country_list_new.dropna()\nrows_after = country_list_new.shape[0]\nprint(\"Samples after: {}\".format(rows_before))\nprint(\"Samples earlier: {}\".format(rows_after))\nprint(\"Lost {} samples after converting which is {:.2f}% of the data\\n\".format((rows_before-rows_after),\n                                                                    ((rows_before-rows_after)\/rows_before)*100))\n\nprint(country_list_new.unique())","7b390e6a":"glass_country = pd.DataFrame(data = [country_list_new.value_counts().index, country_list_new.value_counts().values], index=[\"country\",\"count\"]).T\nglass_country[\"count\"] = pd.to_numeric(glass_country[\"count\"])\nglass_country.set_index(\"country\", drop=True, inplace=True)\n\ntop_x = 20\nglass_country_top = glass_country.head(top_x)\nglass_country_top","81853bdd":"#plt.figsize=(12,6)\nplt.bar(glass_country_top.index,glass_country_top[\"count\"], color='red')\nplt.xticks(rotation=90)\nplt.gcf().set_size_inches(10,6)\nplt.show()","7272edc7":"### Country codes in the country_code csv given with the glassdoor data","5609bc87":"### Initial country name conversion using country_codes given along with the glassdoor data","a288471c":"### Owner's original code using iso3166 countries to convert remaining country codes","f3cb7018":"### Unique values of the countries from raw data","8beb7280":"### Cleaning country names as much as possible ","af235ce6":"# About\nThis kernel will give you the information on the Data Based Jobs available in the top 20 countries!\n\nUpvote if you find it usefull!\n\nAny feedback is much appreciated!"}}