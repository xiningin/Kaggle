{"cell_type":{"56f62839":"code","71705e87":"code","82d1b732":"code","c9a530ce":"code","c25542b2":"code","4701ab2c":"code","39fb8a68":"code","b55871d8":"code","50f57411":"markdown","14595e7a":"markdown","d204c042":"markdown","64081199":"markdown","b799888e":"markdown","45c4d735":"markdown","904cefc1":"markdown","2ed7ec3e":"markdown","975d0125":"markdown","2b6b9361":"markdown"},"source":{"56f62839":"pip install python-dotenv","71705e87":"pip install slack_sdk","82d1b732":"import os\nfrom pathlib import Path\nfrom dotenv import load_dotenv\nfrom slack_sdk import WebClient","c9a530ce":"env_path = Path('..\/input\/env-vars\/.env')\nload_dotenv(dotenv_path=env_path)","c25542b2":"client = WebClient(token=os.environ['TOKEN'])","4701ab2c":"client.chat_postMessage(channel=os.environ['CHANNEL'],text='Test123')","39fb8a68":"def log_bot(msg):\n    client.chat_postMessage(channel=os.environ['CHANNEL'],text=msg)","b55871d8":"log_bot('this is another test')","50f57411":"# Hope you found this helpful!","14595e7a":"## Importing Dependencies","d204c042":"# Example Output\nIn this notebook we created a simple slack bot that allows us to send messages to our slack channel of choice. If you liked this notebook and would like to see the bot being used to train a real model check out the following [notebook](https:\/\/www.kaggle.com\/amerii\/training-evaluation-of-spacenet-7-change-detection?scriptVersionId=50725028). Below you can find some example outputs from the [notebook](https:\/\/www.kaggle.com\/amerii\/training-evaluation-of-spacenet-7-change-detection?scriptVersionId=50725028).\n\n![bot_in_action.jpg](attachment:bot_in_action.jpg)","64081199":"# Slack Bot for Monitoring Model Metrics\nIn this notebook we will go over the steps to create a simple slack bot that gives us the ability to monitor our model performance while it's commiting. \n\nThis can be very helpful when committing notebooks on kaggle, as we are unable to access the print statements to make sure that our model being trained correctly.\n\n**Note: This tutorial assumes that you have a slack account and workspace already**","b799888e":"Below is a small function that can be used to easily send messages to slack.","45c4d735":"Below we create an instance of our webclient. Remember if you don't want to use an environment variable you can simply paste  the string as the token input.","904cefc1":"## Installing External Dependencies","2ed7ec3e":"Below, I have loaded my access token from a private .env file that I have uploaded to kaggle. I did this for security purposes, so that no one else has access to your token, otherwise they can also send you messages.\n\nIf you are the only one accessing the notebook then you can simply load the token as a string into your webclient.","975d0125":"## Configuring Slack Bot \n### The first step to creating the bot is heading over to the [website](https:\/\/api.slack.com\/apps\/) and configuring it.\n\n### Once you are on the website, you need to create a new app as shown in the picture below. In my case I will call it log_bot, but you can call it whatever you want.\n\n![create_new_app.jpg](attachment:create_new_app.jpg)\n\n### Next we need to configure the permissions of our bot. In order to do that, click on the bot as shown in the picture below.\n\n![click_on_bot.jpg](attachment:click_on_bot.jpg)\n\n### You will be redirected to a webpage similar to the one below. Expand the menue for add features and functionality and click on permissions as shown below.\n\n![find_permissions.jpg](attachment:find_permissions.jpg)\n\n### Once again you will be redirected, if you scroll down you will find the page shown below. You need to click on the Add an OAuth Scope Button as shown in the picture below, and you need to select the same scopes.\n\n![select%20permissions.jpg](attachment:select%20permissions.jpg)\n\n### Finally, you need to install it on your desired workspace, and then you will finally be greated with an authentication token that you will be using for communicating to your slack channel\n\n![getting_auth_token.jpg](attachment:getting_auth_token.jpg)","2b6b9361":"In order to send messages we use the chat_postMessage method, as for channel you can simply replace it with your desired slack channel name."}}