{"cell_type":{"d8abd71b":"code","9a38efb1":"code","e7c45b0e":"code","77b251e7":"code","4165e863":"code","3c2a60c4":"code","9aa24a13":"code","dcce8ef2":"code","4f03d5ee":"code","ff37de77":"code","f3dbfdbf":"code","5104dc79":"code","ad6e4eb0":"code","ad135276":"code","6dc090ed":"code","119c20fd":"code","30da09e3":"code","b0470c4d":"code","0d8ac7fa":"code","72be2482":"code","6eb7309b":"code","4e5a89d3":"code","67381384":"code","e03cac94":"code","b25e983d":"code","579d3b17":"code","b0c14596":"code","b39a2fd3":"code","08103c8b":"code","3e22e9e7":"code","574e5117":"markdown","ec7934e0":"markdown","44fa7eef":"markdown","4ccf084e":"markdown","3115ead1":"markdown","3998e942":"markdown","1404e5dd":"markdown","da22d008":"markdown","1e30e567":"markdown","a28d1d47":"markdown","7108d5f4":"markdown","fb756995":"markdown","b87d33ff":"markdown","b91750ae":"markdown","562bb9ba":"markdown","c7ccf49e":"markdown","449fbbf6":"markdown","d992d685":"markdown","7d0279da":"markdown","f0b91841":"markdown","c1721e11":"markdown","ed0e0b3b":"markdown","19b26e10":"markdown"},"source":{"d8abd71b":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport missingno\nimport matplotlib\n\n","9a38efb1":"newyork_df = pd.read_csv('..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv')\nnewyork_df.head(10)","e7c45b0e":"df_bin = pd.DataFrame()\ndf_con =pd.DataFrame()","77b251e7":"newyork_df.head()","4165e863":"newyork_df.info()","3c2a60c4":"newyork_df.describe()","9aa24a13":"missingno.matrix(newyork_df, figsize =(20,10))","dcce8ef2":"def draw_missing_data_table(data):\n    Total = data.isnull().sum().sort_values(ascending=False)\n    Percent = ((data.isnull().sum()\/data.isnull().count())*100).sort_values(ascending=False)\n    \n    missing_data = pd.concat([Total, Percent], axis=1)\n    return missing_data\n","4f03d5ee":"draw_missing_data_table(newyork_df)","ff37de77":"# droping the columns as these columns are pretty much irrevelent\nnewyork_df.drop(['id','host_name','last_review'], axis=1, inplace=True)","f3dbfdbf":"# Replacing te Nan values for the column with 0.\nnewyork_df.fillna({'reviews_per_month': 0},inplace=True)","5104dc79":"newyork_df.head(3)","ad6e4eb0":"corr = newyork_df.corr()\nsns.heatmap(corr, xticklabels=corr.columns,\n           yticklabels= corr.columns, annot=True,\n           cmap=sns.diverging_palette(220, 20, as_cmap=True));","ad135276":"# it shows the top hosts of newyork city using Airbnb \ntop_host= newyork_df.host_id.value_counts().head(10)\ntop_host","6dc090ed":"newyork_df.calculated_host_listings_count.max()","119c20fd":"top_host_plot = pd.DataFrame(top_host)\ntop_host_plot.reset_index(inplace=True)\ntop_host_plot.rename(columns={'index': 'Host_id', 'host_id':'Num_prop'}, inplace=True)\ntop_host_plot","30da09e3":"fig, ax = plt.subplots(figsize = (12,6))\nfig.patch.set_facecolor('#f6f5f7')\nax.set_facecolor('#f6f5f5')\n\nplt_1= sns.barplot(y= 'Num_prop',x='Host_id', data=top_host_plot, palette='rocket')\nplt_1.set_title('NYCs top hosts with the most listings')\nplt_1.set_xlabel('No. of listings')\nplt_1.set_ylabel('Host IDs')\nplt_1.set_xticklabels(plt_1.get_xticklabels(), rotation=45);","b0470c4d":"# lets check the neighbourhood wrt prices\n\nnewyork_df.neighbourhood_group.unique()","0d8ac7fa":"# we can see that there are some extreme values in price so we would be taking 500\nprice_range= newyork_df[newyork_df.price < 600 ]","72be2482":"fig, ax = plt.subplots(figsize = (12,6))\nfig.patch.set_facecolor('#f6f5f7')\nax.set_facecolor('#f6f5f5')\n\nplt_2=sns.violinplot(x='neighbourhood_group',y='price', data= price_range,palette='winter')\nplt_2.set_title('prices wrt different regions');","6eb7309b":"newyork_df.room_type.unique()","4e5a89d3":"neighbourhood_room_type = newyork_df.groupby(['neighbourhood_group'])['room_type'].value_counts().unstack(0)","67381384":"neighbourhood_room_type","e03cac94":"fig=plt.figure(figsize = (12,6));\nfig.patch.set_facecolor('#f6f5f7')\nax.set_facecolor('#f6f5f5')\n\nplt_3 = neighbourhood_room_type.plot(kind='bar')\nplt.title('Diffrent room types in various regions')\nprint(newyork_df.room_type.value_counts());","b25e983d":"\ndata= newyork_df.loc[newyork_df['neighbourhood'].isin(['Williamsburg','Bedford-Stuyvesant','Harlem','Bushwick',\n                 'Upper West Side','Hell\\'s Kitchen','East Village','Upper East Side','Crown Heights','Midtown'])]\n\nplt_4= sns.catplot(x='neighbourhood',hue='neighbourhood_group',col='room_type', data=data, kind='count',palette='flare')\nplt_4.set_xticklabels(rotation=90);\n","579d3b17":"fig, ax = plt.subplots(figsize = (12,6))\nfig.patch.set_facecolor('#f6f5f7')\nax.set_facecolor('#f6f5f5')\n\nplt_5= sns.violinplot(x= 'room_type', y= 'price', data= price_range, palette= 'rocket')\nplt_5.set_title('Price wrt Room types');","b0c14596":"fig, ax = plt.subplots(figsize = (12,12))\nfig.patch.set_facecolor('#f6f5f7')\nax.set_facecolor('#f6f5f5')\n\nsns.scatterplot(x= 'longitude', y='latitude',hue= 'neighbourhood_group',edgecolor='black',linewidth=0.3, data=price_range)","b39a2fd3":"from PIL import Image\nplt.figure(figsize=(10,8))\nnyc_map= Image.open('..\/input\/new-york-city-airbnb-open-data\/New_York_City_.png')\n#scaling the image based on latitude and longitude(mentioned both max and min values)\nplt.imshow(nyc_map,zorder= 0,extent=[-74.24442,-73.71299,40.49979,40.91306])\nax= plt.gca()\nprice_range.plot(kind='scatter', x='longitude', y='latitude', c='price',ax = ax, cmap=plt.get_cmap('gist_earth'), colorbar=True, zorder=5);","08103c8b":"top_reviewed_listings = newyork_df.nlargest(10, 'number_of_reviews')\ntop_reviewed_listings","3e22e9e7":"price_avg = top_reviewed_listings.price.mean()\nprint('Average price per night :{}'.format(price_avg))","574e5117":"Most of the listings in diffrent regions lay under 100$ ","ec7934e0":"Airbnb inc. operates an online marketplace for lodging, primarily homestays for vacation rentals, and tourism activities. It is based in San Francisco, California. The platform is accessible via website and mobile app. Airbnb does not own any of the listed properties; instead, it profits by receiving commission from each booking. The company was founded in 2008 by Brian Chesky, Nathan Blecharczyk and Joe Gebbia. ","44fa7eef":"## Correlation matrix\n\nHere we are ploting a correlation matrix see how all the variables correlate with each other . ","4ccf084e":"Here im using missingno to visualize my missing values.","3115ead1":"# New York City Airbnb Open Data","3998e942":"### Price wrt Room types","1404e5dd":"### plotting the longitude & latitude on NYC map \n\nshowing the various prices and diffrent neighbourhoods","da22d008":"we can see that in manhatten the entire home room_types are high in number whereas when it comes to private room types we can Brooklyn is in the lead .\n\nIt can be seen that there are a few number of listing for shared room types on airbnb.\n\nwe can see that listings for entire room\/apt is higher is higher in number overall . ","1e30e567":"### Most reviewed listings","a28d1d47":"**** observations: ****\n\n1) the average price here is 152.\n\n2) the average availability throughout the year is around 112 days.\n\n3) Here the minimum price is quite questionable","7108d5f4":"Here we see the top hosts and their number of listings on airbnb.Here the top host has more than 300+ listings.","fb756995":"Another way of plotting using seaborn","b87d33ff":"Upon looking into the matrix the variable are not that strongly related","b91750ae":"### Room Types wrt neighbourhood","562bb9ba":"# Neighbourhood","c7ccf49e":"![](https:\/\/cleaningbusinesstoday.com\/wp-content\/uploads\/EasyDNNNews\/1937\/600600p3069EDNmain1937airbnb-nyc-600-x-250.jpg)","449fbbf6":"# Missing values","d992d685":"After seeing the missing values most of the columns here are irrevelent like the **last_review,host_name** so we will be droping them including **id** as for the security and privacy concerns.\n\nfor the **reviews_per_month** column it is Nan for the rows where the **number_of_reviews** is 0.0 so we will be replacing Nan values with 0 as there are no reviews for a particular property that means the **reviews_per_month** will be 0 automatically.","7d0279da":"Here we can see that the  the top reviewed listings on Airbnb has a average price of 65 bucks per night with about 7 out of 10 having a price of less than 50 bucks.And most importantly it shows that all of them are private room types except for one listing in the top 10  list.","f0b91841":"Here we can see that the countplots are different plots for different room types and in each plot it shows the top neighbourhoods .We can see that there are a very few numbers of shared room type listings among the top 10 listings.The most popular locations for Manhattan are Bedford-Stuyvesant and Williamburg and for Brooklyn its Borough, and Harlem.","c1721e11":"## Importing the libraries","ed0e0b3b":"# fig, ax = plt.subplots(figsize = (12,12))\n# fig.patch.set_facecolor('#f6f5f7')\n# ax.set_facecolor('#f6f5f5')\n\n# plot_6= sns.scatterplot(x= 'longitude', y='latitude',hue= 'price',style='room_type',edgecolor='black',linewidth=0.3, data=price_range)\n","19b26e10":"# Host"}}