{"cell_type":{"e25d5fd2":"code","27541b3b":"code","5e8d2fdf":"code","0d3e73f0":"code","f337d011":"code","3f134557":"code","38e0dfaa":"code","c9007421":"code","e2e2ccb3":"code","d1de3ced":"code","efeb93ef":"code","dea18940":"code","5ed14d65":"code","276d39f2":"code","bf6004d9":"markdown","955ae0ce":"markdown","7232aef8":"markdown","1294abf1":"markdown","0aec6c90":"markdown","95b8fabc":"markdown","7a41856a":"markdown","3570440f":"markdown","d62abb3c":"markdown","dc4befe1":"markdown","1998c86d":"markdown","04b1c7f0":"markdown","066d1c96":"markdown","49988e0e":"markdown","86baafd7":"markdown","8e0a52d1":"markdown","78de43f6":"markdown","b3905dae":"markdown","f6e878be":"markdown","76ed6104":"markdown"},"source":{"e25d5fd2":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings('ignore')\nsns.set_style('whitegrid')\n%matplotlib inline","27541b3b":"df = pd.read_csv('..\/input\/globalterrorismdb_0718dist.csv', engine ='python')","5e8d2fdf":"df = df[['iyear','imonth','iday','extended','country_txt','region_txt','attacktype1_txt','city','targtype1_txt','nkill','nwound','gname']]\ndf['casualties'] = df['nkill'] + df['nwound']\ndf.head()","0d3e73f0":"plt.figure(figsize=(15,6))\nsns.countplot(df['iyear'],palette='icefire')\nplt.xticks(rotation = 90)\nplt.title('Number of Terrorist Attacks By Year');\nplt.xlabel('Year')\nplt.show()","f337d011":"plt.figure(figsize=(13,6))\nsns.countplot(df['attacktype1_txt'],data=df,order=df['attacktype1_txt'].value_counts().index,\n              palette='hot')\nplt.xticks(rotation=90)\nplt.xlabel('Method')\nplt.title('Method of Attack')\nplt.show()","3f134557":"fig,axes = plt.subplots(figsize=(16,11),nrows=1,ncols=2)\nsns.barplot(x = df['country_txt'].value_counts()[:20].values, y = df['country_txt'].value_counts()[:20].index, \n            ax=axes[0],palette = 'magma');\naxes[0].set_title('Terrorist Attacks per Country')\nsns.barplot(x=df['region_txt'].value_counts().values,y=df['region_txt'].value_counts().index,\n            ax=axes[1])\naxes[1].set_title('Terrorist Attacks per Region')\nfig.tight_layout()\nplt.show()","38e0dfaa":"plt.subplots(figsize=(11,10))\nsns.barplot(y=df['gname'].value_counts()[1:12].index,x=df['gname'].value_counts()[1:12].values,\n           palette='copper')\nplt.title('Most Active Terrorist Organizations')\nplt.show()","c9007421":"plt.subplots(figsize=(15,7))\nsns.barplot(y=df['targtype1_txt'].value_counts().index,x=df['targtype1_txt'].value_counts().values,\n           palette='tab10')\nplt.title('Most Affected Targets')\nplt.show()","e2e2ccb3":"fig,axes = plt.subplots(figsize=(16,8))\navg_casualties = df.groupby('iyear').mean()['casualties']\navg_casualties.plot.bar(color='grey')\nplt.xlabel('Year')\nplt.ylabel('Average Number of Casualties')\nplt.title('Average Number of Casualties per Year')\nplt.hlines(y=avg_casualties.loc[1998],colors='red',xmin=-4,xmax=27,linestyles='--')\nplt.hlines(y=avg_casualties.loc[2001],colors='red',xmin=-4,xmax=30,linestyles='--')\nplt.hlines(y=avg_casualties.loc[2004],colors='red',xmin=33,xmax=50,linestyles='--')\nplt.text(10, 13, '1998: 13.75',fontsize=12,bbox=dict(facecolor='red', alpha=0.4))\nplt.text(12, 15.8, '2001: 16.51',fontsize=12,bbox=dict(facecolor='red', alpha=0.4))\nplt.text(37, 15.3, '2004: 16.11 ',fontsize=12,bbox=dict(facecolor='red', alpha=0.4))\nplt.show()","d1de3ced":"df_after = df[df['iyear']>=2001]\nfig,ax = plt.subplots(figsize=(15,10),nrows=2,ncols=1)\nax[0] = pd.crosstab(df.iyear,df.region_txt).plot(ax=ax[0])\nax[0].set_title('Change in Regions per Year')\nax[0].legend(loc='center left',bbox_to_anchor = (1,0.5))\nax[0].vlines(x=2001,ymin=0,ymax=7000,colors='red',linestyles='--')\npd.crosstab(df_after.iyear,df_after.region_txt).plot.bar(stacked=True,ax=ax[1])\nax[1].set_title('After Declaration of War on Terror (2001-2017)')\nax[1].legend(loc='center left',bbox_to_anchor = (1,0.5))\nplt.show()","efeb93ef":"fig,axes = plt.subplots(figsize=(15,6))\nsns.lineplot(df[df['region_txt']=='Western Europe']['iyear'].value_counts().index,\n             df[df['region_txt']=='Western Europe']['iyear'].value_counts().values)\nsns.lineplot(df[df['region_txt']=='Eastern Europe']['iyear'].value_counts().index,\n             df[df['region_txt']=='Eastern Europe']['iyear'].value_counts().values)\nplt.xlabel('Year')\nplt.xticks(np.arange(1970,2017,5))\nplt.xlim(1970,2017)\nplt.ylabel('Number of Attacks')\nplt.title('Western vs Eastern Europe')\naxes.legend(labels=['Western Europe','Eastern Europe'])\nplt.show()","dea18940":"fig,ax = plt.subplots(figsize=(15,6))\nrussia = df[(df['country_txt']=='Russia') & (df['iyear'].between(1991,2017,inclusive=True))]['iyear'].value_counts()\nukraine = df[(df['country_txt']=='Ukraine') & (df['iyear'].between(1991,2017,inclusive=True))]['iyear'].value_counts()\nrest_east = df[(df['country_txt']!='Russia') & (df['country_txt']!='Ukraine')\n               & (df['region_txt']=='Eastern Europe')& (df['iyear'].between(1991,2017,inclusive=True))]['iyear'].value_counts()\nsns.lineplot(x=russia.index,y=russia.values)\nsns.lineplot(x=ukraine.index,y=ukraine.values)\nsns.lineplot(x=rest_east.index,y=rest_east.values)\nplt.xticks(np.arange(1991,2017,1))\nplt.xlim(1991,2017)\nplt.xlabel('Year')\nplt.ylabel('Number of Attacks')\nplt.title('Russia and Ukraine vs Rest of Eastern Europe(1991-2017)')\nax.legend(labels=['Russia','Ukraine','Rest of Eastern Europe'])\nplt.show()","5ed14d65":"fig,ax = plt.subplots(figsize=(15,6),nrows=1,ncols=2)\nax[0]=df[df['extended']==1].groupby('attacktype1_txt').count()['extended'].sort_values().plot.barh(color='red',ax=ax[0])\nax[1]=df[df['extended']==0].groupby('attacktype1_txt').count()['extended'].sort_values().plot.barh(color='blue',ax=ax[1])\nax[0].set_title('Number of Extended Attacks')\nax[0].set_ylabel('Method')\nax[1].set_title('Number of Unextended Attacks')\nax[1].set_ylabel('Method')\nplt.tight_layout()\nplt.show()","276d39f2":"fig,axes = plt.subplots(figsize=(15,5))\next_casualties = df[df['extended']==1].groupby('iyear').mean()['casualties']\next_casualties.plot()\nunext_casualties = df[df['extended']==0].groupby('iyear').mean()['casualties']\nunext_casualties.plot()\nplt.title('Extended vs Unextended Attacks')\nplt.xlabel('year')\nplt.xlim(1970,2017)\nplt.xticks(np.arange(1970,2017,5))\nplt.ylabel('Average Number of Casualties')\nplt.hlines(y=ext_casualties.mean(),colors='red',xmin=1970,xmax=2017,linestyles='--')\nplt.hlines(y=unext_casualties.mean(),colors='red',xmin=1970,xmax=2017,linestyles='--')\nplt.text(2018, 3, 'Extended:3.27',fontsize=12,bbox=dict(facecolor='red', alpha=0.4))\nplt.text(2018, 5.1, 'Unextended:5.48',fontsize=12,bbox=dict(facecolor='red', alpha=0.4))\naxes.legend(labels=['Extended','Unextended'],loc='upper left')\nplt.show()","bf6004d9":"### iv. Are extended attacks more lethal?\nExtended attacks are defined as events that last longer than 24 hours. Does a longer timeframe mean a higher rate of casualties? Lets first look at which methods of attack tend to be extended or unextended.","955ae0ce":"From the first plot, it is very noticeable that the terrorism landscape before and after the War on Terror is vastly different. Before 2001, the regions were much closer together in terms of activity, eventually all dropping to a minimum in 2000. After 2001, the Middle East and South Asia have dictated the rise in terrorism numbers, with a significant increase in Sub-Saharan Africa as well.     ","7232aef8":"Though Western Europe has seen considerably more terrorism in the past, there is now a shift in activity towards the east. 1991 seems to be a turning point here considering the dissolution of the Soviet Union at the time and the numerous accounts of unrest that followed. The spike at 2014 can be attributed to the recent Ukrainian revolution and related Ukrainian-Russian conflicts such as the war in Donbass. The following plot shows the number of Russia and Ukraine's terrorist events compared to the rest of Eastern Europe after 1991.","1294abf1":"### iii. The shift from Western Europe to Eastern Europe","0aec6c90":"1998 - US Embassy bombings in Kenya and Tanzania (4,200+ casualties)\n<br>\n2001 - 9\/11 WTC and Pentagon attacks (approx. 10,000 casualties)\n<br>\n2004 - Madrid train bombings (2,000+ casualties)\n<br>\n<br>\nThe ability for these events to draw their respective years' average casualties so high really shows their significance.","95b8fabc":"After the 9\/11 attacks in New York City, the US-led War on Terror was launched with the goal to distinguish terrorism primarily in the Middle East. Here, it is shown as a turning point for activity patterns in each region.","7a41856a":"### v. Most affected targets","3570440f":"### i. Large spikes in the average number of casualties per year are associated with landmark terrorist events","d62abb3c":"Interestingly, the number of terrorist acts dip at the turn of the century from 1998 to 2004. However, some of the deadliest attacks in history have occured during this time period.","dc4befe1":"### iv. Most active organizations","1998c86d":"# EDA: Global Terrorism 1970-2017\n","04b1c7f0":"Unextended attacks seem to have been historically more lethal, with on average 2.2 more casualties than extended attacks. This is expected given the fact that bombings and explosions are the most used form of terrorism. Generally, these events happen in a shorter timeframe but are outright more destructive than extended attacks such as hostage takings.","066d1c96":"### iii. Country and region","49988e0e":"Extended attacks overwhelmingly consist of hostage taking. On the other hand, extended attacks seem to be a bit more spread between bombings\/explosions, armed assaults, and assassinations.","86baafd7":"### ii. Before and after the War on Terror","8e0a52d1":"### Setting up","78de43f6":"Clearly, Russia and Ukraine are the main contributers to this shift. Ukraine's isolated spike in 2014 shown here is nearly identical to the previous plot. A large majority of Eastern European terrorism in the past couple years has been found in Ukraine. \n<br>\n<br>\nFor more information, there's a great article on the Washington Post:\n<br>https:\/\/www.washingtonpost.com\/graphics\/world\/a-history-of-terrorism-in-europe\/","b3905dae":"# 1. General visualizations\n### i. The rise of terrorism","f6e878be":"### ii. Methods of attack","76ed6104":"# 2. A closer look at trends\n"}}