{"cell_type":{"3d607f8d":"code","4927379e":"code","a43b8863":"code","4079e35f":"code","581182fa":"code","3ec823db":"markdown","78075aee":"markdown","2b51ab0f":"markdown","ad81faec":"markdown","f63592b0":"markdown"},"source":{"3d607f8d":"import pandas as pd\nimport statsmodels.api as sm\nfrom statsmodels.formula.api import ols\ndf = pd.read_csv('..\/input\/Iris.csv')\ndf.head()","4927379e":"df.describe()","a43b8863":"iris_lm_one_categorical=ols('SepalLengthCm ~ C(Species)', data=df).fit() #Specify C for Categorical\nsm.stats.anova_lm(iris_lm_one_categorical, typ=2)","4079e35f":"iris_lm=ols('SepalLengthCm ~ C(Species) + SepalWidthCm + PetalLengthCm + PetalWidthCm', data=df).fit() #Specify C for Categorical\nsm.stats.anova_lm(iris_lm, typ=2)","581182fa":"iris_lm.summary()","3ec823db":"The `.summary()` is useful when you do ANOVA with a model with more than one feature because the statsmodel `.anova_lm()` does not print the total F-statistic for the model by default. By default it shows the F-statistic contributed by each feature. Here we see the F-statistic is 188 for the whole model with a Prob (F-statistic) < 0.05, so we reject the null hypothesis.\n\nFor more information see [Interactions and ANOVA](https:\/\/devdocs.io\/statsmodels\/examples\/notebooks\/generated\/interactions_anova) statsmodels docs.","78075aee":"# Iris dataset ANOVA table\nHere is a brief example of an ANOVA table in python using the popular Iris dataset. Note, we usually try to predict the plant's species based off the data but in order to get an ordinary least squares model to train we are predicting the plant's sepal length instead. Also we wanted to train an OLS model to easily create an ANOVA table. We also show a Type 2 ANOVA table, [there are 3 types I, II, and III](https:\/\/stats.stackexchange.com\/questions\/60362\/choice-between-type-i-type-ii-or-type-iii-anova).\n\n![Iris plant anatomy](https:\/\/proxy.duckduckgo.com\/iu\/?u=http%3A%2F%2Fblog.kaggle.com%2Fwp-content%2Fuploads%2F2015%2F04%2Firis_petal_sepal.png&f=1)","2b51ab0f":"## ANOVA with one categorical feature","ad81faec":"## ANOVA with categorical and numerical features (all features)\nNow let's show an ANOVA with several features.","f63592b0":"The Probability of the F statistic is statistically significant (PR(>F) < 0.05). Meaning the information in `Species` has predictive power for `SepalLengthCm`. You should follow up with t-tests for every combination of species to detect differences."}}