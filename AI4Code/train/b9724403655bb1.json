{"cell_type":{"8fd3dd89":"code","d57779c3":"code","b1e74339":"code","324a9174":"code","85f8e14b":"code","7498689a":"code","3d974bfc":"code","cd51f62a":"code","bc6a3641":"code","b96d7416":"code","ace79154":"code","99235846":"code","a23f2f47":"code","79743f1f":"code","f0ff3e7d":"code","ec2bbc72":"code","7a4444dd":"code","d31dfe10":"code","202cb1ab":"code","39fe768a":"code","6a18d3b6":"code","de2de75f":"code","e3a95829":"code","2d8b30d6":"code","befccfbe":"code","00272d26":"code","5e87f605":"code","0891af45":"code","59e2d578":"code","e6d04d15":"markdown","e702a3fc":"markdown","5eef8b28":"markdown","6ebf0dc7":"markdown","b89d2cd7":"markdown","8e096279":"markdown"},"source":{"8fd3dd89":"import pandas as pd\nimport numpy as np\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom catboost import CatBoostRegressor\nfrom catboost import Pool\nfrom sklearn import svm\nfrom sklearn import preprocessing\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.model_selection import KFold, cross_val_score, GridSearchCV\nfrom catboost import CatBoostRegressor\nfrom catboost import Pool\nfrom xgboost import XGBRegressor","d57779c3":"data_train = pd.read_csv('\/kaggle\/input\/house-prices-advanced-regression-techniques\/train.csv')\ndata_test = pd.read_csv('\/kaggle\/input\/house-prices-advanced-regression-techniques\/test.csv')\ndata_sub = pd.read_csv('\/kaggle\/input\/house-prices-advanced-regression-techniques\/sample_submission.csv')","b1e74339":"data_train.shape","324a9174":"data_train.head(4)","85f8e14b":"data_train.shape","7498689a":"data_train = data_train.drop(['Alley','PoolQC','Fence','FireplaceQu',\\\n                              'LotFrontage','GarageYrBlt','MiscFeature'],axis=1)\ndata_test = data_test.drop(['Alley','PoolQC','Fence','FireplaceQu',\\\n                              'LotFrontage','GarageYrBlt','MiscFeature'],axis=1)","3d974bfc":"data_train.shape","cd51f62a":"list1 = ['BsmtQual','BsmtCond','GarageQual','GarageCond']\nlist2 = ['BsmtFinType1','BsmtFinType2','GarageFinish']","bc6a3641":"for m in list1:\n    data_train[m] = data_train[m].fillna('TA')\n    data_test[m] = data_test[m].fillna('TA')\n    \n    \nfor j in list2:\n    data_train[j] = data_train[j].fillna('Unf')\n    data_test[j] = data_test[j].fillna('Unf')","b96d7416":"data_train['BsmtExposure'] = data_train['BsmtExposure'].fillna('NO')\ndata_train['GarageType'] = data_train['GarageType'].fillna('Attchd')\ndata_train['MasVnrType'] = data_train['MasVnrType'].fillna('None')\ndata_train['MasVnrArea'] = data_train['MasVnrArea'].fillna(0)\ndata_train['Electrical'] = data_train['Electrical'].fillna('SBrkr')","ace79154":"data_test['BsmtExposure'] = data_test['BsmtExposure'].fillna('NO')\ndata_test['GarageType'] = data_test['GarageType'].fillna('Attchd')\ndata_test['MasVnrType'] = data_test['MasVnrType'].fillna('None')\ndata_test['MasVnrArea'] = data_test['MasVnrArea'].fillna(0)\ndata_test['Electrical'] = data_test['Electrical'].fillna('SBrkr')\ndata_test['BsmtFinSF1'] = data_test['BsmtFinSF1'].fillna(439)\ndata_test['BsmtFinSF2'] = data_test['BsmtFinSF2'].fillna(53)\ndata_test['BsmtUnfSF'] = data_test['BsmtUnfSF'].fillna(554)\ndata_test['TotalBsmtSF'] = data_test['TotalBsmtSF'].fillna(1046)\ndata_test['BsmtFullBath'] = data_test['BsmtFullBath'].fillna(1)\ndata_test['BsmtHalfBath'] = data_test['BsmtHalfBath'].fillna(1)\ndata_test['GarageCars'] = data_test['GarageCars'].fillna(2)\ndata_test['GarageArea'] = data_test['GarageArea'].fillna(217)","99235846":"le = preprocessing.LabelEncoder()","a23f2f47":"list3 = ['MSZoning','Street','LotShape','LandContour','Utilities','LotConfig',\\\n        'LandSlope','Neighborhood','Condition1','Condition2','BldgType','HouseStyle',\\\n        'RoofStyle','RoofMatl','Exterior1st','Exterior2nd','MasVnrType','ExterQual',\\\n        'ExterCond','Foundation','BsmtQual','BsmtCond','BsmtExposure','BsmtFinType1',\\\n        'BsmtFinType2','Heating','HeatingQC','CentralAir','Electrical','KitchenQual',\\\n        'Functional','GarageType','GarageFinish','GarageQual','GarageCond','PavedDrive',\\\n        'SaleType','SaleCondition']","79743f1f":"data_test = data_test.astype('str')","f0ff3e7d":"for i in list3:\n    data_train[i] = le.fit_transform(data_train[i])\n    data_test[i] = le.fit_transform(data_test[i])","ec2bbc72":"X = data_train.drop('SalePrice', axis=1)\ny = data_train.SalePrice\n\nclf = RandomForestRegressor()\nclf.fit(X.values, y)","7a4444dd":"feat_imp = clf.feature_importances_\n\n\nimp_data = pd.DataFrame({'feature': list(X), 'importance': feat_imp}).sort_values(by='importance', ascending=False)[:20]\n\nimp_data","d31dfe10":"features = ['OverallQual','GrLivArea','TotalBsmtSF','2ndFlrSF','BsmtFinSF1','1stFlrSF',\\\n            'GarageCars','GarageArea','LotArea','YearBuilt','YearRemodAdd',\\\n            'MasVnrArea','Neighborhood','TotRmsAbvGrd','BsmtUnfSF','OpenPorchSF',\\\n            'FullBath',]","202cb1ab":"train_data_TST = data_train[features]\ntest_data_TST = data_test[features]","39fe768a":"target = data_train.SalePrice","6a18d3b6":"RF = RandomForestRegressor()\n\nparams = {\n    'n_estimators': range(100, 500, 100),\n    'max_depth': range(1, 10, 2), \n    'min_samples_split': range(5, 20, 5), \n    'n_jobs': [-1]\n}","de2de75f":"model = GridSearchCV(RF, param_grid=params, cv=5)","e3a95829":"model_TST = model.fit(train_data_TST, target)","2d8b30d6":"model_TST = model_TST.best_estimator_","befccfbe":"model_TST","00272d26":"y_pred_TST = model_TST.predict(test_data_TST)","5e87f605":"data_sub.head(3)","0891af45":"data_sub['SalePrice'] = y_pred_TST","59e2d578":"data_sub.to_csv('submission.csv', index=False)","e6d04d15":"## Work with NULL","e702a3fc":"![purple-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071927-c1cd7100-2562-11e9-908a-dde91ba14e59.png)","5eef8b28":"![purple-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071927-c1cd7100-2562-11e9-908a-dde91ba14e59.png)","6ebf0dc7":"## Encoding","b89d2cd7":"![purple-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071927-c1cd7100-2562-11e9-908a-dde91ba14e59.png)","8e096279":"## ML"}}