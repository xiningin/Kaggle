{"cell_type":{"f7e37521":"code","e2ba8451":"code","25c1146f":"code","c49c0830":"code","c91f37b9":"code","3c9eb88a":"code","dcb1c6bf":"code","055a31e9":"code","b62e12ef":"code","56bc2abe":"markdown","14beb5d1":"markdown","adaf01bb":"markdown","36b8bd88":"markdown","ed6011b4":"markdown","580ed40c":"markdown"},"source":{"f7e37521":"!pip install pydub\nfrom pydub import AudioSegment\nimport os\nfrom tqdm import tqdm","e2ba8451":"startMin = 0\nstartSec = 0\n\nendMin = 0\nendSec = 10\n\n# Time to miliseconds\nstartTime = startMin*60*1000+startSec*1000\nendTime = endMin*60*1000+endSec*1000\n\nstartTime = startMin*60*1000+startSec*1000\nendTime = endMin*60*1000+endSec*1000","25c1146f":"audio_path = '..\/input\/birdsong-recognition\/train_audio\/'\nwav_path = 'train_wav\/'","c49c0830":"subFolderList = []\nfor x in os.listdir(audio_path):\n    if os.path.isdir(audio_path + '\/' + x):\n        subFolderList.append(x)","c91f37b9":"if not os.path.exists(wav_path):\n    os.makedirs(wav_path)","3c9eb88a":"subFolderList = []\nfor x in os.listdir(audio_path):\n    if os.path.isdir(audio_path + '\/' + x):\n        subFolderList.append(x)\n        if not os.path.exists(wav_path + '\/' + x):\n            os.makedirs(wav_path +'\/'+ x)","dcb1c6bf":"sample_audio = []\ntotal = 0\nfor x in subFolderList:\n    all_files = [y for y in os.listdir(audio_path + x) if '.mp3' in y]\n    total += len(all_files)\n    sample_audio.append(audio_path  + x + '\/'+ all_files[0])\n    \n    print('count: %d : %s' % (len(all_files), x ))\nprint(total)","055a31e9":"def mpeg2wav(mpeg_path, targetdir=''):\n    # Read Mp3\n    sound = AudioSegment.from_mp3(mpeg_path)\n    # Trim (10 secs)\n    sound = sound[startTime:endTime]\n    # Save Wav\n    sound.export(f\"{targetdir}.wav\", format=\"wav\")","b62e12ef":"for i, label in tqdm(enumerate(subFolderList)):\n    #print(i,\":\",label)\n    all_files = [y for y in os.listdir(audio_path + label) if '.mp3' in y]\n    for file in all_files[:2]:\n        mpeg2wav(audio_path + label + '\/' + file, wav_path + label + \"\/\" + file.replace(\".mp3\",\"\"))","56bc2abe":"### Save Names of Train Labels from folders","14beb5d1":"### Make Wav Folder to Export","adaf01bb":"### Variables to Trim Audio (Optional)","36b8bd88":"### Make Subfolders within Wav Folder","ed6011b4":"### Train Audio Path and Mp3 Path","580ed40c":"### Count Items"}}