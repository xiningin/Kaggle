{"cell_type":{"cba558e6":"code","2eb46590":"code","2e06bc3d":"code","4a210588":"code","325eca00":"code","61cfaa8e":"code","2bc70faf":"code","d52ebda7":"markdown","a0191737":"markdown","6f99a217":"markdown","d8431a64":"markdown","36b09d09":"markdown"},"source":{"cba558e6":"import pandas as pd","2eb46590":"sub_1 = pd.read_csv('..\/input\/third-ensemble\/effB1_512_5x15epochs_3Stratif.csv')\nsub_2 = pd.read_csv('..\/input\/third-ensemble\/submission_blending.csv')\nsub_3 = pd.read_csv('..\/input\/third-ensemble\/submission_blending_2.csv')","2e06bc3d":"def rank_data(sub):\n    sub['target'] = sub['target'].rank() \/ sub['target'].rank().max()\n    return sub","4a210588":"sub_1 = rank_data(sub_1)\nsub_2 = rank_data(sub_2)\nsub_3 = rank_data(sub_3)","325eca00":"sub_1.columns = ['image_name', 'target1']\nsub_2.columns = ['image_name', 'target2']\nsub_3.columns = ['image_name', 'target3']","61cfaa8e":"f_sub = sub_1.merge(sub_2, on = 'image_name').merge(sub_3, on ='image_name')\nf_sub['target'] = f_sub['target1'] * 0.6 + f_sub['target2'] * 0.2 + f_sub['target3'] * 0.2 ","2bc70faf":"f_sub = f_sub[['image_name', 'target']]\nf_sub.to_csv('Finalblend_sub_3.csv', index = False)","d52ebda7":"**Loading all the submission files**","a0191737":"This notebook uses two of my submission while one submission from below public notebook by Nitesh Chaudhry\nhttps:\/\/www.kaggle.com\/niteshx2\/full-pipeline-dual-input-cnn-model-with-tpus\/output?select=effB1_512_5x15epochs_3Stratif.csv\n    \nHere I will be ranking the submissions and then blending them using weighted average.","6f99a217":"**Generating the final submission file**","d8431a64":"**Function to rank data in each submission file**","36b09d09":"**Merge all the submission files using weighted average for target**"}}