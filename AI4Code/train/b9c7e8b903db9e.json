{"cell_type":{"e7b3af64":"code","efebabca":"code","4e9c7dc6":"code","ea16a331":"code","e5fdb553":"code","30663964":"code","44c37221":"code","5fcf4efc":"code","efad7b15":"code","5879f28a":"code","ae86ae3f":"code","9852dd3a":"code","bd80c150":"code","25883e89":"code","ff1363b1":"code","3bf0eac0":"code","b16efbc3":"code","87ae63ed":"code","4f1407c1":"code","f979cb47":"code","ab8e62e6":"code","67f847dc":"markdown","bab1d5ea":"markdown","ca05f195":"markdown","60efdc3a":"markdown","7d159507":"markdown","abb32665":"markdown","ed342f4d":"markdown","04cda738":"markdown","ae363fe8":"markdown","62ad9771":"markdown","19321a79":"markdown","ad766dcb":"markdown","5f1e4a13":"markdown","732eff05":"markdown"},"source":{"e7b3af64":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn\nimport matplotlib as mpl\nimport matplotlib.pylab as plt\nplt.style.use('ggplot')\nimport os\nprint('Data Files....', os.listdir(\"..\/input\/cpe-data\/\"))\n%matplotlib inline","efebabca":"ACSdf = pd.read_csv('..\/input\/cpe-data\/ACS_variable_descriptions.csv')\nprint(ACSdf.shape)\nfor row in ACSdf.iterrows():\n    print(row[1][0], row[1][1])\n    if row[0] == 20:\n        break","4e9c7dc6":"dept11_education = pd.read_csv('..\/input\/cpe-data\/Dept_11-00091\/11-00091_ACS_data\/11-00091_ACS_education-attainment-over-25\/ACS_16_5YR_B15003_with_ann.csv')\npd.to_numeric(dept11_education['HD01_VD01'].drop(0)).plot(kind='hist', figsize=(15, 5), bins=40, title='Dept 11: Population Distribution per Census Tract')","ea16a331":"dept11_education = pd.read_csv('..\/input\/cpe-data\/Dept_11-00091\/11-00091_ACS_data\/11-00091_ACS_education-attainment-over-25\/ACS_16_5YR_B15003_with_ann.csv')\ndept11_education_wth_labels = dept11_education.copy()\ndept11_education = dept11_education_wth_labels.drop(0)\n# Make Columns numeric\nfor col in dept11_education.columns:\n    if col[:2] == 'HD':\n        dept11_education[col] = pd.to_numeric(dept11_education[col])","e5fdb553":"dept11_education_wth_labels.head()","30663964":"# Make Percentages\n# TODO Combine into larger bins like Elementry school, Middle School... etc\ndept11_education['PCT_No_schooling'] = dept11_education['HD01_VD02'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_Nursery_school'] = dept11_education['HD01_VD03'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_Kindergarten'] = dept11_education['HD01_VD04'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_1st_grade'] = dept11_education['HD02_VD05'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_2nd_grade'] = dept11_education['HD01_VD06'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_3nd_grade'] = dept11_education['HD01_VD07'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_4th_grade'] = dept11_education['HD01_VD08'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_5th_grade'] = dept11_education['HD01_VD09'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_6th_grade'] = dept11_education['HD01_VD10'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_7th_grade'] = dept11_education['HD01_VD11'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_8th_grade'] = dept11_education['HD01_VD12'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_9th_grade'] = dept11_education['HD01_VD13'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_10th_grade'] = dept11_education['HD01_VD14'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_11th_grade'] = dept11_education['HD01_VD15'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_12th_grade'] = dept11_education['HD01_VD16'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_high_school_diploma'] = dept11_education['HD01_VD17'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_GED or alternative credential'] = dept11_education['HD01_VD18'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_college_less than 1 year'] = dept11_education['HD01_VD19'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_college 1 or more years'] = dept11_education['HD01_VD20'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_Associates degree'] = dept11_education['HD01_VD21'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_Bachelors degree'] = dept11_education['HD01_VD22'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_Masters degree'] = dept11_education['HD01_VD23'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_Professional school degree'] = dept11_education['HD01_VD24'] \/ dept11_education['HD01_VD01']\ndept11_education['PCT_Doctorate degree'] = dept11_education['HD01_VD25'] \/ dept11_education['HD01_VD01']","44c37221":"# Plot Distributions.\n# TODO think of a more interesting way to display this data. group into levels. Cumulative?\nfor col in dept11_education.columns:\n    color_loc = 0\n    if col[:3] == 'PCT':\n        dept11_education[col].plot(kind='hist',\n                                   figsize=(15, 2),\n                                   bins=int(round(dept11_education[col].max()*100)),\n                                   title=col,\n                                   xlim=(0,1))\n        plt.show()","5fcf4efc":"dept11_education['PCT_Some_Elementary'] = dept11_education['PCT_Kindergarten'] + \\\n                                          dept11_education['PCT_1st_grade'] + \\\n                                          dept11_education['PCT_2nd_grade'] + \\\n                                          dept11_education['PCT_3nd_grade'] + \\\n                                          dept11_education['PCT_4th_grade'] + \\\n                                          dept11_education['PCT_5th_grade']\n\ndept11_education['PCT_Some_Middle_School'] = dept11_education['PCT_7th_grade'] + \\\n                                          dept11_education['PCT_8th_grade'] + \\\n                                          dept11_education['PCT_9th_grade'] + \\\n                                          dept11_education['PCT_10th_grade'] + \\\n                                          dept11_education['PCT_11th_grade']\ndept11_education['PCT_High_School'] = dept11_education['PCT_12th_grade']\ndept11_education['PCT_Some_College'] = dept11_education['PCT_college_less than 1 year'] + dept11_education['PCT_college 1 or more years']","efad7b15":"dept11_education","5879f28a":"dept11_education.set_index('GEO.display-label')[['PCT_No_schooling','PCT_Some_Elementary',\n                  'PCT_Some_Middle_School',\n                  'PCT_High_School',\n                  'PCT_Some_College',\n                  'PCT_Associates degree',\n                  'PCT_Bachelors degree',\n                  'PCT_Masters degree',\n                  'PCT_Professional school degree',\n                  'PCT_Doctorate degree']].plot(kind='barh', stacked=True, figsize=(15,45))","ae86ae3f":"dept11_housing_metadata = pd.read_csv('..\/input\/cpe-data\/Dept_11-00091\/11-00091_ACS_data\/11-00091_ACS_owner-occupied-housing\/ACS_16_5YR_S2502_metadata.csv')\ndept11_housing = pd.read_csv('..\/input\/cpe-data\/Dept_11-00091\/11-00091_ACS_data\/11-00091_ACS_owner-occupied-housing\/ACS_16_5YR_S2502_with_ann.csv')","9852dd3a":"dept11_housing_metadata","bd80c150":"dept11_housing['HC01_EST_VC01'][0]","25883e89":"pd.to_numeric(dept11_housing['HC01_EST_VC01'].drop(0)).plot(kind='hist',\n                                                            bins=25,\n                                                            title='Occupied housing units; Estimate; Occupied housing units',\n                                                            figsize=(15 ,5),\n                                                            color='g')","ff1363b1":"dep11_poverty_metadata = pd.read_csv('..\/input\/cpe-data\/Dept_11-00091\/11-00091_ACS_data\/11-00091_ACS_poverty\/ACS_16_5YR_S1701_metadata.csv')\ndep11_poverty = pd.read_csv('..\/input\/cpe-data\/Dept_11-00091\/11-00091_ACS_data\/11-00091_ACS_poverty\/ACS_16_5YR_S1701_with_ann.csv')","3bf0eac0":"dep11_poverty_metadata.head()","b16efbc3":"dep11_poverty_metadata.head()","87ae63ed":"pd.to_numeric(dep11_poverty['HC01_EST_VC01'].drop(0)).plot(kind='hist',\n                                                            bins=25,\n                                                            title=dep11_poverty['HC01_EST_VC01'][0],\n                                                            figsize=(15 ,5),\n                                                            color='y')","4f1407c1":"pd.to_numeric(dep11_poverty['HC03_EST_VC01'].replace('-',0).drop(0)).plot(kind='hist',\n                                                            bins=25,\n                                                            title=dep11_poverty['HC03_EST_VC01'][0],\n                                                            figsize=(15 ,5),\n                                                            color='m')","f979cb47":"pd.to_numeric(dep11_poverty['HC03_EST_VC01'].replace('-',0).drop(0)).max()","ab8e62e6":"dep11_poverty.loc[dep11_poverty['HC03_EST_VC01'] == '58.3']['GEO.display-label'].values[0]","67f847dc":"## Plot distribution of Housing Units by Tract","bab1d5ea":"# Data Science for Good: Center for Policing Equity\nHow do you measure Justice?\n![https:\/\/cdn-images-1.medium.com\/max\/670\/0*V9p8id8Jrt79OvQe.jpg](https:\/\/cdn-images-1.medium.com\/max\/670\/0*V9p8id8Jrt79OvQe.jpg)","ca05f195":"## Plot Distribution in stacked bar charts","60efdc3a":"## Look at the next dataset **Owner Occupied Housing**","7d159507":"## Variable Descriptions (aka Data Dictionary)\n\"We pull a variety of files manually from the ACS website. The variables available in each of the ACS files are referenced in the data dictionary file: *ACS_variable_descriptions.csv*.\"\n\nPrinting only the first 20. There are a lot of different slices to this data, doubtful we will use them all.","abb32665":"## First Look: Education Atainment (over 25 years old)\nThe first row is label column, it must be dropped and the columns converted into numberic. This is a littly hacky but works.","ed342f4d":"## Lots of fields..... overlap with other datasets","04cda738":"## Percentage in poverty","ae363fe8":"## Potential Intersting variables\n- **Age and Sex of Population** \n    - How many people live in this area? What is the distribution of genders?\n- **Race Distribution of Population**\n- **Education Atainment**\n- **Owner Occupied Housing**\n- **Poverty Level**\n- **Total Housing Units**","62ad9771":"## Whoa, what's that one region with really high poverty rate?","19321a79":"## Lets Get the Percentages by Census Tract, this will normalize across tracts","ad766dcb":"# Worcester County, Massachusetts\n![https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/0\/01\/Map_of_Massachusetts_highlighting_Worcester_County.svg\/200px-Map_of_Massachusetts_highlighting_Worcester_County.svg.png](https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/0\/01\/Map_of_Massachusetts_highlighting_Worcester_County.svg\/200px-Map_of_Massachusetts_highlighting_Worcester_County.svg.png)\n\nFrom Wikipedia:\n```The median income for a household in the county was $64,152 and the median income for a family was $79,121. Males had a median income of $56,880 versus $42,223 for females. The per capita income for the county was $30,557. About 6.9% of families and 9.5% of the population were below the poverty line, including 12.1% of those under age 18 and 9.0% of those age 65 or over.[15]\n```\n\nSomething is wrong because they can't possibly be at 58.3 Percent\n\n## TODO Figure this out","5f1e4a13":"# Load data from one of the areas **Dept_11-00091**","732eff05":"## First Look at the Data"}}