{"cell_type":{"42ff6e03":"code","94fe87e4":"code","4fa7b789":"code","814665e5":"code","bee1f499":"code","6f086593":"code","c59bfe6d":"code","17ec305b":"code","f2f97142":"code","fccba74c":"code","50747499":"code","cc700d01":"code","473e1e8a":"code","f0eac6e5":"code","cd39e6f1":"code","eab10de0":"code","858e1542":"code","a3ae27a4":"code","f343336d":"code","cd21f555":"code","d86acc8c":"markdown","9318010f":"markdown","5628bfcd":"markdown","47956645":"markdown","dea83b8f":"markdown","1cae87aa":"markdown","8655e072":"markdown","4bfdfccc":"markdown","03503a0e":"markdown","612806d8":"markdown","e214abf9":"markdown","4302778b":"markdown","8d4b3aab":"markdown","bf9917e5":"markdown","91eddd51":"markdown","78217538":"markdown","b9e2c6fd":"markdown","1911c2fb":"markdown","e46bf903":"markdown","659f5e8a":"markdown"},"source":{"42ff6e03":"import pandas as pd\nimport numpy as np\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport seaborn as sns","94fe87e4":"water_df = pd.read_csv(\"..\/input\/drinking-water-quality-distributionmonitoring\/drinking-water-quality-distribution-monitoring-data-1 (1).csv\")","4fa7b789":"water_df","814665e5":"water_df.info()","bee1f499":"water_df.rename(columns = \n                {\n            \"Residual Free Chlorine (mg\/L)\" : \"Residual Free Chlorine\", \n            \"Turbidity (NTU)\" : \"Turbidity\", \n            \"Fluoride (mg\/L)\" : \"Fluoride\", \n            \"Coliform (Quanti-Tray) (MPN \/100mL)\" : \"Coliform\", \n            \"E.coli(Quanti-Tray) (MPN\/100mL)\" : \"Ecoli\"\n                }, \n            inplace = True\n               )","6f086593":"water_df.info()","c59bfe6d":"water_df.isna().sum()","17ec305b":"water_df.drop(columns = [\"Sample Number\"], inplace = True)","f2f97142":"unique_locations = set(list(water_df[\"Location\"]))\nprint(\"Total unique locations in the dataset \", len(unique_locations))","fccba74c":"water_df[water_df[\"Residual Free Chlorine\"] >= 5].sum()","50747499":"sns.kdeplot(water_df[\"Residual Free Chlorine\"], shade = True);","cc700d01":"water_df[water_df[\"Turbidity\"] > 1]","473e1e8a":"records_with_high_turbidity = water_df[water_df[\"Turbidity\"] > 1].shape[0]\ntotal_records = water_df.shape[0]\n\nprint(\"Percentage of records with high turbidity \", (records_with_high_turbidity\/total_records)* 100, \"%\")","f0eac6e5":"#All locations are of NewYork city\nlocation_with_high_turbidity = list(water_df[water_df[\"Turbidity\"] > 1][\"Location\"])","cd39e6f1":"from collections import Counter\nlocations = dict(Counter(location_with_high_turbidity))\nprint(\"Location with max number of samples resulting in high turbidity than recommended - \",  max(locations, key = locations.get))","eab10de0":"water_df[\"Coliform\"] = water_df[\"Coliform\"].str.replace(\"<\", \"\")\nwater_df[\"Coliform\"] = water_df[\"Coliform\"].str.replace(\">\", \"\")\nwater_df[\"Coliform\"] = water_df[\"Coliform\"].str.replace(\" \", \"\")\nwater_df[\"Coliform\"] = water_df[\"Coliform\"].str.replace(\"-\", \"\")\n\nwater_df[\"Coliform\"] = pd.to_numeric(water_df[\"Coliform\"], errors = \"ignore\")","858e1542":"water_df.info()","a3ae27a4":"water_df[water_df[\"Coliform\"] > 10]","f343336d":"locations_with_high_coliform = list(water_df[water_df[\"Coliform\"] > 10][\"Location\"])","cd21f555":"common_list = []\nfor location_coliform in locations_with_high_coliform:\n    for location_turbidity in location_with_high_turbidity:\n        if location_coliform == location_turbidity:\n            common_list.append(location_coliform)\n\ncommon_locations = list(set(common_list))\nprint(\"Number of locations with high values of Turbidity and Coliform \", len(common_locations))","d86acc8c":"Let us evaluate the location with most number of samples crossing the threshold of Turbidity","9318010f":"## Analyzing the quality of water based on Residual Free Chlorine \nChlorine is added to water to inactivate bacterias and viruses which can cause water borne diseases. As per WHO the maximum allowable value for free chlorine residual in drinking water is 5 mg\/L. \nLet us see if we have samples with value more than the recommended one","5628bfcd":"# Overview\nA safe drinking water supply is the backbone of economy as well as the health of citizens of a country. Citizens of a country having no access to safe drinking water are at a high risk of getting water brone diseases. [CDC estimates that healthcare cost of infectious waterborne disease in the United States tops USD 3.3 billion, and more than 6,600 deaths are linked to illnesses spread by water. ](https:\/\/www.circleofblue.org\/2020\/world\/cdc-estimates-costs-of-waterborne-pathogens-in-the-united-states\/)\n[Reports suggests that United States has the safest drinking water in the world](https:\/\/www.cdc.gov\/healthywater\/drinking\/public\/water_quality.html)\n\nEven though U.S. tap water supplies are considered to be among the safest in the world, water contamination can still occur. There are many possible sources of contamination, including:\n\n* Sewage releases\n* Naturally occurring chemicals and minerals (for example, arsenic, radon, uranium)\n* Local land use practices (for example, fertilizers, pesticides, livestock, concentrated feeding operations)\n* Manufacturing processes (for example, heavy metals, cyanide)\n* Malfunctioning on-site wastewater treatment systems (for example, septic systems)\n\n# Why Water testing ?\nU.S. Environmental Protection Agency (EPA) frequently conducts water testing against [Drinking Water Regulations](https:\/\/www.epa.gov\/dwreginfo\/drinking-water-regulations). Below are few of those parameters which have a recommended value from World Health Organization and EPA -\n\n- Residual Free Chlorine (mg\/L) - The maximum allowable WHO value for free chlorine residual in drinking water is 5 mg\/L.\n- Turbidity (NTU) - The US Environmental Protection Agency sets the maximum level of turbidity in finished drinking water at 1 NTU\n- Fluoride (mg\/L) - The US Environmental Protection Agency (EPA) has set a maximum amount of fluoride allowable in drinking water of 4.0 mg\/L\n- Coliform (Quanti-Tray) (MPN \/100mL) - No sample should contain more than 10 coliform organisms per 100 ml\n- E.coli(Quanti-Tray) (MPN\/100mL) - E. coli levels at designated swimming beaches should not exceed 88 per 100 milliliter (mL) in any one sample, or exceed a three-sample geometric mean average over a 60-day period of 47\/100 mL\n\n\n# Objective \nWhile experts can better understand the water quality parameters, we can rely on the the thresholds, minimum or maximum values provided in the dataset to analyze the drinking water quality tests of New York city\n\n# Data\n* Kaggle source - https:\/\/www.kaggle.com\/meetnagadia\/drinking-water-quality-distributionmonitoring\n* Original source - New York City Open data portal -  https:\/\/data.cityofnewyork.us\/d\/bkwf-xfky","47956645":"As per the recommendation, we should not have Coliform value more than 10. Let us see how many of the samples have values greater than 10","dea83b8f":"## Perform exploratory data analysis\n ","1cae87aa":"**There are 70 samples with Coliform value greater than 10**\nLet us get the list of locations with this Coliform value ","8655e072":"Let us check what percentage of samples are crossing the recommended limits ","4bfdfccc":"## Anlayzing the quantity of Coliform \nColiform bacteria are organisms that are present in the environment and in the feces of all warm-blooded animals and humans. Coliform bacteria will not likely cause illness. However, their presence in drinking water indicates that disease-causing organisms (pathogens) could be in the water system.\nAs per the recommendation, no sample should contain more than 10 coliform organisms per 100 ml","03503a0e":"# Conclusions\n- **None of the samples had Residual Free Chlorine value crossing the WHO recommended count** \n- **11% of samples suggested that water is not good for drinking due to high Turbidity** - 5924 samples, i.e. 11% of samples were found to have high turbidity. Out of these samples \"SS - S\/S 19th Ave, btw 41st & Steinway Sts, 60 inch\" had most number of samples crossing the defined limits of risk. \n- **0.13 % samples suggest that water is not good for drinking due to high Coliform value** - 70 samples were found to have higher Coliform value than the recommended amount of 10 per 100 ml of drinking water.\n- **7% of locations had water not good for drinking** - There are 55 locations in New York with both high Turbidity and high Coliform count","612806d8":"## Locations having Turbidity and Coliform value more than recommended one\nLet us get the list of locations where both Turbidity and Coliform is highger than the recommended value","e214abf9":"## Total unique locations in the dataset","4302778b":"# Steps \n- Import required libraries \n- Perform exploratory data analysis \n- Derivce conclusions","8d4b3aab":"**The value of Residual Free Chlorine mostly lies between 0 to 1.7 which is well below the recommended value of 5 mg\/L**","bf9917e5":"Before jumping into EDA, let us first rename the column names for our ease of use","91eddd51":"## Import required libraries and dataset","78217538":"There are many missing values for Sample Number, Fluoride, and Turbidity samples and we need to deal with thos missing values. Fluoride has 44,732 missing values which is almost 85 % of total records. This is too much of missing data for analysis. \nWe can drop Sample Numbers which are just a unique identifier for each testing ","b9e2c6fd":"From above graph we can see that none of the records has Residual Free Chlorine value more than 5 mg\/L.\n**This concludes that all samples had recommended value range of Residual Free Chlorine and is safe for drinking**","1911c2fb":"**Out of total 51 K samples, 5924 samples were found to have Turbidity greater than recommended value of 1 NTU**. We need to analyze the locations having turbidity greater than 1 NTU","e46bf903":"## Analyzing the quality of Turbidity\nTurbidity is a measure of the degree to which the water loses its transparency due to the presence of suspended particulates\nRead more: https:\/\/www.lenntech.com\/turbidity.htm#ixzz7FmfxjFg6 \nThe US Environmental Protection Agency sets the maximum level of turbidity in finished drinking water at 1 NTU\n","659f5e8a":"Let us remove all special charaters from Coliform column and convert the data into float "}}