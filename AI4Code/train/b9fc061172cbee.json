{"cell_type":{"dbb1cd85":"code","b21a283b":"code","c4a8ff45":"code","9a45f3a6":"code","02e45ee7":"code","c895660b":"code","ce0608c1":"code","7446d91a":"code","1318b03c":"code","d39c150a":"code","77b670ab":"code","8cce1a30":"markdown","54c6983d":"markdown","5e734098":"markdown","fbd25663":"markdown","f6d6effd":"markdown","7891cd1c":"markdown","69a42d07":"markdown","ee0a0ee0":"markdown","dd64bcde":"markdown","c2c9e1ac":"markdown","2ad89c50":"markdown","ee20ce0c":"markdown"},"source":{"dbb1cd85":"import numpy as np \nimport pandas as pd \nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\ndf = pd.read_csv('..\/input\/wine-reviews-data\/wine.csv')\ndf.info()","b21a283b":"print(\"Num of categories: \" + str(df['category'].nunique()))\n\ny = df[\"category\"]\ndf[\"category_codes\"] = y.astype('category').cat.codes\nax = sns.displot(df[\"category\"], height=5)\nplt.xticks(rotation=45)\nplt.show()","c4a8ff45":"df[\"alcohol\"]","9a45f3a6":"rectdf = df.dropna(subset = ['alcohol'])\nrectdf = rectdf.assign(alcohol_num = lambda row: row[\"alcohol\"].replace(\"%\", \"\", regex=True).astype('float'))\n# Drop where too high\nrectdf = rectdf.loc[lambda _df: _df[\"alcohol_num\"] < 40] \nsns.displot(rectdf[\"alcohol_num\"], bins=35)\nplt.show()","02e45ee7":"rectdf = rectdf.dropna(subset = ['price'])\nprice_nums = []\nfor index, row in rectdf.iterrows():\n    if row[\"price\"].replace(\"$\", \"\").isdecimal():\n        price_nums.append(float(row[\"price\"].replace(\"$\", \"\")))\n    else:\n        price_nums.append(np.nan)\nrectdf_2 = rectdf.copy()\nrectdf_2[\"price_num\"] = price_nums\nrectdf_2 = rectdf_2.dropna(subset = ['price_num'])\nsns.displot(rectdf_2.loc[lambda _df: _df[\"price_num\"] < 200][\"price_num\"] , bins=35)\nplt.show()","c895660b":"sns.displot(rectdf_2[\"rating\"] , bins=20)\nrectdf_2[\"rating\"].describe()","ce0608c1":"sample = rectdf_2.sample(frac=0.01)\nsns.regplot(x=\"price_num\", y=\"rating\", data=sample.loc[lambda _df: _df[\"price_num\"] < 120])","7446d91a":"sample = rectdf_2.sample(frac=0.01)\nsns.regplot(x=\"alcohol_num\", y=\"rating\", data=sample.loc[lambda _df: _df[\"alcohol_num\"] < 20])","1318b03c":"sns.boxplot(x=\"category\", y=\"rating\", data=df)","d39c150a":"plt.figure(figsize=(12,10))\nsns.boxplot(x=\"category\", y=\"alcohol_num\", data=rectdf_2)","77b670ab":"plt.figure(figsize=(12,10))\nsns.boxplot(x=\"category\", y=\"price_num\", data=rectdf_2.loc[lambda _df: _df[\"price_num\"] < 130])","8cce1a30":"# Examine Rating","54c6983d":"# Does Price Influence the Rating? ","5e734098":"# Load Data","fbd25663":"# Price per Category","f6d6effd":"Hmm a lot of objects not the most auspicious start for Exploratory Data Analysis. Often it is better to have floats or ints.\n\n# Look at the Different Categories\n\nThis helps us create a numerical id for a column and also plot categories to see the distribution of the dataset in different categories.","7891cd1c":"Large number of NaNs are present in the data. Let's rectify that and look at turning that into a numerical column","69a42d07":"It appears it does have a relationship.\n\n# Does Alcohol and Rating have a Link?","ee0a0ee0":"# Conclusion\n\nWhat an interesting dataset. I was surprised that Dessert wine has the ratings it does, I didn't come in thinking that would be the case. ","dd64bcde":"This shows red wine to be hugely over represented.\n\n# Examine Alcohol","c2c9e1ac":"Alcohol is definitely centred around a certain value. Let's do the same for price.\n\n# Examine Price","2ad89c50":"# Alcohol per Category","ee20ce0c":"# Rating per Category"}}