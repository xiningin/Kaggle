{"cell_type":{"af7c7974":"code","6bae8d3b":"code","853bbf6f":"code","8f9c7a86":"code","950f805a":"code","06bf4338":"code","7e514c33":"code","186eb272":"code","072bcd9a":"code","d2ffb2c1":"code","ed722feb":"code","52878a89":"markdown","0fc5d353":"markdown","b101cdd5":"markdown","f7c8e7ad":"markdown","8f72cc36":"markdown","a36a526f":"markdown","9eb59954":"markdown","0e5b3fc3":"markdown","1c156bba":"markdown","f6607245":"markdown","8d7e3b08":"markdown"},"source":{"af7c7974":"print(\"Installing \/ updating python packages using pip\")\n! apt-get update && apt-get install -y --fix-missing liblapack-dev libswscale-dev pkg-config","6bae8d3b":"%%time\n%%bash\n\npython -m spacy download en_core_web_lg\npython -m spacy link en_core_web_lg en || true","853bbf6f":"### Note: this take a bit of time to load the first time, as it loads the model, etc..\n### Subsequent runs are faster as it lazy initialises model related variable(s) and just loads it from cache\nfrom better_nlp_class import BetterNLP\nbetterNLP = BetterNLP()","8f9c7a86":"# Can be any factual text or any text to experiment with\ngeneric_text = \"Denis Guedj (1940 \u2013 April 24, 2010) was a French novelist and a professor of the History of Science at Paris VIII University. He was born in Setif. He spent many years devising courses and games to teach adults and children math. He is the author of Numbers: The Universal Language and of the novel The Parrot's Theorem. He died in Paris. \"\nmodel_loading_result = betterNLP.load_nlp_model()","950f805a":"print(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\nprint(\"model_loading_time_in_secs=\",model_loading_result['model_loading_time_in_secs'])\nprint(\"model_loading_method=\",model_loading_result['model_loading_method'])\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\n\nmodel = model_loading_result[\"model\"]","06bf4338":"extracted_entities = betterNLP.extract_entities(model, generic_text)\n\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\nprint(\"extract_entities_processing_time_in_secs=\", extracted_entities['extract_entities_processing_time_in_secs'])\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\nbetterNLP.pretty_print(extracted_entities[\"extracted_entities\"])\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\nbetterNLP.pretty_print(betterNLP.token_entity_types())","7e514c33":"chunks = betterNLP.extract_noun_chunks(model, generic_text)\nchunks = chunks.get(\"noun_chunks\")\n\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\nbetterNLP.pretty_print(chunks)\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")","186eb272":"target_topic = \"Denis Guedj\"\nextracted_facts = betterNLP.extract_facts(model, generic_text, target_topic)\n\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\nbetterNLP.pretty_print(extracted_facts.get(\"facts\"))\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")","072bcd9a":"obfuscated_text = betterNLP.obfuscate_text(model, generic_text)\nobfuscated_text = obfuscated_text.get(\"obfuscated_text\")\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\nprint(\"Obfuscated generic text: \", \"\".join(obfuscated_text))\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")","d2ffb2c1":"generic_text = u'Apple is looking at buying U.K. startup for $1 billion'\nparts_of_speech_tagging = betterNLP.parts_of_speech_tagging(model, generic_text).get(\"parts_of_speech\")\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")\nbetterNLP.pretty_print(parts_of_speech_tagging)\nprint(\"~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\")","ed722feb":"### Linting betternlpclass\n#!pip install --upgrade pylint pyqt5==5.12 pyqtwebengine==5.12 &> \/dev\/null || true \n#!pylint better_nlp_class","52878a89":"## License\n\n Copyright 2019 Mani Sarkar\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n     http:\/\/www.apache.org\/licenses\/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n\n ### Please feel free to fork this work as long as you maintain the above license and provide citation.","0fc5d353":"## Examples","b101cdd5":"#### Install Spacy model ( NOT optional )\n\nInstall the large English language model for spaCy - will be needed for the examples in this notebooks.\n\n**Note:** from observation it appears that spaCy model should be installed towards the end of the installation process, it avoid errors when running programs using the model.","f7c8e7ad":"# Better NLP","8f72cc36":"#### Setup and installation ( optional )\n\nIn case, this notebook is running in a local environment (Linux\/MacOS) or _Google Colab_ environment and in case it does not have the necessary dependencies installed then please execute the steps in the next section.\n\nOtherwise, please SKIP to the **Install Spacy model ( NOT optional )** section.","a36a526f":"### Parts-of-speech","9eb59954":"### Noun extraction","0e5b3fc3":"### Obfuscate privacy details","1c156bba":"### Gather facts","f6607245":"This is a wrapper program\/library that encapsulates a couple of NLP libraries that are popular among the AI and ML communities.\n\nExamples have been used to illustrate the usage as much as possible. Not all the APIs of the underlying libraries have been covered.\n\nThe idea is to keep the API language as high-level as possible, so its easier to use and stays human-readable.\n\n**One of the key differentiators of this library compared to the others are that you get metadata returned to you by each API function about the duration of execution and other details about the execution.**\n\nLibraries \/ frameworks covered:\n\n- SpaCy ([site](https:\/\/spacy.io\/) | [docs](https:\/\/spacy.io\/usage\/))\n- Textacy ([github](https:\/\/github.com\/chartbeat-labs\/textacy) | [docs](https:\/\/chartbeat-labs.github.io\/textacy\/))\n\nSee [https:\/\/github.com\/neomatrix369\/awesome-ai-ml-dl\/blob\/master\/examples\/better-nlp](https:\/\/github.com\/neomatrix369\/awesome-ai-ml-dl\/blob\/master\/examples\/better-nlp) for more details.\n\n#### Kaggle kernel script: https:\/\/www.kaggle.com\/neomatrix369\/betternlpclass\n\n### This notebook will demonstrate the below NLP features \/ functionalities, using the above mentioned libraries\n\n- Extract entities\n- Noun extraction\n- Gather facts\n- Obfuscate privacy details\n- Parts-of-speech","8d7e3b08":"### Extract entities"}}