{"cell_type":{"225660e0":"code","f254d318":"code","5afed9b6":"code","82588701":"code","240822ee":"code","1032c7f6":"code","5a284b60":"code","b5db892f":"code","b14ccc66":"code","a6745b1f":"code","5b37cffb":"code","db3c44c2":"code","c0f69ad0":"code","c3bf0bd6":"code","0177bef1":"code","eb8d6ce3":"code","27cf64c3":"code","d50c9d75":"code","7de5994e":"code","489aa64e":"code","02bc0bb0":"code","d067a01d":"code","b544543c":"code","2fd44198":"code","a268256c":"code","d9c6a4a4":"code","ce3d2c32":"code","01bf69d5":"code","f93c5488":"markdown","6cdccebb":"markdown","fedb6d5f":"markdown","de5a06a1":"markdown","6b969a44":"markdown"},"source":{"225660e0":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.express as px\n\nimport warnings\nwarnings.simplefilter(action='ignore', category=FutureWarning)\nwarnings.simplefilter(action='ignore', category=RuntimeWarning)","f254d318":"from sklearn.preprocessing import LabelEncoder\ndef Encode(df,col):\n    \n    encode = LabelEncoder()\n    encode.fit(df[col])\n    new_column = encode.transform(df[col])\n    test = np.unique(new_column)\n    result = encode.inverse_transform(test)\n    for i in range(len(test)):\n        print(result[i],\":\".format(),test[i])\n    print(\"=======================================\")\n    return new_column","5afed9b6":"df_train = pd.read_csv(\"\/kaggle\/input\/airline-passenger-satisfaction\/train.csv\")\ndf_test  = pd.read_csv(\"\/kaggle\/input\/airline-passenger-satisfaction\/test.csv\")\ndf_train = df_train.drop([\"Unnamed: 0\",\"id\"],axis=1)\ndf_test  = df_test.drop([\"Unnamed: 0\",\"id\"],axis=1)\ndf =  df_train.append(df_test)","82588701":"df_train.dropna(inplace=True)\ndf_test.dropna(inplace=True)\ndf.dropna(inplace=True)","240822ee":"df.head()","1032c7f6":"df.info()","5a284b60":"fig = px.sunburst(df, path=['Type of Travel','Class', 'Customer Type'],color_continuous_scale='RdBu')\nfig.show()","b5db892f":"object_attribute = []\nfor col in df_train.columns:\n    if df_train[col].dtype==\"object\":\n        object_attribute.append(col)\nobject_attribute","b14ccc66":"for col in object_attribute:\n    if df_train[col].dtype==\"object\":\n        df_train[col] = Encode(df_train,col)\n    else:\n        print(\"Encoded\")\n        break","a6745b1f":"for col in object_attribute:\n    if df_test[col].dtype==\"object\":\n        df_test[col] = Encode(df_test,col)\n    else:\n        print(\"Encoded\")\n        break","5b37cffb":"for col in object_attribute:\n    if df[col].dtype==\"object\":\n        df[col] = Encode(df,col)\n    else:\n        print(\"Encoded\")\n        break","db3c44c2":"df.head()","c0f69ad0":"plt.figure(figsize=(10,10))\nplt.subplot(2,2,1)\nsns.countplot(data=df, x=\"Class\" , hue=\"satisfaction\", palette=\"afmhot\")\nplt.title(\"Count Plot of Class\")\nplt.legend()\n\nplt.subplot(2,2,2)\nsns.countplot(data=df, x=\"Gate location\" , hue=\"satisfaction\", palette=\"Paired\")\nplt.title(\"Count Plot of Gate location\")\nplt.legend()\n\nplt.subplot(2,2,3)\nsns.countplot(data=df, x=\"Customer Type\" , hue=\"satisfaction\", palette=\"CMRmap_r\")\nplt.title(\"Count Plot of Customer Type\")\nplt.legend()\n\nplt.subplot(2,2,4)\nsns.countplot(data=df, x=\"Checkin service\" , hue=\"satisfaction\", palette=\"seismic_r\")\nplt.title(\"Count Plot of Checkin service\")\nplt.legend()\nplt.tight_layout()\nplt.show()","c3bf0bd6":"plt.figure(figsize=(10,10))\nplt.subplot(2,2,1)\nsns.kdeplot(df.loc[df[\"satisfaction\"]==1][\"Age\"],alpha=0.5,label=\"satisfaction\",shade=True)\nsns.kdeplot(df.loc[df[\"satisfaction\"]==0][\"Age\"],alpha=0.5,label=\"neutral or dissatisfied\",shade=True)\nplt.title(\"KDE Plot of Age\")\nplt.legend()\n\nplt.subplot(2,2,2)\nsns.kdeplot(df.loc[df[\"satisfaction\"]==1][\"Flight Distance\"],alpha=0.5,label=\"satisfaction\",shade=True)\nsns.kdeplot(df.loc[df[\"satisfaction\"]==0][\"Flight Distance\"],alpha=0.5,label=\"neutral or dissatisfied\",shade=True)\nplt.title(\"KDE Plot of Flight Distance\")\nplt.legend()\n\nplt.subplot(2,2,3)\nsns.kdeplot(df.loc[df[\"satisfaction\"]==1][\"Departure Delay in Minutes\"],alpha=0.5,label=\"satisfaction\",shade=True)\nsns.kdeplot(df.loc[df[\"satisfaction\"]==0][\"Departure Delay in Minutes\"],alpha=0.5,label=\"neutral or dissatisfied\",shade=True)\nplt.title(\"KDE Plot of Departure Delay in Minutes\")\nplt.legend()\n\nplt.subplot(2,2,4)\nsns.kdeplot(df.loc[df[\"satisfaction\"]==1][\"Arrival Delay in Minutes\"],alpha=0.5,label=\"satisfaction\",shade=True)\nsns.kdeplot(df.loc[df[\"satisfaction\"]==0][\"Arrival Delay in Minutes\"],alpha=0.5,label=\"neutral or dissatisfied\",shade=True)\nplt.title(\"KDE Plot of Arrival Delay in Minutes\")\nplt.legend()\nplt.tight_layout()\nplt.show()","0177bef1":"plt.figure(figsize=(10,6))\nplt.subplot(1,2,1)\nplt.hist2d(x=df[\"Age\"],y=df[\"Flight Distance\"])\nplt.xlabel(\"Age\")\nplt.ylabel(\"Flight Distance\")\n\nplt.subplot(1,2,2)\nplt.hist2d(x=df[\"Departure Delay in Minutes\"],y=df[\"Arrival Delay in Minutes\"])\nplt.xlabel(\"Departure Delay in Minutes\")\nplt.ylabel(\"Arrival Delay in Minutes\")\nplt.tight_layout()\nplt.show()","eb8d6ce3":"ax = plt.figure(figsize=(12,10))\nsns.heatmap(df.corr(),annot=True,cmap=\"coolwarm\",fmt='.0%')\nplt.show()","27cf64c3":"ax = plt.figure(figsize=(14,6))\nplt.subplot(2,2,1)\ndf.groupby(['satisfaction'])['Age'].mean().plot(kind=\"line\",color=\"C0\",marker=\"o\")\nplt.ylabel(\"Avg of Age\")\nplt.grid(True)\n\nplt.subplot(2,2,2)\ndf.groupby(['satisfaction'])['Flight Distance'].mean().plot(kind=\"line\",color=\"C0\",marker=\"o\")\nplt.ylabel(\"Avg of Flight Distance\")\nplt.grid(True)\n\nplt.subplot(2,2,3)\ndf.groupby(['satisfaction'])['Departure Delay in Minutes'].mean().plot(kind=\"line\",color=\"r\",marker=\"o\")\nplt.ylabel(\"Avg of Departure Delay in Minutes \")\nplt.grid(True)\n\nplt.subplot(2,2,4)\ndf.groupby(['satisfaction'])['Arrival Delay in Minutes'].mean().plot(kind=\"line\",color=\"r\",marker=\"o\")\nplt.ylabel(\"Avg of Arrival Delay in Minutes \")\nplt.grid(True)\nplt.show()","d50c9d75":"ax = plt.figure(figsize=(14,6))\nplt.subplot(2,2,1)\ndf_train.groupby(['Class','Gender'])['satisfaction'].mean().plot(kind=\"line\",color=\"C0\",marker=\"o\")\nplt.ylabel(\"Avg of satisfaction\")\nplt.grid(True)\n\nplt.subplot(2,2,2)\ndf_train.groupby(['Class','Customer Type'])['satisfaction'].mean().plot(kind=\"line\",color=\"C0\",marker=\"o\")\nplt.ylabel(\"Avg of satisfaction\")\nplt.grid(True)\n\nplt.subplot(2,2,(3,4))\ndf_train.groupby(['Class','Type of Travel'])['satisfaction'].mean().plot(kind=\"line\",color=\"r\",marker=\"o\")\nplt.ylabel(\"Avg of satisfaction\")\nplt.grid(True)","7de5994e":"X_train = df_train.drop(\"satisfaction\",axis=1)\nX_test  = df_test.drop(\"satisfaction\",axis=1)\ny_train = df_train[\"satisfaction\"]\ny_test  = df_test[\"satisfaction\"]","489aa64e":"X = df.drop(\"satisfaction\",axis=1)\ny = df[\"satisfaction\"]","02bc0bb0":"from sklearn.metrics import plot_roc_curve,plot_confusion_matrix,accuracy_score,confusion_matrix\ndef model(model):\n    global X,y,X_train, X_test, y_train, y_test\n    print(type(model).__name__)\n    pred = model.predict(X_test)\n    acs = accuracy_score(y_test,pred)\n    print(\"Accuracy Score             :\",acs)\n    \n    plot_confusion_matrix(model,X,y,cmap=\"cividis\")\n    plt.title(\"Confusion Matrix\")\n    plt.show()","d067a01d":"def Check(list_of_disp):\n    ax = plt.gca()\n    for i in list_of_disp: \n        i.plot(ax=ax)\n    plt.plot([0,1],[0,1],\"--\",color=\"k\",alpha=0.7)\n    plt.show()","b544543c":"from sklearn.model_selection import cross_val_score\ndef CrossValidationScore(model_list):\n    global X,y\n    mean_cross_val_score = []\n    for i in model_list:\n        scores = cross_val_score(i, X, y, cv=5)\n        mean_cross_val_score.append(scores.mean())\n        \n    ax = plt.figure()\n    plt.plot(model_list, mean_cross_val_score, linewidth=4, markersize=18,\n             olor=\"c\",marker=\"s\",label=\"Cross-Validation Score\",linestyle='-.')\n    for i in range(len(acc_score)):\n        plt.text(x=model_list[i], y=mean_cross_val_score[i], s=mean_cross_val_score[i].round(2), fontsize=17)\n    plt.legend()\n    ax.set_facecolor(\"#e1ddbf\")\n    plt.xlabel(\"Model's Name\")\n    plt.ylabel(\"Cross-Validation Score\")\n    plt.title(\"Cross-Validation Score of Models\",fontsize=20)\n    plt.legend(loc=\"upper left\")\n    plt.show()","2fd44198":"from sklearn.linear_model import LogisticRegression\nlr = LogisticRegression(max_iter=10000)\nlr.fit(X_train,y_train)\nprint(\"Model Installed!\")\nprint(\"Please Wait for Results..\")\nmodel(lr)\n\nlr_disp = plot_roc_curve(lr, X_test, y_test)\nplt.plot([0,1],[0,1],\"--\",color=\"k\",alpha=0.7)\nplt.show()","a268256c":"from sklearn.naive_bayes import GaussianNB\ngnb = GaussianNB()\ngnb.fit(X_train,y_train)\nprint(\"Model Installed!\")\nprint(\"Please Wait for Results..\")\nmodel(gnb)\n\ngnb_disp = plot_roc_curve(gnb, X_test, y_test)\nplt.plot([0,1],[0,1],\"--\",color=\"k\",alpha=0.7)\nplt.show()","d9c6a4a4":"from sklearn.ensemble import RandomForestClassifier\nrfc = RandomForestClassifier()\nrfc.fit(X_train,y_train)\nprint(\"Model Installed!\")\nprint(\"Please Wait for Results..\")\nmodel(rfc)\n\nrfc_disp = plot_roc_curve(rfc, X_test, y_test)\nplt.plot([0,1],[0,1],\"--\",color=\"k\",alpha=0.7)\nplt.show()","ce3d2c32":"from xgboost import XGBClassifier\nxgb = XGBClassifier()\nxgb.fit(X_train,y_train)\nprint(\"Model Installed!\")\nprint(\"Please Wait for Results..\")\nmodel(xgb)\n\nxgb_disp = plot_roc_curve(rfc, X_test, y_test)\nplt.plot([0,1],[0,1],\"--\",color=\"k\",alpha=0.7)\nplt.show()","01bf69d5":"list_of_disp = [rfc_disp,lr_disp,gnb_disp,xgb_disp]\nCheck(list_of_disp)","f93c5488":"* Gender: Gender of the passengers (Female, Male)\n\n* Customer Type: The customer type (Loyal customer, disloyal customer)\n\n* Age: The actual age of the passengers\n\n* Type of Travel: Purpose of the flight of the passengers (Personal Travel, Business Travel)\n\n* Class: Travel class in the plane of the passengers (Business, Eco, Eco Plus)\n\n* Flight distance: The flight distance of this journey\n\n* Inflight wifi service: Satisfaction level of the inflight wifi service (0:Not Applicable;1-5)\n\n* Departure\/Arrival time convenient: Satisfaction level of Departure\/Arrival time convenient\n\n* Ease of Online booking: Satisfaction level of online booking\n\n* Gate location: Satisfaction level of Gate location\n\n* Food and drink: Satisfaction level of Food and drink\n\n* Online boarding: Satisfaction level of online boarding\n\n* Seat comfort: Satisfaction level of Seat comfort\n\n* Inflight entertainment: Satisfaction level of inflight entertainment\n\n* On-board service: Satisfaction level of On-board service\n\n* Leg room service: Satisfaction level of Leg room service\n\n* Baggage handling: Satisfaction level of baggage handling\n\n* Check-in service: Satisfaction level of Check-in service\n\n* Inflight service: Satisfaction level of inflight service\n\n* Cleanliness: Satisfaction level of Cleanliness\n\n* Departure Delay in Minutes: Minutes delayed when departure\n\n* Arrival Delay in Minutes: Minutes delayed when Arrival\n\n* Satisfaction: Airline satisfaction level(Satisfaction, neutral or dissatisfaction)","6cdccebb":"This dataset contains an airline passenger satisfaction survey. What factors are highly correlated to a satisfied (or dissatisfied) passenger? Can you predict passenger satisfaction?","fedb6d5f":"## Context","de5a06a1":"# Airline Passenger Satisfaction","6b969a44":"## Content"}}