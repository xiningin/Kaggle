{"cell_type":{"ea3a88d8":"code","4f019ada":"code","27810b6b":"code","4a19d006":"code","4de508dc":"code","04baab53":"code","e4b2ba86":"code","28e424df":"code","756cea86":"code","0046f250":"code","bfaa7f81":"code","a35bf168":"code","286daf21":"code","729bc83c":"code","2c7f2577":"code","782baa70":"code","231bc6f6":"code","3cfae471":"code","0182aac1":"code","9a33360e":"code","fcc90d91":"code","89d4e90d":"code","dc2c74ff":"code","60b80875":"code","d753ee33":"markdown","2df7e123":"markdown","14c08f76":"markdown","43cea1c3":"markdown","3726396b":"markdown","a218d86a":"markdown","865714e2":"markdown","d852dfa6":"markdown","67767a30":"markdown","4b8ee5e3":"markdown","4a3c1933":"markdown","82c5e160":"markdown","7e4a4222":"markdown","1cdd5367":"markdown","12724ade":"markdown","8ef7e2f7":"markdown","f53287af":"markdown","dfc6d38f":"markdown","31b1f1b1":"markdown","2779c958":"markdown","de09d2d8":"markdown","d27118ca":"markdown","b7915fdc":"markdown","b612bec5":"markdown","05badd85":"markdown","a4055a56":"markdown","48f8cf4c":"markdown","a434ee17":"markdown","7cbd1629":"markdown"},"source":{"ea3a88d8":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom wordcloud import WordCloud\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","4f019ada":"data = pd.read_csv(\"\/kaggle\/input\/montreal-crime-data\/Montreal Crime Data.csv\")","27810b6b":"data.head()","4a19d006":"data.drop(\"Unnamed: 0\", axis = 1, inplace = True)","4de508dc":"data.columns","04baab53":"print(f\"Shape of data is: {data.shape}\")","e4b2ba86":"pd.DataFrame(data.dtypes, columns=['Datatype']).rename_axis('Columns')","28e424df":"data['date'] = pd.to_datetime(data['date'])","756cea86":"pd.DataFrame(data.dtypes, columns=['Datatype']).rename_axis('Columns')","0046f250":"pd.DataFrame(data.isnull().sum(), columns=['Missing Values']).rename_axis('Feature')","bfaa7f81":"top_cities = pd.DataFrame(data['city'].value_counts()).rename({\"city\":\"Case Reported\"}, axis = 1).rename_axis(\"City\").head(10)\n\ntop_cities.style.bar()","a35bf168":"fig = px.bar(data_frame = np.log(top_cities),\n             x = top_cities.index,\n             y = 'Case Reported',\n             color='Case Reported',\n             template='plotly_dark',             \n             title = \"<b>Top 10 Cities where most Crime are reported<\/b>\")\n\nfig.show()","286daf21":"label = top_cities.index\nvalue = top_cities['Case Reported']\n\nfig = go.Figure(data=[go.Pie(labels = label, values = value, rotation = 90)])\n\nfig.update_traces(textposition='inside',\n                  textinfo='percent+label',\n                  marker=dict(line=dict(color='#000000', width = 1.5)))\n\nfig.update_layout(title_text='<b>Top 10 Cities where most Crime are reported<\/b>',\n                  title_x=0.5,\n                  title_font=dict(size=20),\n                  uniformtext_minsize=15)\n\nfig.show()","729bc83c":"fig = px.histogram(data,\n                   x = 'category',\n                   color='city')\n\nfig.show()","2c7f2577":"fig = px.treemap(data, path=['city', 'category'],   \n                  hover_data = ['category'],)\n\n\nfig.show()","782baa70":"pd.DataFrame(data['year'].value_counts()).rename({\"year\":\"Case Reported\"}, axis = 1).rename_axis(\"Year\").style.highlight_max()","231bc6f6":"pd.DataFrame(data['year'].value_counts()).rename({\"year\":\"Case Reported\"}, axis = 1).rename_axis(\"Year\").style.highlight_min()","3cfae471":"fig = px.histogram(data,\n             x='year',\n             color=\"category\",\n             barmode='group')\n\nfig.show()","0182aac1":"year_wise_trend = data.groupby('year').sum().drop(['longitude', 'latitude'], axis = 1).rename({'count':\"Case Reported\"}, axis=1)\n\nyear_wise_trend.style.bar()","9a33360e":"fig = px.line(year_wise_trend, x = year_wise_trend.index,\n              y = 'Case Reported',\n              text = year_wise_trend.index,\n              title = \"<b>Trend of Crime from 2015 to 2021<\/b>\",\n              template='ggplot2')\n\nfig.update_traces(textposition=\"bottom right\")\nfig.show()","fcc90d91":"fig = px.bar(data_frame = year_wise_trend,\n             x = year_wise_trend.index,\n             y = 'Case Reported',\n             color='Case Reported',\n             template='plotly_dark',\n             title = \"<b>Trend of Crime from 2015 to 2021<\/b>\")\n\nfig.show()","89d4e90d":"def plot_word_cloud(df, col_name):    \n    text = ' '.join(df[col_name].str.lower())\n\n    wordcloud = WordCloud(width = 2000, height = 900,\n                          background_color ='black',\n                          collocations=False,\n                          max_words=5000,\n                          min_font_size = 15).generate(text)\n\n    plt.figure(figsize=(12, 8), facecolor = 'k', edgecolor = 'k' )\n    plt.imshow(wordcloud)\n    plt.axis(\"off\")\n    plt.tight_layout(pad = 0) \n    plt.show()","dc2c74ff":"plot_word_cloud(data, 'category')","60b80875":"plot_word_cloud(data, 'city')","d753ee33":"<a id='top'><\/a>\n<div class=\"list-group\" id=\"list-tab\" role=\"tablist\">\n<p style=\"background-color:#0388fc;font-family:newtimeroman;color:#FFF9ED;font-size:150%;text-align:center;border-radius:10px 10px;\">\ud83d\udccb TABLE OF CONTENTS<\/p>   \n\n\n* [1. Importing Libraries](#1)\n    \n* [2. Reading Data](#2)\n    \n* [3. Removing unwanted columns](#3)\n    \n* [4. Meta Information of Dataframe](#4)\n    \n    * [4.1- Shape of Dataframe](#4.1)\n    \n    * [4.2- Datatype of Each feature](#4.2)\n    \n    \n* [5. Data Cleaning](#5) \n    \n    * [5.1- Converting date feature to datatime format](#5.1) \n    \n    * [5.2- Checking for NaN values](#5.2)\n    \n    \n* [6. Visualization](#6)\n    \n    * [6.1- Top 10 Cities where most Crime are reported](#6.1)\n    \n    * [6.2- Visualizing category feature](#6.2)\n    \n    * [6.3- Crime Category in Each City](#6.3)\n    \n    * [6.4- Year in which most Crime are reported](#6.4) \n    \n    * [6.5- Year in which less Crime are reported](#6.5)\n    \n    * [6.6- Trend of Crime Year wise](#6.6)\n    \n    * [6.7- Trend of Crime from 2015 to 2021](#6.7)\n    \n    * [6.8- Top words in Crime category](#6.8)\n    \n    * [6.9- Top words in City](#6.9)\n","2df7e123":"### **From above insights, the Crime rate is reduced after 2015** ","14c08f76":"<center> <button class=\"button button1\"><a href=\"#top\" aria-pressed=\"true\"  style=\"color:red\" data-toggle=\"popover\" title=\"go to table of contents\"><b>GO TO TOP<\/b><\/a><\/button><\/center>","43cea1c3":"<a id=\"6.9\"><\/a>\n<p style=\"background-color:#5cb3ff;font-family:newtimeroman;color:#FFF9ED;font-size:120%;text-align:center;border-radius:20px 80px;\">Top words in City<\/p>","3726396b":"<a id=\"5.1\"><\/a>\n<p style=\"background-color:#5cb3ff;font-family:newtimeroman;color:#FFF9ED;font-size:120%;text-align:center;border-radius:20px 80px;\">Converting date feature to datatime format<\/p>","a218d86a":"**Most cases is reported in year 2015**","865714e2":"<a id=\"6.5\"><\/a>\n<p style=\"background-color:#5cb3ff;font-family:newtimeroman;color:#FFF9ED;font-size:120%;text-align:center;border-radius:20px 80px;\">Year in which less Crime are Reported<\/p>","d852dfa6":"**From above two charts Montreal is a city where most Crime is reported. And the categories of crime in Montreal is:**\n1. Home invasion\n2. Theft in \/ from a motor vehicle\n3. Mischief\n4. Motor vehicle theft \n5. Confirmed Theft\n","67767a30":"**Date column is not in date_time, So solving this issue**","4b8ee5e3":"<a id=\"6.7\"><\/a>\n<p style=\"background-color:#5cb3ff;font-family:newtimeroman;color:#FFF9ED;font-size:120%;text-align:center;border-radius:20px 80px;\">Trend of Crime from 2015 to 2021 (Whether Crime is reduced or increase)<\/p>","4a3c1933":"![Retail Store](https:\/\/dailytimes.com.pk\/assets\/uploads\/2017\/10\/24\/Crime-scene-1280x720.jpg)","82c5e160":"<div style=\"color:white;\n           display:fill;\n           border-radius:5px;\n           background-color:#6cdcf5;\n           font-size:160%;\n           font-family:Verdana;\n           letter-spacing:0.5px\">\n\n<p style=\"padding: 10px;color:black;text-align:center\">I Hope you like this kernel. If so, don't forget to <font size=\"+3\" color=\"red\"><b>Upvote<\/b><\/font> <br> Thank you \ud83d\ude0a<\/p>\n<\/div>","7e4a4222":"<a id=\"6.4\"><\/a>\n<p style=\"background-color:#5cb3ff;font-family:newtimeroman;color:#FFF9ED;font-size:120%;text-align:center;border-radius:20px 80px;\">Year in which most Crime are Reported<\/p>","1cdd5367":"<a id=\"6.2\"><\/a>\n<p style=\"background-color:#5cb3ff;font-family:newtimeroman;color:#FFF9ED;font-size:120%;text-align:center;border-radius:20px 80px;\">Visualizing category feature<\/p>","12724ade":"<a id=\"6.6\"><\/a>\n<p style=\"background-color:#5cb3ff;font-family:newtimeroman;color:#FFF9ED;font-size:120%;text-align:center;border-radius:20px 80px;\">Trend of Crime Year wise<\/p>","8ef7e2f7":"<a id=\"1\"><\/a>\n# <p style=\"background-color:#0388fc;font-family:newtimeroman;color:#FFF9ED;font-size:150%;text-align:center;border-radius:10px 10px;\">Importing Libraries<\/p>","f53287af":"**So none of the column contains NaN value**","dfc6d38f":"<a id=\"2\"><\/a>\n# <p style=\"background-color:#0388fc;font-family:newtimeroman;color:#FFF9ED;font-size:150%;text-align:center;border-radius:10px 10px;\">Reading Data<\/p>","31b1f1b1":"<a id=\"4\"><\/a>\n# <p style=\"background-color:#0388fc;font-family:newtimeroman;color:#FFF9ED;font-size:150%;text-align:center;border-radius:10px 10px;\">Meta information of datafrme<\/p>","2779c958":"**In 2021, less Crime are reported**","de09d2d8":"<a id=\"6.3\"><\/a>\n<p style=\"background-color:#5cb3ff;font-family:newtimeroman;color:#FFF9ED;font-size:120%;text-align:center;border-radius:20px 80px;\">Crime category in Each city<\/p>","d27118ca":"<a id=\"5\"><\/a>\n# <p style=\"background-color:#0388fc;font-family:newtimeroman;color:#FFF9ED;font-size:150%;text-align:center;border-radius:10px 10px;\">Data Cleaning<\/p>","b7915fdc":"<a id=\"6.8\"><\/a>\n<p style=\"background-color:#5cb3ff;font-family:newtimeroman;color:#FFF9ED;font-size:120%;text-align:center;border-radius:20px 80px;\">Top words in Crime category<\/p>","b612bec5":"<a id=\"6.1\"><\/a>\n<p style=\"background-color:#5cb3ff;font-family:newtimeroman;color:#FFF9ED;font-size:120%;text-align:center;border-radius:20px 80px;\">Top 10 Cities where most Crime are reported<\/p>","05badd85":"<a id=\"5.2\"><\/a>\n<p style=\"background-color:#5cb3ff;font-family:newtimeroman;color:#FFF9ED;font-size:120%;text-align:center;border-radius:20px 80px;\">Checking for NaN values<\/p>","a4055a56":"<a id=\"4.2\"><\/a>\n<p style=\"background-color:#5cb3ff;font-family:newtimeroman;color:#FFF9ED;font-size:120%;text-align:center;border-radius:20px 80px;\">Datatype of Each feature<\/p>","48f8cf4c":"<a id=\"4.1\"><\/a>\n<p style=\"background-color:#5cb3ff;font-family:newtimeroman;color:#FFF9ED;font-size:120%;text-align:center;border-radius:20px 80px;\">Shape of dataframe<\/p>","a434ee17":"<a id=\"3\"><\/a>\n# <p style=\"background-color:#0388fc;font-family:newtimeroman;color:#FFF9ED;font-size:150%;text-align:center;border-radius:10px 10px;\">Removing unwanted column<\/p>","7cbd1629":"<a id=\"6\"><\/a>\n# <p style=\"background-color:#0388fc;font-family:newtimeroman;color:#FFF9ED;font-size:150%;text-align:center;border-radius:10px 10px;\">Visualization<\/p>"}}