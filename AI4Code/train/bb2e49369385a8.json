{"cell_type":{"c6c13d45":"code","e0b8969f":"code","daaf155c":"code","0c6e0be7":"code","df046170":"code","e1e2fb65":"code","b7f3087a":"code","a454be76":"code","ef846bf9":"code","fb9d7351":"code","d1471fb8":"code","b3e775fe":"code","cd12aa13":"code","95fd91c5":"code","9cf89046":"code","e3ae542c":"code","9392ec73":"code","7cf674fb":"code","58cdc4a1":"code","0830f125":"code","e0dfd8cc":"code","435911bf":"markdown","dc0a4c3c":"markdown","f232507d":"markdown","ab748897":"markdown","8960f8d9":"markdown","cb9852f3":"markdown","85f4ec1b":"markdown","4d9dd3c6":"markdown","a128c180":"markdown","29c20d7d":"markdown","ad0109f5":"markdown","aa000213":"markdown","d16f9aa3":"markdown","803b8256":"markdown","6c44ff17":"markdown","11f514c6":"markdown","88cea2d6":"markdown","9f5e0dd5":"markdown","795c33a2":"markdown","d7187702":"markdown","151e4e92":"markdown","54157603":"markdown","b8dbe26e":"markdown","ffc5a4f6":"markdown","9f420b5a":"markdown","87b63792":"markdown","d445b97f":"markdown","1b62c7da":"markdown","6eba11e5":"markdown"},"source":{"c6c13d45":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nimport plotly.express as px","e0b8969f":"df = pd.read_csv('..\/input\/pw31data\/Stats Honors Sampling Variability  Sampling Distributions Study - GameStop (GME) Data.csv')","daaf155c":"df","0c6e0be7":"cp = df['Adj Close'].to_numpy()","df046170":"n_sample = 100\n\nmeans = []\nsizes = []\nstds = []\nmeans_samesize = []\n\nfor size in range(1, len(cp)):\n    means_samesize = []\n    \n    for sid in range(n_sample):\n        sample = np.random.choice(cp, size = size)\n        means.append(sample.mean())\n        sizes.append(size)\n        means_samesize.append(sample.mean())\n        \n    stds.append(np.array(means_samesize).std())","e1e2fb65":"df_plot = pd.DataFrame({'Sample Means':means, 'Sample Size':sizes})\nfig = px.histogram(df_plot, x=\"Sample Means\", animation_frame=\"Sample Size\", nbins=20, range_x=[5,25], range_y=[0,30])\nfig.add_vline(x=cp.mean())\n\nfig.show()","b7f3087a":"df_plot = pd.DataFrame({'Sample Mean Standard Deviation': stds, 'Sample Size': [i for i in range(1, len(cp))]})\nfig = px.line(df_plot, x = 'Sample Size', y = 'Sample Mean Standard Deviation')\nfig.show()","a454be76":"df_plot = pd.DataFrame({'Sample Means':means, 'Sample Size':sizes})\ndf_plot = df_plot.groupby(['Sample Size']).mean()\ndf_plot.reset_index(level=0, inplace=True)\ndf_plot['Deviation from Population Mean'] = df_plot['Sample Means'] - cp.mean()\nfig = px.line(df_plot, x = 'Sample Size', y = 'Deviation from Population Mean')\nfig.show()","ef846bf9":"size = 100\n\nmeans = []\nns_sample = []\nstds = []\nmeans_samensample = []\n\nfor n_sample in range(1, 200):\n    means_samensample = []\n    \n    for sid in range(n_sample):\n        sample = np.random.choice(cp, size = size)\n        means.append(sample.mean())\n        ns_sample.append(n_sample)\n        means_samensample.append(sample.mean())\n        \n    stds.append(np.array(means_samensample).std())","fb9d7351":"df_plot = pd.DataFrame({'Sample Means':means, 'Sample Number':ns_sample})\nfig = px.histogram(df_plot, x=\"Sample Means\", animation_frame=\"Sample Number\", nbins=20, range_x=[0,30], range_y=[0,50])\nfig.add_vline(x=cp.mean())\nfig.show()","d1471fb8":"df_plot = pd.DataFrame({'Sample Mean Standard Deviation': stds, 'Sample Number': [i for i in range(1, 200)]})\nfig = px.line(df_plot, x = 'Sample Number', y = 'Sample Mean Standard Deviation')\nfig.show()","b3e775fe":"df_plot = pd.DataFrame({'Sample Means':means, 'Sample Number':ns_sample})\ndf_plot = df_plot.groupby(['Sample Number']).mean()\ndf_plot.reset_index(level=0, inplace=True)\ndf_plot['Deviation from Population Mean'] = df_plot['Sample Means'] - cp.mean()\nfig = px.line(df_plot, x = 'Sample Number', y = 'Deviation from Population Mean')\nfig.show()","cd12aa13":"is_loss = (df['Adj Close'] - df['Open']).to_numpy() < 0","95fd91c5":"n_sample = 50\n\nproportions = []\nsizes = []\nstds = []\nps_samesize = []\n\nfor size in range(1, len(is_loss)):\n    ps_samesize = []\n    \n    for sid in range(n_sample):\n        sample = np.random.choice(is_loss, size = size)\n        proportions.append(sample.mean())\n        sizes.append(size)\n        ps_samesize.append(sample.mean())\n        \n    stds.append(np.array(ps_samesize).std())","9cf89046":"df_plot = pd.DataFrame({'Sample Loss Proportion':proportions, 'Sample Size':sizes})\nfig = px.histogram(df_plot, x=\"Sample Loss Proportion\", animation_frame=\"Sample Size\", nbins=20, range_x=[0,1], range_y=[0,15])\nfig.add_vline(x=is_loss.mean())\nfig.show()","e3ae542c":"df_plot = pd.DataFrame({'Sample Loss Proportion Standard Deviation': stds, 'Sample Size': [i for i in range(1, len(cp))]})\nfig = px.line(df_plot, x = 'Sample Size', y = 'Sample Loss Proportion Standard Deviation')\nfig.show()","9392ec73":"df_plot = pd.DataFrame({'Sample Proportion':proportions, 'Sample Size':sizes})\ndf_plot = df_plot.groupby(['Sample Size']).mean()\ndf_plot.reset_index(level=0, inplace=True)\ndf_plot['Deviation from Population Proportion'] = df_plot['Sample Proportion'] - is_loss.mean()\nfig = px.line(df_plot, x = 'Sample Size', y = 'Deviation from Population Proportion')\nfig.show()","7cf674fb":"size = 50\n\nps = []\nns_sample = []\nstds = []\nps_samensample = []\n\nfor n_sample in range(1, 200):\n    ps_samensample = []\n    \n    for sid in range(n_sample):\n        sample = np.random.choice(is_loss, size = size)\n        ps.append(sample.sum()\/float(size))\n        ns_sample.append(n_sample)\n        ps_samensample.append(sample.sum()\/float(size))\n        \n    stds.append(np.array(ps_samensample).std())","58cdc4a1":"df_plot = pd.DataFrame({'Sample Loss Proportion':ps, 'Sample Number':ns_sample})\nfig = px.histogram(df_plot, x=\"Sample Loss Proportion\", animation_frame=\"Sample Number\", nbins=20, range_x=[0,1], range_y=[0,50])\nfig.add_vline(x=is_loss.mean())\nfig.show()","0830f125":"df_plot = pd.DataFrame({'Sample Loss Proportion Standard Deviation': stds, 'Sample Number': [i for i in range(1, 200)]})\nfig = px.line(df_plot, x = 'Sample Number', y = 'Sample Loss Proportion Standard Deviation')\nfig.show()","e0dfd8cc":"df_plot = pd.DataFrame({'Sample Proportion':ps, 'Sample Number': ns_sample})\ndf_plot = df_plot.groupby(['Sample Number']).mean()\ndf_plot.reset_index(level=0, inplace=True)\ndf_plot['Deviation from Population Proportion'] = df_plot['Sample Proportion'] - is_loss.mean()\nfig = px.line(df_plot, x = 'Sample Number', y = 'Deviation from Population Proportion')\nfig.show()","435911bf":"The interactive diagram below shows histogram of sample means with different sample numbers. \n\n**Move the toggle button in the bar at the bottom or click the play button** to view changes across different sample numbers. \n\nRegardless the sample number, the distribution resembles normal distributions centering around population mean (marked by the vertical line). Therefore, sample number does not have influence over sample variability.","dc0a4c3c":"In this notebook, I will examine effects of sample size and sample number on sample variability with GME stock history, thus demonstrating properties of [Central Limit Theorem](https:\/\/en.wikipedia.org\/wiki\/Central_limit_theorem).","f232507d":"The interactive diagram below shows histogram of sample proportions with different sample numbers. \n\n**Move the toggle button in the bar at the bottom or click the play button** to view changes across different sample numbers. \n\nRegardless the sample number, the distribution resembles normal distributions centering around population proportion (marked by the vertical line). Therefore, sample number does not have influence over sample variability.","ab748897":"## Effects of Sample Size","8960f8d9":"## Effects of Sample Number","cb9852f3":"# Sampling Variability of Sample Proportion with Loss Days","85f4ec1b":"In this section, I will examine the sample variability with number of days undergoing losses.","4d9dd3c6":"The diagram below shows the difference between mean of sample means and population mean. It confirms that regardless sample number, sample distributions have means around population mean. ","a128c180":"The diagram below shows the difference between mean of sample proportion and population proportion. It confirms that regardless sample number, sample distributions have proportions around population proportion. ","29c20d7d":"The diagram below shows sample  proprotion standard deviation across different sample sizes. It confirms that sample proportion distribution's standard deviation decreases as sample size increases.","ad0109f5":"Here, I fix sample size to be 50 and obtained results through changing sample number from 1 to 200.","aa000213":"# Load Data","d16f9aa3":"## Effects of Sample Number","803b8256":"The diagram below shows the difference between mean of sample means and population mean. The difference converges to around 0 as sample size increases. Therefore, sample mean distirbution approximately centers around population mean, and it is more likely for samples with larger sample sizes to better represent the population.","6c44ff17":"# Conclusion","11f514c6":"## Effects of Sample Size","88cea2d6":"In this section, I will examine the sample variability with GME Daily Closing Price.","9f5e0dd5":"The diagram below shows sample mean standard deviation across different sample numbers. It confirms that standard deviation in general is unrelated to sample numbers, oscillating around 3.5. ","795c33a2":"The diagram below shows sample mean standard deviation across different sample sizes. It confirms that sample mean distribution's standard deviation decreases as sample size increases.","d7187702":"In conclusion, sample means and proportions are normal distributions centering around population mean and proportion. Larger sample sizes produce sample proportions and sample means distributions with smaller standard deviation. At the same time, sample number does not have influence over the distributions.","151e4e92":"Here, I fix sample number to be 100 and obtained results through changing sample size from 1 to population size.","54157603":"# Sampling Variability of Sample Mean with GME Daily Closing Price","b8dbe26e":"Here, I fix sample size to be 50 and obtained results through changing number size from 1 to 200.","ffc5a4f6":"The interactive diagram below shows histogram of sample proportions with different sample sizes. The population  proportion is marked by the vertical line.\n\n**Move the toggle button in the bar at the bottom or click the play button** to view changes across different sample sizes. \n\nThe distributions resemble normal distributions centered around population  proportion. As sample size increases, the distribution gets narrower; standard deviation decreases.","9f420b5a":"The diagram below shows sample proportion standard deviation across different sample numbers. It confirms that standard deviation is in general unrelated to sample numbers, oscillating around 0.07. ","87b63792":"# Import Libraries","d445b97f":"Here, I fix sample number to be 50 and obtained results through changing sample size from 1 to population size.","1b62c7da":"The diagram below shows the difference between mean of sample proportion and population proportion. The difference converges to around 0 as sample proportion increases. Therefore, sample proportion distirbution approximately centers around population proportion, and it is more likely for samples with larger sample sizes to better represent the population.","6eba11e5":"The interactive diagram below shows histogram of sample means with different sample sizes. The population mean is marked by the vertical line.\n\n**Move the toggle button in the bar at the bottom or click the play button** to view changes across different sample sizes. \n\nThe distributions resemble normal distributions centered around population mean. As sample size increases, the distribution gets narrower; standard deviation decreases."}}