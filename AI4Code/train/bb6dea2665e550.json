{"cell_type":{"c68f7053":"code","eede7ab8":"code","7325eb71":"code","fac13d63":"code","4421c456":"code","9d56c310":"code","69bdb6f0":"code","7ab0fad5":"code","db3faf6d":"code","a5c947ea":"code","9a4ae4c2":"code","be559fe6":"code","a9c4f1ce":"code","bfa8db6a":"code","373ae50c":"code","3a2b6a17":"code","76f4fa47":"code","d3ccfc4d":"code","9428bdcc":"code","85082e68":"code","3b695cd2":"code","4ee77511":"code","95ccfc0f":"code","aa5dd11e":"code","2c5004d4":"code","0f57a98b":"code","87758ec3":"code","b7e2999c":"code","604149a2":"code","5e4c7a60":"code","b1ffeb5d":"code","66d5fec0":"markdown","3007df44":"markdown","ce88bd19":"markdown","e9f74b4c":"markdown","9edea401":"markdown","1f4645ad":"markdown","6ba7373b":"markdown","699f721d":"markdown","27dbeb09":"markdown"},"source":{"c68f7053":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom wordcloud import WordCloud\nimport math","eede7ab8":"# Load data and preview \n\nfile = \"..\/input\/d\/stefanoleone992\/fifa-22-complete-player-dataset\/players_22.csv\"\ndf = pd.read_csv(file)\ndf.head(5)","7325eb71":"# The column names\n\ndf.columns","fac13d63":"# Check the numeric values\n\ndf.select_dtypes(include='number')","4421c456":"# What's the shape of this data\ndf.shape","9d56c310":"# check for datatypes, some might require changing depending on what needs to be done.\ndf.dtypes","69bdb6f0":"# Let's check out some basic statistics\n\ndf.describe()","7ab0fad5":"# Let's plot the relationship between player potential and wages\n\nplt.figure(figsize=(7, 5))\nax = sns.scatterplot(x =df['potential'], y = df['wage_eur'])\nplt.xlabel(\"Potential\") \nplt.ylabel(\"Wage EUR\")\nplt.title(\"Potential & wage\", fontsize = 18)\nplt.show()","db3faf6d":"# Let's plot the relationship between player potential and wages, filtered by International reputation\n\nplt.figure(figsize=(7, 5))\nax = sns.scatterplot(x =df['potential'], y = df['wage_eur'], hue = df['international_reputation'])\nplt.xlabel(\"Potential\") \nplt.ylabel(\"Wage EUR\")\nplt.title(\"Potential & wage\", fontsize = 18)\nplt.show()","a5c947ea":"# Let's plot the relationship between player potential and value\n\nfig, ax = plt.subplots(figsize=(7,5))\nplt.scatter(x=df['potential'], y=df['value_eur'] )\nplt.xlabel(\"potential\") \nplt.ylabel(\"Value in EUR\")\nplt.title(\"Potential & Value in EUR\", fontsize = 15)\nplt.show()","9a4ae4c2":"# Let's plot the relationship between player reputation and value\n\n\nfig, ax = plt.subplots(figsize=(7,5))\nplt.scatter(x=df['international_reputation'], y=df['value_eur'] )\nplt.xlabel(\"International Reputation\") \nplt.ylabel(\"Value in EUR\")\nplt.title(\"Reputation & Value in EUR\", fontsize = 15)\n\nplt.show()","be559fe6":"# Let's plot the relationship between player reputation and wages\n\n\nfig, ax = plt.subplots(figsize=(7,5))\nplt.scatter(x=df['international_reputation'], y=df['wage_eur'] )\nplt.xlabel(\"International Reputation\") \nplt.ylabel(\"Wage in EUR\")\nplt.title(\"Reputation & wages in EUR\", fontsize = 15)\nplt.show()","a9c4f1ce":"# Let's plot the relationship between player height and potential\n\n\nfig, ax = plt.subplots(figsize = (8,5))\nax = sns.scatterplot(x =df['height_cm'], y = df['potential'])\nplt.xlabel(\"Height\") \nplt.ylabel(\"Potential\")\nplt.title(\"Relationship between Height and Potential\", fontsize = 16)\nplt.show()","bfa8db6a":"top_15 = df.nlargest(15, 'overall')\ntop_15.head(5)","373ae50c":"# Does mentaility composure rating correlate with how players are rated overall? Let's check that.\n\nfig, ax = plt.subplots(figsize=(8,5))\n\nplt.scatter(top_15['overall'], top_15['mentality_composure'])\n\nplt.text(top_15.iloc[0]['overall'], top_15.iloc[0]['mentality_composure'], top_15.iloc[0]['short_name'])\nplt.text(top_15.iloc[1]['overall'], top_15.iloc[1]['mentality_composure'], top_15.iloc[1]['short_name'])\nplt.text(top_15.iloc[2]['overall'], top_15.iloc[2]['mentality_composure'], top_15.iloc[2]['short_name'])\nplt.text(top_15.iloc[3]['overall'], top_15.iloc[3]['mentality_composure'], top_15.iloc[3]['short_name'])\nplt.text(top_15.iloc[4]['overall'], top_15.iloc[4]['mentality_composure'], top_15.iloc[4]['short_name'])\nplt.text(top_15.iloc[5]['overall'], top_15.iloc[5]['mentality_composure'], top_15.iloc[5]['short_name'])\nplt.text(top_15.iloc[6]['overall'], top_15.iloc[6]['mentality_composure'], top_15.iloc[6]['short_name'])\nplt.text(top_15.iloc[7]['overall'], top_15.iloc[7]['mentality_composure'], top_15.iloc[7]['short_name'])\nplt.text(top_15.iloc[8]['overall'], top_15.iloc[8]['mentality_composure'], top_15.iloc[8]['short_name'])\nplt.text(top_15.iloc[9]['overall'], top_15.iloc[9]['mentality_composure'], top_15.iloc[9]['short_name'])\n\nax.set_title(\"Overall Rating vs Mentality Composure\")\nax.set_ylabel('Mentality Composure Rating')\nax.set_xlabel('Overall Rating')\n\nplt.show()","3a2b6a17":"# Let's see if high overall score correlates with earnings, for the top 15 players\n\nfig, ax = plt.subplots(figsize=(8,5))\n\nplt.scatter(top_15['potential'], top_15['wage_eur'] )\nplt.text(top_15.iloc[0]['potential'], top_15.iloc[0]['wage_eur'], top_15.iloc[0]['short_name'])\n# plt.text(top_15.iloc[1]['potential'], top_15.iloc[1]['wage_eur'], top_15.iloc[1]['short_name']) for better view\nplt.text(top_15.iloc[2]['potential'], top_15.iloc[2]['wage_eur'], top_15.iloc[2]['short_name'])\n# plt.text(top_15.iloc[3]['potential'], top_15.iloc[3]['wage_eur'], top_15.iloc[3]['short_name'])\nplt.text(top_15.iloc[4]['potential'], top_15.iloc[4]['wage_eur'], top_15.iloc[4]['short_name'])\nplt.text(top_15.iloc[5]['potential'], top_15.iloc[5]['wage_eur'], top_15.iloc[5]['short_name'])\nplt.text(top_15.iloc[6]['potential'], top_15.iloc[6]['wage_eur'], top_15.iloc[6]['short_name'])\nplt.text(top_15.iloc[7]['potential'], top_15.iloc[7]['wage_eur'], top_15.iloc[7]['short_name'])\nplt.text(top_15.iloc[8]['potential'], top_15.iloc[8]['wage_eur'], top_15.iloc[8]['short_name'])\nplt.text(top_15.iloc[9]['potential'], top_15.iloc[9]['wage_eur'], top_15.iloc[9]['short_name'])\n\nax.set_title(\"Potential vs Wages of top 15\")\nax.set_ylabel('Wages in Eur')\nax.set_xlabel('Potential')\n\nplt.show()\n\n\n#mentality_composure","76f4fa47":"# I want to group player earnings based on their work rate\n\ndf.groupby(\"work_rate\")[\"wage_eur\"].max()","d3ccfc4d":"# All available workrate metrics\n\ndf['work_rate'].unique()","9428bdcc":"# In a plot, we visualize player earnings based on recored workrate\n\nfig, ax = plt.subplots(figsize=(7,5))\ndf.groupby(\"work_rate\")[\"wage_eur\"].max().plot.bar()\nplt.xlabel(\"Work Rate\") \nplt.ylabel(\"Wages in EUR\")\nplt.title(\"Wages by level of Workrate\", fontsize = 15)\nplt.show()","85082e68":"# Let's visualize the distribution of key metrics\n\nfig, axes = plt.subplots(2, 2, figsize=(13, 9))\naxes[0,0].hist(df['wage_eur'])\naxes[0,0].set_xlabel('Wages in Euro')\naxes[0,0].set_ylabel('Count')\naxes[0,0].set_title('Distribution of Wages in Euros')\n\naxes[0,1].hist(df['age'], bins = 15)\naxes[0,1].set_xlabel('Age of Players')\naxes[0,1].set_ylabel('Count')\naxes[0,1].set_title('Distribution of Players Ages')\n\n# first two is using a matplotlib syntax, the next two I'll do with seaborn \n\naxes[1,0].set_title('Distribution of Height of Players')\nsns.histplot(df, x='height_cm', ax=axes[1,0], kde=True)\naxes[1,0].set_xlabel('Height in Centimeters')\naxes[1,0].set_ylabel('Count')\n\n\naxes[1,1].set_title('Distribution of Weight of Players')\nsns.histplot(df, x='weight_kg', ax=axes[1,1], kde=True)\naxes[1,1].set_xlabel('Weight in kg')\naxes[1,1].set_ylabel('Count')\n\n\nplt.tight_layout(pad=2)\nplt.show()","3b695cd2":"# Quick calculation to separate players based on preferred foot\n\ndf.groupby(['preferred_foot']).count()[['sofifa_id']]","4ee77511":"df.groupby(['preferred_foot']).count().sum()[['sofifa_id']]","95ccfc0f":"# Visualize with a pie, and include percentages using autopct\n\n# Which foot does the footballers in fifa 21 use more?\n\npreferred_foot_labels = df[\"preferred_foot\"].value_counts().index # (Right,Left) \npreferred_foot_values = df[\"preferred_foot\"].value_counts().values # (Right Values, Left Values)\nexplode = (0, 0.1) # used to separate the pie\n\n# Visualize\n\nplt.figure(figsize = (7,7))\nplt.pie(preferred_foot_values, labels=preferred_foot_labels,autopct='%1.2f%%')\nplt.title('Football Players Preferred Feet',color = 'black',fontsize = 15)\nplt.legend()\nplt.show()","aa5dd11e":"# What nationalities are the most popular in the dataset?\n\ndf['nationality_name'].value_counts()","2c5004d4":"nationality_name = \" \".join(n for n in df['nationality_name'])\nplt.figure(figsize=(10, 10)) \nwc = WordCloud().generate(nationality_name) \nplt.imshow(wc, interpolation='bilinear') \nplt.axis('off') \nplt.show()","0f57a98b":"# Another method to do this\n\nfrom collections import Counter\nbar_plot = dict(Counter(df['nationality_name'].values).most_common(5))\nbar_plot","87758ec3":"fig, ax = plt.subplots(figsize = (8,5))\nplt.bar(*zip(*bar_plot.items()))\nax.set_title('Most Popular Nationalities')\nplt.show()","b7e2999c":"def plot_most_common(category):\n    bar_plot = dict(Counter(df[category].values).most_common(5))\n    plt.bar(*zip(*bar_plot.items()))\n    plt.show()","604149a2":"# What are the most common player positions?\n\nfig, ax = plt.subplots(figsize = (8,5))\nplot_most_common('player_positions')\nplt.show()","5e4c7a60":"# top 10 players, sorted primarily by wages\n\nplayer_name = df[['wage_eur','short_name',\n                  'value_eur','overall','age',\n                  'nationality_name','potential',\n                  'international_reputation']].nlargest(10,['wage_eur']).set_index('short_name')\nplayer_name","b1ffeb5d":"# Top 20 players overall\n\n# We get the names and overals from the data\nOverall = df[\"overall\"]\nfootballer_name = df[\"short_name\"]\n\n# Let's create dataframe(Name,Overall)\ndata = pd.DataFrame({'short_name': footballer_name,'overall':Overall})\n\nx = df['short_name'].head(20) \ny = df['overall'].head(20)\n\n# plot\nplt.figure(figsize=(7,10))\n\n\nax= sns.barplot(x=y, y=x, palette = 'Blues_r', orient='h')\nplt.xticks()\nplt.xlabel('Overall Ratings', size = 20) \nplt.ylabel('Player Names', size = 20 ) \nplt.title('FIFA22 Top 20 (Overall Rating)')\n\nplt.show()\n","66d5fec0":"# This is an exploratory data analysis of the FIFA22 dataset.","3007df44":"## The FIFA22 dataset contains all key attributes, and features of male football players around the world. In this analysis, I focus on major attributes to see relationship between common variables such as;\n\n* Potential & wages.\n* Reputation & Value.\n* Reputation and wages\n* Height and potential.\n\n## I also answer questions such as;\n\n* what are the height, wage, weight and age distribution of players?\n* What is the prevalent foot amont players?\n* What are the countries with the highest representation in the data?\n* What are the most common player position?\n* Who are the highest paid players?\n* Who are the best players overall?\n\n\n## Overall it is an interesting dataset with a lot of dimension, I will however be focusing on dimensions I consider common and most important. ","ce88bd19":"## This is such an interesting data to work with. I will look into the source of the data to understand how variables like players mentality was measured.\n\n## From the analysis, we can conclude that;\n\n* Messi is the best player.\n* Kevin De Bryune is currently the highest paid.\n* Majority of football players are right footed.\n* Majority of football players are centerbacks\/central defenders.\n* There's generally a positive relationship between players potential rating & wages.\n* However among the top 15 players, this is not the case.\n* England have the most representation among countries in the data, followed by Germany.\n\n## I hope you enjoyed this analysis, feel free to take this further, there's so much more insights that can be taken from the data.","e9f74b4c":"### Among the top 15 players, we see that there's no relationship between potential & wages. Interesting.","9edea401":"### Interesting, and as expected, there seems to be a correlation between some common variables, like players of high potentials tend to earn more. I'll drill down to the top 15 players & see if the same is true.","1f4645ad":"# Descritive Statistics & Regression Analysis","6ba7373b":"# Load, Preview and Prepare the Data","699f721d":"# Additional Insights & Data Visualization","27dbeb09":"# Conclusion"}}