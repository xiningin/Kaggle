{"cell_type":{"165f66ac":"code","5f7cbf85":"code","4167e378":"code","424eb9fa":"code","56d1804d":"code","75e6f8c9":"code","24d7b236":"code","047b1b09":"code","3bb19968":"code","239b471e":"code","f3187f27":"code","37923bb9":"code","62006ed3":"code","15ff27be":"code","36a661e8":"code","983ecbea":"code","eae37361":"code","a88d4d9d":"code","3dbba3f8":"code","a51372a0":"code","736e280a":"code","870ededb":"code","ba4c691c":"code","f08212d3":"code","0a46e231":"code","a8a26265":"markdown","1e7ab3ee":"markdown","445ac931":"markdown","6f74f440":"markdown","df0fbf9d":"markdown","db31b786":"markdown","30c261f8":"markdown","2b44452a":"markdown","8033dfe7":"markdown","46cf1b02":"markdown","02fe38d2":"markdown","12ed1589":"markdown"},"source":{"165f66ac":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt \nimport seaborn as sns \nimport plotly as py\nimport plotly.graph_objs as go\nfrom sklearn.cluster import KMeans\nimport warnings\nimport os\nwarnings.filterwarnings(\"ignore\")\npy.offline.init_notebook_mode(connected = True)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","5f7cbf85":"import pandas as pd\nfilename = \"\/kaggle\/input\/modified-lol-champions-dataset\/LoL-Champions.csv\"\ndf = pd.read_csv(filename)\ndf.head()","4167e378":"df.describe()","424eb9fa":"df.dtypes","56d1804d":"#Champion name set to index\ndf=df.set_index('Name')\ndf.head(5)","75e6f8c9":"df.head(20)","24d7b236":"#Change DamageType to a numeric variable\n#1 for magical\n#3 for physical\n\ndf.loc[df['DamageType'].astype(str).str.match('M'), 'DamageType'] = 1\ndf.loc[df['DamageType'].astype(str).str.match('PM'), 'DamageType'] = 2\ndf.loc[df['DamageType'].astype(str).str.match('P'), 'DamageType'] = 3\ndf.tail(20)","047b1b09":"#check after damage type change.\ndf.dtypes","3bb19968":"#Prepare data for training.\n#Remove all non numerical data, which are not relevant anyway. Class will be joined later onwards.\ndf_train = df.drop(['Id','Class',], axis=1)","239b471e":"#perform k_means clustering\nfeatures = list(df_train.columns)\ndata = df_train[features]","f3187f27":"#check for missing Values\nnan_rows = data[data.isnull().T.any().T]\nnan_rows.head()\n#Ekko has Functionality NaN for some reason. Check with Riot site. Functionality 1.\ndata = data.fillna(1)","37923bb9":"#We will make 6 clusters as Riot's initial classes were 6.\n#Support, Warrior, Tank, Marksman, Assassin, Mage\nclustering_kmeans = KMeans(n_clusters=6, precompute_distances=\"auto\", n_jobs=100)","62006ed3":"data['clusters'] = clustering_kmeans.fit_predict(data).astype(int)","15ff27be":"print(data.info())","36a661e8":"data.head(5)","983ecbea":"df_corr = df.drop(['Id','Class',], axis=1)\nVarCorr = df_corr.corr()\nprint(VarCorr)\nsns.heatmap(VarCorr,xticklabels=VarCorr.columns,yticklabels=VarCorr.columns)","eae37361":"#Plotting\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom sklearn.decomposition import PCA\nfrom matplotlib import colors\nimport matplotlib.cm as cm","a88d4d9d":"#plt.scatter(data.Style, data.Difficulty, s=300, c=data.clusters)\n\nfig, ax = plt.subplots()\ncolormap = cm.viridis\ncolorlist = [colors.rgb2hex(colormap(i)) for i in np.linspace(0, 0.9, 8)]\nLABEL_COLOR_MAP = {0 : 'red',\n                   1 : 'blue',\n                   2 : 'green',\n                   3 : 'cyan',\n                   4 : 'magenta',\n                   5 : 'orange'\n                   }\nlabel_color = [LABEL_COLOR_MAP[l] for l in data['clusters']]\n\n\n#for i,c in enumerate(colorlist):\n\n #   x = data['Style'][i]\n #   y = data['Difficulty'][i]\n #   l = data['clusters'][i]\nscatter = ax.scatter(x=data['Style'], y = data['Difficulty'], s=300, linewidth=0.1, c=label_color)\n\nplt.xlabel('Style', fontsize = 14)\nplt.ylabel('Difficulty', fontsize = 14)\n\n\nplt.show()","3dbba3f8":"print(clustering_kmeans.cluster_centers_)\nprint(type(clustering_kmeans.cluster_centers_))\n\npd.DataFrame(clustering_kmeans.cluster_centers_).to_csv('results0409.csv', index=False)\n","a51372a0":"#Cluster 1\n#Modified to include Class and Damage Type\ndata_0 = data.reset_index().merge(df,how=\"left\").set_index(data.index.names)\ndata_0 = data_0[data_0['clusters'] == 0]\ndata_0 = data_0.drop(['Id'],axis=1)\ndata_0 = data_0.drop_duplicates()\ndata_0.head(40)","736e280a":"data_1 = data.reset_index().merge(df,how=\"left\").set_index(data.index.names)\ndata_1 = data_1.drop(['Id'],axis=1)\ndata_1 = data_1[data_1['clusters'] == 1]\ndata_1 = data_1.drop_duplicates()\ndata_1.head(40)","870ededb":"data_2 = data.reset_index().merge(df,how=\"left\").set_index(data.index.names)\ndata_2 = data_2.drop(['Id'],axis=1)\ndata_2 = data_2[data_2['clusters'] == 2]\ndata_2 = data_2.drop_duplicates()\ndata_2.head(40)","ba4c691c":"data_3 = data.reset_index().merge(df,how=\"left\").set_index(data.index.names)\ndata_3 = data_3.drop(['Id'],axis=1)\ndata_3 = data_3[data_3['clusters'] == 3]\ndata_3 = data_3.drop_duplicates()\ndata_3.head(30)","f08212d3":"data_4 = data.reset_index().merge(df,how=\"left\").set_index(data.index.names)\ndata_4 = data_4.drop(['Id'],axis=1)\ndata_4 = data_4[data_4['clusters'] == 4]\ndata_4 = data_4.drop_duplicates()\ndata_4.head(30)","0a46e231":"data_5 = data.reset_index().merge(df,how=\"left\").set_index(data.index.names)\ndata_5 = data_5.drop(['Id'],axis=1)\ndata_5 = data_5[data_5['clusters'] == 5]\ndata_5 = data_5.drop_duplicates()\ndata_5.head(30)","a8a26265":"# Cluster 5 - Tank (Magenta)\n\n![image.png](attachment:image.png)\n\nImage as of 2020.04.09 Run\n\nNotable Champions : Rammus, Dr.Mundo, Jarvan IV, Ornn\n\nOutliers : Garen, Darius, **Pyke**, Hecarim, Vi, Wukong\n\nI had a hard time distinguishing this cluster and the next cluster. However, when I run the machine next time, I feel that there could be some mix up between those two clusters. This is the more accurate and consistent sector of the two, with more Warriors and Tanks in the category.\n\nTanks boast the highest Sturdiness with 2.39, and come with a decent crowd control of 2.17. Their mobility is just average with 1.50, and are quite skill reliant to pull off those crowd controls(Style 6.50). Due to their low farm reliance (2.11), Tanks are one of the staples of the esports scene as they can come online pretty quickly and are item efficient. \n\nThe biggest outlier here is Pyke, who is a support with a measly health due to his passive. Pyke is much more of an assassin, but his mediocre damage(2) low farm and high crowd control must have played a role in clustering into this area.\n\nGaren and Darius are champions better off breaking bones of any reckless melee ADCs or assassins coming close by than initiating and leading the teamfight, so they belong more in fighters category.\n\nHecarim, Vi, and Wukong are also more of mobile hard punchers than teamfight initiators or tanks, and are somewhat less relevant in the crowd control department (why does Vi, who only has 2 single-target disables, have 3 in CC?). Perhaps, their high style of 7 must have placed them into this category. But as mentioned before, The style category is rather unreliable. All Hecarim does after landing his ultimate is kick someone with E and press W and spam Q till the end of fight.","1e7ab3ee":"# Cluster 1 - Mage (Red)\n\n![image.png](attachment:image.png)\n\nImage as of 2020.04.09 Run\n\nNotable Champions : LeBlanc, Rumble, Karthus, Ryze\n\nOutliers : None.\n\nThe mage cluster is one of the most obvious, in terms of both game characters and the 'magic wielder' stereotype.\nThe Defining stats of the mages is high spell damage reliance (high style, 9.71) and magical damage type (1)\nThey are squishy wizards, as seen from their measly sturdiness of 1.17.\n\nHowever, it would be nice to distinguish between the playstyles of mages. \n\nLikes of LeBlanc and Kassadin jump out of nowhere to nuke a single target and disappear to safety.\nBrand and Viktor unleash destruction on the entire enemy team, instead of taking down pinpoint targets. \nRumble and Vladimir act somewhat like warriors, making up for their lack of range with their durability.\nZiggs and Karma can't burst like LeBlanc or infight like Rumble, but can poke from safety and gnaw at enemy health bars.\nMaybe a burst \/ sustain parameter and a AOE\/Single parameter could do well to distinguish these champions.\n","445ac931":"# Cluster 4 - Support (Cyan)\n\n![image.png](attachment:image.png)\n\nImage as of 2020.04.09 Run\n\nNotable Champions : Bard, Janna, Sona, Tahm Kench, Taric\n\nOutliers : Nunu, Sejuani, Singed, Zac, Gragas, Amumu\n\nThe support cluster shows the epitome of the support stereotype. Skill-dependent(Style 8.57) Low farm reliance(1.43) and damage (1.35), while being fairly sturdy(2.17) and high in functionality (2.04) and crowd control (2.61). After all, they are the only class that can heal and move people around. \n\nMost of them have the support tag included.\n\nThe outliers here are usually crowd-control heavy tanks (with no support tag) which go to other lanes. However, as seen from their farm parameters of 2, they are not recommended to take the support role. Some such as Sejuani and Zac even have damage skills based on their HP, so they definitely need a lot of farm to be relevant.","6f74f440":"# Does correlation study tell you about champion roles?\n\nAs stated above, ","df0fbf9d":"# Cluster 6 - Fighter (Orange)\n\n![image.png](attachment:image.png)\n\nImage as of 2020.04.09 Run\n\nNotable Champions : Gnar, Renekton, Volibear, Olaf, Trundle\n\nOutliers : Nocturne, Rengar, **Ashe, Corki, Miss Fortune, Xayah**, Jayce, Shaco, Shen, Blitzcrank.\n\nI had a hard time figuring out why they placed it so.\n\nFighters generally have less skill dependency(4.09) (cos you throw autoattacks to 'fight'),and more damage (2.36, highest among non-damage dealer classes) than tanks, but suffer from less sturdiness (2.00) and less crowd control (1.95).\n\nThe champions here are very good at one thing - fighting. They can both throw punches and take them, unlike the melee ADCs. However, due to their lack of ability to change situations (low crowd control and functionality) and specialization, they are also shunned in the esports scene. \n\nThe 4 marksmen, Ashe, Corki(well he flys a fighter jet), Miss Fortune and Xayah are all classified here due to the style parameter, which is around 3~5.(much higher than ADC centroid of 2.37). \n\nThis cluster also contains assassins Rengar, Nocturne and Shaco, whom I suspect that are included here for the same reason - style parameter, but for opposite reasons (lower than the assassin centroid of 7.05). I suspect the same reasons for Jayce (more suitable in assassin \/ mage), and shen (more suitable in tank)\n\nAn honorable mention goes to Blitzcrank, as Blitzcrank was originally designed as a fighter rather than a support. (But has proven that he can be usefull even without items)","db31b786":"# Clusters at a glance\n\n\nThis is the graph of the centroids. The high values are highlighted with red, while low values are highlighted in green.\n\n![image.png](attachment:image.png)\nDue to the nature of the k-means clustering, sometimes the graph could vary from time to time. I would use this graph here to explain.\n(Graphed At 2020.04.09)\n\nFor your convenience, here is the color code of the clusters.\n                   0 : 'red',\n                   1 : 'blue',\n                   2 : 'green',\n                   3 : 'cyan',\n                   4 : 'magenta',\n                   5 : 'orange',\n\nNow we have the 8 clusters ready. \nI have not included the legends because it might ruin the visiblity of the scatterplot.\n(But it's League of Legends...T_T)","30c261f8":"# Conclusion\n\nRiot Games' champion parameters can cause some confusion. \nIt seems that Riot Games has acknowledged this problem, and decided to renew its champion classifications.\n![image.png](attachment:image.png)\n\nI suggest the following additional datas which can make classification much easier\n\n1. Burst \/ Sustained Damage, as discussed from the mage section.\n2. Single Target \/ AOE, as also discussed from the mage section.\n3. Battle position, whether the champion is more suited protecting the ranged ADC, or pushing the enemy tank from the front, or attempts to cross the line and kill the squishier glass cannons first.\n4. Change the definition of 'Style' to 'Skillshot reliance'\n\nI promise to make it prettier by adding more League champion pictures and prettier infographics for the LoL fans out there! \n\nMaybe next time, I should try the same experiment with players instead of champions, and with more data features. Can Faker, Chovy and DoinB all be classified as the same 'mid laner'? Was Easyhoon a good substitute for Faker, who can keep the opponents guessing on their toes with their different playstyles? Well if there were other datasets, I'll try making and uploading one (though there is work)\n\nCheers!!","2b44452a":"# Cluster 3 - Assassins (Green)\n\n![image.png](attachment:image.png)\n\nImage as of 2020.04.09 Run\n\nNotable Champions : Akali, Riven, Kha Zix, Lee Sin, Talon, Zed\n\nOutliers : Azir, Kennen, Ezreal, **Mordekaiser**, **Gangplank**\n\nAssassins are the hardest of all,as they have high skill reliance (Style 7.05) and highest mechanics hurdle (difficulty 2.30), so you better have good reflexes \/ keyboard pressing skills.\nThey are the mix between the ADC and the mage, as they mostly deal physical damage(1.90) and are control intesnsive. Furthermore, they are mostly melee (range 0.40), but there are some ranged ones, **as sniping also counts as a valid mean of assassination.**\n\n**There are two big outliers, Gangplank and Mordekaiser.** Both of them are heavily reliant on skills and can dish out damage, so they qualify for the first hurdle of an assassin. But they severely lack on the mobility part (especially Mordekaiser), and thus are played more as warriors, as their tags suggest. \n\nEzreal is another interesting exception. He is the only champion with mage-marksman tag, and relies heavily on his Q to snipe enemies from afar. His damage output, skill reliance, and high mobility already confirms him as an assassin.\nKennen and Azir are champions who excel much more in teamfights than assassinations. Perhaps they were added in here as well due to same reasons with Ezreal.\n\nI have  not filled Ekko's NaN Class value on purpose to use him as a test. (He was not included by the time this dataset was made). **Considering that he is used as an assassin-bruiser hybrid, perhaps he was clustered correctly.**","8033dfe7":"# Centroid table\n\n![image.png](attachment:image.png)\n\nThis is the table of the Centroid values, (I'm not an artist, so bear with the eyestrain from the color scheme)\n\n","46cf1b02":"# Cluster 2 - Autoattack ADC (Blue)\n\n![image.png](attachment:image.png)\n\nImage as of 2020.04.09 Run\n\nNotable Champions : Twitch, Jax, Caitlyn, Vayne\n\nOutliers : **Ivern (big)**, Varus, Lucian (maybe)\n\nContrary to mages, the ADCs rely more on the autoattacks (right-clicks) to dish out physical(DType 2.67) sustained damage. (Style 2.37) Similar to mages, they have high damage outputs (2.89) and farm dependence (2.93), and suffer from lack of sturdiness (1.22) and crowd control(1.52)\n\nIt is interesting that the computer grouped the melee and ranged ADCs together.\nCurrently, most autoattack ADCs are having a hard time in competitive esports. Especially when it comes to melee ADCs, as Yasuo (and maybe Jax) is the only one to successfully settle in the competitive scene. Its due to their lack of sturdiness, crowd control and utility. The fact that audience has to see minutes of farming with no fancy skill shots does not help them, as Riot will not want to see those in their esports scene.\n\n**The biggest outlier here is Ivern, who is not even an ADC.** However, his parameters such as low style and low durablity might have led the computer to group him here. I consider Varus and Lucian to be other outliers in this cluster, as they have much more than just right-clicking to deal damage. Especailly Varus, who is also used as a mid-lane spellcaster who can snipe enemies from outside the screen.","02fe38d2":"# Champion tags, are they trustable?\n\n**The Point of this workbook is to find how 'reliable' Riot Games' champion tags are.**\n\nTo verify Riot Games' champion tags' validity, I have decided to use k-means clustering to have the computer group the champions together.\n\nOn first view, some of the tags used by riot do not make sense. For example, Hecarim has a Style meter of 7, though his 'skillshot' is only the ultimate that he has to aim for a good knockback, and most of the time the Hecarim user will be mashing Q to activate his rampage and Trinity force buffs while auto attacking. Another silly measure by Riot is the 'mobility' score, where Nocturne, which only has a mobility buff after using his semi-global ultimate has a score of 3. On the other hand, Javan IV and Vi, who can close gaps over 1000 distance in an instant, have a mobility score of 2, which is same as Volibear (who lacks the ability to close in instantly.. all he has is a up to 85% run speed buff)\n\nAlso, the 'difficulty' of the champion is the 'mechanics' difficulty, not the game difficulty. The 'difficulty' parameter does not take any other factors such as team reliance or early game hassles in consideration.\n","12ed1589":"To help my analysis, I added 2 other separate datasets based on my experience with League of Legends.\n\nMelee\/Ranged is the obvious parameter here. It is a measure whether the champion's basic attack is melee or ranged. I have put transforming champions Jayce, Nidalee and Elise as ranged, as they start out as ranged, and their melee forms are situational. (Usually used during mop-up situations after the poking damage has been done). Range 0 is melee, Range 1 is normal ranged, and Range 2 is 'poker', such as Jayce, Varus, and Lulu\n\nFarm is a parameter which could be controversial, as it was done primarily based on my experience, rather than champion's item stats. I defined farm as 'amount of farm needed for a champion to get online' 1 is support-level farming (think supporters like Soraka or Thresh which would need minimal items to be effeective in a 5v5 fight), while 2 is top lane tank \/ bruiser level farming which involves a couple of 3000+ gold damage itmes and the rest of the slot are 2000~3000 survivability items. Examples of type 2 would be bruisers such as Renekton or Jarvan IV. Type 3 is the glass cannon carry, who stocks up on 3000+ gold damage itmes and finish their set with a Guardian Angel (most ADCs, mages). Therefore, it would be hard to explain certain champions who play different roles (ex : Karma, Morgana and Zyra, who can be played as mid mages or supports)\n\n"}}