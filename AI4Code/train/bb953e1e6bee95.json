{"cell_type":{"5f65a10d":"code","4e449184":"code","b992b1f1":"code","92240ab3":"code","1236dab9":"code","41fe3f1c":"code","b82275fa":"code","462d44b4":"code","4e857ca6":"code","80d3b633":"code","11e139a8":"code","d4d955af":"code","04a3dfa9":"code","b8d1eec1":"code","15db22cd":"code","f69f6ba2":"code","0ac6d379":"code","8310d115":"code","3a3b8f11":"code","33b45f3a":"code","10ba4606":"code","ae9264e0":"code","b34ede27":"code","a7d28b06":"code","55f7580e":"code","1283ac7b":"markdown","f30cfc21":"markdown","5f6db9e6":"markdown","eb9a7dbf":"markdown","bb6f7d7a":"markdown","8376a142":"markdown","a64e16e8":"markdown","af7e0396":"markdown","d9dd4ef8":"markdown"},"source":{"5f65a10d":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport glob\nimport os\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","4e449184":"pd.set_option('display.precision',3)\ndistricts_info = pd.read_csv('..\/input\/learnplatform-covid19-impact-on-digital-learning\/districts_info.csv')\nproducts_info = pd.read_csv('..\/input\/learnplatform-covid19-impact-on-digital-learning\/products_info.csv')","b992b1f1":"##All files given in \"Engagement Data\" Folder has been combined into one\npath = '..\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data'\nall_files = glob.glob(path + \"\/*.csv\")\n\nlst = []\n\nfor filename in all_files:\n    df = pd.read_csv(filename, index_col=None, header=0)\n    df['district_id'] = int(os.path.basename(filename)[0:4])\n    lst.append(df)\n\nframe = pd.concat(lst, axis=0, ignore_index=True)","92240ab3":"##Now I will consolidate all input data into one CSV file so that we have all data at one place\n\nresult = pd.merge(frame,districts_info,on ='district_id')\nproducts_info.rename({\"LP ID\":\"lp_id\"},axis='columns',inplace = True) #To make common column name\nfinal_csv = pd.merge(result,products_info,on ='lp_id')","1236dab9":"final_csv['time'] = final_csv['time'].astype('datetime64')\nfinal_csv['month'] = pd.DatetimeIndex(final_csv['time']).month","41fe3f1c":"df=final_csv.groupby(['Product Name','month'],sort = True).engagement_index.mean().reset_index()","b82275fa":"df","462d44b4":"#We will see unique products available and their engagement\n# Month on Month graphical variation in engagement rate\nunique_prods = dict(df['Product Name'].value_counts())","4e857ca6":"for key,value in unique_prods.items():\n    if value>=10:\n        df[df['Product Name']==key].plot(kind = 'bar',x='month', y ='engagement_index',title = key)","80d3b633":"df1= final_csv[final_csv['pct_access']>0]\ndf1.groupby(['month'],sort = True).lp_id.count().reset_index().plot(x='month', y ='lp_id',title ='StudentCount')","11e139a8":"df2 = df1.groupby(['month','locale'],sort = True).lp_id.count().reset_index()","d4d955af":"df2","04a3dfa9":"#In the graph below it is visible that Most engagemnt is from \"Suburbs\" follwed by \"City\" which is distant second.\n#\"Town\" area has very low engagement rate.\ndf2.pivot(index = 'month',columns = 'locale',values = 'lp_id').plot(title = 'StudentCount by Locale')","b8d1eec1":"#Following Graph shows engagement Sector(s) wise\n#Courses offered from Pre-12 are most popular.\n#Products offered to School\/College Students and Corporate employees have large number of takers.\ndf3 = df1.groupby(['month','Sector(s)'],sort = True).lp_id.count().reset_index()\ndf3.pivot(index = 'month',columns = 'Sector(s)',values = 'lp_id').plot(figsize = (20,10),title = 'StudentCount by Sector(s)')","15db22cd":"df1.groupby(['county_connections_ratio'],sort = True).lp_id.count().reset_index()","f69f6ba2":"#Distribution based on ethinicity i.e. pct_black\/hispanic\nethinic_dist = df1.groupby(['pct_black\/hispanic'],sort = True).lp_id.count().reset_index()\nethinic_dist['%lp_id'] = ethinic_dist['lp_id']\/ethinic_dist['lp_id'].sum()\nethinic_dist.plot.barh(y='%lp_id',x='pct_black\/hispanic',title ='EthnicityDistribution')","0ac6d379":"ethinic_dist_monthly=df1.groupby(['month','pct_black\/hispanic'],sort = True).lp_id.count().reset_index()\nethinic_dist_monthly.pivot(index = 'month',columns = 'pct_black\/hispanic',values = 'lp_id').plot(ylabel ='lp_id' ,title = 'StudentCount by pct_black\/hispanic')","8310d115":"\nstate_wise = df1.groupby(['state']).lp_id.count().reset_index()\nstate_wise.sort_values('lp_id',ascending = True).plot.barh(x='state',y='lp_id',title='state wise')","3a3b8f11":"state_wise_distribution = df1.groupby(['pp_total_raw','state']).lp_id.count().reset_index()","33b45f3a":"state_expenditure= state_wise_distribution.pivot(index = 'state',columns = 'pp_total_raw',values = 'lp_id').fillna(value=0)\nstate_expenditure.sort_values('state',ascending=False).plot(kind='barh',stacked=True,figsize=(20,10),title='Per-pupil total expenditure category')","10ba4606":"#State\/Federal Expenditure in Different Category\nstate_expenditure","ae9264e0":"\nnon_zero_engagement=df1.groupby(['month','state']).lp_id.count().reset_index() #Products where engagement is seen\nall_engagement=final_csv.groupby(['month','state']).lp_id.count().reset_index() # All products","b34ede27":"merged_df = pd.merge(non_zero_engagement,all_engagement,left_on=['month','state'],right_on=['month','state'])\nmerged_df['%engagement'] = merged_df['lp_id_x']\/merged_df['lp_id_y']\nmerged_df_pivot = merged_df.pivot(index = 'state',columns = 'month', values = '%engagement')","a7d28b06":"merged_df_pivot","55f7580e":"merged_df_pivot.plot(kind='barh',stacked=True,figsize=(20,10),title='MoM %engagement')","1283ac7b":"#Now we will see what is the total product vs engagement. I.e. we will see total product vs Engagement in that product ","f30cfc21":"#Now that our data is ready, we will start exploring to answer the questions asked","5f6db9e6":"#If we see the Table and two graphs above: ##1. We dont have state expenditure data for the State \"Connecticut\" which has highest engagement ##2. \"Utah\" the state with 2nd highest engagement, has most engagement in [10000,12000[ and [6000,8000[ category ##3. \"Illinois\" and \"Massachusetts\" has high engament in expenditure category ##4. \"New York\" and \"New Jersey\" 'District of Columbia\" have expenditure in upeer category","eb9a7dbf":"#Majority of the broadband type falls in one category only. This may not give any insight on high\/low engagement ratio.","bb6f7d7a":"#States like 'North Dakota' and 'Minnesota' have engagement only for few months #States where State and Federal expenditure is in higher bucket(refer \"state_expenditure\" table above), have high conversion ratio(i.e. more page load event seen month on month)","8376a142":"#How does student engagement with online learning platforms relate to different geography? Demographic context #(e.g., race\/ethnicity, ESL, learning disability)? Learning context? Socioeconomic status?","a64e16e8":"## What is the picture of digital connectivity and engagement in 2020?\n#df1 is a Filtered Dataframe where at least one page-load event of a given product and on a given day Here it is also visible that July'20 had the lowest count for students,(i.e. count of students who did at least one page load event)","af7e0396":"#How does student engagement with different types of education technology change over the course of the pandemic? ------------Out of 369 products 346 have engagement for 10 months in a year, 322 have engagement throughout the year. For Simplicty I have plotted for products, where engagement is >10 month.Engagement pattern different for different product. Some had more engagement at start of the year, some had gain popularity in later part.Most of the product engagement was lowest in Jul'20","d9dd4ef8":"# Now we will see some State wise stats"}}