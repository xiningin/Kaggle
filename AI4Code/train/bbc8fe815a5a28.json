{"cell_type":{"9cef0400":"code","fe1350ed":"code","d452a470":"code","23260d62":"code","bf139300":"code","b7c8726e":"code","74b43c09":"code","2345d8bc":"code","aa812a53":"code","d261325f":"code","3100a295":"code","7de95ecb":"code","383ad300":"code","6c7f84d8":"code","7bc59722":"code","0f15111b":"code","09c85dad":"code","9c0f099e":"code","1154481b":"code","3752af50":"code","bafea16a":"code","71d83b4c":"code","963211b7":"code","f8d3d350":"code","2dd6a399":"code","60abc784":"code","f6bdb4f1":"code","763dc944":"code","11f6ea5a":"code","d7627e29":"code","cfaa8119":"code","a413ed8e":"code","9632c802":"markdown","dd34b3dc":"markdown","f5eb812c":"markdown","681038f8":"markdown","c4541bff":"markdown","d24fd965":"markdown","361e0c37":"markdown","918905e9":"markdown","b9bdb1e8":"markdown","42b770cb":"markdown","2df8708d":"markdown","f88fd178":"markdown","d5ce3947":"markdown","35c7d2d9":"markdown","31d4682e":"markdown","81f00c9d":"markdown","e58c1c8f":"markdown","0fa415a0":"markdown","e3d4ca18":"markdown","ada47008":"markdown","37e82f36":"markdown","47961a6e":"markdown","7153e7cc":"markdown","9fe50f81":"markdown","f4510de8":"markdown","cc5fb030":"markdown","00297e7e":"markdown","7af8e4f7":"markdown","fa7c19c5":"markdown","727f9e72":"markdown","53ce5490":"markdown","4e348fe3":"markdown","ca7ad0bb":"markdown"},"source":{"9cef0400":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nplt.style.use('fivethirtyeight')\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings('ignore')","fe1350ed":"df1 = pd.read_csv('..\/input\/us-border-crossing-data\/Border_Crossing_Entry_Data.csv')\ndf1.isnull().sum()","d452a470":"df1.head()","23260d62":"df1['Mode_of_Transportation'] = df1['Measure']\ndf1['Crossings'] = df1['Value']\ndf1 = df1.drop(columns=[\"Measure\", \"Value\"])\ndf1.head()","bf139300":"df1.dtypes","b7c8726e":"df1.nunique()","74b43c09":"df1['Crossings'].sum()","2345d8bc":"df1.groupby('State')['Crossings'].sum()","aa812a53":"df1['Total_Crossings_By_State'] = df1.groupby('State')['Crossings'].transform('sum')\ndf1[['State', 'Total_Crossings_By_State']]","d261325f":"fig = plt.figure(figsize=(12, 5))\nax = fig.add_axes([0,0,1,1])\nsns.barplot(x=df1['State'], y=df1['Total_Crossings_By_State'], ax=ax)\nplt.tight_layout()\nplt.title('Breakdown of Border Crossings by State')\nplt.show()","3100a295":"df1.groupby('Border')['Crossings'].sum()","7de95ecb":"df1['Total_Crossings_By_Border'] = df1.groupby('Border')['Crossings'].transform('sum')\ndf1['Total_Crossings_By_Border']","383ad300":"fig = plt.figure(figsize=(12, 5))\nax = fig.add_axes([0,0,1,1])\nsns.barplot(x=df1['Border'], y=df1['Total_Crossings_By_Border'], ax=ax)\nplt.tight_layout()\nplt.title('Breakdown of Border Crossings by Border')\nplt.show()","6c7f84d8":"df1['Total_Crossings_By_Border'] = df1.groupby('Border')['Crossings'].transform('sum')\ndf1[['Border', 'Total_Crossings_By_Border']]","7bc59722":"df1['Date'] = pd.to_datetime(df1['Date'])\ndf1['Year'] = df1['Date'].dt.year\ndf1['Month'] = df1['Date'].dt.month\ndf1['Day'] = df1['Date'].dt.day\ndf1 = df1.drop(columns=\"Date\")\ndf1.head()","0f15111b":"df1['Total_Crossings_By_Year'] = df1.groupby('Year')['Crossings'].transform('sum')","09c85dad":"fig = plt.figure(figsize=(12, 5))\nax = fig.add_axes([0,0,1,1])\nsns.lineplot(x=df1['Year'], y=df1['Total_Crossings_By_Year'], ax=ax)\nplt.title('Border Crossing Trends by Year')\nplt.tight_layout()\nplt.show()","9c0f099e":"canada_df = df1.loc[df1['Border'] == 'US-Canada Border']\ncanada_df.head()","1154481b":"mexico_df = df1.loc[df1['Border'] == 'US-Mexico Border']\nmexico_df.head()","3752af50":"canada_df['Canada_Crossings_By_Year'] = canada_df.groupby('Year')['Crossings'].transform('sum')\ncanada_df[['Year', 'Canada_Crossings_By_Year']]","bafea16a":"mexico_df['Mexico_Crossings_By_Year'] = mexico_df.groupby('Year')['Crossings'].transform('sum')\nmexico_df[['Year', 'Mexico_Crossings_By_Year']]","71d83b4c":"fig = plt.figure(figsize=(12, 5))\nax = fig.add_axes([0,0,1,1])\nsns.lineplot(x=df1['Year'], y=canada_df['Canada_Crossings_By_Year'], ax=ax)\nplt.title('Border Crossing Trends by Year \\n (US-Canada Border)')\nplt.tight_layout()\nplt.show()","963211b7":"df2 = pd.concat([canada_df, mexico_df], ignore_index=False)\ndf2.head()","f8d3d350":"df2['Mexico_Crossings_By_Year'].fillna('None', inplace=True)\ndf2['Canada_Crossings_By_Year'].fillna('None', inplace=True)\ndf2.isnull().sum()","2dd6a399":"df2.groupby(['State', 'Year'])['Crossings'].sum()","60abc784":"fig = plt.figure(figsize=(12, 5))\nax = fig.add_axes([0,0,1,1])\nsns.lineplot(x=df1['Year'], y=mexico_df['Mexico_Crossings_By_Year'], ax=ax)\nplt.title('Border Crossing Trends by Year \\n (US-Mexico Border)')\nplt.tight_layout()\nplt.show()","f6bdb4f1":"for i in df2['State'].unique():\n    if str(i) == 'OH':\n        pass\n    else:\n        fig = plt.figure(figsize=(12, 5))\n        ax = fig.add_axes([0,0,1,1])\n        sns.lineplot(\n            x=df2['Year'],\n            y=df2.loc[df2['State'] == str(i)]['Yearly_Crossings_By_State'],\n            ax=ax\n        )\n        plt.title(f'Yearly Crossings for {i}')\n        plt.tight_layout()\n        plt.show()","763dc944":"df2['Average_Monthly_Crossings_By_Month'] = \\\n    df2.groupby(['Border','Month'])['Crossings'].transform('mean')\n\ndf2[['Border', 'State', 'Month', 'Average_Monthly_Crossings_By_Month']]","11f6ea5a":"for i in df2['Border'].unique():\n    fig = plt.figure(figsize=(12, 5))\n    ax = fig.add_axes([0,0,1,1])\n    sns.lineplot(\n        x=df2['Month'],\n        y=df2.loc[df2['Border'] == str(i)]['Average_Monthly_Crossings_By_Month'],\n        ax=ax\n    )\n    plt.title(f'Average Monthly Crossings for the {i}')\n    plt.tight_layout()\n    plt.show()","d7627e29":"df2['Average_Monthly_Crossings_By_State']  = \\\n    df2.groupby(['State', 'Month'])['Crossings'].transform('mean')\n\ndf2[['State', 'Month', 'Average_Monthly_Crossings_By_State']]","cfaa8119":"for i in df2['State'].unique():\n    if str(i) == 'OH':\n        pass\n    else:\n        fig = plt.figure(figsize=(12, 5))\n        ax = fig.add_axes([0,0,1,1])\n        sns.lineplot(\n            x=df2['Month'],\n            y=df2.loc[df2['State'] == str(i)]['Average_Monthly_Crossings_By_State'],\n            ax=ax\n        )\n        plt.title(f'Average Monthly Crossings for {i}')\n        plt.tight_layout()\n        plt.show()","a413ed8e":"df2['Yearly_Crossings_By_State'] = \\\ndf2.groupby(['State', 'Year'])['Crossings'].transform('sum')\n\ndf2[['Year', 'State', 'Yearly_Crossings_By_State']]","9632c802":"Not let's make a line plot for each border\n--","dd34b3dc":"Answer: a lot\n---","f5eb812c":"Now I am going to check monthly trends of border crossings for each border as well as each individual state. I will do this using the total average for each month in the given border\/state\n--","681038f8":"Now that we know what the trend seems to be for overall crossings, now let's find a trend for each individual border. To do this, I'll start with making a new DF for each border.\n--","c4541bff":"Now let's look at the border crossing trends over the years\n---","d24fd965":"Checking the breakdown of crossings by border\n---","361e0c37":"Changing the name of the \"Measure\" and \"Value\" columns so that the data is a little easier to understand\n---","918905e9":"Making a new df2 that is a combination of the DF's I made for each border. By combining those two DF's I essentially have df1 + the new columns I just made to represent annual crossings by year for each specific border.\n--","b9bdb1e8":"# That's enough for today, time to play video games.","42b770cb":"# Context\n\nThis dataset contains all the incidents of crossing the border into the US as provided by the Bureau of Transportation Statistics, Govt. of the US. This dataset tells about the incoming counts into the US.\n---\n\nThis data can be useful to predict the daily or weekly or monthly or annual traffic that's going to accumulate on the borders so that the authorities can be aware of the number beforehand.\n---","2df8708d":"First, we're going to break down the \"Date\" column into 3 seperate columns for day\/month\/year\n---","f88fd178":"Creating Initial DF\n---","d5ce3947":"How many total crossings are in the dataset?\n---","35c7d2d9":"As expected per the border trends. The states on the US-Canada border have a great deal of seasonality to their crossings (most crossings are in the summer) and the US-Mexico border crossings fluctuate throughout the year.\n--","31d4682e":"Checking out what the data looks like\n---","81f00c9d":"How many different ports\/states\/borders are we working with?\n---","e58c1c8f":"To help us do a time series analysis, let's a make a new colummn for the number of crossings in the year for that given row.\n---","0fa415a0":"Lets start with the borders. I will first make a new column in df2 representing the average crossings for each month for both borders.\n--","e3d4ca18":"# Data Analysis","ada47008":"Now, let's follow the same process to check the monthly trends for each border state.\n--","37e82f36":"And now to plot the trends\n--","47961a6e":"What's the breakdown of border crossings by state?\n---","7153e7cc":"Now I will add a new column to each new DF representing the total annual crossings for that specific border\n--","9fe50f81":"Here I am making a new column that represents the crossings for each year for each state.\n--","f4510de8":"Let's make a new column for the total border crossings by state\n--","cc5fb030":"So as we can see, the US-Canada border definitely has some seasonality to it's border crossings. The US-Mexico border seems to fluctuate througout the year.\n--","00297e7e":"Let's plot a time series analysis of the crossings by year\n---","7af8e4f7":"Importing Libraries\n---","fa7c19c5":"Note that Ohio has VERY few datapoints so that trend is essentially meaningless. Because of that I am not plotting the annual trend for border crossins in to \/ out of Ohio, even though it is my home state :(\n--","727f9e72":"Now let's plot the annual crossing trends for each state in the dataset\n--","53ce5490":"Now I'm going to find the trends for each state in the dataset.\n---","4e348fe3":"Checking the data types of each column\n---","ca7ad0bb":"Making a new column for the total number of crossings in the dataset by border\n--"}}