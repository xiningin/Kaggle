{"cell_type":{"61d5adfa":"code","c552d224":"code","54cddbd1":"code","03cf1563":"code","57ec9001":"code","cb8acd23":"code","50029a6a":"code","157d3948":"code","2764d660":"code","d9c1d48f":"code","e643638d":"code","f5c9fc93":"code","954690d6":"code","3a512179":"code","6fee46f5":"code","4e33a1d9":"code","e64b255f":"code","6be9fce0":"code","f51ccc02":"code","02b4b445":"code","7f9edf3b":"code","f8bb7434":"code","cd7d8e71":"code","3a94e3ce":"code","ecae0831":"code","e836fdea":"code","8b8dff7e":"code","e8bee0be":"code","68dfdf77":"code","3fd68083":"code","d414adc6":"code","984aee4b":"code","07cf1965":"code","a93b34c7":"code","99dc8389":"code","d75f68a4":"code","d434848d":"code","7ba15288":"code","be3cab7c":"code","57196526":"code","35149202":"code","e3f541a0":"code","7db1bccc":"code","78534643":"code","f697bded":"code","7045c976":"code","e830680a":"code","52691426":"code","16a53f34":"code","29fa5d54":"code","f2495aae":"code","6a7d7a83":"code","eda54395":"code","582690b8":"code","25b24be3":"code","e882899e":"code","0fee4889":"code","ffbad4fe":"code","8e6316e6":"code","b1c18c2c":"code","8e181715":"code","39bd198b":"code","2086d7c6":"code","1af85f30":"code","0895f63c":"code","f807712b":"code","1b8a7670":"code","84ad359b":"code","58911218":"code","5244d0d9":"code","ee003265":"code","1e3b6e8c":"code","3d6ff295":"code","0d14b09b":"code","bb700d5d":"code","f74aeef0":"code","a4e24406":"code","4b2e1251":"code","5b0e2f28":"code","6c5b4592":"code","dcc67f0a":"code","9b9be10b":"code","3510986b":"markdown","4dc33ebb":"markdown","fad2e4f2":"markdown","84c5089a":"markdown","d3133e45":"markdown","7a22a86d":"markdown","2d8194f2":"markdown","c54ce0ec":"markdown","9ff76838":"markdown","359c9876":"markdown","3b402be9":"markdown","8f7f3bc0":"markdown","ff213a9f":"markdown","0ef84706":"markdown","ebce0700":"markdown","f1e96935":"markdown","2c92f77a":"markdown","97879a1c":"markdown","9baf9ef1":"markdown","c3038981":"markdown","69bd9d10":"markdown","f985559e":"markdown","bd5730e7":"markdown","3195e108":"markdown","882bbc92":"markdown","2be6e564":"markdown","408d7694":"markdown","99d9e8f5":"markdown","6d5a4d68":"markdown","1baa32db":"markdown","aab5394e":"markdown","f23f210f":"markdown","f8f3beca":"markdown","1a5c6f13":"markdown","8e912261":"markdown","b12c10a6":"markdown"},"source":{"61d5adfa":"import pandas as pd\nimport numpy as np\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.ensemble import RandomForestRegressor, GradientBoostingRegressor\nfrom sklearn.model_selection import GridSearchCV, train_test_split\nfrom sklearn.preprocessing import MinMaxScaler\nfrom matplotlib import pyplot as plt\nimport matplotlib.ticker as ticker\nfrom sklearn.metrics import r2_score, mean_absolute_error, mean_squared_error\nfrom sklearn.model_selection import cross_val_score\nfrom random import randint\nimport seaborn as sns\nfrom sklearn.cluster import KMeans\n\nplt.style.use('fivethirtyeight')\n%config InlineBackend.figure_format = 'svg'\n%matplotlib inline","c552d224":"df = pd.read_csv('\/kaggle\/input\/realestatepriceprediction\/train.csv')\ndf.head()","54cddbd1":"# \u0412\u044b\u0431\u043e\u0440 \u0438 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u044f\u0432\u043d\u043e \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445\ndf.loc[df['Rooms']==19,'Rooms']=1\ndf.loc[df['Rooms']==10,'Rooms']=2\ndf.loc[df['Rooms']==6,'Rooms']=2\ndf.loc[(df['Rooms']==5) & (df['Square']<50),'Rooms']=2\n\ndf.loc[(df['Square']>400),'Square']=df.loc[(df['Square']>400),'Square']\/10\ndf.loc[(df['LifeSquare']>400),'LifeSquare']=df.loc[(df['LifeSquare']>400),'LifeSquare']\/10\ndf.loc[(df['KitchenSquare']>25) & (df['KitchenSquare']>df['LifeSquare']),'KitchenSquare'] = df.loc[(df['KitchenSquare']>25) & (df['KitchenSquare']>df['LifeSquare']),'KitchenSquare']\/10\ndf.loc[(df['KitchenSquare']>25) & (df['KitchenSquare']>df['Square']-df['Square']\/10),'KitchenSquare'] = df.loc[(df['KitchenSquare']>25) & (df['KitchenSquare']>df['Square']-df['Square']\/10),'KitchenSquare']\/10\ndf.loc[(df['KitchenSquare']>25)& (df['Square']<100),'KitchenSquare'] = df.loc[(df['KitchenSquare']>25)& (df['Square']<100),'KitchenSquare']\/10+10\ndf.loc[(df['Floor']>df['HouseFloor']) & (df['HouseFloor']==0),'HouseFloor'] = df.loc[(df['Floor']>df['HouseFloor']) & (df['HouseFloor']==0),'Floor']\ndf.loc[df['Floor']>df['HouseFloor'],'Floor'] = df.loc[:,'Floor'].quantile(0.5)\ndf.loc[df['Floor']>df['HouseFloor'],'HouseFloor'] = df.loc[:,'HouseFloor'].quantile(0.5)\ndf.loc[df['LifeSquare']<1,'LifeSquare'] = df.loc[df['LifeSquare']<1,'LifeSquare']*100\ndf.loc[df['LifeSquare']<10,'LifeSquare'] = df.loc[df['LifeSquare']<10,'LifeSquare']*10\ndf.loc[df['Square']<1,'Square'] = df.loc[df['Square']<1,'Square']*100\ndf.loc[df['Square']<10,'Square']= df.loc[df['Square']<10,'Square']*10\ndf.loc[df['KitchenSquare']<1,'KitchenSquare']=df.loc[df['KitchenSquare']<1,'KitchenSquare']*100\ndf.loc[df['KitchenSquare']<2,'KitchenSquare']=df.loc[df['KitchenSquare']<2,'KitchenSquare']*10\ndf.loc[(df['LifeSquare']>200) & (df['Square']<100),'LifeSquare']=df.loc[(df['LifeSquare']>200) & (df['Square']<100),'LifeSquare']\/10\n# \u043e\u0441\u0442\u0430\u0432\u0448\u0438\u0435\u0441\u044f \u0441\u043b\u0443\u0447\u0430\u0438, \u043a\u043e\u0433\u0434\u0430 \u043e\u0431\u0449\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u0436\u0438\u043b\u0443\u044e \u0440\u0435\u0448\u0430\u0435\u0442\u0441\u044f \u043e\u0431\u043c\u0435\u043d\u043e\u043c \u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439\nfor i in df.loc[df['LifeSquare']>df['Square'],'Id']:\n    n=df.loc[df['Id']==i,'LifeSquare']\n    m=df.loc[df['Id']==i,'Square']\n    df.loc[df['Id']==i,'LifeSquare']=m\n    df.loc[df['Id']==i,'Square']=n","03cf1563":"# \u0431\u0435\u0440\u0435\u043c \u0441\u0440\u0435\u0434\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f LifeSquare \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0440\u0430\u0439\u043e\u043d\u0443 - \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c \u0438\u0445 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445\ndf['LifeSquare']=df['LifeSquare'].fillna(df.groupby('Rooms')['LifeSquare'].transform('mean'))","57ec9001":"# \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u0442 \u043f\u043e\u0441\u0442\u0440\u043e\u0439\u043a\u0438\ndf.loc[df['HouseYear']==20052011,'HouseYear'] = 2011 # \u043a\u0430\u043a\u0443\u044e \u0438\u0437 \u0434\u0432\u0443\u0445 \u043f\u044b\u0442\u0430\u043b\u0438\u0441\u044c \u043d\u0430 \u0441\u0430\u043c\u043e\u043c \u0434\u0435\u043b\u0435 \u0432\u0432\u0435\u0441\u0442\u0438 \u043f\u043e\u043d\u044f\u0442\u044c \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e; \u043f\u0440\u043e\u0441\u0442\u043e \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u043c \u043e\u0434\u043d\u0443 \u0438\u0437 \u0434\u0432\u0443\u0445\ndf.loc[df['HouseYear']==4968,'HouseYear'] = 1968 # \u0431\u044b\u043b\u0430 \u044f\u0432\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430: \u0432\u043c\u0435\u0441\u0442\u043e '1' \u0432\u0432\u0435\u043b\u0438 '4'","cb8acd23":"df_cat = pd.get_dummies(df.select_dtypes(include='object'),columns = df.select_dtypes(include='object').columns)\ndf_cat['Price']=df['Price']\nplt.plot(df_cat.groupby('Ecology_2_A').mean().index,df_cat.groupby('Ecology_2_A').mean()['Price'])\nplt.plot(df_cat.groupby('Ecology_3_B').mean().index,df_cat.groupby('Ecology_3_B').mean()['Price'])\nplt.plot(df_cat.groupby('Shops_2_A').mean().index,df_cat.groupby('Shops_2_A').mean()['Price'])\nplt.legend(labels=['Ecology_2_A', 'Ecology_3_B','Shops_2_A'],loc='upper right')\n\nplt.show()","50029a6a":"plt.plot(df_cat.groupby('Ecology_2_B').mean().index,df_cat.groupby('Ecology_2_B').mean()['Price'])\nplt.plot(df_cat.groupby('Ecology_3_A').mean().index,df_cat.groupby('Ecology_3_A').mean()['Price'])\nplt.plot(df_cat.groupby('Shops_2_B').mean().index,df_cat.groupby('Shops_2_B').mean()['Price'])\nplt.legend(labels=['Ecology_2_B', 'Ecology_3_A','Shops_2_B'],loc='upper right')\n\nplt.show()","157d3948":"x_eco3=df.loc[df['Ecology_3']=='A','Ecology_3'].count()\nx_eco2=df.loc[df['Ecology_2']=='A','Ecology_2'].count()\nx_shop2=df.loc[df['Shops_2']=='A','Shops_2'].count()\nprint (f'\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0439 A \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 Shops_2: {x_shop2}\\n\\\n\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0439 A \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 Ecology_2: {x_eco2}\\n\\\n\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0439 A \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 Ecology_3: {x_eco3}')","2764d660":"# \u0421\u0442\u043e\u043b\u0431\u0446\u044b Ecology_3, Ecology_2, Shops_2 \u0438\u043c\u0435\u044e\u0442 \u0442\u043e\u043b\u044c\u043a\u043e 2 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u0434\u0435\u043b\u0430\u0442\u044c \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u0438 dummies \u043d\u0435\u0442 \u0441\u043c\u044b\u0441\u043b\u0430\n# \u0412\u043c\u0435\u0441\u0442\u043e \u044d\u0442\u043e\u0433\u043e \u043f\u0440\u0438\u043c\u0435\u043c, \u0447\u0442\u043e \u0447\u0430\u0441\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 A \/ B \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f 1\/0\/-1. \u041e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u044b\u0431\u043e\u0440\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 - \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u043d\u0430\u043b\u0438\u0437;\n# \u0446\u0435\u043b\u044c\u044e \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u0448\u043a\u0430\u043b\u044b, \u0440\u043e\u0441\u0442 \u043e\u0446\u0435\u043d\u043a\u0438 \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0432\u043e\u0432\u0430\u043b \u0431\u044b \u0440\u043e\u0441\u0442\u0443 \u0446\u0435\u043d\u044b.\ndf.loc[df['Ecology_3']=='A','Ecology_3']=0\ndf.loc[df['Ecology_3']=='B','Ecology_3']=-1\ndf.loc[df['Ecology_2']=='A','Ecology_2']=0\ndf.loc[df['Ecology_2']=='B','Ecology_2']=1\ndf.loc[df['Shops_2']=='A','Shops_2']=0\ndf.loc[df['Shops_2']=='B','Shops_2']=1 #","d9c1d48f":"# \u0428\u043a\u0430\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445; \u043d\u0430 \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0440\u0430\u0437\u043d\u044b\u0435 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f;\n# \u0447\u0442\u043e\u0431\u044b \u0440\u0430\u0437\u043d\u044b\u0439 \u043c\u0430\u0441\u0448\u0442\u0430\u0431 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043d\u0435 \u0432\u043b\u0438\u044f\u043b \u043d\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b - \u0441\u0440\u0430\u0437\u0443 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u043c \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\ndata_scaler = MinMaxScaler(copy = False)\n# \u0432 \u043f\u0435\u0440\u0432\u043e\u043c (\u0438\u043d\u0434\u0435\u043a\u0441 = 0) \u0441\u0442\u043e\u043b\u0431\u0446\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442\u0441\u044f \u043f\u043e\u043b\u0435 Id; \u0435\u0433\u043e \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e\ndf_scaled = pd.DataFrame(data_scaler.fit_transform(df.iloc[:,1:-1]),columns = df.iloc[:,1:-1].columns)\ndf.iloc[:,1:-1] = df_scaled","e643638d":"df.groupby(df['Shops_2']+df['Ecology_2']+df['Ecology_3']).mean()","f5c9fc93":"df['Score'] = df['Shops_2']+df['Ecology_2']+df['Ecology_3']","954690d6":"plt.bar(df.groupby('Score').mean().index,df.groupby('Score').mean()['Price'])","3a512179":"plt.bar(df.groupby('Score').mean().index,df.groupby('Score').mean()['Social_1'])","6fee46f5":"plt.bar(df.groupby('Score').mean().index,df.groupby('Score').mean()['Helthcare_2'])","4e33a1d9":"plt.bar(df.groupby('Score').mean().index,df.groupby('Score').mean()['Shops_1'])","e64b255f":"plt.bar(df.groupby('Score').mean().index,df.groupby('Score').mean()['Ecology_1'])","6be9fce0":"fig, ax = plt.subplots()\nax.hist(df.loc[df['Rooms']!=0,'Square']\/df.loc[df['Rooms']!=0,'Rooms'],bins=100)\nax.xaxis.set_major_locator(ticker.MultipleLocator(0.2))","f51ccc02":"np.percentile(df.loc[df['Rooms']!=0,'Square']\/df.loc[df['Rooms']!=0,'Rooms'], [0, 5, 75, 95, 100])","02b4b445":"x0=np.percentile(df.loc[df['Rooms']!=0,'Square']\/df.loc[df['Rooms']!=0,'Rooms'], [0, 5, 75, 95, 100])\n\ndf['Square_Rooms_group']=''\ndf.loc[(df['Square']\/df['Rooms'])<x0[1],'Square_Rooms_group']=1\ndf.loc[(df['Square']\/df['Rooms']>=x0[1])&(df['Square']\/df['Rooms']<x0[2]),'Square_Rooms_group']=3\ndf.loc[(df['Square']\/df['Rooms']>=x0[2])&(df['Square']\/df['Rooms']<x0[3]),'Square_Rooms_group']=2\ndf.loc[df['Square']\/df['Rooms']>=x0[3],'Square_Rooms_group']=4\ndf.loc[df['Rooms']==0,'Square_Rooms_group']=4\ndf2 = df.groupby('Square_Rooms_group').mean()\nplt.plot(df2.index,df2['Price'])\nplt.show()","7f9edf3b":"df1 = df.groupby('Price').mean()\nplt.hist(df1.sort_values('Rooms')['Rooms'],bins=20,density=True)\nplt.show()","f8bb7434":"np.percentile(df['Rooms'], [0, 25, 80, 98.5, 100])","cd7d8e71":"x1=np.percentile(df['Rooms'], [0, 25, 80, 98.5, 100])\ndf['Rooms_group']=''\ndf.loc[df['Rooms']<x1[1],'Rooms_group']=1\ndf.loc[(df['Rooms']>=x1[1])&(df['Rooms']<=x1[2]),'Rooms_group']=2\ndf.loc[(df['Rooms']>x1[2])&(df['Rooms']<=x1[3]),'Rooms_group']=3\ndf.loc[df['Rooms']>x1[3],'Rooms_group']=4\n\ndf2 = df.groupby('Rooms_group').mean()\nplt.plot(df2.index,df2['Price'])\nplt.show()","3a94e3ce":"df1 = df.groupby('Price').mean()\nplt.hist(df1.sort_values('Floor')['Floor'],bins=20)\nplt.show()","ecae0831":"np.percentile(df['Floor'], [0, 30, 65, 95, 100])","e836fdea":"x2=np.percentile(df['Floor'], [0, 30, 65, 95, 100])\ndf['Floor_group']=''\ndf.loc[df['Floor']<x2[1],'Floor_group']=1\ndf.loc[(df['Floor']>=x2[1])&(df['Floor']<x2[2]),'Floor_group']=2\ndf.loc[(df['Floor']>=x2[2])&(df['Floor']<x2[3]),'Floor_group']=3\ndf.loc[df['Floor']>=x2[3],'Floor_group']=4\n\ndf2 = df.groupby('Floor_group').mean()\nplt.plot(df2.index,df2['Price'])\nplt.show()","8b8dff7e":"df1 = df.groupby('Price').mean()\nfig, ax = plt.subplots()\nax.hist(df1.sort_values('Square')['Square'],bins=20)\nax.xaxis.set_major_locator(ticker.MultipleLocator(0.1))\nplt.show()","e8bee0be":"np.percentile(df['Square'], [0, 1, 50, 90, 100])","68dfdf77":"x3=np.percentile(df['Square'], [0, 1, 50, 90, 100])\ndf['Square_group']=''\ndf.loc[df['Square']<x3[1],'Square_group']=1\ndf.loc[(df['Square']>=x3[1])&(df['Square']<x3[2]),'Square_group']=2\ndf.loc[(df['Square']>=x3[2])&(df['Square']<x3[3]),'Square_group']=3\ndf.loc[df['Square']>=x3[3],'Square_group']=4\n\ndf2 = df.groupby('Square_group').mean()\nplt.plot(df2.index,df2['Price'])\nplt.show()","3fd68083":"df1 = df.groupby('Price').mean()\nfig, ax = plt.subplots()\nax.hist(df1.sort_values('LifeSquare')['LifeSquare'],bins=20)\nax.xaxis.set_major_locator(ticker.MultipleLocator(10))\nplt.show()","d414adc6":"np.percentile(df['LifeSquare'], [0, 8, 80, 90, 100])","984aee4b":"x4=np.percentile(df['LifeSquare'], [0, 8, 80, 90, 100])\ndf['LifeSquare_group']=''\ndf.loc[df['LifeSquare']<x4[1],'LifeSquare_group']=1\ndf.loc[(df['LifeSquare']>=x4[1])&(df['LifeSquare']<x4[2]),'LifeSquare_group']=2\ndf.loc[(df['LifeSquare']>=x4[2])&(df['LifeSquare']<x4[3]),'LifeSquare_group']=3\ndf.loc[df['LifeSquare']>=x4[3],'LifeSquare_group']=4\n\ndf2 = df.groupby('LifeSquare_group').mean()\nplt.plot(df2.index,df2['Price'])\nplt.show()","07cf1965":"df1 = df.groupby('Price').mean()\nfig, ax = plt.subplots()\nax.hist(df1.sort_values('Helthcare_2')['Helthcare_2'],bins=20)\nax.xaxis.set_major_locator(ticker.MultipleLocator(0.5))\nplt.show()","a93b34c7":"np.percentile(df['Helthcare_2'], [0, 50, 75, 90, 100])","99dc8389":"x5=np.percentile(df['Helthcare_2'], [0, 50, 75, 90, 100])\ndf['Helthcare_2_group']=''\ndf.loc[df['Helthcare_2']<x5[1],'Helthcare_2_group']=1\ndf.loc[(df['Helthcare_2']>=x5[1])&(df['Helthcare_2']<=x5[2]),'Helthcare_2_group']=3\ndf.loc[(df['Helthcare_2']>x5[2])&(df['Helthcare_2']<=x5[3]),'Helthcare_2_group']=2\ndf.loc[df['Helthcare_2']>x5[3],'Helthcare_2_group']=4\n\ndf2 = df.groupby('Helthcare_2_group').mean()\nplt.plot(df2.index,df2['Price'])\nplt.show()","d75f68a4":"df1 = df.groupby('Price').mean()\nfig, ax = plt.subplots()\nax.hist(df1.sort_values('HouseYear')['HouseYear'],bins=20)\nax.xaxis.set_major_locator(ticker.MultipleLocator(10))\nplt.show()","d434848d":"np.percentile(df['HouseYear'], [0, 10, 60, 75, 100])","7ba15288":"x6=np.percentile(df['HouseYear'], [0, 10, 60, 75, 100])\ndf['HouseYear_group']=''\ndf.loc[df['HouseYear']<x6[1],'HouseYear_group']=4\ndf.loc[(df['HouseYear']>=x6[1])&(df['HouseYear']<x6[2]),'HouseYear_group']=1\ndf.loc[(df['HouseYear']>=x6[2])&(df['HouseYear']<x6[3]),'HouseYear_group']=3\ndf.loc[df['HouseYear']>=x6[3],'HouseYear_group']=2\n\ndf2 = df.groupby('HouseYear_group').mean()\nplt.plot(df2.index,df2['Price'])\nplt.show()","be3cab7c":"df1 = df.groupby('Price').mean()\nfig, ax = plt.subplots()\nax.hist(df1['HouseFloor'],bins=20)\nax.xaxis.set_major_locator(ticker.MultipleLocator(0.1))\nplt.show()","57196526":"np.percentile(df['HouseFloor'], [0, 12, 87, 95, 100])","35149202":"x7=np.percentile(df['HouseFloor'], [0, 12, 87, 95, 100])\ndf['HouseFloor_group']=''\ndf.loc[df['HouseFloor']<x7[1],'HouseFloor_group']=1\ndf.loc[(df['HouseFloor']>=x7[1])&(df['HouseFloor']<x7[2]),'HouseFloor_group']=2\ndf.loc[(df['HouseFloor']>=x7[2])&(df['HouseFloor']<x7[3]),'HouseFloor_group']=4\ndf.loc[df['HouseFloor']>=x7[3],'HouseFloor_group']=3\n\ndf2 = df.groupby('HouseFloor_group').mean()\nplt.plot(df2.index,df2['Price'])\nplt.show()","e3f541a0":"df1 = df.groupby('Price').mean()\nfig, ax = plt.subplots()\nax.hist(df1['Ecology_1'],bins=20)\nax.xaxis.set_major_locator(ticker.MultipleLocator(0.2))\nplt.show()","7db1bccc":"np.percentile(df['Ecology_1'], [0, 45, 73, 96.4, 100])","78534643":"x8=np.percentile(df['Ecology_1'], [0, 45, 73, 96.4, 100])\ndf['Ecology_1_group']=''\ndf.loc[df['Ecology_1']<x8[1],'Ecology_1_group']=4\ndf.loc[(df['Ecology_1']>=x8[1])&(df['Ecology_1']<x8[2]),'Ecology_1_group']=3\ndf.loc[(df['Ecology_1']>=x8[2])&(df['Ecology_1']<x8[3]),'Ecology_1_group']=2\ndf.loc[df['Ecology_1']>=x8[3],'Ecology_1_group']=1\n\ndf2 = df.groupby('Ecology_1_group').mean()\nplt.plot(df2.index,df2['Price'])\nplt.show()","f697bded":"df1 = df.groupby('Price').mean()\nfig, ax = plt.subplots()\nax.hist(df1['Shops_1'],bins=20)\nax.xaxis.set_major_locator(ticker.MultipleLocator(0.2))\nplt.show()","7045c976":"np.percentile(df['Shops_1'], [0, 36.4052, 80, 97.5, 100])","e830680a":"x9=np.percentile(df['Shops_1'], [0, 36.4052, 80, 97.5, 100])\ndf['Shops_1_group']=''\ndf.loc[df['Shops_1']<x9[1],'Shops_1_group']=1\ndf.loc[(df['Shops_1']>=x9[1])&(df['Shops_1']<x9[2]),'Shops_1_group']=3\ndf.loc[(df['Shops_1']>=x9[2])&(df['Shops_1']<x9[3]),'Shops_1_group']=4\ndf.loc[df['Shops_1']>=x9[3],'Shops_1_group']=2\n\ndf2 = df.groupby('Shops_1_group').mean()\nplt.plot(df2.index,df2['Price'])\nplt.show()","52691426":"df1 = df.groupby('Price').mean()\nfig, ax = plt.subplots()\nax.hist(df1['Social_1'],bins=20)\nax.xaxis.set_major_locator(ticker.MultipleLocator(0.2))\nplt.show()","16a53f34":"np.percentile(df['Social_1'], [0, 31, 55, 86, 100])","29fa5d54":"x10=np.percentile(df['Social_1'], [0, 31, 55, 86, 100])\ndf['Social_1_group']=''\ndf.loc[df['Social_1']<x10[1],'Social_1_group']=1\ndf.loc[(df['Social_1']>=x10[1])&(df['Social_1']<x10[2]),'Social_1_group']=4\ndf.loc[(df['Social_1']>=x10[2])&(df['Social_1']<x10[3]),'Social_1_group']=2\ndf.loc[df['Social_1']>=x10[3],'Social_1_group']=3\n\ndf2 = df.groupby('Social_1_group').mean()\nplt.plot(df2.index,df2['Price'])\nplt.show()","f2495aae":"df1 = df.groupby('Price').mean()\nfig, ax = plt.subplots()\nax.hist(df1['Social_2'],bins=20)\nax.xaxis.set_major_locator(ticker.MultipleLocator(0.2))\nplt.show()","6a7d7a83":"np.percentile(df['Social_2'], [0, 32, 84, 94, 100])","eda54395":"x11=np.percentile(df['Social_2'], [0, 32, 84, 94, 100])\ndf['Social_2_group']=''\ndf.loc[df['Social_2']<x11[1],'Social_2_group']=1\ndf.loc[(df['Social_2']>=x11[1])&(df['Social_2']<x11[2]),'Social_2_group']=3\ndf.loc[(df['Social_2']>=x11[2])&(df['Social_2']<x11[3]),'Social_2_group']=2\ndf.loc[df['Social_2']>=x11[3],'Social_2_group']=4\n\ndf2 = df.groupby('Social_2_group').mean()\nplt.plot(df2.sort_values('Price').index,df2.sort_values('Price')['Price'])\nplt.show()","582690b8":"df1 = df.groupby('Price').mean()\nfig, ax = plt.subplots()\nax.hist(df1['Social_3'],bins=20)\nax.xaxis.set_major_locator(ticker.MultipleLocator(0.2))\nplt.show()","25b24be3":"df1 = df.groupby('Price').mean()\nfig, ax = plt.subplots()\nax.hist(df1['Shops_2'],bins=20)\nax.xaxis.set_major_locator(ticker.MultipleLocator(0.2))\nplt.show()","e882899e":"df['Score_2']=df['Square_Rooms_group']+df['Shops_1_group']+df['Helthcare_2_group']+df['HouseYear_group']+df['Rooms_group']+df['Floor_group']+df['Square_group']+df['LifeSquare_group']+df['HouseFloor_group']+df['Ecology_1_group']+df['Shops_1_group']+df['Social_2_group']+df['Social_1_group']","0fee4889":"plt.plot(df.groupby('Score_2').mean().index,df.groupby('Score_2').mean()['Price'])","ffbad4fe":"df.info()","8e6316e6":"df.head()","b1c18c2c":"features = list(df.columns)\nprint(features)","8e181715":"features = list(df.columns)\nfeatures.remove('Id')\nfeatures.remove('Price')\nfeatures.remove('Healthcare_1')\nfeatures.remove('Rooms_group')\nfeatures.remove('Floor_group')\nfeatures.remove('Square_group')\nfeatures.remove('Square_Rooms_group')\nfeatures.remove('Helthcare_2_group')\nfeatures.remove('LifeSquare_group')\nfeatures.remove('HouseYear_group')\nfeatures.remove('HouseFloor_group')\nfeatures.remove('Ecology_1_group')\nfeatures.remove('Shops_1_group')\nfeatures.remove('Ecology_2')\nfeatures.remove('Ecology_3')\nfeatures.remove('Shops_2')\nfeatures.remove('Social_1_group')\nfeatures.remove('Social_2_group')\n\nprint(features)","39bd198b":"target = df['Price']\ndata_full = df[features].copy()","2086d7c6":"kmeans_model = KMeans(random_state=881)\nkmeans_scaler = MinMaxScaler(copy = False)\ndf_kmeans = kmeans_scaler.fit_transform(data_full[['DistrictId','Ecology_1','Social_1','Social_3','Helthcare_2','Shops_1']])\nkmeans_labels = kmeans_model.fit_predict(df_kmeans)\n\ndata_full.insert(16,'Clusters',kmeans_labels)","1af85f30":"df.insert(15,'Clusters',kmeans_labels)\nsns.barplot(df.groupby('Clusters').mean().index,df.groupby('Clusters').mean()['Price'])\nplt.show()","0895f63c":"data_full.head()","f807712b":"features.append('Clusters')\nfeatures.remove('Social_2')\ntarget = df['Price']\ndata_full = df[features].copy()","1b8a7670":"#### \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c minmaxscaler \u0447\u0442\u043e\u0431\u044b \u0443\u0431\u0435\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0434\u0430\u043d\u043d\u044b\u0435 \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u044b, \u0442.\u043a. \u043c\u043d\u043e\u0433\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0431\u044b\u043b\u043e \u0441\u0434\u0435\u043b\u0430\u043d\u043e \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445\nscaler = MinMaxScaler(copy = False)\nx_train, x_test, y_train, y_test = train_test_split(data_full, target, shuffle = True, test_size = 0.3, random_state = 90)\nx_train_scaled = scaler.fit_transform(x_train)\nx_test_scaled = scaler.transform(x_test)\n#### \u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043b\u044f \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u043c\u043e\u0434\u0435\u043b\u0438 \u0431\u044b\u043b\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c GridSearchCV; \u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 gs_cv.\ngs_cv = GradientBoostingRegressor(n_estimators=5000,learning_rate=0.01,max_depth=4,min_samples_leaf=2,min_samples_split=3,subsample=0.6)\ngs_cv.fit(x_train_scaled,y_train)\ny_train_hat=gs_cv.predict(x_train_scaled)\ny_hat=gs_cv.predict(x_test_scaled)","84ad359b":"# \u0412\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0430\u043d\u0438\u0439: \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0441 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438.\ndef evaluate_preds(true_values,pred_values):\n    print('R2\\t'+str(round(r2_score(true_values,pred_values),3))+'\\n'+\n          'MAE\\t'+str(round(mean_absolute_error(true_values,pred_values),3))+'\\n'+\n          'MSE\\t'+str(round(mean_squared_error(true_values,pred_values),3)))\n    plt.figure(figsize=(10,10))\n    sns.scatterplot(x=pred_values,y=true_values)\n    plt.xlabel('\u0420\u0430\u0441\u0441\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f')\n    plt.ylabel('\u0420\u0435\u0430\u043b\u044c\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f')\n    plt.title('\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u0440\u0430\u0441\u0447\u0435\u0442\u0430: \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0441 \u0440\u0435\u0430\u043b\u044c\u043d\u044b\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u043c\u0438')\n    plt.show()","58911218":"y_train_hat=gs_cv.predict(x_train_scaled)\nevaluate_preds(y_train,y_train_hat)","5244d0d9":"y_hat=gs_cv.predict(x_test_scaled)\nevaluate_preds(y_test,y_hat)","ee003265":"df_to_test = pd.read_csv('\/kaggle\/input\/realestatepriceprediction\/test.csv')\ndf_to_test.head()","1e3b6e8c":"df_to_test.describe()","3d6ff295":"# \u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0442\u0435\u0445 \u0436\u0435 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0439, \u0447\u0442\u043e \u0438 \u0441 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u043e\u0439 \u0431\u0430\u0437\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445\n# \u0412\u044b\u0431\u043e\u0440 \u0438 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u044f\u0432\u043d\u043e \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445\ndf_to_test.loc[df_to_test['Rooms']==19,'Rooms']=1\ndf_to_test.loc[df_to_test['Rooms']==10,'Rooms']=2\ndf_to_test.loc[df_to_test['Rooms']==6,'Rooms']=2\ndf_to_test.loc[(df_to_test['Rooms']==5) & (df_to_test['Square']<50),'Rooms']=2\n\ndf_to_test.loc[(df_to_test['Square']>400),'Square']=df_to_test.loc[(df_to_test['Square']>400),'Square']\/10\ndf_to_test.loc[(df_to_test['LifeSquare']>400),'LifeSquare']=df_to_test.loc[(df_to_test['LifeSquare']>400),'LifeSquare']\/10\ndf_to_test.loc[(df_to_test['KitchenSquare']>25) & (df_to_test['KitchenSquare']>df_to_test['LifeSquare']),'KitchenSquare'] = df_to_test.loc[(df_to_test['KitchenSquare']>25) & (df_to_test['KitchenSquare']>df_to_test['LifeSquare']),'KitchenSquare']\/10\ndf_to_test.loc[(df_to_test['KitchenSquare']>25) & (df_to_test['KitchenSquare']>df_to_test['Square']-df_to_test['Square']\/10),'KitchenSquare'] = df_to_test.loc[(df_to_test['KitchenSquare']>25) & (df_to_test['KitchenSquare']>df_to_test['Square']-df_to_test['Square']\/10),'KitchenSquare']\/10\ndf_to_test.loc[(df_to_test['KitchenSquare']>25)& (df_to_test['Square']<100),'KitchenSquare'] = df_to_test.loc[(df_to_test['KitchenSquare']>25)& (df_to_test['Square']<100),'KitchenSquare']\/10+10\ndf_to_test.loc[(df_to_test['Floor']>df_to_test['HouseFloor']) & (df_to_test['HouseFloor']==0),'HouseFloor'] = df_to_test.loc[(df_to_test['Floor']>df_to_test['HouseFloor']) & (df_to_test['HouseFloor']==0),'Floor']\ndf_to_test.loc[df_to_test['Floor']>df_to_test['HouseFloor'],'Floor'] = df_to_test.loc[:,'Floor'].quantile(0.5)\ndf_to_test.loc[df_to_test['Floor']>df_to_test['HouseFloor'],'HouseFloor'] = df_to_test.loc[:,'HouseFloor'].quantile(0.5)\ndf_to_test.loc[df_to_test['LifeSquare']<1,'LifeSquare'] = df_to_test.loc[df_to_test['LifeSquare']<1,'LifeSquare']*100\ndf_to_test.loc[df_to_test['LifeSquare']<10,'LifeSquare'] = df_to_test.loc[df_to_test['LifeSquare']<10,'LifeSquare']*10\ndf_to_test.loc[df_to_test['Square']<1,'Square'] = df_to_test.loc[df_to_test['Square']<1,'Square']*100\ndf_to_test.loc[df_to_test['Square']<10,'Square']= df_to_test.loc[df_to_test['Square']<10,'Square']*10\ndf_to_test.loc[df_to_test['KitchenSquare']<1,'KitchenSquare']=df_to_test.loc[df_to_test['KitchenSquare']<1,'KitchenSquare']*100\ndf_to_test.loc[df_to_test['KitchenSquare']<2,'KitchenSquare']=df_to_test.loc[df_to_test['KitchenSquare']<2,'KitchenSquare']*10\ndf_to_test.loc[(df_to_test['LifeSquare']>200) & (df_to_test['Square']<100),'LifeSquare']=df_to_test.loc[(df_to_test['LifeSquare']>200) & (df_to_test['Square']<100),'LifeSquare']\/10\n# \u043e\u0441\u0442\u0430\u0432\u0448\u0438\u0435\u0441\u044f \u0441\u043b\u0443\u0447\u0430\u0438, \u043a\u043e\u0433\u0434\u0430 \u043e\u0431\u0449\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u0436\u0438\u043b\u0443\u044e \u0440\u0435\u0448\u0430\u0435\u0442\u0441\u044f \u043e\u0431\u043c\u0435\u043d\u043e\u043c \u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439\nfor i in df_to_test.loc[df_to_test['LifeSquare']>df_to_test['Square'],'Id']:\n    n=df_to_test.loc[df_to_test['Id']==i,'LifeSquare']\n    m=df_to_test.loc[df_to_test['Id']==i,'Square']\n    df_to_test.loc[df_to_test['Id']==i,'LifeSquare']=m\n    df_to_test.loc[df_to_test['Id']==i,'Square']=n\n\ndf_to_test['LifeSquare']=df_to_test['LifeSquare'].fillna(df_to_test.groupby('Rooms')['LifeSquare'].transform('mean'))\n\ndf_to_test.loc[df_to_test['Ecology_3']=='A','Ecology_3']=0\ndf_to_test.loc[df_to_test['Ecology_3']=='B','Ecology_3']=-1\ndf_to_test.loc[df_to_test['Ecology_2']=='A','Ecology_2']=0\ndf_to_test.loc[df_to_test['Ecology_2']=='B','Ecology_2']=1\ndf_to_test.loc[df_to_test['Shops_2']=='A','Shops_2']=0\ndf_to_test.loc[df_to_test['Shops_2']=='B','Shops_2']=1\ndf_to_test.head()","0d14b09b":"df_scaled = pd.DataFrame(data_scaler.transform(df_to_test.iloc[:,1:]),columns = df_to_test.iloc[:,1:].columns)\ndf_to_test.iloc[:,1:] = df_scaled\ndf_to_test.head()","bb700d5d":"df_to_test.info()","f74aeef0":"df_to_test['Square_Rooms_group']=''\ndf_to_test.loc[(df_to_test['Square']\/df_to_test['Rooms'])<x0[1],'Square_Rooms_group']=1\ndf_to_test.loc[(df_to_test['Square']\/df_to_test['Rooms']>=x0[1])&(df_to_test['Square']\/df_to_test['Rooms']<x0[2]),'Square_Rooms_group']=3\ndf_to_test.loc[(df_to_test['Square']\/df_to_test['Rooms']>=x0[2])&(df_to_test['Square']\/df_to_test['Rooms']<x0[3]),'Square_Rooms_group']=2\ndf_to_test.loc[df_to_test['Square']\/df_to_test['Rooms']>=x0[3],'Square_Rooms_group']=4\ndf_to_test.loc[df_to_test['Rooms']==0,'Square_Rooms_group']=4\n\ndf_to_test['Rooms_group']=''\ndf_to_test.loc[df_to_test['Rooms']<x1[1],'Rooms_group']=1\ndf_to_test.loc[(df_to_test['Rooms']>=x1[1])&(df_to_test['Rooms']<=x1[2]),'Rooms_group']=2\ndf_to_test.loc[(df_to_test['Rooms']>x1[2])&(df_to_test['Rooms']<=x1[3]),'Rooms_group']=3\ndf_to_test.loc[df_to_test['Rooms']>x1[3],'Rooms_group']=4\n\ndf_to_test['Floor_group']=''\ndf_to_test.loc[df_to_test['Floor']<x2[1],'Floor_group']=1\ndf_to_test.loc[(df_to_test['Floor']>=x2[1])&(df_to_test['Floor']<x2[2]),'Floor_group']=2\ndf_to_test.loc[(df_to_test['Floor']>=x2[2])&(df_to_test['Floor']<x2[3]),'Floor_group']=3\ndf_to_test.loc[df_to_test['Floor']>=x2[3],'Floor_group']=4\n\ndf_to_test['Square_group']=''\ndf_to_test.loc[df_to_test['Square']<x3[1],'Square_group']=1\ndf_to_test.loc[(df_to_test['Square']>=x3[1])&(df_to_test['Square']<x3[2]),'Square_group']=2\ndf_to_test.loc[(df_to_test['Square']>=x3[2])&(df_to_test['Square']<x3[3]),'Square_group']=3\ndf_to_test.loc[df_to_test['Square']>=x3[3],'Square_group']=4\n\ndf_to_test['LifeSquare_group']=''\ndf_to_test.loc[df_to_test['LifeSquare']<x4[1],'LifeSquare_group']=1\ndf_to_test.loc[(df_to_test['LifeSquare']>=x4[1])&(df_to_test['LifeSquare']<x4[2]),'LifeSquare_group']=2\ndf_to_test.loc[(df_to_test['LifeSquare']>=x4[2])&(df_to_test['LifeSquare']<x4[3]),'LifeSquare_group']=3\ndf_to_test.loc[df_to_test['LifeSquare']>=x4[3],'LifeSquare_group']=4\n\ndf_to_test['Helthcare_2_group']=''\ndf_to_test.loc[df_to_test['Helthcare_2']<x5[1],'Helthcare_2_group']=1\ndf_to_test.loc[(df_to_test['Helthcare_2']>=x5[1])&(df_to_test['Helthcare_2']<=x5[2]),'Helthcare_2_group']=3\ndf_to_test.loc[(df_to_test['Helthcare_2']>x5[2])&(df_to_test['Helthcare_2']<=x5[3]),'Helthcare_2_group']=2\ndf_to_test.loc[df_to_test['Helthcare_2']>x5[3],'Helthcare_2_group']=4\n\ndf_to_test['HouseYear_group']=''\ndf_to_test.loc[df_to_test['HouseYear']<x6[1],'HouseYear_group']=4\ndf_to_test.loc[(df_to_test['HouseYear']>=x6[1])&(df_to_test['HouseYear']<x6[2]),'HouseYear_group']=1\ndf_to_test.loc[(df_to_test['HouseYear']>=x6[2])&(df_to_test['HouseYear']<x6[3]),'HouseYear_group']=3\ndf_to_test.loc[df_to_test['HouseYear']>=x6[3],'HouseYear_group']=2\n\ndf_to_test['HouseFloor_group']=''\ndf_to_test.loc[df_to_test['HouseFloor']<x7[1],'HouseFloor_group']=1\ndf_to_test.loc[(df_to_test['HouseFloor']>=x7[1])&(df_to_test['HouseFloor']<x7[2]),'HouseFloor_group']=2\ndf_to_test.loc[(df_to_test['HouseFloor']>=x7[2])&(df_to_test['HouseFloor']<x7[3]),'HouseFloor_group']=4\ndf_to_test.loc[df_to_test['HouseFloor']>=x7[3],'HouseFloor_group']=3\n\ndf_to_test['Ecology_1_group']=''\ndf_to_test.loc[df_to_test['Ecology_1']<x8[1],'Ecology_1_group']=4\ndf_to_test.loc[(df_to_test['Ecology_1']>=x8[1])&(df_to_test['Ecology_1']<x8[2]),'Ecology_1_group']=3\ndf_to_test.loc[(df_to_test['Ecology_1']>=x8[2])&(df_to_test['Ecology_1']<x8[3]),'Ecology_1_group']=2\ndf_to_test.loc[df_to_test['Ecology_1']>=x8[3],'Ecology_1_group']=1\n\ndf_to_test['Shops_1_group']=''\ndf_to_test.loc[df_to_test['Shops_1']<x9[1],'Shops_1_group']=1\ndf_to_test.loc[(df_to_test['Shops_1']>=x9[1])&(df_to_test['Shops_1']<x9[2]),'Shops_1_group']=3\ndf_to_test.loc[(df_to_test['Shops_1']>=x9[2])&(df_to_test['Shops_1']<x9[3]),'Shops_1_group']=4\ndf_to_test.loc[df_to_test['Shops_1']>=x9[3],'Shops_1_group']=2\n\ndf_to_test['Social_1_group']=''\ndf_to_test.loc[df_to_test['Social_1']<x10[1],'Social_1_group']=1\ndf_to_test.loc[(df_to_test['Social_1']>=x10[1])&(df_to_test['Social_1']<x10[2]),'Social_1_group']=4\ndf_to_test.loc[(df_to_test['Social_1']>=x10[2])&(df_to_test['Social_1']<x10[3]),'Social_1_group']=2\ndf_to_test.loc[df_to_test['Social_1']>=x10[3],'Social_1_group']=3\n\ndf_to_test['Social_2_group']=''\ndf_to_test.loc[df_to_test['Social_2']<x11[1],'Social_2_group']=1\ndf_to_test.loc[(df_to_test['Social_2']>=x11[1])&(df_to_test['Social_2']<x11[2]),'Social_2_group']=3\ndf_to_test.loc[(df_to_test['Social_2']>=x11[2])&(df_to_test['Social_2']<x11[3]),'Social_2_group']=2\ndf_to_test.loc[df_to_test['Social_2']>=x11[3],'Social_2_group']=4","a4e24406":"kmeans_labels_test = kmeans_model.predict(df_to_test[['DistrictId','Ecology_1','Social_1','Social_3','Helthcare_2','Shops_1']])\ndf_to_test.insert(16,'Clusters',kmeans_labels_test)","4b2e1251":"df_to_test.info()","5b0e2f28":"df_to_test['Score'] = df_to_test['Shops_2']+df_to_test['Ecology_2']+df_to_test['Ecology_3']\ndf_to_test['Score_2']=df_to_test['Square_Rooms_group']+\\\ndf_to_test['Shops_1_group']+\\\ndf_to_test['Helthcare_2_group']+\\\ndf_to_test['HouseYear_group']+\\\ndf_to_test['Rooms_group']+\\\ndf_to_test['Floor_group']+\\\ndf_to_test['Square_group']+\\\ndf_to_test['LifeSquare_group']+\\\ndf_to_test['HouseFloor_group']+\\\ndf_to_test['Ecology_1_group']+\\\ndf_to_test['Shops_1_group']+\\\ndf_to_test['Social_2_group']+\\\ndf_to_test['Social_1_group']","6c5b4592":"data_to_test = df_to_test[features].copy()","dcc67f0a":"data_test_scaled = scaler.transform(data_to_test)\ny_hat=gs_cv.predict(data_test_scaled)\ndf_to_test['Price'] = y_hat\ndf_to_test.head()","9b9be10b":"df_result_csv = df_to_test[['Id','Price']]\ndf_result_csv.to_csv('\/kaggle\/working\/my_predictions.csv',index=False)\ndf_result_csv.head()","3510986b":"#### \u0422.\u043a. \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u043e\u0439 \u043e\u0446\u0435\u043d\u043a\u0438 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0440\u043e\u0448\u0435\u0435 (\u043e\u0442\u0440\u0430\u0436\u0430\u0435\u0442 \u0441\u0432\u044f\u0437\u044c \u0441 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c\u0438 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438), \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u043d\u043e\u0432\u044b\u0439 \u0441\u0442\u043e\u043b\u0431\u0435\u0446 (\u043d\u043e\u0432\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435)","4dc33ebb":"#### \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u043e\u043a Score \u0438 Score_2","fad2e4f2":"* Ecology_1\n#### \u0420\u0430\u0437\u043d\u043e\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u043f\u043e \u043e\u0442\u043d\u043e\u0448\u0435\u043d\u0438\u044e \u043a \u0434\u0430\u043d\u043d\u043e\u0439 \u043e\u0446\u0435\u043d\u043a\u0438 - \u0441\u0432\u044f\u0437\u044c \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0441\u043b\u043e\u0436\u043d\u043e\u0439 \u0438\u043b\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0432\u043e\u0432\u0441\u0435","84c5089a":"#### \u0412\u0441\u0435 \u0433\u043e\u0442\u043e\u0432\u043e \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f \u043c\u043e\u0434\u0435\u043b\u0438","d3133e45":"#### \u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u043d\u043e\u0441\u0442\u0438 \u043a \u0440\u0430\u043d\u0435\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u043c \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430\u043c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e KMeans","7a22a86d":"#### \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043d\u0430\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0445\u043e\u0440\u043e\u0448\u043e \u043e\u0431\u0443\u0447\u0435\u043d\u0430 \u043c\u043e\u0434\u0435\u043b\u044c \u043d\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445","2d8194f2":"#### \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u0434\u0435\u043b\u0438 \u043d\u0430 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u0439 \u0432\u044b\u0431\u043e\u0440\u043a\u0438, \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u0438\u0437 \u0443\u0436\u0435 \u0438\u043c\u0435\u044e\u0449\u0438\u0445\u0441\u044f \u0434\u0430\u043d\u043d\u044b\u0445","c54ce0ec":"#### \u041e\u0431\u0437\u043e\u0440 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439, \u0441\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u043e \u0441\u0443\u043c\u043c\u0435 'Shops_2', 'Ecology_2', 'Ecology_3'","9ff76838":"#### \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0432 \u0444\u0430\u0439\u043b","359c9876":"#### \u041f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0442\u0435\u0445 \u0436\u0435 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0439, \u0447\u0442\u043e \u0438 \u0441 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u043e\u0439 \u0431\u0430\u0437\u043e\u0439 \u0434\u0430\u043d\u043d\u044b\u0445","3b402be9":"#### \u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u043e\u0441\u0442\u0438 \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u0435\u0439","8f7f3bc0":"#### \u0413\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432 (\u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e \u0442\u0435\u043c, \u0447\u0442\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u044b \u0434\u043b\u044f \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445, \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u0439 \u0434\u043b\u044f \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f)","ff213a9f":"##### \u0412\u044b\u044f\u0432\u043b\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0437\u0430\u043a\u043e\u043d\u043e\u043c\u0435\u0440\u043d\u043e\u0441\u0442\u0438:\n* \u0427\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u0435 \u0431\u0430\u043b\u043b\u043e\u0432 (df['Shops_2']+df['Ecology_2']+df['Ecology_3']), \u0442\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u0435 Ecology_1.\n* \u0411\u043e\u043b\u044c\u0448\u0435 \u0431\u0430\u043b\u043b\u043e\u0432 - \u0431\u043e\u043b\u044c\u0448\u0435 \u0446\u0435\u043d\u0430.\n* Ecology_1 \u043c\u043e\u0436\u0435\u0442 \u043e\u0442\u0440\u0430\u0436\u0430\u0442\u044c \"\u0445\u043e\u0440\u043e\u0448\u0438\u0435\" \u0447\u0435\u0440\u0442\u044b \u043a\u0432\u0430\u0440\u0442\u0438\u0440 (\u0440\u0430\u0437 \u0446\u0435\u043d\u0430 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f)\n* \u0412\u044b\u0447\u0438\u0441\u0435\u043d\u043d\u044b\u0435 \u0431\u0430\u043b\u043b\u044b - \"\u0445\u043e\u0440\u043e\u0448\u0438\u0435\" (\u0442.\u043a. \u0446\u0435\u043d\u0430 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f)\n* \u0421\u0430\u043c\u044b\u043c \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c Shop_1 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0433\u0440\u0443\u043f\u043f\u0430 \u0441 \u0441\u0430\u043c\u043e\u0439 \u043d\u0438\u0437\u043a\u043e\u0439 \u0441\u0440\u0435\u0434\u043d\u0435\u0439 \u0446\u0435\u043d\u043e\u0439.\n* \u041f\u0440\u044f\u043c\u0430\u044f (\"\u0447\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u0435 \u043e\u0434\u0438\u043d, \u0442\u0435\u043c \u0431\u043e\u043b\u044c\u0448\u0435 \u0434\u0440\u0443\u0433\u043e\u0439\") \u0441\u0432\u044f\u0437\u044c \u0441 \u0441\u0443\u043c\u043c\u043e\u0439 \u0431\u0430\u043b\u043b\u043e\u0432 \u0432\u0438\u0434\u043d\u0430 \u043f\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0443 Social_1, Helthcare_2 \u0438 Shops_1","0ef84706":"* Helthcare_2","ebce0700":"#### \u0412\u0438\u0437\u0443\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0432\u044f\u0437\u0438 \u043c\u0435\u0436\u0434\u0443 \u043d\u043e\u0432\u044b\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u043c \u0438 \u0438\u043c\u0435\u044e\u0449\u0438\u043c\u0438\u0441\u044f \u0434\u0430\u043d\u043d\u044b\u043c\u0438","f1e96935":"#### \u0414\u043b\u044f \u0443\u043f\u0440\u043e\u0449\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0437\u0431\u0438\u0442\u044c \u0438\u0445 \u043d\u0430 \u0433\u0440\u0443\u043f\u043f\u044b: \u043d\u0438\u0437\u043a\u0438\u0435, \u0441\u0440\u0435\u0434\u043d\u0438\u0435, \u0432\u044b\u0441\u043e\u043a\u0438\u0435 \u0438 \u043e\u0447\u0435\u043d\u044c \u0432\u044b\u0441\u043e\u043a\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f.\n##### \u0413\u0440\u0430\u043d\u0438\u0446\u044b \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043f\u043e\u0434\u0431\u0438\u0440\u0430\u044e\u0442\u0441\u044f \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u043e, \u043f\u043e \u0433\u0440\u0430\u0444\u0438\u043a\u0443 \u0438 \u043f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c np.percentile.","2c92f77a":"* \u0413\u0440\u0443\u043f\u043f\u0438\u0440\u0443\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u0446\u0435\u043d\u0430\u043c (\u0441\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0447\u0442\u0438 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0442.\u043a. \u0446\u0435\u043d\u044b \u043f\u043e\u0447\u0442\u0438 \u043d\u0430\u0432\u0435\u0440\u043d\u044f\u043a\u0430 \u0440\u0430\u0437\u043d\u044b\u0435);\n* \u0421\u0442\u0440\u043e\u0438\u043c \u0433\u0440\u0430\u0444\u0438\u043a\u0438 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u0433\u0440\u0443\u043f\u043f \u043f\u043e \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0443 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432, \u0432\u044b\u044f\u0432\u043b\u044f\u044f \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u0438\u043b\u0438 \u0447\u0435\u0442\u043a\u043e \u0441\u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435\n* \u0412\u0441\u0435\u0433\u043e \u043f\u0440\u043e\u0430\u043d\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e 14 \u043f\u0440\u0438\u0437\u043d\u0430\u043a\u043e\u0432, \u0432\u044b\u0431\u0440\u0430\u043d\u043e \u043a \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044e 13 (\u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d Social_3 \u0438 Shop_2, \u0442.\u043a. \u043f\u043e \u0433\u0440\u0430\u0444\u0438\u043a\u0443 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0447\u043b\u0435\u043d\u0438\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0435 \u0433\u0440\u0443\u043f\u043f\u044b \u043a\u0432\u0430\u0440\u0442\u0438\u0440 \u0438\u043b\u0438 \u0433\u0440\u0443\u043f\u043f\u044b \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0435 \u0438 \u043c\u043e\u0433\u0443\u0442 \u043d\u0435\u0433\u0430\u0442\u0438\u0432\u043d\u043e \u0441\u043a\u0430\u0437\u0442\u044c\u0441\u044f \u043d\u0430 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043c\u043e\u0434\u0435\u043b\u0438)","97879a1c":"#### \u041c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0443\u0436\u0435 \u0438\u043c\u0435\u044e\u0449\u0435\u0439\u0441\u044f \u043c\u043e\u0434\u0435\u043b\u0438 data_scaler (\u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f)","9baf9ef1":"#### \u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c KMeans","c3038981":"## \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u043c\u043e\u0434\u0443\u043b\u0435\u0439","69bd9d10":"* Social_1","f985559e":"##### \u0442.\u043a. \u0432\u0441\u0435 3 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 A \u0432 \u043c\u0435\u043d\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0435 \u0441\u043b\u0443\u0447\u0430\u0435\u0432, \u0434\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043e\u0446\u0435\u043d\u043a\u0438 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 B (B=1 \u0434\u043b\u044f \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u043b\u0438\u044f\u044e\u0449\u0438\u0445 \u043d\u0430 \u0446\u0435\u043d\u0443 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432, B=-1 - \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u043b\u0438\u044f\u044e\u0449\u0438\u0445)","bd5730e7":"#### \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0442\u0435\u0445, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0443\u0436\u0435 \u0443\u0447\u0442\u0435\u043d\u044b \u0432 Score \u0438 Score_2, \u0430 \u0442\u0430\u043a\u0436\u0435 Id \u0438 Price","3195e108":"#### \u041a \u0443\u0436\u0435 \u0438\u043c\u0435\u044e\u0449\u0435\u043c\u0443\u0441\u044f \u0441\u043f\u0438\u0441\u043a\u0443 \u043f\u043e\u043b\u0435\u0439 \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 (features) \u043d\u0443\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u0435 'Clusters' \u0438 \u0443\u0434\u0430\u043b\u0438\u0442\u044c 'Social_2' (\u0442.\u043a. \u0440\u0430\u043d\u0435\u0435 \u043d\u0430 \u0433\u0440\u0430\u0444\u0438\u043a\u0435 \u0431\u044b\u043b\u043e \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u043e, \u0447\u0442\u043e \u0435\u0433\u043e \u0441\u043b\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043b\u044f \u0434\u0438\u0444\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0430\u0446\u0438\u0438 \u0433\u0440\u0443\u043f\u043f \u043a\u0432\u0430\u0440\u0442\u0438\u0440","882bbc92":"### \u0412 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0439 \u043f\u043e\u043b\u0443\u0447\u0435\u043d dataframe \u0441\u043e \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u043c\u0438 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430\u043c\u0438","2be6e564":"# \u0427\u0430\u0441\u0442\u044c 2\n## \u041f\u0440\u043e\u0433\u043d\u043e\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0446\u0435\u043d\u044b \u043d\u0430 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445","408d7694":"#### \u041f\u043e\u043f\u044b\u0442\u043a\u0430 \u043e\u0446\u0435\u043d\u0438\u0442\u044c \u0432\u043b\u0438\u044f\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0444\u0430\u043a\u0442\u043e\u0440\u043e\u0432 \u043d\u0430 \u0446\u0435\u043d\u0443","99d9e8f5":"* Shops_1","6d5a4d68":"* \u0426\u0435\u043d\u0430","1baa32db":"#### \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 (features), \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u044b \u0434\u043b\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430","aab5394e":"#### \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043e\u043a\u043e\u043d\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0430\u0442\u0430\u0444\u0440\u0435\u0439\u043c\u0430 \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0446\u0435\u043d","f23f210f":"#### \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0442\u043e\u0432\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438 gs_cv \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0446\u0435\u043d. \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e, \u043f\u0435\u0440\u0435\u0434 \u044d\u0442\u0438\u043c \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043e \u043c\u0430\u0441\u0448\u0442\u0430\u0431\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u0441\u043b\u0435 \u043c\u043d\u043e\u0433\u043e\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0445 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0439 \u0434\u0430\u0442\u0430\u0444\u0440\u0435\u0439\u043c\u0430","f8f3beca":"#### \u0412 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f KMeans \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u043e\u0441\u044c 8 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432, \u043a \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u043e\u0442\u043d\u043e\u0441\u044f\u0442\u0441\u044f \u043a\u0432\u0430\u0440\u0442\u0438\u0440\u044b \u0441 \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u043c\u0438 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u044f\u043c\u0438 6 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 ('DistrictId','Ecology_1','Social_1','Social_3','Helthcare_2','Shops_1'); \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0446\u0435\u043d \u0432 \u043d\u0438\u0445 \u0440\u0430\u0437\u043d\u044b\u0439, \u043d\u043e \u0438 \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u0431\u043b\u0438\u0437\u043a\u0438\u0435 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043f\u043e \u0446\u0435\u043d\u043e\u0432\u043e\u0439 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0435.","1a5c6f13":"#### \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 Price \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0446\u0435\u043b\u0435\u0432\u043e\u0439 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439\n#### \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0434\u0430\u0442\u0430\u0444\u0440\u0435\u0439\u043c\u0430 \u0441 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438 \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u0441\u043f\u0438\u0441\u043a\u0430 features","8e912261":"# \u0427\u0430\u0441\u0442\u044c I\n* \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0442\u0440\u0435\u043d\u0438\u0440\u043e\u0432\u043e\u0447\u043d\u043e\u0433\u043e \u0434\u0430\u0442\u0430\u0441\u0435\u0442\u0430\n* \u0410\u043d\u0430\u043b\u0438\u0437 \u0434\u0430\u043d\u043d\u044b\u0445\n* \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445","b12c10a6":"#### \u0412 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u043d\u043e\u0439 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0441\u0443\u043c\u043c\u0430\u0440\u043d\u0443\u044e \u043e\u0446\u0435\u043d\u043a\u0443 \u043f\u043e \u0434\u0430\u043d\u043d\u044b\u043c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430"}}