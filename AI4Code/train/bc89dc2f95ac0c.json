{"cell_type":{"b8144da8":"code","edd23391":"code","a7df55bd":"code","90bbe063":"code","6870cdaa":"code","470d6099":"markdown","f7863f15":"markdown","6569f54a":"markdown"},"source":{"b8144da8":"import re\nimport requests\nimport pandas as pd","edd23391":"# Retrieve html page data\nusa_craft = requests.get('http:\/\/flavorsofcacao.com\/usa_craft_makers.html')\ncan_craft = requests.get('http:\/\/flavorsofcacao.com\/canadian_craft_makers.html')\nchocolate_info = requests.get('http:\/\/flavorsofcacao.com\/chocolate_database.html')","a7df55bd":"# Read HTML tables\nusa_makers_df = pd.read_html('http:\/\/flavorsofcacao.com\/usa_makers1.html')[0]\ncan_makers_df = pd.read_html('http:\/\/flavorsofcacao.com\/canada_makers.html')[0]\nchocolate_info_df = pd.read_html('http:\/\/flavorsofcacao.com\/database_w_REF.html')[0]\n\n# Preview dataframe\nchocolate_info_df.head()","90bbe063":"# Preprocess and compose chocolate makers dataframe\nusa_makers_df['COUNTRY'] = 'US'\ncan_makers_df['COUNTRY'] = 'Canada'\n\n# Equalize state and province columns\ncan_makers_df.rename({'PROVINCE':'STATE\/PROVINCE'}, axis = 1, inplace = True)\nusa_makers_df.rename({'STATE':'STATE\/PROVINCE'}, axis = 1, inplace = True)\n\n# Merge into one dataframe and remove unnamed column\nmakers_df = pd.concat([can_makers_df, usa_makers_df], axis = 0)\nmakers_df.drop('Unnamed: 0', axis = 1, inplace = True)\n\n# Preview dataframe\nmakers_df.head()","6870cdaa":"# Export to disk\nmakers_df.to_csv('chocolate_makers.csv', index = False)\nchocolate_info_df.to_csv('chocolate_ratings.csv', index = False)","470d6099":"Now that we have all the data, lets preprocess, merge and export them to disk.","f7863f15":"# Chocolate Ratings Crawler\nThis notebook is part of my effort to make every one of my crawlers open to the public.","6569f54a":"From the above requests, it appears that the data is not stored in these html pages, but rather, these pages retrieve them from other html pages - which we can read directly from pandas."}}