{"cell_type":{"5eed2c9f":"code","b5386da4":"code","caf310b4":"code","259ad529":"code","10504457":"code","c77decab":"code","fe1629c8":"code","a42a3054":"code","c311592c":"code","d91608cf":"code","0c3495be":"code","5da5312b":"code","bf12b794":"code","c12a5a2a":"code","43311e01":"code","9e021cb2":"code","577b71fe":"code","49cb9b92":"code","8f0dba62":"code","9566bf1e":"code","fabc3d41":"code","b5ab45d8":"code","cc5dc756":"code","a65ac84b":"code","3b82340c":"code","acfe1d9b":"code","68a700d5":"code","87fccefe":"code","e3754f62":"code","a834b859":"code","b3445b63":"markdown","87aff691":"markdown","4f098108":"markdown","6a06f9c6":"markdown","7fda64cc":"markdown","86cbb0f6":"markdown","9a246e18":"markdown","2ec9db2f":"markdown","06785ba6":"markdown","50bde9dc":"markdown","3004b8e1":"markdown"},"source":{"5eed2c9f":"%matplotlib inline\nimport os\n\nimport numpy as np\nimport openslide\nfrom openslide import deepzoom\nfrom matplotlib import pyplot as plt","b5386da4":"#Images \/ Masks Directories\nimages_dir = \"..\/input\/prostate-cancer-grade-assessment\/train_images\/\"\nmasks_dir = \"..\/input\/prostate-cancer-grade-assessment\/train_label_masks\/\"\n\n#Files\nimage_files = os.listdir(images_dir)\nmask_files = os.listdir(masks_dir)\nmask_files_cleaned = [i.replace(\"_mask\", \"\") for i in mask_files]\n\n#Clean Images without Masks\nimages_with_masks = list(set(image_files).intersection(mask_files_cleaned))\nlen(image_files), len(mask_files), len(images_with_masks)","caf310b4":"image_file = '00928370e2dfeb8a507667ef1d4efcbb.tiff'\nmask_file = '00928370e2dfeb8a507667ef1d4efcbb_mask.tiff'","259ad529":"image = openslide.OpenSlide(os.path.join(images_dir, image_file))\nmask = openslide.OpenSlide(os.path.join(masks_dir, mask_file))","10504457":"print(type(image))\ntype(mask)","c77decab":"img_level_count = image.level_count\nmask_level_count = mask.level_count\nprint(img_level_count, mask_level_count)","fe1629c8":"detect_format = openslide.PROPERTY_NAME_VENDOR\nprint(detect_format)","a42a3054":"image_size1 = image.level_dimensions[0]\nimage_size2 = image.level_dimensions[1]\nimage_size3 = image.level_dimensions[2]\nprint(image_size1, image_size2, image_size3)","c311592c":"mask_size1 = mask.level_dimensions[0]\nmask_size2 = mask.level_dimensions[1]\nmask_size3 = mask.level_dimensions[2]\nprint(mask_size1, mask_size2, mask_size3)","d91608cf":"image_dwn1 = image.level_downsamples[0]\nimage_dwn2 = image.level_downsamples[1]\nimage_dwn3 = image.level_downsamples[2]\nprint(image_dwn1, image_dwn2, image_dwn3)","0c3495be":"mask_dwn1 = mask.level_downsamples[0]\nmask_dwn2 = mask.level_downsamples[1]\nmask_dwn3 = mask.level_downsamples[2]\nprint(mask_dwn1, mask_dwn2, mask_dwn3)","5da5312b":"image.properties","bf12b794":"mask.properties","c12a5a2a":"image.associated_images","43311e01":"mask.associated_images","9e021cb2":"image.read_region((0, 0), 2 , (512, 512))","577b71fe":"mask.read_region((0, 0), 2 , (512, 512))","49cb9b92":"image.get_best_level_for_downsample(18)","8f0dba62":"image.get_thumbnail((300,300))","9566bf1e":"zoom = openslide.deepzoom.DeepZoomGenerator(image, tile_size=254, overlap=1, limit_bounds=False)","fabc3d41":"print(type(zoom))","b5ab45d8":"zoom.level_count","cc5dc756":"zoom.tile_count","a65ac84b":"zoom.level_tiles","3b82340c":"zoom.level_dimensions","acfe1d9b":"zoom.get_dzi('png')","68a700d5":"format(zoom)","87fccefe":"zoom.get_tile(13, (2, 5))","e3754f62":"zoom.get_tile_coordinates(13, (2, 5))","a834b859":"zoom.get_tile_dimensions(13, (2, 5))","b3445b63":"## OpenSlide object\n\nAn open whole-slide image.","87aff691":"# Abstract\n\nOpenSlide Python is a Python interface to the OpenSlide library.\n\nOpenSlide is a C library that provides a simple interface for reading whole-slide images, also known as virtual slides, which are high-resolution images used in digital pathology. These images can occupy tens of gigabytes when uncompressed, and so cannot be easily read using standard tools or libraries, which are designed for images that can be comfortably uncompressed into RAM. Whole-slide images are typically multi-resolution; OpenSlide allows reading a small amount of image data at the resolution closest to a desired zoom level.","4f098108":"A list of downsample factors 1, 4 and 16 for each level of the slide","6a06f9c6":"There are 3 levels of magnification","7fda64cc":"Read a specfic region of the WSI based on location, level and size of region","86cbb0f6":"Same dimensions for the 3 levels of masks","9a246e18":"# Openslide\n\n### As a new user of openslide I wanted to explore this library and apply it to the PANDA dataset.\n\n### I was searching in the public notebooks but couldn't find any dedicated to openslide.\n\n## So here it is!\n\n### In this notebook you will learn how to extract embedded information and metadata from our Generic tiled TIFF PANDA dataset using OpenSlide and DeepZoom Classes.\n\n### Here is the link for the API https:\/\/openslide.org\/api\/python\/\n\n## Enjoy!","2ec9db2f":"Here is an example of 3 level dimensions in the same image","06785ba6":"## DeepZoomGenerator\n\nOpenSlide Python provides functionality for generating individual Deep Zoom tiles from slide objects. This is useful for displaying whole-slide images in a web browser without converting the entire slide to Deep Zoom or a similar format.\n\nNot useful in this competition but good to know for further applications.","50bde9dc":"Still the same for the masks","3004b8e1":"# Imports and Loading"}}