{"cell_type":{"e074619d":"code","5fff5561":"code","251f8bb6":"code","36c9cea5":"code","79c43858":"code","102fb71c":"code","fd415fdf":"code","b55504ef":"code","9aab9b6c":"code","af463d81":"code","3570d88c":"code","484965fa":"code","92f89627":"code","a347ddae":"code","8e7afe6d":"code","936a88cb":"code","be3ca2a3":"code","5d76b60c":"code","427ca646":"code","363674d3":"markdown","0ec71268":"markdown","1facf92f":"markdown","63fbd6c6":"markdown","4ec607e5":"markdown","e9a33ffc":"markdown","a89606d5":"markdown"},"source":{"e074619d":"!pip install tweepy #install tweepy package","5fff5561":"#import libraries\nimport os\nimport tweepy as tw\nimport pandas as pd\nfrom textblob import TextBlob\nfrom wordcloud import WordCloud, STOPWORDS\nimport matplotlib.pyplot as plt\nfrom emoji import emojize\nimport nltk # Natural Language ToolKit\nfrom nltk.corpus import stopwords\n%matplotlib inline","251f8bb6":"#Enter Credentials\nauth = tw.OAuthHandler(\"CUSTOMER_KEY\", \"CUSTOMER_SECRET\")\nauth.set_access_token(\"ACCESS_TOKEN\", \"ACCESS_TOKEN_SECRET\")\napi = tw.API(auth, wait_on_rate_limit=True)","36c9cea5":"#Enter keyword and number of tweets to be extracted from twitter\nsearch_word = \"#BBNaijaReunion\"\nmax_count = 1000\n\n#Extract tweets from twitter\ntweets = tw.Cursor(api.search , q = search_word + \" -filter:retweets\", result_type = \"recent\", tweet_mode = \"extended\").items(max_count)\n\n#Empty list\ntweet_list = []\n#loop through each extracted tweet and append\/load the created_at,tweet_id etc into the empty list created above \nfor tweet in tweets:\n    tweet_list.append((tweet.created_at, tweet.id, tweet.full_text, tweet.user.screen_name, tweet.user.location))\n\n#convert tweet list to a DataFrame\ntweet_df = pd.DataFrame(tweet_list)\n#Update the column names of the data frame\ntweet_df.columns = [\"created_on\",\"tweet_id\",\"tweet_text\",\"user\",\"location\"]\n#show first five records in the data frame\ntweet_df.shape\n","79c43858":"#use TextBlob sentiment polarity and emojize to get the sentiment and assign appropriate emojis\ntw_list = []\nfor i in tweet_df.tweet_text:\n    a= TextBlob(i)\n    b= a.sentiment.polarity\n    if b < 0:\n        tw_list.append((b, emojize(\":disappointed_face:\")))\n    elif b == 0:\n        tw_list.append((b, emojize(\":zipper-mouth_face:\")))\n    elif b > 0 and b <= 1:\n        tw_list.append((b, emojize(\":grinning_face_with_big_eyes:\")))\n    else:\n        tw_list.append((b, \"\"))\n        \nem_df = pd.DataFrame(tw_list)      \nem_df.columns = [\"Sentiment\", \"Emoji\"]\nem_df\n#Join sentiment and emoji with the original dataframe created earlier        \nnew_df = tweet_df.join(em_df)    \n\n","102fb71c":"new_df.head() #review top 5 records in the data frame","fd415fdf":"#plot the first tweet in a wordcloud for review. \ntext = new_df.tweet_text[0]\n# Create and generate a word cloud image:\nwordcloud = WordCloud(max_words=100, background_color=\"white\").generate(text)\n\n# Display the generated image:\nplt.imshow(wordcloud,interpolation=\"bilinear\")\nplt.axis(\"off\")\nplt.show()\n\n#wordcloud.to_file(\"img\/first_review.png\") saves the image if you want","b55504ef":"#Put all the texts in the tweets together for creating the wordcloud\ntext = \"\"\nfor i in new_df.tweet_text:\n    text = text + i\n","9aab9b6c":"# Create and generate a word cloud image (using default stopwords):\nwordcloud = WordCloud(background_color=\"white\").generate(text)\n\nplt.subplots(figsize = (8,8))\nplt.imshow(wordcloud,interpolation=\"bilinear\")\nplt.axis(\"off\")\nplt.show()","af463d81":"# Create and generate a word cloud image (this time with additional stopwords excluded):\n\nstopwords = set(STOPWORDS)\nsw_list = ['BBNREUNION', 'BBNaijaReunion' , 'https' , 'people' , 'show' , 'BBNaijaPepperDemReunion' , 'Know' , 'go' , 'show' , 'will' , 'dey' , 'BBNaijaReunion2020', '#BBNaijaReunion2020', '#BBNaijaReunion', '#bbnreunion','bbnreunion', '#BBNReunion', 'co',\n          '#BBNReunion ', 'BBNReunion ', ' BBNReunion ', 'BBN', 'Reunion', 'BBNreunionMorning','#bbnaija2020', '#bbnreunionYou', '#BBNreunion#LANBENA', 'https:\/\/t.co\/aHjU3qXYMa@Symply_Tacha', 'https:\/\/t.co\/myNcecKZ18Happy',\n'#BBNreunion',  'https:\/\/t.co\/T7HjgjiUpZ','https:\/\/t.co\/jCXmAybvunI', '#bbnreunionWe', 'reunion', '#BBNaijaReunion2020I',\n'BBNReunion,','https:\/\/t.co\/m40wFmVVePBut','#bbnreunionWho','#bbnreunionCooking', '#bbnreunionTodays', '#BBNaijaPepperDemReunion',\n'#BBNAIJA','https:\/\/t.co\/ZTvmOsdJeUThe','#BBNaija','#BBNPepperDemReunion','https:\/\/t.co\/Thp1hOWpZRIf','https:\/\/t.co\/q2Lbmh8c7O@Ebuka',\n'\ud83e\udd23#BbnreunionHappy','https:\/\/t.co\/Md3XTknIW7@Cynthia4reel1', 'https:\/\/t.co\/59mgdQglViThis', 'https:\/\/t.co\/MAwuijbQSqMercyeke',\n'#bbnreunionAbsolutely','https:\/\/t.co\/UjzTHcOHnyThe','https:\/\/t.co\/tU32gqW0dVOmashola', '#BBNaijaPepperDemReunion','https:\/\/t.co\/hcKhmixa4aAlready',\n'#BBNaijaPepperDemReunion', 'https:\/\/t.co\/uXzeSCUrrAAfter','https:\/\/t.co\/5HqgICR2hWThe','https:\/\/t.co\/qOhAjh3OKmLambo',\"#bbnreunionI'm\",\n'#BBNaijaPepperDemReunionI''#BBNaijaPepperDemReunion','#bbnreunion@Ebuka', '#BBNreunion','#BBNPepperDemReunion','#bbnreunion\u201cNa']\nfor i in sw_list:\n    stopwords.add(i)\n    \nwordcloud = WordCloud(stopwords=stopwords, background_color=\"white\").generate(text)\n\n\nplt.subplots(figsize = (10,10))\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()\n","3570d88c":"#extract negative tweets into a different data frame\nfilter1 = new_df.Sentiment < 0\nneg_df = new_df[filter1]\nneg_df.head()","484965fa":"#put all the negative texts together\ntext = \"\"\nfor i in neg_df.tweet_text:\n    text = text + i","92f89627":"#create wordcloud for negative tweets\nwordcloud = WordCloud(stopwords=stopwords, background_color=\"white\").generate(text)\n\nplt.subplots(figsize = (10,10))\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","a347ddae":"#Extract positive tweets\nfilter2 = new_df.Sentiment > 0 \nposs_df = new_df[filter2]\nposs_df.head()","8e7afe6d":"#Put all positive tweet texts together \ntext = \"\"\nfor i in poss_df.tweet_text:\n    text = text + i","936a88cb":"#create wordcloud for positive tweets\nwordcloud = WordCloud(stopwords=stopwords, background_color=\"white\").generate(text)\n\nplt.subplots(figsize = (10,10))\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","be3ca2a3":"#what location are most of the tweets coming from\nlocation = new_df.groupby(\"location\")[\"tweet_id\"].count()\nlocation.sort_values(ascending = False)","5d76b60c":"#you can also check which users are tweeting about #BBNaijaReunion the most\nuser = new_df.groupby(\"user\")[\"tweet_id\"].count()\nuser.sort_values(ascending = False)","427ca646":"#Export tweets to csv for further analysis\nnew_df.to_csv(\"bbnaijareuniontweets.csv\")","363674d3":"Most of the tweets are from Lagos, Nigeria.","0ec71268":"Twitter Sentiment Analytics published by Adedayo Okubanjo on 16-JUN-2020.\n\nTasks:\n\n1) Extract recent tweets relating to the Big Brother Nigeria Reunion show using #BBNaijaReunion.\n\n2) Classify the tweets into positive, neutral and negative tweets.\n\n3) Plot the tweets on a wordcloud to see who and what most of the tweets are about.\n\n4) Plot the positive and negative tweets in separate wordclouds as well to get an idea of some of the positive and negative comments being made.","1facf92f":"For positives, users are tweeting about some keywords: \"love\", \"queen\", \"beautiful\", \"maturity\",\"right\",\"good\", \"right\" etc. You can then go into the data to review tweets that have those keywords. Tacha, Ella, Kim and Mercy's names came out a lot in the positive tweets.","63fbd6c6":"We now have sentiment and emoji columns in the tweets.","4ec607e5":"First thing to do is to create an app at: https:\/\/developer.twitter.com\/en\/apps\n\nWrite down the app's keys and tokens which will be used to access twitter to extract data:\n\nCustomer Key:\n\nCustomer Secret:\n\nAccess Token: \n\nAccess Token Secret: ","e9a33ffc":"From the chart, we can see that people are talking about negative words such as hate, fake, tried to, boring etc. We can then search the data to have an idea of what it is people are saying about these words.","a89606d5":"We can see that Tacha is the most recently talked about on twitter in the BBN Reunion show. Ella, Kim & Mercy's names also came out strong. "}}