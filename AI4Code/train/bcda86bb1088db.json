{"cell_type":{"d737370c":"code","7241aa2b":"code","14b14a4b":"code","6b0cac3f":"code","2c058c31":"code","5cc4de9a":"code","b7ad189d":"code","68016e8b":"code","f7af8e43":"code","e4739112":"code","58f31dfd":"code","510cfc06":"code","69b938d5":"code","f5ef239b":"code","796d06d7":"code","d8afa9ab":"code","b3505beb":"code","050ae16f":"code","44291bbf":"code","e7d3ed2e":"markdown","ce90d4af":"markdown","7986a837":"markdown","c7dd0930":"markdown","b9b3ec52":"markdown","b814a848":"markdown","2af9fbe2":"markdown","ca47c25a":"markdown","20b2e787":"markdown"},"source":{"d737370c":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport folium\nimport squarify\n\nimport warnings\nwarnings.filterwarnings('ignore')","7241aa2b":"data = pd.read_csv('..\/input\/sanfranciso-crime-dataset\/Police_Department_Incidents_-_Previous_Year__2016_.csv')","14b14a4b":"data.shape","6b0cac3f":"data.head()","2c058c31":"data.describe()","5cc4de9a":"data.isnull().sum()","b7ad189d":"# filling the missing value in PdDistrict using the mode values\n\ndata['PdDistrict'].fillna(data['PdDistrict'].mode()[0], inplace = True)\n\ndata.isnull().any().any()","68016e8b":"plt.rcParams['figure.figsize'] = (20,9)\nplt.style.use('dark_background')\n\nsns.countplot(data['Category'], palette = 'gnuplot')\n\nplt.title('Major Crimes in Sanfrancisco', fontweight = 30, fontsize =20)\nplt.xticks(rotation = 90)\nplt.show()","f7af8e43":"#plotting a tree map\n\ny = data['Category'].value_counts().head(25)\nplt.rcParams['figure.figsize']=(15,15)\nplt.style.use('fivethirtyeight')\n\ncolor= plt.cm.magma(np.linspace(0, 1, 15))\nsquarify.plot(sizes = y.values, label = y.index, alpha=.8, color=color)\nplt.title('Tree Map for Top 25 Crimes',fontsize = 20)\n\nplt.axis('off')\nplt.show()","e4739112":"# Regions with count of crimes\n\nplt.rcParams['figure.figsize'] = (20,9)\nplt.style.use('seaborn')\n\ncolor = plt.cm.spring(np.linspace(0,1,15))\ndata['PdDistrict'].value_counts().plot.bar(color = color, figsize=(15,10))\n\nplt.title('District with Most Crime',fontsize = 30)\n\nplt.xticks(rotation = 90)\nplt.show()","58f31dfd":"# Regions with count of crimes\n\nplt.rcParams['figure.figsize'] = (20,9)\nplt.style.use('seaborn')\n\ncolor = plt.cm.ocean(np.linspace(0,1,15))\ndata['Address'].value_counts().head(15).plot.bar(color = color, figsize=(15,10))\n\nplt.title('Top 15 Regions of crime', fontsize =20)\n\nplt.xticks(rotation = 90)\nplt.show()","510cfc06":"plt.style.use('seaborn')\n\n\ndata['DayOfWeek'].value_counts().head(15).plot.pie(figsize = (15, 8), explode = (0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1))\n\nplt.title('Crime count on each day',fontsize = 20)\n\nplt.xticks(rotation = 90)\nplt.show()","69b938d5":"plt.style.use('seaborn')\n\ncolor = plt.cm.winter(np.linspace(0, 10, 20))\ndata['Resolution'].value_counts().plot.bar(color = color, figsize = (15, 8))\n\nplt.title('Resolutions for Crime',fontsize = 20)\nplt.xticks(rotation = 90)\nplt.show()","f5ef239b":"data['Date'] = pd.to_datetime(data['Date'])\n\ndata['Month'] = data['Date'].dt.month\n\nplt.style.use('fivethirtyeight')\nplt.rcParams['figure.figsize'] = (15, 8)\n\nsns.countplot(data['Month'], palette = 'autumn',)\nplt.title('Crimes in each Months', fontsize = 20)\n\nplt.show()","796d06d7":"\ncolor = plt.cm.twilight(np.linspace(0, 5, 100))\ndata['Time'].value_counts().head(20).plot.bar(color = color, figsize = (15, 9))\n\nplt.title('Distribution of crime over the day', fontsize = 20)\nplt.show()","d8afa9ab":"df = pd.crosstab(data['Category'], data['PdDistrict'])\ncolor = plt.cm.Greys(np.linspace(0, 1, 10))\n\ndf.div(df.sum(1).astype(float), axis = 0).plot.bar(stacked = True, color = color, figsize = (18, 12))\nplt.title('District vs Category of Crime', fontweight = 30, fontsize = 20)\n\nplt.xticks(rotation = 90)\nplt.show()","b3505beb":"t = data.PdDistrict.value_counts()\n\ntable = pd.DataFrame(data=t.values, index=t.index, columns=['Count'])\ntable = table.reindex([\"CENTRAL\", \"NORTHERN\", \"PARK\", \"SOUTHERN\", \"MISSION\", \"TENDERLOIN\", \"RICHMOND\", \"TARAVAL\", \"INGLESIDE\", \"BAYVIEW\"])\n\ntable = table.reset_index()\ntable.rename({'index': 'Neighborhood'}, axis='columns', inplace=True)\n\ntable","050ae16f":"gjson = r'https:\/\/cocl.us\/sanfran_geojson'\nsf_map = folium.Map(location = [37.77, -122.42], zoom_start = 12)","44291bbf":"#generate map\nsf_map.choropleth(\n    geo_data=gjson,\n    data=table,\n    columns=['Neighborhood', 'Count'],\n    key_on='feature.properties.DISTRICT',\n    fill_color='YlOrRd', \n    fill_opacity=0.7, \n    line_opacity=0.2,\n    legend_name='Crime Rate in San Francisco'\n)\n\nsf_map","e7d3ed2e":"**Top 15 Addresses in Sanfrancisco**","ce90d4af":"# Importing Libraries","7986a837":"**Regions with count of crimes**","c7dd0930":"# District with Most Crimes","b9b3ec52":"**Crime Count on each day**","b814a848":"# Data Visualization","2af9fbe2":"**Density of crime in Sanfrancisco**","ca47c25a":"**Reading a Data**","20b2e787":"**Geospatial Visualization**"}}