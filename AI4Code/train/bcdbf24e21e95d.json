{"cell_type":{"11ca4db1":"code","03b0c8b6":"code","e88e7381":"code","17597b81":"code","4da3896c":"code","83e80fb0":"code","6ad31f0c":"code","58f63498":"code","b16b3287":"code","17a874e0":"code","4ba8fc77":"code","ba2d6d74":"code","51ff5582":"code","a053a14e":"code","64b38c99":"code","888fca45":"code","3d23b27c":"code","a0b3b369":"code","7cb220aa":"code","d7a6c8d6":"code","9c1ab146":"code","e50b8d9e":"code","9a261c09":"code","fdc32f87":"code","43f427e3":"code","afc9040f":"code","83d99bd7":"code","b18a0351":"code","2c132ed3":"code","f49c9e95":"code","256d2351":"code","b0e2067d":"code","08026fa5":"code","ecdf8659":"code","95ed4701":"code","13fe9579":"code","ca34075d":"code","e1ff59d4":"code","9295ca47":"code","f4cfdce2":"code","301b4ea9":"code","81e94e8d":"code","0de7b0ce":"markdown","13f7063f":"markdown","2fb56c0b":"markdown","1587089b":"markdown","a7f55aa1":"markdown","6fe35eb4":"markdown"},"source":{"11ca4db1":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport warnings\nwarnings.simplefilter(action=\"ignore\", category=FutureWarning)\nfrom collections import Counter\n%matplotlib inline\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","03b0c8b6":"medianh=pd.read_csv(\"\/kaggle\/input\/fatal-police-shootings-in-the-us\/MedianHouseholdIncome2015.csv\",encoding=\"windows-1252\")\npercentagep=pd.read_csv(\"\/kaggle\/input\/fatal-police-shootings-in-the-us\/PercentagePeopleBelowPovertyLevel.csv\",encoding=\"windows-1252\")\npolicek=pd.read_csv(\"\/kaggle\/input\/fatal-police-shootings-in-the-us\/PoliceKillingsUS.csv\",encoding=\"windows-1252\")\npercento=pd.read_csv(\"\/kaggle\/input\/fatal-police-shootings-in-the-us\/PercentOver25CompletedHighSchool.csv\",encoding=\"windows-1252\")\nsharer=pd.read_csv(\"\/kaggle\/input\/fatal-police-shootings-in-the-us\/ShareRaceByCity.csv\",encoding=\"windows-1252\")","e88e7381":"medianh.head()\nmedianh.describe()\nmedianh = medianh.rename(columns={'Median Income': 'Median_Income'})\nmedianh.info()","17597b81":"percentagep.head()\npercentagep.info()\n#percentagep.describe()","4da3896c":"percentagep.value_counts()","83e80fb0":"percentagep.poverty_rate.replace([\"-\"],0.0,inplace=True) #replace the nan values with 0's\npercentagep.poverty_rate=percentagep.poverty_rate.astype(float) #Change type of poverty rate string to float","6ad31f0c":"area_list=list(percentagep[\"Geographic Area\"].unique())\narea_poverty_ratio=[]\nfor i in area_list:\n    x=percentagep[percentagep[\"Geographic Area\"]==i]\n    area_poverty_rate=sum(x.poverty_rate)\/len(x)\n    area_poverty_ratio.append(area_poverty_rate)\ndata=pd.DataFrame({\"area_list\": area_list,\"area_poverty_ratio\":area_poverty_ratio}) #for visualizing our data we found the unique values of data and sorted in descending order\nnew_index=(data[\"area_poverty_ratio\"].sort_values(ascending=False)).index.values\nsorted_data=data.reindex(new_index)\n\nnew_index=(data['area_poverty_ratio'].sort_values(ascending=False)).index.values\nsorted_date=data.reindex(new_index) #recreate the data according to sorted index","58f63498":"#visualization\nplt.figure(figsize=(15,10))\nsns.barplot(x=sorted_data[\"area_list\"], y=sorted_data[\"area_poverty_ratio\"])\nplt.xticks(rotation=90)\nplt.xlabel(\"States\")\nplt.ylabel(\"Poverty Rate\")\nplt.title(\"Poverty Rate Given States\") #bar plot\nplt.show()","b16b3287":"#policek.head()\n#policek.info()\npolicek.describe()\n","17a874e0":"#Most common names or surnames of killed people\nseparate=policek.name[policek.name != 'TK TK'].str.split()\na,b=zip(*separate)\nname_list=a+b\nname_count=Counter(name_list)\nmost_common_names=name_count.most_common(20)\nx,y=zip(*most_common_names)\nx,y=list(x),list(y)","4ba8fc77":"plt.figure(figsize=(20,10))\nax=sns.barplot(x=x,y=y,palette=sns.cubehelix_palette(len(x)))\nplt.xlabel(\"Name or Surname of Killed People\")\nplt.ylabel(\"Frequency\")\nplt.title(\"Most common 20 Name or Surname of Killed People\")","ba2d6d74":"policek.race.dropna(inplace=True)\nlabels=policek.race.value_counts().index\ncolors=[\"grey\",\"blue\",\"red\",\"yellow\",\"green\",\"brown\"]\nexplode=[0,0,0,0,0,0]\nsizes=policek.race.value_counts().values\n\nplt.figure(figsize=(7,7))\nplt.pie(sizes,explode=explode,labels=labels,colors=colors,autopct=\"%1.1f%%\")\nplt.title(\"Killed People According To Races\",color=\"blue\",fontsize=15)","51ff5582":"sns.boxplot(x=\"gender\",y=\"age\",hue=\"manner_of_death\",data=policek,palette=\"PRGn\")\nplt.show()","a053a14e":"sns.swarmplot(x=\"gender\",y=\"age\",hue=\"manner_of_death\",data=policek)\nplt.show()","64b38c99":"sns.countplot(policek.gender)\nsns.countplot(policek.manner_of_death)\nplt.title(\"gender\",color=\"blue\",fontsize=15)","888fca45":"armed=policek.armed.value_counts()\nprint(armed)\nplt.figure(figsize=(10,7))\nsns.barplot(x=armed[:7].index,y=armed[:7].values)\nplt.ylabel(\"Nummber Of Weapon\")\nplt.xlabel(\"Weapon Types\")\nplt.title(\"Kill weapon\",color=\"blue\",fontsize=15)","3d23b27c":"above25=[\"above25\" if i>=25 else \"below25\" for i in policek.age]\ndf=pd.DataFrame({\"age\":above25})\nsns.countplot(x=df.age)\nplt.ylabel(\"Number of Killed People\")\nplt.title(\"Age of Killed People\",color=\"blue\",fontsize=15)","a0b3b369":"sns.countplot(data=policek,x=\"race\")\nplt.title(\"Race of Killed People\",color=\"blue\",fontsize=15)","7cb220aa":"city=policek.city.value_counts()\nplt.figure(figsize=(10,7))\nsns.barplot(x=city[:12].index,y=city[:12].values)\nplt.xticks(rotation=45)\nplt.title(\"Most Dangerous Cities\",color=\"blue\",fontsize=15)","d7a6c8d6":"sns.countplot(policek.signs_of_mental_illness)\nplt.xlabel(\"Mental Illness\")\nplt.ylabel(\"Number of Mental Illness\")\nplt.title(\"Having mental illness or not\",color=\"blue\",fontsize=15)","9c1ab146":"sns.countplot(policek.threat_level)\nplt.xlabel(\"Threat Types\")\nplt.title(\"Threat Types\",color=\"blue\",fontsize=15)","e50b8d9e":"sns.countplot(policek.flee)\nplt.xlabel(\"Flee Types\")\nplt.title(\"Flee Types\",color=\"blue\",fontsize=15)","9a261c09":"sns.countplot(policek.body_camera)\nplt.xlabel(\"Having Body Cameras\")\nplt.title(\"Having Body Cameras or Not\",color=\"blue\",fontsize=15)","fdc32f87":"sta=policek.state.value_counts().index[:10]\nsns.barplot(x=sta,y=policek.state.value_counts().values[:10])\nplt.title(\"Kill Number From States\",color=\"blue\",fontsize=15)","43f427e3":"sharer.head()\nsharer.info()\nsharer.describe()","afc9040f":"sharer.replace(['-'],0.0,inplace=True)\nsharer.replace(['(X)'],0.0,inplace=True)\nsharer.loc[:,[\"share_white\",\"share_black\",\"share_native_american\",\"share_asian\",\"share_hispanic\"]]=sharer.loc[:,[\"share_white\",\"share_black\",\"share_native_american\",\"share_asian\",\"share_hispanic\"]].astype(float)","83d99bd7":"area_list=list(sharer[\"Geographic area\"].unique())\nshare_white=[]\nshare_black=[]\nshare_native_american=[]\nshare_asian=[]\nshare_hispanic=[]\nfor i in area_list:\n    x=sharer[sharer[\"Geographic area\"]==i]\n    share_white.append(sum(x.share_white)\/len(x))\n    share_black.append(sum(x.share_white)\/len(x))\n    share_native_american.append(sum(x.share_white)\/len(x))\n    share_asian.append(sum(x.share_white)\/len(x))\n    share_hispanic.append(sum(x.share_white)\/len(x))","b18a0351":"f,ax=plt.subplots(figsize=(9,15))\nsns.barplot(x=share_white,y=area_list,alpha=0.5,color='red',label=\"White\")\nsns.barplot(x=share_black,y=area_list,alpha=0.6,color='green',label=\"African American\")\nsns.barplot(x=share_native_american,y=area_list,color='blue',alpha=0.7,label=\"Native American\")\nsns.barplot(x=share_asian,y=area_list,color='yellow',alpha=0.9,label=\"Asian\")\nsns.barplot(x=share_hispanic,y=area_list,color='cyan',alpha=0.9,label=\"Hispanic\")\n\nax.legend(loc=\"lower right\",frameon=True)\nax.set(xlabel=\"Percentage of Races\",ylabel=\"States\",title=\"Percentage Of State's Population According to Races\")\nplt.show()","2c132ed3":"percento.head()\npercento.info()\n#percento.describe()","f49c9e95":"#High School graduation rate of the population that is older than 25 in states\npercento.percent_completed_hs.value_counts()\npercento.percent_completed_hs.replace([\"-\"],0.0,inplace=True)\npercento.percent_completed_hs=percento.percent_completed_hs.astype(float)","256d2351":"area_list=list(percento[\"Geographic Area\"].unique())\narea_hs=[]\nfor i in area_list:\n    x=percento[percento[\"Geographic Area\"]==i]\n    area_hs_rate=sum(x.percent_completed_hs)\/len(x)\n    area_hs.append(area_hs_rate)","b0e2067d":"data=pd.DataFrame({\"area_list\": area_list,\"area_highschool_ratio\":area_hs})\nnew_index=(data[\"area_highschool_ratio\"].sort_values(ascending=True)).index.values\nsorted_data2=data.reindex(new_index)","08026fa5":"plt.figure(figsize=(15,10))\nsns.barplot(x=sorted_data2[\"area_list\"],y=sorted_data2[\"area_highschool_ratio\"])\nplt.xticks(rotation=90)\nplt.xlabel(\"States\")\nplt.ylabel(\"High School Graduate Rate\")\nplt.title(\"Percentage of Given State Population Above 25 That Has Graduated HS\")","ecdf8659":"#high school graduation rate vs Poverty rate of each state\nsorted_data.head()\nsorted_data2.head()\n\nsorted_data[\"area_poverty_ratio\"]=sorted_data[\"area_poverty_ratio\"]\/max(sorted_data[\"area_poverty_ratio\"])\nsorted_data2[\"area_highschool_ratio\"]=sorted_data2[\"area_highschool_ratio\"]\/max(sorted_data2[\"area_highschool_ratio\"])\ndata=pd.concat([sorted_data,sorted_data2[\"area_highschool_ratio\"]],axis=1)\ndata.sort_values(\"area_poverty_ratio\",inplace=True)","95ed4701":"f,ax1=plt.subplots(figsize=(20,10))\nsns.pointplot(x=\"area_list\",y=\"area_poverty_ratio\",data=data,color=\"lime\",alpha=0.8)\nsns.pointplot(x=\"area_list\",y=\"area_highschool_ratio\",data=data,color=\"red\",alpha=0.8)\nplt.text(40,0.6,\"high school graduate ratio\",color=\"red\",fontsize=17,style=\"italic\")\nplt.text(40,0.55,\"poverty ratio\",color=\"lime\",fontsize=18,style=\"italic\")\nplt.xlabel(\"States\",fontsize=15,color=\"blue\")\nplt.ylabel(\"Values\",fontsize=15,color=\"blue\")\nplt.title(\"High School Graduate vs Poverty Rate\",fontsize=20,color=\"blue\")\nplt.grid\nplt.show()","13fe9579":"sns.lmplot(x=\"area_poverty_ratio\",y=\"area_highschool_ratio\",data=data)\nplt.show()","ca34075d":"g=sns.jointplot(data.area_poverty_ratio,data.area_highschool_ratio,data=data,kind=\"kde\",shade=True)\nplt.savefig(\"graph.png\")\nplt.show()","e1ff59d4":"sns.kdeplot(data.area_poverty_ratio,data.area_highschool_ratio,shade=True,cut=5,color=\"green\")\nplt.show()","9295ca47":"g=sns.jointplot(\"area_poverty_ratio\",\"area_highschool_ratio\",data=data,height=5,ratio=3,color=\"r\")","f4cfdce2":"pal=sns.cubehelix_palette(2,rot=-.5,dark=.3)\nsns.violinplot(data=data,palette=pal,inner=\"points\")\nplt.show()","301b4ea9":"f,ax=plt.subplots(figsize=(5,5))\nsns.heatmap(data.corr(),annot=True,linewidth=.5,fmt=\".1f\",ax=ax)\nplt.show()","81e94e8d":"sns.pairplot(data)\nplt.show()","0de7b0ce":"<a id=\"5\"><\/a><br>\n### SHARE RACE BY CITY","13f7063f":"<a id=\"3\"><\/a><br>\n### POLICE KILLINGS US","2fb56c0b":"<a id=\"1\"><\/a><br>\n### MEDIAN HOUSE HOLD INCOME 2015","1587089b":"<a id=\"4\"><\/a><br>\n### PERCENT OVER 25 COMPLETED HIGH SCHOOL","a7f55aa1":"# CONTENTS\n\n* [MEDIAN HOUSE HOLD INCOME 2015](#1)\n* [PERCENTAGE PEOPLE BELOW POVERTY LEVEL](#2)\n* [POLICE KILLINGS US](#3)\n* [PERCENT OVER 25 COMPLETED HIGH SCHOOL](#4)\n* [SHARE RACE BY CITY](#5)","6fe35eb4":"<a id=\"2\"><\/a><br>\n### PERCENTAGE PEOPLE BELOW POVERTY LEVEL"}}