{"cell_type":{"7909aa47":"code","6a8bcb3e":"code","43e90830":"code","d68a638a":"code","8384eefe":"code","23061e8a":"code","b280bb16":"code","0dce5ebe":"code","a53ebffa":"code","bad51ee4":"code","43276e9c":"code","daffb16a":"code","cb1b1c9d":"code","de14d8e4":"code","b55f1296":"code","4b5afa82":"code","0d8f847a":"code","2aab0e4a":"code","69f7590b":"code","a7ce1f56":"code","3c9ff547":"code","451d2570":"code","c5f7554c":"code","e2717063":"code","94b68fa1":"code","cdc9e6e2":"code","39745704":"code","093dc67b":"code","fabfbaea":"code","6559d4b1":"code","8165ac0b":"code","231cf7f9":"code","08023892":"code","40cca412":"code","10e17d1d":"code","9458e406":"code","69007912":"code","67f72684":"code","ecfbda15":"code","bdd589a1":"code","b2f6433c":"code","881c820b":"code","3da7749d":"code","3479d3bd":"code","77471d26":"code","c93f5add":"code","1c6a86f8":"markdown","9f9d2385":"markdown","134c706a":"markdown","1cf8c1cc":"markdown","972e58c5":"markdown","e132e4c7":"markdown","c2361afc":"markdown","d6686f8d":"markdown","cc5abb4d":"markdown","a8e35dd6":"markdown","1f7a507f":"markdown","6d8754cb":"markdown","338de8d4":"markdown","5746b933":"markdown","03f1f33f":"markdown","8932639d":"markdown","42baf88f":"markdown","04af9592":"markdown","b7472fee":"markdown","8fb664b4":"markdown","11e542e2":"markdown","80d4df18":"markdown","7174cf1b":"markdown","4fd2c8d3":"markdown","b4e281b9":"markdown","a0ca8c81":"markdown","698b164d":"markdown","b3f602b6":"markdown","bca65be7":"markdown","2c883f27":"markdown","ad3ac77d":"markdown","c1c73599":"markdown","e7b365c4":"markdown","c092c645":"markdown","cc6fbc62":"markdown","e31e5a97":"markdown","cf77dcfc":"markdown","035c1f89":"markdown","22d9dcf6":"markdown","6738ba75":"markdown","102dc4aa":"markdown","985a8489":"markdown","03ca0014":"markdown","03859ba3":"markdown","f7d926b8":"markdown"},"source":{"7909aa47":"# import all packages and set plots to be embedded inline\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sb\n\n%matplotlib inline\ndf = pd.read_csv('..\/input\/ford-gobike-2019feb-tripdata\/201902-fordgobike-tripdata.csv')\ndf.head()","6a8bcb3e":"df.bike_id.nunique()","43e90830":"df.bike_id.count()","d68a638a":"df.columns","8384eefe":"# deleting some columns.\ndf=df.drop(['start_station_latitude',\n       'start_station_longitude', \n       'end_station_latitude', 'end_station_longitude'], axis=1)","23061e8a":"# converting the time to date time so I can use it in analysis.\ndf['start_time'] = pd.to_datetime(df['start_time'])\ndf['end_time'] = pd.to_datetime(df['end_time'])\ndf.info()\n","b280bb16":"df.duplicated().sum()","0dce5ebe":"df.bike_share_for_all_trip=df.bike_share_for_all_trip.replace('No', 'False')\ndf.bike_share_for_all_trip=df.bike_share_for_all_trip.replace('Yes', 'True')\ndf.head()","a53ebffa":"df.duration_sec.dtype","bad51ee4":"df.duration_sec.describe()","43276e9c":"bin_edges = np.arange(61, df['duration_sec'].max()+500, 500)\nsb.distplot(df['duration_sec'], bins = bin_edges, kde = False,\n            hist_kws = {'alpha' : 0.5})\nplt.title('Duration frequency');\n","daffb16a":"bin_edges = np.arange(61, df['duration_sec'].max()+60, 60)\nsb.distplot(df['duration_sec'], bins = bin_edges, kde = False,\n            hist_kws = {'alpha' : 0.5})\nplt.xlim((0,3000));\nplt.ylabel('frequency per each minute');\nplt.axvline(1510, color='red')\nplt.title('Duration frequency');\n","cb1b1c9d":"df.query('duration_sec<1510').count()[0]\/df.shape[0]","de14d8e4":"df.duration_sec.describe()","b55f1296":"plt.boxplot(df.duration_sec);\nplt.ylim((0,3000));\nplt.title('Duration boxplot chart');\nplt.xlabel('duration distribution');\nplt.ylabel('duration (sec)');","4b5afa82":"\ndf['start_date']=df['start_time'].apply(lambda x: x.strftime('%Y-%m-%d'))\ndf['end_date']=df['end_time'].apply(lambda x: x.strftime('%Y-%m-%d'))\ndf.head()","0d8f847a":"df['hour_start']= df['start_time'].dt.hour\ndf['hour_end']= df['end_time'].dt.hour\ndf['day_of_week']= df['start_time'].dt.day_name()","2aab0e4a":"\ndayes = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n\nordered = pd.api.types.CategoricalDtype(ordered=True, categories=dayes)\n\n\ndf['day_of_week'] = df['day_of_week'].astype(ordered);\n","69f7590b":"df.head()","a7ce1f56":"df.day_of_week.unique()","3c9ff547":"sb.countplot(data=df, y='hour_start', color='blue', order=df.hour_start.value_counts().index);\nplt.title('start hours frequency');\n","451d2570":"plt.figure(figsize = [16, 5])\n\nplt.subplot(1, 2, 1)\nplt.title('Start hour frequency')\nsb.countplot(data=df, y='hour_start', color='blue');\n\nplt.subplot(1, 2, 2)\nplt.title('End hour frequency')\nsb.countplot(data=df, y='hour_end', color='blue');","c5f7554c":"plt.figure(figsize = [16, 5])\nplt.subplot(1, 2, 1)\nplt.title('Start hour frequency for sunday')\nsb.countplot(data=df.query('day_of_week==\"Sunday\"'), y='hour_start', color='blue');\nplt.subplot(1, 2, 2)\nplt.title('Start hour frequency for Saturday')\nsb.countplot(data=df.query('day_of_week==\"Saturday\"'), y='hour_start', color='blue');","e2717063":"plt.figure(figsize = [16, 5])\nplt.subplot(1, 2, 1)\nsb.countplot(data=df.query('day_of_week==\"Thursday\"'), y='hour_start', color='blue');\nplt.title('Start hour frequency for Thursday');\nplt.subplot(1, 2, 2)\nsb.countplot(data=df.query('day_of_week==\"Friday\"'), y='hour_start', color='blue');\nplt.title('Start hour frequency for Friday');","94b68fa1":"sorted_counts = df.groupby('day_of_week').start_time.count()\n\nplt.pie(sorted_counts, labels = sorted_counts.index, startangle = 90, counterclock = False);\nplt.title('Pie chart for weekdays frequency trips');\n# plt.axis('square')","cdc9e6e2":"\nsb.countplot(data=df, y='start_station_name', color='blue', order=df.start_station_name.value_counts().index);\nplt.title('Start station names frequency');","39745704":"# first 10 start stations\nsb.countplot(data=df, y='start_station_name', color='blue', order=df.start_station_name.value_counts()[:10].index);\nplt.title('Most ten common start stations names');\n\n","093dc67b":"# first 10 end stations\nsb.countplot(data=df, y='end_station_name', color='blue', order=df.end_station_name.value_counts()[:10].index);\nplt.title('Most ten common end station names');","fabfbaea":"df.start_station_name.unique()","6559d4b1":"df.member_birth_year.describe()","8165ac0b":"bin_edges = np.arange(1950, df['member_birth_year'].max()+5, 5)\nsb.distplot(df['member_birth_year'], bins = bin_edges, kde = False,\n            hist_kws = {'alpha' : 0.5})\n# plt.xlim((0,3000));\nplt.ylabel('frequency of birthyear')\nplt.title('Birthyear distribution chart');\n","231cf7f9":"# number of bikes contributing:\ndf.bike_id.nunique()\n","08023892":"n=df.shape[0]\nmax_type_count=df.member_gender.value_counts()[0]\nmax_prop=max_type_count\/n","40cca412":"plt.figure(figsize = [16, 5])\ntick_props=np.arange(0,max_prop, 0.15)\ntick_names=['{:0.2f}'.format(v) for v in tick_props]\nsb.countplot(data=df, y='member_gender', color='blue', order=df.member_gender.value_counts().index)\nplt.xticks(tick_props*n, tick_names)\nplt.xlabel('gender proportion');\nplt.title('Gender Participating proportion')\ntype_counts=df.member_gender.value_counts()\nfor i in range (type_counts.shape[0]):\n    count = type_counts[i]\n    pct_string = '{:0.1f}'.format(100*count\/n)\n    plt.text(count+1, i, pct_string, va='center')","10e17d1d":"df.member_gender.unique()","9458e406":"df.head()","69007912":"df.plot.scatter(x='hour_start', y='duration_sec', alpha=1\/5)\nplt.title('Duration versus start hours');\n","67f72684":"# plt.figure(figsize = [20, 20]);\ng = sb.JointGrid(data = df, x = 'hour_end', y = 'duration_sec');\ng.plot_joint(plt.scatter);\ng.plot_marginals(sb.rugplot, height = 0.25);\nplt.title('Duration versus end hours', y=0.955);","ecfbda15":"# violet charts are made for quantitative variable versus qualitative variable.\nbase_color = sb.color_palette()[0]\nsb.violinplot(data=df.query('duration_sec<2000'), x = 'day_of_week', y = 'duration_sec', color=base_color);\nplt.xticks(rotation=15);\nplt.title('Duration distribution versus weekdays', y=1);","bdd589a1":"sb.pointplot(data=df.query('duration_sec<2000'), x='day_of_week', y='duration_sec', color=base_color, ci='sd', linestyles=\"\")\nplt.xticks(rotation=15);\nplt.ylabel('duration_sec');\nplt.title('comparison between duration interquantile ranges for weekdays', y=1);","b2f6433c":"# clustered bar charts occure between two qualitative variables.\nsb.countplot(data = df, x = 'member_gender', hue = 'user_type');\nplt.title('member types & gender');\n","881c820b":"sb.barplot(data=df.query('duration_sec<3000'), x='bike_share_for_all_trip', y='duration_sec', color = base_color, ci='sd')\nplt.xticks(rotation = 45);\nplt.title('Participating in the initiative');","3da7749d":"ttype_markers = [['Subscriber', 'o'],\n               ['Customer', '^']]\n\nfor ttype, marker in ttype_markers:\n    plot_data=df.loc[df['user_type']==ttype]\n    sb.regplot(data=plot_data, x='hour_start', y='duration_sec', x_jitter=.5, scatter_kws={'alpha':1\/5}, \n               fit_reg= False, marker=marker);\nplt.xlabel('hour_start');\nplt.ylabel('duration_sec');\nplt.legend(['Subscriber','Customer']);\n\nplt.title('member type durations during end hour');\n","3479d3bd":"g = sb.FacetGrid(data =df, col = 'day_of_week', row = 'user_type', height = 2.5,\n                margin_titles = True)\ng.map(plt.scatter, 'hour_start', 'duration_sec', alpha=1\/2);\nplt.title('start hours duration for different weekdays and user types', y=2.3, x=-3.5);","77471d26":"g = sb.FacetGrid(data =df, col = 'member_gender', row = 'user_type', height = 2.5,\n                margin_titles = True);\ng.map(plt.scatter, 'member_birth_year', 'duration_sec');\nplt.title('member birthyear and their trip duration for differnt user types & genders', y=2.3, x=-0.75);","c93f5add":"df.columns","1c6a86f8":"Subscribers are significantly much higher than customers for both genders.","9f9d2385":"there are 4646 bike used in the region.","134c706a":"### Talk about some of the relationships you observed in this part of the investigation. Were there features that strengthened each other in terms of looking at your feature(s) of interest?\n\n> Multivariate visualization convey more informations at once, and support figuring out the data, in this case, three variable integrate together to inform us two points that previously mentioned.\n\n### Were there any interesting or surprising interactions between features?\n\n> not surprizing, results all make sense,  but combining features between weekdays and duration and member type is really interesting.","1cf8c1cc":"All are right skewed. Nearly the same distribution trend, condensed between (250-500 seconds), A little bit higher spread for weekends. ","972e58c5":"for any day other than the weekends the graph show bimodal behaviour","e132e4c7":"\n> Variable: duration_sec","c2361afc":"### What is the structure of your dataset?\n\n> The structure is good but it is better to delete some columns (lat & long)\n\n### What is\/are the main feature(s) of interest in your dataset?\n\n> trip duration, timing & places are features of interests because they affect directly to profit.\n\n### What features in the dataset do you think will help support your investigation into your feature(s) of interest?\n\n> Member birth year may support prediction of his activity.","d6686f8d":"the figure shows common days for trip, the weekends are the least.","cc5abb4d":"there are outliers, so we may focus on normal durations by limiting the x axis.","a8e35dd6":"## Bivariate Exploration\n\n","1f7a507f":"## Univariate Exploration\n","6d8754cb":"### Discuss the distribution(s) of your variable(s) of interest. Were there any unusual points? Did you need to perform any transformations?\n\n> there are unusual points in trip durations (outliers), which we must take in consideration if we planned to take means or something.\n> no I dont think we need any transformations untill now.\n\n### Of the features you investigated, were there any unusual distributions? Did you perform any operations on the data to tidy, adjust, or change the form of the data? If so, why did you do this?\n\n> all distributions make sense, the dataset is tidy, each row represent observation (trip), each column represent label, the table has observational unit (trip), we just added columns which were created from timestamp, to make analysis easier. And some quality issues like type conversion takes place.\n","338de8d4":"variable types:\n\n    duration_sec:quantitative, discrete \n    \n    start_time & end_time: quantitative, continuous\n    \n    all id`s: categorical, nominal.\n    \n    station names: categorical, nominal.\n    \n    user_type :  categorical, nominal.\n    \n    member_birth_year: categorical, ordinal\n    \n    member_gender: categorical, nominal.\n    \n    bike_share_for_all_trip: categorical, nominal.","5746b933":"Younger members tend to trip longer for both genders & types.","03f1f33f":"Trip duration tend to be higher slightly for customers rather than subscribers, specially for weekdays thursday, sunday & saturday.","8932639d":"### Cleaning","42baf88f":"Trip durations for those people who are not participating for the initiative are slightly higher. while the spread of duration distribution for participating people are higher. ","04af9592":"About 95% of trips have duration less than 1510 seconds.","b7472fee":"\n> Variable: start and end station","8fb664b4":"-Trip time must be converted to time type.\n\n-The date time may be separated from the time stamp so that we can analyse them separately.\n\n-The column bike_share_for_all_trip is better converted to True & False.\n\n-The row or observational unit of the table represents a trip.\n\n","11e542e2":"The histogram skewed to the left, most common riders birthyears are between  1980 and 1995","80d4df18":"\n> Variable: member birthyear","7174cf1b":"Trips which start in 7-10 oclock are more likely to have higher durations, compared to other times.","4fd2c8d3":"### Talk about some of the relationships you observed in this part of the investigation. How did the feature(s) of interest vary with other features in the dataset?\n\n> Duration distribution and day hours are very interesting, trips that ends after work are likely to get higher durations.\n\n### Did you observe any interesting relationships between the other features (not the main feature(s) of interest)?\n\n> The significant difference between member types.","b4e281b9":"## Data wrangling\n","a0ca8c81":"the stations are too many to display, the next set of charts will be clearer.","698b164d":"the most common hours to start & end riding is 17 & 8\n","b3f602b6":"there are null values in two columns.","bca65be7":"### Assesing","2c883f27":"## Multivariate Exploration\n\n> Create plots of three or more variables to investigate your data even\nfurther. Make sure that your investigations are justified, and follow from\nyour work in the previous sections.","ad3ac77d":"Most common trip durations are between 250 and 500 seconds, bins are adjusted for each 60 seconds.","c1c73599":"the boxplot is showing the first and third interquantiles and median positions.","e7b365c4":"Questions:\n\nwhat is the most common day, hour, month?\n\nwhat is the most common start and end stations?\n\nIs there a relation between trip duration and the birth year?\n\nIs there a relation between trip duration and the trip month or day?\n\nIs there a problem with some bikes, so that they were barely used?\n\nwhat is the relation between start & end stations and trips timing?","c092c645":"> Variable: member_gender","cc6fbc62":"During start hours of 7 oclock, both member types tend to trip longer.\nIt seems that subscribers have generaly higher trip durations.","e31e5a97":"# (Ford GoBike System Data)\n## by (Amr Abuzeid)\n\n## Introduction\n\n> It is a public bicycle sharing system in the San Francisco. Beginning operation in August 2013 as Bay Area Bike Share,The system is operated by Motivate in a partnership with the Metropolitan Transportation Commission and the Bay Area Air Quality Management District. Bay Wheels is the first regional and large-scale bicycle sharing system deployed in California and on the West Coast of the United States.\nBicycles are made available for shared use to individuals on a short term basis for a price or free. Many bike share systems allow people to borrow a bike from a \"dock\" and return it at another dock belonging to the same system. Docks are special bike racks that lock the bike, and only release it by computer control. The user enters payment information, and the computer unlocks a bike. The user returns the bike by placing it in the dock, which locks it in place. Other systems are dockless. For many systems, smartphone mapping apps show nearby available bikes and open docks.","cf77dcfc":"Lets try scatter plots with two quantitative variables.\n1- time versus trip start time.","035c1f89":"> Load in your dataset and describe its properties through the questions below.\nTry and motivate your exploration goals through this section.","22d9dcf6":"> Variable: start_time & end time","6738ba75":"Bimodal shape for both figures representing condensed trips around 8 and 17 o` clock","102dc4aa":"Trips which end between 15-12 oclock are more likely to have higher durations, compared to other times.","985a8489":"no duplicated rows","03ca0014":"males proportions are about three times higher than females.","03859ba3":"A clearer figure for duration spread which is higher for weekends, showing interquantile ranges for weekdays.","f7d926b8":"some stations are very common for going & arrivals like Townsend ST at 4th st station"}}