{"cell_type":{"fe84cc91":"code","42cbd464":"code","3763fc83":"code","1054964a":"code","2dc264f8":"code","b75d814c":"code","86db7f57":"code","e0f76f6f":"code","e6cd9ad4":"code","6d91072a":"code","2f81984a":"code","a853d83f":"code","99716500":"code","633f8dac":"code","baa4ac6a":"code","519ac713":"code","edc5ff15":"code","6c62d98e":"code","2bade0fd":"code","7cb3d48d":"code","fcdae2e4":"code","d901992a":"code","e1b3a397":"code","20a3be8d":"code","b91aac99":"code","25515ed9":"code","cd981f26":"code","4bb8c44d":"code","37baa55c":"code","1ea1c77d":"code","4c6d0b97":"code","902e560f":"code","d2c7be9e":"code","0f535dc7":"code","44e53b83":"code","c3bd3308":"code","bf6601ef":"code","a82dd10b":"code","eb299e81":"code","a6c55b12":"code","9bffaca7":"code","f6de9d3d":"code","2db499ec":"code","3613eb25":"code","1d5b4cb6":"code","13862e69":"code","0b71d7cb":"code","b56655e3":"code","c500fdd2":"code","5a72e584":"code","e9ff71de":"code","d99f72a2":"code","774ea44b":"code","7941f1d3":"code","b385af58":"code","1b19d930":"markdown","c1380b95":"markdown","4c755ecd":"markdown","528dc924":"markdown","6f06bf9a":"markdown","c6cba41e":"markdown","01b6c026":"markdown","faf9493f":"markdown","ea222bdf":"markdown","2247046d":"markdown","7789ba93":"markdown","cc5d0734":"markdown","3a4be72a":"markdown","fbf08bd3":"markdown","293dade8":"markdown","94d8a16d":"markdown","d16fc916":"markdown","53c10661":"markdown","2fa741ae":"markdown","8dbab6d4":"markdown","a6ea1513":"markdown","207dea0d":"markdown","d12662c5":"markdown","dcb2879b":"markdown","a84c9a64":"markdown","aaeb44de":"markdown","f4dbf1e8":"markdown","88f25d2f":"markdown","a363b1e4":"markdown","2b0c6964":"markdown","3fa5b566":"markdown","e639a393":"markdown","f7462380":"markdown","4dddb310":"markdown","2e184a0a":"markdown","dd59d79e":"markdown","7e026ba2":"markdown","45e445b0":"markdown","6421a8a9":"markdown","354db49f":"markdown"},"source":{"fe84cc91":"import pandas as pd\nimport numpy as np \nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline","42cbd464":"\ndf = pd.read_csv(\"..\/input\/hotel-booking\/hotel_booking.csv\")","3763fc83":"df.head()","1054964a":"df.describe()","2dc264f8":"df.columns","b75d814c":"df.shape\n# 119390 Rows , 36 Coloumns","86db7f57":"df.isna().sum().sum()","e0f76f6f":"null_df = df.isnull()\nnull_df[null_df[:] == True].count()\n# Agents has most missing values","e6cd9ad4":"df.drop([\"company\"],axis=1,inplace=True)","6d91072a":"df[\"country\"].value_counts()[0:5]\n","2f81984a":"num = df[\"adr\"].idxmax()\nprice = df[\"adr\"].max()\nname = df.iloc[num][\"name\"]\nprint(str(price) + \" - \" + name)","a853d83f":"round(df[\"adr\"].mean(),2)","99716500":"df[\"stays_nights\"] = (df[\"stays_in_week_nights\"]) + (df[\"stays_in_weekend_nights\"])","633f8dac":"round(df[\"stays_nights\"].mean(),2)","baa4ac6a":"specialReqs = df[df[\"total_of_special_requests\"] == 5]","519ac713":"specialReqs[\"name\"]","edc5ff15":"names = df[\"name\"].apply(lambda p : p.split()[1])","6c62d98e":"df[\"family_names\"] = names","2bade0fd":"df[\"family_names\"].value_counts()[0:5]","7cb3d48d":"df[\"babies_and_children\"] = df[\"babies\"] + df[\"children\"]\nmost_bc = df[df[\"babies_and_children\"] == 10]\nmost_bc[\"name\"]","fcdae2e4":"df[\"phone-number\"].apply(lambda p : p[0:3]).value_counts()[0:3]\n","d901992a":"import matplotlib.pyplot as plt\nimport seaborn as sns\n","e1b3a397":"df.drop([\"phone-number\",\"email\",\"credit_card\",\"name\",\"reservation_status_date\"], axis=1,inplace=True)","20a3be8d":"df.head()","b91aac99":"df[\"total_of_special_requests\"].describe()","25515ed9":"sns.countplot(x = \"hotel\",data = df)","cd981f26":"sns.countplot(x = \"arrival_date_year\", data = df)\nplt.show()","4bb8c44d":"sns.countplot(x = \"arrival_date_year\", data = df, hue = \"hotel\")\nplt.show()","37baa55c":"c = df.groupby(\"arrival_date_year\")[\"arrival_date_month\"].value_counts().unstack().fillna(0)\nsns.heatmap(data=c,cmap=\"YlGnBu\")\nplt.show()","1ea1c77d":"sns.barplot(x = df[\"meal\"], y = df[\"adr\"])\nplt.show()","4c6d0b97":"sns.barplot(x = df[\"meal\"], y = df[\"stays_in_weekend_nights\"])\nplt.show()","902e560f":"sns.barplot(x = df[\"meal\"], y = df[\"required_car_parking_spaces\"])","d2c7be9e":"sns.barplot(x = df[\"is_canceled\"], y = df[\"previous_cancellations\"], hue = df[\"is_repeated_guest\"])","0f535dc7":"sns.barplot(x = df[\"is_canceled\"], y = df[\"days_in_waiting_list\"])","44e53b83":"sns.barplot(y = df[\"is_canceled\"], x = df[\"deposit_type\"])","c3bd3308":"fig = plt.figure(figsize=(10,5))\nsns.barplot(y = df[\"adr\"], x = df[\"arrival_date_month\"])","bf6601ef":"sns.barplot(y = df[\"children\"], x = df[\"arrival_date_month\"])\nplt.show()","a82dd10b":"sns.barplot(y = df[\"babies\"], x = df[\"assigned_room_type\"])","eb299e81":"sns.barplot(y = df[\"children\"], x = df[\"assigned_room_type\"])","a6c55b12":"fig = plt.figure(figsize=(10,5))\n\nsns.barplot(y = df[\"booking_changes\"], x = df[\"country\"])","9bffaca7":"sns.barplot(y = df[\"adr\"], x = df[\"customer_type\"])","f6de9d3d":"sns.barplot(y = df[\"total_of_special_requests\"], x = df[\"customer_type\"])","2db499ec":"sns.histplot(df[\"hotel\"])","3613eb25":"sns.barplot(y = df[\"is_canceled\"], x = df[\"hotel\"])\n","1d5b4cb6":"sns.barplot(y = df[\"is_repeated_guest\"], x = df[\"hotel\"])\n","13862e69":"fig = plt.figure(figsize=(13,5))\n\nsns.barplot(y = df[\"adr\"], x = df[\"arrival_date_month\"],hue= df[\"hotel\"])","0b71d7cb":"fig = plt.figure(figsize=(10,5),dpi = 100)\nsns.histplot(df[\"adr\"], bins=300 , kde=True)\nplt.xlim(0, 400)\n","b56655e3":"sns.scatterplot(x = df[\"adr\"] , y = df[\"babies\"])","c500fdd2":"sns.stripplot(x = df[\"arrival_date_year\"], y = df[\"adr\"])\nplt.ylim(0, 400)\n","5a72e584":"sns.scatterplot(x = df[\"stays_in_week_nights\"], y = df[\"stays_in_weekend_nights\"])","e9ff71de":"sns.countplot(df[\"meal\"],hue= df[\"hotel\"])","d99f72a2":"fig = plt.figure(figsize=(10,5),dpi = 100)\n\nsns.countplot(df[\"market_segment\"],hue= df[\"hotel\"])","774ea44b":"sns.histplot(x = df[\"adults\"], bins=400)\nplt.xlim(0, 4)\n","7941f1d3":"sns.barplot(x = df[\"hotel\"], y = df[\"total_of_special_requests\"])","b385af58":"sns.barplot(x = df[\"hotel\"], y = df[\"required_car_parking_spaces\"])","1b19d930":"### Customers with the history of cancellation tend to cancel more often\n\n### Interestingly repeated guests tend to cancel more","c1380b95":"### Resort hotel has more guests in summer and City hotel has more in winter and fall","4c755ecd":"# 5. Removing Company","528dc924":"* More guests came during 2016 than 2015 and 2017.\n* After 2016 we can see a drop off in the rate of guests.\n* After 2015 there were a huge jump in the rate of guests.","6f06bf9a":"# 9. Stayed Nights","c6cba41e":"### More special requests in Resort hotel","01b6c026":"# 8. Mean of ADR's","faf9493f":"### This could account for inflation or the quality just get better between 2015 - 2017","ea222bdf":"### Resort hotel have more repeated guests","2247046d":"### Customers of city hotel cancel more","7789ba93":"* Guests with HB meal tend to stay longer in hotel\n* Guests with SC (The most expensive one) stay less in hotel","cc5d0734":"# 2. Inspecting Dataset","3a4be72a":"# 7. Most ADR name","fbf08bd3":"* Non Refundable payments tends to cancel more, why?\n* Refundable deposit_type canceled less than the others","293dade8":"* City Hotel has more guests by a large margin","94d8a16d":"* Guests with HB meal pay more than the others\n* Undefined meals pay less than the others","d16fc916":"# Data Visualization","53c10661":"* We can see the same trend in both hotels \n* In the 2015-2017 interval City hotel accepted more guests than Resort hotel\n* The change in the guests in all years are greater for City hotel than Resort hotel\n","2fa741ae":"### More days in waiting list, more chance of cancelling","8dbab6d4":"# 3. Rows","a6ea1513":"# 11. Family Names Frequency","207dea0d":"### Room C is more suitable for babies","d12662c5":"### Room G, F, H more suitable for children","dcb2879b":"### More stays in week nights directly results into more stays in weekend","a84c9a64":"### So far HB meal guys using most of the utils","aaeb44de":"# 1. Reading Dataset","f4dbf1e8":"# 12. Most Babies with Children","88f25d2f":"### City hotel's bb is more favorable than Resort one","a363b1e4":"# 10. Special Requests","2b0c6964":"### Transient Customers have more adr","3fa5b566":"### Matrix Heatmap On Year | Month\n","e639a393":"# 4. Missing Data","f7462380":"### More children in July & August that any other month by a large margin\n* In July and August more children go to hotels\n* In November less children go to hotels (They're busy studying...)","4dddb310":"* More guests in July, June, March, May \n* October 2016 and May 2017 has the most guests than the other months\n* Some data is missing in 2015 and 2017 ","2e184a0a":"### Some countries tend to change their booking more","dd59d79e":"### Less adr's in fall and winter\n* August gives the most revenue than other months\n* We see the U trend type between July to June\n* December's revenue slightly higher than the adjacent months\n* August, July, June are the top 3 in adr and this could be derived from the fact, that in summer people go to vacation more ","7e026ba2":"# 13. Most Frequent Phone nums","45e445b0":"# 6. Most travelers","6421a8a9":"### Resort hotel guests require more car parking spaces","354db49f":"### Dropped some unrelated columns"}}