{"cell_type":{"27ef2d02":"code","3e425b09":"code","aae45a3b":"code","b3859c87":"code","f62cc9a4":"code","9ed4b887":"code","70f8a062":"code","0f8f91a1":"code","96cfc525":"code","c3c86018":"code","35d0e91d":"code","eeab1777":"code","23e6b3b2":"code","a288579b":"code","85328567":"code","0a16218e":"code","bd7581c2":"markdown","ac8315ba":"markdown","b6accbe9":"markdown","177069f5":"markdown","fe8cb4ab":"markdown"},"source":{"27ef2d02":"import numpy as np \nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom sklearn.preprocessing import StandardScaler\n%matplotlib inline","3e425b09":"from IPython.core.interactiveshell import InteractiveShell\nInteractiveShell.ast_node_interactivity = \"all\"","aae45a3b":"churn_data=pd.read_csv('..\/input\/churn-modelling-fore\/Churn_Modelling.csv')\nchurn_data.drop(['RowNumber','CustomerId','Surname'],axis=1,inplace=True)\nchurn_data.head(5)","b3859c87":"fig,axis=plt.subplots(ncols=3, figsize=(12,6))\nfig.suptitle(\"churn count based on gender\",fontsize=15)\nsns.countplot(x='Exited',data=churn_data,ax=axis[0])\nsns.countplot(x='Exited',hue='Gender',data=churn_data,ax=axis[1])\nsns.countplot(x='IsActiveMember',hue='Gender',data=churn_data,ax=axis[2])\n\nchurn_data[['Exited','IsActiveMember','Gender']].groupby('Gender').sum()\n\n#it can be observed that churn is more in female gender more than male. However female gender have more active members. This might suggest that the bank should introduce more female centric products to retain them","f62cc9a4":"fig,axis=plt.subplots(ncols=2, figsize=(12,6))\nfig.suptitle(\"Distribution of balance and estimated salary\",fontsize=15)\nsns.distplot(churn_data.Balance,hist=False,ax=axis[0])\n\nsns.distplot(churn_data.EstimatedSalary,hist=False,ax=axis[1])\n\n#We can observe that balance is following a normal distribtion for non-zero values, estimated salary is following a uniform distribution","9ed4b887":"#since balance has lot of zero values we can divide that into zero and non zero values and observe the churn effect\nchurn_data['Balance_binary']=churn_data['Balance'].where(churn_data['Balance']==0,1)\nchurn_data['Balance_binary'].value_counts()","70f8a062":"churn_data[['Balance_binary','Exited']].groupby('Balance_binary').mean()\nchurn_data[['Balance_binary','IsActiveMember']].groupby('Balance_binary').mean()\n#we can observe that churning is more in customers with non zero balance \n#We can also see that active members exist in both zero and non zero balance customers","0f8f91a1":"sns.relplot(x = 'Age',\n            y = 'Balance',\n            hue = 'Exited',\n            kind = 'scatter',\n            data = churn_data,\n            cmap = 'winter')\n\n#We can observe that majority of the churn customers are in age range of 40-60 and are maintaining balance more than 50000","96cfc525":"sns.relplot(x = 'Age',\n            y = 'EstimatedSalary',\n            hue = 'Exited',\n            kind = 'scatter',\n            data = churn_data,\n            cmap = 'winter')","c3c86018":"\n\n\n_ = sns.displot( x = 'Age',hue='Exited',kind='kde', data = churn_data )\n\n#Age is skewed to right with lot of customers between the age of 40 and 50. However the churn is occurring mostly in the age gap 40-50 years","35d0e91d":"#we can check for box plot on age\n_=sns.boxplot(x = 'Exited',       \n              y = 'Age',          \n              data = churn_data\n              )\n\n# e can observe that there are many outliers","eeab1777":"#Average credit score countrywuse\nchurn_data[['Geography', 'CreditScore']].groupby('Geography').mean()\n\n\n_=sns.catplot(\n               x = 'Exited',\n               hue = 'Gender',\n               col = 'Geography',\n               kind = 'count',\n               data = churn_data\n             )\n#it could be observed that bank has greater presence in france but churn is higher in germany. Credit score is similar in all regions","23e6b3b2":"sns.displot(churn_data, x=\"Exited\", hue=\"Geography\", kind=\"kde\", fill=True)","a288579b":"churn_data[['NumOfProducts','Exited']].groupby('NumOfProducts').sum()\nchurn_data[['HasCrCard','Exited']].groupby('HasCrCard').sum()","85328567":"sns.displot(churn_data, x=\"Exited\", hue=\"HasCrCard\", kind=\"kde\", fill=True)","0a16218e":"fig,axis=plt.subplots(ncols=2, figsize=(12,6))\nfig.suptitle(\"churn count based on number of products and credit card users\",fontsize=15)\nsns.countplot(x='Exited',hue='NumOfProducts',data=churn_data,ax=axis[0])\nsns.countplot(x='IsActiveMember',hue='NumOfProducts',data=churn_data,ax=axis[1])\n\n#It can be observed that customers with higher products are exiting, to retain them bank should start a loyalty program","bd7581c2":"# Impact of number of products and credit card on churn","ac8315ba":"# Analysis based on geography","b6accbe9":"# Count of churn data","177069f5":"# Checking the distributions of the attributes","fe8cb4ab":"#Credit card customers churn details"}}