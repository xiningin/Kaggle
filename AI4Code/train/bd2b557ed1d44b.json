{"cell_type":{"ce2ee959":"code","48f1f94b":"code","6e22042e":"code","59ceab8f":"code","b6e69703":"code","f329e7ed":"code","e0212d56":"code","38b21ad4":"code","36c5a778":"code","bd4cff07":"code","388143a0":"code","9f93e295":"code","cb490973":"code","faba2673":"code","f96c68a6":"code","ce5d1879":"code","6552607a":"code","73a15eeb":"code","5dc5785e":"code","a0efc3ca":"code","13d946ff":"code","726bdbc2":"code","db72b484":"code","a6944e33":"code","12b8359b":"code","98b1de95":"code","78bad53e":"code","b7f7a789":"code","82ba29ff":"code","4f218de0":"code","f8ab9240":"code","9d03a10d":"code","6cb9ceb4":"code","cc276c24":"code","9ec59ed2":"code","5ead35bc":"code","2bde0be2":"code","cb7e65e6":"code","9d0e16da":"code","289b7943":"code","200c10e6":"code","a4395326":"code","a274c9b3":"code","f3185c37":"code","b843e1de":"code","2486e276":"code","96051e13":"code","98d2dcf9":"code","2b8c3713":"code","e75e9982":"code","fd5341c7":"markdown","179871f0":"markdown","46a4b0ce":"markdown","064c0e47":"markdown","af6d8c6a":"markdown","78571824":"markdown","c7159c4d":"markdown","246daba9":"markdown","86db3798":"markdown","64b77d03":"markdown","4222e4e2":"markdown","289eb872":"markdown","fd8834e1":"markdown","288669db":"markdown","5781737a":"markdown","62a5fbce":"markdown","07073a98":"markdown","76a2f47f":"markdown","cbba8c4e":"markdown","76a45371":"markdown","3c5f8e95":"markdown","dbe1150c":"markdown","1eac8e1f":"markdown","acc9baa6":"markdown","1bb2794b":"markdown","c4e0f71c":"markdown","ca373b21":"markdown","1739063f":"markdown","27a8c2c3":"markdown","383af286":"markdown","18f0b60b":"markdown","3da7f8ea":"markdown","c5f81e1b":"markdown","2e4816f8":"markdown","53e272b3":"markdown","93a58bb8":"markdown","76e2d5bc":"markdown","2b991d82":"markdown","87a22a01":"markdown","8b604818":"markdown","0aff12d8":"markdown","860c0204":"markdown"},"source":{"ce2ee959":"import numpy as np\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport seaborn as sns","48f1f94b":"startups = pd.read_csv(\"..\/input\/sp-startup\/50_Startups.csv\", sep=\",\")\ndf = startups.copy()","6e22042e":"df.head() #ba\u015ftan ilk be\u015f g\u00f6zlemimiz","59ceab8f":"df.info() ","b6e69703":"df.shape","f329e7ed":"df.isna().sum() # g\u00f6rm\u00fc\u015f oldu\u011fumuz gibi eksik verimiz bulunmamakta","e0212d56":"corr = df.corr()\ncorr ","38b21ad4":"sns.heatmap(corr,\n            xticklabels=corr.columns.values,\n            yticklabels=corr.columns.values);","36c5a778":"sns.scatterplot(x = \"R&D Spend\", y = \"Profit\", data = df); ","bd4cff07":"df.info() #info ile verileri tekrardan \u00e7a\u011f\u0131r\u0131p say\u0131sal olanlar\u0131 displot kullanarak histogram grafi\u011fine d\u00f6n\u00fc\u015ft\u00fcrelim. ","388143a0":"sns.distplot(df[\"R&D Spend\"], bins=16, color=\"purple\");","9f93e295":"sns.distplot(df[\"Administration\"], bins=16, color=\"blue\");","cb490973":"sns.distplot(df[\"Marketing Spend\"], bins=16, color=\"gold\");","faba2673":"sns.distplot(df[\"Profit\"], bins=16, color=\"green\");","f96c68a6":"df[\"State\"].unique()","ce5d1879":"df['State'] = pd.Categorical(df['State'])","6552607a":"dfDummies = pd.get_dummies(df['State'], prefix = 'StateOf')","73a15eeb":"dfDummies.head() # t\u00fcm de\u011ferleri g\u00f6sterip kalabal\u0131k yapmak istemedim.","5dc5785e":"df = pd.concat([df, dfDummies], axis = 1)\ndf.head()","a0efc3ca":"df.drop([\"State\", \"StateOf_New York\"], axis = 1, inplace = True)","13d946ff":"df.head()","726bdbc2":"X = df.drop(\"Profit\", axis = 1)\ny = df[\"Profit\"]","db72b484":"X.head(10)","a6944e33":"y.head(10)","12b8359b":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.2, random_state = 0)\n # test size'\u0131 %20 yapt\u0131m yani 10 veriye tekab\u00fcl ediyor %80'ini de train yani e\u011fitim i\u00e7in kullan\u0131yorum 40 veriyi.","98b1de95":"X_train.head(10)","78bad53e":"X_test # g\u00f6r\u00fcld\u00fc\u011f\u00fc gibi di\u011ferlerinde ba\u015ftan 10 tane getir demi\u015ftim bunda dememe gerek yok \u00e7\u00fcnk\u00fc test %20 al\u0131yor","b7f7a789":"y_train.head(10)","82ba29ff":"y_test # ayn\u0131 \u015feklilde test oldu\u011fu i\u00e7in bu da 10 de\u011fer alacakt\u0131r.","4f218de0":"from sklearn.linear_model import LinearRegression\nlm = LinearRegression()","f8ab9240":"model = lm.fit(X_train, y_train)","9d03a10d":"y_pred = model.predict([[100000, 85000, 200000, 0, 0]])\ny_pred ","6cb9ceb4":"df[\"kar_tahmin\"] = model.predict(X)\ndf.head(10)","cc276c24":"from sklearn.metrics import mean_squared_error\nMSE = mean_squared_error(df[\"Profit\"], df[\"kar_tahmin\"])\nMSE","9ec59ed2":"import math\nRMSE = math.sqrt(MSE)\nRMSE","5ead35bc":"from sklearn.metrics import mean_absolute_error\n\nMAE = mean_absolute_error(df[\"Profit\"], df[\"kar_tahmin\"])\nMAE","2bde0be2":"model.score(X_train,y_train)","cb7e65e6":"import statsmodels.api as sm\nstmodel = sm.OLS(y, X).fit()","9d0e16da":"stmodel.summary()","289b7943":"df.drop([\"StateOf_California\", \"StateOf_Florida\", \"kar_tahmin\"], axis = 1, inplace = True)","200c10e6":"df.head()","a4395326":"X1 = df.drop(\"Profit\", axis = 1)\nX1.head() # X'e yeni tablomuzu aktar\u0131yorum ki eski tablo ile e\u011fitmeyelim di mi?","a274c9b3":"y.head() # y'de bir de\u011fi\u015fiklik yapmad\u0131k zaten.","f3185c37":"X1_train, X1_test, y_train, y_test = train_test_split(X1, y, test_size = 0.2, random_state = 0) ","b843e1de":"lm = LinearRegression()\nmodel2 = lm.fit(X1_train, y_train)","2486e276":"y_pred2 = model2.predict([[100000, 85000, 200000]])\ny_pred2","96051e13":"df[\"kar_tahmin\"] = model2.predict(X1)\ndf.head(10)","98d2dcf9":"MSE1 = mean_squared_error(df[\"Profit\"], df[\"kar_tahmin\"])\nMSE1","2b8c3713":"RMSE1 = math.sqrt(MSE1)\nRMSE1 # 9053.031218703098 eski de\u011feri","e75e9982":"model2.score(X1_train,y_train) # r squared de\u011ferinin ise \u00e7ok k\u00fc\u00e7\u00fck bir d\u00fc\u015f\u00fc\u015f ya\u015fad\u0131\u011f\u0131n\u0131 g\u00f6r\u00fcyoruz.","fd5341c7":"***not:*** bu grafikten startuplar\u0131n \u00e7ok b\u00fcy\u00fck bir k\u0131sm\u0131n\u0131n 100bin'e yak\u0131n miktarda kar elde ettiklerini g\u00f6rmekteyiz.","179871f0":"Dileyenler statsmodel kullanarak hangi \u00f6zniteliklerin model i\u00e7in %95 g\u00fcvenilirlikle ne kadar anlaml\u0131 olup olmad\u0131\u011f\u0131na da bakabilir. Modelde baz\u0131 feature selection i\u015flemleri yaparak tekrardan e\u011fitip yeni sonu\u00e7lar mukayese edilebilir.","46a4b0ce":"\u0130lk 5 g\u00f6zlemini yazd\u0131ral\u0131m.","064c0e47":"not: eski MSE 81957374.24681288 olarak hesaplam\u0131\u015ft\u0131k k\u00fc\u00e7\u00fckte olsa bir d\u00fc\u015f\u00fc\u015f olmas\u0131 bize tahmin de\u011ferlerimiz ile ger\u00e7ek de\u011ferler aras\u0131nda daha iyi bir regresyon olu\u015fturdu\u011fumu g\u00f6sterir","af6d8c6a":"Korelasyon matrisi \u00e7izdirelim.","78571824":"50 adet Startup'\u0131n ara\u015ft\u0131rma ve geli\u015ftirmeye y\u00f6nelik harcamas\u0131, y\u00f6netime y\u00f6nelik harcamas\u0131, pazarlama harcamas\u0131, kazand\u0131klar\u0131 kar miktar\u0131 ve kurulduklar\u0131 lokasyon bilgisi bulunmaktad\u0131r. Ama\u00e7 kar miktar\u0131n\u0131 tahmin etmektir. Bu bir say\u0131sal tahmin problemidir ve ba\u011f\u0131ml\u0131 de\u011fi\u015fkenimiz \"Profit\".","c7159c4d":"burada 50 sat\u0131rdan olu\u015fan bir veri \u00e7er\u00e7evemizin oldu\u011funu g\u00f6r\u00fcyoruz ve info i\u00e7erisinde her birinin 50 adet no-null de\u011feri oldu\u011funu g\u00f6rebiliyoruz ama bunu k\u0131sa bir kodla da inceleyebiliriz.","246daba9":"LinearRegression'u \u00e7ekirde\u011fe dahil edip modeli in\u015fa edelim.","86db3798":"sklearn b\u00fcnyesinde bar\u0131nan metrics'i \u00e7ekirde\u011fe dahil edelim ve MAE, MSE, RMSE de\u011ferlerini g\u00f6r\u00fcnt\u00fcleyelim.","64b77d03":"***not:*** R Squared de\u011feri modeldeki ba\u011f\u0131ms\u0131z de\u011fi\u015fkenlerin ba\u011f\u0131ml\u0131 de\u011fi\u015fkenleri ifade etmesidir. bu de\u011fer 1'e ne kadar yak\u0131nsa o kadar iyidir bizim modelimide bu 0.95 \u00e7\u0131kt\u0131 yani gayet iyi.","4222e4e2":"not: burada P de\u011ferine bakarsak 0.05'ten b\u00fcy\u00fck de\u011ferler bizim modelimiz i\u00e7in \u00e7ok faydal\u0131 de\u011fillerdir (State \u00f6zniteliklerine bakarsan\u0131z g\u00f6r\u00fcrs\u00fcn\u00fcz) onlar\u0131 \u00e7\u0131kar\u0131p R Squared de\u011ferini bir daha hesaplatal\u0131m bakal\u0131m modelimiz daha do\u011fru tahminlerde bulunabilecekmi ve ek olarak bunlara kar tahmini de silece\u011fim \u00e7\u00fcnk\u00fc silmezsem eski de\u011ferlerle i\u015flem yapar.","289eb872":"not: evet g\u00f6rd\u00fc\u011f\u00fcm\u00fcz gibi yeni kar_tamin \u00f6zniteli\u011fimizdeki de\u011ferler eskisinden farkl\u0131. \u015fimdi bir de MSE RMSE ve R Squared oranlar\u0131n\u0131 da bulal\u0131m ve modelimizin daha iyi mi yoksa daha k\u00f6t\u00fc m\u00fc oldu\u011funu tart\u0131\u015fal\u0131m.","fd8834e1":"Say\u0131sal de\u011fi\u015fkenlerin da\u011f\u0131l\u0131m\u0131n\u0131 g\u00f6rmek i\u00e7in df \u00fczerinden histogram \u00e7izdirelim.","288669db":"***not:*** burada da az \u00f6ncekibahsetti\u011fimiz durumu daha g\u00fczel bir \u015fekilde g\u00f6rebilmekteyiz.","5781737a":"Tahminleri ve ger\u00e7ek de\u011ferleri bir veri \u00e7er\u00e7evesinde toplay\u0131p \u00fczerinde g\u00f6z gezdirelim.","62a5fbce":"***not:*** 100bin arge'ye, 85bin y\u00f6netim'e, 200bin pazarlama'ya harcayan ve New York'lu olan startuplar 130717 dolar kar elde edecektir \u00e7\u0131kar\u0131m\u0131nda bulunabilirim. burada bilerek New Yorku Se\u00e7tim \u00e7\u00fcnk\u00fc \u015funu da g\u00f6rm\u00fc\u015f olduk sadece iki de\u011ferin durumuna g\u00f6re \u00fc\u00e7\u00fcnc\u00fc durumu anlayabiliyoruz. California = 0 ve Florida = 0 ise New York = 1 dir.","07073a98":"Seaborn ile korelasyon matrisinin \u0131s\u0131 haritas\u0131n\u0131 \u00e7izdirelim.","76a2f47f":"Ka\u00e7 g\u00f6zlem ve \u00f6znitelikten olu\u015ftu\u011funu g\u00f6r\u00fcnt\u00fcleyelim.","cbba8c4e":"get_dummies yard\u0131m\u0131yla State'a dair kategorik \u00f6znitelik \u00e7\u0131kar\u0131mlar\u0131nda bulunal\u0131m. \u00c7\u00fcnk\u00fc State'lar\u0131n birbirine \u00fcst\u00fcnl\u00fc\u011f\u00fc yok, nominaller. Ordinal de\u011fil.","76a45371":"4 par\u00e7a de\u011fi\u015fkeni kontrol edelim.","3c5f8e95":"Dizinde bulunan veri \u00e7er\u00e7evemizi startups de\u011fi\u015fkenine atayal\u0131m. startups de\u011fi\u015fkenini df de\u011fi\u015fkenine kopyalayarak kullanmaya ba\u015flayal\u0131m.","dbe1150c":"***not:*** bu grafikte veriler 100bin ile 150bin aras\u0131nda daha yo\u011fun oldu\u011funu g\u00f6rebiliyoruz R&D Spend grafi\u011finde s\u0131f\u0131ra yak\u0131n de\u011fer vard\u0131 ve oradaki yo\u011funluk vard\u0131 ama burada en k\u00fc\u00e7\u00fck de\u011ferin bile 50binde ba\u015flad\u0131\u011f\u0131n\u0131 g\u00f6rmekteyiz.","1eac8e1f":"Veri \u00e7er\u00e7evesinin temel istatistik de\u011ferlerini g\u00f6r\u00fcnt\u00fcleyelim.","acc9baa6":"Veri \u00e7er\u00e7evemizi ba\u011f\u0131ml\u0131 ve ba\u011f\u0131ms\u0131z de\u011fi\u015fkenler olmak \u00fczere b\u00f6l\u00fctleyelim.","1bb2794b":"# Do\u011frusal Regresyon Egzersizleri","c4e0f71c":"***not:*** burada da verilerin 0 ila 400bin aras\u0131nda bir skalada de\u011fi\u015fti\u011fini g\u00f6rmekteyiz bu \u00f6nceden inceledi\u011fimiz 2 grafikteki skaladan da geni\u015f buradan \u015fu \u00e7\u0131kar\u0131m\u0131 yapabiliriz baz\u0131 startuplar pazarlamaya nerdeyse hi\u00e7 para harcam\u0131yorken baz\u0131 startuplarsa \u00e7ok fazla miktarda bir harcama yapmakta keza yo\u011funlu\u011fu inceleyecek olursak e\u011fer 200bin ile 400bin aras\u0131nda 200bin'e daha yak\u0131n bir de\u011fer oldu\u011funu g\u00f6rebiliriz.","ca373b21":"***not:*** \u015eimdi de t\u00fcm bunlar\u0131n ne ifade ettiklerine bir bakal\u0131m ***yapaca\u011f\u0131m***","1739063f":"***not:*** histogramlar bize verimizin belli aral\u0131lardaki yo\u011funlu\u011funu g\u00f6sterir verimizin 0'dan 150bin-200bin aras\u0131nda de\u011ferlere sahip oldu\u011funu g\u00f6r\u00fcyoruz bunun yan\u0131nda verimizin 50bin ile 100bin aras\u0131nda daha fazla topland\u0131\u011f\u0131n\u0131 g\u00f6r\u00fcyoruz ama burada en k\u00fc\u00e7\u00fck de\u011fer olarak s\u0131f\u0131r\u0131 g\u00f6rmemiz baz\u0131 startuplar\u0131n ara\u015ft\u0131rma geli\u015ftirmeye yat\u0131r\u0131m yapmad\u0131\u011f\u0131 yada \u00e7ok az yapt\u0131\u011f\u0131n\u0131 g\u00f6rebiliyoruz.","27a8c2c3":"Veri \u00e7er\u00e7evesinin bilgilerini g\u00f6r\u00fcnt\u00fcleyelim.","383af286":"***not***: fark bu matris \u00fczerinden profit ile R&D Spend aras\u0131nda 1'e yak\u0131n bir de\u011fer g\u00f6zlenmi\u015f bu demek oluyor ki ikisi aras\u0131nda pozitif nerdeyse m\u00fckemmel bir ili\u015fki bulunmakta iki tane daha 0.7'nin \u00fczerinde de\u011fer var bunlarda pozitif ve g\u00fc\u00e7l\u00fc ili\u015fkiler marketing spend ile de administration aras\u0131nda da negatif bir ili\u015fki oldu\u011funu g\u00f6rmekteyiz.","18f0b60b":"Modeli e\u011fitmek i\u00e7in ba\u011f\u0131ml\u0131 ba\u011f\u0131ms\u0131z de\u011fi\u015fkenlerden olu\u015fturulan e\u011fitim verilerini verelim.","3da7f8ea":"not: tabi \u015fu anda bir de\u011fi\u015fim g\u00f6remeyiz yeni tablomuz ile modelimizi e\u011fitmeliyiz ben bu sefer model2 diyece\u011fim ki model ile bir kar\u015f\u0131la\u015ft\u0131rma yapabilelim.","c5f81e1b":"***not:*** State sadece object t\u00fcr\u00fcnde di\u011fer t\u00fcm kolonlar float yani say\u0131sal de\u011ferler","2e4816f8":"State \u00f6zniteli\u011fini silip dummy olarak yarat\u0131lan State'lardan da birisini hari\u00e7 tutarak veri \u00e7er\u00e7evemizi g\u00fcncelleyelim.","53e272b3":"Eksik verileri kontrol edelim.","93a58bb8":"Modelin R Squared de\u011ferini e\u011fitim verileri \u00fczerinden yazd\u0131ral\u0131m.","76e2d5bc":"R&D Spend ve Profit aras\u0131ndaki korelasyonu daha iyi g\u00f6rebilmek i\u00e7in scatterplot \u00e7izdirelim.","2b991d82":"Bu ba\u011f\u0131ml\u0131 ve ba\u011f\u0131ms\u0131z de\u011fi\u015fkenlerden train ve test olmak \u00fczere 4 par\u00e7a olu\u015ftural\u0131m. Bunu yapmak i\u00e7in train_test_split kullanal\u0131m.","87a22a01":"State'a ait benzersiz de\u011ferleri g\u00f6r\u00fcnt\u00fcleyelim.","8b604818":"Numpy, matplotlib.pyplot, pandas ve seaborn k\u00fct\u00fcphanelerini \u00e7ekirde\u011fe dahil edelim.","0aff12d8":"Ba\u011f\u0131ml\u0131 ve ba\u011f\u0131ms\u0131z de\u011fi\u015fkenleri kontrol edelim.","860c0204":"Modele daha \u00f6nce g\u00f6rmedi\u011fi ba\u011f\u0131ml\u0131 test de\u011fi\u015fkenini tahmin ettirelim. Bu tahmin de\u011ferlerimizi y_pred de\u011fi\u015fkenine atayal\u0131m."}}