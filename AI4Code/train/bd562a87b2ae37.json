{"cell_type":{"95f3a968":"code","aace88be":"code","1fae662a":"code","11a2850f":"code","1c741fc7":"code","b558a089":"code","dbb1e62f":"code","513042ca":"code","0b8a4d23":"code","327d3d85":"code","c81c2b26":"code","67cf5515":"code","b35b8e7a":"code","91a8b2df":"code","53974333":"code","aead62bb":"code","09120e4e":"code","309cdcee":"code","7abfc2e0":"code","0f501aa8":"code","24d2a0ad":"code","af5b325b":"code","0357f6e1":"code","b3b23942":"code","46b1b372":"code","b4d47389":"code","a5197d15":"code","85579fad":"code","fb76ed2d":"code","b82410f4":"code","037cb81f":"code","a1ae52fc":"code","7fb1692a":"code","f365449a":"code","ee5d5b4f":"code","e2ebb0df":"code","aa614398":"code","baaff7bf":"code","836d34ab":"code","fdfc0d06":"code","3ff27f14":"code","d979ad97":"code","1cc1287d":"code","673b4780":"code","2fc589cb":"code","e8cb840d":"code","861c17d2":"code","715b758c":"code","62d0f960":"code","b37f953d":"code","35433d60":"code","b387646a":"code","e7756c9c":"code","98ee686e":"code","14e9531b":"markdown","610b7487":"markdown"},"source":{"95f3a968":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","aace88be":"data=pd.read_csv('..\/input\/climate-change\/climate_change.csv')","1fae662a":"data.head()","11a2850f":"data.describe()","1c741fc7":"data.info()","b558a089":"# data.isnull().sum()","dbb1e62f":"#data.columns","513042ca":"data_train=data[data['Year']<=2005]","0b8a4d23":"data_train","327d3d85":"data_test=data[data['Year']>2005]","c81c2b26":"data_test.head()","67cf5515":"data_train.info()","b35b8e7a":"data_test.info()","91a8b2df":"import seaborn as sns\nimport matplotlib.pyplot as plt","53974333":"corr = data.corr()\nfig, ax = plt.subplots(figsize = (12,8))\ng= sns.heatmap(corr,ax=ax, annot= True, cmap='coolwarm', annot_kws={'size':12}) # or greys, coolwarm\nax.set_title('Correlation between Variables', size= 20)","aead62bb":"# CO2 increasing with the year, Temperature increases with the year, CO2, CH4, N2O, CFC-12","09120e4e":"corr","309cdcee":"# Use linear regression","7abfc2e0":"\nX_train=data.drop(['Month'],axis=1)","0f501aa8":"X_train=X_train.drop(['Temp'],axis=1)","24d2a0ad":"X_train","af5b325b":"Y_train=data['Temp']\n","0357f6e1":"Y_train","b3b23942":"OLS(Y_train,X_train).fit().summary()","46b1b372":"X_train","b4d47389":"Y_train","a5197d15":"OLS(Y_train,X_train).fit().summary()","85579fad":"X_CO2 = X['CO2']\nX_CO2","fb76ed2d":"#OLS(Y_train,X).fit().summary()","b82410f4":"X_CO2 = sm.add_constant(X_CO2)\nOLS(Y_train,X_CO2).fit().summary()","037cb81f":"X_CH4 = X['CH4']\nX_CH4 = sm.add_constant(X_CH4)\nOLS(Y_train,X_CH4).fit().summary()","a1ae52fc":"X","7fb1692a":"X_N2O= X['N2O']\nX_N2O = sm.add_constant(X_N2O)\nOLS(Y_train,X_N2O).fit().summary()","f365449a":"X_CO2_CH4_N2O= X[['CO2', 'CH4', 'N2O']]\nX_CO2_CH4_N2O = sm.add_constant(X_CO2_CH4_N2O)\nOLS(Y_train,X_CO2_CH4_N2O).fit().summary()","ee5d5b4f":"X_CO2_CH4_N2O","e2ebb0df":"\n\nfrom sklearn import datasets,linear_model\nfrom sklearn.metrics import mean_squared_error,r2_score","aa614398":"from sklearn.linear_model import LinearRegression","baaff7bf":"model=LinearRegression()","836d34ab":"model.fit(X_train,Y_train)","fdfc0d06":"print(model.coef_)","3ff27f14":"X_test=data_test.drop(['Temp'],axis=1)\n\nY_test=data_test['Temp']","d979ad97":"X_test=X_test.drop(['Year'],axis=1)\nX_test=X_test.drop(['Month'],axis=1)\n\n","1cc1287d":"Y_predt=model.predict(X_test)","673b4780":"Y_predt","2fc589cb":"\n\nprint(mean_squared_error(Y_test,Y_predt))","e8cb840d":"print(r2_score(Y_test,Y_predt))\n# Why the R2 is so low 0.24?","861c17d2":"from statsmodels.api import OLS","715b758c":"X_train.head()","62d0f960":"Y_train.head()","b37f953d":"OLS(Y_train,X_train).fit().summary()\n#Why the R2 is much higher here? The P value for CH4 is strange.","35433d60":"model.score(X_train, Y_train)","b387646a":"# next steps: run with Y = temp, and X = CO2 and CH4\n# Use bubble chart or bar chart to show the coefficients of gases.\n# Add line chart for time series of all the green house gases","e7756c9c":"#Use Altair to plot correlation matrix","98ee686e":"data","14e9531b":"X_train = sm.add_constant(X_train)\nX_train","610b7487":"# add a constant to fix the uncentered issue\nimport statsmodels.api as sm"}}