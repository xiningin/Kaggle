{"cell_type":{"c230916a":"code","0a5330fc":"code","87279b3a":"code","2852d09e":"code","ad379a95":"code","11ae6139":"code","b6204624":"code","dfa7777d":"code","61819e49":"code","32586d40":"code","9e20acac":"code","be9c2585":"code","fe6de224":"code","148f45ff":"code","a6df61f7":"code","b367d7ec":"code","afb715be":"code","f8a31a49":"code","b9c3c555":"code","8c42ec13":"code","80f5b006":"code","6e97ac19":"code","96986a73":"code","7399039d":"code","2bed72f0":"code","44e7bc69":"code","3f8906de":"code","ab8c7bcf":"code","d4ffb5b6":"code","d06cfe9a":"code","a4d61c78":"code","8ec298b7":"code","974dbe1b":"code","a813f94f":"code","6628102f":"code","e11c2b17":"code","d799be3e":"code","e96e26e3":"markdown","c11c139e":"markdown","13a4cb6b":"markdown","4c356565":"markdown","9b994371":"markdown","d484810c":"markdown","bd1ed209":"markdown","781a4a8b":"markdown","322849ff":"markdown","9843902c":"markdown","6095e697":"markdown","c8960c8c":"markdown","764093cc":"markdown","d4f8945e":"markdown","d443cc3c":"markdown","6f3e531d":"markdown","a07b8701":"markdown","d9f58861":"markdown","c5672fa4":"markdown","144b53da":"markdown","5b05cf06":"markdown","ac0b5e97":"markdown","d4b889aa":"markdown","d17ec6e9":"markdown","b753f732":"markdown","e969fcec":"markdown","a611a8f6":"markdown","ee7ff636":"markdown","ccf5d27a":"markdown","611e37c9":"markdown","79e05683":"markdown","3425335f":"markdown","915e136a":"markdown","d5aa610d":"markdown","2592baac":"markdown","8f215580":"markdown","f9f8a6b0":"markdown","3dd4742e":"markdown"},"source":{"c230916a":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport scipy.stats as stats\nimport statsmodels.stats.proportion as stats_pro\n%matplotlib inline\nsns.set(color_codes=True)\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","0a5330fc":"insurance=pd.read_csv('\/kaggle\/input\/insurance\/insurance.csv')\ninsurance.head()","87279b3a":"shape_insurance=insurance.shape\nprint('The shape of the dataframe insurance is',shape_insurance,'which means there are',shape_insurance[0],'rows and',shape_insurance[1],'columns.')","2852d09e":"#The data type be found through the info function\ninsurance.info()","ad379a95":"#The data type also be found through the dtype function\nprint('The data type of attribute age is',insurance['age'].dtype)\nprint('The data type of attribute sex is',insurance['sex'].dtype)\nprint('The data type of attribute bmi is',insurance['bmi'].dtype)\nprint('The data type of attribute children is',insurance['children'].dtype)\nprint('The data type of attribute smoker is',insurance['smoker'].dtype)\nprint('The data type of attribute region is',insurance['region'].dtype)\nprint('The data type of attribute charges is',insurance['charges'].dtype)","11ae6139":"print('The missing values in the dataframe Insurance are:','\\n',insurance.isnull().sum(),'\\n','which means there are no null values in the dataset')","b6204624":"# Another way to find the missing values\nprint('The missing values in the attribute age are',insurance['age'].isnull().sum())\nprint('The missing values in the attribute age are',insurance['sex'].isnull().sum())\nprint('The missing values in the attribute age are',insurance['bmi'].isnull().sum())\nprint('The missing values in the attribute age are',insurance['children'].isnull().sum())\nprint('The missing values in the attribute age are',insurance['smoker'].isnull().sum())\nprint('The missing values in the attribute age are',insurance['region'].isnull().sum())\nprint('The missing values in the attribute age are',insurance['charges'].isnull().sum())\n","dfa7777d":"insurance.describe().T","61819e49":"insurance_5pt=insurance.describe().loc[['min','25%','50%','75%','max'],['age','bmi','children','charges']].T\nprint('The 5 point summary of numerical attribute is:','\\n',insurance_5pt)","32586d40":"plt.hist(insurance['bmi'])\nplt.xlabel('bmi')\nplt.ylabel('count')\nplt.title('Distribution of BMI')\nplt.show()","9e20acac":"plt.hist(insurance['age'])\nplt.xlabel('age')\nplt.ylabel('count')\nplt.title('Distribution of Age')\nplt.show()","be9c2585":"plt.hist(insurance['charges'])\nplt.xlabel('charges')\nplt.ylabel('count')\nplt.title('Distribution of Charges')\nplt.show()","fe6de224":"skewness_bmi=round(stats.skew(insurance['bmi']),4)\nskewness_age=round(stats.skew(insurance['age']),4)\nskewness_charges=round(stats.skew(insurance['charges']),4)\n\nprint(' The skewness of bmi is', skewness_bmi,'\\n','The skewness of age is',skewness_age,'\\n','The skewness of charges is',skewness_charges)","148f45ff":"bmi_boxplot=sns.boxplot(insurance['bmi']);\nprint(' As seen in the previous step, skewness is very less for BMI', '\\n','checking if there are any outliars by ploting a box plot.','\\n' ,' As seen in the chart below,There are outliars on the right.','\\n')\nplt.show()","a6df61f7":"age_boxplot=sns.boxplot(insurance['age']);\nprint(' As checked in the previous step, there is negligible skewness in age.', '\\n','Checking if there are any outliars by ploting a box plot.','\\n' ,'As seen in the chart below, there doesnt seem to be an outliar.')\nplt.show()","b367d7ec":"charges_boxplot=sns.boxplot(insurance['charges']);\nprint(' As seen in the above step, charges have high skewness.','\\n' ,'Checking if there are any outliars by ploting a box plot.',  '\\n' ,'There are outliars on the right.')\nplt.show()","afb715be":"#The categorical columns are sex,smoker,region,children\n# Distribution of Sex\nsns.countplot(insurance['sex'])\nplt.xlabel('Gender')\nplt.ylabel('count')\nplt.title('Distribution of genders')\nplt.show()","f8a31a49":"# Distribution of smoker\nsns.countplot(insurance['smoker'])\nplt.xlabel('smoker')\nplt.ylabel('count')\nplt.title('Distribution of smoker')\nplt.show()","b9c3c555":"# Distribution of region\nsns.countplot(insurance['region'])\nplt.xlabel('region')\nplt.ylabel('count')\nplt.title('Distribution of region')\nplt.show()","8c42ec13":"# Distribution of children\nsns.countplot(insurance['children'])\nplt.xlabel('children')\nplt.ylabel('count')\nplt.title('Distribution of children')\nplt.show()","80f5b006":"#Pair plot doesnt contain display non numeric values. Hence, we will have to convert non numeric columns into numbers. \n#The non-numeric columns are sex, smoke and BMI.\ninsurance_pp=insurance.copy()\ninsurance_pp['sex']=insurance_pp['sex'].astype('category').cat.codes\ninsurance_pp['smoker']=insurance_pp['smoker'].astype('category').cat.codes\ninsurance_pp['region']=insurance_pp['region'].astype('category').cat.codes","6e97ac19":"sns.pairplot(insurance_pp);","96986a73":"id_smo_charges=np.array(insurance[['charges','smoker']])\nid_smo_charges","7399039d":"## separating the charges paid by smokers and non-smokers\n\n# identify charges paid by smokers\nsmo_charges = id_smo_charges[:,1]=='yes'\nsmo_charges = id_smo_charges[smo_charges][:,0]\n\n# identify charges paid by non-smoker\nnon_smo_charges = id_smo_charges[:,1]=='no'\nnon_smo_charges = id_smo_charges[non_smo_charges][:,0]","2bed72f0":"t_statistics, p_value = stats.ttest_ind(smo_charges,non_smo_charges)","44e7bc69":"print(t_statistics, p_value)","3f8906de":"# p_value < 0.05. Hence, the null hypothesis is rejected.\n# which means that the charges of people who smoke differ significantly from the people who don't smoke.\nprint(' Two sample t-test p-value',p_value, 'is significantly less than alpha (0.05).','\\n' ,'Hence the null hypothesis is rejected.','\\n','Therefore charges of people who smoke differ from charges of people who dont smoke')","ab8c7bcf":"bmi_sex=np.array(insurance[['bmi','sex']])\nbmi_sex","d4ffb5b6":"bmi_male=bmi_sex[:,1]=='male'\nbmi_male=bmi_sex[bmi_male][:,0]\nbmi_female=bmi_sex[:,1]=='female'\nbmi_female=bmi_sex[bmi_female][:,0]","d06cfe9a":"t_statistics, p_value = stats.ttest_ind(bmi_male,bmi_female)\nprint(t_statistics,p_value)","a4d61c78":"# p-value is greater than alpha (0.05). Hence, we fail to reject the null hypothesis. \n\nprint(' Two sample t-test p-value is',round(p_value,6),'which is more than alpha (0.05).','\\n'' Hence, we fail to reject the null hypothesis; which means that gender has no effect on BMI.')","8ec298b7":"# computing the number of males and females\nmale_count=insurance['sex'].value_counts()[0]\nfemale_count=insurance['sex'].value_counts()[1]\nprint(' The total number of males is',male_count,'\\n','The total number of females is',female_count)\n\n# computing the number of male and female smokers\nmale = insurance['sex']=='male'\nmale_smoker = insurance[male].smoker.value_counts()[1]\nfemale = insurance['sex']=='female'\nfemale_smoker = insurance[female].smoker.value_counts()[1]\nprint(' The male smoker count is',male_smoker,'\\n','The female smoker count is',female_smoker)\nprint(' The proportion of male smoker is',round(male_smoker\/male_count,4),'\\n','The proportion of female smoker is',round(female_smoker\/female_count,4))","974dbe1b":"test_statistics,p_value=stats_pro.proportions_ztest([male_smoker,female_smoker],[male_count,female_count])\n\ntest_statistics,p_value\n\nprint(' The p-value is',round(p_value,4),'which is significantly lower than alpha(0.05).','\\n' ,'Hence, the null hypothesis is rejected.','\\n','Therefore, the proportion of smokers differ significantly in genders.')\n","a813f94f":"#plotting a bar graph to analyse the distribution of BMI\nsns.boxplot(data=insurance,x=\"children\",y=\"bmi\",hue=\"sex\");\nplt.title('Distribution of BMI')\nplt.show()","6628102f":"## in this step we will segregate BMI for all females by the number of children (0,1,2)\nbmi_sex=np.array(insurance[['sex','bmi','children']])\n#identify all females\nbmi_female=bmi_sex[bmi_sex[:,0]=='female']\n#bmi for females with 0 children\nz_bmi_female=bmi_female[bmi_female[:,2]==0][:,1]\n#bmifor females with 1 child\no_bmi_female=bmi_female[bmi_female[:,2]==1][:,1]\n#bmi for females with 2 children\nt_bmi_female=bmi_female[bmi_female[:,2]==2][:,1]","e11c2b17":"f_stat,p_value=stats.f_oneway(z_bmi_female,o_bmi_female,t_bmi_female)\nprint('The statistics computed is',round(f_stat,4),'and the p-value computed is',round(p_value,4))","d799be3e":"print(' The p-value is',round(p_value,4),', which is significantly larger than alpha(0.05).','\\n','Hence we fail to reject the null hypothesis.','\\n', 'Therefore, There is no significant evidence to conclude that BMI for women having 0,1 or 2 children is different.')","e96e26e3":"#### 4.a Do charges of people who smoke differ significantly from the people who don't?","c11c139e":"#### 3g. Checking the presence of outliers in \u2018bmi\u2019, \u2018age\u2019 and \u2018charges columns'","13a4cb6b":"#### Step 3e Distribution of \u2018bmi\u2019, \u2018age\u2019 and \u2018charges\u2019 columns.","4c356565":"### 4. Answer the following questions with statistical evidence","9b994371":"Step 4: Compute the test statistic and p-value","d484810c":"Step 2: Define the significance level <br>\nFor this problem, the significance level selected is 0.05. Hence alpha = 0.05","bd1ed209":"step 2: Decide the signification level <br>\nhere we select alpha = 0.05","781a4a8b":"#### step 3c. Checking the presence of missing values.<br>\n#### There are multiple ways to do it:\n##### 1. Referring the third column in the output of the info() command above. It is clear that there are no null values. Since the total rows are 1338 and all columns mention 1338 as non null values.\n##### 2. Another way to find missing values is leveraging the code isnull on the dataframe","322849ff":"1. There seem to be a co-relation between charges and age' since charges seems to increase as the age increases. There are few outliars though.\n2. Charges for smoker seem to be higher than non smokers.","9843902c":"Step 1: Define the null hypothesis and alternate hypothesis <br>\nNull hypothesis Ho: proportion of smokers is not significantly different in different genders <br>\nAlternate hypothesis Ha: Proportion of smokers significantly different in different genders","6095e697":"Step 1: Establish the null hypothesis <br>\nNull hypothesis Ho= Distribution of bmi across women with no children, one child and two children is same. <br>\nAlternate hypothesis Ha= Distribution of bmi across women with no children, one child and two children is not same.","c8960c8c":"#### 3f. Measure of skewness of \u2018bmi\u2019, \u2018age\u2019 and \u2018charges\u2019 columns","764093cc":"#### 4.b Does bmi of males differ significantly from that of females?","d4f8945e":"### Step1: Import the necessary libraries","d443cc3c":"Step 2: Decide the significance level<br>\nFor this problem, the significance level (alpha) selected is 0.05","6f3e531d":"Step 1: State the null and alternate hypothesis<br>\nNull Hypothesis Ho: BMI of males dont differ significantly from that of females <br>\nAlternate Hypothesis Ha: BMI of males differ significantly from that of females","a07b8701":"1. The range of age is [18,64] with a median of 39. At this point, it doesnt appear that there are any outliars; we will try and confirm the same leveraging box plot.<br>\n2. The range of bmi is [15.96,53.13] with a median of 30.4. At this point, it doesnt appear that there are any outliars; we will try and confirm the same leveraging box plot. <br>\n3. The range of children in [0,5] with a median of 1. There are no values in the 25% percentile and median is 1 which seems to mean that there are few people with more than 2 children <br>\n4. The range of charges is [1121.8,63770.4] with a median of 9382. The difference between median and the maximum value is significant which might mean that there are potential outliars and potentially the data is skewed. We will try and confirm the same leveraging box plot and analysis of skewness.","d9f58861":"#### Step 3.d 5 point summary of numerical attributes.","c5672fa4":"Step 4: Compute the test statistics and p value","144b53da":"#### 3i. Pair plot that includes all the columns of the data frame","5b05cf06":"Step 2: Establish the significance level <br>\nFor this problem, the significance level selected is 0.05 (alpha = 0.05)","ac0b5e97":"step 3: Identify the test statistics <br>\nSince in this scenario, we are comparing 2 samples against each other. Hence we can use two sample t-test for this problem. ","d4b889aa":"#### step 3b. Data type of each attribute","d17ec6e9":"Step 3: Identify the test statistics <br>\nSince in this problem, we are comparing proportion of 2 categorical samples. Hence, we can use test of proportion ","b753f732":"Step 3: Identify the test statistics <br>\nHere we have 3 groups; i.e. women with children 0,1,2 and we have to analyze whether the BMI for these 3 samples is same or not. Analysis of variance can determine whether the means of these 3 samples are same or different. Hence, the test statistics identified for this problem is One-way ANOVA","e969fcec":"step 1: state the null and alternate hypothesis <br>\nHo = Charges of people who smoke don't differ from the people who don't smoke <br>\nHa = Charges of people who smoke differ from the people who don't smoke","a611a8f6":"Step 4: Compute the test statistics","ee7ff636":"Referring the graph, there are few outliars. However, it is difficult to deduce if the BMI across women with children 0,1,2 is the same or not. We will try to analyse this statistically","ccf5d27a":"### Step2: Read the data as a dataframe","611e37c9":"#### 3h. Distribution of categorical columns (include children) ","79e05683":"### Step3: Perform basic EDA which should include the following and print out your insights at every step","3425335f":"bmi has less skewness<br>\nAge has negligent skewness<br>\nCharges seems highly skewed.","915e136a":"#### 4.d Is the distribution of bmi across women with no children, one child and two children, the same?","d5aa610d":"Step 3: Identify the test statistics <br>\nSince in this problem. We are comparing 2 samples against each other. Hence, we can use 2 sample t-test for this problem.","2592baac":"##### 3. Another way to find missing values is leveraging the code isnull on the individual column in the dataframe","8f215580":"#### 4.c Is the proportion of smokers significantly different in different genders?","f9f8a6b0":"step 4: Calculate p value and t statistics","3dd4742e":"#### Step3a: Shape of the data"}}