{"cell_type":{"d165b170":"code","dd24a0de":"code","0b4a69ae":"code","3a2af1f5":"code","48349181":"code","eb5f0ee6":"code","c673838f":"code","10dc5708":"code","697ad4b7":"code","043c06a7":"code","ca2626e4":"code","16a18ab7":"code","2a67d748":"code","cc8b0523":"code","bbef034d":"code","a7724104":"code","7acf88d7":"code","9380eda6":"code","b03e0d40":"markdown","76d9d164":"markdown","a0823ca2":"markdown","31e9130a":"markdown","b022ca5b":"markdown","5d776a49":"markdown","47ca73cc":"markdown","94f547ff":"markdown","fe95bce0":"markdown","139f588e":"markdown","9dcfc85f":"markdown","8b4b7600":"markdown","4740de1c":"markdown","8573aa4e":"markdown","66cc1835":"markdown","36399068":"markdown","d0320f9c":"markdown"},"source":{"d165b170":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt","dd24a0de":"# loading dataset\ncov = pd.read_csv('..\/input\/2019-coronavirus-dataset-01212020-01262020\/2019_nCoV_20200121_20200206.csv'\n                  , header=0\n                  , names=['state','country','last_update','confirmed','suspected','recovered','death'])\ncov.head()","0b4a69ae":"# dealing with dates, converting dates with hours and minutes in just dates with year, month and day\ncov['last_update'] = pd.to_datetime(cov['last_update']).dt.date","3a2af1f5":"cov.info() # seeing dataset structure","48349181":"cov.isna().sum()","eb5f0ee6":"# replacing state missing values by \"unknow\"\ncov['state'] = cov['state'].fillna('unknow')\n\n# replacing numerical variables missing values by 0\ncov = cov.fillna(0)","c673838f":"# taking cov columns where the country are China\nchina = cov[['state','confirmed','suspected','recovered','death']][cov['country']=='Mainland China']\n\n# taking the max value by state\nchina = china[['confirmed','suspected','recovered','death']].groupby(cov['state']).max()","10dc5708":"# creating the plot\nchina.sort_values(by='confirmed',ascending=True).plot(kind='barh',figsize=(20,30), width=1,rot=2)\n\n# defyning legend and titles parameters\nplt.title('Total cases by state in China',size=40)\nplt.ylabel('state',size=30)\nplt.yticks(size=20)\nplt.xticks(size=20)\nplt.legend(bbox_to_anchor=(0.95,0.95) # setting coordinates for the caption box\n           , frameon = True\n           , fontsize = 20\n           , ncol = 2 \n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1);","697ad4b7":"# taking cases numbers\nHubei = china[china.index==\"Hubei\"]\nHubei = Hubei.iloc[0]\n\n# difyning plot size\nplt.figure(figsize=(15,15))\n\n# here i use .value_counts() to count the frequency that each category occurs of dataset\nHubei.plot(kind='pie'\n           , colors=['#4b8bbe','orange','lime','red']\n           , autopct='%1.1f%%' # adding percentagens\n           , shadow=True\n           , startangle=140)\n\n# defyning titles and legend parameters\nplt.title('Hubei Cases Distribution',size=30)\nplt.legend(loc = \"upper right\"\n           , frameon = True\n           , fontsize = 15\n           , ncol = 2 \n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1);","043c06a7":"# taking cases and dates in china\nchina_cases_grow = cov[['last_update','confirmed','suspected','recovered','death']][cov['country']=='Mainland China']\n\n# creating a new subset with cases over the days\nchina_confirmed_grow = china_cases_grow[['confirmed']].groupby(cov['last_update']).max()\nchina_suspected_grow = china_cases_grow[['suspected']].groupby(cov['last_update']).max()\nchina_recovered_grow = china_cases_grow[['recovered']].groupby(cov['last_update']).max()\nchina_death_grow = china_cases_grow[['death']].groupby(cov['last_update']).max()","ca2626e4":"# defyning plotsize\nplt.figure(figsize=(20,10))\n\n# creating the plot\nsns.lineplot(x = china_confirmed_grow.index\n        , y = 'confirmed'\n        , color = '#4b8bbe'\n        , label = 'comfirmed'\n        , marker = 'o'\n        , data = china_confirmed_grow)\n\n# titles parameters\nplt.title('Growth of confirmed cases in China',size=30)\nplt.ylabel('Cases',size=20)\nplt.xlabel('Updates',size=20)\nplt.xticks(rotation=45,size=15)\nplt.yticks(size=15)\n\n# legend parameters\nplt.legend(loc = \"upper left\"\n           , frameon = True\n           , fontsize = 15\n           , ncol = 1\n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1);","16a18ab7":"# defyning plotsize\nplt.figure(figsize=(20,10))\n\n# creating a lineplot for each case variable(suspected, recovered and death)\nsns.lineplot(x = china_suspected_grow.index\n        , y = 'suspected'\n        , color = 'orange'\n        , label = 'suspected'\n        , marker = 'o'\n        , data = china_suspected_grow)\n\nsns.lineplot(x = china_recovered_grow.index\n        , y = 'recovered'\n        , color = 'green'\n        , label = 'recovered'\n        , marker = 'o'\n        , data = china_recovered_grow)\n\nsns.lineplot(x = china_death_grow.index\n        , y = 'death'\n        , color = 'red'\n        , label = 'death'\n        , marker = 'o'\n        , data = china_death_grow)\n\n# defyning titles, labels and ticks parameters\nplt.title('Growth of others case statistics in China',size=30)\nplt.ylabel('Cases',size=20)\nplt.xlabel('Updates',size=20)\nplt.xticks(rotation=45,size=15)\nplt.yticks(size=15)\n\n# defyning legend parameters\nplt.legend(loc = \"upper left\"\n           , frameon = True\n           , fontsize = 15\n           , ncol = 1\n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1);","2a67d748":"# taking all cases that are not in China\nother_countries = cov[['country','confirmed','suspected','recovered','death']][cov['country']!='Mainland China']\n\n# taking cases by country\nother_countries = other_countries[['confirmed','suspected','recovered','death']].groupby(other_countries['country']).max()","cc8b0523":"# creating the plot\nother_countries.sort_values(by='suspected',ascending=True).plot(kind='barh',figsize=(20,30), width=1,rot=2)\n\n# defyning titles, labels, xticks and legend parameters\nplt.title('Total cases in other countries',size=40)\nplt.ylabel('country',size=30)\nplt.yticks(size=20)\nplt.xticks(size=20)\nplt.legend(bbox_to_anchor=(0.95,0.95)\n           , frameon = True\n           , fontsize = 20\n           , ncol = 2 \n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1);","bbef034d":"# taking cases in Hong-Kong\nHong_Kong = other_countries[other_countries.index==\"Hong Kong\"]\nHong_Kong = Hong_Kong.iloc[0]\n\n# difyning plot size\nplt.figure(figsize=(15,15))\n\n # here i use .value_counts() to count the frequency that each category occurs of dataset\nHong_Kong.plot(kind='pie'\n           , colors=['#4b8bbe','orange','lime','red']\n           , autopct='%1.1f%%' # adding percentagens\n           , shadow=True\n           , startangle=140)\n\n# defyning title and legend parameters\nplt.title('Hong-Kong Cases Distribution',size=30)\nplt.legend(loc = \"upper right\"\n           , frameon = True\n           , fontsize = 15\n           , ncol = 2 \n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1);","a7724104":"# taking cases from countries that are not China\nother_countries_cases = cov[['country','last_update','confirmed','suspected','recovered','death']][cov['country']!='Mainland China']\n\n# Taking total of confirmed cases countries\nother_countries_confirmed = other_countries_cases[['last_update','confirmed']].groupby(cov['country']).max()\nother_countries_cases_growth = other_countries_confirmed[['confirmed']].groupby(other_countries_confirmed['last_update']).sum()\nother_countries_cases_growth = other_countries_cases_growth[['confirmed']].cumsum()\n\n# Taking total of suspected cases countries\nother_countries_suspected = other_countries_cases[['last_update','suspected']].groupby(cov['country']).max()\nother_countries_suspected_growth = other_countries_suspected[['suspected']].groupby(other_countries_suspected['last_update']).sum()\nother_countries_suspected_growth = other_countries_suspected_growth[['suspected']].cumsum()\n\n# Taking total of recovered cases countries\nother_countries_recovered = other_countries_cases[['last_update','recovered']].groupby(cov['country']).max()\nother_countries_recovered_growth = other_countries_recovered[['recovered']].groupby(other_countries_recovered['last_update']).sum()\nother_countries_recovered_growth = other_countries_recovered_growth[['recovered']].cumsum()\n\n# Taking total of death cases countries\nother_countries_death = other_countries_cases[['last_update','death']].groupby(cov['country']).max()\nother_countries_death_growth = other_countries_death[['death']].groupby(other_countries_death['last_update']).sum()\nother_countries_death_growth = other_countries_death_growth[['death']].cumsum()\n\n# Joing all case types in one dataset adding new columns\nother_countries_cases_growth['suspected'] = other_countries_suspected_growth['suspected']\nother_countries_cases_growth['recovered'] = other_countries_recovered_growth['recovered']\nother_countries_cases_growth['death'] = other_countries_death_growth['death']","7acf88d7":"# creating the plot\nother_countries_cases_growth.plot(kind='bar',figsize=(20,10), width=1,rot=2)\n\n# defyning title, labels, ticks and legend parameters\nplt.title('Growth of cases over the days in other countries',size=30)\nplt.xlabel('Updates', size=20)\nplt.ylabel('Cases', size=20)\nplt.xticks(rotation=45, size=15)\nplt.yticks(size=15)\nplt.legend(loc = \"upper left\"\n           , frameon = True\n           , fontsize = 15\n           , ncol = 2 \n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1);","9380eda6":"# loading updated dataset from Johns Hopkins University data repository on github\nupdated_data = pd.read_csv('https:\/\/raw.githubusercontent.com\/CSSEGISandData\/2019-nCoV\/master\/daily_case_updates\/02-09-2020_2320.csv')\n\n# grouping number of cases by country\ntotal_cases = updated_data.groupby(updated_data['Country\/Region']).sum().sort_values(by='Confirmed',ascending=False)\ntotal_cases","b03e0d40":"# Global Coronavirus growth\n### Understanding coronavirus growth, distribution by country and state \/ region","76d9d164":"State column has 125 missing values, let's replace them by \"unknow\" because we dont know what state is. confirmed, suspected, recovered and death columns have many missing values, let's assume that where a missing value is present was not cases registred then let's replace them with 0","a0823ca2":"#### Hong-Kong Cases Distribution\n\nWe have a great number of suspected cases in Hong-Kong, taking a more detailed look into this cases we can see 91.7% of suspected cases and only 7.9% confirmed cases, with no recovered and 0.4% of deaths registers.","31e9130a":"#### Total cases in other countries\n\nWe already see the virus distribution and growth in China, but in other coutries? How coronavirus are growing and distributed?\n\nTo answer this question let's take all cases that are not in China and then take the maximum number of cases assuming that the maximum number of cases  are the last update.\n\nHong Kong continues to lead suspicious cases, but it was passed by Thailand in confirmed cases, in Brazil (my country) suspicious cases begin to appear.","b022ca5b":"### Loading Required Libraries and Datasets","5d776a49":"### Exploratory Data Analysis\n\n#### Total cases by state in China\nTo plot the number of cases in China first let's create a subset with cases in Mainland China, after that we need to take the updated number of cases for each state, here i assumed that the last update had the higher number of confirmed cases","47ca73cc":"#### Total Confimed, Deaths and Recovered so far by country","94f547ff":"#### Growth of cases over the days in other countries\n\nThe virus begins to appear in other countries on 1\/23\/2020 and is spreading rapidly over the days. On 2020-02-01 the firsts recovered cases appear,on 2020-02-02 the firsts deaths appear, fortunately the number of recovereds are growing more fast than deaths in others countries compared with china, until now 2020-02-05 are more then 250 suspected cases and more then 200 cases confirmed, we will follow over the next few days to see if these numbers improve.","fe95bce0":"#### ***Thank you very much for read this kernel, if you think that this kernel was useful please give a upvote, i really appriciate that :)***","139f588e":"### Dealing with missing values\nNow let's see how many missing values we have in each column","9dcfc85f":"### Introduction\nThe 2019-nCoV is a contagious coronavirus that hailed from Wuhan, China. This new strain of virus has striked fear in many countries as cities are quarantined and hospitals are overcrowded. How coronavirus have grow in 2019\/2020 and what is his cases distribution in China and other countries are questions to be answered by this kernel.","8b4b7600":"As we can see we have some missing values, Let's start understanding our dataset structure before doo any visualizations","4740de1c":"#### Hubei Cases Distribution\nClearly Hubei have the higher case numbers, if we take a more detailed look into Hubei data with a pie chart we can see the same distribution above but with more detalies, 94.2% of the cases was confirmed, 2.7% of infected people had died, 3% recovered and only 0.1% are suspect.","8573aa4e":"<img src='https:\/\/i.imgur.com\/khbXiMF.png' style='width:1750px;height:350px'\/>\n\n**Figure 1**: quarantine. Source: https:\/\/abc7.com\/5871606\/","66cc1835":"The confirmed cases have grown incredible over the last days giving only short stops along the way in 1\/31\/2020 was more than 10000 confirmed cases in Mainland China and now we are passing 15000 confirmed cases","36399068":"The number of deaths are rising fast, was more fast then number of recovered cases but finally the recovered are passing the deaths, suspected cases had great variations but since 1\/27\/2020 that we have no more suspected cases increases, but deaths continuos to grow","d0320f9c":"#### Cases Growth in China\n\nThe cases are growing fast over the days and the confirmed cases are leading the run, let's take a look in cases growth over the days in China."}}