{"cell_type":{"639536c7":"code","6f060adf":"code","ba8e79a2":"code","6af702b7":"code","5d36148d":"code","5d8df9b3":"code","0cc93bc0":"code","a72b4996":"code","8fb71313":"code","206b5e5f":"code","b54e8e3d":"code","e32ed9f9":"code","948f8cd1":"code","00aaa695":"code","deb7fb95":"code","aae03a66":"code","090e0f13":"code","31dd0dd7":"code","a034bae9":"code","288acc62":"code","dc6be965":"code","e588da99":"code","f3ad2254":"code","eb826435":"code","0426c5c3":"code","9fa4947c":"code","82138405":"code","3c5844cf":"code","b5d80129":"code","59120d44":"code","bb62d805":"code","023e9df5":"code","6f1e25c5":"code","d1f6a84c":"code","caa29e7f":"markdown","96c22b70":"markdown","182c4f52":"markdown","ab871e2e":"markdown","64909bc4":"markdown","fbf5fd56":"markdown","c1061c52":"markdown","795ddf7c":"markdown"},"source":{"639536c7":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session\nimport warnings\nwarnings.simplefilter('ignore')","6f060adf":"import matplotlib.pyplot as plt\nimport seaborn as sns","ba8e79a2":"df=pd.read_csv('\/kaggle\/input\/500-richest-people-2021\/500 richest people 2021.csv',';')","6af702b7":"df.head()","5d36148d":"df.dtypes","5d8df9b3":"df=df.drop(['Unnamed: 7', 'Unnamed: 8','Unnamed: 9','Unnamed: 10'], axis=1)","0cc93bc0":"df.isnull().sum()","a72b4996":"df=df.dropna(how='all')","8fb71313":"df[\"Total Net Worth\"] = df[\"Total Net Worth\"].str.replace(\"$\", \"\")\ndf[\"Total Net Worth\"] = df[\"Total Net Worth\"].str.replace(\"B\", \"\")\ndf[\"$ Last Change\"] = df[\"$ Last Change\"].str.replace(\"$\", \"\")\ndf[\"$ Last Change\"] = df[\"$ Last Change\"].str.replace(\"B\", \"\")\ndf[\"$ Last Change\"] = df[\"$ Last Change\"].str.replace(\"M\", \"\")\ndf[\"$ YTD Change\"] = df[\"$ YTD Change\"].str.replace(\"$\", \"\")\ndf[\"$ YTD Change\"] = df[\"$ YTD Change\"].str.replace(\"B\", \"\")\ndf[\"$ YTD Change\"] = df[\"$ YTD Change\"].str.replace(\"M\", \"\")\ndf[\"Total Net Worth\"] = df[\"Total Net Worth\"].str.replace(\"family\", \"21\")\ndf[\"$ Last Change\"] = df[\"$ Last Change\"].str.replace(\"k\", \"\")\ndf[\"$ YTD Change\"] = df[\"$ YTD Change\"].str.replace(\"k\", \"\")\ndf[\"$ Last Change\"] = df[\"$ Last Change\"].str.replace(\"+\", \"\")\ndf[\"$ YTD Change\"] = df[\"$ YTD Change\"].str.replace(\"+\", \"\")\ndf[\"Country\"] = df[\"Country\"].str.replace(\" \", \"\")","206b5e5f":"df['Total Net Worth']=df['Total Net Worth'].astype(float)\ndf['$ Last Change']=df['$ Last Change'].astype(float)\ndf['$ YTD Change']=df['$ YTD Change'].astype(float)","b54e8e3d":"df","e32ed9f9":"df.groupby('Country')['Total Net Worth'].sum().sort_values(ascending=False).plot.bar(figsize=(10,10))","948f8cd1":"import matplotlib.pyplot as plt\nimport plotly_express as px\ndf1=pd.DataFrame(df.groupby('Country')['Total Net Worth'].sum().sort_values(ascending=False).head(20))\ndf1['Country'] = df1.index\ndf1['Country codes']=['USA','CHN','FRA','RUS','GER','IND','HKG','GBR','JPN','MEX','AUS','SWE','SGP','ITA','CAN','ESP','BRA','CHE','KOR','IRL']\nfig = px.choropleth(df1,locations='Country codes',color='Total Net Worth',scope='world')\nfig.show()","00aaa695":"df.groupby('Country')['Name'].count().sort_values(ascending=False).plot.bar(figsize=(10,10))","deb7fb95":"df2=pd.DataFrame(df.groupby('Country')['Name'].count().sort_values(ascending=False).head(20))\ndf2['Country'] = df2.index\ndf2['Country codes']=['USA','CHN','GER','RUS','HKG','GBR','IND','FRA','CAN','SWE','SGP','CHE','AUS','ITA','KOR','JPN','DNK','MEX','BRA','TWN']\nfig = px.choropleth(df2,locations='Country codes',color='Name',scope='world')\nfig.show()","aae03a66":"df.groupby('Industry')['Total Net Worth'].sum().sort_values(ascending=False).plot.pie(figsize=(5,5),autopct=\"%1.1f%%\")","090e0f13":"df.groupby('Industry')['Name'].count().sort_values(ascending=False).plot.pie(figsize=(5,5),autopct=\"%1.1f%%\")","31dd0dd7":"plt.figure(figsize=(12, 12))\nplt.legend(fontsize=10)\nplt.tick_params(labelsize=10)\nax=sns.scatterplot(x=df['Country'],y=df['Total Net Worth'],hue=df['Industry'],size=df['Total Net Worth'],data=df,sizes=(1,200))\nplt.xticks(rotation=90)\nax.legend(loc='upper left',bbox_to_anchor=(1,1))","a034bae9":"df3=df.drop('Name',axis=1)","288acc62":"df3","dc6be965":"from sklearn.preprocessing import LabelEncoder\nle = LabelEncoder()\nle = le.fit(df3['Country'])\ndf3['Country_code'] = le.transform(df3['Country'])","e588da99":"le2=le.fit(df3['Industry'])\ndf3['Industry_code']=le2.transform(df3['Industry'])","f3ad2254":"df3","eb826435":"df4=df3.drop(['Country','Industry'],axis=1)","0426c5c3":"from sklearn.cluster import KMeans\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.decomposition import PCA\nsc = StandardScaler()\ncl_sc=sc.fit_transform(df4)\nkmeans = KMeans(n_clusters=5, random_state=0)\nclusters = kmeans.fit(cl_sc)","9fa4947c":"df3[\"clustering\"] = clusters.labels_\ndf3.head()","82138405":"df3.groupby('clustering')['Total Net Worth'].mean()","3c5844cf":"df3.groupby('clustering')['$ Last Change'].mean()","b5d80129":"df3.groupby('clustering')['$ YTD Change'].mean()","59120d44":"df4=pd.DataFrame(df3.groupby(['clustering','Country'])['Country'].count())\ndf4=df4.rename(columns={'Country':'num'})\ndf4 = df4.reset_index()","bb62d805":"df4","023e9df5":"plt.figure(figsize=(8, 8))\nax=sns.scatterplot(x=df4['Country'],y=df4['num'],hue=df4['clustering'],size=df4['num'],sizes=(0,50))\nplt.xticks(rotation=90)\nax.legend(loc='upper left',bbox_to_anchor=(1,1))","6f1e25c5":"pre = cl_sc\npca = PCA(n_components=2) \npca.fit(pre)\npca_pre = pca.transform(pre)\npca_data = pd.DataFrame(pca_pre)","d1f6a84c":"for i in df3[\"clustering\"].unique():\n    tmp = pca_data.loc[df3[\"clustering\"] == i]\n    plt.scatter(tmp[0], tmp[1], label=i)\nplt.legend()","caa29e7f":"1.Visualization and EDA","96c22b70":"Top 20 'Total Net Worth' by Countries","182c4f52":"Scatterring 'Total Net Worth'by Indstries and Countries","ab871e2e":"Top 20 'Total of Names' by Countries","64909bc4":"3.PCA Analysis","fbf5fd56":"In the US, a lot of rich people are in Technology which is defferent from France and Spain.\nIndia and China have not had 'super rich' yet compared to the US and France.","c1061c52":"By Industries analysis","795ddf7c":"2.Clustering"}}