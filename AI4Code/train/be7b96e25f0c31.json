{"cell_type":{"55cc1ca4":"code","59a577bd":"code","0f0b7230":"code","c0fb742f":"code","854d1e14":"code","ee0aa95b":"code","ee7fa796":"code","52b064e5":"code","f8cd52fa":"code","63deb36e":"code","a05fbc7f":"code","c16bb44a":"code","acee0a45":"code","10528ea7":"code","192001e9":"code","4ff5d5ec":"code","1e27e9ca":"code","40396e95":"code","e4b1f0a2":"code","7e48d68b":"code","2fb6a968":"code","44c1c85a":"code","167a058b":"code","860728d7":"code","958d63e4":"code","7124abb3":"code","1d5e14ee":"code","b704ce2b":"code","779ca0c7":"code","e69dfdbf":"code","7d3c36f4":"code","bcc540ef":"markdown","97ec253a":"markdown","861b1741":"markdown","ad37922f":"markdown","df0ad7b9":"markdown","a1bd660f":"markdown","b8fc3aea":"markdown","9d360dbb":"markdown","2f8f790f":"markdown","6a6d4256":"markdown","9cd64092":"markdown","bda94749":"markdown","58537da7":"markdown","4d37969d":"markdown","499e2a8b":"markdown","985df164":"markdown","b79da59d":"markdown","bb85cef2":"markdown","496d0776":"markdown","391a11a1":"markdown","c7454962":"markdown","a5673c78":"markdown","42d8a9f8":"markdown","7e46c65c":"markdown","2a845dab":"markdown"},"source":{"55cc1ca4":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib as plt\nimport seaborn as sns\n%matplotlib inline\n","59a577bd":"df = pd.read_csv('\/kaggle\/input\/zomato_restaurants_in_India.csv',engine=\"python\")\n# drop duplicate rows using res_id as it is unique for each restaurant\ndf.drop_duplicates(subset='res_id',inplace=True)","0f0b7230":"# Quick info on each columns\ndf.head()\n\nprint(\"Dataframe shape\")\nprint(df.shape)\n\ndf.isnull().sum()\n\ndf.city.nunique()\n# there are 99 cities\n\ndf.city_id.nunique()\n# with 83 city IDs\n\nprint(df.delivery.unique())\n\nprint(df.takeaway.unique())\n\nprint(df.opentable_support.unique())","c0fb742f":"city_df = df.loc[:,['res_id','city']]\nres_by_city = city_df.groupby('city').count()\nres_by_city.sort_values('res_id',ascending=False,inplace=True)\nfig,axes =  plt.pyplot.subplots()\nfig.set_size_inches(25,50)\nsns.set_style('ticks')\nplt.rcParams.update({'font.size': 20,'axes.labelsize':42})\nres_by_city_plot = sns.barplot(x='res_id',y=res_by_city.index,data=res_by_city,ax=axes)","854d1e14":"res_by_city.head()","ee0aa95b":"res_by_ratings = df.loc[:,['res_id','aggregate_rating']]\nres_by_ratings = res_by_ratings.groupby('aggregate_rating').count()\nres_by_ratings.sort_values('res_id',ascending=False,inplace=True)\nres_by_ratings.head()\nfig,axes =  plt.pyplot.subplots()\nfig.set_size_inches(30,10)\nsns.set_style('ticks')\nplt.rcParams.update({'font.size': 28,'axes.labelsize':42})\nsns.barplot(x=res_by_ratings.index,y=res_by_ratings.res_id,data=res_by_ratings,ax=axes)","ee7fa796":"price_category = df.loc[:,['res_id','price_range','average_cost_for_two']]\nfig,axes =  plt.pyplot.subplots()\nfig.set_size_inches(10,10)\nplt.rcParams.update({'font.size': 14,'axes.labelsize':14})\naxes.yaxis.set_ticks(np.arange(0, np.max(price_category[\"average_cost_for_two\"])+1, 1000))\naxes.scatter(x='price_range',y='average_cost_for_two',data=price_category)","52b064e5":"price_category = price_category[price_category['average_cost_for_two']<4000]\nfig,axes =  plt.pyplot.subplots()\nfig.set_size_inches(10,10)\n#axes.yaxis.set_ticks(np.arange(0, np.max(price_category[\"average_cost_for_two\"])+1, 1000))\naxes.scatter(x='price_range',y='average_cost_for_two',data=price_category)","f8cd52fa":"cost_vs_ratings = df.loc[:,['rating_text','price_range','city']]\ncost_vs_ratings.groupby('rating_text').count()\ncost_vs_ratings = cost_vs_ratings[cost_vs_ratings['rating_text'].isin(['Average','Excellent','Good','Poor','Very Good'])]","63deb36e":"fig,axes = plt.pyplot.subplots()\nfig.set_size_inches(20,10)\n#sns.set_style('ticks')\nsns.violinplot(x='rating_text',y='price_range',data=cost_vs_ratings)","a05fbc7f":"cost_vs_ratings = df.loc[:,['rating_text','price_range','res_id']]\ncost_vs_ratings['rating_range'] = cost_vs_ratings['rating_text'].map({'Poor':1,'Average':2,'Good':3,'Very Good':4,'Excellent':5})\ncost_vs_ratings.drop('res_id',axis=1,inplace=True)\nsns.heatmap(cost_vs_ratings.pivot_table(index=['price_range'],columns=\"rating_range\",aggfunc=\"count\"),cmap=\"coolwarm\")","c16bb44a":"df.price_range.value_counts(dropna=True)\nres_by_cost_for_two = df.loc[:,['res_id','price_range']]\nres_by_cost_for_two = res_by_cost_for_two.groupby('price_range',as_index=False).count()\nres_by_cost_for_two.sort_values('res_id',ascending=False,inplace=True)\nres_by_cost_for_two","acee0a45":"fig,axes =  plt.pyplot.subplots()\nfig.set_size_inches(10,10)\nsns.set_style('ticks')\nplt.rcParams.update({'font.size': 20,'axes.labelsize':20})\nsns.barplot(x=res_by_cost_for_two.price_range,y=res_by_cost_for_two.res_id,data=res_by_cost_for_two,ax=axes)","10528ea7":"costliest_res = df[df['average_cost_for_two']>4000].sort_values('average_cost_for_two',ascending=False)\ncostliest_res.shape","192001e9":"fig,axes =  plt.pyplot.subplots()\nfig.set_size_inches(10,10)\nsns.set_style('ticks')\nplt.rcParams.update({'font.size': 20,'axes.labelsize':20})\nsns.barplot(x=\"average_cost_for_two\",y=\"city\",data=costliest_res,estimator=sum,ax=axes)","4ff5d5ec":"fig,axes = plt.pyplot.subplots()\nfig.set_size_inches(20,10)\nplt.pyplot.xticks(rotation=90)\nsns.swarmplot(y=\"average_cost_for_two\",x=\"city\",data=costliest_res)","1e27e9ca":"ratings_by_city = df.loc[:,['city','aggregate_rating']].groupby(by=['city']).agg(['mean','count'])\nratings_by_city = ratings_by_city.stack(level=0)\nratings_by_city.reset_index(inplace=True)\nratings_by_city.sort_values('count',ascending=False,inplace=True)","40396e95":"fig,axes = plt.pyplot.subplots()\nfig.set_size_inches(20,30)\nsns.set_style('ticks')\nplt.rcParams.update({'font.size': 18,'axes.labelsize':20})\nsns.barplot(y=\"city\",x=\"mean\",data=ratings_by_city,ax=axes)","e4b1f0a2":"cuisines = set()\ndef cuisinesSeperator(data):\n    for i in data.split(','):\n        cuisines.add(i.strip())\n    \ndf.cuisines.dropna().apply(cuisinesSeperator)\nprint(len(cuisines))","7e48d68b":"cuisineCount = {}\ndef cuisineCountMap(data):\n    for i in data.split(','):\n        if(i.strip() in cuisineCount):\n            cuisineCount[i.strip()] = cuisineCount[i.strip()] +1\n        else:\n            cuisineCount[i.strip()] = 1 \ndf.cuisines.dropna().apply(cuisineCountMap)\ncuisineCount","2fb6a968":"cuisinesCountDf = pd.DataFrame(list(cuisineCount.items()),columns=['cuisine','count'])\ncuisinesCountDf.sort_values(by=\"count\",ascending=False,inplace=True)\nfig,axes = plt.pyplot.subplots()\nfig.set_size_inches(20,40)\nplt.pyplot.xticks(rotation=90)\nplt.rcParams.update({'font.size': 20,'axes.labelsize':20})\nsns.barplot(y=\"cuisine\",x=\"count\",data=cuisinesCountDf,ax=axes)","44c1c85a":"from wordcloud import WordCloud","167a058b":"wordcloud = WordCloud(\n        background_color='white',\n        max_words=100,\n        max_font_size=40, \n        scale=3,\n        random_state=1 \n    ).generate(str(cuisinesCountDf))","860728d7":"fig,axes = plt.pyplot.subplots()\nfig.set_size_inches(10,20)\naxes.axis('off')\naxes.imshow(wordcloud)","958d63e4":"cuisineByCity = {}\ndef cuisine_by_city(data):\n    city = data[0]\n    cuisine = data[1]\n    if city in cuisineByCity:\n        for i in cuisine.split(','):\n            if(i.strip() in cuisineByCity[city]):\n                cuisineByCity[city][i.strip()] = cuisineByCity[city][i.strip()] +1\n            else:\n                cuisineByCity[city][i.strip()] = 1 \n    else:\n        cuisineByCity[city] = {}\n        for i in cuisine.split(','):\n            cuisineByCity[city][i.strip()] = 1\ndf[['city','cuisines']].dropna().apply(cuisine_by_city, axis=1)","7124abb3":"cuisineByCity_df = []\nfor keys in cuisineByCity.keys():\n    for k,v in cuisineByCity[keys].items():\n        cuisineByCity_df.append((keys,k,v))\ncuisineByCity_df = pd.DataFrame(cuisineByCity_df,columns=['city','cuisine','count'])","1d5e14ee":"cuisineByCity_df.sort_values(by=['city','count'],ascending=False,inplace=True)\ncuisineVsCity = cuisineByCity_df.groupby('city',as_index=False).first()","b704ce2b":"wordcloud = WordCloud(\n        background_color='white',\n        max_words=10,\n        max_font_size=40, \n        scale=3,\n        random_state=1 \n    ).generate(str(cuisineVsCity['cuisine'].values))\nfig,axes = plt.pyplot.subplots()\n#fig.set_size_inches(10,20)\naxes.axis('off')\naxes.imshow(wordcloud)","779ca0c7":"cuisineVsCity.groupby('cuisine').count()","e69dfdbf":"cityVsEstablishment = df.loc[:,['city','establishment','res_id']].groupby(['city','establishment'],as_index=False).count()\ncityVsEstablishment.sort_values(['city','res_id'],ascending=False,inplace=True)\ncityVsEstablishment = cityVsEstablishment.groupby('city').first()\nwordcloud = WordCloud(\n        background_color='white',\n        max_words=10,\n        max_font_size=40, \n        scale=3,\n        random_state=1 \n    ).generate(str(cityVsEstablishment['establishment'].values))\nfig,axes = plt.pyplot.subplots()\nfig.set_size_inches(10,20)\naxes.axis('off')\naxes.imshow(wordcloud)","7d3c36f4":"cityVsEstablishment['establishment'].unique()","bcc540ef":"## Which city has more restaurants ?","97ec253a":"Bangalore has more restaurants in india followed by mumbai, pune, chennai and new delhi.","861b1741":"## Is restaurant establishment type really important?","ad37922f":"## Lets see the distribution of cuisines by city","df0ad7b9":"So mumbai and new delhi has more costliest restaurants compared to other cities.\nLets have a detailed distribution.","a1bd660f":"## Lets have a look at cuisines offered by restaurants","b8fc3aea":"## Lets see the distribution of restaurants by ratings","9d360dbb":"There are 133 unique cuisines offered by restaurants in India.\n\nDeepdiving a little bit on cuisines.","2f8f790f":"## Lets analyse the distribution of cuisine","6a6d4256":"Lets have a closer look at the graph","9cd64092":"## Lets see the distribution of restaurant ratings","bda94749":"#### Its evident that restaurants with ratings greater than 3.0 costs more than Rs.500 for two.","58537da7":"## Lets have a look at the costliest restaurants ","4d37969d":"### Quick info on each columns","499e2a8b":"### North indian cuisine most preferred in 72 cities followed by south indian cuisine in 11 cities.","985df164":"List of cities sorted by restaurants count when plotted against ratings","b79da59d":"## Thats all","bb85cef2":"### These are the restaurants which costs more than 4k for two.\n\n### Lets see the distribution of the restaurants across cities.","496d0776":"Cheap restaurants are rated often with average, good rating text and costlier restaurants are rated with high number of Excellent and Very good rating text.","391a11a1":"## Does cost affects restaurant rating?","c7454962":"### It looks like north indian cuisine is distributed all over india followed by chinese, fast food and desserts","a5673c78":"#### Most of the restaurants are unrated and most rated restaurants falls under 3.2-4.0 rating","42d8a9f8":"## Zomato is a restaurant search and discovery service that serves in 83 cities in India ","7e46c65c":"Quick observation:\n\nThere are 55568 unique restaurants available.\n\nThere are few null values in address, zipcode, cuisines, timings, opentable_support columns.\n\nThe delivery, opentable_support, takeaway columns holds values of no use.","2a845dab":"## Distribution of restaurants by price range"}}