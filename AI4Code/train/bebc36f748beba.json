{"cell_type":{"9d315b7c":"code","a55bd1aa":"code","ea25de12":"code","8ff82eb3":"code","97495d76":"code","f7c77097":"code","effcba7a":"code","1c7f9541":"code","be3cef3c":"code","dfabde7f":"code","0d35e098":"code","bf2ef2db":"code","1dabedc2":"code","a80b9d3d":"code","2976c6e5":"code","e9a0bc3a":"code","ecba921d":"code","4283b727":"code","afd44070":"code","a856e87a":"code","006028cd":"markdown","0eb2aaf9":"markdown","f513055c":"markdown","eea8d229":"markdown","acc2a0f8":"markdown","148adb9f":"markdown","711b3f2f":"markdown","d9e02509":"markdown"},"source":{"9d315b7c":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom wordcloud import WordCloud,STOPWORDS\nimport missingno as msno\nimport squarify\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","a55bd1aa":"plt.style.use('fivethirtyeight')\nplt.rcParams.update({'font.size':12})","ea25de12":"dataset=pd.read_csv('\/kaggle\/input\/wine-reviews\/winemag-data_first150k.csv',index_col=0)\ndataset1=pd.read_csv('\/kaggle\/input\/wine-reviews\/winemag-data-130k-v2.csv',index_col=0)\nwine=pd.concat([dataset,dataset1],axis=0)\nprint('the number of rows are:',wine.shape)","8ff82eb3":"wine.info()","97495d76":"wine.head()","f7c77097":"wine.describe(include='all').T","effcba7a":"msno.bar(wine,color=sns.color_palette('viridis'))","1c7f9541":"print('number of country list in data',wine['country'].nunique())\nplt.figure(figsize=(14,12))\ncnt=wine['country'].value_counts().to_frame()[0:20]\nsns.barplot(x=cnt['country'], y=cnt.index, data=cnt, palette='ocean',orient='h')\nplt.title('distribution of wine reviews by top 20 countries')\n","be3cef3c":"f,ax=plt.subplots(1,2,figsize=(14,6))\nax1,ax2=ax.flatten()\n\nsns.distplot(wine['price'].fillna(wine['price'].mean()), color='r',ax=ax1)\nax1.set_title('distribution of price')\n\nsns.boxplot(x=wine['price'],ax=ax2)\nax2.set_ylabel('')\nax2.set_title('boxplot of price')","dfabde7f":"cnt=wine.groupby(['country'])['price'].mean().sort_values(ascending=False).to_frame()\n\nplt.figure(figsize=(16,8))\nsns.pointplot(x=cnt['price'], y=cnt.index, color='r',orient='h',markers='o')\nplt.title('country wise average wine price')\nplt.xlabel('price')\nplt.ylabel('country')\n","0d35e098":"cnt=wine.groupby(['country'])['price'].mean().sort_values(ascending=False).to_frame()\nplt.figure(figsize=(12,8))\n\nsquarify.plot(cnt['price'].fillna(1),color=sns.color_palette('rainbow'),label=cnt.index)","bf2ef2db":"fig,ax=plt.subplots(1,2,figsize=(16,8))\nax1,ax2=ax.flatten()\n\ncnt=wine.groupby(['country'])['price'].max().sort_values(ascending=False).to_frame()[:15]\nsns.barplot(x=cnt['price'], y= cnt.index, data=cnt, palette='inferno',ax=ax1)\nax1.set_title('country wise most expensive wine')\nax1.set_ylabel('variety')\nax1.set_xlabel('')\n\ncnt= wine.groupby(['country'])['price'].min().sort_values(ascending=True).to_frame()[:15]\nsns.barplot(x=cnt['price'], y=cnt.index, data=cnt, palette='rainbow_r', ax=ax2)\nax2.set_title('country wise least expensive wines')\nax2.set_ylabel('')\nax2.set_xlabel('')\nplt.subplots_adjust(wspace=0.3);\n","1dabedc2":"plt.figure(figsize=(12,6))\nsns.boxplot(x=wine['country'], y=wine['price'])\nplt.yscale('log')\nplt.title('country wise box plot(log scale)')\nplt.xticks(rotation=90)","a80b9d3d":"cnt=wine.groupby(['country'])['points'].mean().sort_values(ascending=False).to_frame()\nplt.figure(figsize=(16,8))\n\nsns.pointplot(x=cnt['points'], y=cnt.index, data=cnt, color='r', orient='h')\nplt.title('countrywise')\nplt.xlabel('points')\nplt.ylabel('countries')\n","2976c6e5":"fig,ax= plt.subplots(1,2,figsize=(16,8))\nax1,ax2=ax.flatten()\n\ncnt= wine.groupby(['country'])['points'].max().sort_values(ascending=False).to_frame()[:15]\nsns.barplot(x=cnt['points'], y=cnt.index, data=cnt, palette='hot', ax=ax1)\nax1.set_title('highest rated wines')\nax1.set_ylabel('variety')\nax1.set_xlabel('')\n\ncnt=wine.groupby(['country'])['points'].min().sort_values(ascending=False).to_frame()[:15]\nsns.barplot(x=cnt['points'], y=cnt.index, data=cnt, palette='ocean', ax=ax2)\nax2.set_title('least rated wines')\nax2.set_ylabel('')\nax2.set_xlabel('')\n\nplt.subplots_adjust(wspace=0.3)","e9a0bc3a":"plt.figure(figsize=(16,6))\nsns.boxplot(x=wine['country'], y=wine['points'])\nplt.title('countrywise boxplot')\nplt.xticks(rotation=90)\n","ecba921d":"sns.jointplot(x=wine['points'], y=wine['price'], color='g')","4283b727":"print('number of variety of wines',wine['variety'].nunique())\nfig,ax=plt.subplots(1,2,figsize=(16,8))\nax1,ax2=ax.flatten()\n\ncnt=wine.groupby(['variety'])['price'].max().sort_values(ascending=False).to_frame()[:15]\nsns.barplot(x=cnt['price'], y=cnt.index, palette='cool', ax=ax1)\nax1.set_title('top most variety of wine(basis of price)')\nax1.set_ylabel('variety')\nax1.set_xlabel('')\n\ncnt=wine.groupby(['variety'])['points'].max().sort_values(ascending=False).to_frame()[:15]\nsns.barplot(x=cnt['points'], y=cnt.index, palette='Wistia', ax=ax2)\nax2.set_title('top most variety of wine(basis of ratings)')\nax2.set_ylabel('variety')\nax2.set_xlabel('')\n\nplt.subplots_adjust(wspace=0.5)","afd44070":"print('number of variety of wines',wine['variety'].nunique())\nfig,ax=plt.subplots(1,2,figsize=(16,8))\nax1,ax2=ax.flatten()\n\ncnt=wine.groupby(['variety'])['price'].min().sort_values(ascending=True).to_frame()[:15]\nsns.barplot(x=cnt['price'], y=cnt.index, palette='ocean_r', ax=ax1)\nax1.set_title('least variety of wines(basis of price)')\nax1.set_ylabel('variety')\nax1.set_xlabel('')\n\ncnt=wine.groupby(['variety'])['points'].min().sort_values(ascending=True).to_frame()[:15]\nsns.barplot(x=cnt['points'], y=cnt.index, palette='rainbow', ax=ax2)\nax2.set_title('least variety of wines(basis of ratings)')\nax2.set_ylabel('variety')\nax2.set_xlabel('')\n\nplt.subplots_adjust(wspace=0.5)","a856e87a":"cnt=wine.groupby(['country','points'])['price'].agg(['count','min','max','mean']).sort_values(by='mean',ascending=False)[:10]\ncnt.reset_index(inplace=True)\ncnt.style.background_gradient(cmap='magma',high=0.5)","006028cd":"**defining relations between price and points**","0eb2aaf9":"*wine review by top 20 countries*","f513055c":"*countrywise highest rated and least rated wine*","eea8d229":"*top most wine by variety*","acc2a0f8":"*Distribution Of Wine Price*","148adb9f":"*country wise average wine price*","711b3f2f":"*country wise most expensive and least expensive wines*","d9e02509":"*average rating- country wise*"}}