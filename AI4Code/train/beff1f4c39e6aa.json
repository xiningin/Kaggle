{"cell_type":{"97987a86":"code","88478390":"code","73f8f9dc":"markdown","e9762779":"markdown","28857cb7":"markdown"},"source":{"97987a86":"import ipywidgets as widgets\nfrom ipywidgets import *\n\nimport pandas as pd\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import mean_absolute_error, mean_squared_error\nfrom sklearn import neighbors\nfrom sklearn import tree\nfrom sklearn import linear_model\n\ndf = pd.read_csv('..\/input\/dataset2.csv',index_col='country')\n\ndf = df.drop('Norway',axis=0)\nX = df.drop('max_ev_p',axis=1)\ny = df['max_ev_p']\n\ntrain_X, test_X, train_y, test_y = train_test_split(X,y,random_state=0)","88478390":"columns = ['ssm','ppp','nat_p']\nmodel = linear_model.LinearRegression()\nmodel.fit(train_X[columns],train_y)\n\nprint(model.coef_)\n\ndef predict_ev(Name,ssm, ppp, nat_p):\n    x = pd.DataFrame({'ssm':ssm,'ppp':ppp,'nat_p':nat_p},index=[0],columns=columns)\n    #print(x)\n    pred = max(0,model.predict(x))\n    #print('The country \"%s\" is predicted to have a EV market share of %s' % (Name,pred))\n    print('Predicted EV market share in %s: %s' % (Name,pred))\n    \nstyle = {'description_width': 'initial'}\nwide_layout = Layout(width='350px')\ninter=interact(predict_ev,Name='country',\n               ssm=Checkbox(description='Same-sex marriage'), \n               ppp=IntSlider(min=0,max=100000,description='GDP (PPP) per capita',style=style,layout=wide_layout),\n               nat_p=IntSlider(min=0,max=100,description='Nationalist parties',style=style,layout=wide_layout) )\ndisplay(inter)\n","73f8f9dc":"# Interactive Model","e9762779":"# LinearRegression model ","28857cb7":"This is part of a [larger project](https:\/\/github.com\/maxims94\/electric-mobility-study)."}}