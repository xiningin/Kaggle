{"cell_type":{"6d16691f":"code","186bd7f6":"code","0691cb56":"code","24cba706":"code","d41ebbec":"code","349ecf61":"code","c0e84cb5":"code","35646139":"code","3e56f436":"code","182ea327":"code","63084fc6":"code","bba18f6f":"code","7a47a2b4":"code","07bda1af":"code","4d50c778":"code","fde3c7ed":"code","098c171e":"code","fc643970":"code","9d9a2219":"code","8d5dc789":"code","89d15852":"code","df3c439a":"code","5c9e278a":"code","2a5a5b61":"code","d288d4d0":"code","c7ddabb6":"markdown","4a14e390":"markdown","051e6fed":"markdown","3ac371d2":"markdown","c191cd0e":"markdown","720fabb1":"markdown","aaf0fdf1":"markdown","b0c1f4d0":"markdown","732fe155":"markdown","270ecbdb":"markdown","bea23016":"markdown","f313584b":"markdown","89e44998":"markdown","ce4ca924":"markdown","732dbd05":"markdown","33c2c466":"markdown","e41e5f54":"markdown","1768bd5d":"markdown","10c6a6eb":"markdown","0d76216b":"markdown","402b0650":"markdown","b1b1cd06":"markdown","1267d369":"markdown","ab8e2dd1":"markdown","b4f7b26a":"markdown","d8909981":"markdown","3e926e14":"markdown","0a1f2907":"markdown","fb6bb177":"markdown","56ce6bed":"markdown","dd86e8d5":"markdown","159ec653":"markdown","31db2ec7":"markdown"},"source":{"6d16691f":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport os\nprint(os.listdir(\"..\/input\"))","186bd7f6":"data = pd.read_csv('..\/input\/master.csv')\ndata.head()","0691cb56":"data.columns.values","24cba706":"data.columns = ['country', 'year', 'sex', 'age', 'suicides_no', 'population',\n       'suicidesper100kpop', 'country-year', 'HDI for year',\n       'gdp_for_year_dollars', 'gdp_per_capita_dollars', 'generation']\ndata.columns.values","d41ebbec":"data['gdp_for_year_dollars'] = data['gdp_for_year_dollars'].str.replace(',','').astype(int)","349ecf61":"data.info()","c0e84cb5":"data.isnull().sum().sort_values(ascending=False)","35646139":"data_n = data.drop(['HDI for year', 'country-year'], axis=1)\ndata_n.head(3)","3e56f436":"data_n.describe()","182ea327":"data_n.describe(include=['O'])","63084fc6":"data_n[['sex','suicides_no']].groupby(['sex']).mean().sort_values(by='suicides_no', ascending=False).plot(kind='bar')","bba18f6f":"plt.figure(figsize=(10,5))\nsns.barplot(x = 'age', y='suicides_no', hue='sex', data=data_n.groupby([\"age\",\"sex\"]).sum().reset_index()).set_title('Age vs Suicides')\nplt.xticks(rotation=90)","7a47a2b4":"country_suicides = data_n[['country','suicides_no']].groupby(['country']).sum()\ncountry_suicides.plot(kind='bar', figsize=(40,10), fontsize=25)","07bda1af":"country_suicides = country_suicides.reset_index().sort_values(by='suicides_no', ascending=False)\ntop15 = country_suicides[:15]\nsns.barplot(x='country', y='suicides_no', data=top15).set_title('countries with most suicides')\nplt.xticks(rotation=90)","4d50c778":"bottom15 = country_suicides[-15:]\nsns.barplot(x='country', y='suicides_no', data=bottom15).set_title('countries with least suicides')\nplt.xticks(rotation=90)","fde3c7ed":"data_n[['year','suicides_no']].groupby(['year']).sum().plot()","098c171e":"grid = sns.countplot(x='generation', data=data_n)\ngrid = plt.setp(grid.get_xticklabels(), rotation=45)","fc643970":"gen_year = data_n[['suicides_no','generation','year']].groupby(['generation','year']).sum().reset_index()\nplt.figure(figsize=(25,10))\nsns.set(font_scale=1.5)\nplt.xticks(rotation=90)\nsns.barplot(y='suicides_no', x='year', hue='generation', data=gen_year, palette='deep').set_title('Suicides vs generations per year')","9d9a2219":"top15data = data_n.loc[data_n['country'].isin(top15.country)]\ncountry_suicides_sex = top15data[['country','suicides_no','sex']].groupby(['country','sex']).sum().reset_index().sort_values(by='suicides_no', ascending=False)\nplt.figure(figsize=(25,10))\nplt.xticks(rotation=90)\nsns.barplot(x='country', y='suicides_no', hue='sex', data=country_suicides_sex).set_title('countries suicides rate w.r.t sex')","8d5dc789":"bottom15data = data_n.loc[data_n['country'].isin(bottom15.country)]\ncountry_suicides_sex = bottom15data[['country','suicides_no','sex']].groupby(['country','sex']).sum().reset_index().sort_values(by='suicides_no', ascending=False)\nplt.figure(figsize=(25,10))\nplt.xticks(rotation=90)\nsns.barplot(x='country', y='suicides_no', hue='sex', data=country_suicides_sex).set_title('countries suicides rate w.r.t sex')","89d15852":"female_data = data_n.loc[data_n['sex']=='female']\nfemale_suicides = female_data[['country','suicides_no','sex']].groupby(['country','sex']).sum().reset_index().sort_values(by='suicides_no', ascending=False)\nplt.figure(figsize=(25,10))\nplt.xticks(rotation=90)\nsns.barplot(x='country', y='suicides_no', data=female_suicides).set_title('females suicide rate w.r.t country')","df3c439a":"f, ax = plt.subplots(figsize=(5,5))\nsns.heatmap(data_n.corr(), annot=True, linewidths=.5, fmt= '.1f',ax=ax)","5c9e278a":"plt.figure(figsize=(25,10))\nplt.xticks(rotation=90)\nsns.barplot(x='country', y='population', hue='sex', data=data_n).set_title('country vs population')","2a5a5b61":"def decade_mapping(data):\n    if 1985 <= data <= 1994:\n        return \"1985-1994\"\n    elif 1995 <= data <= 2004:\n        return \"1995-2004\"\n    else:\n        return \"2005-2016\"\n    \ndata_n.year = data_n.year.apply(decade_mapping)\ndata_n.head(3)","d288d4d0":"grid = sns.FacetGrid(data_n, row='generation', col='year', size = 5, aspect=1.5)\ngrid.map(sns.barplot, 'sex', 'suicides_no', alpha=.5, ci=None)\ngrid.add_legend()","c7ddabb6":"We observe that - \n* Total **101 unique countries** are present in dataset\n* Suicide rates of **males** are higher than females\n* The age feature  has **6 unique age groups**\n* The generation feature has **6 types of generation**\n* **Generation X** has higher rates of suicide\n","4a14e390":"### Female suicide rate w.r.t country","051e6fed":"### Top 15 countries with least suicides","3ac371d2":"We can observe that the females suicide rate is **too high** in countries like **Japan, Russian Federation and United States.**","c191cd0e":"We observe here that -\n* Suicide rate is **high** in age group **35-54 years**\n* Suicide rate is **low** in age group **5-14 years**","720fabb1":"### Suicides categorised by generations","aaf0fdf1":"* United States have the highest population followed by Brazil, Russian Federation, Japan and Mexico with more number of females than males","b0c1f4d0":"### Suicides by year distribution","732fe155":"***Do upvote if this kernel helped you in any way, it will boost up confidence and, please comment down if I am wrong somewhere. Thank you!***","270ecbdb":"We can observe that -\n* The suicide rate had grown rapidly from year 1990\n* The rate of suicide has drastically reduced in year 2016","bea23016":"1. **The Greatest Generation**: Born between **1901 - 1924**, they are those who experienced the Great Depression and World War II in their adulthood.\n2. **The Silent Generation**: Born in between **1924 - 1945**, coming of age during the postwar happiness.The Silent Generation children grew up in conditions complicated by war and economic downturn.\n3. **Baby Boomers**: Those born in the years **after World War II**. These are the men and women who tuned in, got high, dropped out, dodged the draft, swung in the Sixties and became hippies in the Seventies.  The first tolerant generation. Envision technology and innovation as requiring a learning process.\n4. **Generation X**: Born between **1965 and 1980**, they are the \u201clatch-key kids\u201d who grew up street-smart but isolated, often with divorced or career-driven parents.\n5. **Millennials**:  Researchers and commentators use birth years ranging from the **early 1980s to the early 2000s.** Known as sophisticated, technology wise, immune to most traditional marketing and sales pitches, they\u2019ve seen it all and been exposed to it all since early childhood. \n6. **Generation Z:** It is the generation born **after 1995** and they have never known a world without computers and cell phones.","f313584b":"### Top 15 countries with most suicides","89e44998":"We observed that - \n* Suicide rate of Generation Z is too low.\n* The Boomers have higher rate of suicides of males between years 1995-2004.\n* The suicide rates of females have increased over years in Generation X, Silent, Boomers, Millenials.","ce4ca924":"Only **HDI for year** feature has null values, so we will drop it. Also, we don't need **country-year** feature so we drop it too.","732dbd05":"Total **27820** entries\n\n**Numerical features**: year, suicides_no, population, suicides\/100k pop, HDI for year, gdp_for_year, gdp_per_capita\n\n**Categorical features**: country, sex, age, generation\n","33c2c466":"### Distribution of numerical feature values","e41e5f54":"* The suicide rate of Generation X -( born between **1965 and 1980**) is increased from year 1995.\n* The suicide rate of Silent Generation is high and increased highly from 1985-2010.\n* The suicide rate of Boomers was high in years 1991-1994 and was the generation with most suicides from 1991 till 2008.\n* The suicide rate of Millenials has increased from year 2011.\n* Generation Z has very low rate of suicides.\n","1768bd5d":"## Pivoting data","10c6a6eb":"**Let's group year based on decades**","0d76216b":"It can be observed from the heat map figure -\n1. Population and gdp_for_year are correlated\n2. Population and suicides_no is also correlated","402b0650":"### Distribution of categorical features","b1b1cd06":"**gdp_for_year** is numerical feature, but due to comma seperated number it is stored as string","1267d369":"### 2. Country, suicides_no","ab8e2dd1":"**Generation, Sex, Year**","b4f7b26a":"### 1. Age, Sex, Suicides_no","d8909981":"## Suicide rates of top 15 countries w.r.t sex","3e926e14":"# Suicide Rates Analysis over 1985 to  2016","0a1f2907":"* Suicide rates are **higher in Russian Federation, United States and Japan**\n* Suicide rates are too low in many countries.\n* Suicide rates are **moderate in France, Ukraine, Germany, Brazil, Republic of Korea, Poland, Thailand, United Kingdom, Canada, Italy, Mexico, etc.**\n","fb6bb177":"* The suicide count in countries  ***Dominica*** and ***Saint Kitts and Nevis*** is **zero**.","56ce6bed":"### Renaming column values","dd86e8d5":"### Country, Population","159ec653":"We can observe that - \n* Total 12 features\n*  **Age** - is grouped into years\n*  **country-year** - is combination of country and year feature\n* **HDI for year** - has missing data\n* **gdp_for_year** - needs to be converted to integer type","31db2ec7":"We observe that **males** have very high suicide rate"}}