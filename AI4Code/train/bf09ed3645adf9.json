{"cell_type":{"0ec3e1fb":"code","f4d99e29":"code","dcde284a":"code","107fe80f":"code","4eb5ad26":"code","4926db07":"code","62de24db":"code","5084046c":"code","ed808cc3":"code","ecacbdd3":"code","e24f9a83":"code","bdd8624d":"markdown","d4abfb3a":"markdown","0c502cc2":"markdown"},"source":{"0ec3e1fb":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","f4d99e29":"# gerekli k\u00fct\u00fcphaneleri import ettik\nfrom mlxtend.frequent_patterns import apriori\nfrom mlxtend.frequent_patterns import association_rules\n\n# veri setini okuduk.\ndf = pd.read_csv(\"..\/input\/onlineretail\/OnlineRetail.csv\",encoding='unicode_escape')\ndf.head()","dcde284a":"# girilen dataframe hakk\u0131nda genel bir bak\u0131\u015f a\u00e7\u0131s\u0131 edinebilmek i\u00e7in tan\u0131mlay\u0131c\u0131 nitelikte bir fonksiyon yazd\u0131k.\ndef check_df(dataframe):\n    print(\"##################### Info #####################\")\n    print(dataframe.info())\n    print(\"##################### NA #####################\")\n    print(dataframe.isnull().sum())\n    print(\"##################### Quantiles #####################\")\n    print(dataframe.describe([0, 0.05, 0.50, 0.95, 0.99, 1]).T)\n\ncheck_df(df)","107fe80f":"def outlier_thresholds(dataframe, variable):\n    quartile1 = dataframe[variable].quantile(0.01)\n    quartile3 = dataframe[variable].quantile(0.99)\n    interquantile_range = quartile3 - quartile1\n    up_limit = quartile3 + 1.5 * interquantile_range\n    low_limit = quartile1 - 1.5 * interquantile_range\n    return low_limit, up_limit\n\n\ndef replace_with_thresholds(dataframe, variable):\n    low_limit, up_limit = outlier_thresholds(dataframe, variable)\n    dataframe.loc[(dataframe[variable] > up_limit), variable] = up_limit\n\nreplace_with_thresholds(df, \"Quantity\")\nreplace_with_thresholds(df, \"UnitPrice\")\n\ndf.describe([0, 0.05, 0.50, 0.95, 0.99, 1]).T","4eb5ad26":"df.dropna(axis=0, inplace=True)\ndf[\"Description\"] = df[\"Description\"].str.strip(\" \")\ndf = df[~df[\"InvoiceNo\"].str.contains(\"C\", na=False)]\ndf = df[df[\"StockCode\"].apply(lambda x: str(x).isnumeric())]\ndf = df[df[\"Quantity\"] > 0]","4926db07":"basket = (df[df[\"Country\"] == \"Germany\"]\n              .groupby([\"InvoiceNo\", \"Description\"])[\"Quantity\"]\n              .sum().unstack().fillna(0)\n              .applymap(lambda x: 1 if x > 0 else 0))\nbasket.iloc[0:5, 0:5]","62de24db":"# support de\u011ferimiz i\u00e7in bir e\u015fik belirledik.\nfrequent_itemsets = apriori(basket, min_support=0.02, use_colnames=True)","5084046c":"# \u00fcr\u00fcnlerin elde etti\u011fimiz supportlar\u0131n\u0131n ilk 5 de\u011ferine bakt\u0131k.\nfrequent_itemsets.head()","ed808cc3":"# support, confidence ve lift ile ilgili kurallar\u0131 olu\u015fturduk.\nrules = association_rules(frequent_itemsets, metric=\"support\", min_threshold=0.01)","ecacbdd3":"# support ve confidence kullanarak da\u011f\u0131l\u0131m grafi\u011fi olu\u015fturduk\nsns.scatterplot(x = \"support\", y = \"confidence\", \n                size = \"lift\", data = rules)\nplt.show()","e24f9a83":"rules.head()","bdd8624d":"Vard\u0131\u011f\u0131m\u0131z sonucu \u00f6rnekle yorumlayacak olursak:\n\n* 6 RIBBONS RUSTIC CHARM ve REGENCY CAKESTAND 3 TIER \u00fcr\u00fcnlerinin birlikte al\u0131nma oran\u0131 0.022, 3 PIECE SPACEBOY COOKIE CUTTER SET alan m\u00fc\u015fterilerin %52'si REGENCY CAKESTAND 3'te almaktad\u0131r ve 3 PIECE SPACEBOY COOKIE CUTTER SET al\u0131nd\u0131\u011f\u0131nda REGENCY CAKESTAND 3 al\u0131nma oran\u0131 2.07 kat artmaktad\u0131r.\n\n* BLUE HARMONICA IN BOX ve 6 RIBBONS RUSTIC CHARM \u00fcr\u00fcnlerinin birlikte al\u0131nma oranlar\u0131 0.106, BLUE HARMONICA IN BOX alan m\u00fc\u015fterilerin %40'\u0131 6 RIBBONS RUSTIC CHARM'da almaktad\u0131r ve BLUE HARMONICA IN BOX al\u0131nd\u0131\u011f\u0131nda 6 RIBBONS RUSTIC CHARM'\u0131n al\u0131nma oran\u0131 3.83 kat artmaktad\u0131r.","d4abfb3a":"Veri setinin bildi\u011fimiz problemlerini gidermek \u00fczere a\u015fa\u011f\u0131daki i\u015flemleri yapt\u0131k.\n\n* S\u00fctunlardaki na de\u011ferlerden kurtulduk\n* Description i\u00e7inde string de\u011ferleri ay\u0131rd\u0131k.\n* \u0130ade i\u015flemlerini temsil eden C karakteri ile iade i\u015flemlerinden kurtulduk.\n* StockCode i\u00e7erisinde numeric olmayan de\u011ferleri eledik.\n* Quantity de\u011ferinin 0'dan k\u00fc\u00e7\u00fck de\u011ferlerini eledik.","0c502cc2":"Veri setinden Almanya'y\u0131 se\u00e7tik ve Quantity de\u011ferinin toplam\u0131n\u0131 InvoiceNo, Description k\u0131r\u0131l\u0131m\u0131nda ald\u0131k. Unstack fonksiyonu ile pivot table g\u00f6r\u00fcn\u00fcm\u00fc elde ettik ve na de\u011ferlerine 0 atad\u0131k. Apriori fonksiyonu 1-0 ya da True-False de\u011ferleri \u00fczerinde \u00e7al\u0131\u015f\u0131yor ve bizde en son i\u015flem olarak apriori fonksiyonunun \u00e7al\u0131\u015fabilmesi i\u00e7in tabloyu 1-0 de\u011ferlerine d\u00f6n\u00fc\u015ft\u00fcrd\u00fck. Yani tablonun son hali \u00fcr\u00fcn sepette var m\u0131 yok mu? Bu durumu anlam\u0131z\u0131 sa\u011flad\u0131."}}