{"cell_type":{"95ac6317":"code","3c85199f":"code","9bd8cc42":"code","32239255":"code","27b82105":"code","289e16d4":"code","b0b6932a":"code","bfd4e04e":"code","07aacaf0":"code","43f2233b":"code","54602f51":"code","5095c39f":"code","4c50f53d":"code","8ec21559":"code","60d9eaf9":"code","145cdf9b":"code","c68dbe9a":"code","fe229955":"code","9f892766":"code","175b81ae":"code","96335515":"code","7fa52a1e":"code","cd69bc6a":"code","f7aefec2":"code","a243e10c":"code","dbe6f34e":"code","a770e008":"code","4fdfb255":"code","47d4cc8c":"code","f6b07bbf":"code","63c3da36":"code","d43a1e39":"code","cf8ee195":"code","be73bdbe":"code","29d59e5d":"code","c12823ed":"code","1339c25a":"code","cc1bdba0":"code","317b2c70":"code","53fbccbd":"code","c00cb11b":"code","7e7d5bd2":"code","798ba47a":"code","20358b7f":"code","f8bc8c1a":"code","c50357d1":"code","4f8b4f99":"code","9f866805":"code","988a1c14":"code","5d20b8a6":"code","a9ff7aed":"markdown","d4660b8e":"markdown","cc17151e":"markdown","7052b1a1":"markdown","eba8feb1":"markdown","72c46cc6":"markdown","5a71be49":"markdown","9b407b31":"markdown","a10f95d3":"markdown","e154370b":"markdown","ad44d971":"markdown","fba38457":"markdown","6dff6bef":"markdown","2b1b8adc":"markdown","e4184bc3":"markdown","d2e0f7fe":"markdown","3f83b98a":"markdown","7bfe3b91":"markdown","47d48342":"markdown","595206b4":"markdown","67c2aff2":"markdown","da270979":"markdown","4d3bc589":"markdown","5ba017c2":"markdown","37f5a263":"markdown","04133c88":"markdown","2bcd7b87":"markdown","b696fed7":"markdown","92fc8f05":"markdown","00f1faa6":"markdown","0ff55561":"markdown"},"source":{"95ac6317":"import pandas as pd\nimport numpy as np\nimport plotly.express as px\nimport matplotlib.pyplot as plt\nimport matplotlib\nimport seaborn as sns\n%matplotlib inline\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n\nsns.set_style(\"darkgrid\")\nmatplotlib.rcParams[\"font.size\"] = 14\nmatplotlib.rcParams[\"figure.figsize\"] = (10,5)\nmatplotlib.rcParams[\"figure.facecolor\"] = \"#00000000\"","3c85199f":"#Open the dataset\n\nnyc_df = pd.read_csv(\"\/kaggle\/input\/nypd-shooting-incident-data-20062021\/NYPD Shooting Incident - Data 2006-2021.csv\")","9bd8cc42":"#NewYork shoooting incidences dataframe\nnyc_df.head(5)","32239255":"# Drop if all values in a row are missing\nnyc_df.dropna(axis = 0, how = \"all\").head()","27b82105":"#Lets filter out missing values in nyc_df \n\nmissing_values = nyc_df.isna().sum()\/len(nyc_df)*100\nmissing_values","289e16d4":"#Missing values horizontal bar graph representation \nmissing_values[missing_values != 0].plot(kind = \"barh\");\n\nplt.title(\"Horizontal Bar Chart: Missing Values \",fontsize = 12)\nplt.ylabel(\"Missing Value Columns\",fontsize = 12)\nplt.xlabel(\"Percentage of Missing Values\",fontsize = 12);","b0b6932a":"#Fill missing values with Data Missinng\nnyc_df.PERP_AGE_GROUP.fillna(\"No Age\",inplace = True)            \nnyc_df.PERP_SEX.fillna(\"No Sex\",inplace = True)                   \nnyc_df.PERP_RACE.fillna(\"No Race\",inplace = True);","bfd4e04e":"#Confrim if values  have  been filled \nnyc_df.head()","07aacaf0":"#Lets check if nyc_df has duplicates\nduplicates = nyc_df.duplicated()","43f2233b":"#Count duplicates and non-duplicates\nduplicates.describe()","54602f51":"#Extract Duplictaed rows\n\nnyc_df.loc[duplicates].head()","5095c39f":"#Drop duplicates\n\nnyc_df.drop_duplicates(keep = \"first\",inplace = True) #Keep the first occurrence and drop other duplicates","4c50f53d":"#drop some colums\ncolums_to_drop = ['JURISDICTION_CODE','LOCATION_DESC','STATISTICAL_MURDER_FLAG','X_COORD_CD','Y_COORD_CD','Latitude','Longitude','Lon_Lat']\n\nnyc_df.drop(colums_to_drop,axis =1,inplace = True)","8ec21559":"nyc_df.head(5)","60d9eaf9":"#Summary of the nyc_df\nnyc_df.info()","145cdf9b":"#Dimentionality of the nyc_df\nnyc_df.shape","c68dbe9a":"#Unique Values in Borough\nnyc_df.BORO.unique()","fe229955":"#Number of unique values in BORO Column\nnyc_df.BORO.nunique()","9f892766":"#Chenge Date and  Time Column Names\n\nnyc_df.rename(columns = {\"OCCUR_DATE\" : \"DATE\", \"OCCUR_TIME\" : \"TIME\"},inplace = True)","175b81ae":"nyc_df.head(3)","96335515":"#Covert date column to datetime\n\nnyc_df.DATE\n\n","7fa52a1e":"#Convert date column\nnyc_df[\"DATE\"] = pd.to_datetime(nyc_df.DATE)","cd69bc6a":"#Extract Date time values to different columns\n\nnyc_df[\"YEAR\"] = pd.DatetimeIndex(nyc_df.DATE).year\nnyc_df[\"MONTH\"] = pd.DatetimeIndex(nyc_df.DATE).month\nnyc_df[\"DAY\"] = pd.DatetimeIndex(nyc_df.DATE).day\nnyc_df[\"WEEKDAY\"] = pd.DatetimeIndex(nyc_df.DATE).weekday","f7aefec2":"#Convert Time column\nnyc_df[\"HOUR\"] = pd.DatetimeIndex(nyc_df.TIME).hour","a243e10c":"nyc_df\n","dbe6f34e":"#Borough with most shooting incidences\nnyc_df.BORO.value_counts()","a770e008":"#Incidences in varaious BOROS bar graph\nx_axis = nyc_df.BORO.value_counts().index\ny_axis = nyc_df.BORO.value_counts()\n\nsns.barplot(x = x_axis,y = y_axis)\n\nplt.title(\"BAR CHART:INCIDENCES IN VARIOUS BOROUGHS\")\nplt.xlabel(\"BOROUGH\")\nplt.ylabel(\"INCIDENCES\");","4fdfb255":"#Total number of precincts\nnyc_df.PRECINCT.nunique()","47d4cc8c":"print(\"New York City has a total number of {} precincts\".format(nyc_df.PRECINCT.nunique()))","f6b07bbf":"#Precinct with highest number  of incidences\n\nnyc_df.PRECINCT.value_counts()","63c3da36":"x_axis = nyc_df.PRECINCT.value_counts().head(10).index\ny_axis = nyc_df.PRECINCT.value_counts().head(10)\n\nsns.barplot(x = x_axis,y = y_axis)\n\nplt.title(\" BAR CHART: TOP 10 PRECINCTS WITH  MOST INCIDENCES\",fontsize = 12)\nplt.xlabel(\"PRECINCT\",fontsize = 12)\nplt.ylabel(\"INCIDENCES\",fontsize = 12);","d43a1e39":"#year with most incidences\n\nnyc_df.YEAR.value_counts().sort_values(ascending = False).head()","cf8ee195":"year = nyc_df.YEAR.value_counts().index\nincidences_per_year = nyc_df.YEAR.value_counts()\n\n\n\nsns.lineplot(x = year,y = incidences_per_year)\n\nplt.title(\"LINE GRAPH: NUMBER OF INCIDENCS PER YEAR \",fontsize = 12)\nplt.xlabel(\"YEAR\",fontsize = 12)\nplt.ylabel(\"NUMBER INCIDENCES\",fontsize = 12);","be73bdbe":"#2021 unique values\n\ndf_2021 = nyc_df[nyc_df.YEAR == 2021] #2021 dataframe\ndf_2021.MONTH.unique() #Month in the 2021 data frame","29d59e5d":"#Age group unique  values\n\nnyc_df.PERP_AGE_GROUP[nyc_df.PERP_AGE_GROUP != \"No Age\"].unique()","c12823ed":"#Perpetratots age groups and no of incidences\nnyc_df.PERP_AGE_GROUP[nyc_df.PERP_AGE_GROUP != \"No Age\"].value_counts()#Filter out No Age values","1339c25a":"x_axis =nyc_df.PERP_AGE_GROUP[nyc_df.PERP_AGE_GROUP != \"No Age\"].value_counts().index\ny_axis = nyc_df.PERP_AGE_GROUP[nyc_df.PERP_AGE_GROUP != \"No Age\"].value_counts()\nsns.barplot(x = x_axis,y = y_axis)\n\nplt.title(\" BAR CHART:OCCURENCES BASED ON PERPETRATORS AGE GROUP\",fontsize = 12)\nplt.xlabel(\"AGE GROUP\",fontsize = 12)\nplt.ylabel(\"NO. OF INCIDENCES\",fontsize = 12);","cc1bdba0":"#Assign number  to this values\nnyc_df.PERP_AGE_GROUP[nyc_df.PERP_AGE_GROUP != \"No Age\"].unique()","317b2c70":"# Incidencs per_year in every Boro\n\nyearly_boro_incidences = nyc_df.groupby(\"YEAR\")[\"BORO\"].value_counts()\nyearly_boro_incidences","53fbccbd":"Brooklyn_df = nyc_df[nyc_df.BORO == \"BROOKLYN\"]\nBrooklyn_df","c00cb11b":"# Which precint in Brooklyn has most incidences\n\nBrooklyn_df.PRECINCT.value_counts().head(5)","7e7d5bd2":"# 75th precint incidences\nThe_75th_precint = Brooklyn_df[Brooklyn_df.PRECINCT == 75] \nThe_75th_precint.head()","798ba47a":"#The 75th precinct is in Brooklyn\nThe_75th_precint.BORO.unique()\n","20358b7f":"The_75th_precint[\"VIC_RACE\"].value_counts()","f8bc8c1a":"number_of_victims = The_75th_precint[\"VIC_RACE\"].value_counts()\nvictims_race = The_75th_precint[\"VIC_RACE\"].value_counts().index\n\n","c50357d1":"sns.barplot(x = number_of_victims,y = victims_race)\n\nplt.title(\" 75th precint, Brooklyn: Shooting incidences victims per race\",fontsize = 14)\nplt.ylabel(\"Victims Race\",fontsize = 14)\nplt.xlabel(\"Number Of Victims\",fontsize = 14);","4f8b4f99":"#Barchart based on Monthly occurences\nmonth = The_75th_precint.MONTH.value_counts().index\nincidences = The_75th_precint.MONTH.value_counts()\n\nfig = px.bar(The_75th_precint,\n                     x = month,\n                     y= incidences,\n                    labels = {\"x\":\"Month\",\"y\":\"No.of incidences\"},\n                    title = \"Bar Graph:Monthly Incidences\"\n                    )\nfig.show()\n","9f866805":"#weekday incidences pie chart\n\nweekday = The_75th_precint.WEEKDAY.value_counts()\nname = The_75th_precint.WEEKDAY.value_counts().index\n\nfig = px.pie(The_75th_precint,\n                     values = weekday,\n                    names = name,\n                    title = \"Weekday Incidences \")\nfig.show()\n\n\n","988a1c14":"The_75th_precint.HOUR.describe()","5d20b8a6":"#Barchart based on Monthly occurences\n\nhour = The_75th_precint.HOUR.value_counts().index\nincidences = The_75th_precint.HOUR.value_counts()\n\nsns.barplot( x = hour,y= incidences)\n\nplt.title(\"Bar Graph:Hourly Incidences\",fontsize = 12)\nplt.xlabel(\"Hour\",fontsize = 12)\nplt.ylabel(\"Incidences\",fontsize = 12);","a9ff7aed":"* Most of the incidences occur during the dark hours of the day,with 11pm being the time that most incidences are most likely to happen.When 5am approches the incidences  reduce and start rising again at around 3pm and they  increase into the evening.","d4660b8e":"#### Duplicates","cc17151e":"* New York City is composed  of five boroughs and they have all appeared in the data set meaning they all had shooting incidences.That shows  that shooting crimes is  something almost everey other  part of New York has to struggle with.","7052b1a1":"It appears there are no duplicates  but let us just  write   a line of code that will drop them if there might be any.","eba8feb1":"### Missing Values","72c46cc6":"### Q: Which age  group is most likely to commit an offence?","5a71be49":"### Q: Which Precinct has the highest number of recorded incidences?","9b407b31":"### Q: Which year had the highest number of recorded incidences?","a10f95d3":"### Outline\n* **We will clean the data:** Here we  shall find missing values and Fill Missing Values\n* **Do Transformation of the Data:** Here  we  shall find and remove the duplicates\n* **Do Exploratory Data Analysis:** Here we shall engage in some statistical description,summary and draw some insights.\nWe shall also  be asking and answering some investigative questions.\n* Visualize the data using Matplotlib,Seabon and plotly.\n\n* Make conclusions.\n","e154370b":"###  Weekday Incidences","ad44d971":"### Monthly Incidences","fba38457":"* Most victims of shoooting incidences are blacks","6dff6bef":"* Much of the missing values is seen in the perpetrators details which means that maybe they were not been able to\napprehend the  perpetrators.That might be because the perpetrators in most occasions flee from the scene.","2b1b8adc":"### Hourly Incidences","e4184bc3":"* Many incidences are mostly likely to happen in the second and third quarters of the year.","d2e0f7fe":"##  Introduction\n* There has been a rise in hate crimes and shooting incidences in the United States.It has been an issue that has become a national debate.Therefore an understanding of criminal activity based on the statistical description,summary and insights gained from available data like *New York City Shooting Incidences dataset* will be helpful in formulating the best police enforcement and intervention strategies. \n\nFrom this data set,[Click here to get the data set.](https:\/\/www.kaggle.com\/thedataperson\/nypd-shooting-incident-data-20062021\/download);\n\n* We shall draw insights about shooting (location,date, time) and the shooter\/victim (age, gender, race).\n* We shall narrow down  on the location  with  the  most incidences and draw insights.\n* Expect some investigative questions about our data set.\n> Narrowing down on areas with the most incidences is essential because if law enforcers  and policy makers are able to  find ways of curtailing incidences in these areas, then some of those strategies can be used to either bring down or avoid  incidences in other areas. \n>> It is for this reason that the analysis will narrow down to places with most occurences.\n\n*Crime statistics and analysis* are important because of various reasons.\n\n* They help criminal justice systems when it comes to **predictive policing**.\n* In age of community  policing such statistics help **improve  relationship with the community**. \n* They are helpful when it comes to **law initiatives** with an aim to decrease crime.\n\n[Click here for more details on why crime statistics are important.](https:\/\/www.waldenu.edu\/online-bachelors-programs\/bs-in-criminal-justice\/resource\/why-national-crime-statistics-are-important)\n","3f83b98a":"### Q: Which Borough has the highest number of recorded incidences?","7bfe3b91":"# Exploratory Analysis and Visualization","47d48342":"# Conclusion \n\n* There is so much missing data when it  comes to perpetrators.That means  that ways should be invented to atleast help  capturing perpetrators data and this are some of the problems that **technologies like CCTV installation** can solve. \n* The high shooting incidences in Brooklyn might be because it is the **most populous borough** in New York.Thus the higher  the population  the more likely it is for shooting incidences to occur.That means that law enforcers need to especially watch and police most populated areas.\n* Since the age groups that are most likely to perpetrate gun violence are **18-24 and 25-44, which fall among the working class**,in  problem solving policy  makers ought to come up with measures that target these age groups.That means that going on we need to find the correlation  between a persons  income  and gun violence.\n* Since  most  incidences occur during the dark hours,these  are the hours that  people need to be most  vigilant.That means that law enforcers need to have more patrols during the hours that  incidences are most likely to happen.\n* Brooklyn being the borough with most incidences authorities need to figure out why and how to respond.Then other places should borrow the successes gained in tackling Brooklyn crimes.\n","595206b4":"* The precinct that has the highest number of incidences is the 75th precinct which means that law enforcers also need to step up their precence in the precinct.","67c2aff2":"* The borough that has the highest number of incidences is Brooklyn which means that law enforcers need to step up their precence in Brooklyn, since  looking  at the occurence of values incidences are most common in that borough.","da270979":"### Transformation ","4d3bc589":"* Most incidences occur during weekends with Sunday(Weekday 6) toping the list  followed by Saturday respectively.","5ba017c2":"# New York City Shooting Incidences 2006-2021, Exploratory Data Analysis.\n","37f5a263":"### Q: Which Race has the most shooting incidences victims?\n","04133c88":"# Data Preparation and Cleaning","2bcd7b87":"### Q: In which month,weekday and hour were there most incidences in The 75th precint in Brooklyn?","b696fed7":"### Filling Missing Values","92fc8f05":"* Since Brooklyn  has  the higest  number of incidences, it would be essential to look at the precints in brookly that  had  most incidences.","00f1faa6":" ### Q: Which precint in Brooklyn has most incidences?\n","0ff55561":"* Incidences  have  been  reducing over the years.2021 has very few incidences because the dataframe only had data upto March 2021 as seen below."}}