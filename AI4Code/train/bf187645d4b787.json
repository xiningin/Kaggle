{"cell_type":{"3bd0e9fb":"code","9ce5b7e1":"code","8dda8298":"code","0c06018a":"code","2f82c3ed":"code","85591bba":"code","6a1102a9":"code","0f159209":"code","3f2b5556":"code","12d165b8":"code","5b46389c":"code","594d4d15":"code","afff7b57":"code","062da661":"code","cb14096b":"code","b780d0ca":"code","13464bb8":"code","ae7528e4":"code","6fa63525":"code","2507a2e9":"code","0de71d7d":"code","15e9976c":"code","1e065f86":"code","c4d4ea07":"code","ffc45ecf":"code","4189ddf8":"code","78fcb51a":"code","0e1f9dba":"code","f33b5ddb":"code","75e88e59":"code","b2ea5abc":"code","a2c8198e":"code","4e2b3ac9":"code","fc65e5f9":"code","33921f00":"code","ada93668":"code","8f0f7634":"code","feefd318":"code","d6211ef1":"code","959f2263":"code","6dee8f75":"code","944efab8":"code","8787c549":"code","eae725c5":"code","d6a733bf":"code","6bda1f94":"code","884cf9ad":"code","1fbaa216":"code","1edb2e23":"code","5b417479":"code","a2f63411":"markdown","67678b9e":"markdown","965f2407":"markdown","d3498b05":"markdown","32911e7d":"markdown","316e14a3":"markdown","b75bb982":"markdown","32840e68":"markdown","98c314e0":"markdown","636192c3":"markdown","1f5d6647":"markdown","fba387cd":"markdown","87d998a4":"markdown","536a29a2":"markdown","5a3603de":"markdown","10781016":"markdown","a758a8ba":"markdown","7304a2c9":"markdown","b9a1113d":"markdown","c519f82b":"markdown","4e6c665f":"markdown","f3df4b0c":"markdown","7f5ed52c":"markdown"},"source":{"3bd0e9fb":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport warnings\nwarnings.filterwarnings('ignore')\nsns.set()","9ce5b7e1":"df=pd.read_csv('..\/input\/house-price-prediction-challenge\/train.csv')\n","8dda8298":"df.head()","0c06018a":"df.info()","2f82c3ed":"df.describe()","85591bba":"# taking out city from address ","6a1102a9":"df['CITY']=df['ADDRESS'].apply(lambda x :x.split(',')[1])","0f159209":"df.drop('ADDRESS',1,inplace=True)","3f2b5556":"df.head()","12d165b8":"df.isnull().sum(axis=0)","5b46389c":"df.nunique()","594d4d15":"col_less_20=['POSTED_BY','UNDER_CONSTRUCTION','BHK_NO.','BHK_OR_RK','READY_TO_MOVE','RESALE','CITY']\n\n\nfor col in col_less_20:\n    print(df[col].value_counts())\n    print(\"----------------------------------------------\")","afff7b57":"# we have so much city we can make less occuring city as Other and maharastra as other","062da661":"df['CITY'].value_counts()[:11]","cb14096b":"# we can keep top 10 and fo reaming wi will make other","b780d0ca":"col_dict_city=dict(df['CITY'].value_counts()<600)","13464bb8":"for i in col_dict_city.keys():\n    if col_dict_city[i]==True:\n        df['CITY']=df['CITY'].replace(i,'Other')\n# maharastra is not a city       \ndf['CITY']=df['CITY'].replace('Maharashtra','Other')","ae7528e4":"df['BHK_NO.'].value_counts()","6fa63525":"# converting dtype of BHK_NO to categorical\n\ndf['BHK_NO.']=df['BHK_NO.'].astype('O')","2507a2e9":"col_dict_bhk=dict(df['BHK_NO.'].value_counts()<1000)","0de71d7d":"for i in col_dict_bhk.keys():\n    if col_dict_bhk[i]==True:\n        df['BHK_NO.']=df['BHK_NO.'].replace(i,'4+')","15e9976c":"df['BHK_NO.'].value_counts()","1e065f86":"df['CITY'].value_counts()","c4d4ea07":"#dropping BHK or RK as highly skewness\ndf.drop('BHK_OR_RK',1,inplace=True)","ffc45ecf":"# with the help of sqft and price we can drive another feature price per sqft\ndf['Price_per_sqft(lac)']=df['TARGET(PRICE_IN_LACS)']\/df['SQUARE_FT']","4189ddf8":"df.nunique()","78fcb51a":"df.head()","0e1f9dba":"plt.figure(figsize=(10,10))\nplt.subplot(2,2,1)\nsns.distplot(df['TARGET(PRICE_IN_LACS)'])\n\nplt.subplot(2,2,2)\nsns.distplot(df['SQUARE_FT'])\nplt.subplot(2,2,3)\nsns.distplot(df['LONGITUDE'])\nplt.subplot(2,2,4)\nsns.distplot(df['LATITUDE'])","f33b5ddb":"# With the help of interquantile technique and soft boundary so we don't tempored much data we removed outliers\n\n\ncols = ['SQUARE_FT', 'TARGET(PRICE_IN_LACS)'] # one or more\n\nQ1 = df[cols].quantile(0.05)\nQ3 = df[cols].quantile(0.90)\nIQR = Q3 - Q1\n\ndf = df[~((df[cols] < (Q1 - 1.5 * IQR)) |(df[cols] > (Q3 + 1.5 * IQR))).any(axis=1)]","75e88e59":"plt.figure(figsize=(10,10))\nplt.subplot(2,2,1)\nsns.distplot(df['TARGET(PRICE_IN_LACS)'])\n\nplt.subplot(2,2,2)\nsns.distplot(df['SQUARE_FT'])\nplt.subplot(2,2,3)\nsns.distplot(df['LONGITUDE'])\nplt.subplot(2,2,4)\nsns.distplot(df['LATITUDE'])","b2ea5abc":"# lets see outliers ","a2c8198e":"plt.figure(figsize=(10,10))\nsns.scatterplot(x='TARGET(PRICE_IN_LACS)',y='SQUARE_FT',hue='POSTED_BY',data=df)","4e2b3ac9":"# let see house price wrt city","fc65e5f9":"plt.figure(figsize=(10,10))\nsns.barplot(x='CITY',y='TARGET(PRICE_IN_LACS)',data=df,estimator=np.median)","33921f00":"plt.figure(figsize=(20,15))\nsns.barplot(x='CITY',y='TARGET(PRICE_IN_LACS)',hue='BHK_NO.',data=df,estimator=np.median)","ada93668":"plt.figure(figsize=(10,10))\nsns.barplot(x='CITY',y='SQUARE_FT',data=df,estimator=np.median)","8f0f7634":"plt.figure(figsize=(20,15))\nsns.barplot(x='CITY',y='SQUARE_FT',hue='BHK_NO.',data=df,estimator=np.median)","feefd318":"plt.figure(figsize=(10,10))\nsns.barplot(x=df['CITY'],y=df['Price_per_sqft(lac)'],estimator=np.median)","d6211ef1":"plt.figure(figsize=(15,15))\n\nplt.subplot(2,2,1)\nsns.barplot('READY_TO_MOVE','TARGET(PRICE_IN_LACS)',data=df,estimator=np.median)\n\nplt.subplot(2,2,2)\nsns.barplot('RERA','TARGET(PRICE_IN_LACS)',data=df,estimator=np.median)\nplt.subplot(2,2,3)\nsns.barplot('RESALE','TARGET(PRICE_IN_LACS)',data=df,estimator=np.median)\nplt.subplot(2,2,4)\nsns.barplot('UNDER_CONSTRUCTION','TARGET(PRICE_IN_LACS)',data=df,estimator=np.median)","959f2263":"plt.figure(figsize=(10,10))\ncorr = df.corr()\ncorr = corr.where(np.triu(np.ones(corr.shape), k = 1).astype(np.bool))\nsns.heatmap(corr,vmin=-1,vmax=1,annot=True)","6dee8f75":"# we will try to compare with mumbai,bangalore","944efab8":"df_lalit=df[df['CITY']=='Lalitpur']","8787c549":"df_mumbai=df[df['CITY']=='Mumbai']","eae725c5":"df_bang=df[df['CITY']=='Bangalore']","d6a733bf":"df_lalit.head()","6bda1f94":"df_mumbai.head()","884cf9ad":"df_bang.head()","1fbaa216":"df_lalit.nunique()","1edb2e23":"df_lalit.describe([.99])","5b417479":"plt.figure(figsize=(10,10))\nplt.subplot(2,1,1)\nsns.distplot(df_lalit['TARGET(PRICE_IN_LACS)'],hist=False,color='r')\nsns.distplot(df_mumbai['TARGET(PRICE_IN_LACS)'],hist=False,color='g')\nsns.distplot(df_bang['TARGET(PRICE_IN_LACS)'],hist=False,color='b')\n\nplt.subplot(2,1,2)\nsns.distplot(df_lalit['SQUARE_FT'],hist=False,color='r')\nsns.distplot(df_mumbai['SQUARE_FT'],hist=False,color='g')\nsns.distplot(df_bang['SQUARE_FT'],hist=False,color='b')\n","a2f63411":" OK, higher the number of bhk more price u need to pay\n","67678b9e":" we have also som many BHK we can make 5+ or 4+ bhk ","965f2407":"Now we can see clear picture :\nWe have more house between prices between 10 100 lac\nmore houses between 1000 to 2000 sq ft","d3498b05":"So we can say that Mumbai has high land price and  which impact on size of land people buy.\n\n<br > something wrong in lalitpur","32911e7d":"### EDA ","316e14a3":"# If you liked my work Upvote\n### If you find something wrong, comment below\n### connect me on :- www.linkedin.com\/in\/arvindpatel2512\n\n","b75bb982":"We can see after 4 bhk number are decreased have so many value we can do that make '4+'","32840e68":"We can say that dealer sell property most costlier then owner and builder <br>\nbecaouse if we see blue they are highly dense between 0-100 but decrease after that we can see only orange","98c314e0":"![image.png](attachment:image.png)","636192c3":"# Conclusion Of analysis:-\n\nDealer sell property most costlier then owner and builder <br>\n\nIN major place we will see property price in between  10-100. <br>\n\nMumbai is most costlier city wrt price, land price per sqft <br> \n\nprice increase with BHK <br>\n\nReady to move are slighlly costlier then not ready to move <br>\n\nRERA registred are costlier property <br>\n\nRsale property is cheaper but with not much margin <br>\n\nUnder construction company is cheaper<br>\n","1f5d6647":"Ready to move are slighlly costlier then not ready to move <br>\nRERA registred are costlier property <br>\nRsale property is cheaper but with not much margin <br>\nUnder construction company is cheaper<br>","fba387cd":"let's check value count of colums which have less than 20 value","87d998a4":"### We r good to go we for model building but before that let quickly do some EDA try to understand data","536a29a2":"we can say that we have outliers in target and sq ft let check them and treat them\n\nIf we see longitude and latitude, in longitude we have 3 peak in 0-40 which , in latitude 50-100 which means we have major city in between these","5a3603de":"If we closely observe mumbai and other city like bangalore etc, we will see we need to pay high amount and we get less area. <br>\nKolkatta and noida is good place to invest as you will need to pay less in this city and you will get more area","10781016":"we can see that in mumbai we need to pay more <br>\nIn second we have lalitpur but its so strange as lalitpur is not metro city or crowded city <br>","a758a8ba":"### lets see unique and value counts  in different columns","7304a2c9":"# let's try to figure out whats wrong in lalitpur","b9a1113d":"#### If we see BHK_NO it has max value 20, which is not possible \n#### In price we can see 3000 lac which seem to be outlier","c519f82b":"If we see highly dense in price 0 to 100 then decrease <br>\n\nand we don't have any outliers","4e6c665f":"# steps FOllowed :-\n Basic sanity check. <br>\n Feature engineering  <br>\n handling columns which have more amount of categorical values <br>\n  Outlier treatment with IQR <br>\n EDA wrt to target variable and other features such as sqft area etc <br>\n tried to figure out whats wrong in lalitpur data <br>\n Conclusion <br>","f3df4b0c":"Mumbai and lalitpur is showing almost same distribution,which is quite strnge, maybe data is not feasible for lalitpur or more analysis required","7f5ed52c":"![image.png](attachment:image.png)"}}