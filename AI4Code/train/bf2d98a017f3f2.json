{"cell_type":{"73c0e0a1":"code","14500a76":"code","aff5a03c":"code","c59f88c1":"code","ba84fcf8":"code","88606f80":"code","6ad7a81b":"code","5deb2f23":"code","7da5cc47":"code","0179f478":"code","5bfaccfa":"code","a19a53a5":"code","19a9c42e":"code","d6e56841":"markdown","aef3ccd5":"markdown","772be336":"markdown","92819314":"markdown","41d7ca41":"markdown","7e46042b":"markdown"},"source":{"73c0e0a1":"import pandas as pd\nimport os\nimport matplotlib.pyplot as plt\nfrom datetime import datetime\nimport matplotlib.dates as dt\nimport matplotlib.ticker as ticker","14500a76":"path = \"..\/input\/french-nuclear-reactors-availability-20152021\"\nfile = \"French_nuclear_reactors_availability.csv\"\n\ndata = pd.read_csv(os.path.join(path, file),\n                   index_col = 0,\n                   parse_dates = True)\n\ndata.head(5)","aff5a03c":"file = \"French_nuclear_reactors_availability_full\/French_nuclear_reactors_availability_full.csv\"\n\ndata_full = pd.read_csv(os.path.join(path, file),\n                       header = [0, 1],\n                       index_col = 0,\n                       parse_dates = True,\n                       low_memory = False)\n\ndata_full.head(5)","c59f88c1":"file = \"French_nuclear_reactors_list.csv\"\n\nreactors = pd.read_csv(os.path.join(path, file),\n                       parse_dates = True,\n                       index_col = 1)\n\nreactors.head(5)","ba84fcf8":"# Computing the total capacity available\ndata[\"total_available_capacity\"] = data.sum(axis=1)","88606f80":"fig, ax = plt.subplots(figsize = (14, 10))\n\nax.plot(data.index, data.total_available_capacity,\n        label = 'Total available capacity',\n        c = 'lightgray',\n        lw = 0.5)\n\nax.plot(data.rolling('30D').mean().total_available_capacity,\n        label = '30-days rolling average',\n        c = 'black')\n\nax.set_title(\"French nuclear fleet availability\")\nax.set_ylabel(\"Capacity available (MW)\")\n\nax.set_xlim(datetime(2015, 1, 1), datetime(2021, 12, 31))\n\nax.xaxis.set_major_locator(dt.YearLocator())\nax.xaxis.set_major_formatter(dt.DateFormatter('%Y'))\nax.xaxis.set_minor_locator(dt.MonthLocator())\nax.xaxis.set_minor_formatter(ticker.NullFormatter())\nax.grid(True)\n\nplt.legend()\nplt.show()","6ad7a81b":"# Computing the total fleet capacity\ndata[\"total_fleet_capacity\"] = reactors.Rated_power.sum()\n\n#Substract Fessenheim 1 capacity after Feb, 20 2020\ndata.loc[datetime(2020, 2, 20):, \"total_fleet_capacity\"] = data.loc[datetime(2020, 2, 20):, \"total_fleet_capacity\"] - reactors.at['Fessenheim 1', 'Rated_power']\n#And Fessenheim 2 after Jun, 29 2020\ndata.loc[datetime(2020, 6, 29):, \"total_fleet_capacity\"] = data.loc[datetime(2020, 6, 29):, \"total_fleet_capacity\"] - reactors.at['Fessenheim 2', 'Rated_power']","5deb2f23":"# Computing fleet availability ratio\ndata[\"fleet_availability_ratio\"] = data.total_available_capacity \/ data.total_fleet_capacity *100","7da5cc47":"# Yearly average availability\ndata_y = data.resample('1Y').mean()\ndata_y = data_y[['fleet_availability_ratio']]\n\n# Min and max yearly availability\ndata_y['min_availability_ratio'] = data.fleet_availability_ratio.resample('1Y').min()\ndata_y['max_availability_ratio'] = data.fleet_availability_ratio.resample('1Y').max()\n\ndata_y.index = data_y.index.year\ndata_y.T","0179f478":"fig, ax = plt.subplots(figsize = (14, 10))\n\nax.plot(data.index, data.fleet_availability_ratio,\n        label = 'Fleet availability ratio',\n        c = 'lightgray',\n        lw = 0.5)\n\nax.hlines(y = data_y.fleet_availability_ratio,\n          xmin = [datetime(y, 1, 1) for y in data_y.index],\n          xmax = [datetime(y, 12, 31) for y in data_y.index],\n          label = 'Yearly average',\n          colors = 'black',\n          lw = 2)   \n\nax.set_title(\"French nuclear fleet availability\")\nax.set_ylabel(\"Availability (%)\")\n\nax.set_xlim(datetime(2015, 1, 1), datetime(2021, 12, 31))\nax.set_ylim(35, 100)\n\nax.xaxis.set_major_locator(dt.YearLocator())\nax.xaxis.set_major_formatter(dt.DateFormatter('%Y'))\nax.xaxis.set_minor_locator(dt.MonthLocator())\nax.xaxis.set_minor_formatter(ticker.NullFormatter())\nax.grid(True)\n\nplt.legend()\nplt.show()","5bfaccfa":"#Computing unplanned deratings\n\nfor reactor in reactors.index:\n    #Creation of a new column\n    data_full[(reactor, \"Unplanned_unavailability\")] = 0\n    \n    #Subseting unplanned unavailabilities for the reactor\n    unplanned = data_full[data_full.loc[:, (reactor, \"Unavailability_type\")] == \"fortuite\"]\n\n    data_full.loc[unplanned.index, (reactor, \"Unplanned_unavailability\")] = unplanned.loc[:, (reactor, \"Derating\")]\n\ndata[\"Total_unplanned_unavailability\"] = data_full.loc[:, (slice(None), \"Unplanned_unavailability\")].sum(axis = 1)\ndata[\"Total_planned_unavailability\"] = data_full.loc[:, (slice(None), \"Derating\")].sum(axis = 1) - data[\"Total_unplanned_unavailability\"]","a19a53a5":"fig, ax = plt.subplots(figsize = (10, 10))\n\nax.pie([data.Total_planned_unavailability.sum(), data.Total_unplanned_unavailability.sum()],\n       labels = [\"Planned unavailability\", \"Unplanned unavailability\"],\n       autopct='%1.1f%%')\n\nplt.show()","19a9c42e":"fig, ax = plt.subplots(figsize = (14, 10))\n\nax.plot(data.index, (100 * data.Total_unplanned_unavailability \/ (data.Total_unplanned_unavailability + data.Total_planned_unavailability)),\n        c = 'C1')\n\nax.set_title(\"Proportion of unplanned unavailability\")\nax.set_ylabel(\"%\")\n\nax.set_xlim(datetime(2015, 1, 1), datetime(2021, 12, 31))\nax.set_ylim(0, 100)\n\nax.xaxis.set_major_locator(dt.YearLocator())\nax.xaxis.set_major_formatter(dt.DateFormatter('%Y'))\nax.xaxis.set_minor_locator(dt.MonthLocator())\nax.xaxis.set_minor_formatter(ticker.NullFormatter())\nax.grid(True)\n\nplt.show()","d6e56841":"The availability of the French nuclear production was exceptionaly low in 2020: on average less than two third of its installed capacity was available. At its lowest point, for 5 gigawatts installed less than 2 were available. This is probably due in large part to the Covid-19 epidemic which caused significant delays on planned maintenance operations.\n\nIn 2021, the availability was still poor but significantly higher and comparable to pre-Covid years like 2017 or 2019. However, the availability in early winter, when electricity demand rises due to lower temperatures, was worse than during any other year in the dataset.","aef3ccd5":"On average approximately 5% of the unavailability are reported as unplanned. However this proportion varies widely over time and can occasionally exceed 50%.\n\nIt is worth noting that the classification as planned or unplanned is not always accurate.","772be336":"# What is the proportion of unplanned outages?\n\nIn this second part we use the full dataset to calculate the share of unavailability that are labelled as unplanned (\"fortuite\") by the operator.","92819314":"# Simple availability plot","41d7ca41":"# Loading data","7e46042b":"# How did yearly availability evolve since 2015?\n\nFirst we will compute the fleet availability ratio, ie: total capacity available \/ total installed capacity\n\nTo calculate the total installed capacity, we will sum the installed capacity of each reactor. We will also take into account the definitive shutdown of Fessenheim 1 and 2, respectively on Feb, 22 2020 and Jun, 29 2020."}}