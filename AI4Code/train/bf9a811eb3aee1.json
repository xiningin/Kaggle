{"cell_type":{"d7f64a47":"code","eabc2ff0":"code","6ec79261":"code","8b9256ab":"code","2eef72ad":"code","f406d224":"code","a6ec7026":"code","196862de":"code","c6368a70":"code","24f4b1d8":"code","04aa8227":"code","ecca3764":"code","04ef75dc":"code","e8641e99":"code","01d8ea58":"code","328aa242":"code","86fc29bd":"code","61aca837":"code","f800cf44":"code","18d83d5c":"code","e04aa0ec":"code","ef19c30a":"code","ec14360a":"code","4235e890":"code","06ca7c16":"code","6c88a89e":"code","31792de8":"code","ec5e9435":"code","df7986bb":"code","49f4a702":"code","d3038ae6":"code","5ae7c922":"code","00000ccb":"code","af70ea19":"code","f42ffbcc":"code","3af2af79":"code","cd9963eb":"code","346ee994":"code","8e5f1be5":"code","8e175ebc":"code","1aaf6340":"code","2c9cb9b7":"code","926d6be1":"code","f51add1c":"code","b8e05613":"code","b4a954c1":"code","e4ffe7b1":"code","5391284e":"code","60b3f0ef":"markdown","9a5fc83d":"markdown","d0c60794":"markdown","11d76e8b":"markdown","836eff0a":"markdown","4d3ef69f":"markdown","06802bb5":"markdown","d91381ef":"markdown","573ea1c4":"markdown","32b014e1":"markdown","68f82511":"markdown","7c6ac993":"markdown","164a0f79":"markdown","d8274339":"markdown","aaa69251":"markdown","26b05624":"markdown","907f9a1e":"markdown","074a96a0":"markdown","acef4df2":"markdown","28ba4c63":"markdown","5ec6e0e0":"markdown","c463d587":"markdown","fcccd741":"markdown","97c10293":"markdown","a14f95c1":"markdown","fbf6fb18":"markdown","aaeaa3e8":"markdown","13fc317f":"markdown","85bfdd97":"markdown","8ea9c414":"markdown","c5f972cb":"markdown","025bc2b1":"markdown","3d256d9a":"markdown","0792addb":"markdown","d0dd4dc6":"markdown","4fee2e87":"markdown","80570485":"markdown","a4583860":"markdown","2a245162":"markdown","e856a029":"markdown","0fdde5d0":"markdown","e1e3d6be":"markdown","3fa6317a":"markdown","10949919":"markdown","c762883b":"markdown","133b0f40":"markdown","764c1675":"markdown","aa7186ff":"markdown","6bbd568f":"markdown","93415479":"markdown","5206d860":"markdown","33bcc890":"markdown","de229213":"markdown","7f6c7f88":"markdown","fbd69dfd":"markdown"},"source":{"d7f64a47":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom scipy.stats import pearsonr, spearmanr, chi2_contingency, ttest_ind, mannwhitneyu","eabc2ff0":"sns.set(rc={'figure.figsize':(10,5)})\nsns.set_style('whitegrid')\n%matplotlib inline  ","6ec79261":"def value_counts_percentage(dataset, column):\n    ''' value.counts() method extended by displaying percentage '''\n    \n    a = dataset[column].value_counts()\n    b = dataset[column].value_counts(normalize=True) * 100\n    \n    return pd.concat([a,b.round(2)], axis=1, keys=['N', '%'])","8b9256ab":"def heatmap_corr(dataset, method='spearman', ready=False, mask=True, nominal=False):\n    ''' Extended sns.heatmap() method. \n    \n    dataset - can be 'pure' data (without calculated correlations) or a DataFrame with already calcuateg \n        correlations (in that case attribute 'ready' should be set to True);\n    method - mainly pearson or spearman; nominal correlations should be calculated externally \n        and be delivered with attribute ready=True; \n    mask - if dataset is NOT a cross-valued DataFrame of one type, mask should be set to False;\n    nominal - for nominal data correlations values are in range (0, 1) instead of (-1, -1). \n        nominal=True should be folowed by ready=True \n    '''\n    \n    if not ready:\n        corr = dataset.corr(method=method)\n    elif ready:\n        corr = dataset\n    cmap = sns.diverging_palette(220, 10, as_cmap=True)\n    vmax = corr.max().max()\n    if nominal:\n        center = 0.5\n        cmap=None\n    elif not nominal:\n        center = 0\n    if mask:\n        mask = np.zeros_like(corr, dtype=np.bool)\n        mask[np.triu_indices_from(mask)] = True\n        vmax = corr.replace(1, -2).max().max()\n    elif not mask:\n        mask=None\n    f, ax = plt.subplots(figsize=(20,9))\n    \n    return sns.heatmap(corr, cmap=cmap, mask=mask, vmax=vmax, center=center, annot=True, square=True, \n                       linewidths=0.5, cbar_kws={'shrink': 0.5})","2eef72ad":"def calculate_r(df1, df2, method='spearman', p=0.05, pvalues=True):\n    ''' Returns correlation matrix extended by statistical significance index. Used for non-nominal data.\n    \n    df1, df2 - DataFrames of data to correlate;\n    method - mainly pearson and spearman;\n    p - significance level;\n    pvalues - if set to False, only correlation values will be returned in DataFrame \n        (without '**' marks for significant observations)\n    '''\n    \n    data_corr_table = pd.DataFrame()\n    data_pvalues = pd.DataFrame()\n    for x in df1.columns:\n        for y in df2.columns:\n            if method == 'pearson':\n                corr = pearsonr(df1[x], df2[y])\n            elif method == 'spearman':\n                corr = spearmanr(df1[x], df2[y])\n            else:\n                raise ValueError('Unknown method')\n            if pvalues:\n                data_corr_table.loc[x,y] = '{} {}'.format(round(corr[0], 3), '**' if round(corr[1], 3) < p else '')\n            elif not pvalues:\n                data_corr_table.loc[x,y] = round(corr[0], 3)\n            data_pvalues.loc[x,y] = round(corr[1], 3)\n    \n    return data_corr_table, data_pvalues","f406d224":"def cramers_v(crosstab):\n    ''' Returns Cramer's V correlation coefficient (and statistic significance) for data \n        delivered as a crosstable. Used for nominal data.\n    '''\n    \n    chi2 = chi2_contingency(crosstab)[0]\n    n = crosstab.sum().sum()\n    phi2 = chi2\/n\n    r,k = crosstab.shape\n    phi2corr = max(0, phi2 - ((k-1)*(r-1))\/(n-1))    \n    rcorr = r - ((r-1)**2)\/(n-1)\n    kcorr = k - ((k-1)**2)\/(n-1)\n    \n    return round(np.sqrt(phi2corr \/ min((kcorr-1), (rcorr-1))), 3), '**' if chi2_contingency(crosstab)[1] < 0.05 else ''","a6ec7026":"def nominal_corrs(dataset, col_1_names, col_2_names, pvalues=True):\n    ''' Returns Cramer's V coefficients matrix for the whole dataset.\n    \n    col_1_names, col_2_names - lists of names of columns to correlate. Function creates crosstables for every \n        columns' combination and returns a matrix with single Cramer's V coefficients of every combination;\n    pvalues - if set to False, only correlation values will be returned in DataFrame \n        (without '**' marks for significant observations)\n    '''\n    \n    corr_table = pd.DataFrame()\n    for i in range(len(col_1_names)):\n        for j in range(len(col_2_names)):\n            crosstab = pd.crosstab(dataset[col_1_names[i]], [dataset[col_2_names[j]]])\n            if pvalues:\n                v = ' '.join([str(i) for i in cramers_v(crosstab)])\n            elif not pvalues:\n                v = cramers_v(crosstab)[0]\n            corr_table.loc[i, j] = v\n    corr_table.index = col_1_names\n    corr_table.columns = col_2_names\n    \n    return corr_table","196862de":"def diff_test(dataset, sample_attr, diff_attr, sample_attr_type='ordered', diff_attr_type='ordered'):\n    ''' Difference significance test on dataset. Returns a text summary.\n    \n    sample_attr - column which will be divided into two samples with median value;\n    diff_attr - attribute, which value will be checked in two sample groups;\n    diff_attr_type - determines type of data which medians will be compared (ordered, interval)\n    '''\n    \n    sample_attr_central = dataset[sample_attr].median() if sample_attr_type=='ordered' else dataset[sample_attr].mean()\n    group_1 = dataset[dataset[sample_attr] > sample_attr_central]\n    group_2 = dataset[dataset[sample_attr] <= sample_attr_central]\n    \n    group_1_diff_attr_central = group_1[diff_attr].median() if diff_attr_type=='ordered' else group_1[diff_attr].mean()\n    group_2_diff_attr_central = group_2[diff_attr].median() if diff_attr_type=='ordered' else group_2[diff_attr].mean()\n    \n    if diff_attr_type == 'ordered':\n        diff_sign, p = mannwhitneyu(group_1[diff_attr], group_2[diff_attr])\n    elif diff_attr_type == 'interval':\n        diff_sign, p = ttest_ind(group_1[diff_attr], group_2[diff_attr])\n    are = 'are' if p < 0.05 else 'are not'\n    sample_central = 'median' if sample_attr_type=='ordered' else 'mean'\n    diff_central = 'median' if diff_attr_type=='ordered' else 'mean'\n    \n    return f'First group: {sample_attr} above {sample_central} value {round(sample_attr_central, 3)}\\n Second group: {sample_attr} equal or below {sample_central} value {round(sample_attr_central, 3)} \\n First group {diff_attr} {diff_central}: {round(group_1_diff_attr_central, 3)} \\n Second group {diff_attr} {diff_central}: {round(group_2_diff_attr_central, 3)} \\n Difference significance for samples: {round(diff_sign, 3)} with p-value: {round(p, 3)} \\n Samples {are} statistically different.'","c6368a70":"all_columns = [\n    'ID', \n    'Age', \n    'Gender', \n    'Education', \n    'Country',\n    'Ethnicity',\n    'Neuroticism',\n    'Extraversion',\n    'Openness to experience',\n    'Agreeableness',\n    'Conscientiousness',\n    'Impulsiveness',\n    'Sensation seeking',\n    'Alcohol consumption',\n    'Amphetamines consumption',\n    'Amyl nitrite consumption',\n    'Benzodiazepine consumption',\n    'Caffeine consumption',\n    'Cannabis consumption',\n    'Chocolate consumption',\n    'Cocaine consumption',\n    'Crack consumption',\n    'Ecstasy consumption',\n    'Heroin consumption',\n    'Ketamine consumption',\n    'Legal highs consumption',\n    'Lysergic acid diethylamide consumption',\n    'Methadone consumption',\n    'Magic mushrooms consumption',\n    'Nicotine consumption',\n    'Fictitious drug Semeron consumption',\n    'Volatile substance abuse consumption'\n]\n\ndemographic_columns = [\n    'Age', \n    'Gender', \n    'Education', \n    'Country',\n    'Ethnicity',\n]\n\npersonality_columns = [\n    'Neuroticism',\n    'Extraversion',\n    'Openness to experience',\n    'Agreeableness',\n    'Conscientiousness',\n    'Impulsiveness',\n    'Sensation seeking'\n]\n\ndrugs_columns = [\n    'Alcohol consumption',\n    'Amphetamines consumption',\n    'Amyl nitrite consumption',\n    'Benzodiazepine consumption',\n    'Caffeine consumption',\n    'Cannabis consumption',\n    'Chocolate consumption',\n    'Cocaine consumption',\n    'Crack consumption',\n    'Ecstasy consumption',\n    'Heroin consumption',\n    'Ketamine consumption',\n    'Legal highs consumption',\n    'Lysergic acid diethylamide consumption',\n    'Methadone consumption',\n    'Magic mushrooms consumption',\n    'Nicotine consumption',\n    'Fictitious drug Semeron consumption',\n    'Volatile substance abuse consumption'\n]","24f4b1d8":"data = pd.read_csv('..\/input\/drug_consumption.data', header=None, names=all_columns)\ndata.shape","04aa8227":"for i in drugs_columns:\n    data[i] = data[i].map({'CL0': 0, 'CL1': 1, 'CL2': 2, 'CL3': 3, 'CL4': 4, 'CL5': 5, 'CL6': 6})","ecca3764":"semerons = data[data['Fictitious drug Semeron consumption'] != 0]\nsemerons","04ef75dc":"data = data[data['Fictitious drug Semeron consumption'] == 0]\ndrugs_columns.remove('Fictitious drug Semeron consumption')\ndata.shape","e8641e99":"demo_data = data.copy()","01d8ea58":"age = ['18-24' if a <= -0.9 else \n       '25-34' if a >= -0.5 and a < 0 else \n       '35-44' if a > 0 and a < 1 else \n       '45-54' if a > 1 and a < 1.5 else \n       '55-64' if a > 1.5 and a < 2 else \n       '65+' \n       for a in demo_data['Age']]\n\ngender = ['Female' if g > 0 else \"Male\" for g in demo_data['Gender']]\n\neducation = ['Left school before 16 years' if e <-2 else \n             'Left school at 16 years' if e > -2 and e < -1.5 else \n             'Left school at 17 years' if e > -1.5 and e < -1.4 else \n             'Left school at 18 years' if e > -1.4 and e < -1 else \n             'Some college or university, no certificate or degree' if e > -1 and e < -0.5 else \n             'Professional certificate\/ diploma' if e > -0.5 and e < 0 else \n             'University degree' if e > 0 and e < 0.5 else \n             'Masters degree' if e > 0.5 and e < 1.5 else \n             'Doctorate degree' \n             for e in demo_data['Education']]\n\ncountry = ['USA' if c < -0.5 else \n           'New Zealand' if c > -0.5 and c < -0.4 else \n           'Other' if c > -0.4 and c < -0.2 else \n           'Australia' if c > -0.2 and c < 0 else \n           'Ireland' if c > 0 and c < 0.23 else \n           'Canada' if c > 0.23 and c < 0.9 else \n           'UK' \n           for c in demo_data['Country']]\n\nethnicity = ['Black' if e < -1 else \n             'Asian' if e > -1 and e < -0.4 else \n             'White' if e > -0.4 and e < -0.25 else \n             'Mixed-White\/Black' if e >= -0.25 and e < 0.11 else \n             'Mixed-White\/Asian' if e > 0.12 and e < 1 else \n             'Mixed-Black\/Asian' if e > 1.9 else \n             'Other' \n             for e in demo_data['Ethnicity']]\n\n\ndemo_data['Age'] = age\ndemo_data['Gender'] = gender\ndemo_data['Education'] = education\ndemo_data['Country'] = country\ndemo_data['Ethnicity'] = ethnicity","328aa242":"value_counts_percentage(demo_data, 'Gender')","86fc29bd":"value_counts_percentage(demo_data, 'Age')","61aca837":"sns.countplot(x='Age', palette='ch:.25', data=demo_data.sort_values(by=['Age']))","f800cf44":"value_counts_percentage(demo_data, 'Education')","18d83d5c":"edu_plot = sns.countplot(x='Education', palette='ch:.25', data=demo_data.sort_values(by=['Education']))\nedu_plot.set_xticklabels(edu_plot.get_xticklabels(), rotation=40, ha=\"right\")\nedu_plot","e04aa0ec":"value_counts_percentage(demo_data, 'Ethnicity')","ef19c30a":"value_counts_percentage(demo_data, 'Country')","ec14360a":"sns.countplot(x='Age', hue='Gender', palette='ch:.25', data=demo_data.sort_values(by=['Age']))","4235e890":"sns.countplot(x='Country', hue='Gender', palette='ch:.25', data=demo_data.sort_values(by=['Country']))","06ca7c16":"pd.crosstab(demo_data['Age'], [demo_data['Gender'], demo_data['Country']])","6c88a89e":"demo_data.pivot_table(index='Education', columns=['Gender', 'Ethnicity'], aggfunc='size', fill_value=0)","31792de8":"pd.crosstab(demo_data['Country'], [demo_data['Gender'], demo_data['Ethnicity']])","ec5e9435":"corr_table_demo = nominal_corrs(demo_data, demographic_columns, demographic_columns)\ncorr_table_demo","df7986bb":"corr_table_demo_no_pvalues = nominal_corrs(demo_data, demographic_columns, demographic_columns, pvalues=False)\nheatmap_corr(corr_table_demo_no_pvalues, nominal=True, ready=True)","49f4a702":"drug_data = data[drugs_columns]","d3038ae6":"d1 = drug_data['Alcohol consumption'].value_counts()\nd2 = drug_data['Amphetamines consumption'].value_counts()\nd3 = drug_data['Amyl nitrite consumption'].value_counts()\nd4 = drug_data['Benzodiazepine consumption'].value_counts()\nd5 = drug_data['Caffeine consumption'].value_counts()\nd6 = drug_data['Cannabis consumption'].value_counts()\nd7 = drug_data['Chocolate consumption'].value_counts()\nd8 = drug_data['Cocaine consumption'].value_counts()\nd9 = drug_data['Crack consumption'].value_counts()\nd10 = drug_data['Ecstasy consumption'].value_counts()\nd11 = drug_data['Heroin consumption'].value_counts()\nd12 = drug_data['Ketamine consumption'].value_counts()\nd13 = drug_data['Legal highs consumption'].value_counts()\nd14 = drug_data['Lysergic acid diethylamide consumption'].value_counts()\nd15 = drug_data['Methadone consumption'].value_counts()\nd16 = drug_data['Magic mushrooms consumption'].value_counts()\nd17 = drug_data['Nicotine consumption'].value_counts()\nd18 = drug_data['Volatile substance abuse consumption'].value_counts()\n\ndrug_table = pd.concat([d1, d2, d3, d4, d5, d6, d7, d8, d9, d10, d11, d12, d13, d14, d15, d16, d17, d18], axis=1, \n          keys=['Alcohol', 'Amphetamines', 'Amyl nitrite', 'Benzodiazepine', 'Caffeine', 'Cannabis', 'Chocolate', \n                'Cocaine', 'Crack', 'Ecstasy', 'Heroin', 'Ketamine', 'Legal highs', 'LSD', \n                'Methadone', 'Magic mushrooms', 'Nicotine', 'VSA'], sort=True)\ndrug_table.T.fillna(0).astype(np.int64)","5ae7c922":"heatmap_corr(drug_data, method='spearman')","00000ccb":"drug_data_corr_table, drug_data_pvalues = calculate_r(drug_data, drug_data, method='spearman')\ndrug_data_corr_table","af70ea19":"pers_data = data[personality_columns]\npers_data.describe()","f42ffbcc":"heatmap_corr(pers_data, method='spearman')","3af2af79":"pers_data_corr_table, pers_data_pvalues = calculate_r(pers_data, pers_data, method='spearman')\npers_data_corr_table","cd9963eb":"drug_pers_corr_table, drug_pers_pvalues = calculate_r(drug_data, pers_data, method='spearman')\ndrug_pers_corr_table","346ee994":"drug_pers_corr_table_no_pvalues, drug_pers_pvalues_no_pvalues = calculate_r(drug_data, pers_data, pvalues=False, method='spearman')\nheatmap_corr(drug_pers_corr_table_no_pvalues, ready=True, mask=False)","8e5f1be5":"corr_table = nominal_corrs(data, demographic_columns, drugs_columns)\ncorr_table","8e175ebc":"corr_table_no_pvalues = nominal_corrs(data, demographic_columns, drugs_columns, pvalues=False)\nheatmap_corr(corr_table_no_pvalues, ready=True, mask=False, nominal=True)","1aaf6340":"gender_data_female = demo_data[demo_data['Gender']=='Female']\ngender_data_male = demo_data[demo_data['Gender']=='Male']\nprint(f\"Female cannabis consumption median: {gender_data_female['Cannabis consumption'].median()}\")\nprint(f\"Male cannabis consumption median: {gender_data_male['Cannabis consumption'].median()}\")\nprint(f\"Female legal highs consumption median: {gender_data_female['Legal highs consumption'].median()}\")\nprint(f\"Male legal highs consumption median: {gender_data_male['Legal highs consumption'].median()}\")","2c9cb9b7":"corr_table_demo_psycho = nominal_corrs(data, demographic_columns, personality_columns)\ncorr_table_demo_psycho","926d6be1":"corr_table_demo_psycho_no_pvalues = nominal_corrs(data, demographic_columns, personality_columns, pvalues=False)\nheatmap_corr(corr_table_demo_psycho_no_pvalues, ready=True, nominal=True, mask=False)","f51add1c":"print(f\"Female Agreeableness median: {gender_data_female['Agreeableness'].median()}\")\nprint(f\"Male Agreeableness median: {gender_data_male['Agreeableness'].median()}\")\nprint(f\"Female Sensation seeking median: {gender_data_female['Sensation seeking'].median()}\")\nprint(f\"Male Sensation seeking median: {gender_data_male['Sensation seeking'].median()}\")","b8e05613":"diff_data = data.copy()\nvalue_diff = diff_test(diff_data, 'Education', 'Cannabis consumption', sample_attr_type='ordered', diff_attr_type='ordered')\nprint(value_diff)","b4a954c1":"value_diff = diff_test(diff_data, 'Sensation seeking', 'Cannabis consumption', sample_attr_type='ordered', diff_attr_type='ordered')\nprint(value_diff)","e4ffe7b1":"value_diff = diff_test(diff_data, 'Education', 'Sensation seeking', diff_attr_type='ordered')\nprint(value_diff)","5391284e":"value_diff = diff_test(diff_data, 'Gender', 'Caffeine consumption', diff_attr_type='ordered')\nprint(value_diff)","60b3f0ef":"There is nearly the same number of male and female participants.","9a5fc83d":"### Education","d0c60794":"People with higher Education level (above median) are less likely to be Sensation seeking.","11d76e8b":"Alcohol, Caffeine, Chocolate and Nicotine are stimulants that are consumed rather often and hardly anyone has ever tried them.\n\nCannabis distributes moreless evenly. There is nearly the same number of people that took it lately as the number of people that never tried it. Intuitions: this reflects the society attitude to cannabis as a drug between \"bad\" narcotic and \"ordinary\" drug.\n\nAmphetamine, Amyl nitrite, Benzodiazepine, Cocaine, Ecstasy, Heroin, Ketamine, Legal highs, LSD, Methadone, Magic mushrooms, Volatile substance abuse - the vast majority of people never tried it, or did it long time ago rather than recently (up to a month ago). Intuitions: people either do not take it at all (e.g. because they are afraid of it \/ do not want to), or they will try it once and then do not go back to it.","836eff0a":"### Gender","4d3ef69f":"https:\/\/public.tableau.com\/profile\/joanna3872#!\/vizhome\/Drugconsumption\/Drugconsumptionanalysis","06802bb5":"Over 90% of participants are white people.","d91381ef":"Correlations using Cramer's V.\n\nThere are no strong or even moderate correlations, all are weak (r < 0.33). \n\nThe strongest of these weaknesses are Gender correlations, then some Age correlations, and the weakest (or none) are Ethnicity correlations.\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\nStrongest correlations (significant; in both cases men took stimulants more often):\n\n- Gender and Legal highs (r = 0.33)\n- Gender and Cannabis (r = 0.31)\n\nMen take Cannabis and Legal highs more often than women.","573ea1c4":"Correlations using Cramer's V.\n\nThere are no strong or even moderate correlations, all of them are weak (r < 0.26). The strongest of them are Gender correlations, and the weakest (or none) are Ethnicity correlations.\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\nStrongest correlations (significant):\n\n- Gender and Sensation seeking (r = 0.26, men look for sensations more)\n- Gender and Agreeableness (r = 0.22, women are more agreeable)","32b014e1":"### Country \u2013 Gender distribution","68f82511":"### Correlations among demographic info (with Cramer's V)","7c6ac993":"## Spearman's correlations among drug consumptions and personality traits (with p-value)","164a0f79":"Men predominate in the age group 18-24. \n\nIn the remaining groups, as the age increases, the gender distribution gradually becomes even.","d8274339":"## Useful settings and functions preparation","aaa69251":"### Spearman's correlations among personality traits\n","26b05624":"Alcohol, Caffeine and Chocolate do not correlate with the rest drugs in any way (correlations are either weak or insignificant). \n\nAt most, Alcohol consumption correlates slightly positively with Caffeine and Amyl nitrite, and Caffeine with Chocolate and Nicotine. \n\nChocolate correlates weakly negatively with Magic mushrooms, LSD and Crack (all these correlations are at the level of +- 0.1, so the determination of one by the other is at the level of 1%).\n\nThe remaining correlations are at most moderate correlations. \n\nThere are no strong correlations between taking stimulants.","907f9a1e":"### Converting nominal drug values into ordered data","074a96a0":"## Drug consumption overview","acef4df2":"There is no correlation between Openness to experience and Neuroticism.\n\nThe remaining correlations are at most moderate correlations. \n\nThere are no strong correlations between personality factors.\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\nThe strongest correlations (significant, positive):\n\n- Sensation seeking and Impulsiveness (r = 0.63)\n- Sensation seeking and Openness to experience (r = 0.4)\n\n\nThe strongest correlations (significant, negative):\n- Extraversion and Neuroticism (r = -0.42)\n- Neuroticism and Conscientiousness (r = -0.38)\n- Conscientiousness and Impulsiveness (r = -0.34)","28ba4c63":"Men and Female do not significantly differ in Caffeine consumption.","5ec6e0e0":"People with higher Education level (above median) are less likely to take Cannabis.","c463d587":"** values that are statistically significant (p < 0.05)\n\nVariables should be dychotomized!\n","fcccd741":"### Spearman's correlations among drug consumptions with calculated probability (p-value)","97c10293":"More women were tested in the UK (the ratio around 3 2) and more men were tested in the USA (ratio around 7:4). \n\nIn other countries - moreless equally.","a14f95c1":"Semeron is a fictitious drug which was introduced to identify overclaimers. \n\nThere are 8 people, mainly up to 25 years of age, who admitted that they took such a drug. \n\nTheir records were excluded from further analysis.","fbf6fb18":"## Nominal correlations among demographic info and personality traits","aaeaa3e8":"People with higher Sensation seeking (above median) are more likely to take Cannabis.","13fc317f":"### Age \u2013 Gender distribution","85bfdd97":"### Ethnicity","8ea9c414":"Educated people predominate (with college and above level - about 85% of all). Other people finished their education up to 18 y.o","c5f972cb":"### Age \u2013 Gender \u2013 Country cross table","025bc2b1":"All countries are officially English-speaking. \n\nOver 50% of participants come from the UK, almost 1\/3 from the USA.","3d256d9a":"## Nominal correlations among demographic info and drug consumption","0792addb":"### Responders who claimed they took Semeron","d0dd4dc6":"## Dataset details and preparation","4fee2e87":"Alcohol, Caffeine and Chocolate correlate very poorly or not at all with personality factors. The frequency of their use does not seem to depend on personality.\n\nExtraversion correlates very poorly or not at all with the use of any stimulants.\n\nConscientiousness correlates weakly or not at all with all stimulants (r > -0.3), the strongest correlation is with Cannabis, Legal hihgs, Amphetamine, Ecstasy, Nicotine.\n\nThe rest of correlations are at most moderate correlations. There are no strong correlations between personality factors and the use of stimulants.\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\nThe strongest correlations (significant, positive, because there are no such negative):\n\n- Sensation seeking and Cannabis (r = 0.47)\n- Sensation seeking and Legal hihgs (r = 0.44)\n- Openness to experience and Cannabis (r = 0.42)\n- Sensation seeking and Ecstasy (r = 0.41)\n- Sensation seeking and Magic mushrooms (r = 0.39)\n- Sensation seeking and LSD (r = 0.38)\n- Openness to experience and Magic mushrooms (r = 0.38)\n- Openness to experience and LSD (r = 0.37)\n- Sensation seeking and Amphetamine (r = 0.36)\n- Openness to experience and Legal hihgs (r = 0.35)","80570485":"Original demographic data is categorical but quantified, so for analysis purposes it was retrieved to more clear form.","a4583860":"## Personality measurements","2a245162":"### Spearman's correlations among drug consumption","e856a029":"### Age","0fdde5d0":"No people over 35 y.o. were tested in New Zealand.  \n\nNo people over 55 y.o. were tested in Ireland. \n\nNo people over 65 y.o. were tested in Australia.","e1e3d6be":"## Difference significance tests","3fa6317a":"The age is given in the intervals of about 10 years. \n\n18-24 is the biggest age group (about 1\/3 of all participants).\n\n25-34 is 1\/4 of participants.\n\n35-54 is another 1\/3 of participants. The rest 5% are the people above 55 y.o.","10949919":"# Drug consumption (quantified) dataset analysis","c762883b":"Personality measurements include NEO-FFI-R (neuroticism, extraversion, openness to experience, agreeableness, and conscientiousness), BIS-11 (impulsiveness) and ImpSS (sensation seeking).\n\nNeuroticism: levels 12 - 60\n\nExtraversion: levels 16 - 59\n\nOpeness to experience: levels 24 - 60\n\nAgreeableness: levels 12 - 60\n\nConscientiousness: levels 17 - 59\n","133b0f40":"The strongest correlations (significant, only positive, because there are no negative ones):\n\n- LSD and Magic mushrooms (r = 0.67)\n- Ecstasy and Cocaine (r = 0.63)\n- Cocaine and Amphetamine (r = 0.61)\n- Magic mushrooms and Cannabis (r = 0.59)\n- Ecstasy and Amphetamine (r = 0.58)\n- Legal highs and Cannabis (r = 0.58)\n- LSD and Ecstasy (r = 0.58)\n- Ecstasy and Cannabis (r = 0.57)\n- Magic mushrooms and Ecstasy (r = 0.57)\n- Legal highs and Ecstasy (r = 0.57)\n- Magic mushrooms and Afterburners (r = 0.55)\n- Heroin and Crack (r = 0.54)\n- LSD and Cannabis (r = 0.54)\n- Methadone and Benzodiazepines (r = 0.52)\n- Ketamine and Ecstasy (r = 0.52)\n- Nicotine and Cannabis (r = 0.52)\n- LSD and Amphetamine (r = 0.5)\n- Benzodiazepines and Amphetamines (r = 0.5)\n- Cannabis and Benzodiazepines (r = 0.5)\n- Methadone and Heroin (r = 0.5)","764c1675":"### Education \u2013 Gender \u2013 Ethnicity cross table","aa7186ff":"### Country \u2013 Gender \u2013 Ethnicity cross table","6bbd568f":"### All drugs consumption frequency overview","93415479":"## Demographic overview","5206d860":"Drug consumption data is taken from [UCi Machine Learning Repository](http:\/\/archive.ics.uci.edu\/ml\/datasets\/Drug+consumption+%28quantified%29).\n\nThe dataset consists of **1885 records** and **32 columns**, including:\n- 5 demograpgic columns\n- 7 personality traits\n- 18 drugs and the frequency of their use\n- 1 fake drug Semeron used to verify the reliability of answers","33bcc890":"0 - Never Used\n\n1 - Used over a Decade Ago\n\n2 - Used in Last Decade\n\n3 - Used in Last Year\n\n4 - Used in Last Month\n\n5 - Used in Last Week\n\n6 - Used in Last Day\n","de229213":"### Tableau interactive demographic overview","7f6c7f88":"### Country","fbd69dfd":"### Spearman's correlations among personality traits (with p-value)\n"}}