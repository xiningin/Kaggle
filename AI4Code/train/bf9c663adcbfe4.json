{"cell_type":{"410498b4":"code","2ede6cd2":"code","35aa2de1":"code","7671943f":"code","0d930700":"code","74f7bbf3":"code","a2614080":"code","52d9b560":"code","ae2995b4":"code","69d46419":"code","1256ae86":"code","aa31efc7":"markdown","4c2c0e22":"markdown","9a0b8b6e":"markdown","ec4022f4":"markdown","57acfd9e":"markdown","361fbde8":"markdown","6d5e6a48":"markdown","3968b734":"markdown"},"source":{"410498b4":"import numpy as np\nimport pandas as pd\n\npd.set_option('display.max_colwidth', None)\n# pd.set_option('display.max_rows', 999)\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nSEED = 42\n\nnp.random.seed = SEED\n\nimport gc","2ede6cd2":"col_subset = ['time_id','investment_id','target']\ntrain = pd.read_parquet('..\/input\/ubiquant-parquet\/train_low_mem.parquet', columns=col_subset)\nprint(train.info())\nprint(train.shape)\ntrain.head()","35aa2de1":"train.target.hist()","7671943f":"g = sns.relplot(data=train, x='time_id', y='target', kind='line', aspect=3)","0d930700":"inv_ids = train.investment_id.unique()\nprint(inv_ids.shape[0])\nprint(inv_ids.max())\nprint(inv_ids.min())","74f7bbf3":"train.investment_id.value_counts().hist()","a2614080":"dfs = []\nfor iid in np.random.choice(inv_ids, 10, replace=False):\n    df = pd.read_parquet('..\/input\/ubiquant-parquet\/investment_ids\/{}.parquet'.format(iid))\n    dfs.append(df)    \n\ndf = pd.concat(dfs).reset_index(drop=True)","52d9b560":"df.head()","ae2995b4":"sns.relplot(data=df, x='time_id', y='target', col='investment_id', col_wrap=5, height=3)","69d46419":"sns.relplot(data=df, x='time_id', y=np.random.choice(df.columns[4:], 1)[0], col='investment_id', col_wrap=5, height=3)","1256ae86":"sns.relplot(data=df, x='time_id', y=np.random.choice(df.columns[4:], 1)[0], col='investment_id', col_wrap=5, height=3)","aa31efc7":"wip...","4c2c0e22":"# Sample some investiments","9a0b8b6e":"# Target \ud83d\udc40","ec4022f4":"# Libraries","57acfd9e":"# Ubiquant Market Prediction\nhttps:\/\/www.kaggle.com\/c\/ubiquant-market-prediction","361fbde8":"# Data load\nhttps:\/\/www.kaggle.com\/robikscube\/ubiquant-parquet  \nWith this parquet dataset the data loading is fast and less memory is used. Since we just gonna look to target variable right now we are not be importing all columns.","6d5e6a48":"Most asset don't have target data for all period. Let's investigate if same happens for other random selected variables.","3968b734":"# Investment id"}}