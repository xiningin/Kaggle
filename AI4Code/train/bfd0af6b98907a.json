{"cell_type":{"71218abf":"code","2b02894e":"code","558dc3b4":"code","d325246c":"code","d3de22a8":"code","afd8a52f":"code","6cb8fd3c":"code","631c458f":"code","bf29d95d":"code","98c6c8d6":"code","ad2de461":"code","443c6c11":"code","939feb31":"code","a790a950":"code","ba2052cc":"code","62c662c4":"code","9bdd8729":"code","25513ee0":"code","f434b882":"code","55c56744":"code","27c35137":"code","2389f8c4":"code","37f56e01":"code","1435f661":"code","e54d8da2":"code","d2f6e635":"code","3df64692":"code","38db05cb":"code","1f133fa4":"code","59cc0d94":"code","52c8df75":"code","2766af94":"code","86ecafdf":"markdown","8dcdb666":"markdown","cb97b273":"markdown","a5e62e3e":"markdown","f348450d":"markdown","477a80af":"markdown","36686723":"markdown","ff5e22dc":"markdown","5d3685a3":"markdown","68a2a07a":"markdown","10ffc819":"markdown","5689311b":"markdown","52397821":"markdown","86b7314a":"markdown","3fd2d4f5":"markdown","64cfe14b":"markdown","43963944":"markdown","ffb54f8a":"markdown","d561ad2e":"markdown","15d6404a":"markdown","8ab00fc0":"markdown","3567eaa5":"markdown","b34ac4e5":"markdown","aea8961b":"markdown","7c8bfd3c":"markdown","2413ccb6":"markdown","7d92e957":"markdown","be84f224":"markdown","7d3991cf":"markdown","56838b5b":"markdown","03601359":"markdown"},"source":{"71218abf":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","2b02894e":"os.chdir(\"..\/input\")\nos.listdir()","558dc3b4":"from warnings import filterwarnings\nfilterwarnings('ignore')","d325246c":"# conda install basemap","d3de22a8":"# Some Libraries Imported\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nfrom mpl_toolkits.basemap import Basemap\nfrom matplotlib import animation,rc\nimport io\nimport base64\nfrom IPython.display import HTML, display","afd8a52f":"df = pd.read_csv('..\/input\/global-terrorism\/globalterrorismdb_0718dist.csv', encoding=\"latin-1\")\npd.set_option('display.max_rows', df.shape[0]+1)\npd.set_option('display.max_columns', df.shape[1]+1)\n# Let's have an overview of the data set\ndf.head()","6cb8fd3c":"df=df.rename(columns={\"provstate\": \"State\",\"region_txt\": \"Region\",\"country_txt\": \"Country\",\n                      \"iyear\": \"Year\",\"imonth\": \"Month\",\"iday\": \"Day\",\n                      \"attacktype1_txt\": \"Attack_Type\",\"nkill\": \"Killed\",\n                      \"nwound\": \"Wounded\",\"targtype1_txt\": \"Target_Type\",\"weaptype1_txt\": \"Weap_Type\",\n                      \"gname\": \"Group_Name\",\"target1\": \"Target_Name\"})","631c458f":"df = df[['State', 'Region', 'city', 'latitude', 'longitude','Country',\n         'Attack_Type','Year','Month','Day','Killed', 'Wounded', 'Target_Type',\n         'Group_Name', 'Target_Name','Weap_Type']]\n\ndf['Wounded'] = df['Wounded'].fillna(0).astype(int)\ndf['Killed'] = df['Killed'].fillna(0).astype(int)\ndf['Affected']=df['Killed']+df['Wounded']\n# Let's have an overview of the data set\ndf.head()","bf29d95d":"df.info()","98c6c8d6":"df.describe().T","ad2de461":"corrmat = df.corr()\nf, ax = plt.subplots(figsize=(10, 10))\nsns.heatmap(corrmat, vmax=1, square=True);\nplt.show()","443c6c11":"#Percentage of NAN Values \nper_Nan = [(c, df[c].isna().mean()*100) for c in df]\nper_Nan = pd.DataFrame(per_Nan, columns=[\"column_name\", \"Percentage\"])","939feb31":"per_Nan","a790a950":"# Death, Wounded and Affected by Region\nnumber_of_affected = df[['Region','Killed','Wounded','Affected']]\nnumber_of_affected = number_of_affected.groupby(by=['Region']).sum().reset_index().sort_values(by=['Affected'], ascending = False)\nnumber_of_affected","ba2052cc":"# Death, Wounded and Affected by Country(top 20)\naffected_country = df[['Country','Killed','Wounded','Affected']]\naffected_country = affected_country.groupby(by=['Country']).sum().reset_index().sort_values(by=['Affected'], ascending = False)\naffected_country[:20]","62c662c4":"plt.subplots(figsize=(15,6))\nsns.countplot('Year',data=df,palette='rocket_r',edgecolor=sns.color_palette('dark',7))\nplt.xticks(rotation=90)\nplt.title('Number Of Terrorist Activities Each Year')\nplt.show()","9bdd8729":"regions = list(set(df.Region))\ncolors = ['yellow', 'red', 'lime','fuchsia', 'purple', 'green', 'orange', 'brown',\\\n          'aqua','purple', 'black', 'lightgreen']\n","25513ee0":"plt.figure(figsize=(15,8))\nm = Basemap(projection='mill',llcrnrlat=-80,urcrnrlat=80, llcrnrlon=-180,urcrnrlon=180,lat_ts=20,resolution='c')\nm.drawcoastlines()\nm.drawcountries()\nm.fillcontinents(color='white',lake_color='lightblue', zorder = 1)\nm.drawmapboundary(fill_color='lightblue')\n\ndef pltpoints(region, color = None, label = None):\n    x, y = m(list(df.longitude[df.Region == region].astype(\"float\")),\\\n            (list(df.latitude[df.Region == region].astype(\"float\"))))\n    points = m.plot(x, y, \"o\", markersize = 4, color = color, label = label, alpha = .5)\n    return(points)\n\nfor i, region in enumerate(regions):\n    pltpoints(region, color = colors[i], label = region)  \n    \nplt.title(\"Global Terrorism (1970 - 2017)\")\nplt.legend(loc ='lower left', prop= {'size':11})\nplt.show()    ","f434b882":"fig = plt.figure(figsize=(15,8))\n\ndef animate(Year):\n    ax = plt.axes()\n    ax.clear()\n    ax.set_title('Animation Of Terrorist Activities'+'\\n'+'Year:' +str(Year),fontsize=20)\n    m6 = Basemap(projection='mill',llcrnrlat=-80,urcrnrlat=80, llcrnrlon=-180,urcrnrlon=180,lat_ts=20,resolution='c')\n    lat6=list(df[df['Year']==Year].latitude)\n    long6=list(df[df['Year']==Year].longitude)\n    x6,y6=m6(long6,lat6)\n    m6.scatter(x6, y6,s=[(Killed+Wounded)*0.3 for Killed,Wounded in zip(df[df['Year']==Year].Killed,df[df['Year']==Year].Wounded)],color = 'r')\n    m6.drawcoastlines()\n    m6.drawcountries()\n    m6.fillcontinents(color='coral',lake_color='aqua', zorder = 1,alpha=0.4)\n    m6.drawmapboundary(fill_color='aqua')\n    m6.drawmapboundary()\nani = animation.FuncAnimation(fig,animate,list(df.Year.unique()), interval = 1500)    \nani.save('animation.gif', writer='pillow', fps=1)\nplt.close(1)\nfilename = 'animation.gif'\nvideo = io.open(filename, 'r+b').read()\nencoded = base64.b64encode(video)\nHTML(data='''<img src=\"data:image\/gif;base64,{0}\" type=\"gif\" \/>'''.format(encoded.decode('ascii')))","55c56744":"df['Killed'].sum()","27c35137":"pd.pivot_table(data=df, index=df.Year, columns='Region', values='Killed', aggfunc='sum')\\\n    .plot.line(figsize=(15,5), colormap='Dark2').legend(title=None)","2389f8c4":"top_country_10=df[df['Country'].isin(df['Country'].value_counts()[:10].index)]\npd.crosstab(top_country_10.Year,top_country_10.Country).plot(color=sns.color_palette('bright',10))\nfig=plt.gcf()\nfig.set_size_inches(18,6)\nplt.show()","37f56e01":"plt.subplots(figsize=(15,6))\nsns.barplot(df['Country'].value_counts()[:15].index,df['Country'].value_counts()[:15].values,palette='inferno')\nplt.title('Top Countries Affected')\nplt.xlabel('Countries')\nplt.ylabel('Count')\nplt.xticks(rotation= 90)\nplt.show()","1435f661":"count_terror=df['Country'].value_counts()[:15].to_frame()\ncount_terror.columns=['Attacks']\ncount_kill=df.groupby('Country')['Killed'].sum().to_frame()\ncount_terror.merge(count_kill,left_index=True,right_index=True,how='left').plot.bar(width=0.9)\nfig=plt.gcf()\nfig.set_size_inches(18,6)\nplt.show()","e54d8da2":"plt.subplots(figsize=(15,6))\nsns.barplot(df['city'].value_counts()[1:15].index,df['city'].value_counts()[1:15].values,palette='inferno')\nplt.title('Top Cities Affected')\nplt.xlabel('Cities')\nplt.ylabel('Count')\nplt.xticks(rotation= 90)\nplt.show()","d2f6e635":"top_groups10=df[df['Group_Name'].isin(df['Group_Name'].value_counts()[1:11].index)]\npd.crosstab(top_groups10.Year,top_groups10.Group_Name).plot(color=sns.color_palette('Paired',10))\nfig=plt.gcf()\nfig.set_size_inches(18,6)\nplt.show()","3df64692":"sns.barplot(df['Group_Name'].value_counts()[1:15].values,df['Group_Name'].value_counts()[1:15].index,palette=('dark'))\nplt.xticks(rotation=90)\nfig=plt.gcf()\nfig.set_size_inches(10,8)\nplt.title('Terrorist Groups with Highest Terror Attacks')\nplt.show()","38db05cb":"plt.subplots(figsize=(15,6))\nsns.countplot('Attack_Type',data=df,palette='inferno',order=df['Attack_Type'].value_counts().index)\nplt.xticks(rotation=90)\nplt.title('Attacking Methods by Terrorists')\nplt.show()","1f133fa4":"pd.crosstab(df.Region,df.Attack_Type).plot.barh(stacked=True,width=1,color=sns.color_palette('hls',8))\nfig=plt.gcf()\nfig.set_size_inches(12,8)\nplt.show()\n","59cc0d94":"plt.subplots(figsize=(15,6))\nsns.countplot('Target_Type',data=df,palette='inferno',order=df['Target_Type'].value_counts().index)\nplt.xticks(rotation=90)\nplt.title('Type of Target Attacked by Terrorists')\nplt.show()","52c8df75":"df[\"Weap_Type\"].value_counts()","2766af94":"plt.subplots(figsize=(15,6))\nsns.countplot('Weap_Type',data=df,palette='inferno',order=df['Weap_Type'].value_counts().index)\nplt.xticks(rotation=90)\nplt.title('Type of Weapon Attacked by Terrorists')\nplt.show()","86ecafdf":"## **Results**","8dcdb666":"* The numbers of terrorist attacks carried out by weapon type are shown in the column chart below.","cb97b273":"* Top Cities affected by Terror Attacks","a5e62e3e":"## **2. Data Read**","f348450d":"* The number of types of terrorist attacks in the world.","477a80af":"#### **Activity of Top Terrorist Groups**\n* 'Unknown' is the most numerous group names in terrorist attacks, so you see the top 10 groups whose perpetrators are known.\n* As can be seen in the graph, terrorist activities broke out after 2010 and it is seen that the majority of these terrorist attacks were carried out by ISIL.","36686723":"* Selection of only necessary features.","ff5e22dc":"#### **AttackType vs Region**","5d3685a3":"* Attacks vs Killed","68a2a07a":"* Iraq has been observed as the hottest region of terrorism.\n* The countries with the highest terrorism are listed as follows:\n1. Iraq\n2. Pakistan\n3. Afghanistan \n4. India \n5. Colombia \n6. Philippines \n7. Peru \n8. El Salvador \n9. United Kingdom \n10. Turkey\n* The most dangerous city because of terrorist attacks is Baghdad(Iraq).\n* The cities with the most terrorist attacks are listed as follows:\n1. Baghdad \n2. Karachi \n3. Lima \n4. Mosul \n5. Belfast\n* Terrorist groups with the most terrorist activities are listed as follows:\n1. Taliban\n2. Islamic State of Iraq and the Levant (ISIL) \n3. Shining Path (SL) \n4. Farabundo Marti National Liberation Front (FMLN) \n5. Al-Shabaab \n6. New People's Army (NPA) \n7. Irish Republican Army (IRA) \n8. Revolutionary Armed Forces of Colombia (FARC) \n9. Boko Haram \n10. Kurdistan Workers' Party (PKK)\n* The types of terrorist attacks are listed as follows:\n1. Bombing \/ Explosion\n2. Armed Assault \n3. Assassination \n4. Hostage Taking (Kidnapping) \n5. Facility \/ Infrastructure Attack\n* The target types of terrorist attacks are as follows:\n1. Private Citizens & Property\n2. Military \n3. Police \n4. Government (General) \n5. Business\n* The types of weapons used in terrorist attacks are listed as follows:\n1. Explosives \n2. Firearms \n3. Unknown \n4. Incendiary \n5. Melee\n* Especially in the 2010s, terrorist attacks peaked. Attacks have been decreasing in recent years, albeit slowly.\n","10ffc819":"## **3. Data Visualization**","5689311b":"### Global Terror Attacks","52397821":"* As can be seen in the graph, the country with the highest number of terrorist incidents is observed as Iraq.","86b7314a":"* Top 15 most active terrorist groups.","3fd2d4f5":"* As can be seen in the chart, the region with the highest terrorist incidents is the Middle East & North Africa.","64cfe14b":"## **1. The Story of the Dataset**\n### **Information about some variables used in the Data Set.**\nFor detailed information about the data set: https:\/\/www.start.umd.edu\/gtd\/downloads\/Codebook.pdf\n* iyear: This field contains the year in which the incident occurred.\n* imonth: This field contains the month in which the incident occurred.\n* iday: This field contains the day in which the incident occurred.\n* country_txt: This field identifies the country or location where the incident occurred (categorical)\n* region_txt: This field identifies the region in which the incident occurred(categorical)\n* provstate: This variable records the name (at the time of event) of the 1st order subnational administrative region in which the event occurs.\n* city: This field contains the name of the city, village, or town in which the incident occurred\n* latitude: This field records the latitude (based on WGS1984 standards) of the city in which the event occurred.\n* longitude: This field records the longitude (based on WGS1984 standards) of the city in which the event occurred.\n* attacktype1_txt: 1:Assassination 2:Hijacking 3:Kidnapping 4:Barricade Incident 5:Bombing\/Explosion 6:Armed Assault 7:Unarmed Assault 8:Facility\/Infrastructure Attack 9:Unknown\n* targtype1_txt: The target\/victim type field captures the general type of target\/victim. This variable consists of the following 22 categories.\n* target1: This is the specific person, building, installation, etc., that was targeted and\/or victimized and is a part of the entity named above.\n* gname: This field contains the name of the group that carried out the attack.\n* weaptype1_txt: Up to four weapon types are recorded for each incident\n* nkill: This field stores the number of total confirmed fatalities for the incident.\n* nwound: This field records the number of confirmed non-fatal injuries to both perpetrators and victims","43963944":"* The locations of terrorist incidents around the world are shown on the world map with dots.\n* It includes all terrorist incidents that took place between 1970 and 2017 on the map.","ffb54f8a":"* An animated representation of the terrorist attacks that took place around the world between 1970 and 2017.","d561ad2e":"#### **Target Type** ","15d6404a":"#### **Attack Type**","8ab00fc0":"## **Animation Of Terrorist Activities**","3567eaa5":"\n* In this notebook, \"Exploratory Data Analysis\" was performed on the \"Global Terrorism\" dataset.\n### Problems\n* Perform \u2018Exploratory Data Analysis\u2019 on dataset \u2018Global Terrorism\u2019\n* As a security\/defense analyst, try to find out the hot zone of terrorism.\n* What all security issues and insights you can derive by EDA? \n\n# Author: Muhammet Varl\u0131","b34ac4e5":"* Top Countries affected by Terror Attacks","aea8961b":"* It shows the correlation matrix of the data set.","7c8bfd3c":"## **Exploratory Data Analysis - Terrorism**","2413ccb6":"* Some features have been renamed their names for clarity.","7d92e957":"* The numbers of terrorist attacks carried out by target type are shown in the column chart below.","be84f224":"* The numbers of terrorist attacks by years are shown.","7d3991cf":"* List the 20 countries most affected by terrorism.","56838b5b":"#### **Weapon Type** ","03601359":"* We observe the number of affected people, which is the sum of deaths, injuries, and deaths and injuries due to terrorism by region."}}