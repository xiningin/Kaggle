{"cell_type":{"3c3be48d":"code","80a8a397":"code","60b9fa26":"code","3121d061":"code","32139d1f":"code","2e28477b":"code","e930577a":"code","7e7178d4":"markdown","c21a6cb6":"markdown","680e9c44":"markdown","e0f18dff":"markdown","dca0ee94":"markdown","c0ec58c1":"markdown","957c153e":"markdown","125afa49":"markdown","4be293a7":"markdown"},"source":{"3c3be48d":"import pandas as pd\ncovid = pd.read_csv('..\/input\/covid19-weekly-trends-in-europe-latest-data\/covid_europe_weekly_trend.csv')\ncovid.head()","80a8a397":"covid = covid.sort_values(['Cases in the last 7 days\/1M pop'], ascending=[False])\ncovid.rename(columns = {'Country\/Other':'Country'}, inplace = True)","60b9fa26":"pd.plotting.register_matplotlib_converters()\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\n\nplt.figure(figsize=(10,6))\nplt.title(\"Cases in the last seven days per 1M population\")\nplt.xticks(rotation=90)\nsns.barplot(x=covid['Country'], y=covid['Cases in the last 7 days\/1M pop'])\nplt.xlabel(\"Country\/Region\")","3121d061":"import geopandas as gpd\ncountries = gpd.read_file('..\/input\/natural-earth\/10m_cultural\/10m_cultural\/ne_10m_admin_0_countries.shp')\ncountries = countries[['NAME_EN', 'CONTINENT', 'geometry']]\ncountries.rename(columns = {'NAME_EN':'Country'}, inplace = True)\neurope = countries.loc[countries['CONTINENT'] == 'Europe'].reset_index(drop=True)\neurope['Country'] = europe['Country'].replace(['United Kingdom','Republic of Macedonia','Czech Republic'],['UK','North Macedonia','Czechia'])","32139d1f":"europe = europe.merge(covid, on=\"Country\")","2e28477b":"countries_boundaries = europe[['Country', 'geometry']]\ncases = europe[['Country', 'Cases in the last 7 days\/1M pop']]","e930577a":"import folium\nfrom folium import Choropleth\n\nm = folium.Map(location=[47.69,13.34], tiles=\"cartodbpositron\", zoom_start=4)\n\nChoropleth(geo_data=countries_boundaries, \n           data=cases, \n           columns=[\"Country\", \"Cases in the last 7 days\/1M pop\"],\n           key_on=\"feature.properties.Country\", \n           fill_color='YlGnBu',\n           fill_opacity=0.7,\n           legend_name='Cases in last seven days per 1M population'\n          ).add_to(m)\n\nm","7e7178d4":"Brief visualisation exercise - using covid19 weekly trends data and natural earth maps data to visualise the last week of covid cases. ","c21a6cb6":"Draw chloropleth map of covid cases in Europe:","680e9c44":"Now we are ready to merge covid and geographical datasets:","e0f18dff":"We will look into cases in the last 7 days\/1M population since it represents the severity of covid situation in the country quite well. Let's sort the dataframe by this particular value in descending order and rename one column:","dca0ee94":"Prepare datasets for input in formation of chloropleth map:","c0ec58c1":"If you like this notebook, give a thumbs up :) Thank you.","957c153e":"Now let's plot barchart of cases in the last 7 days:","125afa49":"Firstable import covid data and have a look at it:","4be293a7":"Geographical data is best interpreted when seen on a map. So prepare for plotting the same data on chloropleth map of Europe. Let's import geographical data of world countries, rename the country name column to match the name in covid dataset, select only countries in Europe and rename a few countries to match the name in the covid dataset."}}