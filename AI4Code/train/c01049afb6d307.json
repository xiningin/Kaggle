{"cell_type":{"ab23367d":"code","19b599de":"code","5181fef9":"code","06211cd4":"code","5d3e9baa":"code","869488f5":"code","017f2d90":"code","42e19b70":"code","211f6d7b":"code","2067c6f0":"code","eed826ff":"code","ceae23de":"code","46984cc0":"code","353de532":"code","c986af3c":"code","44679bac":"code","0ecf666e":"code","cc98fb0d":"code","c8d5a749":"code","cd97773c":"code","38d7f811":"code","7e195aad":"code","c0431aa2":"code","7dd2c49f":"code","7b2d0290":"code","cd7efcb4":"code","48661828":"code","52a5a34b":"code","e5236fca":"code","6c963075":"code","e569b55d":"code","de2f06b5":"code","3d8b3f75":"code","35686430":"code","4013a995":"code","0aec9c98":"code","020cb50b":"code","70a74697":"code","77956c45":"code","2da3ad9b":"code","d2a4829c":"code","b1798704":"markdown","c7c2d45c":"markdown","db9397f5":"markdown","f6cc1ba5":"markdown","b3d57fbe":"markdown","59ef37ac":"markdown","4cf13ee6":"markdown","38bda719":"markdown","54aedb7e":"markdown","a393e465":"markdown","3f8728c0":"markdown","2f1de113":"markdown","09dc4207":"markdown","ac4b1660":"markdown","d171d866":"markdown","7c98023e":"markdown","925a4341":"markdown","810119a9":"markdown","2f353ea0":"markdown","191b3c1b":"markdown","ca1f6e80":"markdown","aef331f9":"markdown","4dfd6ef3":"markdown","e82c19b5":"markdown","641c7fe3":"markdown","6e63dacc":"markdown","c941d076":"markdown","a1796a9b":"markdown","78e8fc1e":"markdown","b76fe391":"markdown","c673ad8a":"markdown"},"source":{"ab23367d":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd# data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nplt.style.use(\"seaborn-whitegrid\")\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","19b599de":"df = pd.read_csv(\"..\/input\/absenteeism-at-work-uci-ml-repositiory\/Absenteeism_at_work.csv\", sep= \";\")\ndf_save = df.copy()","5181fef9":"df.columns = df.columns.str.replace(' ', '')\ndf.columns = df.columns.str.replace('\/', '_')","06211cd4":"df.head()","5d3e9baa":"df.info()","869488f5":"df.describe().T","017f2d90":"# There are two different people with 29 IDs. I will delete 29 in index 51. Most likely he was fired or never existed. \ndf[df.ID == 29]","42e19b70":"df = df.drop([51],axis = 0)\ndf[df.ID == 29]","211f6d7b":"# What is the meaning mouth \"0\". I will delete them too.\ndf[df.Monthofabsence == 0]","2067c6f0":"df = df.drop([737,738,739],axis = 0)\ndf[df.Monthofabsence == 0]","eed826ff":"columnsWithID = ['Transportationexpense', 'DistancefromResidencetoWork',\n                 'Servicetime', 'Age', 'Education','Son', 'Socialdrinker',\n                 'Socialsmoker', 'Pet', 'Weight', 'Height', 'Bodymassindex']","ceae23de":"for i in columnsWithID:\n    sns.catplot(x=\"ID\", y= i, kind=\"bar\",height=3.5, aspect=12\/3.5, data=df,color = \"#3F7F7F\")","46984cc0":"df_ID = df.filter([\"ID\",'Transportationexpense', 'DistancefromResidencetoWork',\n                 'Servicetime', 'Age', 'Education','Son', 'Socialdrinker',\n                 'Socialsmoker', 'Pet', 'Weight', 'Height', 'Bodymassindex'], axis = 1)\ndf_ID = df_ID.drop_duplicates(subset=\"ID\")\ndf_ID = df_ID.sort_values(\"ID\")\ndf_ID = df_ID.set_index(\"ID\")\ndf_ID","353de532":"df_ID.info()","c986af3c":"columns1 = ['ID','Reasonforabsence','Monthofabsence','Dayoftheweek',\n           'Seasons','Hittarget','Disciplinaryfailure']","44679bac":"def bar_plot(variable):\n    var = df[variable]\n    varValue = var.value_counts()\n    \n    plt.figure(figsize = (10,5))\n    plt.bar(varValue.index, varValue)\n    plt.xticks(varValue.index, varValue.index.values)\n    plt.ylabel(\"Frequency\")\n    plt.title(variable)\n    plt.show()","0ecf666e":"for i in columns1:\n    bar_plot(i)","cc98fb0d":"columns2 = [\"Absenteeismtimeinhours\",\"WorkloadAverage_day\"]","c8d5a749":"def plot_hist(variable):\n    plt.figure(figsize = (10,5))\n    plt.hist(df[variable], bins = 50)\n    plt.xlabel(variable)\n    plt.ylabel(\"Frequency\")\n    plt.title(\"{} distribution with hist\".format(variable))\n    plt.show()","cd97773c":"for i in columns2:\n    plot_hist(i)","38d7f811":"plt.subplots(figsize=(17,17))\nsns.heatmap(df.corr(), annot =True,square = True, cbar = False);","7e195aad":"g = sns.catplot(x = \"Bodymassindex\", y = \"Weight\", data = df, kind = \"bar\", height = 6)\ng.set_ylabels(\"Weight\")\nplt.show()","c0431aa2":"g = sns.catplot(x = \"Reasonforabsence\", y = \"Disciplinaryfailure\", data = df, kind = \"bar\", height = 6)\ng.set_ylabels(\"Disciplinaryfailure\")\nplt.show()","7dd2c49f":"columnsWithService = [\"Age\",\"Socialdrinker\",\"Bodymassindex\"]\nfor i in columnsWithService:\n    g = sns.catplot(x = \"Servicetime\", y = i, data = df, kind = \"bar\", height = 6)\n    g.set_ylabels(i)\n    plt.show()","7b2d0290":"g = sns.catplot(x = \"Age\", y =\"Bodymassindex\", data = df, kind = \"bar\", height = 6)\ng.set_ylabels(\"Bodymassindex\")\nplt.show()","cd7efcb4":"columnsWithEducation = [\"Socialdrinker\",\"Bodymassindex\"]\nfor i in columnsWithEducation:\n    g = sns.catplot(x = \"Education\", y =i, data = df, kind = \"bar\", height = 6)\n    g.set_ylabels(i)\n    plt.show()","48661828":"g = sns.catplot(x = \"Socialdrinker\", y =\"Bodymassindex\", data = df, kind = \"bar\", height = 6)\ng.set_ylabels(\"Bodymassindex\")\nplt.show()","52a5a34b":"g = sns.catplot(x = \"Reasonforabsence\", y =\"Absenteeismtimeinhours\", data = df, kind = \"bar\", height = 6)\ng.set_ylabels(\"Absenteeismtimeinhours\")\nplt.show()","e5236fca":"df_2 = df[df.Reasonforabsence==2]\ndf_2","6c963075":"df_6 = df[df.Reasonforabsence==6]\ndf_6","e569b55d":"sns.barplot(x =\"ID\", y = \"Absenteeismtimeinhours\", data = df_6, ci = None, estimator = sum );","de2f06b5":"df_9 = df[df.Reasonforabsence==9]\ndf_9","3d8b3f75":"sns.barplot(x =\"ID\", y = \"Absenteeismtimeinhours\", data = df_9, ci = None, estimator = sum );","35686430":"df_12 = df[df.Reasonforabsence==12]\ndf_12","4013a995":"sns.barplot(x =\"ID\", y = \"Absenteeismtimeinhours\", data = df_12, ci = None, estimator = sum );","0aec9c98":"df_19 = df[df.Reasonforabsence==19]\ndf_19","020cb50b":"sns.barplot(x =\"ID\", y = \"Absenteeismtimeinhours\", data = df_19, ci = None, estimator = sum );","70a74697":"df[\"bmiCategorical\"] = [\"underweight\" if i < 18.5 else \"normal\" if 18.5<i<24.9 else \"overweight\" if 24.9<i<29.9 \n                        else \"obese\" if 29.9<i<34.9 else \"extremlyobese\" for i in df[\"Bodymassindex\"]]\ndf.head()","77956c45":"df_ID[\"bmiCategorical\"] = [\"underweight\" if i < 18.5 else \"normal\" if 18.5<i<24.9 else \"overweight\" if 24.9<i<29.9 \n                        else \"obese\" if 29.9<i<34.9 else \"extremlyobese\" for i in df_ID[\"Bodymassindex\"]]\ndf_ID.head()","2da3ad9b":"sns.countplot(x=\"bmiCategorical\", data=df_ID);","d2a4829c":"df_bmi_ID = df.groupby([\"bmiCategorical\",\"ID\"], as_index = False)[\"Absenteeismtimeinhours\"].sum().sort_values(by=\"bmiCategorical\",ascending = False)\ndf_bmi_ID.pivot_table(values = \"Absenteeismtimeinhours\", index = [\"bmiCategorical\"],aggfunc=[np.sum,np.mean])","b1798704":"## BMI categorization\n![image.png](attachment:0688feaa-7c0f-4f10-aa0b-5c1f715687c5.png)","c7c2d45c":"# Load and Check Data","db9397f5":"\n* Socialdrinkers' Bodymassindex is higher.","f6cc1ba5":"### (19) Injury, poisoning and certain other consequences of external causes","b3d57fbe":"## Education -- Socialdrinker & Bodymassindex","59ef37ac":"# Attribute Information\n* **ID**\n* **Reason for absence**\n    1. Certain infectious and parasitic diseases\n    1. Neoplasms\n    1. Diseases of the blood and blood-forming organs and certain disorders involving the immune mechanism\n    1. Endocrine, nutritional and metabolic diseases\n    1. Mental and behavioural disorders\n    1. Diseases of the nervous system\n    1. Diseases of the eye and adnexa\n    1. Diseases of the ear and mastoid process\n    1. Diseases of the circulatory system\n    1. Diseases of the respiratory system\n    1. Diseases of the digestive system\n    1. Diseases of the skin and subcutaneous tissue\n    1. Diseases of the musculoskeletal system and connective tissue\n    1. Diseases of the genitourinary system\n    1. Pregnancy, childbirth and the puerperium\n    1. Certain conditions originating in the perinatal period\n    1. Congenital malformations, deformations and chromosomal abnormalities\n    1. Symptoms, signs and abnormal clinical and laboratory findings, not elsewhere classified\n    1. Injury, poisoning and certain other consequences of external causes\n    1. External causes of morbidity and mortality\n    1. Factors influencing health status and contact with health services.\n    1. Patient follow-up\n    1. Medical consultation\n    1. Blood donation\n    1. Laboratory examination\n    1. Unjustified absence\n    1. Physiotherapy\n    1. Dental consultation\n    1. 0 = There is no reason for absence\n\n* **Month of absence**\n* **Day of the week (Monday (2), Tuesday (3), Wednesday (4), Thursday (5), Friday (6))**\n* **Seasons (summer (1), autumn (2), winter (3), spring (4))**\n* **Transportation expense**\n* **Distance from Residence to Work (kilometers)**\n* **Service time**\n* **Age**\n* **Work load Average\/day**\n* **Hit target**\n* **Disciplinary failure (yes=1; no=0)**\n* **Education (high school (1), graduate (2), postgraduate (3), master and doctor (4))**\n* **Son (number of children)**\n* **Social drinker (yes=1; no=0)**\n* **Social smoker (yes=1; no=0)**\n* **Pet (number of pet)**\n* **Weight**\n* **Height**\n* **Body mass index**\n* **Absenteeism time in hours**","4cf13ee6":"\n* Work experience is directly proportional to age.\n* Social drink is higher in former and new employees.","38bda719":"## Some Regulations","54aedb7e":"\n* There is only one person with an education level of four. Apart from that, education level is inversely proportional to Socialdrinker and Bodymassindex.","a393e465":"* overweight and normal people outnumber","3f8728c0":"* **Events worth investigating**\n\n    * More absentee people and their excuses\n    \n    * The most used excuses and who uses them\n    \n    * What is the excuse that causes this in the more absentee months?","2f1de113":"## Reasonforabsence -- Disciplinaryfailure","09dc4207":"## Socialdrinker -- Bodymassindex","ac4b1660":"# Variable Describtion","d171d866":"## Variables 3\n**These variables are related to the days of absenteeism.**","7c98023e":"## Age -- Bodymassindex","925a4341":"# Visualization","810119a9":"* We can create new dataframe for ID and its fixed variables.\n* We can categorize Body mass index as underweight, normal, overweight, obese and re-examine it.","2f353ea0":"* Average of Absenteeism time in hours for each BMI category.","191b3c1b":"## Weight -- Bodymassindex\n* The correlation of weight and Bmi is very high and close to direct proportion.\n    * Because; BM\u0130 = Weight\/Height**2\n    * We can reduce these three variables to one. Only BMI remains.","ca1f6e80":"## Variables 2\n**These variables have no direct connection with the ID. They can take different values for each ID.**","aef331f9":"## Absenteeismtimeinhours -- Reasonforabsence","4dfd6ef3":"* The person who increased total the absenteeism time in hours is 9.","e82c19b5":"\n* If there is a not reason for absence, it is a Disciplinaryfailure","641c7fe3":"## Servicetime -- Age & Socialdrinker & Bodymassindex","6e63dacc":"## Variables 1\n**Some variables are directly related to ID. They have the same value for each ID. These are;**\n    \n*     'Transportationexpense', 'DistancefromResidencetoWork', 'Servicetime', 'Age', 'Education',\n\n*     'Son', 'Socialdrinker', 'Socialsmoker', 'Pet', 'Weight', 'Height', 'Bodymassindex'","c941d076":"* **(2)** Neoplasms\n* **(6)** Diseases of the nervous system\n* **(9)** Diseases of the circulatory system\n* **(12)** Diseases of the skin and subcutaneous tissue\n* **(19)** Injury, poisoning and certain other consequences of external causes\n\n**These absence reasons are the ones that cause the most time loss.**\n\n**Now let's examine the workers using excuses 2, 6, 9 ,12 and 19.** ","a1796a9b":"### (12) Diseases of the skin and subcutaneous tissue","78e8fc1e":"### (9) Diseases of the circulatory system","b76fe391":"### (6) Diseases of the nervous system","c673ad8a":"### (2) Neoplasms"}}