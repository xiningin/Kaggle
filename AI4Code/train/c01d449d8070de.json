{"cell_type":{"deb087f1":"code","6df40ff5":"code","787d065c":"code","4cf73eaf":"code","38c5b318":"code","92669d0a":"code","ad269dd2":"code","6693d6bf":"code","e391f092":"code","cdf2a557":"code","8978a36a":"code","e5796a95":"code","020af221":"code","35f64a71":"code","dda44a0e":"code","fdb689fe":"code","935287c6":"code","3dda84dd":"code","88815d55":"code","032bf9e4":"code","ce6ddbbb":"code","26065137":"code","6a66db69":"code","adc18000":"code","65cf5d6b":"code","6e469caa":"code","2f5457db":"code","e2cd0ece":"code","6357fe20":"code","e90989fb":"code","6e23d13a":"code","43067b8e":"code","3a466410":"code","4da454d7":"code","d026af9e":"code","5bdf88b9":"code","b55baa00":"code","ed62a896":"code","6234188e":"code","cc8a7a3c":"code","3ffe5a9c":"code","b5bf1f6c":"code","612ca031":"code","e1380167":"code","ba459711":"code","6d17f245":"code","a6b91568":"code","02e586bd":"code","83844802":"code","79a269df":"code","fec47d55":"code","b9d3c815":"code","f97c0a80":"code","516109b8":"code","f221aeda":"code","af007a8e":"code","67a05677":"code","33a28e3a":"code","2b52e501":"code","03983b90":"code","2dd3ed78":"code","2c417859":"code","e83c2f08":"code","e5fcf5e4":"code","a163c679":"code","def54c3f":"code","6c552c5d":"code","9ec9dd6e":"code","0bd9e7e4":"code","ab60787f":"code","e38bd132":"code","0e215ec0":"code","3d47f1ae":"code","8d9a8db8":"code","bfd575c8":"code","674e56c6":"code","ec4649fa":"code","cae862e1":"code","eb3ef14e":"code","9ef59c5f":"code","c984cde4":"code","14487f3c":"code","5ffb1a6b":"code","695bba3b":"code","f9699ef5":"code","bdcd1dcb":"code","33abb239":"code","4f9e75fc":"code","151aa1a2":"code","d466e37b":"code","044cf918":"code","ff79fb4f":"code","ddaaa118":"code","06a2270b":"code","950ab91a":"code","dc52aaf1":"code","4ef97087":"code","6387604f":"code","6cc73a93":"code","1b6ff583":"code","d77e818e":"code","05ebb7a5":"code","4cdd1d8d":"code","6e7b2977":"code","93568727":"code","2a9ca6c9":"code","69dd2e7c":"code","1f7b2967":"code","5292394b":"code","3f1d26b7":"code","63729c0e":"code","dac8d20a":"code","236f32e0":"code","9273211c":"code","f4bdaf56":"code","56ffe02f":"code","e7e885fb":"markdown","99671cb8":"markdown","32d518d6":"markdown","5dccef21":"markdown","d50099cf":"markdown","e875cec9":"markdown","b037be23":"markdown","493bd34c":"markdown","40ca9700":"markdown","2e722578":"markdown","89ee7ad5":"markdown","50595239":"markdown","ab0f8893":"markdown","62342d21":"markdown","a326366a":"markdown","3e640ef1":"markdown","7479bb38":"markdown","45e5c39a":"markdown","3af9cf0b":"markdown","1d868b6a":"markdown","d64f4847":"markdown","b40bcc74":"markdown","34c1dc9c":"markdown","56e434bf":"markdown","56b8a697":"markdown","4d107c64":"markdown","2ae4cfa6":"markdown","bb7ce207":"markdown","9c3100f9":"markdown","cc22e2af":"markdown","bfc8cd9d":"markdown","cfc02662":"markdown","30ecf96d":"markdown","1dfeadab":"markdown","f1597d9a":"markdown","763c0bd3":"markdown","dac1c7ab":"markdown","54366677":"markdown","cc571e41":"markdown","8c99019e":"markdown","9068d742":"markdown","dc21473f":"markdown","ba84e221":"markdown","2a25e1f1":"markdown","9395c9e9":"markdown","09a4c9b6":"markdown","d8949a47":"markdown","cdcb4bce":"markdown","ecb11c9c":"markdown","0f094bb3":"markdown","7d1fa259":"markdown","9403dbd7":"markdown","7b7f8be5":"markdown"},"source":{"deb087f1":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport scipy.stats as stats\nimport seaborn as sns","6df40ff5":"a=np.random.randint(0,20,6)\na","787d065c":"pop_mean=a.sum()\/len(a)\nprint('Population Mean:',pop_mean)\nsam_mean=pop_mean\nprint('Sample Mean:',sam_mean)\nsum_of_squares_of_deviations=0\nfor i in a:\n    sum_of_squares_of_deviations=sum_of_squares_of_deviations+((i-pop_mean)**2)\npop_var=sum_of_squares_of_deviations\/len(a)\npop_std=(pop_var)**0.5\nprint('Population Variance:',pop_var)\nprint('Population Standard deviation:',pop_std)\nsam_var=sum_of_squares_of_deviations\/(len(a)-1)\nsam_std=(sam_var)**0.5\nprint('Sample Variance:',sam_var)\nprint('Sample Standard deviation:',sam_std)","4cf73eaf":"#np.var() and np.std() give population variance and std\n#use ddof=1 to get sample var and sample std.\nnp.var(a),np.std(a),np.var(a,ddof=1),np.std(a,ddof=1)","38c5b318":"arr1=np.random.randint(0,100,30)\nprint(arr1)\nprint('5 point summary:')\nprint('min:',np.percentile(arr1,0))\nprint('Q1:',np.percentile(arr1,25))\nprint('Q2:',np.percentile(arr1,50))\nprint('Q3:',np.percentile(arr1,75))\nprint('max:',np.percentile(arr1,100))\nprint()\nprint('iqr:',np.percentile(arr1,75)-np.percentile(arr1,25))\nplt.boxplot(arr1)\nplt.show()","92669d0a":"arr2=np.random.randint(0,100,30)\nnp.cov(arr1,arr2)","ad269dd2":"s=0\nfor i in range(len(arr1)):\n    s=s+((arr1[i]-np.mean(arr1))*(arr2[i]-np.mean(arr2)))\ns\/(len(arr1)-1)","6693d6bf":"print(np.corrcoef(arr1,arr2))\nnp.cov(arr1,arr2)[0,1]\/(np.std(arr1,ddof=1)*np.std(arr2,ddof=1))","e391f092":"binom=stats.binom.pmf(np.arange(10),10,0.05)\nbinom","cdf2a557":"binom_cum=stats.binom.cdf(np.arange(10),10,0.05)\nbinom_cum","8978a36a":"plt.plot(np.arange(10),binom,'o-')\nplt.plot(np.arange(10),binom_cum,'o-')\nplt.show()","e5796a95":"poiss=stats.poisson.pmf(np.arange(10),2.5)\npoiss","020af221":"poiss_cum=stats.poisson.cdf(np.arange(10),2.5)\npoiss_cum","35f64a71":"plt.plot(np.arange(10),poiss,'o-')\nplt.plot(np.arange(10),poiss_cum,'o-')\nplt.show()","dda44a0e":"hgd=stats.hypergeom(100,10,20)\nplt.plot(np.arange(20),hgd.pmf(np.arange(20)),'o-')\nplt.plot(np.arange(20),hgd.cdf(np.arange(20)),'o-')\nplt.show()","fdb689fe":"# can give the mena and std as arguments, or can calculate z and pass z alone. work same either way.\nprint(stats.norm.cdf(90,68,12))\nz=(90-68)\/12\nprint(stats.norm.cdf(z))","935287c6":"plt.plot(np.arange(0,100,4),stats.norm.pdf(np.arange(0,100,4),68,12),'o-')","3dda84dd":"stats.norm.cdf(100,68,12)-stats.norm.cdf(50,68,12)","88815d55":"#confidence interval using stats.norm.interval\nn=100\nxavg=170\nsigma=0.02\ns= sigma \/ np.sqrt(n)\ncil,ciu=stats.norm.interval(0.95,loc=xavg, scale=s)\nprint(cil,ciu)","032bf9e4":"#returns zscore value for the given alpha\/2 value\nstats.norm.ppf(0.025)","ce6ddbbb":"stats.norm.isf(0.9,100,20)","26065137":"h=np.random.randint(0,100,30)\nmean=np.mean(h)\nsd=np.std(h,ddof=1)\nprint(mean,sd)","6a66db69":"stats.norm.isf(0.9,mean,sd\/np.sqrt(30))","adc18000":"ts=(2.8-3)\/(0.6\/(50**0.5))\npvalue=stats.norm.cdf(ts)\npvalue","65cf5d6b":"ts=(573-520)\/(124\/6)\npvalue=1-stats.norm.cdf(ts)\npvalue","6e469caa":"ts=(530-520)\/(124\/6)\npvalue=1-stats.norm.cdf(ts)\npvalue","2f5457db":"from scipy.stats import ttest_1samp","e2cd0ece":"np.random.seed(10)\npopulation_ages1=stats.poisson.rvs(loc=18, mu=35, size=150000)\npopulation_ages2=stats.poisson.rvs(loc=18, mu=10, size=100000)\npopulation_ages=np.concatenate((population_ages1,population_ages2))","6357fe20":"np.random.seed(10)\nsample=np.random.choice(population_ages,1000)","e90989fb":"sample.mean(),population_ages.mean()","6e23d13a":"sns.distplot(sample) # not a normal distribution","43067b8e":"ttest_1samp(sample, 43.002372) # ttest is for normal distributions only, but here we are using it just for sake of example.","3a466410":"arr=np.random.normal(2.8,0.6,50)","4da454d7":"# for one tailed test using ttest_1samp we divide pvalue by 2 to get the pavalue for one tailed test since the area decreases to half.\nts, pval=ttest_1samp(arr,3)\npval=pval\/2\nprint(pval)","d026af9e":"from scipy.stats import shapiro","5bdf88b9":"sns.distplot(sample)\nplt.show()","b55baa00":"shapiro(sample)","ed62a896":"sns.distplot(arr)\nplt.show()","6234188e":"shapiro(arr)","cc8a7a3c":"from scipy.stats import wilcoxon","3ffe5a9c":"np.random.seed(10)\npopulation_ages1=stats.poisson.rvs(loc=18, mu=35, size=150000)\npopulation_ages2=stats.poisson.rvs(loc=18, mu=10, size=100000)\npopulation_ages=np.concatenate((population_ages1,population_ages2))","b5bf1f6c":"np.random.seed(10)\nsample=np.random.choice(population_ages,1000)","612ca031":"sample.mean(),population_ages.mean()","e1380167":"wilcoxon(sample-43.002372)","ba459711":"# energy expenditure in mJ and stature (0=obese, 1=lean)\nenerg = np.array([\n[9.21, 0],\n[7.53, 1],\n[7.48, 1],\n[8.08, 1],\n[8.09, 1],\n[10.15, 1],\n[8.40, 1],\n[10.88, 1],\n[6.13, 1],\n[7.90, 1],\n[11.51, 0],\n[12.79, 0],\n[7.05, 1],\n[11.85, 0],\n[9.97, 0],\n[7.48, 1],\n[8.79, 0],\n[9.69, 0],\n[9.68, 0],\n[7.58, 1],\n[9.19, 0],\n[8.11, 1]])","6d17f245":"#creating samples\ng1=energ[energ[:,1]==0][:,0]\ng2=energ[energ[:,1]==1][:,0]","a6b91568":"#check for normality\nshapiro(g1),shapiro(g2)","02e586bd":"from scipy.stats import levene","83844802":"levene(g1,g2)","79a269df":"from scipy.stats import ttest_ind","fec47d55":"ttest_ind(g1,g2)","b9d3c815":"from scipy.stats import bartlett","f97c0a80":"bartlett(g1,g2)","516109b8":"from scipy.stats import mannwhitneyu","f221aeda":"mannwhitneyu(g1,g2)","af007a8e":"# pre and post-surgery energy intake\nintake = np.array([\n[5260, 3910],\n[5470, 4220],\n[5640, 3885],\n[6180, 5160],\n[6390, 5645],\n[6515, 4680],\n[6805, 5265],\n[7515, 5975],\n[7515, 6790],\n[8230, 6900],\n[8770, 7335],\n])","67a05677":"#creating samples\ng1=intake[:,0]\ng2=intake[:,1]","33a28e3a":"#shapiro test for normality\nshapiro(g1),shapiro(g2)","2b52e501":"#levene test for quality of varicances (perform bartlett instead of levene if atleast one of the samples failed shapiro test)\nlevene(g1,g2)","03983b90":"ttest_1samp(g1-g2,0)","2dd3ed78":"wilcoxon(g1,g2)","2c417859":"from statsmodels.stats.proportion import proportions_ztest","e83c2f08":"df=pd.read_csv(\"..\/input\/learn-ml-datasets\/HR.txt\",sep='\\t',index_col=0)","e5fcf5e4":"df.head()","a163c679":"df.shape","def54c3f":"df.Gender.value_counts()","6c552c5d":"ct=pd.crosstab(df.Attrition, df.Gender)\nct","9ec9dd6e":"# lets compare the attrition proportion of the males to the population.\np1= 150\/882\npp=237\/1470\nzdata=(p1-pp)\/np.sqrt(pp*(1-pp)\/882)\npval=2*(1-stats.norm.cdf(abs(zdata)))\nzdata,pval","0bd9e7e4":"#using the inbuilt function\nproportions_ztest(150,882,237\/1470)","ab60787f":"#comparing the attrition proportions of males and females\np1=150\/882\np2=87\/588\npp=237\/1470\np1,p2,pp","e38bd132":"zdata=(p1-p2)\/(((pp*(1-pp))*((1\/882)+(1\/588)))**0.5)\nzdata","0e215ec0":"pval=2*(1-stats.norm.cdf(abs(zdata)))\npval","3d47f1ae":"#using inbuilt function\ncounts=np.array([150,87])\nobs=np.array([882,588])\nzdata,pvalue=proportions_ztest(counts,obs)\nzdata,pvalue","8d9a8db8":"df=pd.read_csv('..\/input\/learn-ml-datasets\/Migraine.csv',index_col=0)","bfd575c8":"df.head()","674e56c6":"g1=df.age[df.headache=='yes']\ng2=df.age[df.headache=='no']\ndf.boxplot(column='age',by='headache')\n","ec4649fa":"ct=pd.crosstab(df.headache,df.Gender)\nct","cae862e1":"def twosampztest(x1,x2,n1,n2):\n  p1=x1\/n1\n  p2=x2\/n2\n  pp=(x1+x2)\/(n1+n2)\n  zdata=(p1-p2)\/np.sqrt(pp*(1-pp)*((1\/n1)+(1\/n2)))\n  pval=2*(1-stats.norm.cdf(abs(zdata)))\n  return zdata,pval","eb3ef14e":"twosampztest(2279,387,2279+1266,387+220)","9ef59c5f":"#using inbuilt function\ncounts=np.array([2279,387])\nobs=np.array([2279+1266,387+220])\nzdata,pvalue=proportions_ztest(counts,obs)\nzdata,pvalue","c984cde4":"from scipy.stats import chisquare, chi2_contingency","14487f3c":"ct=pd.crosstab(df.hatype, df.Gender)\nct","5ffb1a6b":"chi2_contingency(ct)","695bba3b":"obs=np.array([410,340,250,95,85,70])","f9699ef5":"df=pd.DataFrame(obs.reshape(2,3),columns=['healthy','mild','severe'],index=['sample1','sample2'])\ndf","bdcd1dcb":"exp=[]\nfor i in df.index:\n  for j in df.columns:\n    exp.append((df.loc[i].sum())*(df.loc[:,j].sum())\/1250)\nexp=np.array(exp)\nexp","33abb239":"chi_data=(((obs-exp)**2)\/exp).sum()\nchi_data","4f9e75fc":"chi_value, pval, nrows, ec=chi2_contingency(df)\nprint('chi_value:',chi_value)\nprint('p-value:',pval)\nprint('degrees of freedom:',nrows)\nprint('expected counts array: \\n',ec)","151aa1a2":"n=500\nobserved_values=np.array([190,185,90,35])\nexpected_values=np.array([n*0.3,n*0.45,n*0.2,n*0.05])\nchisquare(observed_values,expected_values)","d466e37b":"from scipy.stats import f_oneway","044cf918":"a=np.array([30,40,50,60])\nb=np.array([25,30,50,55])\nc=np.array([25,30,40,45])\na.var(),b.var(),c.var()","ff79fb4f":"sstr=0\nfor i in [a,b,c]:\n  sstr=sstr+(len(i)*((i.mean()-40)**2))\nmstr=sstr\/(3-1)\nmstr","ddaaa118":"sse=0\nfor i in [a,b,c]:\n  sse=sse+((len(i)-1)*i.var(ddof=1))\nmse=sse\/(12-3)\nmse","06a2270b":"fdata=mstr\/mse\nfdata","950ab91a":"#using built-in function\nfdata,pvalue=f_oneway(a,b,c)\nfdata,pvalue","dc52aaf1":"df=pd.read_csv('..\/input\/learn-ml-datasets\/fair_pay_data.csv')","4ef97087":"df.head()","6387604f":"g1=df.salary[df.department=='Sales']\ng2=df.salary[df.department=='Engineering']\ng3=df.salary[df.department=='Finance']","6cc73a93":"f_oneway(g1,g2,g3)","1b6ff583":"import statsmodels.api as sm\nfrom statsmodels.formula.api import ols","d77e818e":"a=np.array([30,40,50,60])\nb=np.array([25,30,50,55])\nc=np.array([25,30,40,45])\np=np.hstack([a,b,c])\ndf1=pd.DataFrame({'age':p})\ndf1['group']=pd.Series('a a a a b b b b c c c c'.split())\ndf1","05ebb7a5":"d=np.array([43,45,45,47])\ne=np.array([37,40,40,43])\nf=np.array([34,35,35,36])\nq=np.hstack([d,e,f])\ndf2=pd.DataFrame({'age':q})\ndf2['group']=pd.Series('d d d d e e e e f f f f'.split())\ndf2","4cdd1d8d":"mod=ols('age ~ group', data=df1).fit()\nanv_table=sm.stats.anova_lm(mod, typ=1)\nprint(anv_table)","6e7b2977":"mod=ols('age ~ group', data=df2).fit()\nanv_table=sm.stats.anova_lm(mod, typ=1)\nprint(anv_table)","93568727":"sstr=0\nfor i in [a,b,c]:\n  sstr=sstr+(len(i)*((i.mean()-40)**2))\nmstr=sstr\/(3-1)\nsstr,mstr","2a9ca6c9":"sse=0\nfor i in [a,b,c]:\n  sse=sse+((len(i)-1)*i.var(ddof=1))\nmse=sse\/(12-3)\nsse,mse","69dd2e7c":"fdata=mstr\/mse\nfdata","1f7b2967":"df=pd.read_csv('..\/input\/learn-ml-datasets\/fair_pay_data.csv')","5292394b":"df.head()","3f1d26b7":"mod=ols('salary ~ new_hire + job_level + new_hire:job_level', data=df).fit()\nanv_table=sm.stats.anova_lm(mod, typ=2)\nprint(anv_table)","63729c0e":"ct=pd.crosstab(df.new_hire,df.job_level)\nct","dac8d20a":"df=pd.read_csv('..\/input\/advertising-mul\/advertising.csv')","236f32e0":"df.head()","9273211c":"mod=ols('Sales ~ TV + Radio + TV:Radio', data=df).fit()\nmod.params","f4bdaf56":"mod.summary()","56ffe02f":"mod=ols('Sales ~ TV ', data=df).fit()\nmod.params","e7e885fb":"pvalue less than 0.05 implies not normal","99671cb8":"## Two sample paired non-parametric ttest:(wilcoxon)","32d518d6":"## Hypergoemetric Distribution:","5dccef21":"both the samples are normal","d50099cf":"## Wilcoxon test:\n*   Non-Parametric Test\n*   for not normal distributions\n*   more stringent test than ttest, hence pvalue is lower than ttest","e875cec9":"pvalue < 0.05 implies the means are not equal","b037be23":"## Poission Distribution:","493bd34c":"pvalue<0.05 so we can say gender does influence the type of headache","40ca9700":"## Covariance:","2e722578":"pvalue greater than 0.05 hence normal distribution","89ee7ad5":"pvalue<0.05 implies the means are not equal","50595239":"# One sample Test of Means:\n","ab0f8893":"pvalue<0.05 implies that the means are not equal (ideally we should perform mannwhitneyu as they one of the sample did not pass the shapiro test)","62342d21":"#OLS","a326366a":"## Bartlett test\nfor testing equality of variances when atleast one sample is not normal","3e640ef1":"pvalue<0.05 hence the means of the samples are not equal","7479bb38":"## 5 Point summary:\nmin, Q1, Q2, Q3, max\n\niqr","45e5c39a":"##Two sample z test:","3af9cf0b":"# Two sample test of means for Paired samples","1d868b6a":"## Correlation:","d64f4847":"## Chi-square Test (proportion test for more than 2 samples)","b40bcc74":"##Shapiro Test:\ntest for normality","34c1dc9c":"## Two sample ttest_ind:\n\n*   parametric t test for 2 samples\n*   performed when the samples pass both the shapiro and levene tests\n\n","56e434bf":"## levene test:\nfor testing equality of the variances of normal samples","56b8a697":"pvalue>0.05 implies proportions of all the groups are statistically equal","4d107c64":"## Two sample paired parametric ttest:","2ae4cfa6":"#Anova Two way","bb7ce207":"## z test","9c3100f9":"1 is male and 2 is female","cc22e2af":"pvalue>0.05 implies variances are equal so we need to perform ttest_1samp(g1-g2), but we will perform wilcoxon too just for example.","bfc8cd9d":"# Descriptive statistics:\nMean, Variance, Standard deviation, quartiles, covariance, correlation","cfc02662":"pval>0.05 implies proportions are same ","30ecf96d":"## Checking parametric or non-parametric:","1dfeadab":"pvalue greater than 0.05 implies variances are equal","f1597d9a":"#Test of proportions","763c0bd3":"pvalue>0.05 implies variances are equal but we have to perform bartlett ideally","dac1c7ab":"## t-test using norm.cdf:","54366677":"pvalue > 0.05 implies average salary is same accross all departments","cc571e41":"## Mann-Whitney U Test:\n\n\n*   two sample non parametric test for equality of means\n*   performed when samples either fail shapiro or levene test\n\n","8c99019e":"# Continuous Probability Distributions:\nNormal Distribution, Geometric Distribution, Exponential Distribution","9068d742":"## Binomial Distribution:","dc21473f":"pvalue<0.05 implies proportions are not same as that of the population(expected)","ba84e221":"#Two sample test of mean for unpaired samples(independent)","2a25e1f1":"# AnoVa (f test) One way","9395c9e9":"## One sample z test:","09a4c9b6":"# Statistics\nDescriptive Statistics and Inferential Statistics","d8949a47":"# Discrete Probability Distributions:\nBinomial Distribution, Poisson Distribution and Hypergeometric Distribution","cdcb4bce":"## Mean, Variance and Standard deviation:","ecb11c9c":"## Normal Distrinution:","0f094bb3":"## T-test:\n\n*  parametric test\n*  only for normal or near normal distributions\n\n","7d1fa259":"## Shapiro test\n\n*   Test for normality\n*   P<0.05 implies sample not normal\n\n","9403dbd7":"pvalue is greater than 0.05, so we fail to reject the null hypothesis. that implies sample is the true representaion of the population.","7b7f8be5":"g2 pvalue in shapiro test just less than 0.05 so we need to perform manwhitneyu. but lets do all tests (levene, bartlett, ttest_ind) just as an example."}}