{"cell_type":{"c3f31445":"code","01c887cc":"code","745f9ffa":"code","7dfc8d53":"code","b5c78bcb":"code","7ba7c89f":"code","59d3f6a9":"code","626ba737":"markdown","c8f63507":"markdown"},"source":{"c3f31445":"import tarfile\nimport nibabel as nib\nimport numpy as np \nimport matplotlib.pyplot as plt\nimport os ","01c887cc":"def untar_brats(path):\n    tar = tarfile.open(path)\n    tar.extractall('.')\n    tar.close()\nuntar_brats('..\/input\/brats-2021-task1\/BraTS2021_Training_Data.tar')","745f9ffa":"def load_all_levels(path):\n    levels = ['t1','flair','t2','t1ce']\n    raw_image = [nib.load(os.path.join(path,path+'_'+level+'.nii.gz')).get_fdata() for level in levels]\n    raw_seg = nib.load(os.path.join(path,path+'_seg.nii.gz')).get_fdata()\n    return raw_image, raw_seg\n","7dfc8d53":"brats_list = os.listdir('.')\nimages,seg = load_all_levels(brats_list[2])\nt1,flair,t2,t1ce = image","b5c78bcb":"slice_index = 50\n\ncolor_segmentation = np.zeros((240,240,3))\ngray_segmentation = seg[:,:,slice_index]\ncolor_segmentation[gray_segmentation == 1] = [255,0,0] # Red (necrotic tumor core)\ncolor_segmentation[gray_segmentation == 2] = [0,255,0] # Green (peritumoral edematous\/invaded tissue)\ncolor_segmentation[gray_segmentation == 4] = [0,0,255] # Blue (enhancing tumor)\n","7ba7c89f":"plt.figure(figsize=(20,10))\nplt.subplot(1,5,1)\nplt.imshow(t1[:,:,slice_index],cmap='gray')\nplt.xlabel('T1')\nplt.subplot(1,5,2)\nplt.imshow(flair[:,:,slice_index],cmap='gray')\nplt.xlabel('Flair')\nplt.subplot(1,5,3)\nplt.imshow(t2[:,:,slice_index],cmap='gray')\nplt.xlabel('T2')\nplt.subplot(1,5,4)\nplt.imshow(t1ce[:,:,slice_index],cmap='gray')\nplt.xlabel('T1CE')\nplt.subplot(1,5,5)\nplt.imshow(color_segmentation,cmap='gray')\nplt.xlabel('Segmentation')\nplt.show()","59d3f6a9":"plt.figure(figsize=(20,5))\nplt.subplot(1,4,1)\nplt.hist(t1[:,:,slice_index])\nplt.xlabel('T1')\nplt.subplot(1,4,2)\nplt.hist(flair[:,:,slice_index])\nplt.xlabel('Flair')\nplt.subplot(1,4,3)\nplt.hist(t2[:,:,slice_index])\nplt.xlabel('T2')\nplt.subplot(1,4,4)\nplt.hist(t1ce[:,:,slice_index])\nplt.xlabel('T1CE')\nplt.show()","626ba737":"# Image histogram","c8f63507":"# Image and segmentation"}}