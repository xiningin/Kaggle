{"cell_type":{"e23f091d":"code","44d19850":"code","88c32123":"code","6d60c581":"code","9c1c4e5a":"code","d76ccc1c":"code","0f6c0a1b":"code","a52e2198":"code","98a508d4":"code","7be22732":"code","b9c8b90a":"code","f4a336bb":"code","bd4f9da2":"code","03b8471b":"code","80b65e6b":"code","807fbaa5":"code","a79cea70":"code","9ab7f74d":"code","9cd90c15":"code","f3070faf":"markdown","f5ebe5ef":"markdown","7038a9da":"markdown","788eb4fe":"markdown","2045bfb1":"markdown","62a9cb66":"markdown","0e630d17":"markdown","f5120589":"markdown","5bc0460c":"markdown","c983a9f7":"markdown","3a30b625":"markdown","ab93858a":"markdown","ebe4e6e3":"markdown","ab344f6b":"markdown","ef97f6e3":"markdown","66e063dc":"markdown"},"source":{"e23f091d":"%matplotlib inline\n\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n# V01: Visualizaci\u00f3n que permite ver la cantidad total de infectados por pa\u00eds\n# Dataset: V01.csv \ndf1 = pd.read_csv(\"..\/input\/unreal-pandemic\/V01.csv\")\nprint(df1.head(10))\nprint(df1.shape)","44d19850":"# Ordeno la cantidad de contagios en orden decreciente (20 Paises) y luego agrupo por Pa\u00eds sin volver a ordenar  \nContagios = df1.sort_values('Contagiados',ascending=0).groupby('Paises', sort=0)['Contagiados'].sum()\nprint(Contagios.head())\n\n# Se codifica la visualizaci\u00f3n usando Matplotlib\nax = Contagios.plot.bar(color = 'navy', title = 'Contagiados por Pa\u00eds a la fecha')\nax.set_xlabel(\"Pa\u00eds afectado\")\nax.set_ylabel(\"Cantidad de contagiados\")","88c32123":"# V02: Visualizaci\u00f3n que permita ver la evoluci\u00f3n del total de infectados en el tiempo (fecha).\n# Dataset: V02.csv \ndf2 = pd.read_csv(\"..\/input\/unreal-pandemic\/V02.csv\")\nprint(df2.head(10))\nprint(df2.shape)","6d60c581":"# Se codifica la visualizaci\u00f3n usando Seaborn y grilla cuadriculada\nsns.set()\nsns.set_style(\"whitegrid\")\nax = sns.lineplot(x=\"A\u00f1o\", y=\"Total Contagiados\", color=\"navy\", data=df2, linewidth=2, marker = 's')\n\n# Se configuran los l\u00edmites, ticks y etiquetas de la codificaci\u00f3n\nymax = int(df2[[\"Total Contagiados\"]].max()+0.5e8)\nax.set_ylim(0,ymax)\nax.set_xticks(range(2013,2018))\nax.set_xticklabels(range(2013,2018))\nax.set_title(\"Evoluci\u00f3n Total de Infectados en 5 A\u00f1os\")\nplt.show()","9c1c4e5a":"# V03: Visualizaci\u00f3n que permita ver el total de infectados en el tiempo por pa\u00eds (fecha).\n# Dataset: V03.csv \ndf3 = pd.read_csv(\"..\/input\/unreal-pandemic\/V03.csv\")\nprint(df3.head(10))\nprint(df3.shape)","d76ccc1c":"#Funcion Melt pivotea columnas hacia filas (proceso inverso de funcion Pivot)\ndf_aux = pd.melt(df3, id_vars=['Pais'], value_vars=['2013','2014','2015','2016','2017'], var_name=\"A\u00f1o\", value_name=\"Total Infectados\")\nprint(df_aux.head(),'\\n\\n', df_aux.tail())\n","0f6c0a1b":"# Esta funci\u00f3n solo genera los gr\u00e1ficos sin datos, ahora falta indicar con qu\u00e9 llenar cada gr\u00e1fico\ngrid = sns.FacetGrid(data=df_aux, col=\"Pais\", hue=\"Pais\", col_wrap=5, palette=\"muted\")\n\n# M\u00e9todo map se encarga de llenar cada gr\u00e1fico de la grilla como codificacion de los datos usando small multiple de lineas y puntos\ngrid.map(plt.plot, \"A\u00f1o\", \"Total Infectados\", marker=\"o\")\nplt.show()","a52e2198":"# V04: Visualizaci\u00f3n que permite ver la distribuci\u00f3n de n\u00famero de contagios de pa\u00edses en funci\u00f3n al tiempo de infecci\u00f3n.\n# Dataset: V04.csv \ndf4 = pd.read_csv(\"..\/input\/unreal-pandemic\/V04.csv\")\nprint(df4.head(10))\nprint(df4.shape)","98a508d4":"# Se codifica con boxplot para visualizar la mediana, outliers y extremos estad\u00edsticos para cada mes de infecci\u00f3n agregando cada pa\u00eds\nplt.rcParams['figure.figsize'] = (20.0, 10.0)\nax2 = sns.boxplot(x=\"Mes\", y=\"Contagiados\", data=df4, palette=\"Set3\")\nax2.set_yticks(range(0,11000,1000))\nplt.show()","7be22732":"# V05: Dos visualizaciones (uno por hemisferio) que permita visualizar la cantidad de fallecimientos por mes y a\u00f1o. \n# De modo que permita determinar si hubo algunos meses en particular donde aument\u00f3 la cantidad de fallecidos o\n# siempre se mantuvo de forma homog\u00e9nea\n# Datasets: V05-hem-norte.csv y V05-hem-sur.csv\ndf5n = pd.read_csv(\"..\/input\/unreal-pandemic\/V05-hem-norte.csv\")\ndf5s = pd.read_csv(\"..\/input\/unreal-pandemic\/V05-hem-sur.csv\")\nprint(df5n.head(10),'\\n\\n', df5n.shape, '\\n\\n', df5s.head(10), '\\n\\n', df5s.shape)","b9c8b90a":"# Se manipula cada dataframe para dejarlo en formato matriz y poder codificarlo con funci\u00f3n Heatmap\ndf5n = df5n.pivot(index=\"A\u00f1o\", columns=\"Mes\", values=\"Fallecidos\")\ndf5s = df5s.pivot(index=\"A\u00f1o\", columns=\"Mes\", values=\"Fallecidos\")","f4a336bb":"# Se codifica un mapa de calor con paleta de color divergente (Hemisferio Norte)\nplt.rcParams['figure.figsize'] = (10.0, 5.0)\nax3 = sns.heatmap(df5n, annot=False, cmap='coolwarm', linewidths=1, square=True)\nplt.show()","bd4f9da2":"# Se codifica un mapa de calor con paleta de color divergente (Hemisferio Sur)\nplt.rcParams['figure.figsize'] = (10.0, 5.0)\nax3 = sns.heatmap(df5s, annot=False, cmap='coolwarm', linewidths=1, square=True)\nplt.show()","03b8471b":"# V06: Dos visualizaciones que permitan mostrar la proporci\u00f3n de infectados por edad y la proporci\u00f3n de s\u00edntomas posibles.\n# Dataset: V06.csv \ndf6 = pd.read_csv(\"..\/input\/unreal-pandemic\/V06.csv\")\nprint(df6.head(10),'\\n\\n', df6.shape, '\\n\\n', df6.tail(10))","80b65e6b":"# Se Cuentan los valores de cada categor\u00eda de Edad y de s\u00edntomas para calcular las proporciones\nSobre50 = df6[df6[\"Edad\"]==\">=50\"].count()\nBajo18 = df6[df6[\"Edad\"]==\"<=18\"].count()\nEntremedio = df6[\"Edad\"].count()-(Sobre50 + Bajo18)\n\ns_base = df6[df6[\"Sintomas\"]==\"base\"].count()\ns_ext = df6[df6[\"Sintomas\"]==\"extendido\"].count()","807fbaa5":"# Se codifica un gr\u00e1fico de torta para visualizar las proporciones en 2 atributos diferentes (edad y s\u00edntomas detectados)\nfig1, (a1, a2) = plt.subplots(1,2,figsize=(10,15))\n\n# Se genera el gr\u00e1fico para cada subplot manteniendo los colores y propiedades\npie_plot1 = a1.pie([Sobre50[0], Entremedio[0], Bajo18[0]], labels=[\">=50 A\u00f1os\",\">18 y <50 A\u00f1os\",\"<=18 A\u00f1os\"] ,colors=['navy','lime','red'], autopct='%1.2f%%',startangle=90)\npie_plot2 = a2.pie([s_base[0], s_ext[0]], labels=[\"S\u00edntomas Base\",\"S\u00edntomas Extendido\"] ,colors=['navy','lime','red'], autopct='%1.2f%%',startangle=90)\n\n# Se asigna un t\u00edtulo general a los subplot y se demarca en blanco para el segmento de color mas oscuro \nfig1.suptitle(\"Cantidad de Infectados por rango de edad y por tipo de s\u00edntomas\", fontsize=15, fontweight=\"bold\")\nfig1.subplots_adjust(top=1.5)\npie_plot1[2][0].set_color('white')\npie_plot2[2][0].set_color('white')\n\n# Se agrega un t\u00edtulo a cada subplot y se muestra s\u00f3lo el gr\u00e1fico\na1.title.set_text('Proporci\u00f3n de Infectados por Edad')\na2.title.set_text('Proporci\u00f3n de Infectados por Tipo de S\u00edntomas')\nplt.show()","a79cea70":"# V07: Visualizaci\u00f3n que permita apreciar distribuci\u00f3n y potencialmente correlaci\u00f3n entre pares de atributos de \n# dataset: edad, peso y altura; con categorizaci\u00f3n por tipos de s\u00edntomas presentados.\n# Dataset: V07.csv \ndf7 = pd.read_csv(\"..\/input\/unreal-pandemic\/V07.csv\")\nprint(df7.head(10),'\\n\\n', df7.shape, '\\n\\n', df7.tail(10))","9ab7f74d":"# Seleccionamos el atributo num\u00e9rico de menor tama\u00f1o para transformarlo a categ\u00f3rico y codificarlo con el tama\u00f1o de la burbuja\nprint(len(df7[\"Edad\"].unique()))\nprint(len(df7[\"Peso\"].unique()))\nprint(len(df7[\"Altura\"].unique()))\n\n# Se pasa de atributos categ\u00f3rico a atributo num\u00e9rico para codificar s\u00edntomas\n#sintoma_num = df7.Sintomas.astype(\"category\").cat.codes","9cd90c15":"# Se codifica un gr\u00e1fico de burbujas con 2 atributos num\u00e9ricos (eje x: altura, eje y: edad), 1 atributo categ\u00f3rico a numerico (sintoma) y 1 atributo numerico (peso)\n# Por aspectos de percepci\u00f3n, el atributo peso puede ser m\u00e1s pre-atentivo para el usuario que la edad como canal de tama\u00f1o\nplt.rcParams['figure.figsize'] = (20.0, 10.0)\nsns.set_style(\"whitegrid\")\n\nmarkers = {\"base\": \"s\", \"extendido\": \"o\"}\naxis = sns.scatterplot(x=\"Altura\", y=\"Edad\",hue=\"Sintomas\", size=\"Peso\", markers=markers, sizes=(20,250), alpha=1.0, cmap ='Set2',legend=\"brief\", data=df7)\n\naxis.set_title('Distribuci\u00f3n y Correlaci\u00f3n de Atributos F\u00edsicos \\n (Tama\u00f1o de burbuja: Peso de Infectado) \\n (Color: S\u00edntoma) ')\naxis.set_xlabel(\"Altura\")\naxis.set_ylabel(\"Edad\")\nplt.show()","f3070faf":"**Visualizaci\u00f3n 2 (V02)**\n\n**Tarea identificada**: Presentar tendencia del atributo cuantitativo sobre el atributo temporal a\u00f1o\n\n**Justificaci\u00f3n**: A trav\u00e9s de una codificaci\u00f3n con marca de puntos unidas por l\u00edneas en un plano, donde el canal de posici\u00f3n vertical y horizontal del atributo cuantitativo genera una relaci\u00f3n entre un valor y su consecutivo exhibiendo una tendencia en el tiempo de c\u00f3mo evoluciona","f5ebe5ef":"**Visualizaci\u00f3n 4 (V04)**\n\n**Tarea identificada**: Identificar outliers, distribuciones por mes y extremos estad\u00edsticos (max y min) \n\n**Justificaci\u00f3n**: Cada Pa\u00eds tiene su primer mes de infecci\u00f3n, sin embargo al comparar en una misma escala de tiempo, la codificaci\u00f3n mediante agregaci\u00f3n de pa\u00edses por mes permite identificar el comportamiento dentro del primer a\u00f1o de infecci\u00f3n. Puede especificarse qu\u00e9 Pa\u00eds obtuvo los m\u00ednimos y m\u00e1ximos, o incluso cuales fueron considerados outliers, pero el objetivo aqu\u00ed corresponde a un escenario global","7038a9da":"Ahora, comparando la situaci\u00f3n por pa\u00eds, es posible notar c\u00f3mo en algunos pa\u00edses, como Chile, la infecci\u00f3n fue controlada mientras en otros no, como M\u00e9xico. Esto se explica por la anticipada toma de decisiones en salud realizados en varios de estos pa\u00edses.\n","788eb4fe":"**Visualizaci\u00f3n 6 (V06)**\n\n**Tarea identificada**: Comparar la proporci\u00f3n de una categor\u00eda sobre el total de categor\u00edas (Todos los infectados) tanto por edad como por s\u00edntomas\n\n**Justificaci\u00f3n**: Se selecciona codificar un gr\u00e1fico de torta directamente por su facilidad en visualizar con marca de \u00e1rea (proporci\u00f3n o trozo) la pertenencia que ocupa cierto valor categ\u00f3rico dentro del atributo total","2045bfb1":"**Visualizaci\u00f3n 3 (V03)**\n\n**Tarea identificada**: Comparar 2 paises en base a su tendencia temporal dentro de los 5 a\u00f1os considerando la escala\n\n**Justificaci\u00f3n**: Codificando un small m\u00faltiple de lineas de tendencia dentro de 5 a\u00f1os por pa\u00eds puedo comparar el comportamiento entre 2 o m\u00e1s pa\u00edses sin necesidad de escalar el eje vertical, a menos que su tendencia no sea clara (Zoom)","62a9cb66":"Durante el 2015 hubo una gran pandemia a nivel mundial. Luego de un a\u00f1o del descubrimiento del virus, se realiz\u00f3 un catastro de enfermos. C\u00f3mo es posible observar en el siguiente gr\u00e1fico, los resultados indicaron que los pa\u00edses m\u00e1s afectados fueron Francia, Jap\u00f3n y M\u00e9xico, con m\u00e1s de 9.5 millones, 10.2 millones y 10.3 millones de contagiados respectivamente.\n","0e630d17":"**Visualizaci\u00f3n 1 (V01)**\n\n**Tarea identificada**: Lookup y Descubrir un extremo de aquellos pa\u00edses m\u00e1s afectados a la fecha\n\n**Justificaci\u00f3n**: Se codifica un gr\u00e1fico de barras verticales ordenada y alineada seg\u00fan el atributo cuantitativo de contagios totales con canal de posici\u00f3n vertical para buscar (lookup) los pa\u00edses con mayor n\u00famero de contagios y descubrir el extremo m\u00e1ximo, ya que el objetivo y la ubicaci\u00f3n eran conocidas al tener una codificaci\u00f3n ordenada en el eje horizontal.","f5120589":"Otra interrogante que surgi\u00f3 fue \u00bfeste virus fue m\u00e1s letal en \u00e9pocas y lugares de bajas temperaturas, de altas temperaturas o la temperatura no tuvo efecto? En base a los datos reunidos de facellimientos registrados por mes en los 5 primeros a\u00f1os, fue posible observar lo siguiente para cada hemisferio:\n","5bc0460c":"**Visualizaci\u00f3n 7 (V07)**\n\n**Tarea identificada**: Descubrir outliers, correlacion y localizar clusters o grupos con mayor similaridad seg\u00fan su distribuci\u00f3n \n\n**Justificaci\u00f3n**: Se codifica mediante un gr\u00e1fico de burbujas para analizar correlaci\u00f3n de 2 atributos numericos, adem\u00e1s de un tercer atributo num\u00e9rico codificado con el tama\u00f1o de burbuja para facilitar la correlaci\u00f3n y un atributo categ\u00f3rico binario con el canal de color con distinta tonalidad. Se selecciona esta codificaci\u00f3n y no un parallel coordinates, ya que el s\u00edntoma puede ser poco efectivo en la visualizaci\u00f3n ","c983a9f7":"Explorando los datos hist\u00f3ricos de esta pandemia, fue posible recopilar la informaci\u00f3n de cantidad de contagiados internacionalmente durante los primeros 5 a\u00f1os y los resultados mostraron un crecimiento exponencial de los casos.","3a30b625":"Adem\u00e1s de esta segmentaci\u00f3n et\u00e1rea y de diagn\u00f3stico, la investigaci\u00f3n inicial no ten\u00eda una caracterizaci\u00f3n m\u00e1s profunda. Fue tras cruzar y analizar la correlaci\u00f3n de atributos de edad, peso y altura de contagiados; e identificando aquellos con s\u00edntomas base o s\u00edntomas extendidos, que se logr\u00f3 obtener una mejor descripci\u00f3n de perfiles.\n","ab93858a":"Por otro lado, esta pandemia que se caracteriz\u00f3 por una divisi\u00f3n et\u00e1rea muy marcada entre sus contagiados. El 60% de los contagiados eran personas sobre 50 a\u00f1os, 30% eran menores a los 18 a\u00f1os y solo el 10% restante oscila entre 19 y 49 a\u00f1os. Por otro lado, el 80% presentaba como s\u00edntomas base: fiebre, tos y malestar estomacal; mientras que el 20% restante present\u00f3 s\u00edntomas extendidos a los anteriores, agregando dificultad para respirar. ","ebe4e6e3":"# Mini-Proyecto Final\n\nEsta evaluaci\u00f3n tiene por prop\u00f3sito poner en pr\u00e1ctica la identificaci\u00f3n de tareas de visualizaci\u00f3n, la b\u00fasqueda de codificaciones, y la generaci\u00f3n de codificaciones mediante programaci\u00f3n. El siguiente archivo contiene un texto narrativo que informa detalles sobre un _dataset_ complejo y que busca apoyarse de visualizaciones para transmitir informaci\u00f3n.\n\nEn el documento se marcan las ubicaciones donde distintas codificaciones deben insertarse mediante celdas de c\u00f3digo. \nCada ubicaci\u00f3n tiene adem\u00e1s informaci\u00f3n que se provee sobre los datos y las tareas que buscan completar en dicha codificaci\u00f3n.\nEn cada una de estas ubicaciones, debe identificarse al menos una acci\u00f3n utilizando t\u00e9rminos del *framework* revisado, elegir una codificaci\u00f3n gr\u00e1fica acorde, de tal forma que ambas correspondan a la informaci\u00f3n dada y justificar en un m\u00e1ximo de 5 l\u00edneas por qu\u00e9 la codificaci\u00f3n elegida permite resolver la tarea identificada. Se proveen los datos necesarios para generar dichas codificaciones, y puedes utilizar `pandas`, `matplotlib` y `seaborn` para generar las distintas visualizaciones.\n\nEl documento de respuesta y entrega es este mismo documento Jupyter Notebook. Debe completarse con:\n* El c\u00f3digo de cada visualizaci\u00f3n con todas las celdas ejecutadas\n* Al menos una tarea identificada para cada visualizaci\u00f3n (de la lista indicada en la clase \u00bfPor qu\u00e9?)\n* La justificaci\u00f3n de cada gr\u00e1fico en relaci\u00f3n a la tarea identificada\n","ab344f6b":"## La gran pandemia","ef97f6e3":"**Visualizaci\u00f3n 5 (V05)**\n\n**Tarea identificada**: Encontrar clusters de fallecidos, patrones y correlaci\u00f3n con los meses del a\u00f1o seg\u00fan hemisferio\n\n**Justificaci\u00f3n**: Al codificar atributos ordinales (a\u00f1o y mes) es m\u00e1s efectivo generar un mapa de calor usando como canal una paleta divergente para detectar focos (clusters) altos y bajos de fallecidos \"DENTRO DE UN MISMO A\u00d1O\", ya que los fallecidos por a\u00f1o var\u00edan bastante de 1 a\u00f1o a otro, por lo que si existen colores opuestos en un mismo a\u00f1o, puede existir una correlaci\u00f3n con el mes observado","66e063dc":"Las visualizaciones anteriores colocan la evoluci\u00f3n del contagios seg\u00fan las fechas de ocurrencia, pero la realidad es que cada pa\u00eds tuvo su primer infectado en distintos momentos. Al encontrarse en distintas escalas de tiempo, surge la interrogante de c\u00f3mo distribuyen los crecimientos de contagios bajo una misma escala de tiempo, que corresponde al tiempo que lleva el pa\u00eds con infecciones presentes. Por ejemplo, se encontr\u00f3 que a los dos meses de infecci\u00f3n, el m\u00ednimo de contagios presentes en un pa\u00eds fue de 783 casos, el m\u00e1ximo de 8055 casos, y la mediana a nivel mundial fue de 2876 casos aproximadamente. \n"}}