{"cell_type":{"aa5a6595":"code","7a4ee40e":"code","bdcac46b":"code","bb9bf053":"code","c83d78d2":"code","224d6b79":"code","30078ce7":"code","116bbc06":"code","368b6d14":"code","13e7ab02":"code","0a097bc2":"code","ce213e0c":"code","2d94f878":"code","2a2e6973":"code","f4d38463":"code","3debd31e":"code","5476cdc9":"code","1a2c7c2d":"code","a4b4a406":"code","3c7810fc":"code","f1a0f536":"code","c7be0a8c":"code","a44bf6a7":"code","d4303ce8":"code","93838500":"code","21b2f1fa":"code","4a131db2":"code","92a4ea4f":"code","88d0d0f5":"code","6911467c":"code","1aeebb13":"code","3175ea02":"code","23962701":"code","97ea5a84":"code","2a7ff504":"code","c49afda6":"code","87995239":"code","4a242538":"code","49b9d018":"code","99a2600d":"code","dcafb9a2":"code","82a6ab90":"code","255a5a94":"code","32ac3c9d":"code","172a9ccb":"code","2dcbe57b":"code","1e733c11":"code","8e40faea":"code","edd61f4a":"code","6dc02b7c":"code","89a0f8a4":"code","45c432a4":"code","d65318d1":"code","af9f276e":"code","20b00419":"code","08b78740":"code","f28f2759":"code","62c8418e":"code","55bbfc3a":"code","f93852c7":"code","be16f371":"code","8ccc8b61":"code","7a32c143":"code","c58045cf":"code","ffe08d02":"code","14f5a735":"code","4373a78e":"code","f0b02db0":"code","42007e7b":"code","dda9e996":"code","d19776b8":"code","ac8dc7b8":"code","a99c08dd":"code","dd92f532":"code","ef06e45e":"code","d52b14c4":"code","1d2228f6":"code","11be6746":"code","1741fbef":"code","05ee30cd":"code","23fb1909":"code","190f9af4":"code","4443fd79":"code","f4c09d38":"code","cb77f77a":"code","5230c692":"code","6f0c30e1":"markdown","b681cebf":"markdown","3fc24f8e":"markdown","6256a184":"markdown","8270a071":"markdown","6f5147c9":"markdown","c2f2e9d2":"markdown","4e4b4d40":"markdown","892a945a":"markdown","171e61c7":"markdown","73f24384":"markdown","6457f5f2":"markdown","c867149e":"markdown","71f4bdc4":"markdown","1757a12c":"markdown","e87906e4":"markdown","e70878e1":"markdown","a41ecbd6":"markdown","377ca35e":"markdown"},"source":{"aa5a6595":"import pandas as pd\nimport numpy as np\nimport seaborn as sns","7a4ee40e":"protein = pd.read_csv(\"..\/input\/protein-data-set\/pdb_data_no_dups.csv\")\ndf = protein.copy()\ndf.head()","bdcac46b":"df.info()","bb9bf053":"df.dtypes","c83d78d2":"df.isnull().sum()","224d6b79":"dfkat = df.select_dtypes(include = [\"object\"])\ndfkat","30078ce7":"dfkat.columns","116bbc06":"dfkat[\"structureId\"].value_counts()","368b6d14":"dfkat[\"classification\"].value_counts()","13e7ab02":"dfkat[\"experimentalTechnique\"].value_counts()","0a097bc2":"dfkat[\"macromoleculeType\"].value_counts()","ce213e0c":"dfkat[\"crystallizationMethod\"].value_counts()","2d94f878":"dfkat[\"pdbxDetails\"].value_counts()","2a2e6973":"dfkat.isnull().sum()","f4d38463":"def eksik_deger_tablosu(df): \n    eksik_deger = df.isnull().sum()\n    eksik_deger_yuzde = 100 * df.isnull().sum()\/len(df)\n    eksik_deger_tablo = pd.concat([eksik_deger, eksik_deger_yuzde], axis=1)\n    eksik_deger_tablo_son = eksik_deger_tablo.rename(\n    columns = {0 : 'Eksik De\u011ferler', 1 : '% De\u011feri'})\n    return eksik_deger_tablo_son","3debd31e":"eksik_deger_tablosu(dfkat)","5476cdc9":"dfkat.isin([\"?\", \"-\", \",\", \"*\", \"\/\"]).sum()","1a2c7c2d":"dfnum = df.select_dtypes(include = [\"int64\", \"float64\"])\ndfnum","a4b4a406":"dfnum.columns","3c7810fc":"dfnum.describe().T","f1a0f536":"dfnum.count()","c7be0a8c":"dfnum.isnull().sum()","a44bf6a7":"dfnum.isin([\"?\", \"-\", \",\", \"*\", \"\/\"]).sum()","d4303ce8":"eksik_deger_tablosu(dfnum)","93838500":"df[\"publicationYear\"] = df['publicationYear'].astype('datetime64[ns]')","21b2f1fa":"df.info()","4a131db2":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nfrom matplotlib import pyplot as plt\nimport missingno as msno","92a4ea4f":"df1 =  df[(df['classification'] == \"HYDROLASE\") | (df['classification'] == \"TRANSFERASE\")\n           | (df['classification'] == \"OXIDOREDUCTASE\") | (df['classification'] == \"LYASE\") \n           | (df['classification'] == \"IMMUNE SYSTEM\") | (df['classification'] == \"TRANSCRIPTION\") \n           | (df['classification'] == \"TRANSPORT PROTEIN\")]","88d0d0f5":"df1[\"classification\"].value_counts().plot.barh() \n# Bagimli degisken olarak gordugumuz Classification degiskeni ile gorsellestirmeye basliyoruz","6911467c":"sns.barplot( x = \"classification\", y = df1.classification.index, data = df1 )","1aeebb13":"df1.groupby([\"classification\"])[\"structureMolecularWeight\"].std()\n\n# Bu group by isleminin amaci ise bir sonraki grafikte gorecegimiz barplot grafigindeki ince sapmalari belirten cubuklarin daha net anlasilmasi icindir.","3175ea02":"plt.figure(figsize=(12,8))\nax = sns.barplot( x = \"classification\", y = \"structureMolecularWeight\", data = df1 )\n\n# Classification degiskenine ait siniflarin Molekul agirligina gore sirlamasini gorebiliyoruz\n# Yani en fazla molekul agirlina sahip olan sinif OXIDOREDUCTASE olarak gozukmekte\n# Bu dagilimda en fazla standart sapmaya sahip sinif ise TRANSPORT PROTEIN olarak gozlenmekte ","23962701":"df1.groupby([\"classification\",\"macromoleculeType\"])[\"structureMolecularWeight\"].mean()","97ea5a84":"plt.figure(figsize=(15,9))\nax = sns.barplot( x = \"classification\", y = \"structureMolecularWeight\",hue=\"macromoleculeType\", data = df1 )\n\n# Bir onceki grafikten farkli olarak bu grafikte ele olay ikinci bir kirilimi eklemis olmak\n# Protein siniflari X eksinin de iken Y eksenin de proteinlerin molekuler agirliklari var\n# Ve ayni zaman da bu siniflarin kendi icerisinde dagilimlari var ve  bu proteinlerin molekul tiplerine gore gozlenmekte\n# Simdi Yukari daki GROUP BY islemine baktimiz da aslinda bu dagilimlarin saglamasi da gozukmekte ","2a7ff504":"(sns\n .FacetGrid(df1,\n            hue= \"classification\",\n           height= 7.5,\n           xlim= (0, 300000))\n .map(sns.kdeplot, \"structureMolecularWeight\",shade = True)\n .add_legend())\n\n# Proteinlerin ait olduklari siniflara da molekul tipine gore frekanslarini gorebiliyoruz\n# Molekul agirliginin siniflara gore frekanslarinin daha farkli oldugunu anlayabiliyoruz\n# Ornegin sinif TRANSCRIPTION olan proteinlerin molekul agirliklari 0-5000 arasinda iken frekans yogunlugu tavan yapmis durumda\n# Daha sonra 5000-10000 molekul agirliginda ise IMMUNE SYSTEM sinifina ait proteinler frekans sikligi olarak en fazla olan duruyor\n# Bir yerden sonra molekul agirli artan bir trende burundugunde artik tum siniflarin her molekul agirliginda neredeyse ayni frekans\n## yogunluguna sahip oldugunu gorebiliyoruz. ","c49afda6":"sns.pairplot(df1,kind=\"reg\")\n\n# Bu gorsel ile suna deginmis olduk Scatter Plot bilindigi uzere sacilim ve bize korelasyon hakkinda bilgi vermekte.\n# Ayni zamanda degiskenlerin birbiri ile olan iliskisini de gostermek acisindan bir regresyon egrisi ciziyoruz. \n# Ortaya cikan grafikte cok fazla detay oldugu icin bu grafiksel sonuclarin birde istatistiksel kismini yani korelasyon kismini ele alip yorum yapalim.","87995239":"df1.corr()\n\n# Olayin istatistiksel kismina gecildiginde iki sonuc goze carpmakta 0.349965 ve 0.990821\n# Iste bu iki sonuc residueCount - resolution arasinda pozitife yakin bir iliski oldugunu gostermekte.\n# Kalintilar ile cozulme arasinda artan bir iliski gorulmekte ama fazla denemez\n\n# Daha sonra structureMolecularWeight - residueCount arasinda yuksek pozitif yonlu bir iiski oldugu gozlenmekte\n# Yani molekul agirligi artarken cozulme degeri de artmakta.  ","4a242538":"plt.figure(figsize=(12,6))\nax = sns.scatterplot(x = \"structureMolecularWeight\", y = \"residueCount\" ,hue=\"classification\",data=df1)\n\n# Bu 0,99 iliskiye bakarken bir de fazladan bilgi almak adina HUE ile Classification yani siniflari da ekliyoruz.\n# Molekul siniflarina gore molekul agirli ve kalinti(tortular) arasindaki iliskinin neye gore arttigi hakkinda biraz daha bilgi sahibi olmus olduk.","49b9d018":"plt.figure(figsize=(12,6))\nax = sns.scatterplot(x = \"resolution\", y = \"residueCount\" ,hue=\"classification\",data=df1)\n\n# Ikinci yuksek sayilabilecek 0,34 iliski incelendigin de ise bunlarin hangi siniflar bazli oldugu ve yayilimda yine hangilerinin etkili oldugunu anlayabiliriz.\n# Genel olarak bir yere kadar iki degisken arasindaki iliski birlikte artarken ardindan bu trend durmus.\n# Bunun arkasindaki detaylar ise biraz da is bilgisine dayanmaktadir. \n","99a2600d":"df.isnull().sum()","dcafb9a2":"msno.bar(df) \n#Grafikteki barlar\u0131n y\u00fcksekli\u011fi total veriye oranla orada olan say\u0131y\u0131 veriyor. \u00d6rne\u011fin structerId de bo\u015f de\u011fer yok diyebiliriz.","82a6ab90":"msno.heatmap(df)","255a5a94":"baz = df1[df1[\"phValue\"]  > 7 ][\"phValue\"]","32ac3c9d":"notr = df1[df1[\"phValue\"]  == 7 ][\"phValue\"]","172a9ccb":"asit = df1[df1[\"phValue\"]  < 7 ][\"phValue\"]","2dcbe57b":"sozluk = {\"Asit\": asit,\n          \"Notr\": notr,\n          \"Baz\": baz\n         }","1e733c11":"phtablo = pd.DataFrame(sozluk)","8e40faea":"phtablo.count()","edd61f4a":"phtablo.count().plot.barh()","6dc02b7c":"from sklearn.model_selection import train_test_split","89a0f8a4":"x = df.drop(\"classification\", axis = 1)\ny = df[[\"classification\"]]","45c432a4":"x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.2, random_state=42)","d65318d1":"columns = x_train.select_dtypes([\"int64\", \"float64\"])\ncolumns","af9f276e":"lower_and_upper = {}\nx_train_copy = x_train.copy()\nfor col in columns.columns:\n    q1 = x_train[col].describe()[4]\n    q3 = x_train[col].describe()[6]\n    iqr = q3 - q1\n    lowerbound = q1 - (1.5*iqr)\n    upperbound = q3 + (1.5*iqr)\n    lower_and_upper[col] = (lowerbound, upperbound)\n    x_train_copy.loc[(x_train_copy.loc[:,col] < lowerbound), col] = lowerbound * 0.75\n    x_train_copy.loc[(x_train_copy.loc[:,col] > upperbound), col] = upperbound * 1.25","20b00419":"lower_and_upper","08b78740":"x_test_copy = x_test.copy()\nfor col in columns.columns:\n    x_test_copy.loc[(x_test_copy.loc[:,col] < lower_and_upper[col][0]), col] = lower_and_upper[col][0] * 0.75\n    x_test_copy.loc[(x_test_copy.loc[:,col] > lower_and_upper[col][1]), col] = lower_and_upper[col][1] * 1.25","f28f2759":"sns.boxplot(x_test_copy.residueCount)","62c8418e":"sns.boxplot(x_train_copy.residueCount)","55bbfc3a":"sns.boxplot(x_train_copy.resolution)","f93852c7":"dfnum = df.select_dtypes([\"int64\", \"float64\"])","be16f371":"dfnum.drop(columns=['phValue'], inplace = True)","8ccc8b61":"dfnum.isnull().sum()","7a32c143":"(dfnum.isnull().sum(axis = 1) > 3).sum()","c58045cf":"dfnum.loc[dfnum.isnull().sum(axis = 1) > 3]","ffe08d02":"dfnum = dfnum.loc[dfnum.isnull().sum(axis = 1) <= 3]","14f5a735":"df.isnull().sum()","4373a78e":"df[\"resolution\"].isnull().sum()","f0b02db0":"df[\"resolution\"].describe()","42007e7b":"df['resolution'].fillna(df.resolution.mean(), inplace = True)","dda9e996":"df[\"resolution\"].isnull().sum()","d19776b8":"df[\"crystallizationTempK\"].isnull().sum()","ac8dc7b8":"df[\"crystallizationTempK\"].describe()","a99c08dd":"df['crystallizationTempK'].fillna(df.crystallizationTempK.mean(), inplace = True)","dd92f532":"df[\"crystallizationTempK\"].isnull().sum()","ef06e45e":"df[\"crystallizationTempK\"].describe()","d52b14c4":"df[\"densityMatthews\"].isnull().sum()","1d2228f6":"df[\"densityMatthews\"].describe()","11be6746":"df['densityMatthews'].fillna(df.densityMatthews.mean(), inplace = True)","1741fbef":"df[\"densityMatthews\"].isnull().sum()","05ee30cd":"df[\"densityMatthews\"].describe()","23fb1909":"df[\"densityPercentSol\"].describe()","190f9af4":"df['densityPercentSol'].fillna(df.densityPercentSol.mean(), inplace = True)","4443fd79":"df[\"densityPercentSol\"].isnull().sum()","f4c09d38":"df[\"densityPercentSol\"].describe()","cb77f77a":"df.isnull().sum()","5230c692":"df","6f0c30e1":"## 2) Verinin G\u00f6rselle\u015ftirilmesi (Data visualization)","b681cebf":"## 4) Eksik Veri Doldurma","3fc24f8e":"* **Bir group by islemi yaparak barplot yapmadan once siniflarin molekul tipine gore agirliklarinin ortalamasini gorelim**\n* **Boylece gorseldeki dagilimin da matematiksel kismini net bir sekilde gormus olacagiz**","6256a184":"## 3) Ayk\u0131r\u0131 De\u011fer Temizleme(Outlier Cleaning)","8270a071":"### 1.1) Kategorik De\u011fi\u015fkenler","6f5147c9":"### 1.2) S\u00fcrekli De\u011fi\u015fkenler","c2f2e9d2":"### resolution","4e4b4d40":"### densityMatthews","892a945a":"## 1) Verinin Ke\u015ffi (EDA)","171e61c7":"### densityPercentSol","73f24384":"# Protein Veri Seti","6457f5f2":"* **Iki adet sonucumuz vardi 0,99 ve 0,34 sirasiyla bunlari grafik uzerinde de inceleyelim** ","c867149e":"* **structureId:** Yapisal ID.\n* **classification:** Belirtilen kumeler, siniflar .\n* **experimentalTechnique:** Arastirmada kullanilan teknikler, yontemler.\n* **macromolecule Type:** Makromolek\u00fcl Tipi. \n* **residueCount:** Tortu Sayisi.\n* **resolution:** Bir bile\u015fi\u011fin, kendisini olu\u015fturan unsurlara ayr\u0131lmas\u0131; erime; \u00e7\u00f6z\u00fcnme; ayr\u0131\u015fma.\n* **structureMolecularWeight:** Yapinin molekul agirligidir.\n* **crystallizationMethod:** Kristallestirme icin kullanilan metod. \n* **crystallizationTempK:** Kristallestirme sicakligi Kelvin cinsinden.\n* **densityMatthews:** Kristale ait yogunluk.\n* **densityPercentSol:** Yogunluk yuzdesi.\n* **pdbxDetails:** pH degerine ait detaylar.\n* **phValue:** pH degeri \n* **publicationYear:** Verinin yayinlanma yili.","71f4bdc4":"### 2.2) phValue G\u00f6rselle\u015ftirmesi","1757a12c":"### crystallizationTempK","e87906e4":"* **Veri seti Proteinlerin yap\u0131sal dizinleri ile alakalidir.**\n\n* **Veriler Protein Data Bank alinmistir.**\n\n* **Yapisal biyologlar atomlarin molekuldeki yerlerini belirlemek icin \"X-ray crystallography, NMR spectroscopy, and cryo-electron microscopy\" bu uc yontemi kullanmistir ki bu yontemler bizim  degiskenlerimizin icerisinde barinmaktadir.**","e70878e1":"* **Gorsellestirme yapilacagi zaman degiskenlerin siniflarinin 10'dan az olmamasi onemlidir.Cunku bu durumun aksi gorsellestirmeyi zorlastirmakta ve gerekli bilgiyi elde ederken engel teskil etmektedir. Ayni zamanda kirilmalari gostermek adina dusuk siniflarin olmasi da onemlidir.**\n\n* **Bu sebepten oturu Classification degiskenin en cok sikliga sahip 7 sinifini alarak devam ediyoruz.**","a41ecbd6":"* **T\u00fcm Eksikler giderilmi\u015f oldu**","377ca35e":"### 2.1) Missing Value G\u00f6rselle\u015ftirme"}}