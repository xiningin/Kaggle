{"cell_type":{"f754ac97":"code","20203811":"code","488ade34":"code","c6920364":"code","90a2ad3b":"code","7c7bdde7":"code","9f522a4f":"code","d0bc7597":"code","a9384e64":"code","88b960f1":"code","41431b6d":"code","a726e66b":"code","1b2ae541":"code","4c258ce3":"code","d21a7c84":"markdown","fc148b2e":"markdown","cd8df83c":"markdown","a1631260":"markdown","9bcd9bcc":"markdown","653ab101":"markdown","b6ddede5":"markdown","371a58c3":"markdown","e99729c4":"markdown","205d9e0d":"markdown","30ea0364":"markdown","21afa1ba":"markdown","1b45f1f2":"markdown","69be30ab":"markdown","0a1ee50f":"markdown","f8489016":"markdown","9be7f87a":"markdown","90b7c578":"markdown","3c439fdd":"markdown","594b79d5":"markdown","37a0c9fc":"markdown"},"source":{"f754ac97":"import pandas as pd\npd.plotting.register_matplotlib_converters()\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","20203811":"data = pd.read_csv('\/kaggle\/input\/avocado-prices\/avocado.csv')\ndata.head()","488ade34":"data.dtypes","c6920364":"data.Date = pd.to_datetime(data.Date)\ndata.dtypes","90a2ad3b":"data.isnull().sum()","7c7bdde7":"data['AveragePrice'].agg(['min','max','mean','std'])","9f522a4f":"data['month_name'] = data.Date.dt.month_name()\ndata.head()","d0bc7597":"date_price = data[['year','month_name','AveragePrice']]\n# Checking which years we have in our data\ndate_price.year.unique()","a9384e64":"# Convertig 'month_names' in category data type ir order to plot de graph sorted by month\nmonth_ordered = ['January','February','March','April','May','June','July','August','September','October','November','December']\ndate_price['month_name'] = pd.Categorical(date_price['month_name'], categories=month_ordered, ordered=True)\n\n# Slicing by year\nprice2015 = date_price.loc[date_price['year'] == 2015].groupby('month_name').mean()\nprice2016 = date_price.loc[date_price['year'] == 2016].groupby('month_name').mean()\nprice2017 = date_price.loc[date_price['year'] == 2017].groupby('month_name').mean()\nprice2018 = date_price.loc[date_price['year'] == 2018].groupby('month_name').mean()","88b960f1":"sns.set_style('darkgrid')\nplt.figure(figsize=(12,6))\nsns.lineplot(x= price2015.index, y= price2015.AveragePrice, label='2015')\nsns.lineplot(x= price2016.index, y= price2016.AveragePrice, label='2016')\nsns.lineplot(x= price2017.index, y= price2017.AveragePrice, label='2017')\nsns.lineplot(x= price2018.index, y= price2018.AveragePrice, label='2018')\nplt.xlabel('Month')","41431b6d":"sns.set_style('darkgrid')\nfig, ax = plt.subplots(ncols=2, nrows=1, figsize=(20,6))\nfig.suptitle('Average Price distribution per Type of Avocado')\n\n# Swarm plot Axes\nax[0].set_title('Average Prices per Type')\nsns.swarmplot(ax=ax[0], x= data.type, y= data.AveragePrice)\n# KDE plot Axes\nax[1].set_title('KDE for Average Price')\nsns.kdeplot(ax=ax[1], data=data.loc[data['type'] == 'conventional']['AveragePrice'], shade=True, label='Conventional')\nsns.kdeplot(ax=ax[1], data=data.loc[data['type'] == 'organic']['AveragePrice'], shade=True, label='Organic')","a726e66b":"region = data[['type','region','Total Volume']]\nregion = region.loc[~region['region'].isin(['TotalUS','West','SouthCentral','Northeast','Southeast','Plains','GreatLakes','Midsouth region',\\\n                                            'Midsouth'])]","1b2ae541":"\nregion_total = region[['region','Total Volume']].groupby('region').sum().sort_values(by='Total Volume', ascending=False).iloc[0:5]\nregion_organic = region.loc[(region.type == 'organic') & (region.region.isin(list(region_total.index)))][['region','Total Volume']]\nregion_organic = region_organic.groupby('region').sum().sort_values(by='Total Volume', ascending=False)\nplt.figure(figsize=(14,6))\nsns.barplot(x=region_total.index, y=region_total['Total Volume'], color='purple', label='Conventional')\nsns.barplot(x=region_organic.index, y=region_organic['Total Volume'], color='blue', label='Organic')\nplt.legend(fontsize=14)","4c258ce3":"california = data.loc[data.region == 'California']\ncalifornia['month_name'] = pd.Categorical(california['month_name'], categories=month_ordered, ordered=True)\nfig, ax= plt.subplots(1,2, figsize=(25,6))\nplt.suptitle('Price Variation x Amount of Avocado sold in California')\nsns.lineplot(ax=ax[0], x=california['month_name'], y = california['AveragePrice'])\nsns.lineplot(ax=ax[1], x=california['month_name'], y = california['Total Volume'], color='purple')","d21a7c84":"As seen, the Date column was read as string, so let's convert it to Datetime format.","fc148b2e":"# Exploratory Data Analysis on Avocado Prices","cd8df83c":"Let's make a stacked bar plot so we can see Total Volume sold per type of Avocado. Let's keep with the 5 top selling cities.","a1631260":"It seems that organic avocado prices use to vary more than the conventional ones. Also, the average price tend to be higher usually.","9bcd9bcc":"It seem's that people tend to buy less avocado when the prices raise. I would buy less, either! What about you?","653ab101":"First of all, let's import our data and take a look on the Data frame.","b6ddede5":"Selecting columns we need:","371a58c3":"Let's check our data frame columns data types","e99729c4":"Let's take a look at density per type of avocado.","205d9e0d":"Nice! There aren't missing values in our data frame so we can jump to the fun part!","30ea0364":"I wonder if the average price is increasing these years. Let's check it!\n\nFirst of all, we need to create our 'month_name' column.","21afa1ba":"So California is the avocado land. Let's check the price variation and the quantity sold in the same period, side by side. ","1b45f1f2":"Thank you for spending sometime checking my work! That's my first data analysis here on Kaggle. I would appreciate your comment or tips to improve my analysis skills. Feel free to say something!\n\n![](https:\/\/www.pngkit.com\/png\/detail\/70-706212_nutrition-for-nerds-nutrition-manga-food-and-wine.png)","69be30ab":"## Average Prices distribution per Type of Avocado","0a1ee50f":"Let's take an overview off the price variaton in the entire dataset.","f8489016":"### Notice it\n- Avocado tend to be cheaper at the beginning and end of each year.\n- There was a big increase in avocado prices in 2017 between July and September.","9be7f87a":"### Which region sold more avocado? ","90b7c578":"\nThis data set has sales count for the US cities and regions, but that's not interesting in our analysis, so let's filter this out so we can focus on the cities.","3c439fdd":"\nUntil now we just checked the price variation in each year, ignoring other variables. What else can we discover?","594b79d5":"It looks there was a moment where people would buy a lot of avocado without feeling guilty!","37a0c9fc":"Looking for missing values:"}}