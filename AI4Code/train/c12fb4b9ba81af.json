{"cell_type":{"909c55cf":"code","debbf845":"code","25c3bdf5":"code","2704e45a":"code","7b9d02ca":"code","b688937b":"code","0f642a7a":"code","8715f716":"code","2a9da10d":"code","a46ab689":"code","99d4e624":"code","816a311c":"code","5240922a":"code","6899f92b":"code","2e6bf331":"markdown","09825d6e":"markdown","cd75a4f8":"markdown","2ab1a2b5":"markdown","5632d3c4":"markdown","598e9bd3":"markdown","25711a09":"markdown"},"source":{"909c55cf":"import os\nimport ast\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom sklearn.utils import shuffle\n\npd.options.display.max_rows = 20\nsns.set(style='darkgrid')","debbf845":"for dirname, _, filenames in os.walk('\/kaggle\/input\/quickdraw-doodle-recognition\/train_simplified\/'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n        break\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","25c3bdf5":"files_directory = os.listdir('\/kaggle\/input\/quickdraw-doodle-recognition\/train_simplified')\nlen(files_directory)","2704e45a":"number_categories = 50\nfiles_directory = os.listdir('\/kaggle\/input\/quickdraw-doodle-recognition\/train_simplified')[:number_categories]\ntrain = pd.DataFrame()\nfor file in files_directory:\n    train = train.append(pd.read_csv('\/kaggle\/input\/quickdraw-doodle-recognition\/train_simplified\/'+file, index_col='key_id', usecols=[1,2,3,5]))","7b9d02ca":"train = shuffle(train, random_state=123)\ntrain","b688937b":"print(\"Train number of rows: \", train.shape[0])\nprint(\"Train number of columns: \", train.shape[1])\nprint(\"Train set features: \", train.columns.values)\nprint(\"Train number of label categories: \", number_categories)\nprint(\"Train label categories: \", train['word'].unique())","0f642a7a":"count_gp = train.groupby(['word']).size().reset_index(name='count').sort_values('count', ascending=False)\ntop_10 = count_gp[:10]\nbottom_10 = count_gp[-10:]","8715f716":"ax_t10 = sns.barplot(x=\"word\", y=\"count\", data=top_10, palette=\"coolwarm\", ci=500)\nax_t10.set_xticklabels(ax_t10.get_xticklabels(),rotation=40, ha=\"right\")\nplt.show()","2a9da10d":"ax_b10 = sns.barplot(x=\"word\", y=\"count\", data=bottom_10, palette=\"BrBG\")\nax_b10.set_xticklabels(ax_b10.get_xticklabels(), rotation=40, ha='right')\nplt.show()","a46ab689":"sns.countplot(x=\"recognized\", data=train)\nplt.show()","99d4e624":"train['recognized'].value_counts()","816a311c":"rec_gp = train.groupby([\"word\",\"recognized\"]).size().reset_index(name=\"count\")\nrec_true = rec_gp[rec_gp['recognized']==True].rename(index=str, columns={\"recognized\":\"recognized_true\", \"count\":\"count_true\"})\nrec_false = rec_gp[rec_gp['recognized']==False].rename(index=str, columns={\"recognized\":\"recognized_false\", \"count\":\"count_false\"})\nrec_gp = rec_true.set_index('word').join(rec_false.set_index('word'), on='word')\nrec_gp","5240922a":"train[:1]['drawing'].values[0]","6899f92b":"words = train['word'].tolist()\ndrawings = [ast.literal_eval(pts) for pts in train[:9]['drawing'].values]\n\nplt.figure(figsize=(10,10))\nfor i, drawing in enumerate(drawings):\n    plt.subplot(330 + (i+1))\n    for x, y in drawing:\n        plt.plot(x, y, marker=\".\")\n        plt.tight_layout()\n        plt.title(words[i])\n        plt.axis('off')","2e6bf331":"# \u67e5\u770b\u6bcf\u4e2a\u7c7b\u522b\u4e2d\u8ba4\u77e5\u6b63\u786e\u548c\u9519\u8bef\u7684\u6570\u91cf","09825d6e":"\u53ea\u63d0\u53d6\u524d50\u4e2acsv\u7684\u6587\u4ef6\u5185\u5bb9\u4fdd\u5b58\u8fdbtrain\u4e2d\uff0c\u4e0d\u7136\u5185\u5b58\u50a8\u5b58\u7a7a\u95f4\u4e0d\u591f\u7528","cd75a4f8":"# \u56fe\u50cf\u5316\u8f93\u5165\u6570\u636e","2ab1a2b5":"# \u5bfc\u5165\u7b80\u6613\u5316\u5904\u7406\u7684\u6570\u636e","5632d3c4":"# **\u6570\u636e\u5206\u6790**","598e9bd3":"# \u5229\u7528SNS\u67f1\u72b6\u56fe\u663e\u793a\u6570\u636e\u91cf\u524d10\u540d\u548c\u540e10\u540d\u7684\u7c7b\u522b","25711a09":"\u968f\u673a\u6253\u4e71train\uff0crandom_state\u4e3a\u968f\u673a\u6253\u4e71\u7684\u79cd\u5b50"}}