{"cell_type":{"bd0ba14c":"code","bb42d72c":"code","05dbcf81":"code","b11c3764":"code","6d3220d2":"code","41c70859":"code","b55d1fbc":"code","8a4ec6e1":"code","335cb744":"code","6e0dc803":"code","bcd76fdb":"code","16cf71ee":"code","95f3915b":"code","ad6b483c":"code","ad82aba9":"code","771800df":"code","e4d8c7f9":"code","1c9ff0e1":"code","1de36c5d":"code","d43dfaa5":"markdown","bd79d3bb":"markdown","d8801a74":"markdown","41648639":"markdown","f8a5e71c":"markdown","294659ae":"markdown","82350179":"markdown","85a6c137":"markdown","7cdb19e0":"markdown"},"source":{"bd0ba14c":"import numpy as np\nimport pandas as pd\nimport os\nimport sys\nimport sqlite3\nimport matplotlib.pyplot as plt\nfrom IPython.display import Markdown as md\n\nimport warnings\nwarnings.filterwarnings('ignore')\npd.set_option('display.max_colwidth', None)","bb42d72c":"create_engine = sqlite3.connect('..\/input\/clubhouse-dataset\/Clubhouse_Dataset_v1.db')\ncur = create_engine.cursor()\ncur.execute(\"SELECT * FROM user\")\ngetAllData = cur.fetchall()","05dbcf81":"df = pd.DataFrame(getAllData)\ndf.columns = ['user_', 'fullname', 'photo_url', 'username', 'twitter', 'instagram', 'numberfollowers', 'numberfollowing', 'created_at', 'invitebyuser_']","b11c3764":"data = df.copy()","6d3220d2":"data['created_at'] =  pd.to_datetime(data['created_at'])","41c70859":"data.info()","b55d1fbc":"data.head(2)","8a4ec6e1":"data['created_at_month_year'] = data['created_at'].dt.strftime('%Y-%m')","335cb744":"number_user_by_month_year = data['user_'].groupby(data['created_at_month_year']).nunique()\nnumber_user_by_month_year.plot(x ='created_at_month_year', y='user_', \n                               kind='bar', \n                               zorder=2.3,\n                               title=\"Total Volume based on Month-Year\", \n                               ylabel=\"Number of Users\", \n                               xlabel=\"Month\/Year\")\nax = plt.gca()\nax.tick_params(axis='x', colors='blue')\nax.tick_params(axis='y', colors='red')\n\n# plt.ylim(30000, 1000000)\nplt.show()","6e0dc803":"getlowhigh = number_user_by_month_year.sort_values().reset_index()\nlowest = getlowhigh.iloc[0,:]['user_']\nlowest_monthyear = getlowhigh.iloc[0,:]['created_at_month_year']\n\nhighest = getlowhigh.iloc[-1,:]['user_']\nhighest_monthyear = getlowhigh.iloc[-1,:]['created_at_month_year']\n\naverage_user = getlowhigh[\"user_\"].mean()\n\nprint(\"Lowest is {} users at {} registered and Highest is {} users at {} registered\".format(lowest, lowest_monthyear, highest, highest_monthyear))\nprint(\"\\nAverage is {} users\".format(round(average_user,2)))","bcd76fdb":"getlowhigh.columns = [\"Month\/Year\",\"Total Volume of Users\"]","16cf71ee":"getlowhigh.loc['Total',1:]= getlowhigh.sum(axis=0)\ngetlowhigh = getlowhigh.where(pd.notnull(getlowhigh), None)\ngetlowhigh['Total Volume of Users'] = getlowhigh['Total Volume of Users'].astype(int)\ngetlowhigh","95f3915b":"famous_user = data[data['numberfollowers'] == data['numberfollowers'].max()]","ad6b483c":"famous_user","ad82aba9":"socialmedia = data.copy()","771800df":"socialmedia['twitter'] = socialmedia['twitter'].replace(\"null\", np.nan, regex=True)\nsocialmedia['instagram'] = socialmedia['instagram'].replace(\"null\", np.nan, regex=True)","e4d8c7f9":"use_Twitter = socialmedia[~socialmedia['twitter'].isnull()]\nnot_use_Twitter = socialmedia[socialmedia['twitter'].isnull()]\n\nuse_Instagram = socialmedia[~socialmedia['instagram'].isnull()]\nnot_use_Instagram = socialmedia[socialmedia['instagram'].isnull()]","1c9ff0e1":"val_twitter = [len(use_Twitter),len(not_use_Twitter)]\nlabel_twitter = \"Have Twitter Account\", \"Not have Twitter Account\"\n\nplt.pie(val_twitter, \n        labels=label_twitter, \n        autopct='%1.2f%%', \n        startangle=90,\n        shadow = True)\n\nplt.title('Volume of User Have Twitter Account')\nplt.axis('equal')\nplt.show()","1de36c5d":"val_instagram = [len(use_Instagram),len(not_use_Instagram)]\nlabel_instagram = \"Have Instagram Account\", \"Not have Instagram Account\"\n\nplt.pie(val_instagram, \n        labels=label_instagram, \n        autopct='%1.2f%%', \n        startangle=90,\n        shadow = True)\n\nplt.title('Volume of User Have Instagram Account')\nplt.axis('equal')\nplt.show()","d43dfaa5":"Copy the original **df**. Reason: if something happen, back to original :P","bd79d3bb":"# Get Data","d8801a74":"# Total Volume of User based on Month\/Year","41648639":"User have Twitter's account","f8a5e71c":"# Famous User","294659ae":"Study the famous user based on the number of followers","82350179":"# Social Media","85a6c137":"Walkthrough the dataset","7cdb19e0":"# Start Here"}}