{"cell_type":{"827920c5":"code","057c52e2":"code","86411b52":"code","a857d086":"code","2cfe42ce":"code","8588a1ee":"code","f3f0e116":"code","9c3a8051":"code","71f85d5d":"code","7eaee083":"code","63342c08":"code","18ff6de7":"markdown","29550e7d":"markdown","17d9a643":"markdown","0a22bde5":"markdown","651c2337":"markdown","34e6a96f":"markdown","a2aad47d":"markdown","df65a4ac":"markdown","f58fd1b5":"markdown","ddb0db38":"markdown","1e285b72":"markdown","53617ee0":"markdown","35fe0842":"markdown","648fa764":"markdown"},"source":{"827920c5":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom warnings import filterwarnings\nfilterwarnings('ignore')\n\ncolors = ['#B1EDED','#B1B2ED','#1DE7ED','#1DA5ED','#1D50ED','#16548E']","057c52e2":"df = pd.read_csv('..\/input\/kaggle-survey-2021\/kaggle_survey_2021_responses.csv')\ndf.head()","86411b52":"fig = go.Figure(data=[go.Pie(labels=df['Q2'][1:].value_counts().index, values=df['Q2'][1:].value_counts().values, textinfo='label+percent')])\nfig.update_traces(marker=dict(colors=colors[2:]))\nfig.update_layout(title_text='Gender Distribution', showlegend=False)\nfig.show()","a857d086":"man = df[df['Q2'] == 'Man']['Q1'].value_counts()\nwoman = df[df['Q2'] == 'Woman']['Q1'].value_counts()\ntextonbar_man = [round((m\/(m+w))*100, 1) for m, w in zip(man.values, woman.values)]\ntextonbar_woman = [round((w\/(m+w))*100, 1) for m, w in zip(man.values, woman.values)]\n\nfig = go.Figure(data=[\n    go.Bar(name='Man', x=man.index, y=man.values, text=textonbar_man, marker_color=colors[2]),\n    go.Bar(name='Woman', x=woman.index, y=woman.values, text=textonbar_woman, marker_color=colors[3])\n])\nfig.update_traces(texttemplate='%{text:.3s}%', textposition='inside')\nfig.update_layout(barmode='stack', title_text='Age distribution by gender', xaxis_title='Age', yaxis_title='Counts')\nfig.show()","2cfe42ce":"df['Q3'] = df['Q3'].str.replace(', Islamic Republic of...', '')\nmap_df = pd.DataFrame()\nmap_df['country'] = df['Q3'][1:].value_counts().index\nmap_df['count'] = df['Q3'][1:].value_counts().values\n\nfig = px.choropleth(map_df, locations=\"country\", locationmode='country names',\n                     hover_name=\"country\", color=\"count\", color_continuous_scale=colors,\n                    title='Country wise Distribution of Kagglers')\nfig.show()","8588a1ee":"x=df['Q5'][1:].value_counts().values[::-1]\ny=df['Q5'][1:].value_counts().index[::-1]\npercent = [round(((i\/sum(x)) * 100), 1) for i in x]\nfig = go.Figure(data=[go.Bar(\n            x=x,\n            y=y,\n            text=percent,\n            textposition='inside',\n            texttemplate='%{text:.3s}%',\n            orientation='h',\n            marker_color=colors[2]\n        )])\n\n\nfig.update_layout(title='Current role of kagglers', xaxis_title='counts', yaxis_title='Current role')\nfig.show()","f3f0e116":"fig = go.Figure(data=[go.Pie(labels=df['Q4'][1:].value_counts().index, values=df['Q4'][1:].value_counts().values, textinfo='label+percent')])\nfig.update_traces(marker=dict(colors=colors[2:]))\nfig.update_layout(title_text='Formal Education attained or plan to attain in next 2 year', showlegend=False)\nfig.show()","9c3a8051":"fig = px.funnel_area(names=df['Q6'][1:].value_counts().index, values=df['Q6'][1:].value_counts().values, title='Coding Experince')\nfig.update_traces(marker=dict(colors=colors[::-1]))\nfig.show()","71f85d5d":"df_py = df[(df['Q7_Part_1'] == 'Python')]\ndf_r = df[(df['Q7_Part_2'] == 'R')]\n\nfig = go.Figure(data=[\n    go.Bar(name='Python', x=df_py['Q1'].value_counts().index, y=df_py['Q1'].value_counts().values, marker_color=colors[2]),\n    go.Bar(name='R', x=df_r['Q1'].value_counts().index, y=df_r['Q1'].value_counts().values, marker_color=colors[3])\n])\n\nfig.update_layout(barmode='group', title='Kagglers using Python and R on regular basis by Age', xaxis_title='Age', yaxis_title='Counts')\nfig.show()","7eaee083":"df_env = pd.DataFrame()\ndf_env['dev_env'] = [df[col][1:].value_counts().index[0] for col in df.columns[21:34]]\ndf_env['counts'] = [df[col][1:].value_counts().values[0] for col in df.columns[21:34]]\ndf_env.sort_values(by='counts', ascending=False, inplace=True)\n\nfig = px.treemap(df_env, path=[px.Constant(\"all\"),'dev_env'], values='counts', color='counts', color_continuous_scale=colors)\nfig.update_traces(root_color=\"lightgrey\")\nfig.update_layout(title='Development environment used by kagglers')\nfig.show()","63342c08":"df_std = df[df['Q5'] == 'Student']\ndf_ds = df[df['Q5'] == 'Data Scientist']\n\ndf_note = pd.DataFrame()\ndf_note['std_notebook'] = [df_std[col][1:].value_counts().index[0] for col in df.columns[34:51]]\ndf_note['std_counts'] = [df_std[col][1:].value_counts().values[0] for col in df.columns[34:51]]\n\ndf_note['ds_notebook'] = [df_ds[col][1:].value_counts().index[0] for col in df.columns[34:51]]\ndf_note['ds_counts'] = [df_ds[col][1:].value_counts().values[0] for col in df.columns[34:51]]\ndf_note.sort_values(by=['std_counts', 'ds_counts'], ascending=False, inplace=True)\n\nfig = go.Figure(data=[\n    go.Bar(name='Student', x=df_note['std_notebook'], y=df_note['std_counts'], marker_color=colors[2]),\n    go.Bar(name='Data Scientist', x=df_note['ds_notebook'], y=df_note['ds_counts'], marker_color=colors[3])\n])\n\n\nfig.update_layout(barmode='group', title='Cloud notebooks used by kagglers', xaxis_title='Notebook', yaxis_title='Counts',\n                 height=600, width=900)\nfig.show()","18ff6de7":"#### Most of the python users are between age 18-21 and R users are between age 25-29.","29550e7d":"## Gender Distribution","17d9a643":"#### Almost 80% of kagglers are men and only 19% are women","0a22bde5":"#### So the most of the kagglers are pursuing master's and bacherlor's degree or they will pursue in next two years. Great to see 11% of kaggler's have doctoral degree.","651c2337":"## Thank you ","34e6a96f":"#### Most of the Students and Data Scientist use colab notebooks. Students ratio is higher than Data Scientist for lot of notebooks but we can see for Azure Notebooks, Amazon Sagemaker Studio Notebooks and Databricks Collaborative Notebooks data scientist ratio is high.","a2aad47d":"## Country wise distribution","df65a4ac":"# Kaggle Survey - 2021 Analysis Plotly","f58fd1b5":"## Load Data","ddb0db38":"#### Most of the kagglers (30%) have 1-3 years of coding experience and 22% kaggler's have less than 1 year of experince.","1e285b72":"#### 16k kagglers use jupyter notebook and 10k use visual studio code on regular basis.","53617ee0":"![](https:\/\/miro.medium.com\/max\/846\/1*vdNc_eV8fY9OxikxGW9nWg.png)","35fe0842":"#### We can see most of kagglers are from India and USA","648fa764":"#### Overall 26% of kagglers are student and 14% are data scientist. I think most of the students using kaggle for learning purpose and want to make their carrer in data science and machine learning field."}}