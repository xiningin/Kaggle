{"cell_type":{"4c5121ad":"code","1a964ec1":"code","dbec680b":"code","5568831a":"code","8594ab96":"code","ef97683e":"code","e1b89063":"code","2847f847":"code","ba05ab82":"code","c34abee3":"code","8ec73661":"code","02aae6e6":"code","4547ea83":"code","f3aaabb4":"code","9a03d8a8":"code","f33cdd06":"code","4063357b":"code","4ed4470f":"code","9db44f39":"code","ce65c904":"code","480a60d0":"markdown","4300e87a":"markdown","7bbc88df":"markdown","5b731cd5":"markdown","a09cbc06":"markdown","b45ada8c":"markdown","f83c0aa8":"markdown","5b86c6d1":"markdown","9f6ab4de":"markdown","a8ff7e76":"markdown","2b5f18c8":"markdown","9b86a51c":"markdown","9d5731b2":"markdown"},"source":{"4c5121ad":"import numpy as np # \u6570\u7ec4\u5e38\u7528\u5e93\nimport pandas as pd # \u8bfb\u5165csv\u5e38\u7528\u5e93\nfrom patsy import dmatrices # \u53ef\u6839\u636e\u79bb\u6563\u53d8\u91cf\u81ea\u52a8\u751f\u6210\u54d1\u53d8\u91cf\nfrom sklearn.linear_model import LogisticRegression # sk-learn\u5e93Logistic Regression\u6a21\u578b\nfrom sklearn.model_selection import train_test_split, cross_val_score # sk-learn\u5e93\u8bad\u7ec3\u4e0e\u6d4b\u8bd5\nfrom sklearn import metrics # \u751f\u6210\u5404\u9879\u6d4b\u8bd5\u6307\u6807\u5e93\nimport matplotlib.pyplot as plt # \u753b\u56fe\u5e38\u7528\u5e93","1a964ec1":"data = pd.read_csv('..\/input\/train.csv')","dbec680b":"data = data.drop(['Ticket', 'Cabin'], axis = 1)\ndata = data.dropna()","5568831a":"len(data.index)","8594ab96":"data.Survived.value_counts().plot(kind='bar')\nplt.xlabel('Survived')\nplt.show()","ef97683e":"female = data.Survived[data['Sex']=='female'].value_counts().sort_index()\nfemale.plot(kind='barh', color='blue', label='Female')\nplt.show()","e1b89063":"female = data.Survived[data['Sex']=='male'].value_counts().sort_index()\nfemale.plot(kind='barh', color='red', label='Male')\nplt.show()","2847f847":"highclass = data.Survived[data.Pclass != 3].value_counts().sort_index()\nhighclass.plot(kind='bar',label='Highclass', color='red', alpha=0.8)\nplt.show()","ba05ab82":"highclass = data.Survived[data.Pclass == 3].value_counts().sort_index()\nhighclass.plot(kind='bar',label='Highclass', color='blue', alpha=0.4)\nplt.show()","c34abee3":"y, X = dmatrices('Survived~C(Pclass)+C(Sex)+Age+C(Embarked)', data = data, return_type = 'dataframe')","8ec73661":"model = LogisticRegression(C=1e6)","02aae6e6":"model.fit(X, y)","4547ea83":"model.score(X, y)","f3aaabb4":"1 - y.mean()","9a03d8a8":"pd.DataFrame(list(zip(X.columns, np.transpose(model.coef_))))","f33cdd06":"test_data = pd.read_csv('..\/input\/test.csv')","4063357b":"test_data['Survived'] = 1\ntest_data.loc[np.isnan(test_data.Age), 'Age'] = np.mean(data.Age)","4ed4470f":"y_test, X_test = dmatrices('Survived~C(Pclass)+C(Sex)+Age+C(Embarked)', data = test_data, return_type = 'dataframe')","9db44f39":"pred = model.predict(X_test).astype(int)\nsolution = pd.DataFrame(list(zip(test_data['PassengerId'], pred)), columns=['PassengerID', 'Survived'])","ce65c904":"solution.to_csv('.\/my_prediction.csv', index=False)","480a60d0":"\u89c2\u5bdf\u5973\u6027\u9003\u751f\u4eba\u6570","4300e87a":"\u5220\u9664\u4e0d\u9700\u8981\u7684\u5217\u4ee5\u53ca\u542b\u6709NA\u503c\u7684\u884c","7bbc88df":"\u8f93\u51fa\u8bad\u7ec3\u51c6\u786e\u7387","5b731cd5":"\u89c2\u5bdf\u7537\u6027\u9003\u751f\u4eba\u6570","a09cbc06":"\u5bf9\u6d4b\u8bd5\u6570\u636e..\/input\/test.csv\u751f\u6210\u9884\u6d4b\uff0c\u5c06\u7ed3\u679c\u5199\u5165.\/my_prediction.csv","b45ada8c":"> \u4ece..\/input\/train.csv\u8bfb\u5165\u6570\u636e","f83c0aa8":"\u8f93\u51fa\u7a7a\u6a21\u578b\u7684\u6b63\u786e\u7387\uff1a\u7a7a\u6a21\u578b\u9884\u6d4b\u6240\u6709\u4eba\u90fd\u672a\u9003\u751f","5b86c6d1":"\u9884\u6d4bTitanic\u4e58\u5ba2\u9003\u751f","9f6ab4de":"\u89c2\u5bdf\u9003\u751f\u4eba\u6570\u4e0e\u672a\u9003\u751f\u4eba\u6570","a8ff7e76":"\u89c2\u5bdf\u4f4e\u7b49\u8231\u9003\u751f\u60c5\u51b5","2b5f18c8":"dmatrices\u5c06\u6570\u636e\u4e2d\u7684\u79bb\u6563\u53d8\u91cf\u53d8\u6210\u54d1\u53d8\u91cf\uff0c\u5e76\u6307\u660e\u7528Pclass, Sex, Embarked\u6765\u9884\u6d4bSurvived","9b86a51c":"\u89c2\u5bdf\u6a21\u578b\u7cfb\u6570\uff0c\u5373\u6bcf\u79cd\u56e0\u7d20\u5bf9\u4e8e\u9884\u6d4b\u9003\u751f\u7684\u91cd\u8981\u6027","9d5731b2":"\u89c2\u5bdf\u975e\u4f4e\u7b49\u8231\u9003\u751f\u60c5\u51b5"}}