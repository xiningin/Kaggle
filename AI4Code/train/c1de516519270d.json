{"cell_type":{"42608343":"code","8d1058d5":"code","3776fd3d":"code","9deee649":"code","06aad955":"code","5df524e5":"code","29fdd162":"code","b6376125":"code","b5748e6a":"code","f647a9e9":"code","2678a0d0":"code","1da3fad7":"code","700962b6":"code","3bceca69":"code","4ab7ffe4":"code","c9c5a966":"code","3ee1079e":"code","dc265377":"code","d667a135":"code","4e55f552":"code","89746948":"code","e5cd9dcf":"code","f1ad7593":"code","fbfca532":"code","b8b2c81a":"code","231f7ff3":"code","85e43360":"code","090ea8de":"code","7275d41a":"code","7545fb41":"markdown","bec85964":"markdown","c5bea9e7":"markdown","5e232089":"markdown","9d05ba41":"markdown","05a89b2c":"markdown","cc8174d1":"markdown","729047d0":"markdown","41d9c287":"markdown","dfa144c3":"markdown","68ee715d":"markdown","0ba518f9":"markdown","a3035315":"markdown","a93e5836":"markdown","b4789911":"markdown"},"source":{"42608343":"# import neccessary libraries\nimport pandas as pd\nimport numpy as np","8d1058d5":"# import the data and create the dataframe\ndf=pd.read_csv('..\/input\/website_data.csv', skiprows=range(6))","3776fd3d":"# lets look at the overview of our data\ndf.head(5)","9deee649":"# lets see if there are any missing data\nmissing_data=df.isnull()\nfor column in missing_data.columns.values.tolist():\n    print(column)\n    print(missing_data[column].value_counts())\n    print('')","06aad955":"# lets look at the shape of our data\ndf.shape","5df524e5":"# lets look at the data types in our variables\ndf.dtypes","29fdd162":"df.info()","b6376125":"# create a function to convert percentage to float\ndef p2f(x):\n    return float(x.strip('%'))\/100","b5748e6a":"# update the dataframe\ndf=pd.read_csv('..\/input\/website_data.csv', skiprows=range(6), converters={'Bounce Rate': p2f, 'Goal Conversion Rate': p2f})","f647a9e9":"df.head(5)","2678a0d0":"# update revenue so it is float with no $ sign\ndf[['Revenue']]=df[['Revenue']].replace('[$,]', '', regex=True).astype('float')","1da3fad7":"# update Avg. Session Duration to float and total seconds\ndf['Avg. Session Duration']=pd.to_datetime(df['Avg. Session Duration'], errors='coerce')","700962b6":"df['Avg. Session Duration']=pd.to_timedelta(df['Avg. Session Duration'].dt.strftime('%H:%M:%S'), errors='coerce').dt.total_seconds().astype(int)","3bceca69":"df.head(5)","4ab7ffe4":"# lets look at the correlation between the variables\ndf.corr()","c9c5a966":"# Lets visualize some of our findings\n# import neccessary libraries\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\ndf.hist()\nplt.show()","3ee1079e":"# Lets use scatter plot to visualize the relationship\nplt.figure(figsize=(15,10), dpi=80)\nplt.scatter(df[['Sessions']], df[['Avg. Session Duration']], color='orange')\n\nplt.title('Sessions vs Avg. Session Duration')\nplt.xlabel('Sessions')\nplt.ylabel('Avg. Session Duration')\n\nplt.show()","dc265377":"plt.figure(figsize=(15,10), dpi=80)\nplt.scatter(df[['Sessions']], df[['Revenue']], color='blue')\n\nplt.title('Sessions vs Revenue')\nplt.xlabel('Sessions')\nplt.ylabel('Revenue')\n\nplt.show()","d667a135":"plt.figure(figsize=(15,10), dpi=80)\nplt.scatter(df[['Goal Conversion Rate']], df[['Revenue']], color='red')\n\nplt.title('Goal Conversion Rate vs Revenue')\nplt.xlabel('Goal Conversion Rate')\nplt.ylabel('Revenue')\n\nplt.show()","4e55f552":"# lets split the data for 80% train and 20% set\nmsk=np.random.rand(len(df))<0.8\ntrain=df[msk]\ntest=df[~msk]","89746948":"# train the data distribution\nplt.figure(figsize=(15,10), dpi=80)\nplt.scatter(train['Sessions'], train['Revenue'], color='blue')\nplt.title('Training the Data Distribution for Sessions and Revenue')\nplt.xlabel('Sessions')\nplt.ylabel('Revenue')\nplt.show()","e5cd9dcf":"# Lets create our model (first import neccessary libraries)\nfrom sklearn import linear_model","f1ad7593":"regr=linear_model.LinearRegression()","fbfca532":"train_x=np.asanyarray(train[['Sessions']])\ntrain_y=np.asanyarray(train[['Revenue']])","b8b2c81a":"regr.fit(train_x, train_y)","231f7ff3":"# lets see the coefficient and the intercept values\nprint(regr.coef_)\nprint(regr.intercept_)","85e43360":"#Lets look at the outputs based on our model\nplt.figure(figsize=(15,10), dpi=80)\nplt.scatter(train['Sessions'], train['Revenue'], color='blue')\nplt.plot(train_x, regr.coef_[0][0]*train_x +regr.intercept_[0], '-r')\nplt.xlabel('Sessions')\nplt.ylabel('Revenue')","090ea8de":"# import neccessary libraries\nfrom sklearn.metrics import r2_score","7275d41a":"test_x = np.asanyarray(test[['Sessions']])\ntest_y = np.asanyarray(test[['Revenue']])\ntest_y_hat = regr.predict(test_x)\n\nprint(\"Mean absolute error: %.2f\" % np.mean(np.absolute(test_y_hat - test_y)))\nprint(\"Residual sum of squares (MSE): %.2f\" % np.mean((test_y_hat - test_y) ** 2))\nprint(\"R2-score: %.2f\" % r2_score(test_y_hat , test_y) )","7545fb41":"# Data Collection and Understanding ","bec85964":"# Conclusion\nAfter analyzing the site metrics and user engagement, we see that there are correlations between Sessions \/ Revenue and Sessions \/ Avg. Session Durations, however the correlation is weak. Avg. Session Durations shows us that, the users are visiting the website, however not engaging with the content. This might be due to content not being updated often. New content with updated release calender can increase the Avg.Session Durations. \n\nAnother insight we see is that, Avg. Session Durations does not have any impact to the revenue and the transaction. This means the transactions are due to direct page visit for conversion. This might be because of Paid or other Campaigns directing users to the site just to make a purchase rather than engaging with the website content. \n\nBased on our analysis, we recommend to create new content for further engagement, possibly exploring replacement of Paid Campaigns with imprvement of organic search for acqusition. Goal Conversion Rate has almost no correlation with the Revenue metric. If the business goal is to increase revenue through the website, the goals set up in GA360 should be updated to reflect the actual business objective.\n\nCreating a predictive model using simple linear regression is possible and easy to execute using Sessions and Revenue however, the correlation between these two variables are not strong enough to create an accurate model. The negative R2 score indicates that the predictive model we created by training 80% of the data set and using 20% as test data is not a good and needs further improvement.","c5bea9e7":"# About the Data Set\n\nThe data is collected from X.com Google Analytics Web Reporting Platform in a csv format. The collection can be done via Big Query however in this analysis we will use the csv file exported from GA360.\n\nThe description of the variables are as follows:\n\n**Client Id: Google Analytics cookie that is unique to each user and lasts approximately 2 years.**\n\n**Sessions: A session is a group of user interactions with the website that take place within a given time frame. Single session can contain multiple page views, events, social interactions, and ecommerce transactions.**\n\n**Avg. Session Duration: Average session duration is: total duration of all sessions (in seconds) \/ number of sessions.**\n\n**Bounce Rate: Bounce rate is single-page sessions divided by all sessions, or the percentage of all sessions on your site in which users viewed only a single page and triggered only a single request to the Analytics server.**\n\n**Revenue: Revenue in dollars** \n\n**Transaction: Number of Transactions via the website**\n\n**Goal Converstion Rate: Track of specific user interactions on your site. These user interactions can be anything including form submissions, button clicks, ebook downloads, and more.**","5e232089":"The Goal Conversion Rate and Revenue has almost no correlation. If there is any it is negative. This might mean that the Revenue metric is not set up as part of the website Goals hence the output does not show any correlation. ","9d05ba41":"# Data Wrangling","05a89b2c":"When we look at the data set, we see that;\n\n**There are 5000 rows and 7 columns**\n\n**Avg. Session Duration is object**\n\n**Bounce Rate is object and is percentage**\n\n**Revenue is object with $ symbol**\n\n**Goal Conversion Rate is percentage and object**","cc8174d1":"# Model Evaluation","729047d0":"We are definately seeing the positive relation betwen Sessions and Revenue. We see Revenue amount being over 50,000 on one particular user engagement with around 140 sessions. However the linear relationship is not very strong. We have Sessions more than 250 however the revenue is around $10,000.","41d9c287":"# Table of Contents\n\n1 - Introduction\n\n2- About the Data Set\n\n3- Data Collection and Understanding\n\n4- Data Wrangling\n\n5- Data Exploration\n\n6- Model Development\n\n7- Model Evaluation\n\n8- Conclusion","dfa144c3":"There is a small negative correlation between Sessions and Avg. Session Duration, this might mean that, even though users visiting the site, they are not consuming the content on the site. \n\nThere is a positive and medium correlation between Sessions and Transaction and Sessions and Revenue. Even though users not engaging with the content, the visits to the site has a positive impact to the transactions and revenue. \n\nThere is a medium negative correlation between goal conversion rate and sessions, alsp positive medium correlation with avg. session duration. Our goal converstion seems to be set up based on avg. session duration of the user.","68ee715d":"# Data Exploration","0ba518f9":"# Model Development","a3035315":"To evaluate the simple linear regression model we created we can look at the mean absoulute error (MAE), mean squared error(MSE), Root Mean Squared Error(RMSE).","a93e5836":"# Introduction\n\nOur objective in this analysis is to review the current user engagement to X.com, find correletation between differnt metics and see if we can create a predictive model using simple linear regression. The business end goal is to answer what needs to be done in order to improve the revenue. ","b4789911":"#### In order to analyze and create the predictive model properly we need to correct some of the data types and values. \n\n**Update Avg. Session Duration so it shows as total seconds.**\n**Convert object data types to numeric type (float and integer) so we can use them in our analysis and model development.**"}}