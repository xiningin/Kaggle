{"cell_type":{"8a8d2b77":"code","4bc8d0c8":"code","4d5217e2":"code","9de1c4a3":"code","ba212395":"code","6e6afd8a":"code","0ab5ae5f":"code","51979178":"code","c437c9c6":"code","fdfe8222":"code","4b2c963c":"code","dc8a2ccf":"code","d332b41a":"code","9b4d8b50":"code","1931b371":"code","d8675e52":"code","f8d5cf2e":"code","a9fd95ec":"code","b9677888":"code","c0fe66b6":"code","6aad5b0c":"code","30e81286":"code","3e1aa963":"code","c5084f3f":"markdown"},"source":{"8a8d2b77":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","4bc8d0c8":"train = pd.read_csv('..\/input\/titanic\/train.csv')","4d5217e2":"train.describe","9de1c4a3":"train.corr()","ba212395":"import matplotlib.pyplot as plt\nimport seaborn as sns\nsns.countplot(x = 'SibSp', hue = \"Survived\", data = train)\nplt.legend(loc = \"upper right\", title = \"Survived ~ Sibsp\")","6e6afd8a":"sns.distplot(train[train['Survived'] == 0].Fare, kde=False,rug=False)","0ab5ae5f":"sns.distplot(train[train['Survived'] == 1].Fare,  kde=False,rug=False)","51979178":"sns.distplot(train[train['Survived'] == 0].Fare, kde=False,rug=False)\nsns.distplot(train[train['Survived'] == 1].Fare,  kde=False,rug=False)","c437c9c6":"train.isnull().sum()","fdfe8222":"train.drop(['PassengerId','Name','Cabin','Ticket', ], axis=1, inplace=True)\ntrain[\"Age\"].fillna(train[\"Age\"].median(skipna=True), inplace=True)\ntrain[\"Embarked\"].fillna(train['Embarked'].value_counts().idxmax(), inplace=True)","4b2c963c":"train['Alone']=np.where((train[\"SibSp\"]+train[\"Parch\"])>0, 0, 1)\ntrain.drop(['SibSp', 'Parch'], axis=1, inplace=True)","dc8a2ccf":"pd.get_dummies(train['Sex'])","d332b41a":"training = pd.get_dummies(train, columns=[\"Pclass\",\"Embarked\",\"Sex\"], drop_first=True)\ntraining","9b4d8b50":"from sklearn.preprocessing import StandardScaler\ntrain_standard = StandardScaler()\ntrain_copied = training.copy()\ntrain_standard.fit(train_copied[['Age','Fare']])\ntrain_std = pd.DataFrame(train_standard.transform(train_copied[['Age','Fare']]))\ntrain_std","1931b371":"training[['Age','Fare'] ] = train_std\ntraining","d8675e52":"from sklearn.linear_model import LogisticRegression\ncols = [\"Age\",\"Fare\",\"Alone\",\"Pclass_2\",\"Pclass_2\",\"Embarked_Q\",\"Embarked_S\",\"Sex_male\"] \nX = training[cols]\ny = training['Survived']\n# Build a logreg and compute the feature importances\nmodel = LogisticRegression()\n# create the RFE model and select 8 attributes\nmodel.fit(X,y)","f8d5cf2e":"from sklearn.metrics import accuracy_score\ntrain_predicted = model.predict(X)\naccuracy_score(train_predicted, y)","a9fd95ec":"test = pd.read_csv('..\/input\/titanic\/test.csv')","b9677888":"test.isnull().sum()","c0fe66b6":"test.drop(['PassengerId','Name','Cabin','Ticket'], axis=1, inplace=True)\ntest[\"Age\"].fillna(28, inplace=True)\ntest[\"Embarked\"].fillna(test['Embarked'].value_counts().idxmax(), inplace=True)\ntest[\"Fare\"].fillna(train.Fare.median(), inplace=True)\ntest['Alone']=np.where((test[\"SibSp\"]+test[\"Parch\"])>0, 0, 1)\ntest.drop(['SibSp', 'Parch'], axis=1, inplace=True)\ntesting=pd.get_dummies(test, columns=[\"Pclass\",\"Embarked\",\"Sex\"], drop_first=True)\nprint(testing.dtypes)\ntest_copied = testing.copy()\ntest_std = train_standard.transform(test_copied[['Age','Fare']])\ntest_std\ntesting[['Age','Fare']] = test_std\ntesting","6aad5b0c":"cols = [\"Age\",\"Fare\",\"Alone\",\"Pclass_2\",\"Pclass_2\",\"Embarked_Q\",\"Embarked_S\",\"Sex_male\"] \nX_test=testing[cols]\nprint(X_test.dtypes)\ntest_predicted = model.predict(X_test)","30e81286":"sub = pd.read_csv('..\/input\/titanic\/gender_submission.csv')","3e1aa963":"sub['Survived'] = list(map(int, test_predicted))\nsub.to_csv('submission.csv', index=False)","c5084f3f":"## \u7279\u5fb4\u91cf\u3092\u78ba\u8a8d\u3059\u308b"}}