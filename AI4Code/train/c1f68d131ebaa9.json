{"cell_type":{"f89565dd":"code","58589809":"code","6f597c52":"code","b62eb7cc":"code","bb5ca8dc":"code","0d15d4a9":"code","84cd91e4":"code","f44117ef":"code","90e3646a":"code","9217b8f4":"markdown","2fc464ea":"markdown","90d448bc":"markdown","f0f9368a":"markdown","40f41908":"markdown"},"source":{"f89565dd":"!pip install https:\/\/github.com\/andreasvc\/readability\/tarball\/master\n!pip install syntok","58589809":"import readability\n\nimport numpy as np\nimport pandas as pd \nimport os\n\nimport syntok.segmenter as segmenter\n\nfrom matplotlib import pyplot as plt\nimport seaborn as sns","6f597c52":"train_df = pd.read_csv('\/kaggle\/input\/commonlitreadabilityprize\/train.csv')","b62eb7cc":"def _calc_readability(text):\n    tokenized = '\\n\\n'.join(\n         '\\n'.join(' '.join(token.value for token in sentence)\n            for sentence in paragraph)\n         for paragraph in segmenter.analyze(text))\n    return readability.getmeasures(tokenized, lang='en')\n\ntrain_df['readability'] = train_df['excerpt'].map(lambda x: _calc_readability(x))","bb5ca8dc":"def _extract_feat(row):\n    dic = {}\n    for k, v in row.items():\n        if k != 'readability grades':\n            continue\n        for kk, vv in v.items():\n            dic.update({kk: vv})\n    return dic\n\nreadability_grades_df = pd.DataFrame(train_df['readability'].map(_extract_feat).tolist())","0d15d4a9":"readability_grades_df['target'] = train_df['target']","84cd91e4":"readability_grades_df.corr().T.style.background_gradient(cmap='viridis', axis=0)","f44117ef":"sns.pairplot(readability_grades_df)","90e3646a":"readability_grades_df.corr().abs().T.style.background_gradient(cmap='viridis', axis=0)","9217b8f4":"readability expects sentence-segmented and tokenized text.\nSo, I tokenize text with syntok library.\n\n","2fc464ea":"I check each evaluation value and target value correlation.","90d448bc":"readability outputs some document information. For example, readability grades, sentence info like a number of words, and word usage.\n\nIn this time, I use readability grades only.\n","f0f9368a":"# classical methods for text readability\nIn this notebook, I calculate text readability by classical methods with [readability](https:\/\/github.com\/andreasvc\/readability\/) library.","40f41908":"Let's see the absolute value of the correlation coefficient."}}