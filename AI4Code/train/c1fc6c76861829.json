{"cell_type":{"612e633c":"code","3524e1b2":"code","e557f690":"code","323d6bbd":"code","57059b0c":"code","e65a517d":"code","f205ae39":"code","8f18e789":"code","08ba397e":"code","6e5479a0":"code","37e2edc1":"code","2c28b865":"code","cb885be9":"code","38303daf":"code","c857b0fd":"code","9a82bd7b":"code","0fdf5664":"code","f3e7b345":"code","ae35525a":"code","c1926aaf":"code","2de09ce9":"code","2a38d7be":"code","930c9fb8":"code","0eb830a0":"code","84c35ee6":"code","d7c16468":"code","016731d6":"code","4559bccf":"code","df4e6562":"code","2691f542":"code","ea1486ba":"code","a3b44736":"code","1af64a8d":"code","e19af52d":"code","8db7e20b":"code","254d523b":"code","141e9a21":"code","483f85f4":"code","e15eb63a":"code","ef24f041":"code","c62cfa1e":"code","bd9c8405":"code","62495908":"code","03e864fb":"code","2afaa1f6":"code","73cad9a4":"code","cb1c9f97":"code","aa483b9d":"code","cb03df3a":"markdown","a4afa250":"markdown","59900c35":"markdown","d883dbfb":"markdown","0d9de257":"markdown","9d1e85ee":"markdown","4381dc95":"markdown","a79baea2":"markdown","07d5a5bd":"markdown","e78c07c5":"markdown","7f8032ac":"markdown","ea792e5d":"markdown","835272fc":"markdown"},"source":{"612e633c":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.b","3524e1b2":"import seaborn as sns\nsns.set_style('whitegrid')\nimport matplotlib.pyplot as plt","e557f690":"df_fifa = pd.read_csv('\/kaggle\/input\/fifa19\/data.csv', index_col=0)","323d6bbd":"df_fifa.head()","57059b0c":"df_fifa.info()","e65a517d":"df_fifa['Position'].unique()","f205ae39":"df_fifa_fwd = df_fifa[df_fifa['Position'].isin(['RF', 'ST', 'LF', 'RS', 'LS', 'CF'])]","8f18e789":"df_fifa_fwd_imp = df_fifa_fwd[['Finishing', 'HeadingAccuracy', 'ShortPassing', 'Volleys', 'Dribbling', 'Curve', 'FKAccuracy', 'LongPassing',\n                               'BallControl', 'Acceleration', 'SprintSpeed', 'Agility', 'Reactions', 'Balance', 'ShotPower', 'Jumping','Stamina', 'Strength', 'LongShots', 'Aggression', 'Interceptions', 'Positioning', 'Vision', 'Penalties', \n                               'Composure','Marking', 'StandingTackle', 'SlidingTackle', 'Overall']]","08ba397e":"from sklearn.ensemble import RandomForestRegressor","6e5479a0":"rf = RandomForestRegressor(n_estimators=100)","37e2edc1":"rf_model = rf.fit(df_fifa_fwd_imp.drop(['Overall'], axis=1), df_fifa_fwd_imp['Overall']);","2c28b865":"df_fifa_fwd_feat_imp = pd.DataFrame(columns=['attributes', 'imp_values'])\ndf_fifa_fwd_feat_imp['imp_values'] = rf_model.feature_importances_\ndf_fifa_fwd_feat_imp['attributes'] = df_fifa_fwd_imp.drop(['Overall'], axis=1).columns","cb885be9":"fig = plt.figure(figsize=(15,5))\nsns.barplot(data = df_fifa_fwd_feat_imp.sort_values(by=['imp_values'], ascending=False)[0:10],\n           x = df_fifa_fwd_feat_imp.sort_values(by=['imp_values'], ascending=False)[0:10]['imp_values'],\n           y = df_fifa_fwd_feat_imp.sort_values(by=['imp_values'], ascending=False)[0:10]['attributes']);\nplt.title('Important Attributes for Forwards')\nplt.xlabel('Importance')\nplt.ylabel('Attributes');","38303daf":"df_fifa['Position'].unique()","c857b0fd":"df_fifa_mid = df_fifa[df_fifa['Position'].isin(['RCM', 'LCM', 'LDM', 'RDM', 'CAM', 'CDM', 'RM', 'LM', 'RAM', 'LAM', 'CM'])]","9a82bd7b":"df_fifa_mid_imp = df_fifa_mid[['Finishing', 'HeadingAccuracy', 'ShortPassing', 'Volleys', 'Dribbling', 'Curve', 'FKAccuracy', 'LongPassing',\n                               'BallControl', 'Acceleration', 'SprintSpeed', 'Agility', 'Reactions', 'Balance', 'ShotPower', 'Jumping','Stamina', 'Strength', 'LongShots', 'Aggression', 'Interceptions', 'Positioning', 'Vision', 'Penalties', \n                               'Composure','Marking', 'StandingTackle', 'SlidingTackle', 'Overall']]","0fdf5664":"from sklearn.ensemble import RandomForestRegressor","f3e7b345":"rf = RandomForestRegressor(n_estimators=100)","ae35525a":"rf_model = rf.fit(df_fifa_mid_imp.drop(['Overall'], axis=1), df_fifa_mid_imp['Overall']);","c1926aaf":"df_fifa_mid_feat_imp = pd.DataFrame(columns=['attributes', 'imp_values'])\ndf_fifa_mid_feat_imp['imp_values'] = rf_model.feature_importances_\ndf_fifa_mid_feat_imp['attributes'] = df_fifa_mid_imp.drop(['Overall'], axis=1).columns","2de09ce9":"fig = plt.figure(figsize=(15,5))\nsns.barplot(data = df_fifa_mid_feat_imp.sort_values(by=['imp_values'], ascending=False)[0:10],\n           x = df_fifa_mid_feat_imp.sort_values(by=['imp_values'], ascending=False)[0:10]['imp_values'],\n           y = df_fifa_mid_feat_imp.sort_values(by=['imp_values'], ascending=False)[0:10]['attributes'])\nplt.title('Important Attributes for Midfielders')\nplt.xlabel('Importance')\nplt.ylabel('Attributes');","2a38d7be":"df_fifa['Position'].unique()","930c9fb8":"df_fifa_wing = df_fifa[df_fifa['Position'].isin(['LW', 'RW'])]","0eb830a0":"df_fifa_wing_imp = df_fifa_wing[['Finishing', 'HeadingAccuracy', 'ShortPassing', 'Volleys', 'Dribbling', 'Curve', 'FKAccuracy', 'LongPassing',\n                             'BallControl', 'Acceleration', 'SprintSpeed', 'Agility', 'Reactions', 'Balance', 'ShotPower', 'Jumping','Stamina', 'Strength', 'LongShots', \n                             'Aggression', 'Interceptions', 'Positioning', 'Vision', 'Penalties', 'Composure','Marking', 'StandingTackle',\n                             'SlidingTackle', 'Overall']]","84c35ee6":"from sklearn.ensemble import RandomForestRegressor","d7c16468":"rf = RandomForestRegressor(n_estimators=100)","016731d6":"rf_model = rf.fit(df_fifa_wing_imp.drop(['Overall'], axis=1), df_fifa_wing_imp['Overall']);","4559bccf":"df_fifa_wing_feat_imp = pd.DataFrame(columns=['attributes', 'imp_values'])\ndf_fifa_wing_feat_imp['imp_values'] = rf_model.feature_importances_\ndf_fifa_wing_feat_imp['attributes'] = df_fifa_wing_imp.drop(['Overall'], axis=1).columns","df4e6562":"fig = plt.figure(figsize=(15,5))\nsns.barplot(data = df_fifa_wing_feat_imp.sort_values(by=['imp_values'], ascending=False)[0:10],\n           x = df_fifa_wing_feat_imp.sort_values(by=['imp_values'], ascending=False)[0:10]['imp_values'],\n           y = df_fifa_wing_feat_imp.sort_values(by=['imp_values'], ascending=False)[0:10]['attributes'])\nplt.title('Important Attributes for Wingers')\nplt.xlabel('Importance')\nplt.ylabel('Attributes');","2691f542":"df_fifa['Position'].unique()","ea1486ba":"df_fifa_def = df_fifa[df_fifa['Position'].isin(['LWB', 'RWB', 'CB', 'LCB', 'RCB', 'RB', 'LB'])]","a3b44736":"df_fifa_def_imp = df_fifa_def[['Finishing', 'HeadingAccuracy', 'ShortPassing', 'Volleys', 'Dribbling', 'Curve', 'FKAccuracy', 'LongPassing',\n                             'BallControl', 'Acceleration', 'SprintSpeed', 'Agility', 'Reactions', 'Balance', 'ShotPower', 'Jumping','Stamina', 'Strength', 'LongShots', \n                             'Aggression', 'Interceptions', 'Positioning', 'Vision', 'Penalties', 'Composure','Marking', 'StandingTackle',\n                             'SlidingTackle', 'Overall']]","1af64a8d":"from sklearn.ensemble import RandomForestRegressor","e19af52d":"rf = RandomForestRegressor(n_estimators=100)","8db7e20b":"rf_model = rf.fit(df_fifa_def_imp.drop(['Overall'], axis=1), df_fifa_def_imp['Overall']);","254d523b":"df_fifa_def_feat_imp = pd.DataFrame(columns=['attributes', 'imp_values'])\ndf_fifa_def_feat_imp['imp_values'] = rf_model.feature_importances_\ndf_fifa_def_feat_imp['attributes'] = df_fifa_def_imp.drop(['Overall'], axis=1).columns","141e9a21":"fig = plt.figure(figsize=(15,5))\nsns.barplot(data = df_fifa_def_feat_imp.sort_values(by=['imp_values'], ascending=False)[0:10],\n           x = df_fifa_def_feat_imp.sort_values(by=['imp_values'], ascending=False)[0:10]['imp_values'],\n           y = df_fifa_def_feat_imp.sort_values(by=['imp_values'], ascending=False)[0:10]['attributes'])\nplt.title('Important Attributes for Defenders')\nplt.xlabel('Importance')\nplt.ylabel('Attributes');","483f85f4":"df_fifa_top_clubs = df_fifa[df_fifa['Overall']>=70].groupby(by=['Club']).agg({'Overall':'mean',\n                                                                              'ID':'count'}).reset_index().sort_values(by='Overall', ascending=False).reset_index(drop=True)","e15eb63a":"df_fifa_top_clubs.rename(columns={'ID':'Player_Count'}, inplace=True)\ndf_fifa_top_clubs = df_fifa_top_clubs[df_fifa_top_clubs['Player_Count']>=20]","ef24f041":"df_fifa_top_20 = df_fifa[df_fifa['Club'].isin(list(df_fifa_top_clubs['Club'][0:20]))]","c62cfa1e":"fig = plt.figure(figsize=(15,8))\nsns.barplot(data = df_fifa_top_clubs[0:20],\n           x = df_fifa_top_clubs[0:20]['Overall'],\n           y = df_fifa_top_clubs[0:20]['Club'],\n           palette=\"Blues_d\")\nplt.title('Top Clubs with average player Overalls')\nplt.xlabel('Overall')\nplt.ylabel('Club');","bd9c8405":"young_age = df_fifa_top_20['Age'].quantile([0.33]).values[0]","62495908":"df_fifa_top_20_youth = df_fifa_top_20[(df_fifa_top_20['Overall']<=df_fifa_top_20['Potential'])&(df_fifa_top_20['Age']<=young_age)&(df_fifa_top_20['Potential']>=80)]","03e864fb":"df_fifa_top_20_youth_cnt = df_fifa_top_20_youth.groupby('Club').count().reset_index()[['Club', 'ID']]\ndf_fifa_top_20_youth_cnt.rename(columns={'ID':'Youth Count'}, inplace=True)","2afaa1f6":"df_fifa_top_20_youth_cnt.sort_values(by='Youth Count', ascending=False, inplace=True)","73cad9a4":"fig = plt.figure(figsize=(15,8))\nsns.barplot(data = df_fifa_top_20_youth_cnt[0:20],\n           x = df_fifa_top_20_youth_cnt[0:20]['Youth Count'],\n           y = df_fifa_top_20_youth_cnt[0:20]['Club'],\n           palette=\"Blues_d\")\nplt.title('Top Clubs with the highest number of high potential youth players')\nplt.xlabel('Count of Youth Players')\nplt.ylabel('Club');","cb1c9f97":"df_fifa_youth_superstars = df_fifa[(df_fifa['Overall']<=df_fifa['Potential'])&(df_fifa['Age']<=young_age)&(df_fifa['Potential']>=90)]  ","aa483b9d":"df_fifa_youth_superstars[['Club', 'Name', 'Age', 'Position', 'Nationality', 'Overall', 'Potential']].sort_values(by='Potential', ascending=False).reset_index(drop=True)","cb03df3a":"## RF Model to find importance of features","a4afa250":"# Major attributes for Midfielders","59900c35":"## RF Model to find importance of features","d883dbfb":"# Reading Dataset","0d9de257":"## RF Model to find importance of features","9d1e85ee":"# Major attributes for Wingers","4381dc95":"# Major attributes for Forwards","a79baea2":"# Major attributes for Defenders","07d5a5bd":"# Imports","e78c07c5":"# Top 20 clubs present","7f8032ac":"## Youth Players with high potential in these clubs","ea792e5d":"## RF Model to find importance of features","835272fc":"# Upcoming Supertars"}}