{"cell_type":{"d6da04af":"code","eb2aff62":"code","17526d78":"code","c48950f9":"code","16af7170":"code","c313eef4":"code","b42c9c8a":"code","f1a32ef5":"code","70bd5bd6":"code","4e7b2b27":"code","b4baf5cf":"code","6ee20037":"code","66fcfff0":"code","f6bab846":"code","ddc71c99":"code","2b76351a":"code","ddc6727a":"code","ac741bbe":"markdown","d36473f5":"markdown","12aeb595":"markdown","732223eb":"markdown","c6d97ebb":"markdown","89ff795c":"markdown","1a4a2ac7":"markdown","ab025240":"markdown","2403ab3f":"markdown","9f97cea8":"markdown","88194ad4":"markdown","b96fcc22":"markdown","895accee":"markdown"},"source":{"d6da04af":"import numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\npd.options.mode.chained_assignment = None  # disable warning","eb2aff62":"train = pd.read_csv('\/kaggle\/input\/covid19-global-forecasting-week-1\/train.csv')\ntest = pd.read_csv('\/kaggle\/input\/covid19-global-forecasting-week-1\/test.csv')\nss = pd.read_csv('\/kaggle\/input\/covid19-global-forecasting-week-1\/submission.csv')","17526d78":"print('Train: {0}\\nTest: {1}\\nSubmission: {2}'.format(train.shape, test.shape, ss.shape))","c48950f9":"train.head()","16af7170":"test.head(5)","c313eef4":"# get all country\/region names\ncountries = set(train['Country\/Region'])\nprint('The dataset contains {} unique countries\/regions.'.format(len(countries))) ","b42c9c8a":"# generate empty column 'Continent'\ntrain.insert(loc=3, column='Continent', value=\"\")\ntrain.head(5)","f1a32ef5":"asia = ['Bangladesh', 'Georgia', 'Uzbekistan', 'Singapore', 'Malaysia', 'Sri Lanka', 'Iraq',\n        'Thailand', 'Turkey', 'Kuwait', 'Cyprus', 'Taiwan*', 'Brunei', 'Kazakhstan', 'Vietnam',\n        'Israel', 'Bahrain', 'Armenia', 'Saudi Arabia', 'Iran', 'Bhutan', 'Jordan', \n        'Philippines', 'Afghanistan', 'Indonesia', 'Cambodia', 'Oman', 'Azerbaijan', \n        'Maldives', 'Nepal', 'Qatar', 'Pakistan', 'Korea, South', 'India', 'Kyrgyzstan', \n        'United Arab Emirates', 'Mongolia', 'China', 'Lebanon', 'Russia', 'Japan']\n\neurope = ['Latvia', 'Switzerland', 'Liechtenstein', 'Italy', 'Norway', 'Austria', 'Albania',\n          'United Kingdom', 'Iceland', 'Finland', 'Luxembourg', 'Belarus', 'Bulgaria', \n          'Guernsey', 'Poland', 'Moldova', 'Spain', 'Bosnia and Herzegovina', 'Portugal', \n          'Germany', 'Monaco', 'San Marino', 'Andorra', 'Slovenia', 'Montenegro', 'Ukraine',\n          'Lithuania', 'Netherlands', 'Slovakia', 'Czechia', 'Malta', 'Hungary', 'Jersey', \n          'Serbia', 'Kosovo', 'France', 'Croatia', 'Sweden', 'Estonia', 'Denmark', \n          'North Macedonia', 'Greece', 'Ireland', 'Romania', 'Belgium']\n\nsouthamerica = ['Peru', 'Bolivia', 'Venezuela', 'Ecuador', 'Brazil', 'Chile', 'French Guiana',\n                'Paraguay', 'Uruguay', 'Colombia', 'Suriname', 'Guyana', 'Argentina']\n\nnorthamerica = ['Barbados', 'Puerto Rico', 'Saint Lucia', 'Greenland', 'Antigua and Barbuda',\n                'Panama', 'Honduras', 'Mexico', 'Canada', 'Costa Rica', \n                'Saint Vincent and the Grenadines', 'US', 'Dominican Republic', 'Aruba', \n                'Guadeloupe', 'Cuba', 'The Bahamas', 'Martinique', 'Trinidad and Tobago', \n                'Jamaica', 'Guatemala']\n\nafrica = ['South Africa', 'Benin', 'Congo (Brazzaville)', 'Djibouti', 'Reunion', 'Rwanda',\n          'Gambia, The', 'The Gambia', 'Mayotte', 'Equatorial Guinea', 'Nigeria', \n          \"Cote d'Ivoire\", 'Guinea', 'Morocco', 'Somalia', 'Algeria', 'Tanzania', 'Ghana',\n          'Mauritius', 'Egypt',  'Liberia', 'Congo (Kinshasa)', 'Republic of the Congo', \n          'Eswatini', 'Zambia', 'Ethiopia', 'Seychelles', 'Namibia', 'Sudan', 'Togo', \n          'Burkina Faso', 'Tunisia', 'Central African Republic', 'Mauritania', 'Cameroon',\n          'Senegal', 'Kenya', 'Gabon']\n\noceania = ['Guam', 'New Zealand', 'Australia']\n\nother = ['Cruise Ship','Holy See']","70bd5bd6":"# double check\nassert len(countries) == len(asia)+len(europe)+len(southamerica)+len(northamerica)+len(africa)+len(oceania)+len(other)","4e7b2b27":"# generate dictionary\ncontinents = {'Asia': asia,\n              'Europe': europe,\n              'South America': southamerica,\n              'North America': northamerica,\n              'Africa': africa,\n              'Oceania': oceania,\n              'Other': other}","b4baf5cf":"for i in range(train.shape[0]):\n    country = train['Country\/Region'][i]\n    continent = [k for k, v in continents.items() if country in v][0]\n    train['Continent'][i] = continent","6ee20037":"# inspect results\ntrain","66fcfff0":"# get unique dates\ndates = list(train['Date'])\ndates_unique = set(dates)\n\n# get continent data\ndef get_continent(continent):\n    return train[train['Continent']==continent][['Date', 'ConfirmedCases', 'Fatalities']]\n\nasia = get_continent('Asia')\neurope = get_continent('Europe')\nsa = get_continent('South America')\nna = get_continent('North America')\nafrica = get_continent('Africa')\noceania = get_continent('Oceania')\nother = get_continent('Other')","f6bab846":"def get_continent_data(continent):\n    \n    \"Outputs a dataframe with the sum of confirmed and fatal cases per continent for each date\"\n    \n    confirmed_total, fatal_total = [], []\n\n    for date in dates_unique:\n        date_bool = (continent['Date']==date)\n        confirmed = continent[date_bool]['ConfirmedCases'].sum()\n        fatal = continent[date_bool]['Fatalities'].sum()\n        confirmed_total.append(confirmed)\n        fatal_total.append(fatal)\n\n    df = pd.DataFrame([dates_unique, confirmed_total, fatal_total], index=['Date', 'Confirmed', 'Fatalities']).T\n    df['Date'] = pd.to_datetime(df.Date)\n    df = df.sort_values('Date').reset_index(drop=True)\n    df = df.set_index('Date')\n\n    return df","ddc71c99":"# get continent-wise data of total confirmed cases and fatalities sorted by date\nasia_final = get_continent_data(asia)\neurope_final = get_continent_data(europe)\nsa_final = get_continent_data(sa)\nna_final = get_continent_data(na)\nafrica_final = get_continent_data(africa)\noceania_final = get_continent_data(oceania)\nother_final = get_continent_data(other)","2b76351a":"# plot confirmed cases (does not include 'other')\nfig, axes = plt.subplots(nrows=2, ncols=3, figsize=(18,8))\n\nasia_final['Confirmed'].plot(ax=axes[0,0], title='Asia')\neurope_final['Confirmed'].plot(ax=axes[0,1], title='Europe')\nsa_final['Confirmed'].plot(ax=axes[0,2], title='South America')\nna_final['Confirmed'].plot(ax=axes[1,0], title='North America')\nafrica_final['Confirmed'].plot(ax=axes[1,1], title='Africa')\noceania_final['Confirmed'].plot(ax=axes[1,2], title='Oceania')\nplt.subplots_adjust(hspace=0.6)\nplt.show()","ddc6727a":"# plot fatalities (does not include 'other')\nfig, axes = plt.subplots(nrows=2, ncols=3, figsize=(18,8))\n\nasia_final['Fatalities'].plot(ax=axes[0,0], title='Asia')\neurope_final['Fatalities'].plot(ax=axes[0,1], title='Europe')\nsa_final['Fatalities'].plot(ax=axes[0,2], title='South America')\nna_final['Fatalities'].plot(ax=axes[1,0], title='North America')\nafrica_final['Fatalities'].plot(ax=axes[1,1], title='Africa')\noceania_final['Fatalities'].plot(ax=axes[1,2], title='Oceania')\nplt.subplots_adjust(hspace=0.6)\nplt.show()","ac741bbe":"### Insert continents into train data","d36473f5":"In the following code block, the countries in the dataset were grouped based on this [list of countries by continent](https:\/\/simple.wikipedia.org\/wiki\/List_of_countries_by_continents) on Wikipedia.","12aeb595":"<p align=\"center\">\n  <img src=\"https:\/\/travel-dealz.eu\/app\/uploads\/milesmore-continents-840x454.png\" height=\"460\" width=\"800\">\n<\/p>","732223eb":"### Group countries by continent","c6d97ebb":"**Takeaways:**\n\n- It shows the obvious breakout of the virus in China, with a sharp rise of confirmed cases on Feb 12\n- Cases were confirmed in Europe, Africa, and Oceania a bit earlier, starting roughly on Mar 2\n- Cases in North and South America started to increase around Mar 9\n- In continents other than Asia, confirmed cases seem to increase at an exponential rate","89ff795c":"## Plot confirmed cases and fatalities per continent","1a4a2ac7":"Note: Gambia is present twice in the dataset, once as **'Gambia, The'**, and once as **'The Gambia'**.","ab025240":"#### Confirmed Cases","2403ab3f":"**Takeaways:**\n\n- A steady increase of fatalities throughout Asia\n- Exponential increase of fatalities in most other continents\n- Fatalities flatline occasionally in Oceania - this is probably just because of the frequency at which the dataset was updated ","9f97cea8":"## Load data and take a look","88194ad4":"This notebook contains a brief continent analysis of the confirmed cases and fatalities of COVID-19. The continent information was taken from [Wikipedia](https:\/\/simple.wikipedia.org\/wiki\/List_of_countries_by_continents).","b96fcc22":"#### Fatalities","895accee":"## Insert column 'Continent'"}}