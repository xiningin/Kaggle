{"cell_type":{"90929d66":"code","d611eaa5":"code","f6447c91":"code","965e68a7":"code","3c2c7696":"code","ccd78df6":"code","51b0733b":"code","0abf52e5":"code","039d1b6f":"code","82337359":"code","6bb9681b":"code","d78e98bd":"code","32fb1e58":"code","c6dfa4c4":"code","cd8f960f":"code","8cc96c14":"code","4f741813":"code","c6de564a":"code","0a029de5":"code","0248102a":"code","d9d59d37":"code","773834c6":"code","6904ceb3":"markdown","be7b8c32":"markdown","419bc4fa":"markdown","8d841e94":"markdown","22bc75b4":"markdown","72d49f94":"markdown","8dc4cbb1":"markdown","3b595951":"markdown","e2b33ccd":"markdown","4b48a668":"markdown","2a6c6706":"markdown","fdcce87d":"markdown","17a942f8":"markdown","00b8ba64":"markdown","5ace6d76":"markdown"},"source":{"90929d66":"#In this notebook, we are going to visualize Hidden Patterns by using Plotly.","d611eaa5":"#Installing Packages\n!pip3 install xlrd\n!pip install autoviz","f6447c91":"# Importing Liabraries\nimport pandas as pd\nfrom pandas_profiling import ProfileReport\nfrom autoviz.AutoViz_Class import AutoViz_Class\n\nfrom plotly.offline import init_notebook_mode, iplot, plot\nimport plotly as py\nimport plotly.express as px\ninit_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nfrom wordcloud import WordCloud\n\n#Plotly Template Settings\ntemplate_style = \"plotly_white\"","965e68a7":"#Loading Dataset\ndf = pd.read_csv('..\/input\/us-ecommerce-record-2020\/US  E-commerce records 2020.csv')\ndf.head()","3c2c7696":"# Basic Info about DataFrame\ndf.info()","ccd78df6":"# Describe Method\ndf.describe()","51b0733b":"# Get a view of unique values in column, e.g. 'Ship Mode'\ndf['Ship Mode'].unique()","0abf52e5":"# NaN count for each column\ndf.isnull().sum()","039d1b6f":"df.nlargest(3, 'Sales')","82337359":"# Highest Sale\ndf.iloc[df['Sales'].argmax()]","6bb9681b":"# Create Boolean mask\nmask = df['Sub-Category'] == 'Chairs'\n\n# Use Boolean mask to filter dataframe\ndf[mask]['Discount'].mean()","d78e98bd":"df['Profit Margin'] = df['Profit'] \/ df['Sales']\n\n# Group By Sub-Category [SUM]\ndf_by_sub_category = df.groupby('Sub-Category').sum()\n\n# Reset Index\ndf_by_sub_category.reset_index(inplace=True)\n\n# Print out Head\ndf_by_sub_category.head()","32fb1e58":"AV = AutoViz_Class()\ndf_autoviz = AV.AutoViz('..\/input\/us-ecommerce-record-2020\/US  E-commerce records 2020.csv')","c6dfa4c4":"# Quick Stats Overview for Sales\ndf['Sales'].describe()\n\nfig = px.histogram(df,\n                  x=\"Sales\",\n                  template=template_style)\n# Plot Chart\nfig.show()","cd8f960f":"# Show the distribution and skewness of Sales\nfig = px.box(df,\n             y=\"Sales\",\n             range_y=[0,1000],\n             template=template_style)\n# Plot Chart\nfig.show()","8cc96c14":"# Groupby as a function\ndef grouped_data(column_name):\n    '''\n    Groupby column and return DataFrame\n    Input: Column Name\n    '''\n    df_tmp = df.groupby(column_name).sum()\n    df_tmp.reset_index(inplace=True)\n    return df_tmp\n    \n# Group DataFrame by Segment\ngrouped_data('Segment')\n\n# Plot Sales by Sub-Category\ndata = grouped_data('Sub-Category')\ndata.head()\n\n# Create Chart\nfig = px.bar(data,\n             x='Sub-Category',\n             y='Sales',\n             title='<b>Sales by Sub Category<\/b>',\n             template = template_style)\n\n# Display Plot\nfig.show()","4f741813":"# Create Chart\nfig = px.bar(data,\n             x='Sub-Category',\n             y='Profit',\n             title='<b>Profit by Sub Category<\/b>',\n             template = template_style)\n\n# Display Plot\nfig.show()","c6de564a":"# Create Chart\nfig = px.bar(data,\n             x='Sub-Category',\n             y='Sales', color='Profit',\n             color_continuous_scale=[\"red\",\"yellow\",\"green\"],\n             template = template_style,\n             title = '<b>Sales & Profit by Sub Category<\/b>')\n\n# Display Plot\nfig.show()","0a029de5":"# Inspect Negative Profit of Tables\nfig = px.scatter(df,\n                 x='Sales',\n                 y='Profit',\n                 color='Discount',\n                 template = template_style,\n                 title = '<b>Scatterplot Sales\/Profit<\/b>')\n\n# Display Plot\nfig.show()","0248102a":"# Create new dataframe: Group by 'Sub-Category' and aggregate the mean of 'Discount'\ndf_discount = df.groupby('Sub-Category').agg({'Discount':'mean',\n                                              'Profit':'sum'})\n\n# Display first 5 rows of new dataframe\ndf_discount.head()\n\n# Create Chart\nfig = px.bar(df_discount,\n             x=df_discount.index,\n             y='Discount',\n             color='Profit',\n             color_continuous_scale=['red','yellow','green'],\n             template = template_style,\n             title = '<b>Mean Discount by Sub Category<\/b>')\n\n# Display Plot\nfig.show()","d9d59d37":"# Sort Values by Order Date\ndf_sorted = df.sort_values(by=['Order Date'])\n\n# Add cummulative Sales & Profit\ndf_sorted['cummulative_sales'] = df_sorted['Sales'].cumsum()\ndf_sorted['cummulative_profit'] = df_sorted['Profit'].cumsum()\n\n# Print tail & head of sorted dataframe\ndf_sorted.tail(3)\n\n# Create Chart\nfig = px.line(df_sorted,\n              x='Order Date',\n              y=['cummulative_sales','cummulative_profit'],\n              template = template_style,\n              title= '<b>Sales\/Profit Development<\/b>')\n\n# Display Plot\nfig.show()","773834c6":"#If you Like this notebook,don't forget to Upvote.","6904ceb3":"# 2. Exploring Dataset","be7b8c32":"### **Bar Plot (Sales & Profit by Sub-Category)**","419bc4fa":"### **Histogram**","8d841e94":"# Contents\n### 1. Setup\n### 2. Exploring Dataset\n### 3. Auto Viz Report\n### 4. Visualizing Patterns using Plotly\n* #### Histogram \n* #### Box Plot  \n* #### Bar Plot\n* #### Grouped Bar Plot\n* #### Scatter Plot\n* #### Line Plot","22bc75b4":"## Q.2 What is average Discount of charis.?","72d49f94":"### **Bar Plot (Profit by Sub-Category)**","8dc4cbb1":"### **Box Plot**","3b595951":" ### **Bar Plot (Mean Discount by Sub Category)**","e2b33ccd":"## Q.3 What is Total Profit & Sales by Sub-Category.?","4b48a668":"# 3. Auto Viz Report","2a6c6706":"### **Scatter Plot**","fdcce87d":"## Q.1 What was the highest Sales in 2020.?","17a942f8":"### **Line Plot (Sales\/Profit Development)**","00b8ba64":"### **Bar Plot (Sales by Sub-Category)**","5ace6d76":"# 4. Visualizing Patterns using Plotly"}}