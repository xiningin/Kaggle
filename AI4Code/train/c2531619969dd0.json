{"cell_type":{"12024b20":"code","9f65e3d2":"code","538e3eaf":"code","08a63c31":"code","91740917":"code","81e1e5b3":"code","90874844":"code","856f2cbf":"code","5cc72bc1":"code","98cb6971":"code","4c889c2c":"code","2dcccbc7":"code","d302e9b3":"code","d22a8a3a":"code","8e5c3ebf":"code","d4cf7f0b":"code","3b8c632e":"code","a2cf6488":"code","5f07810d":"code","89ac96a9":"code","be178d42":"code","1512a077":"code","d1e9b42e":"code","5f5ab6ca":"code","1fdc7b7c":"code","06e6ae59":"code","6157d9bb":"code","352c4e56":"code","f5765d94":"code","25b3aac2":"code","76dbb44d":"code","29f635ed":"code","098b5bd7":"code","30ee54d9":"code","47cd7af5":"code","6d5e51a3":"code","60c4ed5d":"code","394c4b10":"code","1f762c5c":"code","96fdee97":"code","5befceb9":"code","ae61e2ca":"code","0fd4a7da":"code","4c79ef6d":"code","b055ebaf":"code","453ebd00":"code","8d8bb9bd":"code","ac637ff7":"code","e402aa92":"code","38ecd0c4":"code","b5394c78":"code","b16f5d6e":"code","4b5337c8":"code","b72dcb11":"code","034c0805":"code","24d24244":"code","512bf836":"code","8f65d059":"code","7dda7f94":"code","78396c9b":"code","95ec47f2":"code","ab42c926":"code","09e2ba33":"code","c5bff544":"code","06fdf31c":"code","086be06e":"code","510951f7":"code","fa775f45":"code","3abcbc14":"code","1f5c8069":"code","9e73becb":"code","c2b41953":"code","b2b8c929":"code","53dc4d7c":"code","bf59f329":"code","06476c6d":"code","73c6ffc1":"code","19ca898e":"code","1e864643":"code","459e13d7":"code","0152c349":"code","319c489a":"code","33577a11":"markdown","1a7d5b76":"markdown","2683a3f6":"markdown","2229b221":"markdown","e19fbd44":"markdown","3a5fc39b":"markdown","9cbefc3f":"markdown","ce90a7eb":"markdown","bbf19ad7":"markdown","71acd459":"markdown","ab70d9a8":"markdown","ead80f1f":"markdown","01775ff4":"markdown","305755d4":"markdown","65f1babf":"markdown","50c6f1af":"markdown","088c16da":"markdown","45f216b0":"markdown","106f908f":"markdown","c7700fed":"markdown","6df45359":"markdown","32abdb43":"markdown","ac35691b":"markdown","7f2c42d2":"markdown","ce3175d1":"markdown","f6411529":"markdown","b6ca8f23":"markdown","36556625":"markdown","13f97617":"markdown","554f5fbd":"markdown","2cb55b97":"markdown","53deb290":"markdown","0938bcda":"markdown","ef57a733":"markdown","75377be0":"markdown","c71f2674":"markdown","bf6731b8":"markdown","8cd931ce":"markdown","a9cb5dfe":"markdown","b1b5c479":"markdown","a4500185":"markdown","8a763e87":"markdown","6486eb33":"markdown","f3ac7f20":"markdown","f8a26822":"markdown","a99c3c38":"markdown","e3e7c4da":"markdown","7bf966f1":"markdown","e6e9e1b0":"markdown","cd216279":"markdown","dd799126":"markdown","ea1f4d10":"markdown","9dd66db7":"markdown","9cf32959":"markdown","9cee3975":"markdown","254eb9f7":"markdown","c8115873":"markdown","0d5f4d0f":"markdown","2d2b95c3":"markdown","a4908f46":"markdown","af10bbd7":"markdown","92852024":"markdown","740ff00d":"markdown","e810d7b4":"markdown","91499b7e":"markdown","b8416c1e":"markdown","1007ceed":"markdown"},"source":{"12024b20":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n# Visualization Library\nimport matplotlib.pyplot as plt \nimport seaborn as sns\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\nfrom collections import Counter\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","9f65e3d2":"train_df=pd.read_csv(\"..\/input\/airline-passenger-satisfaction\/test.csv\")\ntest_df=pd.read_csv(\"..\/input\/airline-passenger-satisfaction\/train.csv\")","538e3eaf":"train_df.columns","08a63c31":"train_df.drop(labels=[\"Unnamed: 0\"],axis=1,inplace=True)\ntest_df.drop(labels=[\"Unnamed: 0\"],axis=1,inplace=True)","91740917":"train_df.head()","81e1e5b3":"train_df.info()","90874844":"train_df.describe()","856f2cbf":"train_df.info()","5cc72bc1":"def bar_plot(variable):\n    \n    var=train_df[variable]\n    var_Value=var.value_counts()\n    \n    #visualize\n    plt.figure(figsize=(9,3))\n    plt.bar(var_Value.index,var_Value.values)\n    \n    plt.xlabel(\"Passengers Score\")\n    plt.ylabel(\"Frequency\")\n    plt.title(variable)\n    plt.show()\n    print(\"{}: \\n {}\".format(variable,var_Value))","98cb6971":"category1=[\"Inflight wifi service\", \"Departure\/Arrival time convenient\", \"Ease of Online booking\", \"Gate location\", \"Food and drink\", \"Online boarding\", \"Seat comfort\", \"Inflight entertainment\", \"On-board service\", \"Leg room service\", \"Baggage handling\", \"Checkin service\", \"Inflight service\", \"Cleanliness\",]\nfor c in category1:\n    bar_plot(c)","4c889c2c":"category2=[\"Gender\", \"Customer Type\", \"Type of Travel\", \"Class\",\"satisfaction\"]\nfor c in category2:\n    print(\"{} \\n\".format(train_df[c].value_counts()))","2dcccbc7":"def plot_hist(variable):\n    plt.figure(figsize=(9,3))\n    plt.hist(train_df[variable],bins=50)\n    plt.xlabel(variable)\n    plt.ylabel(\"Fruequency\")\n    plt.title(\"{} distribution with histogram\".format(variable))\n    plt.show()\n","d302e9b3":"numericVar=[\"id\",\"Age\", \"Flight Distance\", \"Departure Delay in Minutes\", \"Arrival Delay in Minutes\"]\nfor n in numericVar:\n    plot_hist(n)","d22a8a3a":"train_df.columns=[each.replace(\" \",\"_\") for each in train_df.columns]","8e5c3ebf":"train_df.head()","d4cf7f0b":"train_df[\"satisfaction\"]=[1 if each==\"satisfied\" else 0 for each in train_df.satisfaction]","3b8c632e":"train_df.head(10)","a2cf6488":"# Gender vs satisfaction\ntrain_df[[\"Gender\",\"satisfaction\"]].groupby([\"Gender\"],as_index=False).mean().sort_values(by=\"satisfaction\",ascending=False)\n","5f07810d":"# Age vs satisfaction\ntrain_df[[\"Age\",\"satisfaction\"]].groupby([\"Age\"],as_index=False).mean().sort_values(by=\"satisfaction\",ascending=False)","89ac96a9":"# Type_of_Travel vs satisfaction\ntrain_df[[\"Type_of_Travel\",\"satisfaction\"]].groupby([\"Type_of_Travel\"],as_index=False).mean().sort_values(by=\"satisfaction\",ascending=False)","be178d42":"# Class vs satisfaction\ntrain_df[[\"Class\",\"satisfaction\"]].groupby([\"Class\"],as_index=False).mean().sort_values(by=\"satisfaction\",ascending=False)","1512a077":"# Customer_Type vs satisfaction\ntrain_df[[\"Customer_Type\",\"satisfaction\"]].groupby([\"Customer_Type\"],as_index=False).mean().sort_values(by=\"satisfaction\",ascending=False)","d1e9b42e":"# Cleanliness vs satisfaction\ntrain_df[[\"Cleanliness\",\"satisfaction\"]].groupby([\"Cleanliness\"],as_index=False).mean().sort_values(by=\"satisfaction\",ascending=False)","5f5ab6ca":"# Inflight_wifi_service vs satisfaction\ntrain_df[[\"Inflight_wifi_service\",\"satisfaction\"]].groupby([\"Inflight_wifi_service\"],as_index=False).mean().sort_values(by=\"satisfaction\",ascending=False)","1fdc7b7c":"# Inflight_entertainment vs satisfaction\ntrain_df[[\"Inflight_entertainment\",\"satisfaction\"]].groupby([\"Inflight_entertainment\"],as_index=False).mean().sort_values(by=\"satisfaction\",ascending=False)","06e6ae59":"# Food_and_drink vs satisfaction\ntrain_df[[\"Food_and_drink\",\"satisfaction\"]].groupby([\"Food_and_drink\"],as_index=False).mean().sort_values(by=\"satisfaction\",ascending=False)","6157d9bb":"# Seat_comfort vs satisfaction\ntrain_df[[\"Seat_comfort\",\"satisfaction\"]].groupby([\"Seat_comfort\"],as_index=False).mean().sort_values(by=\"satisfaction\",ascending=False)","352c4e56":"numerical_features = train_df.select_dtypes(exclude=['object']).drop([\"satisfaction\"],axis=1).copy()\nnumerical_features.columns","f5765d94":"fig = plt.figure(figsize=(12,18))\nfor i in range(len(numerical_features.columns)):\n    fig.add_subplot(9,4,i+1)\n    sns.boxplot(y=numerical_features.iloc[:,i])\n\nplt.tight_layout()\nplt.show()","25b3aac2":"def detect_outliers(df,features):\n    outlier_indices=[]\n    \n    for c in features:\n        # 1st quartile\n        Q1=np.percentile(df[c],25)\n        \n        # 3rd quartile\n        Q3=np.percentile(df[c],75)\n        \n        # IQR\n        IQR= Q3-Q1\n        \n        # Outlier Step\n        outlier_step= IQR * 1.5\n        \n        # Detect outlier and their indeces \n        outlier_list_col = df[(df[c]< Q1 - outlier_step)|( df[c] > Q3 + outlier_step)].index\n        \n        # Store indices \n        outlier_indices.extend(outlier_list_col)\n    \n    outliers_indices = Counter(outlier_indices)\n    multiple_outliers = list(i for i , v in outliers_indices.items() if v>2 )\n    return multiple_outliers","76dbb44d":"train_df.loc[detect_outliers(train_df,[ 'Age', 'Flight_Distance', 'Inflight_wifi_service',\n       'Departure\/Arrival_time_convenient', 'Ease_of_Online_booking',\n       'Gate_location', 'Food_and_drink', 'Online_boarding', 'Seat_comfort',\n       'Inflight_entertainment', 'On-board_service', 'Leg_room_service',\n       'Baggage_handling', 'Checkin_service', 'Inflight_service',\n       'Cleanliness', 'Departure_Delay_in_Minutes',\n       'Arrival_Delay_in_Minutes'])]","29f635ed":"# drop outliers\ntrain_df = train_df.drop(detect_outliers(train_df,[ 'Age', 'Flight_Distance', 'Inflight_wifi_service',\n       'Departure\/Arrival_time_convenient', 'Ease_of_Online_booking',\n       'Gate_location', 'Food_and_drink', 'Online_boarding', 'Seat_comfort',\n       'Inflight_entertainment', 'On-board_service', 'Leg_room_service',\n       'Baggage_handling', 'Checkin_service', 'Inflight_service',\n       'Cleanliness', 'Departure_Delay_in_Minutes',\n       'Arrival_Delay_in_Minutes']),axis = 0).reset_index(drop = True)","098b5bd7":"test_df.columns=[each.replace(\" \",\"_\") for each in test_df.columns]\ntest_df[\"satisfaction\"]=[1 if each==\"satisfied\" else 0 for each in test_df.satisfaction]","30ee54d9":"train_df.shape","47cd7af5":"train_df_len=len(train_df)\ntrain_df= pd.concat([train_df,test_df],axis=0).reset_index(drop=True)","6d5e51a3":"train_df.head()","60c4ed5d":"import missingno as msno\nmsno.bar(train_df)\nplt.title(\"Missing Value Graphs\")\nplt.show()","394c4b10":"train_df.columns[train_df.isnull().any()]","1f762c5c":"train_df.isnull().sum()","96fdee97":"np.mean(train_df[\"Arrival_Delay_in_Minutes\"])","5befceb9":"train_df[train_df[\"Arrival_Delay_in_Minutes\"].isnull()]","ae61e2ca":"train_df.shape","0fd4a7da":"train_df[\"Arrival_Delay_in_Minutes\"]=train_df[\"Arrival_Delay_in_Minutes\"].fillna(np.mean(train_df[\"Arrival_Delay_in_Minutes\"]))","4c79ef6d":"train_df[train_df[\"Arrival_Delay_in_Minutes\"].isnull()]","b055ebaf":"plt.figure(figsize=(10,10))\nlist1=[\"Age\",'Inflight_wifi_service',\n       'Departure\/Arrival_time_convenient', 'Ease_of_Online_booking',\n       'Gate_location', 'Food_and_drink', 'Online_boarding', 'Seat_comfort',\n       'Inflight_entertainment', 'On-board_service', 'Leg_room_service',\n       'Baggage_handling', 'Checkin_service', 'Inflight_service',\n       'Cleanliness',\"satisfaction\"]\nsns.heatmap(train_df[list1].corr(),annot=True,fmt=\".2f\")\nplt.show()","453ebd00":"g=sns.catplot(x=\"Gender\",y=\"satisfaction\",data=train_df,kind=\"bar\",size=6)\ng.set_ylabels(\"Satisfaction Probability\")\nplt.show()","8d8bb9bd":"g= sns.FacetGrid(train_df,col=\"satisfaction\")\ng.map(sns.distplot,\"Age\",bins=25)\nplt.show()\n# 0=neutral or dissatisfied, 1=satisfied ","ac637ff7":"g=sns.factorplot(x=\"Customer_Type\",y=\"satisfaction\",data=train_df,kind=\"bar\",size=6)\ng.set_ylabels(\"Satisfaction Probability\")\nplt.show()","e402aa92":"g=sns.factorplot(x=\"Type_of_Travel\",y=\"satisfaction\",data=train_df,kind=\"bar\",size=6)\ng.set_ylabels(\"Satisfaction Probability\")\nplt.show()","38ecd0c4":"g=sns.factorplot(x=\"Class\",y=\"satisfaction\",data=train_df,kind=\"bar\",size=6)\ng.set_ylabels(\"Satisfation Probability\")\nplt.show()","b5394c78":"sns.swarmplot(x=\"Gender\", y=\"Age\",hue=\"satisfaction\", data=train_df.head(1000))\nplt.show()\n# 0=neutral or dissatisfied, 1=satisfied  ","b16f5d6e":"personal=train_df[train_df.Type_of_Travel==\"Personal Travel\"]\npersonal.head()","4b5337c8":"def service_plot(variable):\n    \n    var=personal[variable]\n    var_Value=var.value_counts()\n    \n    #visualize\n    plt.figure(figsize=(9,3))\n    plt.bar(var_Value.index,var_Value.values)\n    \n    plt.xlabel(\"Passengers Score\")\n    plt.ylabel(\"Frequency\")\n    plt.title(variable)\n    plt.show()\n    print(\"{}: \\n {}\".format(variable,var_Value))","b72dcb11":"service=[\"On-board_service\", \"Leg_room_service\", \"Checkin_service\",\"Inflight_service\"]\n\nfor c in service:\n    service_plot(c)","034c0805":"def eat_plot(variable):\n    \n    var=personal[variable]\n    var_Value=var.value_counts()\n    \n    #visualize\n    plt.figure(figsize=(9,3))\n    plt.bar(var_Value.index,var_Value.values)\n    \n    plt.xlabel(\"Passengers Score\")\n    plt.ylabel(\"Frequency\")\n    plt.title(variable)\n    plt.show()\n    print(\"{}: \\n {}\".format(variable,var_Value))","24d24244":"eat=[\"Food_and_drink\", \"Cleanliness\", \"Inflight_entertainment\"]\n\nfor c in eat:\n    eat_plot(c)","512bf836":"def flight_plot(variable):\n    \n    var=personal[variable]\n    var_Value=var.value_counts()\n    \n    #visualize\n    plt.figure(figsize=(9,3))\n    plt.bar(var_Value.index,var_Value.values)\n    \n    plt.xlabel(\"Passengers Score\")\n    plt.ylabel(\"Frequency\")\n    plt.title(variable)\n    plt.show()\n    print(\"{}: \\n {}\".format(variable,var_Value))","8f65d059":"flight=[\"Gate_location\", \"Seat_comfort\", \"Baggage_handling\"]\n\nfor c in flight:\n    flight_plot(c)","7dda7f94":"train_df.head()","78396c9b":"sns.countplot(x=\"Customer_Type\",data=train_df)\n","95ec47f2":"train_df=pd.get_dummies(train_df,columns=[\"Customer_Type\"])\ntrain_df.head()","ab42c926":"train_df.Type_of_Travel.head()","09e2ba33":"sns.countplot(x=\"Type_of_Travel\",data=train_df)","c5bff544":"train_df=pd.get_dummies(train_df,columns=[\"Type_of_Travel\"])\ntrain_df.head()","06fdf31c":"sns.barplot(x=train_df.Class.value_counts().values,y=train_df.Class.value_counts().index)\nplt.xlabel(\"Number of Passenger\")\nplt.show()","086be06e":"train_df=pd.get_dummies(train_df,columns=[\"Class\"])\ntrain_df.head()","510951f7":"sns.countplot(x=\"Gender\",data=train_df)","fa775f45":"train_df=pd.get_dummies(train_df,columns=[\"Gender\"])\ntrain_df.head()","3abcbc14":"train_df.drop(labels=[\"id\"],axis=1,inplace=True)","1f5c8069":"train_df.head()","9e73becb":"from sklearn.model_selection import train_test_split,StratifiedKFold,GridSearchCV\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.ensemble import RandomForestClassifier,VotingClassifier\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.metrics import confusion_matrix","c2b41953":"train_df_len","b2b8c929":"test=train_df[train_df_len:]\ntest.drop(labels=[\"satisfaction\"],axis=1,inplace=True)","53dc4d7c":"test.head()","bf59f329":"train=train_df[:train_df_len]\nX_train=train.drop(labels=\"satisfaction\",axis=1)\ny_train=train[\"satisfaction\"]\nX_train,X_test,y_train,y_test=train_test_split(X_train,y_train,test_size=0.33,random_state=42)\nprint(\"X_train\",len(X_train))\nprint(\"X_test\",len(X_test))\nprint(\"y_train\",len(y_train))\nprint(\"y_test\",len(y_test))\nprint(\"test\",len(test))","06476c6d":"logreg=LogisticRegression()\nlogreg.fit(X_train,y_train)\nacc_log_train=round(logreg.score(X_train,y_train)*100,2)\nacc_log_test=round(logreg.score(X_test,y_test)*100,2)\nprint(\"Training Accuracy: % {}\".format(acc_log_train))\nprint(\"Test Accuracy: % {}\".format(acc_log_test))","73c6ffc1":"y_pred=logreg.predict(X_test)\ncm=confusion_matrix(y_test,y_pred)\nsns.heatmap(cm,annot=True,fmt=\"d\") \nplt.show()","19ca898e":"random_state=42\nclassifier = [DecisionTreeClassifier(random_state=random_state),\n             RandomForestClassifier(random_state=random_state),\n             LogisticRegression(random_state=random_state),\n             KNeighborsClassifier()]\ndt_param_grid={\"min_samples_split\":range(10,500,20),\n              \"max_depth\":range(1,20,2)}\nrf_param_grid={\"max_features\":[1,3,10],\n              \"min_samples_split\":[2,3,10],\n              \"min_samples_leaf\":[1,3,10],\n              \"bootstrap\":[False],\n              \"n_estimators\":[100,300],\n              \"criterion\":[\"gini\"]}\n\nlogreg_param_grid={\"C\":np.logspace(-3,3,7),\n                  \"penalty\":[\"l1\",\"l2\"]}\nknn_param_grid={\"n_neighbors\": np.linspace(1,19,10,dtype=int).tolist(),\n               \"weights\":[\"uniform\",\"distance\"],\n               \"metric\":[\"euclidean\",\"manhattan\"]}\nclassifier_param=[dt_param_grid,\n                 rf_param_grid,\n                 logreg_param_grid,\n                 knn_param_grid]\n","1e864643":"cv_result=[]\nbest_estimators=[]\nfor i in range(len(classifier)):\n    clf=GridSearchCV(classifier[i],param_grid=classifier_param[i],cv=StratifiedKFold(n_splits=10),scoring=\"accuracy\",n_jobs=-1,verbose=1)\n    clf.fit(X_train,y_train)\n    cv_result.append(clf.best_score_)\n    best_estimators.append(clf.best_estimator_)\n    print(cv_result[i])","459e13d7":"cv_results = pd.DataFrame({\"Cross Validation Means\":[0.9426983403065574,0.9574115458084643,0.8198176386217473,0.784126066638906], \"ML Models\":[\"DecisionTreeClassifier\",\"RandomForestClassifier\",\n             \"LogisticRegression\",\n             \"KNeighborsClassifier\"]})\n\ng = sns.barplot(\"Cross Validation Means\", \"ML Models\", data = cv_results)\ng.set_xlabel(\"Mean Accuracy\")\ng.set_title(\"Cross Validation Scores\")","0152c349":"votingC = VotingClassifier(estimators = [(\"dt\",best_estimators[0]),\n                                        (\"rfc\",best_estimators[1])],\n                                        voting = \"soft\", n_jobs = -1)\nvotingC = votingC.fit(X_train, y_train)\nprint(accuracy_score(votingC.predict(X_test),y_test))","319c489a":"test_satisfaction = pd.Series(votingC.predict(test), name = \"satisfaction\").astype(int)\nresults = pd.concat([test_df.id, test_satisfaction],axis = 1)\nresults.to_csv(\"satisfaction.csv\", index = False)\nresults.head()","33577a11":"* Our model estimates 95.4% correctly. Our model works well.","1a7d5b76":"* DecisonTreeClassifier accuracy score: 94.2%\n* RandomForestClassifier accuracy score: 95.7%\n* LogisticRegression : 81.9%\n* KNeighborsClassifier: 78.4%","2683a3f6":"<a id = \"8\"><\/a><br>\n# Missing Value\n* Find Missing Value\n* Fill Missing Value","2229b221":"<a id = \"33\"><\/a><br>\n## Ensemble Modeling\n* We will combine 2 algorithms with the best value. These will be random forest classifer and decision tree classifer.","e19fbd44":"# INTRODUCTION\n\n \n* Hello to everyvone. Customer analysis in this notebook. As a result of our analysis, we will guess whether the passengers are satisfied with the trip.\n* We will use various machine learning algorithms in our model.\n* Let's start with content.\n* Content:\n    1. [Load and Check Data](#1)\n    2. [Variable Description](#2)\n        * [Univariate Variable Analysis](#3)\n            * [Categorical Variable](#4)\n            * [Numerical Variable](#5)\n    3. [Basic Data Analysis](#6)        \n    4. [Outlier Detection](#7)\n    5. [Missing Value](#8)\n        * [Find Missing Value](#9)\n        * [Fill Missing Value](#10)\n\n    6. [Visualization](#11)\n        * [Correlation Matrix](#12)\n        * [Gender--> Satisfaction](#13)\n        * [Age--> Satisfaction](#14)\n        * [Customer Type--> Satisfaction](#15)\n        * [Type of Travel--> Satisfaction](#16)\n        * [Class--> Satisfaction](#17)\n        * [Gender-->Age-->Satisfaction](#22)\n        * [Personal Travel Analysis](#18)\n            * [Service Scoring of Personal Travel Passenger](#19)\n            * [Eating, Drinking, Cleaning and In-flight Entertainment Scoring of Personal Travel Passenger](#20)\n            * [Aircraft Specifications Scoring](#21)\n    7. [Feature Engineering](#23)\n        * [Customer Type](#24)\n        * [Type of Travel](#25)\n        * [Class](#26)\n        * [Gender](#27)\n        * [Drop ID](#28)\n    8. [Modeling](#29)\n        * [Train - Test Split](#30)\n        * [Simple Logistic Regression](#31)\n        * [Hyperparameter Tuning - Grid Search - Cross Validation](#32)\n        * [Ensemble Modeling](#33)\n        * [Prediction and Submission](#34)\n    9. [Conculusion](#35)\n","3a5fc39b":"* There are 507 0 points in the leg room service.4624 has 1 point, 9436 has 2 points. Personal travel passengers are not satisfied with this service.\n* There are lots of 1 and 2 points in on board service and checking service.","9cbefc3f":"* %69 of passenger class on business are satisfied, %24 of passenger class on eco plus are satisfied, %19 of passenger class on eco are satisfied. It is interesting that there is such a difference in satisfaction between eco and business.","ce90a7eb":"* Now let's look at the effect of some features on satisfaction","bbf19ad7":"* 20% of the passengers who do not like the food are satisfied with the flight.Interesting statitic.","71acd459":"<a id = \"20\"><\/a><br>\n## Eating, Drinking, Cleaning and In-flight Entertainment Scoring of Personal Travel Passenger","ab70d9a8":"<a id = \"16\"><\/a><br>\n## Type of Travel-->Satisfaction","ead80f1f":"* Categorical Variables: Inflight wifi service, Departure\/Arrival time convenient, Ease of Online booking, Gate location, Food and drink, Online boarding, Seat comfort, Inflight entertainment, On-board service, Leg room service, Baggage handling, Checkin service, Inflight service, Cleanliness,Gender, Customer Type, Type of Travel, Class and satisfaction.\n* Numerical Variables: id,Age, Flight Distance, Departure Delay in Minutes, Arrival Delay in Minutes","01775ff4":"* The gate position of the plane is not liked.\n* Seat comfort is also not liked.","305755d4":"* There are many passengers who give 1 and 2 points in eating and drinking.There are also 64 passengers giving 0 points.\n* There are many passengers who give 1 and 2 points in cleaning.\n* There are many passengers who get 1 and 2 points in in-flight entertainment.\n* There may be a problem with these services.","65f1babf":"<a id = \"15\"><\/a><br>\n## Customer Type-->Satisfaction","50c6f1af":"<a id = \"35\"><\/a><br>\n# Conculusion\n* In this project, I tried to find out if people are satisfied with the airplane journey.\n* You can support me by liking and commenting.\n* See you in my next project !\n","088c16da":"* Satisfaction rate of male passengers %44, satification rate of female passenger %43","45f216b0":"<a id = \"5\"><\/a><br>\n## Numerical Variable","106f908f":"<a id = \"22\"><\/a><br>\n## Gender-->Age-->Satisfaction","c7700fed":"<a id = \"21\"><\/a><br>\n## Aircraft Specifications Scoring","6df45359":"* 0-20 years old is  generally neutral or dissatisfied with the flight.\n* 30-60 years old is generally satisfied with the flight.\n* 65-80 years old passengers is neutral or dissatisfied.","32abdb43":"<a id = \"2\"><\/a><br>\n# Variable Description\n1. id : Unique id number to each passenger.\n2. Gender: Gender of the passengers (Female, Male)\n3. Customer Type: The customer type (Loyal customer, disloyal customer)\n4. Age: The actual age of the passengers\n5. Type of Travel: Purpose of the flight of the passengers (Personal Travel, Business Travel)\n6. Class: Travel class in the plane of the passengers (Business, Eco, Eco Plus)\n7. Flight distance: The flight distance of this journey\n8. Inflight wifi service: Satisfaction level of the inflight wifi service (0:Not Applicable;1-5)\n9. Departure\/Arrival time convenient: Satisfaction level of Departure\/Arrival time convenient\n10. Ease of Online booking: Satisfaction level of online booking\n11. Gate location: Satisfaction level of Gate location\n12. Food and drink: Satisfaction level of Food and drink\n13. Online boarding: Satisfaction level of online boarding\n14. Seat comfort: Satisfaction level of Seat comfort\n15. Inflight entertainment: Satisfaction level of inflight entertainment\n16. On-board service: Satisfaction level of On-board service\n17. Leg room service: Satisfaction level of Leg room service\n18. Baggage handling: Satisfaction level of baggage handling\n19. Check-in service: Satisfaction level of Check-in service\n20. Inflight service: Satisfaction level of inflight service\n21. Cleanliness: Satisfaction level of Cleanliness\n22. Departure Delay in Minutes: Minutes delayed when departure\n23. Arrival Delay in Minutes: Minutes delayed when Arrival\n24. Satisfaction: Airline satisfaction level(Satisfaction, neutral or dissatisfaction)","ac35691b":"<a id = \"1\"><\/a><br>\n# Load and Check Data\n","7f2c42d2":"* Loyal Customer most satisfied than disloyal customer.","ce3175d1":"* Females and males are satisfaction probability almost equal. Male %44, Female %43 satisfaction.\n","f6411529":"<a id = \"14\"><\/a><br>\n## Age-->Satisfaction","b6ca8f23":"* Our logistic regression model gives 81.94% correct results.\n* 19% error margin is not good for this data.","36556625":"<a id = \"31\"><\/a><br>\n## Simple Logistic Regression","13f97617":"## Import Librarires","554f5fbd":"<a id = \"12\"><\/a><br>\n## Corelation Matrix","2cb55b97":"<a id = \"19\"><\/a><br>\n## Service Scoring of Personal Travel Passenger","53deb290":"<a id = \"25\"><\/a><br>\n## Type of Travel","0938bcda":"<a id = \"27\"><\/a><br>\n## Gender","ef57a733":"<a id = \"11\"><\/a><br>\n# Visualization","75377be0":"<a id = \"17\"><\/a><br>\n## Class-->Satisfaction","c71f2674":"<a id = \"29\"><\/a><br>\n# Modeling\n* Algorithms that we will use when creating our model;\n* Logistic Regression\n* Random Forest Classifer\n* Decision Tree Classifer\n* KNeighbors Classifer","bf6731b8":"<a id = \"9\"><\/a><br>\n## Find Missing Value","8cd931ce":"<a id = \"13\"><\/a><br>\n## Gender-->Satisfaction","a9cb5dfe":"## Confusion Matrix (Logistic Regression)","b1b5c479":"# Airline Passenger Satisfaction Analysis\n![](https:\/\/ligarbatravel.com\/wp-content\/uploads\/2015\/07\/ligarba_turizm_ucak_bileti.jpg)","a4500185":"* In the confusion matrix we can see where our mistakes are.\n* 0:satisfied, 1: neutral or dissatisfied.","8a763e87":"* The most satisfied age group 46-56.","6486eb33":"<a id = \"10\"><\/a><br>\n## Fill Missing Value\n* Arrival_Delay_in_Minutes has 393 missing value\n* Since I do not know the flight delay time, I will try a different method.\n* I will fill the nan values with the average flight delay time. Because I don't want my model to be affected by this parameter.\n","f3ac7f20":"* Business class is also happy here. But eco and eco plus  neutral or dissatisfied with the flight. ","f8a26822":"* 58% of passengers traveling on business are satisfied, 0.09% of passengers traveling on personal are satisfied. It's interesting statitic.","a99c3c38":"* Business travel is generally satisfied with the flight but personal travel is generally neutral or dissatisfied with the flight.\n* Personal travel is %90 neutral or dissatisfied with the flight. This statistic is interesting.","e3e7c4da":"<a id = \"30\"><\/a><br>\n## Train - Test Split","7bf966f1":"<a id = \"28\"><\/a><br>\n## Drop ID","e6e9e1b0":"* \"Unnamed: 0\" we will not use unnamed 0. so let's delete.","cd216279":"* Most of those who give 5 points to cleanliness are satisfied with the flight.","dd799126":"* int64(18): id, Age,Flight Distance, Inflight wifi service, Departure\/Arrival time convenient, Ease of Online booking, Gate location, Food and drink, Online boarding, Seat comfort, Inflight entertainment, On-board service, Leg room service, Baggage handling, Checkin service, Inflight service, Cleanliness and Departure Delay in Minutes.\n* object(5): Gender, Customer Type, Type of Travel, Class and satisfaction.\n* float64(1): Arrival Delay in Minutes.","ea1f4d10":"<a id = \"24\"><\/a><br>\n## Customer Type","9dd66db7":"* Gender --> satisfaction\n* Age --> satisfaction\n* Type_of_Travel --> satisfaction\n* Class --> satisfaction\n* Customer_Type --> satisfaction\n* Cleanliness --> satisfaction\n* Inflight_wifi_service --> satisfaction\n* Inflight_entertainment --> satisfaction\n* Food_and_drink --> satisfaction\n* Seat_comfort --> satisfaction","9cf32959":"* In the missing value chart, the only shortcoming is in Arrival_Delay_in_Munites","9cee3975":"<a id = \"32\"><\/a><br>\n## Hyperparameter Tuning - Grid Search - Cross Validation\nWe will compare 4 ml classifier and evaluate mean accuracy of each of them by stratified cross validation.\n* Decision Tree\n* Random Forest\n* KNN\n* Logistic Regression","254eb9f7":"<a id = \"26\"><\/a><br>\n## Class","c8115873":"<a id = \"18\"><\/a><br>\n\n# Personal Travel Analysis\n* Personal travel is generally neutral or dissatisfied with the flight.\n* Let's examine why.","0d5f4d0f":"* Most of those who give 0 to wifi service on the plane are satisfied with the flight. It seems that wifi service is not that important.","2d2b95c3":"<a id = \"23\"><\/a><br>\n# Feature Engineering \n* Our aim in this section is to bring out new features.","a4908f46":"* There is a standard distribution in flight entertainment.","af10bbd7":"<a id = \"4\"><\/a><br>\n## Categorical Variables","92852024":"<a id = \"7\"><\/a><br>\n# Outlier Detection\n* Outlier detection is very important for the correct operation of the model when installing the model.","740ff00d":"<a id = \"3\"><\/a><br>\n# Univariate Variable Analysis\n","e810d7b4":"* There is no one that gives the seat comfort 0 points.","91499b7e":"<a id = \"6\"><\/a><br>\n# Basic Data Analysis\n* First of all, I will turn it into numerical to use some object properties in the data. \n* The feature we will classify will be \"satisfaction\". We make it numeric too. satisfaction (0:neutral or dissatisfied, 1: satisfied)\n* Some titles make my job difficult. Let's solve this problem.","b8416c1e":"* Disloyal customer is generally neutral or dissatisfied with the flight.","1007ceed":"<a id = \"34\"><\/a><br>\n## Prediction and Submission"}}