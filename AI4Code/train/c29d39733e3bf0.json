{"cell_type":{"ba9b4158":"code","7dca0adf":"code","a8179548":"code","6c19cadf":"code","f35b0ba6":"code","47220a5f":"code","ea00b945":"code","04d9fe1b":"code","57f6826b":"code","2fea7883":"code","1545a1b1":"code","99972968":"code","8bc16a09":"code","a26b2d8f":"code","e1e0005d":"code","5e1b3ba1":"code","0ba50897":"code","aa3dcc45":"code","836220ac":"code","a2e65481":"markdown","6050600d":"markdown","1252742f":"markdown","5086af0e":"markdown","fe1d91cc":"markdown","3387ab47":"markdown","b6471e7a":"markdown","d18207ae":"markdown","6c34438c":"markdown","438d2c2d":"markdown","908a8975":"markdown","fd162268":"markdown","b498fde4":"markdown","03b85e51":"markdown","7998fec6":"markdown","cb8ae9b4":"markdown","a3c15d87":"markdown"},"source":{"ba9b4158":"import pandas as pd\nimport os\nimport matplotlib.pyplot as plt\nfrom itertools import combinations\nfrom collections import Counter","7dca0adf":"sales_df = pd.read_csv('..\/input\/sales-analysis\/data.csv')\nsales_df.head()","a8179548":"sales_df = sales_df.dropna(how='all') ","6c19cadf":"sales_df = sales_df[sales_df['Order Date'].str[0:2] != 'Or']","f35b0ba6":"sales_df = sales_df.reset_index()\nsales_df = sales_df.drop(columns = 'index')","47220a5f":"sales_df['Quantity Ordered'] = pd.to_numeric(sales_df['Quantity Ordered']) # make int\nsales_df['Price Each'] = pd.to_numeric(sales_df['Price Each']) # make Float","ea00b945":"sales_df['Month'] = sales_df['Order Date'].str[0:2]\nsales_df['Month'] = sales_df['Month'].astype('int32')","04d9fe1b":"sales_df['Sales'] = sales_df['Quantity Ordered'] * sales_df['Price Each']","57f6826b":"# use apply() method\ndef get_city(address):\n    return address.split(',')[1]\ndef get_State(address):\n    return address.split(',')[2].split(' ')[1]\nsales_df['City'] = sales_df['Purchase Address'].apply(lambda x:f\"{get_city(x)} ({get_State(x)})\")","2fea7883":"sales_months = sales_df.groupby('Month').sum()","1545a1b1":"months = sales_months.index\nplt.title('Sales By Months')\nplt.bar(months,sales_months['Sales'])\nplt.xticks(months)\nplt.ylabel('Sales In [million $]')\nplt.xlabel('Months Numbers')\nplt.show()","99972968":"highest_city_sales = sales_df.groupby('City').sum()","8bc16a09":"cities = sales_df['City'].unique()\nplt.title('Sales By Cities')\nplt.bar(cities,highest_city_sales['Sales'])\nplt.xticks(cities, rotation='vertical',size=8)\nplt.ylabel('Sales in [million $]')\nplt.xlabel('Cities')\nplt.show()","a26b2d8f":"sales_df['Order Date'] = pd.to_datetime(sales_df['Order Date']) # convert date column to real date format","e1e0005d":"sales_df['Hour'] = sales_df['Order Date'].dt.hour # Add Hour column \nsales_df['Minute'] = sales_df['Order Date'].dt.minute # Add Minute column","5e1b3ba1":"hours = [hour for hour, df in sales_df.groupby('Hour')]\n\nplt.plot(hours,sales_df.groupby('Hour').count())\nplt.title(\"My recommendation is around 11am(11) or 7am(19)\")\nplt.xticks(hours)\nplt.xlabel('Hours')\nplt.ylabel('Number Of Orders')\nplt.grid()\nplt.show()\n\n# My recommendation is around 11am(11) or 7am(19)","0ba50897":"most_sold_togather_df = sales_df[sales_df['Order ID'].duplicated(keep=False)]\ngroup_products = most_sold_togather_df.groupby('Order ID')['Product'].transform(lambda x:','.join(x))\nmost_sold_togather_df.insert(2,'Grouped',group_products,True)\nmost_sold_togather_df = most_sold_togather_df[['Order ID','Grouped']].drop_duplicates()\nmost_sold_togather_df.head()","aa3dcc45":"count = Counter()\nnumber_of_group = 4\nfor row in most_sold_togather_df['Grouped']:\n    row_list = row.split(',')\n    count.update(Counter(combinations(row_list,number_of_group)))\nprint(number_of_group,' Products Group')\nfor k,v in count.most_common(50):\n    groups = ''\n    for i in k:\n        groups += i+\" | \"\n    print('-----------------------------',v,'Orders -----------------------------') \n    print(groups[:-2])     ","836220ac":"most_product = sales_df.groupby('Product')\n\nquantity_orders = most_product['Quantity Ordered'].sum()\n\nproducts = [product for product,df in most_product]\nplt.title('Number of orders by product')\nplt.bar(products,quantity_orders)\nplt.xticks(products, rotation='vertical', size=12)\nplt.xlabel('Products')\nplt.ylabel('Quantity Ordered')\nplt.show()","a2e65481":"##### B) Add Sales Column","6050600d":"### 3 : Clean Up The Data","1252742f":"##### Convert columns to correct type","5086af0e":"#### Find 'Or' and remove it","fe1d91cc":"##### C) Add City Column","3387ab47":"### 1 : Import Necessary Libraries","b6471e7a":"### 2 : Read DataFrame ","d18207ae":"## Question 4: What products are most often sold togather? ","6c34438c":"#### Reset index","438d2c2d":"##### Drop Rows NAN","908a8975":"My recommendation is around 11am(11) or 7am(19)","fd162268":"## Question 1: What was the best month for sales? How much was earned that month? ","b498fde4":"##### A) Add Month Column","03b85e51":"### 4 : Augment data with additional columns","7998fec6":"## Question 3: What time should we display advertisements to maximize likelihood of costomer's buying pooduct?","cb8ae9b4":"## Question 5: What Product sold the most? Why do you think it sold the most? ","a3c15d87":"## Question 2: What city had the highest number of sales?"}}