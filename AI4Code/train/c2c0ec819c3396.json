{"cell_type":{"30bf75eb":"code","50bf7ea5":"code","afc65317":"code","98f7fd6d":"code","1a87738e":"code","c3e66bbd":"code","9848271f":"code","72e63dd8":"code","f0241f1b":"code","64834bc7":"markdown","521171ef":"markdown","86f621c8":"markdown"},"source":{"30bf75eb":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nfrom matplotlib import pyplot as plt\nimport plotly.graph_objects as go\nfrom fbprophet import Prophet\nimport pycountry\nimport plotly.express as px","50bf7ea5":"df = pd.read_csv('..\/input\/novel-corona-virus-2019-dataset\/covid_19_data.csv',parse_dates=['Last Update'])\ndf.rename(columns={'ObservationDate':'Date', 'Country\/Region':'Country'}, inplace=True)\n\ndf_confirmed = pd.read_csv(\"\/kaggle\/input\/novel-corona-virus-2019-dataset\/time_series_covid_19_confirmed.csv\")\ndf_recovered = pd.read_csv(\"\/kaggle\/input\/novel-corona-virus-2019-dataset\/time_series_covid_19_recovered.csv\")\ndf_deaths = pd.read_csv(\"\/kaggle\/input\/novel-corona-virus-2019-dataset\/time_series_covid_19_deaths.csv\")\n\ndf_confirmed.rename(columns={'Country\/Region':'Country'}, inplace=True)\ndf_recovered.rename(columns={'Country\/Region':'Country'}, inplace=True)\ndf_deaths.rename(columns={'Country\/Region':'Country'}, inplace=True)\n\n# Serbia\nserbia = df.query('Country==\"Serbia\"')\nserbia.groupby('Date').sum()\nconfirmed = serbia.groupby('Date').sum()['Confirmed'].reset_index()\ndeaths = serbia.groupby('Date').sum()['Deaths'].reset_index()\nrecovered = serbia.groupby('Date').sum()['Recovered'].reset_index()","afc65317":"fig = go.Figure()\nfig.add_trace(go.Scatter(x=confirmed['Date'], \n                         y=confirmed['Confirmed'],\n                         mode='lines+markers',\n                         name='Confirmed',\n                         line=dict(color='blue', width=2)\n                        ))\nfig.add_trace(go.Scatter(x=deaths['Date'], \n                         y=deaths['Deaths'],\n                         mode='lines+markers',\n                         name='Deaths',\n                         line=dict(color='Red', width=2)\n                        ))\nfig.add_trace(go.Scatter(x=recovered['Date'], \n                         y=recovered['Recovered'],\n                         mode='lines+markers',\n                         name='Recovered',\n                         line=dict(color='Green', width=2)\n                        ))\nfig.update_layout(\n    title='Serbia Corona Virus Cases - Confirmed, Deaths, Recovered',\n    xaxis_tickfont_size=14,\n    yaxis=dict(\n        title='Number of Cases',\n        titlefont_size=16,\n        tickfont_size=14,\n    ),\n    legend=dict(\n        x=0,\n        y=1.0,\n        bgcolor='rgba(255, 255, 255, 0)',\n        bordercolor='rgba(255, 255, 255, 0)'\n    )\n)\nfig.show()","98f7fd6d":"confirmed = serbia.groupby('Date').sum()['Confirmed'].reset_index()\ndeaths = serbia.groupby('Date').sum()['Deaths'].reset_index()\nrecovered = serbia.groupby('Date').sum()['Recovered'].reset_index()\nconfirmed.columns = ['ds','y']\n#confirmed['ds'] = confirmed['ds'].dt.date\nconfirmed['ds'] = pd.to_datetime(confirmed['ds'])","1a87738e":"confirmed.tail()","c3e66bbd":"m = Prophet(interval_width=0.95)\nm.fit(confirmed)\nfuture = m.make_future_dataframe(periods=60)\nfuture.tail()","9848271f":"forecast = m.predict(future)\nforecast[['ds', 'yhat', 'yhat_lower', 'yhat_upper']].tail()","72e63dd8":"confirmed_forecast_plot = m.plot(forecast)","f0241f1b":"review = forecast[20:35].rename(columns={'ds': 'date', 'yhat': 'mid', 'yhat_lower': 'min', 'yhat_upper': 'max'}).reset_index()\nreview[['date', 'min', 'mid', 'max']]","64834bc7":"# COVID-19 Novel Coronavirus: EDA & Forecast Number of Cases","521171ef":"## Forecasting Confirmed Cases in Serbia with Prophet (Baseline)\n\nWe perform a week's ahead forecast with Prophet, with 95% prediction intervals. Here, no tweaking of seasonality-related parameters and additional regressors are performed.","86f621c8":"# Predictions table for next 10 days\n"}}