{"cell_type":{"028114ab":"code","36e19a67":"code","69a18508":"code","fca5b500":"code","79d1a2cc":"code","65e39c58":"code","d51281d2":"code","6f92dedc":"code","dd4060e3":"code","bfcecab9":"markdown","8fbb79f3":"markdown","31ccda5e":"markdown","9fce7bec":"markdown","11bec24e":"markdown","4a70106b":"markdown","271189e3":"markdown","5fadb0ac":"markdown","b133e8c3":"markdown","6f20d5e3":"markdown","80ba0f92":"markdown","53f861c6":"markdown"},"source":{"028114ab":"# get necessary libs\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport matplotlib.cm as cm\nimport seaborn as sns\n\nplt.figure(figsize=(16,6))\n%matplotlib inline\n\ndata = pd.read_csv('..\/input\/kagglers\/liste.csv',sep=';')\ndata.head()","36e19a67":"data.pays.value_counts()[:10]","69a18508":"nodata = int(data.pays.isna().sum()\/len(data)*100)\nprint(str(nodata),\"% of Kagglers did'nt give their country\")","fca5b500":"plt.figure(figsize=(16,6))\ndata.pays.value_counts()[:10].plot.bar()","79d1a2cc":"population = pd.read_csv('..\/input\/population-by-country-2020\/population_by_country_2020.csv',sep=',')\npopulation = population[['Country (or dependency)','Population (2020)']]\npopulation = population.rename(columns={\"Country (or dependency)\": \"pays\", \"Population (2020)\": \"population\"})\npopulation = population.set_index('pays')\npopulation = population.iloc[:,0]\npopulation.head()","65e39c58":"top_countries = data.pays.value_counts()\ntop_countries = top_countries.divide(population)*1000000\ndf = top_countries.sort_values(ascending=False)[:30]\n\ndf.plot(kind='barh',    # Plot a bar chart\n        figsize=(16,16))\n","d51281d2":"mostPopulated = population[population>1000000]\ntop_countries = data.pays.value_counts()\ntop_countries = top_countries.divide(mostPopulated)*1000000\ndf = top_countries.sort_values(ascending=False)[:30]\n\ndf.plot(kind='barh',    # Plot a bar chart\n        figsize=(16,16))","6f92dedc":"universities = pd.read_html('http:\/\/www.shanghairanking.com\/ARWU-Statistics-2019.html', header=0, index_col=0)\nnbUniversities = universities[1]['501-1000'].replace('\u2014',0).astype(int)\nnbKagglers = data.pays.value_counts()\nKagglersVSuniversities = pd.DataFrame(dict(s1 = nbKagglers, s2 = nbUniversities)).reset_index().dropna()\nplt.figure(figsize=(16,10))\n# let us see if there seem to be a correlation between number of top 1000 universities and number of KAggles\nsns.scatterplot(x=\"s1\", y=\"s2\", data=KagglersVSuniversities)\nplt.title('Kagglers VS universities')\n# Set x-axis label\nplt.xlabel('nb Kagglers')\n# Set y-axis label\nplt.ylabel('nb Universities')\nplt.ylim(0, 40)\nplt.xlim(0, 100)","dd4060e3":"from scipy.stats import pearsonr\n# calculate Pearson's correlation\ncorr, _ = pearsonr(KagglersVSuniversities.s1,KagglersVSuniversities.s2 )\nprint('Pearsons correlation: %.3f' % corr)","bfcecab9":"# Where do Kagglers come from ?\n\nWe are approximatelly 130 000 Kaggle users, and 7000 experts\/masters\/grand masters.\nHow many Kagglers in my country, what are the most Kaggler-populated countries ....\nYou asked perhaps yourself those questions. And I will try to bring some answer. The problem is that there is no map or list of Kaggle community. So let's investigate.\n\n# 1. Get the List\n\nThe place where you can get a list of Kagglers is here : https:\/\/www.kaggle.com\/rankings\n![image.png](attachment:image.png)\nBut wait ... this is a web page, I'm not getting to pay a dozen of mecanichal turcs to transcribe the web page data to a spreadsheet ? \nSecond probleme, you get only the top 20 Kagglers, to get the next ones, you have to manually scroll down the web page.\nI used a little python script using \"requests\" and some libraries, that I will not develop here, it's not the goal of this notebook. But I will give you some details.\nFirst, if you open your developpers tool in your browser (I use Firefox, to open developpers tools : CTRL+SHIFT+I), you can monitor what is going on and how you browser retrieves the data. To do so, select \"Network tool\" and filter \"XHR\" requests. \n\nWhen downloading the rankings page (and scolling donw), you can see that the browser makes some url requests like this one https:\/\/www.kaggle.com\/rankings.json?group=competitions&page=2&pageSize=20 and the result is .... json !!","8fbb79f3":"# 3. Where do kagglers come from","31ccda5e":"OK, let's retrive data, I stored it in a csv file in '..\/input\/liste.csv'\n\n**This list is not complete now, my little scraper bot is still working**","9fce7bec":"More to come ....","11bec24e":"Wow, we immediately notice that some countries (five I would say) are really in top of others. But they are also big countries, with high population, let us see if the kagglers rate among population changes the ranking.\n\n# 4. Kagglers rate\n\n\nI first get demographic data and simplify it","4a70106b":"   # 6. Universities\n   \n   Is there a relationship between number of data scientists and universities in the country ? to verify that I get the shangai ranking of top 1000 universities.","271189e3":"JSON is very easy to deal with, especially in PYTHON. So, you just have to call the url below with different values of \"page\" parameter.\nYou get a list of approx 6000 Kagglers (only masters, grandmasters and experts ... ). Ok we have the list but ... there is no location ?\n\n# 2. Get the details\n\nIn the list you get, you have the url of the Kaggler's page, like my page : https:\/\/www.kaggle.com\/DJousto , you can se in this page some details like location, job, personal web ...\n![image.png](attachment:image.png)\nOnce again, this is easy to scrap with Python \/ requests. You have a list of URL, with each URL get the page, and then analyse the page (I did it with regex) to get the data. A small problem is that Kaggle limits the number of requests so after some requests you have to wait some time. I put my scraper script on my raspberry and let it work over the night.\n\nSo we have a list of Kagglers, let's play with it","5fadb0ac":"this is a rather high value, there is a high relation between number of universities and number of Kagglers","b133e8c3":"Graphically we can say that there seem to be a relation, to be more precise we can compute the pearson correlation parameter :","6f20d5e3":"You can see that it's not at all the same ranking .... I think that very small countries (below 1M) are not significant, let's get rid of small countries","80ba0f92":"![image.png](attachment:image.png)","53f861c6":"I was surprised to see some countries on the top of this list : Belarus, Israel ... did you imagine that those countries had so many datascientists ?"}}