{"cell_type":{"51de150b":"code","cb315f3e":"code","88e6e9bf":"code","c833de06":"code","5366b619":"code","70bab04f":"code","935fade4":"code","67a46d78":"code","0393b213":"code","b5d551f6":"code","5657625d":"code","5b604d61":"code","f102846d":"code","039f442d":"code","6fa7b75b":"code","088ea562":"code","5c28d3c5":"code","546c63df":"code","eee19f03":"code","6856f1c7":"code","40fd6cc6":"code","0e4b7b2e":"code","b859b602":"code","e4087ec6":"code","dee28362":"code","1cd4a6e3":"code","511094ac":"code","814d777a":"code","4be49e39":"code","24da605d":"code","44046d73":"code","9f132774":"code","8a9f4e76":"code","1f809f11":"code","b49cda68":"code","54689d0d":"code","9c331253":"code","09f75f44":"markdown","aec8976c":"markdown","5129add5":"markdown","6e7e8555":"markdown","53d14f0d":"markdown","a5da0735":"markdown","48999d24":"markdown","ba67ab7c":"markdown","d55f883d":"markdown","2afb44db":"markdown","a597aa2e":"markdown","2e982c88":"markdown","96f8d7e2":"markdown","08a64439":"markdown","f47f3416":"markdown","b05d45a1":"markdown","fcc0fd5d":"markdown","29394083":"markdown"},"source":{"51de150b":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","cb315f3e":"train = pd.read_csv(\"..\/input\/pima-indians-diabetes-database\/diabetes.csv\")","88e6e9bf":"train.head()","c833de06":"train.isnull().sum()","5366b619":"train.info()","70bab04f":"plt.figure(figsize = (15,5))\nsns.set_style('whitegrid')\nsns.histplot(data = train, x = 'Age', binwidth = 1, hue = 'Outcome')","935fade4":"plt.figure(figsize = (15,5))\nsns.set_style('whitegrid')\nsns.histplot(data = train, x = 'Pregnancies', binwidth = 1, hue = 'Outcome')","67a46d78":"sns.kdeplot(x = \"DiabetesPedigreeFunction\", data = train, shade= True, hue= \"Outcome\")","0393b213":"sns.kdeplot(x = \"BMI\", data = train, shade= True, hue= \"Outcome\")","b5d551f6":"train[train['BMI']<=10].count()","5657625d":"train = train[train[\"BMI\"]>10]","5b604d61":"train.shape","f102846d":"sns.kdeplot(x = \"BMI\", data = train, shade= True, hue= \"Outcome\")","039f442d":"sns.kdeplot(x = \"BloodPressure\", data = train, shade= True, hue= \"Outcome\")","6fa7b75b":"train[train['BloodPressure']<40].count()","088ea562":"train = train[train['BloodPressure']>40]","5c28d3c5":"train.shape","546c63df":"sns.kdeplot(x = \"BloodPressure\", data = train, shade= True, hue= \"Outcome\")","eee19f03":"sns.kdeplot(x = \"Glucose\", data = train, shade= True, hue= \"Outcome\")","6856f1c7":"train[train['Glucose']<=0].count()","40fd6cc6":"train = train[train['Glucose']>0]","0e4b7b2e":"train.shape","b859b602":"sns.kdeplot(x = \"Glucose\", data = train, shade= True, hue= \"Outcome\", )","e4087ec6":"sns.kdeplot(x = \"SkinThickness\", data = train, shade= True, hue= \"Outcome\")","dee28362":"train[train['SkinThickness']<=0].count()","1cd4a6e3":"train = train[train['SkinThickness']>0]","511094ac":"train.shape","814d777a":"sns.kdeplot(x = \"SkinThickness\", data = train, shade= True, hue= \"Outcome\")","4be49e39":"sns.kdeplot(x = \"Insulin\", data = train, shade= True, hue= \"Outcome\")","24da605d":"train[train['Insulin']<0].count()","44046d73":"from sklearn.model_selection import train_test_split","9f132774":"X_train, X_test, y_train, y_test = train_test_split(train.drop('Outcome',axis=1), train['Outcome'], test_size=0.3)","8a9f4e76":"from sklearn.neighbors import KNeighborsClassifier","1f809f11":"from sklearn.metrics import classification_report,confusion_matrix","b49cda68":"error_rate = []\nfor i in range(1,40):\n    knn = KNeighborsClassifier(n_neighbors=i)\n    knn.fit(X_train,y_train)\n    pred_i = knn.predict(X_test)\n    error_rate.append(np.mean(pred_i != y_test))","54689d0d":"plt.figure(figsize=(10,6))\nplt.plot(range(1,40),error_rate,color='blue', linestyle='dashed', marker='o',\n         markerfacecolor='red', markersize=10)\nplt.title('Error Rate vs. K Value')\nplt.xlabel('K')\nplt.ylabel('Error Rate')","9c331253":"knn = KNeighborsClassifier(n_neighbors=15)\nknn.fit(X_train,y_train)\npred = knn.predict(X_test)\nprint(confusion_matrix(y_test,pred))\nprint('\\n')\nprint(classification_report(y_test,pred))","09f75f44":"Before drawing any conclusions, we see that there is some data where BMI <= 0 which isnt possible and 0<BMI<10 which is an indication of starvation and thus the data CANNOT rightly represent diabetes.","aec8976c":"Again, this data has some irrelevant values. BP below 40 is realistically impossible if we are only observing diabetes. So, first we will delete this data.","5129add5":"NO null values in dataset","6e7e8555":"We can say that people having function value from 0 to 0.5 have higher chances to be diabetes negative relatively. In the same sense people having fucntion value from 0.5 to 1.0 are nearly equally likely to belong to either group. People having function value 1.0 to 1.5 are more likely to be diabetic.","53d14f0d":"Again skin thickness below 0 is impossible.","a5da0735":"Again same situation, below 40 is low risk and above 40 is high risk of diabetes","48999d24":"# EDA","ba67ab7c":"Blood sugar below 120 means more likely to be non-diabetic. However, Glucose above 150 greatly increases odds to be diabetic.","d55f883d":"Having BP below 80 means you are most likely to be non-diabetic by a wide margin. But after 90, its equally likely.","2afb44db":"We can clearly see, BMI below 20 has very very less chances of being diabetic. BMI 20-30 chances increase but still in favour of being non-diabetic. 30-40 says almost equally likely. from 42 onwards, being a diabetic is more likely.","a597aa2e":"# Train Test Split","2e982c88":"Most of our data consists of people below age of 50. We also see the below 30, relatively low % of people are positive. Though as age increases, the % people of that particular age having diabetes also increases, sometimes even beating % diabetes negative people.","96f8d7e2":"First, we will remove this irrelevant data. After that we will re-plot the graph","08a64439":"so, there are actually no negative insulin readings after all.","f47f3416":"We find more irrelevant values. However, this time we will only eliminate values below 0 as in some major cases blood sugar CAN go below 20 causing drowsiness or even loss of consciosness. Besides low Blood sugar patients are likely to have Diabetic hypoglycemia which makes sense given positive outcomes (Very Unlikely according to this data).","b05d45a1":"same trend as with age, as the number of pregnancies increase so does % positive population.","fcc0fd5d":"In type-1 diabetes it is possible that body makes NO INSULIN at all, and if the person hasn't taken an insulin shot, the '0' reading is possible. But Negative readings are still impossible","29394083":"# KNN"}}