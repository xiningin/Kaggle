{"cell_type":{"646d0448":"code","b0bceb58":"code","2edd6eb9":"code","200a269f":"code","df5301e7":"code","3628ffc7":"code","b41f03c9":"code","9bd5c59a":"code","48e7fa19":"code","303f9274":"code","1b21cc3e":"code","75ef3493":"code","ff7ae8f5":"code","109fa6cd":"code","e366fef5":"code","9c9edea1":"code","1cb4f142":"code","508dde6b":"code","9503dcb4":"code","1b4edbca":"code","c8b50a7e":"code","ebb8870b":"code","1e00140b":"code","971882b4":"code","8f6c9677":"code","e907187e":"code","625f628d":"markdown","9b937f99":"markdown","6006d82e":"markdown","fbd92653":"markdown","300d5ec2":"markdown","4c2feb5a":"markdown","a89d3c0c":"markdown","310ba9bc":"markdown","fab53f14":"markdown","941c6c9b":"markdown","3c396031":"markdown","797d481c":"markdown","f2b47cf7":"markdown","1040d8dc":"markdown","b248d7b9":"markdown","e5e4e2e3":"markdown","062a1c6c":"markdown","4f20d48f":"markdown","0b2e62e1":"markdown","fbd48070":"markdown","23a2275e":"markdown","1eba6e39":"markdown","d4b64e13":"markdown","038c9276":"markdown","184cf716":"markdown"},"source":{"646d0448":"import numpy as np\nimport datetime\nimport pandas as pd\nimport pylab as pyl\n\nimport matplotlib as mpl\nfrom matplotlib import pyplot as plt\n\nimport seaborn as sns\nsns.set()\n\n%matplotlib inline ","b0bceb58":"df1 = pd.read_csv('..\/input\/informadataset\/ds-1.csv')\ndf2 = pd.read_csv('..\/input\/informadataset\/ds-2.csv')\ndf3 = pd.read_csv('..\/input\/informadataset\/ds-3.csv')\ndf4 = pd.read_csv('..\/input\/informadataset\/ds-4.csv')\ndf5 = pd.read_csv('..\/input\/informadataset\/ds-5.csv')\ndf6 = pd.read_csv('..\/input\/informadataset\/ds-6.csv')\ndf7 = pd.read_csv('..\/input\/informadataset\/ds-7.csv')\ndf8 = pd.read_csv('..\/input\/informadataset\/ds-8.csv')\ndf9 = pd.read_csv('..\/input\/informadataset\/ds-9.csv')","2edd6eb9":"frames = [df1, df2, df3, df4, df5, df6, df7, df8, df9]\ndf_all = pd.concat(frames)\n\ndf_all.columns = ['Delivery date','Delivery time','Pharmacy number','Pharmacy postcode','YOB','Gender','CNK','Product name','ATC code','Unit','Price','Contribution']","200a269f":"df_gend = (df_all['Gender'] == 0 & 3)\ndf_all.drop (df_all[df_gend].index, inplace=True)\ndf_all.reset_index(drop=True,inplace=True)","df5301e7":"df_all['Gender'].value_counts()","3628ffc7":"df_all['Gender'].replace([1], 'Male', inplace = True)\ndf_all['Gender'].replace([2], 'Female', inplace = True)","b41f03c9":"df_all['Gender'].value_counts()","9bd5c59a":"df_all['Delivery time'].replace('?', np.NaN)\ndf_all['Delivery time'].value_counts()","48e7fa19":"df_all['DateTime'] = pd.to_datetime(df_all['Delivery date'] + ' ' + df_all['Delivery time'])\ndf_all['DateTime'].value_counts()","303f9274":"df_all.head(5)","1b21cc3e":"df_all['date_offset'] = (df_all['DateTime'].dt.month * 100 + df_all['DateTime'].dt.day - 320) % 1300\ndf_all['Season'] = pd.cut(df_all['date_offset'], [0, 300, 602, 900, 1300], labels = ['Spring', 'summer', 'autumn', 'winter'])\ndf_all['Season'].value_counts()\ndf_all.tail(5)","75ef3493":"df_all['Unit'].replace([0], 1, inplace = True)\ndf_all['Sales'] = df_all['Unit'] * df_all['Price']","ff7ae8f5":"df_all.head(10)","109fa6cd":"df_products = df_all.groupby(['Price','Product name'])['Gender'].count().reset_index()\n\ndf_products.columns = ['Price','Product name','Counts']\ndf_products.sort_values(by = 'Counts', ascending = False, inplace = True)","e366fef5":"df_products.head(10)","9c9edea1":"for i in range(0, len(df_products)):\n    if ('honorarium' in df_products.loc[i, 'Product name'].lower()): \n        df_products.loc[i, 'ProductType'] = 'Honorarium'\n    elif ('tabl' in df_products.loc[i, 'Product name'].lower()): \n        df_products.loc[i, 'ProductType'] = 'Tablet'\n    else:\n        df_products.loc[i, 'ProductType'] = 'Pills'","1cb4f142":"df_products = df_products.sort_values(by = 'Product name')\ndf_products.head(5)","508dde6b":"productsTypes = df_products.groupby(\"ProductType\")[\"Product name\"].count()\nproductsTypes.sort_values()","9503dcb4":"df_by_postcode = df_all.groupby(\"Pharmacy postcode\")[\"Product name\"].count()\ndf_by_postcode.sort_values()","1b4edbca":"df_jak_filter = df_all[df_all['Pharmacy postcode'] == 10]\ndf_nguyen_filter = df_all[df_all['Pharmacy postcode'] == 20]\ndf_mitchel_filter = df_all[df_all['Pharmacy postcode'] == 22]\ndf_nikita_filter = df_all[df_all['Pharmacy postcode'] == 30]\ndf_mailinh_filter = df_all[df_all['Pharmacy postcode'] == 40]","c8b50a7e":"df_prices = df_mitchel_filter.groupby(\"Season\")[\"Product name\"].count()\ndf_prices.sort_values()","ebb8870b":"plt.figure(figsize = (10,4))\nsns.countplot(x = 'Season', data = df_mitchel_filter);","1e00140b":"YearCount = df_mitchel_filter.groupby(['Gender', 'YOB'])['Season'].count().reset_index()\n\nYearCount.columns = ['Gender', 'YOB', 'Count']\nYearCount.sort_values(by = 'Count', ascending = False, inplace = True)\n\nYearCount.head(10)","971882b4":"sns.lineplot(x = 'YOB', y = 'Count', hue = 'Gender', style = 'Gender', data = YearCount)\nplt.show()","8f6c9677":"ax = sns.lineplot(x = 'YOB', y = 'Count', hue = 'Gender', style = 'Gender', data = YearCount)\nax.set_xlim(1900,2020)\nplt.show()","e907187e":"ax = plt.figure(figsize = (20, 20))\ng = sns.FacetGrid(df_mitchel_filter, col = 'Season', row = 'Gender' , hue = 'Gender')\ng.map(sns.regplot, 'Contribution', 'Price', fit_reg = False, x_jitter = .1)\ng.add_legend()","625f628d":"<font color='red'>Put text Here:<\/font>","9b937f99":"### 4.4.Prices\n\n<font color='red'>Put text Here:<\/font>","6006d82e":"<font color='red'>Put text Here:<\/font>","fbd92653":"### 6.1.Region 10 (Jak)\n\n<font color='red'>Put text Here:<\/font>","300d5ec2":"The code below wil be analysed individualy because of the time it takes to load in the categories.","4c2feb5a":"### 4.3.Season Category\n\nTo make some good visuals with the seasons we first have to extract the seasons from the DateTime column, which was made from the delivery dates and delivery times. This has been done with pd.cut.\n\nSource: https:\/\/stackoverflow.com\/questions\/60285557\/extract-seasons-from-datetime-pandas\n\nAfter making the column for the seasons we want to see if it was successfully executed. This is why we count the values by season to see is all season are made and what season has the most deliveries.","a89d3c0c":"### 6.3.Region 22 (Mitchel)\n\nThe part that is analysed in this chapter is pharmacy postcode 22. This postcode lies in the region of Antwerp.\n\n#### 6.3.1.Seasonal Analysis\n\nIn this chapter we will take a look at all the data we can find that is related to the four seasons. As we can see there is not much of a difference between the total products that have been sold per season. in de data below.","310ba9bc":"In the code above we have looked at the top 5 postcodes in the dataset. These postcodes have been divided per project group member in the following code below.","fab53f14":"As we can see, the ages are not entirely correct. This means we will only look at the ages that could be alive at the moment. This can be seen in the plot below:","941c6c9b":"## 5.Filters\n\n### 5.1.Postcode Filters\n\nTo make our analysis more efficient, every project member will analyse a part of the data based of the pharmacy postcodes. We divided the work by the top 5 postcodes with the most products.","3c396031":"### 4.5.Product Category\n\n<font color='red'>Put text Here:<\/font>","797d481c":"## 2.Loading CSV Data \n\nWith the code below we can import the csv files to the notebook. After reading the CSV files, we merge the CSV files together.","f2b47cf7":"#### 6.3.3.Prices & Contribution\n\nIn the multiple scatterplots shown below we can see the correlation between the price and contributions per gender and season. This could show us what connections could be found between the contribution and prices per gender and season.","1040d8dc":"## 4.Data Cleaning\n\n<font color='red'>Put text Here:<\/font>\n\n### 4.1.Gender Number Replacement\n\n<font color='red'>Put text Here:<\/font>","b248d7b9":"## 3.Data Merging\n\n<font color='red'>Put text Here:<\/font>","e5e4e2e3":"<font color='red'>Put text Here:<\/font>","062a1c6c":"The barplot above indicated that there is not much difference in the amount of products sold per season. It does show that in the autumn season more has been bought.\n\nThis data can also be split per gender type as seen in the plot below. This plot indicates that female customers have been buying more than male customer in every season.","4f20d48f":"#### 6.3.2.Age & Gender\n\nfor the genders we would like to see how old the customers are. This could help us see the average age of the customers and predict what products are bought mostly be specific age groups.","0b2e62e1":"### 4.2.Change Delivery Date & Time\n\n<font color='red'>Put text Here:<\/font>","fbd48070":"### 6.4.Region 30 (Nikita)\n\n<font color='red'>Put text Here:<\/font>","23a2275e":"All the customers have been grouped per year and gender. Now we are able to put this in a plot and see what years the customers are born the most frequent.","1eba6e39":"### 6.2.Region 20 (Nguyen)\n\n<font color='red'>Put text Here:<\/font>","d4b64e13":"*ADS-A Proftask - Group B*\n\n# Data Analysis: Informa\n\n## Introduction (Mailinh)\n\nFor this project it is expected that we can show where the money is in the data. Therefore questions like, where the organizations improve or how to increase the upsell could be answered when analyzing the data. Comparisons could also be useful, so we could show which pharmacists are underachieving compared to others and why.\n\nThe objective for this project is to give insight to the pharmacist. To do so, we are going to analyse the dataset. Our goal for the pharmacist is to be prepared for the particular \u201cillness season\u201d, so not only that the pharmacist can be prepared for the amount of medications but also to be able to improve their services for their patients during that season. To do so, analyzing the most sold medicine we can understand what illness appears the most in the region by the season\nof the year. \n\n## 1.Loading Libraries\n\nThe first thing we do is import all the neccessary libraries that are going to be used to analyse the data.","038c9276":"### 6.5.Region 40 (Mailinh)\n\n<font color='red'>Put text Here:<\/font>","184cf716":"## 6.Analysis\n\nThis part of the notebook will show the analysis done by project group B. Every project member has made their own analysis on the data that is filtered on a specific region. This way we can see what the differences are in statistics per region."}}