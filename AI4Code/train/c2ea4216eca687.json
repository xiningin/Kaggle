{"cell_type":{"1c178430":"code","b78913e4":"code","5fe110a2":"code","f869b133":"code","63b2549c":"code","493306d0":"code","36e73c9f":"code","d5cc7e13":"code","93f8f01e":"code","37d76973":"code","db57b32b":"code","c879cf9d":"code","e3f675b8":"code","219727cc":"code","bf9e2509":"code","821ea6e2":"code","c75609b7":"code","291bcaf3":"code","e77764e1":"code","1c81dd52":"code","2e359a12":"code","e34d03e0":"code","b5365b46":"code","ce6ab73c":"code","f7e3210a":"code","72c172ea":"code","e821c9ac":"code","2be9a5cf":"code","a674ef6d":"code","15050ff9":"code","f26b57bc":"code","c4755805":"code","ff09be7e":"code","afd15093":"code","785cdac1":"code","39d523a7":"code","2f034b11":"code","4818edc8":"code","f56e0c6f":"code","b78f36e7":"code","daa7987b":"code","a1d6060d":"code","310493e7":"code","04e102d6":"code","22b24e38":"code","d0fece92":"code","f7f971ce":"code","6454b0e1":"code","a96ec8e2":"code","1fefb000":"code","d6bdf5ba":"code","9f5b416c":"markdown","22b4fb1f":"markdown","2ed87bf6":"markdown","6e4649cf":"markdown","c5daaef7":"markdown","192dcf87":"markdown","6e020a69":"markdown","dc03869c":"markdown","a888529a":"markdown"},"source":{"1c178430":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport matplotlib\nimport plotly.express as px\nimport plotly.io as pio;\npio.renderers.default='notebook'\nimport os\nfrom sklearn.preprocessing import StandardScaler\n# Split dataset\nfrom sklearn.model_selection import train_test_split\n# Develop kmeans model\nfrom sklearn.cluster import KMeans\n# How good is clustering?\nfrom sklearn.metrics import silhouette_score\nfrom yellowbrick.cluster import SilhouetteVisualizer","b78913e4":"from IPython.core.interactiveshell import InteractiveShell\nInteractiveShell.ast_node_interactivity = \"all\"","5fe110a2":"os.chdir('\/kaggle\/input\/nyse\/')","f869b133":"df=pd.read_csv(\"fundamentals.csv\")","63b2549c":"os.listdir()","493306d0":"df.head()","36e73c9f":"df.columns","d5cc7e13":"df.shape","93f8f01e":"new_col_names={'Ticker Symbol':'Ticker_Symbol',\n               'Period Ending':'Period_Ending',\n               'Accounts Payable':'Accounts_Payable',\n               'Accounts Receivable':'Accounts_Receivable',\n               'Add\\'l income\/expense items':'Addnl_IncomeExpense_Items',\n               'After Tax ROE':'After_Tax_ROE',\n               'Capital Expenditures': 'Capital_Expenditures',\n               'Capital Surplus':'Capital_Surplus',\n               'Cash Ratio':'Cash_Ratio',\n               'Cash and Cash Equivalents':'Cash_and_Cash_Equivalents',\n               'Changes in Inventories':'Changes_in_Inventories',\n               'Common Stocks':'Common_Stocks',\n               'Cost of Revenue':'Cost_of_Revenue',\n               'Current Ratio':'Current_Ratio',\n               'Deferred Asset Charges':'Deferred_Asset_Charges',\n               'Deferred Liability Charges':'Deferred_Liability_Charges',\n               'Depreciation':'Depreciation',\n               'Earnings Before Interest and Tax':'Earnings_Before_Interest_and_Tax',\n               'Earnings Before Tax':'Earnings_Before_Tax',\n               'Effect of Exchange Rate':'Effect_Of_Exchange_Rate',\n               'Equity Earnings\/Loss Unconsolidated Subsidiary':'Equity_EarningsnLoss_Unconsolidated_Subsidiary',\n               'Fixed Assets':'Fixed_Assets',\n               'Goodwill':'Goodwill',\n               'Gross Margin':'Gross_Margin',\n               'Gross Profit':'Gross_Profit',\n               'Income Tax':'Income_Tax',\n               'Intangible Assets':'Intangible_Assets',\n               'Interest Expense':'Interest_Expense',\n                'Inventory':'Inventory',\n               'Investments':'Investments',\n               'Liabilities':'Liabilities', \n               'Long-Term Debt':'LongTerm_Debt', \n               'Long-Term Investments':'LongTerm_Investments',\n               'Minority Interest':'Minority_Interest', \n               'Misc. Stocks':'Misc_Stocks', \n               'Net Borrowings':'Net_Borrowings', \n               'Net Cash Flow':'Net_Cash_Flow',\n                'Net Cash Flow-Operating':'Net_Cash_FlowOperating',\n               'Net Cash Flows-Financing':'Net_Cash_FlowsFinancing',\n               'Net Cash Flows-Investing':'Net_Cash_FlowsInvesting',\n               'Net Income':'Net_Income', \n               'Net Income Adjustments':'Net_Income_Adjustments',\n               'Net Income Applicable to Common Shareholders':'Net_Income_Applicable_To_Common_Shareholders',\n               'Net Income-Cont. Operations':'Net_IncomeCont_Operations',\n               'Net Receivables':'Net_Receivables',\n               'Non-Recurring Items':'NonRecurring_Items',\n               'Operating Income':'Operating_Income', \n               'Operating Margin':'Operating_Margin',\n               'Other Assets':'Other_Assets',\n               'Other Current Assets':'Other_Current_Assets',\n               'Other Current Liabilities':'Other_Current_Liabilities',\n               'Other Equity':'Other_Equity',\n               'Other Financing Activities':'Other_Financing_Activities',\n               'Other Investing Activities':'Other_Investing_Activities',\n               'Other Liabilities':'Other_Liabilities',\n               'Other Operating Activities':'Other_Operating_Activities',\n               'Other Operating Items':'Other_Operating_Items',\n               'Pre-Tax Margin':'PreTax_Margin',\n               'Pre-Tax ROE':'PreTax_ROE',\n                'Profit Margin':'Profit_Margin',\n               'Quick Ratio':'Quick_Ratio',\n               'Research and Development':'Research_and_Development',\n               'Retained Earnings':'Retained_Earnings', \n               'Sale and Purchase of Stock':'Sale_and_Purchase_of_Stock',\n                'Sales, General and Admin.':'Sales_General_and_Admin',\n               'Short-Term Debt \/ Current Portion of Long-Term Debt':'ShortTerm_Debt_Current_Portion_of_LongTerm_Debt',\n               'Short-Term Investments':'ShortTerm_Investments',\n               'Total Assets':'Total_Assets',\n               'Total Current Assets':'Total_Current_Assets',\n               'Total Current Liabilities':'Total_Current_Liabilities', \n               'Total Equity':'Total_Equity', \n               'Total Liabilities':'Total_Liabilities',\n               'Total Liabilities & Equity':'Total_Liabilities_Equity',\n               'Total Revenue':'Total_Revenue',\n               'Treasury Stock':'Treasury_Stock',\n               'For Year':'For_Year',\n               'Earnings Per Share':'Earnings_Per_Share', \n               'Estimated Shares Outstanding':'Estimated_Shares_Outstanding'\n              }","37d76973":"df.rename(new_col_names,inplace=True,axis=1)","db57b32b":"df.columns","c879cf9d":"df.head()","e3f675b8":"grouped = df.groupby('Ticker_Symbol')","219727cc":"grouped.describe()","bf9e2509":"df.mean()","821ea6e2":"plt.figure(figsize=(10,10))\nsns.distplot(df.Gross_Profit)\n","c75609b7":"sns.distplot(df.Earnings_Per_Share)","291bcaf3":"sns.distplot(df.Current_Ratio)","e77764e1":"sns.boxplot(x='Operating_Income',\n           y='Gross_Profit',\n           data=df)","1c81dd52":"sns.jointplot(df.Liabilities,df.Goodwill,kind=\"reg\")","2e359a12":"sns.catplot(x='Ticker_Symbol',y='Earnings_Per_Share', kind='bar',data=df)","e34d03e0":"sns.catplot(x='Sale_and_Purchase_of_Stock',y='Gross_Profit', kind='bar',data=df)","b5365b46":"sns.relplot(x='Total_Liabilities', y='Total_Revenue',kind='scatter',data=df)","ce6ab73c":"df.shape","f7e3210a":"df=df.dropna()","72c172ea":"df.shape","e821c9ac":"num_columns=df.select_dtypes(include=['int64','float64']).copy()","2be9a5cf":"num_columns.describe()","a674ef6d":"ss = StandardScaler()","15050ff9":"ss.fit(num_columns)","f26b57bc":"X=ss.transform(num_columns)","c4755805":"np.set_printoptions(precision = 3,          # Display upto 3 decimal places\n                    threshold=np.inf        # Display full array\n                    )","ff09be7e":"X[:5,:]","afd15093":"y=num_columns['Earnings_Per_Share'].values","785cdac1":"X_train,X_test,_,y_test=train_test_split(X,y,test_size=0.25)","39d523a7":"clf=KMeans(n_clusters=2)","2f034b11":"clf.fit(X_train)","4818edc8":"clf.cluster_centers_","f56e0c6f":"clf.cluster_centers_.shape","b78f36e7":"clf.labels_","daa7987b":"clf.labels_.size","a1d6060d":"clf.inertia_","310493e7":"silhouette_score(X_train,clf.labels_)","04e102d6":"y_pred=clf.predict(X_test)","22b24e38":"y_pred","d0fece92":"np.sum(y_pred==y_test)\/y_test.size","f7f971ce":"dx=pd.Series(X_test[:,0])\ndy=pd.Series(X_test[:,1])\nsns.scatterplot(dx,dy,hue=y_pred)","6454b0e1":"sse=[]\nfor i,j in enumerate(range(10)):\n    n_clusters = i+1\n    clf1 = KMeans(n_clusters = n_clusters)\n    clf1.fit(X_train)\n    sse.append(clf1.inertia_ )","a96ec8e2":"sns.lineplot(range(1, 11), sse)","1fefb000":"visualizer = SilhouetteVisualizer(clf, colors='yellowbrick')\nvisualizer.fit(X_train)        # Fit the data to the visualizer\nvisualizer.show()              # Finalize and render the figure","d6bdf5ba":"from yellowbrick.cluster import InterclusterDistance\nvisualizer = InterclusterDistance(clf)\nvisualizer.fit(X_train)        # Fit the data to the visualizer\nvisualizer.show()","9f5b416c":"### Data Visualization","22b4fb1f":"### Data..","2ed87bf6":"## Thanks for giving ur valuable time\/feedback","6e4649cf":"### Importing Libraries","c5daaef7":"### Clustering..","192dcf87":"# New York Stock Exchange : Data Vizualisation, Clustering, KMeans..by Vineet Vivek","6e020a69":"### Data Split","dc03869c":"## Have a great day!!","a888529a":"### Accessing Files"}}