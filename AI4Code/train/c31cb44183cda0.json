{"cell_type":{"26cbeccb":"code","4a1700fb":"code","67d60373":"code","47b73a39":"code","ddf35c7f":"code","96201545":"code","1472faf1":"code","e448fc08":"code","d51bfdbb":"code","96c9da57":"code","5c150a38":"code","185e0a70":"code","9f89bfb1":"code","a6499a40":"code","9980b40c":"code","1d95764c":"code","703101b9":"code","12c442ba":"code","fef9d6df":"code","d703f28a":"code","d6b0dba0":"code","67da4f82":"code","5c0f5e09":"code","997b3cf9":"code","b9737ce9":"markdown","d9e3a3bf":"markdown","98dd872a":"markdown","5e3740ac":"markdown","06d082e2":"markdown","9dfc5725":"markdown","c3dad3cc":"markdown","ce64ec7b":"markdown","4fd7751d":"markdown","1adb433a":"markdown","7ae75be4":"markdown","7bfa4a47":"markdown","c85955ad":"markdown","2ec48b76":"markdown","0b07cc3c":"markdown","78e51b05":"markdown","20e6eb46":"markdown","5c3cb74b":"markdown","cd77043a":"markdown","8547dea6":"markdown","a8f5791b":"markdown","77278376":"markdown","231523f2":"markdown","5f028179":"markdown","527d20d8":"markdown"},"source":{"26cbeccb":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","4a1700fb":"import pandas as pd\n\nimport plotly.graph_objects as go","67d60373":"iot_temp_df = pd.read_csv(\n    \"\/kaggle\/input\/temperature-readings-iot-devices\/IOT-temp.csv\",\n    parse_dates=[\"noted_date\"]\n)\n\ndisplay(iot_temp_df.head())","47b73a39":"iot_temp_df.info()","ddf35c7f":"display(iot_temp_df[[\"noted_date\"]].agg(['min', 'max']).transpose())","96201545":"display(iot_temp_df.groupby(\"out\/in\")[\"noted_date\"].agg([\"min\", \"max\"]))","1472faf1":"# Sorting the dataframe by noted_date\niot_temp_df = iot_temp_df.sort_values(by=[\"noted_date\"]).reset_index(drop=True)","e448fc08":"def unique_value_count(\n    df: pd.DataFrame\n):\n    df_nunique = df.nunique().reset_index()\n    df_nunique['dtype'] = df.dtypes.reset_index().loc[:, 0]\n    df_nunique.columns = ['column', 'nunique', 'dtype']\n    \n    display(df_nunique)","d51bfdbb":"unique_value_count(df=iot_temp_df)","96c9da57":"# Dropping columns\niot_temp_df = iot_temp_df.drop(\n    columns=[\"id\", \"room_id\/id\"],\n    errors=\"ignore\"\n)","5c150a38":"iot_temp_df.shape","185e0a70":"iot_temp_undup_df = iot_temp_df.drop_duplicates()\n\niot_temp_undup_df.shape","9f89bfb1":"# Finding duplicate rows\ndisplay(iot_temp_df[iot_temp_df.duplicated()].head())","a6499a40":"# Observing one duplicate timestamp\ndisplay(iot_temp_df[iot_temp_df.noted_date == \"2018-01-11 09:59:00\"])","9980b40c":"iot_temp_df_cleaned = iot_temp_undup_df.groupby([\"noted_date\", \"out\/in\"])[\"temp\"].agg(\"mean\")\niot_temp_df_cleaned = iot_temp_df_cleaned.reset_index()\n\ndisplay(iot_temp_df_cleaned.head())","1d95764c":"iot_temp_df_pivoted = iot_temp_df_cleaned.pivot(\n    index=\"noted_date\",\n    columns=\"out\/in\",\n    values=\"temp\"\n)\niot_temp_df_pivoted.columns.name = None\n\ndisplay(iot_temp_df_pivoted.head())","703101b9":"# Hourly resampled\niot_temp_hourly_df = iot_temp_df_pivoted.resample(\"1H\").mean()\n\n# Daily resampled\niot_temp_daily_df = iot_temp_hourly_df.resample(\"1D\").mean()\n\n# Monthly resampled\niot_temp_monthly_df = iot_temp_daily_df.resample(\"1M\").mean()","12c442ba":"display(iot_temp_hourly_df.head())","fef9d6df":"display(iot_temp_daily_df.head())","d703f28a":"display(iot_temp_monthly_df.head())","d6b0dba0":"def plot_temperature(\n    df: pd.DataFrame,\n    x_axis: str,\n    y_axis: str,\n    columns: list,\n    plot_title: str\n):\n    fig = go.Figure()\n    \n    for column in columns:\n        fig.add_trace(go.Scatter(\n            name=column,\n            x=df.index,\n            y=df[column]\n        ))\n\n    fig.update_layout(\n        title=f\"<b>{plot_title}<\/b>\",\n        xaxis_title=x_axis,\n        yaxis_title=y_axis\n    )\n    \n    fig.show()","67da4f82":"plot_temperature(\n    df=iot_temp_hourly_df,\n    x_axis=\"noted_date\",\n    y_axis=\"temperature (&deg;C)\",\n    columns=[\"In\", \"Out\"],\n    plot_title=\"Comparing hourly inside and outside temperature\"\n)","5c0f5e09":"plot_temperature(\n    df=iot_temp_monthly_df,\n    x_axis=\"noted_date\",\n    y_axis=\"temperature (&deg;C)\",\n    columns=[\"In\", \"Out\"],\n    plot_title=\"Comparing monthly inside and outside temperature\"\n)","997b3cf9":"fig = go.Figure()\n\nfig.add_trace(\n    go.Histogram(\n        x=iot_temp_hourly_df[\"In\"],\n        name=\"In\"\n    ))\n\nfig.add_trace(\n    go.Histogram(\n        x=iot_temp_hourly_df[\"Out\"],\n        name=\"Out\"\n    ))\n\nfig.update_layout(\n    xaxis_title=\"temperature (&deg;C)\",\n    yaxis_title=\"count\",\n    title=\"<b>Distribution of hourly inside and outside temperature<\/b>\"\n)\n\nfig.show()","b9737ce9":"### b. Pivoting the data","d9e3a3bf":"## Data Preparation","98dd872a":"**Observation:** As we can observe that for the timestamp `2018-01-11 09:59:00` there are different readings of the temperature. Will handle such scenarios by taking the mean of temperature by grouping the timestamps `(noted_date)`.","5e3740ac":"**Observation:** There are no NaNs in the dataset","06d082e2":"### c. Resampling the data","9dfc5725":"## Dataset Description","c3dad3cc":"| column     | description                                        |\n|:-----------|:---------------------------------------------------|\n| id         | unique id for each reading                         |\n| room_id\/id | id of the room for installed sensor                |\n| noted_date | read timestamp                                     |\n| temp       | temperature in Celcius                             |\n| out\/in     | sensor position i.e. inside or outside of the room |","ce64ec7b":"**Observation:** The inside temperature of the room doesn't vary much but the outside temperature varies significantly. This is obvious due to the change in seasonality factors like temperature, wind speed, and rainfall.","4fd7751d":"## Reading dataset ","1adb433a":"**Conclusion:** Will drop `id` and `room_id\/id` columns","7ae75be4":"## Getting input CSV path","7bfa4a47":"## EDA","c85955ad":"### a. Getting dataset info","2ec48b76":"**Observation:** The granularity of the data collected by the sensors installed inside and outside of the room is not equal.","0b07cc3c":"### a. Handling duplicate timestamps by sensor position","78e51b05":"#### How the duplicates look like?","20e6eb46":"#### After dropping duplicates","5c3cb74b":"### b. Duration of the data","cd77043a":"### c. Unique value counts in the column","8547dea6":"### d. Is there any duplicates in the data?","a8f5791b":"**Observation:** The provided dataset has 97606 rows. After dropping the duplicates only 37268 rows are available. This give rise to the following question:\n\n**What is the cause of having duplicates?**\n\nAs mentioned in the [Content](https:\/\/www.kaggle.com\/atulanandjha\/temperature-readings-iot-devices) of the dataset that the sensor was in alpha testing phase because of which it was tripped several times.","77278376":"#### ii. Inside and Outside temperature","231523f2":"**Observations:**\n\n* From the hourly temperature graph, we can see that there are too many observations missing. We need to fill these missing values.\n\n* From the monthly temperature graph, we can see a significant difference between the inside and outside temperature of the room till April 2018. From May 2018 the difference got reduced and this trend goes till August 2018. It might be because of the high wind and rain during these months. Then again from Sep 2018 we can see the spike.","5f028179":"#### i. Overall summary","527d20d8":"## Importing required libraries "}}