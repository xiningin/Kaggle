{"cell_type":{"8ab3b454":"code","c04769b8":"code","360f7693":"code","63e5d928":"code","587922e4":"code","8dc55d27":"code","d4e6f4ac":"code","24f367f7":"code","d50429a9":"code","8604e281":"code","9dc0688f":"code","88aa9b5d":"code","f7943edd":"code","25933929":"code","611756a1":"code","60fe8322":"code","1297e24a":"code","a07a555e":"code","144273c3":"code","91a3799e":"code","5af3fb8d":"code","f809c4a5":"code","c94e72c1":"code","4a11c09f":"code","cc4036d2":"code","18316d74":"code","6d922578":"code","623f58f4":"code","a5c357c4":"code","ce2fe0ee":"code","94e9bd2d":"code","1e29986f":"code","0bbbd398":"code","a26b305d":"code","95ebfe02":"markdown","c27bed29":"markdown","50bba483":"markdown","14042b01":"markdown","4bb1dd73":"markdown"},"source":{"8ab3b454":"import pandas as pd\nimport nltk\nimport string\nimport matplotlib.pyplot as plt","c04769b8":"train_df = pd.read_csv(\"..\/input\/train.csv\")\n#test_df = pd.read_csv(\"ProjectData\/test.csv\")","360f7693":"train_df.head(5)","63e5d928":"train_text = train_df['question_text']","587922e4":"type(train_text)","8dc55d27":"train_label = train_df['target']","d4e6f4ac":"train_label.value_counts()","24f367f7":"from wordcloud import WordCloud","d50429a9":"insincere_text = train_df[train_df.target ==1 ]['question_text']","8604e281":"insincere_text = \" \".join(text for text in insincere_text)","9dc0688f":"insincere_wordcloud = WordCloud(max_font_size=50, max_words=100, background_color=\"white\").generate(insincere_text)","88aa9b5d":"# Display the generated image:\nplt.figure(figsize=(15,10))\nplt.imshow(insincere_wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","f7943edd":"insincere_questions_corpus = train_df[train_df.target ==1 ]['question_text'].values.tolist()","25933929":"insincere_questions_corpus[:11]","611756a1":"from nltk.corpus import stopwords","60fe8322":"from nltk.tokenize import word_tokenize,sent_tokenize\nfrom nltk.stem import WordNetLemmatizer\n","1297e24a":"def clean_text(insincere_words):\n    #print(insincere_words)\n    insincere_words_tokenized = word_tokenize(insincere_words)\n    #insincere_words_tokenized = [i for i in insincere_words_tokenized if nltk.pos_tag ]\n    insincere_words_cleaned = [i.lower() for i in insincere_words_tokenized]\n    insincere_words_cleaned = [WordNetLemmatizer().lemmatize(i) for i in insincere_words_cleaned]\n    insincere_words_cleaned = [i for i in insincere_words_cleaned if i not in string.punctuation]\n    insincere_words_cleaned = [i for i in insincere_words_cleaned if i not in stopwords.words('english')]\n    return(insincere_words_cleaned)","a07a555e":"insincere_questions_cleaned =[clean_text(doc) for doc in insincere_questions_corpus]","144273c3":"insincere_questions_cleaned[:2]","91a3799e":"insincere_questions_text = \" \".join(str(i) for i in insincere_questions_cleaned)","5af3fb8d":"insincere_wordcloud = WordCloud(max_font_size=50, max_words=100, background_color=\"white\").generate(insincere_questions_text)","f809c4a5":"# Display the generated image:\nplt.figure(figsize=(15,10))\nplt.imshow(insincere_wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","c94e72c1":"import gensim","4a11c09f":"from gensim.models import LdaModel","cc4036d2":"from gensim.corpora import Dictionary","18316d74":"dictionary = Dictionary(insincere_questions_cleaned)","6d922578":"len(dictionary)","623f58f4":"insincere_bow = [dictionary.doc2bow(doc) for doc in insincere_questions_cleaned]","a5c357c4":"from gensim.models.ldamodel import LdaModel","ce2fe0ee":"lda_model = LdaModel(corpus = insincere_bow, num_topics=5, id2word=dictionary, passes = 10,random_state = 1)","94e9bd2d":"lda_model.show_topics(num_topics= 5)","1e29986f":"import pyLDAvis.gensim","0bbbd398":"lda_visualization = pyLDAvis.gensim.prepare(lda_model,insincere_bow,dictionary,sort_topics = False)","a26b305d":"pyLDAvis.display(lda_visualization)","95ebfe02":"**Another iteration of wordcloud after some text preprocessing**","c27bed29":"**Topic Modeling using LDA**","50bba483":"**Examples of Insincere questions**","14042b01":"Following topics seem to generate most insincere questions:\n* America and American politics\n* Religion \n* Gender and Race","4bb1dd73":"**WordCloud for Insincere Questions**"}}