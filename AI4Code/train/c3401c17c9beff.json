{"cell_type":{"07d75b97":"code","9a0d4938":"code","abd96bce":"code","96d88de4":"code","f98f0001":"code","1cd7e001":"code","0fd17513":"code","03c71343":"code","7736061f":"code","19355883":"code","b75a261b":"code","3b461ff4":"code","e130af10":"code","5c9a8ac8":"code","5538dcec":"code","030678ac":"code","8c26f332":"code","d0cd5ec7":"code","4107b1c8":"code","ffdd6a05":"code","6a9d8972":"code","5ac17c43":"code","cf68b3f5":"markdown","8289a157":"markdown","baadb740":"markdown","b98ab27f":"markdown","1535ebcc":"markdown","3bb71ea6":"markdown","dd63b420":"markdown","375b7e56":"markdown","47f6754a":"markdown","20ea6fb1":"markdown","e0c917e4":"markdown","dbc75bdb":"markdown","81757181":"markdown","326175da":"markdown","736c72f0":"markdown","71aa4f30":"markdown","4a9f372b":"markdown","233d8ad7":"markdown","51056f65":"markdown","04b28521":"markdown","ed86e665":"markdown","e13cca73":"markdown","931c640c":"markdown","08fc3fa7":"markdown","8a94a5f0":"markdown","38a3cceb":"markdown","8971f6a6":"markdown","f6a2f10e":"markdown"},"source":{"07d75b97":"# Main Packages\nimport numpy as np\nimport pandas as pd\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# In case we want to ignore the warning parts @-@\nimport warnings\nwarnings.filterwarnings(\"ignore\")","9a0d4938":"# See all csv files in the folder \ud83d\udc2f\nimport os\nfiles = [f for f in os.listdir() if f.endswith(\".csv\")]\nprint(files)","abd96bce":"country_data= pd.read_csv('\/kaggle\/input\/best-cities-and-countries-for-startups-in-2021\/Best Countries for Startups.csv')\ncity_data= pd.read_csv('\/kaggle\/input\/best-cities-and-countries-for-startups-in-2021\/Best Cities for Startups.csv')\ndisplay(country_data.head(3), city_data.head(3))","96d88de4":"# We drop all the duplicate rows in both datasets \ncountry_data.drop_duplicates(subset='country', inplace=True)\ncity_data.drop_duplicates(subset='city', inplace=True)","f98f0001":"country_data.drop(['change in position from 2020','change in position sign '], axis=1, inplace=True)\ncity_data.drop(['change in position from 2020','sign of change in position'], axis=1, inplace=True)\n\n# The quantity column in city data is wrongly named \ud83e\udd5c\ncity_data.columns= ['position', 'city', 'country', 'total score', 'quantity score',\n       'quality score', 'business score']\n\n# We strip out the white space of countries and cities' names \ud83c\udf5b\ncountry_data['country']= country_data['country'].str.strip()\ncity_data['city']=city_data['city'].str.strip()\ncity_data['country']=city_data['country'].str.strip()","1cd7e001":"# Now, we add a new column to both dataset which is the abbreviation of country's name\nimport pycountry\ndef Country_code (country_name):\n    try:\n        return pycountry.countries.get(name=country_name).alpha_3\n    except:\n        return (\"NA\")\n# For example, for Australia...\nCountry_code('Australia')","0fd17513":"country_data['country code']= country_data['country'].apply(lambda x: Country_code(x))\ncity_data['country code']= city_data['country'].apply(lambda x: Country_code(x))\ndisplay(country_data.head(3), city_data.head(3))","03c71343":"# Note: We exclude figures for US here as this country has exceptially high values in all metrics\ncol=['total score', 'quantity score', 'quality score','business score']\ncolor=['darkblue','darkgreen','deeppink','darkred']\nfig, ax= plt.subplots(nrows=2, ncols=2, figsize=(20,10))\nax_index=[ax[0,0],ax[0,1],ax[1,0],ax[1,1]]\nfor i in range(4):\n    country_data.loc[1:,col[i]].plot.hist(bins=30,color=color[i],ax=ax_index[i], edgecolor='black')\n    ax_index[i].set_title(f'Histogram of {col[i]}', fontsize=15)\nfig.tight_layout();","7736061f":"country_data_1= country_data.head(10)\nfig, ax= plt.subplots(figsize=(15,5))\nsns.barplot(x='country', y='total score', data= country_data_1, palette='viridis', ax=ax)\nax.set_title('Top 10 Countries for Start-up (Total Score)', fontsize=15, color='darkblue')\nax.tick_params(axis='x', labelrotation=45)\nfor i,v in enumerate(country_data_1['total score'].tolist()):\n    ax.text(x=i, y=v+2, s=f\"{np.round(v,2)}\" , fontdict=dict(fontsize=10))","19355883":"country_data.loc[1:,'total score'].mean()","b75a261b":"country_data_2= country_data.head(10)[['country','quantity score', 'quality score',\n                              'business score']].set_index('country')\nfig, ax=plt.subplots(figsize=(15,6))\ncountry_data_2.plot(kind='bar', stacked=True, color=['wheat','slateblue','magenta'], ax=ax)\nax.set_title('Top 10 Countries for Start-up (3 Metrics)', fontsize=15);","3b461ff4":"fig, ax= plt.subplots(figsize=(6,6))\ncmap = plt.get_cmap('viridis',30)\nsns.heatmap(country_data[['total score', 'quantity score', 'quality score','business score']].corr(), \n           annot=True, fmt='0.3f', square=True, cmap=cmap, cbar_kws={\"shrink\": 0.8}, ax=ax)\nax.set_title('Correlation Matrix for Country Dataset', fontsize=15, color='darkblue');","e130af10":"import plotly_express as px\nfig= px.choropleth(country_data,locations='country code',color='total score',scope='world',\n                    title='Countries for Start-up by Total Scores',\n                  labels={'total score':'Total Score of Start-up'})\nfig.show()","5c9a8ac8":"# Since our dataset has some outliner, we have to filter them out \nmask1= city_data['total score']<20\nmask2= city_data['quantity score']<2\nmask3= city_data['quality score']<4\nmask= (mask1 & mask2 & mask3)\ncol=['total score', 'quantity score', 'quality score','business score']\ncolor=['darkblue','darkgreen','deeppink','darkred']\nfig, ax= plt.subplots(nrows=2, ncols=2, figsize=(20,10))\nax_index=[ax[0,0],ax[0,1],ax[1,0],ax[1,1]]\nfor i in range(4):\n    city_data.loc[mask,col[i]].plot.hist(bins=40,color=color[i],ax=ax_index[i], edgecolor='black')\n    ax_index[i].set_title(f'Histogram of {col[i]}', fontsize=15)\nfig.tight_layout();","5538dcec":"fig, ax= plt.subplots(figsize=(8,6))\ncmap= plt.get_cmap('magma',30)\nsns.heatmap(city_data[['total score', 'quantity score','quality score', 'business score']].corr(), \n           annot=True, fmt='0.3f', cmap=cmap)\nax.set_title('Correlation Matrix for City Dataset',fontsize=13);","030678ac":"city_data_1= city_data.head(10)\nfig, ax= plt.subplots(figsize=(15,5))\nsns.barplot(x='city', y='total score', data= city_data_1, palette='viridis', ax=ax)\nax.set_title('Top 10 Cities for Start-up (Total Score)', fontsize=15, color='darkblue')\nax.tick_params(axis='x', labelrotation=45)\nfor i,v in enumerate(city_data_1['total score'].tolist()):\n    ax.text(x=i, y=v+2, s=f\"{np.round(v,2)}\" , fontdict=dict(fontsize=10))","8c26f332":"city_data_2= city_data.head(10)[['city','quantity score', 'quality score',\n                              'business score']].set_index('city')\nfig, ax=plt.subplots(figsize=(15,6))\ncity_data_2.plot(kind='bar', stacked=True, color=['wheat','slateblue','magenta'], ax=ax)\nax.set_title('Top 10 Cities for Start-up (3 Metrics)', fontsize=15);","d0cd5ec7":"city_data_3 = city_data.groupby('country code',as_index=False)['city'].count().sort_values('city', ascending=False)\nfig, ax= plt.subplots(figsize=(15,5))\nsns.barplot(x='country code', y='city', data=city_data_3.head(10), ax=ax, palette='mako')\nax.set_title('Top 10 Countries by amount of cities on Start-up ranking', fontsize=15, color='darkblue')\nax.tick_params(axis='x', labelrotation=45)\nfor i,v in enumerate(city_data_3.head(10)['city'].tolist()):\n    ax.text(x=i, y=v+2, s=v , fontdict=dict(fontsize=10))","4107b1c8":"fig= px.choropleth(city_data_3,locations='country code',color='city',scope='world',\n                   color_continuous_scale=\"Viridis\",\n                    title='Amount of Cities in each Countries on Start-up ranking',\n                  labels={'city':'Amount of cities'})\nfig.show()","ffdd6a05":"# We have our top 5 countries are ...\ncountry_list= country_data['country'].head(5).tolist()\ncountry_list","6a9d8972":"mask= city_data['country'].isin(country_list)\ncity_data_4= city_data[['country', 'city', 'total score']][mask]\ncity_data_4 = city_data_4.groupby('country').head(3).set_index(['country','city']).sort_index()\ncity_data_4","5ac17c43":"color= np.repeat(['blueviolet','lightcoral','steelblue','yellowgreen','orchid'],np.repeat(3,5))\nfig, ax=plt.subplots(figsize=(20,10))\ncity_data_4.reset_index().plot.bar(x='city', y='total score',color=color, edgecolor='black', ax=ax)\nax.set_title('')\nax.legend(loc='upper left');","cf68b3f5":"### Data Pre-processing \ud83d\udc09","8289a157":"- Since I see the columns change in position from 2020 and sign of change is not of much use, I drop them for simplicity ","baadb740":"- Since we know that Total score is calculated as the sum of 3 different metrics (quantity, quality and business), we aim to see how each of these 3 metrics is accounted for the total score","b98ab27f":"Interpretation: \n- Correlation plot above validates our suspect that total score and quality score have exceedingly high level of correlation (0.988), while business score has lowest correlation (0.481)","1535ebcc":"Interpretation: \n- Similarly to the Country data, th City data also indicate a strong correlation between total score and quality score  (figure is also high for quantity score), and the lowest correlation belongs to business score. ","3bb71ea6":"**Top 10 countries of largest amount of cities on start-ups ranking** \ud83c\udf47","dd63b420":"### Basic EDA (Exploratory Data Analysis) \ud83c\udf0d","375b7e56":"### City Dataset \ud83e\udd51","47f6754a":"**Description**\n- A startup or start-up is a company or project undertaken by an entrepreneur to seek, develop, and validate a scalable business model. While entrepreneurship refers to all new businesses, including self-employment and businesses that never intend to become registered, startups refer to new businesses that intend to grow large beyond the solo founder. At the beginning, startups face high uncertainty and have high rates of failure, but a minority of them do go on to be successful and influential.\n- Dataset gives information about the countries and cities with best ecosystem for startups in 2021\n- There are in total 100 countries and 983 cities on the ranking. \n- The metrics of ranking: Total Score = Quantity Score + Quality Score + Business Score \n- Quantity Score: Metrics related to Quantity (for eg: Number of Start-up, Number of co-working Space,...)\n- Quality Score:  Metrics related tp Quality \n- Business Score: Combination of Business and Economic indicators ","20ea6fb1":"**Correlation Matrix Plot** \ud83c\udf53","e0c917e4":"- **Drop Duplicates and Unnecessary Columns** \ud83d\udc1f","dbc75bdb":"**Correlation Matrix Plot** \ud83c\udf67","81757181":"### Context and Data Understanding \ud83c\udf1b \ud83c\udf1c","326175da":"Interpretation:\n- We can see that US dominate the ranking with exceptionally high total score up to 124.42, while most of total scores lie around 0->5 (histogram)\n- The average total score of all countries (except for US) is only 4.878","736c72f0":"**Top 3 Cities of each of top 5 Countries on Start-up ranking** \ud83e\udd69","71aa4f30":"- Since we know that Total score is calculated as the sum of 3 different metrics (quantity, quality and business), we aim to see how each of these 3 metrics is accounted for the total score","4a9f372b":"### Import Packages and Datasets \ud83d\udc20","233d8ad7":"**Top 10 Cities total score comprised by Quality, Quantity and Business Score** \ud83c\udf71","51056f65":"![](https:\/\/wiki.tino.org\/wp-content\/uploads\/2021\/06\/startup-la-gi-5.png)","04b28521":"- We aim to see how each cities contribute to high scoring Countries on the ranking ","ed86e665":"**Top 10 Countries by Total score** \ud83e\udd50","e13cca73":"**Top 10 Cities by Total Score** \ud83e\uddc0","931c640c":"Interpretation: \n- Similarly for the countries dataset, the quality score is the decisive factor determining whether the city is a great place for start-up companies. We can intuitively conclude this statement by exceedingly high correlation of quality score and total score. ","08fc3fa7":"### Country Dataset \ud83c\udf68","8a94a5f0":"Interpretation:\n- Most of high total score derived from high level of quality score, we can suspect that quanlity score and total score have bidirectional causal relationship\n- First, we look at the correlation matrix plot below ","38a3cceb":"**Top 10 Countries total score comprised by Quality, Quantity and Business Score** \ud83c\udf71","8971f6a6":"**Histogram of all ranking metrics** \ud83e\udd5d","f6a2f10e":"**Histogram of all ranking metrics** \ud83c\udf52"}}