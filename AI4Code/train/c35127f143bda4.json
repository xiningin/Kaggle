{"cell_type":{"2dab31c3":"code","a9d6e4d5":"code","2edae699":"code","8415092f":"code","d8f7ba2a":"code","99599e50":"code","03b29773":"code","1ed6f3bf":"code","c9399c23":"code","6fd373d5":"code","f2a15c5c":"code","ba28bf0d":"code","da08a189":"code","1d75c152":"code","2af78658":"code","ea12d0cf":"code","823f6643":"code","1ee22c40":"code","52875601":"code","45ffe26b":"code","cc68d60d":"code","db0bd3ee":"code","11b9f7b5":"code","d0d3d5f0":"code","e24c896b":"code","f00cb751":"code","211e455e":"code","52f088a3":"code","86cf7607":"code","0c9bc60e":"code","e923f80b":"code","3cd491cd":"markdown","dc741c10":"markdown","b735ad4b":"markdown","dc2017d3":"markdown","c2bd8fe1":"markdown","7671df17":"markdown","b45060e6":"markdown","a0934050":"markdown","d4da6890":"markdown","edb4dd5c":"markdown","33d02966":"markdown","24596c55":"markdown","b54de01d":"markdown","a6fbf68e":"markdown","e24814dc":"markdown","dcf70787":"markdown","c0b315f4":"markdown","d8f80e59":"markdown","6209adcd":"markdown","a679ac26":"markdown","79acd79c":"markdown","096b8285":"markdown","6380e666":"markdown","c4d2c50b":"markdown"},"source":{"2dab31c3":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport matplotlib.pyplot as plt\nimport seaborn as sb\nplt.style.use('fivethirtyeight')\n\n#ignore warnings\nimport warnings\nwarnings.filterwarnings('ignore')\n%matplotlib inline","a9d6e4d5":"#import train and test CSV files\ntrain = pd.read_csv(\"..\/input\/train.csv\")\ntest = pd.read_csv(\"..\/input\/test.csv\")\n\n#take a look at the training data\ntrain.describe(include=\"all\")\ntrain.shape\ntrain.head(10)","2edae699":"test.head()","8415092f":"#get a list of the features within the dataset\nprint(train.columns)","d8f7ba2a":"train.isnull().sum()","99599e50":"sb.countplot('Survived',data=train)\nplt.show()","03b29773":"train[['Sex','Survived']].groupby(['Sex']).mean().plot.bar()\nsb.countplot('Sex', hue='Survived', data=train,)\nplt.show()","1ed6f3bf":"plt.scatter(train['Pclass'], train['Age'])\nplt.show()","c9399c23":"plt.scatter(train['Survived'], train['Age'])\nplt.show()","6fd373d5":"train.boxplot(column='Age', by=['Survived', 'Sex'])","f2a15c5c":"train.boxplot(column='Age', by=['Survived','Pclass'])","ba28bf0d":"pd.crosstab(train.SibSp,train.Pclass).style.background_gradient('summer_r')","da08a189":"from sklearn.preprocessing import LabelBinarizer\none_hot = LabelBinarizer()\none_hot.fit_transform(train['Pclass'])","1d75c152":"one_hot.classes_","2af78658":"train.info()","ea12d0cf":"fig, ax = plt.subplots(figsize=(9,5))\nsb.heatmap(train.isnull(), cbar=False, cmap=\"YlGnBu_r\")\nplt.show()","823f6643":"cols = ['Survived', 'Sex', 'Pclass', 'SibSp', 'Parch', 'Embarked']\nnr_rows = 2\nnr_cols = 3\n\nfig, axs = plt.subplots(nr_rows, nr_cols, figsize=(nr_cols*3.5,nr_rows*3))\n\nfor r in range(0,nr_rows):\n    for c in range(0,nr_cols):  \n        \n        i = r*nr_cols+c       \n        ax = axs[r][c]\n        sb.countplot(train[cols[i]], hue=train[\"Survived\"], ax=ax)\n        ax.set_title(cols[i], fontsize=14, fontweight='bold')\n        ax.legend(title=\"survived\", loc='upper center') \n        \nplt.tight_layout()   ","1ee22c40":"bins = np.arange(0, 80, 5)\ng = sb.FacetGrid(train, row='Sex', col='Pclass', hue='Survived', margin_titles=True, size=3, aspect=1.1)\ng.map(sb.distplot, 'Age', kde=False, bins=bins, hist_kws=dict(alpha=0.6))\ng.add_legend()  \nplt.show()  ","52875601":"train['Fare'].max()","45ffe26b":"bins = np.arange(0, 550, 50)\ng = sb.FacetGrid(train, row='Sex', col='Pclass', hue='Survived', margin_titles=True, size=3, aspect=1.1)\ng.map(sb.distplot, 'Fare', kde=False, bins=bins, hist_kws=dict(alpha=0.6))\ng.add_legend()  \nplt.show()","cc68d60d":"sb.barplot(x='Pclass', y='Survived', data=train)\nplt.ylabel(\"Survival Rate\")\nplt.title(\"Survival as function of Pclass\")\nplt.show()","db0bd3ee":"sb.barplot(x='Sex', y='Survived', hue='Pclass', data=train)\nplt.ylabel(\"Survival Rate\")\nplt.title(\"Survival between Pclass and Sex\")\nplt.show()","11b9f7b5":"sb.barplot(x='Embarked', y='Survived', data=train)\nplt.ylabel(\"Survival Rate\")\nplt.title(\"Survival as function of Embarked Port\")\nplt.show()","d0d3d5f0":"sb.barplot(x='Embarked', y='Survived', hue='Pclass', data=train)\nplt.ylabel(\"Survival Rate\")\nplt.title(\"Survival as function of Embarked Port\")\nplt.show()","e24c896b":"sb.countplot(x='Embarked', hue='Pclass', data=train)\nplt.title(\"Count of Passengers as function of Embarked Port\")\nplt.show()","f00cb751":"sb.boxplot(x='Embarked', y='Age', data=train)\nplt.title(\"Age distribution as function of Embarked Port\")\nplt.show()","211e455e":"sb.boxplot(x='Embarked', y='Fare', data=train)\nplt.title(\"Fare distribution as function of Embarked Port\")\nplt.show()","52f088a3":"cm_surv = [\"darkgrey\" , \"lightgreen\"]\nfig, ax = plt.subplots(figsize=(13,7))\nsb.swarmplot(x='Pclass', y='Age', hue='Survived', split=True, data=train , palette=cm_surv, size=7, ax=ax)\nplt.title('Survivals for Age and Pclass ')\nplt.show()","86cf7607":"fig, ax = plt.subplots(figsize=(13,7))\nsb.violinplot(x=\"Pclass\", y=\"Age\", hue='Survived', data=train, split=True, bw=0.05 , palette=cm_surv, ax=ax)\nplt.title('Survivals for Age and Pclass ')\nplt.show()","0c9bc60e":"g = sb.factorplot(x=\"Pclass\", y=\"Age\", hue=\"Survived\", col=\"Sex\", data=train, kind=\"swarm\", split=True, palette=cm_surv, size=7, aspect=.9, s=7)","e923f80b":"g = sb.factorplot(x=\"Pclass\", y=\"Age\", hue=\"Survived\", col=\"Sex\", data=train, kind=\"violin\", split=True, bw=0.05, palette=cm_surv, size=7, aspect=.9, s=7)","3cd491cd":"Here, the high survival rate for kids in Pclass 2 is easily observed.  \nAlso, it becomes more obvious that for passengers older than 40 the best chance to survive is in Pclass 1, and smallest chance in Pclass 3.","dc741c10":"How about survival between ages?","b735ad4b":"Next, I will go thru the imputation and few others.","dc2017d3":"Highest survival rate (>0.9) for women in Pclass 1 or 2.  \nLowest survival rate (<0.2) for men in Pclass 3.","c2bd8fe1":"**Bar and Box plots**\n\nDefault mode for seaborn barplots is to plot the mean value for the category.  \nAlso, the standard deviation is indicated.  \nSo, if we choose Survived as y-value, we get a plot of the survival rate as function of the categories present in the feature chosen as x-value.","7671df17":"How about the distribution of survival with genders for different ages?","b45060e6":"Survival rate alone is not good beacuse its uncertainty depends on the number of samples.  \nWe also need to consider the total number (count) of passengers that embarked.","a0934050":"Let see a summary between Sibling\/Spouse and Pclass, how it'd been arranged.","d4da6890":"We are beginners in the Machine Learning.  \nWe are trying some notebooks of the Kaggle to understand how to work with a data, predict the outcome, visualize it, and many more.  \nAny advice is greatly welcome.","edb4dd5c":"Of the 891 passengers in df_test, less than 350 survive.  \nMuch more women survive than men.  \nAlso, the chance to survive is much higher in Pclass 1 and 2 than in Class 3.  \nSurvival rate for passengers travelling with SibSp or Parch is higher than for those travelling alone.  \nPassengers embarked in C and Q are more likely to survie than those embarked in S.","33d02966":"Passengers embarked in \"S\" had the lowest survival rate, those embarked in \"C\" the highest.  \nAgain, with hue we see the survival rate as function of Embarked and Pclass.","24596c55":"As we know from the first Titanic kernel, survival rate decreses with Pclass.  \nThe hue parameter lets us see the difference in survival rate for male and female.","b54de01d":"Now, we will import neccessary libraries, prepare the plot style, ignoring some filters.","a6fbf68e":"Import training and test data.","e24814dc":"Check test data.","dcf70787":"Let see a plot of surived and not.","c0b315f4":"Passengers embarked in \"C\" had largest proportion of Pclass 1 tickets.  \nAlmost all Passengers embarked in \"Q\" had Pclass 3 tickets.  \nFor every class, the largest count of Passengers embarked in \"S\".","d8f80e59":"Let see about the scatter plot between Age and Pclass attributes.  \nWe can see all classes share similar ages, and likely the Pclass 3.00 had more children, adults than Pclass 1.0 and 2.0.","6209adcd":"Let's see a plot of survival between genders.","a679ac26":"Best chances to survive for male passengers was in Pclass 1 or being below 5 years old.  \nLowest survival rate for female passengers was in Pclass 3 and being older than 40.  \nMost passengers were male, in Pclass 3 and between 15-35 years old.","79acd79c":"Let get the list of columns from training data.","096b8285":"Next, let see one-hot encoding for the Pclass. In the data, it's 1.00, 2.00, 3.00.  \nSo we will have an array of 1, 2, 3 (like categorical) for the classes after encoding.  \nWhen we transform the data, the Pclass one-hot encoding will apply for each record, the proper value of the Pclass will be shown as 1.  \nFor example:\n- person A, Pclass 1.00, its data will be [1, 0, 0]\n- person B, Pclass 3.00, it will be [0, 0, 1]","6380e666":"How about the distribution of survival with genders for different ages and class?","c4d2c50b":"Count the NULL values from train data.  \nWe can see 177 missing values for Age, 687 for Cabin, and 2 for Embarked columns."}}