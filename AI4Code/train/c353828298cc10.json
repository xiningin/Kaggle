{"cell_type":{"2c46b240":"code","ca5c9287":"code","fe23801b":"code","0be9ef99":"code","8cc87210":"code","444abd6d":"code","50d11962":"code","d2ac0788":"code","4d17b43f":"code","945aa88c":"code","2c27ce37":"code","41eadd47":"code","1cdf1d27":"code","6c3f4652":"code","417f7916":"code","57a095d3":"code","11a883cd":"code","6376c3af":"code","d9ef0a29":"code","0f57c443":"code","b6b1b020":"code","d2234601":"code","c034cc44":"code","3e83ee81":"code","bb1f717c":"code","85b4afe3":"code","67106a04":"code","6883647b":"code","78ca2536":"code","c7762c9d":"code","27aec841":"code","a1154909":"code","f0fbd663":"markdown","d435b10b":"markdown","c3fc5439":"markdown","8df0b718":"markdown","c3d29814":"markdown","b530975c":"markdown","700e1028":"markdown","5ce9c9c5":"markdown","58771237":"markdown","a4a62869":"markdown","185ada82":"markdown","b12debdc":"markdown","4d2e4443":"markdown","d41c1c22":"markdown","5558f206":"markdown","7a396262":"markdown","f9901582":"markdown","f20496b1":"markdown","f3f14345":"markdown","0bcb9aaf":"markdown","819216a6":"markdown","b03bfac7":"markdown","ba1cad5a":"markdown","11a60867":"markdown","784bedea":"markdown","e152434e":"markdown","c9add308":"markdown","2d6873e6":"markdown"},"source":{"2c46b240":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport seaborn as sns","ca5c9287":"df = pd.read_csv(\"..\/input\/palmer-archipelago-antarctica-penguin-data\/penguins_size.csv\")\ndf.sample(10)","fe23801b":"df.info()","0be9ef99":"df.isnull().sum()","8cc87210":"mean_culmen_length = round(df['culmen_length_mm'].mean(),1)\nmean_culmen_depth = round(df['culmen_depth_mm'].mean(),1)\nmean_flipper_length = round(df['flipper_length_mm'].mean(),1)\nmean_body_mass = round(df['body_mass_g'].mean(),1)\n\nprint(\"mean_culmen_length : \", mean_culmen_length)\nprint(\"mean_culmen_depth :\", mean_culmen_depth)\nprint(\"mean_flipper_length :\",mean_flipper_length)\nprint(\"mean_body_mass :\",mean_body_mass)","444abd6d":"df['culmen_length_mm'].replace(np.nan , mean_culmen_length , inplace=True)\ndf['culmen_depth_mm'].replace(np.nan , mean_culmen_depth , inplace=True)\ndf['flipper_length_mm'].replace(np.nan , mean_flipper_length , inplace=True)\ndf['body_mass_g'].replace(np.nan , mean_body_mass , inplace=True)\n\ndf.isnull().sum()","50d11962":"df.dropna(subset=['sex'] , axis = 0 , inplace = True)\n\nprint(df.isnull().sum())\nprint(\"observation : \",len(df))","d2ac0788":"df.query(\"sex == 'MALE'\").sample(10)","4d17b43f":"df.query(\"sex == 'MALE' and island == 'Dream'\").sample(10)","945aa88c":"bin = np.linspace(df['body_mass_g'].min(),df['body_mass_g'].max(),4)\nlabel_names = ['small' , 'medium' , 'large']\nprint(bin)","2c27ce37":"df['size'] = pd.cut(df['body_mass_g'] , bin , labels = label_names )\ndf.sample(10)","41eadd47":"sns.histplot(data = df , x = 'size',color = 'red')\nplt.title(\"Total penguins in each bin\")\nplt.xlabel(\"size\")\nplt.ylabel(\"total\")","1cdf1d27":"sns.scatterplot(data = df , x = 'flipper_length_mm' , y = 'body_mass_g' , hue = 'species' , alpha = 0.5 , palette=['blue','green','orange'])\nplt.title(\"Relationship : flipper length vs body mass\")\nplt.xlabel(\"flipper length\")\nplt.ylabel(\"body mass\")","6c3f4652":"df[['flipper_length_mm' , 'body_mass_g']].corr()","417f7916":"from sklearn.cluster import KMeans\nfrom sklearn.model_selection import train_test_split \n","57a095d3":"model = KMeans(n_clusters = 3 , random_state = 123)\n\nx = df[['flipper_length_mm' , 'body_mass_g']]\ny = df['species']\n\nx_train,x_test,y_train,y_test = train_test_split(x, y , test_size = 0.2 , random_state = 123)","11a883cd":"model.fit(x_train)","6376c3af":"model.labels_","d9ef0a29":"x_train['species'] = y_train\nx_train['predicted_species'] = model.labels_\n\nx_train","0f57c443":"center = model.cluster_centers_\nprint(center)","b6b1b020":"plt.scatter(x = center[:,0] , y = center[:,1] , marker = 'D' , color = 'black')\nsns.scatterplot(data=x_train , x = 'flipper_length_mm' , y = 'body_mass_g' , hue='predicted_species',alpha=0.5,palette=['blue','green','orange'])","d2234601":"x_train['predicted_species'].replace([0,1,2] , ['Chinstrap','Gentoo','Adelie'] , inplace=True)\nx_train","c034cc44":"pd.crosstab(x_train['species'] ,x_train['predicted_species'])","3e83ee81":"result = x_train['species'] == x_train['predicted_species']\nprint(result)","bb1f717c":"result.mean()","85b4afe3":"predict = model.predict(x_test)\nprint(predict)","67106a04":"x_test['species'] = y_test\nx_test['predicted_species'] = predict\n\nx_test","6883647b":"sns.scatterplot(data=x_test , x = 'flipper_length_mm' , y = 'body_mass_g' , hue='predicted_species',alpha=0.7,palette=['blue','green','orange'])\nplt.scatter(x=center[:,0] , y=center[:,1] , color = 'black' , marker = 'D')","78ca2536":"x_test['predicted_species'].replace([0,1,2],['Chinstrap','Gentoo','Adelie'],inplace=True)\nx_test","c7762c9d":"pd.crosstab(x_test['species'] , x_test['predicted_species'])","27aec841":"result_test = x_test['species'] == x_test['predicted_species']\nprint(result_test)","a1154909":"result_test.mean()","f0fbd663":"Let's display how many penguins there are in each bin by using histogram","d435b10b":"After we binned our penguins in three different group, let's create prediction model to predict specie of penguins by using variable flipper length and body mass variables. \n\nBut firstly, let make some visualization to see relationship between flipper length and body mass. ","c3fc5439":"After spliting data into 2 partition, i'll use method \".fit()\" to fit dependent variables in the model.","8df0b718":"I've already import model and \"train_test_split\" function.\n\nFor number of clusters, i'll set number of clusters equal to 3 which is eqaul to penguins' species (Adelie, Chinstrap, Gentoo)\n\nAs i told earlier, i'll use flipper length and body mass variable to build prediction model in this session.\n\nSo i create object 'x' (contains variable used to predict) and 'y' (contains species variable which will be used later)\n\n, then put object 'x' and 'y' into 'train_test_split' function to split data where test size of data is equal to 20% of whole data \n\nand set random_state equal to any integer so that i can reproduce the same result. \n\nSo the code to execute will be like inthe following code cell.","c3d29814":"Now missing numeric variables are already replaced. For sex variable, since it's category variable\n\nso i'll drop rows that contains missing sex variable. To drop missing values, i'll use method \".dropna\".\n\nFor first argument, i'll tell function the variable that i want drop.\n\nAnd for second argument, if you set axis as 0 , function will drop rows that contain missing values. \n\nBut if you set axis as 1 , function will drop colum that contain missing values.\n\nSo in this case, I want to drop rows that contain missing values, I'll set axis as 1.","b530975c":"Then i'll use method \".labels_\" to see the result of prediction from the model that i build.","700e1028":"I'll create new column and named \"species\" and put y_test into this new column\n\nand create new column named \"predicted_species\" and put the result of prediction from model into this new column.","5ce9c9c5":"As the graph displays, it seems that flipper length and body mass has positive correlation. \n\nIn this graph,  use diffenrent colors to display different species.\n\nAs the result, it sseems that gentoo is the largest specie and Chinstrap and \n\nSo let's calculate correlation of theses two variable by using method \".corr()\"","58771237":"After we checked our dataset, there are 5 columns that contain missing values (culmen_length_mm, culmen_depth_mm, flipper_length_mm, body_mass_g and sex).\n\nLet's clean the missing values. For columns culmen_length_mm, culmen_depth_mm, flipper_length_mm and body_mass_g, they are numeric variables so let's calculate mean for each column and replace missing values with mean.","a4a62869":"After calculating mean for each column, i'll replace missing values by using method \".replace()\".\n\nFor first argument, you need to define what you want to replace. So in this case, i want to replace missing values. we need to put np.nan for the first argument in order to tell function that we want to replace missing values\n\nFor second argument, you need to define what you want replace missing values with. In this case, i want to replace missing values that i calculated in the previous code cell.\n\nAnd for third argument, since I want to replace missing values within the object df without making new object.\nI'll set inplace argument as true so that replace method will replace missing values in the object df. ","185ada82":"We have already builded model and calculated model's accuracy.\n\nNow i'll use test data to test our model to see model's performance by using unseen data.\n\nTo do so, i'll redo the previous process.","b12debdc":"Let's use filter function to get data that you want.\n\nTo filter data in python, we can use method \".query()\"\n\nFor example, if i want to get data of penguins that are male, the code to execute will be like in the code cell below.","4d2e4443":"We can calculate percentage of our model's accuracy by using \".mean()\" method.\n\n","d41c1c22":"Now let's easily bin our penguins into different groups by\nusing body mass variable as a criteria.\n\nTo bin our penguins into different groups\nby using body mass, we need to generate four different numbers from body mass variable that are equally distant and use these four numbers to bin our penguins.\n\nI'll bin penguins into 3 different groups as small, medium and large group.\n\nTo generate numbers that are equally distant, i'll use \"np.linspace()\" function\n\nTo use \"np.linspace()\" function, there are three arguments to set. you need to set the range of number and specify how many numbers you want to generate.\n\nIn this case, i want to bin penguins into 3 different groups by using body mass variables so the range of number that i'll generate is from minimum body mass to maximum body mass.","5558f206":"I'll use method \"pd.read_csv()\" to get dataset and use method \".sample()\" to see sample of dataset.","7a396262":"Then let's check our dataset if there are any missing values\n\nTo check if there are any missing values in our dataset or not, \n\ni'll use method \".isnull()\" and \".sum()\" to summarize how many \n\nmissing values there are in each columns.","f9901582":"I'll create new object name \"center\". This object contains three numbers of x axis and y axis generated by model.\n\nTo get number, i'll use method \".cluster_centers_\".","f20496b1":"I'll make crosstable to show how accurate our model can predict the result.\n\nAs we can see from table, model predict 90 Adelie to be Adelie and 28 Adelie to be Chinstrap,\n\npredict 38 Chinstrap to be Adelie and 10 Chinstrap to be Chinstrap and \n\npredict 1 Gentoo penguins to be adelie, 45 Gentoo to be Chinstrap and 55 Gentoo to be Gentoo. ","f3f14345":"But if you have more than one criterias to filter your data, you can link your criterias with \"and\" or \"or\". \n\nFor example, if you want to get data of penguins that are male and from Dream island, the code to execute will be like in the code cell below","0bcb9aaf":"**My first blog**\n\nThis Blog is an instance of performing data analysis to show how to perform data analysis using Python. \n\nIn this notebook, we will be using Palmer Archipelago (Antarctica) penguin dataset collected by Dr. Kristen Gorman. \n\nI'll use this data to perform basic data analysis and then build machine learning model to predict the species of \n\npenguins using palmer penguins dataset","819216a6":"The correlation between flipper length and body mass is 0.87 which indicates that two variable are strongly positively correlated.\n\nNow it 's time  to make a model for prediction.\n\nWe need  to import our model \"KMeans\" from sklearn library which is the model that we're going to build in this session and we need to import train_test_split function to split our data for training and testing. \n\nWhy do we need to split data fro traing and testing?\n\nIn real life, if you take all your data for training model and you want to evaluate your model with data that your model' ve never seen before how do you get new data?\n\nWhen working with real projects, i don't think you'll have much time to collect data again to evaluate your model because of deadline.\n\nSo that's why we need to split data into two partition, one is for training model and one is for testing or evaluating your model.\n\n","b03bfac7":"As the result of executing code, we get four different numbers that are equally distant.\n\nHere is my criteria to bin penguins. if penguins' body mass is between 2700 and 3900, they will be binned into small group. \n\nIf penguins' body mass is between 3900 and 5100,\nthey will be binned into medium group. If penguins' body mass is between 5100 and 6300,\nthey will be binned into large group.\n\nSo to do binning penguins into groups, i'll use \"pd.cut()\" function and create new column named size.\n\nFor the first arguments, you need to specify what variable you want to use to bin your data.\n\nThe second argument is number that you want to use to bin your data.\n\nAnd the third argument is the label of group that you want ot bin your data into.","ba1cad5a":"As the result, our model's accuracy is 58%","11a60867":"Here is our model's accuracy by using test data.\n\nModel's accuracy is 56% whcih is quite close to model's accuracy using train data.\n\nHere is all the basic data analysis using Python that i want to present to you.\n\nI hope this blog will help you better understand how to use Python for data anlysis or give you some ideas \n\non how to apply using Python on your project in your daily workday.\n\nThank you.\n","784bedea":"From the previous graph compared to the first that we made, 0 is represented as Chinstrap , 1 is represented as Gentoo and 2 is represented as Adelie.\n\nThen i'll use method \".replace()\" to replace number in predicted_species with the specie names.\n","e152434e":"I take number of x axis and y axis and the result of prediction from model to make visaulization.\n\nHere is scatterplot of relationship between flipper length and body mass. In each point, it represents each observation as species.\n\nCompared to previous graph i've builded, Yellow, Blue and Green color represent \n\nas Adelie, Chinstrap and Gentoo respectively.\n\nAnd three number of x axis and y axis will be displayed as black diamond in the graph.\n\nHere is how model works to predict specie of penguins. After fitting model, it generates number of x axis and y axis \n\ndisplayed as black diamond in graph and i'll call this as group point. \n\nModel will calculate distance between each data point and group point.\n\nAnd model will group each data point into the group point that is the closest. ","c9add308":"Now let's play a little bit with our dataset.\n\nLet's see meta data (infomation of dataset).","2d6873e6":"Firstly, i'll import library that i will be using in this session."}}