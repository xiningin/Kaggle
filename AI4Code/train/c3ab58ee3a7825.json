{"cell_type":{"a26baded":"code","3a8d4ed9":"code","0b5d5c0b":"markdown","4e2728fd":"markdown","cce295b8":"markdown"},"source":{"a26baded":"import pandas as pd \n\ntrain = pd.read_csv('..\/input\/shopee-product-matching\/train.csv')\nlabel_to_images = train.groupby('label_group').posting_id.unique().to_dict()\ntrain['target'] = train.label_group.apply(lambda label: label_to_images[label])\ntrain.sample(10)","3a8d4ed9":"import re \ndef is_measurement(word): \n    measurement_cats = ['kg', 'g', 'cm', 'pcs', 'gb', 'ml', 'mm', 'gr', 'gram']\n    for m in measurement_cats: \n        pat = '(\\d+)' + m + ''\n        res = re.findall(pat, word)\n        if res != []: \n            return f' {m} '.join(res) + ' ' + m\n\n    for m in measurement_cats: \n        pat = '(\\d+) ' + m + ''\n        res = re.findall(pat, word)\n        if res != []: \n            return f' {m} '.join(res) + ' ' + m\n        \n        \n    return False \n\ntrain['measurement'] = train.title.apply(is_measurement)\nnum_products_with_measurement = len(train) - (train.measurement == False).sum()\nprint(f'{num_products_with_measurement} products containing measurements found!')","0b5d5c0b":"### If you fork or use this notebook, do leave an upvote!","4e2728fd":"# Extract Measurements \n\n---\n\nAround 20% of the products in the dataset contain some kind of measurement (24mm Tape, 980gr powder, 1 kg coffee). \n\nA King size bed is 76\u201d x 80\u201d and is also known as an Eastern King bed. A California King bed, marketed toward taller people, is 72\u201d x 84\u201d. If you can extract measurements, you can differentiate between 100 gram coffee vs 250 gm coffee, 8 pack coke vs 6 pack coke, or 32 GB iphone vs 64 GB iphone. Over 6000 items in the listing have at least one measurement in them.\n","cce295b8":"#### If you have any suggestions or improvements, do comment below. This is still primitive code and misses some measurements. Also don't forget to upvote!"}}