{"cell_type":{"7cc8efba":"code","e729038e":"code","b6eeffe2":"code","26cc5040":"code","2e57feb2":"code","5b735e15":"code","c107c328":"code","4c01d186":"code","37487bce":"code","2e358423":"code","0aeda6dc":"code","822e4cd1":"code","55c3c22d":"code","4b1f4a1d":"code","9a6cd5b5":"code","4b879808":"code","86d1e18a":"code","73c60b3f":"code","a73da2dc":"code","13a24844":"code","a7f4ec52":"markdown","95f2cba4":"markdown","5920d658":"markdown","842ff396":"markdown","6012fc12":"markdown","38dc6b48":"markdown","8d0bc832":"markdown","d5a0f8a0":"markdown","de959275":"markdown","b149b987":"markdown"},"source":{"7cc8efba":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport plotly.express as px\nimport geopandas as gpd\nimport math\nimport folium\nfrom folium import Choropleth, Circle, Marker\nfrom folium.plugins import HeatMap, MarkerCluster\nimport folium\nfrom folium.plugins import FastMarkerCluster\nfrom fbprophet import Prophet\nimport spacy\nimport string\nimport random\nimport re\nimport folium.plugins as plugins","e729038e":"df = pd.read_csv('..\/input\/us-gun-violence-archive-2014\/US-Gun-Violence.csv')","b6eeffe2":"df","26cc5040":"df.isnull().sum()","2e57feb2":"df = df.dropna(axis = 0)","5b735e15":"sns.heatmap(df.isnull());","c107c328":"temp = df.describe()\ntemp.style.background_gradient(cmap='Purples')","4c01d186":"import plotly.graph_objs as go\nfrom plotly.offline import init_notebook_mode,iplot","37487bce":"g1 = [go.Box(y=df.killed,name=\"killed\",marker=dict(color=\"rgba(51,0,0,0.9)\"),hoverinfo=\"name+y\")]\ng2 = [go.Box(y=df.injured,name=\"injured\",marker=dict(color=\"rgba(0,102,102,0.9)\"),hoverinfo=\"name+y\")]\nlayout2 = go.Layout(title=\"Killed \/ Injured\",yaxis=dict(range=[0,13])) \nfig2 = go.Figure(data=g1+g2,layout=layout2)\niplot(fig2)","2e358423":"fig1 = px.histogram(df,x='state',color='state',template='plotly_dark')\nfig1.show()","0aeda6dc":"fig2 = px.histogram(df,x='city_or_county',color='city_or_county',template='plotly_dark')\nfig2.show()","822e4cd1":"plt.figure(figsize=(20,6))\ntop_30 = df.groupby('city_or_county')['killed'].count() \\\n.sort_values(ascending = False).head(20)\nsns.barplot(x=top_30.index, y = top_30.values)\nplt.title('Killed Top 20')\nplt.show()","55c3c22d":"plt.figure(figsize=(20,6))\ntop_30 = df.groupby('state')['killed'].count() \\\n.sort_values(ascending = False).head(20)\nsns.barplot(x=top_30.index, y = top_30.values)\nplt.title('Killed Top 20')\nplt.show()","4b1f4a1d":"plt.figure(figsize=(20,6))\ntop_30 = df.groupby('city_or_county')['injured'].count() \\\n.sort_values(ascending = False).head(20)\nsns.barplot(x=top_30.index, y = top_30.values)\nplt.title('Injured Top 20')\nplt.show()","9a6cd5b5":"plt.figure(figsize=(20,6))\ntop_30 = df.groupby('state')['injured'].count() \\\n.sort_values(ascending = False).head(20)\nsns.barplot(x=top_30.index, y = top_30.values)\nplt.title('Injured Top 20')\nplt.show()","4b879808":"df_t = pd.read_csv('..\/input\/data-tratada\/violence_usa_tratada.csv')\ndf_t = df_t.dropna(axis = 0)\ndf_t = df_t.drop(df_t[df_t.seller_latitude < 20].index)\ndf_t = df_t.drop(df_t[df_t.seller_longitude > -73].index)","86d1e18a":"map_1 = folium.Map(location=[35, -95], tiles='cartodbpositron', zoom_start=4)\nHeatMap(data=df_t[['seller_latitude', 'seller_longitude']], radius=0).add_to(map_1)\nmap_1","73c60b3f":"f = folium.Figure(width=1200, height=750)\nmap = folium.Map(location = [25, -95], \n                      zoom_start = 4).add_to(f)\nprice=folium.map.FeatureGroup()\nprice=plugins.MarkerCluster().add_to(map)\nfor latitude,longitude,label in zip(df_t.seller_latitude,df_t.seller_longitude,df_t.incident_date):\n    folium.Marker(location=[latitude,longitude],icon=None,popup=label).add_to(price)\nmap.add_child(price)\nmap","a73da2dc":"class color:\n   DARKCYAN = '\\033[36m'\n   BLUE = '\\033[91m'\n   BOLD = '\\033[1m'\n   UNDERLINE = '\\033[4m'\n   END = '\\033[0m'","13a24844":"print(color.BLUE + '\\033[4m' + '\\033[1m' +'Total number of people murdered in the period: ', df.killed.sum(),'' +  color.END)\nprint(color. DARKCYAN + '\\033[1m' + '\\033[4m' +'Total number of people who suffered injuries in the period: ', int(df.injured.sum()),'' +  color.END)","a7f4ec52":"**On this map you can see in detail the location of the occurrence of the criminal event and the date.**","95f2cba4":"**In the injuried Chicago still dominates, we can see a relationship between the homicides and the injuried**","5920d658":"**We can verify that the cases of crimes are intensified.**","842ff396":"**The following database is the same, but I did a treatment on it to get the location of the crimes, unfortunately due to the fact that some addresses are incomplete it was not possible to get all the locations, but there is a significant amount in which it is possible to get a sense of the map of violence.**","6012fc12":"**Unfortunately, the escalation of violence affects not only poor countries, but also rich ones.**\n\n**The United States has one of the lowest unemployment rates in its history and crime has increased, making it evident that there is no direct correlation between unemployment and violence, but rather that some public policies must be taken.**\n\n**Remembering that the United States has the largest prison population in the world, that is, prisons and strict laws do not reduce crime.**\n\n**We can see an increase in crime in the hot months, I believe it makes people more on the streets, go out and drink more.**","38dc6b48":"**As in the old days Chicago leads the way in violence towards homicide.**","8d0bc832":"**Among the States Illinois followed by California are among those with the highest number of homicides.**","d5a0f8a0":"# **GRAPH WITH RAW DATA**","de959275":"# **If you find this notebook useful, support with an upvote** \ud83d\udc4d","b149b987":"# Description\n\nAggregated information of over three thousand incidents of gun violence within the United States from Jan 2014 through Sep 2021.\n\nAddress of the incident is mentioned along with the number of causalities or injuries.\n\nThis data along with the latest events available at the Gun Violence Archive."}}