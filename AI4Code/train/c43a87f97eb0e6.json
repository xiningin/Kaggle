{"cell_type":{"7ce8c955":"code","990caa2b":"code","4ee7af70":"code","8db93b76":"code","b83b89eb":"code","6e4e024c":"code","e3adca66":"code","88640284":"code","2b687f9c":"code","df0810f7":"code","3f3e9f04":"code","5f60307e":"code","021d24f0":"code","befcca35":"code","131a98cc":"code","39639e59":"code","78973ed7":"code","2261da7a":"code","acb2c075":"code","250a6783":"code","26be51fb":"code","bf03c0aa":"code","54d839c3":"code","41c23044":"code","b78d97c9":"code","b0252ebe":"code","5b55455f":"code","58489072":"code","650f7c2b":"code","ca59a0fc":"code","fc237fe1":"code","1edce2d0":"code","b92f83b9":"code","492b41b9":"code","441366be":"code","39fa6c84":"code","274b3154":"code","01e2919f":"code","21f7d6f7":"code","a62d48fb":"code","49ee6332":"code","ef6b6e0d":"code","bd7d88b1":"code","c0045b7e":"code","c7417418":"code","07aed2f8":"code","e9b0aa11":"code","ebb0a753":"code","9aff7c75":"code","3b409fd8":"code","bdc34345":"code","9b434e84":"code","08a484f4":"code","c8fe2288":"code","41ede196":"code","7e05960b":"code","59a9b7ba":"code","90d26843":"code","be53494d":"code","c27a2ec3":"code","85b69806":"markdown","3b002ff3":"markdown","97365409":"markdown","b5d5e960":"markdown","169674aa":"markdown","e16d5b47":"markdown","d55c96ee":"markdown","d01cdd90":"markdown","2b7fa3b6":"markdown","a360418b":"markdown","1c4f8684":"markdown","f22f1ed4":"markdown","f4b4a241":"markdown","83a0164d":"markdown","185f69b1":"markdown","09f989dc":"markdown","21e83281":"markdown","a21e2f11":"markdown","79c54aa2":"markdown","8ecaf408":"markdown","8dcd9ffb":"markdown","1bd0c330":"markdown","ca6254ae":"markdown","7fea01bc":"markdown","7b9a0f8d":"markdown"},"source":{"7ce8c955":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","990caa2b":"data = pd.read_csv('..\/input\/turkish-airlines-daily-stock-prices-since-2013\/cleanThy.csv')","4ee7af70":"#information of data\ndata.info()\n","8db93b76":"#the ration between data\ndata.corr()","b83b89eb":"#correlation map #\nf,ax = plt.subplots(figsize=(18, 18))\nsns.heatmap(data.corr(), annot=True, linewidths=.5, fmt= '.1f',ax=ax)\nplt.show()","6e4e024c":"#top 10 data but ----- data.head() = top 5 data\ndata.head(10)","e3adca66":"#last 10 data\ndata.tail()","88640284":"data.columns","2b687f9c":"# Line Plot\n# color = color, label = label, linewidth = width of line, alpha = opacity, grid = grid, linestyle = sytle of line\ndata[' Lowest Price'].plot(kind = 'line', color = 'r',label = 'Lowest Price',linewidth=1,alpha = 0.5,grid = True,linestyle = ':',figsize = (15,15))\ndata[' Highest Price'].plot(kind = \"line\",color = 'b',label = 'Highest Price',linewidth=1, alpha = 0.5,grid = True,linestyle = '-.',figsize = (15,15))\nplt.legend(loc='upper right')     # legend = puts label into plot\nplt.xlabel('x axis')              # label = name of label\nplt.ylabel('y axis')\nplt.title('Price')            # title = title of plot\nplt.show()","df0810f7":"# Scatter Plot =  correlation between two variables\n# x = Lowest Price , y = Highest Price\ndata.plot(kind = 'scatter' , x=' Lowest Price', y=' Highest Price' , alpha = 0.5 , color = 'red', figsize = (12,12))\nplt.xlabel('Lowest')\nplt.ylabel('Highest')\nplt.title('Price')\nplt.show()","3f3e9f04":"#Alternative Code\nplt.scatter(data[' Lowest Price'],data[' Highest Price'],alpha = 0.5,color='red')","5f60307e":"# Histogram\n# bins = number of bar in figure\ndata[' Last Price'].plot(kind = 'hist',bins = 50 , figsize = (12,12))\nplt.show()","021d24f0":"# clf() = cleans it up again you can start a fresh\ndata[' Last Price'].plot(kind = 'hist',bins = 50)\nplt.clf()\n# We cannot see plot due to clf()","befcca35":"#create dictionary and look its keys and values\ndic = {'Lowest Price' : '13.02','Highest Price' : '13.28'}\nprint(dic.values())\nprint(dic.keys())","131a98cc":"# Keys have to be immutable objects like string, boolean, float, integer or tubles\n# List is not immutable\n# Keys are unique\ndic['Lowest Price'] = '13.10'  #update existing entry\nprint(dic)\ndic['Last Price'] = '13.25'  #add new entry\nprint(dic)\ndel dic['Lowest Price']        #remove entry with key 'Lowest Price'\nprint(dic)\nprint('Last Price' in dic)\ndic.clear()                   # remove all entries in dict.Delete entire dictionary from memories so it gives error because dictionary is deleted\nprint(dic)","39639e59":"data = pd.read_csv('..\/input\/turkish-airlines-daily-stock-prices-since-2013\/cleanThy.csv')","78973ed7":"# 1 - Filtering Pandas data frame\nfilter1 = data[' Lowest Price']>10\ndata[filter1]","2261da7a":"# 2 - Filtering pandas - use '&' for filtering.\ndata[(data[' Lowest Price']>10) & (data[' Highest Price']<15)]\n","acb2c075":"# Stay in loop if condition( i is not equal 5) is true\ni = 0\nwhile i < 5 :\n    print('i is: ',i)\n    i = i + 1\nprint(i,' is not less than 5')","250a6783":"# Stay in loop if condition( i is not equal 5) is true\nliste = [12,13,14,15]\nfor i in liste:\n    print('Price :',i )\n    \n# Enumerate index and value of list\n# index : value = 0:1, 1:2, 2:3, 3:4, 4:5\nfor index,value in enumerate(liste):\n    print(index ,\":\", value)\n    \n# For dictionaries\n# We can use for loop to achive key and value of dictionary. We learnt key and value at dictionary part.\ndic={'First Price ':'12','Second Price:':'13'}\nfor key,value in dic.items():\n    print(key,\":\",value)","26be51fb":"# For pandas we can achieve index and value\nfor index,value in data[[' Lowest Price']][0:4].iterrows():\n    print(index,\" : \",value)","bf03c0aa":"# example of what we learn above\ndef tuble_ex():\n    \"\"\" return defined t tuble\"\"\"\n    t = (11,12,13)\n    return t\nLowest,Highest,Last = tuble_ex()\nprint(Lowest,Highest,Last)","54d839c3":"# guess print what\nx = 12\ndef f():\n    x = 13\n    return x\nprint(x)      # x = 12 global scope\nprint(f())    # x = 13 local scope","41c23044":"# What if there is no local scope\nx = 10\ndef f():\n    y = 4*x        # there is no local scope x\n    return(y)      # it uses global scope x\nprint(f())    \n# First local scopesearched, then global scope searched, if two of them cannot be found lastly built in scope searched.    ","b78d97c9":"# How can we learn what is built in scope\nimport builtins\ndir(builtins)","b0252ebe":"#nested function\n\ndef Square():\n    \"\"\"return square of value\"\"\"\n    def add():\n        \"\"\"add three local variable\"\"\"\n        x = 5\n        y = 6\n        z = 8\n        w = x+y+z\n        return w \n    return add()**2\nprint(Square())","5b55455f":"#default arguments\n\ndef f(x , y =  5 , z = 10):\n    w = x + y + z\n    return w\nprint(f(20))\n# what if we want to change default arguments\nprint(f(7,8,9))\n    ","58489072":"#flexible arguments *args\n\ndef f(*args):\n    for i in args:\n        return i\nprint(f('Lowest , Highest , Last'))\n\n# flexible arguments **kwargs that is dictionary\ndef f(**kwargs):\n    for key,value in kwargs.items():\n        print(key, ':' ,value)\n    \nf(country = 'France', capital = 'Monaco', population = 123456)    \n    ","650f7c2b":"#lambda function\nsquare = lambda x : x**2    # where x is name of argument\nprint(square(5))\ntotal = lambda x,y,z : x+y+z    # where x,y,z are names of arguments\nprint(total(5,6,7))","ca59a0fc":"lis1 = [1,2,3]\nz = map(lambda x : x**2,lis1)\nprint(z)\nprint(list(z))","fc237fe1":"#iteration example\nname = \"Monaco\"\nit = iter(name)\nprint(next(it))\nprint(*it)\n","1edce2d0":"#zip example\nlis1 = [1,2,3]\nlis2 = [4,5,6]\nz = zip(lis1,lis2)\nprint(z)\nz_list = list(z)\nprint(z_list)","b92f83b9":"#example of list comprehension\nlis1 = [10,15,20]\nlis2 = [i + 5 for i in lis1]\nprint(lis2)","492b41b9":"# Conditionals on iterable\nlis1 = [5,10,15]\nlis2 = [i + 5 if i>10 else i + 10 if i == 10 else i-5 for i in lis1]\nprint(lis2)","441366be":"#comprehension example\n#Our treshold is Highest Price\ntreshold = sum(data[' Last Price'])\/len(' Last Price')\ndata['price_level'] = ['High' if i > treshold else 'Low' for i in data[' Last Price']]\ndata.loc[:10,['price_level',' Last Price']]\n","39fa6c84":"data = pd.read_csv('..\/input\/turkish-airlines-daily-stock-prices-since-2013\/cleanThy.csv')","274b3154":"data.head()  # head shows first 5 rows","01e2919f":"# tail shows last 5 rows\ndata.tail()","21f7d6f7":"# columns gives column names of features\ndata.columns","a62d48fb":"# shape gives number of rows and columns in a tuble\ndata.shape","49ee6332":"#information of data\ndata.info()","ef6b6e0d":"#for example\nprint(data[' Volume'].value_counts(dropna = True)) # if there are nan values that also be counted","bd7d88b1":"data.describe() #ignore null entries  #%25 Q1 quartile -- %50 Q2 median----%75 Q3 qurtile","c0045b7e":"# Black line at top is max\n# Blue line at top is 75%\n# Red line is median (50%)\n# Blue line at bottom is 25%\n# Black line at bottom is min\n# There are no outliers\ndata.boxplot(column = ' Highest Price',by = 'price_level')","c7417418":"#Firstly I create new data\ndata_new = data.head()\ndata_new","07aed2f8":"# lets melt\n# id_vars = what we do not wish to melt\n# value_vars = what we want to melt\nmelted = pd.melt(frame = data_new,id_vars = 'Date',value_vars = [' Lowest Price',' Highest Price'])\nmelted                                                                    ","e9b0aa11":"#Index is Date\n# I want to make that columns are variable\n# Finally values in columns are value\nmelted.pivot(index = 'Date',columns = 'variable',values = 'value')","ebb0a753":"#Firstly I creat two data frame\ndata1 = data.head()\ndata2 = data.tail()\nconcat_data_row = pd.concat([data1,data2],axis=0) #axis = 0 in row\nconcat_data_row","9aff7c75":"data1 = data.head()\ndata2 = data.tail()\nconcat_data_column = pd.concat([data1,data2],axis=1) \nconcat_data_column","3b409fd8":"# lets convert object(str) to categorical and int to float.\ndata[' Lowest Price'] = data[' Lowest Price'].astype('category')\ndata[' Highest Price'] = data[' Highest Price'].astype('float')","bdc34345":"data.dtypes","9b434e84":"# Lets look at does THY Price data have nan value\ndata.info()","08a484f4":"#Lets check type 2\ndata[' Highest Price'].value_counts(dropna = False)\n#As you can see,there is no NaN value","c8fe2288":"#Lets assume that our data have NaN value\n#Lets drop NaN value\ndata[' Highest Price'].dropna(inplace = 1)  # inplace = True means we do not assign it to new variable. Changes automatically assigned to data\ndata[' Highest Price'].value_counts(dropna = False)\n","41ede196":"#  Lets check with assert statement\n# Assert statement:\nassert 1==1 # return nothing because it is true","7e05960b":"# In order to run all code, we need to make this line comment\n# assert 1==2 # return error because it is false","59a9b7ba":"assert  data[' Highest Price'].notnull().all() # returns nothing because we drop nan values","90d26843":"# replacing NaN values in data with empty \ndata[' Highest Price'].fillna('empty',inplace = True)\n","be53494d":"assert  data[' Highest Price'].notnull().all() # returns nothing because we drop nan values","c27a2ec3":"# # With assert statement we can check a lot of thing. For example\nassert data.columns[1] == ' Highest Price'\n#returns error because first column's name is 'Date'","85b69806":"### DICTIONARY\nWhy we need dictionary?\n* It has 'key' and 'value'\n* Faster than lists\n<br>\nWhat is key and value. Example:\n* dictionary = {'game' : 'The Legend of Zelda'}\n* Key is game.\n* Values is The Legend of Zelda.\n<br>\n<br>**It's that easy.**\n<br>Lets practice some other properties like keys(), values(), update, add, check, remove key, remove all entries and remove dicrionary.","3b002ff3":"### MATPLOTLIB\nMatplot is a python library that help us to plot data. The easiest and basic plots are line, scatter and histogram plots.\n* Line plot is better when x axis is time.\n* Scatter is better when there is correlation between two variables\n* Histogram is better when we need to see distribution of numerical data.\n* Customization: Colors,labels,thickness of line, title, opacity, grid, figsize, ticks of axis and linestyle  ","97365409":"### DEFAULT and FLEXIBLE ARGUMENTS\n* Default argument example:\n<br> def f(a,pi = 3.14):\n        \"\"\" pi = 3.14 is default argument\"\"\"\n* Flexible argument example:\n<br> def f(*args):\n       \"\"\" *args can be one or more\"\"\"\n<br>def f(** kwargs)\n       \"\"\" **kwargs is a dictionary\"\"\"\n      ","b5d5e960":"### ANONYMOUS FUNCT\u0130ON\nLike lambda function but it can take more than one arguments.\n* map(func,seq) : applies a function to all the items in a list","169674aa":"### MISSING DATA and TESTING WITH ASSERT\nIf we encounter with missing data, what we can do:\n* leave as is\n* drop them with dropna()\n* fill missing value with fillna()\n* fill missing values with test statistics like mean\n<br>Assert statement: check that you can turn on or turn off when you are done with your testing of the program","e16d5b47":"### LIST COMPREHENS\u0130ON\n**One of the most important topic of this kernel**\n<br>We use list comprehension for data analysis often. \n<br> list comprehension: collapse for loops for building lists into a single line\n<br>Ex: num1 = [1,2,3] and we want to make it num2 = [2,3,4]. This can be done with for loop. However it is  unnecessarily long. We can make it one line code that is list comprehension.","d55c96ee":"### DATA TYPES\nThere are 5 basic data types: object(string),booleab,  integer, float and categorical.\n<br> We can make conversion data types like from str to categorical or from int to float\n<br> Why is category important: \n* make dataframe smaller in memory \n* can be utilized for anlaysis especially for sklear(we will learn later)","d01cdd90":"### EXPLORATORY DATA ANALYSIS\nvalue_counts(): Frequency counts\n<br>outliers: the value that is considerably higher or lower from rest of the data\n* Lets say value at 75% is Q3 and value at 25% is Q1. \n* Outlier are smaller than Q1 - 1.5(Q3-Q1) and bigger than Q3 + 1.5(Q3-Q1). (Q3-Q1) = IQR\n<br>We will use describe() method. Describe method includes:\n* count: number of entries\n* mean: average of entries\n* std: standart deviation\n* min: minimum entry\n* 25%: first quantile\n* 50%: median or second quantile\n* 75%: third quantile\n* max: maximum entry\n\n<br> What is quantile?\n\n* 1,4,5,6,8,9,11,12,13,14,15,16,17\n* The median is the number that is in **middle** of the sequence. In this case it would be 11.\n\n* The lower quartile is the median in between the smallest number and the median i.e. in between 1 and 11, which is 6.\n* The upper quartile, you find the median between the median and the largest number i.e. between 11 and 17, which will be 14 according to the question above.","2b7fa3b6":"[i + 1 for i in num1 ]: list of comprehension\n<br> i +1: list comprehension syntax\n<br> for i in num1: for loop syntax\n<br> i: iterator\n<br> num1: iterable object","a360418b":"<a id=\"20\"><\/a> <br>\n### TIDY DATA\nWe tidy data with melt().\nDescribing melt is confusing. Therefore lets make example to understand it.","1c4f8684":"In this part, you learn:\n* Diagnose data for cleaning\n* Exploratory data analysis\n* Visual exploratory data analysis\n* Tidy data\n* Pivoting data\n* Concatenating data\n* Data types\n* Missing data and testing with assert","f22f1ed4":"### PANDAS\nWhat we need to know about pandas?\n* CSV: comma - separated values","f4b4a241":"# 3.CLEANING DATA","83a0164d":"### USER DEFINED FUNCTION\nWhat we need to know about functions:\n* docstrings: documentation for functions. Example:\n<br>for f():\n    <br>\"\"\"This is docstring for documentation of function f\"\"\"\n* tuble: sequence of immutable python objects. \n<br>cant modify values\n<br>tuble uses paranthesis like tuble = (1,2,3)\n<br>unpack tuble into several variables like a,b,c = tuble","185f69b1":"### NESTED FUNCTION\n* function inside function.\n* There is a LEGB rule that is search local scope, enclosing function, global and built in scopes, respectively.","09f989dc":"zip(): zip lists","21e83281":"### WHILE and FOR LOOPS\nWe will learn most basic while and for loops","a21e2f11":"### LAMBDA FUNCTION\nFaster way of writing function","79c54aa2":"### CONCATENATING DATA\nWe can concatenate two dataframe ","8ecaf408":"### VISUAL EXPLORATORY DATA ANALYSIS\n* Box plots: visualize basic statistics like outliers, min\/max or quantiles","8dcd9ffb":"# 2. PYTHON DATA SCIENCE TOOLBOX","1bd0c330":"### DIAGNOSE DATA for CLEANING\nWe need to diagnose and clean data before exploring.\n<br>Unclean data:\n* Column name inconsistency like upper-lower case letter or space between words\n* missing data\n* different language\n\n<br> We will use head, tail, columns, shape and info methods to diagnose data\n","ca6254ae":"### SCOPE\nWhat we need to know about scope:\n* global: defined main body in script\n* local: defined in a function\n* built in scope: names in predefined built in scope module such as print, len\n<br><br>Lets make some basic examples","7fea01bc":"### ITERATORS\n* iterable is an object that can return an iterator\n* iterable: an object with an associated iter() method\n<br> example: list, strings and dictionaries\n* iterator: produces next value with next() method","7b9a0f8d":"### PIVOTING DATA\nReverse of melting."}}