{"cell_type":{"1a5997b3":"code","bca32bc5":"code","93f4f3ea":"code","470475c7":"code","bac48798":"code","546ad3d6":"code","d2465417":"code","a1ed3adb":"code","5f64737d":"code","fcd2ec3d":"code","6c3f6067":"code","8569eae4":"code","ac8b9af5":"code","0094ecce":"code","74626ff3":"code","bbaadde7":"code","54caae8c":"code","89ffe051":"code","c3e53bd2":"code","8c68ee3a":"code","e1ee4b17":"code","8346ea9a":"code","58aaefe7":"code","e04a091d":"code","5ca7d3dc":"code","4aca680c":"code","7eeab65f":"code","0ccf3783":"code","2cf8a435":"code","24308be4":"code","3ee69982":"code","8395f6b8":"code","0e2abb14":"code","94800d2b":"code","edd175a0":"code","76b875bf":"code","88f562ff":"code","ebb5408c":"code","f9c1eeab":"code","1b2d1ac7":"code","b99f7387":"code","613cc8f6":"code","9cc8b873":"code","4efadac4":"code","0d84ce8c":"code","199e4978":"code","17152e24":"code","1a352074":"code","829b85e0":"code","764f74a1":"code","a003b4db":"code","391a41d1":"markdown","de2689f7":"markdown","1952540a":"markdown","e02866af":"markdown","4fea0e7a":"markdown","5c686e66":"markdown","784f6dcf":"markdown","bf6e5d4a":"markdown","d3bfbf76":"markdown","e39c7cb7":"markdown","63157f66":"markdown","b91f811b":"markdown","1f2f7858":"markdown","9ecb8ccd":"markdown","88824327":"markdown","a85b428f":"markdown","b338c07d":"markdown","c5bc4713":"markdown","d09589b3":"markdown","57dbdd90":"markdown","e948aa24":"markdown","06c23a11":"markdown","9f348fb0":"markdown","c07d4771":"markdown","cceb3a02":"markdown","3b2c6b80":"markdown","fd1284d7":"markdown","60c9e5b5":"markdown","514cceca":"markdown","0beb6406":"markdown","8e541f51":"markdown","25d8fde0":"markdown","10674e5a":"markdown","dec22f6e":"markdown","842f1ece":"markdown","50fa048f":"markdown","69124257":"markdown","e246adc6":"markdown","ff7c3906":"markdown"},"source":{"1a5997b3":"import numpy as np \nimport pandas as pd \nimport glob \nimport os \nimport matplotlib.pyplot as plt \nimport seaborn as sns \nimport plotly.graph_objects as go\n\nimport folium\nfrom folium import plugins\nfrom geopy.geocoders import Nominatim\nfrom folium import Choropleth, Circle, Marker\nfrom folium.plugins import HeatMap, MarkerCluster, FastMarkerCluster\nfrom wordcloud import WordCloud, STOPWORDS ","bca32bc5":"districts_data = pd.read_csv('..\/input\/learnplatform-covid19-impact-on-digital-learning\/districts_info.csv')\nproducts_data = pd.read_csv(\"..\/input\/learnplatform-covid19-impact-on-digital-learning\/products_info.csv\")","93f4f3ea":"path = '..\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data' \nall_files = glob.glob(path + \"\/*.csv\")\n\nli = []\n\nfor filename in all_files:\n    df = pd.read_csv(filename, index_col=None, header=0)\n    district_id = filename.split(\"\/\")[4].split(\".\")[0]\n    df[\"district_id\"] = district_id\n    li.append(df)\n    \nengagement_data = pd.concat(li)\nengagement_data = engagement_data.reset_index(drop=True)\nengagement_data.head()","470475c7":"print('Shape of districts info dataset is:', districts_data.shape)\ndistricts_data.info()","bac48798":"districts_data.head(10)","546ad3d6":"districts_data.describe(include='all')","d2465417":"districts_data.isna().sum()","a1ed3adb":"districts_data['locale'].value_counts()","5f64737d":"districts_data['locale'].value_counts().plot(kind='pie', explode=[0.1,0.1,0.1,0.1], fontsize=12, autopct='%3.1f%%', \n                                               figsize=(5,5), startangle=135, legend=False, colors=['#ff760d','#ffa159','#ffdbbf','#ff9d5c'])\nplt.ylabel('')\nplt.xlabel('Most Locale', size=15)","fcd2ec3d":"districts_data['state'].value_counts()","6c3f6067":"plt.figure(figsize=(16, 10))\nsns.countplot(y=\"state\",data=districts_data,order=districts_data.state.value_counts().index,palette=\"Oranges\",linewidth=3)\nplt.title(\"State Distribution\",font=\"Serif\", size=20)\nplt.show()","8569eae4":"plt.figure(figsize=(20,10))\nax=sns.countplot(data=districts_data,x='state',hue='locale',palette='Oranges')\nplt.xticks(rotation=90)\nplt.title(\"State and its Locality\")\nfor p in ax.patches:\n    ax.text (p.get_x() + p.get_width()  \/ 2,p.get_height()+ 0.75,p.get_height(), fontsize = 11)","ac8b9af5":"districts_data","0094ecce":"districts_copy=districts_data.copy()\ndistricts_copy.dropna(inplace=True)\n\ndistricts_copy['pct_black\/hispanic']=districts_copy['pct_black\/hispanic'].apply(lambda x :float(x.split(',')[0][1:])+0.1)\ndistricts_copy['pct_free\/reduced']=districts_copy['pct_free\/reduced'].apply(lambda x :float(x.split(',')[0][1:])+0.1)\n\ndistricts_copy=districts_copy.reset_index()","74626ff3":"districts_copy.drop(labels='index',inplace=True,axis=1)\ndistricts_copy","bbaadde7":"districts_copy['pp_total_raw']=districts_copy['pp_total_raw'].apply(lambda x :float(x.split(',')[0][1:])+1000)\ndistricts_copy['county_connections_ratio']=districts_copy['county_connections_ratio'].apply(lambda x: float(x.split(',')[0][1:])+0.1)\n\ndistricts_copy","54caae8c":"state_locale_df=districts_copy.groupby(['state','locale']).agg({'pct_black\/hispanic':np.mean,'pct_free\/reduced':np.mean,'pp_total_raw':np.mean})\nstate_locale_df=state_locale_df.reset_index()\nstate_locale_df.head(10)","89ffe051":"state_pct=districts_copy.groupby('state').agg({'pct_black\/hispanic':np.mean,'pct_free\/reduced':np.mean,'pp_total_raw':np.mean})","c3e53bd2":"state_pct=state_pct.reset_index()","8c68ee3a":"plt.figure(figsize = (15, 8))\na = sns.barplot(data = state_pct, y = 'state', x = 'pct_free\/reduced', palette = 'Oranges')\nplt.yticks(fontsize = 14, color = '#283655')\nplt.ylabel('Pct_free\/Reduced fee')\nplt.xlabel('State')\n\na.spines['left'].set_linewidth(1.5)\nfor w in ['right', 'top', 'bottom']:\n    a.spines[w].set_visible(False)\n    \nplt.show()","e1ee4b17":"plt.figure(figsize = (15, 8))\na = sns.barplot(data = state_pct, y = 'state', x = 'pct_black\/hispanic', palette = 'Oranges')\nplt.yticks(fontsize = 14, color = '#283655')\nplt.ylabel('Pct_black\/hispanic')\nplt.xlabel('State')\n\na.spines['left'].set_linewidth(1.5)\nfor w in ['right', 'top', 'bottom']:\n    a.spines[w].set_visible(False)\n    \nplt.show()","8346ea9a":"plt.figure(figsize=(15,15))\nsns.catplot(y=\"pp_total_raw\", x=\"state\",hue=\"locale\",palette=\"rocket\",data=state_locale_df, kind=\"bar\",height=7,aspect=2)\nplt.xticks(rotation=60);\nplt.title(\"Distribution of state percentage PP Total Raw\")","58aaefe7":"products_data.describe(include='all')","e04a091d":"plt.figure(figsize=(16, 10))\nsns.countplot(y='Provider\/Company Name', data=products_data, \n              order=products_data[\"Provider\/Company Name\"].value_counts().index[:10],palette = 'coolwarm')\nplt.title(\"Top 10 Provider\/Company Names\",font=\"Serif\", size=20)\nplt.show()","5ca7d3dc":"c1=c2=c3=0\nfor s in products_data[\"Sector(s)\"]:\n    if(not pd.isnull(s)):\n        s = s.split(\";\")\n        for i in range(len(s)):\n            sub = s[i].strip()\n            if(sub == 'PreK-12'): c1+=1\n            if(sub == 'Higher Ed'): c2+=1\n            if(sub == 'Corporate'): c3+=1\n\nfig, ax  = plt.subplots(figsize=(16, 8))\nfig.suptitle('Sector Distribution', size = 30, font=\"Serif\")\nexplode = (0.05, 0.05, 0.05)\nlabels = ['PreK-12','Higher Ed','Corporate']\nsizes = [c1,c2, c3]\nax.pie(sizes, explode=explode,startangle=60, labels=labels,autopct='%1.2f%%', pctdistance=0.7, colors=[\"#ff8303\",\"#fedebe\",\"#ffaf42\"])\nax.add_artist(plt.Circle((0,0),0.4,fc='white'))\nplt.show()","4aca680c":"primary_essential_main = []\nprimary_essential_sub = []\nfor s in products_data[\"Primary Essential Function\"]:\n    if(not pd.isnull(s)):\n        s1 = s.split(\"-\",1)[0].strip()\n        primary_essential_main.append(s1)\n    else:\n        primary_essential_main.append(np.nan)\n    \n    if(not pd.isnull(s)):\n        s2 = s.split(\"-\",1)[1].strip()\n        primary_essential_sub.append(s2)\n    else:\n        primary_essential_sub.append(np.nan)\n\nproducts_data[\"primary_essential_main\"] = primary_essential_main\nproducts_data[\"primary_essential_sub\"] = primary_essential_sub","7eeab65f":"c1=c2=c3=0\nfor s in products_data[\"primary_essential_main\"]:\n    if(not pd.isnull(s)):\n        c1 += s.count(\"CM\")\n        c2 += s.count(\"LC\")\n        c3 += s.count(\"SDO\")\n\nfig, ax  = plt.subplots(figsize=(16, 8))\nfig.suptitle('Primary Essential Function', size = 20, font=\"Serif\")\nexplode = (0.05, 0.05, 0.05)\nlabels = ['CM','LC','SDO']\nsizes = [c1, c2, c3]\nax.pie(sizes, explode=explode,startangle=60, labels=labels,autopct='%1.2f%%', pctdistance=0.7, colors=[\"#fedebe\", \"#ff8303\",\"#ffaf42\"])\nax.add_artist(plt.Circle((0,0),0.4,fc='white'))\nplt.show()","0ccf3783":"plt.figure(figsize=(16, 20))\nsns.countplot(y='primary_essential_sub', data=products_data, order=products_data[\"primary_essential_sub\"].value_counts().index, palette = \"Oranges\")\nplt.title(\"Primary Essential Function(Sub)\",font=\"Serif\", size=20)\nplt.show()","2cf8a435":"engagement_data.describe(include='all')","24308be4":"engagement_data.dropna(inplace=True)","3ee69982":"engagement_data.reset_index(drop=True,inplace=True)","8395f6b8":"engagement_data['time']=pd.to_datetime(engagement_data['time'])","0e2abb14":"engagement_data['month'] = engagement_data['time'].dt.month\nengagement_data['date'] = engagement_data['time'].dt.day\nengagement_data['date_week']=engagement_data['time'].dt.weekday\nengagement_data","94800d2b":"date_agg = engagement_data.groupby(['date','month','date_week']).agg({'engagement_index':np.mean,'pct_access':np.mean})\ndate_agg","edd175a0":"date_agg=date_agg.reset_index()","76b875bf":"plt.figure(figsize=(15,11))\nsns.lineplot(y=date_agg['pct_access'],x=date_agg[\"month\"])\nplt.title(\"Average access per month\", size=20)","88f562ff":"plt.figure(figsize=(15,11))\nsns.lineplot(y=date_agg['engagement_index'],x=date_agg[\"month\"],palette='rocket')\nplt.title(\"Average Engagemnet Index per month\")","ebb5408c":"engagement_data['time'] = pd.to_datetime(engagement_data['time'])","f9c1eeab":"products_engagement_data = pd.merge(products_data, engagement_data, left_on='LP ID', right_on='lp_id')\nproducts_engagement_data.head()","1b2d1ac7":"#get the product name data base on average engagement index and sort it\ntop_p=products_engagement_data.groupby(['Product Name', 'Primary Essential Function'], as_index=False)['engagement_index'].mean()\ntop_p=top_p.sort_values(by=['engagement_index'],ascending=False)","b99f7387":"plt.figure(figsize = (16,8))\nsns.barplot(data=top_p.head(10), x=\"Product Name\", y= \"engagement_index\", palette='Oranges')\nplt.title('Top 10 LearnPlatform Product in 2020 (All District)',size=15)\nplt.xlabel('Company Name',size=12)\nplt.ylabel('Engagement index',size=12)\nlocs, labels = plt.xticks()\nsns.despine()\nplt.show()","613cc8f6":"top_c=products_engagement_data.groupby(['Primary Essential Function'], as_index=False)['engagement_index'].mean()\ntop_c=top_c.sort_values(by=['engagement_index'],ascending=False)\n\nplt.figure(figsize = (16,8))\nsns.barplot(data=top_c[:10], y=\"Primary Essential Function\", x= \"engagement_index\", palette=\"Oranges\")\nplt.title('Top 5 Category Platform in 2020 (All District)', size=15)\nsns.despine()\nplt.show()","9cc8b873":"engagement_data[\"district_id\"] = engagement_data[\"district_id\"].astype(str).astype(int)\ndistricts_engagement_data = pd.merge(districts_data, engagement_data, left_on='district_id', right_on='district_id')\ndistricts_engagement_data.head()","4efadac4":"locations = pd.DataFrame(districts_engagement_data.groupby('state').agg({'engagement_index':np.mean}).reset_index())\nlocations.head()","0d84ce8c":"geolocator=Nominatim(user_agent=\"app\")\nloc = []\nlat = []\nlon = []\nfor location in locations['state']:\n    location = geolocator.geocode(location)  \n    loc.append(location)\n    if location is None:\n        lat.append(np.nan)\n        lon.append(np.nan)\n    else:\n        lat.append(location.latitude)\n        lon.append(location.longitude)","199e4978":"locations['lat'] = lat\nlocations['lon'] = lon","17152e24":"locations.head()","1a352074":"def generateBaseMap():\n    base_map = folium.Map(location = [37.0902, -95.7129], zoom_start = 4)\n    return base_map","829b85e0":"basemap=generateBaseMap()","764f74a1":"HeatMap(locations[['lat','lon','engagement_index']],zoom=20,radius=20).add_to(basemap)","a003b4db":"average_engagement = plugins.MarkerCluster().add_to(basemap)\nfor lat, long, label, in zip(locations.lat, locations.lon, locations.engagement_index):\n    folium.Marker(\n        location=[lat,long],\n        icon=None,\n        popup=label,\n    ).add_to(average_engagement)\n\nbasemap","391a41d1":"#### **Q**: What is the most primary essential main function and the its distribution?","de2689f7":"#### **Q**: What is the sub function from its platform? and count all the function","1952540a":"From the visualization above, it's the marker and heatmap distribution engagement index in each state in US","e02866af":"The product file \"products_info.csv\" includes information about the characteristics of the top 372 products with most users in 2020. The categories listed in this file are part of LearnPlatform's product taxonomy. Data were labeled by our team. Some products may not have labels due to being duplicate, lack of accurate url or other reasons.","4fea0e7a":"Percentage of students in the districts eligible for free or reduced-price lunch was mostly from Minnesota","5c686e66":"From the chart above, Google docs is the most used platform in US. Google Docs is an online word processor included as part of the free, web-based Google Docs Editors suite offered by Google, which also includes Google Sheets, Google Slides, Google Drawings, Google Forms, Google Sites, and Google Keep. Google Docs is accessible via an internet browser as a web-based application and is also available as a mobile app on Android and iOS and as a desktop application on Google's Chrome OS.","784f6dcf":"# PRODUCT DATA","bf6e5d4a":"Connecticut has the most number of district representation with 30 district counts in the dataset closely followed by Utah. A great number of the education insituions are located in the Suburbs **but does this result in bettter education How do they compare to the other locales?**","d3bfbf76":"#### **Q**: What is the distribution count for locale?","e39c7cb7":"# ANALYSIS LEARNPLATFORM COVID-19 IMPACT","63157f66":"# ENGAGEMENT DATA","b91f811b":"* There are 23 **state**(s) for which data points are available.\n* Connecticut **state** has the highest frequency of occurrence.\n* Suburp **locale** has the highest frequency \n* There are 4 **locale** in the data","1f2f7858":"Percentage of students in the districts identified as Black or Hispanic was mostly from Texas","9ecb8ccd":"The engagement data are aggregated at school district level, and each file in the folder engagement_data represents data from one school district. The 4-digit file name represents district_id which can be used to link to district information in district_info.csv. The lp_id can be used to link to product information in product_info.csv. In this section, we will analyse Engagement data. The engagement data are aggregated at school district level, and each file in the folder engagement_data represents data from one school district.","88824327":"Sector distribution was mostly from PreK-12. It's mean, most of the education services that exists in this dataset was for kindergarten to 12th grade students","a85b428f":"From the visualization above, most of locale in Connecticut was from Suburban followed by Rural and City. The least data came from Minesota, Arizona, Florida, and North Dakota\n* There are 23 States and 4 locale type\n* Connecticut has the highest frequency\n* Suburb is the highest frequency of locale type while Town is the other way","b338c07d":"Primary Essential sub function was mostly for Digital Learning Platform","c5bc4713":"#### **Q**: What is the top 10 Provider\/Company names learning platform during Covid-19?","d09589b3":"#### **Q**: What is the sector distribution?","57dbdd90":"From the chart above, was the distribution of percentage total. Per-pupil total expenditure (sum of local and federal expenditure) from Edunomics Lab's National Education Resource Database on Schools project.","e948aa24":"#### **Q**: What is the distribution between state and locale?","06c23a11":"The district file includes information about the characteristics of school districts, including data from NCES (2018-19), FCC (Dec 2018), and Edunomics Lab. In this data set, we removed the identifiable information about the school districts.","9f348fb0":"#### **Q**: What does data looks like for districts info dataset?","c07d4771":"#### Visualization of percentage free\/reduce, percentage black\/hispanic and percentage total","cceb3a02":"Most of the US territory data was from Suburb. Suburban areas are lower density areas that separate residential and commercial areas from one another. They are either part of a city or urban area, or exist as a separate residential community within commuting distance of a city.","3b2c6b80":"# MERGING DATA","fd1284d7":"A quick intro to interval notation:\n\n***]a,b[ := {: a<x <b }* : open Real interval**\n\n***[a,b[ := {a<= x <b}* : Half-open on the right**\n\n***]a,b] := {a<xb<=b}* : Half-open on the left**\n\nLet's convert the data into float type","60c9e5b5":"#### **Q**: What product data looks like?","514cceca":"#### Let's Finding out about pct_black\/hispanic, pct_free\/reduced and pptotal\/raw","0beb6406":"Google seems to have the hghest share of products used with 30 of them , Microsoft has the second most products in the market with 6 tied with Houghton Mifflin Harcourt","8e541f51":"#### **Q**: What is the statistics description for districts info dataset?","25d8fde0":"# DISTRICTS DATA","10674e5a":"As we can see from the chart above, SDO - Learning Management System(LMS) is the most used category in US and followed by LC - Online Course Providers & Technical Skills Development","dec22f6e":"In this section, we will try to merge the data for showing engagement index for each state in US, and make the visualization with map from Folium. And also make a visualization about Engagement and its product","842f1ece":"#### **Q**: What is the distribution count for state?","50fa048f":"Primary Essentials main function was for LC, it's mean used for Learning center","69124257":"From the chart above, its showing the average user access the platfrom for each months. From June to July, there was a significant decrease, one of the probability was because of Summer holiday","e246adc6":"From the chart above, its showing the average engagement index for each months. From June to July, there was a significant decrease, one of the probability was because of Summer holiday","ff7c3906":"#### **Q**: Is there any missing value in the dataset"}}