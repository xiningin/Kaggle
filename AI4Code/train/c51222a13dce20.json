{"cell_type":{"ea766c10":"code","dfe1de0c":"code","9898edc1":"code","8ba71070":"code","2db67681":"code","786ae1d5":"code","626025c9":"code","0e14aa5a":"code","feb3dd24":"code","8da80ebd":"code","46cc3d59":"code","66b50811":"code","19ca949e":"code","86a90419":"code","9e723805":"code","52a965e1":"code","cb650a8d":"code","32c02ffc":"code","915fb550":"code","e1d9c2fb":"code","6045b7c0":"code","76485a93":"code","689f046a":"code","851f79b1":"code","f70f17e5":"code","7b4f1afc":"markdown","a2c6d8d7":"markdown","1275407c":"markdown","271d8d27":"markdown","53cc2d4c":"markdown","a4130e39":"markdown","10b5abd4":"markdown","6bda1254":"markdown"},"source":{"ea766c10":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport matplotlib.pyplot as plt\n\nimport folium\nfrom folium.plugins import HeatMap\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","dfe1de0c":"# read file\ndf = pd.read_csv('..\/input\/global-significant-earthquake-database-from-2150bc\/Worldwide-Earthquake-database.csv')","9898edc1":"df.head()","8ba71070":"# check dimensions\ndf.shape","2db67681":"# show all column names\ndf.columns","786ae1d5":"zoom_factor = 1.1 # setting for maps","626025c9":"plt.figure(figsize=(16,4))\nplt.scatter(df.YEAR, df.EQ_MAG_MW, c='#00006040')\nplt.xlabel('Year')\nplt.ylabel('Magnitude (EQ_MAG_MW)')\nplt.grid()\nplt.show()","0e14aa5a":"plt.figure(figsize=(16,4))\nplt.scatter(df.YEAR, df.INTENSITY, c='#00006040')\nplt.xlabel('Year')\nplt.ylabel('Intensity')\nplt.grid()\nplt.show()","feb3dd24":"# zoom in\nplt.figure(figsize=(16,4))\nplt.scatter(df.YEAR, df.INTENSITY)\nplt.xlabel('Year')\nplt.ylabel('Intensity')\nplt.xlim(1900,2020)\nplt.grid()\nplt.show()","8da80ebd":"# same for magnitude\nplt.figure(figsize=(16,4))\nplt.scatter(df.YEAR, df.EQ_MAG_MW)\nplt.xlabel('Year')\nplt.ylabel('Magnitude (EQ_MAG_MW)')\nplt.xlim(1900,2020)\nplt.grid()\nplt.show()","46cc3d59":"# same for magnitude\nplt.figure(figsize=(16,4))\nplt.scatter(df.YEAR, df.EQ_MAG_MW, c='#00006040')\nplt.xlabel('Year')\nplt.ylabel('Magnitude (EQ_MAG_MW)')\nplt.xlim(1990,2020)\nplt.grid()\nplt.show()","66b50811":"# filter by magnitude\ndf_select_8 = df.loc[df.EQ_MAG_MW > 8].copy()","19ca949e":"# plot\nplt.figure(figsize=(16,4))\nplt.scatter(df_select_8.YEAR, df_select_8.EQ_MAG_MW)\nplt.xlabel('Year')\nplt.ylabel('Magnitude (EQ_MAG_MW)')\nplt.title('Most significant EQs since 1900')\nplt.xlim(1900,2020)\nplt.grid()\nplt.show()","86a90419":"# convert lat\/lon to numeric\ndf_select_8.loc[:,'LATITUDE'] = pd.to_numeric(df_select_8['LATITUDE'], downcast='float')\ndf_select_8.loc[:,'LONGITUDE'] = pd.to_numeric(df_select_8['LONGITUDE'], downcast='float')","9e723805":"sel_columns = ['I_D','YEAR','EQ_MAG_MW','LATITUDE','LONGITUDE']\ndf_select_8 = df_select_8[sel_columns]\ndf_select_8","52a965e1":"df_select_8.shape","cb650a8d":"# interactive map\nmy_map_1 = folium.Map(location=[0,0], zoom_start=zoom_factor)\n\nfor i in range(0,df_select_8.shape[0]):\n   folium.Circle(\n      location=[df_select_8.iloc[i]['LATITUDE'], df_select_8.iloc[i]['LONGITUDE']],\n      radius=np.sqrt(df_select_8.iloc[i]['EQ_MAG_MW']-8)*200000,\n      color='red',\n      popup='ID:' + str(int(df_select_8.iloc[i]['I_D'])) + '- YEAR:' + str(int(df_select_8.iloc[i]['YEAR'])) + '- Magnitude:' \n       + str(df_select_8.iloc[i]['EQ_MAG_MW']),\n      fill=True,\n      fill_color='red'\n   ).add_to(my_map_1)\n\nmy_map_1 # display","32c02ffc":"# filter by magnitude\ndf_select_6 = df.loc[df.EQ_MAG_MW > 6].copy()\n\n# convert lat\/lon to numeric\ndf_select_6.loc[:,'LATITUDE'] = pd.to_numeric(df_select_6.LATITUDE, downcast='float')\ndf_select_6.loc[:,'LONGITUDE'] = pd.to_numeric(df_select_6.LONGITUDE, downcast='float')","915fb550":"sel_columns = ['I_D','YEAR','EQ_MAG_MW','LATITUDE','LONGITUDE']\ndf_select_6 = df_select_6[sel_columns]\ndf_select_6.shape","e1d9c2fb":"df_select_6","6045b7c0":"# use heatmap to display many earthquakes\nmy_map_2 = folium.Map(location=[0,0], zoom_start=zoom_factor)\nHeatMap(data=df_select_6[['LATITUDE', 'LONGITUDE']], radius=10).add_to(my_map_2)\n\nmy_map_2 # display","76485a93":"my_map_3 = my_map_1\n\nHeatMap(data=df_select_6[['LATITUDE', 'LONGITUDE']], radius=10).add_to(my_map_3)\n\nmy_map_3","689f046a":"from wordcloud import WordCloud, STOPWORDS, ImageColorGenerator","851f79b1":"# convert to string first\ndf.LOCATION_NAME = df.LOCATION_NAME.astype('str')\n\nstopwords = set(STOPWORDS)\ntext = \" \".join(txt for txt in df['LOCATION_NAME'])","f70f17e5":"wordcloud = WordCloud(stopwords=stopwords, max_font_size=50, max_words=500,\n                      width = 600, height = 400,\n                      background_color=\"white\").generate(text)\nplt.figure(figsize=(12,8))\nplt.imshow(wordcloud, interpolation=\"bilinear\")\nplt.axis(\"off\")\nplt.show()","7b4f1afc":"### There seem to be much more measurements since 1990, let's zoom in further","a2c6d8d7":"# Combine both views","1275407c":"# Look at most significant earthquakes (Magnitude > 8)","271d8d27":"# Wordcloud of locations","53cc2d4c":"# Explore largest historical Earthquakes and provide interactive maps ","a4130e39":"#### Magnitude not available for old earthquakes. Let's check intensity instead:","10b5abd4":"# Display more earthquakes using heatmap","6bda1254":"# Some basic explorations"}}