{"cell_type":{"d1fd28eb":"code","5b7fba05":"code","c54181de":"code","39f55cbb":"code","cf9b16cd":"code","86fc12f7":"code","537cc33c":"markdown","6b77c08c":"markdown","3738393e":"markdown","9c6c59d6":"markdown","f7013966":"markdown","2b59845d":"markdown","6d7478a7":"markdown","ee9f43b6":"markdown","1f6eda06":"markdown","68dc122d":"markdown","e4398bea":"markdown"},"source":{"d1fd28eb":"import numpy as np \nimport pandas as pd\n#import matplotlib.pyplot as plt\n# import plotting libraries\nfrom bokeh.resources import INLINE\nimport bokeh.io\nbokeh.io.output_notebook(INLINE)\nfrom bokeh.layouts import column, row\nfrom bokeh.plotting import figure, show, ColumnDataSource\nfrom bokeh.models import HoverTool, Whisker","5b7fba05":"m1_data = pd.read_csv('\/kaggle\/input\/stellar-models\/1Msun.history.data',\n                     sep='\\s+', header=4, usecols=(0, 1, 2, 16, 24, 25, 26, 52, 53, 54))\nm1_data","c54181de":"src = ColumnDataSource(m1_data)\nfig = figure(max_width=640, sizing_mode='scale_width')\nfig.xaxis.axis_label = \"Age\"\nfig.yaxis.axis_label = \"log(R)\"\nfig.axis.axis_label_text_font_size = \"12pt\"\nfig.axis.axis_label_text_font_style = 'bold'\n\nfig.line(x='star_age', y='log_R', source=src, line_width=4)\nh = HoverTool(tooltips=[('Age', '$x'), ('log(R)', '@log_R')], mode='vline')\nfig.add_tools(h)\n\nbokeh.io.show(fig)","39f55cbb":"\n\nm7_data = pd.read_csv('\/kaggle\/input\/stellar-models\/7Msun.history.data',\n                     sep='\\s+', header=4, usecols=(0, 1, 2, 13, 21, 22, 35, 36, 37))\nsrc7 = ColumnDataSource(m7_data)\n\np = figure(plot_width=640, plot_height=480, x_range=[5.5, 3.2], y_range=[-3.5, 6.5],\n           max_width=640, sizing_mode='scale_width', tooltips=[('Age', '@star_age'), \n                                                               ('log(T)', '@log_Teff'),\n                                                              ('log(L)', '@log_L')])\n\np.xaxis.axis_label = 'Log(T [K])'\np.yaxis.axis_label = 'Log(L [Lsun])'\np.xaxis.axis_label_text_font_size = '12pt'\np.yaxis.axis_label_text_font_size = '12pt'\n\np.line(y='log_L', x='log_Teff', source=src, line_width=4)\np.line(y='log_L', x='log_Teff', source=src7, line_width=4, color='orange')\nbokeh.io.show(p)","cf9b16cd":"fig1 = figure(max_width=640, sizing_mode='scale_width', y_range=[-20, 10],\n             title='1 Msun')\nfig1.xaxis.axis_label = \"Age [yr]\"\nfig1.yaxis.axis_label = \"log(Energy [Lsun])\"\nfig1.axis.axis_label_text_font_size = \"12pt\"\nfig1.axis.axis_label_text_font_style = 'bold'\n\nfig1.line(x='star_age', y='pp', source=src, line_width=4, name='PP',\n         legend_label='PP')\n\nfig1.line(x='star_age', y='cno', source=src, line_width=4, color='green', name=\"CNO\",\n         legend_label='CNO')\n\nfig1.line(x='star_age', y='tri_alfa', source=src, line_width=4, color='orange', \n          name=\"Tri-alpha\", legend_label='Tri-alpha')\n\nh = HoverTool(tooltips=[('Age', '$x'), ('PP', '@pp')], mode='vline', names=['PP'])\nh2 = HoverTool(tooltips=[('Age', '$x'), ('CNO', '@cno')], mode='vline', names=['CNO'])\nh3 = HoverTool(tooltips=[('Age', '$x'), ('Tri-a', '@tri_alfa')], mode='vline', names=['Tri-alpha'])\nfig1.add_tools(h, h2, h3)\n\nfig1.legend.location = \"bottom_center\"\nfig1.legend.click_policy=\"hide\"\n\nfig7 = figure(max_width=640, sizing_mode='scale_width', y_range=[-20, 10],\n             title='7 Msun')\nfig7.xaxis.axis_label = \"Age [yr]\"\nfig7.yaxis.axis_label = \"log(Energy [Lsun])\"\nfig7.axis.axis_label_text_font_size = \"12pt\"\nfig7.axis.axis_label_text_font_style = 'bold'\n\nfig7.line(x='star_age', y='pp', source=src7, line_width=4, name='PP',\n         legend_label='PP')\n\nfig7.line(x='star_age', y='cno', source=src7, line_width=4, color='green', name=\"CNO\",\n         legend_label='CNO')\n\nfig7.line(x='star_age', y='tri_alfa', source=src7, line_width=4, color='orange', \n          name=\"Tri-alpha\", legend_label='Tri-alpha')\n\n\nfig7.add_tools(h, h2, h3)\n\nfig7.legend.location = \"bottom_center\"\nfig7.legend.click_policy=\"hide\"\n\nbokeh.io.show(column(fig1, fig7))","86fc12f7":"p = figure(plot_width=640, plot_height=480, x_range=[4.25, 3.5], y_range=[0.8, 2],\n           max_width=640, sizing_mode='scale_width', tooltips=[('Age', '@star_age'), \n                                                               ('Mass', '@star_mass')])\n\np.xaxis.axis_label = 'Log(T [K])'\np.yaxis.axis_label = 'Log(L [Lsun])'\np.xaxis.axis_label_text_font_size = '12pt'\np.yaxis.axis_label_text_font_size = '12pt'\n\nfor m in np.arange(1.7, 2.6, 0.1):\n    filename = '\/kaggle\/input\/stellar-models\/' + ('%.1f' % m) + 'Msun_history.data'\n    data = pd.read_csv(filename, sep='\\s+', header=4, \n                       usecols=(0, 1, 2, 34, 36))\n    src = ColumnDataSource(data)\n    p.scatter(y='log_L', x='log_Teff', source=src, line_width=4)\n    \np.add_layout(Whisker(upper=np.log10(40.12+0.45), lower=np.log10(40.12-0.45), base=np.log10(9600)))\np.add_layout(Whisker(upper=np.log10(9600+180), lower=np.log10(9600-180), base=np.log10(40.12),\n                    dimension='width'))\n\np.square(x=[np.log10(9600)], y=[np.log10(40.12)], color='black', size=8)\n    \nbokeh.io.show(p)","537cc33c":"<div style=\"border-style:solid; border-width:3px; border-style:solid; border-color:black; border-radius:10px; text-align:left; padding:10px; background-color:lightblue;\">    \n    <br>\n    <p><b><i>Question 5: (2 marks)<\/i><\/b> Using your knowledge of how stars evolve in the HR-diagram, what are the log(T) and log(L) of the ZAMS of each star?<\/p>\n    <p><b><i>Question 6: (6 marks)<\/i><\/b> Run the cell below to plot the amount of energy produced in each star for Proton-Proton Chain, CNO Cycle, and Triple-Alpha reactions as a function of time. For each star, determine the age at which hydrogen fusion begins (i.e. the ZAMS), the age at which hydrogen core exhaustion happens (the Turn-off Age Sequence; TAMS), and the age at which the star reaches the tip of the red giant branch (i.e. the point of helium ignition). Explain how you determined these ages. Hovering over the plot should display the log-energy produced by each process. You can click on any curve in the legend to hide it and see the other processes better. You will likely have to zoom in to get a clear picture of what is happening at later ages.<\/p>\n    <p><b><i>Question 7: (4 marks)<\/i><\/b> Now, go back to the HR diagram and find the Log(T) and log(L) for the Turn-off Age and Helium Ignition Point for each star and record them here. If you hover over any curve it will display the age, log(T), and log(L) at that point.<\/p>\n    <br>\n<\/div>","6b77c08c":"## Part: 4 Vega\n\nIn this section you will attempt to constrain the mass of Vega, which has an effective temperature of $9600 \\pm 180 K$ and a luminosity of $40.12 \\pm 0.45\\ L_{\\odot}$. For this section the models range in mass from $1.7-2.5\\ M_{\\odot}$ and start at the ZAMS. Plot the model tracks in an HR diagram by running the cell below. Vega is shown as the black square with errorbars.","3738393e":"It can be really hard for humans to tell what is happening by looking at a spreadsheet of numbers. Use the cell below to make a plot of the radius of the star versus the stars age.","9c6c59d6":"<div style=\"border-style:solid; border-width:3px; border-style:solid; border-color:black; border-radius:10px; text-align:left; padding:10px; background-color:lightblue;\">    \n    <h3><center>Answer all questions in the associated Moodle Quiz<\/center><\/h3>\n    <p><b><i>Question 1: (5 marks)<\/i><\/b> Identify each equation and describe (briefly) what it represents.<\/p>\n    <p><b><i>Question 2: (2 marks)<\/i><\/b> The above equations can lead to a very steady state. When something changes within the star, however, the system of equations can be updated to follow the evolution of the star (as long as changes are not too rapid). What causes a star's properties to change over time? <\/p>\n    <br>\n<\/div>","f7013966":"<div style=\"border-style:solid; border-width:3px; border-style:solid; border-color:black; border-radius:10px; text-align:left; padding:10px; background-color:lightblue;\">    \n    <br>\n    <p><b><i>Question 8: (4 marks)<\/i><\/b> Zoom in on Vega in the plot. What stage of evolution does Vega appear to be in? Which mass and age are closest to the observations? Given the relatively sparse model grid, what constraints can you place on the mass and age of Vega?<\/p>\n    <p><b><i>Question 9: (2 marks)<\/i><\/b> Matching models to observations is not always easy. There are very often model degeneracies. For example, the image below shows Procyon's location in the HR diagram as the yellow star. The grey ellipses are essentially error bars, and the coloured lines show different model tracks. Explain why it would be difficult to determine Procyon's properties in a similar manner to Vega.<\/p>\n    <br>\n<\/div>","2b59845d":"## Part 3: HR Diagrams\n\nHertzsprung-Russell diagrams are an important tool for astronomers to understand a star's evolution. Run the next cell to plot both a $1 M_\\odot$ and a $7 M_\\odot$ star in the HR diagram.","6d7478a7":"## Part 2: Intro to MESA\n\nIn this lab, we will be using the stellar evolution code [MESA](http:\/\/http:\/\/mesa.sourceforge.net\/index.html) to examine models of stars. MESA is state-of-the-art software, and in this section you will explore some basic properties of a $1 M_\\odot$ star.\n\nTo begin, run the cell below to read in the model output and display the available columns of data. Each column shows how a different property changes with time. ","ee9f43b6":"<div style=\"border-style:solid; border-width:3px; border-style:solid; border-color:black; border-radius:10px; text-align:left; padding:10px; background-color:lightblue;\">    \n    <br>\n    <p><b><i>Question 3: (2 marks)<\/i><\/b> Examining the graph and using your knowledge of one-solar-mass stars (i.e. the Sun), what are the units that MESA uses for the age and radius?<\/p>\n    <p><b><i>Question 4: (2 marks)<\/i><\/b> At what age will the star's radius be approximately the same as Venus's orbit? You can use the magnifying glass tool on the side of the graph to zoom in if you need to.<\/p>\n    <br>\n<\/div>","1f6eda06":"## Part 1: Stellar Modelling Overview\n\nNumerical models of stellar interiors have been a tremendous boon to astronomers. They provide a great deal of information, and allow us to study the properties of objects that are light-years away. Testing our model predictions against solar observations show that we have a very good understanding of what is going on inside stars. There are five essential equations for modelling stellar structure:\n\n$$\\frac{dP}{dr} = -\\frac{GM(r)\\rho(r)}{r^2}$$\n\n$$\\frac{dM}{dr} = 4\\pi{r^2}\\rho(r)$$\n\n$$\\frac{dT}{dr} = \\left\\{\n    \\begin{array}{ll}\n        \\displaystyle{-\\frac{3\\kappa(r)\\rho(r)L(r)}{64\\pi\\sigma_{SB}r^2T(r)^3}}  & \\mbox{radiative}  \\\\\n        \\displaystyle{\\left(1-\\frac{1}{\\gamma}\\right)\\frac{T(r)}{P(r)}\\frac{dP}{dr}} & \\mbox{convective} \n    \\end{array}\n\\right.$$\n\n$$\\frac{dL}{dr} = 4\\pi{r^2}\\rho(r)\\epsilon(r)$$\n\n$$P(r) = \\frac{k\\rho(r)T(r)}{\\mu(r)m_p}$$\n","68dc122d":"![image.png](attachment:image.png)","e4398bea":"# Phys 3001: Stellar Evolution\n\nWelcome aspiring astrophysicists! This activity is presented to you in an interactive notebook, where you can play with variables, make figures, and even write your own code. If you are coming into this course from Phys 1031 last semester, all of the code that made the labs run was hidden from you, but now it will be more visible.\n\nFor this lab, you will need to run the code cells directly. Do this by clicking the big black \"Copy and Edit\" button in the top right of the screen. You will need a free Kaggle account if you want to spend more than fifteen minutes editing.\n\nYou are not expected to know how to program for this course. Most of the heavy-duty coding has been done for you, and the only tasks you will be expected to do will be similar in level to entering formulas into a spreadsheet.\n\nNotebooks are divided into cells. To run a cell, either press the \"Run Current Cell\" button at the top (looks like a play triangle), or press Shift + Enter. To begin run the next cell to load the necessary libraries for this lab.\n"}}