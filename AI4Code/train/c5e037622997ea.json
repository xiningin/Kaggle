{"cell_type":{"9e82d292":"code","ba00e0b8":"code","d50065a3":"code","d6cf381a":"code","6446e984":"code","6b6494bc":"code","31bd44a3":"code","078cecf3":"code","81fb8f21":"code","7386afe7":"code","98344d5c":"code","b35291f0":"code","921093ec":"code","0a2a193f":"code","db45a022":"code","064d5531":"code","f22e705b":"code","9cdb2227":"code","c9ff696b":"code","737766c9":"code","12a28c1b":"code","7eefca69":"code","f2e2f849":"code","3868ccab":"code","85ecc2cf":"code","4b1d0c3a":"code","83272110":"code","7a2bd045":"code","f881a077":"code","a97752eb":"code","bcfa4478":"code","abc527d4":"code","d30816ed":"code","c098431d":"code","faf4c304":"code","cd8fd65f":"code","35167d7b":"code","70521131":"code","0505cd6c":"code","0470b4e5":"code","ebea8c66":"code","5d2e5836":"code","25d0f1de":"code","4bd2bb65":"code","ed657760":"code","dfece2ae":"code","f169272a":"code","b60b8c1f":"code","0f79fec5":"code","8dc0bad6":"code","692bf5bf":"code","56ebe10e":"markdown","c7737155":"markdown"},"source":{"9e82d292":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\nsns.set(rc={'figure.figsize':(6,5)});\nplt.figure(figsize=(6,5));\n\nimport os\nprint(os.listdir(\"..\/input\"))","ba00e0b8":"data = pd.read_csv('..\/input\/PS_20174392719_1491204439457_log.csv')\nprint(data.shape)\ndata.head()","d50065a3":"# Checking inbalance\ndata.isFraud.value_counts()","d6cf381a":"p = sns.countplot(data=data, x='isFraud')\n#p.set(ylim = (-10000, 500000))\n\nplt.ylabel('Count')","6446e984":"data.isFraud.value_counts(normalize=True)*100","6b6494bc":"data[data.step > 718].isFraud.value_counts()","31bd44a3":"data = data[data.step <= 718]\nprint(data.shape)","078cecf3":"# Checking inbalance\ndata.isFraud.value_counts()","81fb8f21":"data.type.value_counts()","7386afe7":"# Fraud occurs only among 2 type of transactions\ndata.groupby('type')['isFraud'].sum()","98344d5c":"data.groupby('type')['isFlaggedFraud'].sum()","b35291f0":"data[data.isFlaggedFraud == 1]","921093ec":"# Missing Values\ndata.isnull().values.any()","0a2a193f":"data[(data.step > 50) & (data.step < 90)].isFraud.value_counts()","db45a022":"data[data.isFraud == 1].shape","064d5531":"data[data.isFraud == 1].nameDest.value_counts()","f22e705b":"data[data.nameDest == 'C1259079602']","9cdb2227":"data.describe()","c9ff696b":"data[data.amount > 1500000].shape","737766c9":"p = sns.boxplot(data=data, x='isFraud', y='amount')","12a28c1b":"p = sns.boxplot(data=data, x='isFraud', y='amount')\np.set(ylim = (0, 4000000))","7eefca69":"sns.boxplot(data=data[data.amount < 1500000], x='isFraud', y='amount')","f2e2f849":"data[data.isFraud == 0].amount.mean()","3868ccab":"data[data.isFraud == 0].amount.describe()","85ecc2cf":"data[data.isFraud == 1].amount.describe()","4b1d0c3a":"data[(data.amount < 1) & (data.isFraud == 0)]","83272110":"data[(data.amount == 0) & (data.isFraud == 1)]","7a2bd045":"set(data[data.isFraud == 1].nameOrig).intersection(set(data[data.isFraud == 0].nameDest.unique()))","f881a077":"data[data.isFraud == 0].nameDest.sort_values()","a97752eb":"data[data.isFraud == 1].nameOrig.sort_values()","bcfa4478":"data[data.nameOrig == 'C1510987794']","abc527d4":"p = sns.boxplot(data=data, x='isFraud', y='oldbalanceOrg')\np.set(ylim = (0, 4000000))\nplt.ylabel('Opening Balance')","d30816ed":"p = sns.boxplot(data=data, x='isFraud', y='newbalanceOrig')","c098431d":"p = sns.boxplot(data=data, x='isFraud', y='newbalanceOrig')\n#p.set(ylim = (-10000, 500000))\np.set(ylim = (-100000, 4000000))\nplt.ylabel('Origin Closing Balance')","faf4c304":"data[data.isFraud == 1].oldbalanceOrg.describe()","cd8fd65f":"p = sns.boxplot(data=data, x='isFraud', y='oldbalanceDest')\np.set(ylim = (-10000, 1500000))\nplt.ylabel('Destination Opening Balance')","35167d7b":"p = sns.boxplot(data=data, x='isFraud', y='newbalanceDest')\np.set(ylim = (-100000, 1500000))\nplt.ylabel('Destination Closing Balance')","70521131":"data[data.isFraud == 1].amount.hist(bins=30)","0505cd6c":"data.head()","0470b4e5":"data['amount'] = np.log1p(data['amount'])\ndata['oldbalanceOrg'] = np.log1p(data['oldbalanceOrg'])\ndata['newbalanceOrig'] = np.log1p(data['newbalanceOrig'])\ndata['oldbalanceDest'] = np.log1p(data['oldbalanceDest'])\ndata['newbalanceDest'] = np.log1p(data['newbalanceDest'])\ndata.head()","ebea8c66":"p = sns.boxplot(data=data, x='isFraud', y='amount')","5d2e5836":"p = sns.boxplot(data=data, x='isFraud', y='oldbalanceOrg')\nplt.ylabel('Opening Balance')","25d0f1de":"p = sns.boxplot(data=data, x='isFraud', y='newbalanceOrig')\nplt.ylabel('Origin Closing Balance')","4bd2bb65":"data.head()","ed657760":"p = sns.boxplot(data=data, x='isFraud', y='oldbalanceDest')\nplt.ylabel('Destination Opening Balance')","dfece2ae":"p = sns.boxplot(data=data, x='isFraud', y='newbalanceDest')\nplt.ylabel('Destination Closing Balance')","f169272a":"data.step.value_counts()","b60b8c1f":"data.tail()","0f79fec5":"data[(data.step > 700) & (data.step < 710)].isFraud.value_counts()","8dc0bad6":"data[(data.step == 718)].isFraud.value_counts()","692bf5bf":"718\/24","56ebe10e":"Zero values are not available after 718 steps so we will remove these rows from the dataset","c7737155":"isFlaggedFraud is irrelevant"}}