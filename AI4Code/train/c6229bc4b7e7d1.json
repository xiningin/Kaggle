{"cell_type":{"0cebc97b":"code","b668a851":"code","b7ed9fe9":"code","48c572ee":"code","215050ed":"code","8f71955d":"code","50a6084d":"code","8a436c1c":"code","cadf7cfe":"code","66ff0cea":"code","035589f1":"code","d5d0f2ca":"code","7cac5b7f":"code","6ab9a41e":"code","7c3ae1e2":"code","a9805d12":"code","eacbfd5d":"code","142198b0":"code","00f2a5bd":"code","c806a384":"code","2002f8ba":"code","11e76ed5":"code","d0d97b7e":"code","840f57cf":"code","bd46a7b2":"code","8b7ce53c":"code","b00fbc68":"code","f4c75545":"code","4ff6f9c2":"code","789ef069":"code","43ba7fda":"code","d9731d51":"code","0aabfa38":"code","98552524":"code","16a0a0ac":"code","c0396fed":"code","1521ff0f":"code","ef74c3e3":"code","18c0b600":"code","e7fcc1cb":"code","f881f87c":"code","9a378f44":"code","516e68ef":"code","80ab709a":"code","ffc7274b":"code","0c2f2967":"code","3eb4339d":"code","faf9f60c":"code","6a138f87":"code","94872934":"code","5b9c46f2":"code","42e7f70a":"code","14056a56":"code","e9a51512":"code","f87c4535":"code","698afacd":"code","f6af3fac":"code","f5a6fd72":"code","8d09f530":"code","00e0bc4a":"code","3d403774":"code","225b1799":"code","da4deb0e":"code","c05636e7":"code","9255bb33":"markdown","19a6bb62":"markdown","75506a26":"markdown","4607ca2c":"markdown","7ef447a8":"markdown","bbcf68c1":"markdown","af57ceee":"markdown","6aa906b1":"markdown"},"source":{"0cebc97b":"#Libraries\n\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt","b668a851":"# importing dataset\n\ndf=pd.read_csv('..\/input\/pizzapricepredictedamlrandforeregre-liregres\/pizza_price pred.csv')\ndf.head()","b7ed9fe9":"df.shape","48c572ee":"# columns in dataframe\n\ndf.columns","215050ed":"df.info()","8f71955d":"# Cleaning Price Data\ndf['price_rupiah'] = df['price_rupiah'].str.replace('Rp', '').str.replace(',', '')\n\n# Convert Price Data to numeric\ndf['price_rupiah'] = pd.to_numeric(df['price_rupiah'])\n\n# Convert to float number as giver diameter in floating value\ndf['price_rupiah'] = df['price_rupiah'].astype('float64')\n","50a6084d":"#checking missing values\n\ndf.isnull().sum()","8a436c1c":"#companies evaluation\n\ndf.company.value_counts()","cadf7cfe":"# barplot for companies\n\nplt.figure(figsize=(8,5))\n\nplt.title('Companies',fontsize=20)\n\nsns.barplot(df.company.value_counts().index, df.company.value_counts())","66ff0cea":"#price evaluation\n\ndf.price_rupiah.value_counts().head(10)","035589f1":"# price frequencies in histogram\n\nsns.histplot(data=df[['price_rupiah']],x='price_rupiah')\nplt.show()\n","d5d0f2ca":"df.info()","7cac5b7f":"# diameter evaluation\n\ndf.diameter.max() # Maximum diameter of pizza in dataset","6ab9a41e":"df.diameter.min() # minimum diameter of pizza in given dataset","7c3ae1e2":"df.diameter.value_counts()    ","a9805d12":"df.describe()","eacbfd5d":"# diameters in histogram\n\nplt.figure(figsize=(10,4))\n\nplt.title('Diameter of pizza')\n                                                \nplt.xlabel('diameter')\nplt.ylabel('number of pizzas')\n\nplt.hist(df.diameter, bins = np.arange(10,25,2), color = 'cyan', edgecolor ='purple')","142198b0":"#topping evaluation\n\ndf.topping.value_counts()","00f2a5bd":"# barplot for toppings\n\nplt.figure(figsize=(10,6))\n\nplt.xticks(rotation=75)\n\nplt.title('Toppings of  Pizza',fontsize=20)\n\nsns.barplot(df.topping.value_counts().index, df.topping.value_counts())","c806a384":"#pie plot for toppings\n\nplt.figure(figsize=(30,10))\n\n\ndf.topping.value_counts().plot(kind='pie',autopct='%1.1f%%')\n\nplt.title('Toppings of  Pizza',fontsize=18)","2002f8ba":"#variants of pizza- evaluation\n\ndf.variant.value_counts()","11e76ed5":"#Bar graph for variants of pizza\n\nplt.figure(figsize=(10,6))\n\ndf.variant.value_counts().plot(kind='bar')\n\nplt.xticks(rotation=75)   \n\nplt.title(\"Variants of Pizza\",fontsize=18)","d0d97b7e":"#Extra sauce for pizza\n\ndf.extra_sauce.value_counts()","840f57cf":"#Pie plot for extra sauce\nplt.title('Extra sauce')\ndf.extra_sauce.value_counts().plot(kind='pie',autopct='%1.1f%%',explode=[0.1,0])","bd46a7b2":"# Companies providing extra sauce-evaluation\n\nc_s=df[(df.extra_sauce=='yes') & (df.company)].loc[:, ['company','extra_sauce']]\nc_s","8b7ce53c":"c_s.value_counts()","b00fbc68":"#bar plot of companies providing extra sauce\n\nsns.set(style='darkgrid')\n\nplt.figure(figsize=(7,6))\n\nsns.countplot(x='company',data=c_s, palette='Spectral')\n\nplt.title('companies providing extra_sauce',fontsize=15)","f4c75545":"# Extra cheese\n\ndf.extra_cheese.value_counts()","4ff6f9c2":"# companies providing extra cheese\n\nc_c=df[(df.extra_cheese=='yes') & (df.company)].loc[:, ['company','extra_cheese']]\nc_c","789ef069":"c_c.value_counts()","43ba7fda":"#companies providing extra cheese\n\nsns.set(style='darkgrid')\n\nplt.figure(figsize=(7,6))\n\nsns.countplot(x='company',data=c_c, palette='mako')\n\nplt.title('companies providing extra_cheese',fontsize=15)","d9731d51":"# companies providing both extra sauce and cheese\n\nextras_c=df[(df.extra_sauce=='yes') & (df.extra_cheese=='yes') & (df.company)].loc[:, ['extra_sauce','extra_cheese','company']]\nextras_c.head()","0aabfa38":"extras_c.value_counts()","98552524":"# countplot for companies providing extra sauce and extra cheese\n\nsns.set(style='darkgrid')\n\nplt.figure(figsize=(7,6))\n\nsns.countplot(x='company',data=extras_c, palette='mako')\n\nplt.title('companies providing both extra cheese and sauce',fontsize=15)","16a0a0ac":"# Company A's price ranging\n\nA_prices=df[(df.company=='A') & (df.price_rupiah)]\nA_prices","c0396fed":"def countplot_of_2(x,hue,title=None,figsize=(7,7)):\n    plt.figure(figsize=figsize)\n    sns.countplot(data=df[[x,hue]],x=x,hue=hue)\n    plt.title(title)\n    plt.show()","1521ff0f":"# Companies and pizza's of different sizes, they are producing\n\ncountplot_of_2('company','size','Companies and their pizza size')\n","ef74c3e3":"# companies with their variants of pizza\n\ncountplot_of_2('company','variant','Companies and their variants of pizza',(25,12))","18c0b600":"countplot_of_2('company','topping','Companies and their toppings on pizza',(18,8))","e7fcc1cb":"# different sizes with and their toppings\n\ncountplot_of_2('topping', 'size', 'size and topping',(18,10))","f881f87c":"# toping and extra sauce\n\n\ncountplot_of_2('topping','extra_sauce','Toppings and Extra Sauce',(15,7))","9a378f44":"df.head()","516e68ef":"from sklearn.preprocessing import LabelEncoder\nle=LabelEncoder()","80ab709a":"df.company=le.fit_transform(df.company)\ndf.topping=le.fit_transform(df.topping)\ndf.variant=le.fit_transform(df.variant)\n\ndf['size'] = le.fit_transform(df['size'])\n\ndf.extra_sauce=le.fit_transform(df.extra_sauce)\ndf.extra_cheese=le.fit_transform(df.extra_cheese)\ndf.head()","ffc7274b":"X=df.iloc[:, [0,2,3,4,6,7]]\nX.head()","0c2f2967":"y=df.price_rupiah\ny.head()","3eb4339d":"X.info()","faf9f60c":"df.size = df.size.astype('float64')\ndf.company = df.company.astype('float64')\ndf.topping = df.topping.astype('float64')\ndf.extra_sauce= df.extra_sauce.astype('float64')\ndf.extra_cheese = df.extra_cheese.astype('float64')\ndf.variant = df.variant.astype('float64')","6a138f87":"df.info()","94872934":"df.describe()","5b9c46f2":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.03, random_state=130)","42e7f70a":"from sklearn.linear_model import LinearRegression\n\nmodel= LinearRegression()\nmodel.fit(X_train,y_train)","14056a56":"from sklearn.metrics import r2_score\n\ny_predict = model.predict(X_test)\n\ny_predict_train=model.predict(X_train)\n\nprint('Test data', r2_score(y_test,y_predict))\nprint('Train data', r2_score(y_train,y_predict_train))","e9a51512":"y_predict","f87c4535":"y_test","698afacd":"model.predict([[4.0,8.5,10.0,16.0,1.0,1.0]])","f6af3fac":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.03, random_state=130)","f5a6fd72":"from sklearn.ensemble import RandomForestRegressor","8d09f530":"model=RandomForestRegressor(n_estimators=11,criterion='mse',max_depth=4)","00e0bc4a":"model.fit(X_train,y_train)","3d403774":"from sklearn.metrics import r2_score\n\ny_predict = model.predict(X_test)\ny_predict_train=model.predict(X_train)\n\nprint('Test data', r2_score(y_test,y_predict))\nprint('Train data', r2_score(y_train,y_predict_train))","225b1799":"y_predict","da4deb0e":"y_test","c05636e7":"model.predict([[4.0,12.0,3.0,0.0,0.0,0.0]])","9255bb33":"## *EXPLORATORY DATA ANALYSIS*","19a6bb62":"# *ML Part*","75506a26":"## *Linear Regression*","4607ca2c":"## *Encoding*","7ef447a8":"# *Randomforest regressor*","bbcf68c1":"## *Splitting data for Training and Testing*","af57ceee":"## *Graphical presentation of more feactures*","6aa906b1":"## *converting all feactures into floating datatype, for convenience*"}}