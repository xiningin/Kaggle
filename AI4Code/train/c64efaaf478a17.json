{"cell_type":{"ac6320bb":"code","ba2fd41d":"code","f91845b6":"code","e6ef21f0":"code","73f757ac":"code","dfdc5872":"code","e404ba59":"code","952e971b":"code","9cb6f545":"code","3b719038":"markdown","5f328717":"markdown","7ba7ee54":"markdown","bbc07a15":"markdown","f1e4fdf0":"markdown","dbcb7679":"markdown","2213f215":"markdown","b30b4d38":"markdown"},"source":{"ac6320bb":"# Install datacommons_pandas\n!pip install datacommons_pandas --upgrade --quiet\nimport datacommons_pandas as dc\nimport pandas as pd","ba2fd41d":"us_dcid = 'country\/USA'","f91845b6":"counties = dc.get_places_in([us_dcid], 'County')[us_dcid]","e6ef21f0":"df_county = dc.build_multivariate_dataframe(counties, ['Count_HousingUnit'])","73f757ac":"def add_col(df,property_name):\n    df[property_name] = df.index.map(dc.get_property_values(df.index,property_name)).str[0]\n    return df","dfdc5872":"df_county = add_col(df_county,'landArea')\ndf_county['landArea_sqkm'] = pd.to_numeric(df_county['landArea'].str.replace('SquareMeter',''))\/1000000\n","e404ba59":"df_county = add_col(df_county,'containedInPlace')\ndf_county = add_col(df_county,'name')\ndf_county['state'] = df_county['containedInPlace'].map(dc.get_property_values(df_county['containedInPlace'],'fips52AlphaCode')).str[0]\ndf_county.index = df_county['name'] + ', ' + df_county['state']\n","952e971b":"df_county = df_county.drop(['containedInPlace','landArea','name','state'],axis=1)\n","9cb6f545":"df_county","3b719038":"Get a list of dcids for every county in the US","5f328717":"Find the dcid for the US using the [Data Commons browser](https:\/\/browser.datacommons.org\/browser\/country\/USA)","7ba7ee54":"Drop some of the extraneous columns that I created along the way","bbc07a15":"Add the name of the county and the state's two letter FIPS code. Make the county and state the index","f1e4fdf0":"A simple helper function to add properties of the county to my df_county dataframe","dbcb7679":"Preview the dataframe","2213f215":"Add the landarea property to my dataframe. I also want to remove the unit string \"SquareMeter\" and convert to square kilometers.","b30b4d38":"Create a county-level dataframe and add statistical data related to that county. In this case, I'm interested in the a count of the number of houses by count"}}