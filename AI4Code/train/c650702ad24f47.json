{"cell_type":{"a0b8009e":"code","8d597739":"code","189fc2a8":"code","d1bcf6cc":"code","501686a8":"code","47bf3b9c":"code","953c14a8":"code","d199bf75":"code","eeeeeadb":"code","9dbf92a4":"code","2c11db56":"code","2133eea7":"code","d2e067cd":"code","9b48bec7":"code","b5ae664c":"markdown","b2f50655":"markdown","8fa2e979":"markdown"},"source":{"a0b8009e":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns","8d597739":"import folium","189fc2a8":"barr = pd.read_csv('..\/input\/database_versao_LatLongDecimal_fonteANM_23_01_2019.csv', sep=',')\nbarr.head()","d1bcf6cc":"plt.figure(figsize=(16,8))\nplt.title('Quantidade de barragens por estado(UF)', )\nplt.ylabel('Sigla dos estados.')\nbarr['UF'].value_counts().plot(kind='barh', color='blue' )","501686a8":"import plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)","47bf3b9c":"uf = barr['UF'].value_counts()[:10]\ndata = [go.Bar(x=uf.values, y=uf.index, orientation='h', name='Quantidade:'),\n        go.Bar(x=[barr.shape[0]], y=['Total'], orientation='h', name='Total de barragens.')\n        ]\nlayout = go.Layout(title=\"Dez estados com mais barragens.\",            \n                    yaxis=dict(\n                            showgrid=False,\n                            showline=False,\n                            showticklabels=True,\n                            zeroline=False,\n                            title=\"Estados(UF)\",\n                            ),\n                  )\n\nfig = go.Figure(data=data, layout=layout)\niplot(fig)","953c14a8":"minerios = barr['MINERIO_PRINCIPAL'].value_counts()[:10]\ndata = [go.Bar(x=minerios.values, y=minerios.index, orientation='h', name='Quant. Barragens:'),\n        go.Bar(x=[barr.shape[0]], y=['Total'], orientation='h', name='Total de barragens.')\n        ]\n\nlayout = go.Layout(title=\"Dez minerios mais explorados nas barragens.\",\n                    yaxis=dict(\n                            showgrid=True,\n                            showline=True,\n                            showticklabels=True,\n                            zeroline=True,\n                            ),\n                      )\nfig = go.Figure(data=data, layout=layout)\niplot(fig)","d199bf75":"municipios = barr['MUNICIPIO']+\"\/\"+barr['UF']\nm = municipios.value_counts()[:10]\ndata = [go.Bar(x=m.values, y=m.index, orientation='h', name='Quant. Barragens:'),\n            ]\ngo.layout.title.font ={\"family\":\"Times New Roman\", 'size':16, 'color':'red'}\n\nlayout = go.Layout(title=\"Dez cidades com mais barragens no Brasil.\",\n                   \n                   yaxis={'showgrid':True,\n                            'showline':True,\n                            'showticklabels':True,\n                            'zeroline':True,\n                              'title':'Cidades'}\n                            ,\n                   xaxis={'title':'Quantidades:'}\n                      )\nfig = go.Figure(data=data, layout=layout, )\niplot(fig)","eeeeeadb":"plt.figure(figsize=(14,10))\nplt.title(\"Categoria de risco das barragens.\")\nplt.ylabel(\"Quantidade\")\nplt.xlabel(\"Categorias\")\nbarr['CATEGORIA_DE_RISCO'].value_counts().plot(kind='bar')","9dbf92a4":"plt.figure(figsize=(14,10))\nplt.title(\"Dano potencial associado as barragens.\")\nplt.ylabel(\"Quantidade\")\nplt.xlabel(\"Categorias\")\nbarr['DANO_POTENCIAL_ASSOCIADO'].value_counts().plot(kind='bar')","2c11db56":"plt.figure(figsize=(14,10))\nplt.title(\"Barragens de risco por estado.\")\nbarr.groupby(['CATEGORIA_DE_RISCO'])['UF'].value_counts().plot(kind='bar')","2133eea7":"plt.figure(figsize=(14,10))\nplt.title(\"Dano potencial das barragens por estado.\")\nbarr.groupby(['DANO_POTENCIAL_ASSOCIADO'])['UF'].value_counts().plot(kind='bar')","d2e067cd":"#cria o mapa\nmapa = folium.Map(location=[-14.235, -51.9253], zoom_start=5, tiles='Stamen Terrain')\n\n#seleciona dados das barragens de risco baixo\nbarragens_baixa = barr[barr['CATEGORIA_DE_RISCO'] == 'Baixa']\nmunicipios =barragens_baixa.MUNICIPIO\nminerios =barragens_baixa.MINERIO_PRINCIPAL\nlatitudes =barragens_baixa.LATITUDE\nlongitudes =barragens_baixa.LONGITUDE\n\n#plota os dados das barragens de risco baixo no mapa na cor verde\nfor municipio, minerio, latitude, longitude in zip(municipios, minerios, latitudes, longitudes):\n    folium.Marker(location=[latitude, longitude], popup=minerio, tooltip=municipio,\n              icon=folium.Icon(color='green', icon='info-sign')).add_to(mapa)\n\n#seleciona dados das barragens de risco m\u00e9dio\nbarragens_media = barr[barr['CATEGORIA_DE_RISCO'] == 'M\u00e9dia']\nmunicipios =barragens_media.MUNICIPIO\nminerios =barragens_media.MINERIO_PRINCIPAL\nlatitudes =barragens_media.LATITUDE\nlongitudes =barragens_media.LONGITUDE\n\n#plota os dados das barragens de risco m\u00e9dio no mapa na cor azul\nfor municipio, minerio, latitude, longitude in zip(municipios, minerios, latitudes, longitudes):\n    folium.Marker(location=[latitude, longitude], popup=minerio, tooltip=municipio,\n              icon=folium.Icon(color='blue', icon='info-sign')).add_to(mapa)\n\n#seleciona dados das barragens de risco alto\nbarragens_alta = barr[barr['CATEGORIA_DE_RISCO'] == 'Alta']\nmunicipios =barragens_alta.MUNICIPIO\nminerios =barragens_alta.MINERIO_PRINCIPAL\nlatitudes =barragens_alta.LATITUDE\nlongitudes =barragens_alta.LONGITUDE\n\n#plota os dados das barragens de risco alto no mapa na cor vermelha\nfor municipio, minerio, latitude, longitude in zip(municipios, minerios, latitudes, longitudes):\n    folium.Marker(location=[latitude, longitude], popup=minerio, tooltip=municipio,\n              icon=folium.Icon(color='red', icon='info-sign')).add_to(mapa)\n\n\n#seleciona dados das barragens sem categoria de risco\nbarragens_nan = barr[barr['CATEGORIA_DE_RISCO'] == 'NaN']\nmunicipios =barragens_alta.MUNICIPIO\nminerios =barragens_alta.MINERIO_PRINCIPAL\nlatitudes =barragens_alta.LATITUDE\nlongitudes =barragens_alta.LONGITUDE\n\n#plota os dados das barragens sem categoria de risco no mapa na cor preta\nfor municipio, minerio, latitude, longitude in zip(municipios, minerios, latitudes, longitudes):\n    folium.Marker(location=[latitude, longitude], popup=minerio, tooltip=municipio,\n              icon=folium.Icon(color='black', icon='info-sign')).add_to(mapa)\nmapa","9b48bec7":"#cria o mapa\nmapa = folium.Map(location=[-14.235, -51.9253], zoom_start=5)\n\n#seleciona dados das barragens de DANO_POTENCIAL_ASSOCIADO baixo\nbarragens_baixa = barr[barr['DANO_POTENCIAL_ASSOCIADO'] == 'Baixa']\nmunicipios =barragens_baixa.MUNICIPIO\nminerios =barragens_baixa.MINERIO_PRINCIPAL\nlatitudes =barragens_baixa.LATITUDE\nlongitudes =barragens_baixa.LONGITUDE\n\n#plota os dados das barragens de DANO_POTENCIAL_ASSOCIADO baixo no mapa na cor verde\nfor municipio, minerio, latitude, longitude in zip(municipios, minerios, latitudes, longitudes):\n    folium.Marker(location=[latitude, longitude], popup=minerio, tooltip=municipio,\n              icon=folium.Icon(color='green', icon='info-sign')).add_to(mapa)\n\n#seleciona dados das barragens de DANO_POTENCIAL_ASSOCIADO m\u00e9dio\nbarragens_media = barr[barr['DANO_POTENCIAL_ASSOCIADO'] == 'M\u00e9dia']\nmunicipios =barragens_media.MUNICIPIO\nminerios =barragens_media.MINERIO_PRINCIPAL\nlatitudes =barragens_media.LATITUDE\nlongitudes =barragens_media.LONGITUDE\n\n#plota os dados das barragens de risco m\u00e9dio no mapa na cor azul\nfor municipio, minerio, latitude, longitude in zip(municipios, minerios, latitudes, longitudes):\n    folium.Marker(location=[latitude, longitude], popup=minerio, tooltip=municipio,\n              icon=folium.Icon(color='blue', icon='info-sign')).add_to(mapa)\n\n#seleciona dados das barragens de DANO_POTENCIAL_ASSOCIADO alto\nbarragens_alta = barr[barr['DANO_POTENCIAL_ASSOCIADO'] == 'Alta']\nmunicipios =barragens_alta.MUNICIPIO\nminerios =barragens_alta.MINERIO_PRINCIPAL\nlatitudes =barragens_alta.LATITUDE\nlongitudes =barragens_alta.LONGITUDE\n\n#plota os dados das barragens de DANO_POTENCIAL_ASSOCIADO alto no mapa na cor vermelha\nfor municipio, minerio, latitude, longitude in zip(municipios, minerios, latitudes, longitudes):\n    folium.Marker(location=[latitude, longitude], popup=minerio, tooltip=municipio,\n              icon=folium.Icon(color='red', icon='info-sign')).add_to(mapa)\n\n\n#seleciona dados das barragens sem categoria de DANO_POTENCIAL_ASSOCIADO\nbarragens_nan = barr[barr['DANO_POTENCIAL_ASSOCIADO'] == 'NaN']\nmunicipios =barragens_alta.MUNICIPIO\nminerios =barragens_alta.MINERIO_PRINCIPAL\nlatitudes =barragens_alta.LATITUDE\nlongitudes =barragens_alta.LONGITUDE\n#plota os dados das barragens sem categoria de DANO_POTENCIAL_ASSOCIADO no mapa  na cor preta\nfor municipio, minerio, latitude, longitude in zip(municipios, minerios, latitudes, longitudes):\n    folium.Marker(location=[latitude, longitude], popup=minerio, tooltip=municipio,\n              icon=folium.Icon(color='black', icon='info-sign')).add_to(mapa)\n\nmapa","b5ae664c":"An\u00e1lise e plotagem dos estados com mais barragens.","b2f50655":"Conclus\u00e3o:\n\nDe todas as barragens categorizadas a maioria s\u00e3o de baixo risco e essas tem alto potencial de dano no caso de rompimento, sendo que 324 das 714 barragens do Brasil est\u00e3o no estado de Minas Gerais.\n\nDas 714 barragens listadas, apenas 390 possuem categorias de risco e dano associados, ou seja, 45% das barragens do pa\u00eds s\u00e3o desconhecidas em termos de risco e dano potencial o que leva a necessidade de maior fiscaliza\u00e7\u00e3o e classifica\u00e7\u00e3o dessas barragnes pelos org\u00e3os p\u00fablicos.","8fa2e979":"Importa\u00e7\u00e3o dos dados das barragens e visualiza\u00e7\u00e3o dos primeiros dados."}}