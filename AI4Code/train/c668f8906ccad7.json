{"cell_type":{"de8ed9ff":"code","04b41019":"code","c4feca69":"code","4058b0d8":"code","10f5ea1c":"code","25da2ee0":"code","2a701608":"code","7c4dcefe":"code","f7333881":"code","c18901d7":"markdown","58e3a38c":"markdown","0c8217d9":"markdown","112517af":"markdown","34a84a40":"markdown","1d83f3c7":"markdown","0159ae89":"markdown","5ea2ea7e":"markdown"},"source":{"de8ed9ff":"import numpy as np # linear algebra\nimport pandas as pd \nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\n\nfrom plotly import tools\nimport plotly\nplotly.offline.init_notebook_mode(connected=True) #to plot graph with offline mode in Jupyter notebook\nimport plotly.graph_objs as go\n\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.impute import SimpleImputer","04b41019":"# Read CSV\ndf = pd.read_csv(\"..\/input\/winemag-data-130k-v2.csv\")\n\n#remove unnecessary column\ndf_cleaned = df.drop('Unnamed: 0', 1)\n","c4feca69":"pd.set_option('display.max_columns', 500)\nprint(df_cleaned.shape)\n#df_cleaned.info()\ndf_cleaned.head()","4058b0d8":"###########################\n#Analyse based on Country#\n#########################\ncountries = df_cleaned['country'].value_counts().sort_values(ascending=True)\ntrace_countries = [go.Pie(\n                   labels = countries.index,\n                   values = countries.values)]\n\ntrace_countries_layout = go.Layout(\n                            title = 'Market Share of Wine By Countries')\n\ntrace_countries_fig = go.Figure(data = trace_countries, layout = trace_countries_layout)\n\n\nplotly.offline.iplot(trace_countries_fig, filename = 'country_produce_wine')","10f5ea1c":"#####################\n#Bivariate Analysis#\n###################\nprint(df_cleaned[['points','price']].describe())\n\npoints_price_col = ['points','price']\ndf_cleaned[points_price_col].plot(kind='box',subplots=True, title = 'Boxplots on Wine Points & Price')\n\n","25da2ee0":"##############################\n#Distribution of Wine Rating#\n############################\nhist_points = [go.Histogram(\n                x = df_cleaned['points']\n)]\n\nhist_points_layout = go.Layout(\n                        title = 'Distribution of Wine Points\/Rating',\n                        xaxis = dict(title = 'Points'),\n                        yaxis = dict(title = 'Number of rating'))\n\nhist_points_fig = go.Figure(data = hist_points, layout = hist_points_layout)\n    \nplotly.offline.iplot(hist_points_fig, filename = 'distribution_wine_points')\n\n#############################\n#Distribution of Wine Price#\n###########################\nhist_price = [go.Histogram(\n                x = df_cleaned['price'])]\n\nhist_price_layout = go.Layout(\n                        title = 'Distribution of Wine Price',\n                        xaxis = dict(title = 'Price'),\n                        yaxis = dict(title = 'Frequency'))\n\n\nhist_price_fig = go.Figure(data = hist_price, layout = hist_price_layout)\n\nplotly.offline.iplot(hist_price_fig, filename='distribution_wine_price')","2a701608":"#Impute NaN field in price with its median price\ndf_cleaned[['price']] = df_cleaned[['price']].fillna(value=25)\ndf_cleaned.corr()","7c4dcefe":"#split data into x-array and y-array\nX_var = df_cleaned[['points']]\ny_var = df_cleaned['price']","f7333881":"df_cleaned.plot(x='points',y='price',style='o')","c18901d7":"<font size=\"6\">**Points Vs Price**<\/font>\n<br>\nDoes wine's point affect its price?","58e3a38c":"<font size=\"6\">**Basic Exploratory Data Analysis**<\/font>","0c8217d9":"* The correlation between points and price is merely 0.399231 which indicate both variable have weak relationship.\n* From the plot graph, the data point is not linear. Thus, the points of wines have no direct influence to its price. However, higher price of wine tends to have high rating points.","112517af":"<font size=\"6\">**Wine Production Breadown By Countries**<\/font>\n<br>\nWhich country has the most wine produce?","34a84a40":"* US is the largest wine producer which taking almost half of the market share.\n* France and Italy is the second and third which provide wine.","1d83f3c7":"<font size=\"6\">**Insight of Winery Rating\/Points & Price**<\/font>\n<br>\nWhat is the average for a bottle of wine's point and its price?","0159ae89":"* The wine point is distributed normally which its average is 88.447138.\n* The wine price from the datasets shows that it is on right skewed (with some wine price that goes up USD$3300.00); thus, the median of wine price in overall is USD$25.00.\n* The reason that mean is being used in wine point, and median is used in wine price is due to wine point data is closed to normally distributed while wine price data is right skewed. ","5ea2ea7e":"<font size=\"6\">**Conclusion**<\/font>\n* The US is the largest producing wine and having almost half of the market share.\n* The average cost of wines on market are normally USD$25.00; However, some wine can go up to USD$3300.00.\n* Typically, wine rated at 88.447138 points and above are normally accepted quality wine.\n* The points of wine rate by testers does not have significant influence towards its price."}}