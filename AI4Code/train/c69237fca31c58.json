{"cell_type":{"bf60ce75":"code","f9ff3213":"code","415277f6":"code","c3085a37":"code","db7266d7":"code","3c05cb4a":"code","eaf2eea5":"code","af5b9ae5":"code","ba1755c4":"code","25894933":"code","40dcdf67":"code","c12f8c61":"code","8af6e30a":"code","0e48d1f2":"code","7874b2a7":"code","03dca644":"code","5c1791b4":"code","6b247a0c":"code","1f4ece60":"code","2c1aac61":"code","b117cd08":"code","53f53347":"code","ce6f1719":"code","5965b97a":"code","e9e57a99":"code","7e23fd85":"code","f295634e":"code","7672cb48":"code","48a1bb9c":"code","785059b4":"code","01287045":"code","09425210":"code","d7a1dd5e":"code","b9b6b6ad":"code","c5c07293":"code","09b1442e":"code","410fdf45":"code","5f9ce2cd":"code","b31553cc":"code","79c13ba5":"code","c0e8a5bf":"code","371ce917":"code","e741a855":"code","2712ddc7":"code","9e4cf8f5":"code","930cb00a":"code","38085e38":"code","4bf5ff46":"code","73747ca0":"code","37ab73c0":"code","c47f3d9b":"code","4aceba83":"code","5648261f":"code","e2c6bbed":"code","91ffe559":"code","07890b06":"code","ce7e9a4f":"code","0fdace81":"code","fd39591a":"code","791639d2":"code","a36df8c1":"code","1ee7d7c6":"code","7125a036":"code","6c015b55":"code","3ca664b0":"markdown","50b945cf":"markdown"},"source":{"bf60ce75":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n \n%matplotlib inline","f9ff3213":"sns.set()","415277f6":"data = pd.read_csv('..\/input\/hr-analytics-job-change-of-data-scientists\/aug_train.csv',index_col='enrollee_id')","c3085a37":"data.head()","db7266d7":"data.info()","3c05cb4a":"data['relevent_experience'].value_counts()","eaf2eea5":"data['gender'].value_counts()","af5b9ae5":"data['gender'].fillna('Male',inplace=True)","ba1755c4":"data['enrolled_university'].value_counts()","25894933":"data['enrolled_university'].fillna('no_enrollment',inplace=True)","40dcdf67":"data['education_level'].value_counts()","c12f8c61":"data[data['education_level'].isnull()]","8af6e30a":"sns.countplot(data['education_level'],hue=data['relevent_experience'])","0e48d1f2":"sns.scatterplot(data['city_development_index'],data['experience'],hue=data['education_level'])\nplt.legend(bbox_to_anchor=(1, 1),loc='upper left')","7874b2a7":"a1=data[data['relevent_experience']=='No relevent experience']['education_level'].fillna('High School')\na2=data[data['relevent_experience']=='Has relevent experience']['education_level'].fillna('Graduate')\na=pd.concat([a1,a2])\ndata['education_level']=a","03dca644":"data['major_discipline'].value_counts()","5c1791b4":"data['major_discipline'].fillna('STEM',inplace=True)","6b247a0c":"sns.histplot(data['experience'].replace({'>20':'21','<1':'0'}).astype(float),kde=True)","1f4ece60":"plt.figure(figsize=(15,5))\nsns.countplot(data['experience'].replace({'>20':'21','<1':'0'}).astype(float),hue=data['education_level'])","2c1aac61":"data['experience'].fillna('>20',inplace=True)","b117cd08":"data['company_type'].value_counts()","53f53347":"data['company_type'].fillna('Pvt Ltd',inplace=True)","ce6f1719":"data['last_new_job'].value_counts()","5965b97a":"data['last_new_job'].fillna('1',inplace=True)","e9e57a99":"data['company_size'].value_counts()","7e23fd85":"plt.figure(figsize=(15,5))\nsns.boxplot(data['company_size'],data['experience'].replace({'>20':'21','<1':'0'}).astype(float))","f295634e":"plt.figure(figsize=(15,5))\nsns.boxplot(data['company_size'],data['city_development_index'])","7672cb48":"plt.figure(figsize=(15,5))\nsns.countplot(data['company_size'],hue=data['company_type'])","48a1bb9c":"#No specific way to find the missing company size. hence have to drop NA values\ndata.dropna(inplace=True)","785059b4":"data.info()","01287045":"data.head()","09425210":"target=pd.DataFrame(data['target'].astype(int))\nrequired_data=data.drop(['city','target'],axis=1)","d7a1dd5e":"target.head()","b9b6b6ad":"required_data.head()","c5c07293":"from sklearn.model_selection import train_test_split\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.preprocessing import LabelEncoder,StandardScaler\nfrom sklearn.metrics import classification_report,confusion_matrix","09b1442e":"def toLabelEncoder(data):\n    LE=LabelEncoder()\n    return LE.fit_transform(data)","410fdf45":"required_data=required_data.apply(toLabelEncoder)","5f9ce2cd":"required_data['city_development_index']=data['city_development_index']","b31553cc":"required_data.head()","79c13ba5":"SC=StandardScaler()","c0e8a5bf":"required_data_sc=pd.DataFrame(SC.fit_transform(required_data),index=required_data.index,columns=required_data.columns)","371ce917":"required_data_sc.head()","e741a855":"X_train, X_test, y_train, y_test = train_test_split(required_data, target, test_size=0.3, random_state=25)","2712ddc7":"result=pd.DataFrame(y_test)","9e4cf8f5":"RFC=RandomForestClassifier()\nRFC.fit(X_train,y_train)","930cb00a":"result['RFC']=RFC.predict(X_test)","38085e38":"print(classification_report(result['target'],result['RFC']))","4bf5ff46":"print(confusion_matrix(result['target'],result['RFC']))","73747ca0":"X_train_sc, X_test_sc, y_train, y_test = train_test_split(required_data_sc, target, test_size=0.3, random_state=25)","37ab73c0":"RFC=RandomForestClassifier()\nRFC.fit(X_train_sc,y_train)","c47f3d9b":"result['RFC_sc']=RFC.predict(X_test_sc)","4aceba83":"print(classification_report(result['target'],result['RFC_sc']))","5648261f":"print(confusion_matrix(result['target'],result['RFC_sc']))","e2c6bbed":"score=list()\nfor i in range(1,20):\n    KNC=KNeighborsClassifier(n_neighbors=i)\n    KNC.fit(X_train,y_train)\n    KNC.predict(X_test)\n    score.append(KNC.score(X_test,y_test))\nscore=np.array(score)","91ffe559":"score=pd.DataFrame(score)\nplt.figure(figsize=(15,5))\nsns.lineplot(score.index,score[0])\nplt.xticks(range(1,20))","07890b06":"KNC=KNeighborsClassifier(n_neighbors=5)\nKNC.fit(X_train,y_train)\nresult['KNC']=KNC.predict(X_test)","ce7e9a4f":"print(classification_report(result['target'],result['KNC']))","0fdace81":"print(confusion_matrix(result['target'],result['KNC']))","fd39591a":"score=list()\nfor i in range(1,20):\n    KNC=KNeighborsClassifier(n_neighbors=i)\n    KNC.fit(X_train_sc,y_train)\n    KNC.predict(X_test_sc)\n    score.append(KNC.score(X_test_sc,y_test))\nscore=np.array(score)","791639d2":"score=pd.DataFrame(score)\nplt.figure(figsize=(15,5))\nsns.lineplot(score.index,score[0])\nplt.xticks(range(1,20))","a36df8c1":"KNC=KNeighborsClassifier(n_neighbors=11)\nKNC.fit(X_train_sc,y_train)\nresult['KNC_sc']=KNC.predict(X_test_sc)","1ee7d7c6":"print(classification_report(result['target'],result['KNC_sc']))","7125a036":"print(confusion_matrix(result['target'],result['KNC_sc']))","6c015b55":"result.head(15)","3ca664b0":"# Random Forest","50b945cf":"# kNeighbour"}}