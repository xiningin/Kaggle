{"cell_type":{"e52f3520":"code","adc75acc":"code","cc45c1e6":"code","1f69f9d1":"code","f3e2d1e9":"code","6daec273":"code","1d00877c":"code","661bd56c":"code","2e70229c":"code","f406152f":"code","559562a7":"code","5a2a0e2e":"code","aa31cfc4":"code","dbbe753b":"code","067efcfe":"code","133ba336":"code","7b030abc":"code","748aa015":"code","4aa3464f":"markdown","143ca43f":"markdown","2846bbac":"markdown","2c468573":"markdown","00a69054":"markdown","1a3690fe":"markdown","0a1952eb":"markdown","862537a0":"markdown","b41c7927":"markdown","6b8790b3":"markdown","558c69c2":"markdown","6248545a":"markdown","574895d5":"markdown","003bb64e":"markdown","794bd5fb":"markdown","0016152b":"markdown","991d263e":"markdown"},"source":{"e52f3520":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport missingno\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","adc75acc":"df = pd.read_csv('..\/input\/titanic\/train.csv')\ndf.head()","cc45c1e6":"df['Sex'] = df['Sex'].map({'male': 0, 'female': 1})\ndf.head()","1f69f9d1":"df['Embarked'].value_counts()","f3e2d1e9":"df.isnull().sum()","6daec273":"missingno.matrix(df)","1d00877c":"df = df.drop('Cabin', axis=1)\ndf.head()","661bd56c":"sns.displot(df[df['Age'].notnull()]['Age'], label = 'Skewness: {:.2f}'.format(df['Age'].skew()))\nplt.legend(loc='best')\nplt.title('Passenger Age Disctribution')","2e70229c":"sns.heatmap(df[['Survived', 'Pclass', 'Sex', 'Age', 'SibSp', 'Parch', 'Fare']].corr(), annot=True, fmt='.2f', cmap='coolwarm')","f406152f":"plt.scatter(df['Pclass'], df['SibSp'])","559562a7":"columns = list(range(df['SibSp'].max() + 1))\n\nage_matrix = pd.pivot_table(df, \n                            index=['SibSp'], \n                            columns=['Pclass'], \n                            values=['Age'], \n                            aggfunc=np.mean).reindex(columns, axis=0)\nage_matrix","5a2a0e2e":"for x in age_matrix.columns:\n    age_matrix[x].fillna(value=age_matrix[x].mean(), inplace=True)\n    \nage_matrix","aa31cfc4":"#df['Age'].fillna(value=age_matrix[('Age', df['Pclass'])[df['SibSp']]])","dbbe753b":"null_age = df[df['Age'].isnull()].index.tolist()\nprint(null_age)\n\nfor i in null_age:\n    df['Age'].iloc[i] = age_matrix[('Age', df['Pclass'][i])][df['SibSp'][i]]","067efcfe":"df","133ba336":"df.isnull().sum()","7b030abc":"print(df['Embarked'].describe())\nprint('')\nmode_embarked = df['Embarked'].mode()","748aa015":"df['Embarked'].fillna('S', inplace=True)\n\ndf.isnull().sum()","4aa3464f":"The data for this study will be provided by the Titanic Dataset from Kaggle","143ca43f":"The heatmap shows a larger coorelation between Age and SibSp and PClass.  So we will create a matrix with this and use average age as the values","2846bbac":"We have now removed all null values","2c468573":"# 1. Define Problem","00a69054":"Since the data is categorical, we will use the item most frequent found in the feature (mode).  In this case 'S'","1a3690fe":"Map 'Sex' Feature","0a1952eb":"# 2. Data Mining","862537a0":"In 1912, The RMS Titanic sank on it's maiden voyage after hitting an iceburg.  The purpose of this study is to build a model based on passenger's information to predict survivors on a test data set.","b41c7927":"Since 77% of cabin numbers are missing, there is no way to engineer the missing data for this feature.  We will remove this column.","6b8790b3":"Map Embarked Feature","558c69c2":"The next feature with a sizable amount of missing values is the Age column.  We are missing approximatly 20% of the values.  ","6248545a":"# 3. Clean Data","574895d5":"Since there are several items with null values, we will fill them in with the average of the column","003bb64e":"Now that we have replaced all the missing age data with averages from our matrix, we must deal with the 2 missing data points in the Embark feature","794bd5fb":"## Map Simple Categorical Data","0016152b":"# Fill\/Drop Missing Data","991d263e":"Since the distribution of age is relatively normal, we could use the mean to fill in the missing data, but since there are so many missing data point I feel like we need to find a different way.  Let's see if there is some coorelation between other features."}}