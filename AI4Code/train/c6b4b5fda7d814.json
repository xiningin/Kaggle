{"cell_type":{"b81f40ca":"code","799f8a3a":"code","70ac7d80":"code","ce13af3b":"code","6d59c52b":"code","7ca23340":"code","6a6ffb80":"code","0b11b2c6":"code","624ce47e":"code","344a0a23":"code","d9583f33":"code","4db22c9d":"code","42e179e0":"code","bb2c0aaa":"code","5b9b894a":"code","fd5292b0":"code","07f849bc":"code","6fef7503":"code","ceab0019":"code","37067a7c":"code","8ac9d56e":"code","f0cdc7bc":"code","d81cbe2a":"code","14816b7a":"code","eab9ccf4":"code","8824964c":"code","8621ca3d":"code","1c7b51d5":"code","9d0eb63e":"code","ce673ae6":"code","42a773c8":"code","1dac7e64":"code","7ed9d207":"code","beee35a5":"code","a52339a1":"code","3fb8416e":"markdown","cb957e6c":"markdown","a17dda7d":"markdown","4a9238b5":"markdown","06e2f780":"markdown","948fa62e":"markdown","df4db92b":"markdown","92cb54bf":"markdown","ef9c2229":"markdown","b00a94e7":"markdown","3b89349b":"markdown","1bdb759c":"markdown","8383c123":"markdown","6c254315":"markdown","f1ade92d":"markdown","9b773dd8":"markdown","d0b4abae":"markdown","edd08437":"markdown","ba8c90bf":"markdown","b5376bd5":"markdown","c436db3e":"markdown","98ebe2ec":"markdown","92975762":"markdown","bd22f673":"markdown","84d8ab52":"markdown","a082ab00":"markdown","9e1b6538":"markdown","98c9a804":"markdown","54a80ace":"markdown","ba4e3ee6":"markdown"},"source":{"b81f40ca":"#import of the libraries and read file\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nhappiness = pd.read_csv('..\/input\/world-happiness-report\/world-happiness-report.csv')","799f8a3a":"happiness.head()","70ac7d80":"happiness.info()","ce13af3b":"happiness.isnull().sum()","6d59c52b":"columns = ['Log GDP per capita', 'Social support', 'Healthy life expectancy at birth', 'Freedom to make life choices', 'Generosity', 'Perceptions of corruption', 'Positive affect', 'Negative affect']\nfor col in happiness[columns]:\n    happiness[col] = happiness[col].fillna(happiness[col].mean())\n","7ca23340":"happiness[\"Total_score\"]=(happiness[\"Life Ladder\"]+happiness[\"Log GDP per capita\"]+happiness[\"Social support\"]+happiness[\"Healthy life expectancy at birth\"]+happiness[\"Freedom to make life choices\"]+happiness[\"Generosity\"]+happiness[\"Positive affect\"])- (happiness[\"Perceptions of corruption\"]+happiness[\"Negative affect\"])","6a6ffb80":"happiness.info()","0b11b2c6":"#correlation\nhappiness.corr()","624ce47e":"#depending country of total score\ncountry_total = happiness.groupby('Country name')['Total_score'].mean().sort_values(ascending= False).head(10)\ncountry_total","344a0a23":"sns.set_palette('RdBu')\nsns.barplot(country_total.values, country_total.index)\nplt.show()","d9583f33":"#let's see dependence of GPD per capita, Healthy life expectancy at birth and Social support on country(top 10)\ngpd_country = happiness.groupby('Country name')['Log GDP per capita'].mean().sort_values(ascending= False).head(10)\nprint(gpd_country)\n\nsns.set_palette('PRGn')\nplt.figure(figsize=(20, 6))\nsns.barplot(gpd_country.values, gpd_country.index).set_title('Dependence log GPD per capita on country')\nplt.show()","4db22c9d":"lifeexp_country = happiness.groupby('Country name')['Healthy life expectancy at birth'].mean().sort_values(ascending=False).head(10)\nprint(lifeexp_country)\n\nplt.figure(figsize=(20, 6))\nsns.barplot(lifeexp_country.values, lifeexp_country.index).set_title('Dependence healthy life expectancy at birth on country')\nplt.show()","42e179e0":"social_country = happiness.groupby('Country name')['Social support'].mean().sort_values(ascending=False).head(10)\nprint(social_country)\n\nplt.figure(figsize=(20, 6))\nsns.barplot(social_country.values, social_country.index).set_title('Dependence social support on country')\nplt.show()","bb2c0aaa":"#also we need to see bottom-10 countries by total score of happiness\ntotal_country_bad = happiness.groupby('Country name')['Total_score'].mean().sort_values(ascending=False).tail(10)\nprint(total_country_bad)\n\nplt.figure(figsize=(20, 6))\nsns.barplot(total_country_bad.values, total_country_bad.index).set_title('Bottom-10 countries by total score of happiness')\nplt.show()","5b9b894a":"sns.relplot(x='Healthy life expectancy at birth', y='Total_score', data=happiness, kind='scatter').set(title='Dependence of Healthy life expectancy at birth on total score of happiness')\nplt.show()","fd5292b0":"sns.set_style('whitegrid')\nsns.relplot(x='Social support', y='Total_score', data=happiness, kind='scatter', size='Total_score', hue='Total_score').set(title='Dependence of Social support on total score of happiness')\nplt.show()","07f849bc":"sns.set_style('whitegrid')\nsns.relplot(x='Perceptions of corruption', y='Total_score', data=happiness, kind='scatter', size='Total_score', hue='Total_score').set(title='Dependence of Perceptions of corruption on total score of happiness')\nplt.show()","6fef7503":"sns.set_style('whitegrid')\nsns.relplot(x='Freedom to make life choices', y='Positive affect', data=happiness, kind='scatter', size='year', hue='year').set(title='Dependence of Freedom to make life choices on Positive affect in years')\nplt.show()","ceab0019":"sns.set_style('whitegrid')\nsns.relplot(x='Perceptions of corruption', y='Negative affect', data=happiness, kind='scatter', size='year', hue='year').set(title='Dependence of Perceptions of corruption on Negative affect in years')\nplt.show()","37067a7c":"sns.set_style('whitegrid')\nsns.relplot(x='year', y='Healthy life expectancy at birth', data=happiness, kind='line').set(title='Healthy life expectancy at birth in years')\nplt.show()","8ac9d56e":"sns.relplot(x='year', y='Total_score', data=happiness, kind='line').set(title='Changing total score in years')\nplt.show()","f0cdc7bc":"sns.relplot(x='year', y='Freedom to make life choices', data=happiness, kind='line').set(title='Freedom to make life choices in years')\nplt.show()","d81cbe2a":"sns.relplot(x='year', y='Log GDP per capita', data=happiness, kind='line').set(title='Log GDP per capita in years')\nplt.show()","14816b7a":"#Life Ladder\nplt.figure(figsize=(20, 6))\nsns.swarmplot(x='year', y='Life Ladder', data=happiness).set(title='Life Ladder in years')\nplt.show()","eab9ccf4":"#Healthy life expectancy at birth\nplt.figure(figsize=(20, 6))\nsns.stripplot(x='year', y='Healthy life expectancy at birth', data=happiness).set(title='Healthy life expectancy at birth in years')\nplt.show()","8824964c":"#Freedom to make life choices\nplt.figure(figsize=(20, 6))\nsns.violinplot(x='year', y='Freedom to make life choices', data=happiness).set(title='Freedom to make life choices in years')\nplt.show()","8621ca3d":"#generosity by years in a boxplot()\nplt.figure(figsize=(20, 6))\nsns.boxplot(x='year', y='Generosity', data=happiness).set(title='Generosity changing in years')\nplt.show()","1c7b51d5":"corruption_country_top10 = happiness.groupby('Country name')['Perceptions of corruption'].mean().sort_values(ascending=False).head(10)\ncorruption_country_top10","9d0eb63e":"corruption_country_bottom10 = happiness.groupby('Country name')['Perceptions of corruption'].mean().sort_values(ascending=False).tail(10)\ncorruption_country_bottom10","ce673ae6":"#add country of interest in a separate list\ncountries = happiness[(happiness['Country name'] == 'Russia')| (happiness['Country name'] == 'China') | (happiness['Country name'] == 'United States') | (happiness['Country name'] == 'Sweden') | (happiness['Country name'] == 'India')]\n","42a773c8":"#create a lineplot with this countries grouped by total score and year\nsns.set_style('whitegrid')\nsns.set_palette('PRGn')\nplt.figure(figsize=(20, 6))\nsns.lineplot(x='year', y='Total_score', data=countries, hue='Country name').set(title='Total score by year at Russia, China, USA, Sweden and India')\nplt.show()","1dac7e64":"#log GDP per capita in years\nplt.figure(figsize=(20, 6))\nsns.lineplot(x='year', y='Log GDP per capita', data=countries, hue='Country name').set(title='Log GDP per capita by year at Russia, China, USA, Sweden and India')\nplt.show()","7ed9d207":"#Freedom to make life choices by years\nplt.figure(figsize=(20, 6))\nsns.lineplot(x='year', y='Freedom to make life choices', data=countries, hue='Country name').set(title='Freedom to make life choices by years at Russia, China, USA, Sweden and India')\nplt.show()","beee35a5":"#perception of corruption by years\nplt.figure(figsize=(20, 6))\nsns.lineplot(x='year', y='Perceptions of corruption', data=countries, hue='Country name').set(title='Perception of corruption by years at Russia, China, USA, Sweden and India')\nplt.show()","a52339a1":"#Healthy life expectancy at birth by years\nplt.figure(figsize=(20, 6))\nsns.lineplot(x='year', y='Healthy life expectancy at birth', data=countries, hue='Country name').set(title='Healthy life expectancy at birth by years at Russia, China, USA, Sweden and India')\nplt.show()","3fb8416e":"As expected, the correlation the same, because total score has the highest correlation with Healthy life expectancy at birth.","cb957e6c":"Now I would like to try to show Life Ladder, Healthy life expectancy at birth in years by swarmplot(), stripplot() and violinplot(), showed earlier","a17dda7d":"As shown on the barplot, the highest GPD in Luxembourg, Quatar and Singapore.","4a9238b5":"From matrix correlation we can see that total score of happines has the higher depending on Healthy life expectancy at birth feature. Also the total score depends on Life Ladder and Log GDP per capita.","06e2f780":"We can see the top 3 happinest country is Singapore, Switzerland and Norway.","948fa62e":"We can define that log GDP per capita getting better since 2014 and now it has stable growth.","df4db92b":"In the EDA we can ask some questions:\n- what the correlation between features\n- explore the some features (ex. country)  depends on year\n- explore the features depending on country\n- explore the total score depending of country, show top- and bottom-10 countries","92cb54bf":"Unfortunately, total score of happiness in Russia the least, but it grow over the year.","ef9c2229":"In general, the most corrupt countries are Romania, Bosnia and Herzegovina and Bulgaria. And the least corrupt countries is Singapore, Rwanda and Denmark. It can be easy explain by life quality in this countries and trust to the government.","b00a94e7":"Also I would like to determine the correlation of Perceptions of corruption and negative affect in years:","3b89349b":"The highest perseptions of corruption is in Russia and Sweden since 2007 has been demonstrating very low degree of corruption.","1bdb759c":"As we saw earlier, last few years freedom to make life choices has been increasing. It relates with possibilities of free traveling between countries, freedom of getting education, find a job, start a family or relationship and many others.","8383c123":"There are not many null values in the columns, therefore we can ill null values with mean values of this columns. Data types are ok, we don't need to convert data type of 'year' column to date_time.\n","6c254315":"Next step will be good practice to compare some features of some countries (for example, Russia, China, USA, Sweden and India):","f1ade92d":"\nColumns meaning:\n\nLadder score - means if you have bigger score you can have better possibilities in life, than someone whose have less score\n\nLog GDP per capita - means Gross Domestic Product (GDP) per capita (per person)\n\nSocial support - means that person has a family, friends and other people, who can make a support for them in difficult life situation\n\nHealthy life expectancy at birth - years of healthy life which newborn can expect to have\n\nFreedom to make life choices - means that people can choose job, family, friends, goverment and place to live on his own choice\n\nGenerosity - means the quality of kindness and generous\n\nPerceptions of corruption - means degree of corruption in the country\n\n\n","9b773dd8":"Discover the top- and bottom-10 countries with Perceptions of corruption:","d0b4abae":"As shown on the line plot, Healthy life expectancy at birth has a positive growing in years. It relate with science and technical progress in medicine.","edd08437":"Data preprocessing is over. Time to start EDA!","ba8c90bf":"Than we can explore how had been changing Freedom to make life choices in years:","b5376bd5":"We can notice, that Freedom to make life choices has been increased after 2012.","c436db3e":"As shown earlier, Healthy life expectancy at birth increases in years, because of technical and science progress.","98ebe2ec":"As shown on a barplot, the highest social support have people from Iceland, Cuba and Ireland. It can be explained that Iceland is s very small country and people there have a lot of social connection and Ireland is an island and not very inhabited. And Cuba people  on the contrary have a lot of family and friends connection as a feature of this peoples.","92975762":"As shown, Singapore have the the highest degree of Healthy life expectancy at birth","bd22f673":"Create a column with total score of happiness:","84d8ab52":"Than I think will be good to see dependences of Healthy life expectancy at birth ans social support on total score:","a082ab00":"The best Healthy life expectancy at birth during all period has Sweden and its growing up.","9e1b6538":"As expected, the worst countries for living is Central African Republic, Chad and Sierra leone. There are the wosrt living conditions, low quality od medicine, education possibilities and etc.","98c9a804":"Freedom to make life choices has a high correlation with positive affect:","54a80ace":"Than we can explore how had been changing Log GPD per capita choices in years:","ba4e3ee6":"Than, good practice will be show how have been changed Healthy life expectancy at birth in years, because"}}