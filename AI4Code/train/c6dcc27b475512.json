{"cell_type":{"4c6c0079":"code","39c2b600":"code","5eef3269":"code","5f22be46":"code","c43734c9":"code","51ee0a57":"code","73c3b270":"code","398a6389":"code","e1caf5e7":"code","262ecb49":"code","54671c89":"code","691fd33c":"code","1a99c5fa":"code","2dea47c2":"code","d8e19d30":"code","10c1aabe":"code","7aa07d45":"code","1e27f10d":"code","498619f8":"code","27111114":"code","d448f191":"code","aa3799ad":"markdown","4fabc39e":"markdown","034218a0":"markdown","b2414b9a":"markdown","cb5210eb":"markdown","ca0d7420":"markdown","197b843c":"markdown","60bd849b":"markdown","5f66bd51":"markdown","dc9466cf":"markdown"},"source":{"4c6c0079":"%pylab inline\nimport pandas as pd\nimport seaborn\nfrom builtins import list\nfrom subprocess import check_output\nprint(check_output([\"ls\", \"..\/input\"]).decode(\"utf8\"))","39c2b600":"data = pd.read_csv(\"..\/input\/raw-uber-data\/RawUberData.csv\")","5eef3269":"data.head()","5f22be46":"data ['Date\/Time'] = data ['Date\/Time'].map(pd.to_datetime)","c43734c9":"data.head()","51ee0a57":"data.tail()","73c3b270":"def get_dom(dt):\n    return dt.day\ndata['dom'] = data['Date\/Time'].map(get_dom)","398a6389":"data.head()","e1caf5e7":"def get_weekday(dt):\n    return dt.weekday()\n\ndata['weekday'] = data['Date\/Time'].map(get_weekday)\n\ndef get_hour(dt):\n    return dt.hour\n\ndata['hour'] = data['Date\/Time'].map(get_hour)\n\ndata.tail()\n","262ecb49":"hist(data.dom, bins=30, rwidth=.8, color='#800000', range=(0.5, 30.5))\nxlabel('Date of the month')\nylabel('Frequency')\ntitle('Frequency by DoM - uber - Apr 2014')","54671c89":"#for k, rows in data.groupby('dom'):\n#print((k, len(rows)))\n \ndef count_rows(rows):\n    return len(rows)\n\nby_date = data.groupby('dom').apply(count_rows)\nby_date","691fd33c":"bar(range(1, 31), by_date)","1a99c5fa":"by_date_sorted = by_date.sort_values()\nby_date_sorted","2dea47c2":"bar(range(1, 31), by_date_sorted)\nxticks(range(1,31), by_date_sorted.index)\nxlabel('Date of the month')\nylabel('Frequency')\ntitle('Frequency by DoM - uber - Apr 2014')","d8e19d30":"hist(data.hour, bins=24, range=(.5, 24), rwidth=.8, color='#FF0000')","10c1aabe":"hist(data.weekday, bins=7, range =(-.5,6.5), rwidth=.8, color='#AA6666')\nxticks(range(7), 'Mon Tue Wed Thu Fri Sat Sun'.split())","7aa07d45":"by_cross = data.groupby('weekday hour'.split()).apply(count_rows).unstack()\nseaborn.heatmap(by_cross)","1e27f10d":"hist(data['Lat'], bins=100, range = (40.5, 41), color='#FF6347');","498619f8":"hist(data['Lon'], bins=100, range = (-74.1, -73.9), color='#FF6347');\n","27111114":"hist(data['Lon'], bins=100, range = (-74.1, -73.9), color='g', alpha=.5, label = 'longitude')\ngrid()\nlegend(loc='upper left')\ntwiny()\nhist(data['Lat'], bins=100, range = (40.5, 41), color='r', alpha=.5, label = 'latitude')\nlegend(loc='best')\n;","d448f191":"figure(figsize=(20, 20))\nplot(data['Lon'], data['Lat'], '.', ms=1, alpha=.5)\nxlim(-74.2, -73.7)\nylim(40.7, 41)","aa3799ad":"# ANALYSIS","4fabc39e":"# Loading CSV file into memory","034218a0":"# **RawUberData**\n\n> This directory contains data on over 5 Lakhs Uber pickups in New York City from April 2014.\n\n* FiveThirtyEight obtained the data from the NYC Taxi & Limousine Commission (TLC) by submitting a Freedom of Information Law request on July 20, 2015.\n* The TLC has sent us the data in batches as it continues to review trip data Uber and other HFV companies have submitted to it.\n* The TLC's correspondence with FiveThirtyEight is included in the files TLC_letter.pdf, TLC_letter2.pdf and TLC_letter3.pdf.\n* TLC records requests can be made here.\n\nThis data was used for four FiveThirtyEight stories: Uber Is Serving New York\u2019s Outer Boroughs More Than Taxis Are, Public Transit Should Be Uber\u2019s New Best Friend, Uber Is Taking Millions Of Manhattan Rides Away From Taxis, and Is Uber Making NYC Rush-Hour Traffic Worse?.\n\nIn the folder uber-trip-data, there are six files of raw data on Uber pickups in New York City from April to September 2014. The files are separated by month and each has the following columns:\n\n> Header Definition\n1. Date\/Time: The date and time of the Uber pickup\n2. Lat: The latitude of the Uber pickup\n3. Lon: The longitude of the Uber pickup\n4. Base: The TLC base company code affiliated with the Uber pickup\n\n> Github Link:\n**[https:\/\/github.com\/EshitaNandy\/Uber-Trip-Analysis](http:\/\/)**","b2414b9a":"# Convert Date Time ","cb5210eb":"## Analysis of the hour","ca0d7420":"# Lat and Lon","197b843c":"# Importing Necessary Libraries","60bd849b":"# Color Analysis (hour,dow)","5f66bd51":"## Analysis of the Weekday","dc9466cf":"## Analysis of the DoM"}}