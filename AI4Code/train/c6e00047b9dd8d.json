{"cell_type":{"e0ab7dc9":"code","4a222238":"code","e4a616b0":"code","7f17bd77":"code","50eb6245":"code","ec521560":"code","341aee6e":"code","286f4af9":"code","0aba4bef":"code","a4cc1cfb":"code","74de3171":"code","ea0810c6":"code","0d795dcf":"code","37ed77c8":"code","721f31a9":"code","3264e8e1":"code","f974b716":"code","cfdb4b65":"code","adf329ec":"code","c95f806e":"code","f0a6daf6":"markdown","3889678e":"markdown","25513981":"markdown","a124f9ed":"markdown","21083255":"markdown","fa3387a1":"markdown","7eaa47d3":"markdown","447a912e":"markdown","c2906366":"markdown","b655a6df":"markdown"},"source":{"e0ab7dc9":"# Importing all necessary packages\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom tabulate import tabulate","4a222238":"# Read comcast telecome complaints data\ndf_comcast_telecom = pd.read_csv('..\/input\/telecom-complaints-monitoring-system\/Comcast_telecom_complaints_data.csv')\n","e4a616b0":"# Top 10 data visualization\ndf_comcast_telecom.head(10)","7f17bd77":"# Get dataframe information\ndf_comcast_telecom.info()","50eb6245":"# Checking for Null Count\ndf_comcast_telecom[df_comcast_telecom.isnull()].count()","ec521560":"# Converting Date and Date_month_year column from object to datetime64 dtype \ndf_comcast_telecom['Date_month_year'] = pd.to_datetime(df_comcast_telecom['Date_month_year'])\ndf_comcast_telecom['Date'] = pd.to_datetime(df_comcast_telecom['Date'],format='%d-%m-%y')\ndf_comcast_telecom.dtypes","341aee6e":"# Creating new column Month from Date_month_year\ndf_comcast_telecom['Month'] = df_comcast_telecom['Date_month_year'].dt.month\ndf_comcast_telecom.head()","286f4af9":"# Monthly Complaints Trend chart using matplotlib\nplt.figure(figsize=(15,7))\nplt.plot(sorted(df_comcast_telecom[\"Month\"].unique()), df_comcast_telecom.groupby([\"Month\"]).size(), color='#5900b3',linestyle='-' , linewidth = 3, label ='Tickets per Month') # in the order x, y\nplt.xticks(sorted(df_comcast_telecom[\"Month\"].unique()),['Jan', 'Feb', 'Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'])\nplt.yticks()\nplt.xlabel('Months')\nplt.ylabel('Number of Tickets Created from Jan to Dec')\nplt.title('Monthly Complaints Trend')\nplt.legend()\nplt.show()\n","0aba4bef":"# Daily Complaints Trend chart using matplotlib\n\nplt.figure(figsize=(15,7))\nplt.plot(sorted(df_comcast_telecom[\"Date_month_year\"].unique()), df_comcast_telecom.groupby([\"Date_month_year\"]).size(), color='#5900b3',linestyle='-' , linewidth = 3, label ='Tickets per Day') # in the order x, y\nplt.xticks()\nplt.xlabel('Dates')\nplt.ylabel('Number of Tickets Created')\nplt.title('Daily Complaints Trend')\nplt.legend()\nplt.show()","a4cc1cfb":"# Create a new column to list the types of Customer Complaints\ndf_comcast_telecom[\"Complaint Catagory\"] = np.where(df_comcast_telecom[\"Customer Complaint\"].str.contains('Internet|Speed|wifi|Access|Throttling|throt|Broadband|Cable|connection|DSL|modem|ip|ISP',case=False,regex=True), 'Internet',\n         np.where(df_comcast_telecom[\"Customer Complaint\"].str.contains('\\$|Price|Pricing|Cost|Payment|Charg|pay|Bill|Billing|Rate|Contract|fee',case=False,regex=True), 'Billing',\n         np.where(df_comcast_telecom[\"Customer Complaint\"].str.contains('Service|Cap|usage|Data|Customer|switch|wait|support|TV|avail|network|cramming',case=False,regex=True), 'Network',\n         np.where(df_comcast_telecom[\"Customer Complaint\"].str.contains('Customer|complaint|breach|bully|False|fed up',case=False,regex=True), 'Grievance',\n         np.where(df_comcast_telecom[\"Customer Complaint\"].str.contains('email',case=False,regex=True), 'Email',\n         np.where(df_comcast_telecom[\"Customer Complaint\"].str.contains('outage',case=False,regex=True), 'Outages',\n         'Other'))))))","74de3171":"# Display Catagorised Category in tabuler format\nprint(tabulate(df_comcast_telecom.groupby([\"Complaint Catagory\"]).size().to_frame(), headers=['Complaint Category','Number of Complaints'], tablefmt=\"fancy_grid\"))","ea0810c6":"#Percentage of Issues By Category\nax = df_comcast_telecom['Complaint Catagory'].value_counts().plot(kind='bar', figsize=(20,10), color=\"#69E1DA\", fontsize=11,width=0.2);\nax.set_alpha(0.8)\nax.set_title(\"Frequency of Complaint Types\", fontsize=12)\nax.set_xlabel(\"Category of Complaints\", fontsize=12);\nax.set_ylabel(\"Number of Complients\", fontsize=12);\nax.tick_params(axis='x', labelrotation=360)\ntotals = []\nfor i in ax.patches:\n    totals.append(i.get_height())\ntotal = sum(totals)\nfor i in ax.patches:\n    width, height = i.get_width(), i.get_height()\n    x, y = i.get_xy() \n    ax.text(i.get_x(), i.get_height()+2, str(round((i.get_height()\/total)*100, 2))+'%', fontsize=11,color =\"red\")\n    ax.text(x+width\/2, y+height\/2,'{:.0f}'.format(height), horizontalalignment='center', verticalalignment='center')","0d795dcf":"#Find the unique elementents in Status column\ndf_comcast_telecom['Status'].unique()","37ed77c8":"#Create new column and catagorize status\ndf_comcast_telecom['Consolidated Status'] = ['Closed' if Status == 'Closed' or Status == 'Solved' else 'Open' for Status in df_comcast_telecom['Status']]\ndf_comcast_telecom.head()","721f31a9":"# Create a df for state wise status\nState_wise_status = df_comcast_telecom.groupby(['State','Consolidated Status']).size().unstack(level=-1).fillna(0).astype(int)","3264e8e1":"# State wise complaint status using Stacked bar chart with pandas\nsws = State_wise_status.plot(kind='bar', figsize = (30,10), color=['#00b386','#0086b3'],title  = 'State wise status of complaints', xlabel = 'States', ylabel = 'Number of complaints', stacked = True)\nsws.tick_params(axis='x', labelrotation=90)\nsws.set_alpha(0.8)\nfor p in sws.patches:\n    width, height = p.get_width(), p.get_height()\n    x, y = p.get_xy() \n    sws.text(x+width\/2, y+height\/2, '{:.0f}'.format(height), color=\"white\", horizontalalignment='center', verticalalignment='center', fontweight='bold')","f974b716":"# State has maximum complaints with ticket count\nState_wise_status['Total Complaints'] = State_wise_status['Closed']+State_wise_status['Open']\nprint(\"State with maximum complains : {}\".format(State_wise_status['Total Complaints'].idxmax()))\nprint(\"Total open complaints in {} : {}\".format(State_wise_status['Total Complaints'].idxmax(),State_wise_status['Open'].max()))\nprint(\"Total closed complaints in {} : {}\".format(State_wise_status['Total Complaints'].idxmax(),State_wise_status['Closed'].max()))","cfdb4b65":"# State with highest percentage of un-resolved complaints\nState_wise_status['Un-Resolved %'] =  round((State_wise_status['Open']\/State_wise_status['Open'].sum()) *100,2)\nprint(\"State with highest % of un-resolved complains : {}\".format(State_wise_status['Un-Resolved %'].idxmax()))\nprint(\"Un-resolved complaints % in {} : {}%\".format(State_wise_status['Total Complaints'].idxmax(),State_wise_status['Un-Resolved %'].max()))","adf329ec":"# Complaints received through Internet and Customer Care call with resolved percentage\nComplaints_resolved = df_comcast_telecom.groupby(['Received Via','Consolidated Status']).size().unstack(level=-1)\nComplaints_resolved['Resolved %'] = round((Complaints_resolved['Closed']\/Complaints_resolved['Closed'].sum())*100,2)\nprint(\"Resolved % of complaints, received through Internet :  {}%\".format(Complaints_resolved.loc['Internet']['Resolved %']))\nprint(\"Resolved % of complaints, received through Customer Care Call : {}%\".format(Complaints_resolved.loc['Customer Care Call']['Resolved %']))","c95f806e":"# Pie Chart for the complaints received through Internet and Customer Care call with resolved percentage\ncolors = ['#0086b3','#00b386'] \nlabels = list(Complaints_resolved.index)\nfig, ax1 = plt.subplots(figsize=(17,7))\nfig.figsize=(20,10)\nax1.pie(Complaints_resolved['Closed'], colors = colors, labels=labels, autopct='%1.1f%%',startangle=70)\ncentre_circle = plt.Circle((0,0),0.50,fc='white')\nfig = plt.gcf()\nfig.gca().add_artist(centre_circle)  \nplt.legend(labels, bbox_to_anchor=(1.2,1),loc=\"upper right\")\nplt.title('Percentage of complaints resolved')\nplt.show()","f0a6daf6":"<b>Which state has the highest percentage of unresolved complaints<\/b>","3889678e":"<b>Which state has the maximum complaints<\/b>","25513981":"<b>Provide state wise status of complaints in a stacked bar chart. Use the categorized variable from Q3. Provide insights on<\/b>","a124f9ed":"<b>End of the Project<\/b>","21083255":"<b>Import data into Python environment<\/b>","fa3387a1":"<b>Provide the trend chart for the number of complaints at monthly and daily granularity levels<b>","7eaa47d3":"<b>Create a new categorical variable with value as Open and Closed. Open & Pending is to be categorized as Open and Closed & Solved is to be categorized as Closed.<\/b>","447a912e":"<b><H1>Project Name : Comcast Telecom Consumer Complaints<\/H1><\/b><br>\nName: Daniel Manova<br>\nDate: 01-04-2021<br>\nCourse: Post Graduate Program in AI and Machine Learning<br>\nCohort : PGP AIML FEB 2021 Cohort 1<br>","c2906366":"<b>Provide a table with the frequency of complaint types<\/b>","b655a6df":"<b>Provide the percentage of complaints resolved till date, which were received through the Internet and customer care calls<\/b>"}}