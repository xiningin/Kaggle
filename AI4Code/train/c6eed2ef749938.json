{"cell_type":{"e0ce881b":"code","0f2bf66f":"code","db9abfa7":"code","6010f204":"code","2f3e327b":"code","773e8fb8":"code","c5016ba8":"code","58a5dd08":"code","13510e53":"code","7273e6bc":"code","95729291":"code","82ef1a3c":"code","5fa8ddd2":"code","0984566d":"code","f2fc84ff":"code","88f8bc73":"code","099cecbc":"code","c494bf7e":"code","1fa10ad2":"code","45973282":"code","fefe5ea6":"code","6cc8d794":"code","59d6266d":"code","009f4849":"code","28f16cca":"code","dc37ddff":"code","f22c85c3":"code","d331230a":"code","b2a035ea":"code","5f7ad23d":"code","cb09b559":"code","78031044":"code","cfafec88":"code","90d491d7":"code","0a0b6e5b":"code","856854d5":"code","65f485c6":"code","7230a54d":"code","631222bb":"code","38921748":"code","089b8608":"code","fdf9b446":"code","cc89bc6d":"code","31077c25":"code","46ddb9f8":"code","07af33ff":"code","c6e5f7b9":"code","0115af09":"code","ae5e81d4":"code","9b24e275":"code","8b6919ac":"code","50db27fe":"code","6e3ec617":"code","e299f042":"code","e2b4bcd3":"code","fdaa350c":"code","e34fd9d6":"code","6e6db3a0":"code","f88abd32":"code","f2224f77":"code","c22eaeb3":"code","5f508294":"code","43c5f451":"code","c234351f":"code","2d5344dd":"code","8e0e5439":"code","b902135b":"code","af6c1bda":"code","0bf4b66c":"code","e2bf9229":"code","2787494a":"code","901c4ae9":"code","31f06c8a":"code","ca8d6d2d":"code","418f5332":"code","6a73fe0f":"code","a507c2a0":"code","91e21803":"code","7ad49c09":"code","ec8f8bd3":"code","bafb59bc":"code","52aeb397":"code","c9246264":"code","6e9fa6c6":"code","750b202c":"code","3fe3631e":"code","b14bc0a3":"code","67e2d289":"code","0f53bc2d":"markdown","4b9a557e":"markdown","7caba4b3":"markdown","98ad42cd":"markdown","ee0a14b1":"markdown","3b6fea1b":"markdown","1b01b973":"markdown","9e660592":"markdown","c528875f":"markdown","48046a2c":"markdown","5cd1ddc7":"markdown","cfa4b1b8":"markdown","c604c57b":"markdown","86869afb":"markdown","b305cab5":"markdown","a1a30a59":"markdown","f4596fbb":"markdown","5f705b9a":"markdown","4e6fe174":"markdown","f8b836d2":"markdown","55fc207d":"markdown","d892e393":"markdown","2c9c4c11":"markdown","ad35c94d":"markdown","63a380f9":"markdown"},"source":{"e0ce881b":"import numpy as np \nimport pandas as pd \npd.plotting.register_matplotlib_converters()\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport os","0f2bf66f":"# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","db9abfa7":"abundance = pd.read_csv('\/kaggle\/input\/human-metagenomics\/abundance.csv')","6010f204":"abundance.head()","2f3e327b":"for col in abundance.columns: \n    print(col) ","773e8fb8":"#Finding the unique values of disease for all datasets\nabundance.groupby('dataset_name')['disease'].unique()\n#the value t2d means type 2 diabetes\n#There are only three datasets are revelant to diabetes 'WT2D','t2dmeta_long','t2dmeta_short'.'WT2D','t2dmeta_long','t2dmeta_short'.","c5016ba8":"#grouping all of the diabetes datasets together\nabundance_diabetes=abundance.loc[(abundance.dataset_name=='WT2D') | (abundance.dataset_name=='t2dmeta_long')|\n                       (abundance.dataset_name=='t2dmeta_short'),:]\n#changes all missing values to nan\nabundance_diabetes = abundance_diabetes.replace('nd',np.nan).replace('na',np.nan).replace('-',np.nan).replace(' -',np.nan)\nabundance_diabetes.shape","58a5dd08":"#divided the abundance data to metadata and species data\nsplit_index=abundance.columns.get_loc('k__Archaea')\ndiabetes_metadata=abundance_diabetes.iloc[:,0:split_index]\ndiabetes_species=abundance_diabetes.iloc[:,split_index:]","13510e53":"#finding the columns with entry as na \ncols = (  diabetes_metadata.isna().sum()  !=  len(diabetes_metadata)  )\n#deleting the columns with every entry as na\ndiabetes_metadata_short =diabetes_metadata[cols[cols].index]\ndiabetes_metadata_short.shape","7273e6bc":"for col in diabetes_metadata_short.columns: \n    print(col) ","95729291":"#get rid of more redundant and unnecessary variables in metadata\nunimport =['subjectID', 'sequencing_technology', 'pubmedid','#SampleID',\n           'diabetic','bodysite','classification']\ndiabetes_metadata_short=diabetes_metadata_short.drop(columns= unimport)\ndiabetes_metadata_short.shape","82ef1a3c":"(diabetes_species < 0).values.any()\n#all values for species are zero or positive","5fa8ddd2":"#finding the columns with max entry to zero to remove unimformative variables\n# All values for species >=0, so a column with a max entry of zero means has all zeroes\ncols = (  diabetes_species.max()  !=  0 )\n#subseting the species data to informative variables\ndiabetes_species_short =diabetes_species[cols[cols].index]\ndiabetes_species_short.shape","0984566d":"for col in diabetes_species_short.columns: \n    print(col) ","f2fc84ff":"#merge the metadata and species data together after filtering out uninformative variables\ndiabetes_short=diabetes_metadata_short.join(diabetes_species_short)\ndiabetes_short.head()","88f8bc73":"#all of the continuous and discrete variables in the metadata\nnum_var=['age','bmi','height','weight','fbg','sbp','dbp','fins','fcp','hbalc','tg',\n        'tcho','hdl','ldl','whr','wc','cholesterol','triglycerides','creatinine',\n         'y-gt','fasting_glucose','fasting_insulin','hba1c','hscrp','c-peptide','tnfa',\n         'il-1','cd163','years_in_sweden','glp-1','fgf-19','leptin','adiponectin',\n         'gad-antibodies']\n#converts all of the continuous and discrete variables to numeric \ndiabetes_short.loc[:,num_var] = diabetes_short.loc[:,num_var].apply(pd.to_numeric, errors='coerce', axis=1)","099cecbc":"# replaces the missing values in cholesterol with tcho values\n# tcho and cholesterol are from WT2D and T2Dmeta respectively and they both represent\n# total cholesterol\ns = diabetes_short['sampleID'].map(diabetes_short.set_index('sampleID')['tcho'])\ndiabetes_short['cholesterol']= diabetes_short['cholesterol'].mask(diabetes_short['cholesterol'].isnull(), s)\n","c494bf7e":"print(\"hba1c has a mininum\",np.nanmin(diabetes_short['hba1c']),'and maximum of',\n      np.nanmax(diabetes_short['hba1c'])  )","1fa10ad2":"print(\"hbalc has a mininum\",np.nanmin(diabetes_short['hbalc']),'and maximum of', \n      np.nanmax(diabetes_short['hbalc'])  )","45973282":"# replaces the missing values in fasting_glucose with fbg values\n# fasting_glucose and fbg are from WT2D and T2Dmeta respectively and they both represent\n# fasting blood glucose\ns = diabetes_short['sampleID'].map(diabetes_short.set_index('sampleID')['fbg'])\ndiabetes_short['fasting_glucose']= diabetes_short['fasting_glucose'].mask(diabetes_short['fasting_glucose'].isnull(), s)","fefe5ea6":"# replaces the missing values in triglycerides with tg values\n# triglycerides and tg are from WT2D and T2Dmeta respectively and they both represent\n# Triglyceride levels\ns = diabetes_short['sampleID'].map(diabetes_short.set_index('sampleID')['tg'])\ndiabetes_short['triglycerides']= diabetes_short['triglycerides'].mask(diabetes_short['triglycerides'].isnull(), s)","6cc8d794":"# replaces the missing values in fasting_insulin with fins values\n# fasting_insulin and fins (Fasting Insulin Serum) are from WT2D and T2Dmeta respectively and they both represent\n# fasting insulin serum\ns = diabetes_short['sampleID'].map(diabetes_short.set_index('sampleID')['fins'])\ndiabetes_short['fasting_insulin']= diabetes_short['fasting_insulin'].mask(diabetes_short['fasting_insulin'].isnull(), s)","59d6266d":"diabetes_short.loc[diabetes_short.dataset_name==\"WT2D\"].gender\n#gender is not recorded for the WT2D data b\/c it was a study conducted on only women.","009f4849":"#gender is not recorded for the WT2D data b\/c it was a study conducted on only women.\n#replace all nas with female in WT2D\nmask1 = (diabetes_short.dataset_name==\"WT2D\") & (diabetes_short.gender.isna())\ndiabetes_short.loc[mask1, 'gender'] = 'female'","28f16cca":"redundant =['tcho','fbg','fins','tg']\ndiabetes_short=diabetes_short.drop(columns= redundant)\ndiabetes_short.shape","dc37ddff":"diabetes_short2=diabetes_short","f22c85c3":"diabetes_short=diabetes_short.replace(['n','impaired_glucose_tolerance',\"t2d\"],['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"])","d331230a":"#diabetes_short.groupby('disease')['age'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='age',hue= \"disease\",data=diabetes_short)\n#graphing a histogram by disease\nplt.xlabel('Age')\nplt.title('Histogram of the Age Grouped by Disease')\nplt.legend()\nplt.show()","b2a035ea":"sns.boxplot(y='age',x= \"disease\",data=diabetes_short)\n#graphing a histogram by disease\nplt.xlabel('Age')\nplt.title('Histogram of the Age Grouped by Disease')\nplt.legend()\nplt.show()","5f7ad23d":"#diabetes_short.groupby('disease')['cholesterol'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='cholesterol',hue= \"disease\",data=diabetes_short,\n            hue_order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"])\n#histogram  by disease\nplt.xlabel('Cholesterol, mmol\/L ')\nplt.title('Histogram of the Total Cholesterol Grouped by Disease',fontsize=20)\nplt.legend()\nplt.show()","cb09b559":"#diabetes_short.groupby('disease')['c-peptide'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='c-peptide',hue= \"disease\",data=diabetes_short)\n#graphing a histogram \nplt.xlabel('Serum C-peptide, nmol\/L')\nplt.title('Histogram of the c-peptide Grouped by Disease')\nplt.legend()\nplt.show()","78031044":"#diabetes_short.groupby('disease')['fasting_glucose'].plot(kind='hist', figsize=(15, 5), alpha=0.5,bins=30)\nsns.displot(x='fasting_glucose',hue= \"disease\",data=diabetes_short,\n            hue_order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"],legend=False)\n#graphing a histogram \nplt.xlabel('Fasting Blood Glucose mmol\/L')\nplt.title('Histogram of the Fasting Blood Glucose Grouped by Disease',fontsize=20)\nplt.legend(labels=[\"Type 2 Diabetes\",'Pre-Diabetes','No Diabetes'])\nplt.show()","cfafec88":"sns.boxplot(y='fasting_glucose',x='disease', data=diabetes_short,\n           order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"])\nplt.ylabel('Fasting Blood Glucose mmol\/L')\nplt.title('Box Plot of the Fasting Blood Glucose Grouped by Disease',fontsize=20)\nplt.legend()\nplt.show()","90d491d7":"#diabetes_short.groupby('disease')['fasting_glucose'].plot(kind='hist', figsize=(15, 5), alpha=0.5,bins=30)\nsns.displot(x='fasting_glucose',hue= \"disease\",data=diabetes_short[diabetes_short.dataset_name!=\"WT2D\"])\n#graphing a histogram \nplt.xlabel('Fasting Blood Glucose mmol\/L')\nplt.title('Histogram of the Fasting Blood Glucose Grouped by Disease')\nplt.legend()\nplt.show()","0a0b6e5b":"#diabetes_short.groupby('disease')['fasting_insulin'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='fasting_insulin',hue= \"disease\",data=diabetes_short)\n#graphing a histogram \nplt.xlabel('Fasting Insulin')\nplt.title('Histogram of the Fasting Insulin Grouped by Disease')\nplt.legend()\nplt.show()","856854d5":"#diabetes_short.groupby('disease')['hba1c'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=30)\nsns.displot(x='hba1c',hue= \"disease\",data=diabetes_short[diabetes_short.dataset_name!=\"WT2D\"])\n#graphing a histogram \nplt.xlabel('HbA1c, mmol\/mol')\nplt.title('Histogram of the HbA1c Grouped by Disease')\nplt.legend()\nplt.show()","65f485c6":"sns.displot(x='hba1c',hue= \"disease\",data=diabetes_short,\n            hue_order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"])\n#graphing a histogram \nplt.xlabel('HBA1C, mmol\/mol')\nplt.title('Histogram of the HBA1C mmol\/mol for the dataset WT2D',fontsize=20)\nplt.legend()\nplt.show()","7230a54d":"sns.boxplot(y='hba1c',x='disease', data=diabetes_short,\n            order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"])\n#graphing a histogram \nplt.ylabel('hba1c mmol\/mol')\n#labels=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"]\nplt.title('Boxplot of the HBA1C mmol\/mol for the dataset WT2D',fontsize=20)\nplt.legend()\nplt.show()\n","631222bb":"sns.displot(x='hbalc',hue= \"disease\",data=diabetes_short,\n            hue_order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"])\n#graphing a histogram \nplt.xlabel('HBAlC (%)')\nplt.title('Histogram of the HBA1C (%) for the datasets T2Dmeta', fontsize=20 )\nplt.legend()\nplt.show()","38921748":"sns.boxplot(y='hbalc',x='disease', data=diabetes_short,\n            order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"])\n#graphing a histogram \nplt.ylabel('hba1c (%)')\n#labels=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"]\nplt.title('Boxplot of the HBA1C (%) for the datasets T2Dmeta',fontsize=20 )\nplt.legend()\nplt.show()","089b8608":"#diabetes_short.groupby('disease')['weight'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='weight',hue= \"disease\",data=diabetes_short)\n#graphing a histogram of the bmi by group datasets\nplt.xlabel('weight')\nplt.title('Histogram of the Weight Grouped by Disease')\nplt.legend()\nplt.show()","fdf9b446":"sns.boxplot(y='fasting_insulin',x='disease', data=diabetes_short)\n\nplt.ylabel('Fasting Insulin')\nplt.title('Boxplot of the Fasting Insulin Grouped by Disease')\nplt.legend()\nplt.show()","cc89bc6d":"#diabetes_short.groupby('disease')['triglycerides'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='triglycerides',hue= \"disease\",data=diabetes_short)\n#graphing a histogram \nplt.xlabel('Triglycerides')\nplt.title('Histogram of the Triglycerides Grouped by Disease')\nplt.legend()\nplt.show()","31077c25":"#diabetes_short.groupby('disease')['sbp'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='sbp',hue= \"disease\",data=diabetes_short)\n#graphing a histogram \nplt.xlabel('sbp')\nplt.title('Histogram of the Systolic Blood Pressure Grouped by Disease')\nplt.legend()\nplt.show()","46ddb9f8":"#diabetes_short.groupby('disease')['dbp'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='dbp',hue= \"disease\",data=diabetes_short)\n#graphing a histogram \nplt.xlabel('dbp')\nplt.title('Histogram of the Diastolic Blood Pressure Grouped by Disease')\nplt.legend()\nplt.show()","07af33ff":"#diabetes_short.groupby('disease')['fcp'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='fcp',hue= \"disease\",data=diabetes_short)\n#graphing a histogram \nplt.xlabel('fcp')\nplt.title('Histogram of the Fasting C-Peptide Grouped by Disease')\nplt.legend()\nplt.show()","c6e5f7b9":"#diabetes_short.groupby('disease')['hdl'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='hdl',hue= \"disease\",data=diabetes_short)\n#graphing a histogram \nplt.xlabel( 'HDL Cholesterol mmol\/L')\nplt.title('Histogram of the HDL Cholesterol Grouped by Disease')\nplt.legend()\nplt.show()","0115af09":"sns.displot(x='hdl',hue= \"disease\",data=diabetes_short)\n#graphing a histogram \nplt.xlabel( 'HDL Cholesterol mmol\/L')\nplt.title('Histogram of the HDL Cholesterol Grouped by Disease')\nplt.legend()\nplt.show()","ae5e81d4":"#diabetes_short.groupby('disease')['ldl'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\n#graphing a histogram \nsns.displot(x='ldl',hue= \"disease\",data=diabetes_short)\nplt.xlabel( 'LDL Cholesterol mmol\/L')\nplt.title('Histogram of the LDL Cholesterol Grouped by Disease')\nplt.legend()\nplt.show()","9b24e275":"sns.boxplot(y='ldl',x='disease', data=diabetes_short)\n#graphing a histogram \nplt.xlabel( 'LDL Cholesterol mmol\/L')\nplt.title('Histogram of the LDL Cholesterol Grouped by Disease')\nplt.legend()\nplt.show()","8b6919ac":"#diabetes_short.groupby('disease')['whr'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='ldl',hue= \"disease\",data=diabetes_short)\n#graphing a histogram\nplt.xlabel('Waist to Hip Ratio')\nplt.title('Histogram of the Waist to Hip Ratio Grouped by Disease')\nplt.legend()\nplt.show()","50db27fe":"#diabetes_short.groupby('disease')['wc'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='wc',hue= \"disease\",data=diabetes_short)\n#graphing a histogram \nplt.xlabel('Waist Circumference')\nplt.title('Histogram of the Waist Circumference Grouped by Disease')\nplt.legend()\nplt.show()","6e3ec617":"#diabetes_short.groupby('disease')['creatinine'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='creatinine',hue= \"disease\",data=diabetes_short)\n#graphing a histogram of the bmi by group datasets\nplt.xlabel('Creatinine')\nplt.title('Histogram of the Creatinine Grouped by Disease')\nplt.legend()\nplt.show()","e299f042":"#diabetes_short.groupby('disease')['y-gt'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='y-gt',hue= \"disease\",data=diabetes_short)\n#graphing a histogram \nplt.xlabel('y-glutamyltransferase ')\nplt.title('Histogram of the Y-Glutamyltransferase Grouped by Disease')\nplt.legend()\nplt.show()","e2b4bcd3":"ax=sns.boxplot(y='y-gt',x='disease', data=diabetes_short)\nax.set_yscale('log')\nplt.xlabel('disease')\nplt.title('Boxplot of the Y-Glutamyltransferase Grouped by Disease')\nplt.legend()\nplt.show()","fdaa350c":"\n#diabetes_short.groupby('disease')['hscrp'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='hscrp',hue= \"disease\",data=diabetes_short)\n#graphing a histogram of the bmi by group datasets\nplt.xlabel('High-sensitivity C-reactive Protein')\nplt.title('Histogram of the High-sensitivity C-reactive Protein Grouped by Disease')\nplt.legend()\nplt.show()","e34fd9d6":"ax=sns.boxplot(y='hscrp',x='disease', data=diabetes_short)\nax.set_yscale('log')\nplt.xlabel('disease')\nplt.title('Boxplot of the High-sensitivity C-reactive Protein Grouped by Disease')\nplt.legend()\nplt.show()","6e6db3a0":"\n#diabetes_short.groupby('disease')['tnfa'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='tnfa',hue= \"disease\",data=diabetes_short)\n#graphing a histogram of the bmi by group datasets\nplt.xlabel('Tumor Necrosis Factor Alpha')\nplt.title('Histogram of the Tumor Necrosis Factor Alpha Grouped by Disease')\nplt.legend()\nplt.show()","f88abd32":"\n#diabetes_short.groupby('disease')['il-1'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='il-1',hue= \"disease\",data=diabetes_short)\n#graphing a histogram of the bmi by group datasets\nplt.xlabel('Interleukin 1')\nplt.title('Histogram of the Interleukin 1 Grouped by Disease')\nplt.legend()\nplt.show()","f2224f77":"#diabetes_short.groupby('disease')['cd163'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='cd163',hue= \"disease\",data=diabetes_short)\n#graphing a histogram of the bmi by group datasets\nplt.xlabel('Cluster of Differentiation 163')\nplt.title('Histogram of the Cluster of Differentiation 163 Grouped by Disease')\nplt.legend()\nplt.show()","c22eaeb3":"#diabetes_short.groupby('disease')['glp-1'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='glp-1',hue= \"disease\",data=diabetes_short)\n#graphing a histogram of the bmi by group datasets\nplt.xlabel('Cluster of Glucagon-like Peptide')\nplt.title('Histogram of the Glucagon-like Peptide Grouped by Disease')\nplt.legend()\nplt.show()","5f508294":"#diabetes_short.groupby('disease')['fgf-19'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='fgf-19',hue= \"disease\",data=diabetes_short)\n#graphing a histogram of the bmi by group datasets\nplt.xlabel('Fibroblast Growth Factor 19')\nplt.title('Histogram of the Fibroblast Growth Factor 19 Grouped by Disease')\nplt.legend()\nplt.show()","43c5f451":"\n#diabetes_short.groupby('disease')['leptin'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='leptin',hue= \"disease\",data=diabetes_short)\n#graphing a histogram \nplt.xlabel('Leptin')\nplt.title('Histogram of Leptin Grouped by Disease')\nplt.legend()\nplt.show()","c234351f":"\n#diabetes_short.groupby('disease')['adiponectin'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.displot(x='adiponectin',hue= \"disease\",data=diabetes_short)\n#graphing a histogram \nplt.xlabel('Adiponectin')\nplt.title('Histogram of Adiponectin Grouped by Disease')\nplt.legend()\nplt.show()","2d5344dd":"#diabetes_short.groupby('disease')['gad-antibodies'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nsns.histplot(x='gad-antibodies',hue= \"disease\",data=diabetes_short)\n#graphing a histogram \nplt.xlabel('Gad-Antibodies')\nplt.title('Histogram of Gad-Antibodies Grouped by Disease')\nplt.legend()\nplt.show()","8e0e5439":"sns.violinplot(x='disease',y='k__Bacteria',data=diabetes_short)\nplt.xlabel('disease')\nplt.title('Violin Plot of the Bacteria Kingdom Grouped by Disease')\nplt.legend()\nplt.show()","b902135b":"diabetes_short.groupby('disease')['k__Bacteria|p__Actinobacteria'].plot(logy=True,kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\n#graphing a histogram \nplt.xlabel('Actinobacteria')\nplt.title('Histogram of the Actinobacteria Phylum Grouped by Disease')\nplt.legend()\nplt.show()","af6c1bda":"\ndiabetes_short.groupby('disease')['k__Eukaryota'].plot(kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\n#graphing a histogram \nplt.xlabel('Eukaryota')\nplt.title('Histogram of the Eukaryota Kingdom Grouped by Disease')\nplt.legend()\nplt.show()","0bf4b66c":"\ndiabetes_short.groupby('disease')['k__Bacteria|p__Synergistetes|c__Synergistia'].plot(logy=True,kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\n#graphing a histogram\nplt.xlabel('Synergistia')\nplt.title('Histogram of the Synergistia class Grouped by Disease')\nplt.legend()\nplt.show()\n","e2bf9229":"\n\n\ndiabetes_short.groupby('disease')['k__Bacteria|p__Firmicutes|c__Clostridia|o__Clostridiales|f__Ruminococcaceae|g__Ruminococcus|s__Ruminococcus_sp_5_1_39BFAA'].plot(logy=True,kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\n#graphing a histogram\nplt.xlabel('Ruminococcus_sp_5_1_39BFAA')\nplt.title('Histogram of the Ruminococcus_sp_5_1_39BFAA Species Grouped by Disease')\nplt.legend()\nplt.show()\n","2787494a":"diabetes_short.groupby('disease')['k__Bacteria|p__Firmicutes|c__Clostridia|o__Clostridiales|f__Clostridiaceae|g__Clostridium|s__Clostridium_symbiosum'].plot(logy=True,kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\n#graphing a histogram\nplt.xlabel('Species')\nplt.title('Histogram of the Species Grouped by Disease')\nplt.legend()\nplt.show()\n","901c4ae9":"\ndiabetes_short.groupby('disease')['k__Bacteria|p__Proteobacteria|c__Gammaproteobacteria|o__Enterobacteriales|f__Enterobacteriaceae|g__Escherichia|s__Escherichia_coli'].plot(logy=True,kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nplt.xlabel('Species')\nplt.title('Histogram of the Species Grouped by Disease')\nplt.legend()\nplt.show()","31f06c8a":"ax=sns.boxplot(x='disease',y='k__Bacteria|p__Proteobacteria|c__Gammaproteobacteria|o__Enterobacteriales|f__Enterobacteriaceae|g__Escherichia|s__Escherichia_coli',data=diabetes_short)\nax.set_yscale('log')","ca8d6d2d":"diabetes_short.groupby('disease')['k__Archaea|p__Euryarchaeota|c__Methanobacteria|o__Methanobacteriales|f__Methanobacteriaceae|g__Methanobrevibacter'].plot(logy=True,kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nplt.xlabel('Genus')\nplt.title('Histogram of the Methanobrevibacter Genus Grouped by Disease')\nplt.legend()\nplt.show()","418f5332":"diabetes_short.groupby('disease')['k__Archaea|p__Euryarchaeota'].plot(logy=True,kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nplt.xlabel('Species')\nplt.title('Histogram of the Species Grouped by Disease')\nplt.legend()\nplt.show()","6a73fe0f":"diabetes_short.groupby('disease')['k__Bacteria|p__Bacteroidetes|c__Bacteroidia|o__Bacteroidales|f__Bacteroidaceae|g__Bacteroides|s__Bacteroides_caccae'].plot(logy=True,kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nplt.xlabel('Species')\nplt.title('Histogram of the Species Grouped by Disease')\nplt.legend()\nplt.show()","a507c2a0":"ax=sns.boxplot(x='disease',y='k__Bacteria|p__Bacteroidetes|c__Bacteroidia|o__Bacteroidales|f__Bacteroidaceae|g__Bacteroides|s__Bacteroides_caccae',data=diabetes_short)\nplt.title('Boxplot of the Species Grouped by Disease')\nax.set_yscale('log')\nplt.legend()\nplt.show()","91e21803":"diabetes_short.groupby('disease')['k__Archaea|p__Euryarchaeota|c__Methanobacteria|o__Methanobacteriales|f__Methanobacteriaceae|g__Methanobrevibacter|s__Methanobrevibacter_smithii'].plot(logy=True,kind='hist', figsize=(15, 5), alpha=0.5, bins=50)\nplt.xlabel('Species')\nplt.title('Histogram of the Species Grouped by Disease')\nplt.legend()\nplt.show()","7ad49c09":"ax=sns.histplot(x='k__Bacteria|p__Firmicutes|c__Clostridia|o__Clostridiales|f__Clostridiaceae|g__Clostridium|s__Clostridium_bolteae', hue= 'disease',\n               data=diabetes_short,hue_order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"])\nplt.title('Histogram of the Clostridium bolteae Species Grouped by Disease', fontsize=20)\nplt.xscale('log')\nplt.xlabel('log Read Counts')\nplt.ylabel(\"Frequency\")\nplt.legend()\nplt.show()","ec8f8bd3":"ax=sns.boxplot(x='disease',y='k__Bacteria|p__Firmicutes|c__Clostridia|o__Clostridiales|f__Clostridiaceae|g__Clostridium|s__Clostridium_bolteae',\n               data=diabetes_short,hue_order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"],\n               showfliers=False)\nax.set_title('Boxplot of the Clostridium bolteae Species for All Data', fontsize=20)\nax.set_yscale('log')\nax.set_ylabel('log10 Read Counts')\nplt.show()","bafb59bc":"fig, axes = plt.subplots(1, 2, figsize=(15, 5),sharey=True)\n\nfig.suptitle(\"Boxplot of the Clostridium bolteae Species Stratified by Dataset Name\",\n            fontsize=30)\n\nfig.tight_layout(rect=[0, 0.03, 1, 0.95])\n\nsns.boxplot(ax=axes[0],x='disease',y='k__Bacteria|p__Firmicutes|c__Clostridia|o__Clostridiales|f__Clostridiaceae|g__Clostridium|s__Clostridium_bolteae',\n               data=diabetes_short,order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"],\n               showfliers=False)\naxes[0].set_title('Clostridium bolteae Species for WT2D data',fontsize=20)\naxes[0].set_yscale('log')\naxes[0].set_ylabel('log10 Read Counts')\n\n\n\nsns.boxplot(ax=axes[1],x='disease',y='k__Bacteria|p__Firmicutes|c__Clostridia|o__Clostridiales|f__Clostridiaceae|g__Clostridium|s__Clostridium_bolteae',\n                data=diabetes_short[diabetes_short.dataset_name!=\"WT2D\"],\n                order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"],\n                showfliers=False)\naxes[1].set_title('Clostridium bolteae Species for T2D_meta',fontsize=20)\naxes[1].set_yscale('log')\naxes[1].set_ylabel('log10 Read Counts')\n\nplt.show()\n","52aeb397":"sns.histplot(hue='disease',x='k__Bacteria|p__Firmicutes|c__Clostridia|o__Clostridiales|f__Lachnospiraceae|g__Roseburia|s__Roseburia_inulinivorans',\n               data=diabetes_short,hue_order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"])\nplt.title('Histogram of the Roseburia inulinivorans Species ', fontsize=20)\nplt.yscale('log')\nplt.xscale('log')\nplt.xlabel('Read Counts')\nplt.ylabel('log10 Frequency')\nplt.show()","c9246264":"ax1=sns.boxplot(x='disease',y='k__Bacteria|p__Firmicutes|c__Clostridia|o__Clostridiales|f__Lachnospiraceae|g__Roseburia|s__Roseburia_inulinivorans',\n                data=diabetes_short,order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"],\n                showfliers=False)\nax1.set_title('Boxplot of the Roseburia inulinivorans Species for All Data',fontsize=20)\nax1.set_yscale('log')\nax1.set_ylabel('log10 Read Counts')\nplt.show()","6e9fa6c6":"fig, axes = plt.subplots(1, 2, figsize=(15, 5),sharey=True)\nfig.suptitle('Boxplot of the Roseburia inulinivorans Species Stratified by Dataset Name',\n             fontsize=30)\n\nfig.tight_layout(rect=[0, 0.03, 1, 0.95])\n\nsns.boxplot(ax=axes[0],x='disease',y='k__Bacteria|p__Firmicutes|c__Clostridia|o__Clostridiales|f__Lachnospiraceae|g__Roseburia|s__Roseburia_inulinivorans',\n                data=diabetes_short[diabetes_short.dataset_name==\"WT2D\"],\n                order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"],\n                showfliers=False)\naxes[0].set_title('Roseburia inulinivorans Species for WT2D data',fontsize=20)\naxes[0].set_yscale('log')\naxes[0].set_ylabel('log10 Read Counts')\n\n\nax2=sns.boxplot(ax=axes[1],x='disease',y='k__Bacteria|p__Firmicutes|c__Clostridia|o__Clostridiales|f__Lachnospiraceae|g__Roseburia|s__Roseburia_inulinivorans',\n                data=diabetes_short[diabetes_short.dataset_name!=\"WT2D\"],\n                order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"],\n                showfliers=False)\naxes[1].set_title('Roseburia inulinivorans Species for T2D metadata',fontsize=20)\naxes[1].set_yscale('log')\naxes[1].set_ylabel('log10 Read Counts')\nplt.show()\n","750b202c":"ax=sns.displot(hue='disease',x='k__Bacteria|p__Firmicutes|c__Clostridia|o__Clostridiales|f__Lachnospiraceae',data=diabetes_short)\nplt.title('Boxplot of the  Species Grouped by Disease')\n#plt.yscale('log')\nplt.xlabel('Read Counts')\nplt.legend()\nplt.show()","3fe3631e":"ax=sns.boxplot(x='disease',y='k__Bacteria|p__Firmicutes|c__Clostridia|o__Clostridiales|f__Lachnospiraceae',data=diabetes_short,showfliers=False)\nplt.title('Boxplot of the  Species Grouped by Disease')\nax.set_yscale('log')\nplt.ylabel('log10 Read Counts')\nplt.legend()\nplt.show()","b14bc0a3":"ax=sns.histplot(hue='disease',x='k__Bacteria|p__Firmicutes|c__Clostridia|o__Clostridiales|f__Clostridiaceae|g__Clostridium|s__Clostridium_hathewayi',\n               data=diabetes_short,hue_order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"])\nplt.title('Histogram of the Clostridium Hathewayi Species Grouped by Disease', fontsize=20)\nplt.xscale('log')\nplt.yscale('log')\nplt.xlabel('log10 Read Counts')\nplt.show()","67e2d289":"\nax=sns.boxplot(x='disease',y='k__Bacteria|p__Firmicutes|c__Clostridia|o__Clostridiales|f__Clostridiaceae|g__Clostridium|s__Clostridium_hathewayi',\n               data=diabetes_short,order=['No Diabetes','Pre-Diabetes',\"Type 2 Diabetes\"],\n               showfliers=False)\nplt.title('Boxplot of the Clostridium Hathewayi Species Grouped by Disease', fontsize=20)\nax.set_yscale('log')\nplt.ylabel('log10 Read Counts')\nplt.show()","0f53bc2d":"The species data has variable names with a pattern like: $ k__Bacteria|p__Bacteroidetes|c__Bacteroidia|o__Bacteroidales|f__Bacteroidaceae\n|g__Bacteroides|s__Bacteroides_caccae $\n\nI have broken down the meaning of each section of the variable name in the table below.","4b9a557e":"The variable:\n\n$ k__Bacteria|p__Bacteroidetes|c__Bacteroidia|o__Bacteroidales|f__Bacteroidaceae\n|g__Bacteroides|s__Bacteroides_caccae $\n\nrepresents the number of reads for the Bacteroides cacae species for each sample.","7caba4b3":"I created histograms and box plots of the numeric variables in order to investigated their relationship to the outcome of disease.","98ad42cd":"The relationships shows that HBA1C (Glycosylated hemoglobin A1c meausred in mmol\/mol) increases with the level of severity of diabetes with the WT2D dataset","ee0a14b1":"# Import Libraries and Data","3b6fea1b":"The boxplot seem to show patients upper quartile of diabetics on average have slightly more Clostridium Hathewayi in their stool. ","1b01b973":"| Section          | Meaning    \n| ----------------------- | ------------------- | \n|   k__Bacteria      | Bacteria Kingdom           |              \n|p__Bacteroidetes    |  Bacteriodetes Phylum           |    \n|    c__Bacteroidia     |  Bacteroidia Class | \n|  f__Bacteroidaceae       | Bacteroidaceae Family     | \n| g__Bacteroides    | Bacteroides Genus              |\n| s__Bacteroides_caccae         | Bacteroides caccae Species             | \n","9e660592":"After subsetting the abundance.csv to the three datatsets that were relevant to diabetes, I removed all unimformative variables from the dataset. There were plenty of variables in the metadata with no records for any of the samples.\n\nWhile cleaning the data, I also noticed a few redundant variables. Since the metadata was collected from two seperate diabetes studies (WT2D and t2dmeta), there were cases where there were two different variables that represented the same metric. One example of this, with the variables **'Triglycerides'** and **'tg'** from WT2D and t2dmeta respectively and both measure triglycerides levels in mmol\/L. I used the information provided in the supplements of the two original studies https:\/\/www.nature.com\/articles\/nature12198 and https:\/\/www.nature.com\/articles\/nature11450 to come to this conclusion. For cases like this, I attempted merge the information together to one variable.","c528875f":" I noticed a unique issue with the variables **'hba1c'** and **'hbalc'**. **'hba1c'** and **'hbalc'** , which are from the studies WT2D and t2dmeta, respectively. They both represent the amount of glycosylated hemogoblin A1C, but the main difference between these variables is the metrics they use. **'hba1c'** is measured in mmol\/mol with values ranging from 26 to  77. **hbalc** is measured as a pecentage with values ranging from 4.2 to 13.8. There doesn't seem to be a clean way to convert one variable to the other metric.","48046a2c":"![image.png](attachment:image.png)","5cd1ddc7":"The boxplot seem to show patients upper quartile of non diabetics have slightly more Roseburia inulinivorans in their stool. ","cfa4b1b8":"# Cleaning Data","c604c57b":"I have provided a table explaining the meaning of some of the abbreviations used for  variable names for the metadata.","86869afb":"The Abundance data contains both metadata and information on the microbial species found in each sample. 8 publicly available metagenomic datasets were used to create the file. The authors applied MetaPhlAn2 to generate species abundance features. MetaPhlan2 utilizes a database of phylogenetic clade-specific markers to assign metagenomic sequences to specific taxonomic groups. \n\nThe authors investigated which ML methods were best used to classify specific diseases based on the species abundance features. Unfortunately, it was difficult for them to predict diabetes with their Random Forest or XG Boost models. My goal is to find a better model or approach to predict diabetes. In this notebook, I will provide an exploratory data analysis.   ","b305cab5":"| Abbreviations            | Meaning            |\n| ----------------------- | ------------------- | \n|bmi| Body mass index| \n|sbp  |    Systolic blood pressure  |\n|dbp    | Diastolic blood pressure|\n|tg   |  Triglycerides                 |\n|tcho | Total Cholesterol |\n|fins | Fasting Insulin Serum |\n|fbg  | Fasting Blood Glucose|\n|hdl |    High density lipoprotein|\n|ldl |    Low density lipoprotein|\n|gad-antibodies |    Glutamic acid decarboxylase antibodies|            \n|whr |    Waist-to-hip ratio|        \n|wc |    Waist circumference|        \n|y-gt |    $\\gamma$ -glutamyltransferase|        \n|hba1c |    Glycosylated hemoglobin A1c ($\\%$)|\n|hbalc |    Glycosylated hemoglobin A1c (mmol\/mol)| \n|glp-1 |    Glucagon-like peptide 1    |        \n|fgf-19 |    Fibroblast growth factor 19 |    \n|hscrp |    High-sensitivity C-reactive protein|    \n|tnfa |    Tumor necrosis factor $\\alpha$|        \n|il-1 |    Interleukin 1|             \n|cd163 |    Cluster of differentiation 163|                                             |","a1a30a59":"The boxplots seem to show patients upper quartile of Type 2 diabetics has  slightly more Clostridium bolteae in their stool. ","f4596fbb":"# Introduction","5f705b9a":"The outcome variable of interest is **'disease'** which as three categories **'t2d'** (Type 2 Diabetes), **'impaired_glucose_tolerance'** (Pre-Diabetes), and **'n'** (No Type 2 Diabetes). The datasets t2dmeta_long and t2dmeta_short has disease outcome  labeled as **'t2d'** and **'n'** while dataset WT2D has disease labeled as **'n'** or **'t2d'** or **'impaired_glucose_tolerance'**.","4e6fe174":"From looking at the histograms, fasting blood glucose more skewed to the right for the non-diabetic and pre-diabetic group compared to diabetic group. The boxplots also show that most Type 2 Diabetes patients on average have higher glucose levels. This makes sense because high blood glucose usually correlates with diabetes. ","f8b836d2":"# Exploratory Graphs","55fc207d":"The relationships shows that HBA1C (Glycosylated hemoglobin A1c meausred as a percentage) is higher in diabetics than patients with no diabetes for the T2Dmeta datasets.","d892e393":"According to the histograms, it looks like total cholesterol has a normal distribution across all disease categories.","2c9c4c11":"From exploring the data, I found the gender variable had missing values for every observation in the WT2D dataset. According to the paper for the WT2D https:\/\/www.nature.com\/articles\/nature12198 , all of the participants were women. Therefore, we can replace these missing values with the label \"female\".","ad35c94d":" # **Human Metagenomics: Exploratory Data Analysis For Diabetes** ","63a380f9":"# Data Description"}}