{"cell_type":{"873d39e1":"code","7ce6ef17":"code","5d3d185e":"code","fb368e72":"code","054e95f2":"code","c883371c":"code","bffa57d7":"code","d0701c19":"code","6297e9db":"code","ca82d826":"code","4cdfe696":"code","ca44fc31":"code","f8c23d88":"code","df51973b":"code","6813cdda":"code","06d6805d":"code","1d3a9ef5":"code","8fc31533":"code","ba1535fa":"code","903525fa":"code","21eb087e":"code","1ed45798":"code","8d941811":"code","484618c6":"code","c15f6475":"code","be295599":"code","2ce4bdda":"code","6259826b":"code","cf49fa61":"code","f655f346":"code","716ef2ce":"code","b1793c3e":"code","38350b43":"code","c24176b4":"code","5d7f6f6c":"markdown","982c6dd2":"markdown","d63f760f":"markdown","c5dc2731":"markdown","88bb5612":"markdown","1e5c534f":"markdown","30dabe67":"markdown","5e2861c8":"markdown","f7b83a1f":"markdown","ae774171":"markdown","946f6204":"markdown","a46d9419":"markdown","86ce4f31":"markdown","65eb6476":"markdown","10ff83a2":"markdown","84031d49":"markdown","7abeba51":"markdown","75d0a821":"markdown","021f149f":"markdown","f3ace1c1":"markdown","ce1bb95f":"markdown","c3b33b8a":"markdown","8280a760":"markdown","af75d164":"markdown","6b214774":"markdown","236b7976":"markdown","45b976b5":"markdown","94ef19b5":"markdown","3222d441":"markdown","a8806ee5":"markdown","ecbf5600":"markdown","2262170d":"markdown","871a00f6":"markdown","d4e01e5a":"markdown","2bf9ee12":"markdown","f7d97b52":"markdown","1d237c9c":"markdown"},"source":{"873d39e1":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\n\nfrom plotly.offline import init_notebook_mode, iplot, plot\nimport plotly as py\ninit_notebook_mode(connected=True)\nimport plotly.graph_objs as go\n\nimport seaborn as sns\n\nfrom collections import Counter\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","7ce6ef17":"data = pd.read_csv('..\/input\/heart-disease-uci\/heart.csv')\nprint(plt.style.available)\nplt.style.use('ggplot')","5d3d185e":"data.head()","fb368e72":"data.info()","054e95f2":"data.describe()","c883371c":"def bar_plot(variable):\n    \"\"\"\n        input: variable ex: \"Sex\"\n        output: bar plot & value count    \n    \"\"\"\n    # get feature\n    var = data[variable]\n    # caount number of categorical variable (value\/sample)\n    varValue = var.value_counts()\n    \n    #visualize\n    plt.figure(figsize = (9,3))\n    plt.bar(varValue.index, varValue)\n    plt.xticks(varValue.index, varValue.index.values)\n    plt.ylabel(\"Frequency\")\n    plt.title(variable)\n    plt.show()\n    print(\"{}: \\n {}\".format(variable,varValue))","bffa57d7":"category = [\"sex\", \"cp\", \"restecg\", \"exang\", \"slope\", \"ca\", \"thal\", \"target\"]\nfor c in category:\n    bar_plot(c)\n","d0701c19":"def plot_hist(variable):\n    plt.figure(figsize = (9,3))\n    plt.hist(data[variable], bins = 50)\n    plt.xlabel(variable)\n    plt.ylabel(\"Frequency\")\n    plt.title(\"{} distribution with hist\".format(variable))\n    plt.show()","6297e9db":"numericVar = [\"age\", \"trestbps\", \"chol\", \"fbs\", \"thalach\", \"oldpeak\"]\nfor n in numericVar:\n    plot_hist(n)","ca82d826":"# sex - target\ndata[[\"sex\", \"target\"]].groupby([\"sex\"], as_index = False).mean().sort_values(by = \"target\", ascending =False)","4cdfe696":"# cp - target\ndata[[\"cp\", \"target\"]].groupby([\"cp\"], as_index = False).mean().sort_values(by = \"target\", ascending =False)","ca44fc31":"# restecg - target\ndata[[\"restecg\", \"target\"]].groupby([\"restecg\"], as_index = False).mean().sort_values(by = \"target\", ascending =False)","f8c23d88":"# exang - target\ndata[[\"exang\", \"target\"]].groupby([\"exang\"], as_index = False).mean().sort_values(by = \"target\", ascending =False)","df51973b":"# slope - target\ndata[[\"slope\", \"target\"]].groupby([\"slope\"], as_index = False).mean().sort_values(by = \"target\", ascending =False)","6813cdda":"# ca - target\ndata[[\"ca\", \"target\"]].groupby([\"ca\"], as_index = False).mean().sort_values(by = \"target\", ascending =False)","06d6805d":"# thal - target\ndata[[\"thal\", \"target\"]].groupby([\"thal\"], as_index = False).mean().sort_values(by = \"target\", ascending =False)","1d3a9ef5":"def detect_outliers(df,features):\n    outlier_indices = []\n    \n    for c in features:\n        # 1st quartile\n        Q1 = np.percentile(df[c],25)\n        # 3rd quartile\n        Q3 = np.percentile(df[c],75)\n        # IQR\n        IQR = Q3 - Q1\n        # Outlier step\n        outlier_step = IQR * 1.5\n        #Detect outlier and their indices\n        outlier_list_col = df[(df[c] < Q1 - outlier_step) | (df[c] > Q3 + outlier_step)].index\n        #store indices\n        outlier_indices.extend(outlier_list_col)\n        \n    outlier_indices = Counter(outlier_indices)\n    multiple_outliers = list(i for i, v in outlier_indices.items() if v > 2)\n    \n    return multiple_outliers","8fc31533":"data.loc[detect_outliers(data,[\"age\", \"trestbps\", \"chol\", \"fbs\", \"thalach\", \"oldpeak\"])]","ba1535fa":"data.columns[data.isnull().any()]","903525fa":"fig, ax = plt.subplots(figsize=(10,10)) \nsns.heatmap(data[[\"age\", \"trestbps\", \"chol\", \"fbs\", \"thalach\", \"oldpeak\",\n                      \"sex\", \"cp\", \"restecg\", \"exang\", \"slope\", \"ca\", \"thal\", \"target\"]].corr(), annot = True)\nplt.show()","21eb087e":"g = sns.factorplot(x = \"thal\", y = \"target\", data = data, kind = \"bar\", size = 6)\ng.set_ylabels(\"Disease Probability\")\nplt.show()","1ed45798":"g = sns.factorplot(x = \"ca\", y = \"target\", data = data, kind = \"bar\", size = 6)\ng.set_ylabels(\"Disease Probability\")\nplt.show()","8d941811":"g = sns.factorplot(x = \"slope\", y = \"target\", data = data, kind = \"bar\", size = 6)\ng.set_ylabels(\"Disease Probability\")\nplt.show()","484618c6":"g = sns.factorplot(x = \"exang\", y = \"target\", data = data, kind = \"bar\", size = 6)\ng.set_ylabels(\"Disease Probability\")\nplt.show()","c15f6475":"g = sns.factorplot(x = \"cp\", y = \"target\", data = data, kind = \"bar\", size = 6)\ng.set_ylabels(\"Disease Probability\")\nplt.show()","be295599":"g = sns.FacetGrid(data, col = \"target\", size = 6)\ng.map(sns.distplot, \"oldpeak\", bins = 25)\nplt.show()","2ce4bdda":"g = sns.FacetGrid(data, col = \"target\")\ng.map(sns.distplot, \"thalach\", bins = 25)\nplt.show()","6259826b":"g = sns.FacetGrid(data, col = \"target\", row = \"slope\", size = 3)\ng.map(plt.hist, \"oldpeak\", bins = 25)\ng.add_legend()\nplt.show()","cf49fa61":"g = sns.FacetGrid(data, col = \"target\", row = \"slope\", size = 3)\ng.map(plt.hist, \"thalach\", bins = 25)\ng.add_legend()\nplt.show()","f655f346":"g = sns.FacetGrid(data, col = \"target\", row = \"exang\", size = 4)\ng.map(plt.hist, \"cp\", bins = 25)\ng.add_legend()\nplt.show()","716ef2ce":"g = sns.FacetGrid(data, col = \"target\", row = \"exang\", size = 4)\ng.map(plt.hist, \"thalach\", bins = 25)\ng.add_legend()\nplt.show()","b1793c3e":"g = sns.FacetGrid(data, col = \"target\", row = \"cp\", size = 2)\ng.map(plt.hist, \"thalach\", bins = 25)\ng.add_legend()\nplt.show()","38350b43":"g = sns.FacetGrid(data, col=\"target\", size = 8)\ng.map(plt.scatter, \"oldpeak\", \"thalach\", edgecolor=\"w\")\ng.add_legend()\nplt.show()","c24176b4":"g = sns.FacetGrid(data, col=\"target\", size = 8)\ng.map(sns.kdeplot, \"age\", \"thalach\", edgecolor=\"w\")\ng.add_legend()\nplt.show()","5d7f6f6c":"No outliers detected in the data.","982c6dd2":" <a id = \"9\"><\/a>\n * thal -- target\n","d63f760f":"<a id = \"13\"><\/a><br>\n* cp -- target","c5dc2731":"# Which features are related with a hearth disease?\n<font color = 'blue'>\nContent:\n\n1. [LOAD AND CHECK DATA](#1)\n1. [VARIABLE DESCRIPTION](#2)\n    * [Categorical Variable](#3)\n    * [Numerical Variable](#4)\n1. [BASIC DATA ANALYSIS](#5)\n1. [OUTLIER DETECTION](#6)\n1. [MISSING VALUE](#7)\n    * [Find Missing Value](#7)\n    * [Fill Missing Value](#7)\n1. [VISUALIZATION](#8)\n    * [Correlation Between Features vs Hearth Disease](#8)\n    * [thal -- target](#9)\n    * [ca -- target](#10)\n    * [slope -- target](#11)\n    * [exang -- target](#12)\n    * [cp -- target](#13)\n    * [oldpeak -- target](#14)\n    * [thalach -- target](#15)\n    * [slope -- oldpeak -- target](#16)\n    * [slope -- thalach -- target](#17)\n    * [exang -- cp -- target](#18)    \n    * [exang -- thalach -- target](#19)\n    * [cp -- thalach -- target](#20)\n    * [oldpeak -- thalach -- target](#21)\n    * [thalach -- age -- target](#22)\n        \n        ","88bb5612":"* ca = 0 or 4 patients have a higher risk then ca = 1, 2 or 3","1e5c534f":"Patiens who have chest pain, have a very high probability of a hearth disease","30dabe67":"<a id = \"15\"><\/a><br>  \n* thalach -- target","5e2861c8":"* As thalach rises over 150, the risk increases","f7b83a1f":"It seems that probability of hearth disease (target in this instance) has correlation with:\n* thal (-)\n* ca (-)\n* slope (+)\n* exang (-)\n* cp (+)\n* oldpeak (-)\n* thalac (+)\n\nIt is also seen that:\n* slope has correlation with:\n    * oldpeak (-)\n    * thalac (+)\n* exang has correlation with:\n    * cp (-)\n    * thalac (-)\n* cp has correlation with:\n    * thalac (+)\n* oldpeak has correlation with:\n    * thalac (+)\n* thalac has correlation with:\n    * age (-)\n\nNow we will visualize these relations","ae774171":"<a id = \"3\"><\/a><br>\n## Categorical Variables\n* sex\n* cp\n* restecg\n* exang\n* slope\n* ca\n* thal\n* target","946f6204":"There isn't any missing value so we don't need to fill either.","a46d9419":" <a id = \"22\"><\/a><br>  \n * thalach -- age -- target","86ce4f31":" <a id = \"16\"><\/a><br>  \n * slope -- oldpeak -- target","65eb6476":" <a id = \"17\"><\/a><br>  \n * slope -- thalach -- target","10ff83a2":"* The disease risk inceases at age between 40-60 and thalach between 150-185","84031d49":"<a id = \"5\"><\/a><br>\n# BASIC DATA ANALYSIS\n* sex - target\n* cp - target\n* restecg - target\n* exang - target\n* slope - target\n* ca - target\n* thal - target","7abeba51":" <a id = \"19\"><\/a><br>  \n * exang -- thalach -- target","75d0a821":"<a id = \"7\"><\/a><br>\n# MISSING VALUE\n* Find Missing Value\n* Fill Missing Value","021f149f":"<a id = \"8\"><\/a><br>\n# VISUALIZATION\n* Correlation Between Features vs Hearth Disease","f3ace1c1":"<a id = \"18\"><\/a><br>  \n* exang -- cp -- target","ce1bb95f":"* Patiens whose thal = 2 have a very high heart disease probability. \n* Also thal = 0 patients have a higher risk then thal = 1 or 3","c3b33b8a":" <a id = \"20\"><\/a><br>  \n * cp -- thalach -- target","8280a760":"<a id = \"6\"><\/a><br>\n# OUTLIER DETECTION","af75d164":"<a id = \"1\"><\/a><br>\n# LOAD AND CHECK DATA","6b214774":"<a id = \"14\"><\/a><br>    \n* oldpeak -- target","236b7976":"<a id = \"11\"><\/a><br>\n* slope -- target\n\n","45b976b5":"* slope = 2 patients have a higher risk then slope = 0 or 1","94ef19b5":"* For o<oldpeak<2, there is a higher risk of disease","3222d441":" <a id = \"10\"><\/a><br>\n * ca -- target\n","a8806ee5":"<a id = \"4\"><\/a><br>\n## Numerical Variables\n* age\n* trestbps\n* chol\n* fbs\n* thalach\n* oldpeak","ecbf5600":"* The risk is higher for slope=2 and thalach>150 patients\n* The risk is lower for slope=1 and thalach>150 patients","2262170d":"<a id = \"12\"><\/a><br> \n* exang -- target","871a00f6":"As you can see there is a correlation between chest pain and hearth disease.","d4e01e5a":"<a id = \"2\"><\/a><br>\n# VARIABLE DESCRIPTION\n\n1. age: Age of patient\n1. sex: Gender of patient (1:Male, 0:Female)\n1. cp: chest pain type (4 values)\n1. trestbps: resting blood pressure\n1. chol: serum cholestoral in mg\/dl\n1. fbs: fasting blood sugar > 120 mg\/dl\n1. restecg: resting electrocardiographic results (values 0,1,2)\n1. thalach: maximum heart rate achieved\n1. exang: exercise induced angina (1: yes, 0: no)\n1. oldpeak: ST depression induced by exercise relative to rest\n1. slope: the slope of the peak exercise ST segment (values 0,1,2)\n1. ca: number of major vessels (0-3) colored by flourosopy\n1. thal: 3 = normal; 6 = fixed defect; 7 = reversable defect\n1. target: Presence of heart disease (1: yes, 0: No)","2bf9ee12":"* Heart disease risk increases especially when oldpeak < 2 and thalach > 150","f7d97b52":"* exang = 1 patients have a higher risk then exang = 0","1d237c9c":" <a id = \"21\"><\/a><br>  \n * oldpeak -- thalach -- target"}}