{"cell_type":{"0533a94d":"code","8370b908":"code","aa75ba0f":"code","fb309352":"code","85c8e953":"code","e3e263ce":"code","6cab5f48":"code","abc94680":"code","f1412f84":"code","6711f8ea":"code","392066e5":"code","14a1384a":"code","22ebf44c":"code","87505d82":"code","43f9d606":"code","d5fc61d0":"code","76186e65":"code","4b5da3a3":"code","26d221be":"code","edc46fee":"code","70927982":"code","97aa28fd":"code","e424e144":"code","42169660":"code","487ea984":"markdown","9cca2276":"markdown","b461c612":"markdown","461d2c0b":"markdown","6d2a6015":"markdown","e232f0e7":"markdown","c44cd273":"markdown","ec91fb32":"markdown","58b7b468":"markdown","3001de54":"markdown","a75b6db7":"markdown","3e3e6057":"markdown","c7c93452":"markdown","9feffbe4":"markdown","be5bd605":"markdown","0e34e283":"markdown","08f8d179":"markdown","d16d1875":"markdown","b646e2f7":"markdown","1026458d":"markdown","42b9bca5":"markdown","461c3a43":"markdown","15aac08f":"markdown","c541396d":"markdown","ca0ed0e4":"markdown","b6d4b0a7":"markdown","9428d7d8":"markdown","c5090f77":"markdown","d02715d9":"markdown","b76441c0":"markdown","2eacb4df":"markdown"},"source":{"0533a94d":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt","8370b908":"df = pd.read_csv(\"..\/input\/university-salaries\/university-salaries\/salaries_final.csv\")\ndf.shape","aa75ba0f":"df.head(15)","fb309352":"df[\"Primary Job Title\"].value_counts(normalize=True)","85c8e953":"[x for x in df[\"Primary Job Title\"].unique() if \"lecturer\" in x.lower()]","e3e263ce":"df[\"Primary Job Title\"] = df[\"Primary Job Title\"].replace({\"Senior Lecturer\": \"Lecturer\"})","6cab5f48":"df = df.loc[df[\"Primary Job Title\"].isin([\"Lecturer\", \"Assistant Professor\", \"Associate Professor\", \"Professor\"])]\ndf.shape","abc94680":"df[\"Primary Job Title\"].value_counts(normalize=True).plot(kind=\"barh\")\nplt.xlabel(\"Fraction of faculty with role\")\nplt.show()","f1412f84":"fig, ax = plt.subplots(1, 2, figsize=(12,5), sharex=True)\nyrs = [2010, 2020]\nfor i in range(2):\n    plt.sca(ax[i])\n    df.loc[df[\"Year\"]==yrs[i], \"Primary Job Title\"].value_counts(normalize=True).plot(kind=\"barh\")\n    plt.title(yrs[i], fontsize=16)\n    plt.xlabel(\"Fraction of faculty with role\")\n    \nplt.tight_layout()\nplt.show()","6711f8ea":"data_dict = pd.read_csv(\"..\/input\/university-salaries\/university-salaries\/data_dictionary.csv\")\ndata_dict","392066e5":"colleges = data_dict.loc[data_dict[\"Undergraduate College\"]==\"Yes\", \"College Abbreviation\"]\ncolleges","14a1384a":"df = df.loc[df[\"College\"].isin(colleges)]\ndf.shape","22ebf44c":"fig, ax = plt.subplots(1, 2, figsize=(12,5), sharex=True)\nyrs = [2010, 2020]\nfor i in range(2):\n    plt.sca(ax[i])\n    df.loc[df[\"Year\"]==yrs[i], \"College\"].value_counts(normalize=True).plot(kind=\"barh\")\n    plt.title(yrs[i], fontsize=16)\n    plt.xlabel(\"Fraction of faculty belonging to college\")\n\nplt.tight_layout()\nplt.show()","87505d82":"# create a lookup where each key is the college abbreviation and each value is the full college name (\"Meaning\")\ncolleges = data_dict.loc[data_dict[\"Undergraduate College\"]==\"Yes\", [\"College Abbreviation\", \"Meaning\"]]\ncolleges_map = dict(zip(colleges[\"College Abbreviation\"], colleges[\"Meaning\"]))\n\n# map college data using our lookup\ndf[\"College\"] = df[\"College\"].map(colleges_map)","43f9d606":"fig, ax = plt.subplots(1, 2, figsize=(14,5), sharex=True)\nyrs = [2010, 2020]\nfor i in range(2):\n    plt.sca(ax[i])\n    df.loc[df[\"Year\"]==yrs[i], \"College\"].value_counts(normalize=True).plot(kind=\"barh\")\n    plt.xlabel(\"Fraction of faculty belonging to college\")\n    plt.title(yrs[i], fontsize=16)\n    \nplt.tight_layout()\nplt.show()","d5fc61d0":"cas_counts = df.loc[df[\"College\"]==\"College of Arts and Sciences\"].groupby(\"Year\").size() # number of CAS faculty each year\nall_counts = df.groupby(\"Year\").size() # number of all faculty each year\ncas_freqs = cas_counts\/all_counts # fraction of CAS faculty each year\n\ncas_freqs.plot(kind=\"line\")\nplt.ylabel(\"Fraction of faculty belonging to CAS\")\nplt.show()","76186e65":"# subset data \ndf_pay = df.loc[df[\"Year\"]==2020, \"Base Pay\"]\n\n# display quantiles in a dataframe\nq = [0, .25, .50, .75, 1]\ndisplay(pd.DataFrame({ \"Quantile\":q, \"Value\":np.quantile(df_pay.values, q) }))\n\n# print mean\nprint(\"Mean:\", df_pay.mean())\n\n# plot distribution\ndf_pay.plot(kind=\"hist\", bins=30, edgecolor=\"black\")\nplt.show()","4b5da3a3":"plt.hist(df_pay.values, bins=np.logspace(0,6,100), edgecolor=\"black\")\nplt.xscale(\"log\")\nplt.xlim([10**4,10**6]) # narrow our range\nplt.show()","26d221be":"plt.figure(figsize=(16,5))\nax = plt.gca()\ndf.groupby([\"Primary Job Title\", \"Year\"])[\"Base Pay\"].median().unstack(level=0).plot(kind=\"line\", ax=ax)\nplt.ylabel(\"Median base pay among all faculty\")\nplt.show()","edc46fee":"plt.figure(figsize=(16,5))\nax = plt.gca()\ndf.groupby([\"College\", \"Year\"])[\"Base Pay\"].median().unstack(level=0).plot(kind=\"line\", ax=ax)\nplt.ylabel(\"Median base pay among all faculty\")\nplt.legend(loc=\"center right\")\nplt.show()","70927982":"df.loc[df[\"Year\"]==2020].groupby(\"College\")[\"Base Pay\"].median().sort_values().plot(kind=\"barh\")\nplt.xlabel(\"Median base pay among all faculty\")\nplt.show()","97aa28fd":"cas_pay = df.loc[df[\"College\"]==\"College of Arts and Sciences\"].groupby(\"Year\")[\"Base Pay\"].sum() # total salary funding for CAS each year\nall_pay = df.groupby(\"Year\")[\"Base Pay\"].sum() # total salary funding for all colleges, each year\ncas_pay_frac = cas_pay\/all_pay # fraction of salary funding going to CAS, each year\n\ncas_pay_frac.plot(kind=\"line\")\nplt.ylabel(\"Fraction of salary funding to CAS\")\nplt.show()","e424e144":"df.loc[df[\"Year\"]==2020, \"Department\"].value_counts(normalize=True).head(5)","42169660":"top_deps = df.loc[df[\"Year\"]==2020, \"Department\"].value_counts().head(3).index # top departments\ndf_dep_filter = df.loc[(df[\"Year\"]==2020) & (df[\"Department\"].isin(top_deps))] # filter data\ndf_dep_title = df_dep_filter.groupby([\"Primary Job Title\", \"Department\"]).size().unstack(level=0) # compute group sizes\ndf_dep_title = df_dep_title.div(df_dep_title.sum(axis=1), axis=0) # normalize group sizes\n\n# plot\nplt.figure(figsize=(14,5))\nax = plt.gca()\ndf_dep_title.plot(kind=\"bar\", ax=ax)\nplt.xticks(rotation=0)\nplt.ylabel(\"Fraction of faculty\")\nplt.show()","487ea984":"What is the college count (among faculty) for 2010 and 2020?","9cca2276":"Let's continue on with the investigation of CAS and now ask what the **fraction of salary funding** has looked like over time.","b461c612":"## Salaries\nWe'll start by examining the distribution of salaries among all faculty in 2020.","461d2c0b":"As a final, unrelated investigation, let's take a look at the top departments (not college).","6d2a6015":"Now we filter our dataset to only contain colleges within our selection.","e232f0e7":"Although the College of Arts and Sciences (CAS) has the largest faculty hiring in both years, we do see a decline between 2010 and 2020 (60% vs 50%). Has this trend developed consistently over time?","c44cd273":"Let's take a look at a few rows.","ec91fb32":"The median pay among all faculty in 2020 is 88,930. The distibution is right skewed, with some faculty making over 300k. Let's re-plot the distribution on a log-scale.","58b7b468":"## Colleges\nWe'll refer to the data dictionary (`data_dictionary.csv`) to get just the undergraduate colleges. We'll omit the College of Medicine and other miscellaneous \"Colleges\" (e.g. UVM Libraries isn't really a college).","3001de54":"There are 147 unique values but most titles fall under Lecturer, Assistant Professor, Associate Professor, and Professor. There are several lecturer titles.","a75b6db7":"We extract the relevant colleges from the data dictionary.","3e3e6057":"Lecturers are much more prevalent in the Education and Mathematics & Statistics departments (nearly 50% of all roles), relative to English department. There are a lot of full professors in the English departments but very few assistant professors. This supports the \"decline of humanities\" theme we've seen; UVM is not hiring new faces in the English department, and the department is growing old.","c7c93452":"First we load the data dictionary...","9feffbe4":"The makeup of lecturers and professors is mostly consistent between both years. However, assistant professors and associated professors \"reversed\" in prevalence from 2010 to 2020. Approximately 40% of faculty (within these four roles) were associate professors in 2010 while now in 2020 less than 30% are associate professors.","be5bd605":"Salaries seem to be approximately log-normally distributed.\n\nNow we'll compare salaries among the four different roles over time.","0e34e283":"## Primary job title\nWhat are the value counts for primary job title?","08f8d179":"For those unfamiliar with UVM, we can make this plot more interpretable by using the data dictionary's \"Meaning\" column.","d16d1875":"Funding has gone down, but it roughly correlates with the percentage of faculty hires we saw before, so it's not entirely surprising.","b646e2f7":"Loading the data...","1026458d":"Let's filter our data to only contain the four most popular titles we mentioned above, but let's first recode Senior Lecturer to Lecturer. It's unclear whether the other lecturer titles are full-time positions or not, so we'll omit these.","42b9bca5":"Note this includes all years, so each faculty may be counted several times. Let's specifically look at 2010 and 2020.","461c3a43":"**This has just been an introductory notebook. There are many more questions you could ask, and many ways to improve my visualizations (adding interactivity with Plotly, etc.). The main purpose of this notebook was to show how to use the data and what kinds of questions you might investigate.**","15aac08f":"## Departments","c541396d":"There are apparently a lot of faculty in the Education, English, and Math departments. What is the breakdown of job titles within these three departments?","ca0ed0e4":"The main takeaway is that business professors have a much higher base pay (130k starting in 2009, now above 160k). Let's fixate on 2020.","b6d4b0a7":"The number of faculty in the College of Arts in Sciences has indeed steadily declined since 2009.","9428d7d8":"What about pay between colleges?","c5090f77":"All roles have seen increased pay to keep up with inflation. Relative pay between job titles is as expected with [full] professors making the most and lecturers making the least.","d02715d9":"# University Salaries: Getting started\nIn this notebook we'll take a look at the \"University Salaries\" dataset. We'll specifically look at the `salaries_final.csv` dataset which contains information on each faculty's department and college. We will not use the `salaries_without_dept.csv` dataset.\n\nThe purpose of this notebook is to show how to get started with this dataset, it is not meant to present an extensive\/insightful\/visually aesthetic report.","b76441c0":"Now we'll recreate the previous plot.","2eacb4df":"The difference between the other colleges is relatively small (10k difference between the College of Engineering and Mathematical Sciences and the College of Education and Social Services)."}}