{"cell_type":{"02b96edc":"code","b6075336":"code","08a94c23":"code","d767cb41":"code","c5cbd33c":"code","a0951982":"code","bbb10527":"code","cc4e1fb9":"code","529ecd16":"code","d97184a4":"code","9fac3c9a":"code","4fd060f0":"code","0944ccbe":"code","82f2356f":"code","2332ead8":"code","9b59bec1":"code","c952f3f5":"code","e9818a87":"code","08332d07":"code","f3f09516":"code","dd6fe688":"code","e0b8ed6d":"code","e56f3223":"code","7804509a":"code","cd0dee28":"code","0d9b44f4":"code","2e219858":"code","355bad72":"code","690977c1":"code","f70b4659":"code","d7199365":"code","b561bd74":"code","de766ea6":"code","bc2f8abe":"code","dd2f7da6":"code","41ab9992":"code","9d753587":"code","6fa1b5e3":"markdown","b52b682e":"markdown","6878cdb2":"markdown","4b5d53a3":"markdown","1163d8e7":"markdown","9c8c0ece":"markdown","3f684130":"markdown","55287ce3":"markdown","5020d3fb":"markdown","bd420b7e":"markdown","216fcd5c":"markdown","18f15474":"markdown","d2974452":"markdown","d0f5c8c5":"markdown","b289829f":"markdown","354ec964":"markdown","b96a5bf5":"markdown","d21890bd":"markdown"},"source":{"02b96edc":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n\nimport warnings\nwarnings.filterwarnings('ignore')","b6075336":"titanic = pd.read_csv(\"..\/input\/dataset_1\/train.csv\")\ntitanic_test = pd.read_csv(\"..\/input\/datset_1\/test.csv\")","08a94c23":"combined = [titanic, titanic_test]","d767cb41":"titanic.head()","c5cbd33c":"titanic.describe()","a0951982":"titanic_test.head()","bbb10527":"## Removing unuseful columns","cc4e1fb9":"titanic[\"Cabin\"].value_counts()","529ecd16":"titanic[\"Fare\"].value_counts()","d97184a4":"len(titanic[titanic['Sex'].isnull()])","9fac3c9a":"titanic[\"Fare\"].describe()","4fd060f0":"sns.distplot(titanic[\"Fare\"])","0944ccbe":"titanic['Sex'].unique()","82f2356f":"titanic[['Survived', 'Sex']].groupby('Sex').mean()","2332ead8":"combined=[titanic,titanic_test]","9b59bec1":"rep = {\"male\":0,\"female\":1}\nfor x in combined:\n    x['Sex']=x['Sex'].map(rep)","c952f3f5":"titanic.head()\n#look at sex column","e9818a87":"len(titanic[titanic['Embarked'].isnull()])","08332d07":"titanic[titanic['Embarked'].isnull()]","f3f09516":"titanic[(titanic['Pclass']==1)&\n                                (titanic['Survived']==1)&\n                                                        (titanic['Sex']==1)].groupby('Embarked').sum()","dd6fe688":"sns.countplot(x='Pclass',hue='Embarked', data=titanic)","e0b8ed6d":"titanic['Embarked']=titanic['Embarked'].fillna(\"S\")","e56f3223":"len(titanic[titanic['Embarked'].isnull()])","7804509a":"rep_embarked={\"S\":0,\"C\":1,\"Q\":2}\nfor i in combined:\n    i['Embarked']=i['Embarked'].map(rep_embarked)","cd0dee28":"survived = titanic[titanic['Survived']==1]['Sex'].value_counts()\nsurvived","0d9b44f4":"dead = titanic[titanic['Survived']==0]['Sex'].value_counts()\ndead","2e219858":"len(titanic[titanic['Age'].isnull()])","355bad72":"titanic[titanic['Age'].isnull()].head()","690977c1":"combined_df = pd.concat([titanic, titanic_test], axis = 0)","f70b4659":"combined_df[['Age','Pclass']].groupby('Pclass').mean()","d7199365":"combined_df.hist(figsize=(20,20))","b561bd74":"data = [titanic, titanic_test]\nfor d in data:\n    d['with_family'] = d['SibSp'] + d['Parch']\n    d.loc[d['with_family'] > 0, 'not_alone'] = 0\n    d.loc[d['with_family'] == 0, 'not_alone'] = 1\n    d['not_alone'] = d['not_alone'].astype(int)\n  \n    \ntitanic['not_alone'].value_counts()","de766ea6":"my_dataset = sns.factorplot('with_family','Survived', data=titanic, aspect = 2.5,cpalette='Blues_d')","bc2f8abe":"sns.countplot(x='Sex',data=combined_df,hue='Pclass')","dd2f7da6":"plt.figure(figsize=(10,7))\nsns.heatmap(titanic.corr(), annot=True, cmap='inferno')\nplt.show()","41ab9992":"sns.boxplot(x = 'Pclass', y = 'Fare', hue = 'Survived', data = titanic)","9d753587":"grid = sns.FacetGrid(titanic, col='Survived', row='Embarked', size=3.2, aspect=2.3)\ngrid.map(plt.hist, 'Age', alpha=.5, bins=20, )\ngrid.add_legend();","6fa1b5e3":"# Working with embarked type","b52b682e":"# Nacessary Information\nSurvival: Survival (0 = No; 1 = Yes)\n\nPclass: Passenger Class (1 = 1st; 2 = 2nd; 3 = 3rd)\n\nName : Name\n\nSex : Sex\n\nAge : Age\n\nSibsp : Number of Siblings\/Spouses Aboard\n\nParch : Number of Parents\/Children Aboard\n\nTicket : Ticket Number\n\nFare : Passenger Fare\n\nCabin : Cabin\n\nEmbarked : Port of Embarkation (C = Cherbourg; Q = Queenstown; S = Southampton)","6878cdb2":"# Replace Sex --> male= 0, female= 1\n* for making the coding easier and generally faster\n* Creating a list with two files, more accuracy for to the math to fill NaN values","4b5d53a3":"* connecting all common variables of these people to predict where they embarked\n\n**pclass**: Refers to passenger class (1st, 2nd, 3rd)\n\nThere are three possible values for Embark \n1-Southampton\n2-Cherbourg, and \n3-Queenstown.","1163d8e7":"\n\n   It looks like that cabin number is to spreaded to be used in the model but let's visualise it and then make the decision.\n   \n   At most 4 rows share the same cabin so it doens't help much and it's better to drop it.\n\n","9c8c0ece":"As we find: Fare\" Distplot is pretty much skewed, maybe it's better to use the log form.\nAnd clearly we don't have to remove \"Fare\" column.","3f684130":"** Lets see how is the distribuition by gender for people who survived**\n male= 0, female= 1","55287ce3":"# How many unique enters this array have","5020d3fb":"# **importing necessary libaries**","bd420b7e":"* Checking if exist some NaN value","216fcd5c":"# Read Dataset","18f15474":"### Removing unuseful columns","d2974452":"check titanic[Embarked] has empty field","d0f5c8c5":"Here we can see, at all classes most of people embarked on \"S\"","b289829f":"# looking for null values at Age.","354ec964":"Checking which gender have more survivers","b96a5bf5":"\n### As we found:\n###     About 38% of the passengers survived.\n###     Mean age was around 30 years.\n###     Passengers paid something around 32.\n###     Half of the passengers travelled with siblings or spouse.\n\n","d21890bd":"**Extract how many peoples for each sex survived\nseperrated by sex: male= 0, female= 1\n**"}}