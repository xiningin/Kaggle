{"cell_type":{"7493d49d":"code","d364a390":"code","4bd81af6":"code","b8b83889":"code","f37aa5b6":"code","5e336645":"code","4b06517f":"code","fbfe65ed":"code","0f4ca32d":"code","d1d99551":"code","425803c5":"code","42c057f4":"code","3ea798fa":"code","e924ae4f":"code","72ee3706":"code","4a0c3075":"code","31599a3b":"code","93989d9e":"code","b6c03624":"code","5b2bbf2b":"code","1d6537ce":"code","0c5ff08d":"code","9cd096ce":"code","4654752f":"code","f3a22c33":"code","26a7a944":"code","d9058a79":"code","8e324c50":"code","09f02fc9":"code","819def40":"code","fc4a3c4a":"code","85135810":"code","fc3724f7":"code","edc39c52":"code","2b62fa33":"code","a6de9518":"code","77afbc09":"code","9470c0d2":"code","b84545b4":"code","a10cfc8d":"code","8aaba9f0":"code","71409767":"code","658bde91":"code","ae536a28":"code","ad8696da":"code","ce01a94a":"code","a2f052c1":"code","86c5902f":"markdown","8b337812":"markdown","b19ac648":"markdown","2971407d":"markdown","1cbfec43":"markdown","4b6cb789":"markdown","af552116":"markdown","1703cf74":"markdown","5635ace9":"markdown","1ad46431":"markdown","66afc0ed":"markdown","26e8371f":"markdown","db408c5e":"markdown"},"source":{"7493d49d":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport statsmodels\nimport sys\nnp.set_printoptions(threshold=sys.maxsize)","d364a390":"df = pd.read_csv('..\/input\/cardiovascular-disease-dataset\/cardio_train.csv')\ndf.head()","4bd81af6":"df = pd.read_csv('..\/input\/cardiovascular-disease-dataset\/cardio_train.csv', sep=';')\ndf.head()","b8b83889":"df.info()\n# No Null Value In Observation ","f37aa5b6":"df1 = df.drop('id', axis=1)","5e336645":"df1['age'] = round(df1['age'] \/ 365)","4b06517f":"df1[(df1['ap_hi'] > 180 ) | (df1['ap_lo'] > 120)]","fbfe65ed":"df1['ap_lo'].describe()","0f4ca32d":"df1['ap_hi'].describe()","d1d99551":"df1['ap_lo']  = df1['ap_lo'].apply(lambda x: (np.nan if x <= 76 else x))\ndf1['ap_lo']  = df1['ap_lo'].apply(lambda x: (np.nan if x >= 130 else x))","425803c5":"df1['ap_lo'].describe()","42c057f4":"df1['ap_hi']  = df1['ap_hi'].apply(lambda x: (np.nan if x <= 108 else x))\ndf1['ap_hi']  = df1['ap_hi'].apply(lambda x: (np.nan if x >= 200 else x))","3ea798fa":"df1['ap_hi'].describe()","e924ae4f":"df1","72ee3706":"plt.figure(figsize=(20, 12))\nsns.barplot(df1['age'], df1['active'],hue=df1['gender'])","4a0c3075":"print('1 - women CM')\nprint(df1[df1['gender'] == 1]['height'].describe())\nprint('----------------------------------------------------------------------------------------')\nprint('2 - men CM')\nprint(df1[df1['gender'] == 2]['height'].describe())","31599a3b":"print('1 - women Kg')\nprint(df1[df1['gender'] == 1]['weight'].describe())\nprint('----------------------------------------------------------------------------------------')\nprint('2 - men Kg')\nprint(df1[df1['gender'] == 2]['weight'].describe())","93989d9e":"plt.figure(figsize=(20, 12))\nsns.set_theme(style=\"whitegrid\")\nsns.boxplot(x=df1[df1['gender'] == 1]['height'],  orient='H')\n\n#df1[df1['gender'] == 1]['height'].plot(kind='box', figsize=(20, 12))","b6c03624":"plt.figure(figsize=(20, 12))\nsns.set_theme(style=\"whitegrid\")\nsns.boxplot(x=df1[df1['gender'] == 1]['weight'],  orient='H')","5b2bbf2b":"plt.figure(figsize=(20, 12))\nsns.set_theme(style=\"whitegrid\")\nsns.boxplot(x=df1[df1['gender'] == 2]['height'],  orient='H')\n","1d6537ce":"plt.figure(figsize=(20, 12))\nsns.set_theme(style=\"whitegrid\")\nsns.boxplot(x=df1[df1['gender'] == 2]['weight'],  orient='H')\n","0c5ff08d":"df1_women = df1[(df1['gender'] == 2)]\ndf1_men = df1[(df1['gender'] == 1)]","9cd096ce":"#Clean Height For Both: \ndf1_women['height'] = df1_women['height'].apply(lambda x: (np.nan if x < 150 else x))\ndf1_women['height'] = df1_women['height'].apply(lambda x: (np.nan if x > 181 else x))\n\ndf1_men['height'] = df1_men['height'].apply(lambda x: (np.nan if x < 155 else x))\ndf1_men['height'] = df1_men['height'].apply(lambda x: (np.nan if x > 190 else x))\n","4654752f":"#Clean Weight For Both: \ndf1_women['weight'] = df1_women['weight'].apply(lambda x: (np.nan if x < 63 else x))\ndf1_women['weight'] = df1_women['weight'].apply(lambda x: (np.nan if x > 94 else x))\n\ndf1_men['weight'] = df1_men['weight'].apply(lambda x: (np.nan if x < 54 else x))\ndf1_men['weight'] = df1_men['weight'].apply(lambda x: (np.nan if x > 110 else x))\n","f3a22c33":"df2 = df1_men.append(df1_women)\ndf2 = df2.sample(frac = 1) \ndf2.info()","26a7a944":"x = df2.iloc[:, :-1]\ny = df2.iloc[:, -1]","d9058a79":"x['cholesterol'].value_counts()\n#1: normal, 2: above normal, 3: well above normal |","8e324c50":"x['gluc'].value_counts()\n# 1: normal, 2: above normal, 3: well above normal","09f02fc9":"x['gender'].value_counts()\n# 1 - women, 2 - men","819def40":"df2.pivot_table(index='gender', columns='cardio',values='weight' , aggfunc='count').plot(kind='bar')","fc4a3c4a":"x.info()","85135810":"x.describe().T","fc3724f7":"x.columns","edc39c52":"from sklearn.impute import KNNImputer\nimputer = KNNImputer(n_neighbors=3)\nx1 = imputer.fit_transform(x)\nx1 = pd.DataFrame(x1, columns=x.columns)\nx1.head()","2b62fa33":"sns.catplot(x='gender', y='age',\n\n                hue='smoke',col='cholesterol',\n\n                data=x1, kind=\"box\",\n\n                height=4, aspect=.7);","a6de9518":"sns.pairplot(x1)","77afbc09":"plt.figure(figsize=(20, 12))\nsns.heatmap(x1.corr(), annot=True)","9470c0d2":"x1.info()","b84545b4":"from sklearn.compose import ColumnTransformer\nfrom sklearn.preprocessing import MinMaxScaler\nct = ColumnTransformer(transformers=[('cat', MinMaxScaler(), [0, 2, 3, 4, 5])] ,remainder='passthrough', n_jobs=-1)\nx2 = ct.fit_transform(x1)","a10cfc8d":"x2 = pd.DataFrame(x2, columns=x.columns)\nx2.head()","8aaba9f0":"x2.iloc[:, 5:11] = x2.iloc[:, 5:11].astype('object')\nx3 = pd.get_dummies(x2)","71409767":"x3","658bde91":"from sklearn.preprocessing import OneHotEncoder\n#{\n#On All Data\n#enc = OneHotEncoder()\n#enc.fit(x2)  \n#x3 = enc.transform(x2).toarray()\n#}\n#ct_categorical = ColumnTransformer(transformers=[('cat', OneHotEncoder(), [1, 6, 7, 8, 9, 10])] ,remainder='passthrough', n_jobs=-1)\n#x3 = ct_categorical.fit_transform(x2)","ae536a28":"x3.shape","ad8696da":"from sklearn.model_selection import train_test_split, GridSearchCV\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.metrics import accuracy_score\n\nx_train, x_test, y_train, y_test = train_test_split(x3, y, test_size=0.3, random_state=1)","ce01a94a":"## It's Take Too Long Time\n#parameters = {'max_depth':[3,4,5,6,7,8], 'n_estimators':[1000, 1200, 1400, 1600, 1800], 'criterion':('gini', 'entropy')}\n#rn = RandomForestClassifier()\n#clf = GridSearchCV(rn , parameters)\n#clf.fit(x_train, y_train)\n#predict_cv = clf.predict(x_test)\n#print(accuracy_score(y_test, predict_cv))","a2f052c1":"#Without Using GridSearchCV: \nrn = RandomForestClassifier(max_depth=5, n_estimators=1700, n_jobs=-1, criterion='entropy')\nrn.fit(x_train, y_train)\nprint(rn.score(x_train, y_train))\npredict = rn.predict(x_test)\nprint(accuracy_score(y_test, predict))","86c5902f":"### Now We Have Null value \n### We Can Use mean or KNN for Null value \n### In This case We use imputer KNN\n### Befor That We Seperate Feature And Target ","8b337812":"### Look At The Describe min is -70 Whatttttt Or 11000 ? :| \n","b19ac648":"#### We Do This For Easy If You Don't Like It Try Another Way","2971407d":"#### let's Undrestand Anyone Has HyperTensive crisis\n#### I hope We Don't have Anyone","1cbfec43":"### The Description Of Every Column :\n\n### Age | Objective Feature | age | int (days)\n### Height | Objective Feature | height | int (cm) |\n### Weight | Objective Feature | weight | float (kg) |\n### Gender | Objective Feature | gender | categorical code |\n### Systolic blood pressure | Examination Feature | ap_hi | int |\n\u0645\u0639\u0645\u0648\u0644\u0627 \u0641\u0634\u0627\u0631\u062e\u0648\u0646 \u0633\u06cc\u0633\u062a\u0648\u0644\u06cc\u06a9 (\u0639\u062f\u062f \u0627\u0648\u0644)\u060c \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u06cc\u06a9 \u0639\u0644\u0627\u0645\u062a \u0647\u0634\u062f\u0627\u0631\u062f\u0647\u0646\u062f\u0647 \u0628\u06cc\u0645\u0627\u0631\u06cc\u200c\u0647\u0627\u06cc \u0642\u0644\u0628\u06cc \u0648 \u0639\u0631\u0648\u0642\u06cc \u062f\u0631 \u0627\u0641\u0631\u0627\u062f \u0628\u0627\u0644\u0627\u06cc \u067e\u0646\u062c\u0627\u0647 \u0633\u0627\u0644 \u0628\u06cc\u0634\u062a\u0631 \u0645\u0648\u0631\u062f \u062a\u0648\u062c\u0647 \u0627\u0633\u062a. \u062f\u0631 \u0627\u063a\u0644\u0628 \u0627\u0641\u0631\u0627\u062f\u060c \u0641\u0634\u0627\u0631\u062e\u0648\u0646 \u0633\u06cc\u0633\u062a\u0648\u0644\u06cc\u06a9 \u0628\u0627 \u0628\u0627\u0644\u0627 \u0631\u0641\u062a\u0646 \u0633\u0646 \u0627\u0641\u0632\u0627\u06cc\u0634 \u067e\u06cc\u062f\u0627 \u0645\u06cc\u200c\u06a9\u0646\u062f\n### Diastolic blood pressure | Examination Feature | ap_lo | int |\n\u0641\u0634\u0627\u0631 \u062e\u0648\u0646 \u062f\u06cc\u0627\u0633\u062a\u0648\u0644\u06cc\u06a9 \u0647\u0645\u0627\u0646 \u0639\u062f\u062f \u062f\u0648\u0645 \u06cc\u0627 \u0639\u062f\u062f \u067e\u0627\u06cc\u06cc\u0646 \u062f\u0631 \u0627\u0646\u062f\u0627\u0632\u0647\u200c\u06af\u06cc\u0631\u06cc \u0641\u0634\u0627\u0631 \u062e\u0648\u0646 \u0627\u0633\u062a. \u0627\u06cc\u0646 \u0639\u062f\u062f \u0646\u0634\u0627\u0646\u200c\u062f\u0647\u0646\u062f\u0647 \u062d\u062f\u0627\u0642\u0644 \u0641\u0634\u0627\u0631\u06cc \u0627\u0633\u062a \u06a9\u0647 \n\u062e\u0648\u0646 \u0634\u0645\u0627 \u0628\u0647 \u062f\u06cc\u0648\u0627\u0631\u0647 \u0634\u0631\u06cc\u0627\u0646\u200c\u0647\u0627 (\u0633\u0631\u062e\u0631\u06af\u200c\u0647\u0627) \u0647\u0646\u06af\u0627\u0645 \u0627\u0633\u062a\u0631\u0627\u062d\u062a \u0642\u0644\u0628 \u0648\u0627\u0631\u062f \u0645\u06cc\u200c\u06a9\u0646\u062f\n### Cholesterol | Examination Feature | cholesterol | 1: normal, 2: above normal, 3: well above normal |\n### Glucose | Examination Feature | gluc | 1: normal, 2: above normal, 3: well above normal |\n### Smoking | Subjective Feature | smoke | binary |\n### Alcohol intake | Subjective Feature | alco | binary |\n### Physical activity | Subjective Feature | active | binary |\n### Presence or absence of cardiovascular disease | Target Variable | cardio | binary |\n","4b6cb789":"### Because We Have Age More Than 30 The ap_lo Values Must Above 76 And ap_hi Be 108","af552116":"**We Don't Have Null Value But We Have Unbeleiveble Values** ","1703cf74":"![depressed-emoticon-vector-5114105.jpg](attachment:depressed-emoticon-vector-5114105.jpg)\n### Our ap_lo Columns it Does Not Have True Value's becauce 1000 or 800 \n### let's Solve This problem","5635ace9":"![signs-high-blood-pressure-01.webp](attachment:signs-high-blood-pressure-01.webp)","1ad46431":"#### Now Let's Clean The Height And Weight For Both Men And Women :","66afc0ed":"### CSV : That Mean Comma Seperate Value As You Can See Above The Seperetor Is (;) For This Priblem Do Code Below","26e8371f":"### age is days divide to 365 ","db408c5e":"# Read Data\n## Befor Do Anything We Must Know The Data And What's The Problem or Anything That You Must Solve It\n\n## Problem : We Must Detect Presence or absence of cardiovascular disease\n\n### 1) Undrestand The Type Of Data\n### 2) Undrestand The Null Value\n### 3) Clean Data\n### 4) Underestand The Corr Between Columns\n "}}