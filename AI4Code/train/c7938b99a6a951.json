{"cell_type":{"7d187da9":"code","e4390af8":"code","437f9987":"code","bb19143b":"code","586ae391":"code","37915789":"code","5113d7e1":"code","c5026143":"code","0dabfacf":"code","be919bad":"code","b7ba7f42":"code","38ab6dff":"code","bec1351a":"markdown","f8620a54":"markdown","f07d08cf":"markdown","5ac88f07":"markdown","f8ec3efc":"markdown","4f23a741":"markdown","6bc6c228":"markdown","403349d7":"markdown","e04f26b5":"markdown","e9e2bea5":"markdown"},"source":{"7d187da9":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport matplotlib as mpl\nmpl.rcParams['figure.dpi']= 300\nmpl.rcParams[\"savefig.dpi\"] = 300","e4390af8":"%%capture\n!wget http:\/\/158.109.8.102\/AppaRealAge\/appa-real-release.zip\n!unzip appa-real-release.zip\n!wget http:\/\/sergioescalera.com\/wp-content\/uploads\/2018\/06\/allcategories_trainvalidtest_split.zip\n!unzip allcategories_trainvalidtest_split.zip","437f9987":"df1 = pd.read_csv(\"allcategories_train.csv\")\ndf2 = pd.read_csv(\"appa-real-release\/gt_avg_train.csv\")\n\ndf = df1.join(df2)","bb19143b":"df = df.drop([\"file_name\"], axis=1)","586ae391":"df.head()","37915789":"print(\"maximum age:                       {}\".format(df[\"real_age\"].max()))\nprint(\"minimum age:                       {}\".format(df[\"real_age\"].min()))\nprint(\"mean age:                          {:.2f}\".format(df[\"real_age\"].mean()))\nprint(\"standard deviation age:            {:.2f}\".format(df[\"real_age\"].std()))\nprint(\"mean of number ratings per image:  {:.2f}\".format(df[\"num_ratings\"].mean()))","5113d7e1":"sns.set_theme()\nfig, (ax1, ax2, ax3) = plt.subplots(1, 3, figsize=(21, 7))\nfig.suptitle('Age Distribution for Gender', fontsize=25)\n\ndf_age_male = df.groupby('gender').get_group(\"male\")\ndf_age_female = df.groupby('gender').get_group(\"female\")\nh = sns.histplot(data=df_age_male, x=\"real_age\", kde=True, color=\"red\", ax=ax1, bins=50)\nh.set_xlabel(\"Age\", fontsize=18)\nh.set_ylabel(\"Number Images\", fontsize=18)\nh = sns.histplot(data=df_age_female, x=\"real_age\", kde=True, color=\"orange\", ax=ax2, bins=50)\nh.set_xlabel(\"Age\", fontsize=18)\nh.set_ylabel(\"Number Images\", fontsize=18)\nax1.set_title(\"male\", fontsize=20)\nax2.set_title(\"female\", fontsize=20)\n\n\nsns.kdeplot(data=df_age_male, x=\"real_age\", color=\"red\", ax=ax3)\nh = sns.kdeplot(data=df_age_female, x=\"real_age\", color=\"orange\", ax=ax3)\nh.set_xlabel(\"Age\", fontsize=18)\nh.set_ylabel(\"Density\", fontsize=18)\nax3.legend([\"male\", \"female\"], fontsize=\"large\")\nax3.set_title(\"male vs female\", fontsize=20)\n\n\nplt.savefig(\"\/kaggle\/working\/appa_real_age_gender_distribution.png\", bbox_inches='tight')\nplt.show()","c5026143":"fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(12,4))\nfig.suptitle('Gender and Race Pie Chart', fontsize=25, y=1.1)\n\ndf.gender.value_counts().plot(kind='pie', labels=None, pctdistance=0.5, ax = ax1)\nax1.yaxis.set_visible(False)\nax1.set_title('gender distribution', fontdict = {'fontsize': 20})\nax1.legend([\"male\", \"female\"])\n\ndf.race.value_counts().plot(kind='pie', labels=None, pctdistance=0.5, ax = ax2)\nax2.yaxis.set_visible(False)\nax2.set_title('race distribution', fontdict = {'fontsize': 20})\nax2.legend([\"caucasian\",\"asian\",\"afroamerican\"])\n\n\nplt.savefig(\"\/kaggle\/working\/appa_real_age_pie_chart.png\", bbox_inches='tight')\nplt.show()","0dabfacf":"fig, (ax1, ax2, ax3) = plt.subplots(1, 3, figsize=(20, 5))\nfig.suptitle('Age Distribution for all Races', fontsize=25, y=1.1)\nfig.tight_layout()\n\ndf_race_caucasian = df.groupby('race').get_group(\"caucasian\")\nh = sns.histplot(data=df_race_caucasian, x=\"real_age\", kde=True, color=\"red\", ax=ax1, bins=40)\nh.set_xlabel(\"Age\", fontsize=18)\nh.set_ylabel(\"Number Images\", fontsize=18)\nax1.set_title(\"caucasian mean_age: \"+\"%.2f\" % df_race_caucasian.mean(numeric_only=True)[\"real_age\"], fontsize=20)\n\ndf_race_asian = df.groupby('race').get_group(\"asian\")\nh = sns.histplot(data=df_race_asian, x=\"real_age\", kde=True, color=\"orange\", ax=ax2, bins=40)\nh.set_xlabel(\"Age\", fontsize=18)\nh.set_ylabel(\"Number Images\", fontsize=18)\nax2.set_title(\"asian mean_age: \"+\"%.2f\" % df_race_asian.mean(numeric_only=True)[\"real_age\"], fontsize=20)\n\ndf_race_afroamerican = df.groupby('race').get_group(\"afroamerican\")\nh = sns.histplot(data=df_race_afroamerican, x=\"real_age\", kde=True, color=\"blue\", ax=ax3, bins=40)\nh.set_xlabel(\"Age\", fontsize=18)\nh.set_ylabel(\"Number Images\", fontsize=18)\nax3.set_title(\"afroamerican mean_age: \"+\"%.2f\" % df_race_afroamerican.mean(numeric_only=True)[\"real_age\"], fontsize=20)\n\n\nplt.subplots_adjust(left=0.1, bottom=0.1, right=0.9, top=0.9, wspace=0.4, hspace=0.4)\n\nplt.savefig(\"\/kaggle\/working\/appa_real_race_age_distribution.png\", bbox_inches='tight')\nplt.show()","be919bad":"df_diff = (df[\"real_age\"]-df[\"apparent_age_avg\"]).abs()\n\nfig, (ax1, ax2) = plt.subplots(1, 2, figsize=(20, 5))\nfig.suptitle('Deviation of Apparent Age', fontsize=25, y=1.1)\nfig.tight_layout()\n\n\nh = df[\"apparent_age_std\"].plot(kind=\"kde\", ax=ax1)\nh.set_ylabel(\"Density\", fontsize=18)\nax1.set_title(\"apparent age std distribution\", fontsize=20)\n\nh = df_diff.plot(kind=\"kde\", ax=ax2)\nh.set_ylabel(\"Density\", fontsize=18)\nax2.set_title(\"mae of apparent-age vs real age\", fontsize=20)\n\nplt.subplots_adjust(left=0.1, bottom=0.1, right=0.9, top=0.9, wspace=0.2, hspace=0.4)\nplt.savefig(\"\/kaggle\/working\/appa_real_deviation_apparent_age.png\", bbox_inches='tight')\nplt.show()","b7ba7f42":"fig, (ax1, ax2, ax3) = plt.subplots(1, 3, figsize=(20, 5))\nfig.suptitle('Annotation Histogramms', fontsize=25, y=1.1)\nfig.tight_layout()\n\nsns.histplot(data=df, x=\"happiness\", kde=False, ax=ax1, bins=40)\nax1.set_title(\"happiness\", fontsize=20)\nax1.set_xlabel(\"\")\nax1.set_ylabel(\"Number Images\", fontsize=14)\n\nsns.histplot(data=df, x=\"makeup\", kde=False, ax=ax2, bins=40)\nax2.set_title(\"makeup\", fontsize=20)\nax2.set_xlabel(\"\")\nax2.set_ylabel(\"Number Images\", fontsize=14)\n\nsns.histplot(data=df, x=\"time\", kde=False, ax=ax3, bins=40)\nax3.set_title(\"time\", fontsize=20)\nax3.set_xlabel(\"\")\nax3.set_ylabel(\"Number Images\", fontsize=14)\n\nplt.subplots_adjust(left=0.1, bottom=0.1, right=0.9, top=0.9, wspace=0.4, hspace=0.4)\nplt.savefig(\"\/kaggle\/working\/appa_real_annotation_histogramms.png\", bbox_inches='tight')\nplt.show()","38ab6dff":"fig = plt.figure(figsize=(20,8))\nfig.suptitle('Boxplots for Age Distribution', fontsize=25, y=1.1)\nsns.set(font_scale = 1.2)\n\nplt.subplot(1, 2, 1)\nb = sns.boxplot(x=df[\"gender\"], y=df[\"real_age\"])\nb.axes.set_title(\"Gender\", fontsize=20)\nplt.xlabel(\"\")\nplt.ylabel(\"Age\", fontsize=18)\n\nplt.subplot(1, 2, 2)\nb = sns.boxplot(x=df[\"race\"], y=df[\"real_age\"])\nb.axes.set_title(\"Race\", fontsize=20)\nplt.xlabel(\"\")\nplt.ylabel(\"Age\", fontsize=18)\n\n\nplt.subplots_adjust(left=0.1, bottom=0.1, right=0.9, top=1, wspace=0.4, hspace=0.4)\nplt.savefig(\"\/kaggle\/working\/appa_real_age_boxplots.png\", bbox_inches='tight')\nplt.show()","bec1351a":"# Imports","f8620a54":"# imports","f07d08cf":"# generate histograms for age distribution for each race","5ac88f07":"# show dataframe head","f8ec3efc":"# generate histograms for age distribution","4f23a741":"# combine extended labels for data exploration","6bc6c228":"# download dataset and create dataframe","403349d7":"# generate pie charts for gender and race distribution","e04f26b5":"# apparent age std distribution","e9e2bea5":"# Important Values"}}