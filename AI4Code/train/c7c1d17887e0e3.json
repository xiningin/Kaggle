{"cell_type":{"98ce3624":"code","c9a020ad":"code","75e3b815":"code","7db6e535":"code","72b16226":"code","2df202bc":"code","ef8401d8":"code","cdae48f1":"code","d0302aba":"markdown","429542b6":"markdown","8f193dd7":"markdown","3e3ca6da":"markdown","3cf6bc9c":"markdown","e8982a2b":"markdown","d2baf15f":"markdown","e9451084":"markdown"},"source":{"98ce3624":"#basic\nimport numpy as np\nimport pandas as pd\nfrom pathlib import Path\n\n#ui\nimport matplotlib.pyplot as plt\n\n#gc\nimport gc ","c9a020ad":"from IPython.display import clear_output\n!pip install keras-ocr --user\nclear_output()\n\nimport keras_ocr","75e3b815":"path = Path('..\/input\/ocr-dataset\/data\/test')\nfilepaths = list(path.glob(r'**\/*.jpg'))\nfilepaths = filepaths[:30] # total data size only 30 \ngc.collect()","7db6e535":"column_filepath = pd.Series(filepaths, name='image_path').astype(str)\ntrain = pd.DataFrame(column_filepath)\ntrain= train.sample(frac = 1).reset_index(drop=True) # all shuffle \ntrain.head()","72b16226":"f,a = plt.subplots(nrows=2, ncols=3,figsize=(15, 10),\n                        subplot_kw={'xticks': [], 'yticks': []})\n\nfor i, ax in enumerate(a.flat):\n    path = train.iloc[i][\"image_path\"]\n    print(\"path=\",path)\n    ax.imshow(keras_ocr.tools.read(path))\n    ax.set_title(\"image\")\n    \nplt.tight_layout()\nplt.show()","2df202bc":"image_path_list = train[:6][\"image_path\"]\nimages = [ keras_ocr.tools.read(image_path) for image_path in image_path_list]\n\ngc.collect()","ef8401d8":"pipline = keras_ocr.pipeline.Pipeline() \nkeras_ocr_preds = pipline.recognize(images)\n\ngc.collect()","cdae48f1":"fig,axs = plt.subplots(nrows = 6 , figsize = (50,50))\nfor ax , image,  pred in zip(axs , images , keras_ocr_preds):\n    keras_ocr.tools.drawAnnotations(image, pred, ax)\n    \ngc.collect()","d0302aba":"# draw ocr info on the image ","429542b6":"# import libraries","8f193dd7":"# convert to dataframe and shuffle ","3e3ca6da":"# get image path","3cf6bc9c":"# install keras-ocr and import ","e8982a2b":"# get image data using keras_ocr","d2baf15f":"# show 6 images","e9451084":"# get ocr prediction using keras_ocr pipeline"}}