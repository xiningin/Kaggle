{"cell_type":{"efd1fd2e":"code","94ec7332":"code","a4d2480e":"code","32c3b393":"code","674eac1c":"code","385f7d1d":"code","1fd82982":"code","8e360bd6":"code","7ee1df6a":"code","bff99d43":"code","36b27be2":"code","54f958fa":"code","c8a940e0":"code","6c50beff":"code","53dd23ac":"code","fb71ee10":"code","11e6d1fa":"code","ecf4243c":"code","591db163":"code","bea11865":"code","2aeb68e2":"code","b15125e8":"code","aef3ce17":"code","b63fd41b":"code","78e16f41":"code","aaec7b31":"code","516cdafe":"code","04365141":"code","239edb69":"code","e31e2864":"code","07f42c21":"code","5e611fc4":"code","c78fbc9a":"code","3ada339e":"code","e861fdff":"code","e1e3c2b8":"code","9808a8f3":"code","c6037920":"code","7d3e9716":"code","e74d202c":"code","e91ef7cf":"code","eb23ec68":"code","c39b5792":"code","8f06a5b8":"code","c0545dda":"code","273feea4":"code","748c5623":"code","df51eac5":"code","70f00d73":"code","2ffa2df2":"code","ba1001bd":"code","ee5e8f6e":"code","321b23d3":"code","9c011354":"code","99642759":"code","c75623d4":"code","9d158170":"code","92ed9c0b":"code","9ced20de":"code","2725b6e8":"code","9a480b0f":"code","4a49eef7":"code","c4531396":"code","d694a9a3":"code","04ceb1fd":"code","7e1fed28":"code","562dac52":"code","99d96c63":"code","b568ebe1":"code","2c533db7":"code","83ae221a":"code","8f50808b":"code","81dbe6bf":"markdown","9f6bff61":"markdown","66b32d1c":"markdown","ed434222":"markdown","1a514884":"markdown","6e4e6f7a":"markdown","2ffc4e63":"markdown","aa80e2d9":"markdown","167a76f4":"markdown","7a8f874b":"markdown","c50764fe":"markdown","ef812f09":"markdown","0bab5441":"markdown","1a503998":"markdown","99e6537e":"markdown","fec3e0fe":"markdown","989c7290":"markdown","7e61152e":"markdown","acbe77a0":"markdown","93162dfc":"markdown","d8bc30d3":"markdown","990a83b2":"markdown","f0e0df48":"markdown","0e13dd51":"markdown","3acc6093":"markdown","1742f123":"markdown","85fc8d39":"markdown","365d4e7e":"markdown","5f3bbc34":"markdown","72974408":"markdown","ff8b7166":"markdown","9b6d5a7f":"markdown","1602742b":"markdown","bef990ed":"markdown","11cc6bc2":"markdown","7ada104d":"markdown","66b99f7b":"markdown","c8e9655a":"markdown"},"source":{"efd1fd2e":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport pandas_profiling\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","94ec7332":"data = pd.read_csv('\/kaggle\/input\/factors-affecting-campus-placement\/Placement_Data_Full_Class.csv')","a4d2480e":"#brief data information to recognize data type\n\"\"\"\nsl_no= serial number\ngneder\nssc_p= Secondary educaion percentage - 10th grade\nssc_b= Board of education - Central\/ Others\nhsc_p= Higher secondary Educaion percentage-12th grade\nhsc_b= Board of Education - Central\/Others\nhsc_s= Specialization in Higher Secondary Education- Commerce\/Science\ndegree_p= Degree percentage\ndegree_t= Field of degree educaion(e.g. Marketing\/Science)\nworkex= Work experience\netest_p= Employability test percentage\nspecialisation= Post Graduation(MBA)\nmba_p= MBA percentage\nstatus= Placed or not placed\nSalary= How much\n\"\"\"\ndata.info()","32c3b393":"#data report\ndata.profile_report(title='Campus Placement Data - Report', progress_bar=False)","674eac1c":"#Replace Nan with 0\ndata['salary'] = data['salary'].replace(np.nan, 0) ","385f7d1d":"#check\ndata.head(5)","1fd82982":"data_fix = data\ndata_fix['status'].values[data_fix['status']=='Not Placed'] = 0 \ndata_fix['status'].values[data_fix['status']=='Placed'] = 1\ndata_fix.status = data_fix.status.astype('int')","8e360bd6":"plt.figure(figsize=(14,12))\ndata2 = data_fix.loc[:,data_fix.columns != 'Id']\nsns.heatmap(data2.corr(), linewidth=0.2, cmap=\"YlGnBu\", annot=True)","7ee1df6a":"#Gender\nsns.countplot(\"gender\", hue=\"status\", data=data)\nplt.show()","bff99d43":"male = 39\/139\nfemale = 28\/76\nif male<female:\n    print('male has more chance to get placed')\nelse:\n        print('female has more chance to get placed')\n","36b27be2":"#ssc_b\nsns.countplot(\"ssc_b\", hue=\"status\", data=data)\nplt.show()","54f958fa":"#hsc_s\nsns.countplot(\"hsc_s\", hue=\"status\", data=data)\nplt.show()","c8a940e0":"#degree_t\nsns.countplot(\"degree_t\", hue=\"status\", data=data)\nplt.show()","6c50beff":"#workexperience\nsns.countplot(\"workex\", hue=\"status\", data=data)\nplt.show()","53dd23ac":"#specialisation\nsns.countplot(\"specialisation\", hue=\"status\", data=data)\nplt.show()","fb71ee10":"fig,axes = plt.subplots(3,2, figsize=(20, 20))\nsns.barplot(x='status', y='ssc_p', data=data2, ax=axes[0][0])\nsns.barplot(x='status', y='hsc_p', data=data2, ax=axes[0][1])\nsns.barplot(x='status', y='degree_p', data=data2, ax=axes[1][0])\nsns.barplot(x='status', y='mba_p', data=data2, ax=axes[1][1])\nfig.delaxes(ax = axes[2][0]) ","11e6d1fa":"#specialisation count\nsns.countplot(x='specialisation',data=data)\nplt.show()","ecf4243c":"#Replace 0 with NAN\ndata['salary'] = data['salary'].replace(0, np.nan)","591db163":"#gender\nplt.figure(figsize =(20,6))\nsns.boxplot(\"salary\", \"gender\", data=data)\nplt.show()","bea11865":"#ssc_b\nplt.figure(figsize =(20,6))\nsns.boxplot(\"salary\", \"ssc_b\", data=data)\nplt.show()\n#ssc_p\nsns.lineplot(\"ssc_p\", \"salary\", hue=\"ssc_b\", data=data)\nplt.show()","2aeb68e2":"#hsc_b\nplt.figure(figsize =(20,6))\nsns.boxplot(\"salary\", \"hsc_b\", data=data)\nplt.show()\n#hsc_p\nsns.lineplot(\"hsc_p\", \"salary\", hue=\"hsc_b\", data=data)\nplt.show()","b15125e8":"#degree_p\nsns.lineplot(\"degree_p\", \"salary\", hue=\"degree_t\", data=data)\nplt.show()\n#degree_t\nplt.figure(figsize =(20,6))\nsns.boxplot(\"salary\", \"degree_t\", data=data)\nplt.show()","aef3ce17":"#workex\nplt.figure(figsize =(20,6))\nsns.boxplot(\"salary\", \"workex\", data=data)\nplt.show()","b63fd41b":"#etest_p\nsns.lineplot(\"etest_p\", \"salary\", data=data)\nplt.show()","78e16f41":"#specialisation\nplt.figure(figsize =(20,6))\nsns.boxplot(\"salary\", \"specialisation\", data=data)\nplt.show()","aaec7b31":"#mba_p\nsns.lineplot(\"mba_p\", \"salary\", data=data)\nplt.show()","516cdafe":"#Drop data\ndata.drop(['ssc_b','hsc_b','etest_p','sl_no'], axis=1, inplace=True)","04365141":"#Check\ndata.head(5)","239edb69":"#Change float data\ndata[\"gender\"] = data.gender.map({\"M\":0,\"F\":1})\ndata[\"hsc_s\"] = data.hsc_s.map({\"Commerce\":0,\"Science\":1,\"Arts\":2})\ndata[\"degree_t\"] = data.degree_t.map({\"Comm&Mgmt\":0,\"Sci&Tech\":1, \"Others\":2})\ndata[\"workex\"] = data.workex.map({\"No\":0, \"Yes\":1})\ndata[\"specialisation\"] = data.specialisation.map({\"Mkt&HR\":0, \"Mkt&Fin\":1})","e31e2864":"#check\ndata.head(5)","07f42c21":"#make dataset for BCP and Regression\ndata_placement = data.copy()\ndata_salary = data.copy()","5e611fc4":"#check\ndata_placement.head(5)","c78fbc9a":"#check\ndata_salary.head(5)","3ada339e":"#Library import\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import accuracy_score, classification_report\n","e861fdff":"# Seperating Variables and Target\nx = data_placement[['gender', 'ssc_p', 'hsc_p', 'hsc_s', 'degree_p', 'degree_t', 'workex','specialisation', 'mba_p',]]\ny = data_placement['status']","e1e3c2b8":"#Train Test Split(7:3)\nx_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.3)","9808a8f3":"#decision tree classifier model\ndtree = DecisionTreeClassifier(criterion='entropy')\ndtree.fit(x_train, y_train)\ny_pred = dtree.predict(x_test)","c6037920":"#R ^2 \naccuracy_score(y_test, y_pred)","7d3e9716":"print(classification_report(y_test, y_pred))","e74d202c":"#Random Forest Model\nrandom_forest = RandomForestClassifier(n_estimators=100)\nrandom_forest.fit(x_train, y_train)\ny_pred = random_forest.predict(x_test)","e91ef7cf":"accuracy_score(y_test, y_pred)","eb23ec68":"print(classification_report(y_test, y_pred))","c39b5792":"#Feature importance\nrows = list(x.columns)\nimp = pd.DataFrame(np.zeros(6*len(rows)).reshape(2*len(rows), 3))\nimp.columns = [\"Classifier\", \"Feature\", \"Importance\"]\n#Add Rows\nfor index in range(0, 2*len(rows), 2):\n    imp.iloc[index] = [\"DecisionTree\", rows[index\/\/2], (100*dtree.feature_importances_[index\/\/2])]\n    imp.iloc[index + 1] = [\"RandomForest\", rows[index\/\/2], (100*random_forest.feature_importances_[index\/\/2])]","8f06a5b8":"plt.figure(figsize=(15,5))\nsns.barplot(\"Feature\", \"Importance\", hue=\"Classifier\", data=imp)\nplt.title(\"Computed Feature Importance\")\nplt.show()","c0545dda":"#Remove hsc_s, degree_t, workex, specialisation\nx = data_placement[['gender', 'ssc_p', 'hsc_p', 'degree_p', 'mba_p',]]\ny = data_placement['status']","273feea4":"#Train Test Split(7:3)\nx_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.3)","748c5623":"#decision tree classifier model\ndtree = DecisionTreeClassifier(criterion='entropy')\ndtree.fit(x_train, y_train)\ny_pred = dtree.predict(x_test)","df51eac5":"#R^2\naccuracy_score(y_test, y_pred)","70f00d73":"print(classification_report(y_test, y_pred))","2ffa2df2":"#Random Forest Model\nrandom_forest = RandomForestClassifier(n_estimators=100)\nrandom_forest.fit(x_train, y_train)\ny_pred = random_forest.predict(x_test)","ba1001bd":"#R^2\naccuracy_score(y_test, y_pred)","ee5e8f6e":"print(classification_report(y_test, y_pred))","321b23d3":"#Feature importance\nrows = list(x.columns)\nimp = pd.DataFrame(np.zeros(6*len(rows)).reshape(2*len(rows), 3))\nimp.columns = [\"Classifier\", \"Feature\", \"Importance\"]\n#Add Rows\nfor index in range(0, 2*len(rows), 2):\n    imp.iloc[index] = [\"DecisionTree\", rows[index\/\/2], (100*dtree.feature_importances_[index\/\/2])]\n    imp.iloc[index + 1] = [\"RandomForest\", rows[index\/\/2], (100*random_forest.feature_importances_[index\/\/2])]","9c011354":"plt.figure(figsize=(15,5))\nsns.barplot(\"Feature\", \"Importance\", hue=\"Classifier\", data=imp)\nplt.title(\"Computed Feature Importance\")\nplt.show()","99642759":"#library import\nfrom sklearn.preprocessing import MinMaxScaler # for scaling Salary\nfrom sklearn.linear_model import LinearRegression\nimport statsmodels.api as sm\nfrom sklearn.metrics import mean_absolute_error, r2_score","c75623d4":"#drop salary NaN \ndata_salary.dropna(inplace=True)\n#drop Status\ndata_salary.drop(\"status\", axis=1, inplace=True)","9d158170":"#check\ndata_salary.head(5)","92ed9c0b":"#Seperating Depencent and Independent Vaiiables\ny = data_salary[\"salary\"] \nx = data_salary.drop(\"salary\", axis=1)\ncolumn_names = x.columns.values","9ced20de":"#scale salary 0-1\nx_scaled = MinMaxScaler().fit_transform(x)","2725b6e8":"#PDF of Salary\nsns.kdeplot(y)\nplt.show()","9a480b0f":"# Salary outlier removal over 400,000 as most of boxplot marks outlier over 400,000\nx_scaled = x_scaled[y < 400000]\ny = y[y < 400000]","4a49eef7":"#check\nsns.kdeplot(y)\nplt.show()","c4531396":"#Converting to DF for as  column names gives readibility\nx_scaled = pd.DataFrame(x_scaled, columns=column_names)\ny = y.values\n\n# We must add a constants 1s for intercept before doing Linear Regression with statsmodel\nx_scaled = sm.add_constant(x_scaled)\nx_scaled.head()\n#Constants 1 added for intercept term","d694a9a3":"# All\nmodel = sm.OLS(y, x_scaled)\nresults = model.fit()\nresults.summary()","04ceb1fd":"# Drop biggest p value= ssc_p\nx_scaled = x_scaled.drop('ssc_p', axis=1)\nmodel = sm.OLS(y, x_scaled)\nresults = model.fit()\nresults.summary()","7e1fed28":"# Drop biggest p value= degree_p\nx_scaled = x_scaled.drop('degree_p', axis=1)\nmodel = sm.OLS(y, x_scaled)\nresults = model.fit()\nresults.summary()","562dac52":"# Drop biggest p value= specialisation\nx_scaled = x_scaled.drop('specialisation', axis=1)\nmodel = sm.OLS(y, x_scaled)\nresults = model.fit()\nresults.summary()","99d96c63":"# Drop biggest p value= hsc_p\nx_scaled = x_scaled.drop('hsc_p', axis=1)\nmodel = sm.OLS(y, x_scaled)\nresults = model.fit()\nresults.summary()","b568ebe1":"# Drop biggest p value= workex\nx_scaled = x_scaled.drop('workex', axis=1)\nmodel = sm.OLS(y, x_scaled)\nresults = model.fit()\nresults.summary()","2c533db7":"# Drop biggest p value= hsc_s\nx_scaled = x_scaled.drop('hsc_s', axis=1)\nmodel = sm.OLS(y, x_scaled)\nresults = model.fit()\nresults.summary()","83ae221a":"# Drop biggest p value= degree_t\nx_scaled = x_scaled.drop('degree_t', axis=1)\nmodel = sm.OLS(y, x_scaled)\nresults = model.fit()\nresults.summary()","8f50808b":"print('Thank you')","81dbe6bf":"We can conclude that ssc_p, Secondary educaion percentage is the most important feature for placement.\nFollwed by hsc_p, degree_p, mba_p, gender.","9f6bff61":"hsc_s, degree_t, workex, specialisation are not such an important feature for both Decision tree and Random Forest.\n","66b32d1c":"### Conclusion\n\nFor the placement both RF and Decision tree shows high R^2 score(over 0.8) which well explains whether students get placed or not. And ssc_p is the most importnat issue for getting placed.\n<p>\n    For the salary with regression R^2 of the model is really low around 0.1, which this model has weak power to explain which factor affects salary. But at least gender and mba_p affects salary within all factors.","ed434222":"Yes again with the heatmap we can recognize percentage variables except etest_p matters with a placement.\n<p>\nHowever this boxplot implies that high percentage of certain variable doesn't guarentee getting placed as each bar dosen't show significant difference.\n    <\/p>\n    ","1a514884":"The significance of regression model can be determined by\nR square, p value and Residual sum of square.\nAfter running a regression analysis remove least significant variable and do it again till only one left.\nThis is a model proposed by Atish Adhikari\n[Refernece](http:\/\/www.kaggle.com\/atishadhikari\/placement-dataanalysis-classification-regression)\n<p>\n    I'll try to determine the significance using p value with giving \u03b1=0.05\n<p>\nH0 is there is no difference between two samples of R squared scores.  \n<p> If the calculated p-value turns out to be less than 0.05, the null hypothesis is considered to be false. And if the value is greater than 0.05, the null hypothesis is considered to be true.\n\nFor a feature, a small p-value indicates that it is unlikely we will observe a relationship between the feature and salary variables due to chance.\n\nTherefore,compute the P-values. Eliminate highest p-value until p-values of all features reach below 0.05","6e4e6f7a":"Seems like work experience has no affect on salary, but students with work experience can get chance to become outlier(high salary).","2ffc4e63":"> ","aa80e2d9":"Finally all factors p value is under 0.05.\n<p>\nThrough the regression we can assume that gender and mba_p is affecting salary most.\n    ","167a76f4":"hsc specialized in Commerce and science doesn't have difference as they have similar ratio which **doens't affect placement**","7a8f874b":"etest_p don't show any relationship with salary increase.","c50764fe":"### Salary?\n\nSalary is also a important parameter. Therefore also checkout which factor affect salary.\nSalary shows high skewness and outliers(Check line 4).\nThrough using boxplot and commparing median of the variables, we can determine whether variables affect salary or not.\nAnd for the percentage value use line plot to see whether percentage increase lead to salary increase.\nAs i have changed NAN value to 0, I have to change the format to NAN again.","ef812f09":"## Exploratory Data Analysis","0bab5441":"Degree also **doesn't affect** placement as they show similar ratio around 2:1","1a503998":"## Verification through ML\n\n* Binary Classification Problem : As goal of placement is predicting whether students are placed or not, this model can be a good prediction model.\n* Regression Problem : There are several factors influencing salary such as degree, experience etc. Therefore regression analysis may find some relationship between certain factor increase is related to higher salary.\n","99e6537e":"        1) NAN value at the salary for the people who are not placed \n        2) Value of salary is too high(scaling issue)\n","fec3e0fe":"# Introduction\n\nThis is a SKKU Business Analytics final project.\nThe goal of this project is to answer given questions\n\n- Which factor influenced a candidate in getting placed?\n- Does percentage matters for one to get placed?\n- Which degree specialization is much demanded by corporate?\n- Plus through machine learning predict whether student got placed and how much they will earn\n\nAs there are many reasons for getting a job or receiving a high salary. Through this data I would like to recognize the biggest influence.\nDue to COVID-19 it's hard to get a job now a days. So I think this project will help me what to do to get a nice job and salary.\n\n## Table of contents\n\n1. Library import\n2. Exploratory Data Analysis\n    - Which factor influenced a candidate in getting placed?\n    - Does percentage matters for one to get placed?\n    - Which degree specialization is much demanded by corporate?\n    - Salary?\n3. Factor Selection\n4. Verification through ML\n    - Binary Classificaion Problem\n        : As goal of placement is predicting whether students are placed or not this model can be a good prediction model.\n    - Regression Problem\n        : There are several factors influencing salary such as degree, experience etc. Therefore regression analysis may find some relationship between certain factor increase is related to higher salary.\n","989c7290":"As there are 139 male and 76 female through calculating ratio to adjust population difference\n<p>\nThere are 39 unplaced male student and 28 unplaced female student\n<\/p>\n","7e61152e":"### Binary Classsification Problem for placement","acbe77a0":"Like ssc, hsc_b doesn't show big difference. And hsp_p doesnt show increase in salary as hsc percentage increase.\n<p> Therefore, hsc doesn't affect salary.","93162dfc":"## Factor selection\n\nThrough EDA we can figure out some factors affecting either placement or salary. \n\nAffecting factors\n\n    - Gender\n    - ssc_p\n    - hsc_p\n    - degree_p\n    - degree_t\n    - workex\n    - specialisation\n    - mba_p\n<p>\nUnaffecting fators are etest_p, ssc_b, hsc_b as they don't affect both placement and salary.\n    \n    'etest_p','ssc_b','hsc_b'+'sl_no' drop\n  ","d8bc30d3":"mba_p don't show any relationship with salary increase.","990a83b2":"more student specializing in finance get more placed than HR. **Specialisation influence placement.**","f0e0df48":"### Binary Classification","0e13dd51":"Students specializing in marketing & finance get placed more than markeing & HR","3acc6093":"No big difference in ssc board area for get placed. **Doesn't affect placement.**","1742f123":"Median of Male is higher than female and ew can see more outliers with high salary. Male student gets more salary than female student","85fc8d39":"Work experience show significant difference that student who worked **get placed more.**","365d4e7e":"### Regression Problem for salary","5f3bbc34":"## Library import","72974408":"### Which degree specialization is much demanded by corporate?\n\nWe can figure this out through comparing specialisation in marketing vs. finance using countplot","ff8b7166":"For the percentage variables using heatmap can effectively visualize relationship\n","9b6d5a7f":"Marketing and finance shows higher salary and outliers which means specialization affect salary.","1602742b":"### Does percentage matters for one to get placed?\n\nPercentatge variables are ssc_p, hssc_p, degree_p, etest_p, mba_p. However as etest doesn't have relationship with placement so I'll drop it. We've alreaddy figured in heat map but let me do it in differenct way.\n<p>\nTo visualize the difference, using barplot will work\n<\/p>","bef990ed":"Median of both central and board student is similar which means there aren't big difference.\n<p> Also when we look at the ssc_p, no increase in salary as ssc percentage increase.<\/p>\nTherefore, both ssc_b and ssc_p doesn't affect salary.","11cc6bc2":"Through heatmap we can figure that \n1. **degree_p, hsc_p, ssc_p, mba_p **shows high relationship with status(job placement)\n    - We can assume that higher educational level gives more chance to get placed\n2. **etest_p** shows weak relationship with both status and salary\n\nNext figure out Gender, ssc_b, hsc_b, degree_t, workex, specialization has relationship with placement\n","7ada104d":"RF describe better than decision tree","66b99f7b":"No significant relationship beween degree_p with salary.\n<p>And for the degree_t, science and tech student gets more salary than others so it affects salary.\n","c8e9655a":"### Which factor influenced a candidate in getting placed?\n\nTo figure this out first change string value 'Placed' to 1, 'Not Placed' to 0 "}}