{"cell_type":{"6ff2e826":"code","8f2af5e2":"code","bbfe059e":"code","4fd69421":"code","6ad8640f":"markdown","952a5994":"markdown","5af48746":"markdown"},"source":{"6ff2e826":"# import module we'll need to import our custom module\nfrom shutil import copyfile\n\n# copy our file into the working directory (make sure it has .py suffix)\ncopyfile(src = \"..\/input\/propheteasyfuction\/prophet_easy_function.py\", dst = \"..\/working\/prophet_easy_function.py\")\n\nfrom prophet_easy_function import *","8f2af5e2":"DATA_PATH = \"https:\/\/raw.githubusercontent.com\/jbrownlee\/Datasets\/master\/monthly-car-sales.csv\"\nDS_COL = 'Month'\nDATA_COL = 'Sales'\n\nmodel,new_df = makeProphetModel(DATA_PATH,DS_COL,DATA_COL)","bbfe059e":"last_1year = list()\nfor i in range(1, 13):\n    last_1year.append(['1968-%02d' % i])\nlast_1year = pd.DataFrame(last_1year, columns = ['ds'])\nlast_1year['ds']= pd.to_datetime(last_1year['ds'])\n\npred_test = model.predict(last_1year)\n\nprint(pred_test[['ds', 'yhat', 'yhat_lower', 'yhat_upper']].head())\n\nmodel.plot(pred_test)\npyplot.show()","4fd69421":"last_1year = list()\nfor i in range(1, 13):\n    last_1year.append(['1969-%02d' % i])\nlast_1year = pd.DataFrame(last_1year, columns = ['ds'])\nlast_1year['ds']= pd.to_datetime(last_1year['ds'])\n\npred_test = model.predict(last_1year)\n\nmodel.plot(pred_test)\npyplot.show()\n\ntrain = new_df.drop(new_df.index[-12:])\ny_true = new_df['y'][-12:].values\n\nmodel = Prophet()\nmodel.fit(train)\n\npyplot.plot(y_true, label='Actual')\npyplot.plot(pred_test, label='Predicted')\npyplot.legend()\npyplot.show()\n\nmodel.plot_components(pred_test)\n\nplot_plotly(model, pred_test)","6ad8640f":"# build model","952a5994":"# predict next year","5af48746":"# predict last year"}}