{"cell_type":{"878b3d08":"code","e7e33c12":"code","a6842508":"code","af83ee34":"code","b1727083":"code","962a06f8":"code","4673644f":"code","e60fd690":"code","36c5996e":"code","a2fe0eb2":"code","2870241c":"code","2df78230":"code","484cd6e9":"code","75d1c8a8":"code","13bec2e5":"code","266c25c4":"code","29143f19":"code","05a8325b":"code","0327dce3":"code","48ed9293":"code","9da2793a":"code","7e54abc3":"code","2309eb82":"markdown","eedcaba2":"markdown","a7b33e50":"markdown","c6a91a32":"markdown","de451680":"markdown","bce39769":"markdown","c0c50ee6":"markdown","1cce34a3":"markdown","fa05adbb":"markdown","2e1b9068":"markdown","77bdfa2a":"markdown","79131406":"markdown","d930ce56":"markdown"},"source":{"878b3d08":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.graph_objects as go\nimport plotly.express as px\nimport plotly\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\nplotly.offline.init_notebook_mode (connected = True)","e7e33c12":"df=pd.read_csv('..\/input\/netflix-shows\/netflix_titles.csv')\ndf.head()","a6842508":"sns.heatmap(df.isna(),cmap='gnuplot')","af83ee34":"df['Count']=1\ndf_titles=df.groupby('type')['Count'].sum().reset_index()","b1727083":"fig1=px.pie(df_titles,values='Count',names='type',hole=0.4)\nfig1.update_layout(title='Type of title',title_x=0.5)\nfig1.update_traces(textfont_size=15,textinfo='percent+label')\nfig1.show()","962a06f8":"df_countries=df.groupby('country')['Count'].sum().reset_index().sort_values(by='Count',ascending=False).head(20)","4673644f":"fig2=px.bar(df_countries,x='country',y='Count',color='Count',height=800,width=1000,labels={'country':'Country','Count':'Content produced'})\nfig2.update_layout(title='Top 20 producing countries',title_x=0.5)\nfig2.show()","e60fd690":"df_top20=df[df['country'].isin(['United States', 'India', 'United Kingdom', 'Japan', 'Canada',\n       'South Korea', 'Spain', 'France', 'Mexico', 'Turkey', 'Australia',\n       'Taiwan', 'Hong Kong', 'United Kingdom, United States', 'Thailand',\n       'China', 'Egypt', 'Brazil', 'Philippines', 'Indonesia'])]","36c5996e":"fig3=px.sunburst(df_top20,path=['country','type'],names='type')\nfig3.update_layout(title=\"Title type distribution per nation\",title_x=0.5,template='plotly_white')\nfig3.show()","a2fe0eb2":"df['date_added']=df['date_added'].str.strip()\n","2870241c":"df_months=pd.DataFrame(df['date_added'].str.split(' ').apply(pd.Series).dropna()[0])\ndf_months.rename(columns={0:'Month released'},inplace=True)\ndf_months['Count']=1\nmonths_grouped=df_months.groupby('Month released')['Count'].sum().reset_index().sort_values(by='Count',ascending=False)","2df78230":"fig4=px.funnel(months_grouped,x='Count',y='Month released',color='Count',labels={'Count':'Amount of content released'})\nfig4.update_layout(title='Popular months of content release',title_x=0.5,template='plotly_dark')\nfig4.show()","484cd6e9":"df_tv=df[df['type']=='TV Show']\ndf_mov=df[df['type']=='Movie']\n\ndf_tv_years=df_tv.groupby('release_year')['Count'].sum().reset_index()\ndf_mov_years=df_mov.groupby('release_year')['Count'].sum().reset_index()","75d1c8a8":"df_years=df.groupby('release_year')['Count'].sum().reset_index()\n\nfig5=px.line(df_years,x='release_year',y='Count',labels={'release_year':'Year of release','Count':'Amount of content released'})\nfig5.update_traces(name='Total content',showlegend=True)\nfig5.add_scatter(name='TV shows',x=df_tv_years['release_year'], y=df_tv_years['Count'], mode='lines')\nfig5.add_scatter(name='Movies',x=df_mov_years['release_year'], y=df_mov_years['Count'], mode='lines')\nfig5.update_layout(title='Number of releases each year',title_x=0.5,template='plotly_dark')\n","13bec2e5":"df_ratings=df.dropna().groupby('rating')['Count'].sum().reset_index().sort_values(by='Count',ascending=False)\n","266c25c4":"fig6=px.sunburst(df.dropna(),path=['rating','type'],names='type',color='rating',color_discrete_map={'(?)':'black', 'Lunch':'gold', 'Dinner':'darkblue'})\nfig6.update_layout(title=\"Content rating distribution\",title_x=0,title_y=0.3,template='plotly_white',margin = dict(t=0, l=0, r=0, b=0))\nfig6.show()","29143f19":"df_mov.info()","05a8325b":"durations=df_mov['duration'].str.split(' ').apply(pd.Series)","0327dce3":"durations=pd.DataFrame(durations[0].astype(int))\ndurations.rename(columns={0:'Duration'},inplace=True)","48ed9293":"fig7=px.histogram(durations,x='Duration',marginal='box',\n                  labels={'Duration':'Duration of movie in minutes'},opacity=0.8,color_discrete_sequence=['orange'])\nfig7.update_layout(template='plotly_dark',title='Movie duration distribution',title_x=0.5)","9da2793a":"from wordcloud import WordCloud, STOPWORDS\nplt.figure(figsize=(20,20))\ncategories=df['listed_in'].values\nwc_cats=WordCloud(max_words=50,background_color='green',collocations=False).generate(str(' '.join(categories)))\nplt.imshow(wc_cats)\nplt.axis(\"off\")\nplt.show()","7e54abc3":"df_countries_all=df.groupby('country')['Count'].sum().reset_index().sort_values(by='Count',ascending=False).head(126)\nmap_data = [go.Choropleth( \n           locations = df_countries_all['country'],\n           locationmode = 'country names',\n           z = df_countries_all[\"Count\"], \n           text = df_countries_all['country'],\n           colorbar = {'title':'Amount of content'},\n           colorscale='solar')]\n\nlayout = dict(title = 'Content per nation', title_x=0.5,\n             geo = dict(showframe = False, \n                       projection = dict(type = 'equirectangular')))\n\nworld_map = go.Figure(data=map_data, layout=layout)\niplot(world_map)","2309eb82":"As we can see, the number of content releases rose exponentially post 2010. This is because more and more people started using smartphones after the success of the iPhones post 2007. Many more devices were released in the market that could connect to the internet and let people watch their favourite shows and movies. Hence, the demand for new content rose extremely. However, 2019 has seen a lower number of releases. Although 2020 is a running year, the number of releases are expected to dip sharply due to the ongoing pandemic that has halted or delayed shooting considerably.\n\nThe curve further tells us that the number of movie releases per year has always been higher than TV show releases.\n\n\n## g) Content distribution based on ratings\n\nThe content on all streaming services are rated based on various parameters to check if the content is disturbing, require parental guidance, children friendly, etc. Let us see how the content is distributed. T\n\n","eedcaba2":"As we can see, almost 70 % of the netflix content is movies while 31.6 %  are TV shows. This is expected because number of episodes per TV show is usually very high and hence, there can be only limited number of shows available.\n\n\n## c) Top 20 producing countries\n\nLet us check which countries have produced the highest number of netflix content.","a7b33e50":"From the above histogram, we can see that the movie duration distribution is normally distributed and has a median of **98 minutes (1 Hr 38 mins )**.\n\n## i) Popular categories\n\nLet us check which are the popular categories in which, the content is being listed in. We shall visualise this with the help of a wordcloud.","c6a91a32":"As we can see, the duration column is an object. We need this column to be in integers for proper visualisation.","de451680":"As we can see,the major contributions of United States and India have been through movies while for UK and Japan, it has been through TV shows.\n\n## e) Popular months of release\n\nLet us check which months have more releases attributed to it over the past few years. For this, we shall require some amount of data pre-processing as shown below:","bce39769":"# Introduction\n\nEver since the world of streaming has started, Netflix has been the first and currently the biggest player in the market. Although the competitors such as Hulu, Amazon Prime, Hotstar and many more have also joined in the streaming race, Netflix still is ahead in terms and popularity and revenue generated.\n\nNetflix was quite a visionary company from it's early days of competing against Blockbuster who was a big recorded movie tape company. Netflix took the huge risk of developing streaming content and applied various ML algorithms for user recommendations while Blockbuster tried to hold their ground in the recorded tape division without thinking of the change that would be expected in the upcoming decade. Blockbuster is now bankrupt while Netflix is currently the king of streaming websites.\n\nThrough this particular notebook, we shall look at various Netflix titles and analyse the popular ones amongst the viewers.\n\n![2020_04_18_93081_1587195784._large.jpg](attachment:2020_04_18_93081_1587195784._large.jpg)\n\n\n# Importing relevant libraries and dataset","c0c50ee6":"# Data Visualisation\n\n\n\n## a) Missing values\n","1cce34a3":"As we can see, the columns of director, cast and country have the highest number of missing values associated with it.\n\n## b) Type of title\n\nLet us check the number of titles marked as movies or shows.","fa05adbb":"From the above visualisation, it can be seen that the winter months of December, November and January are extremely busy in terms of new releases. This could be because these are generally associated with holiday months and hence, people can be treated with new content which they'll be more likely to watch. October is also a very busy month for Netflix. This can be because some of the popular festivals in both Western and Asian nations are celebrated in this month which allows more people to be free from their work and consume Netflix content.\n\n## f) Trend of content releases over the past few years\n\nLet us check how the trend of releases has been for the past few years.","2e1b9068":"# If you found this notebook helpful,an upvote would be amazing ! :)","77bdfa2a":"USA is currently leading by a huge margin followed by India and United Kingdom.\n\n\n## d) Content type produced by each of the top 20 countries\n\nLet us now check how are the content divided in terms of title types.","79131406":"From the content rating distribution on TV shows and movies, we see that most of the movies fall under the TV-MA rating followed by TV-14. Almost an equal number of TV shows fall under both of these categories as seen from the sunburst visualisation.\n\n\n## h) Duration of movies\n\nLet us check how are the movie durations distributed. For this purpose, we would require some amount of pre-processing to be done first.","d930ce56":"As it can be seen, TV shows  and Movies are the most popular Netflix categories. Dramas and Comedies are also very popular categories on Netflix.\n\n\n## j) Choropleth map of all the popular content producing nations"}}