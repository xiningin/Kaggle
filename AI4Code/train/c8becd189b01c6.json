{"cell_type":{"90c84ec5":"code","2af8ef1b":"code","7bed7457":"code","64f9b37a":"code","51b20202":"code","0c4a3cd9":"code","afe245ca":"code","5b6e7a10":"code","0bc77b17":"code","afe15b96":"code","2e372322":"code","3587bd96":"code","0cb22376":"code","ab49b346":"code","7cee70f3":"code","bfd6c6bf":"code","09b2579d":"markdown","3c3a6603":"markdown","0b87006a":"markdown","4679aa02":"markdown","00440319":"markdown","aee94f08":"markdown","8939ecb2":"markdown","70e1a1d1":"markdown","9e421f1a":"markdown","073ae428":"markdown","902aa587":"markdown","bacdaaa8":"markdown","ac45cacb":"markdown","4b7c304a":"markdown","a149b619":"markdown","34c0b4ae":"markdown"},"source":{"90c84ec5":"import requests\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates","2af8ef1b":"resp_riau = requests.get('https:\/\/data.covid19.go.id\/public\/api\/prov_detail_RIAU.json')\ncov_riau_raw = resp_riau.json()","7bed7457":"print('Main elements:\\n', cov_riau_raw.keys())","64f9b37a":"print(\"Elements of 'list_perkembangan':\\n\", cov_riau_raw['list_perkembangan'][0].keys())","51b20202":"print(\"Elements of 'data':\\n\", cov_riau_raw['data'].keys())","0c4a3cd9":"print('Nama-nama elemen utama:\\n', cov_riau_raw.keys())\nprint('\\nJumlah total kasus COVID-19 di Riau                     : %d' %cov_riau_raw['kasus_total'])\nprint('Persentase kematian akibat COVID-19 di Riau               : %f.2%%' %cov_riau_raw['meninggal_persen'])\nprint('Persentase tingkat kesembuhan dari COVID-19 di Riau       : %f.2%%' %cov_riau_raw['sembuh_persen'])","afe245ca":"cov_riau = pd.DataFrame(cov_riau_raw['list_perkembangan'])\nprint(cov_riau.info())","5b6e7a10":"print(cov_riau.head())","0bc77b17":"cov_riau_tidy = (cov_riau.drop(columns=[item for item in cov_riau.columns\n                                               if item.startswith('AKUMULASI') \n                                                  or item.startswith('DIRAWAT')])\n                           .rename(columns=str.lower)\n                           .rename(columns={'kasus': 'kasus_baru'})\n                  )\ncov_riau_tidy['tanggal'] = pd.to_datetime(cov_riau_tidy['tanggal']*1e6, unit='ns')\n\nprint(cov_riau_tidy.head())","afe15b96":"plt.clf()\nfig, ax = plt.subplots(figsize=(10,5))\nax.bar(data=cov_riau_tidy, x='tanggal', height='kasus_baru', color='salmon')\nfig.suptitle('Daily Positive Cases of Covid-19 in Riau', y=1.00, fontsize=16, fontweight='bold', ha='center')\nax.set_xlabel('')\nax.set_ylabel('Jumlah kasus')\nax.text(1, -0.1, 'Data source: covid.19.go.id', color='blue',ha='right', transform=ax.transAxes)\n\nax.xaxis.set_major_locator(mdates.MonthLocator())\nax.xaxis.set_major_formatter(mdates.DateFormatter('%b %Y'))\n\nplt.grid(axis='y')\nplt.tight_layout()\nplt.show()","2e372322":"cov_riau_weekly = (cov_riau_tidy.set_index('tanggal')['kasus_baru']\n                                   .resample('W')\n                                   .sum()\n                                   .reset_index()\n                                   .rename(columns={'kasus_baru': 'jumlah'})\n                    )\n\ncov_riau_weekly['tahun'] = cov_riau_weekly['tanggal'].apply(lambda x: x.year)\ncov_riau_weekly['pekan_ke'] = cov_riau_weekly['tanggal'].apply(lambda x: x.weekofyear)\ncov_riau_weekly = cov_riau_weekly[['tahun', 'pekan_ke', 'jumlah']]\n\nprint('Info cov_riau_weekly:')\nprint(cov_riau_weekly.info())\nprint(cov_riau_weekly.head())","3587bd96":"\ncov_riau_weekly['jumlah_pekanlalu'] = cov_riau_weekly['jumlah'].shift().replace(np.nan, 0).astype(np.int)\ncov_riau_weekly['lebih_baik'] = cov_riau_weekly['jumlah'] < cov_riau_weekly['jumlah_pekanlalu']\n\nprint('Sepuluh data teratas:\\n', cov_riau_weekly.head(10))","0cb22376":"plt.clf()\nfig, ax = plt.subplots(figsize=(10,5))\nax.bar(data=cov_riau_weekly, x='pekan_ke', height='jumlah',\ncolor=['mediumseagreen' if x is True else 'salmon' for x in cov_riau_weekly['lebih_baik']])\nfig.suptitle('Weekly Positive Cases of Covid-19 in Riau', y=1.00, fontsize=16, fontweight='bold', ha='center')\nax.set_title('The green bar indicates the addition of new cases was less than a week earlier', fontsize=12)\nax.set_xlabel('')\nax.set_ylabel('Jumlah kasus')\nax.text(1, -0.1, 'Data source: covid.19.go.id', color='blue',\nha='right', transform=ax.transAxes)\n\nplt.grid(axis='y')\nplt.tight_layout()\nplt.show()","ab49b346":"cov_riau_accumulation = cov_riau_tidy[['tanggal']].copy()\ncov_riau_accumulation['akumulasi_aktif'] = (cov_riau_tidy['kasus_baru'] - cov_riau_tidy['sembuh'] - cov_riau_tidy['meninggal']).cumsum()\ncov_riau_accumulation['akumulasi_sembuh'] = cov_riau_tidy['sembuh'].cumsum()\ncov_riau_accumulation['akumulasi_meninggal'] = cov_riau_tidy['meninggal'].cumsum()\ncov_riau_accumulation.tail()","7cee70f3":"plt.clf()\nfig, ax = plt.subplots(figsize=(10,5))\nax.plot('tanggal', 'akumulasi_aktif', data=cov_riau_accumulation, lw=2)\n\nax.set_title('Accumulation of active positive case  of Covid-19 in Riau',\nfontsize=22)\nax.set_xlabel('')\nax.set_ylabel('Akumulasi aktif')\nax.text(1, -0.1, 'Data Source: covid.19.go.id', color='blue',\nha='right', transform=ax.transAxes)\n\nax.xaxis.set_major_locator(mdates.MonthLocator())\nax.xaxis.set_major_formatter(mdates.DateFormatter('%b %Y'))\n\nplt.grid()\nplt.tight_layout()\nplt.show()","bfd6c6bf":"plt.clf()\nfig, ax = plt.subplots(figsize=(10,5))\ncov_riau_accumulation.plot(x='tanggal', kind='line', ax=ax, lw=3,\ncolor=['salmon', 'slategrey', 'olivedrab'])\n\nax.set_title('Case Dynamics of COVID-19 in Riau',\nfontsize=22)\nax.set_xlabel('')\nax.set_ylabel('Akumulasi aktif')\nax.text(1, -0.1, 'Data source: covid.19.go.id', color='blue',\nha='right', transform=ax.transAxes)\n\nax.xaxis.set_major_locator(mdates.MonthLocator())\nax.xaxis.set_major_formatter(mdates.DateFormatter('%b'))\n\nplt.grid()\nplt.tight_layout()\nplt.show()","09b2579d":"<a id = \"2\" ><\/a>\n# Variable Description","3c3a6603":"Weekly cases in Riau","0b87006a":"<a id=4 ><\/a>\n# Analyze Data","4679aa02":"* Remove 'DIRAWAT_OR_ISOLASI' and other accumulative data (to remove uneccesarry columns)\n* Convert all columns to lowercase (to make it consistent)\n* Rename \"kasus\" to \"kasus_baru\" (remove ambiguity)\n* Convert column 'tanggal' as datetime type","00440319":"<a id = \"1\" ><\/a>\n# Load Data from API","aee94f08":"Main elements:\n1. last_date            : last API update date\n2. provinsi             : province name\n3. kasus_total          : number of cases in the mentioned province\n4. kasus_tanpa_tgl      : number of cases with unknown date\n5. kasus_dengan_tgl     : number of cases with known date\n6. meninggal_persen     : percentage of deaths\n7. meninggal_tanpa_tgl  : number of deaths with unknown date\n8. meninggal_dengan_tgl : number of deaths with known date\n9. sembuh_persen        : percentage of recoveries\n10. sembuh_tanpa_tgl    : number of recoveries with unknown date\n11. sembuh_dengan_tgl   : number of recoveries with known date\n12. list_perkembangan   : list of spreading progress report\n13. data                : additional data, including symptoms, age distribution, and gender distribution","8939ecb2":"# INTRODUCTION","70e1a1d1":"# CONTENT \n  \n1. [Load Data from API](#1)\n2. [Variable Description](#2) \n3. [Check and Clean Data](#3)\n4. [Analyze Data](#4)","9e421f1a":"The worldwide pandemic of coronavirus disease 2019 (COVID-19) is caused by severe acute respiratory syndrome coronavirus 2 (SARS-CoV-2). It was confirmed to have spread to Indonesia on 2 March 2020. As of 12 March 2021, Indonesia has reported 1,410,134 cases, the highest in Southeast Asia, ahead of the Philippines. Dataset used for this analysis is acquired from covid19.go.id, which periodically updates the Covid19 cases in Indonesia.","073ae428":"Visualization of daily positive cases in Riau","902aa587":"Comparison with last week","bacdaaa8":"Visualization of daily positive cases vs recoveries vs deaths in Riau","ac45cacb":"Daily accumulation of positive cases, recoveries, and deaths","4b7c304a":"<a id = \"3\" ><\/a>\n# Check and Clean Data","a149b619":"Show relationship between 'tanggal' and 'kasus_baru'","34c0b4ae":"<h1 style=\"text-align:center\">   \n      <font color = black >\n                Covid19 in Riau (Indonesia) - Exploratory Data Analysis \n        <\/font>    \n<\/h1>   \n<hr style=\"width:100%;height:1px;border-width:0;color:gray;background-color:gray\">\n<center><img style = \"height:450px;\" src=\"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/8\/83\/Riau_in_Indonesia.svg\/1200px-Riau_in_Indonesia.svg.png\"><\/center>"}}