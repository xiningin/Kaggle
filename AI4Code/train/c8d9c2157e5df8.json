{"cell_type":{"f2cc53f1":"code","c071437d":"code","db874b51":"code","a25335af":"code","35ddeb41":"code","b7ba34d6":"code","5a0bdd2d":"code","08f042f7":"code","f0dbc208":"code","fa62c732":"code","561a80d0":"code","16e97764":"code","33ec20f0":"code","a9730b94":"code","12d3cc54":"code","c706948e":"code","b4b370d1":"code","5fd7bafb":"code","f6acbac6":"code","a8c60b9e":"code","d658eaed":"code","ef0c7c11":"markdown","9e51431b":"markdown","4914bae2":"markdown","1dc0c2d0":"markdown","d4adebde":"markdown","b5ac24d7":"markdown","515e07a3":"markdown"},"source":{"f2cc53f1":"# Importando as bibliotecas\nimport numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","c071437d":"#criando dataset\nnba = pd.read_csv('\/kaggle\/input\/luka-doncic-stats\/NBA matches.csv')\nnba.head(5).T\n#Percebemos como existem colunas sem nome ou que n\u00e3o refletem o atributo\n#Vamos trat\u00e1-las a seguir","db874b51":"#Ajustando o cabe\u00e7alho dos dados - pegando os nomes das colunas\ncolunas = list(nba.columns)\ncolunas","a25335af":"#Ajustando o cabe\u00e7alho dos dados - Colocando nomes significativos\ncolunas[0] = 'GameID'\ncolunas[1] = 'GamesPlayed'\ncolunas[5] = 'LocalVisitor'\ncolunas[6] = 'Opponent'\ncolunas[7] = 'WinLoss'\ncolunas[8] = 'Started'\ncolunas[9] = 'MIN'\ncolunas[28] = 'GameScore'\ncolunas[29] = 'PlusMinus'\n\nnba.columns = colunas\nnba.tail(10).T","35ddeb41":"# Ao analisar o fim da tabela, percebemos em primeiro lugar que s\u00f3 tem informa\u00e7\u00f5es de 75 jogos.\n# A temporada da NBA tem 82 jogos, dessa forma, o dataset encontra-se incompleto.\n# Muito provavelmente foi disponibilizado antes da temporada regular acabar.\nprint(nba.shape)\n# Desses 75 jogos, 5 Luka Doncic n\u00e3o participou. Estamos estudando o jogador, ent\u00e3o essas\n# informa\u00e7\u00f5es ser\u00e3o retiradas do dataframe\nnba = nba[nba['GamesPlayed'].notnull()]\nprint(nba.shape)","b7ba34d6":"# Vamos verificar os tipos dos dados\nnba.info()","5a0bdd2d":"# Tratando a data\nnba['Date'] = pd.to_datetime(nba['Date'])","08f042f7":"# A informa\u00e7\u00e3o de idade conta os anos e dias, mas torna a coluna dificil de lidar.\n# N\u00e3o me interessa saber os dias exatos ent\u00e3o vamos transformar o campo.\nnba['Age'] = pd.to_numeric(nba['Age'].str[:2])","f0dbc208":"# A informa\u00e7\u00e3o de vit\u00f3ria ou derrota consta tamb\u00e9m a diferen\u00e7a de pontos.\n# \u00c9 uma informa\u00e7\u00e3o valiosa, mas n\u00e3o na mesma coluna. Vamos separ\u00e1-las\nnba['Difference'] = pd.to_numeric(nba['WinLoss'].str[2:8].str.replace('(','').str.replace(')','').str.replace('+',''))\nnba['WinLoss'] = nba['WinLoss'].str[:1]","fa62c732":"# Tratando minutos, n\u00e3o importa a parte fracion\u00e1ria\nnba['MIN'] = pd.to_numeric(nba['MIN'].str[:2])","561a80d0":"# Variaveis num\u00e9ricas\nnba['FG'] = pd.to_numeric(nba['FG'])\nnba['FGA'] = pd.to_numeric(nba['FGA'])\nnba['FG%'] = pd.to_numeric(nba['FG%'])\nnba['3P'] = pd.to_numeric(nba['3P'])\nnba['3PA'] = pd.to_numeric(nba['3PA'])\nnba['3P%'] = pd.to_numeric(nba['3P%'])\nnba['FT'] = pd.to_numeric(nba['FT'])\nnba['FTA'] = pd.to_numeric(nba['FTA'])\nnba['FT%'] = pd.to_numeric(nba['FT%'])\nnba['ORB'] = pd.to_numeric(nba['ORB'])\nnba['DRB'] = pd.to_numeric(nba['DRB'])\nnba['TRB'] = pd.to_numeric(nba['TRB'])\nnba['AST'] = pd.to_numeric(nba['AST'])\nnba['STL'] = pd.to_numeric(nba['STL'])\nnba['BLK'] = pd.to_numeric(nba['BLK'])\nnba['TOV'] = pd.to_numeric(nba['TOV'])\nnba['PF'] = pd.to_numeric(nba['PF'])\nnba['PTS'] = pd.to_numeric(nba['PTS'])\nnba['GameScore'] = pd.to_numeric(nba['GameScore'])\nnba['PlusMinus'] = pd.to_numeric(nba['PlusMinus'].str.replace('+',\"\"))","16e97764":"#Verificando o banco novamente\nnba.info()","33ec20f0":"# Explora\u00e7\u00e3o b\u00e1sica \nnba.describe().T","a9730b94":"# Nos jogos em que jogou pelo menos 35 minutos, quantos ganhou ou perdeu?\nnba[nba['MIN'] >= 35]['WinLoss'].value_counts()","12d3cc54":"# Nos jogos em que fez pelo menos 30 pontos, quantos ganhou ou perdeu?\nnba[nba['PTS'] >= 30]['WinLoss'].value_counts()","c706948e":"# Nos jogos em que seu saldo de pontos foi positivo enquanto esteve em quadra\n# (plusMinus), quantos ganhou ou perdeu?\nnba[nba['PlusMinus'] > 0]['WinLoss'].value_counts()","b4b370d1":"# Nos jogos em que seu time jogou em casa, quantos ganhou ou perdeu?\nnba[nba['LocalVisitor'] != '@']['WinLoss'].value_counts()","5fd7bafb":"#Distribui\u00e7\u00e3o de +\/- nos jogos em que ganhou\nsns.distplot(nba[nba['WinLoss'] == 'W']['PlusMinus'])","f6acbac6":"# Lances livres convertidos em rela\u00e7\u00e3o aos lances livres tentados\nsns.lineplot(x='FTA',y='FT',data=nba)","a8c60b9e":"# Gr\u00e1fico de vioino da distribui\u00e7\u00e3o dos pontos nos jogos que ganhou ou perdeu por idade\nsns.set(style=\"whitegrid\", palette=\"pastel\", color_codes=True)\nsns.violinplot(x=\"Age\", y=\"PTS\", hue=\"WinLoss\",\n               split=True, inner=\"quart\",\n               palette={\"W\": \"y\", \"L\": \"b\"},\n               data=nba)\nsns.despine(left=True)","d658eaed":"# Gr\u00e1fico de dispers\u00e3o de pontos por minutos jogados levando em considera\u00e7\u00e3o a quantidade de bolas de 3 e se venceu ou n\u00e3o\nsns.set()\nsns.scatterplot(x=\"MIN\", y=\"PTS\",\n                     hue=\"WinLoss\", size=\"3P\",\n                     sizes=(10, 200),\n                     data=nba)","ef0c7c11":"### O que entendemos disso?\nLuka Doncic come\u00e7ou a temporada com 19 anos e terminou com 20. Jogou todos os jogos pelo Dallas Mavericks. Quando jogou menos tempo foi 22 minutos, chegou a jogar at\u00e9 39 minutos em uma s\u00f3 partida, mas em m\u00e9dia atuou durante aproximadamente 32. Tentou aproximadamente 7 bolas de 3 por jogo, acertando 33,21% em m\u00e9dia o que representa 2,34 bolas de fora por jogo. Em suas melhores atua\u00e7\u00f5es chegou a dar 12 assist\u00eancias e pegar 15 rebotes, n\u00e3o necess\u00e1riamente no mesmo jogo. Nas 70 partidas analisadas, fez 21 pontos em m\u00e9dia. Em 75% das partidas (Q1) fez mais de 17 pontos. Houveram jogos em que atuou que seu time perdeu por uma diferen\u00e7a de 39 pontos ou ganhou por uma de 50 (!!!).\n\nExistem v\u00e1rias informa\u00e7\u00f5es dispon\u00edveis nessa simples tabela, mas vamos trabalhar um pouco mais com as possibilidades que o Pyhton nos d\u00e1:","9e51431b":"Luka Doncic \u00e9 um caso ABSURDO de sucesso internacional: profissional pelo **Real Madrid** aos **16 anos**, campe\u00e3o do EuroBasket pela **Eslov\u00eania** (e membro do quinteto ideal do torneio) aos **17** e campe\u00e3o da Euroliga (incluindo MVP do torneio e das Finais) aos **19**. Nenhum outro jogador conseguiu tanto sucesso t\u00e3o cedo na Europa quanto ele \\[...\\] (https:\/\/bolapresa.com.br\/quem-tem-medo-de-luka-doncic\/).\n\nAgora, finalmente na NBA, com a temporada de novato na bagagem (e o pr\u00eamio de novato do ano tamb\u00e9m), vamos analisar essa temporada de estr\u00e9ia com o Mavericks afim de descobrir informa\u00e7\u00f5es importantes sobre esse fen\u00f4meno do basquete mundial.","4914bae2":"### O que entendemos disso?\nApesar da alta minutagem ou pontua\u00e7\u00e3o, o n\u00famero de vit\u00f3rias \u00e9 menor que o de derrotas. N\u00e3o h\u00e1 como se tirar conclus\u00f5es, mas pode ser um indicativo de que quando o time depende demais dele para pontuar, ou estar em quadra de modo geral, \u00e9 tamb\u00e9m quando os companheiros de equipe estavam mal e o time tende a perder. \n\nQuando seu +\/- foi positivo, ou quando jogaram em casa, o saldo foi bem melhor.","1dc0c2d0":"## Tratamento de dados","d4adebde":"### O que entendemos disso?\nNo primeiro gr\u00e1fico vemos como a concentra\u00e7\u00e3o dos dados \u00e9 mais forte nos valores um pouco acima de zero e redondezas. Existiram jogos onde o time desempenhou muito mal quando ele esteve em quadra, bem como jogos onde o contr\u00e1rio aconteceu. Do lado positivo existe at\u00e9 uma desacelerada na descida do gr\u00e1fico perto de +30, o que sugere que seu time ganhou por 30 pontos enquanto ele esteve em quadra vezes o suficiente para alterar a distribui\u00e7\u00e3o dessa maneira.\n\nNo segundo gr\u00e1fico vemos a rela\u00e7\u00e3o entre os lances livros tentados e convertidos e percebemos a linearidade entre eles. Qualquer jogador constante apresentaria essa linearidade, embora o angulo da reta (aproveitamento) diferencie os atletas. Isso \u00e9 possivel conferir de igual maneira olhando para a vari\u00e1vel FT%.\n\nNo terceiro gr\u00e1fico separamos as informa\u00e7\u00f5es por idade e mostramos a distribui\u00e7\u00e3o dos pontos em um gr\u00e1fico de violino. Com a diferen\u00e7a que do lado esquerdo \u00e9 a distribui\u00e7\u00e3o nas partidas em que perdeu e do lado direito as que ganhou. De cara percebemos como que na nossa amostra, apenas um jogo foi vencido com 20 anos. Percebemos tamb\u00e9m ao olhar a compara\u00e7\u00e3o aos 19 como a distribui\u00e7\u00e3o \u00e9 mais achatada nos jogos que perdeu, enquanto nos que ganhou a altura da curva \u00e9 maior e tem uma m\u00e9dia maior tamb\u00e9m.\n\nNo quarto gr\u00e1fico apresentamos a dispers\u00e3o dos pontos por minutos. Em rela\u00e7\u00e3o a derrotas e vit\u00f3rias \u00e9 bem espalhado. Mas percebemos algumas rela\u00e7\u00e3o com as outras caracter\u00edsticas. Por exemplo, com algumas poucas exce\u00e7\u00f5es, a maioria dos pontos em que o eixo y \u00e9 elevado, o tamanho das bolas tamb\u00e9m \u00e9 grande, o que significa que as bolas de tr\u00eas foram um fator importante. Outra rela\u00e7\u00e3o de que temos indicativos \u00e9 que quanto mais minutos s\u00e3o jogados, existe uma tend\u00eancia de que se marque mais pontos.","b5ac24d7":"# An\u00e1lise Explorat\u00f3ria de Luka Doncic na NBA","515e07a3":"## Explora\u00e7\u00e3o dos dados"}}