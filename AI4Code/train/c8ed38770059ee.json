{"cell_type":{"596a2636":"code","178d5914":"code","d078f0b4":"code","2c548739":"code","e7349488":"code","ffcdd787":"code","8e8202f5":"code","0174cab0":"code","b622b6f2":"code","f61c89be":"code","551d309e":"code","1dea011e":"code","ec60744b":"code","4a67f268":"code","34e7af69":"code","3db7159c":"code","d060470a":"code","87c56ef7":"markdown","5d042cf7":"markdown","4ad7e04a":"markdown","cac77143":"markdown","3f569e4c":"markdown"},"source":{"596a2636":"import os\nimport re\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.image as mpimg\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings('ignore')","178d5914":"df = pd.read_csv(\"\/kaggle\/input\/sri-lanka-music-instrument-prices\/music_instrument_prices.csv\")","d078f0b4":"df.head()","2c548739":"# Converting Columns into numbers\n# Return nan for prices which are listed as negotiable\ndef extract_num(row):\n    try:\n        amount = row.split(\" \")[-1]\n        return int(re.sub(r\"[.,]\", \"\", amount))\n    except:\n        np.nan","e7349488":"df[\"Price\"] = df[\"Price\"].apply(extract_num)","ffcdd787":"df[\"City\"] = df[\"Location\"].apply(lambda x: x.split(\",\")[0])\ndf[\"District\"] = df[\"Location\"].apply(lambda x: x.split(\",\")[-1])\ndf = df.drop(\"Location\", axis=1)","8e8202f5":"df.head()","0174cab0":"# check stats of numeric columns\ndf.describe()","b622b6f2":"# Checking the null values \ndf.isnull().sum()","f61c89be":"# Most popular Instrument types\n\ntop_10_inst = df[[\"published_date\", \"Instrument_Type\"]].groupby(\"Instrument_Type\").agg(['count'])['published_date']['count'].sort_values(ascending=False)\nfig = sns.barplot( x = top_10_inst.index, y = top_10_inst.values)\nfig.set_xticklabels(labels=top_10_inst.index , rotation=90)\nfig.set_ylabel(\"Number of Instruments in the Dataset\")\nfig.set_xlabel(\"Instrument Type\")\nfig.set_title(\"Most Popular Instrument Types\");","551d309e":"# Most expensive by average Instrument types\n\ntop_10_inst = df[[\"Price\", \"Instrument_Type\"]].groupby(\"Instrument_Type\").mean()['Price'].sort_values(ascending=False)\nfig = sns.barplot( x = top_10_inst.index, y = top_10_inst.values)\nfig.set_xticklabels(labels=top_10_inst.index , rotation=90)\nfig.set_ylabel(\"Price of Instruments in the Dataset\")\nfig.set_xlabel(\"Instrument Type\")\nfig.set_title(\"Most Expensive Instrument Types by Average\");","1dea011e":"# Most expensive by maximum Instrument types\n\ntop_10_inst = df[[\"Price\", \"Instrument_Type\"]].groupby(\"Instrument_Type\").max()['Price'].sort_values(ascending=False)\nfig = sns.barplot( x = top_10_inst.index, y = top_10_inst.values)\nfig.set_xticklabels(labels=top_10_inst.index , rotation=90)\nfig.set_ylabel(\"Price of Instruments in the Dataset\")\nfig.set_xlabel(\"Instrument Type\")\nfig.set_title(\"Most Expensive Instrument Types by Max\");","ec60744b":"# Top 10 Cities by Number of Instruments stold\n\ntop_10_city = df[[\"published_date\", \"City\"]].groupby(\"City\").agg(['count'])[\"published_date\"]['count'].sort_values(ascending=False)[:10]\nfig = sns.barplot( x = top_10_city.index, y = top_10_city.values)\nfig.set_xticklabels(labels=top_10_city.index , rotation=45)\nfig.set_ylabel(\"Number of Instruments in the Dataset\")\nfig.set_xlabel(\"City Name\")\nfig.set_title(\"Top 10 Cities by Number of Instruments\");","4a67f268":"# Top 10 Districts by Number of Instruments\n\ntop_10_dist = df[[\"published_date\", \"District\"]].groupby(\"District\").agg(['count'])[\"published_date\"]['count'].sort_values(ascending=False)[:10]\nfig = sns.barplot( x = top_10_dist.index, y = top_10_dist.values)\nfig.set_xticklabels(labels=top_10_dist.index , rotation=45)\nfig.set_ylabel(\"Number of Instruments in the Dataset\")\nfig.set_xlabel(\"District Name\")\nfig.set_title(\"Top 10 Districts by Number of Instruments\");","34e7af69":"# Distibution of seller types\nfig = sns.countplot(data= df, x=\"Seller_type\")\nfig.set_ylabel(\"Number of Sellers\")\nfig.set_xlabel(\"Seller Type\")\nfig.set_title(\"Seller Type Distribution\");","3db7159c":"# Top 10 Sellers by Number of Instruments stold\n\ntop_10_sell = df[[\"published_date\", \"Seller_name\"]].groupby(\"Seller_name\").agg(['count'])[\"published_date\"]['count'].sort_values(ascending=False)[:10]\nfig = sns.barplot( x = top_10_sell.index, y = top_10_sell.values)\nfig.set_xticklabels(labels=top_10_sell.index , rotation=90)\nfig.set_ylabel(\"Number of Instruments in the Dataset\")\nfig.set_xlabel(\"Seller Name\")\nfig.set_title(\"Top 10 Sellers by Instruments stold\");","d060470a":"# Top 10 Sellers by Total Revenue of Instruments stold\n\ntop_10_sell = df[[\"Price\", \"Seller_name\"]].groupby(\"Seller_name\").agg(['sum'])[\"Price\"]['sum'].sort_values(ascending=False)[:10]\nfig = sns.barplot( x = top_10_sell.index, y = top_10_sell.values)\nfig.set_xticklabels(labels=top_10_sell.index , rotation=90)\nfig.set_ylabel(\"Total Cost of Items sold in rupess(lkr)\")\nfig.set_xlabel(\"Seller Name\")\nfig.set_title(\"Top 10 Sellers by Total Revenue of Instruments stold\");","87c56ef7":"### Load the Data","5d042cf7":"### EDA","4ad7e04a":"### Data Cleaning","cac77143":"### Import Libraries","3f569e4c":"### Data Viz"}}