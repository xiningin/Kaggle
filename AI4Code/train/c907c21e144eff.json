{"cell_type":{"b6e0269f":"code","837fdf71":"code","db22ff6c":"code","ce5afbbd":"code","3c87faa7":"code","d091c642":"code","7b8d4bd7":"code","b6600ed9":"code","46978705":"code","9786bf5a":"code","a4534ff6":"code","144bf96d":"code","9ecdb2b1":"code","763b47c9":"code","bd658e9f":"code","77a23793":"code","16c91a16":"code","29fa5f1a":"code","ac867cd1":"code","e3d85387":"markdown","d52e54dd":"markdown","598c5cbc":"markdown","55054ca6":"markdown","37ad8d26":"markdown","58539dc6":"markdown","260aaf21":"markdown","70bb2538":"markdown","6c771782":"markdown","4da05bfa":"markdown"},"source":{"b6e0269f":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","837fdf71":"#importing libraries\nimport datetime as dt\nimport pandas as pd","db22ff6c":"pip install openpyxl","ce5afbbd":"#reading data\ndf = pd.read_excel(\"..\/input\/a-hotels-customers-dataset\/HotelCustomersDataset.xlsx\")\ndf.head()","3c87faa7":"df.shape","d091c642":"df.info()","7b8d4bd7":"df.columns","b6600ed9":"df.describe().T","46978705":"#removing missing observations from the dataset\ndf.dropna(inplace=True)\ndf.isnull().sum()","9786bf5a":"df[\"Total_revenue\"]=df[\"LodgingRevenue\"]+df[\"OtherRevenue\"]\ndf=df[df[\"Total_revenue\"]>0]","a4534ff6":"df[\"DocIDHash\"].nunique() ","144bf96d":"df[\"NameHash\"].nunique() ","9ecdb2b1":"df[\"Nationality\"].value_counts().sort_values(ascending=False).head()","763b47c9":"df.groupby(['Nationality'])['Total_revenue'].agg('mean').head(10)","bd658e9f":"df[\"Segment\"]=pd.qcut(df['Total_revenue'], 4, labels=['D','C','B','A'])\ndf[[\"Segment\",\"Total_revenue\"]].groupby(\"Segment\").agg([\"mean\",\"min\",\"max\",\"sum\"])","77a23793":"agg_df =pd.DataFrame(df.groupby(['Nationality','DistributionChannel'])['Total_revenue'].agg('mean')).round(2).sort_values(\"Total_revenue\")\nagg_df.head(10)","16c91a16":"agg_df=agg_df.reset_index()\nagg_df.head()","29fa5f1a":"agg_df['customers_level_based'] = [str(row[0]).upper()+'_'+str(row[1]).upper() for row in agg_df.values]\nagg_df = agg_df[[\"customers_level_based\",\"Total_revenue\"]].groupby(\"customers_level_based\").agg(\"mean\").round(2)\nagg_df=agg_df.reset_index()\nagg_df.head()","ac867cd1":"new_user='BRA_DIRECT'\nagg_df[agg_df[\"customers_level_based\"] == new_user]","e3d85387":"We grouped customers by country and found out how much these customers with similar characteristics(from the same country) spent on average","d52e54dd":"**Descriptive statistics of the dataset**","598c5cbc":"**Identifying new level-based customers (personas)**\n\nWe created a new persona according to the country and distribution channel information from the demographic information in the data set.","55054ca6":"**Segment customers by their total spend**","37ad8d26":"**Categorize new customers by segment and predict how much revenue they can generate**\n\nFor example: We found the information about how much a person whose country is BRAZIL and who makes a hotel reservation on average spends at the hotel.\n","58539dc6":"**Customers make two kinds of expenses: accommodation expenses and other expenses.**\n\nTotal amount customers spend at the hotel","260aaf21":"**Average of total revenues in Nationality' and 'DistributionChannel' breakdown**\n\nWe grouped customers by country and distribution channel used to book the hotel.\n\nWe found out how much these similar customers spend on average at the hotel.","70bb2538":"**General information about the dataset**","6c771782":"**Reservation frequencies by country**\n\nInformation on how many people from which country stayed at the hotel","4da05bfa":"**Unique number of customers**\n\n**DocIDHash:** ID document number provided by the customer at check-in (passport number, national ID card number or other)\n\n**NameHash**:Customer's name\n\nWhen we looked at the unique values of both, I saw that they were not the same.Maybe there are two different people with the same name and surname.\n\nI continued to work by choosing DocIDHash."}}