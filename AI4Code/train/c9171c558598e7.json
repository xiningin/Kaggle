{"cell_type":{"eb75f305":"code","0c2bcc5c":"code","d556ec9a":"code","3c1c5339":"code","3af5536b":"code","9c9afb33":"code","49187ee3":"code","fed52004":"code","d46dfc8a":"code","cb85b846":"code","c29b8488":"code","a8a16f41":"code","016bacb8":"code","c17516fa":"code","c41ffed6":"code","a47025e2":"code","4c7716fc":"code","cbe2e814":"code","c37b8416":"code","094354f3":"code","62403b2a":"code","e5456bbc":"code","5c8b4d6a":"code","edb1a338":"code","82ccf0e3":"code","ab36cc90":"code","8f5ed95b":"code","431f949a":"code","523cf8d3":"code","1fb77b6f":"code","dc1a6deb":"code","58e4eb3c":"code","57f92e84":"markdown","3a339efd":"markdown","8f3350b0":"markdown","3c5307d3":"markdown","43820a31":"markdown","eb99cabb":"markdown","5c075755":"markdown","d6aa7724":"markdown","58ad6c5c":"markdown","b1ad27eb":"markdown","bb27a3a8":"markdown","056e3106":"markdown","01f9276c":"markdown","337fb096":"markdown","97e9c7c7":"markdown","0dbf909e":"markdown","c0823390":"markdown","05e680bf":"markdown","c46b998d":"markdown","9b184b6f":"markdown","00d25cf1":"markdown","1e0a8315":"markdown","29776e41":"markdown","391322a2":"markdown","d9ada131":"markdown","42c0ec16":"markdown","b3c7bc43":"markdown","e82fe39e":"markdown","521aff95":"markdown","a3eb37bf":"markdown","b27610c6":"markdown","64877518":"markdown","171f7410":"markdown","2c429382":"markdown","bf75278d":"markdown","7f499be9":"markdown","5f59531d":"markdown","354abd36":"markdown","ed5c7329":"markdown","64ec1073":"markdown","cabae88b":"markdown","79bc8728":"markdown","75b95a47":"markdown","ec7770c4":"markdown","624431b2":"markdown","4d8bebf0":"markdown","01a88bd1":"markdown"},"source":{"eb75f305":"\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\npd.plotting.register_matplotlib_converters()\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\n\n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n","0c2bcc5c":"url='\/kaggle\/input\/math-students\/student-mat.csv'\ndf=pd.read_csv(url)\n","d556ec9a":"df.head()","3c1c5339":"df.describe()","3af5536b":"df.info()","9c9afb33":"def pass_classify(row):\n    if row.G3>=10:\n        return 1\n    else:\n        return 0\n    \npass_=df.apply(pass_classify,axis='columns')\n#print(pass_fail)\nprint(pass_.value_counts())","49187ee3":"def grade_classify(row):\n    if row.G3>=16:\n        return 'A'\n    elif row.G3>=14:\n        return 'B'\n    elif row.G3>=12:\n        return 'C'\n    elif row.G3>=10:\n        return 'D'\n    else:\n        return 'F'\n    \n\ngrades=df.apply(grade_classify,axis='columns')\nprint(grades.value_counts())\n","fed52004":"def get_percent(col):\n    return (col.value_counts()\/col.value_counts().sum())*100\n","d46dfc8a":"pass_percent=get_percent(pass_)\nprint(pass_percent)","cb85b846":"grade_percent=get_percent(grades)\nprint(grade_percent)","c29b8488":"sns.distplot(a=df['G3'], kde=False)","a8a16f41":"df['grades']=grades\nprint(grades)","016bacb8":"df.info()","c17516fa":"df_cat = df[[i for i in df.columns if i not in ('G1','G2','G3','absences')]]\ndf_cat.head()","c41ffed6":"from sklearn import preprocessing\n\nlabel = preprocessing.LabelEncoder()\ndata_encoded = pd.DataFrame() \n\nfor i in df_cat.columns :\n  data_encoded[i]=label.fit_transform(df_cat[i])","a47025e2":"data_encoded.head()","4c7716fc":"from scipy.stats import chi2_contingency\nimport numpy as np\n\n\n\n\ndef cramers_V(var1,var2) :\n  crosstab =np.array(pd.crosstab(var1,var2, rownames=None, colnames=None)) # Cross table building\n  stat = chi2_contingency(crosstab)[0] # Keeping of the test statistic of the Chi2 test\n  obs = np.sum(crosstab) # Number of observations\n  mini = min(crosstab.shape)-1 # Take the minimum value between the columns and the rows of the cross table\n  return (stat\/(obs*mini))","cbe2e814":"rows= []\n\nfor var1 in data_encoded:\n  col = []\n  for var2 in data_encoded :\n    cramers =cramers_V(data_encoded[var1], data_encoded[var2]) # Cramer's V test\n    col.append(round(cramers,2)) # Keeping of the rounded value of the Cramer's V  \n  rows.append(col)\n  \ncramers_results = np.array(rows)\ndf_var = pd.DataFrame(cramers_results, columns = data_encoded.columns, index =data_encoded.columns)\n\n\n\ndf_var","c37b8416":"import seaborn as sns\nimport matplotlib.pyplot as plt\n\nplt.figure(figsize=(20,20))\nplt.title(\"Heatmap of categorical variables\")\nsns.heatmap(data=df_var,vmin=0, vmax=1,annot=True)\n\nplt.show()\n","094354f3":"x1=df['G1']\nx2=df['G2']\ny=df['G3']\nplt.figure(figsize=(10,6))\nplt.title(\"Year 3 grade VS Year1 and Year2 grade\")\ng1=plt.scatter(x1,y,marker='x')\ng2=plt.scatter(x2,y,marker='o')\nplt.legend((g1, g2),\n           ('Year1 Grade', 'Year2 Grade'),\n           scatterpoints=1,\n           loc='upper left',\n           ncol=3,\n           fontsize=8)\nplt.xlabel(\"Marks(out of 20) of year1\/year2\")\nplt.ylabel(\"Marks(out of 20) of year 3\")\nplt.show() \n\n","62403b2a":"plt.figure(figsize=(10,6))\nplt.title(\"No of absent days VS Marks\")\nplt.scatter(df[\"absences\"],df[\"G3\"])\n\nplt.ylabel(\"Marks(out of 20) of year 3\")\nplt.xlabel(\"Absent days\")\nplt.show()","e5456bbc":"#plt.figure(figsize=(12,7))\nplt.title(\"Sex vs Math marks in final exam\")\nax = sns.boxplot(x=\"sex\", y=\"G3\", data=df)\nplt.ylabel(\"Marks in final exam\")\nplt.show()\n\n\nplt.title(\"Daily drinking VS Math marks\")\nax = sns.boxplot(x=\"Dalc\", y=\"G3\",data=df)\nplt.xlabel(\"Daily alcohol consumption\")\nplt.ylabel(\"Marks in final exam\")\nplt.show()\n\nplt.title(\"Quality of family relationship VS Math marks\")\nax=sns.boxplot(x=\"famrel\",y=\"G3\",data=df)\nplt.ylabel(\"Marks in final exam\")\nplt.xlabel(\"Quality of family relationship\")\nplt.show()\n\n\nax = sns.boxplot(x=\"romantic\", y=\"G3\", hue=\"goout\",\n                 data=df)\nplt.ylabel(\"Marks in final exam\")\nplt.xlabel(\"Involved in a romantic relationship\")\nplt.show()\n\n\nax=sns.boxplot(x=\"reason\",y=\"G3\",data=df)\nplt.ylabel(\"Marks in final exam\")\nplt.xlabel(\"Reason to choose this school\")\nplt.show()\n\n\n\n","5c8b4d6a":"\nsns.jointplot(x=df['G1'], y=df['G3'], kind=\"kde\")\n#plt.title(\"2D KDE plot b\/w marks in first exam vs marks in final exam\")\nplt.xlabel('Marks in first exam')\nplt.ylabel('Marks in final exam')\nplt.show()\n\n\n\nsns.jointplot(x=df['G2'], y=df['G3'], kind=\"kde\")\n#plt.title(\"2D KDE plot b\/w marks in second exam vs marks in final exam\")\nplt.xlabel('Marks in second exam')\nplt.ylabel('Marks in final exam')\nplt.show()\n","edb1a338":"from sklearn import preprocessing \n  \n# label_encoder object knows how to understand word labels. \nlabel_encoder = preprocessing.LabelEncoder() \n  \n# Encode labels in columns\n\nromantic_no=label_encoder.fit_transform(df['romantic'])\n\nprint(romantic_no[0])\nprint(df['romantic'][0])\n","82ccf0e3":"df['romantic']=romantic_no","ab36cc90":"famsize_no=label_encoder.fit_transform(df['famsize'])\ndf['famsize']=1-famsize_no\n\nactivities_no=label_encoder.fit_transform(df['activities'])\ndf['activites']=activities_no\n\ndf['Pstatus']=label_encoder.fit_transform(df['Pstatus'])\ndf['nursery']=label_encoder.fit_transform(df['nursery'])\ndf['internet']=label_encoder.fit_transform(df['internet'])\ndf['higher']=label_encoder.fit_transform(df['higher'])\ndf['schoolsup']=label_encoder.fit_transform(df['schoolsup'])\ndf['famsup']=label_encoder.fit_transform(df['famsup'])\ndf['paid']=label_encoder.fit_transform(df['paid'])\n","8f5ed95b":"print(df.head())","431f949a":"df.info()","523cf8d3":"grouped_df=df.groupby('grades')\nprint(grouped_df['freetime','famrel','goout','romantic','Pstatus','activities','paid'].mean())\n","1fb77b6f":"plt.figure(figsize=(10,6))\nplt.title(\"Relationship Quotient Vs Grade\")\nsns.barplot(x=[\"A\",\"B\",\"C\",\"D\",\"F\"], y=grouped_df['romantic'].mean())\nplt.ylabel(\"Relationship Quotient\")\nplt.xlabel(\"Grade\")","dc1a6deb":"plt.figure(figsize=(10,6))\nplt.title(\"Free Time Vs Grade\")\nsns.barplot(x=[\"A\",\"B\",\"C\",\"D\",\"F\"], y=grouped_df['freetime'].mean())\nplt.ylabel(\"Free Time\")\nplt.xlabel(\"Grade\")","58e4eb3c":"plt.figure(figsize=(10,6))\nplt.title(\"Goout Vs Grade\")\nsns.barplot(x=[\"A\",\"B\",\"C\",\"D\",\"F\"], y=grouped_df['goout'].mean())\nplt.ylabel(\"GO out\")\nplt.xlabel(\"Grade\")","57f92e84":"# Citation:\n1. P. Cortez and A. Silva. Using Data Mining to Predict Secondary School Student Performance. In A. Brito and J. Teixeira Eds., Proceedings of 5th FUture BUsiness TEChnology Conference (FUBUTEC 2008) pp. 5-12, Porto, Portugal, April, 2008, EUROSIS, ISBN 978-9077381-39-7.\n2. Cramer's V Correlation matrix code -: https:\/\/www.kaggle.com\/chrisbss1\/cramer-s-v-correlation-matrix\n","3a339efd":"* This shows in a very beautiful manner the linear relationship present b\/w the marks in final exam VS the marks in the first\/second exams respectively\n* Also the data is centered around (10,10) in both plots","8f3350b0":"* There doesn't seem to be any relationship amongst the variables (This was what we concluded after observing the heat map)","3c5307d3":"Converting more categorical labels to numeric(by checking if encoding is right)","43820a31":"Presence of null objects and datatypes","eb99cabb":"* We aim to identify, using data visualizaton, key features that affects students performance in the third math exam. To have a look at the descriptions of the attributes, check out https:\/\/www.kaggle.com\/janiobachmann\/math-students\n* Data collected during the 2005-2006 academic year from the Alentejo region from Portugal from two schools.\n* The attributes such as math marks in year 1, year 2 was collected from the school records. \n* Social\/economic attributes was collected by making the students fill in a questionnaire.","5c075755":"# **Go out Vs Grade**","d6aa7724":"* The students that get A grade seem to be less likely to be in a romantic relationship than others","58ad6c5c":"5. Add a heatmap to the matrix","b1ad27eb":"4. Building of the matrix","bb27a3a8":"We use the Cramer's V correlation matrix to identify correlation b\/w categorical features. ","056e3106":"# **No of absent days VS Marks scatter plot**","01f9276c":"* There doesn't seem to be any relationship amongst the variables (This was what we concluded after observing the heat map)","337fb096":"# **Relationship Quotient Vs Grade**","97e9c7c7":"* We see that there is almost a negligible relationship with all the categorical attributes and grades","0dbf909e":"# **Feature Engineering**","c0823390":"3. Building of the Cramer's V function","05e680bf":"* The previous grades G1 and G2 seem to be positively linearly correlated to G3","c46b998d":"# **Free Time Vs Grade**","9b184b6f":"# **Boxplots**","00d25cf1":"We want to use label encoding for ONLY those labels in which the labels can be compared to one another. For example if the labels were short and tall, we would assign 0 to short and 1 to tall","1e0a8315":"# 2D KDE plots","29776e41":"# **Scatter Plots**","391322a2":"Relationship Quotient of a set of students is defined as the average no of students in that set in a romantic relationship","d9ada131":"# Conclusions from Exploratory Data Analysis:\n1. Most categorical features don't seem to affect student's performance in exams,when compared to the continous attributes.This is quite surprising, because apriori one would assume social factors such as quality of family relationship\/ whether the student goes to paid tuitons or not,etc would have played a big factor\n2. The categorical attributes also don't seem to be correlated with one another. \n3. The most important factors which determine student's performance in the final math exam seem to be student's previous performance in the previous 2 exams\n","42c0ec16":"# Do you want to know what makes a student good at Math?\n# Do you like looking at beautiful graphs and visualizations?\n***If so then this Kernel is perfect for you!***","b3c7bc43":"# **Bar Plots**","e82fe39e":"Elementary statistics associated with the data","521aff95":"We label encode the 'romantic' attribute('romantic'='yes' if student is in a romantic relationship, else it is 'no'). We want to assign 0 to 'no' and 1 to 'yes'","a3eb37bf":"Categorical Output-\nGrades: A,B,C,D,F\n* The grading system is as given in the code below","b27610c6":"1. We firstly remove all the continous attributes from our dataframe","64877518":"Categorical Output- \nPass Vs Fail \n* A student fails if he\/she gets below 10","171f7410":"# Things to Improve\/build on:\n* Use data from different places around the world and different age groups(eg pre-school\/school\/university life) to check if the conclusions we derieved from this dataset are universal truths\n\n\n","2c429382":"* We first group the data based on the grades obtained by the student. \n* We wish to see whether we can predict any attribute of the student given their grade.","bf75278d":"Check out the first few rows of the data","7f499be9":"* Note that the authors of the 'Using Data Mining to Predict Secondary School Student Performance' paper have collected the data. They have been formaly cited below. \n* They have also built a fairly accurate model for prediction. Hence we shall not address the issue of prediction here. ","5f59531d":"* There doesn't seem to be much a relation with no of absent days and marks. However since most students have taken only between 0 to 10 days of leave, we might not have enough information to conclude much","354abd36":"Import the required libraries","ed5c7329":"We have a look at a 2D KDE plot between marks in the final exam vs the first\/second exam respectively","64ec1073":"* 1\/3rd of the people have failed in the exam, which is quite surprising. \n* More than half the people have recieved a D and a F grade","cabae88b":"Get data","79bc8728":"# **Cramer's V correlation matrix**","75b95a47":"Our assignment, by luck turned out to be correct. We could have gotten 1 to be assigned to no instead of 0, then we should have modified the labelling","ec7770c4":"Helper function to find percentage of people passed and grade percentage","624431b2":"* The boxplots don't give much information as the categorical factors don't seem to be correlated with the final exam marks","4d8bebf0":"2. Label Encoding of the categorical features is then done","01a88bd1":"**Converting Categorical data to Numerical data**"}}