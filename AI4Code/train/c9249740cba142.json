{"cell_type":{"255da604":"code","1e7dbb2b":"code","7fb4b01e":"code","32190a04":"code","54482124":"code","651110da":"code","b01eadd0":"code","a7d2e88a":"code","af205103":"code","c274189e":"code","ae28d99d":"code","f45e6f92":"code","c36fde17":"markdown","7eff7894":"markdown","84d90ab0":"markdown","23cfe949":"markdown","f5524869":"markdown","22b1cf3e":"markdown","dd16ee72":"markdown"},"source":{"255da604":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\nimport matplotlib.pyplot as plt\nfrom PIL import Image\nfrom pathlib import Path\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","1e7dbb2b":"train_df = pd.read_csv('..\/input\/train_relationships.csv')\ntrain_images =  Path('..\/input\/train\/')\ntest_images = Path('...\/input\/test\/')\ntrain_df.head()\n","7fb4b01e":"train_df.shape","32190a04":"missing_folders = []\ntemp_list = list(train_df.p1)+list(train_df.p2)\nall_list = list(set(temp_list))\nall_list.sort()\nfor i in all_list:\n    if(os.path.exists(train_images\/i)==False):\n        #If no such directory exists\n        missing_folders.append(i)\n    \nprint(len(missing_folders))","54482124":"train_df = train_df[~train_df[\"p1\"].isin(missing_folders)]\ntrain_df = train_df[~train_df[\"p2\"].isin(missing_folders)]","651110da":"train_df.shape #Ignoring missing directories","b01eadd0":"temp_list = list(train_df.p1) + list(train_df.p2)\nall_folders = list(set(temp_list))\nall_folders.sort()\n","a7d2e88a":"max_images = 0\nfor i in all_folders:\n    img_list = os.listdir(train_images \/ i)\n    if(len(img_list)>max_images):\n        max_images = len(img_list)\n        \nprint(max_images)\n","af205103":"def show_img(n):\n    try:\n        n = int(n)\n        img_list = os.listdir(train_images \/ all_folders[n])\n        num_images = len(img_list)\n        print(num_images)\n        if(num_images<=10):\n            fig,ax = plt.subplots(2,5, figsize=(20,10))\n            print(ax.shape)\n            for i in range(len(img_list)):\n                with open(train_images \/ all_folders[n] \/ img_list[i] ,'rb') as f:\n                    img = Image.open(f)\n                    ax[i\/\/5][i%5].imshow(img)\n            fig.show()\n\n        else:\n            fig,ax = plt.subplots((-(-num_images\/\/10)),10, figsize=(40,10))\n            print(ax.shape)\n            for i in range(len(img_list)):\n                with open(train_images \/ all_folders[n] \/ img_list[i] ,'rb') as f:\n                    img = Image.open(f)\n                    ax[i\/\/10][i%10].imshow(img)\n            fig.show()\n    except ValueError:\n        n = all_folders.index(n)\n        img_list = os.listdir(train_images \/ all_folders[n])\n        num_images = len(img_list)\n        print(num_images)\n        if(num_images<=10):\n            fig,ax = plt.subplots(2,5, figsize=(20,10))\n            print(ax.shape)\n            for i in range(len(img_list)):\n                with open(train_images \/ all_folders[n] \/ img_list[i] ,'rb') as f:\n                    img = Image.open(f)\n                    ax[i\/\/5][i%5].imshow(img)\n            fig.show()\n\n        else:\n            fig,ax = plt.subplots((-(-num_images\/\/10)),10, figsize=(40,10))\n            print(ax.shape)\n            for i in range(len(img_list)):\n                with open(train_images \/ all_folders[n] \/ img_list[i] ,'rb') as f:\n                    img = Image.open(f)\n                    ax[i\/\/10][i%10].imshow(img)\n            fig.show()\n        \n","c274189e":"def side_by_side(folder1, folder2):\n\n    img_list1 = os.listdir(train_images \/ folder1)\n    img_list2 = os.listdir(train_images \/ folder2)\n    print(img_list1)\n    print(img_list2)\n\n    fig,ax = plt.subplots(1,2, figsize=(10,10), squeeze=False)\n\n    with open(train_images \/ folder1 \/ img_list1[0] ,'rb') as f:\n        img = Image.open(f)\n        ax[0][0].imshow(img)\n        f.close()\n    with open(train_images \/ folder2 \/ img_list2[0] ,'rb') as f:\n        img = Image.open(f)\n        ax[0][1].imshow(img)\n        f.close()\n    fig.show()\n\n#         else:\n#             fig,ax = plt.subplots((-(-num_images\/\/10)),10, figsize=(40,10))\n#             print(ax.shape)\n#             for i in range(len(img_list)):\n#                 with open(train_images \/ all_folders[n] \/ img_list[i] ,'rb') as f:\n#                     img = Image.open(f)\n#                     ax[i\/\/10][i%10].imshow(img)\n#             fig.show()\n\n","ae28d99d":"show_img('F0002\/MID1')\n#show_img(0)\n","f45e6f92":"side_by_side(\"F0005\/MID1\",\"F0005\/MID3\")","c36fde17":"**Removing Missing Directories\n**\n<br>\nInitial Shape of the dataframe before removing missing directories","7eff7894":"We can use functions to display images by specifying their folder or the order it appears in the list","84d90ab0":"<h1>In order to create a function that displays images in a subplot<\/h1>\n**Create a list that contains all the directories in the training_relationships dataset**","23cfe949":"Shape after removing all the missing directories","f5524869":"**Calculate the maximum number of possible images in the folder for the next function**","22b1cf3e":"<h2> Function to Keep Images Side by Side <\/h2>","dd16ee72":"<h2>Show Image Function <\/h2>\nUsing a nx10 subplot to display the images based on the number of images in the folder. If the number of Images is 45 then it will create a 5x10 subplot. If the number of images is less than 10, we default to creating a 2x5 subplot"}}