{"cell_type":{"2f124d4b":"code","90de6a14":"code","48d38220":"code","fe890d1d":"code","5146284a":"code","a74fb38c":"code","59398347":"code","befd6a41":"markdown","6ac28a3f":"markdown","7a26e1f9":"markdown","cfcc1ca9":"markdown","3c1be49f":"markdown","91431d0a":"markdown","746cce50":"markdown"},"source":{"2f124d4b":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n","90de6a14":"def loadData(path):\n      data = pd.read_csv(path, encoding_errors=\"ignore\")\n      return data","48d38220":"listings = loadData(\"\/kaggle\/input\/airbnb-listings-reviews\/Airbnb Data\/Listings.csv\")\nreviews = loadData(\"\/kaggle\/input\/airbnb-listings-reviews\/Airbnb Data\/Reviews.csv\")","fe890d1d":"def hostListingAcrossCity(df):\n    hostListingCityCount = df.groupby(\"host_id\")[\"city\"].unique().reset_index()\n    hostListingCityCount[\"city_count\"] = hostListingCityCount[\"city\"].apply(\n        lambda x: len(x)\n    )\n    print(hostListingCityCount[\"city_count\"].value_counts())\n        \nhostListingAcrossCity(listings)","5146284a":"def superhostByCity(df, column):\n    sns.set(font_scale=1.5)\n    plt.figure(figsize=(20, 10))\n    title = \"superhost by (city, %s)\" % column\n    result = df.groupby([\"city\", column]).apply(\n        lambda group: (group[\"host_is_superhost\"] == \"t\").sum() * 100.0 \/ group.shape[0]\n    )\n    result = result.to_frame()\n    result.reset_index(inplace=True)\n    result.rename({0: \"Host is superhost (percentage)\"}, inplace=True, axis=1)\n    sns.barplot(\n        x=\"city\", y=\"Host is superhost (percentage)\", hue=column, data=result\n    ).set_title(title)\n    plt.show()\n    \nfor col in [\"host_has_profile_pic\", \"host_identity_verified\", \"room_type\"]:\n    superhostByCity(listings, col)","a74fb38c":"def hostDistributionByYear(df):\n    sns.set(font_scale=1.5)\n    plt.figure(figsize=(20, 10))\n    plt.xticks(rotation=30)\n    df[\"host_since\"] = df[\"host_since\"].apply(lambda x: str(x)[:-5] + \"01-01\")\n    df[\"host_since\"] = pd.to_datetime(df[\"host_since\"], yearfirst=True, errors=\"ignore\")\n    sns.countplot(\n        x=\"host_since\",\n        data=df,\n        order=[str(year) + \"-01-01\" for year in range(2008, 2022)],\n    ).set_title(\"Host distribution by year\")\n    plt.show()\n\nhostDistributionByYear(listings)","59398347":"sns.set(font_scale=1.5)\nplt.figure(figsize=(20, 10))\nplt.xticks(rotation=30)\nresult = listings.groupby([\"city\", \"host_since\"]).size().reset_index()\nresult = result.sort_values(by=\"host_since\")\nresult.rename({0: \"count\"}, inplace=True, axis=1)\nsns.lineplot(x=\"host_since\", y=\"count\", hue=\"city\", data=result)\nplt.show()","befd6a41":"# EDA for Airbnb Listings\n\nIn this notebook, I am trying to solve the problem that I am interested in.  \nI'll keep updating the content until I losing interest to this dataset.","6ac28a3f":"> ### For most of hosts, their listings only located in 1 city.\n> ### But there are two hosts have listings across 8 cities !!!","7a26e1f9":"## Host","cfcc1ca9":"### Distribution of unique city count for each host listings","3c1be49f":"* > ### If listings in Hong Kong, Mexico City and Rio de Janeiro do not provide profile pictures, then there will be no chance for host to be a Superhost.  \n* > ### Listings in Mexico City has more chance for host to be a Superhost.\n* > ### It's kind of weird that host is not verified in Hong Kong has more chance to be a Superhost.","91431d0a":"## Superhost","746cce50":"### Percentage of superhost by (city, column)"}}