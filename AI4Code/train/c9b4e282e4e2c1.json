{"cell_type":{"0069ccfb":"code","f63e76a6":"code","e8927097":"code","cded25d3":"code","78712fb2":"code","dc19e66d":"code","f4feeab5":"code","54e5e3c6":"code","e4483b9c":"code","033da22d":"code","3bf39fbf":"code","92ea3455":"code","6d036227":"code","89a0978b":"code","94bc7c43":"code","83fb4b37":"code","b3f62e91":"code","8536ce81":"code","827d91a2":"code","ab30cd41":"code","cd65960c":"code","33fba8ed":"code","91d1d0ad":"code","2983e4af":"code","e5927a76":"code","e9ac54b0":"code","7f734d24":"code","84ff1200":"code","d3ffa86d":"code","bb51b1cd":"code","90d1e0e8":"code","a4bd037e":"code","4673cab8":"code","c4b173cf":"code","11eaf4d2":"code","095f81ac":"code","d9c398e8":"code","b5093ed6":"code","3e6f7ca5":"code","ba0d97e1":"code","af60b57f":"code","6575cb16":"code","26184089":"code","5544d7a0":"code","44943271":"code","96318f37":"code","213c3ad8":"code","16b610ff":"code","a8e03037":"code","a66aeb97":"code","b44340fc":"code","bd1dd2bb":"code","91998752":"code","2a4a1b9d":"code","9a642045":"code","2e2847dc":"code","3733a2cb":"code","93e9d375":"code","55302dca":"code","e3e0d1c6":"code","998e6b27":"code","7f65eae9":"code","a9bb6d19":"code","3afafecd":"code","0562cd21":"code","c6c96e57":"code","6a2e1709":"code","5581627b":"code","b198cca1":"code","1cc47a22":"code","34d890c2":"code","ba0b88f8":"code","902407b1":"code","2a915773":"markdown","575ff423":"markdown","b3112d7f":"markdown","7cb65908":"markdown","e5e4af5a":"markdown","30139585":"markdown","5c3f5b2c":"markdown","7a413c1c":"markdown","bccb1452":"markdown","4bf56949":"markdown","55de3832":"markdown","05070bf3":"markdown","5ac86048":"markdown","f1da5513":"markdown","5e52a2bd":"markdown","bdff965e":"markdown","6de7b716":"markdown","33d30390":"markdown","71562504":"markdown","e6390bbc":"markdown","7e8f5661":"markdown","1156a934":"markdown","82145f04":"markdown","b7e8f474":"markdown","e4fd14d8":"markdown","a058c5ac":"markdown","8abb501c":"markdown","b2be0f34":"markdown","f56bdc1f":"markdown","db40891f":"markdown","7b904368":"markdown","d0d5d156":"markdown","a14eaa90":"markdown","276fcedc":"markdown","62982ff9":"markdown","9a39d72b":"markdown","087e26a9":"markdown","03b5438e":"markdown","3de0247c":"markdown","fd3da60a":"markdown"},"source":{"0069ccfb":"#Importing necessary libraries\nimport numpy as np \nimport pandas as pd \nimport seaborn as sns\n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n","f63e76a6":"injuryRecord=pd.read_csv('..\/input\/nfl-playing-surface-analytics\/InjuryRecord.csv')\n","e8927097":"#First we are going to inspect the dataset InjuryRecord\nprint(injuryRecord.info()) #to check which type is each attribute\n\n","cded25d3":"print(injuryRecord.shape) #returns (rows,columns)","78712fb2":"print(injuryRecord.describe()) #descriptive statistics about the dataset","dc19e66d":"#Let's have a peak on the dataset\ninjuryRecord.head(5)","f4feeab5":"injuryRecord.isnull().sum()","54e5e3c6":"injuryRecordWithoutPlayKey=injuryRecord[injuryRecord['PlayKey'].isnull()]","e4483b9c":"injuryRecordWithoutPlayKey[['PlayerKey','PlayKey']].groupby('PlayerKey',as_index=False).count()","033da22d":"sns.catplot(x=\"BodyPart\", kind=\"count\", palette=\"ch:.25\", data=injuryRecord);","3bf39fbf":"sns.catplot(x=\"Surface\", kind=\"count\", hue=\"BodyPart\", palette=\"ch:.25\", data=injuryRecord);","92ea3455":"sns.catplot(x='BodyPart', kind=\"count\", hue=\"DM_M42\" ,palette=\"ch:.25\", data=injuryRecord);","6d036227":"sns.catplot(x='BodyPart', kind=\"count\", hue=\"DM_M28\" ,palette=\"ch:.25\", data=injuryRecord);","89a0978b":"sns.catplot(x='BodyPart', kind=\"count\", hue=\"DM_M7\" ,palette=\"ch:.25\", data=injuryRecord);","94bc7c43":"sns.catplot(x='BodyPart', kind=\"count\", hue=\"DM_M1\" ,palette=\"ch:.25\", data=injuryRecord);","83fb4b37":"playList=pd.read_csv('..\/input\/nfl-playing-surface-analytics\/PlayList.csv')","b3f62e91":"print(playList.shape)\nprint(playList.info())\nprint(playList.describe())","8536ce81":"#Let's have a peak on the dataset\nplayList.head(5)","827d91a2":"#NaN values?\n#According to playList.info(), there are NaN values in StadiumType, Weather and PlayType. \n#Let's check \nplayList.isnull().sum()","ab30cd41":"for column in ['StadiumType','Weather','PlayType']:\n    playList[column].fillna(playList[column].mode()[0], inplace=True)","cd65960c":"playList.isnull().sum()","33fba8ed":"playList['Weather'].head()","91d1d0ad":"sorted(list(set(playList['Position'].values)))","2983e4af":"sns.catplot(x=\"Position\", kind=\"count\",hue=\"RosterPosition\",data=playList)","e5927a76":"dataset1=playList[(playList['RosterPosition'] == \"Quarterback\")]","e9ac54b0":"dataset1.info()","7f734d24":"\nsns.catplot(x=\"Position\", kind=\"count\",hue=\"PlayType\",data=dataset1);","84ff1200":"dataset2=playList[(playList['RosterPosition'] == \"Wide Receiver\")]","d3ffa86d":"sns.catplot(x=\"Position\", kind=\"count\",hue=\"PlayType\",data=dataset2);","bb51b1cd":"dataset3=playList[(playList['RosterPosition'] == \"Linebacker\")]","90d1e0e8":"sns.catplot(x=\"Position\", kind=\"count\",hue=\"PlayType\",data=dataset3);","a4bd037e":"dataset4=playList[(playList['RosterPosition'] == \"Running Back\")]","4673cab8":"sns.catplot(x=\"Position\", kind=\"count\",hue=\"PlayType\",data=dataset4);","c4b173cf":"dataset5=playList[(playList['RosterPosition'] == \"Defensive Lineman\")]\nsns.catplot(x=\"Position\", kind=\"count\",hue=\"PlayType\",data=dataset5);","11eaf4d2":"dataset6=playList[(playList['RosterPosition'] == \"Tight End\")]\nsns.catplot(x=\"Position\", kind=\"count\",hue=\"PlayType\",data=dataset6);","095f81ac":"dataset7=playList[(playList['RosterPosition'] == \"Safety\")]\nsns.catplot(x=\"Position\", kind=\"count\",hue=\"PlayType\",data=dataset7);","d9c398e8":"dataset8=playList[(playList['RosterPosition'] == \"Cornerback\")]\nsns.catplot(x=\"Position\", kind=\"count\",hue=\"PlayType\",data=dataset8);","b5093ed6":"dataset9=playList[(playList['RosterPosition'] == \"Offensive Lineman\")]\nsns.catplot(x=\"Position\", kind=\"count\",hue=\"PlayType\",data=dataset9);","3e6f7ca5":"dataset10=playList[(playList['RosterPosition'] == \"Kicker\")]\nsns.catplot(x=\"Position\", kind=\"count\",hue=\"PlayType\",data=dataset10);","ba0d97e1":"sorted(list(set(playList['StadiumType'].values)))","af60b57f":"playList['StadiumType']=playList['StadiumType'].replace(['Bowl','Cloudy','Domed, Open','Domed, open','Heinz Field','Indoor, Open Roof','Open','Oudoor','Ourdoor','Outddors','Outdoor','Outdoor Retr Roof-Open','Outdor','Outside','Retr. Roof - Open','Retr. Roof-Open'],'Outdoors')\nplayList['StadiumType']=playList['StadiumType'].replace(['Closed Dome','Dome','Dome, closed','Domed','Domed, closed','Indoor','Indoor, Roof Closed','Retr. Roof - Closed','Retr. Roof Closed','Retr. Roof-Closed','Retractable Roof'],'Indoors')","6575cb16":"sns.catplot(x=\"FieldType\", kind=\"count\",hue=\"StadiumType\",data=playList);","26184089":"\n#playList and injuryRecord\ndatasetInjuryPlaylist = pd.merge(playList, injuryRecord, on='PlayerKey')\n","5544d7a0":"print(datasetInjuryPlaylist.info())","44943271":"for column in ['StadiumType','Weather','PlayType']:\n    datasetInjuryPlaylist[column].fillna(datasetInjuryPlaylist[column].mode()[0], inplace=True)","96318f37":"print(datasetInjuryPlaylist.info())","213c3ad8":"datasetInjuryPlaylist.head()","16b610ff":"datasetDefensiveLineman=datasetInjuryPlaylist[(datasetInjuryPlaylist['RosterPosition'] == \"Defensive Lineman\")]\ndatasetDefensiveLineman.head()","a8e03037":"sns.catplot(x=\"Position\", kind=\"count\",hue=\"BodyPart\",data=datasetDefensiveLineman);","a66aeb97":"datasetOffensiveLineman=datasetInjuryPlaylist[(datasetInjuryPlaylist['RosterPosition'] == \"Offensive Lineman\")]\nsns.catplot(x=\"Position\", kind=\"count\",hue=\"BodyPart\",data=datasetOffensiveLineman);","b44340fc":"datasetSafety=datasetInjuryPlaylist[(datasetInjuryPlaylist['RosterPosition'] == \"Safety\")]\nsns.catplot(x=\"Position\", kind=\"count\",hue=\"BodyPart\",data=datasetSafety);","bd1dd2bb":"sorted(list(set(datasetInjuryPlaylist['Weather'].values)))","91998752":"#Let's clean a bit.\n","2a4a1b9d":"datasetInjuryPlaylist['Weather']=datasetInjuryPlaylist['Weather'].replace(['Clear','Clear skies','Fair'],'Clear Skies')\ndatasetInjuryPlaylist['Weather']=datasetInjuryPlaylist['Weather'].replace(['Indoor','Indoors','N\/A Indoor','N\/A (Indoors)'],'Controlled Climate')\ndatasetInjuryPlaylist['Weather']=datasetInjuryPlaylist['Weather'].replace(['Light Rain','Rain shower','Rainy','Showers','Scattered Showers','Rain shower','Cloudy, Rain','Cloudy with periods of rain, thunder possible. Winds shifting to WNW, 10-20 mph.'],'Rain')\n\ndatasetInjuryPlaylist['Weather']=datasetInjuryPlaylist['Weather'].replace(['Clear and warm','Sunny, highs to upper 80s','Sunny and warm','Heat Index 95'],'Warm')\ndatasetInjuryPlaylist['Weather']=datasetInjuryPlaylist['Weather'].replace(['Partly clear','Clear to Partly Cloudy','Cloudy','Cloudy, chance of rain','Cloudy, fog started developing in 2nd quarter','Coudy','Hazy','Mostly Cloudy','Mostly Coudy','Mostly cloudy','Overcast','Partly Cloudy','Partly Clouidy','Party Cloudy','Partly cloudy','cloudy'],'Cloudy')\ndatasetInjuryPlaylist['Weather']=datasetInjuryPlaylist['Weather'].replace(['Partly Sunny','Partly sunny','Clear and Sunny','Clear and sunny','Mostly Sunny','Mostly Sunny Skies','Mostly sunny','Sunny Skies','Sunny and clear','Sunny, Windy'],'Sunny')\ndatasetInjuryPlaylist['Weather']=datasetInjuryPlaylist['Weather'].replace(['Cloudy, light snow accumulating 1-3\"','Heavy lake effect snow'],'Snow')\ndatasetInjuryPlaylist['Weather']=datasetInjuryPlaylist['Weather'].replace(['Clear and cold','Clear and Cool','Cloudy and cold','Sunny and cold','Cloudy and Cool'],'Cold')\n","9a642045":"datasetInjuryPlaylist['Weather']=datasetInjuryPlaylist['Weather'].replace(['Cloudy, 50% change of rain','10% Chance of Rain','30% Chance of Rain','Rain Chance 40%','Rain likely, temps in low 40s.'],'RainChance')","2e2847dc":"sorted(list(set(datasetInjuryPlaylist['Weather'].values)))","3733a2cb":"sns.catplot(x=\"BodyPart\", kind=\"count\",hue=\"Weather\",data=datasetInjuryPlaylist)","93e9d375":"sns.catplot(x=\"BodyPart\", kind=\"count\",hue=\"PlayType\",data=datasetInjuryPlaylist)","55302dca":"sorted(list(set(datasetInjuryPlaylist['Temperature'].values)))","e3e0d1c6":"newTemperatureInjuryPlaylist=datasetInjuryPlaylist[datasetInjuryPlaylist.Temperature >-999]","998e6b27":"g = sns.catplot(x=\"BodyPart\", y=\"Temperature\", kind=\"violin\", inner=None, data=newTemperatureInjuryPlaylist)\n","7f65eae9":"playerTrackData=pd.read_csv('..\/input\/nfl-playing-surface-analytics\/PlayerTrackData.csv')","a9bb6d19":"print(playerTrackData.shape)\nprint(playerTrackData.info())\nprint(playerTrackData.describe())","3afafecd":"totalDataset1 = pd.merge(injuryRecord, playerTrackData, on='PlayKey')","0562cd21":"totalDataset1.info()","c6c96e57":"\n    totalDataset1[\"event\"].fillna(totalDataset1[\"event\"].mode()[0], inplace=True)","6a2e1709":"totalDataset1['event']","5581627b":"#First let's check the number of values that the attribute \"value\" can have\nsorted(list(set(totalDataset1['event'].values)))","b198cca1":"#let's make this attribute simpler\ntotalDataset1['event']=totalDataset1['event'].replace(['fumble_defense_recovered','fumble','fumble_offense_recovered'],'fumbleRelated')\ntotalDataset1['event']=totalDataset1['event'].replace(['pass_arrived','pass_forward','pass_outcome_caught','pass_outcome_incomplete','pass_outcome_interception'],'passRelated')","1cc47a22":"totalDataset1['event']=totalDataset1['event'].replace(['punt','punt_downed','punt_fake','punt_land','punt_muffed','punt_play','punt_received'],'puntRelated')\ntotalDataset1['event']=totalDataset1['event'].replace(['kick_received','kickoff','kickoff_play','onside_kick'],'kickRelated')","34d890c2":"totalDataset1['event']=totalDataset1['event'].replace(['huddle_break_offense','huddle_start_offense'],'huddle')","ba0b88f8":"sorted(list(set(totalDataset1['event'].values)))","902407b1":"sns.catplot(x=\"BodyPart\", kind=\"count\",hue=\"event\",data=totalDataset1)","2a915773":"* It seems like Defensive Linemans get more injuries playing as DE(Defensive End), specially knee and foot injuries.\n* Offensive Linemans get more ankle injuries playing as C (center), but more knee injuries playing as T (offensive tackle).\n* Safety players get more injuries playing as FS (free safety), specially ankle injuries.","575ff423":"We can't see anything in this plot, so I'm going to divide the dataset in smaller sets of data.","b3112d7f":"1-Which is the event associated with the most number of injuries?","7cb65908":"Let's get started:","e5e4af5a":"B-Which weather seems to be related with more injuries?","30139585":"1-Reading and preprocessing the data.","5c3f5b2c":"* The type of play that provokes more injuries is pass play, specially knee and ankle injuries. ","7a413c1c":"The attribute Position has these values:","bccb1452":"I'm going to consider the stadiums with open roof as outdoors.","4bf56949":"Now I'm going to merge the two datasets InjuryRecord and PlayList to study the possible relation between parameters like type of injuries and roster position, betweem type of injuries and weather, etc.","55de3832":"The injuries are related with ball_snap event.","05070bf3":"3-Relation between type of play and type of injury.","5ac86048":"Let's focus now on the task in hand. The main question is: What conclusions can we extract from this data? What can we improve? These are the basics steps to do a correct data analysis:\n\nA)Preprocessing the data.\n* What type of are the attributes?\n* Are there any NaN values?\n* Do we need to normalize any attribute?\n* ...\n\nB)Visualization of the data.\n* Using Seaborn or pandas.\n\nC)Studying the data. \n* Make your theories : what phenomenas seems to be happening? Is there any relation between some attributes?\n\nD)\"Play with the data\".\n* Create your own attributes, make predictions, etc.\n\nE)Conclusions.\n* The main goal of this study is to extract some useful conclusions which would serve to improve the life quality!","f1da5513":"2-Visualizating the data. Let's make questions about this dataset:","5e52a2bd":"I don't think there is a real relation between the cloudy weather and more injuries. ","bdff965e":"First of all, why is so important the growing application of data science in sports? I want to do a short dissertation here. As a novice in the Kaggle environment, I think this is a good oportunity to present the motivations that lead me to focus on the Data Science Field, especially in its applications to sports. I think that the main goal of Data Science is improving the quality of life of the people. At least, that is the vision that I have. So the natural course is using the data in the field of professional sport: with the data, we can study about the injuries that ends promising careers of athletes and how to avoid them; about how can we improve their performance on the field and consequently their satisfaction and self esteem (mental health has a great impact on the efficiency of these athletes too); in conclusion, we study about how can we improve their security and well-being.  ","6de7b716":"Parameter \"Event\" has a lot of NaN values. Let's fill these empty values with the mode of the \"Event\" column.","33d30390":"**C)PlayerTrackData**","71562504":"These three attributes are categorical attributes. We are going to fill these NaN values with the mode of each column.\n","e6390bbc":"A)Was the roster position of the player equal to the position of the player in the play?","7e8f5661":"As we could see in info(), the only attribute with NaN values is PlayKey. PlayKey uniquely identifies a player's plays within a game (in sequential order). So it doesn't make sense should we apply such a tecnique like using the mean of the other values of the column to fill these empty values. \n\n","1156a934":"A-Which kind of injuries do defensive linemans usually get? And the offensive? The safety players?","82145f04":"I'm going to merge this dataset with InjuryRecord.csv.","b7e8f474":"* It seems like linebackers get much more plays playing as outside linebackers (OLB). \n* Defensive Linemans usually play at DE and DT positions.\n* Safety players usually play at FS and SS positions.\n* Offensive Linemans play at T,G and C positions, in that order of priority.\n* Kickers usually stay at K position but they can play at P position too.\n* The most typical plays for every type of player are Pass and Rush, except for kickers. Kickers participate in Extra Point, Kickoff, Field Goal, Kickoff Not Returned and Kickoff Returned plays.","e4fd14d8":"4-Relation between Temperature and number of injuries.","a058c5ac":"B)Relation between FieldType and StadiumType\n","8abb501c":"* The number of total injuries seems to decrease when a natural surface is used, although foot injuries increase. But there are not heel injuries when a synthetic surface is used.\n*  It seems that there are no heel injuries related to the synthetic surface.\n* When a synthetic surface is used, ankle injuries are slightly more common than knee injuries. \n* Toes injuries appear more when a synthetic surface is used.\n ","b2be0f34":"C-Which kind of injury makes the player miss more days?\nWe are going to check the DM_M42 attribute, a one-hot encoding indicating 42 or more days missed due to the injury.","f56bdc1f":"**B)PlayList Dataset**","db40891f":"2-Visualizating the data. Let's make questions about this dataset:","7b904368":"* Knee injuries are the type of injuries that make the player to miss more days.\n* Every type of these injuries require the player to miss 1 or more days.\n* Most of the knee and ankle injuries require the player to miss 7 or more days. The player will miss between 7 and 28 days.  \n* Foot injuries always seems to make the player miss 28 or more days. Furthermore, they will probably make the player miss 42 days or more. \n* Heel injuries make the player to miss 7 or more days, but no more than 27.\n\n\n","d0d5d156":"A-Which kinds of injuries are the most frequent?\n","a14eaa90":"Higher temperatures are related with more injuries.","276fcedc":"Let's check if there is any NaN value.\n\n","62982ff9":"B-Which kind of surfarce seems to be more related to injuries?\n","9a39d72b":"2-Visualization of the data","087e26a9":"Let's see the possible values of Weather.","03b5438e":"Since a temperature of -999 F\u00ba seems very unlikely, I'm going to obviate that value.","3de0247c":"1-Preprocessing the data","fd3da60a":"**A)Dataset InjuryRecord**\n\n1-Reading and preprocessing the data."}}