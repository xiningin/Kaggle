{"cell_type":{"d41d223a":"code","b237e821":"code","8e9f901d":"code","bcfc8f43":"code","d3fb6b1d":"code","7399e9dd":"code","ec8946bd":"code","acc30710":"code","b6a5f10a":"code","95d1b33c":"code","680a0aab":"code","fb37199d":"code","3fb549d2":"markdown","c08407f3":"markdown","d51c66a6":"markdown","80d0ff7c":"markdown","ca1199d2":"markdown","ff122895":"markdown","6ff777ad":"markdown","2235ddb7":"markdown","92f8d528":"markdown","3424258e":"markdown","5d4472c8":"markdown","745c6f11":"markdown","fc0468b4":"markdown"},"source":{"d41d223a":"from PIL import Image \nImage.open(\"..\/input\/ab-testing-pic\/ab-testing-picc.png\")","b237e821":"!pip install openpyxl\nimport itertools\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport statsmodels.stats.api as sms\nfrom scipy.stats import ttest_1samp, shapiro, levene, ttest_ind   \nfrom statsmodels.stats.proportion import proportions_ztest\n\npd.set_option('display.max_columns', None)\npd.set_option('display.max_rows', 10)\npd.set_option('display.float_format', lambda x: '%.5f' % x)","8e9f901d":"df_c = pd.read_excel(\"..\/input\/ab-testing\/ab_testing.xlsx\",sheet_name=\"Control Group\")\ndf_t = pd.read_excel(\"..\/input\/ab-testing\/ab_testing.xlsx\",sheet_name=\"Test Group\")","bcfc8f43":"df_c[\"Purchase\"].mean()      #Let's observe the purchase mean of control group.\n","d3fb6b1d":"df_t[\"Purchase\"].mean()      #Let's observe the purchase mean of test group.","7399e9dd":"data=[df_c[\"Purchase\"],df_t[\"Purchase\"]]\nplt.boxplot(data);           #Let's see the boxplot grafic of purchases mean.","ec8946bd":"#Let's see the histogram grafic of purchases for both control and test group.\nplt.figure(figsize=[10,5])\nn, bins, patches = plt.hist(x=df_c[\"Purchase\"], bins=10, color='#5F9EA0')\nplt.xlabel('Purchase',fontsize=15)\nplt.ylabel('Frequency',fontsize=15)\nplt.title('Purchase of Control Group',fontsize=15)\nplt.show()","acc30710":"plt.figure(figsize=[10,5])\nn, bins, patches = plt.hist(x=df_t[\"Purchase\"], bins=10, color='#3D59AB')\nplt.xlabel('Purchase',fontsize=15)\nplt.ylabel('Frequency',fontsize=15)\nplt.title('Purchase of Test Group',fontsize=15)\nplt.show()","b6a5f10a":"\ntest_stat, pvalue = shapiro(df_c[\"Purchase\"])\nprint('Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))\n#Test Stat = 0.9773, p-value = 0.5891\n\ntest_stat, pvalue = shapiro(df_t[\"Purchase\"])\nprint('Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))\n#TTest Stat = 0.9589, p-value = 0.1541","95d1b33c":"test_stat, pvalue = levene(df_t[\"Purchase\"],\n                           df_c[\"Purchase\"])\n\nprint('Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))\n#Test Stat = 2.6393, p-value = 0.1083","680a0aab":"test_stat, pvalue = ttest_ind(df_t[\"Purchase\"],\n                              df_c[\"Purchase\"],\n                              equal_var=True)\n\nprint('Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))\n# Test Stat = 0.9416, p-value = 0.3493","fb37199d":"Maks_succ_count=df_c[\"Click\"].sum()     #204026\nAve_succ_count=df_t[\"Click\"].sum()      #158701\n\nMaks_rev_count=df_c[\"Impression\"].sum()  #4068457\nAve_rev_count=df_t[\"Impression\"].sum()   #4820496\n\n\ntest_stat, pvalue = proportions_ztest(count=[Maks_succ_count, Ave_succ_count],\n                                      nobs= [df_c[\"Impression\"].sum(),\n                                            df_t[\"Impression\"].sum()])\nprint('Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))","3fb549d2":"**Defining the hypothesis of the A\/B test**\n\nH0: There is no statistically significant difference the returns\n of the Maximum Bidding (control) and Average Bidding (test) options.\n \nH1: There is statistically significant difference the returns\n of the Maximum Bidding (control) and Average Bidding (test) options.\n \n After the hypotheses are defined, the normality assumption and variance\n homogeneity are checked.In this direction, \n the normality assumption control is performed first.","c08407f3":"**Required Modules and Libraries**","d51c66a6":"**Normality Assumption Control**\n\nH0: The assumption of normality is provided.\n\nH1: The assumption of normality is not provided.","80d0ff7c":"**Variance Homogeneity Control**\n\n H0: The variances are homogeneous.\n \n H1: The variances are not homogeneous.","ca1199d2":"\nConsequently, two sample t-test were used primarily to see if there was a significant difference between the returns between the two groups. And it was concluded that there was no significant difference between the two groups. However, in this problem, two sample rate test were applied on request via ad viewing and click-through rates. As a result of the two sample rate test,there was a statistically significant difference between the click-through and ad viewing rates. So, we can say that different results can be obtained as a result of the tests used by considering different purposes and different variables.Therefore, it is necessary first of all to express the purpose in the best way and select the appropriate test methods.","ff122895":"Test Stat = 129.3305, p-value = 0.0000\n\np-value is less than 0.05, H0 is rejected.According to Two-Sample Rate Test, There is statistically\n\nsignificant difference between the maximum bidding click-through rate and the average bidding click-through rate","6ff777ad":" **A\/B Testing with Business Problem**\n\n***Business Problem***\n\nThe company recently introduced a new bid type, average bidding,\nas an alternative to the current type of bidding called maximum bidding.\n\nOne of our client decided to test this new feature and wants to do\nan A\/B test to see if average bidding brings more returns than maximum bidding.\n\n***The Story of the Data Set***\n\nThere are two separate data sets, the Control and the Test group.\n\n***Variables***\n* Impression: Number of ad views\n* Click: Number of clicks on the displayed ad\n* Purchase: The number of products purchased after clicked ads\n* Earning: Earnings after the purchased products","2235ddb7":" p-value is less than 0.05, H0 is rejected.\n \n p-value is not less than 0.05, H0 can not rejected.\n \n So in this case, H0 can not rejected and the assumption of normality is provided.","92f8d528":" So in this case, H0 can not rejected and the variances are homogeneous.","3424258e":"**Because of the assumptions provided, non parametric test called two-sample t-test will be used.**","5d4472c8":"So at the end, H0 can not rejected. We can infer that there is no statistically\n\nsignificant difference the returns of the Maximum Bidding (control) and\n\nAverage Bidding (test) options.","745c6f11":"# **A\/B TESTING**\n \n **What is A\/B Testing?**\n\nThe A\/B test is a hypothesis test in which two-sample user experiences are tested. In other words, A\/B testing is a way to compare two versions of a single variable, typically by testing a subject's response to variant A against variant B, and determining which of the two variants is more effective.\n\n","fc0468b4":"**Using Two-Sample Rate Test**\n\nH0: There is no statistically significant difference between the maximum bidding click-through rate and the average\n\nbidding click-through rate.\n\nH1: There is statistically significant difference between the maximum bidding click-through rate and the average \n\nbidding click-through rate"}}