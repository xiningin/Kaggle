{"cell_type":{"f3330d1d":"code","3a331c37":"code","6c30209c":"code","69e4b4a6":"code","c77e5fcc":"code","427834f8":"code","e1cd85f6":"code","1fee6cb8":"code","b04c8024":"code","e896f3f2":"code","db77dac4":"code","b798b00b":"code","37e6c796":"code","7862fb24":"code","66fb6e66":"code","fa1d97cc":"code","0128a951":"code","bb1d0e3f":"code","8d08b50f":"code","0fe13e88":"markdown","a70754a9":"markdown","f113650c":"markdown","03647630":"markdown","12e906e0":"markdown","b5e45e1d":"markdown","55dc3963":"markdown","4ea37e9f":"markdown","4742956f":"markdown","4e22234d":"markdown","225e85bf":"markdown"},"source":{"f3330d1d":"import warnings\nwarnings.filterwarnings(\"ignore\")\nimport pandas as pd\nimport numpy as np\nimport plotly.express as px\nimport plotly.graph_objs as go\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n!pip install bar_chart_race\nimport bar_chart_race as bcr\nsns.set(context=\"notebook\", palette=\"Spectral\", style = 'darkgrid' ,font_scale = 1.5, color_codes=True)\nimport os\nimport folium\n","3a331c37":"india_dataset = pd.read_csv(\"\/kaggle\/input\/covid19-in-india\/covid_19_india.csv\")\nindia_dataset['State\/UnionTerritory'].unique()\nindia_dataset = india_dataset[~india_dataset['State\/UnionTerritory'].isin(['Unassigned', 'Nagaland#', 'Jharkhand#','Cases being reassigned to states'])]\nindia_dataset['Date'] = pd.to_datetime(india_dataset['Date'],format = \"%d\/%m\/%y\")\nindia_dataset = india_dataset.replace(np.nan,0)\n## Loading the dataset\nindia_date_state_wise_cases = india_dataset.groupby(['Date','State\/UnionTerritory'])['Cured','Deaths','Confirmed'].sum().reset_index()\nindia_date_state_wise_cases['Active_Cases'] = india_date_state_wise_cases['Confirmed'] - (india_date_state_wise_cases['Cured'] + india_date_state_wise_cases['Deaths'])\nindia_date_state_wise_cases['Mortality Rate(per 100)'] = (india_date_state_wise_cases['Deaths']\/india_date_state_wise_cases['Confirmed'])*100","6c30209c":"## Total Cases\ntotal_confirmed_cases = india_date_state_wise_cases.groupby(['Date'])['Confirmed'].sum().reset_index()\nfig = px.line(total_confirmed_cases, x = \"Date\", y = \"Confirmed\")\n\nfig.update_layout(title ='Positive cases of COVID-19',\n                   xaxis_title='Date',\n                   yaxis_title='Positive of COVID-19 Cases'\n                 )\nfig.layout.template = 'plotly_dark'\nfig.show()","69e4b4a6":"total_active_cases = india_date_state_wise_cases.groupby(['Date'])['Active_Cases'].sum().reset_index()\nfig = px.line(total_active_cases, x = \"Date\", y = \"Active_Cases\")\nfig.add_annotation(\n            x=\"2020-03-22\",\n            y= total_active_cases['Active_Cases'].max(),\n            text=\"Lockdown starts\",\n             font=dict(\n            family=\"Courier New, monospace\",\n            size=16,\n            color=\"red\"\n            ),\n)\n\nfig.add_shape(\n        # Line Vertical\n        dict(\n            type=\"line\",\n            x0=\"2020-03-22\",\n            y0=total_active_cases['Active_Cases'].max(),\n            x1=\"2020-03-22\",\n    \n            line=dict(\n                color=\"red\",\n                width=3\n            )\n))\nfig.add_annotation(\n            x=\"2020-06-08\",\n            y= total_active_cases['Active_Cases'].max(),\n            text=\"Lockdown ends\",\n             font=dict(\n            family=\"Courier New, monospace\",\n            size=16,\n            color=\"red\"\n            ),\n)\n\nfig.add_shape(\n        # Line Vertical\n        dict(\n            type=\"line\",\n            x0=\"2020-06-08\",\n            y0=total_active_cases['Active_Cases'].max(),\n            x1=\"2020-06-08\",\n    \n            line=dict(\n                color=\"red\",\n                width=3\n            )\n))\nfig.update_layout(title ='Positive cases of COVID-19',\n                   xaxis_title='Date',\n                   yaxis_title='Positive of COVID-19 Cases'\n                 )\nfig.layout.template = 'plotly_dark'\nfig.show()","c77e5fcc":"total_active_cases['log_Active_Cases'] = np.log(total_active_cases['Active_Cases'])\nfig = px.line(total_active_cases, x = \"Date\", y = \"log_Active_Cases\")\nfig.update_layout(title ='Logarithm of Active cases of COVID-19',\n                   xaxis_title='Date',\n                   yaxis_title='Active Cases of COVID-19')\nfig.layout.template = 'plotly_dark'\nfig.show()","427834f8":"total_death_cases = india_date_state_wise_cases.groupby(['Date'])['Deaths'].sum().reset_index()\nfig = px.line(total_death_cases, x = \"Date\", y = \"Deaths\")\nfig.update_layout(title ='Deaths COVID-19',\n                   xaxis_title='Date',\n                   yaxis_title='Deaths from COVID-19')\nfig.layout.template = 'plotly_dark'\nfig.show()","e1cd85f6":"total_death_cases['log_Deaths'] = np.log(total_death_cases['Deaths'])\nfig = px.line(total_death_cases, x = \"Date\", y = \"log_Deaths\")\nfig.update_layout(title ='Logarithm of Deaths from COVID-19',\n                   xaxis_title='Date',\n                   yaxis_title='Deaths of COVID-19')\nfig.layout.template = 'plotly_dark'\nfig.show()","1fee6cb8":"most_effected_covid_states = india_date_state_wise_cases.groupby('State\/UnionTerritory').sum().sort_values('Confirmed',ascending = False)\ntop10_most_effected_states = most_effected_covid_states.head(10)\ntop10_most_effected_states['State\/UnionTerritory'] = top10_most_effected_states.index\ntop_states = top10_most_effected_states['State\/UnionTerritory'].tolist()\n## Check if the states name is present in \"top 10 effected states\" then include in the dataset\nindia_date_state_wise_cases_filtered = india_date_state_wise_cases[india_date_state_wise_cases['State\/UnionTerritory'].isin(top_states)]","b04c8024":"fig = px.line(india_date_state_wise_cases_filtered, x = \"Date\", y = \"Confirmed\", color ='State\/UnionTerritory',color_discrete_sequence = px.colors.qualitative.Dark24)\nfig.update_layout(title ='State wise cases of COVID-19',\n                   xaxis_title='Date',\n                   yaxis_title='Confirmed Corona Cases over time State wise')\nfig.layout.template = 'plotly_dark'\nfig.show()","e896f3f2":"fig = px.line(india_date_state_wise_cases_filtered, x = \"Date\", y = \"Active_Cases\", color ='State\/UnionTerritory')\nfig.update_layout(title ='State wise cases of COVID-19',\n                   xaxis_title='Date',\n                   yaxis_title='Active Corona Cases over time State wise')\nfig.layout.template = 'plotly_dark'\nfig.show()","db77dac4":"india_date_wise_cases = india_dataset.groupby(['Date'])['Cured','Deaths','Confirmed'].sum().reset_index()\nindia_date_wise_cases['Active_Cases'] = india_date_wise_cases['Confirmed'] - (india_date_wise_cases['Cured'] + india_date_wise_cases['Deaths'])\nfig = go.Figure()\nfig.add_trace(go.Scatter(x = india_date_wise_cases['Date'], y = india_date_wise_cases['Confirmed'],\n                    mode = 'lines + markers',\n                    name = 'Confirmed Cases'))\nfig.add_trace(go.Scatter(x = india_date_wise_cases['Date'], y = india_date_wise_cases['Deaths'],\n                    mode = 'lines + markers',\n                    name = 'Deaths'))\nfig.add_trace(go.Scatter(x = india_date_wise_cases['Date'] , y = india_date_wise_cases['Cured'] ,\n                    mode ='lines + markers',\n                    name ='Cured'))\nfig.add_trace(go.Scatter(x = india_date_wise_cases['Date'] , y = india_date_wise_cases['Active_Cases'] ,\n                    mode ='lines + markers',\n                    name ='Active Cases'))\nfig.update_layout(title ='Daily Death,Recovered and New Cases of COVID-19 reported in India',\n                   xaxis_title ='Date',\n                   yaxis_title ='Cases')\n\nfig.layout.template = 'plotly_dark'\nfig.show()","b798b00b":"india_state_covid_cases = india_dataset.drop_duplicates([\"State\/UnionTerritory\"], keep = 'last', inplace = False)\nindia_state_covid_cases = india_state_covid_cases[[\"State\/UnionTerritory\",\"Cured\",\"Deaths\",\"Confirmed\"]]\nindia_state_covid_cases['Active_Cases'] = india_state_covid_cases['Confirmed'] - (india_state_covid_cases['Cured'] + india_state_covid_cases['Deaths'])\nindia_state_covid_cases['Mortality Rate (Per 100)'] = np.round((india_state_covid_cases['Deaths']\/india_state_covid_cases['Confirmed'])*100,2)\nindia_state_covid_cases = india_state_covid_cases.replace(np.nan,0)\nindia_state_covid_cases = india_state_covid_cases.set_index('State\/UnionTerritory')\nindia_state_covid_cases.sort_values('Confirmed', ascending= False).style.background_gradient(cmap='Blues',subset=[\"Confirmed\"])\\\n                        .background_gradient(cmap='Reds',subset=[\"Deaths\"])\\\n                        .background_gradient(cmap='Greens',subset=[\"Cured\"])\\\n                        .background_gradient(cmap='YlOrBr',subset=[\"Mortality Rate (Per 100)\"])","37e6c796":"india_state_covid_cases['States'] = india_state_covid_cases.index\nindia_state_covid_cases['Active_Cases(in %)'] =  (india_state_covid_cases['Active_Cases']\/india_state_covid_cases['Active_Cases'].sum()) * 100\nfig = px.scatter(india_state_covid_cases, x = \"Active_Cases(in %)\", y = \"Mortality Rate (Per 100)\",size = \"Mortality Rate (Per 100)\", color = \"States\",\n                 hover_name='Active_Cases', log_x = False, size_max = 30)\nfig.layout.template = 'plotly_dark'\nfig.show()","7862fb24":"most_affected_states = india_dataset.drop_duplicates([\"State\/UnionTerritory\"], keep = 'last', inplace = False)\nfig = px.bar(most_affected_states.sort_values('Confirmed',ascending = False)\n            .sort_values('Confirmed', ascending = True),\n            x = \"Confirmed\",y = \"State\/UnionTerritory\",\n            color_discrete_sequence = px.colors.qualitative.Alphabet,\n            title = \"Total Confirmed COVID cases till now in India\",\n            orientation = 'h')\nfig.update_layout(title ='State wise COVID-19 Cases',\n                   yaxis_title ='State',\n                   xaxis_title ='Confirmed Cases from COVID-19')\n\nfig.layout.template = 'plotly_dark'\nfig.show()","66fb6e66":"most_affected_states = india_dataset.drop_duplicates([\"State\/UnionTerritory\"], keep = 'last', inplace = False)\nfig = px.bar(most_affected_states.sort_values('Deaths',ascending = False)\n            .sort_values('Deaths', ascending = True),\n            x = \"Deaths\",y = \"State\/UnionTerritory\",\n            color_discrete_sequence = px.colors.qualitative.Light24,\n            title = \"Total Deaths COVID cases till now in India\",\n            orientation = 'h')\nfig.update_layout(title ='State wise COVID-19 Cases',\n                   yaxis_title ='State',\n                   xaxis_title ='Deaths Cases from COVID-19')\n\nfig.layout.template = 'plotly_dark'\nfig.show()","fa1d97cc":"fig = px.bar(most_affected_states.sort_values('Cured',ascending = False)\n            .sort_values('Cured', ascending = True),\n            x = \"Cured\",y = \"State\/UnionTerritory\",\n            color_discrete_sequence = px.colors.qualitative.Dark2,\n            title = \"Total COVID cases till now in India\",\n            orientation = 'h')\nfig.update_layout(title ='State wise COVID-19 Cases',\n                   yaxis_title ='State',\n                   xaxis_title ='Cured from COVID-19')\n\nfig.layout.template = 'plotly_dark'\nfig.show()","0128a951":"race_bar_chart_active_cases = india_date_state_wise_cases\nactive_case_sperad = race_bar_chart_active_cases[['Date','State\/UnionTerritory','Active_Cases']]\n## Convert the data from long to wide data format\nactive_case_spread_wide = active_case_sperad.pivot(index='Date', columns='State\/UnionTerritory', values='Active_Cases')\nactive_case_spread_wide = active_case_spread_wide.fillna(0)\n","bb1d0e3f":"race_chart = active_case_spread_wide\nbcr.bar_chart_race(\n    df=race_chart,\n    filename='covid19_run_barchart.mp4',\n    orientation='h',\n    sort='desc',\n    n_bars=6,\n    fixed_order=False,\n    fixed_max=True,\n    steps_per_period=10,\n    interpolate_period=False,\n    label_bars=True,\n    bar_size=.95,\n    period_label={'x': .99, 'y': .25, 'ha': 'right', 'va': 'center'},\n    period_fmt='%B %d, %Y',\n    period_summary_func=lambda v, r: {'x': .99, 'y': .18,\n                                      's': f'Active Cases: {v.nlargest(6).sum():,.0f}',\n                                      'ha': 'right', 'size': 8, 'family': 'Courier New'},\n    perpendicular_bar_func='median',\n    period_length=500,\n    figsize=(5, 3),\n    dpi=144,\n    cmap='dark12',\n    title='COVID-19 Active Cases by States',\n    title_size='',\n    bar_label_size=7,\n    tick_label_size=7,\n    shared_fontdict={'family' : 'Helvetica', 'color' : '.1'},\n    scale='linear',\n    writer=None,\n    fig=None,\n    bar_kwargs={'alpha': .7},\n    filter_column_colors=False)\n","8d08b50f":"  bcr.bar_chart_race(df = race_chart, sort = 'desc',steps_per_period = 30,filename = None, figsize = (4,8))","0fe13e88":"### -------------- States with Highest Cured Cases from Covid-19 ----------- ","a70754a9":"### ---------- Log Curve of Death Cases from Corona Virus in India ---------","f113650c":"### ---------- Death Cases from Corona Virus in India ------ ","03647630":"### --------- Before and After Active Corona Cases In India --------- ","12e906e0":"###  ------------ Corona Virus Impact of India ---------","b5e45e1d":"### ------------- Most Effected States from Covid-19 -------- ","55dc3963":"### ---------- State- wise Corona Virus Status ------------------ ","4ea37e9f":"### -------------- Increase of Confirmed of Covid-19 cases in India ----------","4742956f":"### ------------- States with Highest reported Confirmed Cases of Covid-19 -------------- ","4e22234d":"### -------------- States with Highest Reported Deaths Cases from Covid-19 --------- ","225e85bf":"### ---------- Log Curve of Active Covid-19 Cases over the time ---------"}}