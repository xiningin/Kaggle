{"cell_type":{"ce1ded4c":"code","2554ffc2":"code","415465f3":"code","dbbee2e9":"code","d1a4a62e":"code","4767a025":"code","18e2cc50":"code","50e469ae":"code","7ae77142":"code","662c956d":"code","bd0bf73f":"code","e67e7c28":"code","1bf5cad7":"code","db82dbe3":"code","5e6a0236":"code","5e2461ce":"code","de769e8b":"code","e56ce9d4":"code","db4ec610":"code","63b5a5cd":"code","89b77230":"code","ebd334ff":"code","50f64d6f":"code","d6072275":"markdown","8cd76559":"markdown","90d173ad":"markdown","d44d569b":"markdown","366a1ce7":"markdown","626f2bdf":"markdown","65feaccc":"markdown","5983605f":"markdown","56f7a576":"markdown","9f5a0f05":"markdown","fe5f4d6b":"markdown","4c5890af":"markdown","a344f3f8":"markdown","2c86f49c":"markdown","642f1db4":"markdown","851c9f8c":"markdown","75608f40":"markdown","49c1471e":"markdown","479d7059":"markdown","dca7a089":"markdown","98c9181b":"markdown","ced94b64":"markdown","f5ce047c":"markdown","e4ecb0bb":"markdown","b5ad11a9":"markdown"},"source":{"ce1ded4c":"from IPython.display import Image\n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Import plotly\nimport plotly.graph_objs as go\nimport plotly.express as px\nimport plotly.figure_factory as ff\nfrom plotly.subplots import make_subplots\n\nimport folium\nfrom folium import Choropleth, Circle, Marker\nfrom folium.plugins import HeatMap, MarkerCluster\n\nfrom sklearn.preprocessing import LabelEncoder, OneHotEncoder\nfrom imblearn.over_sampling import SMOTE\nfrom sklearn.compose import ColumnTransformer\nfrom sklearn.pipeline import Pipeline\nfrom sklearn.model_selection import train_test_split, GridSearchCV\nfrom sklearn.metrics import accuracy_score, precision_score, recall_score, f1_score, roc_auc_score, roc_curve, plot_confusion_matrix, classification_report\nimport xgboost\nfrom xgboost import XGBClassifier\n\nRANDOM_SEED = 0\n\nkaggle_survey_data = pd.read_csv('..\/input\/kaggle-survey-2021\/kaggle_survey_2021_responses.csv', header=1, low_memory=False)\n# list(kaggle_survey_data.columns)\n# kaggle_survey_data.head()\nyears_of_ML_exp = ['1-2 years', '2-3 years', '3-4 years', '4-5 years', '5-10 years', '10-20 years', '20 or more years']\nrelevant_titles = ['Data Scientist', 'Data Analyst', 'Data Engineer', 'Machine Learning Engineer']\nml_exp_learners = kaggle_survey_data[(kaggle_survey_data['For how many years have you used machine learning methods?'].isin(years_of_ML_exp)) & \n                                     (kaggle_survey_data['Who\/what are your favorite media sources that report on data science topics? (Select all that apply) - Selected Choice - None']!='None') &\n                                     (kaggle_survey_data['Select the title most similar to your current role (or most recent title if retired): - Selected Choice'].isin(relevant_titles))]\n\ncolor_discrete_map = {'Data Scientist': 'darkcyan', 'Machine Learning Engineer': 'darkgoldenrod', \n                      'Data Engineer': 'darksalmon', 'Data Analyst': 'darkolivegreen'}","2554ffc2":"def percentOfTotal(dataframe,column_name):\n\n    counts = dataframe[column_name].value_counts(dropna=False)\n    percentages = round(counts*100\/len(dataframe[column_name]),1)\n    percentages = percentages.reset_index().rename(columns={0: 'Percent'})\n    percentages = percentages[percentages['Percent']>0].sort_values('Percent')\n    \n    return percentages\n\ndef createChoropleth(dataframe, title, max_value):\n    \n    fig = px.choropleth(dataframe, \n                        locations = 'Country',  \n                        color = 'Percent',\n                        locationmode = 'country names', \n                        color_continuous_scale = 'plasma',\n                        title = title,\n                        range_color = [0, max_value])\n\n    fig.update(layout=dict(title=dict(x=0.5)))\n    fig.show()\n    \ndef createSunburst(dataframe, path, values, title, color, color_discrete_map=None):\n    \n    fig =px.sunburst(\n        dataframe,\n        path=path,\n        values=values,\n        title=title,\n        color=color,\n        color_discrete_map=color_discrete_map)\n    \n    fig.show()\n    plt.show()\n    \n    \ndef createBarChart(dataframe, x, y, color, title, color_discrete_map=None, text=None, hover_data=None, barmode=None, xaxis=None):\n\n    fig = px.bar(dataframe, x=x, y=y,\n                 color=color, barmode=barmode, hover_data=hover_data,\n                 title=title, text=text, color_discrete_map=color_discrete_map)\n    fig.update_layout(xaxis=xaxis)\n    fig.show()\n    \ndef getRenameColumnsDictionary(column_names):\n    \n    column_names_cleaned = [x.split(' - ')[-1].strip() for x in column_names]\n    column_names_cleaned_dict = {x:y for x,y in zip(column_names, column_names_cleaned)}\n\n    return column_names_cleaned_dict\n\ndef cleanAndTransformMultipleChoiceColumns(dataframe, question_string, columns_to_index, additional_rename_dict=None):\n\n    relevant_columns = [col for col in dataframe.columns if question_string in col]\n    relevant_columns_index = [dataframe.columns.get_loc(c) for c in relevant_columns]\n\n    relevant_columns_dict = getRenameColumnsDictionary(relevant_columns)\n    if additional_rename_dict:\n        relevant_columns_dict.update(additional_rename_dict)\n    dataframe = dataframe.rename(columns=relevant_columns_dict)\n    \n    cleaned_dataframe = dataframe.set_index(columns_to_index).iloc[:,relevant_columns_index[0]-len(columns_to_index):relevant_columns_index[-1]+1-len(columns_to_index)].stack().reset_index().drop(columns=0)\n    \n    return cleaned_dataframe","415465f3":"respondents_df = pd.DataFrame([kaggle_survey_data.shape[0], ml_exp_learners.shape[0]], columns=['Number of Respondents'], \n                              index=['Total Kaggle 2021 Survey Respondents', 'ML Learners with Experience'])\nrespondents_df = respondents_df.reset_index().rename(columns={'index': 'Respondents'})\n\ncreateBarChart(respondents_df, 'Number of Respondents', 'Respondents', color='Respondents', \n               title='Number of Respondents After Filtering to Subgroup', text='Number of Respondents')","dbbee2e9":"ml_exp_learners = ml_exp_learners.rename(columns={'What is your age (# years)?': 'Age (# years)', \n                                                  'What is your gender? - Selected Choice': 'Gender',\n                                                  'In which country do you currently reside?': 'Country'})\nml_exp_learners['Age (# years)'] = pd.Categorical(ml_exp_learners['Age (# years)'], \n                                        categories=['18-21', '22-24', '25-29', '30-34', '35-39', '40-44', '45-49', '50-54', '55-59', '60-69', '70+'],\n                                        ordered=True)\nml_exp_learners = ml_exp_learners.sort_values('Age (# years)')\n\ncountry_age_gender_percents = percentOfTotal(ml_exp_learners, ['Country', 'Age (# years)', 'Gender'])\ncountry_age_gender_percents = country_age_gender_percents.sort_values('Age (# years)')\n\ngender_color_discrete_map = {'Man': '#1f77b4', 'Woman': '#ff7f0e', 'Nonbinary': '#2ca02c', 'Prefer to self-describe': '#9467bd', 'Prefer not to say': '#7f7f7f'}\ncreateBarChart(country_age_gender_percents, x='Age (# years)', y='Percent', color='Gender', \n               hover_data=['Country'], barmode='group',title='Respondents by Age (# years), Gender, and Country', color_discrete_map=gender_color_discrete_map)\ncreateSunburst(country_age_gender_percents, path=['Gender', 'Age (# years)', 'Country'], values='Percent', color='Gender',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=gender_color_discrete_map)","d1a4a62e":"ml_exp_learners = ml_exp_learners.rename(columns={'What is the highest level of formal education that you have attained or plan to attain within the next 2 years?': 'Degree',\n                                                  'Select the title most similar to your current role (or most recent title if retired): - Selected Choice': 'Current Title'})\nml_exp_learners['Degree'] = pd.Categorical(ml_exp_learners['Degree'], \n                                        categories=['I prefer not to answer', 'No formal education past high school', 'Some college\/university study without earning a bachelor\u2019s degree', 'Bachelor\u2019s degree', 'Master\u2019s degree', 'Doctoral degree', 'Professional doctorate'],\n                                        ordered=True)\n\ncountry_degree_percents = percentOfTotal(ml_exp_learners, ['Country', 'Degree'])\ncountry_degree_percents = country_degree_percents[country_degree_percents['Percent']>0].sort_values(['Degree', 'Percent'])\n\nfor degree_ans in country_degree_percents['Degree'].unique():\n    country_degree_percents_filtered = country_degree_percents[country_degree_percents['Degree']==degree_ans]\n    createChoropleth(country_degree_percents_filtered, \n                     f'Highest Level of Formal Education Planned or Attained by Country - {degree_ans}', \n                     max(country_degree_percents_filtered['Percent'])+5)","4767a025":"country_degree_title_percents = percentOfTotal(ml_exp_learners, ['Country', 'Degree', 'Current Title'])\n\ncreateBarChart(country_degree_title_percents, x='Degree', y='Percent', color='Current Title', \n               hover_data=['Country'], title='Respondents by Current Title, Education Level, and Location', color_discrete_map=color_discrete_map,\n               xaxis={'categoryorder':'total descending'})\ncreateSunburst(country_degree_title_percents, path=['Current Title','Degree','Country'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)","18e2cc50":"ml_exp_learners = ml_exp_learners.rename(columns={'In what industry is your current employer\/contract (or your most recent employer if retired)? - Selected Choice': 'Employer Industry',\n                                                  'What is the size of the company where you are employed?': 'Company Size',\n                                                  'Approximately how many individuals are responsible for data science workloads at your place of business?': 'Individuals Responsible for Data Science',\n                                                  'Does your current employer incorporate machine learning methods into their business?': 'Employer Incorporating Machine Learning'})\n\ntitle_industry_percents = percentOfTotal(ml_exp_learners, ['Current Title', 'Employer Industry'])\ntitle_industry_percents['Employer Industry'] = title_industry_percents['Employer Industry'].fillna('None Given')\ntitle_employer_percents = percentOfTotal(ml_exp_learners, ['Current Title', 'Employer Industry', 'Company Size', 'Individuals Responsible for Data Science'])\ntitle_employer_percents[['Employer Industry', 'Company Size', 'Individuals Responsible for Data Science']] = title_employer_percents[['Employer Industry', 'Company Size', 'Individuals Responsible for Data Science']].fillna('None Given')\ntitle_employer_ml_percents = percentOfTotal(ml_exp_learners, ['Current Title', 'Employer Industry', 'Employer Incorporating Machine Learning'])\ntitle_employer_ml_percents[['Employer Industry', 'Employer Incorporating Machine Learning']] = title_employer_ml_percents[['Employer Industry', 'Employer Incorporating Machine Learning']].fillna('None Given')\n\n\ncreateBarChart(title_industry_percents, x='Employer Industry', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Employer Industry', color_discrete_map=color_discrete_map,\n               xaxis={'categoryorder':'total descending'})\ncreateSunburst(title_employer_percents, path=['Current Title', 'Employer Industry', 'Company Size', 'Individuals Responsible for Data Science'], values='Percent', color='Current Title',\n               title='Respondents by Current Title, Employer Industry, Company Size, and Individuals Responsible for Data Science. Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)\ncreateSunburst(title_employer_ml_percents, path=['Current Title', 'Employer Industry', 'Employer Incorporating Machine Learning'], values='Percent', color='Current Title',\n               title='Respondents by Current Title, Employer Industry, and Employer Incorporating Machine Learning. Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)","50e469ae":"important_part_of_role_string = \"Select any activities that make up an important part of your role at work:\"\nimportant_part_of_role_columns_to_index = ['Current Title']\n\ntitle_important_part_of_role = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, important_part_of_role_string, important_part_of_role_columns_to_index)\ntitle_important_part_of_role_percents = percentOfTotal(title_important_part_of_role, list(title_important_part_of_role.columns))\ntitle_important_part_of_role_percents = title_important_part_of_role_percents.rename(columns={title_important_part_of_role_percents.columns[1]: 'Important Part of Role at Work'})\n\ncreateBarChart(title_important_part_of_role_percents, x='Important Part of Role at Work', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Important Part of Role at Work',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_important_part_of_role_percents, path=['Current Title','Important Part of Role at Work'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)","7ae77142":"courses_platforms_string = 'On which platforms have you begun or completed data science courses?'\nmedia_sources_string = 'Who\/what are your favorite media sources that report on data science topics?'\ncourses_media_columns_to_index = ['Current Title']\n\ntitle_courses_platforms = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, courses_platforms_string, courses_media_columns_to_index)\ntitle_courses_platforms_percents = percentOfTotal(title_courses_platforms, list(title_courses_platforms.columns))\ntitle_courses_platforms_percents = title_courses_platforms_percents.rename(columns={title_courses_platforms_percents.columns[1]: 'Begun or Completed Courses'})\n\ntitle_media_sources = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, media_sources_string, courses_media_columns_to_index)\ntitle_media_sources_percents = percentOfTotal(title_media_sources, list(title_media_sources.columns))\ntitle_media_sources_percents = title_media_sources_percents.rename(columns={title_media_sources_percents.columns[1]: 'Favorite Media Sources'})\n\ncreateBarChart(title_courses_platforms_percents, x='Begun or Completed Courses', y='Percent', color='Current Title', \n               title='Respondents by Current Title, and Begun or Completed Courses',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_courses_platforms_percents, path=['Current Title','Begun or Completed Courses'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)\ncreateBarChart(title_media_sources_percents, x='Favorite Media Sources', y='Percent', color='Current Title', \n               title='Respondents by Current Title, and Favorite Media Sources',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_media_sources_percents, path=['Current Title','Favorite Media Sources'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)","662c956d":"programming_langs_string = 'What programming languages do you use on a regular basis?'\nprogramming_langs_columns_to_index = ['Current Title', 'Years Programming']\nprogramming_langs_additional_rename_dict = {'For how many years have you been writing code and\/or programming?' : 'Years Programming'}\n\ntitle_programming_langs = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, programming_langs_string, programming_langs_columns_to_index, programming_langs_additional_rename_dict)\ntitle_programming_langs_percents = percentOfTotal(title_programming_langs, list(title_programming_langs.columns))\ntitle_programming_langs_percents = title_programming_langs_percents.rename(columns={title_programming_langs_percents.columns[2]: 'Programming Language'})\n\ncreateBarChart(title_programming_langs_percents, x='Programming Language', y='Percent', color='Current Title', \n               hover_data=['Years Programming'], title='Respondents by Current Title, Programming Language, and Years Programming',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_programming_langs_percents, path=['Current Title','Programming Language','Years Programming'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)","bd0bf73f":"ide_regular_use_string = \"Which of the following integrated development environments (IDE's) do you use on a regular basis?\"\nide_regular_use_columns_to_index = ['Current Title']\n\ntitle_ide_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, ide_regular_use_string, ide_regular_use_columns_to_index)\ntitle_ide_regular_use_percents = percentOfTotal(title_ide_regular_use, list(title_ide_regular_use.columns))\ntitle_ide_regular_use_percents = title_ide_regular_use_percents.rename(columns={title_ide_regular_use_percents.columns[1]: 'Regularly Used IDEs'})\n\ncreateBarChart(title_ide_regular_use_percents, x='Regularly Used IDEs', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used IDEs',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_ide_regular_use_percents, path=['Current Title','Regularly Used IDEs'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)","e67e7c28":"hostednotebooks_regular_use_string = 'Which of the following hosted notebook products do you use on a regular basis?'\nhostednotebooks_regular_use_columns_to_index = ['Current Title']\n\ntitle_hostednotebooks_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, hostednotebooks_regular_use_string, hostednotebooks_regular_use_columns_to_index)\ntitle_hostednotebooks_regular_use_percents = percentOfTotal(title_hostednotebooks_regular_use, list(title_hostednotebooks_regular_use.columns))\ntitle_hostednotebooks_regular_use_percents = title_hostednotebooks_regular_use_percents.rename(columns={title_hostednotebooks_regular_use_percents.columns[1]: 'Regularly Used Hosted Notebooks'})\n\ncreateBarChart(title_hostednotebooks_regular_use_percents, x='Regularly Used Hosted Notebooks', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used Hosted Notebooks',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_hostednotebooks_regular_use_percents, path=['Current Title','Regularly Used Hosted Notebooks'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)","1bf5cad7":"specialized_hardware_regular_use_string = 'Which types of specialized hardware do you use on a regular basis?'\nspecialized_hardware_regular_use_columns_to_index = ['Current Title']\n\ntitle_specialized_hardware_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, specialized_hardware_regular_use_string, specialized_hardware_regular_use_columns_to_index)\ntitle_specialized_hardware_regular_use_percents = percentOfTotal(title_specialized_hardware_regular_use, list(title_specialized_hardware_regular_use.columns))\ntitle_specialized_hardware_regular_use_percents = title_specialized_hardware_regular_use_percents.rename(columns={title_specialized_hardware_regular_use_percents.columns[1]: 'Regularly Used Specialized Hardware'})\n\ncreateBarChart(title_specialized_hardware_regular_use_percents, x='Regularly Used Specialized Hardware', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used Specialized Hardware',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_specialized_hardware_regular_use_percents, path=['Current Title','Regularly Used Specialized Hardware'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)","db82dbe3":"visualization_regular_use_string = 'What data visualization libraries or tools do you use on a regular basis?'\nvisualization_regular_use_columns_to_index = ['Current Title']\n\ntitle_visualization_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, visualization_regular_use_string, visualization_regular_use_columns_to_index)\ntitle_visualization_regular_use_percents = percentOfTotal(title_visualization_regular_use, list(title_visualization_regular_use.columns))\ntitle_visualization_regular_use_percents = title_visualization_regular_use_percents.rename(columns={title_visualization_regular_use_percents.columns[1]: 'Regularly Used Data Visualization Libraries or Tools'})\n\ncreateBarChart(title_visualization_regular_use_percents, x='Regularly Used Data Visualization Libraries or Tools', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used Data Visualization Libraries or Tools',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_visualization_regular_use_percents, path=['Current Title','Regularly Used Data Visualization Libraries or Tools'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)","5e6a0236":"bintelligence_regular_use_string = 'Which of the following business intelligence tools do you use on a regular basis?'\nbintelligence_regular_use_columns_to_index = ['Current Title']\n\ntitle_bintelligence_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, bintelligence_regular_use_string, bintelligence_regular_use_columns_to_index)\ntitle_bintelligence_regular_use_percents = percentOfTotal(title_bintelligence_regular_use, list(title_bintelligence_regular_use.columns))\ntitle_bintelligence_regular_use_percents = title_bintelligence_regular_use_percents.rename(columns={title_bintelligence_regular_use_percents.columns[1]: 'Regularly Used Business Intelligence Tools'})\n\ncreateBarChart(title_bintelligence_regular_use_percents, x='Regularly Used Business Intelligence Tools', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used Business Intelligence Tools',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_bintelligence_regular_use_percents, path=['Current Title','Regularly Used Business Intelligence Tools'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)","5e2461ce":"mlframeworks_regular_use_string = 'Which of the following machine learning frameworks do you use on a regular basis?'\nmlalgorithms_regular_use_string = 'Which of the following ML algorithms do you use on a regular basis?'\ncompvision_regular_use_string = 'Which categories of computer vision methods do you use on a regular basis?'\nnlp_regular_use_string = 'Which of the following natural language processing (NLP) methods do you use on a regular basis?'\nmlframealgs_regular_use_columns_to_index = ['Current Title']\n\ntitle_mlframeworks_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, mlframeworks_regular_use_string, mlframealgs_regular_use_columns_to_index)\ntitle_mlalgorithms_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, mlalgorithms_regular_use_string, mlframealgs_regular_use_columns_to_index)\ntitle_compvision_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, compvision_regular_use_string, mlframealgs_regular_use_columns_to_index)\ntitle_nlp_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, nlp_regular_use_string, mlframealgs_regular_use_columns_to_index)\n\ntitle_mlframeworks_regular_use_percents = percentOfTotal(title_mlframeworks_regular_use, list(title_mlframeworks_regular_use.columns))\ntitle_mlframeworks_regular_use_percents = title_mlframeworks_regular_use_percents.rename(columns={title_mlframeworks_regular_use_percents.columns[1]: 'Regularly Used Machine Learning Frameworks'})\n\ntitle_mlalgorithms_regular_use_percents = percentOfTotal(title_mlalgorithms_regular_use, list(title_mlalgorithms_regular_use.columns))\ntitle_mlalgorithms_regular_use_percents = title_mlalgorithms_regular_use_percents.rename(columns={title_mlalgorithms_regular_use_percents.columns[1]: 'Regularly Used Machine Learning Algorithms'})\n\ntitle_compvision_regular_use_percents = percentOfTotal(title_compvision_regular_use, list(title_compvision_regular_use.columns))\ntitle_compvision_regular_use_percents = title_compvision_regular_use_percents.rename(columns={title_compvision_regular_use_percents.columns[1]: 'Regularly Used Computer Vision Methods'})\n\ntitle_nlp_regular_use_percents = percentOfTotal(title_nlp_regular_use, list(title_nlp_regular_use.columns))\ntitle_nlp_regular_use_percents = title_nlp_regular_use_percents.rename(columns={title_nlp_regular_use_percents.columns[1]: 'Regularly Used Natural Language Processing Methods'})\n\ncreateBarChart(title_mlframeworks_regular_use_percents, x='Regularly Used Machine Learning Frameworks', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used Machine Learning Frameworks',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_mlframeworks_regular_use_percents, path=['Current Title','Regularly Used Machine Learning Frameworks'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)\n\ncreateBarChart(title_mlalgorithms_regular_use_percents, x='Regularly Used Machine Learning Algorithms', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used Machine Learning Algorithms',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_mlalgorithms_regular_use_percents, path=['Current Title','Regularly Used Machine Learning Algorithms'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)\n\ncreateBarChart(title_compvision_regular_use_percents, x='Regularly Used Computer Vision Methods', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used Computer Vision Methods',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_compvision_regular_use_percents, path=['Current Title','Regularly Used Computer Vision Methods'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)\n\ncreateBarChart(title_nlp_regular_use_percents, x='Regularly Used Natural Language Processing Methods', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used Natural Language Processing Methods',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_nlp_regular_use_percents, path=['Current Title','Regularly Used Natural Language Processing Methods'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)","de769e8b":"datastorage_regular_use_string = 'Do you use any of the following data storage products on a regular basis?'\nmanagedml_regular_use_string = 'Do you use any of the following managed machine learning products on a regular basis?'\nbigdata_regular_use_string = 'Which of the following big data products (relational databases, data warehouses, data lakes, or similar) do you use on a regular basis?'\nmlexperiments_regular_use_string = 'Do you use any tools to help manage machine learning experiments?'\nproducts_regular_use_columns_to_index = ['Current Title']\n\ntitle_datastorage_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, datastorage_regular_use_string, products_regular_use_columns_to_index)\ntitle_managedml_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, managedml_regular_use_string, products_regular_use_columns_to_index)\ntitle_bigdata_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, bigdata_regular_use_string, products_regular_use_columns_to_index)\ntitle_mlexperiments_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, mlexperiments_regular_use_string, products_regular_use_columns_to_index)\n\ntitle_datastorage_regular_use_percents = percentOfTotal(title_datastorage_regular_use, list(title_datastorage_regular_use.columns))\ntitle_datastorage_regular_use_percents = title_datastorage_regular_use_percents.rename(columns={title_datastorage_regular_use_percents.columns[1]: 'Regularly Used Data Storage Products'})\n\ntitle_managedml_regular_use_percents = percentOfTotal(title_managedml_regular_use, list(title_managedml_regular_use.columns))\ntitle_managedml_regular_use_percents = title_managedml_regular_use_percents.rename(columns={title_managedml_regular_use_percents.columns[1]: 'Regularly Used Managed ML Products'})\n\ntitle_mlexperiments_regular_use_percents = percentOfTotal(title_mlexperiments_regular_use, list(title_mlexperiments_regular_use.columns))\ntitle_mlexperiments_regular_use_percents = title_mlexperiments_regular_use_percents.rename(columns={title_mlexperiments_regular_use_percents.columns[1]: 'Regularly Used ML Experiments Products'})\n\ntitle_bigdata_regular_use_percents = percentOfTotal(title_bigdata_regular_use, list(title_bigdata_regular_use.columns))\ntitle_bigdata_regular_use_percents = title_bigdata_regular_use_percents.rename(columns={title_bigdata_regular_use_percents.columns[1]: 'Regularly Used Big Data Products'})\n\ncreateBarChart(title_datastorage_regular_use_percents, x='Regularly Used Data Storage Products', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used Data Storage Products',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_datastorage_regular_use_percents, path=['Current Title','Regularly Used Data Storage Products'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)\n\ncreateBarChart(title_managedml_regular_use_percents, x='Regularly Used Managed ML Products', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used Managed ML Products',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_managedml_regular_use_percents, path=['Current Title','Regularly Used Managed ML Products'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)\n\ncreateBarChart(title_mlexperiments_regular_use_percents, x='Regularly Used ML Experiments Products', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used ML Experiments Products',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_mlexperiments_regular_use_percents, path=['Current Title','Regularly Used ML Experiments Products'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)\n\ncreateBarChart(title_bigdata_regular_use_percents, x='Regularly Used Big Data Products', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used Big Data Products',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_bigdata_regular_use_percents, path=['Current Title','Regularly Used Big Data Products'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)","e56ce9d4":"anyautmlused_regular_use_string = 'Do you use any automated machine learning tools (or partial AutoML tools) on a regular basis?'\nwhichautomlused_regular_use_string = 'Which of the following automated machine learning tools (or partial AutoML tools) do you use on a regular basis?'\nautoml_regular_use_columns_to_index = ['Current Title']\n\ntitle_anyautmlused_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, anyautmlused_regular_use_string, automl_regular_use_columns_to_index)\ntitle_whichautomlused_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, whichautomlused_regular_use_string, automl_regular_use_columns_to_index)\n\ntitle_anyautmlused_regular_use_percents = percentOfTotal(title_anyautmlused_regular_use, list(title_anyautmlused_regular_use.columns))\ntitle_anyautmlused_regular_use_percents = title_anyautmlused_regular_use_percents.rename(columns={title_anyautmlused_regular_use_percents.columns[1]: 'Regularly Used AutoML Capability'})\n\ntitle_whichautomlused_regular_use_percents = percentOfTotal(title_whichautomlused_regular_use, list(title_whichautomlused_regular_use.columns))\ntitle_whichautomlused_regular_use_percents = title_whichautomlused_regular_use_percents.rename(columns={title_whichautomlused_regular_use_percents.columns[1]: 'Regularly Used AutoML Tool'})\n\n\ncreateBarChart(title_anyautmlused_regular_use_percents, x='Regularly Used AutoML Capability', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used AutoML Capability',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_anyautmlused_regular_use_percents, path=['Current Title','Regularly Used AutoML Capability'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)\n\ncreateBarChart(title_whichautomlused_regular_use_percents, x='Regularly Used AutoML Tool', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used AutoML Tool',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_whichautomlused_regular_use_percents, path=['Current Title','Regularly Used AutoML Tool'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)","db4ec610":"cloudcomp_regular_use_string = 'Which of the following cloud computing platforms do you use on a regular basis?'\ncloudcomp_regular_use_columns_to_index = ['Current Title']\n\ntitle_cloudcomp_regular_use = cleanAndTransformMultipleChoiceColumns(ml_exp_learners, cloudcomp_regular_use_string, cloudcomp_regular_use_columns_to_index)\n\ntitle_cloudcomp_regular_use_percents = percentOfTotal(title_cloudcomp_regular_use, list(title_cloudcomp_regular_use.columns))\ntitle_cloudcomp_regular_use_percents = title_cloudcomp_regular_use_percents.rename(columns={title_cloudcomp_regular_use_percents.columns[1]: 'Regularly Used Cloud Computing Platforms'})\n\ncreateBarChart(title_cloudcomp_regular_use_percents, x='Regularly Used Cloud Computing Platforms', y='Percent', color='Current Title', \n               title='Respondents by Current Title and Regularly Used Cloud Computing Platforms',\n               xaxis={'categoryorder':'total descending'}, color_discrete_map=color_discrete_map)\ncreateSunburst(title_cloudcomp_regular_use_percents, path=['Current Title','Regularly Used Cloud Computing Platforms'], values='Percent', color='Current Title',\n               title='Click Sunburst Chart to Drill Down\/Up', color_discrete_map=color_discrete_map)","63b5a5cd":"# list(ml_exp_learners.columns)","89b77230":"# drop_cols = ['Duration (in seconds)', 'Gender', 'Country']\n# train_test_df = ml_exp_learners.drop(columns=drop_cols)\n# selected_choice_cols = [col for col in train_test_df.columns if 'Selected Choice' in col]\n# train_test_df[selected_choice_cols] = train_test_df[selected_choice_cols].replace(r'[a-zA-Z]+', 1, regex=True)\n# train_test_df[selected_choice_cols] = train_test_df[selected_choice_cols].fillna(0).astype(int)\n# train_test_df.head()","ebd334ff":"# train_test_df.select_dtypes(include=['object'])","50f64d6f":"# train, test = train_test_split(train_test_df, test_size=0.2, shuffle=True, random_state=RANDOM_SEED)\n\n# X = train.loc[:, train.columns != 'Current Title']\n# y = train['Current Title'].values\n# le = LabelEncoder()\n# y_enc = le.fit_transform(y)\n\n# test_X = test.loc[:, test.columns != 'Current Title']\n# test_y = le.transform(test['Current Title'].values)\n# X_train, X_val, y_train, y_val = train_test_split(X, y_enc, test_size=0.2, random_state=RANDOM_SEED)\n\n# columns_to_label = ['Age (# years)', 'Degree', 'For how many years have you been writing code and\/or programming?']\n# for label_col in columns_to_label:\n#     le_features = LabelEncoder()\n#     X_train[label_col] = le_features.fit_transform(X_train[label_col])\n#     X_val[label_col] = le_features.transform(X_val[label_col])\n#     test_X[label_col] = le_features.transform(test_X[label_col])\n\n# #Balance classes\n# # sm = SMOTE(random_state=RANDOM_SEED)\n# # X_train_sm, y_train_sm = sm.fit_resample(X_train,y_train)","d6072275":"# Business Intelligence Tools","8cd76559":"# Programming Language and Years Programming","90d173ad":"# Cloud Computing","d44d569b":"# Gender, Age, and Location","366a1ce7":"# Hosted Notebooks","626f2bdf":"# Title, Education, and Location","65feaccc":"Seems we filtered out about 20K respondents; very interesting! This gives us a really specific focus to start with, which is great. It's easy enough to expand as we need, but since I know these are primarily the people who are dealing with my day-to-day it makes sense to focus here first. Let's try to understand who the remaining people are, starting with demographics.","5983605f":"# A Guide for Creating Your Data Science Brand\n## *Analyzing Kaggle's 2021 survey data to help you understand who to create for and what they need*\n## *Author: Ani Madurkar*","56f7a576":"# Integrated Development Environments","9f5a0f05":"# Imports and Subgroup Filter","fe5f4d6b":"# Products for Data Storage, Machine Learning, and Big Data","4c5890af":"![brandguide.jpg](attachment:b091c936-a97a-4adc-8a30-29220ae81ea0.jpg)\n\n# Objective\n\nI recently graduated from a Masters in Applied Data Science from University of Michigan and have started a Data Scientist\/Engineer role this year alongside multiple Research Assistant engagements for the past year. With that and my obsession with this craft, I've taken up writing and creating content to establish my brand in this space. My content is currently focused on Applied Machine Learning & Data Science that helps others see the art & science of the craft. My primary areas of publishing are Medium and Twitter, but a large pattern I've noticed is that there's a lot of content at the PhD researcher level and at the super beginner level. There's not much content out there written by the intermediate\/advanced professionals that show you how to be better tomorrow. That's where I hope to focus my brand in, and that is also the motivation of this analysis. If nothing else, I hope to better understand what my peers are working on, need help with, and where their attention is for media.\n\nMy initial hypothesis that, like me, intermediate professionals often are confused and overwhelmed with what to learn next. Even the curious & ambitious learners can get lost and it doesn't help that there is a ton of noise related to this field out there. What I, and I'd imagine many in my position, are looking for are applied guides that don't inundate with theory, confusion, or are shallow dives for early learners. So this will be for those already decently proficient looking to elevate their Data Science & Machine Learning game by building their brand.\n\n# 2021 Kaggle Data Science & Machine Learning Survey\n\nThe challenge objective: tell a data story about a subset of the data science community represented in this survey, through a combination of both narrative text and data exploration. A \u201cstory\u201d could be defined any number of ways, and that\u2019s deliberate. The challenge is to deeply explore (through data) the impact, priorities, or concerns of a specific group of data science and machine learning practitioners. That group can be defined in the macro (for example: anyone who does most of their coding in Python) or the micro (for example: female data science students studying machine learning in masters programs). This is an opportunity to be creative and tell the story of a community you identify with or are passionate about!\n\nCan you identify any insights about any of the subgroups within the Kaggle community?\n\nThe subgroup I will focus on are going to be working professionals with at least 1 year of ML experience in this field and use some media form to educate themselves. Furthermore, my peers are primarily Data Scientists, Machine Learning Engineers, Data Engineers, and Data Analysts so I'll filter down to these roles as well.","a344f3f8":"# V. Current State of Work","2c86f49c":"Unfortunately, it's not surprising to see such a disparate difference between men and women here. The field has a lot of work to do to create equality of opportunity for women, and this only confirms that sad reality. The primary age range across both genders though is 25-29, so your beginner\/intermediate practitioner is likely to be most common. Men have more in higher age ranges (30-34, 35-39, 40-44) but women are right up there with relatively high percentages for the younger years (22-24 and 25-29). In each case, we see India having the top most percentage with US a strong second. Women do seem to have very high percentages in India in comparison to other countries, but it is especially notable for the 18-21 range. For men, US is a strong competitor with India in representation here but for women, India appears to be completely dominating.","642f1db4":"# Specialized Hardware","851c9f8c":"# Finding the Product-Market Fit For Your Brand\n--TBD--","75608f40":"# III. Company Information","49c1471e":"# AutoML","479d7059":"# I. Introduction","dca7a089":"# II. Analysis of Learners with Machine Learning Experience","98c9181b":"# Data Visualization Libraries or Tools","ced94b64":"# IV. Where is their attention?","f5ce047c":"# Clustering Learners to Identify Key Segments\n--TBD--","e4ecb0bb":"# Machine Learning Frameworks, Algorithms, Computer Vision Methods, and NLP Methods","b5ad11a9":"# VI. Learning Aspirations\n--TBD--"}}