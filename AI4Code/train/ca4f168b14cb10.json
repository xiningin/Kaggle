{"cell_type":{"145fd2d1":"code","534ce652":"code","24eaf0b2":"code","53608a82":"code","77e9318d":"code","4a9d63fb":"code","60fac03d":"code","298847ab":"code","de096d1d":"code","98769060":"code","ed63f5c3":"code","42e85174":"code","d81b5a17":"code","8d468a9a":"code","83c7674b":"markdown","85b9e23d":"markdown","3e49dcc2":"markdown","b7831c78":"markdown","f28c8737":"markdown","6e1a870f":"markdown","af31b85e":"markdown","7fd806ae":"markdown","de4c2a26":"markdown","9a28e4ea":"markdown","4a027a88":"markdown","6fc8fb32":"markdown","0707a65b":"markdown","4f6823dc":"markdown","3a61c6ae":"markdown","6886ec22":"markdown"},"source":{"145fd2d1":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\npd.set_option('display.max_columns', None) # show all DF columns","534ce652":"cards = pd.read_csv('..\/input\/hearthstone-standard-cards\/hearthstone_standard_cards.csv')\ncards.head()","24eaf0b2":"cards.info()","53608a82":"cards.describe()","77e9318d":"cards.nunique()","4a9d63fb":"# show correlation betwen columns\n\nfig, ax = plt.subplots(figsize=(10, 8))\nsns.heatmap(data=cards.corr(), ax=ax, cmap='twilight_shifted', annot=True)\n\n# fix x ticks\nax.tick_params(top=True, bottom=False, labeltop=True, labelbottom=False)\nplt.setp(ax.get_xticklabels(), rotation=-30, ha=\"right\", rotation_mode=\"anchor\")\nplt.setp(ax.get_ylabel(), rotation=-90)\n\n# set colorbar\ncbar = ax.collections[0].colorbar\ncbar.set_label('Correlation between columns in card data', rotation=-90, labelpad=20)\n\nplt.show()\nplt.close()","60fac03d":"# distribution of card classes\n\nclass_names = pd.read_csv('..\/input\/hearthstone-standard-cards\/metadata\/classes.csv')\nclasses = cards.groupby('classId').count()\n# add in multiclass cards that werent counted in classId\nfor row in cards['multiClassIds']:\n    if len(row) > 2:\n        row = row.strip('[]')\n        row = row.replace(' ', '')\n        row = row.split(',')\n        classes.loc[int(row[1]), 'id'] += 1\nclasses = classes['id'].reset_index()\nmerged = pd.merge(class_names, classes.rename(columns={'id': 'count', 'classId': 'id'}))\n\npalette = ['#034732ff', '#a68653', '#008148ff', '#4e71f2', '#ebc73b', '#c9e5f5', '#5c5558', '#27159e', '#812ab8', '#9e2a2bff', '#c7c7c7']\nmerged.plot.pie(y='count',\\\n                figsize=(7.5,7.5),\\\n                labels=merged['name'],\\\n                colors=palette,\\\n                autopct='%0.2f%%',\\\n                ylabel='',\\\n                legend=None,\\\n                title='Distribution of card classes')\nplt.show()\nplt.close()","298847ab":"# distribution of card rarity\n\nrarity_names = pd.read_csv('..\/input\/hearthstone-standard-cards\/metadata\/rarities.csv')\nrarities = cards.groupby('rarityId').count()\nrarities = rarities['id'].reset_index()\nmerged = pd.merge(rarity_names, rarities.rename(columns={'id': 'count', 'rarityId': 'id'}))\n\npalette = ['#c7c7c7', '#0033ff', '#8d32e3', '#f7a814']\nmerged.plot.pie(y='count',\\\n                figsize=(7.5,7.5),\\\n                labels=merged['name'],\\\n                colors=palette,\\\n                autopct='%0.2f%%',\\\n                ylabel='',\\\n                legend=None,\\\n                title='Distribution of card rarities')\n\nplt.show()\nplt.close()","de096d1d":"# distribution of minon types\n\nminiontype_names = pd.read_csv('..\/input\/hearthstone-standard-cards\/metadata\/minionTypes.csv')\nminiontypes = cards.groupby('minionTypeId').count()\nminiontypes = miniontypes['id'].reset_index()\nmerged = pd.merge(miniontype_names, miniontypes.rename(columns={'id':'count', 'minionTypeId': 'id'}))\n\npalette = ['#21c437', '#68109e', '#9fa7b5', '#6610f2', '#1d6930', '#8c703b', '#c7d7f0', '#d94214']\nmerged.plot.pie(y='count',\\\n                figsize=(7.5,7.5),\\\n                labels=merged['name'],\\\n                autopct='%0.2f%%',\\\n                ylabel='',\\\n                colors=palette,\\\n                legend=None,\\\n                title='Distribution of minion types')\n\nplt.show()\nplt.close()","98769060":"# distribution of card health\n\nhealth = cards.groupby('health').count()\nhealth = health['id'].reset_index()\nhealth = health.rename(columns={'id':'count'})\nhealth = health.astype('int64')\n\nfig, ax = plt.subplots(figsize=(10, 6))\n\nsns.barplot(data=health, x='health', y='count', ax=ax, color='red')\nax.set_title('Distribution of card health')\nplt.show()\nplt.close()","ed63f5c3":"# distribution of card attacks\n\nattacks = cards.groupby('attack').count()\nattacks = attacks['id'].reset_index()\nattacks = attacks.rename(columns={'id':'count'})\nattacks = attacks.astype('int64')\n\nfig, ax = plt.subplots(figsize=(10, 6))\n\nsns.barplot(data=attacks, x='attack', y='count', ax=ax, color='yellow')\nax.set_title('Distribution of card attacks')\nplt.show()\nplt.close()","42e85174":"# distribution of mana cost\n\nmana = cards.groupby('manaCost').count()\nmana = mana['id'].reset_index()\nmana = mana.rename(columns={'id':'count'})\n\nfig, ax = plt.subplots(figsize=(10, 6))\n\nsns.barplot(data=mana, x='manaCost', y='count', ax=ax, color='blue')\nax.set_title('Distribution of card mana cost')\nplt.show()\nplt.close()","d81b5a17":"# let's compare health and attack\nsns.set_style('darkgrid')\nfig, ax = plt.subplots(figsize=(10, 6))\n\nhealth_attack = cards.groupby(['health', 'attack'])['id'].count().reset_index()\nhealth_attack = health_attack.astype('int64')\n\nsns.scatterplot(data=health_attack, x='attack', y='health', size='id', sizes=(20, 4000), ax=ax, alpha=0.4, legend=False)\nax.set_title('Frequency distribution of cards for each attack\/health combination')\n\nplt.show()\nplt.close()","8d468a9a":"# mana cost distribution by class\n\nsns.set_style('white')\nfig, ax = plt.subplots(figsize=(10, 6))\n\nclass_mana_count = cards.groupby(['classId', 'manaCost'])['id'].count().reset_index()\nmerged = pd.merge(class_names, class_mana_count.rename(columns={'id':'count', 'classId':'id'}))\n\npalette = ['#034732ff', '#a68653', '#008148ff', '#4e71f2', '#ebc73b', '#c9e5f5', '#5c5558', '#27159e', '#812ab8', '#9e2a2bff', '#c7c7c7']\nsns.scatterplot(data=merged, x='name', y='manaCost', size='count', sizes=(20, 4000), alpha=0.6, legend=False, ax=ax, hue='name', palette=palette)\nax.set_yticks(range(11))\nplt.xticks(rotation=45)\nax.set_xlabel('class')\nax.set_ylabel('mana cost')\nax.set_title('Frequency distribution of card mana cost per class')\n\nplt.show()\nplt.close()","83c7674b":"Some interesting correlations arise looking at the heatmap above.\n\n- `manaCost` seems to be closely related to both `attack` and `health`.\n- `durability` correlates most strongly with `attack`.\n- `health` and `attack` are related.\n- `armor` and `collectible` are completely white, as seaborn reads their input as bad values. I'm not sure myself why it reads this way. However, it does not seem to negatively impact our ability to analyze the data: `armor` seems to only have 6 total values, and we wouldn't expect the binary `collectible` column to correlate to any of the other columns anyway.","85b9e23d":"### Lastly, let's look at some bubble plot frequency distributions:","3e49dcc2":"A card's rarity in Hearthstone indicates its value. Cards may be deconstructed for \"dust\" relative to their rarity to use in the creation of other cards. Each deck (always consisting of 30 cards) may include up to 2 of any common, free, rare, or epic cards, and only 1 of any legendary card.\n\n- Common is the minority majority of cards.\n- There is almost an equal amount of epic and legendary cards.","b7831c78":"### Now let's explore some of the distributions in the card data:","f28c8737":"Great! Now let's read in the card data and take a look at the first few rows:","6e1a870f":"### Now let's take a look at how some of the numeric data correlates:","af31b85e":"The three plots above share a common thread in that, as stated above, each minion has a mana cost, attack, and health. An experienced Hearthstone player might assume a priori that these three stats are directly related, which is loosely shown above.\n\n- `health`, `attack`, and `manaCost` have most of their values from 1 to 5, tapering off as values increase.\n- `health` has a few unusually high values, which is unique among the three graphs.","7fd806ae":"In Hearthstone, there are 11 classes, each represented as a slice in the pie chart above. Neutral cards may be used by any class, and thus occupies the largest portion of the data.\n\n- Demon Hunter has the most cards by almost a whole percentage point!\n- Warlock has the least amount of cards, but trails behind 4 other classes by only `0.06%`.","de4c2a26":"A minion is a playable card in Hearthstone with a mana cost, attack, and health. Sometimes, a minion can have a specific type, like Dragon or Murloc, as illustrated in the pie chart above. There are many minions that do not have a type. I decided to leave these out of this pie graph, because they clog up the diagram and do not add very much useful information.\n\n- Minions with type All consist of only `0.51%` of all minons. That's because there's only one! Circus Amalgam.\n- Totems have the least amount of representation by a wide margin --- only `1.61%` of all minions with a type!\n- Quilboar also has relatively low representation.\n- Beasts have the most representation of minion types at `24.90%` each.","9a28e4ea":"## Conclusion\n\nIn this notebook we've taken a first look at the Hearthstone Standard Cards dataset. We got an overall picture of the data, looked at correlations, as well as a number of distributions across categories.\n\nI hope you've found this notebook useful. Please feel free to reference it and any feedback is welcome!","4a027a88":"### Let's now inspect the data as a whole to find out a bit more:","6fc8fb32":"Each row has quite a bit of information about each card!\n\nTaking a first look at the data, there seem to be lots of different data types, as well as some NaN values.","0707a65b":"# Exploratory Data Analysis with Hearthstone Standard Cards\n\nLet's see what kind of fun information we can gather in order to practice our basic data manipulation and evaluation skills.\n\nLet's start by importing the necessary modules:","4f6823dc":"As stated previously, one might assume that mana cost, attack, and health are directly related. In the bubble plot above, each bubble is a proportional representation of the average cost of mana for a card with those stats. The bigger the bubble, the higher the average mana cost for a card like that.\n\n- There seems to be a linear relationship between attack and health.\n- There also seems to be a linear relationship between mana cost and the stats of a card.","3a61c6ae":"With the information above, we now have a fuller picture of how the data looks as a whole. Just a couple pieces of quick knowledge we can gather from this include:\n\n- The current total number of Hearthstone standard cards is 1015.\n\n- The `name` and `text` columns are almost entirely unique, so there are some duplicates among them.","6886ec22":"It also is interesting to look at the frequency distribution of the mana cost for each class.\n\n- Demon Hunter appears to have the most even distribution of mana across classes.\n- Neutral contains the most 10-cost cards far more 10-cost cards than any class.\n- All classes have at least one 0-cost card except for Paladin and Shaman.\n- Rogue has no cards that cost 8 or more.\n- Many of the class cards occupy the 1-4-cost range."}}