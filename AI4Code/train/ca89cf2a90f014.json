{"cell_type":{"fdff5929":"code","31dac6e1":"code","22150984":"code","e49c142a":"code","524fd6c0":"code","92b43214":"code","5ba79afd":"code","665276be":"code","ccb7c875":"code","b5e453c2":"code","ca95c741":"code","b25e7bac":"code","cd892e59":"code","e4f56397":"code","6bcdbdbf":"code","3c1bbab2":"code","74f636c1":"code","f8291073":"markdown","0cf5d21b":"markdown","bf483ea7":"markdown","d14c032a":"markdown","dd05c8ff":"markdown","714b0af5":"markdown","5b7bc77b":"markdown","9686a266":"markdown","34976636":"markdown","4b8aa14e":"markdown"},"source":{"fdff5929":"#importamos las bases\n\nimport os\nprint(os.listdir(\"..\/input\"))","31dac6e1":"#modulos necesarios\nimport numpy as np # funciones matem\u00e1ticas\nimport pandas as pd # procesamiento de dataframes\n\n#cargar base de viajes\nBase1 = pd.read_json('..\/input\/AllTrips.json') \nAllTrips = np.transpose(Base1) # transpone la base\n\n#ver Trips en forma de dataframe(tabla)\nAllTrips.head()    #Para saber el tama\u00f1o usar: print (AllTrips.shape)","22150984":"#filtrar solo viajes de m\u00e1s de 0km\nTrips = AllTrips[AllTrips[\"trip_distance\"] > 0]\nTrips.head()","e49c142a":"#columnas requeridas para mapear las ubicaciones de inicio de los viajes\n\nLatS = Trips['trip_start_latitude']\nLonS = Trips['trip_start_longitude']\nTimS = Trips['trip_start_timestamp']","524fd6c0":"#Cargamos un mapa disponible\n\nimport folium #modulo de mapas necesario\nimport folium.plugins #edici\u00f3n de mapas\n\nMap1 = folium.Map(location=[19.42,-99.17],tiles=\"OpenStreetMap\",max_zoom=18) #Otros mapas: Mapbox Bright,Mapbox Control Room, Stamen Toner, Stamen Terrain \nMap1","92b43214":"#Mapeamos los puntos de inicio\n\nfor k,l,m in zip(LatS,LonS,TimS): #ciclo for m\u00faltiple\n    folium.CircleMarker(location=[k,l], \n                  popup = m,\n                  color = \"green\",\n                  fill_color = \"green\",\n                  radius = 2 ).add_to(Map1)\n    \nMap1","5ba79afd":"## Pon tu c\u00f3digo aqu\u00ed\n\n","665276be":"##Pon tu c\u00f3digo aqu\u00ed\n\n","ccb7c875":"#cargamos la base de sucursales\nBranches = np.transpose(pd.read_json('..\/input\/AllBranches.json'))\nBranches.head()","b5e453c2":"#mapeamos las sucursales usando folium.marker y folium.icon\nMap2 = folium.Map(location=[19.42,-99.17],tiles=\"OpenStreetMap\",max_zoom=18) \n\nfor k,l,m in zip(Branches['latitude'],Branches['longitude'],Branches['place']): #el popup no lee comillas\n    folium.Marker(location=[k,l],popup = m, icon=folium.Icon(color='blue',icon='info-sign')).add_to(Map2)   \nMap2","ca95c741":"##Escribe aqu\u00ed tu c\u00f3digo","b25e7bac":"##Escribe tu c\u00f3digo Aqu\u00ed","cd892e59":"##Escribe tu c\u00f3digo aqui","e4f56397":"#cargamos la base de clicks por sucursal\nTableClicks = pd.read_json('..\/input\/ClicksByBranch.json')\nTableClicks.head()","6bcdbdbf":"#contamos el n\u00famero de usuarios que han visto cada sucursal\nUsersViews = pd.DataFrame(TableClicks.count(axis=0),columns=['UsersViews']) #transforma la lista en df\n\n#Ordenamos\nUsersViews.sort_values(by='UsersViews',ascending=False)","3c1bbab2":"##Pon tu c\u00f3digo aqu\u00ed","74f636c1":"##Escribe","f8291073":"**Ejercicio 1 :**\nEn el mismo mapa, mapear en color rojo las ubicaciones finales de los viajes con su etiqueta de tiempo","0cf5d21b":"**Ejercicio 3:** Crear un cat\u00e1logo de colores por tipo de sucursal como el siguiente: \n![image.png](attachment:image.png)","bf483ea7":"**Ejercicio 2 :** Crear un mapa de calor usando las ubicaciones de inicio y fin de los viajes","d14c032a":"**Ejercicio 6 :** Mapear las sucursales en donde el tama\u00f1o del circulo represente el n\u00famero de usuarios que han visto la sucursal y el color el tipo de recompensa","dd05c8ff":"**ACTIVIDAD 3: Mapeo de sucursales por color y por n\u00famero de usuarios interesados**","714b0af5":"**Ejercicio 7:** Agrupa el n\u00famero de clicks por tipo de recompensa.\n","5b7bc77b":"**ACTIVIDAD 2.- Mapeo de sucursales por tipo**","9686a266":"**Ejercicio 4:** Agrega una columna a la tabla de Branches llamada \"Color\" usando el cat\u00e1logo de colores ","34976636":"**Ejercicio 5:** Hacer el mapa nuevamente pintando los iconos de las sucursales de acuerdo al tipo de recompensa","4b8aa14e":"**ACTIVIDAD 1.- Mapeo de ubicaciones de inicio y fin de viajes**"}}