{"cell_type":{"d27e6975":"code","ac28cdd0":"code","43efc13f":"code","12737a2e":"code","79453cd7":"code","81e5867e":"code","4f539db8":"code","ea8e93f6":"code","53f293b5":"code","d6119280":"code","1adebeae":"markdown","11a57438":"markdown","c07e9985":"markdown","20396e88":"markdown"},"source":{"d27e6975":"import warnings\nwarnings.filterwarnings('ignore')","ac28cdd0":"from google.cloud import bigquery\n\n# Create a \"Client\" object\nclient = bigquery.Client()\n\n# Construct a reference to the \"stackoverflow\" dataset\ndataset_ref = client.dataset(\"stackoverflow\", project=\"bigquery-public-data\")\n\n# API request - fetch the dataset\ndataset = client.get_dataset(dataset_ref)","43efc13f":"def show_amount_of_data_scanned(query):\n    # dry_run lets us see how much data the query uses without running it\n    dry_run_config = bigquery.QueryJobConfig(dry_run=True)\n    query_job = client.query(query, job_config=dry_run_config)\n    print('Data processed: {} GB'.format(round(query_job.total_bytes_processed \/ 10**9, 3)))","12737a2e":"# we check how heavy the query is\nquestion_query = \"\"\"\n                SELECT\n                    title\n                    FROM \n                        `bigquery-public-data.stackoverflow.posts_questions`\n                    WHERE creation_date >= '2021-01-01'\n                    \"\"\"\nshow_amount_of_data_scanned(question_query)","79453cd7":"# We want to get all question titles\n\nquestion_query = \"\"\"\n                SELECT\n                    title\n                    FROM \n                        `bigquery-public-data.stackoverflow.posts_questions`\n                    WHERE creation_date >= '2021-01-01'\n                    \"\"\"\nquestion_titles = client.query(question_query).result().to_dataframe()\nquestion_titles","81e5867e":"import matplotlib as mpl\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator","4f539db8":"# we need more stopwords because there are several words in question titles that contain no useful information\n# the list can be extended\nstop_words = [\"use\", \"using\", \"used\", \"working\", \"work\", \"works\", \"one\", \"two\", \"via\", \"within\", \"without\"] + list(STOPWORDS)","ea8e93f6":"# generate the word cloud\nwordcloud = WordCloud(background_color='white', stopwords = stop_words, width=1600, height=800, random_state = 42).generate(' '.join(question_titles['title']))","53f293b5":"# plot the word cloud\nplt.figure(figsize=(20,10), frameon=False)\nplt.imshow(wordcloud)\nplt.axis(\"off\")\nplt.tight_layout(pad=0)\nplt.show()","d6119280":"# save the image\nwordcloud.to_file(\"cloud.png\")","1adebeae":"If you like this notebook, **you may also like**\n\n* [US Universities: Stats & Map](https:\/\/www.kaggle.com\/sergejnuss\/us-universities-stats-map)\n* [Stack Overflow: Who can help with SQL & Python?](https:\/\/www.kaggle.com\/sergejnuss\/stack-overflow-who-can-help-with-sql-python)\n* [StackOverflow Hits: Typescript, Python, Javascript](https:\/\/www.kaggle.com\/sergejnuss\/stackoverflow-hits-typescript-python-javascript)","11a57438":"![](cloud.png)","c07e9985":"We see that **Python** is the main topic on Stack Overflow this year.","20396e88":"The image below is a word cloud from **questions** of **Stack Overflow** users in **2021**. I'll show the simple steps to this word cloud."}}