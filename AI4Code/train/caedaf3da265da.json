{"cell_type":{"4bfd0b9b":"code","2b4b31f9":"code","d236573e":"code","1dc34bc9":"code","406f7e29":"code","10e3195f":"code","80987828":"code","92cd6826":"code","0481e711":"code","9147d14c":"code","90479e2f":"code","ab9ca551":"code","b380ebc7":"code","68e095c8":"code","7ccff964":"code","2e0b7886":"code","b1a46c29":"code","3e8879cb":"code","33c259c0":"code","95a6de38":"code","7148ae8a":"code","706369cb":"code","3cb12e05":"code","8208064f":"code","7104813a":"markdown","6ed5e1ee":"markdown","ff18feaf":"markdown","bc3e073c":"markdown","2446cdc6":"markdown","b236c846":"markdown","219722f4":"markdown","3aa4ef0b":"markdown"},"source":{"4bfd0b9b":"# import library\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\n\nimport matplotlib.pyplot as plt\nimport statsmodels.formula.api as smf\nfrom scipy.stats import norm\nimport plotly.express as px\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\nfrom sklearn.preprocessing import OneHotEncoder, LabelEncoder\nlabel=LabelEncoder()","2b4b31f9":"df=pd.read_csv('..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv')","d236573e":"df.head()","1dc34bc9":"df.tail()","406f7e29":"#Null values in percentage.\ndf.isnull().sum() \/ df.isnull().count() *100","10e3195f":"#Drop unnecessary columns\ndf.drop(['id','host_name','last_review'],axis=1,inplace=True)","80987828":"#Drop blank title.\ndf = df[df['name'].notna()]","92cd6826":"#Fill null value\ndf.fillna({'reviews_per_month':0},inplace=True)","0481e711":"#Now, I have fill or drop all the null data. It is time to see if there are any extreme data points.\ndf.isnull().sum() \/ df.isnull().count() *100","9147d14c":"#Price and minimum_nights are worth time to investigate.\ndf.describe()\n","90479e2f":"#drop rows that price equle to zero and availability equle to 0.\ndf.drop(df[df['price']==0].index,inplace=True)\ndf.drop(df[df['availability_365']==0].index,inplace=True)\n","ab9ca551":"#Drop minimum_nights that is over a year.\ndf.drop(df[df.minimum_nights >365].index, inplace=True)","b380ebc7":"df['price'].sort_values(ascending=False).head(50)\n","68e095c8":"df['neighbourhood_group_code'] = label.fit_transform(df['neighbourhood_group'])\ndf['room_type_code'] = label.fit_transform(df['room_type'])","7ccff964":"# price <= $1000 accounts for 99.5% of all sample data\ndf[df['price']<=1000].count()\/len(df) *100\n","2e0b7886":"price=df[df['price']<=1000]\nplt.figure(figsize=(14,10))\nsns.boxenplot(data=price,x='neighbourhood_group',y='price',hue='room_type')\nplt.legend(loc=\"upper right\")\n\n\nplt.title(\"Prices of room types in neighbourhood_group\")\nplt.ylabel(\"Price in dollar\")","b1a46c29":"#With price bins, we can easily see the price range of each neighbourhood_group.\nprice['price_bin'] = pd.cut(price['price'],10)\n\nplt.figure(figsize=(14,20))\nsns.countplot(data=price,x='price_bin',hue='neighbourhood_group')\nplt.xticks(rotation=50)\nplt.legend(loc=\"upper right\")\n\nplt.title(\"Price range of neighbourhood_group\",weight='bold')\nplt.ylabel(\"Number of Airbnb \")\nplt.xlabel(\"Price range\")","3e8879cb":"top10_host = df.host_id.value_counts().head(10).index\ntop10_host_vis=df.loc[df['host_id'].isin(top10_host)]\ntop10_host","33c259c0":"#There is high chance that thses top 10 hosts may not be individuals but companies. \nplt.figure(figsize=(14,20))\nsns.countplot(data=top10_host_vis,x='neighbourhood',order = top10_host_vis['neighbourhood'].value_counts().index)\nplt.xticks(rotation=90)\nplt.title(\"Top 10 hosts neighbourhood\",weight='bold')\nplt.ylabel('Number of Airbnb')\n","95a6de38":"financial_district=df[df['neighbourhood']=='Financial District']","7148ae8a":"financial_district['price'].describe()","706369cb":"plt.figure(figsize=(14,20))\n\ntop10_nib=df.neighbourhood.value_counts().head(10).index\ntop10=df.loc[df['neighbourhood'].isin(top10_nib)]\ntop10_vis=sns.catplot(x='neighbourhood', hue='neighbourhood_group', col='room_type', data=top10, kind='count')\ntop10_vis.set_xticklabels(rotation=90)\n\ntop10_vis.fig.subplots_adjust(top=0.8)\ntop10_vis.fig.suptitle('Number of Top 10 neighbourhood room type',weight='bold')","3cb12e05":"#Corrlation \nplt.figure(figsize=(15,8))\nsns.heatmap(df.corr(), annot=True, linewidths=0.1, cmap='Reds')","8208064f":"#Correlation of each room types\ncolumn_1 = df[\"price\"]\nEntire_home = df[\"room_type_code\"]==0\ncorrelation= column_1.corr(Entire_home)\nprint('Price correlation by Entire_home: \\n',correlation)\n\n\nPirate_room = df[\"room_type_code\"]==1\ncorrelation= column_1.corr(Pirate_room)\nprint('Price correlation by Pirate_room: \\n',correlation)\n\n\nshared_room = df[\"room_type_code\"]==2\ncorrelation= column_1.corr(shared_room)\nprint('Price correlation by shared_room: \\n',correlation)","7104813a":"In this project, I will do a exploratory data analysis(EDA) on New York Airbnb. Try to understand the situation and the eviorment of the market. \n\nI will use the following stpes that Google suggests.\n1.Ask\n2.Prepare\n3.Process\n4.Analyze","6ed5e1ee":"# Airbnb EDA ","ff18feaf":"Airbnb is an American company that operates an online marketplace for lodging, primarily homestays for vacation rentals, and tourism activities. Based in San Francisco, California, the platform is accessible via website and mobile app.\n\nAirbnb provides travelers an alternative to hotels and they offers three flexable options to travelers, shared-room, pirvate room, and whole apartment\/house.\n\nAirbnb become so popular over the years. It generates millions of data every years. To be able to fully comperhend the impact of the price, locaiton, and title, etc are crucial factors that affect the company operation,decision-making and for the hosts as well.","bc3e073c":"# Prepare\nThis data is generated by the Airbnb and I collected from Kaggle. \nData is order by host_id. \nIt consists of catergorical and numeric values. \nIt has 48894 obervations and 16 columns.\n","2446cdc6":"# Analyze\nNow we can start analyze and visualize the data.\n\n","b236c846":"1. How prices are distrubuted in each neighbourhood_group?\n1. How prices are distrubuted in each rome type?\n1. Who operates the most rooms in Airbnb?\n1. Where is most expensive area in New York.\n1. How each vairables correlate to others?","219722f4":"# Process\nIn this section, I will clean, create and transform data.\nClean, create and transform data ","3aa4ef0b":"# ASK\n"}}