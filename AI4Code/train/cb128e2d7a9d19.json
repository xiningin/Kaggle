{"cell_type":{"56ed9967":"code","0d4fc790":"code","2afd1a02":"code","bb8221cb":"code","d0fdd843":"code","34a2b9f1":"code","2a9f78c0":"code","21f868f5":"code","194bedcc":"code","a28ac1ba":"code","2096b19e":"code","f9456b97":"code","70861e09":"code","6403df7f":"code","0f4f537a":"code","306f4099":"code","6b218e94":"code","64ec4ec2":"code","e1d9da94":"code","9b01817c":"code","b9c0ea81":"code","40ee02b0":"code","b3b261fb":"code","a6284d3b":"code","8cd4f975":"code","4923bbb6":"markdown","d32a427d":"markdown","6eea90d8":"markdown","5d38a46f":"markdown","7b62aca6":"markdown","cd7219e9":"markdown","48858638":"markdown","cd9cc75d":"markdown","fdf4323e":"markdown","bdc2c87b":"markdown","deaff2c8":"markdown","d90e97cf":"markdown","834f80b4":"markdown","fa4ffdcc":"markdown","2aa9169f":"markdown","b1ec648b":"markdown","6c654779":"markdown","e37c15c9":"markdown","a4831d7e":"markdown","aaf8c382":"markdown","73c2e83c":"markdown","c1ba4ebc":"markdown","4a6f31a1":"markdown","deabc89c":"markdown","7641bd4e":"markdown","cf601d98":"markdown","1e053842":"markdown","048f8be9":"markdown","db35b753":"markdown","a0c850e5":"markdown","ff43e9d8":"markdown","3b648977":"markdown","d161fb93":"markdown","351589b3":"markdown","b38f5641":"markdown","61fe351b":"markdown","df1908f7":"markdown","82395906":"markdown","90f32163":"markdown"},"source":{"56ed9967":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt # for visualization\nimport seaborn as sns\nsns.set_style(\"whitegrid\") # changes frame color from gray (default color) to white\nimport plotly.express as px # for world map visualization\nimport plotly.graph_objs as go\nfrom plotly.offline import init_notebook_mode, iplot # for working as offline\n\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session\n\nimport warnings\nwarnings.filterwarnings(\"ignore\") # For filtering and not showing the warnings. ","0d4fc790":"# reading the survey results which was done before 2021:\nbefore_2021 = pd.read_csv(\"\/kaggle\/input\/world-happiness-report-2021\/world-happiness-report.csv\")\nbefore_2021","2afd1a02":"before_2021.describe()","bb8221cb":"before_2021.info()","d0fdd843":"dataset_2021 = pd.read_csv(\"\/kaggle\/input\/world-happiness-report-2021\/world-happiness-report-2021.csv\")","34a2b9f1":"dataset_2021","2a9f78c0":"dataset_2021[\"Country name\"].value_counts()","21f868f5":" dataset_2021.describe()","194bedcc":"dataset_2021.info()","a28ac1ba":"dataset_2021[\"Country name\"].unique()","2096b19e":"dataset_2021[\"Regional indicator\"].unique()","f9456b97":"sns.countplot(y = dataset_2021[\"Regional indicator\"])\nplt.show()","70861e09":"column_names = [\"Social support\", \"Freedom to make life choices\", \"Generosity\", \"Perceptions of corruption\"]\nsns.boxplot(data = dataset_2021.loc[:,column_names], orient = \"v\")\nplt.xticks(rotation = 60)\nplt.show()","6403df7f":"column_names2 = [\"Ladder score\", \"Logged GDP per capita\"]\nsns.boxplot(data = dataset_2021.loc[:, column_names2], palette = \"Set3\")\nplt.xticks(rotation = 60)\nplt.show()","0f4f537a":"column_name = [\"Healthy life expectancy\"]\nsns.boxplot(data = dataset_2021.loc[:, column_name])\nplt.xticks(rotation = 60)\nplt.show()","306f4099":"table_with_happiest_and_unhappiest = dataset_2021[(dataset_2021[\"Ladder score\"] > 7.5) | (dataset_2021[\"Ladder score\"] < 4)]\ntable_with_happiest_and_unhappiest","6b218e94":"plt.title(\"The Happiest and Unhappiest Countries in 2021\")\nsns.barplot(x = table_with_happiest_and_unhappiest[\"Ladder score\"], y = table_with_happiest_and_unhappiest[\"Country name\"], palette = \"coolwarm\")\nplt.show()","64ec4ec2":"plt.figure(figsize = (12,8))\nsns.kdeplot(dataset_2021[\"Ladder score\"], hue = dataset_2021[\"Regional indicator\"], fill = True, linewidth = 2)\nplt.title(\"Ladder Score Distribution According to the Geographical Location\")\nplt.show()","e1d9da94":"plt.figure(figsize = (12,8))\nsns.kdeplot(dataset_2021[\"Ladder score\"], hue = dataset_2021[\"Regional indicator\"])\nplt.axvline(dataset_2021[\"Ladder score\"].mean(), color = \"black\")\nplt.title(\"Ladder Score Distribution According to the Geographical Location\")\nplt.show()","9b01817c":"before_2021.head(1)","b9c0ea81":"#plt.figure(figsize = (15,10))\nworld_map = px.choropleth(before_2021.sort_values(\"year\"), \n                    locations = \"Country name\", \n                    color = \"Life Ladder\",\n                    locationmode = \"country names\",\n                    animation_frame = \"year\")\nworld_map.update_layout(title = \"Ladder Score Distribution According to Countries with the World Map Visualization\")\nworld_map.show()","40ee02b0":"table_with_generous_and_ungenerous = dataset_2021[(dataset_2021[\"Generosity\"] > 0.2) | (dataset_2021[\"Generosity\"] < -0.2)]","b3b261fb":"plt.figure(figsize = (12,10))\nplt.title(\"Most Generous and Most Ungenerous Countries in 2021\")\nsns.barplot(x = \"Generosity\", y = \"Country name\", data = table_with_generous_and_ungenerous, palette = \"Set1\")\nplt.show()","a6284d3b":"world_map2 = px.choropleth(before_2021.sort_values(\"year\"), \n                    locations = \"Country name\", \n                    color = \"Generosity\",\n                    locationmode = \"country names\",\n                    animation_frame = \"year\")\nworld_map2.update_layout(title = \"Generousity According to Countries with the World Map Visualization\")\nworld_map2.show()","8cd4f975":"plt.title(\"Most Generousity and Most Ungenerousity According to the Geographical Location in 2021\")\nsns.swarmplot(x = \"Regional indicator\", y = \"Generosity\", data = dataset_2021)\nplt.xticks(rotation = 90)\nplt.show()","4923bbb6":"Let us look at the countries:","d32a427d":"Let us analyze the 2021 dataset:","6eea90d8":"![](https:\/\/4.bp.blogspot.com\/-I3nGmxlA3rg\/V4Q49lL1rqI\/AAAAAAAAW2M\/RpOx1_kTT5YSMSSHuuqr1IA2-sP0QoNuQCLcB\/s640\/pacific-ocean-4000x2486-big-sur-california-beach-mcway-falls-sunset-389.jpg)\n\n# Introduction\n* The World Happiness Report is a landmark survey of the state of global happiness. \n* The report continues to gain global recognition as governments, organizations and civil society increasingly use happiness indicators to inform their policy-making decisions. \n* Leading experts across fields \u2013 economics, psychology, survey analysis, national statistics, health, public policy and more \u2013 describe how measurements of well-being can be used effectively to assess the progress of nations. \n* The reports review the state of happiness in the world today and show how the new science of happiness explains personal and national variations in happiness.","5d38a46f":"* According to kde plot, we can say that the happiest region is Western Europe. After that North America and ANZ follows it. \n* Plot also shows us the unhappiest region is South Asia.","7b62aca6":"* \"Country name\" and \"Regional indicator\" columns have string data type and the remaining variables are float values.\n* We do not have any null variables.","cd7219e9":"We can also look at the region of these countries (Regional indicator):","48858638":"<a id = \"2\"><\/a>\n### Data Content\n* The happiness scores and rankings use data from the Gallup World Poll. \n* The columns following the happiness score estimate the extent to which each of six factors \u2013 economic production, social support, life expectancy, freedom, absence of corruption, and generosity \u2013 contribute to making life evaluations higher in each country than they are in Dystopia, a hypothetical country that has values equal to the world\u2019s lowest national averages for each of the six factors. They have no impact on the total score reported for each country, but they do explain why some countries rank higher than others.\n\n* **Ladder score**: Happiness score or subjective well-being. This is the national average response to the question of life evaluations.\n* **Logged GDP per capita**: The GDP-per-capita time series from 2019 to 2020 using countryspecific forecasts of real GDP growth in 2020.\n* **Social support**: Social support refers to assistance or support provided by members of social networks (like government) to an individual.\n* **Healthy life expectancy**: Healthy life expectancy is the average life in good health - that is to say without irreversible limitation of activity in daily life or incapacities - of a fictitious generation subject to the conditions of mortality and morbidity prevailing that year.\n* **Freedom to make life choices**: Freedom to make life choices is the national average of binary responses to the GWP question \u201cAre you satisfied or dissatisfied with your freedom to choose what you do with your life?\u201d ... It is defined as the average of laughter and enjoyment for other waves where the happiness question was not asked\n* **Generosity**: Generosity is the residual of regressing national average of response to the GWP question \u201cHave you donated money to a charity in the past month?\u201d on GDP per capita.\n* **Perceptions of corruption**: The measure is the national average of the survey responses to two questions in the GWP: \u201cIs corruption widespread throughout the government or not\u201d and \u201cIs corruption widespread within businesses or not?\u201d\n* **Ladder score in Dystopia**: It has values equal to the world\u2019s lowest national averages. Dystopia as a benchmark against which to compare contributions from each of the six factors. Dystopia is an imaginary country that has the world's least-happy people. ... Since life would be very unpleasant in a country with the world's lowest incomes, lowest life expectancy, lowest generosity, most corruption, least freedom, and least social support, it is referred to as \u201cDystopia,\u201d in contrast to Utopia.\n\nWorld Happiness Report Official Website: https:\/\/worldhappiness.report\/","cd9cc75d":"<a id = \"10\"><\/a>\n### 10. Most Generousity and Most Ungenerousity According to the Geographical Location in 2021","fdf4323e":"Let us get more information from the data by using **describe()** method.","bdc2c87b":"* Boxplots are a standardized way of displaying the distribution of data based on a five number summary (\u201cminimum\u201d, first quartile (Q1), median, third quartile (Q3), and \u201cmaximum\u201d).\n\n* **Median (Q2\/50th Percentile)**: the middle value of the dataset.\n* **First quartile (Q1\/25th Percentile)**: the middle number between the smallest number (not the \u201cminimum\u201d) and the median of the dataset.\n* **Third quartile (Q3\/75th Percentile)**: the middle value between the median and the highest value (not the \u201cmaximum\u201d) of the dataset.\n* **Interquartile range (IQR)**: 25th to the 75th percentile.\n* **Whiskers** (shown in blue)\n* **Outliers** (shown as green circles)\n* **Maximum**: Q3 + 1.5*IQR\n* **Minimum**: Q1 -1.5*IQR","deaff2c8":"When we look at the dataset above and if we compare it with the previous dataset named by before_2021, column names and row numbers are different from each other. The reason is, in the socend dataset, feature extraction was implemented. It means, some new columns were added by classifying the other columns. For example:","d90e97cf":"Besides, by using \"**info()**\" method, we can get a general idea from our dataset.","834f80b4":"* The most generous countries are located in Southeast Asia. On the other hand, the ungenerous countries are located in Westersn Europe. \n* For Sub-Saharan Africa, we can say that the standard deviation is very high. It means, there are lots of countries which are generous on the other hand there are many countries which are ungenerous.","fa4ffdcc":"Following picture shows you the comparison of a boxplot of a nearly normal distribution and a probability density function (pdf) for a normal distribution:","2aa9169f":"![](https:\/\/miro.medium.com\/max\/656\/1*NRlqiZGQdsIyAu0KzP7LaQ.png)","b1ec648b":"<a id = \"7\"><\/a>\n### 7. Ladder Score Distribution According to Countries with the World Map Visualization","6c654779":"You can see the general form of Box Plot:\n![](https:\/\/miro.medium.com\/max\/1400\/1*2c21SkzJMf3frPXPAR_gZA.png)","e37c15c9":"By using **Seaborn library**, I am going to show you which countries belongs to which regions:","a4831d7e":"<a id = \"9\"><\/a>\n### 9. Generousity According to Countries with the World Map Visualization","aaf8c382":"* Right part of the plot is positive and left part is negative. Indonesia has the highest generousity. After that Myanmar follows it. \n* Greece is the most ungeneroust country. After that Japan and Botswna follow it.","73c2e83c":"# \ud83d\ude4b WORLD HAPPINESS EXPLANATORY DATA ANALYSIS \ud83d\ude0a","c1ba4ebc":"<a id = \"4\"><\/a>\n### 4. Data Distribution for the 2021 Dataset","4a6f31a1":"* Generosity has a little bit different range when we compare with other three variables.\n* When we look at the outliers, \"Perceptron of corruption\" variable has higher than the others.","deabc89c":"<a id = \"6\"><\/a>\n","7641bd4e":"<a id = \"8\"><\/a>\n### 8. Most Generous and Most Ungenerous Countries in 2021 ","cf601d98":"* In total, we have 11 columns and 1949 rows. \n* Name of the columns are \"Country name\", \"year\", \"Life Ladder\", \"Log GDP per capita\", \"Social support\", \"Healthy life expectancy at birth\", \"Freedom to make life choices\", \"Generosity\", \"Perceptions of corruption\", \"Positive affect\" and \"Negative affect\".\n* Country names are string and years are integer. Remaining variables have float data types.\n* Except \"Country name\", \"year\" and \"Life Ladder\" columns, we have some missing values.","1e053842":"<a id = \"6\"><\/a>\n### 6. Ladder Score Distribution According to the Geographical Location","048f8be9":"In the following plot, I added the mean line. According to this line we can see which regions are under the mean of the happiness degree or the upper part: ","db35b753":"<a id = \"1\"><\/a>\n### Analysis Content\n1. [Required Libraries](#1)\n2. [Data Content](#2)\n3. [Starting to Analyse Data](#3)\n4. [Data Distribution for the 2021 Dataset](#4)\n5. [The Happiest and Unhappiest Countries in 2021](#5)\n6. [Ladder Score Distribution According to the Geographical Location](#6)\n7. [Ladder Score Distribution According to Countries with the World Map Visualization](#7)\n8. [Most Generous and Most Ungenerous Countries in 2021](#8)\n9. [Generousity According to Countries with the World Map Visualization](#9)\n10.[Most Generousity and Most Ungenerousity According to the Geographical Location in 2021](#10)","a0c850e5":"As you see, we have lots of different countries and visualizing all of them is not so meaningful. So, clustering the countries according to their geographical location is a good choice at that point. ","ff43e9d8":"I am going to use kde plot (Kernel Density Estimation plot) to show the ladder score distribution according to the geographical location.","3b648977":"Also we can say North America and ANZ has the lowest standard deviation it means the distribution of happy and unhappy people are similar to each other. Besides South Asia has the largest standard deviation value. ","d161fb93":"<a id = \"3\"><\/a>\n### 3. Starting to the Analyse Data","351589b3":"<a id = \"5\"><\/a>\n### The Happiest and Unhappiest Countries in 2021","b38f5641":"* I am going to use boxplot for visualizing \"Social support\", \"Freedom to make life choices\", \"Generosity\", \"Perceptron of corruption\" columns. The reason why I chose these columns is the distribution of the numeric values are similar to each other ( All of them have the range between 0 and 1). \n* In this example I prefered box plot instead of histogram. Because by using box plot, we can see outliers better.","61fe351b":"For the world map visualization, we need to use plotly library.","df1908f7":"### Required Libraries\n* I am going to import the libraries that I need.","82395906":"* By looking at this table, we can see the max and min values for each variable. \n* If we compare the meand and median values and if the difference is small (for example if we look at the \"year\" column, mean value is 2013.216008 and the median is 2013.000000. The difference is quite small) these variables may have a Gaussian distribution. ","90f32163":"In the visualization part, for visualizing the string variables we can use count plots, on the other hand for numeric values, we prefer histograms in order to see the distribution."}}