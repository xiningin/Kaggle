{"cell_type":{"3dedf448":"code","e9104da4":"code","b274a887":"code","14afeeae":"code","d53bcee7":"code","6876b95a":"code","9ce74b9e":"code","aeaa298a":"code","040bd0cd":"code","5cfe5e3d":"code","a93f38fd":"code","ef5f78e8":"code","f3784a3a":"code","dbfc199c":"code","21742a98":"code","68fb9238":"code","ffa55bd1":"code","fed12ba4":"code","c27cb47b":"code","eb926675":"code","4fde6dcc":"code","95816209":"code","f2c78e0e":"code","c154f311":"code","b54bc80a":"code","a0e95f86":"code","27f3a858":"code","35c7b149":"code","2211229b":"code","7ca85a9b":"code","21fd26a3":"code","e82c92e8":"code","51af2d63":"code","748f7dc8":"code","b4aced19":"code","3ed66b7a":"code","2a21db17":"code","2299010e":"markdown","75527d05":"markdown","c02836fe":"markdown","bff4d0bd":"markdown","ab0699d1":"markdown","b4a68c55":"markdown","b3d3b2f8":"markdown","80c166fd":"markdown","d089ecbf":"markdown","3d638bea":"markdown","8210bea4":"markdown","fc6924d1":"markdown","752099f9":"markdown","0a169124":"markdown","ac94707b":"markdown","3266192d":"markdown","6df0f8d4":"markdown","13345ca6":"markdown","b697dca1":"markdown","05b474aa":"markdown","0a884196":"markdown"},"source":{"3dedf448":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.pylab as pylab\nimport seaborn as sns\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.model_selection import train_test_split\nfrom warnings import filterwarnings\n%matplotlib inline\nfilterwarnings('ignore')","e9104da4":"def plot_correlation_map( ne ):\n    Category = {'P': 1,'C': 2}\n    fry.Category = [Category[item] for item in fry.Category]    \n    Sex = {'M': 1,'F': 2}\n    fry.Sex = [Sex[item] for item in fry.Sex] \n    data = fry[['Age','Category', 'Survived','Sex']] \n    newcor = data.corr() \n    sns.heatmap(newcor, annot = True,color='g')   \ndef plot_distribution( fry , var , target , **kwargs ):\n    row = kwargs.get( 'row' , None )\n    col = kwargs.get( 'col' , None )\n    facet = sns.FacetGrid( fry , hue=target , aspect=4 , row = row , col = col )\n    facet.map( sns.kdeplot , var , shade= True )\n    facet.set( xlim=( 0 , fry[ var ].max() ) )\n    facet.add_legend()   \ndef plot_categories( fry , cat , target , **kwargs ):\n    row = kwargs.get( 'row' , None )\n    col = kwargs.get( 'col' , None )\n    facet = sns.FacetGrid( fry , row = row , col = col )\n    facet.map( sns.barplot , cat , target )\n    facet.add_legend()\n    \n    \ndef get_generation(x): \n    if(x > 60):\n        return 'Senior'\n    if(x > 24):\n        return 'Adult'\n    if(x > 14):\n        return 'Young'\n    if(not x):\n        return 'null'\n    return 'Child'","b274a887":"fry=pd.read_csv('..\/input\/passenger-list-for-the-estonia-ferry-disaster\/estonia-passenger-list.csv')","14afeeae":"fry.head()","d53bcee7":"fry.shape","6876b95a":"fry.head()","9ce74b9e":"fry.info()","aeaa298a":"fry.isnull().sum() #we are check null values ,data has no null value and we don't need to drop any values.","040bd0cd":"fry.describe()","5cfe5e3d":"Countries = fry['Country'].unique()","a93f38fd":"Countries","ef5f78e8":"fry.Country.value_counts() #we are check about county because we want to creat courty ","f3784a3a":"fry.Sex.value_counts()","dbfc199c":"cy = sns.barplot(y=fry.Country.value_counts().keys(), x=fry.Country.value_counts().values)","21742a98":"fry ","68fb9238":"plot_correlation_map( fry )","ffa55bd1":"plot_distribution( fry , var = 'Age' , target = 'Survived' , row = 'Sex' )","fed12ba4":"plot_categories( fry , cat = 'Category' , target = 'Survived' )","c27cb47b":"plot_categories( fry , cat = 'Sex' , target = 'Survived' )","eb926675":"sns.countplot(x='Category',hue='Sex',data=fry)\nplt.show()","4fde6dcc":"sns.countplot(x='Survived',hue='Sex',data=fry)\nplt.show()","95816209":"sex = pd.Series( np.where( fry.Sex == 'male' , 1 , 2 ) , name = 'Sex' )\nCategory= pd.get_dummies( fry.Category , prefix='Category' )\nCategory.head()","f2c78e0e":"Country = pd.get_dummies( fry.Country , prefix='num' )\nCountry.head()","c154f311":"imputed = pd.DataFrame()","b54bc80a":"imputed[ 'sex' ] = fry.Category.fillna( fry.Category.mean() )","a0e95f86":"imputed[ 'Country' ] = fry.Category.fillna( fry.Category.mean() )","27f3a858":"imputed[ 'Age' ] = fry.Age.fillna( fry.Age.mean() )","35c7b149":"imputed[ 'Category' ] = fry.Category.fillna( fry.Category.mean() )","2211229b":"imputed","7ca85a9b":"fry['Generation'] = fry['Age'].apply(get_generation)","21fd26a3":"fry.head()","e82c92e8":"print(fry.Generation.value_counts())\ngen=sns.barplot( x=fry['Generation'].value_counts().keys(), y=fry['Generation'].value_counts().values)\ngen.set_xticklabels(gen.get_xticklabels(),rotation=90)\nplt.show()","51af2d63":"plt.figure(figsize=(12,8))\nax = sns.countplot(fry['Generation'][fry['Survived']==1],hue=fry['Sex'][fry['Survived']==1])\nax.set_ylabel('Number Of Survivers')\nplt.show()","748f7dc8":"imputed.head()","b4aced19":"clist= fry.columns.tolist()\nclist","3ed66b7a":"nlist = clist[4:]\nnlist\n\nX = fry[nlist].iloc[:,:-2]\ny = fry[nlist].iloc[:,-1]\n\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.2, random_state = 15)\nprint(X_train.shape, X_test.shape, y_train.shape, y_test.shape)","2a21db17":"Category.shape","2299010e":"## 2.2 Setup helper Functions\n","75527d05":"3.4.1 Variable selection\n","c02836fe":"# 2.4.3 Let's further explore the relationship between the features and survival of passengers \n","bff4d0bd":"### 3.3.1 Extract titles from passenger names\n","ab0699d1":"## Content\n1. Business Understanding\n     * Objective\n     * Description\n2. Data Understanding \n    * Import Libraries\n    * Load data\n    * Statistical summaries and visualisations\n    * Excersises\n3. Data Preparation\n    * Missing values imputation\n    * Feature Engineering    ","b4a68c55":"We converted the category data from categorical to numeric data to find the correlation correctly. \nCrew=1 , Passenger =2","b3d3b2f8":"## 3.3 Feature Engineering &ndash; Creating new variables","80c166fd":"## 3.1 Categorical variables need to be transformed to numeric variables\n","d089ecbf":"We converted the category data from categorical to numeric data to find the correlation correctly.","3d638bea":"## 2.3 Load data\n Our packages are loaded","8210bea4":"## 3.2 Fill missing values in variables","fc6924d1":"> # **Data Science Project 3**\n*With the help of Kaggle, we used the estonia ferry disaster dataset.[Link on https:\/\/www.kaggle.com\/christianlillelund\/passenger-list-for-the-estonia-ferry-disaster*\n19 December  2020 \n* Duygu \u00d6ZG\u00dcN-\n* Duygu K\u0130TAP\u00c7I-\n* \u0130layda TARAKCI-","752099f9":"### 2.4.2 A heat map of correlation may give us a understanding of which variables are important\n","0a169124":"# 2. Data Understanding\n\n## 2.1 Import Libraries\nFirst, we load our existing dataset and add it to our phyton library.Then we added the imports that will help us in this project.","ac94707b":"sex\n\n-M : 1\n-F : 2\n\n\nCategory\n\n-P : 1\n-C : 2","3266192d":"## 3.4 Assemble final datasets for modelling\u00b6\n","6df0f8d4":"## 2.4 Statistical summaries and visualisations\n","13345ca6":"**VARIABLE DESCRIPTIONS:**\n\nIn this step we identified and observed some of our varaibles.we're working with 989 observations of 8 variables.\n**Variable Description**\n - Survived: Survived (1) or died (0)\n - Category:The type of passenger C = Crew, P = Passenger\n - FirstName: Passenger's name\n - LastName: Passenger's last name\n - Sex: Passenger's sex\n - Age: Passenger's age\n - Country: Sweden , 'Estonia', 'Latvia', 'Russia', 'Germany', 'Finland', 'Great Britain', 'Morocco', 'Denmark', 'France', 'Netherlands','Norway', 'Lithuania', 'Nigeria', 'Canada', 'Belarus'\n","b697dca1":"# 3. Data Preparation","05b474aa":"### 2.4.1 Next have a look at some key information about the variables\n","0a884196":"# 1. Business Understanding\n\n## 1.1 Objective\nUsing the data of the accident known as the Estonian Disaster, we analyzed survival rates.The dataset contains the name, age, sex, category and fate of the 989 passengers aboard the MS Estonia on the night of the sinking.\n\n## 1.2 Description\nMS Estonia was a cruiseferry built in 1979\/80 at the German shipyard Meyer Werft in Papenburg. The ship's 1994 sinking, in the Baltic Sea between Sweden, \u00c5land, Finland and Estonia, was one of the worst maritime disasters of the 20th century. It is the second-deadliest peacetime sinking of a European ship, after the RMS Titanic, and the deadliest peacetime shipwreck to have occurred in European waters, with 852 lives lost.\n  At 6.30pm on 27 September 1994, the ferry MS Estonia \u2013 the largest ship then flying the flag of the young Baltic republic, and a symbol of recently regained independence \u2013 set sail from Tallinn on a routine overnight crossing to Stockholm.\n  On board were 803 passengers, most of them Swedish, and 186 crew, most of them Estonian. The conditions were rough \u2013 force 8 winds and waves up to 6 metres \u2013 but not unusual for the Baltic Sea in autumn. All other scheduled ferries were at sea."}}