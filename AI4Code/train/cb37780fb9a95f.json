{"cell_type":{"3bf22940":"code","0bcfe089":"code","3487db50":"code","e84b7300":"code","092cf7d1":"code","4672454b":"code","a1bd9c39":"code","3d6ab280":"code","9abc4765":"code","42f5b674":"code","b31eb561":"code","a7192285":"markdown","d6b85e4f":"markdown","18beef6d":"markdown","66e1d6b9":"markdown","75c0b61d":"markdown","bcf2306c":"markdown","c0b10a53":"markdown","856669cb":"markdown","0f73f702":"markdown","2d913848":"markdown","19b9e47f":"markdown"},"source":{"3bf22940":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport missingno as msno\n\n# seaborn & setting theme\nimport seaborn as sns\nsns.set_theme(style=\"ticks\")\nsns.set_context('notebook')\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","0bcfe089":"##loading the data frames into variables for usage\n\n#2020\napril_20_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2020\/April2020.csv\", parse_dates=True)\naugust_20_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2020\/August2020.csv\", parse_dates=True)\ndecember_20_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2020\/December2020.csv\", parse_dates=True)\nfebruary_20_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2020\/February2020.csv\", parse_dates=True)\njanuary_20_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2020\/January2020.csv\", parse_dates=True)\njuly_20_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2020\/July2020.csv\", parse_dates=True)\njune_20_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2020\/June2020.csv\", parse_dates=True)\nmarch_20_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2020\/March2020.csv\", parse_dates=True)\nmay_20_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2020\/May2020.csv\", parse_dates=True)\nnovember_20_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2020\/November2020.csv\", parse_dates=True)\noctober_20_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2020\/October2020.csv\", parse_dates=True)\nseptember_20_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2020\/September2020.csv\", parse_dates=True)\n\n#2021\napril_21_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2021\/April2021.csv\", parse_dates=True)\nfebruary_21_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2021\/February2021.csv\", parse_dates=True)\njanuary_21_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2021\/January2021.csv\", parse_dates=True)\nmarch_21_df = pd.read_csv(\"..\/input\/citibike-bike-sharingnewyork-cityjan-to-apr-2021\/CitiBike_Trip_Data\/2021\/March2021.csv\", parse_dates=True)\n\n#merging into a single dataframe\nstacked_df =  pd.concat([april_20_df,august_20_df,december_20_df,february_20_df,january_20_df,july_20_df,june_20_df,\n                         march_20_df,may_20_df,november_20_df,november_20_df,october_20_df,september_20_df,april_21_df,\n                         february_21_df,january_21_df,march_21_df], axis = 0)\ncitibike_df = stacked_df.reset_index(drop = True)\n","3487db50":"#first 5 values\ncitibike_df.head()","e84b7300":"#last 5 values\ncitibike_df.tail()","092cf7d1":"# description\ncitibike_df.describe()","4672454b":"#check for missing values\nmsno.matrix(citibike_df, figsize = (10,5))","a1bd9c39":"plt.figure(figsize=(20,15))\nsns.catplot(x = citibike_df['usertype'], y = citibike_df['tripduration'],\n            jitter = True, data = citibike_df);","3d6ab280":"# changing object to datetime and grouping into a dataframe\n#date_df = pd.to_datetime(citibike_df['starttime'], infer_datetime_format=True)\ncitibike_df = citibike_df.rename(columns = {'starttime' : 'datetime'})\ncitibike_df['datetime'] = pd.to_datetime(citibike_df['datetime'])\ncitibike_df['month'] = citibike_df['datetime'].dt.month\ncitibike_df['day'] = citibike_df['datetime'].dt.day\ncitibike_df['year'] = citibike_df['datetime'].dt.year\ncitibike_df['hour'] = citibike_df['datetime'].dt.hour\ncitibike_df","9abc4765":"# sns.set(rc={'figure.figsize':(11, 4)})\n# citibike_df.plot(linewidth=0.5);","42f5b674":"rentals_per_hour = pd.value_counts(citibike_df['hour'])\nrph_df = rentals_per_hour.to_frame()\nrph_df.reset_index(inplace=True)\nrph_df.rename(columns = {'index' : 'time', 'hour' : 'rides'},inplace=True)","b31eb561":"plt.figure(figsize=(20,5))\nsns.lineplot(x = \"time\", y = \"rides\",data=rph_df);","a7192285":"# Since the data looks clean and usable, lets do some data analysis and visualizations\n\nthe description of the columns are as follows:\n- tripduration - Duration in Seconds\n- starttime - Start Time and Date\n- stoptime - Stop Time and Date\n- start station id - ID of Start Station\n- start station name - Name of Start Station\n- start station latitude - Latitude of start station\n- start station longitude - Longitude of start station\n- end station id - ID of End Station\n- end station name - Name of End Station\n- end station latitude - Latitude of End station\n- end station longitude - Longitude of End station\n- Bike ID - Bike ID\n- usertype - Customer = 24-hour pass or 3-day pass user; Subscriber = -Annual Member\n- gender - Zero=unknown; 1=male; 2=female\n- birthyear - Year of Birth","d6b85e4f":"# avg age of users","18beef6d":"# subscribers  vrs non-subscribers","66e1d6b9":"# quick overview of the combined dataset","75c0b61d":"# station usage","bcf2306c":"Based off of the readme discription of usertype, we can see that the vast majority of time spent on trips are from people that purchase a 24 hour or 3 day pass as opposed to those with a yearly membership. We can also see that the majority of trips taken across both types are commonly less than 30 minutes.","c0b10a53":"# most ridden bike, least ridden bike","856669cb":"# plot time series","0f73f702":"we can see the busiest time of day peaks around 5-6pm with a steap drop off by 8pm","2d913848":"# busiest time of day","19b9e47f":"# EDA of citibike data"}}