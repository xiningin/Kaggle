{"cell_type":{"2daf8cf2":"code","e44c6b8d":"code","c3c8e22d":"code","766b4ce4":"code","ac1e8daf":"code","0dd322f5":"code","49c88e03":"code","f61c370f":"code","602d793d":"code","f78236bb":"code","8d311514":"code","02b43648":"code","0dbd8167":"code","9d76aa95":"code","6e113c14":"code","d51539bd":"code","00940d47":"code","654e449f":"code","456b5795":"code","85a09215":"code","666fb193":"code","a27ab0fc":"markdown","d59541bb":"markdown","c1b44768":"markdown","91c2bea2":"markdown","3ced360c":"markdown","11670096":"markdown","53dce928":"markdown","667df4c1":"markdown","0a0c08d8":"markdown","dce8cd63":"markdown","f33af613":"markdown","1f9bc44c":"markdown","6ebc62c9":"markdown","5df1fbc1":"markdown","6d6ecf0c":"markdown","5d96ba0c":"markdown","0ac2aaaf":"markdown"},"source":{"2daf8cf2":"%%capture\n! pip intall seaborn\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\nfrom requests import get\nfrom bs4 import BeautifulSoup\nfrom time import sleep\nfrom time import time\nfrom random import randint\nfrom scipy import stats\nfrom sklearn.linear_model import LinearRegression\n%matplotlib inline","e44c6b8d":"# Prepare the list for each data\ntitles = []\nauthors = []\nratings = []\nscores = []\nvoteds = []","c3c8e22d":"start_time = time()\nrequests = 0","766b4ce4":"pages = [str(i) for i in range(1,68)]","ac1e8daf":"# Crawling proccess\nfor page in pages:       \n    url = 'https:\/\/www.goodreads.com\/list\/show\/4093.Best_Books_of_the_Decade_2010_s?page='+page\n    print(url)\n    response = get(url)\n    \n    sleep(randint(10,25))\n    \n    requests += 1\n    elapsed_time = time() - start_time\n    print('Request: {}; Frequency: {} requests\/s'.format(requests, requests\/elapsed_time))\n    \n    soup = BeautifulSoup(response.text, 'html.parser')\n    \n    book_title_list = soup.find_all('a', class_='bookTitle')\n    for book_title in book_title_list:\n        title = book_title.span.text\n        titles.append(title)\n        \n    author_list = soup.find_all('a', class_='authorName')\n    for author_name in author_list:\n        author = author_name.span.text\n        authors.append(author)\n        \n    rating_list = soup.find_all('span', class_='minirating')\n    for book_rating in rating_list:\n        rating = book_rating.text[1:5]\n        ratings.append(rating)\n        \n    score_list = soup.find_all('span', class_='smallText uitext')\n    for book_score in score_list:\n        score = book_score.a.text[7:]\n        scores.append(score)\n        \n    voted_list = soup.find_all('span', class_='smallText uitext')\n    for people_voted in voted_list:\n        voted = people_voted.text[29:53]\n        voteds.append(voted)","0dd322f5":"# Make a new DataFrame\ngoodreads = pd.DataFrame({'Book Title': titles,\n                          'Author': authors,\n                          'Rating': ratings,\n                          'Score': scores,\n                          'People Voted': voteds})","49c88e03":"# Save file to .csv format\ngoodreads.to_csv('Goodreads.csv')","f61c370f":"df = pd.read_csv('Goodreads.csv')\ndf.head()","602d793d":"del df['Unnamed: 0']\ndf['Score'] = df['Score'].str.replace(r'\\D', '')\ndf['Score'] = df['Score'].astype(np.int64)\ndf['Rating'] = df['Rating'].str.replace('eall','4.00')\ndf['Rating'] = df['Rating'].str.replace('t wa','5.00')\ndf['Rating'] = df['Rating'].str.replace('iked','3.00')\ndf['Rating'] = df['Rating'].str.replace(r'\\D', '')\ndf['Rating'] = df['Rating'].astype(np.int64)\ndf['Rating'] = df['Rating']\/100\ndf['People Voted'] = df['People Voted'].str.replace(r'\\D', '')\ndf['People Voted'] = df['People Voted'].astype(np.int64)","f78236bb":"df.head()","8d311514":"df.Author.nunique()","02b43648":"book_per_author = df[['Book Title', 'Author']].groupby(['Author']).count()\nbook_per_author.sort_values(by='Book Title', ascending=False).head()","0dbd8167":"author_score = df[['Author', 'Score']].groupby(['Author']).mean()\nauthor_score.sort_values(by='Score', ascending=False).head()","9d76aa95":"favorite_book = df[['Book Title', 'Author', 'Score']]\nfavorite_book.head()","6e113c14":"# Findings the correlation between Rating, Score, and People_Voted\ndf[['Rating', 'Score', 'People Voted']].corr()","d51539bd":"sns.regplot(x='People Voted', y='Score', data=df)\nplt.ylim(0,)","00940d47":"pearson_coef, p_value = stats.pearsonr(df['People Voted'], df['Score'])\nprint(\"The Pearson Correlation Coefficient is\", pearson_coef, \" with a P-value of P =\", p_value)  ","654e449f":"sns.regplot(x='People Voted', y='Rating', data=df)\nplt.ylim(0,)","456b5795":"pearson_coef, p_value = stats.pearsonr(df['People Voted'], df['Rating'])\nprint(\"The Pearson Correlation Coefficient is\", pearson_coef, \" with a P-value of P =\", p_value)","85a09215":"sns.regplot(x='Score', y='Rating', data=df)\nplt.ylim(0,)","666fb193":"pearson_coef, p_value = stats.pearsonr(df['Score'], df['Rating'])\nprint(\"The Pearson Correlation Coefficient is\", pearson_coef, \" with a P-value of P =\", p_value)","a27ab0fc":"### Crawling Proccess","d59541bb":"### Analysis Proccess","c1b44768":"The project I'm trying to work on is crawling data from the `Goodreads-Best Books of the Decade: 2010s (2010-2019)` website. Apart from that, I also did some simple analysis with the data.","91c2bea2":"Based on the results above, we can find out that the author with the most book contributions in the 2010s (2010-2019) was John Blandly with 54 books.","3ced360c":"The table above shows the 5 books with the highest scores on the `Goodreads-Best Book of the Decade: 2010s` website. These books have also entered the big screen and become booming films of their time.","11670096":"### Cleaning Proccess","53dce928":"#### Top 5 Author (by Score)","667df4c1":"The data that has been successfully retrieved by crawling will then be saved into a goodreads table with csv format. In addition, the data cleaning process will be carried out to obtain appropriate data to enter the analysis process.","0a0c08d8":"#### Top 5 Book (by Score)","dce8cd63":"From the data we have reviewed and cleaned, we can see that in the 2010s (2010-2019) there were 4255 authors whose books became `Best Book of the Decade`.","f33af613":"First of all, I'll be crawling the data from `Goodreads-Best Books of the Decade: 2010s (2010-2019)` website. The data is include titles, authors, ratings, scores, and voteds.","1f9bc44c":"#### Number of Author","6ebc62c9":"#### Most Contributors","5df1fbc1":"### DataFrame","6d6ecf0c":"The results above show the average score of each author. So that in the future we can recommend books from the top authors (for example the top 5 authors) to enter the list of books on Goodreads.","5d96ba0c":"Based on the table above, we can see that Score and People Voted have a high correlation.","0ac2aaaf":"This is a project that I created when I first started studying Data Science in July 2019. This project is my final result from `Big Data Analytics Training` that was held by `Digital Talent Scholarship - Ministry of Communication and Informatic`."}}