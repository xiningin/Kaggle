{"cell_type":{"17992611":"code","cc784750":"code","97204ba6":"code","940369f7":"code","3bcddd50":"code","f240a326":"code","63a4b86e":"code","e27a7e43":"markdown"},"source":{"17992611":"import os\nfrom IPython import display\nos.mkdir('..\/tmp')\nos.chdir('..\/tmp')\n\n# Clone repo\n!git clone https:\/\/github.com\/Megvii-BaseDetection\/YOLOX -q\n\n# Install requirments.txt    \n%cd YOLOX\n!pip install -U pip && pip install -r requirements.txt\n!pip install -v -e . \n\n# Download YoloX-S pretreined model\n!wget https:\/\/github.com\/Megvii-BaseDetection\/storage\/releases\/download\/0.0.1\/yolox_s.pth\n\n# Install COCO API    \n!pip install -Uqqq 'git+https:\/\/github.com\/cocodataset\/cocoapi.git#subdirectory=PythonAPI'    \ndisplay.clear_output()","cc784750":"%%writefile cots_config.py\n\nimport os\nfrom yolox.exp import Exp as MyExp\n\nclass Exp(MyExp):\n    def __init__(self):\n        super(Exp, self).__init__()\n        self.depth = 0.33\n        self.width = 0.50\n        self.exp_name = os.path.split(os.path.realpath(__file__))[1].split(\".\")[0]\n        \n        # dirs\n        self.data_dir = '\/kaggle\/input\/cotscocostratifiedk5folds-4919-imgs\/dataset\/images'\n        self.train_ann = '\/kaggle\/input\/cotscocostratifiedk5folds-4919-imgs\/dataset\/images\/annotations\/train.json'\n        self.val_ann = '\/kaggle\/input\/cotscocostratifiedk5folds-4919-imgs\/dataset\/images\/annotations\/valid.json'\n        \n        self.input_size = (960, 960)\n        self.test_size = (960, 960)\n        self.num_classes = 1\n        \n        self.max_epoch = 40\n        self.data_num_workers = 2\n        self.eval_interval = 1\n        \n        # Augmentations\n        self.mosaic_prob = 1.0\n        self.mosaic_scale = (0.5, 1.5)\n        self.mixup_prob = 1.0\n        self.hsv_prob = 1.0\n        self.flip_prob = 0.5\n        self.no_aug_epochs = 2","97204ba6":"%%writefile datasets\/voc_classes.py\n\nVOC_CLASSES = (\n  \"starfish\",\n)","940369f7":"%%writefile datasets\/coco_classes.py\n\nCOCO_CLASSES = (\n  \"starfish\",\n)","3bcddd50":"import os\nos.listdir('yolox')","f240a326":"!python tools\/train.py \\\n    -f cots_config.py \\\n    -d 1 \\\n    -b 16 \\\n    --fp16 \\\n    -o \\\n    -c yolox_s.pth","63a4b86e":"!cp -r YOLOX_outputs \/kaggle\/working","e27a7e43":"# Clone YoloX Repo and Install Requirements"}}