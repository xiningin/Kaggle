{"cell_type":{"4709994d":"code","00f264e9":"code","60f42ab8":"code","aef980ff":"code","887c88de":"code","bf96aa0a":"code","1652a8e2":"code","6fc63534":"code","e608b664":"code","bbdc6897":"code","167b4338":"code","168510a8":"code","888cad4d":"code","469cfb03":"code","be86b7dd":"code","2d273fb1":"code","625495f1":"code","3f287cb5":"code","bfb36e4d":"code","a02d7ad0":"code","991a4c43":"code","4dfd02ea":"code","3956b245":"code","dae10260":"code","4a8db48f":"code","42714287":"code","43210695":"code","efe105f3":"code","eca8996e":"code","c9aade67":"code","664db4ce":"code","60609830":"code","c0ceb830":"code","3bb26f27":"code","e1f78032":"code","5227486e":"code","c044a25f":"code","03cd910d":"code","0928dd68":"code","c0a66acf":"code","29dfc2be":"code","1f9029c9":"code","46837082":"code","45cb0501":"code","180a1a76":"code","f5fc40f4":"code","7a33d59f":"code","ded13f5f":"code","d6022191":"code","92acda4f":"code","1bee2aa1":"code","f7c1b7e8":"code","91400566":"code","6589b7ed":"code","36306fed":"code","03ad5269":"code","0a50ca61":"code","e95602b3":"code","4d264011":"code","487c1178":"code","1f0e9ac1":"code","d9a3bfe5":"code","0f2a4752":"code","eb717fd2":"markdown","ed5ca77a":"markdown","2e926066":"markdown","4dca5d5a":"markdown","3cdf2638":"markdown","dc39ac17":"markdown","bdf66bd8":"markdown","5d4726ef":"markdown","fca51ae1":"markdown","9edc9f51":"markdown","16f333a4":"markdown","54dd407f":"markdown","bc2c5f1b":"markdown","232122e5":"markdown","7aceeb77":"markdown","c31c26b9":"markdown","38576d16":"markdown","fb0a3cf3":"markdown","a77ca5b4":"markdown","74ed7bce":"markdown","8ccfff07":"markdown"},"source":{"4709994d":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\n# import libraries\n\nimport numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\npd.options.display.float_format = '{:,.2f}'.format","00f264e9":"# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\nrounds = pd.read_csv('\/kaggle\/input\/investmentanalysis-sparksfund\/rounds2.csv', encoding='ISO-8859-1')\ncompanies = pd.read_csv('\/kaggle\/input\/investmentanalysis-sparksfund\/companies.csv', encoding='ISO-8859-1')\nmapping = pd.read_csv('\/kaggle\/input\/investmentanalysis-sparksfund\/mapping.csv')","60f42ab8":"# check the shape of all dataset\nprint('Shape of rounds dataset: ',rounds.shape)\nprint('Shape of companies dataset: ',companies.shape)\nprint('Shape of mapping dataset: ',mapping.shape)","aef980ff":"# check how rounds dataset look like\nrounds.head()","887c88de":"# check how comapnies dataset look like\ncompanies.head()","bf96aa0a":"# rounds dataset information\nrounds.info()","1652a8e2":"# companies dataset information\ncompanies.info()","6fc63534":"# number of permalink in rounds dataset\nrounds['company_permalink'].nunique()","e608b664":"# convert all permalinks to lowercase\ncompanies['permalink'] = companies['permalink'].apply(lambda x: x.lower())\nrounds['permalink'] = rounds['company_permalink'].apply(lambda x: x.lower())","bbdc6897":"rounds['permalink'].nunique()","167b4338":"# lets find out the odd permalink in both the dataset\nset_c = set(companies['permalink'])\nset_r = set(rounds['permalink'])","168510a8":"set_c.difference(set_r)","888cad4d":"set_r.difference(set_c)","469cfb03":"# remove these special character from both the dataset\ncompanies['permalink'] = companies.permalink.str.encode('utf-8').str.decode('ascii', 'ignore')\nrounds['permalink'] = rounds.permalink.str.encode('utf-8').str.decode('ascii', 'ignore')","be86b7dd":"print(len(companies.loc[~companies['permalink'].isin(rounds['permalink'])]))\nprint(len(rounds.loc[~rounds['permalink'].isin(companies['permalink'])]))","2d273fb1":"# drop the company_permalink from the rounds dataset\nrounds = rounds.drop('company_permalink', axis=1)","625495f1":"# lets merge the two dataframe and call it a master dataframe\nmaster = pd.merge(companies, rounds, on='permalink',how='outer')\nmaster.head()","3f287cb5":"# check shape of the master dataset\nmaster.shape","bfb36e4d":"# lets check the missing values\nnull = master.isnull().sum()\nnull_cent = round(master.isnull().sum()\/len(master)*100, 2)\npd.concat([null, null_cent], axis=1)","a02d7ad0":"# removing features\n\n# dropping funding_round_code as it has more than 70% null values\n# dropping features like homepage_url, founded_at, state_code, region as these are not relevant features\n\nmaster = master.drop(['funding_round_code','founded_at','homepage_url','state_code','region','city'], axis=1)\nmaster.info()","991a4c43":"# removing rows which has null values in raised_amount_usd, country_code and category_list\nmaster = master[~master['raised_amount_usd'].isnull()]\nmaster = master[~master['country_code'].isnull()]\nmaster = master[~master['category_list'].isnull()]","4dfd02ea":"# Lets see how the funding dataset looks like\nmaster.head()","3956b245":"# Shape of the master dataset\nmaster.shape","dae10260":"# average funding by each funding round type\npd.pivot_table(master, index='funding_round_type',values='raised_amount_usd',\n               aggfunc=np.mean).sort_values(by='raised_amount_usd',ascending=False)","4a8db48f":"# Lets see the range of funding by each funding round type\nplt.figure(figsize=(24,10))\nsns.boxplot(x='funding_round_type',y='raised_amount_usd',data=master)\nplt.yscale('log')\nplt.show()","42714287":"# Number of funding made by each funding round type\nplt.figure(figsize=(24,10))\nsns.countplot(x='funding_round_type',data=master)\nplt.yscale('log')\nplt.xticks(rotation=30)\nplt.show()","43210695":"# Filter the data which contains only these round type\ndf = master[(master['funding_round_type']=='venture')|\n      (master['funding_round_type']=='seed')|\n      (master['funding_round_type']=='angel')|\n      (master['funding_round_type']=='private_equity')]","efe105f3":"# investment made by the funding round type\npd.pivot_table(data=df, index='funding_round_type',values='raised_amount_usd',aggfunc=np.mean).sort_values(by='raised_amount_usd', ascending=False)","eca8996e":"plt.figure(figsize=(18,6))\n\nplt.subplot(1,3,1)\nsns.countplot(x='funding_round_type',data=df)\nplt.title('# of Investment')\nplt.ylabel('Number of Investment made')\n\nplt.subplot(1,3,2)\nsns.barplot(x='funding_round_type',y='raised_amount_usd',data=df,estimator=np.sum)\nplt.title('Sum of Investment in each funding type')\nplt.ylabel('Raised amount (1 unit = 10M USD)')\n\nplt.subplot(1,3,3)\nsns.barplot(x='funding_round_type',y='raised_amount_usd',data=df, estimator=np.mean)\nplt.title('Avg of Investment in each funding type')\nplt.ylabel('Raised amount (1 unit = 10M USD)')\n\nplt.show()","c9aade67":"# summary of funding\ndf['raised_amount_usd'].describe()","664db4ce":"# Now considering the investment in the range of 5 million to 15 million USD,\nprint('Venture fund average = ',round(df[df['funding_round_type']=='venture']['raised_amount_usd'].mean(), 2))\nprint('Seed fund average = ',round(df[df['funding_round_type']=='seed']['raised_amount_usd'].mean(), 2))\nprint('Angel fund average = ',round(df[df['funding_round_type']=='angel']['raised_amount_usd'].mean(), 2))\nprint('Private equity fund average = ',round(df[df['funding_round_type']=='private_equity']['raised_amount_usd'].mean(), 2))","60609830":"# lets make a dataset for only Venture fund\ndf_Venture = df[df['funding_round_type']=='venture']","c0ceb830":"# lets see the total investment amount across countries\npd.pivot_table(data=master, index='country_code',values='raised_amount_usd',aggfunc=np.sum).sort_values(by='raised_amount_usd',ascending=False)","3bb26f27":"# lets see the investment in countries in the selective funding type\npd.pivot_table(data=df, index='country_code',values='raised_amount_usd',aggfunc=np.sum).sort_values(by='raised_amount_usd',ascending=False)","e1f78032":"# lets see the investment made in country by the Venture fund\npd.pivot_table(data=df_Venture, index='country_code',values='raised_amount_usd',aggfunc=np.sum).sort_values(by='raised_amount_usd',ascending=False)","5227486e":"# lets see it as a dataframe\nfrom functools import reduce\ncountry = [pd.pivot_table(data=master, index='country_code',values='raised_amount_usd',aggfunc=np.sum).sort_values(by='raised_amount_usd',ascending=False),\n          pd.pivot_table(data=df, index='country_code',values='raised_amount_usd',aggfunc=np.sum).sort_values(by='raised_amount_usd',ascending=False),\n          pd.pivot_table(data=df_Venture, index='country_code',values='raised_amount_usd',aggfunc=np.sum).sort_values(by='raised_amount_usd',ascending=False)]\nfund_country = reduce(lambda left,right: pd.merge(left,right,on='country_code'), country)\nfund_country.sort_values(by='raised_amount_usd', ascending=False).head(9)","c044a25f":"# lets choose the top 9 countries where the investment can be made in the venture fund\ntop9 = df_Venture[df_Venture['country_code'].isin(['USA','CHN','GBR','IND','CAN','FRA','ISR','DEU','JPN'])]\ntop9.head()","03cd910d":"# plotting amount of investment in top 9 countries\nplt.figure(figsize=(16,6))\n\nsns.barplot(x='country_code',y='raised_amount_usd',data=top9, estimator=np.sum)\nplt.xlabel('Country')\nplt.title('Total amount of Investment in each country in Venture Fund')\n\n# setting yscale to log for clear visibility\nplt.yscale('log')\n\nplt.show()","0928dd68":"# lets make a dataframe for investment made in the top9 countries with english speaking countries\neng = pd.pivot_table(data=top9,index='country_code',values='raised_amount_usd',aggfunc=np.sum).sort_values(by='raised_amount_usd', ascending=False)\nlang = ['Yes','No','Yes','Yes','Yes','No','No','No','No']\neng['Language'] = lang\neng.sort_values(by=['Language','raised_amount_usd'], ascending=[False,False])","c0a66acf":"# filtering top 3 countries where investor are interested to invest\ndf_country = df_Venture[df_Venture['country_code'].isin(['USA','GBR','IND'])]\ndf_country.head()","29dfc2be":"# lets see how the sectors looks like\ndf_country['category_list'].unique()[10:50]","1f9029c9":"# lets extract the main sector from the category_list column\ndf_country['primary_sector'] = df_country['category_list'].apply(lambda x: x.split('|')[0])\ndf_country['primary_sector'] = df_country['primary_sector'].apply(lambda x: x.lower())","46837082":"# now lets check mapping dataset\nmapping.head()","45cb0501":"mapping.info()","180a1a76":"# there is only one missing value in category_list, so lets get rid of that\nmapping = mapping[~mapping['category_list'].isnull()]","f5fc40f4":"# lets see how category_list looks like in mapping dataframe\nmapping['category_list'].unique()[10:30]","7a33d59f":"# lets replace '0' with 'na' \nmapping['category_list'] = mapping['category_list'].apply(lambda x: x.lower())\nmapping['category_list'] = mapping['category_list'].apply(lambda x: x.replace('0','na') if '0' in x else x)","ded13f5f":"# now unpivoting the mapping dataframe\nmapping = pd.melt(mapping, id_vars='category_list', var_name='main_sector')\nmapping.head()","d6022191":"mapping = mapping[mapping['value']==1]\nmapping = mapping.drop('value', axis=1)\nmapping.head()","92acda4f":"# merging the mapping dataframe with df_country \ndf_sector = pd.merge(df_country, mapping, how='left', left_on='primary_sector', right_on='category_list')\ndf_sector.head()","1bee2aa1":"# remove category_list_x and category_list_y\ndf_sector = df_sector.drop(['category_list_x','category_list_y'], axis=1)\ndf_sector['main_sector'].value_counts()","f7c1b7e8":"# filter dataset for USA\ndf_USA = df_sector[df_sector['country_code']=='USA']\n\n# filter down the investment in the range 5 million to 15 million\ndf_USA = df_USA[(df_USA['raised_amount_usd']>5000000)&(df_USA['raised_amount_usd']<15000000)]\n","91400566":"# groupby main sector to see which sector has highest number of investment\ndf_USA.groupby('main_sector')['raised_amount_usd'].count().sort_values(ascending=False)","6589b7ed":"# groupby main sector to see which sector has highest amount of investment\ndf_USA.groupby('main_sector')['raised_amount_usd'].sum().sort_values(ascending=False)","36306fed":"# plotting Investments in USA\nplt.figure(figsize=(16,6))\nplt.subplots_adjust(wspace=0.05,hspace=0)\n\nplt.subplot(1,2,1)\nplt.title('# of Investment')\nsns.countplot(y='main_sector', data=df_USA)\n\nplt.subplot(1,2,2)\nplt.title('Amount of Investment')\nsns.barplot(x='raised_amount_usd',y='main_sector',data=df_USA, estimator=np.sum)\nplt.yticks([])\nplt.ylabel('')\n\nplt.show()","03ad5269":"# filter dataset for GBR\ndf_GBR = df_sector[df_sector['country_code']=='GBR']\n\n# filter down the investment in the range 5 million to 15 million\ndf_GBR = df_GBR[(df_GBR['raised_amount_usd']>5000000)&(df_GBR['raised_amount_usd']<15000000)]","0a50ca61":"# groupby main sector to see which sector has highest number of investment\ndf_GBR.groupby('main_sector')['raised_amount_usd'].count().sort_values(ascending=False)","e95602b3":"# groupby main sector to see which sector has highest amount of investment\ndf_GBR.groupby('main_sector')['raised_amount_usd'].sum().sort_values(ascending=False)","4d264011":"# plotting Investments in GBR\nplt.figure(figsize=(16,6))\nplt.subplots_adjust(wspace=0.05,hspace=0)\n\nplt.subplot(1,2,1)\nplt.title('# of Investment')\nsns.countplot(y='main_sector', data=df_GBR)\n\nplt.subplot(1,2,2)\nplt.title('Amount of Investment')\nsns.barplot(x='raised_amount_usd',y='main_sector',data=df_GBR, estimator=np.sum)\nplt.yticks([])\nplt.ylabel('')\n\nplt.show()","487c1178":"# filter dataset for IND\ndf_IND = df_sector[df_sector['country_code']=='IND']\n\n# filter down the investment in the range 5 million to 15 million\ndf_IND = df_IND[(df_IND['raised_amount_usd']>5000000)&(df_IND['raised_amount_usd']<15000000)]","1f0e9ac1":"# groupby main sector to see which sector has highest number of investment\ndf_IND.groupby('main_sector')['raised_amount_usd'].count().sort_values(ascending=False)","d9a3bfe5":"# groupby main sector to see which sector has highest amount of investment\ndf_IND.groupby('main_sector')['raised_amount_usd'].sum().sort_values(ascending=False)","0f2a4752":"# plotting Investments in IND\nplt.figure(figsize=(16,6))\nplt.subplots_adjust(wspace=0.05,hspace=0)\n\nplt.subplot(1,2,1)\nplt.title('# of Investment')\nsns.countplot(y='main_sector', data=df_IND)\n\nplt.subplot(1,2,2)\nplt.title('Amount of Investment')\nsns.barplot(x='raised_amount_usd',y='main_sector',data=df_IND, estimator=np.sum)\nplt.yticks([])\nplt.ylabel('')\n\nplt.show()","eb717fd2":"**from the dataframe it seems the top 3 english speaking countries, where investment can be made in Venture Fund are:**\n1.  **USA - United States of America**\n2.  **GBR - Great Britain (England)**\n3.  **IND - India**","ed5ca77a":"#### **Sector Analysis for GBR** ","2e926066":"there are still two permalinks which needs to be addressed","4dca5d5a":"Now all permalink in both the dataset are matching","3cdf2638":"It seems that the Venture type has highest number of Investment","dc39ac17":"#### **Sector Analysis for USA** ","bdf66bd8":"Looking at these set difference, it seems that the permalinks are different in both the dataset because of the unicharacter.","5d4726ef":"looking at these values it seems that few values are incorrect as 'na' has been replaced with '0'","fca51ae1":"## **Country Analysis**","9edc9f51":"Here we can see that the difference between the mean and median is very high, also there is huge gap between the 75% and max value.","16f333a4":"#### **Sector Analysis for IND** ","54dd407f":"# **Analysis**","bc2c5f1b":"These are 7 main sectors","232122e5":"**Analysis of selective funding round type - Venture, Seed, Private Equity and Angel**","7aceeb77":"### Missing value treatment","c31c26b9":"Number of permalink cannot be more than 66368, means few permalink must be repeting, so let check","38576d16":"**So the funding type that is suitable for the investor is Venture Fund**","fb0a3cf3":"#### **Sector Analysis - Country-wise** ","a77ca5b4":"## **Funding Analysis**","74ed7bce":"## **Sector Analysis**","8ccfff07":"# **Data Cleaning**"}}