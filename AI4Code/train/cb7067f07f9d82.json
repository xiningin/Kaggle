{"cell_type":{"b03c2956":"code","dad3e20b":"code","0d451a3c":"code","45529edc":"code","5ceda38f":"code","5bf7a044":"code","77397a91":"code","5eafbce9":"code","f6bca4c7":"code","ff4222e0":"code","594f0ad1":"code","63f1eb6d":"code","4a426b0a":"code","5b1582dc":"code","5b03fcbb":"code","e29c44c5":"code","23f9e46a":"code","0e9ec3d7":"code","2154936a":"code","4796156e":"code","713ccd50":"code","b3c298ca":"code","81697d88":"code","d6c2de18":"code","b4838c58":"code","d02d01aa":"code","cbf3e198":"code","e9aab4a9":"code","5e9f7d25":"code","9f18f84a":"code","0d32fbaf":"code","99dd93fc":"code","f7b58095":"code","99e026ee":"code","34baf15a":"code","d04ea81c":"code","9d9ba388":"code","88af1a29":"code","6a29a953":"code","60256a1b":"code","814dc632":"markdown","b720289d":"markdown","4311ad89":"markdown","822e9231":"markdown","8cf54711":"markdown","2deb0b36":"markdown","dee55672":"markdown","76440b8f":"markdown","c6a991ce":"markdown","d5d82efa":"markdown","8470d9ac":"markdown","9a7ca43f":"markdown","2759bfc9":"markdown","4c40d5cb":"markdown","4d237685":"markdown","e01f9386":"markdown","f0c391d9":"markdown","96a5f3b6":"markdown","e91cabb4":"markdown","c407c100":"markdown","66be60ba":"markdown","3a909f7a":"markdown","4c0cb3df":"markdown","0961a9d4":"markdown","b6c74e7a":"markdown","703b7d5c":"markdown","9234c13a":"markdown","aa36bb7a":"markdown","0a52083f":"markdown","34367bc0":"markdown","dbe99717":"markdown","ee3cc349":"markdown","43a20a07":"markdown","f2b15093":"markdown","29cd9d5d":"markdown","93848767":"markdown","c8aa1b32":"markdown","0bff2e40":"markdown","0458d818":"markdown","97e99b67":"markdown","8a0fb09d":"markdown","6e70274f":"markdown","5f1f34dd":"markdown","d1cc4e8c":"markdown","def287e2":"markdown"},"source":{"b03c2956":"#import libraries\n\nimport numpy as np \nimport pandas as pd \n\nimport matplotlib.pyplot as plt \nimport seaborn as sns \n\nimport plotly.tools as tls\nimport plotly.offline as py\nfrom plotly.offline import init_notebook_mode, iplot, plot\nimport plotly.graph_objs as go\ninit_notebook_mode(connected=True)\n\nimport plotly.express as px","dad3e20b":"#read dataset\nnoise_complaints_data = pd.read_csv('..\/input\/Noise_Complaints.csv')","0d451a3c":"#preview data\nnoise_complaints_data.head()","45529edc":"#show basic information of the dataset\nnoise_complaints_data.info()","5ceda38f":"#count missing items\nnoise_complaints_data.isna().sum()","5bf7a044":"#plot null values on a heatmap\n\nsns.heatmap(noise_complaints_data.isnull(),yticklabels=False,cbar=False,cmap='viridis')","77397a91":"#drop unneccessary columns\nnoise_complaints_data= noise_complaints_data.drop(['Status','Due Date','Agency','Agency Name','Landmark','Facility Type','Status','Due Date',\n            'Resolution Description','Community Board','Park Facility Name','Park Borough','Vehicle Type',\n            'Taxi Company Borough','Taxi Pick Up Location','Bridge Highway Name','Bridge Highway Direction','Road Ramp','Bridge Highway Segment'],axis=1)","5eafbce9":"#count complaints by description\ncomp_desc = (noise_complaints_data['Descriptor'].value_counts())\ncomp_desc","f6bca4c7":"fig = go.Figure(data=[go.Histogram(y=noise_complaints_data['Descriptor'])])\n\nfig.update_layout(\n    autosize=False,\n    width=800,\n    height=800, \n    title=go.layout.Title(text=\"NYC Noise Complaint Descriptors 2018\"))","ff4222e0":"#view count of different kinds of complaints reported\ncomp_type = (noise_complaints_data['Complaint Type'].value_counts())\ncomp_type","594f0ad1":"sns.countplot(y='Complaint Type',\n              data=noise_complaints_data,\n              order= noise_complaints_data['Complaint Type'].value_counts().index).set_title('NYC Noise Complaint Types 2018')","63f1eb6d":"#find unique borough names\nnoise_complaints_data['Borough'].unique()","4a426b0a":"#group count of complaints by borough\ncount_borough = noise_complaints_data['Borough'].value_counts()\ncount_borough","5b1582dc":"#create pie chart\nfig, ax = plt.subplots(figsize=(10,10), subplot_kw=dict(aspect='equal'))\n\nborough = list(count_borough.index)\ncount = list(count_borough)\n\ndef func(pct):\n    absolute = int(pct\/100.*np.sum(count))\n    return \"{:.1f}% ({:d})\".format(pct, absolute)\n\n\nax.pie(count_borough, \n       autopct=lambda pct: func(pct),\n      pctdistance=1.2)\n\nax.legend(borough,\n          title=\"Borough\",\n          loc=\"center left\",\n          bbox_to_anchor=(1, 0.3, 0.5, 1))\n\nplt.title('NYC Noise Complaints by Borough 2018')","5b03fcbb":"noise_complaints_data['City'].unique()","e29c44c5":"comp_city = (noise_complaints_data['City'].value_counts())","23f9e46a":"comp_city_df = comp_city.to_frame().reset_index()\ncomp_city_df.rename(columns={'index':'City Name'},inplace=True)\ncomp_city_df.rename(columns={'City':'Count'},inplace=True)\ncomp_city_df.head(10)","0e9ec3d7":"sns.barplot(x='Count',\n            y='City Name',\n            data=comp_city_df.head(10)).set_title('Top 10 NYC Noise Compaints by City 2018')","2154936a":"noise_complaints_data['Location Type'].value_counts()","4796156e":"sns.countplot(y='Location Type',\n              data=noise_complaints_data,\n              order= noise_complaints_data['Location Type'].value_counts().index).set_title('NYC Noise Complaints by Location Type 2018')","713ccd50":"#find maximum and minimum longitude\nprint(noise_complaints_data['Longitude'].max())\nprint(noise_complaints_data['Longitude'].min())","b3c298ca":"#find maximum and minimum latitude\nprint(noise_complaints_data['Latitude'].max())\nprint(noise_complaints_data['Latitude'].min())","81697d88":"#plot complaints\n\n#resize plot\nfrom pylab import rcParams\nrcParams['figure.figsize'] = 10, 10\n\nplt.plot(noise_complaints_data['Longitude'],noise_complaints_data['Latitude'],'.',markersize=0.2)\nplt.title('NYC Noise Complaints 2018')","d6c2de18":"#closer look at Manhattan, Brooklyn, Bronx, Queens\n\n#resize plot\nfrom pylab import rcParams\nrcParams['figure.figsize'] = 30, 13\n\n#create subplot \nfig, axes = plt.subplots(nrows=1,ncols=4)\n\n#filter boroughs\nnoise_complaints_manhattan= noise_complaints_data[noise_complaints_data['Borough']=='MANHATTAN']\nnoise_complaints_brooklyn= noise_complaints_data[noise_complaints_data['Borough']=='BROOKLYN']\nnoise_complaints_bronx= noise_complaints_data[noise_complaints_data['Borough']=='BRONX']\nnoise_complaints_queens= noise_complaints_data[noise_complaints_data['Borough']=='QUEENS']\n\n#plot\naxes[0].plot(noise_complaints_manhattan['Longitude'],noise_complaints_manhattan['Latitude'],'.',markersize=0.6)\naxes[0].set_title('Manhattan Noise Complaints 2018')\n\naxes[1].plot(noise_complaints_brooklyn['Longitude'],noise_complaints_brooklyn['Latitude'],'.',markersize=0.6)\naxes[1].set_title('Brooklyn Noise Complaints 2018')\n\naxes[2].plot(noise_complaints_bronx['Longitude'],noise_complaints_bronx['Latitude'],'.',markersize=0.6)\naxes[2].set_title('Bronx Noise Complaints 2018')\n\naxes[3].plot(noise_complaints_queens['Longitude'],noise_complaints_queens['Latitude'],'.',markersize=0.6)\naxes[3].set_title('Queens Noise Complaints 2018')\n","b4838c58":"#show geographical heatmap; show only 30000 datpoints due to memory limit\n\nhead = noise_complaints_data.head(30000)\n\nimport folium\nfrom folium.plugins import HeatMap\nm=folium.Map([40.7128,-74.0060],zoom_start=11)\nHeatMap(head[['Latitude','Longitude']].dropna(),radius=8,gradient={0.2:'blue',0.4:'purple',0.6:'orange',1.0:'red'}).add_to(m)\ndisplay(m)","d02d01aa":"#find maximum and minimum longitude\nprint(noise_complaints_data['Latitude'].mean())\nprint(noise_complaints_data['Longitude'].mean())","cbf3e198":"#check the current created date format\ntype(noise_complaints_data['Created Date'].iloc[0])","e9aab4a9":"#convert created date to date time format\nnoise_complaints_data['Created Date'] = pd.to_datetime(noise_complaints_data['Created Date'])","5e9f7d25":"#create hour, month, day of week columns\nnoise_complaints_data['Hour'] = noise_complaints_data['Created Date'].apply(lambda time: time.hour)\nnoise_complaints_data['Month'] = noise_complaints_data['Created Date'].apply(lambda time: time.month)\nnoise_complaints_data['Day of Week'] = noise_complaints_data['Created Date'].apply(lambda time: time.dayofweek)","9f18f84a":"#check format of the day of the week column\nnoise_complaints_data['Day of Week'].head()","0d32fbaf":"#convert day of the week from integer to string descriptions\nd_o_w = {0:'Mon',1:'Tue',2:'Wed',3:'Thu',4:'Fri',5:'Sat',6:'Sun'}\nnoise_complaints_data['Day of Week'] = noise_complaints_data['Day of Week'].map(d_o_w)","99dd93fc":"#plot count of complaints by time\n\n#resize plot\nfrom pylab import rcParams\nrcParams['figure.figsize'] = 10, 5\n\nsns.countplot(x=noise_complaints_data['Hour'])\nplt.title('NYC Count of Complaints 2018: by Hour')","f7b58095":"#plot count of complaints by day of week\n\nsns.countplot(x=noise_complaints_data['Day of Week'])\nplt.title('NYC Count of Complaints 2018: by Day of Week')","99e026ee":"#plot count of complaints by month\n\nsns.countplot(x=noise_complaints_data['Month'])\nplt.title('NYC Count of Complaints 2018: by Month')","34baf15a":"noise_complaints_data['Date'] = noise_complaints_data['Created Date'].apply(lambda t:t.date())","d04ea81c":"noise_complaints_data.groupby(noise_complaints_data['Date']).count()['Unique Key'].plot()\nplt.tight_layout()\nplt.title('NYC Count of Complaints 2018: by Date')","9d9ba388":"#create data frame of count of complaints on day of week vs hour\ndayHour = noise_complaints_data.groupby(by=['Day of Week','Hour']).count()['Unique Key'].unstack()\ndayHour","88af1a29":"#create heatmap of count of complaints on day of week vs hour\nsns.heatmap(data=dayHour,cmap='coolwarm')\nplt.title('NYC Count of Complaints 2018: Day of Week vs. Hour')","6a29a953":"#create data frame of count of complaints on month vs hour\nmonthDay = noise_complaints_data.groupby(by=['Month','Day of Week']).count()['Unique Key'].unstack()\nmonthDay","60256a1b":"#create heatmap of count of complaints on month vs hour\nsns.heatmap(data=monthDay,cmap='coolwarm')\nplt.title('NYC Count of Complaints 2018: Day of Week vs. Month')","814dc632":"(EDA) Noise Complaints in NYC 2018\n-------\n","b720289d":"**By Month**","4311ad89":"# 2) What areas in NYC get the most noise complaints?","822e9231":"we are able to notice immediately that residential noise complaints top this list, having over 200,000 records. \nOnce again, since we have 436,691 individual records, this means that over half of the them were due to residential complaints. ","8cf54711":"The main difference between complaint descriptor and complaint type is that complaint type is much more generalized. ","2deb0b36":"Although there were some interesting complaint descriptors, it seems that a great majority of these complaints were due to loud music, partying, banging, pounding, and loud talking. \n\nIn fact, since we have 436,691 individual records in our dataset, the 200,000+ loud music\/party complaint descriptor covers over half of these records. ","dee55672":"In an attempt to identify geographical patterns of reported complaints, we will use the longitude and latitude points to create rough plots","76440b8f":"we are unfortunately stuck with a type that just says \"Noise\" without any other specification ","c6a991ce":"**By Hour**","d5d82efa":"The complaints are counted by military hour. It makes sense that a large volume of these complaints were reported at night time (with high spikes around midnight) ","8470d9ac":"**Conclusion**\n\nThis marks the end of this notebook!\n\nThanks for reading and feel free to leave any comments and suggestions regarding this EDA","9a7ca43f":"Here we will answer our first question by checking out the most frequent complaint description and types","2759bfc9":"Each point in this plot is a reported noise complaint. Darker spots of the plot indicate high volume of complaints. \nWe can almost see a visible map of New York City with Manhattan and Brooklyn having the most defined outline. \n\nLet's take a closer look at the top 4 boroughs","4c40d5cb":"## By City","4d237685":"There many features that either have too many missing values or have repetitive information (many of which are related to location of the complaint) \n\nWe will drop these columns along with the others that we will not be needing to answer our questions","e01f9386":"# Basic Information & Cleaning","f0c391d9":"Here we will explore relationships between our date\/time variables for count of noise complaints","96a5f3b6":"Complaints from residential areas account for over half of the noise complaints","e91cabb4":"**By Complaint Type**","c407c100":"Introduction\n-------\nHigh volume of noise complaints are reported in New York City. \n\nIn this brief exploratory data analysis, we will explore our data to cover the questions below:\n\n1. What type of complaints are most frequent? \n2. What areas in NYC get the most noise complaints?\n3. When do most complaints occur?\n\n*Data has been extracted from NYC Open Data*","66be60ba":"**By Date**","3a909f7a":"## By Borough","4c0cb3df":"From partying, car noise, construction, barking dogs, jack hammering, and more, we notice a great variety of complaint descriptions listed. \nIt is surprising to see that many of these descriptions were generalized into codes (NM1, NC1, etc.)","0961a9d4":"Here we see a possible combination of seasonality and weekday\/weekend being factors. \n\nWeekends during Spring, Summer, and Fall months recorded more complaints than other times.  ","b6c74e7a":"The following count plot shows us a potential seasonal trend when it comes to noise complaints in NYC. **Summer** months such as *May*, *June*, *July* have high records of complaints while **winter** months such as *November*, *December*, *January*, and *February* have lower counts compared to other months. \n\nMeanwhile, **fall** months such as *September* and *October* were also very hot for noise complaints","703b7d5c":"# 3) When do most complaints occur?","9234c13a":"**Date\/Time Relationships**","aa36bb7a":"The day of the week column is currently set as integer values (0 = Monday, 1 = Tuesday,... 6 = Sunday) \n\nThis is completely fine but we'll convert this to string values that we are more familar to seeing","0a52083f":"Similar information can be found as when we explored count of complaints by borough. \n\nHowever, it seems that Queens is broken down into a great variety of city names","34367bc0":"# 1) What type of complaints are most frequent? ","dbe99717":"We already noted that large volume of complaints were recorded during weekends and night time and this heatmap confirms just that. \n\nIt also seems that lower number of noise complaints were recorded during weekday business hours","ee3cc349":"With the information we have we are able to categorize and locate the number of complaints by area. \n\nHowever, before we continue, one key assumption to remember is that the area with high noise complaints DOES NOT neccessarily mean that it is the noisest area\n\nTo explore this question, the focus will be on the **Borough**, **City**, and **Location Type**","43a20a07":"**By Day of Week**","f2b15093":"This time the complaints are counted by day of week. From this visualization, we may infer that higher volume of complaints are recorded during weekends compared to weekdays.","29cd9d5d":"The created date column is currently in a string format so we should convert it to a date\/time format for our convenience","93848767":"In this section, we will explore to see if there are patterns in the volume of noise complaints by hour, day of the week, and by month. \n\nHowever, we must first prepare our date\/time data to fit our needs","c8aa1b32":"| Feature | Description |\n| --- | --- |\n| Unique Key | Unique ID of the reported complaint case |\n| Created Date | The date that complaint was reported |\n| Closed Date | The date that the case was closed |\n| Agency  | Agency that handled the situation |\n| Agency Name | Full name of the agency that handled the situation |\n| Complaint Type | Type of complaint reported |\n| Descriptor | Description of the complaint |\n| Location Type | Type of location where the complaint was reported |\n| Incident Zip | Zip code of where the complaint was reported |\n| Incident Address | Mail box number and Street Address of where the complaint was reported |\n| Street Name | Street name of where the complaint was reported |\n| Cross Street 1 | Cross Street 1 of where the complaint was reported |\n| Cross Street 2 | Cross Street 2 of where the complaint was reported |\n| Intersection Street 1 | Intersection Street 1 of where the complaint was reported |\n| Intersection Street 2 | Intersection Street 2 of where the complaint was reported |\n| Address Type | Type of address of where the complaint was reported |\n| City | City address of where the complaint was reported |\n| Landmark | Landmark name of where the complaint was reported (if reported from a specific landmark) |\n| Facility Type | Facility type of where the complaint was reported |\n| Status | Status of the complaint (open\/closed) |\n| Due Date | Due date of the complaint |\n| Resolution Description | How the complaint was handled by the agency |\n| Resolution Action Updated Date | Date the action has been taken regarding the complaint |\n| Community Board | Community Board of where the complaint took place |\n| Borough | Borough in NYC where complaint was reported |\n| X Coordinate (State Plane) | X coordinate of where the complaint was reported |\n| Y Coordinate (State Plane) | Y coordinate of where the complaint was reported |\n| Park Facility Name | Park facility name of where the complaint was reported |\n| Park Borough | Park Borough of the complaint |\n| Vehicle Type | N\/A; Does not apply to this dataset |\n| Taxi Company Borough | N\/A; Does not apply to this dataset |\n| Taxi Pick Up Location | N\/A; Does not apply to this dataset |\n| Bridge Highway Name | N\/A; Does not apply to this dataset |\n| Bridge Highway Direction | N\/A; Does not apply to this dataset |\n| Road Ramp | N\/A; Does not apply to this dataset |\n| Bridge Highway Segment | N\/A; Does not apply to this dataset |\n| Latitude | Latitude coordinate of where the complaint was reported |\n| Longitude | Longitude coordinate of where the complaint was reported |\n| Location | Latitude and Longitude coordinate point of where the complaint was reported |","0bff2e40":"![](https:\/\/bloximages.chicago2.vip.townnews.com\/oneidadispatch.com\/content\/tncms\/assets\/v3\/editorial\/8\/04\/804b0ff4-d4ac-5bcf-b501-9cb659c770cd\/5ba25e8185125.image.jpg?resize=600%2C450)","0458d818":"This visualization replicates information from the previous plot but with a time series-like presentation. \n\nMultiple factors that we have already looked at (seasonality, time of day, weekend\/weekday) may have impacted the up and down spikes. ","97e99b67":"**By Complaint Description**","8a0fb09d":"Of the five boroughs, Manhattan and Brooklyn take the top with Bronx and Queens coming next. Staten Island only takes a small proportion\n\n0.2% (1090) unspecified items may be a combination of unidentified boroughs that have not been documented for whatever reason","6e70274f":"## Plot Map","5f1f34dd":"## By Location Type","d1cc4e8c":"Let's take a look at our data. We immediately notice that we have a large set of columns (39 in total)","def287e2":"With each of the four boroughs broken down, we can see that noise complaints cluster around certain neighborhoods\n\nFor example, in Manhattan, there seems to be a lot of noise complaints around East Village and Lower East side. We also see dark shades in the area above central park (Harlem, Washington Heights, Fort George, etc). \n\nMeanwhile, it's interesting to note that areas of midtown which include popular tourist attractions such as Times Square and Rockfeller Center do not have as much complaints reported as other zones in the city. This may be due to the fact that these zones are not typical residential areas (thus less residential complaints)\n\nFor the other boroughs, we see that the dark shades are areas geographically close to Manhattan (Williamsburg for Brooklyn, Long Island City for Queens) \n"}}