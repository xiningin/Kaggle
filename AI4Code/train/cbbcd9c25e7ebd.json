{"cell_type":{"05f23f9a":"code","4ae1c544":"code","9d748bd1":"code","b823c3cb":"code","34a01ad2":"code","a46486ca":"code","e9c7315f":"code","69b89d62":"code","79311355":"code","9f0da148":"markdown"},"source":{"05f23f9a":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","4ae1c544":"!pip install openpyxl\n# !pip install plotly\n# !pip install torchsummary\n# !pip install git+https:\/\/github.com\/napoler\/PreTrans.git\n!pip install tqdm","9d748bd1":"from tqdm import tqdm\nimport pandas as pd\nimport pickle\nfrom openpyxl import load_workbook\n# IO = '\/kaggle\/input\/lungcancerwh001\/nlp.xlsx'\n","b823c3cb":"# icdfile=\"\/kaggle\/input\/icd10data\/icd.xlsx\"\nicdfile=\"\/kaggle\/input\/icd10data\/2.0.xlsx\"\n\nicd= load_workbook(icdfile)\nicdsheet_names = icd.sheetnames   # \u8fd4\u56de\u4e00\u4e2a\u5217\u8868\nicdws = icd[icdsheet_names[0]]    # index\u4e3a0\u4e3a\u7b2c\u4e00\u5f20\u8868\nicd10Dict={}\nicd10DictPlus={}\nfor ri,row in enumerate(icdws.iter_rows()):\n    if ri==0:\n        for ii,o in enumerate(row):\n            print(ii,row[ii].value)\n        continue\n#     print(row[0].value)\n    icd10Dict[row[0].value]=row[2].value\n    if row[1].value==None:\n        icd10DictPlus[row[0].value]=row[2].value\n    elif row[0].value==None:\n        icd10DictPlus[\"_+_\"+row[1].value]=row[2].value\n    else:\n        icd10DictPlus[row[0].value+\"_+_\"+row[1].value]=row[2].value","34a01ad2":"word2icd10={}\nfor code in icd10Dict.keys():\n    word2icd10[icd10Dict[code]]=code\n# word2icd10\n\nword2icd10Plus={}\nfor code in icd10DictPlus.keys():\n    word2icd10Plus[icd10DictPlus[code]]=code\n# word2icd10","a46486ca":"icd10={\"icd10Dict\":icd10Dict,\"dict2Icd10\":word2icd10,\"icd10DictPlus\":icd10DictPlus,\"word2icd10Plus\":word2icd10Plus}","e9c7315f":"with open('icd10.plk','wb') as f:\n    pickle.dump(icd10,f)","69b89d62":"!pip install git+https:\/\/github.com\/napoler\/icd10code.git","79311355":"from icd10code import icd10Code\nIcd10=icd10Code(version=\"\")\nprint(Icd10.icd10.keys())\n# word = input(\"\u8f93\u5165\u75be\u75c5:\")\nword=\"\u80ba\u6076\u6027\u80bf\u7624\"\nprint(Icd10.get_code(word))\n\nword=\"C34.900x001\"\nprint(Icd10.get_name(word))","9f0da148":"# \u4f7f\u7528\u6d4b\u8bd5"}}