{"cell_type":{"206c4e49":"code","8d524c86":"code","ea9ce3af":"code","2b6cfddf":"code","4a3f9dde":"markdown","48def7e4":"markdown","5dab3986":"markdown","98f3a2ea":"markdown","97b2c957":"markdown","d077e920":"markdown","32e18026":"markdown","fac8b963":"markdown","81ab9d0f":"markdown","56accc62":"markdown","3bdbff57":"markdown","5810e889":"markdown","1c0883d2":"markdown","74cd7179":"markdown","d7f03921":"markdown","3106deab":"markdown","d7ccf2ef":"markdown","37da9eaf":"markdown","30334c70":"markdown","a29dc8cd":"markdown","1dc03f0a":"markdown","d3b84017":"markdown"},"source":{"206c4e49":"from numpy.random import seed\nimport numpy as np\nfrom numpy.random import randn\nimport matplotlib.pyplot as plt\nseed(1)\ndata1= 20*randn(1000)+ 100 #std*(Gaussian values with a mean of 0 and a standard deviation of 1)+ mean\ndata2= data1+ (10*randn(1000)+50)# noise added\nprint('data1: mean:%.3f stdv:%.3f'%(np.mean(data1),np.std(data1)))\nprint('data2: mean:%.3f stdv:%.3f'%(np.mean(data2),np.std(data2)))\nplt.scatter(data1, data2)\nplt.show()","8d524c86":"covariance= np.cov(data1, data2)\nprint(covariance)","ea9ce3af":"from scipy.stats import pearsonr\ncorr, _= pearsonr(data1, data2)\nprint('Pearsons correlation: %.3f' % corr)","2b6cfddf":"from scipy.stats import spearmanr\ncorr, _= spearmanr(data1, data2)\nprint('Spearman corr:%.3f'%corr)","4a3f9dde":"Two variables may be related by a nonlinear relationship, such that the relationship is stronger or weaker across the distribution of the variables.\n\nFurther, the two variables being considered may have a non-Gaussian distribution.\n\nIn this case, the Spearman\u2019s correlation coefficient (named for Charles Spearman) can be used to summarize the strength between the two data samples. This test of relationship can also be used if there is a linear relationship between the variables, but will have slightly less power (e.g. may result in lower coefficient scores).\n\nAs with the Pearson correlation coefficient, the scores are between -1 and 1 for perfectly negatively correlated variables and perfectly positively correlated respectively.\n\nInstead of calculating the coefficient using covariance and standard deviations on the samples themselves, these statistics are calculated from the relative rank of values on each sample. This is a common approach used in non-parametric statistics, e.g. statistical methods where we do not assume a distribution of the data such as Gaussian.\n\n*Spearman's correlation coefficient = covariance(rank(X), rank(Y)) \/ (stdv(rank(X)) * stdv(rank(Y)))*","48def7e4":"The use of the mean in the calculation suggests the need for each data sample to have a Gaussian or Gaussian-like distribution.\n\nThe sign of the covariance can be interpreted as whether the two variables change in the same direction (positive) or change in different directions (negative). The magnitude of the covariance is not easily interpreted. A covariance value of zero indicates that both variables are completely independent.\n\nThe cov() NumPy function can be used to calculate a covariance matrix between two or more variables.\n\n\ncovariance = cov(data1, data2)","5dab3986":"The use of mean and standard deviation in the calculation suggests the need for the two data samples to have a Gaussian or Gaussian-like distribution.\n\nThe result of the calculation, the correlation coefficient can be interpreted to understand the relationship.\n\nThe coefficient returns a value between -1 and 1 that represents the limits of correlation from a full negative correlation to a full positive correlation. A value of 0 means no correlation. The value must be interpreted, where often a value below -0.5 or above 0.5 indicates a notable correlation, and values below those values suggests a less notable correlation.\n\nThe pearsonr() SciPy function can be used to calculate the Pearson\u2019s correlation coefficient between two data samples with the same length.","98f3a2ea":"As with the Pearson\u2019s correlation coefficient, the coefficient can be calculated pair-wise for each variable in a dataset to give a correlation matrix for review.","97b2c957":"Before we look at calculating some correlation scores, we must first look at an important statistical building block, called covariance.","d077e920":"The covariance between the two variables is 389.75. We can see that it is positive, suggesting the variables change in the same direction as we expect.","32e18026":"A scatter plot of the two variables is created. Because we contrived the dataset, we know there is a relationship between the two variables. This is clear when we review the generated scatter plot where we can see an increasing trend.","fac8b963":"We know that the data is Gaussian and that the relationship between the variables is linear. Nevertheless, the nonparametric rank-based approach shows a strong correlation between the variables of 0.8.","81ab9d0f":"The Pearson correlation coefficient (named for Karl Pearson) can be used to summarize the strength of the linear relationship between two data samples.\n\nThe Pearson\u2019s correlation coefficient is calculated as the covariance of the two variables divided by the product of the standard deviation of each data sample. It is the normalization of the covariance between the two variables to give an interpretable score.\n\n\n*Pearson's correlation coefficient = covariance(X, Y) \/ (stdv(X) * stdv(Y))*","56accc62":"<ul>After reading this notebook, you will know:\n\n- <ol>How to calculate a covariance matrix to summarize the linear relationship between two or more variables.<\/ol>\n- <ol>How to calculate the Pearson\u2019s correlation coefficient to summarize the linear relationship between two variables.<\/ol>\n- <ol>How to calculate the Spearman\u2019s correlation coefficient to summarize the monotonic relationship between two variables.<\/ol>\n<\/ul>","3bdbff57":"We can see that the two variables are positively correlated and that the correlation is 0.8. This suggests a high level of correlation, e.g. a value above 0.5 and close to 1.0.","5810e889":"# Co-variance","1c0883d2":"- What is Correlation?\n- Test Dataset\n- Covariance\n- Pearson\u2019s Correlation\n- Spearman\u2019s Correlation","74cd7179":"# Pearson\u2019s Correlation","d7f03921":"# Test Dataset\nWe will generate 1,000 samples of two two variables with a strong positive correlation. The first variable will be random numbers drawn from a Gaussian distribution with a mean of 100 and a standard deviation of 20. The second variable will be values from the first variable with Gaussian noise added with a mean of a 50 and a standard deviation of 10.\n\nWe will use the randn() function to generate random Gaussian values with a mean of 0 and a standard deviation of 1, then multiply the results by our own standard deviation and add the mean to shift the values into the preferred range.\n\nThe pseudorandom number generator is seeded to ensure that we get the same sample of numbers each time the code is run.","3106deab":"# What is Correlation?\nVariables within a dataset can be related for lots of reasons.\n\nFor example:\n\n- One variable could cause or depend on the values of another variable.\n- One variable could be lightly associated with another variable.\n- Two variables could depend on a third unknown variable.\nIt can be useful in data analysis and modeling to better understand the relationships between variables. The statistical relationship between two variables is referred to as their correlation.\n\nA correlation could be positive, meaning both variables move in the same direction, or negative, meaning that when one variable\u2019s value increases, the other variables\u2019 values decrease. Correlation can also be neutral or zero, meaning that the variables are unrelated.\n\n    1. Positive Correlation: both variables change in the same direction.\n    \n    2. Neutral Correlation: No relationship in the change of the variables.\n    \n    3. Negative Correlation: variables change in opposite directions.","d7ccf2ef":"# Spearman\u2019s rank Correlation","37da9eaf":"Variables can be related by a linear relationship. This is a relationship that is consistently additive across the two data samples.\n\nThis relationship can be summarized between two variables, called the covariance. It is calculated as the average of the product between the values from each sample, where the values haven been centered (had their mean subtracted).","30334c70":"The Pearson\u2019s correlation coefficient can be used to evaluate the relationship between more than two variables.\n\nThis can be done by calculating a matrix of the relationships between each pair of variables in the dataset. The result is a symmetric matrix called a correlation matrix with a value of 1.0 along the diagonal as each column always perfectly correlates with itself.","a29dc8cd":"**A problem with covariance as a statistical tool alone is that it is challenging to interpret. This leads us to the Pearson\u2019s correlation coefficient next.**","1dc03f0a":"A linear relationship between the variables is not assumed, although a monotonic relationship is assumed. This is a mathematical name for an increasing or decreasing relationship between the two variables.\n\nIf you are unsure of the distribution and possible relationships between two variables, Spearman correlation coefficient is a good tool to use.\n\nThe spearmanr() SciPy function can be used to calculate the Spearman\u2019s correlation coefficient between two data samples with the same length.","d3b84017":"cov(X, Y) = (sum (x - mean(X)) * (y - mean(Y)) ) * 1\/(n-1)"}}