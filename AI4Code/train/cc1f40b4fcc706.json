{"cell_type":{"9c331b7d":"code","8953a95f":"code","d05546b7":"code","49e5c3ec":"code","97a80247":"code","d850878e":"code","2a9a8959":"code","e1620c0b":"code","0ed29072":"code","8d779854":"code","d580196d":"code","ba7b25ae":"code","981fab1b":"code","b38fdc2b":"code","563cc8fe":"code","5525a918":"code","85c122dd":"code","218c7e22":"code","4345eb11":"code","c101db6a":"code","d82b073a":"code","c316598c":"code","2639de89":"code","4c05fe0c":"code","d6e7b9be":"code","1732c38f":"code","18d8909c":"code","aab6edd1":"code","3995cb61":"code","9589718a":"code","26833be3":"code","d0860e54":"code","3d11a57c":"code","5bbd3aa2":"code","bb7ba19f":"markdown","bfff5a87":"markdown","624fd6ca":"markdown","e6abe782":"markdown","2492f290":"markdown","9ebca22a":"markdown","5c9f2e12":"markdown","1c5777f4":"markdown","1849026f":"markdown","4ce8a609":"markdown","9279f753":"markdown","47ab38ee":"markdown","9aaea06f":"markdown","e0b22fbe":"markdown","798256da":"markdown","dc160c7a":"markdown","593ad595":"markdown","0b5f4b18":"markdown","afccaff4":"markdown","8c0ee354":"markdown"},"source":{"9c331b7d":"#importing necessary libraries\nimport pandas as pd\nimport numpy as np \nimport plotly.offline as py\nimport plotly.graph_objects as go\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom functools import reduce\nfrom geopy.geocoders import Nominatim\nimport folium\nfrom folium.plugins import HeatMap\nsns.set_style('white')","8953a95f":"data_country = pd.read_csv('..\/input\/global-land-temperatures\/GlobalLandTemperaturesByCity.csv', parse_dates=[0] )","d05546b7":"data_country.head()","49e5c3ec":"data_ind = data_country[data_country['Country']=='India']\ndata_ind.head()","97a80247":"data_ind.shape","d850878e":"data_ind.info()","2a9a8959":"data_ind.describe([.25,.50,.75,.90,.95])","e1620c0b":"#univariate analysis for average temperature\nsns.distplot(data_ind['AverageTemperature'])","0ed29072":"sns.distplot(data_ind['AverageTemperatureUncertainty'])","8d779854":"#data from 1816 to 2013 - showing the range of temperatures for few citites\ndef boxplt(i):\n  sns.boxplot(x=data_ind[data_ind['City']==i]['City'], y=data_ind[data_ind['City']==i]['AverageTemperature'], data=data_ind, color='c')\n  plt.tight_layout()","d580196d":"plt.figure(figsize=(30,15))\n\nfor l,i in enumerate(['Bombay','New Delhi','Calcutta','Ahmadabad','Bangalore', 'Chandigarh','Gandhinagar','Jammu','Madras','Patna' ,'Ranchi','Thiruvananthapuram','Port Blair']):\n  plt.subplot(2,7,l+1)\n  boxplt(i)","ba7b25ae":"century_temp_18 = data_ind[(data_ind['dt']>='1800-01-01') & (data_ind['dt']<'1900-01-01')]\ncentury_temp_18 = century_temp_18.groupby('City').agg('mean')\n\ncentury_temp_19 = data_ind[(data_ind['dt']>='1900-01-01') & (data_ind['dt']<'2000-01-01')]\ncentury_temp_19 = century_temp_19.groupby('City').agg('mean')\n\ncentury_temp_20 = data_ind[(data_ind['dt']>='2000-01-01') & (data_ind['dt']<'2100-01-01')]\ncentury_temp_20 = century_temp_20.groupby('City').agg('mean')","981fab1b":"l1 = [century_temp_18, century_temp_19, century_temp_20]\n\ncentury_comb = reduce(lambda left,right: pd.merge(left,right,on=['City'], suffixes=('_18','_19')), l1)\ncentury_comb.columns = ['AverageTemperature_18','AverageTemperatureUncertainty_18', 'AverageTemperature_19','AverageTemperatureUncertainty_19',\n                        'AverageTemperature_20','AverageTemperatureUncertainty_20']","b38fdc2b":"century_comb['Diff18_20'] = [y-i for i,y in zip(century_comb['AverageTemperature_18'], century_comb['AverageTemperature_20'])]\norder_century_comb = century_comb.sort_values(by='Diff18_20', ascending=False)\n","563cc8fe":"print(order_century_comb[:5].index)\nprint(order_century_comb[-6:-1].index)","5525a918":"fig = go.Figure()\nfig.add_trace(go.Scatter(y=century_temp_18['AverageTemperature'], x=century_temp_18.index,name='18th Century'))\nfig.add_trace(go.Scatter(y=century_temp_19['AverageTemperature'], x=century_temp_19.index, name='19th Century'))\nfig.add_trace(go.Scatter(y=century_temp_20['AverageTemperature'], x=century_temp_20.index, name='20th Century'))\nfig.update_xaxes(rangeslider_visible=True, title_text = 'Cities')\nfig.update_yaxes(title_text='Mean Temperature')\nfig.update_layout(title = 'Mean Temperature For Cities (Every Century)', height=800, width=1500)\nfig.show()","85c122dd":"fig = go.Figure()\nfig.add_trace(go.Scatter(y=century_comb['Diff18_20'], x=century_comb.index,name='Temperature'))\n\nfig.update_xaxes(rangeslider_visible=True, title_text = 'Cities')\nfig.update_yaxes(title_text='Mean Temperature')\nfig.update_layout(title = 'Mean Temperature Increase from 18th to 20th Century (For Cities)', height=800, width=1500)\nfig.show()","218c7e22":"lat_lon = []\ngeolocater = Nominatim(user_agent='app',timeout=4)\nfor location in century_comb.index:\n  location = geolocater.geocode(location)\n  if location is None:\n    lat_lon.append(np.nan)\n  else:\n    geo = (location.latitude, location.longitude)\n    lat_lon.append(geo)\n\ncentury_comb['geo'] = lat_lon","4345eb11":"century_comb_copy = century_comb.copy()\ncentury_comb_copy.dropna(inplace=True)\nlat, lon = zip(*np.array(century_comb_copy['geo']))\ncentury_comb_copy['lat'] = lat\ncentury_comb_copy['lon'] = lon \n","c101db6a":"basemap = folium.Map(control_scale=True, zoom_start=5, location=(20.5937, 78.9629))\nHeatMap(century_comb_copy[['lat','lon', 'Diff18_20']].values.tolist(), radius=15).add_to(basemap)\n\nbasemap","d82b073a":"decade_19_1 = data_ind[(data_ind['dt']>='1910-01-01') & (data_ind['dt']<'1920-01-01')]\ndecade_19_1 = decade_19_1.groupby('City').agg('mean')\n\n\ndecade_19_2 = data_ind[(data_ind['dt']>='1920-01-01') & (data_ind['dt']<'1930-01-01')]\ndecade_19_2 = decade_19_2.groupby('City').agg('mean')\n\ndecade_19_3 = data_ind[(data_ind['dt']>='1930-01-01') & (data_ind['dt']<'1940-01-01')]\ndecade_19_3 = decade_19_3.groupby('City').agg('mean')\n\ndecade_19_4 = data_ind[(data_ind['dt']>='1940-01-01') & (data_ind['dt']<'1950-01-01')]\ndecade_19_4 = decade_19_4.groupby('City').agg('mean')\n\ndecade_19_5 = data_ind[(data_ind['dt']>='1950-01-01') & (data_ind['dt']<'1960-01-01')]\ndecade_19_5 = decade_19_5.groupby('City').agg('mean')\n\ndecade_19_6 = data_ind[(data_ind['dt']>='1960-01-01') & (data_ind['dt']<'1970-01-01')]\ndecade_19_6 = decade_19_6.groupby('City').agg('mean')\n\ndecade_19_7 = data_ind[(data_ind['dt']>='1970-01-01') & (data_ind['dt']<'1980-01-01')]\ndecade_19_7 = decade_19_7.groupby('City').agg('mean')\n\ndecade_19_8 = data_ind[(data_ind['dt']>='1980-01-01') & (data_ind['dt']<'1990-01-01')]\ndecade_19_8 = decade_19_8.groupby('City').agg('mean')\n\ndecade_19_9 = data_ind[(data_ind['dt']>='1990-01-01') & (data_ind['dt']<'2000-01-01')]\ndecade_19_9 = decade_19_9.groupby('City').agg('mean')\n\ndecade_20_1 = data_ind[(data_ind['dt']>='2000-01-01') & (data_ind['dt']<'2010-01-01')]\ndecade_20_1 = decade_20_1.groupby('City').agg('mean')\n\ndecade_20_2 = data_ind[(data_ind['dt']>='2010-01-01') & (data_ind['dt']<'2020-01-01')]\ndecade_20_2 = decade_20_2.groupby('City').agg('mean')","c316598c":"fig = go.Figure()\nfig.add_trace(go.Scatter(y=decade_19_1['AverageTemperature'], x=decade_19_1.index,name='1910'))\nfig.add_trace(go.Scatter(y=decade_19_2['AverageTemperature'], x=decade_19_2.index, name='1920'))\nfig.add_trace(go.Scatter(y=decade_19_3['AverageTemperature'], x=decade_19_3.index, name='1930'))\nfig.add_trace(go.Scatter(y=decade_19_4['AverageTemperature'], x=decade_19_4.index, name='1940'))\nfig.add_trace(go.Scatter(y=decade_19_5['AverageTemperature'], x=decade_19_5.index, name='1950'))\nfig.add_trace(go.Scatter(y=decade_19_6['AverageTemperature'], x=decade_19_6.index, name='1960'))\nfig.add_trace(go.Scatter(y=decade_19_7['AverageTemperature'], x=decade_19_7.index, name='1970'))\nfig.add_trace(go.Scatter(y=decade_19_8['AverageTemperature'], x=decade_19_8.index, name='1980'))\nfig.add_trace(go.Scatter(y=decade_19_9['AverageTemperature'], x=decade_19_9.index, name='1990'))\nfig.add_trace(go.Scatter(y=decade_20_1['AverageTemperature'], x=decade_20_1.index, name='2000'))\nfig.add_trace(go.Scatter(y=decade_20_2['AverageTemperature'], x=decade_20_2.index, name='2010'))\n\nfig.update_xaxes(rangeslider_visible=True, title_text = 'Cities')\nfig.update_yaxes(title_text='Mean Temperature')\nfig.update_layout(title = 'Mean Temperature For Cities (Every Decade)', height=800, width=1500)\nfig.show()","2639de89":"l1 = [decade_19_1,decade_19_2,decade_19_3,decade_19_4,decade_19_5,decade_19_6,decade_19_7,decade_19_8,decade_19_9,decade_20_1,decade_20_2]\n\ndecade_comb = reduce(lambda left,right: pd.merge(left,right,on=['City']), l1)\ndecade_comb.columns = ['AverageTemperature_1','AverageTemperatureUncertainty_1', 'AverageTemperature_2','AverageTemperatureUncertainty_2',\n                        'AverageTemperature_3','AverageTemperatureUncertainty_3', 'AverageTemperature_4','AverageTemperatureUncertainty_4', \n                        'AverageTemperature_5','AverageTemperatureUncertainty_5', 'AverageTemperature_6','AverageTemperatureUncertainty_6',\n                        'AverageTemperature_7','AverageTemperatureUncertainty_7', 'AverageTemperature_8','AverageTemperatureUncertainty_8',\n                        'AverageTemperature_9','AverageTemperatureUncertainty_9', 'AverageTemperature_10','AverageTemperatureUncertainty_10',\n                        'AverageTemperature_11','AverageTemperatureUncertainty_11']","4c05fe0c":"decade_comb['Diff1_11'] = [y-i for i,y in zip(decade_comb['AverageTemperature_1'], decade_comb['AverageTemperature_11'])]\norder_decade_comb = decade_comb.sort_values(by='Diff1_11', ascending=False)\n","d6e7b9be":"fig = go.Figure()\nfig.add_trace(go.Scatter(y=decade_comb['Diff1_11'], x=decade_comb.index,name='Temperature'))\n\nfig.update_xaxes(rangeslider_visible=True, title_text = 'Cities')\nfig.update_yaxes(title_text='Mean Temperature')\nfig.update_layout(title = 'Mean Temperature Increase every Decade (For Cities)', height=800, width=1500)\nfig.show()","1732c38f":"print(order_decade_comb[:5].index)\nprint(order_decade_comb[-6:-1].index)","18d8909c":"decade_comb['lat']  = century_comb_copy['lat'] \ndecade_comb['lon']= century_comb_copy['lon'] \ndecade_comb_copy = decade_comb.copy()\ndecade_comb_copy.dropna(inplace=True)\n\nbasemap = folium.Map(control_scale=True, zoom_start=5, location=(20.5937, 78.9629))\nHeatMap(decade_comb_copy[['lat','lon', 'Diff1_11']].values.tolist(), radius=15).add_to(basemap)\n\nbasemap","aab6edd1":"date_range = pd.date_range('2003-01-01', '2013-01-01', freq='YS')\nlast_decade = pd.DataFrame(index=century_comb.index)\n\nfor y,i in enumerate(date_range):\n  last_decade_y = data_ind[(data_ind['dt']>=i) & (data_ind['dt']<i.replace(year= i.year + (y+1)))]\n  last_decade_y = last_decade_y.groupby('City').agg('mean')\n  last_decade = last_decade.merge(last_decade_y,on=['City'])","3995cb61":"last_decade.columns = ['AverageTemperature2003', 'AverageTemperatureUncertainity2003','AverageTemperature2004', 'AverageTemperatureUncertainity2004',\n                       'AverageTemperature2005', 'AverageTemperatureUncertainity2005','AverageTemperature2006', 'AverageTemperatureUncertainity2006',\n                       'AverageTemperature2007', 'AverageTemperatureUncertainity2007','AverageTemperature2008', 'AverageTemperatureUncertainity2008',\n                       'AverageTemperature2009', 'AverageTemperatureUncertainity2009','AverageTemperature2010', 'AverageTemperatureUncertainity2010',\n                       'AverageTemperature2011', 'AverageTemperatureUncertainity2011','AverageTemperature2012', 'AverageTemperatureUncertainity2012',\n                       'AverageTemperature2013', 'AverageTemperatureUncertainity2013',]","9589718a":"last_decade['diff03_13'] =  last_decade['AverageTemperature2013'] - last_decade['AverageTemperature2003'] \norder_last_decade = last_decade.sort_values(by='diff03_13', ascending=False)\n\n","26833be3":"fig = go.Figure()\nfig.add_trace(go.Scatter(y=last_decade['AverageTemperature2003'], x=last_decade.index,name='2003'))\nfig.add_trace(go.Scatter(y=last_decade['AverageTemperature2004'], x=last_decade.index, name='2004'))\nfig.add_trace(go.Scatter(y=last_decade['AverageTemperature2005'], x=last_decade.index, name='2005'))\nfig.add_trace(go.Scatter(y=last_decade['AverageTemperature2006'], x=last_decade.index, name='2006'))\nfig.add_trace(go.Scatter(y=last_decade['AverageTemperature2007'], x=last_decade.index, name='2007'))\nfig.add_trace(go.Scatter(y=last_decade['AverageTemperature2008'], x=last_decade.index, name='2008'))\nfig.add_trace(go.Scatter(y=last_decade['AverageTemperature2009'], x=last_decade.index, name='2009'))\nfig.add_trace(go.Scatter(y=last_decade['AverageTemperature2010'], x=last_decade.index, name='2010'))\nfig.add_trace(go.Scatter(y=last_decade['AverageTemperature2011'], x=last_decade.index, name='2011'))\nfig.add_trace(go.Scatter(y=last_decade['AverageTemperature2012'], x=last_decade.index, name='2012'))\nfig.add_trace(go.Scatter(y=last_decade['AverageTemperature2013'], x=last_decade.index, name='2013'))\n\nfig.update_xaxes(rangeslider_visible=True, title_text = 'Cities')\nfig.update_yaxes(title_text='Mean Temperature')\nfig.update_layout(title = 'Mean Temperature For Cities (Last Decade)', height=800, width=1500)\nfig.show()","d0860e54":"fig = go.Figure()\nfig.add_trace(go.Scatter(y=last_decade['diff03_13'], x=last_decade.index,name='Temperature'))\n\nfig.update_xaxes(rangeslider_visible=True, title_text = 'Cities')\nfig.update_yaxes(title_text='Mean Temperature')\nfig.update_layout(title = 'Mean Temperature Increase from 2003-2013 (For Cities)', height=800, width=1500)\nfig.show()","3d11a57c":"print(order_last_decade[:5].index)\nprint(order_last_decade[-6:-1].index)","5bbd3aa2":"last_decade['lat']  = century_comb_copy['lat'] \nlast_decade['lon']= century_comb_copy['lon'] \nlast_decade_copy = last_decade.copy()\nlast_decade_copy.dropna(inplace=True)\n\nbasemap = folium.Map(control_scale=True, zoom_start=5, location=(20.5937, 78.9629))\nHeatMap(last_decade_copy[['lat','lon', 'diff03_13']].values.tolist(), radius=15).add_to(basemap)\n\nbasemap","bb7ba19f":"Inference:\n1. The average mean temperature is about 25.42 with a standard deviation of 5.13\n2. The average mean temperature uncertainity is around .93 with standard deviation of .81\n3. The data of avgtemp seems to be gaussian with the mean and median almost same and 95% of data falling under 1.5 standard deviation.\n4. The avgtempuncertainty seems to have few outliers. Also, with mean more than the median, it could be right skewed.","bfff5a87":"Inference:\n1. Mean temperature increased each year in the past decade.\n2. There were some states where there was a decrease in mean temperature when the compared with 2003 and 2013 data. The range of increase ranged from -.8 to 1.54\n3. There were more states in the north-east where cities had an increase in mean temperature.","624fd6ca":"Inference:\n1. The AverageTemperature is almost a guassian curve, while AverageTemperatureUncertainity is right skewed.\n","e6abe782":"Inference:\n1. The data set has 10104906 records and 7 columns","2492f290":"Inference:\n1. There has been a steady increase in mean temperature for all cities each decade.\n2. The mean increase in temperature ranged from .7 to 1.4\u00b0C\n3. There were pockets of states in north, north-east and south where may cities were facing increase in mean temperature.\n4. The highest increase in temperature 10 decade was in 'Jalandhar', 'Phagwara', 'Firozpur', 'Hoshiarpur', 'Amritsar' and lowest increase was in 'Ambarnath', 'Bombay', 'Thana', 'Panvel', 'Badlapur'.","9ebca22a":"### Decade Analysis","5c9f2e12":"Inference:\n1. We find that temperatures in all the cities rose in each century\n2. The highest increase in temperature from 18th to 20th century was in 'Jammu', 'Pathankot', 'Srinagar', 'Maler Kotla', 'Barnala' and lowest increase was in 'Aizawl', 'Guwahati', 'Imphal', 'Dimapur', 'Silchar'\n3. Most of the cities in India have their mean temperatures that have risen. (the graph above has few locations which are incorrectly identified)\n4. The northern states have more cities that are facing climate change","1c5777f4":"**Multi**-**variate Analysis**","1849026f":"**Univariate Analysis**","4ce8a609":"### Last Decade","9279f753":"We see a continued pattern of increase in mean temperature from 1816,mostly affecting north, northeast and parts of Southern states where more cities are becoming hotter.\n\n\nSince this data was only about mean temperatures, we have to map this with natural calamities, rainfall patterns and wildfires to get a bigger picture of the effects of climate change. ","47ab38ee":"We plot the temperate vs city boxplot for few cities. The inference is based on these cities only.\nInference:\n1. Outliers for Port Blair, Thirvananthapuram and Bombay\n2. The highest avg temperature for a month is around 37, and it is for New Delhi\n3. The lowest is Jammu and Chandigarh\n4. Most of the data have their median further away from the center. i.e higher temperatures in each range were less as compared to the data for the observation.\n\n\n","9aaea06f":"The data contains average temperature for all the countries in the world. We will be analysing only the India Data","e0b22fbe":"This file contains an extracted regional summary of land-surface \ntemperature results produced by the Berkeley Earth averaging \nmethod for the region: \n \n    India\n \nThe Berkeley Earth method takes temperature observations from a large \ncollection of weather monitoring stations and produces an estimate of \nthe underlying global temperature field across all of the Earth's \nland areas.  Once this temperature field has been generated, it is \npossible to estimate the temperature evolution of individual regions \nsimply by integrating the field over the region in question.  This \nfile contains such a regional estimate.\n \nTemperatures are in Celsius and reported as anomalies relative to the \nJan 1951-Dec 1980 average.  Uncertainties represent the 95% confidence \ninterval for statistical noise and spatial undersampling effects.  Such \nuncertainties are expected to account for the effects of random \nnoise as well as random biases affecting station trends and random \nshifts in station baselines.  The analysis framework is expected to be \nrobust against most forms of bias; however, the impact of some forms of \npossible systematic bias is still being studied. \n \n   The current region is characterized by: \n   Name: India\n   Latitude Range: 6.75 to 35.50\n   Longitude Range: 68.14 to 97.36\n   Area: 3127774.46 km^2\n   Percent of global land area: 2.126 %\n   Approximate number of temperature stations: 232\n   Approximate number of monthly obeservations: 140909\n\n\nThe current dataset presented here is described as:\n\nFor each month, we report the estimated land-surface anomaly for that month and its uncertainty.  We also report the corresponding values for year, five-year, ten-year, and twenty-year moving averages CENTERED about that month (rounding down if the center is in between months)\n\nValues are reported as missing (i.e. NaN) when station coverage within \nthe region becomes too low, even though a limited number of observations may still have been made.  Time averages over intervals with some missing data will be reported as long as at least 75% of the necessary values are available.","798256da":"### Century Analysis\n- 18th century\n- 19th century\n- 20th century","dc160c7a":"## Mean Temperature Change in India (from 1816-2013)","593ad595":"Inference:\n1. The average temperature columns are float type rest of the columns are strings.\n2. There are null values in avg temperature columns. We will need to impute them using the mean or median. (depending on outliers)\n","0b5f4b18":"### **Step 2: EDA**","afccaff4":"### **Step 1: Understanding our data**","8c0ee354":"## **Conclusion**"}}