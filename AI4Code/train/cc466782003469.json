{"cell_type":{"39a314b8":"code","9ee53c6d":"code","c092cf38":"code","b127eeee":"code","8f51f612":"code","725da86e":"code","60a2b366":"code","53488ad7":"code","f8adf0c5":"code","39ead1ec":"code","99ece257":"code","046f1793":"code","d042a815":"code","c5e97ac7":"code","5ebfa9c7":"code","fc51a617":"code","92520fbc":"code","f6bda6b1":"code","12783866":"code","54f2e8c7":"code","bbd89d0f":"code","cadb4de4":"code","efcc0f8a":"code","fa9e8fa8":"code","8251aa2a":"code","fa61938a":"code","3b190f73":"code","7c5f6ef2":"markdown","0f90fe69":"markdown","c1238bb5":"markdown","b98a5bec":"markdown","c75d13cb":"markdown","d8b1c369":"markdown","030a09b4":"markdown","13529977":"markdown","b0fec12e":"markdown","672f8feb":"markdown","44d87c38":"markdown","2cb845f3":"markdown","d918f32d":"markdown","af544269":"markdown","c2437d1b":"markdown","22bada51":"markdown","ba8123dc":"markdown","54fe4753":"markdown","85e7704d":"markdown","164b91d4":"markdown","626ef692":"markdown","a470dde0":"markdown","50afc717":"markdown","55d03d44":"markdown","5b00f1db":"markdown","105c5fe0":"markdown","e2210d67":"markdown","b54f9b2d":"markdown","aff2c289":"markdown","dd0ae773":"markdown","11480851":"markdown","ce1f829f":"markdown","3ccc27f8":"markdown","e6c7d78d":"markdown","3e150f04":"markdown","cf6444bc":"markdown"},"source":{"39a314b8":"import numpy as np\nimport pandas as pd\nimport pandas_profiling as pp\nfrom scipy import stats\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport plotly.express as px\nimport seaborn as sns","9ee53c6d":"dataframe = pd.DataFrame(pd.read_csv(\"..\/input\/hubmap-kidney-segmentation\/HuBMAP-20-dataset_information.csv\"))\n\nprint(\"Shape of the dataframe = \", dataframe.shape)","c092cf38":"dataframe","b127eeee":"dataframe.info()","8f51f612":"px.scatter(dataframe, x = \"width_pixels\", y = \"height_pixels\")","725da86e":"px.scatter(dataframe, x = \"width_pixels\", y = \"height_pixels\", color = \"sex\")","60a2b366":"px.scatter(dataframe, x = \"width_pixels\", y = \"height_pixels\", size = \"age\", color = \"sex\")","53488ad7":"male_age_mean = np.mean(dataframe[dataframe[\"sex\"] == \"Male\"][\"age\"].values)\nmale_age_variance = np.var(dataframe[dataframe[\"sex\"] == \"Male\"][\"age\"].values)\nprint(\"################# Summary Statistic(Age) | Sex : Male #################\")\nprint(\"Mean = \", male_age_mean)\nprint(\"Variance = \", male_age_variance)\n\nfemale_age_mean = np.mean(dataframe[dataframe[\"sex\"] == \"Female\"][\"age\"].values)\nfemale_age_variance = np.var(dataframe[dataframe[\"sex\"] == \"Female\"][\"age\"].values)\nprint(\"\\n################# Summary Statistic(Age) | Sex : Female #################\")\nprint(\"Mean = \", female_age_mean)\nprint(\"Variance = \", female_age_variance)\n","f8adf0c5":"px.histogram(dataframe, x = \"weight_kilograms\", histnorm = \"probability density\", opacity = 0.6,\n             title = \"Probability Density Plot - WEIGHT\")","39ead1ec":"px.histogram(dataframe, x = \"height_centimeters\", histnorm = \"probability density\", opacity = 0.6,\n             title = \"Probability Density Plot - HEIGHT\", color_discrete_sequence = ['indianred'])","99ece257":"male_dataframe = dataframe[dataframe[\"sex\"] == \"Male\"][\"weight_kilograms\"]\npx.histogram(male_dataframe, x = \"weight_kilograms\", histnorm = \"probability density\", opacity = 0.6,\n             title = \"Probability Density Plot - WEIGHT ( MALE )\", color_discrete_sequence = ['cyan'])","046f1793":"female_dataframe = dataframe[dataframe[\"sex\"] == \"Female\"][\"weight_kilograms\"]\npx.histogram(female_dataframe, x = \"weight_kilograms\", histnorm = \"probability density\", opacity = 0.6,\n             title = \"Probability Density Plot - WEIGHT ( FEMALE )\", color_discrete_sequence = ['magenta'])","d042a815":"px.histogram(dataframe, x = \"weight_kilograms\", histnorm = \"probability density\", opacity = 0.6,\n             title = \"Probability Density Plot - WEIGHT ( MALE V FEMALE )\", color = \"sex\")","c5e97ac7":"px.histogram(dataframe, x = \"height_centimeters\", histnorm = \"probability density\", opacity = 0.6,\n             title = \"Probability Density Plot - HEIGHT ( MALE V FEMALE )\", color = \"sex\")","5ebfa9c7":"bmi_stats = dataframe[\"bmi_kg\/m^2\"].value_counts().reset_index()\nbmi_stats.head(2)","fc51a617":"bmi_stats.columns = [\"bmi\", \"count\"]\nbmi_stats.head(2)","92520fbc":"fig = px.pie(bmi_stats, values = \"count\", names = \"bmi\", title = \"BMI Analysis\", \n             color_discrete_sequence = px.colors.sequential.RdBu, hole = 0.3)\nfig.update_traces(textposition = \"inside\")","f6bda6b1":"male_dataframe = dataframe[dataframe[\"sex\"] == \"Male\"]\nfemale_dataframe = dataframe[dataframe[\"sex\"] == \"Female\"]\n\nbmi_stats_male = male_dataframe[\"bmi_kg\/m^2\"].value_counts().reset_index()\nbmi_stats_male.columns = [\"bmi\", \"count\"]\nbmi_stats_female = female_dataframe[\"bmi_kg\/m^2\"].value_counts().reset_index()\nbmi_stats_female.columns = [\"bmi\", \"count\"]","12783866":"fig = px.pie(bmi_stats_male, values = \"count\", names = \"bmi\", title = \"BMI Analysis - MALE\", \n             color_discrete_sequence = px.colors.sequential.ice, hole = 0.3)\nfig.update_traces(textposition = \"inside\")","54f2e8c7":"fig = px.pie(bmi_stats_female, values = \"count\", names = \"bmi\", title = \"BMI Analysis - FEMALE\", \n             color_discrete_sequence = px.colors.sequential.Sunset, hole = 0.3)\nfig.update_traces(textposition = \"inside\")","bbd89d0f":"sex_stats = dataframe[\"sex\"].value_counts().reset_index()\nsex_stats.columns = [\"sex\", \"count\"]\nsex_stats","cadb4de4":"px.bar(sex_stats, x = \"sex\", y = \"count\", color = \"count\", title = \"Male V Female COUNTS\")","efcc0f8a":"dataframe[\"race\"].unique()","fa9e8fa8":"all_race_entries = dataframe[\"race\"].values\nwhite, b_a_american = 0, 0\nfor race in all_race_entries : \n    if race == \"White\" : \n        white = white + 1\n    else:\n        b_a_american = b_a_american + 1\n\nprint(\"Race = WHITE || Number of such folks = \", white)\nprint(\"Race = Black or African Americans || Number of such folks = \", b_a_american)","8251aa2a":"plt.figure(figsize = (12, 8))\nplt.title(\"Image Resolution V Race\", fontsize = 18)\nplt.rc('font', weight = \"bold\")\nsns.set_style(\"whitegrid\")\nfig = sns.scatterplot(dataframe[\"width_pixels\"], dataframe[\"height_pixels\"], hue = dataframe[\"race\"])\nplt.xlabel(\"Width of the Image\", fontsize = 16)\nplt.ylabel(\"Height of the Image\", fontsize = 16)\nplt.grid(True)\nplt.legend()","fa61938a":"plt.figure(figsize = (12, 8))\nplt.title(\"Image Resolution V Race (GENDER SUPERIMPOSED)\", fontsize = 18)\nplt.rc('font', weight = \"bold\")\nsns.set_style(\"whitegrid\")\nfig = sns.scatterplot(dataframe[\"width_pixels\"], dataframe[\"height_pixels\"], hue = dataframe[\"race\"], size = dataframe[\"sex\"])\nplt.xlabel(\"Width of the Image\", fontsize = 16)\nplt.ylabel(\"Height of the Image\", fontsize = 16)\nplt.grid(True)\nplt.legend()","3b190f73":"metadata_profile = pp.ProfileReport(dataframe)\nmetadata_profile","7c5f6ef2":"Let's make the columns a bit more friendly.","0f90fe69":"## Filter Overlay - Gender superimposed on the previous plot.","c1238bb5":"# HuBMAP: Hacking the Kidney\n\n**Human BioMolecular Atlas Program (HuBMAP)** aims to be an open map of the human body at the cellular level, by working to develop a framework for the aforementioned mapping.\n\nWe aim to detect **FTU(Functional Tissue Units)** which are *3-D block of cells centered around a capillary*.","b98a5bec":"Load important dependencies.","c75d13cb":"---------------------------------------------------------------------------------------------------\n\n## Exploratory Data Analysis - Book I\n\nThis is my very first book in the EDA series of HuBMAP challenge. This one is centered around the exploration of the **HuBMAP-20-dataset_information.csv metadata file**.\n\n---------------------------------------------------------------------------------------------------\n\nDo upvote if you find it useful and let's begin!!!!!","d8b1c369":"We don't always need fancy charts! Sometimes, a simple print( ) statement is enough. :-)","030a09b4":"**Inference - *Based on this data provided***\n\nIt's almost an equal distribution, that is a nearly balanced sample was taken from the population.","13529977":"One thing is clear. Images are real big. \n* Minimum size we have(*hover the mouse cursor on the bottommost leftmost point*) is 18k X 13k. \n* Maximum size we have is 49k X 34k.\n\nNow, let's apply some filters on this scatter plot to analyze a bit more deeply.","b0fec12e":"# Height and Weight Distribution : \n\nLet's have a look at height distibution of the metadata file. For that, the ideal way is to use a histogram\/ Probability Density PLot - treat this as a normalized histogram, where every frequency is normalized by diving it with total values in the data set.\n\nIn statistics, a histogram is representation of the distribution of numerical data, where the data are binned and the count for each bin is represented. Treat bin as a group\/class. For example, 10-20 weight class, 21-31 kg weight class and so on...We will use Plotly Express(which is a high level interface to Plotly) to plot the histogram.","672f8feb":"# Male VS Female Count\n\nLet's quickly have a look at the overall male vs female count in our dataset.","44d87c38":"**Inference - *Based on this data***\n\n* The overall `weight` distibution peaks at 60-79kg class [range = [40cm, 140cm]], wheareas the `height` one peaks at `160-169cm` [range = [150cm, 200cm]]. \n\n---------------------------------------------------------------------------------------\n`weight distribution | MALES V FEMALES` : \n\n* For females, a major chunk is centered around `40kg - 59.9kg`, whereas for males it is `60kg -79.9kg`.\n* Both distibutions resembles uniformity to a good extent, **however female height distribution data is relatively more uniform than males**.\n----------------------------------------------------------------------------------------\n`height distribution | MALES V FEMALES` : \n* Majority chunk of both males and females is centered around`160cm - 169cm`. \n* We still have a considerable fraction of relatively taller males, that is where height > 180cm. We don't have any females in that height zone.","2cb845f3":"So, we have two races in this sample. So, let's see that distibution as well.","d918f32d":"## Filter II : Age\n\nOverlay the age filter.","af544269":"![image.png](attachment:image.png)","c2437d1b":"It appeas we have some missing values centered around `weight`, `height` and `bmi` features. Rest all is fine.","22bada51":"We can study them separately, or we can overlay them for side by side comparison, as shown below.","ba8123dc":"# Dataset Images Shape Distribution\n\nLet's analyze the shapes of the images encapsulated in our dataset. ","54fe4753":"The three subsections down below are inspired from : **https:\/\/www.kaggle.com\/kool777\/hubmap-extensive-eda**","85e7704d":"**Observe the Correlation Matricies available. They provide a relations between features, that is how much they are dependent on one another**.","164b91d4":"## Overlay Filters : \n\n## Filter I : S E X","626ef692":"**Collective Inference** : \n* All White patients are females.\n* All Black\/African patients are male.\n* Images available for white patients are in general of higher resolution than compared to African\/Black people.\n* The overall image resolution spread observed in case of White people is higher than that observed in African.Black folks.","a470dde0":"# Metadata Profiling : \n\nPandas profiling is an open-source Python module with which we can quickly do an exploratory data analysis with just a few lines of code.","50afc717":"**Inference - *based on this data***: \n\nThe **variance**\/**standard deviation** in case of females is much larger than that in case of mails. \n\n-------------------------------------------------------------------\nFor the uninitiated, variance refers to spread of data around the central tendency(*which is the mean*). Standard deviation is just square root of variance.\n\n-------------------------------------------------------------------","55d03d44":"That seems more like it. Now, we will analyze it all visually.","5b00f1db":"*This could not go before thanking the amazing Kaggle community. I have learned so much from you people, from beginners to grandmasters. Thank you all, and continue to do great work, inspiring more along the way*.","105c5fe0":"Plot heights in a similar fashion.","e2210d67":"# Body Mass Index(BMI)\n\nBody mass index (BMI) is a measure of body fat based on height and weight that applies to adult men and women. *For most adults, an ideal BMI is in the 18.5 to 24.9 range.*\n\nIn this segment, we will explore the distibution of Body Mass Index(BMI) of all the patients we have in the dataset.","b54f9b2d":"## Apply filters\n\nLet's analyze the height and weight distribution by overlaying additional filters on them.\n\n## Filter I : Sex","aff2c289":"**E N D**\n\n*Thank you for reading this far!*","dd0ae773":"## Filter Overlay - Image Resolution Compared With Race","11480851":"## Filter I : By Sex\n\nWe overlay `sex` feature over the scatterplot, in order to segregate the male and female data points. ","ce1f829f":"**Next in line (Exploring Images) : https:\/\/www.kaggle.com\/fireheart7\/hubmap-explore-the-images?scriptVersionId=47160487**","3ccc27f8":"**Inference - *Based on this data***\n\n* 50.1% of BMI count is equally shared (16.7% each) by people having BMI - `22, 23, 26.5`. \n* Rest 49.9% is distibuted equally again(8.33% each) among six BMI value counts.\n\n----------------------------------------------------------------------------------------------\n`BMI Analysis - MALES`\n* BMI **22 & 26.5** are dominant accounting roughly 52% in the overall male distribution.\n\n------------------------------------------------------------------------------------------------\n`BMI Analysis - FEMALES`\n* BMI **23** is dominant one in females, accountig roughly 40% of all females in the metadata file.","e6c7d78d":"Let's quickly look at the properties and types of this dataframe.","3e150f04":"**Inference - *based on this data***\n\nNow, this is all cool. We can observe that males have central tendency(mean) of age 51.0 with spread(variance) as 77.1428.\nWhereas, females have the central tendency at 62.5, with variance as 114.58. \n\nWe can see that variance is higher in case of females than those of males. Also, mean age of men < mean age of females, hence we have on average relatively older females than males in our dataset.","cf6444bc":"# Race"}}