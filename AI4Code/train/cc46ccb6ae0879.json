{"cell_type":{"9e11a998":"code","742f236d":"code","b2cee7b7":"code","db936020":"code","b3968974":"code","5eeb4797":"code","9f33f1eb":"code","45066891":"code","a7f98554":"code","561185e3":"code","f6c6066b":"code","18432425":"code","d5305117":"code","f80e9fd0":"code","91a7b4fc":"code","2f6cdba4":"code","b7c685ab":"code","63e4c91f":"code","2f6cd1d2":"code","5e9c0d13":"code","952dbf24":"code","02fea642":"code","54d3f8f6":"code","d60e38e8":"code","b0803323":"code","3387b6d3":"code","c52dfdf0":"code","fd672982":"code","8d373549":"code","00b5e205":"markdown","7e8b482f":"markdown","dc2c746f":"markdown","122d512b":"markdown","747170ef":"markdown","49ef33f1":"markdown","69833a00":"markdown","31a5b588":"markdown","b4fc1f78":"markdown","f1dc85da":"markdown","e7dada51":"markdown","6b64e46e":"markdown","67edbc5c":"markdown","c19ed50e":"markdown","74e17c06":"markdown","9b68c39c":"markdown","90bb3b53":"markdown","6e9d986e":"markdown","986b787d":"markdown","b3b806dc":"markdown","aaefddd9":"markdown","43862e42":"markdown","c0dc3482":"markdown","7a44f6ab":"markdown","c9a18c25":"markdown","448f8027":"markdown","81e9f717":"markdown","f7f761e6":"markdown","46c84631":"markdown","60805afb":"markdown","bd3f32bc":"markdown","a50b713b":"markdown","b65ce3c4":"markdown","59813bff":"markdown","84d74534":"markdown","cb58ed52":"markdown","cc3a209b":"markdown","318b7e15":"markdown","b3a13c9e":"markdown","58ee7528":"markdown"},"source":{"9e11a998":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport geopandas as gpd\nimport seaborn as sns\nimport plotly.express as px\nimport numpy as np\n\n%matplotlib inline","742f236d":"# loading the data into raw_data Data Frame\nraw_data = pd.read_csv(\"..\/input\/suicides-in-india\/Suicides in India 2001-2012.csv\")","b2cee7b7":"plt.rcParams['figure.figsize'] = [12, 8] \nplt.rcParams['figure.dpi'] = 100\nsns.set_style('darkgrid')\n\nraw_data.isna().sum().plot(kind = 'bar')\nplt.title(\"No of NaN values in Each Column\",fontsize = 14,color = \"#073B4C\" )\nplt.yticks([])\nplt.xticks(fontsize = 15,color = '#073B4C')\nplt.annotate(xy =(4,0) ,xytext = (1.5,0),text = 'As we can see no NULL values, Lucky me!',fontsize = 15,color = \"#EF476F\")\nplt.show()\nplt.clf()","db936020":"display(raw_data.head())\n\n# raw_data.pivot_table(index = ['Type_code','Type'],values = 'Total', aggfunc = 'sum')","b3968974":"# Checking the Data Type\ndisplay(raw_data.dtypes)\n\n#Lets check how many categories are in Gender Column \nprint(\"\\nUnique Values in a Gender column: \\n\",raw_data.Gender.unique())\n\n#Lets check how many age groups are in Age_group Column\nprint(\"\\nUnique Values in a Age_group column: \\n\",raw_data.Age_group.unique())\n\n#Let's Check up to how many years does this Data is for\nprint(f\"\\nThe Data is from {raw_data.Year.unique()[0]} to {raw_data.Year.unique()[-1]}\")","5eeb4797":"# Changing State Column to a string Data type\nraw_data['State'] = raw_data.State.astype('str')\n\n#Chaning Gender column\nraw_data['Gender'] = raw_data.Gender.astype('category')\n\n# Changing Age_group column to a ordered categorical data type \nage_cats = ['0-14' ,'15-29' ,'30-44' ,'45-59' ,'60+' ,'0-100+']\ncat_dtype = pd.api.types.CategoricalDtype(\n    categories= age_cats, ordered=True)\nraw_data['Age_group'] = raw_data.Age_group.astype(cat_dtype)\n\n# checking data types again\nraw_data.dtypes","9f33f1eb":"\nprint(*raw_data['State'].unique(),sep = '\\n')","45066891":"# importing geopandas and fuzzywuzzy\nimport geopandas as gpd\nfrom fuzzywuzzy import process\n\n#laoding file\nindia = gpd.read_file('..\/input\/india-gis-data\/India States\/Indian_states.shp')\n","a7f98554":"# condtion for exatrctin states and Ut's data from raw_data\ncondition = (raw_data.State == 'Total (All India)') | (\n    raw_data.State == 'Total (States)') | (raw_data.State == 'Total (Uts)')\n\n# creating a new Data Frame with that condition\nstates_uts = raw_data[~condition]\n\n#creating a pivot table to get total suicides in states and ut's fom 2001 - 2012\ntotal_suicides_states_uts = states_uts.pivot_table(index='State',\n                                                   values='Total',\n                                                   aggfunc='sum')\ntotal_suicides_states_uts.reset_index(inplace=True)\n\n\n# Defining a Function for changing State and Ut's name to match the india.st_nm for ease of merging\ndef state_name_matching(df, geo_df):\n    for name in df.State:\n        result = process.extract(name, geo_df.st_nm, limit=1)\n        df['State'] = df.State.str.replace(name, result[0][0], regex=False)\n\nstate_name_matching(total_suicides_states_uts,india)\n\n# Function for merging india Geo pandas with total_sucides calcualted\ndef merging_for_map(df, geo_df):\n    merged_df = geo_df.merge(df,\n                             left_on='st_nm',\n                             right_on='State',\n                             how='outer')\n    merged_df.drop(columns='State', inplace=True)\n    merged_df = merged_df.rename(columns={'Total': 'Total_Suicides'})\n    merged_df.fillna(0, inplace=True)\n    merged_df.loc[merged_df['st_nm'] == 'Telangana',\n                        'Total_Suicides'] = merged_df.loc[\n                            merged_df['st_nm'] == 'Andhra Pradesh',\n                            'Total_Suicides'].reset_index(drop=True)[0] \/ 2\n    return merged_df\n\n# Merging india geo panda with total_suicides_states_uts Data Frame\nmap_of_suicides = merging_for_map(total_suicides_states_uts,india)","561185e3":"# creating a seperate data frame to store Total sucides in india over the years\nTotal_Sucides_India = raw_data[raw_data.State == 'Total (All India)'].groupby(\n    raw_data.Year).Total.sum().reset_index()\n# display(Total_Sucides_India)\n\n# converting Year column data type to date time\nTotal_Sucides_India['Year'] = Total_Sucides_India.Year.astype('str')\nTotal_Sucides_India['Year'] = pd.to_datetime(Total_Sucides_India.Year,\n                                             format=\"%Y\")\nTotal_Sucides_India['Year'] = Total_Sucides_India.Year.dt.strftime(\"%Y\")\n\n#States and their tally\n\n#Plotting and customizing\nsns.set_style('darkgrid')\n\n#Creating plots\nfig, ax = plt.subplots()\nsns.barplot(data=Total_Sucides_India,\n            x='Year',\n            y='Total',\n            ax=ax,\n            color='#EF476F')\nsns.lineplot(data=Total_Sucides_India,\n             x='Year',\n             y='Total',\n             ax=ax,\n             color='#118AB2')\n\n#Labeling the plot\nplt.title(\"Overall Suicides in India from 2001-2012\",\n          fontsize=30,\n          color='#073B4C')\nplt.xticks(color='#073B4C', fontsize=20)\nplt.yticks(color='#073B4C', fontsize=20)\nplt.xlabel('Year(2001-2012)', fontsize=25, color='#073B4C')\nplt.ylabel('Number of Suicides', fontsize=25, color='#073B4C')\nfig.set_size_inches([28, 12])\nplt.show()\nplt.clf()","f6c6066b":"plt.rcParams['figure.figsize'] = [12, 8]\nsns.set_style('white')\nmap_of_suicides.plot(column='Total_Suicides', cmap='BuPu', legend=True)\nplt.title(\"Total Suicides in India over(2001-2012)\",x = 0.3,color = '#073B4C')\nplt.axis('off')\nplt.show()","18432425":"display(total_suicides_states_uts.sort_values('Total',ascending = False).reset_index(drop =True))","d5305117":"total_suicides_sate_wise = total_suicides_states_uts.sort_values('Total',ascending = False).reset_index(drop =True).copy()\ntotal_sate_suicides = sns.barplot(x = 'Total',y ='State',data = total_suicides_sate_wise,color ='#EF476F' )\ntotal_sate_suicides.figure.set_size_inches([18,10])\nplt.title(\"Total State\/UT Wise suicides from 2001-2012('double click to zoom')\",fontsize = 15,color = '#073B4C')\nplt.xticks(color = '#073B4C')\nplt.yticks(color = '#073B4C')\nplt.xlabel('Total Sucides',fontsize = 15,color = '#073B4C')\nplt.ylabel('States and UT\\'s',fontsize = 15,color = '#073B4C')\nplt.show()\nplt.clf()","f80e9fd0":"# creating a Seprate data Frame containg only the values of Tota(states) and Total(uts)\nTotal_Sucides = raw_data[(raw_data.State == 'Total (States)' ) | (raw_data.State == 'Total (Uts)')]\n\n# Renaming State column into India\nTotal_Sucides = Total_Sucides.rename(columns = {'State': 'India'})\n\n# creating a Pivot table to do caluclations\ndata_for_bar = Total_Sucides.pivot_table(\n    index='Year',\n    columns=['India'],\n    values='Total',\n    aggfunc='sum')\n# Dipalying the Pivot_table\ndisplay(data_for_bar)","91a7b4fc":"# creating a stacked bar with state total and UT's Total\nsns.set()\ndata_for_bar.plot(\n    kind='bar',\n    stacked=True,\n    color=['#EF476F', '#118AB2'],\n    )\nplt.title(\"Sucides in States and Ut's\")\nplt.show()\nplt.clf()","2f6cdba4":"plt.rcParams['figure.figsize'] = [6, 8]\ngender_wise_data = raw_data[\n    raw_data['State'] == 'Total (All India)'].pivot_table(\n        index='Gender', values='Total', aggfunc='sum').reset_index()\nplt.pie(gender_wise_data['Total'],\n        autopct='%1.1f%%',\n        shadow=True,\n        labels=gender_wise_data.Gender,\n       colors = ['#EF476F', '#118AB2'])\nplt.legend(labels=gender_wise_data.Gender)\nplt.show()","b7c685ab":"# Extracting total suicides with a Gender Categorical column\ngender_data = states_uts.groupby(['Year','Gender'])['Total'].sum().reset_index(level=['Gender'])\n# plotting a swrm plot\ngender_swarm = sns.swarmplot(x = 'Gender',y = 'Total',data = gender_data,palette = ['#EF476F', '#118AB2'])\ngender_swarm.figure.set_size_inches(8,6)\nplt.xlabel('Gender',color = '#073B4C')\nplt.ylabel('Total Suicies',color = '#073B4C')\nplt.xticks(color = '#073B4C')\nplt.yticks(color = '#073B4C')\nplt.title(\"Gender Wise Swarm plot\",color = '#073B4C')\nplt.show()","63e4c91f":"gender_age = states_uts[states_uts['Age_group'] != '0-100+']\n\ngender_suicide_propositions = gender_age.pivot_table(index=['Year', 'Gender'],\n                                                     values='Total',\n                                                     columns='Age_group',\n                                                     aggfunc='sum',\n                                                     margins=True)\nfor index, series in gender_suicide_propositions.iterrows():\n    gender_suicide_propositions.loc[\n        index,\n        ['0-14', '15-29', '30-44', '45-59', '60+'\n         ]] = gender_suicide_propositions.loc[\n             index, ['0-14', '15-29', '30-44', '45-59', '60+'\n                     ]] \/ gender_suicide_propositions.loc[index,\n                                                          ['All']]['All']\n\ndisplay(gender_suicide_propositions.drop('0-100+', axis='columns'))","2f6cd1d2":"fig = px.sunburst(gender_age,\n                  path=['Gender', 'Age_group'],\n                  values='Total',\n                  color_discrete_map={\n                      'Male': '#EF476F',\n                      'Female': '#118AB2'\n                  })\nfig.show()","5e9c0d13":"x = pd.DataFrame(\n    gender_age.groupby(['Year', 'Gender', 'Age_group']).Total.sum())\nx.reset_index(level=['Gender', 'Age_group'], inplace=True)\nbar = sns.barplot(\n    x=x.index,\n    y='Total',\n    data=x,\n    hue='Age_group',\n    ci=None,\n)\nbar.figure.set_size_inches([28, 12])\nplt.xlabel('Year(2001-2012)')\nplt.ylabel('Total Suicides')\nplt.title('Suicides Age Wise')\nplt.show()","952dbf24":"# Extarcting Female Suicides Data\nFemale_suicides_data = states_uts[states_uts.Gender == 'Female'].groupby('State').Total.sum()\nFemale_suicides_data = pd.DataFrame(Female_suicides_data).reset_index()\n\n# Calling NEcessary Functions to hel us plot the Data\nstate_name_matching(Female_suicides_data,india)\nFemale_suicides_data = merging_for_map(Female_suicides_data,india)","02fea642":"# Extarcting Male Suicides Data\nMale_suicides_data = states_uts[states_uts.Gender == 'Male'].groupby('State').Total.sum()\nMale_suicides_data = pd.DataFrame(Male_suicides_data).reset_index()\n\n# Calling NEcessary Functions to hel us plot the Data\nstate_name_matching(Male_suicides_data,india)\nMale_suicides_data = merging_for_map(Male_suicides_data,india)","54d3f8f6":"# Creating plots\nfig , ax = plt.subplots(1,2)\n\n# Plotting and Cutomizing the Female Data\nFemale_suicides_data.plot(column = 'Total_Suicides',cmap = 'BuPu',legend = True,ax = ax[0])\nax[0].set_frame_on(False)\nax[0].set_xticks([])\nax[0].set_yticks([])\nax[0].set_title(\"Female Suicides in India(2001-2012)\",fontsize = 15,x = 0.3,color = '#073B4C')\n\n#Plotting and Cutomizing the Male Data\nMale_suicides_data.plot(column = 'Total_Suicides',cmap = 'BuPu',legend = True,ax = ax[1])\nax[1].set_frame_on(False)\nax[1].set_xticks([])\nax[1].set_yticks([])\nax[1].set_title(\"Male Suicides in India(2001-2012)\",fontsize = 15,x = 0.3,color = '#073B4C')\nfig.set_size_inches([28,12])","d60e38e8":"data_causes = pd.DataFrame(raw_data[raw_data.Type_code == 'Causes'].groupby('Type').Total.sum().sort_values())\ndisplay(data_causes.sort_values('Total',ascending = False))","b0803323":"suicides_per_cause = sns.barplot(x = data_causes.index,y= data_causes.Total,color = '#EF476F')\nsuicides_per_cause.figure.set_size_inches([28,12])\nplt.xticks(rotation = 90 ,fontsize = 25)\nplt.yticks(fontsize = 25)\nplt.axhline(y = data_causes.Total.max(),linestyle = '--')\nplt.show()","3387b6d3":"Means_adopted = pd.DataFrame(raw_data[raw_data.Type_code == 'Means_adopted'].groupby('Type').Total.sum().sort_values())\ndisplay(Means_adopted)\nsns.barplot(y=Means_adopted.index, x=Means_adopted.Total,color = '#EF476F')\nplt.title('Means_adopted')\nplt.show()","c52dfdf0":"Education_Status = pd.DataFrame(\n    raw_data[raw_data.Type_code == 'Education_Status'].groupby(\n        'Type').Total.sum().sort_values())\ndisplay(Education_Status)\nsns.barplot(y=Education_Status.index, x=Education_Status.Total,color = '#EF476F')\nplt.title('Education_Status')\nplt.show()","fd672982":"Professional_Profile = pd.DataFrame(\n    raw_data[raw_data.Type_code == 'Professional_Profile'].groupby(\n        'Type').Total.sum().sort_values())\ndisplay(Professional_Profile)\nsns.barplot(y=Means_adopted.index, x=Means_adopted.Total,color = '#EF476F')\nplt.title('Means_adopted')\nplt.show()","8d373549":"Social_Status = pd.DataFrame(\n    raw_data[raw_data.Type_code == 'Social_Status'].groupby(\n        'Type').Total.sum().sort_values())\ndisplay(Social_Status)\nsns.barplot(y=Professional_Profile.index,\n            x=Professional_Profile.Total,\n            color = '#EF476F')\nplt.title('Professional_Profile')\nplt.show()","00b5e205":"# Gender wise Suicide analysis","7e8b482f":"  <ol>\n        <li><b>Maharashtra<\/b> is the Suicide Capital of India<\/li>\n        <li><b>West Bengal<\/b> is right behind the state of Maharashtra <\/li>\n        <li>Maharashtra is also a state which is infamous for it's farmers suicide<\/li>\n    <li>And both Maharashtra and West Bengal are not the most populous states of India<\/li>\n    <\/ol>","dc2c746f":" <b>A Bar Chart representing the proportions table<\/b>","122d512b":"# Analyzing the Causes of the Suicides","747170ef":"# Introduction\n***\nTaking about mental Health in India is a Taboo. Even when people know they are mentally suffering they don't tend to open about it to others, even to the ones who are very close and dear to them. Even more bizarre is the fact that committing suicide is an offence according to Indian Penal Code SECTION 309. <br>\n\nBut let's see how Disturbing the Situation is in India. Because Death especially through suicide is never a fun thing to analyze.","49ef33f1":"### Total suicides in all States and UT's from 2001-2012","69833a00":"## Lets Check for missing values","31a5b588":"## Checking for data types","b4fc1f78":"## Visualizing The Total Suicides in India(2001-2012)","f1dc85da":"# Analyzing the Other aspects of Data","e7dada51":"# Total Suicides in India Over Years(2001-2012)","6b64e46e":"## Analyzing Gender wise suicides proportions across 'Age Groups'","67edbc5c":"## The portion Males and females in Total Suicides in India(2001-2012)","c19ed50e":" ***\n We have three String Values in State Column which are represent overall picture rather than a individual Sate or UT and i think we can use them to our advantage\n  <ol>\n        <li><b>Total (All India)<\/b><\/li>\n        <li><b>Total (States)<\/b><\/li>\n        <li><b>Total (Uts)<\/b><\/li>\n    <\/ol>","74e17c06":" <ol>\n        <li><b>Maharastra <\/b>has the highest concentration of Male Suicides<\/li>\n        <li><b>West Bengal<\/b> has the highest concentration of Female Suicide<\/li>\n <\/ol>","9b68c39c":"### Lets check State Column","90bb3b53":"<ul><li>Men Commit <b>28%<\/b> more suicides in India when compared with Women. <\/li>\n  <li>Total Female Suicides never crossed <b>250000<\/b> and they Range from <b>200000 to 250000<\/b><\/li>\n    <li>Total Male Suicides never crossed <b>450000<\/b> an they Range from <b>200000 to 250000<\/b><\/li>\n    <\/ul>","6e9d986e":"The three main Causes for Suicides, if we dont consider \"causes not known\" and \"other causes\" seems to be due to:\n    <ol>\n        <li><b>Family Problems<\/b><\/li>\n        <li><b>Other Prolonged Illness<\/b><\/li>\n        <li><b>Mental Illness<\/b><\/li>\n    <\/ol>","986b787d":"<ol>\n        <li>More than Quarter million people take their life in India.<\/li>\n        <li>unfortunately we are observing an increasing in the trend rather than  a decline.<\/li>\n    <\/ol>","b3b806dc":"# Data Cleaning and validation","aaefddd9":"## Let's a have brief look at the Data Frame and also see what these columns are about","43862e42":"## Professional Profile","c0dc3482":"## Means Adopted to commit Suicides","7a44f6ab":"## Social Status","c9a18c25":"<b>A Swarm Plot to get sense of Distribution<\/b>","448f8027":"<b>Good thing there is no missing values. Less work for us!!<\/b>","81e9f717":"## Observations from above Visualizations\n<ul>\n        <li>It's Clear from above <b>Suicides Proportion Table<\/b>, <b>Sunburst Chart<\/b> and <b>The Bar chart<\/b> People from age <b>15-45<\/b> represent the bulk of suicides.<\/li>\n        <li>The number of Suicides tend to<b> fall after 45 years <\/b>for both the genders.<\/li>\n    <li>Suicides of People in the age group of <b>0-14 years<\/b>0-14 years and <b>above 60<\/b> who tend to be <b>non-working\/dependent population<\/b> is very small compared with 15-45 Age group<\/li>\n<\/ul>\n  ","f7f761e6":"From the above Data we can infer that <br>\n    <ol>\n        <li>A large portion Women who commit suicides are<b> House wives<\/b><\/li>\n        <li>The people who are <b>married<\/b> form large part of suicides number. This matches with number 1 reason for suicides, \"Family Problems\"<\/li>\n        <li>People who haven never completed more than Secondary or never had any form of education are the who committed most number of suicides<b><\/b><\/li>\n        <li>Hanging and Poison seems the way in which most of these suicides are committed<\/li><\/ol>","46c84631":"## Final Observations","60805afb":"## Education Status","bd3f32bc":"## Lets have a look at overall Suicides in India with respect to States and UT's in India","a50b713b":" <b>A Sunburst Chart representing the proportions table<\/b>","b65ce3c4":"### The Total suicides in Every State and UT from 2001-2012","59813bff":"## Converting the columns to suitable Data Types","84d74534":"## lets check the individual columns","cb58ed52":"<ol><li><b>State<\/b> Column is given a object lets convert into a String data type <\/li>\n<li><b>Gender<\/b> Column is given a object lets convert into a Categorical data type <\/li>\n<li><b>Age_group<\/b> Column is given a object lets convert into a Categorical data type <\/li>\n<\/ol>\n\n***\n<b>Type_code<\/b> and <b>Type<\/b> are clearly columns which variable names used to covert this data Frame into a long format. We will use pivot_table or groupby to extract data using them<br>\n","cc3a209b":" <b>Table Representing Gender and Age Wise Suicides<\/b>","318b7e15":"## Visualizing Female and Male Suicides on India Map.","b3a13c9e":"# Importing Necessary Packages and Data","58ee7528":"## Indian Map representing overall Suicides in India"}}