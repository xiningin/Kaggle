{"cell_type":{"36f50f12":"code","79da12ef":"code","e0768670":"code","c4b521bd":"code","bb5e68f7":"code","5ec7d242":"code","a11951a2":"code","c786b564":"code","1210b9ce":"code","52235e52":"code","ef72a865":"code","6d82a726":"code","26e0c445":"code","310c59b4":"code","7c025a52":"code","d70f4ccf":"code","300e3883":"code","be2f0c1a":"code","72b36c9f":"code","c22e514f":"code","97ccf37f":"code","62dae535":"code","9d4f9c30":"code","6e690449":"code","f917d1cf":"code","bf23bf91":"code","9266520d":"code","41f82836":"code","55181bd3":"code","2c2d1e69":"code","0aec123c":"code","d3e6ad4a":"code","1565ba99":"code","b496110a":"markdown","e178af62":"markdown","c4a30c5c":"markdown","3f2fb60b":"markdown","514ba913":"markdown","c78f44a4":"markdown","76f7920f":"markdown","c3f76b0a":"markdown","025b8753":"markdown","4b6cd814":"markdown","2c22a235":"markdown","4fbcc84b":"markdown","bb75661d":"markdown","4ef8b2ab":"markdown","9c2338a6":"markdown","2e3ae3cd":"markdown","49790d9b":"markdown","9750ce9b":"markdown","0b713c97":"markdown","560abec8":"markdown"},"source":{"36f50f12":"%matplotlib inline\nfrom scipy.cluster.hierarchy import dendrogram, linkage\nfrom matplotlib import pyplot as plt\nimport pandas as pd","79da12ef":"df_origin = pd.read_csv('\/kaggle\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv')\ndf = df_origin.copy()","e0768670":"drop_elements = ['last_review', 'host_name','id']\ndf.drop(drop_elements, axis = 1, inplace= True)\ndf.fillna({'reviews_per_month':0}, inplace=True)","c4b521bd":"df.head(10)","bb5e68f7":"df.info()","5ec7d242":"n_row, n_col = df.shape\n\nprint(\"Number of row: \",n_row)\nprint(\"Number of column: \",n_col)","a11951a2":"import matplotlib.pyplot as plt\nimport seaborn as sns\n\nfig = plt.subplots(figsize = (12,5))\nsns.countplot(x = 'room_type', hue = 'neighbourhood_group', data = df)","c786b564":"df['neighbourhood_group'].value_counts()","1210b9ce":"df.price.quantile(.99)","52235e52":"plt.figure(figsize = (16,12))\ntemp = df[df.price < 799.0]\nsns.violinplot(x = 'neighbourhood_group', y = 'price', data = temp)","ef72a865":"df.number_of_reviews.quantile(.99)","6d82a726":"plt.figure(figsize = (16,12))\ntemp = df[df.number_of_reviews < 214.0]\nsns.violinplot(x = 'neighbourhood_group', y = 'number_of_reviews', data = temp)","26e0c445":"df.minimum_nights.quantile(.99)","310c59b4":"plt.figure(figsize = (16,12))\ntemp = df[df.minimum_nights < 45]\nsns.violinplot(x = 'neighbourhood_group', y = 'minimum_nights', data = temp)","7c025a52":"def show_result(Z, title, xlabel, ylabel):\n    fig = plt.figure(figsize=(60, 50))\n    dendrogram(Z, labels=df_grouped.neighbourhood.to_list(), leaf_rotation=0, orientation=\"left\")\n    my_palette = plt.cm.get_cmap(\"Accent\", 3)\n    plt.title(title,fontsize=50)\n    plt.xlabel(xlabel,fontsize=30)\n    plt.ylabel(ylabel,fontsize=30)\n    plt.show()","d70f4ccf":"df_grouped = df.groupby('neighbourhood').mean().reset_index().loc[:,['neighbourhood','price']]\nlist_grouped_price_mean = [ [price] for price in df_grouped.price.to_list()]\ndf_grouped.head(10)","300e3883":"Z = linkage(list_grouped_price_mean, 'complete')","be2f0c1a":"title = 'Clustering neighbourhood in NYC by Average price of each neighbourhood'\nxlabel = 'Average Price'\nylabel = 'Neighbourhood'\n\nshow_result(Z, title, xlabel, ylabel)","72b36c9f":"df_grouped = df.groupby('neighbourhood').mean().reset_index().loc[:,['neighbourhood','number_of_reviews']]\nlist_grouped_reviewNo_mean = [ [reviewNo] for reviewNo in df_grouped.number_of_reviews.to_list()]\ndf_grouped.head(10)","c22e514f":"Z = linkage(list_grouped_reviewNo_mean, 'complete')","97ccf37f":"title = 'Clustering neighbourhood in NYC by Average number of reviews of each neighbourhood'\nxlabel = 'Average number of reviews'\nylabel = 'Neighbourhood'\n\nshow_result(Z, title, xlabel, ylabel)","62dae535":"df_grouped = df.groupby('neighbourhood').mean().reset_index().loc[:,['neighbourhood','minimum_nights']]\nlist_grouped_night_mean = [ [night] for night in df_grouped.minimum_nights.to_list()]\ndf_grouped.head(10)","9d4f9c30":"Z = linkage(list_grouped_night_mean, 'complete')","6e690449":"title = 'Clustering neighbourhood in NYC by Average minimum nights of each neighbourhood'\nxlabel = 'Average minimum nights'\nylabel = 'Neighbourhood'\n\nshow_result(Z, title, xlabel, ylabel)","f917d1cf":"df_grouped = df.groupby('neighbourhood').mean().reset_index().loc[:,['neighbourhood','number_of_reviews','price']]\nlist_grouped_reviewAndprice_mean = [ [review,price] for review, price in zip(df_grouped.number_of_reviews.to_list(),df_grouped.price.to_list())]\ndf_grouped.head(10)","bf23bf91":"from sklearn.preprocessing import MinMaxScaler","9266520d":"# Scale the data for clustering easier\nscaler = MinMaxScaler()\nscaler.fit(list_grouped_reviewAndprice_mean)\nlist_grouped_reviewAndprice_mean_scale = scaler.transform(list_grouped_reviewAndprice_mean)","41f82836":"Z = linkage(list_grouped_reviewAndprice_mean_scale, 'complete')","55181bd3":"title = ' Clustering neighbourhood in NYC by Average price of each neighbourhood and Average number of reviews of each neighbourhood'\nxlabel = 'Average price and Average number of reviews'\nylabel = 'Neighbourhood'\n\nshow_result(Z, title, xlabel, ylabel)","2c2d1e69":"df_grouped = df.groupby('neighbourhood').mean().reset_index().loc[:,['neighbourhood','number_of_reviews','price', 'minimum_nights']]\nlist_grouped_reviewAndpriceAndnight_mean = [ [review,price,night] for review, price, night in zip(df_grouped.number_of_reviews.to_list()\n                                                                                                  ,df_grouped.price.to_list()\n                                                                                                  ,df_grouped.minimum_nights.to_list())]\ndf_grouped.head(10)","0aec123c":"# Scale the data for clustering easier\nscaler = MinMaxScaler()\nscaler.fit(list_grouped_reviewAndpriceAndnight_mean)\nlist_grouped_reviewAndpriceAndnight_mean_scale = scaler.transform(list_grouped_reviewAndpriceAndnight_mean)","d3e6ad4a":"Z = linkage(list_grouped_reviewAndpriceAndnight_mean_scale, 'complete')","1565ba99":"title = 'Clustering neighbourhood in NYC by Average price of each neighbourhood and Average number of reviews of each neighbourhood and Average minimum nights of each neighbourhood'\nxlabel = 'Average price and Average number of reviews and Average minimum nights'\nylabel = 'Neighbourhood'\n\nshow_result(Z, title, xlabel, ylabel)","b496110a":"### Clustering neighbourhood in NYC by Average number of reviews of each neighbourhood","e178af62":"### Clustering neighbourhood in NYC by Average price of each neighbourhood and Average number of reviews of each neighbourhood","c4a30c5c":"\u0e01\u0e32\u0e23\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e15\u0e31\u0e27\u0e41\u0e1b\u0e23\u0e17\u0e35\u0e48\u0e08\u0e30\u0e21\u0e32\u0e40\u0e25\u0e37\u0e2d\u0e01 Clustering \u0e19\u0e31\u0e49\u0e19\u0e02\u0e36\u0e49\u0e19\u0e2d\u0e22\u0e39\u0e48\u0e01\u0e31\u0e1a\u0e40\u0e23\u0e32\u0e40\u0e25\u0e22\u0e04\u0e23\u0e31\u0e1a\u0e27\u0e48\u0e32\u0e40\u0e23\u0e32\u0e08\u0e30\u0e08\u0e31\u0e14\u0e25\u0e38\u0e48\u0e21\u0e2d\u0e22\u0e48\u0e32\u0e07\u0e44\u0e23 \u0e42\u0e14\u0e22\u0e15\u0e31\u0e27\u0e1c\u0e21\u0e08\u0e30\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e08\u0e30 plot \u0e2d\u0e22\u0e39\u0e48 5 \u0e41\u0e1a\u0e1a\n- \u0e04\u0e48\u0e32\u0e17\u0e35\u0e48\u0e1e\u0e31\u0e01\u0e40\u0e09\u0e25\u0e35\u0e48\u0e22\u0e02\u0e2d\u0e07\u0e41\u0e15\u0e48\u0e25\u0e30\u0e41\u0e02\u0e27\u0e07\u0e43\u0e19\u0e41\u0e15\u0e48\u0e25\u0e30\u0e40\u0e02\u0e15\n- \u0e08\u0e33\u0e19\u0e27\u0e19\u0e23\u0e35\u0e27\u0e34\u0e27\u0e40\u0e09\u0e25\u0e35\u0e22\u0e02\u0e2d\u0e07\u0e41\u0e15\u0e48\u0e25\u0e30\u0e41\u0e02\u0e27\u0e07\u0e43\u0e19\u0e41\u0e15\u0e48\u0e25\u0e30\u0e40\u0e02\u0e15\n- \u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e37\u0e19\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e02\u0e2d\u0e07\u0e41\u0e15\u0e48\u0e25\u0e30\u0e41\u0e02\u0e27\u0e07\u0e43\u0e19\u0e41\u0e15\u0e48\u0e25\u0e30\u0e40\u0e02\u0e15\n- \u0e04\u0e48\u0e32\u0e17\u0e35\u0e48\u0e1e\u0e31\u0e01\u0e40\u0e09\u0e25\u0e35\u0e48\u0e22\u0e02\u0e2d\u0e07\u0e41\u0e15\u0e48\u0e25\u0e30\u0e41\u0e02\u0e27\u0e07\u0e43\u0e19\u0e41\u0e15\u0e48\u0e25\u0e30\u0e40\u0e02\u0e15 \u0e41\u0e25\u0e30 \u0e08\u0e33\u0e19\u0e27\u0e19\u0e23\u0e35\u0e27\u0e34\u0e27\u0e40\u0e09\u0e25\u0e35\u0e22\u0e02\u0e2d\u0e07\u0e41\u0e15\u0e48\u0e25\u0e30\u0e41\u0e02\u0e27\u0e07\u0e43\u0e19\u0e41\u0e15\u0e48\u0e25\u0e30\u0e40\u0e02\u0e15\n- \u0e04\u0e48\u0e32\u0e17\u0e35\u0e48\u0e1e\u0e31\u0e01\u0e40\u0e09\u0e25\u0e35\u0e48\u0e22\u0e02\u0e2d\u0e07\u0e41\u0e15\u0e48\u0e25\u0e30\u0e41\u0e02\u0e27\u0e07\u0e43\u0e19\u0e41\u0e15\u0e48\u0e25\u0e30\u0e40\u0e02\u0e15 \u0e41\u0e25\u0e30 \u0e08\u0e33\u0e19\u0e27\u0e19\u0e23\u0e35\u0e27\u0e34\u0e27\u0e40\u0e09\u0e25\u0e35\u0e22\u0e02\u0e2d\u0e07\u0e41\u0e15\u0e48\u0e25\u0e30\u0e41\u0e02\u0e27\u0e07\u0e43\u0e19\u0e41\u0e15\u0e48\u0e25\u0e30\u0e40\u0e02\u0e15 \u0e41\u0e25\u0e30 \u0e08\u0e33\u0e19\u0e27\u0e19\u0e04\u0e37\u0e19\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48\u0e02\u0e2d\u0e07\u0e41\u0e15\u0e48\u0e25\u0e30\u0e41\u0e02\u0e27\u0e07\u0e43\u0e19\u0e41\u0e15\u0e48\u0e25\u0e30\u0e40\u0e02\u0e15","3f2fb60b":"## Type of data","514ba913":"## Price violinplot","c78f44a4":"## Minimum nights violinplot","76f7920f":"# Collect data","c3f76b0a":"# Cluster\nhierarchical clustering (complete-linkage)","025b8753":"### Import Library","4b6cd814":"## Count Neighbourhood group per roomtype","2c22a235":"### Clustering neighbourhood in NYC by Average minimum nights of each neighbourhood","4fbcc84b":"# Clean data\n- sensitive data\n    - host_name\n    - last_review\n    - id\n- fill null data","bb75661d":"### Load Data","4ef8b2ab":"## Number of row and column","9c2338a6":"# Visualization","2e3ae3cd":"### Clustering neighbourhood in NYC by Average price of each neighbourhood","49790d9b":"## Number of reviews violinplot","9750ce9b":"## Import","0b713c97":"### Clustering neighbourhood in NYC by Average price of each neighbourhood and Average number of reviews of each neighbourhood and Average minimum nights of each neighbourhood","560abec8":"## Show result"}}