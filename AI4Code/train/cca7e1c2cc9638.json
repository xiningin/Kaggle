{"cell_type":{"04e03d99":"code","0782290c":"code","6199d575":"code","cf0c98be":"code","edf5db66":"code","1808a9b5":"markdown","34307650":"markdown","a3dd2bcd":"markdown","e59a559b":"markdown","41021de2":"markdown","57a30c89":"markdown","e6f5dd88":"markdown","ef064dc9":"markdown"},"source":{"04e03d99":"# Import Basic liberaries\nimport numpy as np\nimport pandas as pd \npd.set_option('display.max_columns' , 500)\n\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\n#Read the data\ndf = pd.read_csv('\/kaggle\/input\/cost-of-living\/cost-of-living.csv')\ndf.head()","0782290c":"#Here goes the data manupilation pipeline\ndf = df.T #Transpose the dataset , put the cities in rows\nnew_header = df.iloc[0] #grab the first row for the header\ndf = df[1:] #take the data less the header row\ndf.columns = new_header #set the header row as the df header\ndf['Total_cost'] = df.sum(axis=1) #generate column for total cost \ndf = df.reset_index()\n#Extract the country column from the location\ndf.rename(columns  = {'index' : 'City'} , inplace = True)\ndf[['City' , 'Country' , 'other']] =df['City'].str.split(',', expand=True)\n#Deal with the states of United states\nstate = df[df.other == ' United States']['Country'].tolist()\ndf.Country = df.Country.apply(lambda x: 'United State' if x in state else x)\ndf.drop('other' , axis = 1 , inplace = True)\n#Combine the data by the country and sort the average total cost\ndf_countries = df.groupby('Country')['Total_cost'].mean().reset_index().sort_values('Total_cost' ,axis=0, ascending=False, ignore_index=True )","6199d575":"df_countries.head()","cf0c98be":"df_countries.tail()","edf5db66":"fig , ax  = plt.subplots(figsize = (10 , 30))\nsns.barplot(data = df_countries , y = 'Country' , x = 'Total_cost')\nplt.title('Sorting the most expensive Countries' , fontsize  = 14);\nplt.grid(axis = \"x\")\nfor s in ['top', 'right', 'bottom']:\n    ax.spines[s].set_visible(False)\n    \nfor patch in ax.patches:\n    bl = patch.get_xy()\n    x = 0.9 * patch.get_width() + bl[0]\n    y = 0.5 * patch.get_height() + bl[1] \n    ax.text(x,y,\"%d\" %(patch.get_width()),va='center'\n            ,ha='center' , color = '#4a4a4a',\n           fontsize = 12, fontfamily='serif')","1808a9b5":"<h2 style = 'background-color:Violet;border-style: solid'><center><strong> <br>Where your Counry locate in the chart?","34307650":"<h2 style = 'background-color:Tan;border-style: solid'><center><strong> <br>Thanks for visiting my notebook , your comments for improvements would be highly appreciated","a3dd2bcd":"<h2 style = 'background-color:Moccasin;border-style: solid'><center><strong><br> In this Notebook I will Sort the Contries from the Most exensive to the cheapest ones","e59a559b":"<h2 style = 'background-color:tomato;border-style: solid'><center><strong> <br>The Most Expensive 5 Countries all over the world","41021de2":"### The data shows the cost of every things across the cities  , <br><br> MacMeal in Egypt cost 4.5 usd however in Italy cost 8 usd <br><br> I will sum the cost of every thing and assign it to the countries <br><br> then we will sort the countries from the most expensive to the cheapest","57a30c89":"### Import the basic liberaries and import the dataset","e6f5dd88":"<h2 style = 'background-color:lightgreen;border-style: solid'><center><strong><br> Re-Shaping the data","ef064dc9":"<h2 style = 'background-color:powderblue;border-style: solid'><center><strong> <br>The Cheapest Countries all over the world"}}