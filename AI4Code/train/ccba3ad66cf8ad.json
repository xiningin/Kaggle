{"cell_type":{"a7908b9e":"code","5b2ab588":"code","50438f5d":"code","74eb05c4":"code","330114dd":"code","1f0cdd73":"code","8238cc0e":"code","5aaa8694":"markdown","834ba886":"markdown","937f2643":"markdown","df9545b8":"markdown"},"source":{"a7908b9e":"import pandas as pd\nimport seaborn as sns\nfrom catboost import CatBoostRegressor\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.ensemble import VotingRegressor, StackingRegressor\nfrom sklearn.linear_model import LinearRegression, Ridge, Perceptron\nfrom sklearn.neural_network import MLPRegressor\nfrom sklearn.ensemble import RandomForestRegressor\nfrom sklearn.metrics import r2_score","5b2ab588":"df = pd.read_csv(\"\/kaggle\/input\/house-price-tehran-iran\/housePrice.csv\")\ndf = df.drop(columns=['Price'])\nmask =  df.apply(lambda x: \",\" in  x['Area'],axis = 1)\ndf = df[~mask]\ndf['Area'] = df['Area'].astype(float)","50438f5d":"df.head()","74eb05c4":"y = df['Price(USD)']\nX = pd.get_dummies(df.drop(columns=['Price(USD)']))\nX_train, X_test, y_train, y_test = train_test_split( X, y, test_size=0.33, random_state=42)","330114dd":"ensemble = VotingRegressor([('lr', Ridge()), ('rf',RandomForestRegressor(n_estimators=10, random_state=1))])\nensemble.fit(X_train,y_train)\nr2_score(ensemble.predict(X_test),y_test)","1f0cdd73":"r = ensemble.estimators_[0]\nf = ensemble.estimators_[1]\nresult = (r.predict(X_test) + f.predict(X_test))\/2\nr2_score(result,y_test)","8238cc0e":"ensemble = StackingRegressor([('lr', Ridge()), ('rf',RandomForestRegressor(n_estimators=10, random_state=1))])\nensemble.fit(X_train,y_train)\nr2_score(ensemble.predict(X_test),y_test)","5aaa8694":"Todo:\n- scikit ensemble\n- Wspomnie\u0107 bagging\n- Boosting\n- wprowadzenie do framework\u00f3w","834ba886":"### Przyk\u0142ad u\u017cycia - Voting regressor\nJedn\u0105 z najbardziej podstawowych metod ensemblingu jest wcze\u015bniej wspomniany ensembling przez glosowanie. Dla problemu regresji tej metody mo\u017cna u\u017cy\u0107 korzystaj\u0105c z klasy [VotingRegressor](https:\/\/scikit-learn.org\/stable\/modules\/generated\/sklearn.ensemble.VotingRegressor.html) z biblioteki scikit learn.","937f2643":"## Czym jest ensemble? \nEnsemble (inaczej metoda grupowania) to metoda uczenia maszynowego, kt\u00f3ra \u0142\u0105czy wiele modeli w celu uzyskania modelu bardziej optymailnego, ni\u017c jego sk\u0142adowe.\nJednym z podstawowych metod ensemblingu jest tak zwane 'G\u0142osowanie Wi\u0119kszo\u015bciowe'. Polega ono na wybraniu najcz\u0119\u015bciej wyst\u0119puj\u0105cej klasy w przypadku klasyfikacji. W przypadku regresji o poodbnej metodzie polegaj\u0105cej na u\u015brednianiu wynik\u00f3w wielu modeli m\u00f3wimy po prostu u\u015brednianie.","df9545b8":"Description of columns:\n\n- Area in square meters\n- Number of bedrooms\n- Has Parking or not\n- Has elevator or not\n- Has warehouse or not\n- The region where the house is placed\n- Price in Toman and USD"}}