{"cell_type":{"23d75add":"code","b72b23c5":"code","abc2efea":"code","5b71ce82":"code","82f4194b":"code","a489d415":"code","887f91a9":"code","78614c15":"code","5c1277b5":"markdown"},"source":{"23d75add":"pip install -q beautifulsoup4","b72b23c5":"import numpy as np\nfrom bs4 import BeautifulSoup\nimport requests\nfrom tqdm import tqdm\nimport git\nimport re\nimport os\nfrom pathlib import Path","abc2efea":"headers = {\n    'User-Agent':'Mozilla\/5.0 (Windows NT 10.0; Win64; x64; rv:66.0) Gecko\/20100101 Firefox\/66.0',\n    'Accept-Encoding':'gzip, deflate', 'Accept':'text\/html,application\/xhtml+xml,application\/xml;q=0.9,*\/*;q=0.8',\n    'DNT':'1','Connection':'close', 'Upgrade-Insecure-Requests':'1'\n}\n\nprogramming_language = 'Python'\npage = f'https:\/\/github.com\/EvanLi\/Github-Ranking\/blob\/master\/Top100\/{programming_language}.md'\ncontent = requests.get(page, headers=headers).content\nsoup = str(BeautifulSoup(content))","5b71ce82":"links = re.findall('<td><a href=\"https:\/\/github.com\/.*\"', soup)\nlinks = [link.split('\"')[1] + '.git' for link in links]\n\nprint(len(np.unique(links)))\ndisplay(links[:10])","82f4194b":"for link in tqdm(links):\n    git.Repo.clone_from(link, link[:-4].split('https:\/\/github.com\/')[-1])","a489d415":"filepaths = []\n\nfor dirpath, dirnames, filenames in os.walk('.'):\n    for filename in filenames:\n        if filename.endswith('.py'):\n            filepath = dirpath + os.sep + filename\n            \n            try:\n                script = open(filepath).read()\n                \n                if script.strip() != '':\n                    filepaths.append(filepath)\n            except:\n                pass","887f91a9":"os.mkdir('scripts')\n\nfor filepath in tqdm(filepaths):\n    new_filepath = new_filepath = 'scripts\/' + '_'.join(filepath[2:].split('\/'))\n    Path(filepath).rename(new_filepath)","78614c15":"%%bash\ntar -czf archive.tar.gz scripts","5c1277b5":"This notebook was used to generate the *Scripts of Top 100 Python Projects on GitHub* dataset."}}