{"cell_type":{"33d0c76c":"code","f33d9d70":"code","9ac342bc":"code","814bee74":"code","ee7b9438":"code","7a33ec4e":"code","31c58cc6":"code","297a29f7":"code","c9f0eea3":"code","30d01943":"code","46ed52ae":"code","8012e1fb":"code","25303159":"code","52b927a3":"code","31e9dca4":"code","6a49e878":"code","81ff75d1":"code","816d9f72":"code","2b8e047b":"code","17ae2452":"code","22abf6e5":"code","6d6e3d32":"code","099f99eb":"code","79940161":"code","f70a7f7d":"code","4ff4c607":"code","548002da":"code","f12157be":"markdown","d5396f4c":"markdown","edaa91e2":"markdown","95fa5211":"markdown","4eedcdea":"markdown","ee0240f5":"markdown","9c9fca2c":"markdown","a234ffa0":"markdown","bf2f965b":"markdown","1bd9c647":"markdown","5e87b469":"markdown","1c19d252":"markdown","383aa05e":"markdown","a72f9ae4":"markdown","b5380a75":"markdown","f8760b33":"markdown","699bb514":"markdown","879a8d6a":"markdown","26f0ff4e":"markdown","0a0672ae":"markdown","b9e40dd1":"markdown","34b9acd0":"markdown","8220ed1f":"markdown","54ddd5c5":"markdown","56533c67":"markdown","e38967ac":"markdown","1cccd051":"markdown"},"source":{"33d0c76c":"import numpy as np                # linear algebra\nimport pandas as pd               # data frames\nimport seaborn as sns             # visualizations\nimport matplotlib.pyplot as plt   # visualizations\nimport scipy.stats                # statistics\nfrom sklearn import preprocessing\nfrom statistics import mean \nimport os\nprint(os.listdir(\"..\/input\"))","f33d9d70":"points=pd.read_csv(\"..\/input\/points.csv\")\nserves=pd.read_csv(\"..\/input\/serves.csv\")\nrallies=pd.read_csv(\"..\/input\/rallies.csv\")\nevents=pd.read_csv(\"..\/input\/events.csv\")","9ac342bc":"points.head()","814bee74":"serves.head()","ee7b9438":"rallies.head()","7a33ec4e":"events.head()","31c58cc6":"points[['rallyid','winner']].groupby('winner').count()","297a29f7":"df=points.groupby(['winner','serve']).count().iloc[:,:1]\ndf.columns=['Points Won']\ndf","c9f0eea3":"df2=points.groupby(['reason']).count().iloc[:,:1]\ndf2.columns=['Points Won']\ndf2","30d01943":"df3=points.groupby(['winner','reason']).count().iloc[:,:1]\ndf3.columns=['Points Won']\ndf3","46ed52ae":"f, axes = plt.subplots(1,2, figsize=(15, 5))\nsns.countplot(x=\"reason\", data=points, ax=axes[0], palette=\"Set1\")\nsns.countplot(x=\"reason\", hue='winner',data=points, ax=axes[1] ,palette=\"Set1\")","8012e1fb":"sns.catplot(x=\"reason\", hue='winner', col='serve',data=points, kind='count' ,palette=\"Set1\")","25303159":"sns.distplot(points[\"strokes\"],  color=\"red\")\nprint(\"The mean of strokes was: \" + str(mean(points[\"strokes\"])))","52b927a3":"f, axes = plt.subplots(1,2, figsize=(15, 5))\nsns.countplot(x=\"strokes\", hue='serve',data=points, palette=\"Set1\", ax=axes[0])\nsns.countplot(x=\"strokes\", hue='winner',data=points ,palette=\"Set1\", ax=axes[1])","31e9dca4":"print(\"Segundos de juego: \" + str(points.totaltime.sum())) #Segundos de juego\nprint(\"Minutos de juego: \" + str(points.totaltime.sum()\/60)) #Minutos de juego\nprint(\"Porcentaje de juego durante el partido (2h 4m): \" + str(((points.totaltime.sum()\/60)\/124)*100) + \" %\")","6a49e878":"\nsns.distplot(points[\"totaltime\"],  color=\"red\")","81ff75d1":"f, axes = plt.subplots(1,2, figsize=(15, 5))\nsns.scatterplot(x=\"totaltime\", y=\"strokes\", data=points, ax=axes[0])\nsns.scatterplot(x=\"totaltime\", y=\"strokes\", hue=\"winner\" ,data=points, ax=axes[1])","816d9f72":"df4=serves.groupby(['server']).count().iloc[:,:1]\ndf4.columns=['Serves']\ndf4","2b8e047b":"rallies1=rallies.replace({\"__undefined__\":\"Out\/Net (Not Point)\"})\ndf5=rallies1.groupby(['server', 'winner']).count().iloc[:,:1]\ndf5.columns=['Points Won']\ndf5\n","17ae2452":"f, axes = plt.subplots(1,2, figsize=(15, 5))\nsns.countplot(x=\"type\",data=events, palette=\"Set1\", ax=axes[0])\nsns.countplot(x=\"type\", hue=\"hitter\", data=events, palette=\"Set1\", ax=axes[1])","22abf6e5":"f, axes = plt.subplots(1,2, figsize=(15, 5))\nsns.countplot(y=\"stroke\",data=events, palette=\"Set1\", ax=axes[0])\n\nevents1=events.replace({\"__undefined__\":\"forehand\"})\nsns.countplot(y=\"stroke\",data=events1, palette=\"Set1\", ax=axes[1])","6d6e3d32":"f, axes = plt.subplots(1,2, figsize=(15, 5))\nsns.countplot(x=\"stroke\",hue=\"hitter\",data=events1, palette=\"Set1\", ax=axes[0])\nsns.countplot(x=\"type\", hue=\"stroke\", data=events1, palette=\"Set1\", ax=axes[1])","099f99eb":"sns.catplot(x=\"type\", hue='stroke', col='hitter',data=events1, kind='count' ,palette=\"Set1\")","79940161":"sns.scatterplot(y=\"hitter_x\", x=\"hitter_y\", hue=\"hitter\", data=events)\nplt.plot([0,0],[0,10.97], 'k')\nplt.plot([23.77,0],[0,0], 'k')\nplt.plot([23.77,23.77],[0,10.97], 'k')\nplt.plot([23.77,0],[10.97,10.97], 'k')\n\nplt.plot([11.985,11.985],[0,10.97], 'k',linestyle='dashed')\n\nplt.plot([23.77,0],[1.37,1.37], 'k')\nplt.plot([23.77,0],[9.6,9.6], 'k')\n\nplt.plot([18.385,18.385],[1.37,9.6], 'k')\nplt.plot([5.585,5.585],[1.37,9.6], 'k')\n\nplt.plot([5.585,18.385],[5.485,5.485], 'k')","f70a7f7d":"sns.scatterplot(y=\"receiver_x\", x=\"receiver_y\", hue=\"receiver\", data=events)\nplt.plot([0,0],[0,10.97], 'k')\nplt.plot([23.77,0],[0,0], 'k')\nplt.plot([23.77,23.77],[0,10.97], 'k')\nplt.plot([23.77,0],[10.97,10.97], 'k')\n\nplt.plot([11.985,11.985],[0,10.97], 'k',linestyle='dashed')\n\nplt.plot([23.77,0],[1.37,1.37], 'k')\nplt.plot([23.77,0],[9.6,9.6], 'k')\n\nplt.plot([18.385,18.385],[1.37,9.6], 'k')\nplt.plot([5.585,5.585],[1.37,9.6], 'k')\n\nplt.plot([5.585,18.385],[5.485,5.485], 'k')","4ff4c607":"sns.scatterplot(y=\"x\", x=\"y\", hue=\"winner\", data=points)\nplt.plot([0,0],[0,10.97], 'k')\nplt.plot([23.77,0],[0,0], 'k')\nplt.plot([23.77,23.77],[0,10.97], 'k')\nplt.plot([23.77,0],[10.97,10.97], 'k')\n\nplt.plot([11.985,11.985],[0,10.97], 'k',linestyle='dashed')\n\nplt.plot([23.77,0],[1.37,1.37], 'k')\nplt.plot([23.77,0],[9.6,9.6], 'k')\n\nplt.plot([18.385,18.385],[1.37,9.6], 'k')\nplt.plot([5.585,5.585],[1.37,9.6], 'k')\n\nplt.plot([5.585,18.385],[5.485,5.485], 'k')","548002da":"sns.scatterplot(y=\"x\", x=\"y\", hue=\"server\", data=serves)\nplt.plot([0,0],[0,10.97], 'k')\nplt.plot([23.77,0],[0,0], 'k')\nplt.plot([23.77,23.77],[0,10.97], 'k')\nplt.plot([23.77,0],[10.97,10.97], 'k')\n\nplt.plot([11.985,11.985],[0,10.97], 'k',linestyle='dashed')\n\nplt.plot([23.77,0],[1.37,1.37], 'k')\nplt.plot([23.77,0],[9.6,9.6], 'k')\n\nplt.plot([18.385,18.385],[1.37,9.6], 'k')\nplt.plot([5.585,5.585],[1.37,9.6], 'k')\n\nplt.plot([5.585,18.385],[5.485,5.485], 'k')","f12157be":"Djokovic won 36 points more than Nadal.\n\n\/\/\/\n\nDjokovic gan\u00f3 36 puntos m\u00e1s que Nadal.","d5396f4c":"One of the strenghts of Djokovic in this match was that he won more point with the first and second serve.\n\n\/\/\/\n\nUno de los puntos fuertes de Djokovic en este encuentro fue que gan\u00f3 m\u00e1s puntos en el primer y segundo saque que Nadal.","edaa91e2":"Here we see the position of the player when hitting the ball. We notice that more points were played on the right side of the court. Also, we see that Nadal hit more in the net and also hit farther from the baseline of the court. That means that he took a defensive position in the match (Djokovic forced him to be defensive).\n\n\/\/\/\n\nAqu\u00ed vemos la posici\u00f3n del jugador al golpear la pelota. Notamos que se jugaron m\u00e1s puntos en el lado derecho de la cancha. Tambi\u00e9n, vemos que Nadal golpea m\u00e1s en la red y tambi\u00e9n golpea m\u00e1s lejos de la l\u00ednea de base de la cancha. Eso significa que tom\u00f3 una posici\u00f3n defensiva en el partido (Djokovic lo oblig\u00f3 a estar a la defensiva).","95fa5211":"We see that with the first serve, Djokovic was more precisely, winning more by winners, outs\/nets (mistakes by Nadal) and aces. With the second service, it was much more balanced.\n\n\/\/\/\n\nVemos que con el primer servicio, Djokovic fue m\u00e1s preciso, ganando m\u00e1s tiros ganadores, outs \/ nets (errores de Nadal) y saques directos. Con el segundo servicio, fue mucho m\u00e1s equilibrado.","4eedcdea":"Djokovic served less than Nadal, that means that he pressured more Nadal's service and were more close to win Nadal's service. \n\n\/\/\/\n\nDjokovic sirvi\u00f3 menos que Nadal, eso significa que presion\u00f3 m\u00e1s el servicio de Nadal y estuvo m\u00e1s cerca de ganarle su servicio.","ee0240f5":"The previous bar chart shows a \"__undefined__\" stroke. So, I go to search in the database and it was in the 6-3 6-2 4-3 (15:15) point and was a smash stroke by Djokovic. I search some videos in youtube and I found this video https:\/\/youtu.be\/qgRCBINX6N0?t=977 where shows that the stroke was effectively a smash by Djokovic with his FOREHAND. So, I changed the value to make a better analysis.\n\n\/\/\/\n\nEn el primer gr\u00e1fico se encontr\u00f3 un dato denominado \"__undefined__\". Fui a buscar en la base de datos y fue el punto cuando el marcador paso a ser 6-3 6-2 4-3 (15:15) y fue un smash por parte de Djokovic. Busqu\u00e9 en algunos video resumen de youtube y encontr\u00e9 que efectivamente el smash fue ejecutado por Djokovic y se realiz\u00f3 con su tiro de drive (o derecha). Se procedi\u00f3 a corregir el error en la base de datos. (Se puede observar aqu\u00ed: https:\/\/youtu.be\/qgRCBINX6N0?t=977)","9c9fca2c":"It seems that we have some outliers\/typos, because we see rallies with more than 10 strokes in less than 5 secs (almost impossible). It is estimated a stroke for second approximately.\n\n\/\/\/\n\nParece que hay algunos outliers, dado que se presentan puntos donde se golpea m\u00e1s de 10 veces la pelota en menos de 5 segundos, lo cual es casi imposible. Se promedia que se golpea cada 1 segundo la pelota regularmente.","a234ffa0":"When Djokovic served, Nadal only won 13 points. While, when Nadal served, Djokovic won 33 points! That's insane!\n\n\/\/\/\n\nCuando Djokovic sirvi\u00f3, Nadal solo gan\u00f3 13 puntos. Mientras, cuando Nadal sirvi\u00f3, Djokovic gan\u00f3 33 puntos! \u00a1Eso es una locura!","bf2f965b":"At the left, we saw that when a point is played with the first serve is more likely to become in a long rally than with the second serve.\n\nAt the right, we saw that Nadal was better in very short rallies (2-3 strokes) and Djokovic better in 1 stroke rallies (we infer that he was better receiving the serves of Nadal) and better in longest rallies (+4 strokes).\n\n\/\/\/\n\nA la izquierda, vimos que cuando se juega un punto con el primer servicio es m\u00e1s probable que se convierta en un rally largo que en el segundo servicio.\n\nA la derecha, vimos que Nadal era mejor en rallies muy cortos (2-3 golpes) y Djokovic mejor en rallies de 1 golpe (inferimos que recibi\u00f3 mejor los saques de Nadal) y mejor en los rallies m\u00e1s largos (+4 golpes) .","1bd9c647":"**Some interesting tables**","5e87b469":"The rallies time has a lot of correlation with the number of strokes.\n\n\/\/\/\n\nEl tiempo de los rallies tiene mucha correlaci\u00f3n con el n\u00famero de golpes.","1c19d252":"Maybe is a mistake of the measuring of the court or the system of coordinates, but on the right side of the court, the players were located farther from the baseline. Also, we see the same pattern as in the last case, Nadal played more defensively.\n\n\/\/\/\n\nTal vez sea un error de la medici\u00f3n de la cancha o del sistema de coordenadas, pero en el lado derecho de la cancha, los jugadores estaban ubicados m\u00e1s lejos de la l\u00ednea de base. Adem\u00e1s, vemos el mismo patr\u00f3n que en el \u00faltimo caso, Nadal jug\u00f3 m\u00e1s defensivamente.","383aa05e":"Here we see where the ball landed in the winner points (a stroke that the other player don't touch). A lot of points on the net. Nadal was more precise in the shots near to the out lines, but he committed many mistakes in the baseline strokes. \n\n\/\/\/\n\nAqu\u00ed vemos d\u00f3nde cay\u00f3 la bola en los puntos ganadores (un golpe que el otro jugador no toca). Muchos puntos en la red. Nadal fue m\u00e1s preciso en los tiros cerca de las l\u00edneas externas, pero cometi\u00f3 muchos errores en los golpes a la l\u00ednea de fondo.","a72f9ae4":"We have in total near to 30 variables (some are repeated) and 142 inputs (points played).\n\n\/\/\/\n\nEn total cerca de 30 variables (dado que algunas se repiten) y 142 datos (puntos jugados).","b5380a75":"This was expected. After years watching tennis, we expected that in spite of that Djokovic is right-handed, he is more aggressive and precise with his backhand. Besides, Nadal is more aggressive with his forehand because he is left-handed and with his forehand he has some awesome angles to shot in the field.\n\nAt the right, we see that the slice is more predominant with the backhand (I think the 90% of the slices in all the matches are with the backhand) and that's why the topspin (a stroke with lots of effect for the ball to go down quickly) is more predominated by the forehand. In tennis, the players try to shot to the backhand 'cause in most of the cases is the player's weakness. That why we see that more returns are with the backhand. Also, the stop it's when you slice the ball with more strength and to put it near to the net, so that's why it's more predominant to shot with the backhand.\n\n\/\/\/\n\nEsto era lo esperado. Despu\u00e9s de a\u00f1os viendo tenis, esper\u00e1bamos que, a pesar de que Djokovic es diestro, sea m\u00e1s agresivo y preciso con su rev\u00e9s. Adem\u00e1s, Nadal es m\u00e1s agresivo con su derecha porque es zurdo y con su derecha tiene unos \u00e1ngulos impresionantes para disparar en la cancha.\n\nA la derecha, vemos que el slice es m\u00e1s predominante con el rev\u00e9s (creo que el 95% de los slices en todos los partidos son con el rev\u00e9s) y es por eso que el topspin (un golpe con mucho efecto para que la bola vaya abajo r\u00e1pidamente) es m\u00e1s predominado por el golpe de derecha. En el tenis, los jugadores intentan disparar al rev\u00e9s, porque en la mayor\u00eda de los casos es la debilidad del rival. Por eso vemos que la mayor\u00eda de las devoluciones son con el rev\u00e9s. Adem\u00e1s, la \"dejada\" es cuando se corta la bola con m\u00e1s fuerza y se coloca cerca de la red, por lo que es m\u00e1s predominante disparar con el rev\u00e9s.","f8760b33":"**Uploading the Databases**","699bb514":"More aces for Djokovic, more double faults but they were very little. The strength here is the number of winners for Djokovic. The outs and nets for him represent mistakes from Nadal. So, we see that Nadal win fewer points by outs and nets. \n\nDjokovic was more precise that night!\n\n\/\/\/\n\nM\u00e1s saques directos para Djokovic, m\u00e1s dobles faltas pero fueron muy pocas. La fortaleza aqu\u00ed es el n\u00famero de tiros ganadores para Djokovic. Los outs y los puntos en las redes para \u00e9l representan errores de Nadal. Entonces, vemos que Nadal gana menos puntos por outs y redes.\n\n\u00a1Djokovic fue m\u00e1s preciso esa noche!","879a8d6a":"Of the 2 hours and 4 minutes that the match last, the players played only approximately 10 minutes (8.03% of the time). A nice stat!\n\n\/\/\/\n\nDe las 2 horas y 4 minutos que dur\u00f3 el partido, los jugadores jugaron solo aproximadamente 10 minutos (8.03% del tiempo). Una buena estad\u00edstica!","26f0ff4e":"The rallies in the match were more short (0-8 strokes) than long.\n\n\/\/\/\n\nLos rallies en el partido fueron m\u00e1s cortos (0-8 golpes) que largos.","0a0672ae":"When Nadal served in the \"Deuce\" side (From right to left) we see that he served wider.\nWhen Nadal served in the \"Advantage\" side (From left to right) we see that he served more to the \"T\" line.\nWhen Djokovic served in the \"Deuce\" side (From right to left) we see that he served more to the \"T\" line.\nWhen Djokovic served in the \"Advantage\" side (From left to right) we see that he served wider.\n\nThis is because one is left-handed (Nadal) and Djokovic right-handed.\n\n\/\/\/\n\nCuando Nadal sirvi\u00f3 en el lado del \"Deuce\" (de derecha a izquierda) se observa que sirvi\u00f3 m\u00e1s abierto.\nCuando Nadal sirvi\u00f3 en el lado de la \"Ventaja\" (de izquierda a derecha), se observa que sirvi\u00f3 m\u00e1s a la l\u00ednea \"T\".\nCuando Djokovic sirvi\u00f3 en el lado del \"Deuce\" (de derecha a izquierda) se observa que sirvi\u00f3 m\u00e1s a la l\u00ednea \"T\".\nCuando Djokovic sirvi\u00f3 en el lado de la \"Ventaja\" (de izquierda a derecha), se observa que sirvi\u00f3 m\u00e1s abierto.\n\nEsto se debe a que uno es zurdo (Nadal) y Djokovic diestro.","b9e40dd1":"**Taking a look to the Databases**","34b9acd0":"**Objective**\n\nSince the day I saw the player who for the 99% of the people is the best player of the history of the tennis: Roger Federer, I became a zombie-addict of tennis. I have been always trying to play with databases related, modeling probabilities and making some models to predict results. Now, is the right moment to exploit this final of the Australian Open 2019, with a very huge, overwhelming and unexpected score. But, Nadal played that bad? or Djokovic played so good?, the objective is establish if the stats support Djokovic as the best player off the match and also show some inusual data.\n\n\/\/\/\n\nDesde que un d\u00eda vi jugar al que para el 99% de las personas es el mejor jugador de la historia: Roger Federer, me converti en un zombie adicto al tenis. Siempre he intentado jugar con bases de datos de tenis, modelar probabilidades e intentar acoplar modelos para predecir resultados. Ahora, es el momento de explotar esta final de Australian Open del a\u00f1o 2019, con un resultado aplastante e inesperado. Pero, \u00bfNadal jugo tan mal? o \u00bfDjokovic jugo muy bien?. el objetivo es determinar si las estad\u00edsticas apoyan a Djokovic como el mejor jugador del encuentro y tambi\u00e9n mostrar datos inusuales. ","8220ed1f":"If you see Nadal playing, you can observe how his strokes with the forehand seem to be like a curve. That's topspin. Here we see that Nadal usually stroke more with its forehand (you can see he in matches trying to invert his shots, that's like avoid the backhand to shot with the forehand with which he could have more confidence).\n\n\/\/\/\n\nSi uno ve a Nadal jugando, puede observar c\u00f3mo sus golpes con el golpe de derecha parecen hacer una curva. Eso es \"topspin\". Aqu\u00ed vemos que Nadal suele golpear m\u00e1s con su golpe de derecha (se puede ver en los partidos tratando de invertir sus tiros, es como evitar el golpe de rev\u00e9s para disparar con el golpe de derecha con el cual podr\u00eda tener mayor confianza).","54ddd5c5":"In the match, most of the points were ended by a shot in the out of the field, then we find that the winner was in the second place. A lot of points on the net.\n\n\/\/\/\n\nEn el partido, la mayor\u00eda de los puntos se terminaron con un tiro fuera del campo, luego encontramos que los tiros ganadores ocuparon el segundo lugar. Muchos puntos en la red.","56533c67":"**Final - Australian Open 2019**\n\n[1] Novak Djokovic (SER) Vs. [2] Rafael Nadal (ESP)\n* Score:\n[1] Djokovic def. [2] Nadal 6-3 6-2 6-3\n* Time of Match:\n2 hours y 4 minutes","e38967ac":"**Conclusion**\n\nNovak Djokovic was better than Rafael Nadal in this match, more agressive, precise and wise to play its game. Nadal committed lot of mistakes and unforced errors that let Djokovic lead in the match and in the rythm of the match. \nConclusion: Fair winner.\n\n\/\/\/\n\nNovak Djokovic fue mejor que Rafael Nadal en este partido, m\u00e1s agresivo, preciso y sabio para jugar su juego. Nadal cometi\u00f3 muchos errores y errores no forzados que le permitieron a Djokovic liderar el partido y el ritmo del partido.\nConclusi\u00f3n: justo ganador.","1cccd051":"In these graphs, we see how they hitted in every stroke in the match. Djokovic more aggressive and Nadal more defensive. Why? Because Nadal served more and hitted more with the slice (that' is a defensive shot to gain some time in the court).\n\n\/\/\/\n\nEn estos gr\u00e1ficos, vemos c\u00f3mo impactaron en cada golpe en el partido. Djokovic m\u00e1s agresivo y Nadal m\u00e1s defensivo. \u00bfPor qu\u00e9? Porque Nadal sirvi\u00f3 m\u00e1s y golpe\u00f3 m\u00e1s con el corte (eso es un tiro defensivo para ganar algo de tiempo en la cancha)."}}