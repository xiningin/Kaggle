{"cell_type":{"2332508b":"code","4fafca33":"code","754ab59f":"code","f2d3c2d0":"code","e7f85095":"code","6f491a03":"code","68d4d8a1":"code","e8a2d5c1":"code","0b8066a5":"code","89273a51":"code","63c59487":"code","b1fd9a0b":"code","b0f94eb7":"code","bde65aec":"code","186bd393":"code","691165a4":"code","df153704":"code","f5445013":"code","8a95c398":"code","bd845427":"code","3f180a0b":"code","22e89317":"code","ac45872b":"code","0198bc4d":"code","9ded7886":"code","2f5db42f":"code","0842266c":"code","46dbdbbb":"code","0ec6c30d":"code","a0eb32ea":"code","9108606e":"code","2c73dbd3":"code","cba9ab8e":"code","5a4d281c":"code","11d79f7e":"code","07d5d89a":"code","ad0b3235":"code","17ce14a8":"code","29a0a11e":"code","63d35572":"markdown","cdef0d12":"markdown","027533e2":"markdown","f3af71ce":"markdown","b0febfea":"markdown","2c21b579":"markdown","28be110d":"markdown","faebeac4":"markdown","bc997b87":"markdown","a18cb98e":"markdown","d12335cc":"markdown","7bb98d01":"markdown","1fffe143":"markdown","b25a135f":"markdown","e8ed25b9":"markdown","c2ad7552":"markdown","be3392c3":"markdown","5225439c":"markdown","81b07459":"markdown","2358a0a4":"markdown","9f39b658":"markdown","f3743f60":"markdown","e314bf44":"markdown","2bf4ec76":"markdown","8499cbf8":"markdown","48827cee":"markdown","4d473217":"markdown","2026a9b0":"markdown","4106a548":"markdown","bd1e008f":"markdown","b6b08ce6":"markdown"},"source":{"2332508b":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline","4fafca33":"df=pd.read_csv(\"..\/input\/car-price-data-set\/car data.csv\")\ndf.head()","754ab59f":"df.shape","f2d3c2d0":"df.isnull().sum()","e7f85095":"fig=plt.figure(figsize=(10,10))\nsns.relplot('Year','Selling_Price',data=df,kind='line')","6f491a03":"df['Selling_Price'].describe()","68d4d8a1":"sns.catplot('Selling_Price',data=df)","e8a2d5c1":"df.plot.scatter(x='Selling_Price', y='Present_Price');","0b8066a5":"plt.figure(figsize=(7,7))\nsns.countplot('Year',hue='Fuel_Type',data=df)","89273a51":"plt.figure(figsize=(4,4))\nsns.catplot(data=df, kind=\"swarm\", x=\"Transmission\", y=\"Selling_Price\", split=True)","63c59487":"df.plot.scatter('Selling_Price','Kms_Driven')","b1fd9a0b":"sns.jointplot(data=df, x=\"Year\", y=\"Fuel_Type\")","b0f94eb7":"sns.boxplot(x='Selling_Price', y=\"Seller_Type\", data=df)","bde65aec":"sns.boxplot(x='Year', y=\"Selling_Price\", data=df)","186bd393":"df.drop('Car_Name',axis=1,inplace=True)\ndf.head(2)","691165a4":"df['curr_Year']=2020\ndf['Years']=df.curr_Year - df.Year\ndf.drop(['Year','curr_Year'],axis=1,inplace=True)\ndf.head()","df153704":"categorical_columns=df.select_dtypes(include='object')\nfor i in categorical_columns:\n    print('column name {} -> {} : {}'.format(i,df[i].nunique(),df[i].unique()))","f5445013":"df=pd.get_dummies(df,drop_first=True)\ndf.head()","8a95c398":"sns.pairplot(data=df)","bd845427":"plt.figure(figsize=(10,10))\nsns.heatmap(df.corr(),annot=True)","3f180a0b":"X=df.drop('Selling_Price',axis=1)\ny=df['Selling_Price']","22e89317":"print(X.shape)\nprint(y.shape)","ac45872b":"from sklearn.ensemble import ExtraTreesRegressor\nmodel=ExtraTreesRegressor()\nmodel.fit(X,y)\nfeat_imp=pd.Series(model.feature_importances_,index=X.columns).sort_values(ascending=True)\nfeat_imp.plot(kind='barh')\nplt.show()","0198bc4d":"from sklearn.model_selection import train_test_split\nX_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.2,random_state=42)","9ded7886":"from sklearn.preprocessing import MinMaxScaler\nscaler=MinMaxScaler()\nX_train=scaler.fit_transform(X_train)\nX_test=scaler.transform(X_test)","2f5db42f":"print(X_train[0])\nprint(X_test[0])","0842266c":"from sklearn.linear_model import LinearRegression,LogisticRegression\nfrom sklearn.metrics import accuracy_score,classification_report\nmodel=LinearRegression()\nmodel.fit(X_train,y_train)\nmodel.score(X_test,y_test)","46dbdbbb":"from sklearn.svm import SVR\nmodel=SVR()\nmodel.fit(X_train,y_train)\nmodel.score(X_test,y_test)","0ec6c30d":"from sklearn.tree import DecisionTreeRegressor\nmodel=DecisionTreeRegressor()\nmodel.fit(X_train,y_train)\nmodel.score(X_test,y_test)","a0eb32ea":"from sklearn.ensemble import RandomForestRegressor\nmodel=RandomForestRegressor()\nmodel.fit(X_train,y_train)\nmodel.score(X_test,y_test)","9108606e":"from sklearn.ensemble import ExtraTreesRegressor\nmodel=ExtraTreesRegressor()\nmodel.fit(X_train,y_train)\nmodel.score(X_test,y_test)","2c73dbd3":"from sklearn.model_selection import RandomizedSearchCV\nn_estimators = [int(x) for x in np.linspace(start = 100, stop = 1200, num = 12)]\nmax_features = ['auto', 'sqrt']\nmax_depth = [int(x) for x in np.linspace(5, 30, num = 6)]\nmin_samples_split = [2, 5, 10, 15, 100]\nmin_samples_leaf = [1, 2, 5, 10]","cba9ab8e":"random_grid = {'n_estimators': n_estimators,\n               'max_features': max_features,\n               'max_depth': max_depth,\n               'min_samples_split': min_samples_split,\n               'min_samples_leaf': min_samples_leaf}\n\nprint(random_grid)\nrf = RandomForestRegressor()","5a4d281c":"rf_random = RandomizedSearchCV(estimator = rf, param_distributions = random_grid,scoring='neg_mean_squared_error', n_iter = 10, cv = 5, verbose=2, random_state=42, n_jobs = 1)\nrf_random.fit(X_train,y_train)","11d79f7e":"rf_random.best_params_","07d5d89a":"predictions=rf_random.predict(X_test)","ad0b3235":"from sklearn import metrics\nprint('MAE:', metrics.mean_absolute_error(y_test, predictions))\nprint('MSE:', metrics.mean_squared_error(y_test, predictions))\nprint('RMSE:', np.sqrt(metrics.mean_squared_error(y_test, predictions)))","17ce14a8":"sns.distplot(y_test-predictions)","29a0a11e":"plt.scatter(y_test,predictions)","63d35572":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:100%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h2 style=\"text-align:center;\">Car Price Prediction<\/h2>\n<\/div>\n","cdef0d12":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:80%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">getting dummies for these categorical columns we can also use df.replace as unique values are less<\/h1>\n\n<\/div>","027533e2":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:80%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">As we can see for every year petrol cars and bike are morefor selling than diesel and CNG<\/h1>\n\n<\/div>","f3af71ce":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:80%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">converting Year column into number of years selling car is old<\/h1>\n\n<\/div>","b0febfea":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:80%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">after hyperparameter tuning for tracking down best parameters<\/h1>\n\n<\/div>","2c21b579":"<center><img src=\"https:\/\/media4.giphy.com\/media\/8L0Pky6C83SzkzU55a\/200w.gif?cid=82a1493bx15abxfxtyh4ezysqxxct9ewk7rtjqafpjvi8bo2&rid=200w.gif&ct=g\"><\/center>","28be110d":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:100%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h3 style=\"text-align:center;\">ExtraTreesRegressor which is an Ensemble model is giving us best accuracy of 97.02%<\/h3>\n\n<\/div>\n<center> <img src=\"https:\/\/blog.hubspot.com\/hubfs\/00-Blog-Related_Images\/Excited_GIF.gif\"><\/center>","faebeac4":"# **IF YOU LIKE THIS NOTEBOOK DO CONSIDER TO UPVOTE IT**","bc997b87":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:100%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">Logistic Regression<\/h1>\n\n<\/div>","a18cb98e":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:100%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">Random Forest Regressor<\/h1>\n\n<\/div>","d12335cc":"\n<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:70%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">All the figures are in lacs minimum selling price is 10,000 and maximum selling price is 35,00,000<\/h1>\n\n<\/div>","7bb98d01":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:100%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">Support vector Machine<\/h1>\n\n<\/div>","1fffe143":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:90%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">Hyperparameter tuning of RandomForestRegressor<\/h1>\n\n<\/div>","b25a135f":"<h3 style=\"text-align:center;\">Challenges You Face While Selling Your Car<\/h3>\n\n<center><img src = \"https:\/\/webcontent.gaadi.com\/content\/images\/2019\/07\/Challenges-you-face-while-selling-your-car---1-.png\"><\/center>\n\n<p>\nSelling your used car is a tough decision to take and once you make your mind to go with it, you are bound to face several challenges. Right from finding the advertising medium to screening the potential buyers and negotiating on the price to transfer of the ownership \u2013 every step in the car selling process is filled with complexities. In order to simplify things for you, we\u2019ve compiled a list of challenges that most of the owners face once they\ndecide to sell their used car.\n\n1) Difference in the expected value and market value\n\nFor everybody, their car is among the best machines in the world and it\u2019s quite natural that you want a good price for it. However, most of the times we fail to acknowledge the rapid depreciation that our cars go through in their lifetime. For instance, it is a fact that after the end of the fourth year, the market value of your car will be around 50% of its original price. Now it might sounds too low for many of us but that doesn\u2019t change this hard fact. Further, the competitive nature of the Indian automobile industry where every now and then new models are launched, the rate of depreciation is becoming even higher. Considering all these facts, we need to be realistic in our approach while setting the price for our used car. For this, we can take the help of experts and should get our car evaluated before selling to have a genuine idea of its worth and market price.\n\n2) How to sell and Whom to Sell\n\nAfter deciding a realistic price, the next big challenge is to take a decision on how to sell your car and whom to sell. There are a number of options through which you can sell your used car \u2013 private selling, selling to a used car outlet, trading-in, etc, with each of the method having its own share of merits and demerits. For example, the probability of getting a good deal is quite high in private selling although the method requires a lot of efforts and time. Besides, selling your car privately also comes with a number of risks. Selling the car to the used car outlet or trading it in is comparatively safe. Therefore, depending on your priorities, you have to make a decision about how to sell your car.\n\nThe answer to who to sell the car depends on how you have decided to sell your car. If you are selling your car privately, you need to advertise on online classifieds and accordingly select the buyers, negotiate, and then finally sell the car. If you have decided to sell to used-car outlets or avail exchange offer, the choice is quite a straight forward. You walk into the store or dealership, negotiate with them on the price and then finally make a deal.\n\n3) Transfer of the ownership\n\nEven after selling your car, challenges are not over as the most important work of transfer of ownership has to be initiated from your side within 14 days of the sale. It is a very daunting task and involves a lot of paperwork and documentation. Now somebody might ask why we should bother about the ownership transfer. The reason is that until and unless the registration certificate (RC) of your vehicle has the name of a new buyer on it, you\u2019ll continue to be held liable for damages caused by the car. This makes the ownership transfer an all-important task to be completed as soon as possible. You have to apply to Regional Transport Office (RTO) for the ownership transfer process and need to submit Form 28, Form 29, and Form 30 along with the RC, valid insurance and pollution under control certificate of the car to authorities. Only when the RC has got the new owner name on it, the car selling process can be assumed to be complete.\n\nIs there any another method to sell my car?\n\nInstead of going through all these challenges, one easy way out there is to sell your car on CarDekho Gaadi. Not only you are assured of getting best deal but also you can sell your car here in a single visit \u2013 saving a lot of time and efforts. Once you agree on the price, the money will be transferred to your account instantly. You also need not bother about the ownership transfer process as they take care of RC transfer without charging any extra fee for it.\n<\/p>","e8ed25b9":"<div style=\"\n           border-radius:20px;\n           font-size:110%;\n           font-family:cursive;\n           letter-spacing:1px;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">CAR PRICE PREDICTION<\/h1>\n<center><img src = \"https:\/\/mir-s3-cdn-cf.behance.net\/project_modules\/max_1200\/c8684078684029.5cac4a000c7e1.gif\"><\/center>","c2ad7552":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:90%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">checking if kilometers driven affect the selling price<\/h1>\n\n<\/div>","be3392c3":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:100%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">Errors<\/h1>\n\n<\/div>","5225439c":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:80%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">listing down how many categorical columns we have and how many unique values they consist<\/h1>\n\n<\/div>","81b07459":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:80%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">plotting corelation between dataset column by using heatmap<\/h1>\n\n<\/div>","2358a0a4":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:100%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">null values<\/h1>\n\n<\/div>\n","9f39b658":"**ploting it on graph for better visualization**","f3743f60":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:100%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">Decision Tree<\/h1>\n\n<\/div>","e314bf44":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:80%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">ploting graph for correlation between dependent and independent column<\/h1>\n\n<\/div>","2bf4ec76":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:90%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">ploting who has more price in transmission type manual and automatic<\/h1>\n\n<\/div>\n\n**we can see automatic cars have higher price as compared to manual car prices although automatic cars are in less quantity**","8499cbf8":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:90%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">taking dependent and inpendent columns into different variables<\/h1>\n\n<\/div>","48827cee":"> <h2>Feel free to suggest any needful changes if possible in order to increase the accuracy<\/h2>","4d473217":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:90%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">Ploting selling price over the period of time<\/h1>\n\n<\/div>\n","2026a9b0":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:80%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">Dropping car name columns as it has many number of unique columns as our dataset is very short<\/h1>\n\n<\/div>","4106a548":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:100%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">Extratree Regressor<\/h1>\n\n<\/div>","bd1e008f":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:80%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">To track down the selling price what is highest and lowest and mean<\/h1>\n\n<\/div>\n","b6b08ce6":"<div style=\"color:white;\n           display:fill;\n           border-radius:30px;\n           font-size:90%;\n           font-family:cursive;\n           letter-spacing:2px;\n           background-color:pink;\n           color:Purple;\n           font-family:cursive\n           \">\n<h1 style=\"text-align:center;\">ploting relationship between selling and present price<\/h1>\n\n<\/div>"}}