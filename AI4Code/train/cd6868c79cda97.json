{"cell_type":{"cf348fac":"code","901cbd2b":"code","ae527bb9":"code","76e73bb1":"code","4692da27":"code","4668e410":"code","4697ec73":"code","bc13931a":"code","e8023e43":"code","45c97f17":"code","2ba39c34":"code","b68a4a22":"code","dea00d78":"code","ce7cff6f":"code","e477c43a":"code","c02e39c3":"code","4bd18b0a":"markdown","ba928be7":"markdown","4a0771b5":"markdown","1c91dd97":"markdown","26c54518":"markdown","7b1f3f85":"markdown","622a3a51":"markdown","0c166613":"markdown","350d110b":"markdown","8316c8cc":"markdown","a0879b40":"markdown","464b55b1":"markdown"},"source":{"cf348fac":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","901cbd2b":"data=pd.read_csv('..\/input\/heart-failure-prediction\/heart.csv')\ndata.head()","ae527bb9":"data.describe(include='all')","76e73bb1":"data.isna().sum()","4692da27":"## almost balanced.\n\n# data['HeartDisease'].value_counts()\n\nfig,ax=plt.subplots(1,1,figsize=(10,10))\nax.bar(x=['1','0'],height=[508,410])\nplt.show()","4668e410":"## jar shape\n\nfig,ax=plt.subplots(1,1,figsize=(10,10))\nsns.kdeplot(data['Age'],shade=True,ax=ax)\nplt.show()","4697ec73":"fig,ax=plt.subplots(1,1,figsize=(10,10))\n\ndf_m=data[data['Sex']=='M']\ndf_f=data[data['Sex']=='F']\n\nsizes=[len(df_m),len(df_f)]\nax.pie(sizes,labels=['M','F'],autopct='%1.1f%%',textprops={'fontsize': 26})\nplt.show()","bc13931a":"fig,ax=plt.subplots(1,1,figsize=(10,10))\nsns.kdeplot(data=data,x='Age',hue='ChestPainType',shade=True)\nplt.show()","e8023e43":"from itertools import combinations as comb\n\ncombi=comb(['RestingBP','Cholesterol','FastingBS','MaxHR','Oldpeak'],2)\n\ncols=list(combi)","45c97f17":"## Cholesterol == 0 why?\n## oldpeak < 0? why?\n## RestingBP == 0 , hmm outlier.\n## maxhr scale ...\n\ncolors=['red' if x=='M' else 'blue' for x in data['Sex']]\n\nfig,ax=plt.subplots(2,5,figsize=(20,10))\n\nfor i,(a,b) in enumerate(cols):\n    ax[i\/\/5,i%5].scatter(data[a],data[b],color=colors)\n    ax[i\/\/5,i%5].set_ylabel(b)\n    ax[i\/\/5,i%5].set_xlabel(a)\nplt.tight_layout()\nplt.show()","2ba39c34":"## ChestPainType : ASY , usaually high probability of HeartDisease.\n## ST_Slope : down , down danger \n## ExerciseAngina : Y , danger.\n\nfrom IPython.display import display\n\ncols=list(comb(['ChestPainType','RestingECG','ExerciseAngina','ST_Slope'],2))\n\nfor a,b in cols:\n    df=pd.pivot_table(data=data,index=a,columns=b,values='HeartDisease')\n    display(df)\n    print('-------------------------------')\n","b68a4a22":"m1=data[data['Cholesterol']==0]['HeartDisease'].mean()\nm2=data[data['Cholesterol']!=0]['HeartDisease'].mean()\nprint(f'in Cholesterol == 0 data , the probability of HeartDisease is {m1:.2%}')\nprint(f'and reverese is {m2:.2%}')","dea00d78":"m1=data[data['Oldpeak']<0]['HeartDisease'].mean()\nm2=data[data['Oldpeak']>=0]['HeartDisease'].mean()\nprint(f'in Oldpeak < 0 data , the probability of HeartDisease is {m1:.2%}')\nprint(f'and reverese is {m2:.2%}')","ce7cff6f":"m1=data[data['MaxHR']<85]['HeartDisease'].mean()\nm2=data[data['MaxHR']>=85]['HeartDisease'].mean()\nprint(f'in MaxHR < 85 data , the probability of HeartDisease is {m1:.2%}')\nprint(f'and reverese is {m2:.2%}')","e477c43a":"## Cholesterol = 0\ndata['Chol=0']=[1 if x==0 else 0 for x in data['Cholesterol']]\n## Oldpeak < 0\ndata['oldp<0']=[1 if x<0 else 0 for x in data['Oldpeak']]\n## MaxHR <85\ndata['mh<85']=[1 if x<85 else 0 for x in data['MaxHR']]","c02e39c3":"## keep going ...\n## modeling or .. ","4bd18b0a":"### target","ba928be7":"## feature engineering","4a0771b5":"### age","1c91dd97":"### categorical & heartdisease","26c54518":"## missing values","7b1f3f85":"## data view","622a3a51":"### sex","0c166613":"### age & ChestPainType","350d110b":"## EDA","8316c8cc":"### numeric cols & sex","a0879b40":"## insight","464b55b1":"## load library"}}