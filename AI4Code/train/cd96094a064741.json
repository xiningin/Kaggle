{"cell_type":{"ba32e5e4":"code","2e658b9e":"code","0654be88":"code","941a28b9":"code","6c9808bd":"code","b2ac2976":"code","640c027d":"code","d121b7c5":"code","13fef479":"code","6c11a11a":"code","aa40c147":"code","21b5bf08":"code","8dfca76e":"code","5c73262e":"code","a831d768":"code","f88b6466":"code","94c2dbdb":"code","ce91ce1e":"code","baf2be43":"code","1d281c71":"code","c382a81a":"code","e8631d31":"code","57bcc40d":"code","28fb3196":"code","de3adb51":"code","b5de8f62":"code","22fb181c":"code","a560ca47":"code","54c07d6e":"code","0ec1b89c":"code","f1c90b19":"code","eba8cd69":"code","d129683b":"markdown","e471e35d":"markdown","00f9e4d4":"markdown","26247a63":"markdown","719fa307":"markdown","6101422b":"markdown","c7831f7c":"markdown","c2a89642":"markdown","688a5fca":"markdown","373582e9":"markdown","d55c697a":"markdown","72ffca18":"markdown","4279c8d5":"markdown","d1a6a2cd":"markdown","6779b7e6":"markdown","c7cdef84":"markdown","49d7457a":"markdown"},"source":{"ba32e5e4":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objs as go\nfrom wordcloud import WordCloud\nimport squarify","2e658b9e":"data = pd.read_csv('..\/input\/groceries-dataset\/Groceries_dataset.csv')\ndata.head()","0654be88":"data.Date = pd.to_datetime(data['Date'])\ndata['year'] = data['Date'].dt.year\ndata['month'] = data['Date'].dt.month\ndata['day'] = data['Date'].dt.day\ndata['day_of_week'] = data['Date'].dt.dayofweek","941a28b9":"data.head()","6c9808bd":"data['itemDescription'].value_counts()","b2ac2976":"x = list(data['itemDescription'].value_counts()[:10].values)\ny = list(data['itemDescription'].value_counts()[:10].index)\n\nplt.figure(figsize=(12,10))\nax=sns.barplot(x=x,y=y, palette=sns.cubehelix_palette(len(x)))\nplt.title('Best Sellers')","640c027d":"x = list(data['itemDescription'].value_counts()[-10:].values)\ny = list(data['itemDescription'].value_counts()[-10:].index)\n\nplt.figure(figsize=(12,10))\nax=sns.barplot(x=x,y=y, palette=sns.color_palette(\"winter_r\"))\nplt.title('Least Sellers')","d121b7c5":"data_year = data.groupby('year')","13fef479":"data_year['itemDescription'].agg(['count'])","6c11a11a":"data_year2014 = data[data['year']==2014]\ndata_year2014['itemDescription'].value_counts()","aa40c147":"x = list(data_year2014['itemDescription'].value_counts()[:10].index)\ny = list(data_year2014['itemDescription'].value_counts()[:10].values)\n\nplt.figure(figsize=(8,10))\nax=sns.barplot(x=y,y=x, palette=sns.cubehelix_palette(len(x)))\nplt.title('Best Sellers(2014)')","21b5bf08":"x = list(data_year2014['itemDescription'].value_counts()[-10:].index)\ny = list(data_year2014['itemDescription'].value_counts()[-10:].values)\n\nplt.figure(figsize=(8,10))\nax=sns.barplot(x=y,y=x,palette=sns.color_palette(\"winter_r\"))\nplt.title('Best Sellers(2014)')","8dfca76e":"data_year2015 = data[data['year']==2015]\ndata_year2015['itemDescription'].value_counts()","5c73262e":"x = list(data_year2015['itemDescription'].value_counts()[:10].index)\ny = list(data_year2015['itemDescription'].value_counts()[:10].values)\n\nplt.figure(figsize=(8,10))\nax=sns.barplot(x=y,y=x, palette=sns.cubehelix_palette(len(x)))\nplt.title('Best Sellers(2015)')","a831d768":"x = list(data_year2015['itemDescription'].value_counts()[-10:].index)\ny = list(data_year2015['itemDescription'].value_counts()[-10:].values)\n\nplt.figure(figsize=(8,10))\nax=sns.barplot(x=y,y=x, palette=sns.color_palette(\"winter_r\"))\nplt.title('Best Sellers(2015)')","f88b6466":"fig = px.sunburst(data, path=['year', 'month', 'day_of_week'],title=\"Dont Forget to Click Chart to Examine Deeply \")\nfig.show()","94c2dbdb":"targets = list(dict(data['itemDescription'].value_counts()).keys())\nvalues = list(dict(data['itemDescription'].value_counts()).values())\n\nfig = px.pie(\n    values=values, \n    names=targets,\n    title='Item Descriptions',\n    color_discrete_sequence=['darkcyan', 'lawngreen']\n)\nfig.show()","ce91ce1e":"plt.figure(figsize = (50, 30))\nsquarify.plot(sizes = data.itemDescription.value_counts().values, alpha = 0.8,\n              label = data.itemDescription.unique(), text_kwargs={'fontsize':18})\nplt.title('Item Description', fontsize = 30)\nplt.axis('off')\nplt.show()","baf2be43":"plt.subplots(figsize=(50,30))\nwordcloud = WordCloud(background_color = 'white',\n                     width=512,\n                     height=384).generate(\"\".join(data['itemDescription']))\n\nplt.imshow(wordcloud)\nplt.axis('off')","1d281c71":"pip install apyori","c382a81a":"from apyori import apriori","e8631d31":"apriori_data = pd.read_csv('..\/input\/groceries-dataset\/Groceries_dataset.csv')\napriori_data.head()","57bcc40d":"apriori_data = apriori_data.groupby(['Member_number','Date'])['itemDescription'].apply(','.join).reset_index()\napriori_data","28fb3196":"apriori_data.itemDescription.iloc[2]","de3adb51":"apriori_data.itemDescription.iloc[2].split(\",\")","b5de8f62":"for i in range(len(apriori_data.itemDescription)):\n    apriori_data.itemDescription[i] = apriori_data.itemDescription[i].split(\",\")","22fb181c":"item_list = list(apriori_data.itemDescription)\nitem_list","a560ca47":"rules = apriori(item_list, min_support = 0.0001, min_confidence= 0.0001)","54c07d6e":"rules","0ec1b89c":"list_rules = list(rules)\nprint(len(list_rules))","f1c90b19":"list_rules[0]","eba8cd69":"results = []\nfor item in list_rules[:100]:\n        pair = item[0]\n        items = [x for x in pair]\n        \n        value_0 = str(items[0])\n        value_1 = str(item[1])[:7]\n        value_2 = str(item[2][0][2])[:7]\n        value_3 = str(item[2][0][3])[:7]\n        \n        rows = (value_0, value_1, value_2, value_3)\n        results.append(rows)\n        \n        col_names = ['Title_1','Support','Confidence','Lift']\n        \n        storage = pd.DataFrame.from_records(results,columns=col_names)\n        \n        print(storage)\n        print(' ')","d129683b":"# Information about Data","e471e35d":"## Contents","00f9e4d4":"https:\/\/github.com\/ymoch\/apyori","26247a63":"## 2015","719fa307":"# General Information","6101422b":"- Information abaut Data\n- Import Libs and Read Data\n- EDA\n- Apriori","c7831f7c":"# EDA","c2a89642":"# Best & Least Sellers","688a5fca":"# Import Libs and Read Data","373582e9":"# Introduction","d55c697a":"# Apriori","72ffca18":"# Best & Least Sellers by year","4279c8d5":"## 2014","d1a6a2cd":"# Item Descriptions","6779b7e6":"![image.png](attachment:image.png)","c7cdef84":"convert link : https:\/\/stackoverflow.com\/questions\/27298178\/concatenate-strings-from-several-rows-using-pandas-groupby","49d7457a":"- Dataset Name : Groceries dataset\n- Dataset Columns : \n- - Member_number\n- - Date\n- - itemDescription"}}