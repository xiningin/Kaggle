{"cell_type":{"ca4b90dc":"code","fd2abdcc":"code","b11ee357":"code","a9cfa568":"code","ee7ad2db":"code","6b027903":"code","e693cf29":"code","f51899ad":"code","5c8cfb0d":"code","3c034a0d":"code","0e030b7d":"code","fdcc4ccc":"code","fb7e77c3":"code","8eff3778":"code","a17176ed":"code","c5215236":"code","4e9ed4b9":"markdown","a0334034":"markdown","be64b5e5":"markdown","5bb142dd":"markdown","53132b29":"markdown","b038b831":"markdown","6a435f30":"markdown","ff6efffc":"markdown","0a99aeeb":"markdown","27f1c6a1":"markdown","96a5c822":"markdown","0758802d":"markdown","072bd069":"markdown","86f329d8":"markdown","6ec9ba24":"markdown","07bfaeba":"markdown"},"source":{"ca4b90dc":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport plotly.express as px\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","fd2abdcc":"df = pd.read_csv('\/kaggle\/input\/hostel-world-dataset\/Hostel.csv')\ndf","b11ee357":"print(len(df))\nprint(df.isna().sum())\ndf.describe()","a9cfa568":"for idx, row in df.iterrows():\n    c = 0\n    if \"km from city centre\" not in row['Distance']:\n        c += 1\nprint(c)","ee7ad2db":"dist = []\nfor d in df['Distance']:\n    dist.append(d.replace('km from city centre',''))\ndist[:5]","6b027903":"del df['Distance']\ndf['Distance'] = dist\ndf.head(5)","e693cf29":"set(df['rating.band'])","f51899ad":"fabulous = df[df['rating.band'] == 'Fabulous']\ngood = df[df['rating.band'] == 'Good']\nrating = df[df['rating.band'] == 'Rating']\nsuperb = df[df['rating.band'] == 'Superb']\nverygood = df[df['rating.band'] == 'Very Good']","5c8cfb0d":"fig = px.box(df, x=\"rating.band\", y=\"summary.score\")\nfig.show()","3c034a0d":"roten = []\nfor idx, row in df.iterrows():\n    if row['rating.band'] is np.nan:\n        roten.append(idx)\ndf_corr = df.drop(roten)","0e030b7d":"import plotly.graph_objects as go\nX = ('Rating', 'Good', 'Very Good', 'Fabulous', 'Superb')\n#X = set(df_corr[\"rating.band\"])\nY = [len(df_corr[df_corr[\"rating.band\"] == x]) for x in X]\nfig = go.Figure([\n    go.Bar(x=X, y=Y)\n])\n\nfig.show()","fdcc4ccc":"fig = px.scatter(df_corr, x=\"Distance\", y=\"summary.score\", color=\"rating.band\")\nfig.show()","fb7e77c3":"fig = px.scatter_3d(df_corr, x=\"atmosphere\", y=\"facilities\", z=\"staff\", color=\"rating.band\")\nfig.show()","8eff3778":"roten = []\nfor idx, row in df_corr.iterrows():\n    if row['lat'] is np.nan or row['lon'] is np.nan:\n        roten.append(idx)\ndf_corr2 = df_corr.drop(roten)","a17176ed":"fig = px.scatter_geo(df_corr2, lat='lat', lon='lon', hover_name='hostel.name', color='rating.band', projection=\"natural earth\", center={'lat':35.42, 'lon':139.43}, scope='asia')\nfig.show()","c5215236":"fig = px.scatter_mapbox(df_corr2, lat='lat', lon='lon', hover_name='hostel.name', color='rating.band', zoom=15)\nfig.show()","4e9ed4b9":"Let's start with some boxplot to see if the \"rating.band\" value depends on the summary score.","a0334034":"## Maps\n\nI am a great fan of folium. But plotly also have function for creating maps, so I am going to try them right now.","be64b5e5":"As we can see, there is no overlap between the boxes, meaning that rating band is a traduction for the summary score in natural language.","5bb142dd":"## Conclusion\n\nPlotly appears to be a powerful tool, that shows very good plots in a very easy way. It is probably the best we can imagine to visualize a dataset. By contrast, I am not convinced at all by the map systems, that looks really poor compared to specialized libraries. So, I will keep using folium to draw my maps.","53132b29":"## Graphs","b038b831":"Most of the hostels are high rated. The better a category, the more hostels it contains.","6a435f30":"No matter how hard I try, the map does not appear, only a kind of legend of the colors.\nMaybe I should use a [graph object](https:\/\/plot.ly\/python\/scattermapbox\/#multiple-markers), but it does not seem that simple, which was a very good point of plotly.","ff6efffc":"Most of the hostels are close to the center of the city. And so there are hostels of each type of quality in such areas. But it is also interesting to note that poorly rated hostels ('Rating'), are mainly close to the center. On the other hand, hostels far from the center are all rated as superb.\nSo maybe, in the center, there are so many customers that, even being bad, you can have some, whereas far from the center, you have to be good to survive.\nOr maybe customers far from the center are in a better mood (holidays vs work)  and so give better notes to the hostel they are standing.","0a99aeeb":"Now, let's look at the number of hostels in each category.","27f1c6a1":"Now, let's look if rating are quite equivalent in each category for a given hostel. We will focus on \"atmosphere\", \"facilities\" and \"staff\" values and plot them in a 3D scatter.","96a5c822":"Does the quality of a hostel depends on its distance to the center. Let's look at it.","0758802d":"I suggest you turn and zoom on the plot to have a better understanding of it. If the rating were equivalent, points would placed along a line. This is almost the case on best scores, but not for the \"Rating\" hostels. Some look very bad rated, but there is also a point, for example, where staff has the best rate (10) whereas facilities and atmosphere received a 2. There are some other points from other categories, lost in the plan where staff = 10, that indicate hostels where staff was really appreciated while the \"material\" part of the hostel was more disappointing.","072bd069":"Let's transform the values in the \"Distance\" column in digital values.","86f329d8":"The purpose of this notebook is to see what can be done with [plotly](https:\/\/plot.ly\/python\/), as I am a beginner with this library.","6ec9ba24":"### Conclusion on 1st part\n\nI am quite impressed by how easy it is to plot with plotly. All of my plots requiring only columns of the dataset were done in one line (plus fig.show()). The possibility to assign the columns directly to the different aspects of figure is pretty convenient. It is a bit longer when you have to transform some of the data beforehand, but it is still OK. I appreciate to have info when I pass the mouse pointer on the figure.","07bfaeba":"Well, the map is absolutely ugly, and really not convenient, as the scope is limited to a continental view. So a manual zoom on Japan is required."}}