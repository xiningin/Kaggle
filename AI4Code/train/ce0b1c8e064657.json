{"cell_type":{"99d45175":"code","3f7d0750":"code","29645a26":"code","04ac09e1":"code","de4af2db":"code","0a198a0d":"code","7efa1cb4":"code","8410b06f":"code","b75f6db4":"code","689d46c0":"code","86eb816f":"code","6e7e3384":"code","b7f5d4d9":"code","0432cce7":"code","b0c2ce6e":"code","ed776531":"code","9a6ba1d2":"code","16f62767":"code","0c35e162":"code","8b634c57":"markdown","e8788038":"markdown","a2cb5156":"markdown","7a6015cd":"markdown","45010d81":"markdown","5ba26772":"markdown","8525fe0e":"markdown","b3f7b1eb":"markdown","80df6b7a":"markdown"},"source":{"99d45175":"import seaborn as sns\nimport warnings\nimport numpy as np\nimport pandas as pd \nimport os\nwarnings.filterwarnings('ignore')","3f7d0750":"\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","29645a26":"data = pd.read_csv('\/kaggle\/input\/youtube-new\/USvideos.csv', parse_dates=['trending_date','publish_time'])\ndata.head(3)","04ac09e1":"data.info()","de4af2db":"import re\n\ndata['trending_date'] = data['trending_date'].apply(lambda x:re.sub('\\.','-',x))\ndata['trending_date'] = pd.to_datetime(data['trending_date'], format=\"%y-%d-%m\")","0a198a0d":"sum(data.duplicated())","7efa1cb4":"data = data.drop_duplicates()","8410b06f":"group_by_video_id = data.groupby(by=['video_id','title','channel_title']).agg('count')\nmost = group_by_video_id.sort_values(ascending=False, by='trending_date')[['trending_date']]\n\nmost.head(10).style.set_properties(**{'background-color': 'khaki'})","b75f6db4":"x = data['views'].min()\ndata.query(\"views == @x\").style.set_properties(**{'background-color': 'khaki'}, subset=['views'])","689d46c0":"pd.pivot_table(\n    data,\n    index=['title','channel_title'],\n    values=['views'],\n    aggfunc='max'\n).sort_values(by='views', ascending=False).head(10).style.background_gradient(\n                                                    sns.light_palette('khaki', as_cmap=True))","86eb816f":"temp = data[['likes','views','title','channel_title']]\ntemp['likes\/views'] = temp['likes']\/temp['views']\ntemp.sort_values(by='likes\/views', ascending=False).head(10).style.background_gradient(sns.light_palette('khaki', as_cmap=True), subset=['likes\/views'])","6e7e3384":"data['tags'][:10]","b7f5d4d9":"tags = data['tags'].str.strip().str.upper()\ntags = tags.apply(lambda x: re.sub(\"[\\.\\\"\\']\", '',x).split('|'))\ntags = tags.explode()\n\ntags.value_counts()","0432cce7":"temp = data.iloc[:,:7].copy()\ntemp['period'] = data['trending_date'].dt.date - data['publish_time'].dt.date\n\nperiod_till_trending = pd.pivot_table(temp, index=['video_id','title','channel_title'], values='period', aggfunc='min')\nperiod_till_trending.sort_values(by='period', ascending=False).head(10)","b0c2ce6e":"import json\nfrom collections import defaultdict \n\nwith open('\/kaggle\/input\/youtube-new\/US_category_id.json') as json_file:\n    category = json.load(json_file)\n\n    \ncat = defaultdict(int)\nfor i in range(len(category['items'])):\n    cat[category['items'][i]['id']] = category['items'][i]['snippet']['title']\n","ed776531":"cat_df = pd.DataFrame({'category_id':cat.keys(), 'category':cat.values()})\ncat_df['category_id'] = cat_df['category_id'].astype('int64')","9a6ba1d2":"data_2 = data.copy()\n\ntemp_1 =pd.pivot_table(data_2.drop_duplicates(subset=['video_id']), index='category_id', values='video_id', aggfunc='count')\\\n        .sort_values(by='video_id', ascending=False)\n\ncategory_n = temp_1.merge(cat_df, left_index=True, right_on='category_id').rename(columns={'video_id':'count'})\n","16f62767":"category_n[['category','count']].set_index('category')\\\n    .style.background_gradient(sns.light_palette('khaki', as_cmap=True), subset=['count'])","0c35e162":"musics = data.query(\"category_id == 10\")\n\ndf = musics.groupby(by='channel_title').agg('count').sort_values('video_id', ascending=False)[['video_id']]\n\ndf.head(10) #.style.bar(color='#d65f5f')","8b634c57":"#  3) What is the VDO with the most views?","e8788038":"# 4) What is the highest like-per-view ratio?","a2cb5156":"# 2) What is the minimum views to get trending?","7a6015cd":"# 0) Preprocessing","45010d81":"# 1) What is the VDO with highest days in trending?","5ba26772":"# 8) Like statistics of \u201cMusic\u201d category over time?","8525fe0e":"# 7) How each category trending in term of number of videos?","b3f7b1eb":"# 5) What is the most frequent tags being used?\n","80df6b7a":"# 6) Which VDO does take the longest time to be trending? \n"}}