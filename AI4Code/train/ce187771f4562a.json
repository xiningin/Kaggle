{"cell_type":{"60702ca5":"code","11b3d853":"code","d8254d1e":"code","d053174e":"code","6c3c175b":"code","ca1bb8e2":"code","38d32948":"code","69163554":"code","359bceeb":"code","2c29306b":"code","60ee665b":"markdown","eea616c6":"markdown","ff00f01b":"markdown","aac4c40c":"markdown","0c4744f3":"markdown","213d580b":"markdown","d39c9334":"markdown","66695e00":"markdown","eae87c9e":"markdown","74c8c7e9":"markdown","c451a72f":"markdown","0b868e3d":"markdown"},"source":{"60702ca5":"import pandas as pd\nimport matplotlib.pyplot as plt\nnba = pd.read_csv('..\/input\/nba-players-data\/all_seasons.csv')","11b3d853":"nba.head(10)","d8254d1e":"nba.dtypes","d053174e":"nba.isnull().sum()","6c3c175b":"list(nba.country.unique())","ca1bb8e2":"def not_us (country):\n    country_dict = {\n        'USA':'1',\n        'Jamaica':'0',\n        'Serbia and Montenegro':'0',\n        'Ukraine':'0',\n        'Canada':'0',\n        'Croatia':'0',\n        'Lithuania':'0',\n        'Nigeria':'0',\n        'Congo':'0',\n        'St. Vincent & Grenadines':'0',\n        'US Virgin Islands':'1',\n        'France':'0',\n        'Slovenia':'0',\n        'Dominican Republic':'0',\n        'Germany':'0',\n        'Georgia':'0',\n        'New Zealand':'0',\n        'Belize':'0',\n        'England':'0',\n        'Argentina':'0',\n        'U.S. Virgin Islands':'1',\n        'Greece':'0',\n        'Senegal':'0',\n        'China':'0',\n        'Turkey':'0',\n        'Finland':'0',\n        'Mali':'0',\n        'Puerto Rico':'1',\n        'Mexico':'0',\n        'Yugoslavia':'0',\n        'Serbia':'0',\n        'Spain':'0',\n        'Venezuela':'0',\n        'Haiti':'0',\n        'Russia':'0',\n        'Ireland':'0',\n        'Brazil':'0',\n        'Scotland':'0',\n        'Poland':'0',\n        'Netherlands':'0',\n        'Czech Republic':'0',\n        'Montenegro':'0',\n        'United Kingdom':'0',\n        'Democratic Republic of the Congo':'0',\n        'Latvia':'0',\n        'South Korea':'0',\n        'Uruguay':'0',\n        'Sudan (UK)':'0',\n        'Australia':'0',\n        'USSR':'0',\n        'Italy':'0',\n        'Switzerland':'0',\n        'Gabon':'0',\n        'Cameroon':'0',\n        'Iran':'0',\n        'Israel':'0',\n        'Sweden':'0',\n        'Tanzania':'0',\n        'Panama':'0',\n        'Bosnia':'0',\n        'Great Britain':'0',\n        'Macedonia':'0',\n        'Bosnia & Herzegovina':'0',\n        'Cabo Verde':'0',\n        'Tunisia':'0',\n        'South Sudan':'0',\n        'Bahamas':'0',\n        'Ghana':'0',\n        'Austria':'0',\n        'Bosnia and Herzegovina':'0',\n        'Egypt':'0',\n        'Japan':'0',\n        'Trinidad and Tobago':'0',\n        'DRC':'0',\n        'Sudan':'0',\n        'Angola':'0',\n        'Saint Lucia':'0',\n        'Republic of the Congo':'0',\n        'Guinea':'0'\n    }\n    try:\n        return country_dict[country]\n    except KeyError:\n        return '?'\n\nnba['country'] = nba.country.apply(not_us)\nnba['country'].astype(int)\nnba.head()","38d32948":"nba_group_by_season = nba[['season', 'country', 'player_name']].groupby(['season','country']).count()\nnba_group_by_season.plot(kind='bar')\nplt.xlabel('Season')\nplt.ylabel('# of players from the US and Abroad')\nplt.title('Player Composition by Year');\n","69163554":"#nba_group_by_season = nba[['season', 'country', 'player_name']]\n#nba_group_by_season[['season','country']].value_counts().sort_index().tail(20).plot(kind='bar')","359bceeb":"nba['old_metric'] = nba['pts']+nba['age']\nnba.head()","2c29306b":"old_stars = nba[['season','old_metric','player_name']]\nold_stars.sort_values('old_metric',ascending=False).head(20)","60ee665b":"Thank you!","eea616c6":"And let's see if we have any nulls or gaps in the data:","ff00f01b":"And wow, this is a great data set. Let's get to work!!","aac4c40c":"And now the country column is a simple yes\/no if someome was from the US.","0c4744f3":"Now that we have a metric to use, lets sort the data by the 'old_metric' and see if my theory is true.","213d580b":"To celebrate Giannis winning the title last year and Jokic winning the MVP, I wanted to examine the prevalence of foreign players in the NBA over the last 20 years. Back in the 1990s there were seasons with less than 10 players who were born outside the United States.","d39c9334":"My second theory in honor of Lebron James being about to break the record for most minutes played in the NBA, is that players are increasingly more sucessful at having longer careers playing at a high level. To test that theory, I created a metric from the data set called the 'old_metric' that adds the points a player scored in a given season to their age. For example, last year Lebron's 'old_metric' was 61.0 (35 years old and 26 point per game). ","66695e00":"---------","eae87c9e":"What we see here are a couple things, 1. Michael Jordan and Karl Malone were amazing and played well at a late age. BUT there are a few new players that are challenging the ageless wonders. Lebron James has posted 4 of the top 20 'old_metric' seasons and is still playing. This year (at age 36) he would need to average 24 pts to post another season into the top 20. The other insight, is that James Harden and Steph Curry (32 and 33 repectively) are now threats to enter this club. ","74c8c7e9":"And what the data types are:","c451a72f":"To do a better analysis of how many players were not from the US, I first looked at the country data to see if it needed to be cleaned up. What I found was that some places were there twice and the data had Puerto Rico and the U.S. Virgin Islands as separate from the US. To make life simpler, I created a mapping dictionary and ran that on the data.","0b868e3d":"Now that the data is imported, let's take a look at the data:"}}