{"cell_type":{"3bf38c2e":"code","e4c6db91":"code","fa857c42":"code","710e8024":"code","71aa36f5":"code","ad59436b":"code","f23a2c4b":"code","0a207fa7":"code","2b2966cd":"code","d5002c0f":"code","dbae2b49":"code","81b54fd1":"code","ad492b0e":"code","9161d5d7":"code","8fc1660d":"code","16316daa":"code","91b50de7":"code","a3247aaf":"code","70f6cfae":"code","da247268":"code","6b200129":"code","eea0d7b2":"code","c788a787":"code","416f8992":"code","c547dc17":"code","20161ca8":"code","76a64cb1":"code","1d6b8023":"code","2edf4776":"code","72367f9e":"code","5da08207":"code","2a7e3c85":"code","4a4236cd":"code","bbc1b9ea":"code","53e63f81":"code","5b54c35f":"code","bd286545":"code","81c602ef":"code","40aebe46":"code","15a9378f":"code","206262aa":"code","27ef4318":"code","31daac5c":"code","d411341d":"code","f3086e1a":"code","fd30ddba":"code","44c5946c":"code","6dd843b2":"code","7bb831d4":"code","8bf66917":"code","29f4d976":"code","5019469d":"code","f46807d8":"code","3bee3789":"code","9233e9fd":"code","8511bc99":"code","172c4a54":"code","16df42ac":"code","ce9b0af9":"code","a1cbea24":"code","ada3033d":"code","2d42ee87":"code","df853323":"markdown","165bedd8":"markdown","39963187":"markdown","8329a56a":"markdown","8f9d54f7":"markdown","02a5531f":"markdown","19ad57e6":"markdown","8cdaf4cb":"markdown","219189bf":"markdown","abb9b73b":"markdown","a3c13d51":"markdown","3272e300":"markdown","817a37a8":"markdown","db100b69":"markdown","e4e5d26f":"markdown","d498fd51":"markdown","feeacc97":"markdown","fa48f0ba":"markdown","b066fbff":"markdown","2ff93d13":"markdown","75ff1ab2":"markdown","90bb49a1":"markdown","06ac6d58":"markdown","e3bc3e41":"markdown","a6ed4296":"markdown","a9a3f3a6":"markdown","276fc65a":"markdown","2d4aca74":"markdown","6fb07570":"markdown","35a8d72f":"markdown","c0cf5777":"markdown","5c956697":"markdown","6dc7d7ed":"markdown","6ce375bf":"markdown"},"source":{"3bf38c2e":"import numpy as np \nimport pandas as pd \nimport os\nimport seaborn as sns\nfrom sklearn import preprocessing \nfrom scipy import stats\nfrom sklearn.preprocessing import StandardScaler\nfrom scipy.stats import pearsonr \nimport matplotlib.pyplot as plt\n%matplotlib inline","e4c6db91":"#!pip install plotly\n#!pip install cufflinks","fa857c42":"from plotly import __version__\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\n\nimport cufflinks as cf\ninit_notebook_mode(connected=True)\ncf.go_offline()","710e8024":"df = pd.read_csv('..\/input\/indian-liver-patient-records\/indian_liver_patient.csv')\ndf.head(3) # dataframe snapshot","71aa36f5":"df.columns #list of dataframe's columns","ad59436b":"df.shape","f23a2c4b":"df.rename(columns = {'Dataset':'liver_disease'}, inplace=True)","0a207fa7":"df.info()","2b2966cd":"df.iloc[:,:-1].describe()","d5002c0f":"sns.heatmap(df.isnull(),yticklabels=False,cbar=False,cmap='viridis')","dbae2b49":"df.isnull().sum()","81b54fd1":"df.fillna('?', inplace = True)","ad492b0e":"df[df[\"Albumin_and_Globulin_Ratio\"] == '?']","9161d5d7":"df_without_missing = df[df[\"Albumin_and_Globulin_Ratio\"] != '?']","8fc1660d":"df_without_missing_class_1 = df_without_missing[df_without_missing['liver_disease'] == 1]\nmean_dataset_class_1 = round(df_without_missing_class_1[df_without_missing_class_1['liver_disease'] == 1]['Albumin_and_Globulin_Ratio'].mean(),1)","16316daa":"print('mean value of Albumin_and_Globulin_Ratio in class 1: {}'.format(mean_dataset_class_1))","91b50de7":"df_without_missing_class_2 = df_without_missing[df_without_missing['liver_disease'] == 2]\nmean_dataset_class_2 = round(df_without_missing_class_2[df_without_missing_class_2['liver_disease'] == 2]['Albumin_and_Globulin_Ratio'].mean(),1)\nprint('mean value of Albumin_and_Globulin_Ratio in class 2: {}'.format(mean_dataset_class_2))","a3247aaf":"df[df[\"Albumin_and_Globulin_Ratio\"] == '?']","70f6cfae":"df['Albumin_and_Globulin_Ratio'][209] = mean_dataset_class_1\ndf['Albumin_and_Globulin_Ratio'][241] = mean_dataset_class_1\ndf['Albumin_and_Globulin_Ratio'][253] = mean_dataset_class_2\ndf['Albumin_and_Globulin_Ratio'][312] = mean_dataset_class_2","da247268":"df['liver_disease'] = df['liver_disease'].replace(2,0)","6b200129":"df['liver_disease'] = df['liver_disease'].astype('category')","eea0d7b2":"df['liver_disease'].value_counts()","c788a787":"df['Albumin_and_Globulin_Ratio'] = df['Albumin_and_Globulin_Ratio'].astype('float')","416f8992":"plt.figure(figsize=(7,5.5))\nsns.countplot(x = 'liver_disease', data = df, palette='Set3')\nplt.xticks(ticks = [0,1], labels = ['negative', 'positive']) \nplt.show()","c547dc17":"patients_with = df['liver_disease'].value_counts().to_frame().iloc[0]\npatients_without = df['liver_disease'].value_counts().to_frame().iloc[1]\nprint(f'{int(patients_with)} patients diagnosed with liver disease')\nprint(f'{int(patients_without)} patients not diagnosed with liver disease')","20161ca8":"v_c_dataset = df['liver_disease'].value_counts(normalize = True).to_frame()\nv_c_dataset.iloc[0] = round(v_c_dataset.iloc[0] * 100, 2)\nv_c_dataset.iloc[1] = round(v_c_dataset.iloc[1] * 100, 2)\nv_c_dataset.rename(columns = {'liver_disease':'percentage'}, inplace = True)","76a64cb1":"v_c_d = df['liver_disease'].value_counts().to_frame()\nv_c_d.rename(columns = {'liver_disease':'actual_num'}, inplace=True)\nliver = pd.concat([v_c_dataset, v_c_d], axis = 1)","1d6b8023":"liver","2edf4776":"sns.countplot(x='Gender',data=df, palette=\"Set3\")\nplt.title('Count of each gender')\nplt.show()","72367f9e":"gender_num = df['Gender'].value_counts().to_frame()\ngender_num.rename(columns = {'Gender':'gender_num'}, inplace  = True)\ngender_perc = df['Gender'].value_counts(normalize = True).to_frame()\ngender_perc.iloc[0] = round(gender_perc.iloc[0] * 100,2)\ngender_perc.iloc[1] = round(gender_perc.iloc[1] * 100,2)\ngender_perc.rename(columns = {'Gender':'gender_percentage'},inplace = True)","5da08207":"gender = pd.concat([gender_num, gender_perc], axis = 1)","2a7e3c85":"gender","4a4236cd":"df['Age'].describe()","bbc1b9ea":"df['Age'].iplot(kind = 'hist', color = 'red', xTitle = 'Age', yTitle = 'Frequence', title = 'Age-Distribution')","53e63f81":"plt.figure(figsize = (8,6))\nsns.boxplot(x = 'Gender', y = 'Age', hue = 'liver_disease', data = df, palette='Set3')\nplt.title('Gender and Age with and without liver disease')\nplt.show()","5b54c35f":"male_age_des = df[df['Gender'] == 'Male'][['liver_disease','Age']]\nprint('male mean age diagnosed with or without liver disease')\nmale_age_des.groupby('liver_disease')['Age'].median().to_frame()","bd286545":"female_age_des = df[df['Gender'] == 'Female'][['liver_disease','Age']]\nprint('female mean age diagnosed with or without liver disease')\nfemale_age_des.groupby('liver_disease')['Age'].median().to_frame()","81c602ef":"print('percentage of positive women: {} %'.format(round(1-50\/92,2)*100))\nprint('percentage of positive men: {} %'.format(round(1-117\/324,2)*100))","40aebe46":"df['Total_Bilirubin'].iplot(kind = 'hist', color = 'red', xTitle = 'Total_Bilirubin', yTitle = 'Frequency')","15a9378f":"plt.figure(figsize = (10,6))\nsns.boxplot(x = 'Gender', y = 'Total_Bilirubin',hue = 'liver_disease', data = df, palette = 'Set3')\nplt.ylim(0,40)\nplt.show()","206262aa":"sns.set_theme()\nsns.lmplot(x='Direct_Bilirubin',y='Total_Bilirubin',data=df)\nplt.title('Corellation between Total Bilirubin & Direct Bilirubin')\nplt.show()","27ef4318":"corr, p_value = pearsonr(df['Total_Bilirubin'], df['Direct_Bilirubin']) \nprint('Pearsons correlation between Total Bilirubin & Direct Bilirubin: %.3f' % corr +' and p-value: {}'.format(p_value) ) ","31daac5c":"df['Alamine_Aminotransferase'].iplot(kind='hist', color = 'red', xTitle = 'Alamine_Aminotransferase', yTitle = 'Frequency', title = 'Distribution of enzyme Alamine_Aminotransferase')","d411341d":"df['Aspartate_Aminotransferase'].iplot(kind='hist', color = 'red', xTitle = 'Aspartate_Aminotransferase', yTitle = 'Frequency', title = 'Distribution of Enzyme Aspartate_Aminotransferase')","f3086e1a":"sns.lmplot(x='Alamine_Aminotransferase',y='Aspartate_Aminotransferase',data=df)\nplt.title('Correlation between Alamine_Aminotransferase & Aspartate_Aminotransferase')\nplt.xlim(0,250)\nplt.ylim(0,250)\nplt.show()","fd30ddba":"coor, p_value = pearsonr(df['Alamine_Aminotransferase'], df['Aspartate_Aminotransferase']) \nprint('Pearsons correlation: %.3f' % coor + 'and p-value: {}'.format(p_value)) ","44c5946c":"plt.figure(figsize = (10,6))\nsns.scatterplot(x='Albumin_and_Globulin_Ratio',y='Albumin',hue = 'liver_disease',data=df, palette='Set2')\nplt.show()","6dd843b2":"sns.lmplot(x='Albumin_and_Globulin_Ratio',y='Albumin',data=df, palette='Set2')\nplt.show()","7bb831d4":"coor, p_value = pearsonr(df['Albumin'], df['Albumin_and_Globulin_Ratio']) \nprint('Pearsons correlation: %.3f' % coor + \"and p-value: {}\".format(p_value)) ","8bf66917":"df['Total_Protiens'].iplot(kind = 'hist', color = 'red', xTitle = 'Total Proteins', yTitle = 'Frequency', title = 'Distribution of Total Proteins')","29f4d976":"plt.figure(figsize = (13,6))\nsns.scatterplot(x='Albumin',y='Total_Protiens',hue = 'liver_disease',data=df, palette='Set2')\nplt.show()","5019469d":"sns.lmplot(x = 'Albumin', y = 'Total_Protiens', data = df)\nplt.show()","f46807d8":"coor, _ = pearsonr(df['Total_Protiens'], df['Albumin']) \nprint('Pearsons correlation: %.3f' % coor) ","3bee3789":"sns.lmplot(x = 'Total_Protiens', y = 'Albumin_and_Globulin_Ratio', data = df)","9233e9fd":"coor, _ = pearsonr(df['Total_Protiens'], df['Albumin_and_Globulin_Ratio']) \nprint('Pearsons correlation: %.3f' % coor) ","8511bc99":"df['Alkaline_Phosphotase'].iplot(kind = 'hist', color = 'red', xTitle = 'Alkaline_Phosphotase', yTitle = 'Frequency', title = 'Distribution of Alkaline Phosphotase')","172c4a54":"plt.figure(figsize=(10,5))\nsns.scatterplot(x = 'Age', y  = 'Alkaline_Phosphotase', data = df, hue = 'liver_disease', palette='Set1')\nplt.show()","16df42ac":"plt.figure(figsize=(10,5))\nsns.scatterplot(x = 'Age', y  = 'Alkaline_Phosphotase', data = df, hue = 'Gender', palette='Set1')\nplt.show()","ce9b0af9":"sns.set_theme()\nfig, axs = plt.subplots(2, 2, figsize=(7,7))\naxs[0][0].hist(x = df['Age'])\naxs[0][0].set_title('Age')\n\naxs[0][1].hist(x = df['Gender'])\naxs[0][1].set_title('Gender')\n\naxs[1][0].hist(x = df['Total_Bilirubin'], bins = 30)\naxs[1][0].set_title('Total_Bilirubin')\n\naxs[1][1].hist(x = df['Direct_Bilirubin'], bins = 30)\naxs[1][1].set_title('Direct_Bilirubin')\n#axs[2][0].hist(x = df['Alkaline_Phosphotase'])\nfig.tight_layout()\nplt.show()","a1cbea24":"sns.set_theme()\nfig, axs = plt.subplots(2, 2, figsize=(7,7))\naxs[0][0].hist(x = df['Alkaline_Phosphotase'])\naxs[0][0].set_title('Alkaline Phosphotase')\n\naxs[0][1].hist(x = df['Alamine_Aminotransferase'], bins = 30)\naxs[0][1].set_title('Alamine Aminotransferase')\naxs[0][1].set_xlim(0,600)\n\naxs[1][0].hist(x = df['Aspartate_Aminotransferase'], bins = 20)\naxs[1][0].set_title('Aspartate Aminotransferase')\naxs[1][0].set_xlim(0,1500)\n\naxs[1][1].hist(x = df['liver_disease'])\naxs[1][1].set_title('liver disease')\n\nfig.tight_layout()\nplt.show()","ada3033d":"fig, axs = plt.subplots(1, 3, figsize=(10,5))\naxs[0].hist(x = df['Total_Protiens'])\naxs[0].set_title('Total Proteins')\n\naxs[1].hist(x = df['Albumin'])\naxs[1].set_title('Albumin')\n\naxs[2].hist(x = df['Albumin_and_Globulin_Ratio'])\naxs[2].set_title('Albumi Globulin Ratio')\nfig.tight_layout()\nplt.show()","2d42ee87":"df.to_csv('teliko.csv', index_label = False)","df853323":"Mean value for feature Albumin_and_Globulin_Ratio for class 2 (negative)","165bedd8":"Despite the small percentage of missing values in the dataset, we are going to replace them with *class mean*. We will find the mean class value of each missing value and we will use it to replace it.","39963187":"The youngest patient is 4 years old, and the oldest 90 years old. By checking percentiles, min and max values we can conclude that *Age*   can be approached with the normal distribution. We use cufflinks to represent the distribution of Age.","8329a56a":"Mean value calculation for Albumin_and_Globulin_Ratio feature for class 1 (positive)","8f9d54f7":"Most values of Total Bilirubin are in the range [0,5]. From the graph above this feature seems to have some outliers. ","02a5531f":"The is a slight positive correlation\n### Alkaline Phosphotase\n Alkaline Phosphotase (Alkaline Phospatase \u2013 ALP) is a homodimeric protein enzyme","19ad57e6":"There is only a small percentage of missing values in the dataset. Also, only the feature *Albumin_and_Globulin_Ratio* contains missing values. We will replace missing values with '?'","8cdaf4cb":"Higher-than-normal ALP levels for your age and sex may not necessarily mean you have a problem. (Children and teens naturally have higher levels than adults because their bones are still developing) [[6]](http:\/\/www.webmd.com\/digestive-disorders\/alkaline_phosphatase_test#2).","219189bf":"### Putting it all together\nThere is a strong correlation between:\n* Direct Bilirubin & Total Bilirubin \n* Total_Protiens & Albumin \n* Alamine_Aminotransferase& Aspartate_Aminotransferase \n* Albumin and Globulin Ration and Albumin \n\n\ud83d\udc89","abb9b73b":"### Total Proteins & Albumin","a3c13d51":"### live_disease - Gender - Age\nWe use visualization techniques in order to check for possible relations relations between *Age*, *Gender* and target variable.","3272e300":"There is a positive corellation between Albumin and Globulin Ratio & Albumin (about 68.6%)\n### Total Proteins\nThe total protein test measures the total amount albumin and globulin in your body. t may also be used if you have unexpected weight loss, fatigue, or the symptoms of a kidney or liver disease. This test will also look at the ratio of albumin to globulin in your blood. This is known as the \u201cA\/G ratio.\u201d [[5]](https:\/\/www.healthline.com\/health\/total-protein#purpose). ","817a37a8":"## Import the csv file","db100b69":"### install some useful packages","e4e5d26f":"### ~ end of preprocessing ~ \n\n## Exploratory Data Analysis (EDA)","d498fd51":"The dataset contains 583 instances, 8 biological parameters, 2 demographic paramenters (Age and Gender) and 1 target value. Target value \"Dataset\" contains 1 for positive cases and 2 for negative cases. ","feeacc97":"### Descriptive Statistics\nIn the dataframe below we can see some fundamental statistical measures such as: mean, std, min, max, quantiles ect.","fa48f0ba":"Replace missing values","b066fbff":"### Albumin and Globulin Ratio & Albumin\nTwo classes of proteins are found in the blood, albumin and globulin.\n\nAlbumin is made by the liver and makes up about 60% of the total protein. Albumin keeps fluid from leaking out of blood vessels, nourishes tissues, and transports hormones, vitamins, drugs, and substances like calcium throughout the body.\n\nGlobulins make up the remaining 40% of proteins in the blood. The globulins are a varied group of proteins, some produced by the liver and some by the immune system. They help fight infection and transport nutrients [[3]](https:\/\/labtestsonline.org\/tests\/total-protein-albumin-globulin-ag-ratio).\n\nAlbumin (or albumin) is one of the two major protein fractions in the blood. Its main functions are to maintain bulking pressure and to transport bilirubin, fatty acids, drugs, hormones and other substances that are insoluble in water. Proteins are normally absorbed almost completely by the kidneys and are practically undetectable in the urine. Therefore, the presence of detectable albumin or protein in the urine is indicative of abnormal renal function [[4]](https:\/\/athenslab.gr\/diagnostikes-exetaseis\/alvoumini-32).\n\n","2ff93d13":"All the independent variables are numerical, except from Gender attribute with is categorical.","75ff1ab2":"From the dataframe above we can understand that our dataset is unbalanced. Most of the cases are positive (about 71%). This fact may affect classification models.\n\n### Gender feature\ngender feature contains exactly 2 values, *Male* and *Female*","90bb49a1":"### liver_disease target-value\ncountplot implementation","06ac6d58":"### Age & Alkaline_Phosphotase","e3bc3e41":"The concentration of Total Bilirubin in the blood is higher in males (especially in ill men) than in women. Also, there are outliers, mainly on positive cases.","a6ed4296":"**Conclusion:** Gender seems to affect the final diagnosis. Also, age affects the diagnosis but not in the same extend as gender.\n### Total Bilirubin & Direct Bilirubin\n\nA bilirubin test measures the amount of **total bilirubin** in your blood. It\u2019s used to help find the cause of health conditions like jaundice, anemia, and liver disease. If your bilirubin levels are higher than normal, it\u2019s a sign that either your red blood cells are breaking down at an unusual rate or that your liver isn\u2019t breaking down waste properly and clearing the bilirubin from your blood. [[1]](https:\/\/www.webmd.com\/a-to-z-guides\/bilirubin-test)\n\nA bilirubin test measures total bilirubin. It can also give levels of two different types of bilirubin: unconjugated and conjugated.\n\n* For adults over 18, normal total bilirubin can be up to 1.2 milligrams per deciliter (mg\/dl) of blood. \n* For those under 18, the normal level will be 1 mg\/dl. Normal results for conjugated (direct) bilirubin should be less than 0.3 mg\/dl. Men tend to have slightly higher bilirubin levels than women [[1]](http:\/\/www.webmd.com\/a-to-z-guides\/bilirubin-test)","a9a3f3a6":"## India Liver Patient Dataset (ILDP)\n\n### Part (1\/5): Descriptive Statistics and Visualization\n\nOn these notebooks (5 total) we analyze Indian Liver Disease dataset which is publicly available on[ UCI Machine Learning Repository](http:\/\/archive.ics.uci.edu\/ml\/datasets\/ILPD+%28Indian+Liver+Patient+Dataset%29). The first notebook contains some basic descriptive statistic techniques and some Exploratory Data Analysis, as well.  \n## Import the modules","276fc65a":"## Correlation between Total Bilirubin & Direct Bilirubin\nDirect Bilirubin is part of Total Bilirubin so we suppose that they are not independent.","2d4aca74":"Gender feature is unbalanced. About 76% of the whole cases are male patients\n### Age feature","6fb07570":"There is a positive, strong correlation between these two features of our dataset. We can confirm it by taking into consideration pearson's correlation(about 87.5%) and p-value which is <<0.001.\n### Alamine Aminotransferase & Aspartate Aminotransferase\n\nAspartate Aminotransferase (AST), is a pyridoxal phosphate (PLP)-dependent transaminase enzyme. AST is found in the liver, heart, skeletal muscle, kidneys, brain, and red blood cells. Serum AST level, serum ALT (alanine transaminase) level, and their ratio (AST\/ALT ratio) are commonly measured clinically as biomarkers for liver health [[2]](https:\/\/gpnotebook.com\/simplepage.cfm?ID=322240579).\n\nAspartate Aminotransferase\n\n* female 6-34 IU\/L\n\n* male 8-40 IU\/L\n\n","35a8d72f":"## Missing values ","c0cf5777":"The presence or absence of the liver disease does not seem to be influenced by gender, ie each gender has relatively \"shared\" positive and negative cases. However, it is worth saying that both in women and men cases, the avarage age of positive diagnosed is higher than the avarage age of negative diagnosed.","5c956697":"Taking into consideration the plot above and the pearson's correlation between Alamine Aminotransferase & Aspartate Aminotransferase, we conclude that there is a high, positive corellation  (about 79.2%)","6dc7d7ed":"### Total Proteins & Albumin_and_Globulin_Ratio","6ce375bf":"Replace values of *liver_disease* target value. \n* 0 ---> liver disease negative class\n* 1 ---> liver disease positive class"}}