{"cell_type":{"5b6449bd":"code","780f06e5":"code","695ea317":"code","52416439":"code","80307464":"code","a580a36e":"code","4d40f84b":"code","87e988c2":"code","36db68d4":"code","eea6607e":"code","3f29a42b":"code","080547fe":"code","d800231d":"code","4f53c631":"code","8fa01f8f":"code","7e775a7d":"code","f42057c9":"code","10cdc6a5":"code","da118fbe":"code","c7f43177":"code","0f75d3ee":"code","604a387d":"code","eca94868":"code","e5afff58":"code","073514b6":"code","3abf114b":"code","417b7492":"markdown","7754f267":"markdown","58679207":"markdown","2fe99fae":"markdown","86cae19d":"markdown","6241ce95":"markdown","6b3f4a16":"markdown","fdf7dc3b":"markdown","24375290":"markdown","87818945":"markdown","80cdc076":"markdown","ddb4309d":"markdown","98f4a85d":"markdown","5d891d3f":"markdown","4f16702e":"markdown","58d306bd":"markdown","f5d0bf22":"markdown","4a2d603a":"markdown","aade1b25":"markdown"},"source":{"5b6449bd":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nplt.style.use(\"seaborn-whitegrid\")\nimport seaborn as sns\nfrom collections import Counter\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","780f06e5":"cwurData = pd.read_csv('\/kaggle\/input\/world-university-rankings\/cwurData.csv')\nprint(cwurData.columns)\ncwurData.head()","695ea317":"shanghaiData = pd.read_csv('\/kaggle\/input\/world-university-rankings\/shanghaiData.csv')\nprint(shanghaiData.columns)\nshanghaiData.head()","52416439":"timesData = pd.read_csv('\/kaggle\/input\/world-university-rankings\/timesData.csv')\nprint(timesData.columns)\ntimesData.head()","80307464":"f,ax = plt.subplots(figsize=(12, 12))\nsns.heatmap(cwurData.corr(), annot=True, linewidths=.5, fmt= '.1f',ax=ax)\nplt.show()","a580a36e":"f,ax = plt.subplots(figsize=(11, 11))\nsns.heatmap(shanghaiData.corr(), annot=True, linewidths=.5, fmt= '.1f',ax=ax)\nplt.show()","4d40f84b":"f,ax = plt.subplots(figsize=(10, 10))\nsns.heatmap(timesData.corr(), annot=True, linewidths=.5, fmt= '.1f',ax=ax)\nplt.show()","87e988c2":"# Line Plot\n# color = color, label = label, linewidth = width of line, alpha = opacity, grid = grid, linestyle = sytle of line\ntimesData.teaching.plot(kind = 'line', color = 'g',label = 'Teaching',linewidth=1,alpha = 0.5,grid = True,linestyle = ':')\ntimesData.research.plot(color = 'r',label = 'Research',linewidth=1, alpha = 0.5,grid = True,linestyle = '-.')\nplt.legend(loc='upper right')     # legend = puts label into plot\nplt.xlabel('x axis')              # label = name of label\nplt.ylabel('y axis')\nplt.title('Line Plot')            # title = title of plot\nplt.show()","36db68d4":"# Scatter Plot \ntimesData.plot(kind='scatter', x='teaching', y='research',alpha = 0.5,color = 'red')\nplt.xlabel('teaching')              # label = name of label\nplt.ylabel('research')\nplt.title('Scatter Plot')            # title = title of plot\nplt.show()","eea6607e":"# Histogram\n# bins = number of bar in figure\ntimesData.research.plot(kind = 'hist',bins = 50,figsize = (12,12))\nplt.show()","3f29a42b":"timesData.info()","080547fe":"def bar_plot(dataset, variable):\n    \"\"\"\n        input: dataset ex:timesData, variable example: \"country\" or \"university_name\"\n        output: bar plot & value count\n    \"\"\"\n    # get feature\n    var = dataset[variable]\n    # count number of categorical variable(value\/sample)\n    varValue = var.value_counts()\n    \n    # visualize\n    plt.figure(figsize = (9,3))\n    plt.bar(varValue.index, varValue)\n    plt.xticks(varValue.index, varValue.index.values)\n    plt.ylabel(\"Frequency\")\n    plt.title(variable)\n    plt.show()\n    print(\"{}: \\n {}\".format(variable,varValue))","d800231d":"category1 = [\"country\", \"international\", \"university_name\", \"world_rank\"]\nfor c in category1:\n    bar_plot(timesData,c)","4f53c631":"def plot_hist(dataset,variable):\n    plt.figure(figsize = (9,3))\n    plt.hist(dataset[variable], bins = 50)\n    plt.xlabel(variable)\n    plt.ylabel(\"Frequency\")\n    plt.title(\"{} distribution with hist\".format(variable))\n    plt.show()","8fa01f8f":"numericVar = [\"teaching\", \"research\", \"citations\", \"student_staff_ratio\"]\nfor n in numericVar:\n    plot_hist(timesData,n)","7e775a7d":"# 1 - Filtering Pandas data frame\nx = shanghaiData['national_rank']==\"1\"\nshanghaiData[x]","f42057c9":"# 1 - Filtering Pandas data frame\nx = cwurData['citations']<5\ncwurData[x]","10cdc6a5":"# 2 - Filtering pandas with logical_and\ncwurData[np.logical_and(cwurData['quality_of_faculty']<20, cwurData['publications']<15 )]","da118fbe":"# This is also same with previous code line. Therefore we can also use '&' for filtering.\nshanghaiData[(shanghaiData['total_score']>70) & (shanghaiData['alumni']>50)]","c7f43177":"# lets classify universities whether they have high or low teaching.\nthreshold = sum(timesData.teaching) \/ len(timesData.teaching)\ntimesData[\"ratio\"] = [\"high\" if i > threshold else \"low\" for i in timesData.teaching]\ntimesData.loc[:10,[\"ratio\",\"teaching\"]] # we will learn loc more detailed later","0f75d3ee":"# Lets look at does cwurData data have nan value\n# As you can see there are 2200 entries. However broad_impact has 2000 non-null object so it has 200 null object.\ncwurData.info()","604a387d":"# Lets check broad_impact\ncwurData[\"broad_impact\"].value_counts(dropna =False)\n# As you can see, there are 200 NAN value","eca94868":"# Lets drop nan values\ncwurData[\"broad_impact\"].dropna(inplace = True)  # inplace = True means we do not assign it to new variable. Changes automatically assigned to data\ncwurData[\"broad_impact\"].value_counts(dropna =False)","e5afff58":"def detect_outliers(df,features):\n    outlier_indices = []\n    \n    for c in features:\n        # 1st quartile\n        Q1 = np.percentile(df[c],25)\n        # 3rd quartile\n        Q3 = np.percentile(df[c],75)\n        # IQR\n        IQR = Q3 - Q1\n        # Outlier step\n        outlier_step = IQR * 1.5\n        # detect outlier and their indeces\n        outlier_list_col = df[(df[c] < Q1 - outlier_step) | (df[c] > Q3 + outlier_step)].index\n        # store indeces\n        outlier_indices.extend(outlier_list_col)\n    \n    outlier_indices = Counter(outlier_indices)\n    multiple_outliers = list(i for i, v in outlier_indices.items() if v > 2)\n    \n    return multiple_outliers","073514b6":"timesData.loc[detect_outliers(timesData,[\"research\",\"teaching\",\"citations\"])]","3abf114b":"timesData.boxplot(column=\"research\",by = \"year\")\nplt.show()","417b7492":"<a id = '4'><\/a>\n## Variable Description for The Times Higher Education World University Ranking\n* world_rank\n* university_name\n* country\t\n* teaching\n* international\n* research\n* citations\n* income\n* total_score\n* num_students\n* student_staff_ratio\n* international_students\n* female_male_ratio\n* year","7754f267":"***The Times Higher Education World University Ranking***","58679207":"* float64(4): teaching, research, citations, and student_staff_ratio\n* int64(1): year\n* object(9): world_rank, university_name, country, international, income, total_score, num_student, international_students, and female_male_ratio","2fe99fae":"# Introduction\n***The*** ***Times Higher Education World University Ranking*** is widely regarded as one of the most influential and widely observed university measures. Founded in the United Kingdom in 2010, it has been criticized for its commercialization and for undermining non-English-instructing institutions.\n***The Academic Ranking of World Universities***, also known as the Shanghai Ranking, is an equally influential ranking. It was founded in China in 2003 and has been criticized for focusing on raw research power and for undermining humanities and quality of instruction.\n***The Center for World University Rankings***, is a less well know listing that comes from Saudi Arabia, it was founded in 2012.\n> (Harvard University)\n> ![Harvard_Yard,_Harvard_University.jfif](attachment:Harvard_Yard,_Harvard_University.jfif)                 \n<font color = 'blue'>\n    \nContent:\n1. [Import Necessary Libraries](#1)\n2. [Load and Check Data](#2)\n3. [Correlation Map](#3)\n4. [Variable Description](#4)\n  * [Matplotlib](#5)  \n  * [Univariate Variable Analysis](#6) \n    * [Categorical Variable](#7)\n    * [Numerical Variable](#8)\n5. [Filtering](#9)\n6. [List Comprehension](#10)\n7. [Missing Data](#11)\n8. [Outlier Detection](#12)","86cae19d":"<a id = '11'><\/a>\n## MISSING DATA\nIf we encounter with missing data, what we can do:\n* leave as is\n* drop them with dropna()\n* fill missing value with fillna()\n* fill missing values with test statistics like mean","6241ce95":"<a id = '5'><\/a>\n## MATPLOTLIB\nMatplot is a python library that help us to plot data. The easiest and most basic plots are line, scatter and histogram plots.\n\n* Line plot is better when x axis is time.\n* Scatter is better when there is correlation between two variables\n* Histogram is better when we need to see distribution of numerical data.\n* Customization: Colors,labels,thickness of line, title, opacity, grid, figsize, ticks of axis and linestyle","6b3f4a16":"<a id = '3'><\/a>\n## Correlation Map\nA correlation matrix is a table showing correlation coefficients between variables. Each cell in the table shows the correlation between two variables. A correlation matrix is used to summarize data, as an input into a more advanced analysis, and as a diagnostic for advanced analyses.","fdf7dc3b":"As you see there are no NaN values anymore","24375290":"<a id = '9'><\/a>\n## Filtering","87818945":"<a id = '6'><\/a>\n## Univariate Variable Analysis\n* Categorical Variable: country, international, university_name, world_rank\n* Numerical Variable: teaching, research, citations, and student_staff_ratio","80cdc076":"<a id = '7'><\/a>\n### Categorical Variable","ddb4309d":"<a id = '2'><\/a>\n## Load and Check Data\nWe have three different ranking system for universities. We will use and observe all of them.","98f4a85d":"<a id = '1'><\/a>\n## Import Necessary Libraries","5d891d3f":"***The Academic Ranking of World Universities, also known as the Shanghai Ranking***","4f16702e":"There is no outlier","58d306bd":"<a id = '8'><\/a>\n### Numerical Variable","f5d0bf22":"<a id = '12'><\/a>\n## Outlier Detection","4a2d603a":"<a id = '10'><\/a>\n## LIST COMPREHENS\u0130ON\nWe use list comprehension for data analysis often.\nlist comprehension: collapse for loops for building lists into a single line\nEx: num1 = [1,2,3] and we want to make it num2 = [2,3,4]. This can be done with for loop. However it is unnecessarily long. We can make it one line code that is list comprehension.","aade1b25":"***The Center for World University Rankings***"}}