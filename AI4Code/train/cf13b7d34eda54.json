{"cell_type":{"d8980e71":"code","64e7b159":"code","12f45891":"code","aa9b013a":"code","503c8577":"code","fcfbd3eb":"code","1964d5ce":"code","acc1f883":"code","9ac0b779":"code","0551823d":"code","be159073":"code","b1f73a7b":"code","0ff3f2c7":"code","465f705b":"code","db1b3bd3":"code","59b5eda1":"code","df48eeff":"code","50929001":"code","f119fdc2":"code","309a9aa7":"code","458341a2":"code","f665a479":"code","1bb099e8":"code","d86ded5f":"code","e160305e":"code","c28e5a87":"code","887e539a":"code","ccef00d7":"code","caadf91a":"code","6bdd783f":"code","39a8e518":"code","faf2e99e":"code","4f1f18b2":"code","33ac32f8":"code","f1b6d971":"code","7c182752":"markdown","14b0ea02":"markdown","a04e4866":"markdown","b4d13a0a":"markdown","e89c8925":"markdown","c42d065d":"markdown","69e7546a":"markdown","8afdc766":"markdown"},"source":{"d8980e71":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport google","64e7b159":"customers = pd.read_csv('..\/input\/customer-segmentation-tutorial-in-python\/Mall_Customers.csv')","12f45891":"customers.head()","aa9b013a":"customers.info()","503c8577":"#verificando a exist\u00eancia de campos nulos\ncustomers.isnull().sum()","fcfbd3eb":"#adicinando valores nulos\ncustomers_null=customers\nfor col in customers_null.columns:\n    customers_null.loc[customers_null.sample(frac=0.1).index, col] = np.nan","1964d5ce":"#verificando as colunas nulas\ncustomers_null.info()","acc1f883":"#analisando o dataset\ncustomers_null.head(10)","9ac0b779":"#verificando campos nulos\ncustomers_null.isnull().sum()","0551823d":"#deletando as linhas que possuem algum valor nulo\ncustomers_null.dropna()","be159073":"#preenchendo os valores nan com o valor 0\ncustomers_null.fillna(0)","b1f73a7b":"#verificando as estat\u00edsticas do dataset\ncustomers_null.describe()","0ff3f2c7":"#preenchendo os valores m\u00e9dios da coluna\ncustomers_null.fillna(customers_null.mean())","465f705b":"#analisando o banco de dados, fun\u00e7\u00e3o que retorna uma an\u00e1lise superficial dos dados\ncustomers.describe()","db1b3bd3":"#Constroi o boxplot para as colunas desejadas\nboxplot = customers.boxplot(column=['Age', 'Annual Income (k$)', 'Spending Score (1-100)'])","59b5eda1":"#Z-score\nfrom scipy import stats\nz = np.abs(stats.zscore(customers['Annual Income (k$)'].values))\nthreshould = 2\nresult=np.where(z > threshould)\n\ndf_salario_outlier=customers.iloc[result[0]]\n#print(z)\n","df48eeff":"#todos os us\u00faarios com sal\u00e1rios anual com poss\u00edvel outlier\ndf_salario_outlier","50929001":"#analisando a distribui\u00e7\u00e3o dos clientes por g\u00eanero\nsns.countplot(x='Gender', data=customers)# cria o gr\u00e1fico que conta quantidade de consumidores ecistente em cada um dos g\u00eaneros\nplt.title('Dsitribui\u00e7\u00e3o dos clientes quanto ao g\u00eanero'); #adiciona o titulo no gr\u00e1fico","f119fdc2":"#analisando a distribui\u00e7\u00e3o dos clientes quanto a idade atrav\u00e9s do histograma\ncustomers.hist('Age', bins=35); #seleciona a coluna idade para realizar o histograma os \"bins\"indicam a quantidade de grupos que se deseja dividir os dados\nplt.title('Distribui\u00e7\u00e3o dos clientes pela idade'); #adiciona o titulo ao gr\u00e1fico (histograma)\nplt.xlabel('Idade');","309a9aa7":"cat_df_customers = customers.select_dtypes(include=['object']) #copiando as clolunas que s\u00e3o do tipo categorias","458341a2":"cat_df_customers.head()","f665a479":"replace_map = {'Gender': {'Male': 1, 'Female': 2}} #define o dicion\u00e1rio a ser utilizado (map)\nlabels = cat_df_customers['Gender'].astype('category').cat.categories.tolist() #encontra a lista das vari\u00e1veis categ\u00f3ricas\nreplace_map_comp = {'Gender' : {k: v for k, v in zip(labels,list(range(1, len(labels)+1)))}} #define o pmapeamento\n\nprint(replace_map_comp)","1bb099e8":"cat_df_customers_replace =pd.read_csv('..\/input\/customer-segmentation-tutorial-in-python\/Mall_Customers.csv')  #realiza a c\u00f3pia do dataset","d86ded5f":"cat_df_customers_replace.replace(replace_map_comp, inplace=True) #aplica o mapeamento para o dataset\ncat_df_customers_replace.head()","e160305e":"#cat_df_customers_lc = customers\ncustomers = pd.read_csv('..\/input\/customer-segmentation-tutorial-in-python\/Mall_Customers.csv')","c28e5a87":"cat_df_customers_lc=customers","887e539a":"cat_df_customers_lc['Gender']=pd.Categorical(cat_df_customers_lc['Gender'])\ncat_df_customers_lc.dtypes","ccef00d7":"cat_df_customers_lc['Gender'] = cat_df_customers_lc['Gender'].cat.codes\ncat_df_customers_lc.head()","caadf91a":"# importando o label encoding\nfrom sklearn.preprocessing import LabelEncoder\n\nle = LabelEncoder() #instanciando o objeto","6bdd783f":"# aplicando a codifica\u00e7\u00e3o para as colunas categ\u00f3ricas\ncustomers_label=pd.read_csv('..\/input\/customer-segmentation-tutorial-in-python\/Mall_Customers.csv')\ncustomers_label['Gender'] =  le.fit_transform(customers_label['Gender'])\ncustomers_label.head(10)","39a8e518":"# Get dummies\ncustomers_one_hot=pd.read_csv('..\/input\/customer-segmentation-tutorial-in-python\/Mall_Customers.csv')\n#customers_one_hot['Gender']=pd.Categorical(customers_one_hot['Gender'])\ncustomers_one_hot= pd.get_dummies(customers_one_hot)\n# customers_one_hot head\ncustomers_one_hot.head()","faf2e99e":"customers=pd.read_csv('..\/input\/customer-segmentation-tutorial-in-python\/Mall_Customers.csv')","4f1f18b2":"# importe OneHotEncoder\ncustomers_one_hot=customers\nfrom sklearn.preprocessing import OneHotEncoder\n\nohe = OneHotEncoder() #instancia o objeto\n","33ac32f8":"# aplica o one hot encoding para a coluna \ncustomers_ohe = ohe.fit_transform(customers_one_hot['Gender'].values.reshape(-1,1)).toarray()# It returns an numpy array\ncustomers_ohe.shape","f1b6d971":"customers_ohe","7c182752":"**Aplicando o Mapeamento**","14b0ea02":"**Aplicando a codifica\u00e7\u00e3o aos dados**","a04e4866":"**Distribui\u00e7\u00e3o dos consumidores pela idade**","b4d13a0a":"**One Hot Encoding**","e89c8925":"**Aplicando o Label Encodering**","c42d065d":"**Verificando se existem outliers nos dados. Para isso, ser\u00e1 usado o boxplot.**","69e7546a":"**Verificando se existem outliers nos dados. Para isso, ser\u00e1 usado o Z-Score.**","8afdc766":"* **count** = n\u00famero de elementos (linhas) existente no banco de dados\n* **mean** = m\u00e9dia dos valores na coluna\n* **std** = desvio padr\u00e3o dos dados presente na coluna\n* **min** = menor valor existente na coluna\n* **25%** primeiro quartil dos dados(25%)\n* **50%** = segundo quartil dos dados(50%)\n* **75%** = terceiro quartil dos dados(75%)\n* **max** = valor m\u00e1ximo existente na coluna"}}