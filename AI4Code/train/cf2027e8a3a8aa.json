{"cell_type":{"24343eac":"code","4da257b5":"code","5c67e615":"code","39646300":"code","4fc33b24":"code","82d6373b":"code","b81592b6":"code","4ecd6a4d":"code","ec61cd5a":"code","627275f2":"code","b79f712e":"code","402be5a1":"code","614e0bfd":"code","f749275b":"code","c86dd03d":"code","cee1f9c4":"code","5608df11":"code","3b7ba36d":"code","61f76247":"code","6abf4a1f":"code","e37186cb":"code","0010165d":"code","3b69088f":"code","a817df0f":"code","a061589f":"code","54ad67ac":"code","097e950d":"code","36873ab6":"code","a66c8c81":"code","3c7546d9":"code","b6ee6270":"code","65f828e3":"code","52c640b6":"code","c30791ad":"code","800a8d6c":"code","3dffb212":"code","e8a044cd":"code","f796e6cd":"code","f68b1916":"code","423ac20d":"code","a33a8171":"code","38074c14":"code","e8f2a903":"code","c2988c11":"code","57086bf8":"markdown","da3a7a10":"markdown","3abb5064":"markdown","6b034b0d":"markdown","ec493729":"markdown","161b264c":"markdown","ee11efe1":"markdown","c48c7086":"markdown","0f0aa062":"markdown","bfc2d15d":"markdown","4132bf02":"markdown","dd9b56ce":"markdown","2af4f31f":"markdown","d3ecc3be":"markdown","6755e47c":"markdown","7230da9c":"markdown","63eb0d22":"markdown","bf2b43bd":"markdown","b8eb9c40":"markdown","b9ac02bc":"markdown","5097cc80":"markdown","8cb4da2c":"markdown","fb0d4d58":"markdown","ddbfff4d":"markdown","209f0d90":"markdown","e7cc0cd5":"markdown","9697bbc6":"markdown","36b61a73":"markdown","4416edd0":"markdown","b6970d4d":"markdown"},"source":{"24343eac":"import pandas as pd\nimport numpy as np\nfrom scipy import stats","4da257b5":"data_path = \"..\/input\/hollywood-most-profitable-stories\/HollywoodsMostProfitableStories.csv\"\ndf = pd.read_csv(data_path)","5c67e615":"df.head(5) ","39646300":"df.describe()","4fc33b24":"df.info()","82d6373b":"missing_data = df.isnull()\nfor column in missing_data.columns.values.tolist():\n    print(column)\n    print (missing_data[column].value_counts())\n    print(\"\")","b81592b6":"df.dropna(inplace=True)","4ecd6a4d":"df['Lead Studio'].unique()","ec61cd5a":"df[\"Lead Studio\"].replace(to_replace=\"Fox\",value=\"20th Century Fox\", inplace=True)","627275f2":"df['Genre'].value_counts()","b79f712e":"df['Genre'].value_counts().to_frame()","402be5a1":"## same as above but we rename the coumns to better ##repreesnt the items\ngenre_counts = df['Genre'].value_counts().to_frame()\ngenre_counts.rename(columns={'Genre': 'value_counts'}, inplace=True)\ngenre_counts","614e0bfd":"genre_counts.index.name = 'Genre'\ngenre_counts","f749275b":"studio_counts = df['Lead Studio'].value_counts().to_frame()\nstudio_counts.rename(columns={'Lead Studio': 'value_counts'}, inplace=True)\nstudio_counts.index.name = 'Lead-Studio'\nstudio_counts","c86dd03d":"df.columns","cee1f9c4":"df_group_one = df[['Lead Studio','Genre','Worldwide Gross']]\ndf_group_one","5608df11":"df_group_one = df_group_one.groupby(['Genre', 'Lead Studio'],as_index=False).mean()\ndf_group_one.head()","3b7ba36d":"grouped_pivot = df_group_one.pivot(index='Lead Studio',columns='Genre')\ngrouped_pivot","61f76247":"grouped_pivot = grouped_pivot.fillna(0) #fill missing values with 0\ngrouped_pivot","6abf4a1f":"import matplotlib.pyplot as plt\n%matplotlib inline ","e37186cb":"fig, ax = plt.subplots()\nim = ax.pcolor(grouped_pivot, cmap='RdBu')\n\n#label names\nrow_labels = grouped_pivot.columns.levels[1]\ncol_labels = grouped_pivot.index\n\n#move ticks and labels to the center\nax.set_xticks(np.arange(grouped_pivot.shape[1]) + 0.5, minor=False)\nax.set_yticks(np.arange(grouped_pivot.shape[0]) + 0.5, minor=False)\n\n#insert labels\nax.set_xticklabels(row_labels, minor=False)\nax.set_yticklabels(col_labels, minor=False)\n\n#rotate label if too long\nplt.xticks(rotation=90)\n\nfig.colorbar(im)\nplt.show()","0010165d":"df.head(5)","3b69088f":"df.corr()","a817df0f":"pearson, p_value = stats.pearsonr(df['Audience  score %'],df['Worldwide Gross'])\npearson","a061589f":"p_value","54ad67ac":"pearson2, p_value2 = stats.pearsonr(df['Audience  score %'],df['Rotten Tomatoes %'])\npearson2","097e950d":"p_value2","36873ab6":"import seaborn as sns\n# visualizing the the correlation\ndata_corr = df.corr()\nsns.heatmap(data_corr, cmap=\"Blues\", annot=True)","a66c8c81":"# positive linear relation ship using regplot between audience score and worldwide gross\nsns.regplot(x=\"Audience  score %\", y=\"Worldwide Gross\", data=df)\nplt.ylim(0,)","3c7546d9":"df.columns","b6ee6270":"# positive linear relation ship using regplot between audiecne score and rotten tomato \nsns.regplot( x=\"Audience  score %\",y='Rotten Tomatoes %', data=df)\nplt.ylim(0,)","65f828e3":"sns.set(rc={\"figure.figsize\":(35, 20)})\nsns.set(font_scale = 2, font='times new roman')\nplt.rcParams[\"axes.labelsize\"] = 30\nsns.boxplot(x=\"Lead Studio\", y=\"Worldwide Gross\", data=df, width=0.8,linewidth=5).set(title=\"The relationship between 'Lead Studio' and 'Worldwide gross'\")","52c640b6":"sns.boxplot(x=\"Genre\", y=\"Worldwide Gross\", data=df,linewidth=5).set(title=\"The relationship between 'Genre' and 'Worldwide gross'\") \nsns.set(rc={\"figure.figsize\":(7, 10)})\n## how much eeach genre makes","c30791ad":"stab = pd.crosstab( df['Lead Studio'],df.Genre)\nstab","800a8d6c":"stab.loc[\"20th Century Fox\"]","3dffb212":"\n# Create a circle at the center of the plot\nmy_circle = plt.Circle( (0,0), 0.3, color='white')\nsns.set(rc={\"figure.figsize\":(7, 10)})\n# Create a pieplot\nplt.pie(stab.loc[\"20th Century Fox\"],labels=stab.loc[\"20th Century Fox\"].index,wedgeprops = { 'linewidth' : 7, 'edgecolor' : 'white' },radius=0.5)\n\n#place white circle on the piechart\np = plt.gcf()\np.gca().add_artist(my_circle)\nplt.show()","e8a044cd":"df.describe(include=['object'])","f796e6cd":"max(df[\"Worldwide Gross\"])","f68b1916":"genre= df.groupby(['Genre'],as_index=False).mean()\ngenre","423ac20d":"x=df[[\"Genre\",\"Worldwide Gross\"]].groupby([\"Genre\"], as_index=False).sum()\nx.head()","a33a8171":"plt.bar(x.Genre,x[\"Worldwide Gross\"])\n# plt.bar(df[\"Worldwide Gross\"], df[\"Genre\"], color=\"red\")\n# sns.set(rc={\"figure.figsize\":(8, 8)})\nplt.show()","38074c14":"# Create a circle at the center of the plot\nmy_circle = plt.Circle( (0,0), 0.3, color='white')\nsns.set(rc={\"figure.figsize\":(7, 10)})\n# Create a pieplot\nplt.pie(x[\"Worldwide Gross\"],labels=x[\"Genre\"],wedgeprops = { 'linewidth' : 7, 'edgecolor' : 'white' },radius=0.5)\n\n#place white circle on the piechart\nmiscplot1 = plt.gcf()\nmiscplot1.gca().add_artist(my_circle)\nplt.show()","e8f2a903":"t=df[[\"Year\",\"Worldwide Gross\"]].groupby([\"Year\"], as_index=False).sum()\nt.head()","c2988c11":"plt.bar(t.Year,t[\"Worldwide Gross\"])\nplt.show()","57086bf8":"## grouping categories","da3a7a10":"renaming the index to Genre","3abb5064":"## miseleanious \nrandom topics ive explored feel free to ignore from here","6b034b0d":"we won't have data for some of the pivot cells. We can fill these missing cells with the value 0","ec493729":"using the info method to check for null values","161b264c":"Correlation: a measure of the extent of interdependence between variables.\n\nCausation: the relationship between cause and effect between two variables.","ee11efe1":"to convert the series of value counts to a data frame we use \".to_frame()\"","c48c7086":"a pie chart showing that 20th Century Fox has mainly released comedies","0f0aa062":"the p-value is < 0.001 so the Correlation between audience score and Rotten Tomatoes % is statistically significant","bfc2d15d":"## Author\n\nHameed --- [shadyghost](https:\/\/www.kaggle.com\/shadyghost)","4132bf02":"doing the same process but for Lead studios","dd9b56ce":"### value counts\nto understand how many units of each charcteristice we have","2af4f31f":"## which genre makes the most Worldwide Gross?","d3ecc3be":"### Pearson Correlation\nThe Pearson Correlation measures the strength of correlation between two features X and Y, represented by a coefficient that is a value between -1 and 1 (inclusive); where:\n\n**1: Perfect positive linear correlation.**\n\n**0: No linear correlation, the two variables most likely do not affect each other**\n\n**-1: Perfect negative linear correlation.**\n","6755e47c":"p-value is < 0.001: i think we can say there is strong evidence that the correlation is significant.","7230da9c":"the relationship between audience score and worldwide gross is not strong","63eb0d22":"## which year made the most worldwide Gross?","bf2b43bd":"Lead Studio, \nAudience  score %, Rotten Tomatoes %,Profitability, have missing\/Nan Values \n\none quick way we can deal with missing values by deleting\/droping them","b8eb9c40":"we create a cross tab of studios and the genres they release for easy visualization","b9ac02bc":"# [Hollywood Most Profitable Stories](https:\/\/www.kaggle.com\/ahmettezcantekin\/beginner-datasets)\n\n## by [Hameed](https:\/\/www.kaggle.com\/shadyghost)\n\n### 74 movies released 2007-2012","5097cc80":"we can use the unique method to check for redundancies and inconsistent names","8cb4da2c":"the linear relationship of ~0.577 is only modearte ","fb0d4d58":"in this case we can see that some columns have \"Fox\" as the lead studio while others have \"20th Century Fox\" which refers to the same studio, this can lead to issues later so we will replace \"Fox\" with \"20th Century Fox\"\n\n***same can be done for fox and disney, lionsgate and summit but ill just allow it***","ddbfff4d":"the heatmap show how much on average each studio made from releasing a movie in a particular genre based on the dataset","209f0d90":"## Learning to visualize all the above","e7cc0cd5":"view the top 5 values in the dataset","9697bbc6":"The P-value is the probability value that the correlation between these two variables is statistically significant.","36b61a73":"## Learning about Correlations and causation","4416edd0":"We can calculate the average worldwide gross of each studio for each","b6970d4d":"describe the dataset using the description method to compute basic statisics skipping any NaN values"}}