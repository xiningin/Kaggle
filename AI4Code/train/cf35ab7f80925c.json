{"cell_type":{"c6c4720e":"code","cfb75790":"code","c64515b0":"code","1d34fda4":"code","39664e23":"code","df3f97c7":"code","8f08a254":"code","ae669bc0":"code","d262b9b0":"code","8f47c329":"code","de578c20":"code","ebcddc7f":"code","e0644c3a":"code","56844e03":"code","a05ac556":"code","96dcddc6":"code","de0069ee":"code","e6e71027":"code","4f5007c8":"code","98dc8a2e":"code","bbd2f37b":"code","358a0c02":"code","2714d0b3":"markdown"},"source":{"c6c4720e":"#import functional packages and libraries\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns # data visualisation library\nimport matplotlib.pyplot as plt #matlab plotting library\nimport plotly.express as px #plotly's smart graphs\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","cfb75790":"#read csv file (kaggle data set) on pd dataframe\nfilename = \"\/kaggle\/input\/co2-ghg-emissionsdata\/co2_emission.csv\"\ndf = pd.read_csv(filename)\ndf.head() #show first 5 rows of dataframe","c64515b0":"df.describe() #quick statistics with describe function","1d34fda4":"#plot emissions for all countries, continents and entities with the color shade indicating the year of recorded emissions.\nfig = px.scatter(df, x='Annual CO\u2082 emissions (tonnes )', y='Entity',color='Year')\nfig.show()","39664e23":"#filtering the continents, transport and stat. differences from the full dataframe\nworld_continents = df['Entity'].isin(['World','Africa','EU-28','Americas (other)','Asia and Pacific (other)',\n                                      'Middle East','Statistical differences','International transport'])\n\n#plot all the countries without the continents and entities (note the negative emissions in the graph \n#above have disappeared in the one below)\nfig = px.scatter(df[~world_continents], x='Annual CO\u2082 emissions (tonnes )', y='Entity',color='Year')\nfig.show()","df3f97c7":"#plot only the continents, transport, stat. differences and world values\nfig = px.scatter(df.loc[world_continents], x='Entity', y='Annual CO\u2082 emissions (tonnes )',color='Year')\nfig.show()","8f08a254":"df[world_continents][]","ae669bc0":"usa_americas = df['Entity'].isin(['United States','Americas (other)'])\n\npx.scatter(df[usa_americas],x='Year',y='Annual CO\u2082 emissions (tonnes )',color='Entity')","d262b9b0":"def emissions_by_entity_in_year(entity,year):\n    \n    return print(df.loc[df['Entity'].isin([entity]) & \n                        \n                        df['Year'].isin([year])]['Annual CO\u2082 emissions (tonnes )'])","8f47c329":"emissions_by_entity_in_year('World',2017)[0]","de578c20":"def total_countries_emissions_by_year(year):\n    \n    for i in year:\n        \n        print(df.loc[\n            \n            df['Year'].isin([i])\n        ]\n              ['Annual CO\u2082 emissions (tonnes )'][~world_continents].sum()\n             )","ebcddc7f":"total_countries_emissions_by_year(['2017'])","e0644c3a":"#Using excel and lists of countries codes divided by continents available online, \n#csv files were created to contain the codes for each continent","56844e03":"raw_codes_africa = pd.read_csv('\/kaggle\/input\/codes-africa\/codes_africa.csv')\nraw_codes_europe = pd.read_csv('\/kaggle\/input\/codes-continents\/codes_europe.csv')\nraw_codes_asia_pacific = pd.read_csv('\/kaggle\/input\/codes-continents\/codes_asia_pacific.csv')\nraw_codes_americas = pd.read_csv('\/kaggle\/input\/codes-continents\/codes_americas.csv')","a05ac556":"raw_codes_africa.head()","96dcddc6":"for column in raw_codes_africa[['(3 Letter Country Code)']]:\n   # Select column contents by column name using [] operator\n   codes_africa = raw_codes_africa[column]\n   print(codes_africa)\nfor column in raw_codes_europe[['(3 Letter Country Code)']]:\n   # Select column contents by column name using [] operator\n   codes_europe = raw_codes_europe[column]\nfor column in raw_codes_americas[['(3 Letter Country Code)']]:\n   # Select column contents by column name using [] operator\n   codes_americas = raw_codes_americas[column]\nfor column in raw_codes_asia_pacific[['(3 Letter Country Code)']]:\n   # Select column contents by column name using [] operator\n   codes_asia_pacific = raw_codes_asia_pacific[column]","de0069ee":"african_countries = (df[\"Code\"].isin(codes_africa))\ndf.loc[african_countries]","e6e71027":"px.scatter(df.loc[african_countries],x='Entity',y='Annual CO\u2082 emissions (tonnes )',color='Year')","4f5007c8":"american_countries = (df[\"Code\"].isin(codes_americas))\npx.scatter(df.loc[american_countries],x='Entity',y='Annual CO\u2082 emissions (tonnes )',color='Year')","98dc8a2e":"asian_and_pacific_countries = (df[\"Code\"].isin(codes_asia_pacific))\n\npx.scatter(df.loc[asian_and_pacific_countries],x='Entity',y='Annual CO\u2082 emissions (tonnes )',color='Year')","bbd2f37b":"european_countries = (df[\"Code\"].isin(codes_europe))\n\npx.scatter(df.loc[european_countries],x='Entity',y='Annual CO\u2082 emissions (tonnes )',color='Year')","358a0c02":"px.scatter(df.loc[european_countries],x='Entity',y='Year',size='Annual CO\u2082 emissions (tonnes )')","2714d0b3":"Data is suspicious as the World values do not match the sum of the reported continents, \ninternational transport and statistical differences. \n\nMoreover, just the USA in 2017 emitted 5.26 B tonnes of CO2, while the reported value for Americas (other) \ncontinent in 2014 is just 2.4 B tonnes of CO2."}}