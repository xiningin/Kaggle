{"cell_type":{"af460cba":"code","a8f9324e":"code","9d8d2135":"code","eadaf370":"code","9d638593":"code","b3c7b396":"code","c5ad25d5":"code","257cfbdc":"code","eb4c9084":"code","0e190854":"code","47022899":"code","687499dd":"code","837a51b0":"code","3496c430":"code","b0394c17":"code","3ba27b56":"code","f60baf8e":"code","948e9de4":"code","e22bc7eb":"code","f31849e7":"code","d0689d9b":"code","ebb27ed6":"markdown","c4068518":"markdown","0d92abf0":"markdown","d48caac6":"markdown","47654830":"markdown","329cee89":"markdown","7de2518e":"markdown","90fc89ba":"markdown","513fe366":"markdown","9f177db3":"markdown","d1b38d17":"markdown","f3c4ebd3":"markdown","e3d81f03":"markdown","ec1fa763":"markdown","c074ed77":"markdown","aa3ca90f":"markdown","1f098889":"markdown","798d6950":"markdown","a3112a29":"markdown","dcfbcec0":"markdown","93d80fde":"markdown","49196122":"markdown","7fd37748":"markdown","67582376":"markdown","7fb8d25d":"markdown"},"source":{"af460cba":"import requests\nfrom bs4 import BeautifulSoup\nimport re\nimport pandas as pd\nimport numpy as np\nimport csv","a8f9324e":"url_pagina = 'https:\/\/pt.wikipedia.org\/wiki\/Portal:COVID-19'\npagina_html = requests.get(url_pagina)\nsoup = BeautifulSoup(pagina_html.content, 'html.parser')\nsoup.prettify()","9d8d2135":"url_pagina2 = \"https:\/\/www.br.undp.org\/content\/brazil\/pt\/home\/idh0\/rankings\/idh-global.html\"\npagina_html2 = requests.get(url_pagina2)\nsoup2 = BeautifulSoup(pagina_html2.content , \"html.parser\" )\nsoup2.prettify()","eadaf370":"tbs_covid_pais = soup.find_all(class_='wikitable sortable mw-collapsible no-ref')\ntb_covid_pais = tbs_covid_pais[0]\nlinhas_tb = tb_covid_pais.find_all('tr')","9d638593":"tbs_idh_pais = soup2.find_all(class_=\"tableizer-table\")\ntb_idh_pais = tbs_idh_pais[0]\nlinhas_idh = tb_idh_pais.find_all(\"tr\")","b3c7b396":"def prep_linha(linha):\n    #Utilizamos o strip para remover caracteres\n    #Utilizamos o replace para substituir um caractere por outro\n    #Utilizamos o regex para encontrar e\/ou remover as notas\n    linha = linha.get_text().strip(\"\\n\").strip(\" \")\n    linha = linha.replace(\"\\n\",\"\\t\")\n    linha = linha.replace(u\"\\xa0\", u\"\")\n    linha = re.sub(r\"\\[.*]\\t\", \"\\t\", linha)\n    linha = re.sub(r\"\\[.*\\]\", \"\", linha)\n    linha = linha.rstrip(\"\\t\")\n    linha = linha.replace(\"\u2013\", \"0\")\n    return linha","c5ad25d5":"def prep_linha2(linha2):\n    linha2 = linha2.get_text().strip(\"\\n\").strip(\" \")\n    linha2 = linha2.replace(\"\\n\",\"\\t\")\n    linha2 = linha2.rstrip(\"\\t\")\n    return linha2","257cfbdc":"ini_tb = 2\nfim_tb = 222","eb4c9084":"ini_tb2 = 1 \nfim_tb2 = 192","0e190854":"texto_final = \"Pa\u00edses\\tCasos\\tMortes\\tCurados\\n\"\nfor i in range(ini_tb, fim_tb+1):\n    linha = prep_linha(linhas_tb[i])\n    texto_final += linha\n    texto_final += \"\\n\"\nprint(texto_final)","47022899":"texto_final2 = \"Ranking IDH Global\\tPa\u00eds\\tIDH\\n\"\nfor i in range(ini_tb2, fim_tb2+1):\n    linha2 = prep_linha2(linhas_idh[i])\n    texto_final2 += linha2\n    texto_final2 += \"\\n\"\n    texto_final2 = texto_final2.replace(',','.')\nprint(texto_final2)","687499dd":"arquivo = open(\"lista-paises.csv\", \"w\")\narquivo.write(texto_final)\narquivo.close()","837a51b0":"arquivo = open(\"lista-pa\u00edses_idh.csv\",\"w\")\narquivo.write(texto_final2)\narquivo.close()","3496c430":"df = pd.read_csv(\"lista-paises.csv\", sep='\\t')\ndf = df.iloc[::-1].reset_index(drop=True)\ndf = df.iloc[::-1].reset_index(drop=False)","b0394c17":"df2 = pd.read_csv(\"lista-pa\u00edses_idh.csv\",sep=\"\\t\")\ndf2.dropna(axis=0, how='any')\ndf2 = df2.loc[[1, 51, 108, 148]]\ndf2.plot(kind='bar', x='Pa\u00eds', y='IDH');","3ba27b56":"print('A media de casos por pa\u00eds \u00e9 de',round(df.Casos.mean()))\nprint('O numero total de casos confirmardos pelo mundo \u00e9 de',df.Casos.sum())","f60baf8e":"print('A m\u00e9dia de mortes por Pa\u00eds \u00e9 de',round(df.Mortes.mean()))\nprint('O numero total de mortes pelo mundo \u00e9 de',df.Mortes.sum())","948e9de4":"print('A m\u00e9dia de casos recuperados por Pa\u00eds \u00e9 de',round(df.Curados.mean()))\nprint('O numero total de casos recuperados pelo mundo \u00e9 de',df.Curados.sum())","e22bc7eb":"df = pd.read_csv(\"lista-paises.csv\", sep='\\t')\ndf = df.head(10)\ndf.plot.bar(x='Pa\u00edses');","f31849e7":"df3 = pd.read_csv(\"..\/input\/listapaises\/lista-paises_dados2.csv\", sep=';', encoding='latin1')\ndf3 = df3.loc[[55, 22, 188, 93]]\ndf3 = df3.stack().str.replace(',','.').unstack()\ndf3['casos\/milhao'] = df3['casos\/milhao'].apply(float)\ndf3['mortes\/milhao'] = df3['mortes\/milhao'].apply(float)\ndf3.plot.bar(x='pais',y='casos\/milhao');\ndf3.plot.bar(x='pais',y='mortes\/milhao');","d0689d9b":"df4 = pd.read_csv('..\/input\/csv-unif\/CSV unificado.csv', sep=';', encoding='latin1')\ndf4 = df4.rename(columns={'C menos D':'IDH x Ranking Pandemia - casos'})\ndf4 = df4.rename(columns={'C menos E':'IDH x Ranking Pandemia - mortes'})\ndf4.plot.scatter(x='IDH',y='IDH x Ranking Pandemia - casos').invert_xaxis()\ndf4.plot.scatter(x='IDH',y='IDH x Ranking Pandemia - mortes').invert_xaxis()","ebb27ed6":"## ETAPA 2: SELE\u00c7\u00c3O DE DADOS","c4068518":"Como quarto e \u00faltimo passo desta etapa, ser\u00e1 criado um arquivo CSV com os dados raspados da Wikip\u00e9dia. \n\n* Define-se a string que formar\u00e1 a linha superior do arquivo CSV e atribui-se \u00e0 vari\u00e1vel \"texto_final\".\n* Por meio de uma estrutura de repeti\u00e7\u00e3o que tem in\u00edcio em \"ini_tb\" e fim em \"fim_tb+1\", cada linha da vari\u00e1vel \"linhas_tb\" ser\u00e1 objeto da fun\u00e7\u00e3o \"prep_linha\", com o retorno da fun\u00e7\u00e3o sendo armazenado na vari\u00e1vel \"linha\". Ap\u00f3s, o conte\u00fado desta vari\u00e1vel \u00e9 somado ao conte\u00fado da vari\u00e1vel \"texto_final\", cujo resultado ser\u00e1 reatribu\u00eddo a \"texto_final\". Por fim, \u00e9 adicionada a string \"\\n\" ao final de cada linha, reatribui-se o resultado novamente a \"texto_final\".\n\nTerminada a estrutura de repeti\u00e7\u00e3o, a vari\u00e1vel \"texto_final\" vai conter todo o conte\u00fado de interesse raspado da Wikip\u00e9dia, formatado para que se crie o primeiro arquivo CSV.","0d92abf0":"Com a biblioteca numpy e pandas, utilizamos o \"round\" do numpy para arredondar o resultado da m\u00e9dia calculada pelo pandas envolvendo o n\u00famero de casos,mortes e curados.","d48caac6":"A segunda raspagem de dados ser\u00e1 de uma tabela com os dados do IDH dos pa\u00edses, localizada no site do PNUD Brasil, o Programa das Na\u00e7\u00f5es Unidas para o Desenvolvimento, com processos semelhantes \u00e0 raspagem anterior:\n\n* O endere\u00e7o da p\u00e1gina ser\u00e1 atribu\u00eddo \u00e0 vari\u00e1vel \"url_pagina2\". \n* Esta vari\u00e1vel ser\u00e1 usada no m\u00e9todo \"requests.get\" da biblioteca requests para fazer o download do conte\u00fado da p\u00e1gina, que ser\u00e1 armazenado na vari\u00e1vel \"pagina_html2\". \n* Esta vari\u00e1vel ser\u00e1 ent\u00e3o submetida a um analisador sint\u00e1tico por meio da biblioteca bs4, quando ent\u00e3o o cont\u00e9udo da p\u00e1gina ser\u00e1 convertido em um objeto BeautifulSoup, que por fim ser\u00e1 armazenado na vari\u00e1vel \"soup2\".\n* Ser\u00e1 aplicado o m\u00e9todo soup.prettify() para finalizar a extra\u00e7\u00e3o","47654830":"Ao inspecionar o c\u00f3digo fonte da p\u00e1gina HTML na Wikip\u00e9dia, verificou-se que a tabela de onde se deseja extrair informa\u00e7\u00f5es possui a classe CSS \"wikitable sortable mw-collapsible no-ref\". A partir dessa classe, ser\u00e1 dado o primeiro passo na sele\u00e7\u00e3o dos dados da Wikipedia. Al\u00e9m disso, verificou-se que todos os dados necess\u00e1rios estavam identificados com a tag \"tr\", informa\u00e7\u00e3o usada para o segundo passo da sele\u00e7\u00e3o de dados. \n\n* Usando o m\u00e9todo find_all na vari\u00e1vel \"soup\", ser\u00e1 encontrado todo conte\u00fado designado pela classe acima mencionada, e ser\u00e1 atribu\u00eddo o resultado na vari\u00e1vel \"tbs_covid_pais\"    \n* Ser\u00e1 selecionado o conte\u00fado da linha 0 desta vari\u00e1vel e o resultado atribu\u00eddo \u00e0 vari\u00e1vel \"tb_covid_pais\"\n* Novamente com o m\u00e9todo find_all, ser\u00e1 encontrado todo conte\u00fado rotulado com a tag \"tr\", e o resultado ser\u00e1 atribu\u00eddo na vari\u00e1vel \"linhas_tb\"","329cee89":"## DESCRI\u00c7\u00c3O DO PROJETO\n\nDoen\u00e7as infecciosas como COVID-19 s\u00e3o transmitidas em taxas exponenciais e necessitam de um esfor\u00e7o governamental dirigido no controle da dissemina\u00e7\u00e3o da doen\u00e7a, na assist\u00eancia para com os infectados e, no caso da COVID-19, uma complexa e dispendiosa pol\u00edtica que promova o isolamento social. \n\nO IDH, \u00cdndice de Desenvolvimento Humano, \u00e9 uma unidade de medida que afere o grau de desenvolvimento de uma determinada sociedade nos quesitos educa\u00e7\u00e3o, sa\u00fade e renda, o que permite a compara\u00e7\u00e3o entre quase todos os pa\u00edses, servindo de refer\u00eancia para mensurar a resposta de determinado pa\u00eds frente a importantes demandas (MOTA, 2020), como \u00e9 o caso do enfrentamento de uma pandemia. O IDH varia de zero a um, e nenhum pa\u00eds possui IDH zero ou um.\n\nO objetivo desse projeto \u00e9 mostrar de que forma o IDH correspondeu - ou n\u00e3o - \u00e0 situa\u00e7\u00e3o dos pa\u00edses em rela\u00e7\u00e3o \u00e0 pandemia, tanto em rela\u00e7\u00e3o ao n\u00famero de pessoas infectadas, quanto ao n\u00famero de fatalidades decorrentes da doen\u00e7a.\n\n\nMOTA, Hugo. **O que \u00e9 IDH?**; Brasil Escola. Dispon\u00edvel em: https:\/\/brasilescola.uol.com.br\/o-que-e\/geografia\/o-que-e-idh.htm. Acesso em 07 jun 2020.","7de2518e":"Ap\u00f3s an\u00e1lises e testes ser\u00e1 dado o terceiro passa da sele\u00e7\u00e3o de dados da vari\u00e1vel \"linhas_tb\", que cont\u00e9m os dados da Wikip\u00e9dia. \u00c9 a compila\u00e7\u00e3o de um conjunto de tarefas para formar a fun\u00e7\u00e3o \"prep_linha\", cujos objetivos s\u00e3o excluir tudo que n\u00e3o \u00e9 necess\u00e1rio contido na referida vari\u00e1vel, al\u00e9m de deixar os dados preparadados para que se crie um arquivo separado por linhas. A fun\u00e7\u00e3o tem como par\u00e2metro \"linha\" e como retorno \"linha\"","90fc89ba":"Similar ao procedimento anterior, ser\u00e1 o quarto e \u00faltimo passo desta etapa, a cria\u00e7\u00e3o de um arquivo CSV com os dados raspados do PNUD Brasil. \n\n* Define-se a string que formar\u00e1 a linha superior do arquivo CSV e atribui-se \u00e0 vari\u00e1vel \"texto_final2\".\n* Por meio de uma estrutura de repeti\u00e7\u00e3o que tem in\u00edcio em \"ini_tb2\" e fim em \"fim_tb+1\", cada linha da vari\u00e1vel \"linhas_idh\" ser\u00e1 objeto da fun\u00e7\u00e3o \"prep_linha2\", com o retorno da fun\u00e7\u00e3o sendo armazenado na vari\u00e1vel \"linha2\". Ap\u00f3s, o conte\u00fado desta vari\u00e1vel \u00e9 somado ao conte\u00fado da vari\u00e1vel \"texto_final2\", cujo resultado ser\u00e1 reatribu\u00eddo a \"texto_final2\". A seguir, \u00e9 adicionada a string \"\\n\" ao final de cada linha e substitui-se todas as v\u00edrgulas por pontos - pontos decimais -, reatribuindo-se o resultado novamente a \"texto_final\", para cada uma dessas duas \u00faltimas a\u00e7\u00f5es.\n\nTerminada a estrutura de repeti\u00e7\u00e3o, a vari\u00e1vel \"texto_final2\" vai conter todo o conte\u00fado de interesse raspado do PNUD, formatado para que se crie o segundo arquivo CSV.","513fe366":"O arquivo CVS com os dados da Wikip\u00e9dia ser\u00e1 nomeado \"lista-paises\", cujo conte\u00fado ser\u00e1 o que est\u00e1 contido na vari\u00e1vel \"texto_final\".","9f177db3":"## PROJETO FINAL DE DISCIPLINA\n\nPONTIF\u00cdCIA UNIVERSIDADE CAT\u00d3LICA DE S\u00c3O PAULO\n\nFACULDADE DE ESTUDOS INTERDISCIPLINARES\n\nBACHARELADO EM CI\u00caNCIA DE DADOS E INTELIG\u00caNCIA ARTIFICIAL\n\nDISCIPLINA CONSULTORIA ESPECIALIZADA DE APOIO AO PROJETO INTEGRADO: ALGOR\u00cdTMOS E PROGRAMA\u00c7\u00c3O\n\nPROF. DR. JEFFERSON DE OLIVEIRA SILVA","d1b38d17":"Com o pd.read_csv lemos o arquivo csv com a ajuda do pandas.","f3c4ebd3":"Similar ao procedimento anterior, ser\u00e1 o terceiro passa da sele\u00e7\u00e3o de dados da vari\u00e1vel \"linhas_idh\", que cont\u00e9m os dados do PNUD Brasil. Para isso, criou-se a fun\u00e7\u00e3o \"prep_linha2\", que tem como par\u00e2metro linha2\" e como retorno \"linha2\"","e3d81f03":"Ainda dentro do terceiro passo dos dados da Wikipedia, verificou-se que os dados de interesse est\u00e3o contidos   entre as linhas 2 e 222, n\u00fameros que ser\u00e3o atribu\u00eddos \u00e0s vari\u00e1veis \"ini_tb\" e \"fim_tb\", respectivamente, para uso posterior.","ec1fa763":"A primeira raspagem de dados ser\u00e1 de uma tabela com o n\u00famero consolidade de casos, \u00f3bitos e recuperados da COVID-19 nos pa\u00edses, localizada na enciclop\u00e9dia online Wikip\u00e9dia.\n\n* O endere\u00e7o da p\u00e1gina ser\u00e1 atribu\u00eddo \u00e0 vari\u00e1vel \"url_pagina\". \n* Esta vari\u00e1vel ser\u00e1 usada no m\u00e9todo \"requests.get\" da biblioteca requests para fazer o download do conte\u00fado da p\u00e1gina, que ser\u00e1 armazenado na vari\u00e1vel \"pagina_html\". \n* Esta vari\u00e1vel ser\u00e1 ent\u00e3o submetida a um analisador sint\u00e1tico por meio da biblioteca bs4, quando ent\u00e3o o cont\u00e9udo da p\u00e1gina ser\u00e1 convertido em um objeto BeautifulSoup, que por fim ser\u00e1 armazenado na vari\u00e1vel \"soup\".","c074ed77":"Usando a fun\u00e7\u00e3o .loc podemos escolher quais linhas do arquivo CSV queremos usar para fazer o gr\u00e1fico, para podermos usar os dados para o gr\u00e1fico temos que mudar o tipo do string para float usando .apply(float), ap\u00f3s isso usaremos os mesmos comandos usados acima para criarmos os gr\u00e1ficos.","aa3ca90f":"## ETAPA 1: RASPAGENS DE DADOS","1f098889":"Similar ao procedimento anterior, o arquivo CVS com os dados do PNUD ser\u00e1 nomeado \"lista-paises_idh\", cujo conte\u00fado ser\u00e1 o que est\u00e1 contido na vari\u00e1vel \"texto_final2\".","798d6950":"Similar ao procedimento anterior, verificou-se que os dados do PNUD est\u00e3o contido entre as linhas 1 e 192, n\u00fameros que ser\u00e3o atribu\u00eddos \u00e0s vari\u00e1veis \"ini_tb2\" e \"fim_tb2\".","a3112a29":"## PERCURSO DA RESPOSTA \u00c0 QD\n\nPor meio de t\u00e9cnicas na linguagem Python, ser\u00e3o executadas as seguintes etapas:\n\n1. Raspagens de dados em websites para obter os n\u00fameros de casos de COVID-19, mortes por COVID-19 e IDH dos pa\u00edses.\n2. Sele\u00e7\u00e3o dos dados obtidos na raspagem, cujo resultado ser\u00e3o arquivos CSV.\n3. Cria\u00e7\u00e3o de dataset unificado de IDH e COVID-19 para an\u00e1lise dos dados.\n3. Fazer uma correla\u00e7\u00e3o entre ranking de IDH e ranking de COVID-19\n\n","dcfbcec0":"Usando o arquivo CSV, podemos criar um gr\u00e1fico de barra onde x representa os Pa\u00edses e y representa o numero de Casos","93d80fde":"## INTEGRANTES:\n* Andre de Mendon\u00e7a Quit\u00e9rio\n* Gabriel Hisaichi Machado Tanaka Arai\n* Jo\u00e3o Vitor Ribeiro Costard\n* Jos\u00e9 Vitor Santos Dias","49196122":"Ao inspecionar o c\u00f3digo fonte da p\u00e1gina HTML na p\u00e1gina do PNUD, verificou-se que a tabela de onde se deseja extrair informa\u00e7\u00f5es possui a classe CSS \"tableizer-table\". A partir dessa classe, ser\u00e1 dado o primeiro passo na sele\u00e7\u00e3o dos dados do PNUD. Assim como na p\u00e1gina da Wikipedia, todos os dados necess\u00e1rios estavam identificados com a tag \"tr\". \n\n* Usando o m\u00e9todo find_all na vari\u00e1vel \"soup2\" ser\u00e1 encontrado todo conte\u00fado designado pela classe acima mencionada, e ser\u00e1 atribu\u00eddo o resultado \u00e0 vari\u00e1vel \"tbs_idh_pais\"    \n* Ser\u00e1 selecionado o conte\u00fado da linha 0 desta vari\u00e1vel e o resultado atribu\u00eddo \u00e0 vari\u00e1vel \"tb_idh_pais\"\n* Novamente com o m\u00e9todo find_all, ser\u00e1 encontrado todo conte\u00fado rotulado com a tag \"tr\", e o resultado ser\u00e1 atribu\u00eddo na vari\u00e1vel \"linhas_idh\"","7fd37748":"## QUEST\u00c3O DIRIGIDA (QD)\n\nALGUMAS OP\u00c7\u00d5ES PARA ESCOLHER UMA DEPOIS\n\n*Qual a correla\u00e7\u00e3o entre o ranking de pa\u00edses por IDH e o ranking da pandemia por COVID-19?*\n\n*Em que grau o ranking de pa\u00edses por IDH reflete o ranking da pandemia?*\n\n*Os n\u00fameros de casos e mortes por COVID-19 nos pa\u00edses refletem o ranking de pa\u00edses por IDH?*\n\n*O ranking de pa\u00edses por IDH reflete o ranking de pa\u00edses pelo n\u00fameros de casos e mortes por COVID-19?*\n\n*Em que grau o ranking de pa\u00edses por IDH reflete o ranking de pa\u00edses pelo n\u00fameros de casos e mortes por COVID-19?*\n\n\n*Como o ranking de pa\u00edses por IDH reflete o ranking de pa\u00edses pelo n\u00fameros de casos e mortes por COVID-19?*\n\n*At\u00e9 que ponto o ranking de pa\u00edses por IDH reflete o ranking da pandemia?*","67582376":"## PREPARA\u00c7\u00c3O DO CADERNO\n\nAntes de executar qualquer etapa \u00e9 preciso importar as bibliotecas necess\u00e1rios para as seguintes tarefas:\n\n* Para fazer a raspagem de dados, ser\u00e3o usadas as bibliotecas requests, bs4, e re(express\u00f5es regulares).\n\n* Para gerar arquivos, ser\u00e1 utilizada a biblioteca CSV. \n\n* Para criar o dataframe, ser\u00e1 usada a biblioteca pandas.\n\n* Para realizar c\u00e1lculos, ser\u00e3o usadas as bibliotecas numpy e pandas\n\n* Para criar gr\u00e1ficos, ser\u00e1 usada a biblioteca matplotlib.pyplot.","7fb8d25d":"## An\u00e1lise dos gr\u00e1ficos:\nDe acordo com os gr\u00e1ficos feitos, o que podemos concluir seria uma rela\u00e7\u00e3o proporcional entre o IDH e o n\u00famero de casos ou mortes, isso se deve \u00e0 alguns fatores tais como:\n1. Subnotifica\u00e7\u00e3o: V\u00e1rios pa\u00edses principalmente os menos desenvolvidos, n\u00e3o tem velocidade pra passar informa\u00e7\u00e3o ou at\u00e9 mesmo devido ao governo, muitos dados sobre a doen\u00e7a s\u00e3o omitidos  \n2. Crit\u00e9rio para a constru\u00e7\u00e3o dos gr\u00e1ficos: Diferen\u00e7a dos rankings de IDH e da pandemia, onde a grande maioria segue um padr\u00e3o crescente do maior IDH(mais casos e mortes) pro menor IDH(menos casos e mortes).\n3. Isolamento dos pa\u00edses: Pa\u00edses mais isolados economicamente(baixo IDH) acabaram mais isolados da pandemia, ao contr\u00e1rio dos pa\u00edses economicamente muito ativos(alto IDH), nos quais s\u00e3o super conectados, caso da europa, contribu\u00edram ainda mais para a propaga\u00e7\u00e3o do v\u00edrus.     "}}