{"cell_type":{"b576ba6e":"code","9b392cfa":"code","c8f6e913":"code","6b0318ac":"code","c77bf1ec":"code","6f9099b0":"code","9a0f0940":"code","de4916bb":"markdown","203aaf3a":"markdown","82a986b4":"markdown","d120b2ba":"markdown","2e630477":"markdown"},"source":{"b576ba6e":"# import alle libraries\nimport pandas as pd \nimport plotly.express as px \nimport plotly.graph_objects as go","9b392cfa":"# read data\ndata = pd.read_csv('\/kaggle\/input\/top-250-football-transfers-from-2000-to-2018\/top250-00-19.csv')\n\n# print first five rows\ndata.head()","c8f6e913":"# save all columns\ncols = data.columns\n\n# count missing values for each column\nfor col in cols:\n    print(f'Number of missing values in Column {col}: {data[col].isnull().sum()}')","6b0318ac":"# create dataframe for all Positions\ndf_pos = data.groupby('Position').size()\n\n# sort ascending\ndf_pos = df_pos.sort_values(ascending=False)\n\n# plot bars for top five positions \nfig = px.bar(df_pos.head(), orientation='h')\n\nfig.update_layout(title='Top 5 Positions with the most transfers')\nfig.show()","c77bf1ec":"# create dataframe for all positions\ndf_home = data.groupby('Team_to').size()\n\n# sort ascending\ndf_home = df_home.sort_values(ascending = False)\n\n# plot bars for top fifteen  positions \nfig_home = px.bar(df_home.head(15), orientation='h')\nfig_home.show()","6f9099b0":"# Top 5 leagues\nleagues = ['Serie A', '1.Bundesliga','Premier League', 'Ligue 1', 'LaLiga']\n\n# count Transfers of each of the top five leagues\ncount_transfers = data['League_from'].value_counts()\n\n# plot\nfig = px.bar(count_transfers.head(), orientation='h')\nfig.show()","9a0f0940":"# new Datafram\ndf_leagues = pd.DataFrame({'League_from': [], 'League_to': [], 'Count': []})\n\n\nleagues2 = leagues\n\n# go for every league of the Top5-Leagues\nfor league in leagues:    \n    for league2 in leagues2:\n        # count how often the specific league occurs in the columns \n        count = data[(data['League_from']==league) & (data['League_to'] == league2)].shape[0] \n        \n        # temporarily dataframe  \n        df_temp = pd.DataFrame({'League_from': [league], 'League_to': [league2], 'Count': [count]})\n\n        # append temp dataframe \n        df_leagues = df_leagues.append(df_temp)\n\n# convert 'Count'-column to int\ndf_leagues.Count = df_leagues.Count.astype(int)\nprint(df_leagues)\n\n\nfor i in range(0,25,5):\n    to_sa = df_leagues.iloc[i, 2]\n    to_bl = df_leagues.iloc[i+1, 2]\n    to_pl = df_leagues.iloc[i+2, 2]\n    to_l1 = df_leagues.iloc[i+3, 2]\n    to_ll = df_leagues.iloc[i+4, 2]    \n\n\n    to = [to_sa, to_bl, to_pl, to_l1, to_ll]\n\n    fig = go.Figure(data=go.Scatterpolar(\n      r=to,\n      theta=leagues,\n      fill='toself',\n    ))\n    \n    fig.update_layout(title_text = f'Transfers from {df_leagues.iloc[i, 0]} to Top5-Leagues:')\n    fig.show()","de4916bb":"# Visualization of Transfers","203aaf3a":"## Transfers of the Top5-Leagues","82a986b4":"## Top15-Teams with most Transfers (in)","d120b2ba":"## Transfers within the Top5-Leagues","2e630477":"## Most Transfers per Top5-Positions"}}