{"cell_type":{"c756b345":"code","81f8bb61":"code","ce113c1e":"code","6af1d58f":"code","03facc4e":"code","7262406f":"code","0e371b93":"code","50cb84a5":"code","8d556d99":"code","8d24907d":"code","aed7cd2a":"code","90e7c076":"code","2e92b63e":"code","a99b7b38":"code","f7da12ef":"code","c96bb2a5":"code","b60da941":"code","bf67eda2":"code","7dcdafbc":"code","96a50490":"code","b05e07e0":"code","e40d52a0":"code","e3743a4a":"code","2732a0c1":"code","3fc589db":"code","17487a4b":"code","853b48e6":"code","87a79513":"code","4663ea4a":"code","8a07920f":"code","94cf2d7a":"code","2f0fffdb":"code","6a08a0ef":"code","d4d86d9e":"code","68a1bc7b":"code","2a847676":"code","0cb7898c":"code","7521b95f":"code","a67966d5":"code","6b73d64a":"code","e6c95740":"code","85a38be2":"code","f82c300a":"markdown","3d9d4169":"markdown","89556d90":"markdown","1552fea6":"markdown","9dcf41eb":"markdown","c02f8aa3":"markdown","597531f1":"markdown","5627765f":"markdown","2ebf25de":"markdown","2b490cdc":"markdown","83e7ebdd":"markdown","68bb25bc":"markdown","ad3b5f54":"markdown","776c15df":"markdown","471da860":"markdown","89d5bc22":"markdown","2a32b4a9":"markdown","82186a2e":"markdown","0d000d8b":"markdown","27059ea4":"markdown","3e74f8d5":"markdown","c8767c45":"markdown","4860239d":"markdown","8f9238fb":"markdown","6daf0e6c":"markdown","5bb579b1":"markdown","b7aeed4f":"markdown","a2135bd1":"markdown","fea30bf9":"markdown","338af909":"markdown","85c12b20":"markdown","bd60f894":"markdown","be3e4c18":"markdown"},"source":{"c756b345":"import numpy as np\nimport pandas as pd\nfrom pandas import Series, DataFrame\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport scipy.stats as stats\n","81f8bb61":"df1 = pd.read_csv('..\/input\/covid-world-vaccination-progress\/country_vaccinations.csv')","ce113c1e":"df1.head()","6af1d58f":"Missing_values=df1.isnull().sum()","03facc4e":"Missing_values","7262406f":"df1.isnull()","0e371b93":"df1.dtypes","50cb84a5":"sns.heatmap(df1.isnull(), cbar=False, cmap='nipy_spectral_r')\nplt.title('Missing values vaccination')","8d556d99":"df_clean=df1[df1['people_fully_vaccinated_per_hundred'].notna()]\ndf_cleaned=df_clean[df_clean['daily_vaccinations_raw'].notna()]","8d24907d":"df_cleaned.isnull().sum()","aed7cd2a":"display(pd.DataFrame([df1['vaccines'].unique()], index=['Vaccine']).T.sort_values('Vaccine')\\\n          .style.set_caption('Vaccine names')\n          )","90e7c076":"vaccines = df1.groupby(['country', 'vaccines']).count().reset_index()[['country', 'vaccines']]\\\n                  .groupby('vaccines').count()['country'].reset_index().sort_values('country', ascending=False)\nvaccines.columns = ['Vaccines', 'Number of countries used']\ndisplay(vaccines.style.set_caption('Number of countries used vaccine'))\n","2e92b63e":"daily_total_vaccinations = df1.groupby(['date', 'vaccines'])['total_vaccinations'].sum().reset_index()\ndaily_total_vaccinations\n","a99b7b38":"df1[\"iso_code\"].unique()","f7da12ef":"df1[\"country\"].unique()","c96bb2a5":"df2 = df_cleaned.groupby([\"country\",'iso_code','vaccines'])['total_vaccinations','people_vaccinated','people_fully_vaccinated',\n                                           'daily_vaccinations','total_vaccinations_per_hundred','people_vaccinated_per_hundred',\n                                           \"people_fully_vaccinated_per_hundred\",'daily_vaccinations_per_million'].max().reset_index()\ndf2.head(10)","b60da941":"plt.figure(figsize=(20, 6))\ndf2.groupby('country')['total_vaccinations'].max().sort_values(ascending=False)[:50].plot(kind='bar');\nplt.title('Country vs Total Vaccination', fontsize=24, fontweight='bold')\nplt.ylabel('Total Vaccinations');","bf67eda2":"plt.figure(figsize=(20, 6))\ndata = df2.groupby('country')['people_vaccinated'].max().sort_values(ascending=False)\nplt.bar(data.index, data);\nplt.xticks(rotation='90')\nplt.yticks()\nplt.title('Country vs People Vaccinated', fontsize=24, fontweight='bold')\nplt.ylabel('people vaccinated');","7dcdafbc":"plt.figure(figsize=(20, 6))\ndf2.groupby('country')['daily_vaccinations_per_million'].max().sort_values(ascending=False)[:50].plot(kind='bar')\nplt.ylabel('daily vaccinations per million')\nplt.title('Daily Vaccination in Country per million', fontsize=24, fontweight='bold');","96a50490":"plt.figure(figsize=(20, 6))\ndf2.groupby('country')['people_fully_vaccinated'].max().sort_values(ascending=False)[:50].plot(kind='bar')\nplt.ylabel('People fully vaccinated')\nplt.title('People fully vaccinated in Country', fontsize=24, fontweight='bold');","b05e07e0":"df3 = df_cleaned.loc[:,['country', 'date', 'vaccines', 'daily_vaccinations']].dropna(subset=['daily_vaccinations'])\ndf3[\"date\"] = pd.to_datetime(df3[\"date\"], format = '%Y-%m-%d')\n\ndf3_agg = df3.groupby('country').daily_vaccinations.agg(\n    sum_vaccination  = 'sum',\n    mean_vaccination = 'mean')\n\n\nfinal_df1 = df3.merge(df3_agg, on = 'country')\nfinal_df1","e40d52a0":"df_cleaned.groupby(['country']).agg({'daily_vaccinations':'mean'}).sort_values(by='daily_vaccinations', ascending=False)[:10].plot.barh(color=\"blue\", figsize=(15,5))\nplt.title('Average daily vaccinations by country - Top 10')\nplt.legend('')\nplt.xlabel('average daily vaccinations')\nplt.show()","e3743a4a":"sort = df3_agg.sort_values(by = 'mean_vaccination', ascending = False).reset_index()\ncountries = sort.country.to_list()\n\ngraphing_mean = final_df1.sort_values(by = 'mean_vaccination', ascending = False)\ntop10_mean = graphing_mean[graphing_mean['country'].isin(countries[:10])]\n\nfig = plt.figure(figsize = (12,8))\nax = fig.add_subplot()\nsns.lineplot( x = 'date', y = 'daily_vaccinations', hue = 'country', \n    data = top10_mean)\nplt.legend(ncol = 3, frameon = False, title = '')\nplt.xticks(rotation=45) \nplt.title('Top 10 countries vaccinations (sorted by mean values)')","2732a0c1":"sort_sum = df3_agg.sort_values(by = 'sum_vaccination', ascending = False).reset_index()\ncountries_sum = sort_sum.country.to_list()\n\ngraphing_sum = final_df1.sort_values(by = 'sum_vaccination', ascending = False)\ntop10_sum = graphing_sum[graphing_sum['country'].isin(countries_sum[:10])]\ntop40_sum = graphing_sum[graphing_sum['country'].isin(countries_sum[:40])]\n\nfig = plt.figure(figsize = (12,8))\nax = fig.add_subplot()\nsns.lineplot( x = 'date', y = 'daily_vaccinations', hue = 'country', \n    data = top10_sum)\nplt.legend(ncol = 3, frameon = False, title = '')\nplt.xticks(rotation=45) \nplt.title('Top 10 countries vaccinations (sorted by total amount of vaccinations)')","3fc589db":"plt.figure(figsize=(8,14))\nsns.barplot(x=top40_sum['sum_vaccination'], y=top40_sum['country'], palette=\"RdBu\")\nplt.xlabel(\"Sum of Vaccination\")\nplt.ylabel(\"Country\")\nplt.title(\"Total vaccinations per country, top 40\")\nplt.show()","17487a4b":"vaccines = final_df1.loc[:,['country', 'vaccines']]\nvaccines = vaccines.groupby('vaccines')['country'].unique()\nvaccines = pd.DataFrame(vaccines).reset_index()\nvaccines","853b48e6":"def plot_trend(df_cleaned,feature,title,country):\n    plt.style.use('ggplot')\n    plt.figure(figsize=(20,25))\n    \n    for i,country in enumerate(country):\n        plt.subplot(8,4,i+1)\n        data = df_cleaned[df_cleaned['country'] == country]\n        sns.lineplot(x=df_cleaned['date'] ,y=df_cleaned[feature],label = feature)\n        plt.xlabel('')\n        plt.tick_params(axis='x',which='both',top=False,bottom=False,labelbottom=False)\n        plt.title(country)\n        \n    plt.suptitle(title,y=1.05)\n    plt.tight_layout()\n    plt.show()","87a79513":"country = ['Argentina', 'Austria', 'Belgium', 'Brazil','Canada','China','Czechia', 'Denmark', 'England','Finland', 'France',\n       'Germany','India','Ireland', 'Israel', 'Italy', 'Kuwait','Mexico', 'Netherlands','Norway', 'Poland','Russia',\n        'Saudi Arabia', 'Scotland','Singapore','Spain', 'Sweden', 'Switzerland', 'Turkey',\n        'United Arab Emirates', 'United Kingdom', 'United States']\nplot_trend(df_cleaned,'total_vaccinations','Trend of total vaccination',country)","4663ea4a":"df_in = df1[ df1['country'] == 'India' ]","8a07920f":"df_in.head()","94cf2d7a":"df_in.isnull().sum()","2f0fffdb":"df_in = df_in[df_in['people_fully_vaccinated_per_hundred'].notna()]\n","6a08a0ef":"df_in.isnull().sum()","d4d86d9e":"df_in.head()","68a1bc7b":"df_in[['people_vaccinated_per_hundred', 'people_fully_vaccinated_per_hundred']].plot(ylabel = '% vaccinated', linewidth = 3)\nplt.grid()","2a847676":"df_in[['people_vaccinated', 'people_fully_vaccinated']].plot(ylabel = '(in 1000) vaccinated', linewidth = 3)\nplt.grid()","0cb7898c":"pd.DataFrame([df_in['vaccines'].unique()],columns=['Vaccine'],index=['India'])","7521b95f":"fig, ax = plt.subplots(1,1, figsize=(40,6))\n\ng1 = sns.lineplot(x=df_in['date'],y=df_in['total_vaccinations'])\n\nfig.text(0.3, 0.9, 'Number of total Vaccinations in India w.r.t Date', \n       fontsize=25, fontweight='bold',color='black')\nfig.text(0.265, 0.33, 'India', \n        fontsize=25, fontweight='bold')\nax.yaxis.tick_right()\nax.tick_params(length=1)\nplt.xlabel('DATE')\nplt.xticks(rotation=45) \nplt.ylabel('Total Vaccinations')","a67966d5":"y = [df_in['people_vaccinated_per_hundred'].max()]\nx = ['India']\ng=sns.barplot(x,y)\ng.text(-0.5, 3.5, 'Max percentage of people vaccinated in India', \n       fontsize=14, fontweight='bold', fontfamily='Arial',color='black')\nplt.show()","6b73d64a":"y = [df_in['people_fully_vaccinated_per_hundred'].max()]\nx = ['India']\ng=sns.barplot(x,y)\ng.text(-0.5, 0.7, 'Max percentage of people vaccinated in India', \n       fontsize=14, fontweight='bold', fontfamily='Arial',color='black')\nplt.show()","e6c95740":"fig, ax = plt.subplots(1,1, figsize=(40,6))\n\ng1 = sns.lineplot(x=df_in['date'],y=df_in['daily_vaccinations_per_million'])\n\nfig.text(0.3, 0.9, 'Vaccination per million in India', \n       fontsize=25, fontweight='bold',color='black')\nfig.text(0.265, 0.33, 'India', \n        fontsize=25, fontweight='bold')\nplt.xticks()\nax.yaxis.tick_right()\nax.tick_params(length=1)\nplt.xlabel('DATE')\nplt.ylabel('Daily Vaccinations per Million')","85a38be2":"plt.bar(df_in['date'][1:], df_in['daily_vaccinations_raw'][1:], label = 'daily vaccinations')\nplt.xlabel('Date')\nplt.ylabel('(in 1000)daily vaccination numbers')\nplt.axhline(y = np.mean(df_in['daily_vaccinations_raw']), color = 'blue', ls = '--', linewidth = 9, label = 'population mean')\nplt.legend(loc = 9)\nplt.xticks(rotation = 90)\nplt.grid()","f82c300a":"# Trend of total vaccination according to countries","3d9d4169":"# Visualisation of Country VS Total Vaccination","89556d90":"# Visualisation of daily vaccinations per million in India","1552fea6":"# Visualisation of Max percentage of people vaccinated in India","9dcf41eb":"# Displaying all the names of vaccines used .","c02f8aa3":"# Viewing missing values within the data.","597531f1":"# Visualisation for Top 10 countries vaccinations (sorted by mean values)","5627765f":"# Sorting out India's Data from the complete dataset","2ebf25de":"# Names of vaccines used in INDIA","2b490cdc":"# Importing Libraries\n","83e7ebdd":"#  Daily vaccinations by the type of vaccines","68bb25bc":"# Finding if there's any missing values in our data set.","ad3b5f54":"# Visualisation of Total vaccinations per country, top 40","776c15df":"In USA, maximum people got fully vaccinated all over the world. ","471da860":"#  Plotting missing values of vaccination.","89d5bc22":"# Grouping data by vaccines","2a32b4a9":"# Finding out the integer and float features from data.","82186a2e":"# Average daily vaccinations by country - Top 10","0d000d8b":"# Since the data contains multiple null entries which are not in use for analysing the data so we just take the data which is important ","27059ea4":"# Visualisation for no. of people fully vaccinated in countries ","3e74f8d5":"#  Sorting the information given according to the iso code and countries ","c8767c45":"# Reading the Data","4860239d":"# What vaccines are used and in which countries?","8f9238fb":"# Loading the data","6daf0e6c":"# Droping null values from the dataset","5bb579b1":"# Visualisation of 'Max percentage of people fully vaccinated in India","b7aeed4f":"# Visualisation for daily vaccination per million in countries ","a2135bd1":"# Analysis of the number of people being vaccinated daily","fea30bf9":"# Visualisation of 'total Vaccinations' on a particular 'Date'","338af909":"# Visualisation for Top 10 countries vaccinations (sorted by total amount of vaccinations)","85c12b20":"i.e approx 3%","bd60f894":"i.e approx 1%","be3e4c18":"# Visualisation of Country VS People Vaccinated"}}