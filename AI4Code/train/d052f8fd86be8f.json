{"cell_type":{"0a9c9b19":"code","9ed8ea33":"code","0acdb7ec":"code","9111d8a4":"code","bee7e9c4":"code","7eb68690":"code","35d9ad17":"code","a8520c43":"code","bf97dd2d":"code","354e77be":"code","3b1008be":"code","b28a6d58":"code","d2f02233":"code","04859b97":"code","ecee8404":"code","bd163370":"code","05f463e8":"code","f45ef9bb":"code","c9652ece":"code","bdcc1490":"code","05699338":"code","ce9ee4e6":"code","25664a49":"code","b6363aec":"code","acbed8a1":"code","f64d3d0c":"code","e43b3346":"code","d471003d":"code","98d8a3f1":"code","ea3f28c9":"code","25d928b5":"code","3a0653ea":"code","16d5659a":"code","3028e63f":"code","7286e615":"code","26e57b4b":"code","ebbf9cb2":"code","370d8dfe":"code","fa2763f5":"code","293300a6":"code","9c989cbd":"code","ad1bd805":"code","ff07b6a6":"code","adc5eb1e":"code","2bf18322":"code","5f6c499a":"code","faa67a09":"code","ade03b00":"code","7de3e41b":"code","0d2735dd":"code","4df28691":"code","10f652ec":"code","7df0ebbd":"code","82981ac8":"code","e03a1588":"code","0910eed0":"code","cfebdc41":"code","24d1ed74":"code","68455424":"code","17fa7fc1":"code","b8cff873":"code","806354b9":"code","beb54bfb":"code","d3caf401":"code","6b744f7f":"code","37905d5b":"code","11d5ce95":"code","2df09c0a":"code","6969bb70":"code","836e6b61":"code","cc98c418":"code","9e1be35d":"code","9c79881b":"code","02b4dada":"code","273f4e3c":"code","67ebece7":"code","dc6df652":"code","2063813c":"code","bf86339b":"code","279d2e01":"code","f9c3bf30":"code","0ce2a113":"code","d126205d":"markdown","d680f9f6":"markdown","6ae88ff3":"markdown","4711e811":"markdown"},"source":{"0a9c9b19":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\nimport scipy as sp\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import MinMaxScaler\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.feature_selection import RFE\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import r2_score\nimport statsmodels.api as sm\nfrom statsmodels.stats.outliers_influence import variance_inflation_factor\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","9ed8ea33":"data = pd.read_csv('..\/input\/life-expectancy-who\/Life Expectancy Data.csv')\ndata.head()","0acdb7ec":"data.columns","9111d8a4":"data.dataframeName = 'Life Expectancy Data.csv'\nnRow, nCol = data.shape\nprint(f'There are {nRow} rows and {nCol} columns')","bee7e9c4":"plt.figure(figsize=(10,4))\nsns.set_theme(style=\"darkgrid\")\nsns.countplot(data=data,x='Year')","7eb68690":"plt.figure(figsize=(10,4))\nsns.countplot(data=data,x='Status')","35d9ad17":"data.info()","a8520c43":"plt.figure(figsize=(10,10))\nsns.heatmap(pd.isnull(data),cmap='hot')","bf97dd2d":"a = list(data.columns)\nb = []\nfor i in a:\n    c = data[i].isnull().sum()\n    b.append(c)\nnull_df = pd.DataFrame({'Feature name':a,'No. of Null Values':b})\nnull_df.sort_values(by='No. of Null Values',ascending=False)","354e77be":"# This piece of code will fill the null values of the selected feature with its mean.\n# This one is for filling Nans in 'Life expectancy' column.\n\ndata['Life expectancy '] = data['Life expectancy '].fillna(value=data['Life expectancy '].mean())\n\n# Lets also do the same for Adult Mortality.\n\ndata['Adult Mortality'] = data['Adult Mortality'].fillna(value=data['Adult Mortality'].mean())","3b1008be":"lifeExpectancy = data.pop('Life expectancy ')\nlifeExpectancy.head()","b28a6d58":"corr_data = data.corr()\ncorr_data['Alcohol'].sort_values(ascending=False)[:2]","d2f02233":"sns.heatmap(corr_data)","04859b97":"sns.scatterplot(x=data['Schooling'],y=data['Alcohol'])","ecee8404":"# These values are mean values of the selected interval of other feature.\nrangeval=[]\nrangeval.append(data[data['Schooling']<=2.5]['Alcohol'].mean())\nrangeval.append(data[(2.5<data['Schooling'] ) & (data['Schooling']<=5.0)]['Alcohol'].mean())\nrangeval.append(data[(5.0<data['Schooling'] ) & (data['Schooling']<=7.5)]['Alcohol'].mean())\nrangeval.append(data[(7.5<data['Schooling'] ) & (data['Schooling']<=10.0)]['Alcohol'].mean())\nrangeval.append(data[(10.0<data['Schooling'] ) & (data['Schooling']<=15.0)]['Alcohol'].mean())\nrangeval.append(data[data['Schooling']>15.0]['Alcohol'].mean())\nprint(\"sc<=25: \",rangeval[0])\nprint(\"2.5<sc<=5.0: \",rangeval[1])\nprint(\"5.0<sc<=7.5: \",rangeval[2])\nprint(\"7.5<sc<=10.0: \",rangeval[3])\nprint(\"10.0<sc<=15: \",rangeval[4])\nprint(\"sc>15: \",rangeval[5])\n\ndef impute_Alcohol(cols):\n    al=cols[0]\n    sc=cols[1]\n    if pd.isnull(al):\n        if sc<=2.5:\n            return  rangeval[0]\n        elif 2.5<sc<=5.0:\n            return rangeval[1]\n        elif 5.0<sc<=7.5:\n            return rangeval[2]\n        elif 7.5<sc<=10.0:\n            return rangeval[3]\n        elif 10.0<sc<=15:\n            return rangeval[4]\n        elif sc>15:\n            return rangeval[5]\n    else:\n        return al\n    \ndata['Alcohol']=data[['Alcohol','Schooling']].apply(impute_Alcohol,axis=1)","bd163370":"plt.figure(figsize=(10,10))\nsns.heatmap(pd.isnull(data),cmap='hot')","05f463e8":"# the leftover nans are due to them being nan's in the schooling column\n# populate it with mean values\ndata['Alcohol'] = data['Alcohol'].fillna(value=data['Alcohol'].mean())\nplt.figure(figsize=(10,10))\nsns.heatmap(pd.isnull(data),cmap='hot')","f45ef9bb":"sns.distplot(data['Alcohol']);","c9652ece":"sp.stats.skew(data['Alcohol'],axis=0)","bdcc1490":"corr_data['Diphtheria '].sort_values(ascending=False)[:3]","05699338":"corr_data['Polio'].sort_values(ascending=False)[:3]","ce9ee4e6":"data['Diphtheria '] = data['Diphtheria '].fillna(value=data['Diphtheria '].mean())\n\n# Lets also do the same for Polio.\n\ndata['Polio'] = data['Polio'].fillna(value=data['Polio'].mean())","25664a49":"corr_data['Hepatitis B'].sort_values(ascending=False)[:3]","b6363aec":"sns.scatterplot(x=data['Diphtheria '],y=data['Hepatitis B']);","acbed8a1":"# These values are mean values of the selected interval of other feature.\nrangeval=[]\nrangeval.append(data[data['Diphtheria ']<=15]['Hepatitis B'].mean())\nrangeval.append(data[(15<data['Diphtheria '] ) & (data['Diphtheria ']<=30)]['Hepatitis B'].mean())\nrangeval.append(data[(30<data['Diphtheria '] ) & (data['Diphtheria ']<=45)]['Hepatitis B'].mean())\nrangeval.append(data[(45<data['Diphtheria '] ) & (data['Diphtheria ']<=60)]['Hepatitis B'].mean())\nrangeval.append(data[(60<data['Diphtheria '] ) & (data['Diphtheria ']<=80)]['Hepatitis B'].mean())\nrangeval.append(data[data['Diphtheria ']>80]['Hepatitis B'].mean())\nprint(\"sc<=25: \"   ,rangeval[0])\nprint(\"15<sc<=30: \",rangeval[1])\nprint(\"30<sc<=45: \",rangeval[2])\nprint(\"45<sc<=60: \",rangeval[3])\nprint(\"60<sc<=80: \",rangeval[4])\nprint(\"sc>80: \"    ,rangeval[5])\ndef impute_HepatatisB(cols):\n    hep=cols[0]\n    dip=cols[1]\n    if pd.isnull(hep):\n        if dip<=15:\n            return rangeval[0]\n        elif 15<dip<=30:\n            return rangeval[1]\n        elif 30<dip<=45:\n            return rangeval[2]\n        elif 45<dip<=60:\n            return rangeval[3]\n        elif 60<dip<=80:\n            return rangeval[4]\n        elif dip>80:\n            return rangeval[5]\n    else:\n        return hep\n    \ndata['Hepatitis B']=data[['Hepatitis B','Diphtheria ']].apply(impute_HepatatisB,axis=1)\n","f64d3d0c":"plt.figure(figsize=(10,10))\nsns.heatmap(pd.isnull(data),cmap='hot')","e43b3346":"corr_data['Population'].sort_values(ascending=False)[:3]","d471003d":"sns.scatterplot(x=data['infant deaths'],y=data['Population']);","98d8a3f1":"rangeval=[]\nrangeval.append(data[data['infant deaths']<=100]['Population'].mean())\nrangeval.append(data[(100<data['infant deaths'] ) & (data['infant deaths']<=250)]['Population'].mean())\nrangeval.append(data[(250<data['infant deaths'] ) & (data['infant deaths']<=350)]['Population'].mean())\nrangeval.append(data[(350<data['infant deaths'] ) & (data['infant deaths']<=900)]['Population'].mean())\nrangeval.append(data[(900<data['infant deaths'] ) & (data['infant deaths']<=1100)]['Population'].mean())\nrangeval.append(data[(1100<data['infant deaths'] ) & (data['infant deaths']<=1250)]['Population'].mean())\nrangeval.append(data[(1250<data['infant deaths'] ) & (data['infant deaths']<=1500)]['Population'].mean())\nrangeval.append(data[(1500<data['infant deaths'] ) & (data['infant deaths']<=1750)]['Population'].mean())\nrangeval.append(data[data['infant deaths']>1750]['Population'].mean())\nprint(\"sc<=25: \"       ,rangeval[0])\nprint(\"100<sc<=250: \"  ,rangeval[1])\nprint(\"250<sc<=350: \"  ,rangeval[2])\nprint(\"350<sc<=900: \"  ,rangeval[3])\nprint(\"900<sc<=1100: \" ,rangeval[4])\nprint(\"1100<sc<=1250: \",rangeval[5])\nprint(\"1250<sc<=1500 \" ,rangeval[6])\nprint(\"1500<sc<=1750: \",rangeval[7])\nprint(\"sc>1750: \"      ,rangeval[8])\ndef impute_population(c):\n    p=c[0]\n    i=c[1]\n    if pd.isnull(p):\n        if i<=100:\n            return  rangeval[0]\n        elif 100<i<=250:\n            return  rangeval[1]\n        elif 250<i<=350:\n            return  rangeval[2]\n        elif 350<i<=900:\n            return  rangeval[3]\n        elif 900<i<=1100:\n            return  rangeval[4]\n        elif 1100<i<=1250:\n            return  rangeval[5]\n        elif 1250<i<=1500:\n            return  rangeval[6]\n        elif 1500<i<=1750:\n            return  rangeval[7]\n        elif i>1750:\n            return  rangeval[8]\n    else:\n        return p\n    \ndata['Population']=data[['Population','infant deaths']].apply(impute_population,axis=1)","ea3f28c9":"plt.figure(figsize=(10,10))\nsns.heatmap(pd.isnull(data),cmap='hot')","25d928b5":"corr_data['Total expenditure'].sort_values(ascending=False)[:3]","3a0653ea":"sns.scatterplot(x=data['Alcohol'],y=data['Total expenditure']);","16d5659a":"rangeval=[]\nrangeval.append(data[data['Alcohol']<=2.5]['Total expenditure'].mean())\nrangeval.append(data[(2.5<data['Alcohol'] ) & (data['Alcohol']<=5.0)]['Total expenditure'].mean())\nrangeval.append(data[(5.0<data['Alcohol'] ) & (data['Alcohol']<=10.0)]['Total expenditure'].mean())\nrangeval.append(data[(10.0<data['Alcohol'] ) & (data['Alcohol']<=12.5)]['Total expenditure'].mean())\nrangeval.append(data[data['Alcohol']>12.5]['Total expenditure'].mean())\nprint(\"sc<=25: \"       ,rangeval[0])\nprint(\"2.5<sc<=5.0: \"  ,rangeval[1])\nprint(\"5.0<sc<=10.0: \" ,rangeval[2])\nprint(\"10.0<sc<=12.5: \",rangeval[3])\nprint(\"sc>12.5: \"      ,rangeval[4])\n\ndef impute_Total_exp(c):\n    t=c[0]\n    a=c[1]\n    if pd.isnull(t):\n        if a<=2.5:\n            return rangeval[0]\n        elif 2.5<a<=5.0:\n            return rangeval[1]\n        elif 5.0<a<=10.0:\n            return rangeval[2]\n        elif 10.0<a<=12.5:\n            return rangeval[3]\n        elif a>12.5:\n            return rangeval[4]\n    else:\n        return t\n    \ndata['Total expenditure']=data[['Total expenditure','Alcohol']].apply(impute_Total_exp,axis=1) ","3028e63f":"plt.figure(figsize=(10,10))\nsns.heatmap(pd.isnull(data),cmap='hot')","7286e615":"corr_data['GDP'].sort_values(ascending=False)[:3]","26e57b4b":"sns.scatterplot(x=data['percentage expenditure'],y=data['GDP']);","ebbf9cb2":"rangeval=[]\nrangeval.append(data[data['percentage expenditure']<=1250]['GDP'].mean())\nrangeval.append(data[(1250<data['percentage expenditure'] ) & (data['percentage expenditure']<=2500)]['GDP'].mean())\nrangeval.append(data[(2500<data['percentage expenditure'] ) & (data['percentage expenditure']<=3750)]['GDP'].mean())\nrangeval.append(data[(3750<data['percentage expenditure'] ) & (data['percentage expenditure']<=7500)]['GDP'].mean())\nrangeval.append(data[(7500<data['percentage expenditure'] ) & (data['percentage expenditure']<=8750)]['GDP'].mean())\nrangeval.append(data[(8750<data['percentage expenditure'] ) & (data['percentage expenditure']<=10000)]['GDP'].mean())\nrangeval.append(data[(10000<data['percentage expenditure'] ) & (data['percentage expenditure']<=11250)]['GDP'].mean())\nrangeval.append(data[(11250<data['percentage expenditure'] ) & (data['percentage expenditure']<=12500)]['GDP'].mean())\nrangeval.append(data[(12500<data['percentage expenditure'] ) & (data['percentage expenditure']<=15000)]['GDP'].mean())\nrangeval.append(data[(15000<data['percentage expenditure'] ) & (data['percentage expenditure']<=17500)]['GDP'].mean())\nrangeval.append(data[data['percentage expenditure']>17500]['GDP'].mean())\nprint(\"sc<=1250: \"      ,rangeval[0])\nprint(\"1250 <sc<=2500: \",rangeval[1])\nprint(\"2500 <sc<=3750: \",rangeval[2])\nprint(\"3750 <sc<=7500: \",rangeval[3])\nprint(\"7500 <sc<=8750: \",rangeval[4])\nprint(\"8750 <sc<=10000:\",rangeval[5])\nprint(\"10000<sc<=11250:\",rangeval[6])\nprint(\"11250<sc<=12500:\",rangeval[7])\nprint(\"12500<sc<=15000:\",rangeval[8])\nprint(\"15000<sc<=17500:\",rangeval[9])\nprint(\"sc>17500:\",rangeval[10])\n\ndef impute_GDP(c):\n    g=c[0]\n    p=c[1]\n    if pd.isnull(g):\n        if p<=1250:\n            return rangeval[0]\n        elif 1250<p<=2500:\n            return rangeval[1]\n        elif 2500<p<=3750:\n            return rangeval[2]\n        elif 3750<p<=7500:\n            return rangeval[3]\n        elif 7500<p<=8750:\n            return rangeval[4]\n        elif 8750<p<=10000:\n            return rangeval[5]\n        elif 10000<p<=11250:\n            return rangeval[6]\n        elif 11250<p<=12500:\n            return rangeval[7]\n        elif 12500<p<=15000:\n            return rangeval[8]\n        elif 15000<p<=17500:\n            return rangeval[9]\n        elif p>17500:\n            return rangeval[10]\n    else:\n        return g\n    \ndata['GDP']=data[['GDP','percentage expenditure']].apply(impute_GDP,axis=1)","370d8dfe":"plt.figure(figsize=(10,10))\nsns.heatmap(pd.isnull(data),cmap='hot')","fa2763f5":"corr_data['Schooling'].sort_values(ascending=False)[:3]","293300a6":"corr_data[' thinness  1-19 years'].sort_values(ascending=False)[:3]","9c989cbd":"corr_data['Income composition of resources'].sort_values(ascending=False)[:3]","ad1bd805":"corr_data[' BMI '].sort_values(ascending=False)[:4]","ff07b6a6":"a = list(data.columns)\nb = []\nfor i in a:\n    c = data[i].isnull().sum()\n    b.append(c)\nnull_df = pd.DataFrame({'Feature name':a,'No. of Null Values':b})\nnull_df.sort_values(by='No. of Null Values',ascending=False)","adc5eb1e":"sns.scatterplot(x=data['Schooling'],y=data[' BMI ']);","2bf18322":"rangeval=[]\nrangeval.append(data[data['Schooling']<=2.5][' BMI '].mean())\nrangeval.append(data[(2.5<data['Schooling'] ) & (data['Schooling']<=5.0)][' BMI '].mean())\nrangeval.append(data[(5.0<data['Schooling'] ) & (data['Schooling']<=7.5)][' BMI '].mean())\nrangeval.append(data[(7.5<data['Schooling'] ) & (data['Schooling']<=10.0)][' BMI '].mean())\nrangeval.append(data[(10<data['Schooling'] ) & (data['Schooling']<=15.0)][' BMI '].mean())\nrangeval.append(data[data['Schooling']>15.0][' BMI '].mean())\nprint(\"sc<=25: \",rangeval[0])\nprint(\"2.5<sc<=5.0: \",rangeval[1])\nprint(\"5.0<sc<=7.5: \",rangeval[2])\nprint(\"7.5<sc<=10.0: \",rangeval[3])\nprint(\"10.0<sc<=15: \",rangeval[4])\nprint(\"sc>15: \",rangeval[5])\n\ndef impute_BMI(cols):\n    al=cols[0]\n    bmi=cols[1]\n    if pd.isnull(al):\n        if bmi<=2.5:\n            return  rangeval[0]\n        elif 2.5<bmi<=5.0:\n            return rangeval[1]\n        elif 5.0<bmi<=7.5:\n            return rangeval[2]\n        elif 7.5<bmi<=10.0:\n            return rangeval[3]\n        elif 10.0<bmi<=15:\n            return rangeval[4]\n        elif bmi>15:\n            return rangeval[5]\n    else:\n        return al\n    \ndata[' BMI ']=data[[' BMI ','Schooling']].apply(impute_BMI,axis=1)","5f6c499a":"plt.figure(figsize=(10,10))\nsns.heatmap(pd.isnull(data),cmap='hot')","faa67a09":"sns.scatterplot(x=data[' BMI '],y=data['Income composition of resources']);","ade03b00":"rangeval=[]\nrangeval.append(data[data[' BMI ']<=15]['Income composition of resources'].mean())\nrangeval.append(data[(15<data[' BMI '] ) & (data[' BMI ']<=30)]['Income composition of resources'].mean())\nrangeval.append(data[(30<data[' BMI '] ) & (data[' BMI ']<=45)]['Income composition of resources'].mean())\nrangeval.append(data[(45<data[' BMI '] ) & (data[' BMI ']<=60)]['Income composition of resources'].mean())\nrangeval.append(data[(60<data[' BMI '] ) & (data[' BMI ']<=80)]['Income composition of resources'].mean())\nrangeval.append(data[data[' BMI ']>80]['Income composition of resources'].mean())\nprint(\"sc<=25: \"   ,rangeval[0])\nprint(\"15<sc<=30: \",rangeval[1])\nprint(\"30<sc<=45: \",rangeval[2])\nprint(\"45<sc<=60: \",rangeval[3])\nprint(\"60<sc<=15: \",rangeval[4])\nprint(\"sc>15: \"    ,rangeval[5])\ndef impute_ICR(cols):\n    hep=cols[0]\n    dip=cols[1]\n    if pd.isnull(hep):\n        if dip<=15:\n            return rangeval[0]\n        elif 15<dip<=30:\n            return rangeval[1]\n        elif 30<dip<=45:\n            return rangeval[2]\n        elif 45<dip<=60:\n            return rangeval[3]\n        elif 60<dip<=80:\n            return rangeval[4]\n        elif dip>80:\n            return rangeval[5]\n    else:\n        return hep\n    \ndata['Income composition of resources']=data[['Income composition of resources',' BMI ']].apply(impute_ICR,axis=1)","7de3e41b":"plt.figure(figsize=(10,10))\nsns.heatmap(pd.isnull(data),cmap='hot')","0d2735dd":"sns.scatterplot(x=data['Income composition of resources'],y=data['Schooling']);","4df28691":"rangeval=[]\nrangeval.append(data[data['Income composition of resources']<=15]['Schooling'].mean())\nrangeval.append(data[(15<data['Income composition of resources'] ) & (data['Income composition of resources']<=30)]['Schooling'].mean())\nrangeval.append(data[(30<data['Income composition of resources'] ) & (data['Income composition of resources']<=45)]['Schooling'].mean())\nrangeval.append(data[(45<data['Income composition of resources'] ) & (data['Income composition of resources']<=60)]['Schooling'].mean())\nrangeval.append(data[(60<data['Income composition of resources'] ) & (data['Income composition of resources']<=80)]['Schooling'].mean())\nrangeval.append(data[data['Income composition of resources']>80]['Schooling'].mean())\nprint(\"sc<=25: \"   ,rangeval[0])\nprint(\"15<sc<=30: \",rangeval[1])\nprint(\"30<sc<=45: \",rangeval[2])\nprint(\"45<sc<=60: \",rangeval[3])\nprint(\"60<sc<=80: \",rangeval[4])\nprint(\"sc>80: \"    ,rangeval[5])\ndef impute_ICR(cols):\n    hep=cols[0]\n    dip=cols[1]\n    if pd.isnull(hep):\n        if dip<=15:\n            return rangeval[0]\n        elif 15<dip<=30:\n            return rangeval[1]\n        elif 30<dip<=45:\n            return rangeval[2]\n        elif 45<dip<=60:\n            return rangeval[3]\n        elif 60<dip<=80:\n            return rangeval[4]\n        elif dip>80:\n            return rangeval[5]\n    else:\n        return hep\n    \ndata['Schooling']=data[['Schooling','Income composition of resources']].apply(impute_ICR,axis=1)","10f652ec":"plt.figure(figsize=(10,10))\nsns.heatmap(pd.isnull(data),cmap='hot')","7df0ebbd":"corr_data[' thinness  1-19 years'].sort_values(ascending=False)","82981ac8":"corr_data[' thinness 5-9 years'].sort_values(ascending=False)","e03a1588":"sns.scatterplot(x=data['under-five deaths '],y=data[' thinness 5-9 years']);","0910eed0":"rangeval=[]\nrangeval.append(data[data['under-five deaths ']<=100][' thinness 5-9 years'].mean())\nrangeval.append(data[(100<data['under-five deaths '] ) & (data['under-five deaths ']<=250)][' thinness 5-9 years'].mean())\nrangeval.append(data[(250<data['under-five deaths '] ) & (data['under-five deaths ']<=500)][' thinness 5-9 years'].mean())\nrangeval.append(data[(500<data['under-five deaths '] ) & (data['under-five deaths ']<=800)][' thinness 5-9 years'].mean())\nrangeval.append(data[(800<data['under-five deaths '] ) & (data['under-five deaths ']<=1000)][' thinness 5-9 years'].mean())\nrangeval.append(data[(1000<data['under-five deaths '] ) & (data['under-five deaths ']<=1500)][' thinness 5-9 years'].mean())\nrangeval.append(data[(1500<data['under-five deaths '] ) & (data['under-five deaths ']<=1750)][' thinness 5-9 years'].mean())\nrangeval.append(data[data['under-five deaths ']>1750][' thinness 5-9 years'].mean())\nprint(\"sc<=25: \"       ,rangeval[0])\nprint(\"100<sc<=250: \"  ,rangeval[1])\nprint(\"250<sc<=500: \"  ,rangeval[2])\nprint(\"500<sc<=800: \"  ,rangeval[3])\nprint(\"800<sc<=1000: \" ,rangeval[4])\nprint(\"1000<sc<=1500: \",rangeval[5])\nprint(\"1500<sc<=1750 \" ,rangeval[6])\nprint(\"sc>1750: \"      ,rangeval[7])\ndef impute_population(c):\n    p=c[0]\n    i=c[1]\n    if pd.isnull(p):\n        if i<=100:\n            return  rangeval[0]\n        elif 100<i<=250:\n            return  rangeval[1]\n        elif 250<i<=500:\n            return  rangeval[2]\n        elif 500<i<=800:\n            return  rangeval[3]\n        elif 800<i<=1000:\n            return  rangeval[4]\n        elif 1000<i<=1500:\n            return  rangeval[5]\n        elif 1500<i<=1750:\n            return  rangeval[6]\n        elif i>1750:\n            return  rangeval[7]\n    else:\n        return p\n    \ndata[' thinness 5-9 years']=data[[' thinness 5-9 years','under-five deaths ']].apply(impute_population,axis=1)","cfebdc41":"plt.figure(figsize=(10,10))\nsns.heatmap(pd.isnull(data),cmap='hot')","24d1ed74":"sns.scatterplot(x=data[' thinness 5-9 years'],y=data[' thinness  1-19 years']);","68455424":"\nrangeval=[]\nrangeval.append(data[data[' thinness 5-9 years']<=5][' thinness  1-19 years'].mean())\nrangeval.append(data[(5<data[' thinness 5-9 years'] ) & (data[' thinness 5-9 years']<=10)][' thinness  1-19 years'].mean())\nrangeval.append(data[(10<data[' thinness 5-9 years'] ) & (data[' thinness 5-9 years']<=15)][' thinness  1-19 years'].mean())\nrangeval.append(data[(15<data[' thinness 5-9 years'] ) & (data[' thinness 5-9 years']<=20)][' thinness  1-19 years'].mean())\nrangeval.append(data[data[' thinness 5-9 years']>20][' thinness  1-19 years'].mean())\nprint(\"sc<=5: \"       ,rangeval[0])\nprint(\"5<sc<=10: \"  ,rangeval[1])\nprint(\"10<sc<=15: \"  ,rangeval[2])\nprint(\"15<sc<=20: \"  ,rangeval[3])\nprint(\"sc>20: \"      ,rangeval[4])\ndef impute_population(c):\n    p=c[0]\n    i=c[1]\n    if pd.isnull(p):\n        if i<=100:\n            return  rangeval[0]\n        elif 100<i<=250:\n            return  rangeval[1]\n        elif 250<i<=500:\n            return  rangeval[2]\n        elif 500<i<=800:\n            return  rangeval[3]\n        elif 800<i<=1000:\n            return  rangeval[4]\n        elif 1000<i<=1500:\n            return  rangeval[5]\n        elif 1500<i<=1750:\n            return  rangeval[6]\n        elif i>1750:\n            return  rangeval[7]\n    else:\n        return p\n    \ndata[' thinness  1-19 years']=data[[' thinness  1-19 years',' thinness 5-9 years']].apply(impute_population,axis=1)","17fa7fc1":"plt.figure(figsize=(10,10))\nsns.heatmap(pd.isnull(data),cmap='hot')","b8cff873":"a=list(data.columns)\nb=[]\nfor i in a:\n    c=data[i].isnull().sum()\n    b.append(c)\nnull_df=pd.DataFrame({'Feature name':a,'no. of Nan':b})\nnull_df","806354b9":"data[' BMI '] = data[' BMI '].fillna(value=data[' BMI '].mean())\ndata['Income composition of resources'] = data['Income composition of resources'].fillna(value=data['Income composition of resources'].mean())\ndata['Schooling']= data['Schooling'].fillna(value=data['Schooling'].mean())","beb54bfb":"sns.distplot(lifeExpectancy);","d3caf401":"data.info()","6b744f7f":"data['Country'].unique()","37905d5b":"data['Country'].nunique()","11d5ce95":"data['Status'].unique()","2df09c0a":"Country_dummy = pd.get_dummies(data['Country'])","6969bb70":"Status_dummy = pd.get_dummies(data['Status'])","836e6b61":"data.drop(['Country','Status'],inplace=True,axis=1)","cc98c418":"data =pd.concat([data ,Country_dummy,Status_dummy],axis=1)","9e1be35d":"data.info()","9c79881b":"data.head()","02b4dada":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(data, lifeExpectancy, test_size=0.30, random_state=101)","273f4e3c":"from sklearn.linear_model import LinearRegression\nLinear_model= LinearRegression()\nLinear_model.fit(X_train,y_train)","67ebece7":"predictions1=Linear_model.predict(X_test)\npredictions1[0:10]","dc6df652":"from sklearn.metrics import mean_squared_error\nprint(mean_squared_error(y_test,predictions1)**(0.5))","2063813c":"from sklearn.metrics import r2_score\nr2_score(y_test,predictions1)","bf86339b":"from sklearn.linear_model import Ridge\nridge_model=Ridge()\nridge_model.fit(X_train,y_train)","279d2e01":"predictions2=ridge_model.predict(X_test)\nprint(mean_squared_error(y_test,predictions2)**(0.5))","f9c3bf30":"from sklearn.linear_model import Lasso\nlasso_model=Lasso(alpha=0.00000001)\nlasso_model.fit(X_train,y_train)","0ce2a113":"predictions3=lasso_model.predict(X_test)\nprint(mean_squared_error(y_test,predictions3)**(0.5))","d126205d":"* Use schooling to impute BMI\n* Use BMI to impute income\n* Use income to impute schooling","d680f9f6":"There is a huge positive skew for this distribution. Lets look at its Kurtosis value.","6ae88ff3":"Since there are nan values at the same places for Diptheria and Polio, and total nan values are only 20 we fill each with their mean values","4711e811":"Repeat the nan replacement algorithm same way"}}