{"cell_type":{"68bff380":"code","ca880340":"code","015da6f5":"code","42ae83cc":"code","dbdc21ec":"code","e1c60165":"code","2ce13974":"code","0e05889e":"code","6e11e4cb":"code","b9f27ce3":"code","ea87d1ee":"code","41e4f77f":"code","d4c62020":"code","b7c0599e":"code","5f854280":"code","8e21efad":"code","17c7a064":"code","e02bd365":"code","7162bfbf":"code","9e2b160a":"code","2bf965b8":"code","469571f7":"code","06e868f7":"code","e3eefd4a":"code","ff42094b":"code","3ba43d84":"code","b08e5df8":"code","a9e7bbfa":"code","4678819c":"code","2bbc77fa":"code","b7fcc732":"code","66a84c70":"code","70bdca8a":"code","2d8b4550":"code","9734a89c":"code","7d1fc03c":"markdown","e2c3d30c":"markdown","721de3e6":"markdown","10febeb4":"markdown","9507bf03":"markdown","471923f1":"markdown","0b6debf1":"markdown","40e73c9e":"markdown","6a2a012f":"markdown","779bb8f6":"markdown","a08e00b8":"markdown","eeb3d630":"markdown","aaf29b31":"markdown","e71e201e":"markdown","1feeb4c4":"markdown","e75b6962":"markdown","7f1f155e":"markdown","898092bc":"markdown","f6e9a7b2":"markdown","75fa43e4":"markdown"},"source":{"68bff380":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom scipy.stats import kruskal,mannwhitneyu,ttest_ind\nimport os\nos.chdir('\/kaggle\/input\/')","ca880340":"df = pd.read_csv('master.csv')","015da6f5":"df.head()","42ae83cc":"df.info()","dbdc21ec":"df.columns #checking the columns","e1c60165":"df.drop(['HDI for year','country-year',' gdp_for_year ($) '],axis=1,inplace=True)","2ce13974":"df.head()","0e05889e":"df['year'].unique() #unique years","6e11e4cb":"plt.figure(figsize=(10,6))\nsns.barplot(x = 'generation',y='suicides\/100k pop',data = df,hue = 'sex')\nplt.title('Profile of suicides by generation and sex')\nplt.show()","b9f27ce3":"plt.figure(figsize=(10,6))\nsns.set()\nplt.title('Profile of suicides by age and sex')\nsns.barplot(x = 'age',y = 'suicides\/100k pop',data = df,hue='sex')\nplt.show()","ea87d1ee":"x = df.groupby(['sex'])['suicides\/100k pop'].mean()\ny = df.groupby(['generation'])['suicides\/100k pop'].mean()\nz = df.groupby(['sex'])['suicides\/100k pop'].std()","41e4f77f":"y #mean of suicides by generation","d4c62020":"x #mean of suicides by sex","b7c0599e":"z #standard deviation by sex. It's really big.","5f854280":"sns.set()\nplt.figure(figsize=(9,7))\nplt.title('Profile of suicide\/100k pop and sex')\nk = sns.boxplot(x='sex',y = 'suicides\/100k pop', data = df)\nk.set_xticklabels(k.get_xticklabels(), rotation=45)\nplt.show()","8e21efad":"xy = df[df['sex'] == 'male'].iloc[:,4].values\nxx = df[df['sex'] == 'female'].iloc[:,4].values","17c7a064":"stat, p = mannwhitneyu(xx,xy)","e02bd365":"p","7162bfbf":"ttest_ind(xx,xy)[1]","9e2b160a":"sns.set()\nplt.figure(figsize=(9,7))\nplt.title('Profile of suicide\/100k pop and year')\nk = sns.boxplot(x='age',y = 'suicides\/100k pop', data = df)\nk.set_xticklabels(k.get_xticklabels(), rotation=45)\nplt.show()","2bf965b8":"z1 = df[df['age'] == '15-24 years'].iloc[:,4].values\nz2 = df[df['age'] == '25-34 years'].iloc[:,4].values\nz3 = df[df['age'] == '35-54 years'].iloc[:,4].values\nz4 = df[df['age'] == '55-74 years'].iloc[:,4].values\nz5 = df[df['age'] == '75+ years'].iloc[:,4].values","469571f7":"s,p = kruskal(z1,z2,z3,z4,z5)","06e868f7":"p","e3eefd4a":"a = df.groupby('year')['suicides\/100k pop'].mean()","ff42094b":"x = a.index\ny = a.values","3ba43d84":"plt.figure(figsize=(9,6))\nplt.title('Mean of suicides over world in the years')\nplt.ylabel('Mean of suicides')\nplt.xlabel('Year')\nplt.plot(x,y)","b08e5df8":"plt.figure(figsize=(9,6))\nsns.scatterplot(x = 'suicides\/100k pop',y = 'gdp_per_capita ($)',data = df)\nplt.title('Suicides and GDP')\nplt.show()","a9e7bbfa":"a = df.groupby(['country'])['suicides\/100k pop'].mean()","4678819c":"b = a.sort_values().tail(10)\nb","2bbc77fa":"plt.figure(figsize=(9,6))\nplt.title('Mean of suicides index by country: 1987 - 2016')\nplt.ylabel('Mean of suicides')\nb.plot.bar()","b7fcc732":"c = (df.groupby(['year','country'])['suicides\/100k pop'].mean())","66a84c70":"c","70bdca8a":"d = df[df['year'] == 1985] #First year in data set\ne = df[df['year'] == 1989] #Union of West Germany and East Germany \nf = df[df['year'] == 1991] #End of Soviet Union\ng = df[df['year'] == 1995] #First crisis of neoliberalism in Russian Federation, Brazil, Argentina and Mexico.\nh = df[df['year'] == 2008] #Crisis of capitalism\nj = df[df['year'] == 2016] #Last year in data set","2d8b4550":"k = [d,e,f,g,h,j]\nm = [1985,1989,1991,1995,2008,2016]\nc = ['b','k','y','r','g','m']\nfor i in range(len(k)):\n    aa = k[i].groupby(['country'])['suicides\/100k pop'].mean()\n    bb = aa.sort_values().tail(10)\n    plt.figure(figsize=(9,6))\n    plt.title('Top 10: Mean of suicides index by country: '+str(m[i]))\n    plt.ylabel('Mean of suicides')\n    bb.plot.bar(color=c[i])\n    plt.show()","9734a89c":"k = [d,e,f,g,h,j]\nm = [1985,1989,1991,1995,2008,2016]\nc = ['b','k','y','r','g','m']\nfor i in range(len(k)):\n    aa = k[i].groupby(['country'])['suicides\/100k pop'].mean()\n    bb = aa.sort_values().head(5)\n    plt.figure(figsize=(9,6))\n    plt.title('Lower 5: Mean of suicides index by country: '+str(m[i]))\n    plt.ylabel('Mean of suicides')\n    bb.plot.bar(color=c[i])\n    plt.show()","7d1fc03c":"Let's check the suicides by country.","e2c3d30c":"The p-value is really low. That shows the significant difference between suicides in men and women. If I use the t-test, the result is the same, as we observe below.","721de3e6":"The p value is lower than 0.05. There're significant difference between groups.","10febeb4":"We can observe difference between sex in suicide cases. The same occurs by generation.","9507bf03":"Let's make the same, but with the Last 10 in suicides","471923f1":"After the end of Socialism in East Europe, the suicide rate increased in this region. May be the negative changes caused by the capitalism, as unemployment and increase of homeless? South Korea and Austria appeared with high rates. ","0b6debf1":"In 1995 we observe that is the top year in suicides. Why..","40e73c9e":"The suicide rate is higher in elder people than in younger.","6a2a012f":"## Suicide in the world - EDA and statistical analysis","779bb8f6":"It's not obvious, but I'll assume that distribution isn't normal. Then, I must use non-parametrics tests. In this case, the Mann-Whitney is the correct test for this situation.","a08e00b8":"## Conclusions","eeb3d630":"The correlation between suicide rate and GDP per capita is observed, but is low.","aaf29b31":"1995 is the top year in mean of suicides in the world. What was happening in this year? May be the crisis in East Europe?","e71e201e":"The most parts of countries belongs to extinct USSR. Let's check if it was because of the finish of socialism or with the capitalism crisis","1feeb4c4":"The difference between sex looks really different. However, the standard desviation is big too. We must use statistical tools to confirm the difference.","e75b6962":"The suicide rate is higher in men, when compared to women.","7f1f155e":"Removing irrelevant data and HDI for year, because there're few datas","898092bc":"The elder are more likely able to suicide. May be the solitude... \nMan are more likely too. Why...","f6e9a7b2":"It looks like the suicides increase when the GDP\/per capita decrease. However it's a weak correlation","75fa43e4":"There're five independent groups to be compared. If the normal distribution is assumed, we should use ANOVA. However, we assumed non-normal distribution. In this case, the Kruskal-Walls is the most appropriate. "}}