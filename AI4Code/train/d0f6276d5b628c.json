{"cell_type":{"7e768926":"code","701e71dc":"code","0213a381":"code","e6ac322b":"code","95e3d131":"code","68faaf9a":"code","49ed9ed1":"code","4d76baa8":"code","b169c6b5":"code","8c85ca5d":"code","2a5b3a48":"code","1c7c5621":"code","cde76a6c":"code","5d51cbd5":"code","fb345c9e":"code","835e1853":"code","e73215f0":"code","bd46c63f":"code","d10e1cf3":"code","6904f1eb":"code","423f6ace":"code","5a8e4ccd":"code","02072725":"code","14b163e3":"code","f2bd8180":"code","4d33d9b7":"code","91e4c97e":"code","eb53dff2":"code","6c1e2df7":"code","93c894c1":"code","a8edb0a0":"code","7f24c419":"code","66426ee0":"code","fba9a6c6":"code","54391975":"code","9b45f3a5":"markdown","3ba31200":"markdown","5e79dd29":"markdown","31b38e87":"markdown","daae48c7":"markdown","a5296e22":"markdown","aa0342c0":"markdown","548ccbe8":"markdown","789544c0":"markdown","ff17e8c8":"markdown","62106021":"markdown","cf150de4":"markdown","9180f0a9":"markdown","2db26d06":"markdown","9b330da3":"markdown","d40e499f":"markdown","e6bd414d":"markdown"},"source":{"7e768926":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nfrom matplotlib import pyplot as plt","701e71dc":"df=pd.read_csv('\/kaggle\/input\/amazon-movie-ratings\/Amazon.csv')\ndf.head()","0213a381":"df.info()","e6ac322b":"df_1=df.fillna(0.0)\ndf_1.head()","95e3d131":"\nplt.figure(figsize=(20,10))\nsns.heatmap(df.drop('user_id',axis=1),cmap=\"YlGnBu\")\nplt.show()","68faaf9a":"plt.figure(figsize=(20,5))\nplt.title('Total Rating in Movies')\nplt.plot(df.drop('user_id',axis=1).sum())\nplt.xticks(rotation=90)\nplt.show()","49ed9ed1":"df.shape","4d76baa8":"arr=[]\nfor i in df_1.columns:\n  #print(df[i].isnull().sum())\n  if df[i].isnull().sum()!=4848:\n    arr.append(i)\n\ndf_actual=df[arr]\ndf_actual.head()","b169c6b5":"df_actual.shape","8c85ca5d":"arr=[]\npep_cnt=[]\nfor col in df_actual.drop('user_id',axis=1).columns:\n  arr.append(df_actual[col].sum()\/(4848-df_actual[col].isnull().sum()))\n  pep_cnt.append((4848-df_actual[col].isnull().sum()))\nplt.figure(figsize=(20,5))\nplt.title('effective stars per movie')\nplt.ylabel('Effective Ratings')\nplt.plot(arr)\nplt.show()","2a5b3a48":"df_ranked=pd.DataFrame({'movie_name':np.arange(1,207,1),'eff_score':arr,'votes':pep_cnt})\ndf_ranked.head()","1c7c5621":"df_ranked.sort_values(by=['eff_score','votes'],ascending=False)","cde76a6c":"x=df_ranked[df_ranked['eff_score']>4]\nBest_movie_per_rating=[]\nfor i in x['movie_name']:\n  Best_movie_per_rating.append(i)\nnp.asarray(Best_movie_per_rating).reshape(23,7)","5d51cbd5":"df_ranked.sort_values(by=['votes','eff_score'],ascending=False)","fb345c9e":"x=df_ranked[df_ranked['votes']>4]\nBest_movie_per_popularity=[]\nfor i in x['movie_name']:\n  Best_movie_per_popularity.append(i)\n#len(Best_movie_per_popularity)\nnp.asarray(Best_movie_per_popularity).reshape(19,3)","835e1853":"plt.figure(figsize=(20,8))\nplt.title('Votes per rating')\nplt.scatter(df_ranked['eff_score'],df_ranked['votes'],color='g',s=150)\nplt.show()","e73215f0":"consumer=df.T\nconsumer.head()","bd46c63f":"consumer.shape","d10e1cf3":"print('Given rating :')\n\n207-consumer.isnull().sum()","6904f1eb":"m=consumer.isnull().sum()\nplt.figure(figsize=(20,8))\nplt.title('People gave rating')\nplt.scatter(np.arange(1,len(m)+1),207-m,s=2)\nplt.show()","423f6ace":"consumer.fillna(0.0,inplace=True)","5a8e4ccd":"c1=consumer.drop('user_id',axis=0)\nc1.head()","02072725":"average_rating=[]\nratings_given=[]\nfor i in c1.columns:\n  val=c1[i].sum()\/(len(c1[c1[i]>0]))\n  average_rating.append(val)\n  ratings_given.append(len(c1[c1[i]>0]))\nplt.figure(figsize=(15,8))\nplt.title('Consumer ratings')\nplt.xlabel('Ratings')\nplt.ylabel('consumer id')\nplt.scatter(np.arange(1,len(average_rating)+1,1),average_rating)\nplt.show()","14b163e3":"con_data=pd.DataFrame({'id':np.arange(1,4849,1),'av_rating':average_rating,'rating_count':ratings_given})\ncon_data.head()","f2bd8180":"con_data.sort_values(by=['av_rating','rating_count'],ascending=False)","4d33d9b7":"con_data.sort_values(by=['rating_count','av_rating'],ascending=False)","91e4c97e":"len(con_data.loc[(con_data.av_rating<2) & (con_data.rating_count<2)])\n","eb53dff2":"fin_data=con_data.loc[(con_data.av_rating>=2) | (con_data.rating_count>=2)]","6c1e2df7":"fin_data","93c894c1":"well_subscribers=[]\n\n#print(\"The list of names of good subscribers are :\")\nfor i in fin_data['id']:\n  try:\n    #print(df['user_id'][i])\n    well_subscribers.append(df['user_id'][i])\n  except:\n    pass\nwell_subscribers=pd.DataFrame({'names':well_subscribers})\nwell_subscribers.to_csv('well_subscribers.csv',index=False)","a8edb0a0":"best_film_data=con_data.loc[(con_data.av_rating>5) | (con_data.rating_count>=4)]","7f24c419":"len(best_film_data)","66426ee0":"best_film_data","fba9a6c6":"movie_name=[]\n\nfor i in best_film_data['id']:\n  for j in df.iloc[i-1][df.iloc[i-1].isnull()==False].index[1:]:\n    if j  not in movie_name:\n      movie_name.append(j)\n","54391975":"movie_name","9b45f3a5":"#### Best popularity recommendation :","3ba31200":"## HURRAH!\nWe've completed a recommendation system projects.\n\nIf you have like this projct go through my other projects on other topics on [kaggle](https:\/\/kaggle.com\/sagnik1511\/notebooks) or in [github](https:\/\/github.com\/sagnik1511\/repositories).\n\n# THANK YOU :)","5e79dd29":"# Statistical Rating analysis and Customer behavioural Analysis:\n\nThis project is based on one of the most interesting topic : **Movie Recommendations**. In this notebook we are going to check whether we can find top movies as per rating and popularity and other features.\n\nAs we are going through the rating we will also try to find the best audiences and prepare medias for them which will be a **GOAL** of this project.","31b38e87":"The new dataframe has the same shape as the previous dataframe which indicates that every single movie has atleast one ratings by this far.","daae48c7":"# Movie Recommendation based on votes and ratings :\n\nIn this part we are going to check for the highest rated and the highets voted films. In this type section we can find the best suited movie for the mass and then can produce the same type of criteria which will be beneficial for the production houses to collect more profits.","a5296e22":"# Behavorial Analysis of consumer :\n\nAs the company should produce best content as per the rating also they should find out the consumers which are not showing healthy behaviour ( giving ratings without visiting and others).","aa0342c0":"Now we are going to read the files and then visualize it for the first time, this might help us to understand that how we can wrangle the data.","548ccbe8":"These whole project ends here declaring these movies which are the most effective towards subscribers and if contents are produced similar to this ones, thus creating profit .\n","789544c0":"### Libraries :","ff17e8c8":"# UPVOTE if you like this notebook :)","62106021":"So the fin_data contains all the consumer who are very light or happy behavorial and not making any degrdataion while creating or punlishing any content. ","cf150de4":"As they are giving reviews on more than 4 contents we are predicting he\/she is amazed with the content and also the platform. If we can produce the content similar to these people's liked list that would be nice for growth of the platform i.e. for Amazon.","9180f0a9":"We can conclude here that some movies have been rated by more consumer and some are very less.","2db26d06":"This dataset has been produced on the total votes and effective ratings. This will help us get the best recommendation as per the client response found in the dataset.","9b330da3":"After visualizing the average rating we can identify that most of the movies are rated in a range greater than 4 and less than 5.\n\nstill there are a number of movies (very less) which have recieved very low consumer rating.","d40e499f":"#### Best Rating Recommendation","e6bd414d":"We can see that every single subscriber haven't given review or rating for every sigle movie but for some single ones. This helps us understand the consumer\/subscribers taste of content."}}