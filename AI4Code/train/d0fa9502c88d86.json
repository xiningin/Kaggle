{"cell_type":{"3592abc4":"code","6186b913":"code","575bb28a":"code","a6cf8087":"code","da65d11d":"code","c7560c53":"code","a3277f73":"markdown"},"source":{"3592abc4":"import json\nimport os\n\nimport numpy as np\nimport pandas as pd\nfrom tqdm import tqdm","6186b913":"data = {'stars': [], 'text': [], 'review_id': []}\n\nwith open('..\/input\/yelp_academic_dataset_review.json') as f:\n    for line in tqdm(f):\n        review = json.loads(line)\n        data['stars'].append(review['stars'])\n        data['text'].append(review['text'])\n        data['review_id'].append(review['review_id'])","575bb28a":"df = pd.DataFrame(data)\n\nprint(df.shape)\ndf.head()","a6cf8087":"df['stars'] = df['stars'].astype('category')\ndf['text'] = df['text'].astype(str)\ndf['review_id'] = df['review_id'].astype(str)","da65d11d":"df.shape","c7560c53":"df.to_pickle('reviews.pkl')","a3277f73":"It seems that in the recent version of the dataset, the original csv file format was removed, and replaced by JSONs. This extremely simple script converts the json format into a single CSV file, which contains only the text and the associated rating. Feel free to use the output."}}