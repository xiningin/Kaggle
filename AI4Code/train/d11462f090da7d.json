{"cell_type":{"bad84e50":"code","ce793174":"code","ed617546":"code","8a7279b4":"code","376632ba":"code","1c3b8471":"code","d306e44e":"code","06810d58":"code","9ffde423":"code","c56b16e2":"code","ef40653a":"code","64bb1059":"code","3092fece":"code","12fef91d":"code","ce7e088f":"code","ddfab3cf":"code","38e39f43":"code","35bd0542":"code","963bff22":"code","3b82b582":"code","b476d0aa":"code","6a39b983":"code","da1b31a2":"code","4ec69747":"code","2d25f1a8":"code","fd8a04bc":"code","18401ac0":"code","14321033":"code","defec547":"code","b4ffba79":"code","0f2dd43a":"code","cfe6db3e":"code","788269e6":"code","bca8cfa8":"code","8728860b":"code","d910ab29":"code","5f6c73d5":"code","00558714":"code","593428fd":"code","ef1d6c4a":"code","7a572c08":"code","42b6e7c2":"code","12aa3633":"code","7e301f62":"code","d642ded8":"code","e2106ced":"code","b55b5492":"code","2ee8a064":"code","5e0e5e4d":"code","4fd8cf1e":"code","54f6205c":"code","566d1457":"code","74dca0cd":"code","0de38c72":"code","bae31dd7":"code","ed484a0b":"code","053fa7ef":"code","ce8a1200":"code","0aa10535":"code","75d7e3d3":"code","b5291f6f":"markdown","0e780294":"markdown","32b641c8":"markdown","e146c751":"markdown","4b9637a6":"markdown","9045e54c":"markdown","2db9e3eb":"markdown","c14c58d8":"markdown","a4a63215":"markdown","c8efbb8b":"markdown","b948a981":"markdown","bba702ea":"markdown","1570ada3":"markdown","8298397b":"markdown","4cb81aaf":"markdown","95e17248":"markdown","a9ed9238":"markdown","f6c4bcaf":"markdown","94615bc4":"markdown","dab87bbe":"markdown","99cbe3e6":"markdown","39ebf28f":"markdown","fef9d8b1":"markdown","6735ad65":"markdown","40cae9dc":"markdown","f2d07686":"markdown","60a889e1":"markdown","b5feab47":"markdown","d36eafcf":"markdown","4aac7a4d":"markdown","ea690463":"markdown","238008c1":"markdown","189e81b0":"markdown"},"source":{"bad84e50":"import pandas as pd\nimport numpy as np\nimport holoviews as hv\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nhv.extension('bokeh')","ce793174":"!pip install hvplot\n","ed617546":"import hvplot as hv\nimport hvplot.pandas\nimport holoviews as hv\nfrom hvplot import hvPlot","8a7279b4":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","376632ba":"data=pd.read_csv(\"\/kaggle\/input\/okcupid-profiles\/okcupid_profiles.csv\")\ndata.head(5)","1c3b8471":"data.isna().sum()","d306e44e":"plt.figure(figsize=(12, 5))\n\ndata.isna().sum().plot(kind=\"bar\")\nplt.xticks(rotation=50)\n\n","06810d58":"columns=[\"body_type\",\n      \"diet\", \"education\",\"drinks\",\n      \"drugs\",\"ethnicity\",\n      \"job\",\"offspring\",\"pets\",\"religion\",\n      \"sign\", \"smokes\", \"speaks\"\n     ]\ndata[columns]=data[columns].fillna(\"No info\")\ndata[\"height\"]=data[\"height\"].fillna(0)\ndata[\"income\"]=data[\"income\"].replace(-1, 0)\n\n## Combining essays into 1 profile text\ndata[\"profile text\"] = (data[\"essay0\"]\n    .str\n    .cat(data.iloc[:,22:-1]\n    .astype(str), sep=\" \"))\n\ndata=data.drop(data.iloc[:,21:-1], axis=1)\ndata[\"profile text\"]=data[\"profile text\"].fillna(\"No info\")\ndata[\"Total Words\"]=data[\"profile text\"].str.split().str.len()\n\n\ndata.head(5)","9ffde423":"data.isna().sum() ## Double- Checking","c56b16e2":"data.describe()","ef40653a":"data.dtypes","64bb1059":"data.corr().style.background_gradient()","3092fece":"data.hvplot.hist(\"age\")","12fef91d":"df=(data\n .groupby(\"age\")\n    [[\"sex\"]]\n .count()\n)\ndf[\"% of participants\"]=(df[\"sex\"]\/df[\"sex\"].sum())*100\ndf=df.rename(columns= {\"sex\":\"number of participants\"})\ndf.hvplot.bar(x='age', y='number of participants', rot=90)\n","ce7e088f":"plt.figure(figsize=(10, 5))\nsns.countplot(x='age', data=data,\nhue='sex',palette=\"rocket\",\norder=data['age'].value_counts().iloc[:40].index);\n","ddfab3cf":"sns.catplot(x='age', data = data, kind='count', palette='pastel', hue='sex', \n            height=5, \n            aspect=2)","38e39f43":"(data\n .groupby(\"age\")\n [[\"Total Words\"]]\n .mean()\n .sort_values(by=\"Total Words\", ascending=False)\n).hvplot.bar(x='age', y='Total Words', rot=90)\n","35bd0542":"df=(data\n .groupby(\"status\")\n    [[\"sex\"]]\n .count()\n)\ndf[\"% of participants\"]=(df[\"sex\"]\/df[\"sex\"].sum())*100\ndf=df.rename(columns= {\"sex\":\"number of participants\"})\ndf\n","963bff22":"df.hvplot.bar(x='status', y='number of participants', rot=90)\n","3b82b582":"plt.figure(figsize=(20, 5))\nsns.countplot(x='status', data=data,\nhue='sex',palette=\"rocket\",\norder=data['status'].value_counts().iloc[:40].index);\n","b476d0aa":"(data\n.groupby(\"status\")\n [[\"Total Words\"]]\n .mean()\n).hvplot.bar(x=\"status\", y=\"Total Words\")","6a39b983":"df=(data\n .groupby(\"orientation\")\n    [[\"sex\"]]\n .count()\n    .sort_values(by=\"sex\", ascending=False)\n)\ndf[\"% of participants\"]=(df[\"sex\"]\/df[\"sex\"].sum())*100\ndf=df.rename(columns= {\"sex\":\"number of participants\"})\ndf","da1b31a2":"df.hvplot.bar(x='orientation', y='number of participants', rot=90)\n","4ec69747":"plt.figure(figsize=(10, 5))\nsns.countplot(x='orientation', data=data,\nhue='sex',\norder=data['orientation'].value_counts().iloc[:10].index);\n","2d25f1a8":"data['orientation'].value_counts()","fd8a04bc":"(data\n.groupby(\"orientation\")\n [[\"Total Words\"]]\n .median()\n).hvplot.bar(x=\"orientation\", y=\"Total Words\")","18401ac0":"df=(data\n .groupby(\"body_type\")\n    [[\"sex\", \"Total Words\"]]\n .count()\n .sort_values(by=\"sex\", ascending=False)\n)\ndf[\"% of participants\"]=(df[\"sex\"]\/df[\"sex\"].sum())*100\ndf=df.rename(columns= {\"sex\":\"number of participants\"})\ndf","14321033":"df.hvplot.bar(x='body_type', y='number of participants', rot=90)\n","defec547":"df.hvplot.bar(x='body_type', y='Total Words', rot=90)\n","b4ffba79":"plt.figure(figsize=(10, 5))\nsns.countplot(x='body_type', data=data,\nhue='sex',\norder=data['body_type'].value_counts().iloc[:10].index);\n","0f2dd43a":"plt.figure(figsize=(10, 5))\nsns.countplot(x='body_type', data=data,\nhue='drinks',\norder=data['body_type'].value_counts().iloc[:10].index);","cfe6db3e":"df=(data\n .groupby(\"diet\")\n    [[\"sex\", \"Total Words\"]]\n .count()\n .sort_values(by=\"sex\", ascending=False)\n)\ndf[\"% of participants\"]=(df[\"sex\"]\/df[\"sex\"].sum())*100\ndf=df.rename(columns= {\"sex\":\"number of participants\"})\ndf.hvplot.bar(x='diet', y='number of participants', rot=90)\n","788269e6":"df","bca8cfa8":"plt.figure(figsize=(15, 5))\nsns.countplot(x='diet', data=data,\nhue='sex',\norder=data['diet'].value_counts().iloc[:10].index);","8728860b":"df=(data\n .groupby(\"drinks\")\n    [[\"sex\", \"Total Words\"]]\n .count()\n .sort_values(by=\"sex\", ascending=False)\n)\ndf[\"% of participants\"]=(df[\"sex\"]\/df[\"sex\"].sum())*100\ndf=df.rename(columns= {\"sex\":\"number of participants\"})\ndf.hvplot.bar(x='drinks', y='number of participants', rot=90)","d910ab29":"df.hvplot.bar(x='drinks', y='Total Words', rot=90)","5f6c73d5":"plt.figure(figsize=(15, 5))\nsns.countplot(x='drinks', data=data,\nhue='sex',\norder=data['drinks'].value_counts().iloc[:10].index);","00558714":"(data\n.groupby(\"drinks\")\n [[\"Total Words\"]]\n .median()\n .sort_values(by=\"Total Words\", ascending=False)\n).hvplot.bar(x=\"drinks\", y=\"Total Words\")","593428fd":"df=(data\n .groupby(\"drugs\")\n    [[\"sex\"]]\n .count()\n .sort_values(by=\"sex\", ascending=False)\n)\ndf[\"% of participants\"]=(df[\"sex\"]\/df[\"sex\"].sum())*100\ndf=df.rename(columns= {\"sex\":\"number of participants\"})\ndf.hvplot.bar(x='drugs', y='number of participants', rot=90)","ef1d6c4a":"(data\n.groupby(\"drugs\")\n [[\"Total Words\"]]\n .median()\n .sort_values(by=\"Total Words\", ascending=False)\n).hvplot.bar(x=\"drugs\", y=\"Total Words\")","7a572c08":"plt.figure(figsize=(15, 5))\nsns.countplot(x='drugs', data=data,\nhue='sex',\norder=data['drugs'].value_counts().iloc[:10].index);","42b6e7c2":"plt.figure(figsize=(15, 5))\n\nsns.set_theme(style=\"whitegrid\")\n\nsns.boxenplot(x=\"income\", y=\"age\",\n              data=data);","12aa3633":"mask=data[\"income\"]!=0\ndf=(data[mask]\n .groupby(\"income\")\n    [[\"sex\", \"Total Words\"]]\n .count()\n)\n\ndf=df.rename(columns= {\"sex\":\"number of participants\"})\n#df.hvplot.bar(x='age', y='number of participants', rot=90)\ndf","7e301f62":"df.hvplot.bar(x='income', y='Total Words', rot=90)\n","d642ded8":"df=(data\n .groupby(\"education\")\n    [[\"sex\"]]\n .count()\n .sort_values(by=\"sex\", ascending=False)\n)\ndf[\"% of participants\"]=(df[\"sex\"]\/df[\"sex\"].sum())*100\ndf=df.rename(columns= {\"sex\":\"number of participants\"})\ndf.hvplot.bar(x='education', y='number of participants', rot=45)","e2106ced":"df=(data\n .groupby(\"ethnicity\")\n    [[\"sex\"]]\n .count()\n .sort_values(by=\"sex\", ascending=False)\n)\ndf[\"% of participants\"]=(df[\"sex\"]\/df[\"sex\"].sum())*100\ndf=df.rename(columns= {\"sex\":\"number of participants\"})\ndf","b55b5492":"plt.figure(figsize=(12, 7))\nsns.countplot(y='ethnicity', data=data, hue=\"sex\",\npalette='Reds',\norder = data['ethnicity'].value_counts().iloc[:10].index)\nplt.show()","2ee8a064":"df=(data\n .groupby(\"height\")\n    [[\"sex\"]]\n .count()\n .sort_values(by=\"sex\", ascending=False)\n)\ndf[\"% of participants\"]=(df[\"sex\"]\/df[\"sex\"].sum())*100\ndf=df.rename(columns= {\"sex\":\"number of participants\"})\ndf.hvplot.bar(x='height', y='number of participants', rot=45)\n","5e0e5e4d":"data[\"height\"].describe()","4fd8cf1e":"df=(data\n .groupby(\"sex\")\n [[\"age\"]]\n .count()\n)\ndf[\"% of participants, sex\"]=(df[\"age\"]\/df[\"age\"].sum())*100\ndf","54f6205c":"(data\n .groupby(\"sex\")\n [[\"age\"]]\n .count()\n)\n","566d1457":"plt.figure(figsize=(12, 7))\nsns.countplot(y = 'pets', data=data,\nhue='sex', palette='flare',\norder=data['pets'].value_counts().iloc[:].index)\nplt.show()","74dca0cd":"passion=data[data[\"profile text\"].str.contains(\"passion\")]\n\ndf_p=(passion\n.groupby(\"sex\")\n [[\"sex\"]]\n .count()\n)\n\ndf_p[\"%\"]=(df_p[\"sex\"]\/df_p[\"sex\"].sum())*100\npd.options.display.float_format = '{:.2f}%'.format\ndf_p","0de38c72":"len(passion)","bae31dd7":"love=data[data[\"profile text\"].str.contains(\"love\")]\n\ndf_l=(love\n.groupby(\"sex\")\n [[\"sex\"]]\n .count()\n)\n\ndf_l[\"%\"]=(df_l[\"sex\"]\/df_l[\"sex\"].sum())*100\npd.options.display.float_format = '{:.2f}%'.format\ndf_l","ed484a0b":"rel=data[data[\"profile text\"].str.contains(\"relationship\")]\n\ndf_r=(rel\n.groupby(\"sex\")\n [[\"sex\"]]\n .count()\n)\n\ndf_r[\"%\"]=(df_r[\"sex\"]\/df_r[\"sex\"].sum())*100\npd.options.display.float_format = '{:.2f}%'.format\ndf_r","053fa7ef":"rel=data[data[\"profile text\"].str.contains(\"serious relationship\")]\n\ndf_r=(rel\n.groupby(\"sex\")\n [[\"sex\"]]\n .count()\n)\n\ndf_r[\"%\"]=(df_r[\"sex\"]\/df_r[\"sex\"].sum())*100\npd.options.display.float_format = '{:.2f}%'.format\ndf_r","ce8a1200":"rel=data[data[\"profile text\"].str.contains(\"hook*\")]\n\ndf_r=(rel\n.groupby(\"sex\")\n [[\"sex\"]]\n .count()\n)\n\ndf_r[\"%\"]=(df_r[\"sex\"]\/df_r[\"sex\"].sum())*100\npd.options.display.float_format = '{:.2f}%'.format\ndf_r","0aa10535":"rel=data[data[\"profile text\"].str.contains(\"marriage\")]\n\ndf_r=(rel\n.groupby(\"sex\")\n [[\"sex\"]]\n .count()\n)\n\ndf_r[\"%\"]=(df_r[\"sex\"]\/df_r[\"sex\"].sum())*100\npd.options.display.float_format = '{:.2f}%'.format\ndf_r","75d7e3d3":"rel=data[data[\"profile text\"].str.contains(\"ons\")]\n\ndf_r=(rel\n.groupby(\"sex\")\n [[\"sex\"]]\n .count()\n)\n\ndf_r[\"%\"]=(df_r[\"sex\"]\/df_r[\"sex\"].sum())*100\npd.options.display.float_format = '{:.2f}%'.format\ndf_r","b5291f6f":"On Average avaivalable people write 500 words on their profile as we ll as the ones that seeing someone","0e780294":"## 10. Ethnicity","32b641c8":"## 8. Drugs","e146c751":"## General Statistics and Data Types","4b9637a6":"## 1. Passion","9045e54c":"## 1. Age\n","2db9e3eb":"## Formating and Cleaning Data","c14c58d8":"## 5. Diet","a4a63215":"## 7. Ons ","c8efbb8b":"## 13. Pets","b948a981":"5488 - empty profiles","bba702ea":"## 3. Orientation","1570ada3":"## 4. Body Type","8298397b":"## 9. Education","4cb81aaf":"## 3. Relationship","95e17248":"## Income","a9ed9238":"### Age and Total Number of Words in Profile","f6c4bcaf":"## 6. Marriage","94615bc4":"## 2. Love","dab87bbe":"## 11. Height","99cbe3e6":"## 4. Serious Relationship","39ebf28f":"## 2. Status","fef9d8b1":"Bisexual has on average the most of the words in the profile, rather than gays or straights","6735ad65":"## Missing Values","40cae9dc":"Mostly participants are between 25 and 30 years old","f2d07686":"No significant correlation between age, height and income","60a889e1":"## 12. Gender","b5feab47":"## 5. Hookups","d36eafcf":" On average the age of profile's is 32 years old, with the income around 20 000$ (but it deviates a lot, so we can't really say that \n\n","4aac7a4d":"## Q2: Words in the profile\n","ea690463":"Author: Anna Durbanova\n\nDate: 15.02.2021","238008c1":" We have 59 946 participants. 59% of them are men and 40% are women","189e81b0":"## 6. Drinks"}}