{"cell_type":{"5c3e1b20":"code","c213cab2":"code","1ccdb680":"code","3c1d0147":"code","ff7b4f06":"code","ae0a5ba4":"code","d4a4417c":"code","86d79ae1":"code","2e174355":"code","48b8b800":"code","012d08e8":"code","2fb706c3":"code","bac86af0":"code","3fc13942":"code","f5219872":"markdown","21868a1b":"markdown","8cf10371":"markdown","5519fe18":"markdown","ec38166d":"markdown","77ed6d09":"markdown"},"source":{"5c3e1b20":"import numpy as np \nimport matplotlib.pyplot as plt \nimport pandas as pd \nimport plotly.express as px\nimport geopandas as gpd\nplt.style.use('seaborn-bright') ","c213cab2":"data = pd.read_csv(\"\/kaggle\/input\/covid-world-vaccination-progress\/country_vaccinations.csv\")\ndata.head()","1ccdb680":"data.isnull().sum()","3c1d0147":"dates = data.date.unique();\ndates.sort()\nlatest_date = dates[-1];","ff7b4f06":"# latest_data = data[data.date==latest_date]\n\ndata.sort_values(by=['total_vaccinations'], ascending=False, inplace=True);\n\n# drop all the null values in the data we are using \n\n# latest_data.dropna(subset=['total_vaccinations', 'vaccines', 'daily_vaccinations', 'people_vaccinated_per_hundred'], inplace=True)\n\n\ncountries = data.country.unique()\n\nvaccine_countries = []\ntotal_vaccination = [] \nvaccine_name = [] \ndaily_vaccination = [] \npeople_vaccinated_per_hundred = [] \niso_codes = [] \nlatest_data_update = [] \npeople_fully_vaccinated = [] \npeople_fully_vaccinated_per_hundred  = []\n\n\n# getting the latest vaccine data possible for each country \n\nfor i in countries: \n    for d in dates[::-1]:\n        total = data[data.country==i]['total_vaccinations'][data.date==d].sum()\n        name = data[data.country==i]['vaccines'][data.date==d].sum()\n        daily = data[data.country==i]['daily_vaccinations'][data.date==d].sum()\n        per_hundred = data[data.country==i]['people_vaccinated_per_hundred'][data.date==d].sum(); \n        iso = data[data.country==i]['iso_code'][data.date==d].sum();\n        fully = data[data.country==i]['people_fully_vaccinated'][data.date==d].sum(); \n        fully_per_hundred = data[data.country==i]['people_fully_vaccinated_per_hundred'][data.date==d].sum(); \n        \n        # if one of those features are null\n        if(total == 0):\n            pass\n        else:\n            vaccine_countries.append(i)\n            total_vaccination.append(total)\n            vaccine_name.append(name) \n            \n            daily_vaccination.append(daily)\n            people_vaccinated_per_hundred.append(per_hundred)\n            \n            people_fully_vaccinated.append(fully)\n            people_fully_vaccinated_per_hundred.append(fully_per_hundred);\n            \n            iso_codes.append(iso)\n            latest_data_update.append(d)\n            break","ae0a5ba4":"print(\"Vaccine country length:\", len(vaccine_countries))\nprint(\"Total vaccinaton length:\", len(total_vaccination))\nprint(\"Vaccine name length:\", len(vaccine_name))\nprint(\"Daily vaccinaton length:\", len(daily_vaccination))\nprint(\"People vaccinated per hundred length:\", len(people_vaccinated_per_hundred))\nprint(\"ISO codes length:\", len(iso_codes))","d4a4417c":"latest_vaccine_data = pd.DataFrame({'Country Name': vaccine_countries, 'Total Vaccinations': [format(int(i), ',d') for i in total_vaccination],\n                          'Daily Vaccination': [format(int(i), ',d') for i in daily_vaccination], 'People Vaccinated per Hundred' : people_vaccinated_per_hundred, \n                          'Total Fully Vaccinations' : [format(int(i), ',d') for i in  people_fully_vaccinated], 'People Fully Vaccinated per Hundred': people_fully_vaccinated_per_hundred,\n                          'Vaccine Name' : vaccine_name, 'Latest Data Update' : latest_data_update})\n\nlatest_vaccine_data.style.background_gradient(cmap='Greens')","86d79ae1":"import operator\ndef plot_bar_graphs(x, y, title, x_title):\n    plt.figure(figsize=(16,10))\n    plt.barh(x, y)\n    plt.title(title, size=20)\n    plt.xticks(size=20)\n    plt.yticks(size=18)\n    plt.xlabel(x_title, size=20)\n    plt.show()\n    \n\n# sort each feature in a descending manner       \nvaccine_countries_total = [[k, v] for k, v in sorted(zip(vaccine_countries, total_vaccination), key=operator.itemgetter(1), reverse=True)]\nvaccine_countries_daily = [[k, v] for k, v in sorted(zip(vaccine_countries, daily_vaccination), key=operator.itemgetter(1), reverse=True)]\nvaccine_countries_per_hundred = [[k, v] for k, v in sorted(zip(vaccine_countries, people_vaccinated_per_hundred), key=operator.itemgetter(1), reverse=True)]\nvaccine_countries_fully = [[k, v] for k, v in sorted(zip(vaccine_countries, people_fully_vaccinated), key=operator.itemgetter(1), reverse=True)]\nvaccine_countries_fully_per_hundred = [[k, v] for k, v in sorted(zip(vaccine_countries, people_fully_vaccinated_per_hundred), key=operator.itemgetter(1), reverse=True)]\n    \nplot_bar_graphs([i[0] for i in vaccine_countries_total][:15], [i[1] for i in vaccine_countries_total][:15], 'Total Vaccination', 'Number of Vaccinations')\nplot_bar_graphs([i[0] for i in vaccine_countries_daily][:15], [i[1] for i in vaccine_countries_daily][:15], 'Daily Vaccination', 'Number of Vaccinations')\nplot_bar_graphs([i[0] for i in vaccine_countries_per_hundred][:15],[i[1] for i in vaccine_countries_per_hundred][:15], 'People Vaccinated per Hundred'.format(latest_date), 'Number of Vaccinations')\nplot_bar_graphs([i[0] for i in vaccine_countries_fully][:15],[i[1] for i in  vaccine_countries_fully][:15], 'People Fully Vaccinated'.format(latest_date), 'Number of Vaccinations')\nplot_bar_graphs([i[0] for i in vaccine_countries_fully_per_hundred][:15],[i[1] for i in vaccine_countries_fully_per_hundred][:15], 'People Fully Vaccinated per Hundred'.format(latest_date), 'Number of Vaccinations')","2e174355":"fig = px.scatter_geo(latest_vaccine_data, locations=iso_codes, color=total_vaccination,\n                     hover_name=\"Country Name\", size=[i for i in total_vaccination],\n                     projection=\"natural earth\", title=\"Total Vaccination\")\nfig.show()","48b8b800":"# fig = px.choropleth(latest_vaccine_data, locations=iso_codes, color='Vaccine Name',\n#                      hover_name=\"Country Name\",\n#                      projection=\"natural earth\", title=\"Total Vaccinaton by Vaccine Name\")\n# fig.show()","012d08e8":"fig = px.scatter_geo(latest_vaccine_data, locations=iso_codes, color=daily_vaccination,\n                     hover_name=\"Country Name\", size=[i for i in daily_vaccination],\n                     projection=\"natural earth\", title=\"Daily Vaccination\")\nfig.show()","2fb706c3":"fig = px.scatter_geo(latest_vaccine_data, locations=iso_codes, color='People Vaccinated per Hundred',\n                     hover_name=\"Country Name\", size=\"People Vaccinated per Hundred\",\n                     projection=\"natural earth\", title=\"People Vaccinated per Hundred\")\nfig.show()","bac86af0":"fig = px.scatter_geo(latest_vaccine_data, locations=iso_codes, color=[i for i in people_fully_vaccinated],\n                     hover_name=\"Country Name\", size=[i for i in people_fully_vaccinated],\n                     projection=\"natural earth\", title=\"Total Fully Vaccinations\")\nfig.show()","3fc13942":"fig = px.scatter_geo(latest_vaccine_data, locations=iso_codes, color='People Fully Vaccinated per Hundred',\n                     hover_name=\"Country Name\", size=\"People Fully Vaccinated per Hundred\",\n                     projection=\"natural earth\", title=\"People Fully Vaccinated per Hundred\")\nfig.show()","f5219872":"# Data Table on the Global Vaccine Effort","21868a1b":"# Global Vaccination Effort \n\n**This notebook seeks to explore the latest update of the coronavirus vaccine using visualizations. **\n\n![](https:\/\/i1.wp.com\/sitn.hms.harvard.edu\/wp-content\/uploads\/2018\/09\/07-blog-Vaccines.jpg?resize=1200%2C630)\n\n*Last Notebook Update: 5\/13\/2021 10:29 PM ET. If data is not available for a specific field, it will appear as 0. *\n\n**Feel free to provide me with feedbacks **","8cf10371":"***if a value is 0, then it is N\/A**","5519fe18":"**Some countries have missing data for the number of fully vaccinations and people vaccinated per hundred, it will simply appear as 0. **","ec38166d":"# Displaying the data using a bar chart\nthis shows the top 15 countries for each respective categories","77ed6d09":"# Geolocation Vaccine Data"}}