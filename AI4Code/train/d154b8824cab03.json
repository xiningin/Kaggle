{"cell_type":{"41fbadf0":"code","325a2705":"code","1d8ffece":"code","1ffd6247":"code","6751849b":"code","7dfb1293":"code","f8596143":"code","a329c760":"code","d15f7b9d":"code","1c6fcd67":"code","e4e91dbe":"code","befee9e9":"code","199b2315":"markdown","26e1ea14":"markdown","0b5530b5":"markdown","f4df333c":"markdown","f690ceb3":"markdown","c8bdd093":"markdown"},"source":{"41fbadf0":"# Start with loading all necessary libraries\nimport numpy as np\nimport pandas as pd\nfrom os import path\nfrom PIL import Image\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\nimport matplotlib.pyplot as plt\n\ndata_forum = {}\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input\/meta-kaggle'):\n    for filename in filenames:\n        if 'Forum' in filename:\n            data_forum[filename.split('.csv')[0]] = pd.read_csv(os.path.join(dirname, filename))","325a2705":"for filename, df in data_forum.items():\n    print(filename)\n    print(df.head())\n    print(\"-\"*20)","1d8ffece":"data_forum['ForumTopics']['Title'] = data_forum['ForumTopics']['Title'].astype(str)","1ffd6247":"text = \" \".join(data_forum['ForumTopics']['Title'].values.tolist())\n\n# Create and generate a word cloud image:\nwordcloud = WordCloud().generate(text)\n\n# Display the generated image:\nfig, ax = plt.subplots(figsize=(15, 10))\nax.imshow(wordcloud, interpolation='bilinear')\nax.axis(\"off\")\nplt.show()","6751849b":"# Create stopword list:\nstopwords = set(STOPWORDS)\n# stopwords.update([\"to\"])\n\n# Generate a word cloud image\nwordcloud = WordCloud(stopwords=stopwords, background_color=\"white\").generate(text)\n\n# Display the generated image:\n# the matplotlib way:\nfig, ax = plt.subplots(figsize=(15, 10))\nax.imshow(wordcloud, interpolation='bilinear')\nax.axis(\"off\")\nplt.show()","7dfb1293":"def weight_topic(df):\n    return \" \".join([df['Title'] for _ in range(df['TotalMessages'])])\ndata_forum['ForumTopics']['Title_weighted'] = data_forum['ForumTopics'].apply(weight_topic, axis=1)\ntext_weighted = \" \".join(data_forum['ForumTopics']['Title_weighted'].values.tolist())\ndata_forum['ForumTopics'].head()","f8596143":"wordcloud = WordCloud(stopwords=STOPWORDS, background_color=\"white\").generate(text_weighted)\nfig, ax = plt.subplots(figsize=(15, 10))\nax.imshow(wordcloud, interpolation='bilinear')\nax.axis(\"off\")\nplt.show()","a329c760":"data_forum['ForumMessages']['Message'] = data_forum['ForumMessages']['Message'].astype(str)\ntext_messages = \" \".join(data_forum['ForumMessages']['Message'].values.tolist())","d15f7b9d":"wordcloud = WordCloud(stopwords=STOPWORDS, background_color=\"white\").generate(text_messages)\nfig, ax = plt.subplots(figsize=(15, 10))\nax.imshow(wordcloud, interpolation='bilinear')\nax.axis(\"off\")\nplt.show()","1c6fcd67":"data_forum['ForumMessages'].Medal.describe(), data_forum['ForumMessages'].Medal.isna().describe()","e4e91dbe":"data_forum['ForumMessages']['Medal'].fillna(4, inplace=True)\ndef weight_message(df):\n    return \" \".join([df['Message'] for _ in range(5-df['Medal'])])\ndata_forum['ForumMessages']['Message_weighted'] = data_forum['ForumMessages'].apply(weight_message, axis=1)\nmessage_weighted = \" \".join(data_forum['ForumMessages']['Message_weighted'].values.tolist())\ndata_forum['ForumMessages'].head()","befee9e9":"wordcloud = WordCloud(stopwords=STOPWORDS, background_color=\"white\").generate(message_weighted)\nfig, ax = plt.subplots(figsize=(15, 10))\nax.imshow(wordcloud, interpolation='bilinear')\nax.axis(\"off\")\nplt.show()","199b2315":"`place solution` seems to be much more represented ! Probably the topics of solutions to competitons are those who create the more discussions.","26e1ea14":"This notebook is based on this tutorial from datacamp : https:\/\/www.datacamp.com\/community\/tutorials\/wordcloud-python","0b5530b5":"This time, we will try to weight them by `(5-Medal)` (otherwise non-medaled topics won't be taken into account):","f4df333c":"Now, we can also try to take into account the \"hotness\". For this, I will just weight observations with the total number of messages in the forum.","f690ceb3":"Now let's do it for discussion messages : ","c8bdd093":"Let's first try with only `ForumTopics`, working on `Title`."}}