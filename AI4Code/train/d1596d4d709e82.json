{"cell_type":{"8416f5a1":"code","52644bba":"code","b1c878dd":"code","5e0690bd":"code","c81f937f":"code","3eb62067":"code","13c9917a":"code","9722606c":"code","8c997a0c":"code","4675a263":"code","662ebad4":"code","d1725998":"code","78e5093d":"code","a5007358":"code","172a1233":"code","9b3d445f":"code","f69680ef":"code","6f38ecbd":"code","f42e60ae":"code","6b98d67d":"code","ed741053":"code","d80135b5":"code","844d6556":"code","0b289cdc":"code","e5e100eb":"code","499b667b":"code","688a8b0c":"code","82e9720d":"code","724b578c":"code","ed83b255":"code","b006a2d4":"code","92228680":"code","35b5ec3f":"code","278711d0":"code","496952a1":"code","3481324a":"code","c773c4a6":"code","cc1b975a":"code","b939f96c":"markdown","48c6c561":"markdown","c7e9620d":"markdown","2118fd0b":"markdown","2e8e43ec":"markdown","1c3bbdb7":"markdown","f596628a":"markdown","4db09f41":"markdown"},"source":{"8416f5a1":"import csv\nimport numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport math\nimport folium\nfrom geopy.geocoders import Nominatim\nfrom folium import Choropleth, Circle, Marker\nfrom folium.plugins import HeatMap, MarkerCluster\nfrom wordcloud import WordCloud,STOPWORDS\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom wordcloud import WordCloud\nimport seaborn as sns\nimport missingno as msno","52644bba":"cd4 = pd.read_csv('..\/input\/us-covid19-dataset-live-hourlydaily-updates\/Counties.csv')","b1c878dd":"cd4.shape","5e0690bd":"cd4","c81f937f":"\nLA_covid = cd4.loc[cd4.county == 'Los Angeles']","3eb62067":"LA_covid","13c9917a":"LA_covid.info()","9722606c":"cd1 = pd.read_csv(\"..\/input\/los-angeles-crime-data-20102020\/Crime_Data_from_2020_to_Present.csv\")\ncd2 = pd.read_csv(\"..\/input\/crime-in-los-angeles-data-from-2020-to-present\/Crime_Data_from_2020_to_Present.csv\")\ncd3 = pd.read_csv(\"..\/input\/los-angeles-crime-data-20102020\/Crime_Data_from_2010_to_2019.csv\")","8c997a0c":"cd1.shape,cd2.shape,cd3.shape","4675a263":"cd1.info(),cd2.info(),cd3.info()","662ebad4":"combined_1 = pd.concat([cd1, cd2], axis=0)\ncrime_data = pd.concat([combined_1, cd3], axis=0)","d1725998":"crime_data.shape","78e5093d":"# Compute the correlation matrix\ncorr = crime_data.corr()\n\n# Generate a mask for the upper triangle\nmask = np.triu(np.ones_like(corr, dtype=bool))\n\n# Set up the matplotlib figure\nf, ax = plt.subplots(figsize=(11, 9))\n\n# Generate a custom diverging colormap\ncmap = sns.diverging_palette(230, 20, as_cmap=True)\n\n# Draw the heatmap with the mask and correct aspect ratio\nsns.heatmap(corr, mask=mask, cmap=cmap, vmax=.3, center=0,\n            square=True, linewidths=.5, cbar_kws={\"shrink\": .5})","a5007358":"#crime_data['AREA'].update(crime_data.pop('AREA '))","172a1233":"msno.matrix(crime_data)\nplt.show()","9b3d445f":"crime_data.info()","f69680ef":"cd = crime_data.reset_index()","6f38ecbd":"cd.drop(columns=['DR_NO', 'Date Rptd','Part 1-2', 'Mocodes','Status', 'Crm Cd 3', 'Crm Cd 4', 'Cross Street', 'index'],inplace=True)","f42e60ae":"cd.drop_duplicates(keep=False,inplace=True)","6b98d67d":"cd['DateTimeValues'] = pd.to_datetime(cd['DATE OCC'])","ed741053":"cd['year'] = cd['DateTimeValues'].dt.year\ncd['month'] = cd['DateTimeValues'].dt.month\ncd['day'] = cd['DateTimeValues'].dt.day","d80135b5":"cd['TIME OCC'] = cd['TIME OCC'].astype(str).str.zfill(4)\ncd['HOUR OCC'] = cd['TIME OCC'].apply(lambda t: int(t[:2]))","844d6556":"cd.info()","0b289cdc":"#sns.barplot(data = cd, x = \"AREA NAME\", y = [\"AREA NAME\"].value_counts(), color = 'cyan', ci= None)","e5e100eb":"plt.style.use(\"seaborn\")\ncolor=plt.cm.ocean(np.linspace(0,2,5))\ncd[\"AREA NAME\"].value_counts().plot.bar(figsize=(12,8))\nplt.show()","499b667b":"crimeByArea = cd['AREA NAME'].value_counts().sort_index()\ncrimeCommonType = {}\nfor area in crimeByArea.keys():\n    crimeArea = cd[cd['AREA NAME'] == area]['Crm Cd Desc'].value_counts()[:10]\n    for crType in crimeArea.keys():\n        if not crType in crimeCommonType:\n            crimeCommonType[crType] = [area]\n        else:\n            crimeCommonType[crType].append(area)\n    crimeArea = crimeArea.plot(kind = 'bar',title = \"Crimes in \" + area)\n    plt.show()","688a8b0c":"plt.style.use(\"seaborn\")\ncolor=plt.cm.ocean(np.linspace(0,2,5))\ncd[\"day\"].value_counts().plot.bar(figsize=(12,8))\nplt.show()","82e9720d":"year_wise=cd['year'].value_counts()","724b578c":"type(year_wise)","ed83b255":"year_data = df = pd.DataFrame(year_wise)","b006a2d4":"year_data","92228680":"year_data.rename(columns = {'year':'Count'}, inplace = True)","35b5ec3f":"sns.relplot(\n    data=year_data, \n    x=year_data.index, y=\"Count\",\n    height=5, aspect=2, \n    kind=\"line\"\n)","278711d0":"cd.loc[(cd[\"Vict Descent\"] == 'H'),'Vict Descent']='Hispanic\/Latin\/Mexican'\ncd.loc[(cd[\"Vict Descent\"] == 'B'),'Vict Descent']='Black'\ncd.loc[(cd[\"Vict Descent\"] == 'W'),'Vict Descent']='White'\ncd.loc[(cd[\"Vict Descent\"] == 'A'),'Vict Descent']='Other Asian'\ncd.loc[(cd[\"Vict Descent\"] == 'X'),'Vict Descent']='Unknown'\ncd.loc[(cd[\"Vict Descent\"] == 'C'),'Vict Descent']='Chinese'\ncd.loc[(cd[\"Vict Descent\"] == 'D'),'Vict Descent']='Combodian'\ncd.loc[(cd[\"Vict Descent\"] == 'F'),'Vict Descent']='Filipino'\ncd.loc[(cd[\"Vict Descent\"] == 'G'),'Vict Descent']='Guamanian'\ncd.loc[(cd[\"Vict Descent\"] == 'I'),'Vict Descent']='America Indian\/Alaskan Native'\ncd.loc[(cd[\"Vict Descent\"] == 'J'),'Vict Descent']='Japanese'\ncd.loc[(cd[\"Vict Descent\"] == 'K'),'Vict Descent']='Korean'\ncd.loc[(cd[\"Vict Descent\"] == 'L'),'Vict Descent']='Laotian'\ncd.loc[(cd[\"Vict Descent\"] == 'O'),'Vict Descent']='Other'\ncd.loc[(cd[\"Vict Descent\"] == 'S'),'Vict Descent']='Samoan'\ncd.loc[(cd[\"Vict Descent\"] == 'U'),'Vict Descent']='Hawaiian'\ncd.loc[(cd[\"Vict Descent\"] == 'V'),'Vict Descent']='Vietnamese'\ncd.loc[(cd[\"Vict Descent\"] == 'Z'),'Vict Descent']='Asian Indian'","496952a1":"plt.style.use('ggplot')\nplt.title('Victms Categorization by Ethnicity')\nplt.xlabel('Victim Ehnicity')\nplt.ylabel('Count of Crimes')\ncolor=plt.cm.Pastel2(np.linspace(0,4,10))\ncd[\"Vict Descent\"].value_counts()[:9].plot.bar(figsize=(12,8))\nplt.show()","3481324a":"import matplotlib.pyplot as plt\n   \nYear = year_data.index\nUnemployment_Rate = year_data['Count']\n  \nplt.plot(Unemployment_Rate, Year)\nplt.title('Crime rate  Vs Year')\nplt.xlabel('Crime Rate')\nplt.ylabel('Year')\nplt.show()","c773c4a6":"plt.style.use('ggplot')\n\ncolor=plt.cm.ocean(np.linspace(0,2,5))\ncd[\"Crm Cd Desc\"].value_counts()[:15].plot.bar(figsize=(12,8))\nplt.show()\n","cc1b975a":"cd[\"Crm Cd Desc\"].value_counts()[:10].plot.pie(figsize=(12,8),explode=(0.1,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01,0.01),autopct=\"%1.1f%%\")\nplt.title(\"10 Most happening crime in LA\",fontsize=18)\nplt.show()","b939f96c":"## 10 Most happening crime out of 100 Percentage","48c6c561":"## Datasets .. Merging dataset and preprocessing it","c7e9620d":"## 15 most happenig crimes in LA","2118fd0b":"## Crime by Areas","2e8e43ec":"## Corelation matrix to see features relationships","1c3bbdb7":"## Crime rate by Year","f596628a":"## Number of Crimes according to areas","4db09f41":"## Race\/ethnicity Involve in crime\n"}}