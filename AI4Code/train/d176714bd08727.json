{"cell_type":{"3fd7e2f8":"code","a4600394":"code","bffc20b9":"code","bb6fd7a0":"code","37b7b4f0":"code","d544d11d":"code","08ac2639":"code","ae848805":"code","ff1de98d":"code","4576dcd3":"code","d092598a":"code","c47ef563":"code","13836504":"code","bbe08885":"code","0fbf86f8":"code","c27dc965":"code","96132c20":"code","fdb0884b":"code","7a93f7ec":"code","821fefaf":"code","5d1b01b7":"code","39e34af2":"code","1a562430":"code","3d4f0452":"code","34d3d079":"code","d8d8ee80":"code","43683676":"code","107a8857":"code","f53eb995":"code","1d31c81f":"code","48a566e7":"code","35384f45":"markdown","98884d33":"markdown","81c9e310":"markdown","0f90cf05":"markdown","1e44cf5a":"markdown","bfa53842":"markdown","e13106b4":"markdown","982c4cb4":"markdown"},"source":{"3fd7e2f8":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","a4600394":"!pip install geocoder","bffc20b9":"# Imports \nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport matplotlib\nimport folium\nfrom folium import plugins\nimport geocoder\nimport geopy\nimport ipywidgets \nimport json\nmatplotlib.rc(\"xtick\",labelsize=10)\nmatplotlib.rc(\"ytick\",labelsize=10)","bb6fd7a0":"# Data File having Confirmed Cases around the globe\ntrain = pd.read_csv(\"\/kaggle\/input\/covid19-global-forecasting-week-1\/train.csv\")\n# Data File having Confirmed Cases of India till 18th March 2020.\ntrain_India = pd.read_csv(\"\/kaggle\/input\/covid19-corona-virus-india-dataset\/complete.csv\")\n# Data File having Confirmed Cases of India till 21st March 2020.\n# This data has been collected by me from https:\/\/www.mohfw.gov.in\/\ntrain_Updated_India = pd.read_csv(\"\/kaggle\/input\/updateddata\/new_data.csv\")","37b7b4f0":"train.head()","d544d11d":"confirmed_cases = [c for c in train['ConfirmedCases'].values if c!=0]  ","08ac2639":"# Getting the corresponding dates\ndates = [train.loc[train[\"ConfirmedCases\"]!=0,\"Date\"]]","ae848805":"# Getting dates in format dd\/mm\/YY.\nnew_dates = [pd.to_datetime(d) for d in dates]\nnew_dates  = [d.dt.strftime(\"%d\/%m\/%Y\") for d in new_dates]\n# Converting dates into string \nnew_dates = new_dates[0].to_string(index=False)\n# Converting string into list \nnew_dates = new_dates.split(\"\\n\")","ff1de98d":"imp_dates = [pd.to_datetime(d).dt.strftime(\"%d\/%m\/%Y\").to_string(index=False).split(\"\\n\") for d in [train.loc[train[\"ConfirmedCases\"]>60000,\"Date\"]]]\nimp_dates","4576dcd3":"# Getting the dates where most number of confirmed Cases were recorded i.e 67800\ntrain.loc[train[\"ConfirmedCases\"]==67800,\"Date\"]","d092598a":"# Having got the values of dates where corresponding Confirmed Cases were non-zero \n# We are ready to plot our observations\nplt.plot(range(len(confirmed_cases)),confirmed_cases,c=\"darkblue\")\nplt.ylim(0,max(confirmed_cases))\n# Manual Plotting the date when the confirmed cases were 67800.\nplt.xticks([1600],[\"18-03-2020\"],rotation=90)\nplt.show()","c47ef563":"# Here I have manually figured out the date at which confirmed cases were 67800.","13836504":"# If India is in data then printing the confirmed cases\ntrain.loc[train[\"Country\/Region\"]==\"India\",\"ConfirmedCases\"]","bbe08885":"# Getting total number of confirmed cases in India\nconfirmed_India = train.loc[train[\"Country\/Region\"]==\"India\",\"ConfirmedCases\"]\nconfirmed_India.to_string(index=False).split(\"\\n\")\nconfirmed_India = [int(e) for e in confirmed_India]\nprint(sum(confirmed_India))","0fbf86f8":"dates_India = [pd.to_datetime(d).dt.strftime(\"%d\/%m\/%Y\").to_string(index=False).split(\"\\n\") for d in [train.loc[train[\"Country\/Region\"]==\"India\",\"Date\"]]]","c27dc965":"dates_India = dates_India[0]\ndates_India","96132c20":"plt.figure(figsize=(60,20))\nmatplotlib.rc(\"xtick\",labelsize=30)\nmatplotlib.rc(\"ytick\",labelsize=30)\nplt.bar(range(len(dates_India)),confirmed_India)\nloc,labels = plt.xticks()\nplt.xticks(ticks=range(0,len(dates_India)),labels=dates_India,rotation=90)\nplt.ylabel(\"Confirmed Cases India\",fontsize=50,labelpad=30)\nplt.xlabel(\"Dates\",fontsize=50,labelpad=30)\nplt.show()","fdb0884b":"with open(\"\/kaggle\/input\/indiadataset\/india.json\") as f:\n    geo_data = json.load(f)","7a93f7ec":"india_map = folium.Map(location=[20.5937,78.9629],zoom_start=4.48)\nfolium.TopoJson(geo_data,\"objects.india_pc_2014\",name=\"geojson\").add_to(india_map)\nfolium.LayerControl().add_to(india_map)\nindia_map","821fefaf":"#Making a choropleth Map\nindia_map1 = folium.Map(location=[20.5937,78.9629],zoom_start=4.4,tiles=\"CartoDB Positron\")\nfolium.Choropleth(geo_data=geo_data,data=train_India,columns=[\"Name of State \/ UT\",\"Total Confirmed cases (Indian National)\"],\n                  fill_color=\"YlGn\",topojson=\"objects.india_pc_2014\").add_to(india_map1)\nindia_map1","5d1b01b7":"india_map2 = folium.Map(location=[20.5937,78.9629]) \nfolium.GeoJson(\"\/kaggle\/input\/indiageojson\/india_district.geojson\",name=\"Geojson\").add_to(india_map2)\nindia_map2","39e34af2":"# Making Choropleth for districts of India\nindia_map4 = folium.Map(location=[20.5937,78.9629],zoom_start=4.4)\nwith open(\"\/kaggle\/input\/indiageojson\/india_district.geojson\") as f:\n    india_geojson = json.load(f)\n\nwith open(\"\/kaggle\/input\/indiadataset\/india.json\") as f:\n    india_json = json.load(f)\n\nfolium.Choropleth(geo_data=india_json,\n                    data_out=\"data.json\",\n                 data = train_India,\n                 topojson=\"objects.india_pc_2014\",\n                 fill_color=\"YlGn\",\n                 columns=[\"Name of State \/ UT\",\"Total Confirmed cases (Indian National)\"],\n                 legend_name=\"Confirmed Cases\",\n                 name=\"COVID-19\",\n                 highlight=True).add_to(india_map4)\nindia_map4","1a562430":"latitudes = [15.9129,22.09042035,28.6699929,22.2587,28.45000633,31.10002545,12.57038129,8.900372741,21.30039105,19.25023195,19.82042971,11.93499371,31.51997398,26.44999921,12.92038576,18.1124,30.71999697,34.29995933,34.152588,27.59998069,30.32040895,22.58039044,\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\nlongitudes = [79.7400,82.15998734,77.23000403,71.1924,77.01999101,77.16659704,76.91999711,76.56999263,76.13001949,73.16017493,85.90001746,79.83000037,75.98000281,74.63998124,79.15004187,79.0193,76.78000565,74.46665849,77.577049,78.05000565,78.05000565,88.32994665]","3d4f0452":"len(longitudes)","34d3d079":"train_Updated_India[\"Name of State \/ UT\"]","d8d8ee80":"temp_India = train_Updated_India","43683676":"temp_India[\"latitude\"] = latitudes\ntemp_India['longitude'] = longitudes","107a8857":"with open(\"\/kaggle\/input\/statesjson\/india-states.json\") as f:\n    india_states = json.load(f)   ","f53eb995":"# Map that has markers at different states giving info about confirmed cases corresponding states.\nnew = folium.Map(location=[20.5937,78.9629],zoom_start=4.48)\nnew.choropleth(geo_data=india_states,data_out=\"data.json\",fill_color=\"YlGn\",data=temp_India,columns=[\"Name of State \/ UT\",\"Total Confirmed cases (Indian National)\"],\n        topojson=\"objects.IND_adm1\")\nfor i in temp_India.itertuples():\n  folium.Marker(location=[i.latitude,i.longitude],popup=f\"State:{i._2} \\n Confirmed Cases:{i._3}\").add_to(new)\nnew","1d31c81f":"# Saving our map\nnew.save(\"India_COVID-19-2103.html\")","48a566e7":"sub = temp_India.to_csv(\"submission.csv\")","35384f45":"### As we can see from the graph we have confirmed cases more than 60000 for a particular country\/region and as we can see below the country is CHINA.","98884d33":"### Since the updated dataset does not contain information about latitudes and longitudes of different states hence creating one.","81c9e310":"### Making World Map Giving Info about the Confirmed Cases ","0f90cf05":"## Visualizing the Number of confirmed cases(with dates) in India Only","1e44cf5a":"### Visualizing Map of India for COVID-19 Confirmed Cases","bfa53842":"Getting the dates where the confirmed cases were more than <b>60000<\/b>.","e13106b4":"#### Below is the district wise visualization of India . If You have Data Regarding districts of India then you can use this code to visualize that .","982c4cb4":"## Plotting between Confirmed Cases with respect to dates ."}}