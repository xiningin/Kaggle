{"cell_type":{"1c310e3f":"code","61a179e8":"code","7babe6d4":"code","99462c9b":"code","84815802":"code","27a20d29":"code","d1b232f7":"code","7822fd46":"code","99b86958":"code","121ae312":"code","e10eb063":"code","163bbbd4":"code","82392578":"code","d3987a68":"code","8827d95c":"code","a8f646f8":"code","89ec461d":"code","cf645fe6":"code","3e04735a":"code","e5669d44":"code","478a3f12":"code","5c058149":"code","29f48e8a":"code","11fb5edc":"code","6f58f285":"code","215b9d57":"code","ffac1681":"code","602eff9f":"code","1277577f":"code","31192415":"markdown","03cd5ee7":"markdown","7a743c34":"markdown","26320ad3":"markdown"},"source":{"1c310e3f":"import pandas as pd","61a179e8":"movies_cols = ['MovieID','Title','Genres']\nratings_cols = ['UserID','MovieID','Rating','Timestamp']\nusers_cols = ['UserID','Gender','Age','Occupation','Zip-code']","7babe6d4":"# DataSet 1\nmovies = pd.read_csv('..\/input\/movielens\/movies.dat', sep = '::',header = None, names = movies_cols, encoding = 'latin 1')\n                     \n# DataSet 2\nratings = pd.read_csv('..\/input\/movielens\/ratings.dat',sep = '::', header = None, names = ratings_cols)\n                     \n# DataSet 3\nusers = pd.read_csv('..\/input\/movielens\/users.dat',sep = '::', header = None, names = users_cols)\n                   ","99462c9b":"movies.head()","84815802":"ratings.head()","27a20d29":"users.head()","d1b232f7":"merge_on_movieid = pd.merge(movies,ratings,on = 'MovieID').reset_index(drop = True)\nmerge_on_movieid.head()","7822fd46":"merge_on_userid = pd.merge(merge_on_movieid, users, on = 'UserID').reset_index(drop = True)\nmerge_on_userid.head()","99b86958":"master_data = merge_on_userid.drop(['Genres','Timestamp','Zip-code'],axis = 1)\nmaster_data.head()","121ae312":"merge_on_userid.info()","e10eb063":"import matplotlib.pyplot as plt\nimport seaborn as sns\nfrom matplotlib import style","163bbbd4":"# user age distribution\nstyle.use('ggplot')\nplt.figure(figsize = (7,7))\nmaster_data['Age'].value_counts().plot(kind = 'bar', color = 'red')\nplt.xlabel('Age of the users')\nplt.ylabel('Count of movies regarding age')\nplt.title('User Age Distribution Graph')\nplt.show()","82392578":"# user age distribution\nplt.figure(figsize = (7,7))\nmaster_data.groupby('Age')['Gender'].value_counts().unstack().plot(kind = 'bar',color = ['red','orange'])\nplt.xlabel('Age of the users')\nplt.ylabel('Count of movies regarding age')\nplt.title('User Age Distribution Graph : Male\/Female Comparison')\nplt.show()","d3987a68":"plt.figure(figsize = (7,7))\nsns.distplot(master_data['Age'],hist = False)\nplt.xlabel('Age of the users')\nplt.ylabel('Density')\nplt.title('User Age Distribution Graph')\nplt.show()","8827d95c":"# User Rating of the movie Toy Story","a8f646f8":"toy_story = master_data[master_data['Title'] == 'Toy Story (1995)'].drop(['Occupation','Age','Gender','MovieID','UserID'],axis = 1)\ntoy_story.rename({'Title':'Toy Story'},axis = 1, inplace = True)\ntoy_story.head()","89ec461d":"toy_story.groupby('Rating').count().plot(kind='line')\nplt.title('Line Graph : User Rating of Movie(Toy Story)')\nplt.xlabel('User Ratings')\nplt.ylabel('Number of Users')\nplt.show()","cf645fe6":"toy_story.groupby('Rating').count().plot(kind='bar', color = 'red')\nplt.title('Bar Graph : User Rating of Movie(Toy Story)')\nplt.xlabel('User Ratings')\nplt.ylabel('Number of Users')\nplt.show()","3e04735a":"plt.figure(figsize=(7,7))\nplt.pie(list(toy_story['Rating'].value_counts()),\n        labels=list(toy_story['Rating'].value_counts().keys()),\n        wedgeprops=dict(width=0.3, edgecolor='w'), autopct = '%0.2f%%', radius=1)\nplt.title('Pie Chart : User Rating of Movie(Toy Story)')\nplt.legend()\nplt.show()","e5669d44":"# Top 25 movies by viewership ratings","478a3f12":"top_25 = master_data.groupby('Title')['Rating'].mean().round(2).sort_values(ascending = False)[:25]\ntop_25","5c058149":"# Find the ratings for all the movies reviewed by for a particular user of user id = 2696\nuser_id = master_data[master_data['UserID']==2696].drop(['Occupation','Age','Gender','UserID'],axis = 1).reset_index(drop=True)\nuser_id","29f48e8a":"plt.figure(figsize=(10,7))\nplt.barh(user_id['Title'],user_id['Rating'],color='c')\nplt.title('Ratings given by user(id=2696) to each movie')\nplt.xlabel('Rating in Number')\nplt.ylabel('Movie Names')\nplt.show()","11fb5edc":"plt.figure(figsize=(10,7))\nplt.scatter(user_id['Rating'],user_id['Title'],color='c')\nplt.title('Ratings given by user(id=2696) to each movie')\nplt.xlabel('Rating in Number')\nplt.ylabel('Movie Names')\nplt.show()","6f58f285":"# Find out all the unique genres \ngenres = list(movies['Genres'].unique())","215b9d57":"temp = []\nunique_genres = set()\nfor i in range(len(genres)):\n    temp = genres[i].split('|')\n    for j in range(len(temp)):\n        unique_genres.add(temp[j])\nprint('Unique Genres -- ',list(unique_genres))","ffac1681":"# One Hot Encoding\nmaster_data","602eff9f":"for i in list(unique_genres):\n    master_data[i] = merge_on_userid['Genres'].str.contains(i)*1","1277577f":"master_data","31192415":"#### <font color = brown>Above graphs show that persons belonging to the \"25-34\" age group have the highest possibility to watch movies or i can also say that most people watch movies between the age of \"25-34\" which doesn't depend on gender. <\/font>\n#### <font color = 'blue'>    It also tells that males have higher tendency to watch movies than females in every age group.<\/font>","03cd5ee7":"# Create a new dataset [Master_Data] with the following columns MovieID Title UserID Age Gender Occupation Rating.","7a743c34":"#### Above Graphs Show that most of the viewers have given 4 stars and 5 stars to the movie. There are very few viewers who have provides 1 or 2 stars to the movie. ","26320ad3":"## Explore the datasets using visual representations (graphs or tables), also include your comments on the following:\n#### 1. User Age Distribution\n#### 2. User rating of the movie \u201cToy Story\u201d\n#### 3. Top 25 movies by viewership rating\n#### 4. Find the ratings for all the movies reviewed by for a particular user of user id = 2696"}}