{"cell_type":{"83db9701":"code","8a475d7a":"code","3a886e47":"code","c496c783":"code","db60c288":"code","587b61dc":"code","4db5c2ab":"code","4926d25f":"code","5f56d768":"code","f6cfe9da":"code","14c00fe4":"code","caef8229":"markdown","75461d4a":"markdown","7c9c49b4":"markdown","52e0ffa9":"markdown","c3a3b0a2":"markdown","67092e59":"markdown","7d8be3bb":"markdown","f8fd400e":"markdown"},"source":{"83db9701":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport glob # read all files in engagement data\nimport seaborn as sns # visualization\nimport matplotlib.pyplot as plt # plotting\nimport geopandas # plotting maps\nfrom geopy.geocoders import Nominatim\nimport folium as fl\nfrom folium.plugins import HeatMap\n\n\nprint('Setup complete')","8a475d7a":"products_df = pd.read_csv(\"..\/input\/learnplatform-covid19-impact-on-digital-learning\/products_info.csv\")\nproducts_df.head(10)","3a886e47":"districts_df = pd.read_csv(\"..\/input\/learnplatform-covid19-impact-on-digital-learning\/districts_info.csv\")\ndistricts_df.head(10)","c496c783":"path = '..\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data' \nall_files = glob.glob(path + \"\/*.csv\")\n\nli = []\n\nfor filename in all_files:\n    df = pd.read_csv(filename, index_col=None, header=0)\n    district_id = filename.split(\"\/\")[4].split(\".\")[0]\n    df[\"district_id\"] = district_id\n    li.append(df)\n    \nengagement_df = pd.concat(li)\nengagement_df = engagement_df.reset_index(drop=True)\npd.to_datetime(engagement_df['time'], format='%Y%m%d', errors='ignore')\nengagement_df.head()","db60c288":"plt.figure(figsize=(16,10))\nsns.set_theme(font=\"Serif\")\nsns.countplot(y='state', data=districts_df, order=districts_df.state.value_counts().index, palette=\"viridis\")\nplt.title(\"State distribution\", size=20)\nplt.show()","587b61dc":"districts_df[\"locale\"] = districts_df[\"locale\"].fillna('Not specified')\nplt.figure(figsize=(16,10))\nsns.set_theme(font=\"Serif\")\nsns.countplot(y='locale', data=districts_df, order=districts_df.locale.value_counts().index, palette=\"viridis\")\nplt.title(\"Location distribution\", size=20)\nplt.show()","4db5c2ab":"states = geopandas.read_file('..\/input\/usa-shapefile-census-2018\/cb_2018_us_state_500k.shp')\ntype(states)\n\nstates.head()\n\n\n\n\n\n","4926d25f":"locations = pd.DataFrame({\"Name\":districts_df['state'].unique()})","5f56d768":"geol = Nominatim(user_agent=\"app\")\nlat = []\nlon = []\n\nfor location in locations['Name']:\n    location = geol.geocode(location)    \n    if location is None:\n        lat.append(np.nan)\n        lon.append(np.nan)\n    else:\n        lat.append(location.latitude)\n        lon.append(location.longitude)","f6cfe9da":"locations['lat'] = lat\nlocations['lon'] = lon","14c00fe4":"Rest_locations=pd.DataFrame(districts_df['state'].value_counts().reset_index())\n\nRest_locations.columns=['Name','count']\nfinal_loc=Rest_locations.merge(locations,on='Name',how=\"left\").dropna()\n\ndef generateBaseMap(default_location=[37.0902, -95.7129], default_zoom_start=4.5):\n    base_map = fl.Map(location=default_location, zoom_start=default_zoom_start)\n    return base_map\n\nbasemap=generateBaseMap()\n\nHeatMap(final_loc[['lat','lon','count']],zoom=20,radius=20).add_to(basemap)\n\nbasemap\n","caef8229":"**Distribution**\n\ngeoplotlib\nhttps:\/\/observablehq.com\/@d3\/zoom-to-bounding-box\nhttps:\/\/observablehq.com\/@d3\/donut-chart","75461d4a":"GEOPLOT","7c9c49b4":"**Import engagement data**\n","52e0ffa9":"# COVID-19 LearnPlatform Analysis\n![](http:\/\/images.pexels.com\/photos\/4260325\/pexels-photo-4260325.jpeg?cs=srgb&dl=pexels-august-de-richelieu-4260325.jpg&fm=jpg)","c3a3b0a2":"**Import Libraries**","67092e59":"**State distribution**","7d8be3bb":"**Import districts information data**\n\nIncludes data about platforms","f8fd400e":"**Import product information data**\n\nIncludes data about platforms"}}