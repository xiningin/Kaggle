{"cell_type":{"8b46a800":"code","006f27a2":"code","e38a4e7c":"code","80585987":"code","7f217d57":"code","1f13e272":"code","8e275aaf":"code","5732aee1":"code","8f7dd842":"code","d7240148":"code","5193d2be":"code","a4af6a42":"code","0e423a61":"code","c856ea32":"code","0c6f1d85":"code","980447b3":"code","a7d8456a":"code","12417270":"code","944d208b":"code","e28a31d0":"code","4c2309a9":"code","1634fd37":"code","4efa23d3":"code","0364a596":"code","c051c882":"code","fb89b552":"code","62a7a4aa":"code","9aade8e7":"code","edbf0b45":"code","b367c7f4":"code","4f84d456":"code","b4be2258":"code","0ff164e1":"code","3fbcd3b5":"code","4b0503ea":"code","dc6f7855":"code","22fe3b91":"code","423c2ad6":"code","c9c54aae":"code","418e9481":"code","89f64e1d":"code","a010a6b0":"code","50c43f8b":"code","c806a4b1":"code","753bab9e":"code","67af97e3":"code","21fff04f":"code","6143b25f":"code","e2b61f95":"code","0e970568":"code","08538932":"code","2ef6ac2d":"code","2d303051":"code","4a43b5b1":"code","b7528717":"code","63b11aa5":"code","0388e545":"code","728cea75":"code","ea1be335":"code","839c2da2":"markdown","108a262f":"markdown","ce21cd06":"markdown","fa6ad7c1":"markdown","36f08094":"markdown","737b938d":"markdown","00f5e543":"markdown","090595bb":"markdown","89bcb9fd":"markdown","d9873912":"markdown","e6e594c7":"markdown","eccc9117":"markdown","edbb781f":"markdown","9dada3f3":"markdown","83e58d85":"markdown","82a3b8e5":"markdown","3a7ba19f":"markdown","70c68363":"markdown","0e46aa0c":"markdown","1f37127f":"markdown","4c1ed34f":"markdown","9f383889":"markdown","36151d74":"markdown","33396416":"markdown","026ebb08":"markdown","be8dab83":"markdown","2f717e48":"markdown","f7125718":"markdown","9f128e4b":"markdown","2bc8bc7e":"markdown","ec03a34d":"markdown","806f8a73":"markdown","b614937c":"markdown","bcc5f0cd":"markdown","c3e1242f":"markdown","bda4345f":"markdown","71a1820e":"markdown","55a91f6d":"markdown","8aa03f64":"markdown","244dca0a":"markdown","93569ab2":"markdown","4ba66cce":"markdown","c1c16d96":"markdown","b2c1f02f":"markdown","40bbd1fc":"markdown","4ba308cd":"markdown","a2adf2fd":"markdown","bde4ecf4":"markdown","c5a342ea":"markdown","d7c402c1":"markdown","cf93d43a":"markdown","5da74f6a":"markdown","27ef57bb":"markdown","b48aae6a":"markdown","893f1c5e":"markdown","d40f10ae":"markdown","a0c33d21":"markdown","fb74ab56":"markdown"},"source":{"8b46a800":"import math\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport missingno as msno\nfrom scipy import stats\nfrom scipy.stats import norm, skew #for some statistics\nimport re\n\npd.set_option('display.max_columns', None)  # to display all rows and columns while printing.\npd.set_option('display.max_rows', None)  \npd.set_option('display.max_colwidth', -1)\n\nparams = {'legend.fontsize': '15',\n         'axes.labelsize': 'x-large',\n         'axes.titlesize':'x-large',\n         'xtick.labelsize':'x-large',\n         'ytick.labelsize':'x-large',\n        #  'axes.prop_cycle': plt.cycler(color = plt.cm.Set2.colors),\n        #  'image.cmap': 'Set2',\n         'figure.figsize': (18, 7)}\nplt.rcParams.update(params)\n\n# plt.rcParams[\"image.cmap\"] = \"Set1\"\n\n# to change default color cycle\n# plt.rcParams['axes.prop_cycle'] = plt.cycler(color=plt.cm.Set1.colors)\n# plt.rcParams['figure.figsize'] = 18, 7","006f27a2":"import warnings\nwarnings.simplefilter(action='ignore', category=FutureWarning)","e38a4e7c":"plt.style.use('dark_background')  # to change the default values of plt to our interest.","80585987":"df = pd.read_csv('..\/input\/quantium-cleaned-dataset-part2\/df1.csv', parse_dates= ['date'])\ndf.head()","7f217d57":"df.insert(1, 'year_month',df['date'].dt.to_period('M'))     # .dt.to_period('M')\ndf.head()","1f13e272":"cols_with_changed_dtype = {'prod_name': 'category', 'prod_qty': 'category',\n                           'lifestage': 'category', 'premium_customer': 'category',\n                           'prod_comp': 'category'}\ndf = df.astype(cols_with_changed_dtype)\ndf.info()","8e275aaf":"check = df.groupby('store_nbr')['year_month'].nunique()\ncheck = check[check != 12]\nprint('Stores with less than 12 month transaction data:')\ndisplay(check)\nstores_with_less_than_12_months = check.index.to_list()\ndel check","5732aee1":"indices_to_drop = df[df['store_nbr'].isin(stores_with_less_than_12_months)].index\nprint(f'Shape before dropping: {df.shape}\\n')\ndf = df.drop(indices_to_drop)\nprint(f'Shape after dropping: {df.shape}\\n')\nprint(f'Number of samples that are dropped: {len(indices_to_drop)}')","8f7dd842":"check = df[df['store_nbr'].isin([77, 86, 88])].groupby(['store_nbr', 'year_month'])['tot_sales'].sum() # code to plot\ncolors = []\nfor store, month in check.index:\n    if store == 77:\n        colors.append('b')\n    elif store == 86:\n        colors.append('g')\n    else:\n        colors.append('r')\n\ncheck.plot(kind = 'bar', color = colors, figsize = (20, 9))\nplt.show()\ndel check, colors","d7240148":"df['yearly_sale'] = df.groupby('store_nbr')['tot_sales'].transform('sum')\ndf['yearly_custs'] = df.groupby('store_nbr')['lylty_card_nbr'].transform('nunique')\ndf['monthly_sale'] = df.groupby(['store_nbr', 'year_month'])['tot_sales'].transform('sum')\ndf['monthly_custs'] = df.groupby(['store_nbr', 'year_month'])['lylty_card_nbr'].transform('nunique')\n# df['monthly_txn'] = df.groupby(['store_nbr', 'year_month'])['txn_id'].agg({'txn_id': 'nunique'})","5193d2be":"# df1 = df.copy()\n# data = df.groupby(['store_nbr', 'month']).apply(lambda subdf: subdf['lylty_card_nbr'].count())\n# # data['count'] = df.groupby(['store_nbr', 'month']).apply(lambda subdf: subdf['lylty_card_nbr'].count())\n# data.head(25)","a4af6a42":"avg_trans = df.groupby('store_nbr').apply(lambda subdf: (subdf['txn_id'].nunique() \/ subdf['yearly_custs'].unique()))\navg_trans = avg_trans.astype('float64')\ndf['avg_txn_per_cust'] = df['store_nbr'].map(avg_trans)","0e423a61":"# store_272 = df1.groupby('store_nbr').get_group(272)\n# no_of_customers = store_272['no_of_custs'].unique()\n# no_of_transactions = store_272['txn_id'].nunique()\n# print(f'no of customers: {no_of_customers}')\n# print(f'no of transactions: {no_of_transactions}')\n# print((no_of_transactions \/ no_of_customers).round(4))","c856ea32":"df.head()","0c6f1d85":"pre_df = df[df['date'] < \"2019-02-01\"]\ntrial_df = df[(df['date'] > \"2019-01-31\") & (df['date'] < \"2019-05-01\")]","980447b3":"min_date_in_trial_df, max_date_in_trial_df = min(trial_df['date']), max(trial_df['date'])\nmin_date_in_pre_df, max_date_in_pre_df =  min(pre_df['date']), max(pre_df['date'])\nprint(f'the trial_df dataframe consists of samples between {min_date_in_trial_df}, {max_date_in_trial_df}')\nprint(f'the pre_df dataframe consists of samples between {min_date_in_pre_df}, {max_date_in_pre_df}')","a7d8456a":"corrmat = pre_df.corr()\nmask = np.triu(np.ones_like(corrmat, dtype=bool))\n# plt.subplots(figsize = (25, 15))\nsns.heatmap(corrmat, mask = mask, cmap = 'coolwarm', annot = True)\nplt.xticks(rotation = 30)\nplt.show()","12417270":"# grp = pre_df.groupby('store_nbr')\n# for name, subdf in grp:\n#     if name not in [77, 86, 88]:\n#         #it is a control store\n#         subdf\n#     else:\n#         # it is a trial store\n#         pass","944d208b":"metrics_cols = ['store_nbr', 'year_month', 'yearly_sale',\n                'yearly_custs','monthly_sale', 'monthly_custs', 'avg_txn_per_cust']\n# metrics_data = pre_trial_data.loc[:, metrics_cols]","e28a31d0":"def extract_metrics(df):\n    subdf = df.loc[:, metrics_cols].set_index(['store_nbr', 'year_month']).sort_values(by = ['store_nbr', 'year_month'])\n    subdf.drop_duplicates(inplace = True, keep = 'first')\n    return subdf \n\nmetrics_df = extract_metrics(pre_df)\nmetrics_df.head()","4c2309a9":"# metrics_df.xs('2018-09', level=1)","1634fd37":"# metrics_df.index.get_level_values('year_month').nunique()","4efa23d3":"def calc_corr(trial_store):\n    '''\n    input: It takes one trial store to compare other stores with.\n    output: New dataframe with correlation and mean correlation.\n    '''\n    a=[]\n    metrics = metrics_df[['monthly_sale', 'monthly_custs']] \n    for i in metrics.index:\n        a.append(metrics.loc[trial_store].corrwith(metrics.loc[i[0]]))\n    subdf = pd.DataFrame(a)\n    subdf.index = metrics.index\n    subdf = subdf.drop_duplicates()\n    subdf.index = [s[0] for s in subdf.index]\n    subdf.index.name =\"store_nbr\"\n    subdf = subdf.abs()\n    subdf['mean_corr'] = subdf.mean(axis=1)\n    subdf.sort_values(by = 'mean_corr', ascending = False, inplace = True)\n    return subdf","0364a596":"corr_77 = calc_corr(77).drop(77)\n# corr_77 = corr_77.drop(77)\ncorr_77.head(5)","c051c882":"corr_77[corr_77['mean_corr'].abs() > 0.7].plot(kind = 'bar', rot = 0, figsize = (18, 8))\nplt.title('Correlation of trial store 77 with other stores')\nplt.xlabel('store Number')\nplt.ylabel('Correlation Co-efficient')\nplt.show()","fb89b552":"fig, ax = plt.subplots()\nsns.distplot(metrics_df.loc[77]['monthly_sale'], color = 'r', ax = ax)\nsns.distplot(metrics_df.loc[233]['monthly_sale'], color = 'g', ax = ax)\nplt.legend(labels = ['77', '233'])\nplt.show()","62a7a4aa":"metrics_df.loc[77]['monthly_sale'].plot(kind = 'bar', color = 'g')\nmetrics_df.loc[233]['monthly_sale'].plot(kind = 'bar', color = 'r', alpha = 0.5)\nplt.xticks(rotation = 0)\nplt.xlabel('Month')\nplt.ylabel('Monthly Sale')\nplt.legend(labels = (77, 232))\nplt.show()","9aade8e7":"fig, ax = plt.subplots()\nsns.distplot(metrics_df.loc[77]['monthly_custs'], color = 'r', ax = ax)\nsns.distplot(metrics_df.loc[233]['monthly_custs'], color = 'g', ax = ax)\nplt.legend(labels = ['77', '233'])\nplt.show()","edbf0b45":"metrics_df.loc[77]['monthly_custs'].plot(kind = 'bar', color = 'g')\nmetrics_df.loc[233]['monthly_custs'].plot(kind = 'bar', color = 'r', alpha = 0.5)\nplt.xticks(rotation = 0)\nplt.xlabel('Month')\nplt.ylabel('Monthly Sale')\nplt.legend(labels = (77, 232))\nplt.show()","b367c7f4":"from scipy.stats import ks_2samp,ttest_ind,t","4f84d456":"metrics_df.head(2)","b4be2258":"cols_under_consideration = ['monthly_sale', 'monthly_custs']\na=[]\nfor x in metrics_df[cols_under_consideration]:\n    a.append(ks_2samp(metrics_df.loc[77][x], metrics_df.loc[233][x]))\na=pd.DataFrame(a, index = cols_under_consideration)\na.head()","0ff164e1":"trial_metrics_df = extract_metrics(trial_df)\ntrial_metrics_df.head()","3fbcd3b5":"b = []\nfor x in trial_metrics_df[cols_under_consideration]:\n    b.append(ks_2samp(trial_metrics_df.loc[77][x], trial_metrics_df.loc[233][x]))\nb = pd.DataFrame(b, index = cols_under_consideration)\nb.head()","4b0503ea":"print('critical t-value for 95% confidence level:')\nt.ppf(0.95, 6)","dc6f7855":"sns.distplot(trial_metrics_df.loc[77]['monthly_sale'])\nsns.distplot(trial_metrics_df.loc[233]['monthly_sale'])\nplt.legend(labels=['77','233'])","22fe3b91":"sns.distplot(trial_metrics_df.loc[77]['monthly_custs'])\nsns.distplot(trial_metrics_df.loc[233]['monthly_custs'])\nplt.legend(labels=['77','233'])","423c2ad6":"corr_86 = calc_corr(86).drop(86)\ncorr_86.head()","c9c54aae":"corr_86[corr_86['mean_corr'].abs() > 0.7].plot(kind = 'bar', rot = 0, figsize = (18, 8))\nplt.title('Correlation of trial store 86 with other stores')\nplt.xlabel('store Number')\nplt.ylabel('Correlation Co-efficient')\nplt.show()","418e9481":"fig, ax = plt.subplots()\nsns.distplot(metrics_df.loc[86]['monthly_sale'], color = 'r', ax = ax)\nsns.distplot(metrics_df.loc[155]['monthly_sale'], color = 'g', ax = ax)\nplt.legend(labels = ['86', '155'])\nplt.show()","89f64e1d":"metrics_df.loc[86]['monthly_sale'].plot(kind = 'bar', color = 'g')\nmetrics_df.loc[155]['monthly_sale'].plot(kind = 'bar', color = 'r', alpha = 0.5)\nplt.xticks(rotation = 0)\nplt.xlabel('Month')\nplt.ylabel('Monthly Sale')\nplt.legend(labels = (86, 155))\nplt.show()","a010a6b0":"fig, ax = plt.subplots()\nsns.distplot(metrics_df.loc[86]['monthly_custs'], color = 'r', ax = ax)\nsns.distplot(metrics_df.loc[155]['monthly_custs'], color = 'g', ax = ax)\nplt.legend(labels = ['86', '155'])\nplt.show()","50c43f8b":"metrics_df.loc[86]['monthly_custs'].plot(kind = 'bar', color = 'g')\nmetrics_df.loc[155]['monthly_custs'].plot(kind = 'bar', color = 'r', alpha = 0.5)\nplt.xticks(rotation = 0)\nplt.xlabel('Month')\nplt.ylabel('Monthly Sale')\nplt.legend(labels = (86, 155))\nplt.show()","c806a4b1":"cols_under_consideration = ['monthly_sale', 'monthly_custs']\na=[]\nfor x in metrics_df[cols_under_consideration]:\n    a.append(ks_2samp(metrics_df.loc[86][x], metrics_df.loc[155][x]))\na=pd.DataFrame(a, index = cols_under_consideration)\na.head()","753bab9e":"b = []\nfor x in trial_metrics_df[cols_under_consideration]:\n    b.append(ks_2samp(trial_metrics_df.loc[86][x], trial_metrics_df.loc[155][x]))\nb = pd.DataFrame(b, index = cols_under_consideration)\nb.head()","67af97e3":"print('critical t-value for 95% confidence level:')\nt.ppf(0.95, 6)","21fff04f":"sns.distplot(trial_metrics_df.loc[86]['monthly_sale'])\nsns.distplot(trial_metrics_df.loc[155]['monthly_sale'])\nplt.legend(labels=['86','155'])","6143b25f":"sns.distplot(trial_metrics_df.loc[86]['monthly_custs'])\nsns.distplot(trial_metrics_df.loc[155]['monthly_custs'])\nplt.legend(labels=['86','155'])","e2b61f95":"corr_88 = calc_corr(88).drop(88)\ncorr_88.head()","0e970568":"corr_88[corr_88['mean_corr'].abs() > 0.55].plot(kind = 'bar', rot = 0, figsize = (18, 8))\nplt.title('Correlation of trial store 88 with other stores')\nplt.xlabel('store Number')\nplt.ylabel('Correlation Co-efficient')\nplt.show()","08538932":"fig, ax = plt.subplots()\nsns.distplot(metrics_df.loc[88]['monthly_sale'], color = 'r', ax = ax)\nsns.distplot(metrics_df.loc[237]['monthly_sale'], color = 'g', ax = ax)\nplt.legend(labels = ['88', '237'])\nplt.show()","2ef6ac2d":"metrics_df.loc[88]['monthly_sale'].plot(kind = 'bar', color = 'g')\nmetrics_df.loc[237]['monthly_sale'].plot(kind = 'bar', color = 'r', alpha = 0.5)\nplt.xticks(rotation = 0)\nplt.xlabel('Month')\nplt.ylabel('Monthly Sale')\nplt.legend(labels = (88, 237))\nplt.show()","2d303051":"fig, ax = plt.subplots()\nsns.distplot(metrics_df.loc[88]['monthly_custs'], color = 'r', ax = ax)\nsns.distplot(metrics_df.loc[237]['monthly_custs'], color = 'g', ax = ax)\nplt.legend(labels = ['88', '237'])\nplt.show()","4a43b5b1":"metrics_df.loc[88]['monthly_custs'].plot(kind = 'bar', color = 'g')\nmetrics_df.loc[237]['monthly_custs'].plot(kind = 'bar', color = 'r', alpha = 0.5)\nplt.xticks(rotation = 0)\nplt.xlabel('Month')\nplt.ylabel('Monthly Sale')\nplt.legend(labels = (88, 237))\nplt.show()","b7528717":"cols_under_consideration = ['monthly_sale', 'monthly_custs']\na=[]\nfor x in metrics_df[cols_under_consideration]:\n    a.append(ks_2samp(metrics_df.loc[88][x], metrics_df.loc[237][x]))\na=pd.DataFrame(a, index = cols_under_consideration)\na.head()","63b11aa5":"b = []\nfor x in trial_metrics_df[cols_under_consideration]:\n    b.append(ks_2samp(trial_metrics_df.loc[88][x], trial_metrics_df.loc[237][x]))\nb = pd.DataFrame(b, index = cols_under_consideration)\nb.head()","0388e545":"print('critical t-value for 95% confidence level:')\nt.ppf(0.95, 6)","728cea75":"sns.distplot(trial_metrics_df.loc[88]['monthly_sale'])\nsns.distplot(trial_metrics_df.loc[237]['monthly_sale'])\nplt.legend(labels=['88','237'])","ea1be335":"sns.distplot(trial_metrics_df.loc[88]['monthly_custs'])\nsns.distplot(trial_metrics_df.loc[237]['monthly_custs'])\nplt.legend(labels=['88','237'])","839c2da2":"Function to find correlation between trial stores and control stores one by one.","108a262f":"We can see that the distribution of monthly sale and monthly customers of both the stores in the trial period is much different than the distribution of monthly sale and monthly customers in pre-trial period.","ce21cd06":"Conclusion","fa6ad7c1":"The results show that the trial store 77 is significantly different to its control store in the trial period as the trial store performance lies outside the 5% to 95% confidence interval of the control store in two of the three trial months.","36f08094":"We have changed dtypes for simplicity  and easier operations.","737b938d":"Even though the monthly sale values are diffrent but we see a similar trend in the sales through out the period.","00f5e543":"From the above plot we can see that there is difference in monthly sale in both the stores. But on avarage both the stores are similar.","090595bb":"From the dataframe above we can say that both are similar (pvalues are high close to 1). Hence we cannot reject our null hypothesis.","89bcb9fd":"Assessment of Trial.\n\nNow we'll compare the trial store with the control store in the trial period i.e. from Febraury 2019 to April 2019.","d9873912":"Let's plot the means for both the stores in trial period.","e6e594c7":"Let our null hypothesis be that both the trial store and our selected control store are similar. Now if we want to reject the null hypothesis then we must have pvalue close to zero.","eccc9117":"The store '233' with the highest score is selected as the control store for trial store '77'.\n\nNow let's quantify how related it is to the trial store by using plots and some stats. Since monthly sales and customers are only parameters we can monitor. Therefore we'll just see these two parameters.","edbb781f":"We can also see that there is significant increase in sales of chips in trial stores in the trial period.","9dada3f3":"Let our null hypothesis be that both the trial store and our selected control store are similar. Now if we want to reject the null hypothesis then we must have pvalue close to zero.","83e58d85":"From the above plot we can see that there is difference in monthly sale in both the stores. But on avarage both the stores are similar.","82a3b8e5":"We can see that t-value is greater than 95 percentile for febraury to april.\n\nTherefore we can say that there was increase in sale in trial store than the control store during the trial period.","3a7ba19f":"Assessment of Trial.\n\nNow we'll compare the trial store with the control store in the trial period i.e. from Febraury 2019 to April 2019.","70c68363":"The store '155' with the highest score is selected as the control store for trial store '86'.\n\nNow let's quantify how related it is to the trial store by using plots and some stats. Since monthly sales and customers are only parameters we can monitor. Therefore we'll just see these two parameters.","0e46aa0c":"We can also see that there is significant increase in sales of chips in trial stores in the trial period.","1f37127f":"Even though the monthly sale values are diffrent but we see a similar trend in the sales through out the period.","4c1ed34f":"From the dataframe above we can say that both are similar (pvalues are high close to 1). Hence we cannot reject our null hypothesis.","9f383889":"Even the trend in the number of customers every month follows a similar trend between the stores.","36151d74":"We can see that monthly customers are similar in both the stores.","33396416":"The results show that the trial store 88 is significantly different to its control store in the trial period as the trial store performance lies outside the 5% to 95% confidence interval of the control store in two of the three trial months.","026ebb08":"We can see that t-value is greater than 95 percentile for febraury to april.\n\nThe results show that the trial in store 86 is significantly different to its control store in the trial period as the trial store performance lies outside of the 5% to 95% confidence interval of the control store in two of the three trial months.","be8dab83":"From the above plot we can see that there is difference in monthly sale in both the stores.","2f717e48":"Inserted a column 'year_month' in the dataframe.","f7125718":"We can see that the distribution of monthly sale and monthly customers of both the stores in the trial period is much different than the distribution of monthly sale and monthly customers in pre-trial period.","9f128e4b":"Even the trend in the number of customers every month follows a similar trend between the stores.","2bc8bc7e":"The results for trial stores 77 and 88 during the trial period show a significant difference in at least two of the three trial months but this is not the case for trial store 86. We can check with the client if the implementation of the trial was different in trial store 86 but overall, the trial shows a significant increase in sales.","ec03a34d":"Let our null hypothesis be that both the trial store and our selected control store are similar. Now if we want to reject the null hypothesis then we must have pvalue close to zero.","806f8a73":"The results show that the trial store 86 is significantly different to its control store in the trial period as the trial store performance lies outside the 5% to 95% confidence interval of the control store in two of the three trial months.","b614937c":"We can see that monthly customers are similar in both the stores.","bcc5f0cd":"Assessment of Trial.\n\nNow we'll compare the trial store with the control store in the trial period i.e. from Febraury 2019 to April 2019.","c3e1242f":"We can see that t-value is greater than 95 percentile for febraury to april.\n\nThe results show that the trial in store 88 is significantly different to its control store in the trial period as the trial store performance lies outside of the 5% to 95% confidence interval of the control store in two of the three trial months.","bda4345f":"\nSince all of the p-values are high (say more than 0.05), we reject the null hypothesis i.e. there means are significantly different.","71a1820e":"Even the trend in the number of customers every month follows a similar trend between the stores.","55a91f6d":"\nSince all of the p-values are high (say more than 0.05), we reject the null hypothesis i.e. there means are significantly different.","8aa03f64":"We can see that the distribution of monthly sale and monthly customers of both the stores in the trial period is much different than the distribution of monthly sale and monthly customers in pre-trial period.","244dca0a":"Since both the pvalues are >5 we reject the null hypothesis. Since both the stores are similar in pre-trial but not in trial period hence we reject the null hypothesis.","93569ab2":"Read the data.","4ba66cce":"I need to add another column: average transaction per customer in the store.","c1c16d96":"## Correlation with trial store: 88","b2c1f02f":"Comparing each T-Value with 95% percentage significance critical t-value of 6 degrees of freedom (7 months of sample - 1)","40bbd1fc":"Let's plot the means for both the stores in trial period.","4ba308cd":"## Correlation with trial store: 86","a2adf2fd":"From the dataframe above we can say that both are similar (pvalues are high close to 1). Hence we cannot reject our null hypothesis.","bde4ecf4":"The store '14' has the highest score but we'll consider store '237' as the control store since the monthly sales is much correlated with it. Therefore store '237' is selected as the control store for trial store '88'.\n\nNow let's quantify how related it is to the trial store by using plots and some stats. Since monthly sales and customers are only parameters we can monitor. Therefore we'll just see these two parameters.","c5a342ea":"We can see that monthly customers are similar in both the stores.","d7c402c1":"Comparing each T-Value with 95% percentage significance critical t-value of 6 degrees of freedom (7 months of sample - 1)","cf93d43a":"## Correlation with trial store: 77","5da74f6a":"\"pre_df\" is the dataset which contains samples only before the trial period.\n\n\"trial_df\" is the datset which contains samples of trial period.","27ef57bb":"Let's plot the means for both the stores in trial period.","b48aae6a":"'metrics_cols' are the features for correlation and ranking between trial stores and control stores.","893f1c5e":"We can also see that there is significant increase in sales of chips in trial stores in the trial period.","d40f10ae":"Comparing each T-Value with 95% percentage significance critical t-value of 6 degrees of freedom (7 months of sample - 1)","a0c33d21":"Even though the monthly sale values are diffrent but we see a similar trend in the sales through out the period.","fb74ab56":"We'll remove the stores which does not contain transaction data of all 12 months."}}