{"cell_type":{"5b41f3b3":"code","69946373":"code","acc6cce5":"code","f9bf79ec":"code","c414f141":"code","5c4917af":"code","8ea60a09":"code","bfb48906":"code","b398dea7":"code","7d63d732":"code","cdfb092f":"code","90bfc812":"code","be3fc307":"code","45309a61":"code","4fd8f70b":"code","4a8c780c":"code","dccaa949":"code","3ce35f40":"code","ac44897c":"code","6e1c112f":"code","66bc161b":"code","f07cc274":"code","4c47f69e":"code","81566e79":"code","5abd1aee":"code","32f42b24":"code","3386d57e":"code","a09d710d":"code","5c7f758b":"code","1ae1ba5c":"code","bc823ac2":"markdown","747abb24":"markdown","7d0d4d12":"markdown","421f03a0":"markdown","62eb0ade":"markdown","fdfde151":"markdown","fac6a2c0":"markdown","cb0d745e":"markdown","5667f8b0":"markdown","10916850":"markdown","1c70a3ad":"markdown","f7e21fbb":"markdown","6293845b":"markdown","cc0b5a48":"markdown","213209df":"markdown","a3c5e6cc":"markdown","849cb775":"markdown","8b809b17":"markdown"},"source":{"5b41f3b3":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","69946373":"import numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt \nimport seaborn as sns ","acc6cce5":"import pandas as pd \ntrain = pd.read_csv(\"train.csv\")\ntest = pd.read_csv(\"test.csv\")","f9bf79ec":"train.head()","c414f141":"test.head()","5c4917af":"print(train.shape)\nprint(test.shape)","8ea60a09":"print(train.info())\nprint(\"\\r\")\nprint(test.info())","bfb48906":"train = train.drop([\"Cabin\",\"Name\", \"Ticket\"], axis=1)\ntest = test.drop([\"Cabin\",\"Name\", \"Ticket\"], axis=1)\ntrain.describe()","b398dea7":"train[\"Fare\"] = train[\"Fare\"].replace(np.nan, 32)\ntest[\"Fare\"] = test[\"Fare\"].replace(np.nan, 32)\ntrain[\"Age\"] = train[\"Age\"].replace(np.nan, 30)\ntest[\"Age\"] = test[\"Age\"].replace(np.nan, 30)\ntrain[\"Embarked\"] = train[\"Embarked\"].replace(np.nan, \"C\")","7d63d732":"print(train.info())\nprint(\"\\r\")\nprint(test.info())","cdfb092f":"train[\"Sex\"].replace([\"female\",\"male\"] , [0,1], inplace = True)\ntest[\"Sex\"].replace([\"female\",\"male\"] , [0,1], inplace = True)\ntrain[\"Embarked\"].replace([\"Q\",\"S\",\"C\"],[0,1,2],inplace=True)\ntest[\"Embarked\"].replace([\"Q\",\"S\",\"C\"],[0,1,2],inplace=True)\ntrain.head()","90bfc812":"bins = [0,8,15,20,40,60,100]\nnames=(['Baby', 'Child', 'Teenager', 'Youngster', 'Adult', 'Senior Citizen'])\n\ntrain[\"Age\"] = pd.cut(train[\"Age\"], bins, labels = names)\ntest[\"Age\"] = pd.cut(test[\"Age\"], bins, labels = names)\ntrain.head()","be3fc307":"train[\"Fare\"] = pd.cut(train.Fare,[-1, 130, 260, 390, 520], labels=['1', '2', '3', '4'])\ntest[\"Fare\"] = pd.cut(test.Fare,[-1, 130, 260, 390, 520], labels=['1', '2', '3', '4'])\n\ntrain.head()","45309a61":"train.pivot_table(index = \"Sex\", values = \"Survived\")","4fd8f70b":"sns.barplot(x=\"Sex\", y=\"Survived\", data=train)\nplt.show()","4a8c780c":"train.pivot_table(index = \"Pclass\", values = \"Survived\")","dccaa949":"sns.barplot(x=\"Pclass\", y=\"Survived\", data=train)\nplt.show()","3ce35f40":"train.pivot_table(index = \"Age\", values = \"Survived\")","ac44897c":"\nsns.barplot(x=\"Age\", y=\"Survived\", data=train)\nplt.show()","6e1c112f":"train[\"Age\"].replace([\"Baby\",\"Child\",\"Teenager\",\"Youngster\",\"Adult\",\"Senior Citizen\"] , [1,2,3,4,5,6], inplace = True)\ntest[\"Age\"].replace([\"Baby\",\"Child\",\"Teenager\",\"Youngster\",\"Adult\",\"Senior Citizen\"] , [1,2,3,4,5,6], inplace = True)\ntrain.head()","66bc161b":"train.dtypes    #Checking if all data types are redable or not","f07cc274":"#Declaring Model\nfrom sklearn.linear_model import LogisticRegression\nlr = LogisticRegression()\ncolumns = ['Pclass', 'Sex', 'SibSp','Embarked', 'Age', 'Fare']","4c47f69e":"from sklearn.model_selection import train_test_split\nX = train[columns]\ny = train[\"Survived\"]\nX_train, X_test, y_train, y_test = train_test_split(X,y, test_size=0.20,random_state=0)","81566e79":"# Checking Accuracy\nfrom sklearn.metrics import accuracy_score\nlr.fit(X_train,y_train)\npredictions = lr.predict(X_test)\naccuracy = accuracy_score(y_test, predictions)\nprint(accuracy)","5abd1aee":"print(\"Intercept\",lr.intercept_)\nprint(\"\\r\")\nprint(\"Coefficient\",lr.coef_)   ","32f42b24":"lr.fit(X,y)\ntest_predictions = lr.predict(test[columns])","3386d57e":"#Submission dataframe\ntest_ids = test[\"PassengerId\"]\nsubmission_df = {\"PassengerId\": test_ids,\n                 \"Survived\": test_predictions}\nsubmission = pd.DataFrame(submission_df)\nsubmission.head(10)","a09d710d":"submission.to_csv(\"submission.csv\",index=False)\n\n\nprint(lr.score(X_test, y_test))","5c7f758b":"fig=plt.figure(figsize=(4,5))\nsns.countplot(submission['Survived'])\nplt.show()","1ae1ba5c":"print(submission[\"Survived\"].value_counts())\nprint(submission.shape)","bc823ac2":"### 4) Categorozing Data as discreate integer values","747abb24":"# <center>TITANIC SURVIVAL PREDICTIVE ANALYSIS<center>\n![Titanic](https:\/\/wallup.net\/wp-content\/uploads\/2019\/09\/202817-titanic-disaster-drama-romance-ship-boat-poster-gt.jpg)\n\nThe sinking of the RMS Titanic is one of the most infamous shipwrecks in history. On April 15, 1912, during her maiden voyage, the Titanic sank after colliding with an iceberg, killing 1502 out of 2224 passengers and crew. This sensational tragedy shocked the international community and led to better safety regulations for ships.\n\n### Today we will be predicting the survival of passengers on the basis of other factos like age,class,fare etc\n\n## About Data\n1)  Passenger Id- index of the data \\\n2)  Survived- 0 represent NO and 1 represent YES \\\n3)  Pclass- It represent ticket class (1=1st, 2=2nd, 3=3rd class) \\\n4)  Name: Name of Passenger \\\n5)  Sex: Male or Female \\\n6)  Age: Age of passenger \\\n7)  Sibsp: Number of Siblings-Spouses on board \\\n8)  Parch: Number of Parents-Children on board \\\n9)  Ticket: Ticket Number \\\n10) Fare: Passenger Fare\\\n11) Cabin: Cabin Numberm\\\n12) Embarked: Port of Embarkation (C = Cherbourg, Q = Queenstown, S = Southampton) ","7d0d4d12":"## 5) Visualizing rate of survival with respect to other factors","421f03a0":"### 1) Importing Libraries","62eb0ade":"####  ---All null values Removed---","fdfde151":"## 6) Building Model","fac6a2c0":"### 3) Removing or Replacing Null Values","cb0d745e":"#### Conclusion 1 - Female Passengers were given priority on men","5667f8b0":"Categorizing Age by Age groups","10916850":"Categorizing Age by integers values for ease","1c70a3ad":"Categorizing Fare by numerical values depicting differnt range of fare price","f7e21fbb":"#### Remove features that do not influence the analysis, like Cabin (Too many NaN values), Name and Ticket.","6293845b":"#### Conclusion 2 - First Class Passengers were given priority over others","cc0b5a48":"#### Replacing Null Values with Mean","213209df":"#### Conclusion 3 - Babies and Childeren were the most out of all who survived","a3c5e6cc":"Changing categorical features Sex and Embarked by numbers","849cb775":"### 2) Reading DataSet","8b809b17":"# Final Results\n\n* Only 157\/418 Passengers Survived from the Data we used for testing pupose\n* Accuracy Of Linear Regression Model= 79.88%\n* 1st Class Passengers were given priority over other class passengers\n* Women and children were the category of people that survived most, they were allowed to board the lifeboats first"}}