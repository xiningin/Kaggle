{"cell_type":{"77f06e03":"code","7de6b117":"code","d52b1f1d":"code","01cb5c01":"code","1b618b11":"code","c1a5502e":"code","2020ae27":"code","e412c44f":"markdown","aa07f98e":"markdown","ccecf9ad":"markdown"},"source":{"77f06e03":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\n%matplotlib inline\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","7de6b117":"## 2002 Elections ## \nNA2002 = pd.read_csv(\"..\/input\/National Assembly 2002 - Updated.csv\", encoding = \"ISO-8859-1\")\nWinner02 = pd.DataFrame([])\n\nfor i in range(272):\n    Const = \"NA-%d\"%(i+1)\n    NA02 = NA2002.loc[NA2002['Constituency_title']==Const, ['Party','Votes','Total_Votes', 'Seat']]\n    if NA02.empty == True:\n        print(\"2002 Missing:\",Const) # missing constituency\n    if NA02.empty == False:\n        MAX = (NA02.loc[NA02['Votes'].idxmax()]) # party recieiving maximum votes is the winner\n        temp = pd.DataFrame([Const,MAX['Party'],MAX['Votes'],MAX['Total_Votes'], MAX['Seat']]).T\n        Winner02 = pd.concat([Winner02,temp])\nWinner02 = Winner02.rename(columns = {0:'Constituency', 1:'Party', 2:'Votes', 3:'TotalVotes', 4:'Seat'}) # Winners of 2002 Elections\n\n\n## 2008 Elections ##\nNA2008 = pd.read_csv(\"..\/input\/National Assembly 2008.csv\", encoding = \"ISO-8859-1\")\nWinner08 = pd.DataFrame([])\n\nfor i in range(272):\n    Const = \"NA-%d\"%(i+1)\n    NA08 = NA2008.loc[NA2008['ConstituencyTitle']==Const, ['Party','Votes','TotalVotes', 'Seat']]\n    if NA08.empty == True:\n        print(\"2008 Missing:\",Const) # missing constituency\n    if NA08.empty == False:\n        MAX = (NA08.loc[NA08['Votes'].idxmax()])\n        temp = pd.DataFrame([Const,MAX['Party'],MAX['Votes'],MAX['TotalVotes'], MAX['Seat']]).T\n        Winner08 = pd.concat([Winner08,temp])\nWinner08 = Winner08.rename(columns = {0:'Constituency', 1:'Party', 2:'Votes', 3:'TotalVotes', 4:'Seat'}) # Winners of 2008 Elections\n\n\n## 2013 Elections ##\nNA2013 = pd.read_csv(\"..\/input\/National Assembly 2013 - Updated.csv\", encoding = \"ISO-8859-1\")\nWinner13 = pd.DataFrame([])\n\nfor i in range(272):\n    Const = \"NA-%d\"%(i+1)\n    NA13 = NA2013.loc[NA2013['ConstituencyTitle']==Const, ['Party','Votes','TotalVotes', 'Seat']]\n    Votes = NA13['Votes'].astype('int64')\n    NA13['Votes'] = Votes\n    if NA13.empty == True:\n        print(\"2013 Missing:\",Const) # missing constituency\n    if NA13.empty == False:\n        MAX = (NA13.loc[NA13['Votes'].idxmax()])\n        temp = pd.DataFrame([Const,MAX['Party'],MAX['Votes'],MAX['TotalVotes'], MAX['Seat']]).T\n        Winner13 = pd.concat([Winner13,temp])\nWinner13 = Winner13.rename(columns = {0:'Constituency', 1:'Party', 2:'Votes', 3:'TotalVotes', 4:'Seat'}) # Winners of 2013 Elections\n","d52b1f1d":"Winner13","01cb5c01":"Total_Seats = 272\nWinners = pd.DataFrame([])\nCon = pd.DataFrame([])\n\nfor i in range(Total_Seats):\n    Const = \"NA-%d\"%(i+1)\n    if Const != \"NA-8\" and Const != \"NA-119\" and Const != \"NA-207\" and Const != \"NA-235\" and Const != \"NA-266\" and Const != \"NA-83\" and Const != \"NA-254\":\n        tempCon = (Winner13.loc[Winner13['Constituency']==Const,['Constituency']])\n        tempCon = tempCon.values.ravel()\n        tempSeat = (Winner13.loc[Winner13['Constituency']==Const,['Seat']])\n        tempSeat = tempSeat.values.ravel()\n        temp13 = (Winner13.loc[Winner13['Constituency']==Const,['Party']])\n        temp13 = temp13.values.ravel()\n        temp08 = (Winner08.loc[Winner08['Constituency']==Const,['Party']])\n        temp08 = temp08.values.ravel()\n        temp02 = (Winner02.loc[Winner02['Constituency']==Const,['Party']])\n        temp02 = temp02.values.ravel()\n        temp = pd.DataFrame([tempCon, tempSeat, temp02,temp08,temp13])\n        temp = temp.rename(columns = {0:'Winner'})\n        Winners = pd.concat([Winners,temp], axis = 1)\n        Con = pd.concat([Con,pd.DataFrame([Const])])","1b618b11":"Final = Winners.T\nFinal = Final.rename(columns = {0: 'Constituency', 1: 'Seat', 2:'2002', 3:'2008', 4:'2013'})\nFinal['2002'] = Final['2002'].replace(['Indepndent'], 'Independent')\n#Final['2002'] = Final['2002'].replace(['Muttahidda Majlis-e-Amal Pakistan'], 'MUTTAHIDA MAJLIS-E-AMAL PAKISTAN')\nFinal['2002'] = Final['2002'].replace(['Muttahidda Majlis-e-Amal'], 'Muttahidda Majlis-e-Amal Pakistan')\nFinal['2002'] = Final['2002'].replace(['Pakistan Mulim League(QA)'], 'Pakistan Muslim League(QA)')\nFinal['2002'] = Final['2002'].replace(['Pakistan Peoples Party Parliamentarian'], 'Pakistan Peoples Party Parliamentarians')\nFinal['2002'] = Final['2002'].replace(['Pakistan Peoples Party Parlimentarians'], 'Pakistan Peoples Party Parliamentarians')\nFinal['2002'] = Final['2002'].replace(['Pakistan peoples Party Parlimentarians'], 'Pakistan Peoples Party Parliamentarians')\nFinal['2002'] = Final['2002'].replace(['Muttahida Qaumi Moment'], 'Muttahida Qaumi Movement Pakistan')\nFinal['2008'] = Final['2008'].replace(['MUTTHIDA\\xa0MAJLIS-E-AMAL\\xa0PAKISTAN'], 'Muttahidda Majlis-e-Amal Pakistan')\nFinal['2008'] = Final['2008'].replace(['Pakistan Muslim League'], 'Pakistan Muslim League(QA)')\nFinal['2013'] = Final['2013'].replace(['Pakistan Muslim League'], 'Pakistan Muslim League(QA)')\n#np.unique(Final['2013'])","c1a5502e":"Final","2020ae27":"Total_Seats = 272\nSafe = pd.DataFrame([])\nfor i in range(Total_Seats):\n    Const = \"NA-%d\"%(i+1)\n    if Const != \"NA-8\" and Const != \"NA-119\" and Const != \"NA-207\" and Const != \"NA-235\" and Const != \"NA-266\" and Const != \"NA-83\" and Const != \"NA-254\":\n        tempCon = (Final.loc[Final['Constituency']==Const,['Constituency']])\n        tempCon = tempCon.values[0][0]\n        tempSeat = (Final.loc[Final['Constituency']==Const,['Seat']])\n        tempSeat = tempSeat.values[0][0]\n        Party = (Final.loc[Final['Constituency']==Const,['2002']])\n        Party = Party.values[0][0]\n        Num = len(np.unique(Final.loc[Final['Constituency'] == Const]))-2\n        temp = pd.DataFrame([tempCon, tempSeat, Party, Num]).T\n        Safe = pd.concat([Safe,temp])\n\n#Safe\nSafe_Const = Safe[Safe[3]==1]\nPPPP_Safe = (Safe_Const[2]=='Pakistan Peoples Party Parliamentarians').sum()\nMQMP_Safe = (Safe_Const[2]=='Muttahida Qaumi Movement Pakistan').sum()\nInd_Safe =  (Safe_Const[2]=='Independent').sum()\n\nx = np.arange(len(np.unique(Safe_Const[2])))\nvalue = [PPPP_Safe, MQMP_Safe, Ind_Safe]\n\npp, mq, nd = plt.bar(x,value)\npp.set_facecolor('r')\nmq.set_facecolor('g')\nnd.set_facecolor('b')\nplt.xticks(x,('PPPP', 'MQM-P', 'Ind'))\nplt.show()\n\nSafe_Const","e412c44f":"**Finding Safe Seats**\n\nFirst lets try to find the constituencies for which the same party won the elections in 2002, 2008 and 2013.\nIt can be observed that out of 265 constitutencies analyzed *(accounting  for the 8 constituencies for which the results were not available in the dataset)*, 42 can be categorized as safe seats i.e. the seats that have been won by same party in previous 3 elections. By analyzing bit more we can see that only *Independent Candidates*, *Muttahida Qaumi Movement Pakistan(MQM-P)* and *Pakistan Peoples Party Parliamentarians (PPPP)* are the parties to achieve the consecutive 3 times winning streak. Of these 23 seats belong to *PPPP*, 11 belong to *MQM-P*  and remaining 8 seats were won be *Independent Candidates*. Out of these 8 *Independent Candidates* 7 belong to **Tribal Areas**, only 1 seat is outside of Tribal Areas and that belongs to **Jhang District** (*NA-90*). All other seats that have remained consistent in previous 3 elections came from **Sindh** province. For *MQM-P* all seats have come from **Karachi** except for the one in **Hyderabad**(*NA-219*), for *PPPP* all seats come from rest of the Sindh province, except for *NA-248 Karachi* which *PPPP* has won consecutively 3 times.   ","aa07f98e":"**List of Winners**\n\nSo, finally we can observe the winners from every constituency in the following table.","ccecf9ad":"**Finding out winning parties of previous elections**\n\nLets start with figuring out the winning parties of 2002, 2008, and 2013 elections for every constitutency."}}