{"cell_type":{"85eb229f":"code","9da5b370":"code","8cab6a6a":"code","1ef02066":"code","eaf884dd":"code","d04569fc":"code","8233f40d":"markdown","556ff551":"markdown"},"source":{"85eb229f":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom warnings import simplefilter\nimport os\n\n\nsimplefilter(\"ignore\")\n\n\ndef hide_spines(ax, spines=[\"top\", \"right\", \"left\", \"bottom\"]):\n    for spine in spines:\n        ax.spines[spine].set_visible(False)\n        \n    return ax\n\ndef plot2numeric(x, y, title=None, x_label=None, y_label=None, figsize=(15, 10), xticks_rotation=0, color=\"#32C3FF\", plot_type=\"scatter\"):\n    fig = plt.figure(figsize=(18, 10))\n    fig.set_facecolor(\"#fff\")\n    ax = fig.add_subplot()\n    ax.set_facecolor(\"#fff\")\n    \n    ax.grid(color=\"lightgrey\", alpha=0.7, axis=\"both\", zorder=0)\n    \n    if plot_type == \"scatter\":\n        sns.scatterplot(x=x, y=y, color=color, ax=ax, edgecolor=\"#000\", linewidth=0.75, zorder=2)\n    elif plot_type == \"line\":\n        sns.lineplot(x=x, y=y, color=color, marker=\"o\", markersize=7, ax=ax, markeredgecolor=\"#000\", markeredgewidth=0.75, linewidth=1.5, zorder=2)\n    elif plot_type == \"box\":\n        sns.boxplot(x=x, y=y, color=color, ax=ax, zorder=2)\n        \n    ax.xaxis.set_tick_params(labelsize=12, size=0, pad=5)\n    ax.yaxis.set_tick_params(labelsize=12, size=0, pad=5)\n    plt.xticks(rotation=xticks_rotation)\n    \n    ax = hide_spines(ax)\n    \n    \n    if y_label is not None:\n        ax.set_ylabel(y_label, fontsize=15, fontweight=\"normal\", labelpad=10)\n    \n    if x_label is not None:\n        ax.set_xlabel(x_label, fontsize=15, fontweight=\"normal\", labelpad=10)\n    \n    if title is not None:\n        ax.set_title(title, fontsize=25, fontweight=\"bold\", fontfamily=\"serif\", loc=\"left\", y=1.02)\n        \n    fig.show()","9da5b370":"n = 20","8cab6a6a":"competition_dir = \"..\/input\/tabular-series-analysis\/Tabular Series Analysis\/Song Popularity Prediction\"\nleaderboard_path = os.path.join(competition_dir, \"leaderboard.csv\")\nleaderboard = pd.read_csv(leaderboard_path)\nleaderboard[\"delta_place\"] = leaderboard[\"private_place\"] - leaderboard[\"public_place\"]\n\nleaderboard_private = leaderboard.sort_values(by=\"private_place\")\nleaderboard_public = leaderboard.sort_values(by=\"public_place\")\nleaderboard_delta = leaderboard.sort_values(by=\"delta_place\")","1ef02066":"discussions_path = os.path.join(competition_dir, \"discussions.csv\")\ndiscussions = pd.read_csv(discussions_path)\n\ndiscussions_votes = discussions.sort_values(by=\"votes\", ascending=True).reset_index().drop(\"index\", axis=1)\ndiscussions_count = discussions.sort_values(by=\"discussions\", ascending=True).reset_index().drop(\"index\", axis=1)\n\n\nnotebooks_path = os.path.join(competition_dir, \"notebooks.csv\")\nnotebooks = pd.read_csv(notebooks_path)\n\nnotebooks_votes = notebooks.sort_values(by=\"votes\")\nnotebooks_count = notebooks.sort_values(by=\"notebooks\")","eaf884dd":"plot2numeric(x=leaderboard[\"public_place\"], \n             y=leaderboard[\"private_place\"], \n             title=\"Public vs Private Leaderboards | Places\", \n             x_label=\"Public Leaderboard Place\", \n             y_label=\"Private Leaderboard Place\")\n\nplot2numeric(x=leaderboard[\"public_score\"], \n             y=leaderboard[\"private_score\"], \n             title=\"Public vs Private Leaderboards | Scores\", \n             x_label=\"Public Leaderboard Score\", \n             y_label=\"Private Leaderboard Score\")\n\nplot2numeric(x=leaderboard[\"entries\"], \n             y=leaderboard[\"private_place\"], \n             title=\"Entries vs Private Leaderboard Place\", \n             x_label=\"Entries\", \n             y_label=\"Private Leaderboard Place\", \n             figsize=(7, 10),\n             plot_type=\"scatter\")\n\nplot2numeric(x=leaderboard[\"team_members\"], \n             y=leaderboard[\"private_place\"], \n             title=\"Team Members vs Private Leaderboard Place\", \n             x_label=\"Team Members\", \n             y_label=\"Private Leaderboard Place\", \n             figsize=(7, 10),\n             plot_type=\"box\")\n\nplot2numeric(x=leaderboard[\"public_place\"], \n             y=leaderboard[\"public_score\"], \n             title=\"Public Leaderboard Place vs Public Leaderboard Score\", \n             x_label=\"Public Leaderboard Place\", \n             y_label=\"Public Leaderboard Score\", \n             figsize=(7, 10),\n             plot_type=\"scatter\")\n\nplot2numeric(x=leaderboard[\"private_place\"], \n             y=leaderboard[\"private_score\"], \n             title=\"Private Leaderboard Place vs Private Leaderboard Score\", \n             x_label=\"Private Leaderboard Place\", \n             y_label=\"Private Leaderboard Score\", \n             figsize=(7, 10),\n             plot_type=\"scatter\")\n\n\nplot2numeric(x=leaderboard_public[:n][\"team_name\"][::-1], \n             y=leaderboard_public[:n][\"public_score\"][::-1], \n             title=f\"Public Leaderboard TOP {n}\", \n             x_label=\"Team\", \n             y_label=\"Public Leaderboard Score\", \n             xticks_rotation=60,\n             figsize=(7, 10),\n             plot_type=\"line\")\n\n\nplot2numeric(x=leaderboard_private[:n][\"team_name\"][::-1], \n             y=leaderboard_private[:n][\"private_score\"][::-1], \n             title=f\"Private Leaderboard TOP {n}\", \n             x_label=\"Team\", \n             y_label=\"Private Leaderboard Score\", \n             xticks_rotation=50,\n             figsize=(7, 10),\n             plot_type=\"line\")\n\nplot2numeric(x=leaderboard_delta[:n][\"team_name\"][::-1], \n             y=-leaderboard_delta[:n][\"delta_place\"][::-1], \n             title=f\"The Less Overfitted TOP {n}\", \n             x_label=\"Team\", \n             y_label=\"Private Leaderboard Delta\", \n             xticks_rotation=50,\n             figsize=(7, 10),\n             plot_type=\"line\")\n\nplot2numeric(x=leaderboard_delta[-n:][\"team_name\"], \n             y=-leaderboard_delta[-n:][\"delta_place\"], \n             title=f\"The Most Overfitted TOP {n}\", \n             x_label=\"Team\", \n             y_label=\"Private Leaderboard Delta\", \n             xticks_rotation=70,\n             figsize=(7, 10),\n             plot_type=\"line\")","d04569fc":"plot2numeric(x=discussions_votes[-n:][\"fullname\"], \n             y=discussions_votes[-n:][\"votes\"], \n             title=f\"The most Votes TOP {n} | Discussions\", \n             x_label=\"People\", \n             y_label=\"Votes\", \n             figsize=(7, 10),\n             xticks_rotation=65,\n             plot_type=\"line\")\n\nplot2numeric(x=discussions_count[-n:][\"fullname\"], \n             y=discussions_count[-n:][\"discussions\"], \n             title=f\"The most Sociable TOP {n} | Discussions\", \n             x_label=\"People\", \n             y_label=\"Discussions\", \n             xticks_rotation=40,\n             figsize=(7, 10),\n             plot_type=\"line\")\n\n\nplot2numeric(x=notebooks_votes[-n:][\"fullname\"], \n             y=notebooks_votes[-n:][\"votes\"], \n             title=f\"The most Votes TOP {n} | Notebooks\", \n             x_label=\"People\", \n             y_label=\"Votes\", \n             figsize=(7, 10),\n             xticks_rotation=40,\n             plot_type=\"line\")\n\nplot2numeric(x=notebooks_count[-n:][\"fullname\"], \n             y=notebooks_count[-n:][\"notebooks\"], \n             title=f\"The most Open-Sourced TOP {n} | Notebooks\", \n             x_label=\"People\", \n             y_label=\"Notebooks\", \n             xticks_rotation=40,\n             figsize=(7, 10),\n             plot_type=\"line\")","8233f40d":"# Forum","556ff551":"# Leaderboard"}}