{"cell_type":{"9ac402e4":"code","f86ce157":"code","434c6a28":"code","42e4f753":"code","95fed6ba":"code","62bf41e2":"markdown","a19bb8ff":"markdown","951509c2":"markdown","d6aef24a":"markdown","347b8575":"markdown","1e917ffd":"markdown","23640c77":"markdown"},"source":{"9ac402e4":"import numpy as np # linear algebra\nfrom sklearn.metrics import roc_auc_score","f86ce157":"# 1000 samples\nn = 1000\n\n# ground truth\ny = np.zeros(n)\ny[-78:] = 1\n\n# probing prediction with one known positive set to 1, rest set to 0\nyhat = np.zeros(n)\nyhat[-1] = 1\n\n# score\nroc_auc_score(y, yhat)","434c6a28":"# 3300 samples\nn = 3300\n\n# ground truth\ny = np.zeros(n)\ny[-78:] = 1\n\n# probing prediction with one known positive set to 1, rest set to 0\nyhat = np.zeros(n)\nyhat[-1] = 1\n\n# score\nroc_auc_score(y, yhat)","42e4f753":"# 3300 samples\nn = 3300\n\n# ground truth with 77 positive\ny = np.zeros(n)\ny[-77:] = 1\n\n# probing prediction with one known positive set to 1, rest set to 0\nyhat = np.zeros(n)\nyhat[-1] = 1\n\n# score\nroc_auc_score(y, yhat)","95fed6ba":"# 3300 samples\nn = 3300\n\n# ground truth with 79 positive\ny = np.zeros(n)\ny[-79:] = 1\n\n# probing prediction with one known positive set to 1, rest set to 0\nyhat = np.zeros(n)\nyhat[-1] = 1\n\n# score\nroc_auc_score(y, yhat)","62bf41e2":"This seems right, but wait  aminute, public test rather has 3300 samples or so.  Let's see what happens with that number of samples.","a19bb8ff":"We see that 79 positives is not compatible with the public score.","951509c2":"Let's simulate what happens when we submit one positive when there are 78 positive in ground truth.  We do this for, say, 1000 examples.","d6aef24a":"We see that 77 positives is also consitent with a public score truncated to 0.5064","347b8575":"The result is unchanged!\n\nLet's see if 78 is the right number still.","1e917ffd":"Conclusion: there are either 77 or 78 positives in the public test.  ","23640c77":"# Number of public melanoma is 78 (or 77)\n\nThis is a simple simulation showing that the number of melanoma in public test is 78 or 77.  This result was already shared by Sirish Somanchi, based on submitting a probe where all predictions are 0 except for one known melanoma case where he submitted 1.  He got a public LB of 0.5064.  I was puzzled by this and decided to check it in this notebook.\n\nIt confirms that Sirish Somanchi was (almost) right. I say almost because 77 is also a legit number of public melanoma."}}