{"cell_type":{"b074ec63":"code","3e4aee8e":"code","0eac53d1":"code","3d2b2bc9":"code","500a6243":"code","a367670c":"code","c87f313b":"code","836f2a16":"code","5539436c":"code","8878f988":"code","5fcd0b61":"code","0ab3ea69":"code","24c93b8f":"code","79dc64ce":"code","20f59d71":"code","dd5c5c2a":"code","5baaddc4":"code","49bfab11":"code","4527105a":"code","496e1526":"code","356865b8":"code","bdcb97b5":"code","3d76ade8":"code","9faf3d82":"code","b10497af":"code","c15265be":"code","30bf5fdb":"code","b1e792cd":"code","e21e0b30":"code","e3890c18":"code","cc81c40d":"code","b1e76aef":"code","c2cdab59":"code","3a1e5293":"code","7631a1cc":"code","7e116261":"code","08988cd2":"code","d082a0b4":"code","555ce0a6":"code","b6ff85fd":"code","76375fc7":"code","b62dbd97":"code","1829aab6":"code","ef9f9ec9":"code","98c78982":"code","8ee31981":"code","14259ae0":"code","d5a9c318":"code","e3f45a2d":"markdown"},"source":{"b074ec63":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","3e4aee8e":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","0eac53d1":"df1=pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")","3d2b2bc9":"df1.head()","500a6243":"df1.drop([\"Name\",\"PassengerId\",\"Ticket\"],axis =1,inplace=True)","a367670c":"df1.head()","c87f313b":"sns.heatmap(df1.isna())","836f2a16":"df1.count()\ndf1.drop(\"Cabin\",axis=1,inplace=True)","5539436c":"df1.head()","8878f988":"sns.boxplot(\"Pclass\",\"Age\",hue=\"Sex\",data=df1)","5fcd0b61":"def fillgap(dataframe):#3 terms 1st term is Age, second term is Pclass 3rd term is Sex\n    Age=dataframe[0]\n    Pclass =dataframe[1]\n    Sex=dataframe[2]\n    if pd.isnull(Age):\n        if Pclass==1:#1st class\n            if Sex==\"male\":\n                return 40\n            else:\n                return 35\n        elif Pclass==2:\n            if Sex==\"male\":\n                return 30\n            else:\n                    return 29\n        elif Pclass==3:\n            if Sex==\"male\":\n                return 26\n            else:\n                return 21\n    else:\n        return Age","0ab3ea69":"df1[\"Age\"]=df1[[\"Age\",\"Pclass\",\"Sex\"]].apply(fillgap,axis=1)","24c93b8f":"sns.heatmap(df1.isna())","79dc64ce":"df1.head()","20f59d71":"sns.countplot(\"Survived\",data=df1,hue=\"SibSp\")","dd5c5c2a":"sns.countplot(\"Survived\",data=df1,hue=\"Sex\")","5baaddc4":"sns.countplot(\"Survived\",data=df1,hue=\"Parch\")","49bfab11":"sns.countplot(\"Survived\",data=df1,hue=\"Embarked\")","4527105a":"sns.boxplot(\"Embarked\",\"Fare\",data=df1)","496e1526":"sex=pd.get_dummies(df1[\"Sex\"],drop_first=True)\nembarked=pd.get_dummies(df1[\"Embarked\"],drop_first=True)","356865b8":"df1.drop([\"Sex\",\"Embarked\",\"Fare\"],axis=1,inplace=True)\ndf1.head()","bdcb97b5":"df1.head()","3d76ade8":"df1=pd.concat([df1,sex,embarked],axis=1)","9faf3d82":"from sklearn.model_selection import train_test_split","b10497af":"from sklearn.linear_model import LogisticRegression","c15265be":"logmodel = LogisticRegression()\n","30bf5fdb":"df1.head()","b1e792cd":"xtrain=df1.drop(\"Survived\",axis=1)\nytrain=df1[\"Survived\"]","e21e0b30":"logmodel.fit(xtrain,ytrain)","e3890c18":"#First part done now to test model\ndf2=pd.read_csv(\"\/kaggle\/input\/titanic\/test.csv\")","cc81c40d":"df2.head()","b1e76aef":"df2.drop([\"Name\",\"PassengerId\",\"Ticket\",\"Cabin\",\"Fare\"],axis =1,inplace=True)\n#df2[\"Age\"]=df2[[\"Age\",\"Pclass\",\"Sex\"]].apply(fillgap,axis=1)\n#sex2=pd.get_dummies(df2[\"Sex\"],drop_first=True)\n#embarked2=pd.get_dummies(df2[\"Embarked\"],drop_first=True)\n#df2.drop([\"Sex\",\"Embarked\"],axis=1,inplace=True)\n#df2=pd.concat([df2,sex,embarked],axis=1)","c2cdab59":"df2.head()","3a1e5293":"sns.heatmap(df2.isna())","7631a1cc":"df2[\"Age\"]=df2[[\"Age\",\"Pclass\",\"Sex\"]].apply(fillgap,axis=1)","7e116261":"sns.heatmap(df2.isna())","08988cd2":"sex2=pd.get_dummies(df2[\"Sex\"],drop_first=True)\nembarked2=pd.get_dummies(df2[\"Embarked\"],drop_first=True)\ndf2.drop([\"Sex\",\"Embarked\"],axis=1,inplace=True)\ndf2=pd.concat([df2,sex2,embarked2],axis=1)","d082a0b4":"sns.heatmap(df2.isna())","555ce0a6":"df2.head()","b6ff85fd":"xtrain=df2","76375fc7":"pred=logmodel.predict(xtrain)#Fare has problem check","b62dbd97":"from sklearn.metrics import confusion_matrix,classification_report","1829aab6":"ans=pd.read_csv(\"\/kaggle\/input\/titanic\/gender_submission.csv\")","ef9f9ec9":"print(classification_report(pred,ans[\"Survived\"]))\nprint(confusion_matrix(pred,ans[\"Survived\"]))\n","98c78982":"result=pd.DataFrame(pred)\n\n","8ee31981":"df3=pd.read_csv(\"\/kaggle\/input\/titanic\/gender_submission.csv\")","14259ae0":"result[\"PassengerID\"]=df3[\"PassengerId\"]","d5a9c318":"result.to_csv('result.csv')","e3f45a2d":"xtrain"}}