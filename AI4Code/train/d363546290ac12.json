{"cell_type":{"53237cb5":"code","3369c884":"code","2a3a86e7":"code","9b889311":"code","3f906b0d":"code","f5f33485":"code","29100eab":"code","6624a20f":"code","46cf4037":"code","16260cda":"code","ad5d3065":"code","190bbe63":"markdown","f90e3327":"markdown","9e60e4f2":"markdown","633a2393":"markdown","78fcce43":"markdown","1069bc6c":"markdown","e5b015b3":"markdown","3a29291e":"markdown","e8f748db":"markdown","23486f75":"markdown","2fd1984e":"markdown","6b6333a7":"markdown","b5b6ac28":"markdown","f17d3da3":"markdown","1eb772b4":"markdown","da5a2b18":"markdown","2159ff98":"markdown","2977c910":"markdown","dfab1785":"markdown"},"source":{"53237cb5":"\nimport numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom scipy import stats\nfrom scipy.stats import norm, skew\nimport matplotlib.pyplot as plt\npd.options.display.max_columns = None\nfrom wordcloud import WordCloud\n\ndf = pd.read_csv(\"\/kaggle\/input\/movies-meta-data\/movie_metadata.csv\")","3369c884":"df.info()","2a3a86e7":"df['color']= df['color'].fillna(\"Color\")\ndf['director_name']= df['director_name'].fillna(\"None\")\ndf['duration']= df['duration'].fillna(df['duration'].median())\n# df['num_critic_for_reviews'] keep Nan\ndf['director_facebook_likes']= df['director_facebook_likes'].fillna(0)\ndf['actor_3_facebook_likes'] = df['actor_3_facebook_likes'].fillna(0)\ndf['actor_2_name']= df['actor_2_name'].fillna(\"None\")\ndf['actor_1_facebook_likes'] = df['actor_1_facebook_likes'].fillna(0)\n#df['gross'] keep Nan\ndf['actor_1_name']= df['actor_1_name'].fillna(\"None\")\ndf['actor_3_name']= df['actor_3_name'].fillna(\"None\")\ndf['facenumber_in_poster']= df['facenumber_in_poster'].fillna(df['facenumber_in_poster'].median())\ndf['plot_keywords']= df['plot_keywords'].fillna(\"None\")\ndf['num_user_for_reviews'] = df['num_user_for_reviews'].fillna(0)\ndf['language']= df['language'].fillna(\"English\")\ndf['country']= df['country'].fillna(\"USA\")\ndf['content_rating']= df['content_rating'].fillna(\"Not Rated\")\n#df['budget'] keep Nan\ndf['title_year']= df['title_year'].fillna(df['title_year'].median()) # no idia\ndf['aspect_ratio'] = df['aspect_ratio'].fillna(df['aspect_ratio'].median())\ndf['title_year']= df['title_year'].fillna(df['title_year'].median())\ndf['budget']= df['budget'].fillna(df['budget'].median())\ndf['gross']= df['gross'].fillna(df['gross'].median())\ndf[\"title_year\"] = df[\"title_year\"].astype(int)\n","9b889311":"corrmat = df.corr()\nplt.subplots(figsize=(12,9))\nsns.heatmap(corrmat, vmax=0.9, square=True)\n# interesting that budget doesnt correl woth anything ","3f906b0d":"sns.distplot(df['gross'] , fit=norm);\n\n# Get the fitted parameters used by the function\n(mu, sigma) = norm.fit(df['gross'])\nprint( '\\n mu = {:.2f} and sigma = {:.2f}\\n'.format(mu, sigma))\n\n#Now plot the distribution\nplt.legend(['Normal dist. ($\\mu=$ {:.2f} and $\\sigma=$ {:.2f} )'.format(mu, sigma)],\n            loc='best')\n#QQ-plot\nfig = plt.figure()\nres = stats.probplot(df['gross'], plot=plt)\nplt.show()","f5f33485":"ax = sns.lineplot(x=\"title_year\", y=\"budget\", data=df)\nax = sns.lineplot(x=\"title_year\", y=\"gross\", data=df)\nax.set(xlabel='year', ylabel='money')\nax.legend([\"budget\",\"gross\"])","29100eab":"df2 = pd.pivot_table(df, values='budget', index=\"country\",aggfunc=\"sum\")\ndf2 =  df2.sort_values(\"budget\").tail(10)\nplot = df2.plot.pie(y='budget', figsize=(5, 5), legend = False,sharey = True, label = \"top10 countries by Total budget\")","6624a20f":"df2 = pd.pivot_table(df, values=['gross','budget'], index=\"country\",aggfunc=\"sum\")\n\ndf2[\"proficit\"] = df2['gross']\/df2['budget']\ndf2 =  df2.sort_values(\"proficit\").tail(15)\nsns.barplot(data = df2, x=df2.index, y=\"proficit\")\nplt.xticks(rotation=75)","46cf4037":"def wordcoluder(col):\n    words = []\n    new = col.split(\"|\")\n    for i in range(len(new)):\n        words.append(new[i])\n    #for i in new:\n        #words.append[i]\n        #print[i]\n    return words\n\ndf['words'] = df['plot_keywords'].apply(wordcoluder)\n\ntext = \" \".join(review for review in df.plot_keywords)\nprint (\"There are {} words in the combination of all review.\".format(len(text)))\n\nwordcloud = WordCloud( background_color=\"white\").generate(text)\n\nplt.figure(figsize=[15,20])\nplt.title(\"Keywords for all movies\",size= 30)\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()\n","16260cda":"text = \" \".join(review for review in df[(df['title_year']>=1920)&(df['title_year']<1950) ]['plot_keywords'])\nwordcloud = WordCloud( background_color=\"white\").generate(text)\nplt.figure(figsize=[15,20])\nplt.title(\"Cinema keywords in 1920-1950th\",size= 30)\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","ad5d3065":"text = \" \".join(review for review in df[(df['title_year']>=1990)&(df['title_year']<2020) ]['plot_keywords'])\n\nwordcloud = WordCloud( background_color=\"black\").generate(text)\n\nplt.figure(figsize=[15,20])\nplt.title(\"Cinema keywords in 1990-2020\",size= 30)\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","190bbe63":"It seems like budgets incresses every year, but gross doesnt show such grow. Also we can see few years when cinema became generaly unprofitable.\n\nLet's check what countries spend more money.","f90e3327":"## 1. Take a look.","9e60e4f2":"This Data set consists of IMDB Ratings of Movies and includes many other information about the Movies such as It's Actors, Social Media Presence, Duration of the Movie, Genre of the Movie, Origin, Aspect Ratio, language, plot, budget, content rating etc. which makes this dataset perfect to practice the skills in Pandas.","633a2393":"## 2. Data clearing","78fcce43":"Despite the fact that not all columns were replaced, now the data is suitable for visualization.","1069bc6c":"## 3. Correlations and distribution.","e5b015b3":"Apparently it needs to be cleaned.","3a29291e":"It seems like even gross cant be explained as normal distribution. I think it would be a difficult task to predict it.","e8f748db":"<img src='https:\/\/i.f1g.fr\/media\/eidos\/orig\/2020\/01\/16\/XVM2688896a-387a-11ea-91d4-8a9df2a058f5.jpg'>","23486f75":"It came as a surprise to me that gross does not correlate with the budget at all. And budget does not correl with anything","2fd1984e":"Lets explore information from plot_keywords.","6b6333a7":"**Love. Death. Murder. New York. Friend. Sex. Cinema is all about. **\n\nBut let's find out if priorities have changed over time?","b5b6ac28":"**It seems that our grandfathers preferred dancing rather than death.**\n\nThank you for your attention, if you liked this notebook pls upvote^;)","f17d3da3":"# 5. Cinema idias durning time","1eb772b4":"## 4. Take a look on a budget and gross.","da5a2b18":"USE not even in 15. Seems like one film fron Kenya earn >1600 of its budgets, fu hollywood.:)\nThis also may be explained as only good films that reach the western audience goes on the site from which this table was downloaded.","2159ff98":"I ran through all the columns and replaced the values \u200b\u200bwith the most suitable","2977c910":"# Movies Meta clearing and visualization, EDA.","dfab1785":"Oblviously it's USA. But what abaut effective?"}}