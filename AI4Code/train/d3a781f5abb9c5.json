{"cell_type":{"a80bf5f5":"code","41e4a8d3":"code","eadca172":"code","040de043":"code","a8842dd2":"code","4c3c3680":"code","aba8a375":"code","751e0f29":"code","f4c7585f":"code","99442d71":"code","ba120da2":"code","e1789a82":"code","b5f63f70":"code","ae814709":"code","9cf1eeb5":"code","dcaf5cd8":"code","163993fc":"code","085deb3c":"code","6eab2ae3":"code","2efd62cb":"code","10151de2":"code","d47fcd6a":"code","7ab12203":"code","a6bcb95a":"code","33afefd3":"code","45e2334c":"code","1d303fe7":"code","76f632f8":"code","48b2c697":"code","5a3b8ed8":"markdown","03a2c883":"markdown","1022d4d4":"markdown","8c83c53f":"markdown","3df28e86":"markdown","d2b13bb3":"markdown","4d418bcc":"markdown","94384f49":"markdown","2a5879ab":"markdown","5c49e726":"markdown","96e90db1":"markdown","c8bd1041":"markdown","1c6df989":"markdown","c9a13f46":"markdown","56667e18":"markdown","745b6e26":"markdown","9c78fbae":"markdown"},"source":{"a80bf5f5":"import matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\n%matplotlib inline\nimport warnings\nwarnings.filterwarnings('ignore')","41e4a8d3":"#lets load dataset\n\ndata_xls = pd.read_csv('..\/input\/yellow-trip-dataset\/yellow_tripdata_2020-04.csv')\ndata_xls.head()","eadca172":"#lets see shape of dataset\n\ndata_xls.shape","040de043":"#lets see decription of dataset\n\ndata_xls.describe()\n","a8842dd2":"#lets check the datatypes and non-null count in dataset\n\ndata_xls.info()","4c3c3680":"#lets check the unique values in the dataset\n\ndata_xls.nunique()","aba8a375":"#lets check the number of null values in dataset\n\ndata_xls.isnull().sum()","751e0f29":"print('Number of null values in Vendor ID is:', data_xls.VendorID.isnull().sum())\nsns.countplot(x='VendorID', data=data_xls)","f4c7585f":"print('Number of null values in passenger count is:', data_xls.passenger_count.isnull().sum())\nsns.countplot(x='passenger_count', data=data_xls)","99442d71":"print(data_xls.trip_distance.value_counts())","ba120da2":"# we convert the pickup time and dropoff time to datetime object from object type\n\ndata_xls.tpep_pickup_datetime=pd.to_datetime(data_xls.tpep_pickup_datetime)\ndata_xls.tpep_dropoff_datetime=pd.to_datetime(data_xls.tpep_dropoff_datetime)\nprint(data_xls.tpep_pickup_datetime.dtype)\nprint(data_xls.tpep_dropoff_datetime.dtype)","e1789a82":"# we create new features from pickup time and dropoff time to get more clear insights \ndata_xls['pickup_day']=data_xls['tpep_pickup_datetime'].dt.day_name()\ndata_xls['dropoff_day']=data_xls['tpep_dropoff_datetime'].dt.day_name()\ndata_xls['pickup_hour']=data_xls['tpep_pickup_datetime'].dt.hour\ndata_xls['dropoff_hour']=data_xls['tpep_dropoff_datetime'].dt.hour\ndata_xls['pickup_month']=data_xls['tpep_pickup_datetime'].dt.month\ndata_xls['dropoff_month']=data_xls['tpep_dropoff_datetime'].dt.month\ndata_xls.head()","b5f63f70":"# we drop the unecessary columns\n\ndata_xls.drop(['tpep_pickup_datetime', 'tpep_dropoff_datetime'], axis=1, inplace=True)","ae814709":"data_xls.head()","9cf1eeb5":"#lets plot the pickup days and drop off days count and see \n\nfigure,(ax1,ax2)=plt.subplots(ncols=2,figsize=(20,5))\nax1.set_title('Pickup Days')\nax=sns.countplot(x=\"pickup_day\",data=data_xls,ax=ax1)\nax2.set_title('Dropoff Days')\nax=sns.countplot(x=\"dropoff_day\",data=data_xls,ax=ax2)","dcaf5cd8":"#lets plot the pickup hour and drop hour count and see\n\nfigure,(ax3,ax4)=plt.subplots(ncols=2,figsize=(20,5))\nax3.set_title('Pickup Hour')\nax=sns.countplot(x=\"pickup_hour\",data=data_xls,ax=ax3)\nax4.set_title('Dropoff Hour')\nax=sns.countplot(x=\"dropoff_hour\",data=data_xls,ax=ax4)","163993fc":"#lets plot the pickup month and dropoff month count\n\nfigure,(ax5,ax6)=plt.subplots(ncols=2,figsize=(20,5))\nax5.set_title('Pickup Month')\nax=sns.countplot(x=\"pickup_month\",data=data_xls,ax=ax5)\nax6.set_title('Dropoff Month')\nax=sns.countplot(x=\"dropoff_month\",data=data_xls,ax=ax6)","085deb3c":"#lets plot the RatecodeID\n\nprint(data_xls.RatecodeID.value_counts())\nprint('Number of null values are:',data_xls.RatecodeID.isnull().sum())\nsns.countplot(x='RatecodeID', data=data_xls)","6eab2ae3":"# Lets plot store and forward flag \n\nprint(data_xls.store_and_fwd_flag.value_counts())\nsns.countplot(x='store_and_fwd_flag', data=data_xls)","2efd62cb":"# lets plot the payment type \n\nprint(data_xls.payment_type.value_counts())\nsns.countplot(x='payment_type', data=data_xls)","10151de2":"# lets plot the total amount\n\nplt.figure(figsize=(12,8))\nsns.histplot(data=data_xls, x='total_amount')","d47fcd6a":"# lets plot the tips amount\n\nplt.figure(figsize=(12,8))\nsns.histplot(data=data_xls, x='tip_amount')","7ab12203":"\nsns.catplot(x=\"passenger_count\", y='tip_amount', data=data_xls)\nsns.catplot(x=\"passenger_count\", y='total_amount' ,data=data_xls)\n","a6bcb95a":"figure,(ax7,ax8)=plt.subplots(ncols=2,figsize=(20,5))\nax7.set_title('Pick up day vs Tip Amount')\nax=sns.lineplot(x=\"pickup_day\",y='tip_amount',data=data_xls,ax=ax7)\nax8.set_title('Pick up day vs Total Amount')\nax=sns.lineplot(x=\"pickup_day\",y='total_amount',data=data_xls,ax=ax8)","33afefd3":"figure,(ax9,ax10)=plt.subplots(ncols=2,figsize=(20,5))\nax9.set_title('Drop off day vs Tip Amount')\nax=sns.lineplot(x=\"dropoff_day\",y='tip_amount',data=data_xls,ax=ax9)\nax10.set_title('Drop off day vs Total Amount')\nax=sns.lineplot(x=\"dropoff_day\",y='total_amount',data=data_xls,ax=ax10)","45e2334c":"#pick up and drop points that has highest tip\ndata_xls.loc[data_xls.tip_amount == data_xls.tip_amount.max()]","1d303fe7":"#load datset that has location names for location ids\n\ndata_xls_1 = pd.read_csv('..\/input\/taxi-zone-look-up-data-set\/taxi_zone_lookup.csv')\ndata_xls_1.head()","76f632f8":"#Maximum tip amount\n\ndata_xls.loc[data_xls.tip_amount == data_xls.tip_amount.max()]","48b2c697":"# Finding the location for the corresponding location ids\npick_loc = data_xls_1.loc[data_xls_1.LocationID == 132]\n\ndrop_loc = data_xls_1.loc[data_xls_1.LocationID == 161]\n\nf = pd.concat([pick_loc, drop_loc])\nf","5a3b8ed8":"We can see that - \n* There is a sudden rise in the pickup hours from 6AM and it continued till 8AM. This is may be due to early morning office hours\n* Evening between 3PM to 5PM seem to be the busiest hours.","03a2c883":"We can see the total amount is almost less than 100 for almost all trips. So keeping the total amount of the trips below 100 may increase the number of trips.","1022d4d4":"We can clearly see that RatecodeID 1 i.e., standard rate is overwhelmingly more than others.","8c83c53f":"From above plot we can observe that the single passenger rides were highest. Also the null values in 'passenger_count' attribute is 19513","3df28e86":"We can clearly see that wednesday and thursday seem to be the busiest days for both pickup and drop off","d2b13bb3":"* We can see the tip amount is high when passenger count in the trip is just one.\n* We can also see that the total amount paid is high when passenger count is one.","4d418bcc":"We have created the following features:\n\n* pickup_day and dropoff_day which will contain the name of the day on which the ride was taken.\n* pickup_day_no and dropoff_day_no which will contain the day number instead of characters with      Monday=0 and Sunday=6.\n* pickup_hour and dropoff_hour with an hour of the day in the 24-hour format.\n* pickup_month and dropoff_month with month number with January=1 and December=12\n\nWe analyse the individual feature and get some insights","94384f49":"We can see that the tip amount is highest on sundays and lowest on saturdays for pickup days and also the total amount is also highest on sundays while it is lowest on saturdays. So it is better to run less trips on saturdays to increase the profits.","2a5879ab":"We can see that a overwhelming number of trips are not a store and forward trip","5c49e726":"We can see that all the rides in the given dataset took place in April month","96e90db1":"**Bi variate Analysis**\n*  we will see the relationships between the individual features","c8bd1041":"We can observe the same trend for highest tip amount on Sundays and also the highest total amount collected is on Sundays for drop off days. \nFrom the above two plots we can clearly observe that by dropping the number of rides on satursays we can increase profits.","1c6df989":"From above we can observe that the number of vendor id with 2 is more than the vendor id 1. Also the null values in 'VendorID' feature is 19513","c9a13f46":"We see there are 6223 rides with zero miles distance","56667e18":"# **Exploratory Data Analysis**","745b6e26":"**Univariate Analysis**","9c78fbae":"We can see that passengers paid through the payment mode of Credit card(1.0) more than any other payment mode. So giving promo offers in credit card payment may attract more passengers to travel."}}