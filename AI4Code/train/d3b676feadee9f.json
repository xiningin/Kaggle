{"cell_type":{"5cac46e4":"code","51e954ba":"code","46c490a1":"code","9a8f057a":"code","ef123c45":"code","e0aa0bdd":"code","22d30cc6":"code","64e5abff":"code","4fdcc3d9":"code","aff64e87":"code","f7d7d9f9":"code","fc08333d":"code","68b59d7f":"code","ea966a68":"code","eb031991":"code","e676cb72":"code","1856e07b":"code","d88c6ca3":"code","9f77e153":"code","02564431":"code","7c2a80e6":"code","f1eaf887":"code","e31a575e":"code","6d738f36":"code","f2baa69b":"markdown","40e128f3":"markdown","16abc1e0":"markdown","614b3edc":"markdown","819101fa":"markdown","e6da4f6c":"markdown","1d568c0c":"markdown","3d11d56f":"markdown","ee4aaa19":"markdown","8dac50fa":"markdown","3f310bbf":"markdown","91ee1bd6":"markdown","b719162a":"markdown"},"source":{"5cac46e4":"import pandas as pd \nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns","51e954ba":"df_pirates = pd.read_csv('pirate_attacks.csv')\ndf_codes = pd.read_csv('country_codes.csv')\ndf_country_data = pd.read_csv('country_indicators.csv')","46c490a1":"df_pirates['attack_type'].unique()","9a8f057a":"df_pirates.head(5)\n# I'm already seeing some columns that won't be necessary for this analysis (data_source, vessel_name).\n# Date is in YYYY-MM-DD format. I'll have to see how the dates are formatted in the other two datasets.","ef123c45":"df_country_data.head(5)\n# This dataset only contains years. In order to compare these 2 datasets we may have to group the number of attacks per\n# year. Seems like there will be a lot of null values I will have to decide how to handle. As well as soom number formatting","e0aa0bdd":"df_codes.head(5)\n# I will join this dataset to the other two so I can see the country associated instead of the 3 number code","22d30cc6":"df_pirates.head()","64e5abff":"df_pirates.shape\n# There is 16 columns and 7511 records. I wonder how many have NaNs in the columns I will be looking at. Will we have\n# enough data to have meaningful results?","4fdcc3d9":"df_pirates.info()\n# Date and time are an object. We will have to convert that.\n# There is a lot of data missing in the time and vessel_type columns. That is unfortunate as I wanted to utilize those\n# rows for my analysis. ","aff64e87":"# New dataframe with dropped columns \ndf_pnew = df_pirates.drop(['vessel_name', 'data_source', 'location_description', 'attack_description'], axis = 1)","f7d7d9f9":"#Changing to DateTime format in case we want to use it for Date equations\ndf_pnew['date'] = pd.to_datetime(df_pnew['date'])","fc08333d":"df_pnew['country'] = df_pnew['eez_country']","68b59d7f":"#Replacing NaNs with 'Info Not Provided' so readers can have an understanding. Leaving NaNs can be confusing to viewers\ndf_pnew.fillna('Info Not Provided')","ea966a68":"# Merging p_new and df_codes so I can have the country name, not just the 3 letter ISO code. \ndf_pir = pd.merge(df_pnew, df_codes, on=['country'])","eb031991":"# dropping duplicate columns\ndf_pir = df_pir.drop(['country'], axis = 1)","e676cb72":"# Saving the new dataframe to a csv just in case my other data is deleted within Jupyter \ndf_pir.to_csv('Cleaned Pirate.csv')","1856e07b":"df_country_data.head(5)","d88c6ca3":"df_country_data.info()\n# It looks like the dataset is at least 70-80% non-null for each column \n# total_military, homicide_rate, corruption_index, and totalgr are all on the lower side in terms of data\n# year is a float?\n# total_fisheries_per_ton is a float as well. I don't think you can have half a fishery.","9f77e153":"df_country_data.shape\n# 5899 rows of data confirms there is at least a country for each one of our rows. Non of our rows will be completely\n# null values. ","02564431":"# Are there any columns I want to drop? \n# No, I think we could use all of these in a regression model. Although is 3377 entries out of 5899 columns enough to\n# include? In the real world, I think this might be acceptabel but, if it was under 50% I think I would exclude this\n# from the regression","7c2a80e6":"#Changing Datatypes\ndf_country_data['year'] = pd.to_numeric(df_country_data['year'])\ndf_country_data['total_fisheries_per_ton'] = pd.to_numeric(df_country_data['total_fisheries_per_ton'])","f1eaf887":"#Handling Nulls\n# I think I'll handle nulls the same way I did for our other dataframe. Just to make it more clear for the reader\ndf_country_data.fillna('Info Not Provided')","e31a575e":"df_newcountry = pd.merge(df_country_data, df_codes, on = ['country'])","6d738f36":"df_newcountry.to_csv('Cleaned Country')","f2baa69b":"#### What variables have the highest impact on probability of an attack?\nI want to eventually make a regression for this but, intially I think I'll create a heatmap so I can get a general overview of some possible correlations. \nI am considering creating 2 heatmaps. \n1. Where the heatmap is representing data from the Pirate Attack Dataframe \n2. Where I group the number of attacks per year per country and merge it with the country dataframe.\n\nThis is just an initial idea and I don't know if this will end up working or giving me the relevant information I need. ","40e128f3":"# Global Maritime Pirate Attacks (1993-2020) Exploratory Data Cleaning and Analysis\n\n### Introduction:\n#### Piracy and robbery against ships is a modern day challange for international trade and commerce. In this analysis, I will clean and analyze the data to answer some key questions I have come up with to indetify how to better prepare for these events.\n\n### Scenario:\n#### The US Department of Transportation's Maritime Administration has come to me with questions to direct their future trade endeavors. They have been collecting data on piracy attacks since 1993 and are trying to predict if a boarding attack is more likely to happen. They have asked me to put together a model showing them how certain data they recieve can help predict when attacks will occur so they  may make better decisions on trade routes. \n\n##### Citation: Benden, P., Feng, A., Howell, C. and Dalla Riva, G.V., 2021. Crime at Sea: A Global Database of Maritime Pirate Attacks (1993\u20132020). Journal of Open Humanities Data, 7, p.19. DOI.\n##### and\n##### https:\/\/www.kaggle.com\/n0n5ense\/global-maritime-pirate-attacks-19932020?select=country_indicators.csv\n\n##### I am going to use the list of variables in each CSV that was documented by Vagif on Kaggle.","16abc1e0":"#### df_pirates\n","614b3edc":"To Do List (Creating a new df with the infomation I want): \n- Check shape and info\n- Deleting vessel_name, attack_description, location_description, and, data_source\n- Change Date format\n- Decide what to do with NaNs\n- Join with df_codes","819101fa":"### Key Questions\n\n1) What variables have the highest impact on probability of an attack?\n\n2) Has there been an increase in attacks in certain areas? How about an increase overall? \n\n3) Do variables associated with countries have an affect on their safety in terms of maritime trade?\n\n4) Has the frequency of different types of attacks increased or decreased over time?\n\n5) Is it common to have an ally close by where attacks are frequent? This could be useful if the US decides to be a bit riskier and go around areas frequently attacked.\n\n6) To prepare our sailors, what Vessel Status is most likely to be hit by an attack?\n\n7) Is there value in creating a continous model to advise the administration on what course of action to take? Does the data provide the answers the Administration needs?","e6da4f6c":"### Variable Analysis","1d568c0c":"#### Key Variables\nCountry - How the datasets will be joined. \n\nLongitude and Latitude - This could be used for creating a map visualization. \n\nTime - When are events most frequentley occuring? \n\nShore Distance - Does distance to shore have a strong effect on probability of an event occuring? \n\nVessel Status - How does the probability of an event occuring change based on status? \n\nCan using these country indicators tell us something about which countries to avoid when creating trade routes? Do these countries look similar to the logitude and latitude where attacks are frequent?\n\nCorruption Index\n, Homicide Rate\n, GPD \n, Total Fisheries Per Ton \n, Total Military \n, Population \n, Unemployment Rate\n, Total GR \n, Industry ","3d11d56f":"pirate_attacks.csv\n\n    Date [Key] - Date of Attack. Used as a key with the Country Matrix data frame.\n    Time - Time the attack took place, either in UTC or Local Time.\n    Longitude - Longitude where the attack took place.\n    Latitude - Latitude where the attack took place.\n    Attack Type - Either NA (Missing), Attempted, Boarding, or Hijacked.\n    Location Description - A text description of the location. With attacks taking place at sea, it is not as simple as just       naming a city or town.\n    Nearest Country [Key] - The country code whose shore is closest to the attack. The resolution is around 1 km, it can be         much better depending on how detailed the mapping of the coast is in the vicinity.\n    EEZ Country [Key] - The Exclusive Economic Zone country code in which the attack took place, if it took place within an         EEZ.\n    Shore Distance - Distance in kilometres to the shore from the attack location. This is the true geographic distance over       the surface of the earth.\n    Shore Longitude - The longitude of the closest point on the shore to the attack.\n    Shore Latitude - The latitude of the closest point on the shore to the attack.\n    Attack Description - The text description of the attack if it exists.\n    Vessel Name - The name of the ship which was attacked if it is known.\n    Vessel Type - The type of vessel attacked if known.\n    Vessel Status - The status of the ship at the time it was attacked. Either NA (Missing), Berthed (Tied to a berth), Anchored (anchored at sea or in a harbour), or Steaming (ship underway).\n\ncountry_indicators.csv\n\n    Country [Key] - The country in ISO3 country code format.\n    Corruption Index - Corruption Perceptions Index.\n    Homicide Rate - Total Intentional Homicides per 100,000 people.\n    GPD - Gross Domestic Product (US Dollars).\n    Total Fisheries Per Ton - Total Fisheries Production (metric tons).\n    Total Military - Total Number of Armed Forces personnel.\n    Population - Country Population.\n    Unemployment Rate - Percentage of the Country Unemployed.\n    Total GR - Total Government Revenue. An indication of how well the country collects taxes.\n    Industry - Industrial contribution to total GDP.\n\ncountry_codes.csv\n\n    Country [Key] - The country in ISO3 country code format.\n    Region - The region the country is in.\n    Country Name - The English country name.\n","ee4aaa19":"### Cleaning Data","8dac50fa":"### Importing and Deciding what to do with the Data","3f310bbf":"#### df_country_data","91ee1bd6":"### Answering Intial Questions\n1) What variables have the highest impact on probability of an attack?\n\n2) Has there been an increase in attacks in certain areas? How about an increase overall?\n\n3) Do variables associated with countries have an affect on their safety in terms of maritime trade?\n\n4) Has the frequency of different types of attacks increased or decreased over time?\n\n5) Is it common to have an ally close by where attacks are frequent? This could be useful if the US decides to be a bit riskier and go around areas frequently attacked.\n\n6) To prepare our sailors, what Vessel Status is most likely to be hit by an attack?\n\n7) Is there value in creating a continous model to advise the administration on what course of action to take? Does the data provide the answers the Administration needs?","b719162a":"To Do List (Creating a new df with the infomation I want):\n\n- Check shape and info\n- Change year data column type\n- Maybe change total_fisheries_per_ton (??) data type\n- Decide what to do with NaNs\n- Join with df_codes"}}