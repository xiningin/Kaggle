{"cell_type":{"a1d1a9db":"code","b4d8e93e":"code","46f02842":"code","d24d0f20":"code","d804fd49":"code","0136d65e":"code","20b44872":"code","46f25f38":"code","c7ee4115":"code","9669ea85":"code","c8e51149":"code","4bb74402":"code","c533d24a":"code","f6c9a3e8":"code","84b0d5e3":"code","351a3fc2":"code","12a0010c":"code","9818193d":"code","8b20989e":"code","48d88201":"code","6cd68650":"code","03d17b77":"code","d6bc2f8e":"code","bedacb61":"code","03e64af8":"code","648181e1":"code","7aeef14b":"code","a6c55242":"code","1bde5ca8":"code","de79a185":"code","c364f5e5":"code","47acb968":"code","03ce28a5":"code","a8c78444":"code","1888928f":"code","69bc5f3a":"markdown","c8b2c217":"markdown","95ee2086":"markdown","aaee03fc":"markdown","2fe767d4":"markdown","6b4e9933":"markdown","d59fe0ea":"markdown","72897a07":"markdown","988a2a12":"markdown","a54f6a3c":"markdown","1fb527f6":"markdown","37feedda":"markdown","321f481e":"markdown","da77054c":"markdown","57e0d250":"markdown","1ceef3a0":"markdown","90342ef8":"markdown","b5089856":"markdown","d0824405":"markdown","f6a89aa6":"markdown","17d643e0":"markdown","a7d139be":"markdown","cda9553b":"markdown","0f461afc":"markdown","f5ee4be0":"markdown","be00c079":"markdown"},"source":{"a1d1a9db":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","b4d8e93e":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px","46f02842":"df_2015 = pd.read_csv(\"\/kaggle\/input\/world-happiness\/2015.csv\")\ndf_2015\n\ndf_2016 = pd.read_csv(\"\/kaggle\/input\/world-happiness\/2016.csv\")\ndf_2016\n\ndf_2017 = pd.read_csv(\"\/kaggle\/input\/world-happiness\/2017.csv\")\ndf_2017\n\ndf_2018 = pd.read_csv(\"\/kaggle\/input\/world-happiness\/2018.csv\")\ndf_2018\n\ndf_2019 = pd.read_csv(\"\/kaggle\/input\/world-happiness\/2019.csv\")\ndf_2019","d24d0f20":"print(df_2015.shape)\nprint(df_2016.shape)\nprint(df_2017.shape)\nprint(df_2018.shape)\nprint(df_2019.shape)","d804fd49":"df_2015.columns.to_list()","0136d65e":"df_2016.columns.to_list()","20b44872":"df_2017.columns.to_list()","46f25f38":"df_2018.columns.to_list()","c7ee4115":"df_2019.columns.to_list()","9669ea85":"df = pd.DataFrame()\ndf = df_2018.copy()\ndf = df.append(df_2019,ignore_index=True)\ndf","c8e51149":"df.columns.to_list()","4bb74402":"df.columns = ['Ranking','Pa\u00eds o Regi\u00f3n','Puntaje','PIB per c\u00e1pita','Apoyo Social','Expectativa de vida saludable','Libertad para tomar decisiones en la vida','Generosidad','Percepci\u00f3n de Corrupci\u00f3n']\ndf.columns.to_list()","c533d24a":"df.shape","f6c9a3e8":"df.dtypes","84b0d5e3":"for i in df.columns:\n    print(\"*\"*80)\n    print(\"*\"*80)\n    print(i)\n    print(df[i].sort_values().unique())","351a3fc2":"datos_x = df.Puntaje.value_counts().index.to_list()\ndatos_y = df.Puntaje.value_counts().to_list()\n\nplt.title('Distribuci\u00f3n de datos de Puntaje')\nsns.barplot(x=datos_x, y=datos_y)\nplt.show()","12a0010c":"df.isnull().sum()","9818193d":"df[df.isnull().any(1)]","8b20989e":"df[df['Pa\u00eds o Regi\u00f3n']=='United Arab Emirates']","48d88201":"df_null = pd.DataFrame()\ndf_null = df.copy()\n\ndf_null.loc[df_null['Pa\u00eds o Regi\u00f3n']=='United Arab Emirates','Percepci\u00f3n de Corrupci\u00f3n'] = 0.182\ndf_null[df_null['Pa\u00eds o Regi\u00f3n']=='United Arab Emirates']","6cd68650":"import plotly.express as px\nfig = px.scatter_matrix(df_null.drop(['Pa\u00eds o Regi\u00f3n','Ranking'],axis=1),\n                        color=\"Puntaje\", height=1300)\nfig.show()","03d17b77":"plt.figure(figsize=(10,6))\nsns.heatmap(df_null.corr(), annot = True, cmap=\"YlGnBu\")\nplt.show()","d6bc2f8e":"import plotly.express as px\n\nfig = px.scatter_3d(df_null, x='Apoyo Social', y='Expectativa de vida saludable', z='PIB per c\u00e1pita',\n                    color='Puntaje', opacity=0.7)\nfig.show()","bedacb61":"df_map = pd.DataFrame()\ndf_map = df_2019.copy()","03e64af8":"import pycountry\n\ndef do_fuzzy_search(country):\n    try:\n        result = pycountry.countries.search_fuzzy(country)\n    except Exception:\n        return np.nan\n    else:\n        return result[0].alpha_3\n    \ndf_map.loc[:,'country_code'] = df_map[\"Country or region\"].apply(lambda country: do_fuzzy_search(country))","648181e1":"df_map.isnull().sum()","7aeef14b":"df_map[df_map.isnull().any(1)].sort_values('Country or region')","a6c55242":"df_map.loc[df_map['Country or region']=='South Korea','country_code'] = 'KR'\ndf_map.loc[df_map['Country or region']=='Laos','country_code'] = 'LA'\ndf_map.loc[df_map['Country or region']=='Trinidad & Tobago','country_code'] = 'TT'\ndf_map.loc[df_map['Country or region']=='Ivory Coast','country_code'] = 'CI'\ndf_map.loc[df_map['Country or region']=='Palestinian Territories','country_code'] = 'PS'\ndf_map.loc[df_map['Country or region']=='Northern Cyprus','country_code'] = 'CY'\ndf_map.loc[df_map['Country or region']=='Swaziland','country_code'] = 'SZ'\ndf_map.loc[df_map['Country or region']=='Congo (Brazzaville)','country_code'] = 'CG-BZV'\ndf_map.loc[df_map['Country or region']=='Congo (Kinshasa)','country_code'] = 'CD-KN'","1bde5ca8":"df_map.columns = ['Ranking','Pa\u00eds o Regi\u00f3n','Puntaje','PIB per c\u00e1pita','Apoyo Social','Expectativa de vida saludable','Libertad para tomar decisiones en la vida','Generosidad','Percepci\u00f3n de Corrupci\u00f3n','country_code']\ndf_map.columns.to_list()","de79a185":"import plotly.graph_objects as go\n\ndef mapa(country_code, score, country_name):\n    fig = go.Figure(data=go.Choropleth(\n        locations = country_code,\n        z = score,\n        text = country_name,\n        colorscale = 'dense',\n        autocolorscale=False,\n        reversescale=False,\n        marker_line_color='black',\n        marker_line_width=0.5,\n        colorbar_tickprefix = '',\n        colorbar_title = score.name,\n    ))\n    \n    fig.update_layout(\n        title_text='Ranking de Felicidad 2019 ('+str(score.name)+')',\n        geo=dict(\n            showframe=False,\n            showcoastlines=False,\n            projection_type='equirectangular'\n        ),\n        annotations = [dict(\n            x=0.55,\n            y=0.1,\n            xref='paper',\n            yref='paper',\n            text=' ',\n            showarrow = False\n        )]\n    )\n    fig.show()\n    \n    return ","c364f5e5":"mapa(df_map['country_code'],df_map['Puntaje'],df_map['Pa\u00eds o Regi\u00f3n'])","47acb968":"mapa(df_map['country_code'],df_map['PIB per c\u00e1pita'],df_map['Pa\u00eds o Regi\u00f3n'])","03ce28a5":"mapa(df_map['country_code'],df_map['Generosidad'],df_map['Pa\u00eds o Regi\u00f3n'])","a8c78444":"mapa(df_map['country_code'],df_map['Percepci\u00f3n de Corrupci\u00f3n'],df_map['Pa\u00eds o Regi\u00f3n'])","1888928f":"mapa(df_map['country_code'],df_map['Libertad para tomar decisiones en la vida'],df_map['Pa\u00eds o Regi\u00f3n'])","69bc5f3a":"<img src=\"https:\/\/diariouno.pe\/wp-content\/uploads\/2016\/03\/1412.jpg\">","c8b2c217":"Imputaremos la percepci\u00f3n de corrupci\u00f3n faltante que pertenece al pa\u00eds Emiratos \u00c1rabes Unidos, con un valor perteneciente a otro ranking, ya que estimamos que dicho valor no tendr\u00eda un cambio muy grande respecto al otro.","95ee2086":"## Preparando los datos","aaee03fc":"Generamos un gr\u00e1fico multivariado, en el que no contaremos con las variables 'Overall rank' y 'Country or region', debido a que la primera se derivar\u00eda de la variable 'Score' y la segunda har\u00eda ininteligible el gr\u00e1fico debido a que es una variable categ\u00f3rica.","2fe767d4":"# 2. An\u00e1lisis sobre el Dataset","6b4e9933":"No hay duda de que el **PIB per c\u00e1pita**, **Apoyo Social** y **Expectativa de vida saludable**, son factores clave para la felicidad de un pa\u00eds, luego le sigue la libertad para tomar desiciones en la vida que tiene influencia moderada sobre la felicidad de un pa\u00eds.\n\nPor otro lado, poniendo en contra nuestra intuici\u00f3n la **generosidad** y **la percepci\u00f3n de corrupci\u00f3n** tienen muy poca influencia sobre la felicidad de las personas, de hecho pa\u00edses con altos \u00edndices de felicidad como Finlandia, Noruega, etc. Han tenido pocos \u00edndices en **generosidad** y **alta percepci\u00f3n de corrupci\u00f3n** sobre su pa\u00eds.","d59fe0ea":"Los datos del 2018 y 2019 tienen las mismas variables, adem\u00e1s de que son las m\u00e1s actuales, debido a eso trataremos con estas 2 bases de datos para el an\u00e1lisis.","72897a07":"## Gr\u00e1fico en 3D de las variables m\u00e1s importantes","988a2a12":"### Distribuci\u00f3n de datos del Puntaje","a54f6a3c":"# 6. Conclusiones","1fb527f6":"## Graficando mapa","37feedda":"# 3. Limpieza de Datos","321f481e":"### Tipos de datos de todas las caracter\u00edsticas\n\nEn este dataset contamos con 8 variables num\u00e9ricas y 1 categ\u00f3rica.","da77054c":" En el dataset a estudiar contamos con las siguientes variables:\n \n* Ranking\n* Pa\u00eds o Regi\u00f3n\n* Puntaje\n* PIB per c\u00e1pita\n* Apoyo Social\n* Expectativa de vida saludable\n* Libertad para tomar decisiones en la vida\n* Generosidad\n* Percepci\u00f3n de Corrupci\u00f3n\n\nAhora para analizar sobre la felicidad de la poblaci\u00f3n, muchas veces asumimos variables que podr\u00edan influir en la felicidad de la poblaci\u00f3n como la generosidad de las personas, la corrupci\u00f3n percibida o la libertad para tomar desiciones en la vida, pero en este an\u00e1lisis demostraremos que tal vez la intuici\u00f3n puede fallarnos y demostraremos con n\u00fameros las variables m\u00e1s influyentes sobre la felicidad de las personas y adem\u00e1s encontraremos variables que intuitivamente pensar\u00edamos que influye en la felicidad, pero en la realidad no lo hace.","57e0d250":"## Matriz de gr\u00e1fico multivariado","1ceef3a0":"# 5. Gr\u00e1fico de Mapas","90342ef8":"### La felicidad no est\u00e1 influenciada por la generosidad!","b5089856":"### Datos Interesantes:\n* **Puntaje vs PIB per c\u00e1pita**: La relaci\u00f3n m\u00e1s significativa es esta, la felicidad percibida por una poblaci\u00f3n se encuentra muy relacionada por el PIB per c\u00e1pita de un pa\u00eds, esto puede ser debido a que una mejor econom\u00eda indicar\u00eda mejores condiciones de vida para la poblaci\u00f3n de un pa\u00eds.\n* **Puntaje vs Apoyo Social**: Otra de las variables que pesa mucho en la felicidad de las personas, es el apoyo social que reciben de parte de su entorno, es decir, que se encuentran muy estimulados por el apoyo de sus amigos, familiares, entorno laboral, etc.\n* **Puntaje vs Expectativa de vida saludable**: Esta variable se encuentra igual de relacionada que el \"Apoyo Social\", la felicidad est\u00e1 fuertemente relacionada a la percepci\u00f3n que tiene una poblaci\u00f3n, acerca de su expectativa de vida saludable.\n* **Puntaje vs Libertad para tomar desiciones en la vida**: La influencia entre ambas variables es moderada, es decir, a\u00fan no se puede dar una afirmaci\u00f3n del por qu\u00e9 de la relaci\u00f3n entre ambas variables, ya que paises con m\u00e1s libertad de elecci\u00f3n sobre sus vidas, tienen puntajes bajos como Bolivia.\n\n### Datos a agregar:\n* **PIB per c\u00e1pita vs Expectativa de vida saludable**: El PIB per c\u00e1pita esta fuertemente relacionado por la expectativa de vida saludable de las personas. La expectativa de vida saludable puede ser una consecuencia del PIB per c\u00e1pita, ya que una mejor producci\u00f3n podr\u00eda deberse a buenos trabajos en mejores condiciones y mejor pagados, lo que conllevar\u00eda a que las personas pudieran optar por vidas m\u00e1s saludables.\n* **PIB per c\u00e1pita vs Apoyo Social**: Mejores oportunidades laborales, la tranquilidad de tener una econom\u00eda m\u00e1s estable, influir\u00edan en el estado emocional de las personas, lo que conllevar\u00eda en brindar un mejor apoyo social. \n* **Apoyo Social vs Expectativa de vida saludable**: La relaci\u00f3n entre ambas variables pudiera deberse a que un ambiente donde se sienta el apoyo social, propiciar\u00eda una buena salud mental, con una mejor expectativa sobre la vida, aumentando la expectativa de vida saludable.\n\n### Nota:\n* La felicidad no est\u00e1 influenciada (0.11) por la generosidad de la gente del pa\u00eds.\n* La felicidad est\u00e1 muy poco influenciada (0.4) por la percepci\u00f3n de corrupci\u00f3n que tiene la gente sobre el pa\u00eds que reside.","d0824405":"# Cargando Datos","f6a89aa6":"# 4. An\u00e1lisis Exploratorio de Datos (AED)","17d643e0":"<img src=\"https:\/\/imagenes.iberoeconomia.es\/wp-content\/uploads\/2018\/03\/20125134\/Paises-m%C3%A1s-felices-de-Am%C3%A9rica-Latina--737x413.jpg\">","a7d139be":"### El PIB per c\u00e1pita se encuentra muy relacionado a la felicidad de un pa\u00eds, entonces si lo comparamos con el mapa de puntaje, veremos que ambos tienen mucho parecido.","cda9553b":"### Veremos los valores \u00fanicos de cada variables\n\nAnalizamos los valores \u00fanicos","0f461afc":"# 1. Introducci\u00f3n","f5ee4be0":"## Matriz de Correlaci\u00f3n","be00c079":"### La felicidad no est\u00e1 influenciada por la percepci\u00f3n de corrupci\u00f3n del pa\u00eds! De hecho, pa\u00edses con alto puntaje en felicidad perciben alta corrupci\u00f3n en sus pa\u00edses como Finlandia, Suecia, Noruega, etc."}}