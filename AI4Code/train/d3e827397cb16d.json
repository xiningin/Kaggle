{"cell_type":{"e6642fef":"code","b4913640":"code","f384b885":"code","869e6e29":"code","b31b1035":"code","15b9d0df":"code","8f3bb60b":"code","21cfaf84":"code","ed060f24":"code","2240201f":"code","5f4ea563":"code","59ab3bf2":"code","16fb15a2":"markdown","159d827a":"markdown"},"source":{"e6642fef":"import pandas as pd\nimport seaborn as sns\n\nfrom ipywidgets import interact, fixed","b4913640":"pd.set_option(\"display.max_rows\", 1000)","f384b885":"projections = pd.read_csv(\"\/kaggle\/input\/nba-9cat-stats-and-projections-20202021\/projections.csv\")\nstats = pd.read_csv(\"\/kaggle\/input\/nba-9cat-stats-and-projections-20202021\/stats.csv\")","869e6e29":"CATEGORIES = [\"FG%\", \"FT%\", \"3PM\", \"REB\", \"AST\", \"STL\", \"BLK\", \"TO\", \"PTS\"]\nCOLS = [\"name\", \"positions\", \"GP\", \"MIN\", \"A\/TO\", *CATEGORIES]","b31b1035":"def format_table(df):\n    numerics = df.columns.drop([\"name\", \"positions\"])\n    for col in numerics:\n        df[col] = df[col].astype(float)\n    df = df[COLS].copy()\n    df[\"team\"] = [None]*len(df)\n    return df","15b9d0df":"projections = format_table(projections)","8f3bb60b":"projections.head()","21cfaf84":"# Z-scores\ndef get_zscores_df(df):\n    zscores_df = df.drop(columns=CATEGORIES)\n    for col in CATEGORIES:\n        zscores_df[col] = round((df[col]-df[col].mean())\/df[col].std(ddof=0),2)\n    return zscores_df[COLS + [\"team\"]]\n\ndef cross_out(row):\n    \"\"\"cross out taken players\"\"\"\n    if row[\"team\"] is not None:\n        return ['text-decoration: line-through' for _ in row]\n    else:\n        return ['' for _ in row]\n\n\ndef display_table(df):\n    display(df.style.background_gradient(cmap=CMAP, subset=CATEGORIES)\n            .set_precision(2).apply(cross_out, axis=1))","ed060f24":"zscores_df = get_zscores_df(projections)","2240201f":"def sort(df, column, position):\n    if position != \"ALL\":\n        df = df[df.positions.apply(lambda x: position in x)]\n    if column != \"OVERALL\":\n        df = df.sort_values(by=column, ascending=False)\n    return display(df.style.background_gradient(cmap=CMAP, subset=CATEGORIES)\n            .set_precision(2).apply(cross_out, axis=1))  ","5f4ea563":"CMAP=sns.diverging_palette(5, 250, as_cmap=True)","59ab3bf2":"# interact(sort, df=[(\"projections\", projections), (\"zscores\",zscores_df)], column=CATEGORIES)\ninteract(sort, df=fixed(zscores_df), column=[\"OVERALL\", *CATEGORIES],\n         position=[\"ALL\", \"PG\", \"SG\", \"PF\", \"SF\", \"C\"])","16fb15a2":"\n# NBA 2020\/2021 Fantasy Draft Kit\n\nStarting from the 19\/20 stats and the 20\/21 projections, visualise and sort the data. Find the z-scores and display, to help you make better choices.\n\nTODO:\n- Track all the teams as they are picked\n- Calculate the expected performance of your current team, both in absolute projected score and relative position\n- Find a better way to do this live\n- Find a way to swap between DataFrames in the interact widget","159d827a":"### Load and format the input data"}}