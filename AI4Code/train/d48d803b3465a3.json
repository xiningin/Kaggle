{"cell_type":{"e36d4748":"code","095137f0":"code","9b548d41":"code","af9b6f4d":"code","0d955f59":"code","f705786a":"code","85e3cdb8":"code","843c63fc":"code","26cb069b":"code","ce2fb471":"code","4b5feea1":"code","92cd9969":"code","5e234fcf":"code","ae7c334b":"code","717b9bc2":"code","9a89b856":"code","bfce491d":"code","8865c65d":"code","44ca5a5c":"code","58fa7152":"code","809f639e":"code","10ab1c0e":"code","6e78897b":"code","0d382731":"code","423aaa2e":"code","8dc59b19":"code","03185e37":"code","1f9c7faa":"code","7b690dad":"code","1d8de0ae":"code","fc805439":"code","0b5bce51":"code","2ae5724e":"code","83059495":"code","fe74ae29":"code","78e28586":"code","6de75f70":"code","038b16eb":"code","b21d9482":"markdown","a1082a0d":"markdown","8e041ebc":"markdown"},"source":{"e36d4748":"# This Python 3 environment comes with many helpful analytics libraries installed\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing\nimport matplotlib.pyplot as plt #visualization\nimport seaborn as sns #visualization\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","095137f0":"#import some packages\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n","9b548d41":"#Import my data from csv file\ndf = pd.read_csv('..\/input\/heart.csv')\ndf.head(13)","af9b6f4d":"# i confirm that do not exist NaN in my dataframe if exists appear error with message\nassert df.notnull().all().all(),\"exists some NaN\"","0d955f59":"#I will check if the sex column has only with 0,1 values\n#first way \n\ncheck1=(all((df.sex ==1)| (df.sex==0)))\nprint(\"The column has only the values that i want? \",check1)","f705786a":"#I will check if the sex column has only with 0,1 values\n#second way \ncheck2=df.sex.unique()# find the unique values of sex column\nif ((check2[0]==1)|(check2[0]==0)|(check2[1]==1)|(check2[1]==0)):\n    print(\"The columns contains only 0,1 values.\")\n","85e3cdb8":"#i will check the column of age contains only integers from 0 to 120\ncheck_age=[]#define an empty variable\nfor age in df.age:\n    if (age>0)&(age<120):\n        check_age.append(1)\n    else:\n        check_age.append(\"PROBLEM MUST BE SOLVED\")\nif all (x ==1 for x in check_age):\n    print(\"Clear the age column\")","843c63fc":"#I will try to check for many columns with same in puts(function)\n#0,1 values take the columns:sex fbs exang target\n#returning YES must include only 0,1 values into the column,a lot of times exist values that dont related to my data for this reason i must check them!\ndef check3(col_name):\n    uni=col_name.unique()\n    if ((uni[0] == 1) | (uni[0] == 0) | (uni[1] == 1) | (uni[1] == 0)):\n        return \"YES\"\n","26cb069b":"# i run the function for the columns that must have values 0,1 to check if is TRUE\n#the columns that must have 0,1 are sex,target,fbs,exang\nprint(\"Is the sex column clear? \",check3(df.sex))\nprint(\"Is the target column clear? \",check3(df.target))\nprint(\"Is the fbs column clear?\",check3(df.fbs))\nprint(\"Is the exang column clear ?\",check3(df.exang))\n","ce2fb471":"# i will examinize some others columns with different way, with assert\n#if the columns take some useless values the python appears a message \nassert ((df.thal==0) | (df.thal==1)|(df.thal==2)|(df.thal==3)).all(),\"check this column\"\nassert ((df.cp==0) | (df.cp==1)|(df.cp==2)|(df.cp==3)).all(),\"check this column\"\nassert ((df.restecg==0) | (df.restecg==1)|(df.restecg==2)).all(),\"check this column\"\nassert ((df.slope==0) | (df.slope==1)|(df.slope==2)).all(),\"check this column\"\n","4b5feea1":"# informations about my DataFrame\ndf.info()","92cd9969":"#columns names of my Dataframe\ndf.columns","5e234fcf":"#observe some interest things from statistics\ndf.describe()","ae7c334b":"#i see the types of my columns\nprint(df.dtypes)\n","717b9bc2":"#count of target per gender\nsns.countplot(df.target,hue=df.sex, palette=\"Set3\")\nplt.title(\"Count of Diseases and not\")\nplt.xlabel(\"target\")\nplt.ylabel(\"Count\")\nplt.show()\n","9a89b856":"#i want to group the cholesterol to three parts.Low,natural,high\nconditions=[(df.chol<200),\n            (df.chol<239),\n            (df.chol<1000)]\nchoices=['low','natural','High']\n\ndf.chol=np.select(conditions, choices)\ndf.chol.tail(5)","bfce491d":"#\"chol\" must become categorical variable\n\ndf.chol=df[\"chol\"].astype(\"category\")\ndf.dtypes #Observe that tranform to categorical columns\n","8865c65d":"#relationship between  age and level of cholesterin\n\nsns.stripplot(x=\"chol\", y=\"age\",order=[\"low\",\"natural\",\"High\"],data=df)\nplt.ylabel(\"age\")\nplt.xlabel(\"levels of cholesterol\")\nplt.title('relation between age and type of cholesterol')\nplt.show()\n#with hue seperate famales=0 and males=1\nsns.stripplot(x=\"age\",y=\"chol\",data=df,order=[\"High\",\"natural\",\"low\"],hue='sex')\nplt.ylabel('levels of cholesterol')\nplt.xlabel(\"age\")\nplt.title(\"relation between age and type of chol by gender\")\nplt.show()","44ca5a5c":"#I use swarmplot to observe how many for each age and level of chol will have target=1(disease) or target=0(not disease)\nsns.swarmplot(x=\"chol\",y=\"age\",data=df,hue=\"target\")\nplt.title(\"cholesterol - age frequency with hue=target \")\nplt.show()\n#for this plot we can figure out that the most of people have high levels of cholesterin ,then natural and low\n#as well people with high chol and age between 40-55 huge percent have heart disease\n#and the people 55 and above with high chol dont have heart disease.For me is a little strangle this output\n","58fa7152":"# I will find the probability of the three stages of cholesterin\n\n(df.chol.value_counts(normalize=True)).plot(kind='barh',color='red')\nplt.ylabel('level of cholisteroin')\nplt.xlabel('PDF')\nplt.title('participants distribution of cholesterol')# i see that about the 50% have high holisterin\nplt.show()\n#observe that the 50% of the participants to survey have high levels of cholesterol","809f639e":"#creation one pivot table(because have duplicate data) with values the mean of age for each \"fbs\" and \"sex\"\nprint(df.fbs.value_counts())\npiv=df.pivot_table(index=\"fbs\",columns=\"sex\",values=\"age\",aggfunc=\"mean\")\npiv\n\n","10ab1c0e":"#the plot of the pivot table from above\npiv.plot(kind=\"bar\",rot=0)\nplt.ylabel(\"age mean\")\nplt.xlabel(\" no                     fbs                   yes\")\nplt.title(\"mean of age per gender that have or not fbs\",color=\"tomato\")\nplt.show()","6e78897b":"#create a pie chart with percentage of exercise or not(\"exang\")\nprint(df.exang.value_counts())\nlabels=[\"excercise\",\"no excercise\"]\ncolors=[\"yellow\",\"red\"]\nvalues=[df.exang.value_counts()[1],df.exang.value_counts()[0]]\nplt.pie(values,labels=labels,colors=colors,autopct=\"%.lf%%\")\nplt.show()","0d382731":"#i will show the relation between chol and exercise(1:yes  0:no)\ncross=pd.crosstab(df.chol,df.exang,normalize=True)#the result is probability\nprint(cross)\n#Now is clear that if someone work out  have less probability to have high level chol\n#low levels of holesterol must be more for people who work out , but dont happend ,the main reason is that only the 33% have exercised","423aaa2e":"#plot bar  the above\ncross.plot(kind=\"bar\",rot=0,color=[\"red\",\"black\"])\nplt.show()","8dc59b19":"#corelation between all\nsns.heatmap(df.corr())\nplt.show()","03185e37":"#the same but with correlation values and other background\nzf,ax = plt.subplots(figsize=(18,18))\nsns.heatmap(df.corr(), annot=True, linewidths=.5, cmap=\"BuPu\", ax=ax)\nplt.show()","1f9c7faa":"# see the scatter plot  and observe that \"thalach\" is higher for younger people\ndf.plot(x=\"age\",y=\"thalach\",kind=\"scatter\", c=\"black\", marker='^',alpha= 0.9)\nplt.show()\n","7b690dad":"#I will find for each cp all the others column's mean\ndf_m=df.groupby(\"cp\").mean()\ndf_m","1d8de0ae":"#i will  keep only some of the columns \ndf_m=df_m[[\"age\",\"trestbps\"]]\ndf_m","fc805439":"#frequency of all my data\ndf.hist(bins=50, figsize=(12,14), color= \"green\", grid=False)\nplt.show()","0b5bce51":"#i will create a Data_Frame that have the mean of \"trestbps\" per \"age\"\ndf_new=df.groupby(\"age\").mean()\ndf_new.tail(10)","2ae5724e":"# i will keep only the columns that i am intersted in\ndf_new=df_new[[\"trestbps\",\"thalach\"]]\ndf_new.head(4)","83059495":"# plot now.. i will plot and the mean of \"trestbps\" for each age\n#1\ndf_new.plot(kind=\"line\",use_index=True,y=\"trestbps\",fontsize=15,c=\"tomato\")\nplt.ylabel(\"trestbps\")\nplt.xlabel(\"age\")\nplt.title(\"mean of trestbps by age\")\n# i will plot and the mean of \"thalach\" for each age\ndf_new.plot(kind=\"line\",use_index=True,y=\"thalach\",c=\"yellow\")\nplt.legend(loc=\"upper right\") \nplt.ylabel(\"trestbps\")\nplt.xlabel(\"age\")\nplt.title(\"mean of trestbps by age\")\nplt.show()\n\n#It is clear for the first plot that when a person become older the trestbps(something like blood pressure) increase ,in age approximately 68 years old havw one huge reduce \n","fe74ae29":"#takes the data for the people that work out ..exang=1 (true)\n#I examine the people who exercised and their oldpeakand slope\ndf_ex=df[df.exang==1]\ndf_ex.oldpeak.head(5)\nsns.stripplot(x=\"slope\",y=\"oldpeak\",data=df_ex)\nplt.title(\"related to person who exercise oldpeak -slope\",color=\"blue\")\nplt.xlabel(\"low                                      medium                                         high\")\nplt.ylabel(\"oldpeak(depression)\")\nsns.despine(bottom = True)#remove the x-axis\nplt.show()\n\n#persons who exercised hard(slope high) dont have depression","78e28586":"#Age  for different types of chest pain BOXPLOT\nplt.figure(figsize = (10,5))\nplot = sns.boxplot(x = \"cp\", y = \"age\", data = df)\nplot.set_title(\"Age  for different types of chest pain\")\n\n","6de75f70":"#regression \"thalach\" and \"age\"\ng = sns.lmplot(x=\"age\", y=\"thalach\", hue=\"sex\", data=df)\nsns.despine(left= True,bottom = True)#without axis\n","038b16eb":"#regression for all types of cholesterol\nsns.lmplot(x=\"age\", y=\"thalach\", hue=\"sex\", col=\"chol\",data=df, height=6, aspect=.4, x_jitter=.1)","b21d9482":"**MY DATA IS CLEAR AND READY FOR ANALYSIS**","a1082a0d":"**Attribute Information:**\n\n        age \n        sex 0:female 1:male\n        chest pain type (4 values)\n        resting blood pressure\n        serum cholestoral in mg\/dl\n        fasting blood sugar > 120 mg\/dl\n        resting electrocardiographic results (values 0,1,2)\n        maximum heart rate achieved\n        exercise induced angina\n        oldpeak = ST depression induced by exercise relative to rest\n        the slope of the peak exercise ST segment\n        number of major vessels (0-3) colored by flourosopy\n        thal: 3 = normal; 6 = fixed defect; 7 = reversable defect\n        target 0:false 1:true (related to have or not heart disease) ","8e041ebc":"# I WILL CHECK IF MY DATA IS CLEAN "}}