{"cell_type":{"453fccb6":"code","46b6c224":"code","43700e97":"code","0b1a500d":"code","53100660":"code","f54da238":"code","542e9fe7":"code","3fcf0dc1":"code","28b96d7c":"code","093b28f5":"code","319c9456":"code","d7ee6efc":"code","05bb1510":"code","27c11976":"code","c3e12b58":"code","dacdd42d":"code","d81b63f5":"code","6144c570":"code","1003c913":"code","3fef1aa9":"code","c6ea17b2":"code","b9231ddf":"code","5af9ba1b":"code","b78ea9d6":"code","1828250e":"code","0a6fd38e":"code","4ce7c3f8":"code","4f07c608":"code","37135034":"code","d51a4ecc":"code","4da4a52d":"code","5759d991":"code","60cd8e6f":"code","d59fcbc6":"code","eafc35b7":"code","181375d9":"code","94d55242":"markdown","0bb9d1a3":"markdown","627198be":"markdown","b060e516":"markdown","978cb1e8":"markdown","f73e8968":"markdown","30783c17":"markdown","26ab7544":"markdown","eceb8148":"markdown","8f3ab8be":"markdown","90a341e8":"markdown","45342eb0":"markdown","413213c0":"markdown","45f079b6":"markdown","535ecdc2":"markdown","5075ff02":"markdown","98539be1":"markdown","261d1141":"markdown","0d531b77":"markdown","e3d71c23":"markdown"},"source":{"453fccb6":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","46b6c224":"df = pd.read_csv('\/kaggle\/input\/avocado-prices\/avocado.csv')","43700e97":"df.head()","0b1a500d":"df.describe()","53100660":"df.isna().sum()","f54da238":"df = df.drop('Unnamed: 0', axis = 1)","542e9fe7":"df.head()","3fcf0dc1":"import matplotlib.pyplot as plt\nimport seaborn as sns","28b96d7c":"plt.scatter(df['year'], df['AveragePrice'])\nplt.xlabel('Year')\nplt.ylabel('Average Price')","093b28f5":"sns.pairplot(df)","319c9456":"df_mini1 = df[['Total Volume', '4046']]\ndf_mini2 = df[['Total Volume', '4225']]\ndf_mini3 = df[['Total Volume', '4770']]","d7ee6efc":"df_mini1.head()","05bb1510":"df_corr1 = df_mini1.corr()\ndf_corr2 = df_mini2.corr()\ndf_corr3 = df_mini3.corr()","27c11976":"df_corr1","c3e12b58":"df_corr2","dacdd42d":"df_corr3","d81b63f5":"fig1 = plt.figure()\nfig1, axes = plt.subplots(nrows = 1, ncols = 3, figsize=(20,5))\naxes[0].set_title('Correlation b\/w Total Vol & 4046 Labeled Avocados')\naxes[1].set_title('Correlation b\/w Total Vol & 4225 Labeled Avocados')\naxes[2].set_title('Correlation b\/w Total Vol & 4770 Labeled Avocados')\nsns.heatmap(df_corr1, ax = axes[0], annot = True, cmap = 'coolwarm')\nsns.heatmap(df_corr2, ax = axes[1], annot = True, cmap = 'coolwarm')\nsns.heatmap(df_corr3, ax = axes[2], annot = True, cmap = 'coolwarm')","6144c570":"fig2 = plt.figure(figsize = (80,40))\naxes4 = fig2.add_axes([0.1, 0.1, 0.8, 0.8])\nsns.barplot(x = df['region'], y = df['AveragePrice'], ax = axes4)\naxes4.set_xlabel('Region')\naxes4.set_ylabel('Average Price')","1003c913":"df = df.drop(['Date', 'year'], axis = 1)","3fef1aa9":"df.head()","c6ea17b2":"target_df = df['AveragePrice']","b9231ddf":"df = df.drop('AveragePrice', axis = 1)","5af9ba1b":"target_df.head()","b78ea9d6":"df.head()","1828250e":"from sklearn.preprocessing import OrdinalEncoder","0a6fd38e":"encoder = OrdinalEncoder()","4ce7c3f8":"encoder.fit([df['region']])\ndf['region']= encoder.fit_transform(df[['region']])","4f07c608":"df.head()","37135034":"df['type'] = pd.get_dummies(df['type'], drop_first = True)","d51a4ecc":"df.head()","4da4a52d":"X = df.values\ny = target_df.values","5759d991":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.3)","60cd8e6f":"import xgboost as xgb\nregressor = xgb.XGBRegressor(n_estimators = 800, max_depth = 10)\nregressor.fit(X_train, y_train)","d59fcbc6":"y_pred = regressor.predict(X_test)","eafc35b7":"from sklearn.metrics import r2_score\nr2_score(y_test, y_pred)","181375d9":"fig10 = plt.figure(figsize = (10, 5))\naxes6 = fig10.add_axes([0.1, 0.1, 0.8, 0.8])\nsns.scatterplot(y_test, y_pred, linewidth = 1, ax = axes6)\nplt.title('Scatter Plot between the true labels and predicted labels')\naxes6.set_xlabel(\"True Average Price\")\naxes6.set_ylabel(\"Predicted Average Price\")","94d55242":"# Dropping unnecessary Columns","0bb9d1a3":"**Scatter Plot b\/w Average Price and Year**","627198be":"**Encoding with 0 or 1**","b060e516":"**Correlation between each type of labeled Avocados and Total Volume of Avocados**","978cb1e8":"# Evaluating the Trained Model on the Test Set","f73e8968":"**Scatter Plot between the true labels and predicted labels**","30783c17":"# Modifying the data in order to make useful predictions","26ab7544":"# Making Predictions","eceb8148":"# Avocado \ud83e\udd51","8f3ab8be":"**R2 Score Evaluation (The more it is closer to 1, the better is the model)**","90a341e8":"# Checking for missing values","45342eb0":"# Encoding the Categorical Variables","413213c0":"# Training the Model","45f079b6":"**The avocado (Persea americana), a tree likely originating from south-central Mexico, is classified as a member of the flowering plant family Lauraceae. The fruit of the plant, also called an avocado (or avocado pear or alligator pear), is botanically a large berry containing a single large seed. Avocado trees are partially self-pollinating, and are often propagated through grafting to maintain predictable fruit quality and quantity.**\n\n**Avocados are cultivated in tropical and Mediterranean climates of many countries, with Mexico as the leading producer of avocados in 2019, supplying 32% of the world total.**\n\n**The fruit of domestic varieties has a buttery flesh when ripe. Depending on the variety, avocados have green, brown, purplish, or black skin when ripe, and may be pear-shaped, egg-shaped, or spherical. Commercially, the fruits are picked while immature, and ripened after harvesting.**\n\n**It is creamy, it is rich and it is earthy; avocados are our favourite picks when it comes to dips, desserts and salads. Also called the 'makkhan fal' in India, avocados have a high-fat content and is yet considered as one of the healthiest fruits you can add to your diet. Yes you heard us, this 'fatty' fruit can in fact even aid weight loss. This is because avocados are loaded with good monounstaurated oils (MUFA), that do not pile up calories, instead, they help lubricate joints and lower blood pressure. Boasting of some 20 minerals and vitamins, avocados are one of the most nutritious fruits known to mankind. In fact, its high nutritive profile has also earned the fruit the title of 'The Olive Oil Of The Americas\".**","535ecdc2":"**Encoding with  Frequency Encoder**","5075ff02":"# Let's get some basic, but useful insights about the dataset","98539be1":"# Splitting the Dataset into train and test sets","261d1141":"# Taking the dataset as Input","0d531b77":"![](https:\/\/media.istockphoto.com\/photos\/avocado-on-old-wooden-table-in-bowl-picture-id1210634323?b=1&k=20&m=1210634323&s=170667a&w=0&h=O5oOh2SAoChz2TXOvjf3b-3mCjTTc9woYPtSO_Z1fBE=)","e3d71c23":"**Barplot between Region and Average Price of that region**"}}