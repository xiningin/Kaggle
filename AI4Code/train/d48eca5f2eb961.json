{"cell_type":{"931ac0f5":"code","89e6f275":"code","4c721d1b":"code","2da0e625":"code","1c752fc4":"code","3880066b":"code","6a176ed4":"code","1f20f4c0":"code","04dc42b7":"code","7f48cddc":"code","b68ee6b9":"code","a1c314ce":"code","b66dd1f7":"code","3569e067":"code","741f44df":"code","538c433f":"code","b8a80106":"code","ca33fe27":"code","f491919b":"code","c4119acf":"code","cdff4923":"code","f638e8d6":"code","37667992":"code","ff7aae61":"code","5752dfc1":"code","b853d167":"code","f4928091":"code","ba1bb38c":"code","6fde867a":"markdown","ce7e2210":"markdown","ba2ab6c2":"markdown","dfefc2c3":"markdown","c9ed2c7c":"markdown","2d4826aa":"markdown","080d8091":"markdown","84927bfa":"markdown","ada5b975":"markdown","d461735c":"markdown","d06697e2":"markdown","44b71ee9":"markdown","7c17b5da":"markdown","e76690fc":"markdown"},"source":{"931ac0f5":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport plotly.express as px","89e6f275":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","4c721d1b":"trabajos = pd.read_csv('\/kaggle\/input\/scrapping-a-computrabajo\/trabajos_peru.csv')\ntrabajos.drop(\"Unnamed: 0\",axis=1,inplace=True)\ntrabajos.tail()","2da0e625":"trabajos.drop_duplicates().tail()","1c752fc4":"departamentos = [\"Amazonas\",\"Ancash\",\"Apurimac\",\"Arequipa\",\"Ayacucho\",\n                \"Cajamarca\",\"Callao\",\"Cusco\",\"Huancavelica\",\"Huanuco\",\n                \"Ica\",\"Junin\",\"La Libertad\",\"Lambayeque\",\"Lima\",\"Madre De Dios\",\n                \"Loreto\",\"Madre de Dios\",\"Moquegua\",\"Pasco\",\"Piura\",\n                \"Puno\",\"San Martin\",\"Tacna\",\"Tumbes\",\"Ucayali\",\"Per\u00fa\"]","3880066b":"not_in_peru = []\nfor i in trabajos.Departamentos.to_list():\n    if i not in departamentos:\n        not_in_peru.append(i)","6a176ed4":"list(set(not_in_peru))","1f20f4c0":"for i in list(set(not_in_peru)):\n    trabajos.drop(trabajos[trabajos[\"Departamentos\"] == i].index,inplace=True)","04dc42b7":"set(trabajos.Departamentos.to_list())","7f48cddc":"trabajos.dropna(inplace=True)","b68ee6b9":"trabajos","a1c314ce":"peru = pd.DataFrame()\nperu[\"Departamentos\"] = trabajos.Departamentos.value_counts(normalize=True).index\nperu[\"Porcentaje\"] = trabajos.Departamentos.value_counts(normalize=True).values*100\nperu[\"Trabajos\"] = trabajos.Departamentos.value_counts().values\nperu","b66dd1f7":"print(\"Porcentaje de trabajos de todos los departamentos exceptuando Lima: \",peru[1:].Porcentaje.sum())\nprint(\"Cantidad de trabajos de todos los departamentos exceptuando Lima: \",peru[1:].Trabajos.sum())","3569e067":"lima_departamentos = pd.DataFrame(columns=[\"Departamentos\",\"Porcentaje\",\"Trabajos\"])\nlima_departamentos.loc[0] = [\"Otros\", peru[1:].Porcentaje.sum(), peru[1:].Trabajos.sum()]\nlima_departamentos.loc[1] = [\"Lima\", peru[:1].Porcentaje.sum(), peru[:1].Trabajos.sum()]\nlima_departamentos","741f44df":"fig = px.pie(lima_departamentos, values='Trabajos', names='Departamentos', title='Porcentaje de trabajos comparando Lima respecto a los dem\u00e1s departamentos')\nfig.show()","538c433f":"fig = px.pie(peru[peru[\"Departamentos\"]!=\"Lima\"], values='Trabajos', names='Departamentos', title='Porcentaje de trabajos por departamento exceptuando Lima')\nfig.show()","b8a80106":"lima = pd.DataFrame()\nlima[\"Distritos\"] = trabajos.Distritos.value_counts(normalize=True).index\nlima[\"Porcentaje\"] = trabajos.Distritos.value_counts(normalize=True).values*100\nlima[\"Trabajos\"] = trabajos.Distritos.value_counts().values\nlima","ca33fe27":"lima.Trabajos.describe()","f491919b":"departamentos.remove(\"Lima\")","c4119acf":"departamentos.append(\"Chiclayo\")\ndepartamentos.append(\"Trujillo\")\ndepartamentos.append(\"Juliaca\")\ndepartamentos.append(\"Pucallpa\")\ndepartamentos.append(\"Tarapoto\")\ndepartamentos.append(\"Pisco\")\ndepartamentos.append(\"Sullana\")","cdff4923":"for i in list(set(departamentos)):\n    lima.drop(lima[lima[\"Distritos\"] == i].index,inplace=True)","f638e8d6":"fig = px.bar(lima[lima.Trabajos>=500], y='Trabajos', x='Distritos', text='Porcentaje', title='Distritos de Lima con m\u00e1s de 500 trabajos')\nfig.update_traces(textposition='outside')\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","37667992":"fig = px.bar(lima[(lima.Trabajos<500) & (lima.Trabajos>=100)], y='Trabajos', x='Distritos', text='Porcentaje', title='Distritos de Lima con m\u00e1s de 100 trabajos y menos de 500')\nfig.update_traces(textposition='outside')\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","ff7aae61":"fig = px.bar(lima[(lima.Trabajos<100) & (lima.Trabajos>=50)], y='Trabajos', x='Distritos', text='Porcentaje', title='Distritos de Lima con m\u00e1s de 50 trabajos y menos de 100')\nfig.update_traces(textposition='outside')\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","5752dfc1":"fig = px.bar(lima[(lima.Trabajos<50) & (lima.Trabajos>=20)], y='Trabajos', x='Distritos', text='Porcentaje', title='Distritos de Lima con m\u00e1s de 20 trabajos y menos de 50')\nfig.update_traces(textposition='outside')\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","b853d167":"fig = px.bar(lima[(lima.Trabajos<20) & (lima.Trabajos>=10)], y='Trabajos', x='Distritos', text='Porcentaje', title='Distritos de Lima con m\u00e1s de 10 trabajos y menos de 20')\nfig.update_traces(textposition='outside')\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","f4928091":"fig = px.bar(lima[(lima.Trabajos<10) & (lima.Trabajos>=5)], y='Trabajos', x='Distritos', text='Porcentaje', title='Distritos de Lima con m\u00e1s de 5 trabajos y menos de 10')\nfig.update_traces(textposition='outside')\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","ba1bb38c":"fig = px.bar(lima[(lima.Trabajos<5)], y='Trabajos', x='Distritos', text='Porcentaje', title='Distritos de Lima con menos de 5 trabajos')\nfig.update_traces(textposition='outside')\nfig.update_layout(uniformtext_minsize=8, uniformtext_mode='hide')\nfig.show()","6fde867a":"# Scrapping a Computrabajo","ce7e2210":"Agrupamos la cantidad de trabajos que existen por departamento.","ba2ab6c2":"### Importamos librer\u00edas","dfefc2c3":"Aqu\u00ed encontranos las zonas que no pertenecen al Per\u00fa.","c9ed2c7c":"Eliminamos las filas que contengan valores nulos.","2d4826aa":"## Trabajos por Distritos de Lima","080d8091":"## Trabajos por Departamentos","84927bfa":"Agrupamos la cantidad de distritos en Lima.","ada5b975":"Al eliminar los valores duplicados en la tabla \"trabajos\" observamos que \u00e9stos mantienen su cantidad de datos, por lo tanto, no tienen valores repetidos.","d461735c":"Creamos una lista de departamentos, muy importante para el siguiente paso.","d06697e2":"## Comenzamos!","44b71ee9":"Aqu\u00ed removemos los valores que no representan datos reales de distritos, como Per\u00fa, Chiclayo, Trujillo, etc.","7c17b5da":"Hola! en este notebook realic\u00e9 un scrapping a 5539 p\u00e1ginas de anuncios de trabajos en el mencionado portal. Para el scrapping utilizamos BeautifulSoup y lo guardamos en un csv utilizando Pandas. A continuaci\u00f3n los enlaces a los cuales hicimos scrapping:\n\n    - https:\/\/www.computrabajo.com.pe\/empleos-en-lima?p=1\n    - https:\/\/www.computrabajo.com.pe\/empleos-en-lima?p=2\n    - ...\n    - - https:\/\/www.computrabajo.com.pe\/empleos-en-lima?p=5539\n\nEn dichos enlaces extrajimos los campos de T\u00edtulo de Trabajo, Distritos y Departamentos. Ahora si comenzamos con el tratamiento de los datos","e76690fc":"Ahora iteramos todos los departamentos almacenados en la tabla \"departamentos\" y solo nos quedaremos con los que pertenecen al Per\u00fa, debemos acotar que en la extracci\u00f3n de datos hubieron anuncios de pa\u00edses como Chile y Argentina, por eso la necesidad de filtrar por zonas que solo pertenezcan al Per\u00fa."}}