{"cell_type":{"bb1a39d0":"code","cb71468e":"code","0aa20e13":"code","ffc6016a":"code","7f642aca":"code","86f5f60b":"code","d7c63d55":"code","27bce88c":"code","07730383":"code","f9c927b8":"code","691ff4a7":"code","a9cdfe30":"code","7c6b3e44":"markdown","16ff59fb":"markdown","be5870ed":"markdown","e36a8b8b":"markdown","e5fce318":"markdown","83ddda5b":"markdown","3262ad90":"markdown","007593de":"markdown","a013c5ff":"markdown","8c85c7a0":"markdown","92b62a04":"markdown"},"source":{"bb1a39d0":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.manifold import TSNE","cb71468e":"df = pd.read_csv('..\/input\/alcohol-consumption-in-russia\/russia_alcohol.csv')","0aa20e13":"df.head()","ffc6016a":"df.describe()","7f642aca":"g=df.hist(figsize=(20,15))","86f5f60b":"mask=np.zeros_like(df.corr(), dtype=bool)\nmask[np.triu_indices_from(mask)]=True\nsns.heatmap(df.corr(), mask=mask)","d7c63d55":"df_transformed=pd.DataFrame(columns=['year','region','alco','sale'])\nfor index,row in df.iterrows():\n    s = pd.Series([row['year'], row['region'], 'wine', row['wine']],df_transformed.columns)\n    s1 = pd.Series([row['year'], row['region'], 'beer', row['beer']],df_transformed.columns)\n    s2 = pd.Series([row['year'], row['region'], 'vodka', row['vodka']],df_transformed.columns)\n    s3 = pd.Series([row['year'], row['region'], 'champagne', row['champagne']],df_transformed.columns)\n    s4 = pd.Series([row['year'], row['region'], 'brandy', row['brandy']],df_transformed.columns)\n    df_transformed= df_transformed.append([s,s1,s2,s3,s4],ignore_index=True) ","27bce88c":"df_transformed","07730383":"g=sns.relplot(x=\"year\", y=\"sale\",\n            hue=\"alco\",\n            kind=\"line\", data=df_transformed,size=10, aspect=2);","f9c927b8":"top_beer_region=df_transformed[df_transformed['alco']=='beer'].groupby('region').mean()\ntop_beer_region=top_beer_region.reset_index().sort_values(by='sale',ascending=False)\nplt.figure(figsize=(15,7))\ng=sns.barplot(data=top_beer_region[:10],y='sale',x='region')\ng.set_xticklabels(g.get_xticklabels(), rotation=90)\ng.tick_params(labelsize=10)","691ff4a7":"top_wine_region=df_transformed[df_transformed['alco']=='wine'].groupby('region').mean()\ntop_wine_region=top_wine_region.reset_index().sort_values(by='sale',ascending=False)\nplt.figure(figsize=(15,7))\ng=sns.barplot(data=top_wine_region[:10],y='sale',x='region')\ng.set_xticklabels(g.get_xticklabels(), rotation=90)\ng.tick_params(labelsize=10)","a9cdfe30":"top_vodka_region=df_transformed[df_transformed['alco']=='vodka'].groupby('region').mean()\ntop_vodka_region=top_vodka_region.reset_index().sort_values(by='sale',ascending=False)\nplt.figure(figsize=(15,7))\ng=sns.barplot(data=top_vodka_region[:10],y='sale',x='region')\ng.set_xticklabels(g.get_xticklabels(), rotation=90)\ng.tick_params(labelsize=10)","7c6b3e44":"Now we can build our plots, and see the difference between type of alco by using hue parameter ","16ff59fb":"After looking at df head and df descibe it might be useful to see how our data is distributed, we can do it by using hist command ","be5870ed":"On this plots we can see that most of them have normal distribution, excepting brandy and champagne. df['year'] have some lack of data in between 2005 and 2007 years  ","e36a8b8b":"# Top 10 regions by mean sales vodka in liter per capita for period from 1998 to 2016","e5fce318":"By looking at plot, we can suggest that set of people who buy champagne most probably have big part of intersection with set of people who buy brandy","83ddda5b":"# Top 10 regions by mean sales wine in liter per capita for period from 1998 to 2016","3262ad90":"Maybe some correlation exists between some type of alco, so to check this, we need to compute pairwise correlation for our type of alco","007593de":"It will be easier to build our plots, if our data will be represented like following: first 3 column will be the same and instead of separated columns for each type of alco we will create one column, that will display it","a013c5ff":" First, lets import all useful lib that we will use","8c85c7a0":"# Top 10 regions by mean sales beer in liter per capita for period from 1998 to 2016","92b62a04":"The most dynamic changes type of alco - beer "}}