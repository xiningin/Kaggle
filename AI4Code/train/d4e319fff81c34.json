{"cell_type":{"9351d9c5":"code","cd82530f":"code","05a385ac":"code","59e95032":"code","0690ce41":"code","59dbfdc3":"code","8a61de12":"code","38be173f":"code","d8205c26":"code","a84c5f12":"code","68ff9d81":"code","95cfa545":"code","b72eab9e":"code","42a0e08a":"code","2c05b9a4":"code","ad8f633c":"code","21762f2d":"code","958dabf6":"code","e5c1e49a":"code","06f53c90":"code","1f423345":"code","dab99611":"code","1bae0646":"code","52bd97eb":"code","d808ef1a":"code","da540052":"code","0de50035":"code","5920a3cd":"code","1f17593c":"code","5d7415d6":"code","7382987a":"code","bf9388b4":"code","f875f3b3":"code","6c394095":"code","bbd12bc0":"code","7577475c":"code","f882465d":"code","8c7a7bd8":"code","b96ccf94":"code","642a1f70":"code","e6220fb8":"code","f5e59b5b":"code","3532c7b3":"code","aa433d09":"code","5575e539":"code","0013e906":"code","ad68e48f":"code","77a879bb":"code","5912eeb8":"code","bc04798e":"code","aaaa4bba":"code","5572bd7a":"code","a8a0d197":"code","b2889a02":"code","9fde9bf5":"code","35ff79c4":"code","7f7d0638":"code","42ad8f7a":"code","883895f2":"code","ca644ef4":"code","ec52df90":"code","0ab830fa":"code","80c861e4":"code","fcc2cbc5":"code","101e2044":"code","f71d0879":"code","ea314ae2":"code","4f493c8f":"code","44b59388":"code","ae2a3b89":"code","c0878c79":"code","9c986dec":"code","12f79fbd":"code","82e7b9f4":"code","9651d78a":"code","5fa504ea":"code","96ef01a1":"code","c69db78a":"code","3b00565b":"code","28a92f68":"code","d350228e":"code","3aaf31f6":"code","5993d2f1":"code","6fad1129":"code","d73d8489":"code","313480e9":"code","c8f796be":"code","0dd9f3c9":"code","39354e01":"code","4a9b8ee0":"code","0b0c6680":"code","cae2f9e1":"code","1759f729":"code","b33a7f49":"code","c335353e":"code","e7d3f765":"code","c84ebbcb":"code","8f428858":"code","b5d3f864":"code","ab28ec3d":"code","dc40b3b3":"code","72e103fe":"code","74477b1d":"code","feb842b3":"code","9da99592":"code","c494ca7b":"code","94cc23ca":"code","ebfc921c":"code","4895f04a":"markdown","83de2199":"markdown","eb237a5f":"markdown","8004f98e":"markdown","dbba5e82":"markdown","257293a4":"markdown","727d02de":"markdown","a2771a85":"markdown","68ce11b3":"markdown","9714ae1b":"markdown","a9f4abdb":"markdown","a6027bff":"markdown","bc10e329":"markdown","c4c4202b":"markdown","dff226f4":"markdown","f57b50ce":"markdown","6e4b1fec":"markdown","43e2ab7a":"markdown","14c1a1a4":"markdown","241be5d7":"markdown","0214304f":"markdown","1e773e27":"markdown","355dccad":"markdown","ca908ff3":"markdown","9f88b93c":"markdown","63d32b41":"markdown","dee1b108":"markdown","31e93a49":"markdown","f125763c":"markdown","3351eab8":"markdown","280250cd":"markdown","16af4762":"markdown","719966aa":"markdown","80a3c753":"markdown","acdae95a":"markdown","e622083c":"markdown","07111d5d":"markdown","b2ab4a2d":"markdown","bced179c":"markdown","7eda1900":"markdown","6a111502":"markdown","6bbdc9bc":"markdown","1fbf4c0d":"markdown","bf2e4fe5":"markdown","e97069c1":"markdown","9a985a2e":"markdown","1f100838":"markdown","b3a761fb":"markdown","e98a9d7e":"markdown","5b5357da":"markdown","1595edc0":"markdown","c160daf1":"markdown","4a6aa91e":"markdown","a267b230":"markdown"},"source":{"9351d9c5":"# Task 1: Data Preparation\n# \"You will start by loading the CSV data from the file (using appropriate pandas functions) and checking whether the loaded data is equivalent to the data in the source CSV file.\n# Then, you need to clean the data by using the knowledge we taught in the lectures. You need to deal with all the potential issues\/errors in the data appropriately (such as: typos, extra whitespaces, sanity checks for impossible values, and missing values etc). \"\n\n# Please structure code as follows: \n# Always provide one line of comments to explain the purpose of the code, e.g. load the data, checking the equivalent to original data, checking typos (do this for each other types of errors)\n\n#Code goes after this line by adding cells","cd82530f":"import numpy as np\nimport pandas as pd\nimport warnings\nwarnings.filterwarnings('ignore')\nimport matplotlib.pyplot as plt\n%matplotlib inline","05a385ac":"starwars = pd.read_csv('..\/input\/starwars-survey-in-usa\/StarWars.csv',encoding = 'latin1')","59e95032":"starwars.head()","0690ce41":"starwars.nunique()","59dbfdc3":"starwars.rename(columns={'Which of the following Star Wars films have you seen? Please select all that apply.' : 'Watched|Movie1',\n                        'Unnamed: 4' : 'Watched|Movie2',\n                        'Unnamed: 5' : 'Watched|Movie3',\n                        'Unnamed: 6' : 'Watched|Movie4',\n                        'Unnamed: 7' : 'Watched|Movie5',\n                        'Unnamed: 8' : 'Watched|Movie6',\n                        'Please rank the Star Wars films in order of preference with 1 being your favorite film in the franchise and 6 being your least favorite film.' : 'Rank|Movie1',\n                        'Unnamed: 10' : 'Rank|Movie2',\n                        'Unnamed: 11' : 'Rank|Movie3',\n                        'Unnamed: 12' : 'Rank|Movie4',\n                        'Unnamed: 13' : 'Rank|Movie5',\n                        'Unnamed: 14' : 'Rank|Movie6',\n                        'Please state whether you view the following characters favorably, unfavorably, or are unfamiliar with him\/her.' : 'Familiarity|Han Solo',\n                        'Unnamed: 16' : 'Familiarity|Luke Skywalker',\n                        'Unnamed: 17' : 'Familiarity|Princess Leia Organa',\n                        'Unnamed: 18' : 'Familiarity|Anakin Skywalker',\n                        'Unnamed: 19' : 'Familiarity|Obi Wan Kenobi',\n                        'Unnamed: 20' : 'Familiarity|Emperor Palpatine',\n                        'Unnamed: 21' : 'Familiarity|Darth Vader',\n                        'Unnamed: 22' : 'Familiarity|Lando Calrissian',\n                        'Unnamed: 23' : 'Familiarity|Boba Fett',\n                        'Unnamed: 24' : 'Familiarity|C-3P0',\n                        'Unnamed: 25' : 'Familiarity|R2 D2',\n                        'Unnamed: 26' : 'Familiarity|Jar Jar Binks',\n                        'Unnamed: 27' : 'Familiarity|Padme Amidala',\n                        'Unnamed: 28' : 'Familiarity|Yoda'},inplace = True)","8a61de12":"starwars.nunique()","38be173f":"starwars.drop([0],inplace = True)","d8205c26":"starwars['Have you seen any of the 6 films in the Star Wars franchise?'].value_counts()","a84c5f12":"starwars.dtypes","68ff9d81":"starwars[(starwars.select_dtypes(['object'])).columns] = starwars.select_dtypes(['object']).apply(lambda x: x.str.upper())","95cfa545":"starwars['Have you seen any of the 6 films in the Star Wars franchise?'].value_counts()","b72eab9e":"starwars[(starwars.select_dtypes(['object'])).columns] = starwars.select_dtypes(['object']).apply(lambda x: x.str.strip())","42a0e08a":"starwars['Have you seen any of the 6 films in the Star Wars franchise?'].value_counts()","2c05b9a4":"for col in starwars.columns[1:]:\n    print(starwars[col].value_counts())","ad8f633c":"starwars['Are you familiar with the Expanded Universe?'].value_counts()","21762f2d":"starwars['Do you consider yourself to be a fan of the Expanded Universe?\\x8c\u00e6'].value_counts()","958dabf6":"typos = {'YESS': 'YES',    \n         'NOO':'NO',  \n         'F':'FEMALE'}\nstarwars[(starwars.select_dtypes(['object'])).columns] = starwars.select_dtypes(['object']).apply(lambda x: x.replace(typos))","e5c1e49a":"starwars.rename({'Do you consider yourself to be a fan of the Expanded Universe?\\x8c\u00e6' : 'Do you consider yourself to be a fan of the Expanded Universe?'},inplace = True)","06f53c90":"starwars.dtypes","1f423345":"for col in starwars.columns[1:]:\n    print(starwars[col].value_counts())\n    print()    ","dab99611":"starwars['Age'].value_counts()","1bae0646":"starwars['Age'].replace('500','45-60',inplace = True)","52bd97eb":"starwars['Age'].value_counts()","d808ef1a":"for col in 'Watched|Movie1','Watched|Movie2','Watched|Movie3','Watched|Movie4','Watched|Movie5','Watched|Movie6':\n    starwars[col] = ~starwars[col].isna()\nstarwars.head()","da540052":"starwars.isnull().sum()","0de50035":"lst = []\nfor index, row in starwars.iterrows():\n    if(row[1] == 'YES'):\n        if(row[3]* row[4] * row[5] * row[6] * row[7] * row[8]== False):\n            lst.append(index)\n            \nprint(len(lst))","5920a3cd":"starwars = starwars.drop(lst)\nstarwars = starwars[starwars['Do you consider yourself to be a fan of the Star Wars film franchise?'].notna()]","1f17593c":"starwars.shape","5d7415d6":"starwars.isnull().sum()","7382987a":"ques3 = starwars[starwars.columns[15:]]\nques3.head()","bf9388b4":"ques3.dropna(inplace = True)","f875f3b3":"ques3.isna().sum()","6c394095":"# Task 2: Data Exploration\n# 1. Explore the survey question: \\textit{Please rank the Star Wars films in order of preference with 1 being your favorite film in the franchise and 6 being your least favorite film.\t(Star Wars: Episode I  The Phantom Menace; Star Wars: Episode II  Attack of the Clones; Star Wars: Episode III  Revenge of the Sith;\tStar Wars: Episode IV  A New Hope; Star Wars: Episode V The Empire Strikes Back; Star Wars: Episode VI Return of the Jedi)}, then analysis how people rate Star Wars Movies. \n\n\n#Code goes after this line by adding cells","bbd12bc0":"starwars.iloc[:,9:15] = starwars.iloc[:,9:15].astype(float)","7577475c":"cols = ['Rank|Movie1','Rank|Movie2','Rank|Movie3','Rank|Movie4','Rank|Movie5','Rank|Movie6']\navg = {}\ndata = {}\nfor col in cols:\n    avg[col] = (starwars[col].mean())**-1 #(below for explaination)\ndata['mean'] = avg\ndata   \n","f882465d":"rank = sorted(data['mean'].items())\n\nplt.bar(range(len(data['mean'])), [x[1] for x in rank], align = 'center')\nplt.xticks(range(len(data['mean'])), ['Movie1','Movie2','Movie3','Movie4','Movie5','Movie6'])\nplt.ylabel('Ranking')\nplt.title('Comparison of ranks from Movie 1-6')\nplt.show()\nplt.xticks","8c7a7bd8":"# Task 2: Data Exploration\n# 2. Explore the relationships between columns; at least 3 visualisations with plausible hypothesis\n\n#Code goes after this line by adding cells","b96ccf94":"copy1 = starwars[['Do you consider yourself to be a fan of the Star Wars film franchise?','Age']]","642a1f70":"copy1.rename(columns = {'Do you consider yourself to be a fan of the Star Wars film franchise?' : 'outcome'},inplace = True)","e6220fb8":"copy1.head()","f5e59b5b":"pd.DataFrame(copy1.Age.value_counts())","3532c7b3":"pd.DataFrame(copy1.outcome.value_counts())","aa433d09":"stWars = copy1.groupby(\"Age\").outcome.value_counts(normalize = True)\nstWars","5575e539":"stWars.index","0013e906":"stWars.unstack()","ad68e48f":"plt.figure(figsize=(10,4))\n\nplt.subplot(1,2,1);copy1.outcome.value_counts().plot(kind='bar', color=['C0','C1']); plt.title('Star War Fan')\nplt.subplot(1,2,2);copy1.Age.value_counts().plot(kind='bar', color=['C3','C4','C5','C6']); plt.title('Age')","77a879bb":"stWars.unstack().plot(kind = 'bar', stacked = True, title = 'Age vs Star War Fans')","5912eeb8":"copy2 = starwars[['Do you consider yourself to be a fan of the Star Trek franchise?','Age']]","bc04798e":"copy2.rename(columns = {'Do you consider yourself to be a fan of the Star Trek franchise?' : 'result'},inplace = True)","aaaa4bba":"copy2.head()","5572bd7a":"pd.DataFrame(copy2.Age.value_counts())","a8a0d197":"pd.DataFrame(copy2.result.value_counts())","b2889a02":"stTrek = copy2.groupby(\"Age\").result.value_counts(normalize = True)\nstTrek","9fde9bf5":"stTrek.index","35ff79c4":"stTrek.unstack()","7f7d0638":"plt.figure(figsize=(10,4))\n\nplt.subplot(1,2,1);copy2.result.value_counts().plot(kind='bar', color=['C0','C1']); plt.title('Star Trek Fan')\nplt.subplot(1,2,2);copy2.Age.value_counts().plot(kind='bar', color=['C3','C4','C5','C6']); plt.title('Age')","42ad8f7a":"stTrek.unstack().plot(kind = 'bar', stacked = True, title = 'Age vs Star Trek Fans')","883895f2":"copy3 = starwars[['Do you consider yourself to be a fan of the Star Wars film franchise?','Which character shot first?']]\n\ncopy3.rename(columns = {'Do you consider yourself to be a fan of the Star Wars film franchise?' : 'fan','Which character shot first?' : 'firstShot'},inplace = True)","ca644ef4":"copy3.head()","ec52df90":"pd.DataFrame(copy3.firstShot.value_counts())","0ab830fa":"pd.DataFrame(copy3.fan.value_counts())","80c861e4":"shot = copy3.groupby(\"firstShot\").fan.value_counts(normalize = True)\nshot","fcc2cbc5":"type(shot)","101e2044":"shot.unstack()","f71d0879":"plt.figure(figsize=(10,4))\n\nplt.subplot(1,2,1);copy3.fan.value_counts().plot(kind='bar', color=['C0','C1']); plt.title('Star War Fan')\nplt.subplot(1,2,2);copy3.firstShot.value_counts().plot(kind='bar', color=['C3','C4','C5']); plt.title('Which Charecter Shot First?')","ea314ae2":"shot.unstack().plot(kind = 'bar', stacked = True, title = 'First Shot vs Star War Fans')\nax = plt.subplot(111)\n","4f493c8f":"# Task 2: Data Exploration\n# 3. Explore whether there are relationship between people's demographics (Gender, Age, Household Income, Education, Location) and their attitude to Start War characters. \n\n#Code goes after this line by adding cells","44b59388":"ques3.head() ","ae2a3b89":"gender = ques3[['Familiarity|Han Solo',                                            \n'Familiarity|Luke Skywalker',                                          \n'Familiarity|Princess Leia Organa',                                    \n'Familiarity|Anakin Skywalker',                                        \n'Familiarity|Obi Wan Kenobi',                                          \n'Familiarity|Emperor Palpatine',                                       \n'Familiarity|Darth Vader',                                             \n'Familiarity|Lando Calrissian',                                        \n'Familiarity|Boba Fett',                                               \n'Familiarity|C-3P0',                                                   \n'Familiarity|R2 D2',                                                   \n'Familiarity|Jar Jar Binks',                                           \n'Familiarity|Padme Amidala',                                           \n'Familiarity|Yoda',\n'Gender']]","c0878c79":"gender.head()","9c986dec":"gender.nunique()","12f79fbd":"gender.replace({'UNFAMILIAR (N\/A)' : 0,\n                'VERY FAVORABLY' : 1,\n               'SOMEWHAT FAVORABLY' : 2,\n               'NEITHER FAVORABLY NOR UNFAVORABLY (NEUTRAL)' : 3,\n               'SOMEWHAT UNFAVORABLY' : 4,\n               'VERY UNFAVORABLY' : 5,\n               'MALE' : 0,\n               'FEMALE' : 1}, inplace = True)","82e7b9f4":"gender.head()","9651d78a":"gender.isna().sum()","5fa504ea":"gender['Familiarity|Emperor Palpatine'].value_counts()","96ef01a1":"gender.dtypes","c69db78a":"gender.groupby('Gender').agg(lambda x:x.value_counts().index[0])","3b00565b":"plt.style.use('dark_background')\ngender.groupby('Gender').agg(lambda x:x.value_counts().index[0]).plot(kind = 'bar', \n                                                  figsize = (5,5),\n                                                 title = 'Charecter Familiarity vs Gender',\n                                                 grid = True,\n                                                 legend = True,\n                                                 colormap = 'plasma')\nplt.ylabel('Familiarity')\nplt.yticks((1,2,3,4,5),['Very Favourable','Somewhat Favorable','Neutral','Somewhat Unfavorable','Very Unfavorable'])\nplt.xticks((0,1),['Male','Female'])\nax = plt.subplot(111)\nax.legend(loc='upper center', bbox_to_anchor=(1.3, 0.8), shadow=True, ncol=1)","28a92f68":"age = ques3[['Familiarity|Han Solo',                                            \n'Familiarity|Luke Skywalker',                                          \n'Familiarity|Princess Leia Organa',                                    \n'Familiarity|Anakin Skywalker',                                        \n'Familiarity|Obi Wan Kenobi',                                          \n'Familiarity|Emperor Palpatine',                                       \n'Familiarity|Darth Vader',                                             \n'Familiarity|Lando Calrissian',                                        \n'Familiarity|Boba Fett',                                               \n'Familiarity|C-3P0',                                                   \n'Familiarity|R2 D2',                                                   \n'Familiarity|Jar Jar Binks',                                           \n'Familiarity|Padme Amidala',                                           \n'Familiarity|Yoda',\n'Age']]","d350228e":"age.head()","3aaf31f6":"age['Age'].value_counts()","5993d2f1":"age.replace({'UNFAMILIAR (N\/A)' : 0,\n                'VERY FAVORABLY' : 1,\n               'SOMEWHAT FAVORABLY' : 2,\n               'NEITHER FAVORABLY NOR UNFAVORABLY (NEUTRAL)' : 3,\n               'SOMEWHAT UNFAVORABLY' : 4,\n               'VERY UNFAVORABLY' : 5,\n               '18-29' : 0,\n               '30-44' : 1,\n            '45-60' : 2,\n            '> 60' : 3}, inplace = True)","6fad1129":"age.head()","d73d8489":"age.dtypes","313480e9":"age.groupby('Age').agg(lambda x:x.value_counts().index[0])","c8f796be":"plt.style.use('dark_background')\nage.groupby('Age').agg(lambda x:x.value_counts().index[0]).plot(kind = 'bar', \n                                                  figsize = (5,5),\n                                                 title = 'Charecter Familiarity vs Age',\n                                                 grid = True,\n                                                 legend = True,\n                                                 colormap = 'plasma')\nplt.ylabel('Familiarity')\nplt.yticks((1,2,3,4,5),['Very Favourable','Somewhat Favorable','Neutral','Somewhat Unfavorable','Very Unfavorable'])\nplt.xticks((0,1,2,3),['18-29','30-44','45-60','Greater than 60'])\nax = plt.subplot(111)\nax.legend(loc='upper center', bbox_to_anchor=(1.4, 0.8), shadow=True, ncol=1)","0dd9f3c9":"income = ques3[['Familiarity|Han Solo',                                            \n'Familiarity|Luke Skywalker',                                          \n'Familiarity|Princess Leia Organa',                                    \n'Familiarity|Anakin Skywalker',                                        \n'Familiarity|Obi Wan Kenobi',                                          \n'Familiarity|Emperor Palpatine',                                       \n'Familiarity|Darth Vader',                                             \n'Familiarity|Lando Calrissian',                                        \n'Familiarity|Boba Fett',                                               \n'Familiarity|C-3P0',                                                   \n'Familiarity|R2 D2',                                                   \n'Familiarity|Jar Jar Binks',                                           \n'Familiarity|Padme Amidala',                                           \n'Familiarity|Yoda',\n'Household Income']]","39354e01":"income.head()","4a9b8ee0":"income['Household Income'].value_counts()","0b0c6680":"income.replace({'UNFAMILIAR (N\/A)' : 0,\n                'VERY FAVORABLY' : 1,\n               'SOMEWHAT FAVORABLY' : 2,\n               'NEITHER FAVORABLY NOR UNFAVORABLY (NEUTRAL)' : 3,\n               'SOMEWHAT UNFAVORABLY' : 4,\n               'VERY UNFAVORABLY' : 5,\n               '$0 - $24,999' : 0,\n               '$25,000 - $49,999' : 1,\n            '$50,000 - $99,999' : 2,\n            '$100,000 - $149,999' : 3,\n               '$150,000+' : 4}, inplace = True)","cae2f9e1":"income.dtypes","1759f729":"income.groupby('Household Income').agg(lambda x:x.value_counts().index[0])","b33a7f49":"plt.style.use('dark_background')\nincome.groupby('Household Income').agg(lambda x:x.value_counts().index[0]).plot(kind = 'bar', \n                                                  figsize = (10,10),\n                                                 title = 'Charecter Familiarity vs Income',\n                                                 grid = True,\n                                                 legend = True,\n                                                 colormap = 'plasma')\nplt.ylabel('Familiarity')\nplt.yticks((1,2,3,4,5),['Very Favourable','Somewhat Favorable','Neutral','Somewhat Unfavorable','Very Unfavorable'])\nplt.xticks((0,1,2,3,4),['$0 - $24,999','$25,000 - $49,999','$50,000 - $99,999','$100,000 - $149,999','$150,000+'])\nax = plt.subplot(111)\nax.legend(loc='upper center', bbox_to_anchor=(1.3, 0.8), shadow=True, ncol=1)","c335353e":"education = ques3[['Familiarity|Han Solo',                                            \n'Familiarity|Luke Skywalker',                                          \n'Familiarity|Princess Leia Organa',                                    \n'Familiarity|Anakin Skywalker',                                        \n'Familiarity|Obi Wan Kenobi',                                          \n'Familiarity|Emperor Palpatine',                                       \n'Familiarity|Darth Vader',                                             \n'Familiarity|Lando Calrissian',                                        \n'Familiarity|Boba Fett',                                               \n'Familiarity|C-3P0',                                                   \n'Familiarity|R2 D2',                                                   \n'Familiarity|Jar Jar Binks',                                           \n'Familiarity|Padme Amidala',                                           \n'Familiarity|Yoda',\n'Education']]","e7d3f765":"education.head()","c84ebbcb":"education['Education'].value_counts()","8f428858":"education.replace({'UNFAMILIAR (N\/A)' : 0,\n                'VERY FAVORABLY' : 1,\n               'SOMEWHAT FAVORABLY' : 2,\n               'NEITHER FAVORABLY NOR UNFAVORABLY (NEUTRAL)' : 3,\n               'SOMEWHAT UNFAVORABLY' : 4,\n               'VERY UNFAVORABLY' : 5,\n               'LESS THAN HIGH SCHOOL DEGREE' : 0,\n               'HIGH SCHOOL DEGREE' : 1,\n            'SOME COLLEGE OR ASSOCIATE DEGREE' : 2,\n            'BACHELOR DEGREE' : 3,\n               'GRADUATE DEGREE' : 4}, inplace = True)","b5d3f864":"education.dtypes","ab28ec3d":"education.groupby('Education').agg(lambda x:x.value_counts().index[0])","dc40b3b3":"plt.style.use('dark_background')\neducation.groupby('Education').agg(lambda x:x.value_counts().index[0]).plot(kind = 'bar', \n                                                  figsize = (15,10),\n                                                 title = 'Charecter Familiarity vs Education level',\n                                                 grid = True,\n                                                 legend = True,\n                                                 colormap = 'plasma')\nplt.ylabel('Familiarity')\nplt.yticks((1,2,3,4,5),['Very Favourable','Somewhat Favorable','Neutral','Somewhat Unfavorable','Very Unfavorable'])\nplt.xticks((0,1,2,3,4),['LESS THAN HIGH SCHOOL DEGREE','HIGH SCHOOL DEGREE','SOME COLLEGE OR ASSOCIATE DEGREE','BACHELOR DEGREE','GRADUATE DEGREE'])\nax = plt.subplot(111)\nax.legend(loc='upper center', bbox_to_anchor=(1.3, 0.8), shadow=True, ncol=1)","72e103fe":"location = ques3[['Familiarity|Han Solo',                                            \n'Familiarity|Luke Skywalker',                                          \n'Familiarity|Princess Leia Organa',                                    \n'Familiarity|Anakin Skywalker',                                        \n'Familiarity|Obi Wan Kenobi',                                          \n'Familiarity|Emperor Palpatine',                                       \n'Familiarity|Darth Vader',                                             \n'Familiarity|Lando Calrissian',                                        \n'Familiarity|Boba Fett',                                               \n'Familiarity|C-3P0',                                                   \n'Familiarity|R2 D2',                                                   \n'Familiarity|Jar Jar Binks',                                           \n'Familiarity|Padme Amidala',                                           \n'Familiarity|Yoda',\n'Location (Census Region)']]","74477b1d":"location.head()","feb842b3":"location['Location (Census Region)'].value_counts()","9da99592":"location.replace({'UNFAMILIAR (N\/A)' : 0,\n                'VERY FAVORABLY' : 1,\n               'SOMEWHAT FAVORABLY' : 2,\n               'NEITHER FAVORABLY NOR UNFAVORABLY (NEUTRAL)' : 3,\n               'SOMEWHAT UNFAVORABLY' : 4,\n               'VERY UNFAVORABLY' : 5,\n               'SOUTH ATLANTIC' : 0,\n               'PACIFIC' : 1,\n            'EAST NORTH CENTRAL' : 2,\n            'WEST SOUTH CENTRAL' : 3,\n               'MIDDLE ATLANTIC' : 4,\n                 'NEW ENGLAND' : 5,\n                 'WEST NORTH CENTRAL' : 6,\n                 'MOUNTAIN' : 7,\n                 'EAST SOUTH CENTRAL' : 8}, inplace = True)","c494ca7b":"location.dtypes","94cc23ca":"location.groupby('Location (Census Region)').agg(lambda x:x.value_counts().index[0])","ebfc921c":"plt.style.use('dark_background')\nlocation.groupby('Location (Census Region)').agg(lambda x:x.value_counts().index[0]).plot(kind = 'bar', \n                                                  figsize = (17,10),\n                                                 title = 'Charecter Familiarity vs Location',\n                                                 grid = True,\n                                                 legend = True,\n                                                 colormap = 'plasma')\nplt.ylabel('Familiarity')\nplt.yticks((1,2,3,4,5),['Very Favourable','Somewhat Favorable','Neutral','Somewhat Unfavorable','Very Unfavorable'])\nplt.xticks((0,1,2,3,4,5,6,7,8),['SOUTH ATLANTIC','PACIFIC','EAST NORTH CENTRAL','WEST SOUTH CENTRAL','MIDDLE ATLANTIC','NEW ENGLAND','WEST NORTH CENTRAL','MOUNTAIN','EAST SOUTH CENTRAL'])\nax = plt.subplot(111)\nax.legend(loc='upper center', bbox_to_anchor=(1.10, 0.8), shadow=True, ncol=1)","4895f04a":"Rechecking if any of the columns have any missing value. Missing values were tackled in Part 1","83de2199":"<br>-From the above observation, we can see that Fans of StarWar have mostly chosen Han Solo as the right answer. After all Han     Solo is the right answer.<\/br>\n<br>-However most of the fans have gotten confused with Greedo as after all Greedo was shot at. <\/br>\n<br>-Finally, the most number of **non fans** have answered this question as 'I don't understand this question'<\/br>","eb237a5f":"### 3: Relationship between people\u2019s demographics  and their attitude to Start War characters.","8004f98e":"<h1>Table of Contents<span class=\"tocSkip\"><\/span><\/h1>\n<div class=\"toc\"><ul class=\"toc-item\"><li><span><a href=\"#1:-Data-Preparation\" data-toc-modified-id=\"1:-Data-Preparation-1\">1: Data Preparation<\/a><\/span><ul class=\"toc-item\"><li><span><a href=\"#1.1-Data-Retrieving\" data-toc-modified-id=\"1.1-Data-Retrieving-1.1\">1.1 Data Retrieving<\/a><\/span><\/li><li><span><a href=\"#1.2-Check-DataTypes\" data-toc-modified-id=\"1.2-Check-DataTypes-1.2\">1.2 Check DataTypes<\/a><\/span><\/li><li><span><a href=\"#1.3-Upper\/Lower-case\" data-toc-modified-id=\"1.3-Upper\/Lower-case-1.3\">1.3 Upper\/Lower-case<\/a><\/span><\/li><li><span><a href=\"#1.4-Extra-whitespaces\" data-toc-modified-id=\"1.4-Extra-whitespaces-1.4\">1.4 Extra-whitespaces<\/a><\/span><\/li><li><span><a href=\"#1.5-Typos\" data-toc-modified-id=\"1.5-Typos-1.5\">1.5 Typos<\/a><\/span><\/li><li><span><a href=\"#1.6-Sanity-Checks\" data-toc-modified-id=\"1.6-Sanity-Checks-1.6\">1.6 Sanity Checks<\/a><\/span><\/li><li><span><a href=\"#1.7-Missing-Values\" data-toc-modified-id=\"1.7-Missing-Values-1.7\">1.7 Missing Values<\/a><\/span><ul class=\"toc-item\"><li><ul class=\"toc-item\"><li><span><a href=\"#Dealing-with-NaN-values-for-task-3\" data-toc-modified-id=\"Dealing-with-NaN-values-for-task-3-1.7.0.1\">Dealing with NaN values for task 3<\/a><\/span><\/li><\/ul><\/li><\/ul><\/li><li><span><a href=\"#2.1-Explore-a-survey-question\" data-toc-modified-id=\"2.1-Explore-a-survey-question-1.8\">2.1 Explore a survey question<\/a><\/span><\/li><li><span><a href=\"#2.2-Relationship-between-columns\" data-toc-modified-id=\"2.2-Relationship-between-columns-1.9\">2.2 Relationship between columns<\/a><\/span><ul class=\"toc-item\"><li><span><a href=\"#2.2.1-Comparing-Fans-of-Starwar-and-their-Age\" data-toc-modified-id=\"2.2.1-Comparing-Fans-of-Starwar-and-their-Age-1.9.1\">2.2.1 Comparing Fans of Starwar and their Age<\/a><\/span><\/li><li><span><a href=\"#2.2.2-Comparing-Star-Trek-and-the-fans-age\" data-toc-modified-id=\"2.2.2-Comparing-Star-Trek-and-the-fans-age-1.9.2\">2.2.2 Comparing Star Trek and the fans age<\/a><\/span><\/li><li><span><a href=\"#2.2.3-Fans-who-got-the-right-answer-to-'Which-charecter-shot-first?'\" data-toc-modified-id=\"2.2.3-Fans-who-got-the-right-answer-to-'Which-charecter-shot-first?'-1.9.3\">2.2.3 Fans who got the right answer to 'Which charecter shot first?'<\/a><\/span><\/li><\/ul><\/li><li><span><a href=\"#3:-Relationship-between-people\u2019s-demographics--and-their-attitude-to-Start-War-characters.\" data-toc-modified-id=\"3:-Relationship-between-people\u2019s-demographics--and-their-attitude-to-Start-War-characters.-1.10\">3: Relationship between people\u2019s demographics  and their attitude to Start War characters.<\/a><\/span><ul class=\"toc-item\"><li><span><a href=\"#3.1-Familiarity-of-Charecters-vs-Gender\" data-toc-modified-id=\"3.1-Familiarity-of-Charecters-vs-Gender-1.10.1\">3.1 Familiarity of Charecters vs Gender<\/a><\/span><\/li><li><span><a href=\"#3.2-Familiarity-of-Charecters-vs-Age\" data-toc-modified-id=\"3.2-Familiarity-of-Charecters-vs-Age-1.10.2\">3.2 Familiarity of Charecters vs Age<\/a><\/span><\/li><li><span><a href=\"#3.3-Familiarity-of-Charecters-vs-Household-Income\" data-toc-modified-id=\"3.3-Familiarity-of-Charecters-vs-Household-Income-1.10.3\">3.3 Familiarity of Charecters vs Household Income<\/a><\/span><\/li><li><span><a href=\"#3.4-Familiarity-of-Charecters-vs-Education-Level\" data-toc-modified-id=\"3.4-Familiarity-of-Charecters-vs-Education-Level-1.10.4\">3.4 Familiarity of Charecters vs Education Level<\/a><\/span><\/li><li><span><a href=\"#3.4-Familiarity-of-Charecters-vs-Location\" data-toc-modified-id=\"3.4-Familiarity-of-Charecters-vs-Location-1.10.5\">3.4 Familiarity of Charecters vs Location<\/a><\/span><\/li><\/ul><\/li><\/ul><\/li><\/ul><\/div>","dbba5e82":"Some of the people have watched one movie but the ranks for all the movies were given. This should not be an indicator and will create noise for the data exploration. ","257293a4":"Including it between 45-60 because it being a typo for an age of '50'","727d02de":"Now to explore the people's demographics with familiarity, we need to go step by step with each demograph. \n\nTaking Gender for the first case.","a2771a85":"As we can see, the columns headers are multi-indexed and needs to dealt with at first before Data Exploration","68ce11b3":"The above graph shows the fans of Starwars and their age group. The final conclusion can be that the age group of 18-29 are the people who are more likely to be fans of Star Wars. Up second would be of the age group 45 - 60. ","9714ae1b":"#### 2.2.3 Fans who got the right answer to 'Which charecter shot first?'","a9f4abdb":"In the above for loop, it is checking \n<br>1)If the 'Have you seen any of the 6 films in the Star Wars franchise?' == YES<\/br>\n<br>2)If there is any missing value in the Watched|Movies column<\/br>\n<br>If the above two conditions satisfy the condition, then that row is removed. <\/br> \nThis is because the rankings for movies are given even though some people have not watched a movie. \n<br> For example, one person has not watched Movie3 but still has given a rating for it. This will just create noise and needs to be removed<\/br> ","a6027bff":"### 2.1 Explore a survey question","bc10e329":"As we can see from below, there are no typos which exist. ","c4c4202b":"### 1.6 Sanity Checks","dff226f4":"As we can see from the above cell, the whole dataset is grouped by 'Gender' and the mode for each of the column is generated. This shows what people have voted most for each charecter. ","f57b50ce":"Value counts for each of the columns are obtained which makes it easy to detect all the typos in one go or a single ouput. ","6e4b1fec":"for col in 'Watched|Movie1','Watched|Movie2','Watched|Movie3','Watched|Movie4','Watched|Movie5','Watched|Movie6':\n    starwars[col] = ~starwars[col].isna()\n\n            ","43e2ab7a":"### 1.2 Check DataTypes ","14c1a1a4":"From the above graph we can see that people with less than high school degree are very favourible to most of the charecters compared to all other education level. While other education levels chose very favourable for 'R2D2','C-3PD', 'Boba Fett'. Most people having High School degree chose either very favourable or somewhat favourable which indicates a more understanding of the charecters. ","241be5d7":"Taking only 2 columns from the whole data set. This gives us room to analyse this data only. Also, renaming these columns into simpler names. ","0214304f":"Normalizing the data, and also grouping by based on the first shot('Who shot first?') to get a better understanding of the two columns.","1e773e27":"As we can see from above that the age group which has more Fans for Star Trek is 45-60. The second highest age group of fans would be 30-44. We can conclude that Star Trek being an older film has fans of a higher age group than of starwars which was done in 2.2.1","355dccad":"People from South Atlantic and West North Central, consider Emperor Palpatine Very Unfavourable while others regions either consider him Neutral to Very Favourable. Jar Jar Binks is considered Very Unfavourable by all regions except New England and East South Central. Most other charecters to a large extent are considered Very Favourable. ","ca908ff3":"#### 3.4 Familiarity of Charecters vs Education Level","9f88b93c":"As we can see from the above graph, there is similarity for most charecters on how people have voted even when their income groups were different. People who had an income of more than USD 150,000 were a little more unsure of the charecters than the ones who had lesser income. \n\nWe can also notice that the charecter familiarity was similar between USD 50K-99K income group and USD 150K income group. Income group ranging from $100K-150K were very sure of the charecters of the movies. ","63d32b41":"Making the data numeric so that we can plot multiple columns together. Using ```replace``` function we can change from categories to numeric labels","dee1b108":"As we can see all the typos of Male, Female, Yes & No has been rectified. \n\n\n\nHowever there is still an error in the variable \"Do you consider yourself to be a fan of the Expanded Universe?\u008c\u00e6\"","31e93a49":"Now assigning ```True``` - for Movies watched and ```False``` - for missing values (movie not watched) from column ```Watched|Movie1``` to column ```Watched|Movie6```","f125763c":"After renaming the columns, we can see all of the unnamed columns are named now. Below we are checking if the columns which have been renamed have unique values. \n\n\nAlso dropping the first row as it is redundant now because we renamed the columns with meaningful headings","3351eab8":"### 1.4 Extra-whitespaces","280250cd":"#### 3.4 Familiarity of Charecters vs Location ","16af4762":"### 1.5 Typos","719966aa":"```Unstack``` is used so that the output comes out as a dataframe. This makes plotting easier. ","80a3c753":"#### 3.3 Familiarity of Charecters vs Household Income ","acdae95a":"Column name had an extra string which needed to be replaced. ","e622083c":"#### 2.2.2 Comparing Star Trek and the fans age","07111d5d":"#### 3.1 Familiarity of Charecters vs Gender","b2ab4a2d":"People with an age group of > 60 found Jar Jar Binks very favourable while others age groups rated the character very unfavourable. ","bced179c":"Comparing the columns of star war fans and their age next to each other. To get a","7eda1900":"As we can see that, some of the null values have been removed. The other missing values cannot be removed because that will cause a lot of data to be lost. To make the visualizations more realistic, there has to be enough data to get accurate results. ","6a111502":"Converting the columns to float values because we cannot take mean of string values","6bbdc9bc":"The Ranks have been ordered from 1 to 6, where 1 is highest rank while 6 is the lowest rank. Now since 6 being the largest number has been assigned to the movie ranked the least  while 1 being the smallest number has been assigned to the movie which is ranked the best. Because of this issue, the graph will be flipped. To avoid this, the inverse has been taken so that the best ranked movie will have the tallest bar and like wise. ","1fbf4c0d":"### 1.1 Data Retrieving","bf2e4fe5":"#### 3.2 Familiarity of Charecters vs Age ","e97069c1":"### 1.3 Upper\/Lower-case","9a985a2e":"Taking all the columns with the charecter and with Age. Subsetting this from ques3 dataFrame to make better and easier visualizations. ","1f100838":"### 1.7 Missing Values","b3a761fb":"The graph shows us that most of Male population voted 'Very Favourable' compared to female. Females also were close behind when it came to specific character. From the graph the most deviation from both male and female equally was between 'Jar Jar Binks' and 'Lando Calrrissan'","e98a9d7e":"As we can see, the Age of a person is showing as 500 which needs to be imputed with null value. ","5b5357da":"As we can see above, a new dataframe has been subsetted from the original dataframe to get rid of null values only from these columns. This newly created dataframe is going to be used in question 3 ('Relationship between people\u2019s demographics  and their attitude to Start War characters') below. ","1595edc0":"##### Dealing with NaN values for task 3\n<br>Now looking at columns of poeple's demographics (Gender, Age, Household Income, Education, Location) and their attitude to Star War characters.<\/br>\nThe data has to be inluded in task 3 should be not have any missing values. ","c160daf1":"## 1: Data Preparation ","4a6aa91e":"#### 2.2.1 Comparing Fans of Starwar and their Age","a267b230":"### 2.2 Relationship between columns"}}