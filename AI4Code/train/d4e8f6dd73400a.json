{"cell_type":{"d193ce1b":"code","e668bbd1":"code","5fce6d43":"code","3c649ae2":"code","e63342d2":"code","082a18af":"code","c29ff0a2":"code","89cda8d9":"code","ae72bdcd":"code","9449d9f5":"code","e21b811b":"markdown","9e56f85f":"markdown","f3f83e23":"markdown","8d15d54f":"markdown","6b983b5b":"markdown","15b75b16":"markdown"},"source":{"d193ce1b":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as SNS\nfrom tqdm.auto import tqdm\nfrom PIL import Image, ImageFont, ImageDraw\nfrom scipy import cluster\nimport math\nimport colorsys\nimport re","e668bbd1":"# read in data\ndf = pd.DataFrame(pd.read_csv('..\/input\/infinite-jest-text-endnotes-and-definitions\/IJ_full_body.csv')).drop(columns=['Unnamed: 0'])\ndf","5fce6d43":"# create basic list of common colors to reference \ncolor_list = ['white','black','gray','blue',\n              'green','purple','pink',\n              'orange','brown','violet',\n              'yellow','indigo','magenta',\n              'gold','silver','teal',\n              'turquoise','aquamarine',\n              'maroon','lavender','fuchsia', \n              'red',\n              'tan']\n\ncolors = []\n\n# loop through dataframe for instances of color names\n# there's probably a more efficient way to do this....\nfor index, row in df.iterrows():\n    for word in re.split(r'[ \\-]+', row.text):\n        for color in color_list:\n            if color == word.lower():\n                if color == 'lavender':\n                    colors.append('purple')\n                elif word == 'Green':\n                    continue\n                else:\n                    colors.append(color)\n            elif color in word and word[-3:] == 'ish':\n                colors.append(color)\n            \nprint(f'Total color words in \"Infinite Jest\": {len(colors)}')","3c649ae2":"color_order = pd.Series(colors).value_counts().index.tolist()\n\ntitle = 'Color usage in \"Infinite Jest\"'\npd.Series(colors).value_counts().plot.bar(color=color_order,\n                                          figsize=(15,5), \n                                          edgecolor='black',\n                                          title=title)\n\nplt.tight_layout()","e63342d2":"from PIL import Image\n\n# create dictionary of color slice images\ncolor_lines = {}\n\nfor color in color_list:\n    color_lines[color] = Image.new('RGB', (1, int(len(colors)\/4)), color)","082a18af":"# visualization inspired by \n# https:\/\/www.reddit.com\/r\/DataArt\/comments\/jlhv35\/every_color_mentioned_in_the_book_infinite_jest\/gapdxdv\/\n\n# loop through full color list and generate a color slice for each \nfig, ax = plt.subplots(1,len(colors), figsize=(40,10))\n\nfor i in range(len(colors)):\n    ax[i].imshow(color_lines[colors[i]])\n    ax[i].axis('off')\n\nplt.savefig('IJ_colors.png')","c29ff0a2":"# # find most common color on page\n# page_color = []\n\n# for index, row in df.iterrows():\n#     page = []\n#     for word in row.text.lower().split(' '):\n#         for color in color_list:\n#             if word == color:\n#                 page.append(color)\n#     try:\n#         page_color.append(max(set(page), key=page.count))\n#     except:\n#         page_color.append(None)\n        \n# page_color","89cda8d9":"# from ast import literal_eval\n# notes_pages = []\n# for index, row in df.iterrows():\n#     notes_num = len(literal_eval(row.endnotes_on_page))\n#     notes_pages.append(notes_num)\n\n# pd.Series(notes_pages).plot.bar()","ae72bdcd":"# df['endnote_amount'] = df.endnotes_on_page.apply(lambda x: len(literal_eval(x)))\n# df","9449d9f5":"# df.groupby('chapter')['endnote_amount'].sum().sort_values(ascending=False)\\\n#     .plot.bar(figsize=(10,5), title='endnotes by chapter title')","e21b811b":"David Foster Wallace's lengthy, complex, and sometimes-divisive magnum opus, features intricate, beautiful, blunt, brutal, and colorful language.\n\nThe following graphics showing every color word mentioned throughout the novel, helps readers visualize scenes, characters, moods, and themes.\n\nThis is an ongoing project and requires some fine-tuning. Any words of advice are appreciated!","9e56f85f":"## Visualizing the colors of Infinite Jest","f3f83e23":"# Characters \nJames Orin Incandenza (Himself, The Mad Stork, and The Sad Stork)\nAvril Incandenza (n\u00e9e Mondragon) (The Moms)\nHal Incandenza\nMario Incandenza\nOrin Incandenza\nCharles Tavis\n\n\nMichael Pemulis\nJohn \u201cNo Relation\u201d Wayne\n* Eric Clipperton\nOrtho \u201cThe Darkness\u201d Stice, \nJim Troelsch, \nTrevor (\u201cThe Axhandle\u201d) Axford, \nAnn Kittenplan, \nTed Schacht, \nLaMont Chu, \nU.S.S. Millicent Kent (tried to seduce Mario!).\nGerhardt Schtitt\nDr. Dolores Rusk\nLateral Alice Moore\nCantrell.\nLyle\n\n\nDon Gately\nJoelle Van Dyne (a.k.a \u201cMadame Psychosis and P.G.O.A.T, The Prettiest Girl of All Time\u201d)\nKate Gompert\nPat Montesian\nKen Erdedy\nBruce Green\nTiny Ewell\nRandy Lenz, \nGeoffrey Day, \nEmil Minty.\n\nSteeply\nMarathe\n\nHugh Steeply (a.k.a. Helen Steeply)\nRemy Marathe\nM. Fortier\n\nJohnny Gentle\nRodney P. Tine\nPoor Tony Krause (P.T. Krause)\nStavros Lobokulas","8d15d54f":"TODO: fix chapter delimitation","6b983b5b":"# Color analysis of *Infinite Jest* by David Foster Wallace","15b75b16":"## All colors in order\nvisualization inspired by https:\/\/www.reddit.com\/r\/DataArt\/comments\/jlhv35\/every_color_mentioned_in_the_book_infinite_jest\/gapdxdv\/"}}