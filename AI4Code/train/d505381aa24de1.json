{"cell_type":{"eaf26d09":"code","55814103":"code","6e8e554b":"code","a468c79f":"code","98e95848":"code","9decceeb":"code","f4dc2e5a":"code","10337fe2":"code","56988ab0":"code","754967ea":"code","50b1957d":"code","19ce05d1":"code","8d4d362a":"code","170be7d7":"code","dd29671d":"code","0c8618be":"code","7b3198a6":"code","e54e6325":"code","70251ffb":"code","506edbe7":"code","8668d9fb":"code","e8dc30cb":"code","8d18dde9":"code","9cc742db":"code","a29927c3":"code","f1d1c3e8":"code","86d69661":"code","87efac36":"code","47ace30b":"code","da278d85":"code","ef4b1c68":"code","a3ca5949":"code","4061076e":"code","528d6039":"code","c8b8365e":"code","76d224d0":"code","62120353":"code","1637033d":"code","a1863ea2":"code","8aa6439e":"markdown","78c837c3":"markdown","4f7427dc":"markdown","f7244ec5":"markdown","12996403":"markdown","d01e2a3c":"markdown","4f9a3cd4":"markdown","e8bf3279":"markdown","1130f797":"markdown","0c081666":"markdown","0b94a00c":"markdown","b6c9b2ae":"markdown","61dcbfba":"markdown","c2d053ac":"markdown","b7ea271b":"markdown","378b5835":"markdown","ecf20755":"markdown","4bff25ab":"markdown","a3b65c68":"markdown","97b1d887":"markdown","cd7ed803":"markdown","eb77342c":"markdown","825c855e":"markdown","624ac742":"markdown","6f629635":"markdown"},"source":{"eaf26d09":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.image as mpimg\n##matplotlib inline\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings('ignore')","55814103":"airbnb=pd.read_csv('..\/input\/madrid-airbnb\/listings.csv')\n","6e8e554b":"airbnb.shape","a468c79f":"airbnb.dtypes","98e95848":"airbnb.info()","9decceeb":"airbnb.duplicated().sum()\nairbnb.drop_duplicates(inplace=True)","f4dc2e5a":"airbnb.isnull().sum()","10337fe2":"airbnb.drop(['name','id','host_name','last_review'], axis=1, inplace=True)","56988ab0":"airbnb.head(5)","754967ea":"airbnb.neighbourhood_group.value_counts(normalize=True)","50b1957d":"airbnb.fillna({'reviews_per_month':0}, inplace=True)\n#examing changes\nairbnb.reviews_per_month.isnull().sum()","19ce05d1":"airbnb.isnull().sum()\nairbnb.dropna(how='any',inplace=True)\nairbnb.info() #.info() function is used to get a concise summary of the dataframe","8d4d362a":"airbnb.describe()","170be7d7":"airbnb.columns","dd29671d":"corr = airbnb.corr(method='kendall')\nplt.figure(figsize=(15,8))\nsns.heatmap(corr, annot=True)\nairbnb.columns","0c8618be":"airbnb.shape","7b3198a6":"airbnb.head(15)","e54e6325":"import seaborn as sns","70251ffb":"airbnb['neighbourhood_group'].unique()","506edbe7":"sns.countplot(airbnb['neighbourhood_group'], palette=\"plasma\")\nfig = plt.gcf()\nfig.set_size_inches(10,10)\nplt.title('Neighbourhood Group')","8668d9fb":"sns.countplot(airbnb['neighbourhood'], palette=\"plasma\")\nfig = plt.gcf()\nfig.set_size_inches(25,6)\nplt.title('Neighbourhood')","e8dc30cb":"\nsns.countplot(airbnb['room_type'], palette=\"plasma\")\nfig = plt.gcf()\nfig.set_size_inches(10,10)\nplt.title('Restaurants delivering online or Not')","8d18dde9":"plt.figure(figsize=(10,10))\nax = sns.boxplot(data=airbnb, x='neighbourhood_group',y='availability_365',palette='plasma')","9cc742db":"plt.figure(figsize=(10,6))\nsns.scatterplot(airbnb.longitude,airbnb.latitude,hue=airbnb.neighbourhood_group)\nplt.ioff()","a29927c3":"plt.figure(figsize=(10,6))\nsns.scatterplot(airbnb.longitude,airbnb.latitude,hue=airbnb.neighbourhood)\nplt.ioff()","f1d1c3e8":"plt.figure(figsize=(10,6))\nsns.scatterplot(airbnb.longitude,airbnb.latitude,hue=airbnb.room_type)\nplt.ioff()","86d69661":"plt.figure(figsize=(10,6))\nsns.scatterplot(airbnb.longitude,airbnb.latitude,hue=airbnb.availability_365)\nplt.ioff()","87efac36":"from wordcloud import WordCloud","47ace30b":"plt.subplots(figsize=(25,15))\nwordcloud = WordCloud(\n                          background_color='black',\n                          width=1920,\n                          height=1080\n                         ).generate(\" \".join(airbnb.neighbourhood))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('neighbourhood.png')\nplt.show()","da278d85":"airbnb.drop(['host_id','latitude','longitude','neighbourhood','number_of_reviews','reviews_per_month'], axis=1, inplace=True)\n#examing the changes\nairbnb.head(5)","ef4b1c68":"#Encode the input Variables\ndef Encode(airbnb):\n    for column in airbnb.columns[airbnb.columns.isin(['neighbourhood_group', 'room_type'])]:\n        airbnb[column] = airbnb[column].factorize()[0]\n    return airbnb\n\nairbnb_en = Encode(airbnb.copy())","a3ca5949":"airbnb_en.head(15)","4061076e":"#Get Correlation between different variables\ncorr = airbnb_en.corr(method='kendall')\nplt.figure(figsize=(18,12))\nsns.heatmap(corr, annot=True)\nairbnb_en.columns","528d6039":"from sklearn.linear_model import LogisticRegression\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import classification_report\nfrom sklearn.metrics import confusion_matrix\nfrom sklearn.metrics import r2_score","c8b8365e":"#Defining the independent variables and dependent variables\nx = airbnb_en.iloc[:,[0,1,3,4,5]]\ny = airbnb_en['price']\n#Getting Test and Training Set\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=.1,random_state=353)\nx_train.head()\ny_train.head()","76d224d0":"x_train.shape","62120353":"#Prepare a Linear Regression Model\nreg=LinearRegression()\nreg.fit(x_train,y_train)\ny_pred=reg.predict(x_test)\nfrom sklearn.metrics import r2_score\nr2_score(y_test,y_pred)","1637033d":"#Prepairng a Decision Tree Regression\nfrom sklearn.tree import DecisionTreeRegressor\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=.1,random_state=105)\nDTree=DecisionTreeRegressor(min_samples_leaf=.0001)\nDTree.fit(x_train,y_train)\ny_predict=DTree.predict(x_test)\nfrom sklearn.metrics import r2_score\nr2_score(y_test,y_predict)","a1863ea2":"#Prepairng a Decision Tree Regression\nfrom sklearn.tree import DecisionTreeRegressor\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=.1,random_state=105)\nDTree=DecisionTreeRegressor(min_samples_leaf=.0001)\nDTree.fit(x_train,y_train)\ny_predict=DTree.predict(x_test)\nfrom sklearn.metrics import r2_score\nr2_score(y_test,y_predict)","8aa6439e":"### Plot all Neighbourhood Group","78c837c3":"#### Print the Datatypes of the dataset","4f7427dc":"## Map of Neighbourhood group","f7244ec5":"## Data Visualization","12996403":"## WordCloud","d01e2a3c":"* 1. #### Rreplace the 'reviews per month' by zero","4f9a3cd4":"## Loading Dataset","e8bf3279":">  # <font color='red'> Please UPVOTE if you found these helpful :) <\/font>","1130f797":"### Examining Changes","0c081666":"# Breakdown of this notebook:\n1. **Importing Libraries**\n2. **Loading the dataset**\n3. **Data Cleaning:** \n - Deleting redundant columns.\n - Dropping duplicates.\n - Cleaning individual columns.\n - Remove the NaN values from the dataset\n - Some Transformations\n4. **Data Visualization:** Using plots to find relations between the features.\n    - Get Correlation between different variables\n    - Plot all Neighbourhood Group\n    - Neighbourhood\n    - Room Type\n    - Relation between neighbourgroup and Availability of Room\n    - Map of Neighbourhood group\n    - Map of Neighbourhood\n    - Availabity of rooom\n5. **Word Cloud**\n6. **Regression Analysis**\n - Linear Regression\n - Decision Tree Regression\n - Random Forest Regression\n","0b94a00c":"### Room Type","b6c9b2ae":"#### Removing the Duplicates if any","61dcbfba":"## Regression Analysis","c2d053ac":"### Neighbourhood","b7ea271b":"#### Relation between neighbourgroup and Availability of Room","378b5835":"## Importing Libraries","ecf20755":"## Map of Neighbourhood","4bff25ab":"#### Drop unnecessary columns","a3b65c68":"### Examine Continous Variables","97b1d887":"#### Print the Shape of the dataset","cd7ed803":"## Availability of Room","eb77342c":"### Print all the columns names","825c855e":"### Get Correlation between different variables","624ac742":"## For further updates of this Kernel check into this GitHub Link: https:\/\/github.com\/ankitpatel1661\/Madrid-Airbnb","6f629635":"#### Remove the NaN values from the dataset"}}