{"cell_type":{"1e0372f0":"code","593fc8b6":"code","dc929ced":"code","68bae18d":"code","49b91edd":"code","6649e77b":"code","ceacd325":"code","3761bd00":"code","68f712d9":"code","ed28283f":"code","53832126":"code","45449a83":"code","f926545d":"code","4f8f4b02":"code","6f119cbc":"code","5ec87448":"code","2357f2a5":"code","c09f3dbf":"code","cdb16f2d":"code","c24e3ceb":"code","926f2f2e":"code","695d3a04":"code","6308c658":"code","11e2740c":"code","38388a12":"code","841092a8":"code","26bf298d":"code","5e6637b1":"code","74135a40":"code","ad038399":"markdown","254055ac":"markdown","ef299e11":"markdown","62263768":"markdown","f62c8513":"markdown","26e23058":"markdown","70785b34":"markdown","9008f202":"markdown","9b680ae5":"markdown","0d0cb8c8":"markdown","7a62d7ef":"markdown","fdff7437":"markdown","643b7237":"markdown","4cbc09fa":"markdown","865603e5":"markdown","d190f917":"markdown","dfa9fc50":"markdown","83cd4113":"markdown","c0253ff6":"markdown","c92352c1":"markdown","29a0a598":"markdown","45799e4d":"markdown","06597e9d":"markdown","be8be42a":"markdown","eb4cb5ed":"markdown","30a8eee5":"markdown","ee56eaa7":"markdown","a48366f3":"markdown","c2bddb18":"markdown"},"source":{"1e0372f0":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline","593fc8b6":"import os","dc929ced":"files = [file for file in os.listdir('..\/input\/monthly-sales-2019')]\n\nfor file in files:\n    print(file)","68bae18d":"df = pd.DataFrame()\n\nfor file in files:\n    filedf =pd.read_csv('..\/input\/monthly-sales-2019\/'+file)\n    df = pd.concat([df,filedf])\n    \ndf.head()","49b91edd":"df.to_csv(\"all_months_data.csv\",index=False)","6649e77b":"all_data = pd.read_csv('all_months_data.csv')","ceacd325":"all_data.head()","3761bd00":"len(all_data)","68f712d9":"all_data.isnull().sum()","ed28283f":"all_data = all_data.dropna(how='any')\nall_data.head()","53832126":"all_data = all_data[all_data['Order Date'].str[0:2] != 'Or']\nall_data.head()","45449a83":"all_data['Month'] = all_data['Order Date'].str[0:2]\nall_data['Month'] = all_data['Month'].astype('int32')","f926545d":"all_data['Quantity Ordered'] = pd.to_numeric(all_data['Quantity Ordered'])\nall_data['Price Each'] = pd.to_numeric(all_data['Price Each'])\nall_data['Order Date'] = pd.to_datetime(all_data['Order Date'])","4f8f4b02":"all_data.head()","6f119cbc":"all_data['Hour'] = all_data['Order Date'].dt.hour","5ec87448":"def get_city(address):\n    return address.split(',')[1]\ndef get_state(address):\n    return address.split(',')[2].split(' ')[1]\n\nall_data['City'] = all_data['Purchase Address'].apply(lambda x:get_city(x)+' ('+get_state(x)+')')\nall_data.head()","2357f2a5":"all_data['Sales'] = all_data['Quantity Ordered']*all_data['Price Each']\nall_data.head()","c09f3dbf":"months = range(1,13)\n\nbymonth = all_data.groupby('Month').sum()\n\nplt.bar(months,bymonth['Sales'])\nplt.xticks(months)\nplt.ylabel('Sales in $')\nplt.xlabel('Month number')\nplt.show()","cdb16f2d":"all_data['Hour'] = all_data['Order Date'].dt.hour\nall_data['Minute'] = all_data['Order Date'].dt.hour","c24e3ceb":"all_data.head()","926f2f2e":"hours = [hour for hour, df in all_data.groupby('Hour')]\nplt.plot(hours, all_data.groupby(['Hour']).count())\nplt.xticks(hours)\nplt.xlabel('time (hour)')\nplt.ylabel('Number of orders')\nplt.grid()\nplt.show()","695d3a04":"citysales =all_data[['City','Sales']]","6308c658":"results = all_data.groupby('City').sum()","11e2740c":"cities = [city for city, df in all_data.groupby('City')]\n\nplt.bar(cities, results['Sales'],width =0.7)\nplt.xticks(cities,rotation='vertical')\nplt.xlabel('Cities')\nplt.ylabel('Total Sales $')\nplt.show()","38388a12":"product_group = all_data.groupby('Product')\n\nquantity_ordered = product_group.sum()['Quantity Ordered']\n\nproducts = [p for p, df in product_group]\n\nprices = all_data.groupby('Product').mean()['Price Each']","841092a8":"fig, ax1 = plt.subplots()\n\nax2 = ax1.twinx()\nax1.bar(products, quantity_ordered)\nax2.plot(products, prices, 'b-',color='red',markersize=10, linewidth=4, linestyle='dashed')\n\nax1.set_xlabel('Product name')\nax1.set_ylabel('Quantity ordered',color='blue')\nax2.set_ylabel('Price ($)',color='red')\nax1.set_xticklabels(products, rotation = 'vertical',size=8)\n\nplt.show()\n","26bf298d":"df = all_data[all_data['Order ID'].duplicated(keep=False)]\ndf.head(5)","5e6637b1":"df['Grouped'] = df.groupby('Order ID')['Product'].transform(lambda x:','.join(x))","74135a40":"df['Grouped'].value_counts()","ad038399":"Now that the data is cleaned to a suitable format we can begin to perform exploratory data analysis. The aim of this analysis\nis to find the optimal conditions for an online ad campaign that will maximise sales revenue. The variables to optimise are:\n    - Month of advertisement\n    - Time of day of advertisement\n    - Area to target with the Ads\n    - Which products to advertise individually\n    - Which products to advertise as a bundle","254055ac":"####  Add a month column","ef299e11":"### Drop NaN rows","62263768":"#### Add an hour column","f62c8513":"#### Most popular city for ordering.","26e23058":"#### Most popular time of the day for ordering.","70785b34":"####  Remove the strings in the Order Date column","9008f202":"#### Most popular month for ordering.","9b680ae5":"### When to advertise to maximise sales","0d0cb8c8":"### Altering the columns","7a62d7ef":"#### Convert columns to the correct type","fdff7437":"In order to maximise sales, we can see that the most orders are placed at 12pm and 19pm. This is intuitive since most people will be on their lunch breaks at 12pm and also they will be home from daily tasks at 19pm. In order to maximise the effectiveness of ads, we should aim to display the ads between the hours 11am-1pm and 6pm to 8pm.","643b7237":"# Conclusions:\n - If the company is looking to optimise its sales by focusing on the best performing factors:\n    - The company should aim to target the majority of its ads to the consumer during peak hours (11am-1pm & 6pm-8pm).\n    - The company should ensure that a higher volume of ads are targeted at customers between peak hours in the day and certain months of the year.\n    - The company should ensure that they are weighting their ads according to the locations (cities) that produce the most orders.\n    - The company should focus the majority of the content of their Ads to the best selling items and bundles, namely phones and chargers.\n\n - If the company is looking to optimise its sales by improving the performance of other factors:\n    - The time of day that an ad should be aimed at the consumer remains unchanged, because the time at which a consumer decides to shop is out of the companies control. Nevertheless, the company could attempt to flatten the peak of the graph by targeting ads uniformly from 11am-7pm.\n    - The company should try to test different ad campaigns at points throughout the year that did not perform as well as christmas and April, in order to increase sales consistently throughout the year.\n    - The company should try to increase Ad volume in cities that are not performing as well as Austin, in order to diversify their sales revenue geographically and decrease the risk related to their income.","4cbc09fa":"# Data Exploration and visualization","865603e5":"We can see from the data below that Austin (TX) had the highest amount of sales during the year.","d190f917":"#### Most popular individual product.","dfa9fc50":"# Data Cleaning","83cd4113":"#### Add a city column","c0253ff6":"Below we can see that the best month for sales was December. This is an intuitive result because we would expect a larger sales volume in December due to the christmas holidays. ","c92352c1":"### Where to advertise to maximise sales","29a0a598":"#### Add a sales column","45799e4d":"### Which products to advertise to maximise sales.","06597e9d":"#### Merge the 12 months of sales data into a single CSV file","be8be42a":"Since the number of rows containing empty values accumulate less than 1% of the total rows, we can just remove them without affecting the overall analysis.","eb4cb5ed":"# E-commerce data\n Analysing dummy data for an ecommerce company, I will use Python\/Pandas to analyse the data with the goal of optimising sales revenue.\nThe aim of this analysis\nis to find the optimal conditions for an online ad campaign that will maximise sales revenue. The variables to optimise are:\n    - Month of advertisement\n    - Time of day of advertisement\n    - Area to target with the Ads\n    - Which products to advertise individually\n    - Which products to advertise as a bundle","30a8eee5":"#### Most popular bundle of products.","ee56eaa7":"#### Import necessary libraries","a48366f3":"Looking at the most popular product on an individual basis, we can see that the AAA batteries sold in the highest quantities. This makes sense because they are one of the cheapest items.","c2bddb18":"When considering the bundling of products ordered, we can see below that the most popular bundles are the 'iPhone,Lightning Charging Cable' and the 'Google Phone,USB-C Charging Cable' bundles. "}}