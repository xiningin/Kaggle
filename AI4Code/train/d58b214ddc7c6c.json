{"cell_type":{"a13ed403":"code","963ef295":"code","b26095dd":"code","8f461cb8":"code","28ab032b":"code","97782c40":"code","2c6707d0":"code","b57551ed":"code","73089659":"code","82f6310e":"code","06c41279":"code","9850f4d1":"code","2970e2c1":"code","47311c06":"code","4dbc9793":"code","01995dea":"code","f027e2e6":"code","54c70b3a":"code","b7e69e1c":"code","4854ebfd":"code","86afeffe":"code","b9dfa2fb":"code","ca5a51ee":"code","bb36b42c":"code","e90f7755":"code","4deec7c4":"markdown","5dc9e6b4":"markdown","8c603fe0":"markdown","df0d0e60":"markdown","22103d03":"markdown","0751ce77":"markdown","20467839":"markdown","226575e6":"markdown","41f4704a":"markdown","bde75bff":"markdown","8a434cb3":"markdown","b7316725":"markdown","d99e009a":"markdown","762c00b2":"markdown"},"source":{"a13ed403":"import pandas as pd\nimport numpy as np\nimport matplotlib.pylab as plt\n%matplotlib inline\npd.set_option('display.max_rows', 500)\npd.get_option(\"display.max_columns\",500)","963ef295":"folder_path = '..\/input\/'\ntrain_identity = pd.read_csv(f'{folder_path}train_identity.csv')\ntrain_transaction = pd.read_csv(f'{folder_path}train_transaction.csv')\n\n\ndf = pd.merge(train_transaction, train_identity, on='TransactionID', how='left')","b26095dd":"df.corr().head()","8f461cb8":"cor = df.corr()","28ab032b":"cor_use = cor[cor>0.8]","97782c40":"for i in range(cor_use.shape[0]):\n    cor_use.iloc[i,i] = np.nan","2c6707d0":"cor_use.head()","b57551ed":"corr_use = cor_use[cor_use>0.7].dropna(how='all').dropna(how='all',axis=1)","73089659":"corr_use.shape","82f6310e":"df.loc[:,[\"V319\",\"V320\",\"V321\"]].corr()","06c41279":"df.loc[:,['V319','V320','V321']].head(30)","9850f4d1":"df[\"diff_V319_V320\"] = np.zeros(df.shape[0])\ndf[\"diff_V320_V321\"] = np.zeros(df.shape[0])\ndf[\"diff_V319_V321\"] = np.zeros(df.shape[0])","2970e2c1":"len(df[(df[\"V319\"]!=df[\"V320\"])])\/df.shape[0]","47311c06":"df.loc[df[\"V319\"]!=df[\"V320\"],\"diff_V319_V320\"] = 1","4dbc9793":"df[(df[\"V319\"]!=df[\"V320\"])].head()","01995dea":"df.groupby(\"diff_V319_V320\").mean().isFraud","f027e2e6":"df.groupby(\"diff_V319_V320\").mean().isFraud.plot()","54c70b3a":"len(df[(df[\"V320\"]!=df[\"V321\"])])\/df.shape[0]","b7e69e1c":"df.loc[df[\"V321\"]!=df[\"V320\"],\"diff_V320_V321\"] = 1","4854ebfd":"df[(df[\"V321\"]!=df[\"V320\"])].head()","86afeffe":"df.groupby(\"diff_V320_V321\").mean().isFraud","b9dfa2fb":"len(df[(df[\"V319\"]!=df[\"V321\"])])\/df.shape[0]","ca5a51ee":"df.loc[df[\"V321\"]!=df[\"V319\"],\"diff_V319_V321\"] = 1","bb36b42c":"df[(df[\"V321\"]!=df[\"V320\"])].head()","e90f7755":"df.groupby(\"diff_V320_V321\").mean().isFraud","4deec7c4":"Some people think the gap is little, others think not.\n\nIf you interested in it, please use for your model and judge wheter these columns are useful for your model.","5dc9e6b4":"The similar result is gotten.\n\nHowever, the gap is smaller.","8c603fe0":"# Introduction\nA lot of people found that there is a lot of similar columns in this dataset.\n\nhttps:\/\/www.kaggle.com\/c\/ieee-fraud-detection\/discussion\/100197#latest-593070\n\nIn this disucussion, that is discussed. \n\nV319-V321 is also good example of them.\n\nHow should we \"use\" it?\n\nMost people throw away the data, but I think that I can get useful information from it.\n\n\n\n*Attention\n\n*I'm a data science \"novice\" which stated a few days ago.\n\n*I wish that you kindly check and say to fix my kernel.","df0d0e60":"We find that transaction which has different V319-V320 is doubtful.\n\nIf you think this column is useful, please use it instead of delete the V319,V320 columns.","22103d03":"# Look the data","0751ce77":"# V319-321","20467839":"We can find that \"V319\"-\"V321\" are also very similar.\n\nThis time, I want to check them.","226575e6":"**They are very similar to each other.**","41f4704a":"We can find that part of data have different values.","bde75bff":"# V320 - V321","8a434cb3":"# V319 - V320","b7316725":"# V319 - V321","d99e009a":"# Conclusion","762c00b2":"Threre a lot of similar columns."}}