{"cell_type":{"5f3b738d":"code","709315eb":"code","9695a97c":"code","f1e1c962":"code","47f2d449":"code","046b3e91":"code","0acca7bb":"code","b1c2a5c0":"code","8eeb6614":"code","beccb6cb":"code","73caaf05":"code","43294fe9":"code","52482568":"code","6e4d28c9":"code","95286155":"code","b702f52d":"code","8bf44b30":"code","e1e79362":"code","423f6a4b":"code","27bdab75":"code","30f1c5b4":"code","2d70b5d9":"code","6dd39ed6":"code","d53f6dbe":"code","91a94129":"code","1c15372e":"code","39aa8165":"markdown","79f46641":"markdown","6535e7cd":"markdown","d3d08add":"markdown","bbb82a3a":"markdown","ddf35eb2":"markdown","e46d278e":"markdown","70beb803":"markdown","b71dde2c":"markdown","8845fa09":"markdown","dad5b060":"markdown","138f3924":"markdown","706e9bb4":"markdown","b5b391dd":"markdown","88533adc":"markdown","55fe5486":"markdown","481351cc":"markdown","84161863":"markdown","159cec4c":"markdown","68869e7c":"markdown","681ca56b":"markdown","392b45fb":"markdown","4d326974":"markdown","0081ac86":"markdown","aae057db":"markdown","64281dbc":"markdown","08251410":"markdown"},"source":{"5f3b738d":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport pandas as pd\npd.plotting.register_matplotlib_converters()\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nprint(\"Setup Complete\")\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\n#import os\n#for dirname, _, filenames in os.walk('\/kaggle\/input'):\n #   for filename in filenames:\n  #      print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","709315eb":"sf_Dataset = pd.read_csv('..\/input\/sf-library-usage-data\/Library_Usage.csv')\nsf_Dataset","9695a97c":"sf_Dataset.columns","f1e1c962":"new_sf_Dataset = sf_Dataset.sample(20000)\nnew_sf_Dataset","47f2d449":"# Bar chart showing average score for racing games by platform\nplt.figure(figsize=(16, 9))\n\nsns.barplot(y=new_sf_Dataset['Total Checkouts'], x=new_sf_Dataset['Age Range'])\n# Add label for horizontal axis\n#plt.xlabel(\"\")\n# Add label for vertical axis\nplt.title(\"Average Score for Age Range, by Total Checkouts\")","046b3e91":"# Bar chart showing average score for racing games by platform\nplt.figure(figsize=(16, 9))\nsns.barplot(y=new_sf_Dataset['Total Renewals'], x=new_sf_Dataset['Age Range'])\n# Add label for horizontal axis\n#plt.xlabel(\"\")\n# Add label for vertical axis\nplt.title(\"Average Score for Age Range, by Total Checkouts\")","0acca7bb":"# Bar chart showing average score for racing games by platform\nplt.figure(figsize=(20, 9))\nsns.barplot(x=new_sf_Dataset['Total Renewals'], y=new_sf_Dataset['Patron Type Definition'])\n# Add label for horizontal axis\n#plt.xlabel(\"\")\n# Add label for vertical axis\nplt.title(\"Average Score for Patron Type Definition, by Total Renewals\")","b1c2a5c0":"# Bar chart showing average score for racing games by platform\nplt.figure(figsize=(20, 9))\nsns.barplot(x=new_sf_Dataset['Total Checkouts'], y=new_sf_Dataset['Patron Type Definition'])\n# Add label for horizontal axis\n#plt.xlabel(\"\")\n# Add label for vertical axis\nplt.title(\"Average Score for Patron Type Definition, by Total Renewals\")","8eeb6614":"new_sf_Dataset","beccb6cb":"#new_sf_Dataset = new_sf_Dataset.dropna() \ndf = new_sf_Dataset[['Year Patron Registered','Total Checkouts','Total Renewals']]\n#df \/\/\/ values='Year Patron Registered'\n\nddf = df.set_index(['Year Patron Registered'])\nplt.figure(figsize=(16,9))\nsns.lineplot(data=ddf)","73caaf05":"drop_None_Value = new_sf_Dataset.drop(index=new_sf_Dataset[new_sf_Dataset['Circulation Active Year'] == 'None'].index)\nnew_sf_Dataset = drop_None_Value\n\ndf = new_sf_Dataset[['Circulation Active Year','Total Checkouts','Total Renewals']]\n#df \/\/ values='Year Patron Registered'\nddf = df.set_index(['Circulation Active Year'])\nplt.figure(figsize=(16,9))\nsns.lineplot(data=ddf)","43294fe9":"#lis = new_sf_Dataset['Circulation Active Year']\n#for i in lis:\n#    print(i)\n#new_sf_Dataset['Circulation Active Year'] = new_sf_Dataset[\"Circulation Active Year\"].astype(str).astype(int)\n#new_sf_Dataset['Year Patron Registered']","52482568":"#new_sf_Dataset.columns\nnew_sf_Dataset","6e4d28c9":"#sns.lmplot(x=\"Total Checkouts\", y=\"Total Renewals\", hue=\"Outside of County\", data=new_sf_Dataset)\nsns.regplot(x=new_sf_Dataset['Total Checkouts'], y=new_sf_Dataset['Total Renewals'])","95286155":"new_sf_Dataset","b702f52d":"plt.figure(figsize=(16, 9))\n\nsns.barplot(x=new_sf_Dataset['Circulation Active Month'], y=new_sf_Dataset['Total Checkouts'])","8bf44b30":"plt.figure(figsize=(16, 9))\n\nsns.barplot(x=new_sf_Dataset['Circulation Active Month'], y=new_sf_Dataset['Total Renewals'])","e1e79362":"##new_sf_Dataset.index.name= 'id'\nnew_sf_Dataset.columns","423f6a4b":"#new_sf_Dataset['Circulation Active Year'] = new_sf_Dataset['Circulation Active Year'].astype(str).astype(int)\n#sns.lmplot(x='Circulation Active Year', y=\"Total Renewals\", hue=\"Outside of County\",data=new_sf_Dataset)\ntest_df = new_sf_Dataset.sample(2000)\nsns.swarmplot(x='Outside of County',y='Total Checkouts',data=test_df)\n\n","27bdab75":"test_df = new_sf_Dataset.sample(2000)\nsns.swarmplot(x='Outside of County',y='Total Renewals',data=test_df)","30f1c5b4":"new_sf_Dataset","2d70b5d9":"df = new_sf_Dataset[['Patron Type Definition','Total Checkouts','Age Range']]\n\nheatmap_Data = pd.pivot_table(df, values='Total Checkouts', index=['Patron Type Definition'],columns=['Age Range'])\nplt.figure(figsize=(16,9))\nsns.heatmap(data=heatmap_Data, annot=True)","6dd39ed6":"new_sf_Dataset","d53f6dbe":"df = new_sf_Dataset[['Patron Type Definition','Total Checkouts','Circulation Active Month']]\n\nheatmap_Data = pd.pivot_table(df, values='Total Checkouts', index=['Patron Type Definition'],columns=['Circulation Active Month'])\nplt.figure(figsize=(16,9))\nsns.heatmap(data=heatmap_Data, annot=True)","91a94129":"#Outside of County\n#sns.lmplot(x=\"Age Range\", y=\"Provided Email Address\", hue=\"Outside of County\", data=new_sf_Dataset)\n#sns.swarmplot(x=new_sf_Dataset['Outside of County'],y=new_sf_Dataset['Provided Email Address'])\n","1c15372e":"#df = new_sf_Dataset[['Year Patron Registered','Total Checkouts','Total Renewals']]\n\n#df\n#heatmap_Data = pd.pivot_table(df, values='Year Patron Registered', index=['Total Checkouts'], \n                             # columns='Total Renewals')\n\n#plt.figure(figsize=(16,9))\n\n#Heatmap showing average arrival delay for each airline by month\n#sns.heatmap(data=heatmap_Data, annot=True)\n","39aa8165":"# *Note_2:\n## Using Barplot on ['Total Renewals' and 'Age Range']","79f46641":"# *Note_3\n## The highest results for the Total Renewals for 'staff', 'Retired staff, And The lowest results are for Welcome, Digital Access Card, At User Juvenile, At User Welcome.","6535e7cd":"# - Test Value in new_sf_Dataset['Circulation Active Year']","d3d08add":"# Read sf-library Dataset...and Review the data\n","bbb82a3a":"# *Note_11\n","ddf35eb2":"# *Note_7\n## - To confirm the above, there is a direct relationship between 'Total Checkouts' and 'Total Renewals'.","e46d278e":"# *Note_12","70beb803":"# *Note_3:\n","b71dde2c":"# *Note_5:","8845fa09":"# *Note_5\n## ON > \"Year Patron Registered\"\n## 1- The value of total checkouts has been declining significantly over the years, having been at its highest in 2013 and 2015 and being the lowest in value by 2016.\n## 2- The value of Total Renewals has been declining significantly over the years, having been at its highest in 2013 and being the lowest in value by 2016.\n## 3- There is also a relationship between 'Total Checkouts' and 'Total Renewals' where the lower the value of checkouts, the lower the value of renewals in the same time period.\n","dad5b060":"# *Note_4:","138f3924":"# *Note_1:\n## Using Barplot on ['Total Checkouts' and 'Age Range']","706e9bb4":"# *Note_10\n## Rename index from None to id","b5b391dd":"# *Note_12\n## THE BEST VALUE FOR 'TOTAL CHECKOUTS' WAS IN July WHEN PATRON TYPE DEFINITION = STAFF.","88533adc":"# *Note_2(Total Renewals & Age Range):\n## According to the chart, the higher the average age, the greater the value of Total Renewals, and the high value of the increase in the age range between 65 and 74, And less Total Renewals between the Age range between 25 to 34.","55fe5486":"# *Note_9\n## July is the highest value in 'Total Renewals' and October is the lowest month.","481351cc":"# *Note_6\n## ON > \"Circulation Active Year\"\n\n## 1- Total Checkouts value is increasing significantly from year to year and the highest value was in 2016.\n## 2- Total Renewals value is increasing significantly from year to year and the highest value was in 2016.\n## 3- There is a clear relationship between 'Total Checkouts' and 'Total Renewals' as the more 'Total Checkouts' in return, the higher the total renewals.","84161863":"# I will reduce the number of rows from 423K to 20K.","159cec4c":"# *Note_6","68869e7c":"# *Note_8\n## July is the highest value in 'Total Checkouts' and September is the lowest month.","681ca56b":"# *Note_11\n## The highest value of Total Checkouts is in the age period 75 years and over when patron Type Definition = RETIRED STAFF.","392b45fb":"# *Note_4\n## The highest results for the Total Checkouts for 'staff', 'Retired staff, And The lowest results are for Welcome, Digital Access Card, At User Juvenile, At User Welcome.","4d326974":"# *Note_9","0081ac86":"# *Note_10\n## Part 1 - The highest values of Total Checkouts are for people within the country.\n## Part 2 - The highest values of Total Renewals are for people within the country.\n","aae057db":"# *Note_1:\n## According to the chart, the higher the average age, the greater the value of Total Checkouts, and the high value of the increase in the age range between 65 and 75, And less Total Checkouts between the Age range between 25 to 34****.","64281dbc":"# *Note_8","08251410":"# show all columns"}}