{"cell_type":{"b8bc9dc8":"code","f32d08b5":"code","71735031":"code","3846609d":"code","e571b424":"code","1fc6eda1":"code","9f6126fd":"code","2baba067":"code","31a1fdd6":"code","ab8b3618":"code","d841adab":"code","efb217b6":"code","02c6710e":"code","dc652827":"markdown","00ff42ab":"markdown","12ea9582":"markdown","ec0b76f5":"markdown","0c944308":"markdown","758d8474":"markdown","2ef43ea3":"markdown","1d7c0b41":"markdown","59fc24b1":"markdown","c8cbea57":"markdown","d26e7251":"markdown"},"source":{"b8bc9dc8":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\ndata = pd.read_csv('..\/input\/BlackFriday.csv')","f32d08b5":"print('Shape of dataframe--->',data.shape)\ndata.head(10)","71735031":"data.info()","3846609d":"print('Unique Values')\nprint('Product_Category_2--->',data['Product_Category_2'].unique())\nprint('Product_Category_3--->',data['Product_Category_3'].unique())","e571b424":"f,ax = plt.subplots(figsize=(9,6))\nax.set_title('Purchase amount distribution')\nsns.distplot(data['Purchase'],ax=ax)","1fc6eda1":"f, (ax1, ax2) = plt.subplots(1, 2,figsize=(19,6))\nax1.set_title('Purchase count in each age category')\norder= data.groupby('Age').count().sort_values(by='Purchase',ascending=False).index\nsns.countplot(x='Age', data=data ,ax=ax1,order=order)\n\nax2.set_title('Total sale in each age category')\ndf1 = data.groupby(['Age','Gender']).sum().sort_values(by='Purchase',ascending=False)\ndf1.reset_index(inplace=True)\nsns.barplot(x='Age', y= 'Purchase',data=df1,hue='Gender',ax=ax2)\nplt.legend()\n#ax2.scatter(x, y)","9f6126fd":"f,ax = plt.subplots(2,2,figsize = (20,16))\nax[0][0].set_title('Total product sale in each occupation category')\ndf2 = data.groupby(['Occupation','Gender']).sum().sort_values(by='Purchase',ascending=False)\norder = data.groupby('Occupation').sum().sort_values(by='Purchase',ascending=False).index\ndf2.reset_index(inplace=True)\n\nsns.barplot(y='Occupation', x= 'Purchase',orient='h',data=df2,hue='Gender',order=order,ax= ax[0][0])\n\nax[0][1].set_title('Average product sale in each occupation category')\ndf2 = data.groupby(['Occupation','Gender']).mean().sort_values(by='Purchase',ascending=False)\norder = data.groupby('Occupation').mean().sort_values(by='Purchase',ascending=False).index\ndf2.reset_index(inplace=True)\n\nsns.barplot(y='Occupation', x= 'Purchase',orient='h',data=df2,hue='Gender',order=order,ax = ax[0][1])\n\nax[1][0].set_title('Total product sale in each occupation category')\ndf2 = data.groupby(['Occupation','Marital_Status']).sum().sort_values(by='Purchase',ascending=False)\norder = data.groupby('Occupation').sum().sort_values(by='Purchase',ascending=False).index\ndf2.reset_index(inplace=True)\nsns.barplot(y='Occupation', x= 'Purchase',data=df2,orient='h',hue='Marital_Status',order=order,ax=ax[1][0])\n\nax[1][1].set_title('Average product sale in each occupation category')\ndf3 = data.groupby(['Occupation','Marital_Status']).mean().sort_values(by='Purchase',ascending=False)\norder1 = data.groupby('Occupation').mean().sort_values(by='Purchase',ascending=False).index\ndf3.reset_index(inplace=True)\nsns.barplot(y='Occupation', x= 'Purchase',data=df3,orient='h',hue='Marital_Status',order=order1,ax=ax[1][1])\n","2baba067":"f,axes = plt.subplots(1,2,figsize=(15,4))\n\naxes[0].set_title('Total product sale per gender category')\ndf1 = data.groupby(['Gender']).sum()\ndf1.reset_index(inplace=True)\nsns.barplot(x='Gender', y= 'Purchase',data=df1,ax=axes[0])\n\naxes[1].set_title('Average product sale per gender category')\ndf1 = data.groupby(['Gender']).mean()\ndf1.reset_index(inplace=True)\nsns.barplot(x='Gender', y= 'Purchase',data=df1,ax=axes[1])","31a1fdd6":"f,ax = plt.subplots(1,2,figsize=(19,6))\nax[0].set_title('Total product Sale across each product category')\ndf2 = data.groupby(['Product_Category_1']).sum().sort_values(by='Purchase',ascending=False)\norder = data.groupby('Product_Category_1').sum().sort_values(by='Purchase',ascending=False).index\ndf2.reset_index(inplace=True)\nsns.barplot(x='Product_Category_1', y= 'Purchase',data=df2,order=order,ax=ax[0])\n\nax[1].set_title('Average product Sale across each product category')\ndf2 = data.groupby(['Product_Category_1']).mean().sort_values(by='Purchase',ascending=False)\norder = data.groupby('Product_Category_1').mean().sort_values(by='Purchase',ascending=False).index\ndf2.reset_index(inplace=True)\nsns.barplot(x='Product_Category_1', y= 'Purchase',data=df2,order=order,ax=ax[1])\n\nf,ax = plt.subplots(figsize=(9,4))\nax.set_title('Frequency of products sold in each category')\norder = data.groupby(by='Product_Category_1').count().sort_values(by='Purchase',ascending=False).index\nsns.countplot('Product_Category_1',data=data,ax=ax,order=order)","ab8b3618":"f,ax = plt.subplots(1,2,figsize=(15,4))\nax[0].set_title('Total sale comparison across marital status category')\ndf2 = data.groupby(['Marital_Status']).sum()\norder = data.groupby('Marital_Status').sum().sort_values(by='Purchase',ascending=False).index\ndf2.reset_index(inplace=True)\nsns.barplot(x='Marital_Status', y= 'Purchase',data=df2,order=order,ax=ax[0])\n\nax[1].set_title('Total sale comparison across different age category')\ndf2 = data.groupby(['Age']).sum()\norder = data.groupby('Age').sum().sort_values(by='Purchase',ascending=False).index\ndf2.reset_index(inplace=True)\nsns.barplot(x='Age', y= 'Purchase',data=df2,order=order,ax=ax[1])\n\nf,ax = plt.subplots(1,2,figsize=(20,4))\nax[0].set_title('Total sale comparison across different age groups')\ndf2 = data.groupby(['Age','Marital_Status']).sum()\norder = data.groupby('Age').sum().sort_values(by='Purchase',ascending=False).index\ndf2.reset_index(inplace=True)\nsns.barplot(x='Age', y= 'Purchase',hue='Marital_Status',data=df2,order=order,ax=ax[0])\n\nax[1].set_title('Category wise Top 2 Age groups with maximum sale')\ndf1 = data.groupby(['Product_Category_1','Age']).sum().sort_values(by='Purchase',ascending=False)\ndf1.reset_index(inplace=True)\ndf2 = df1.groupby('Product_Category_1').head(2)\norder = data.groupby(['Product_Category_1']).sum().sort_values(by='Purchase',ascending=False).index\nsns.barplot(x = 'Product_Category_1',y='Purchase',order=order,data=df2,hue='Age',ax=ax[1])","d841adab":"df2 = data.groupby(['Product_Category_1','Gender']).sum().sort_values(by='Purchase',ascending=False)\norder = data.groupby('Product_Category_1').sum().sort_values(by='Purchase',ascending=False).index\ndf2.reset_index(inplace=True)\nf,ax = plt.subplots(figsize=(9,6))\nax.set_title('Gender wise sale in each category')\nsns.barplot(x='Product_Category_1', y= 'Purchase',data=df2,hue='Gender',order=order)","efb217b6":"f,ax = plt.subplots(1,2,figsize=(15,4))\nax[0].set_title('Average sale comparison across different city categories')\ndf2 = data.groupby(['City_Category']).mean()\norder = data.groupby('City_Category').mean().sort_values(by='Purchase',ascending=False).index\ndf2.reset_index(inplace=True)\nsns.barplot(x='City_Category', y= 'Purchase',data=df2,order=order,ax=ax[0])\n\nax[1].set_title('Total sale comparison across different city categories')\ndf2 = data.groupby(['City_Category']).sum()\norder = data.groupby('City_Category').sum().sort_values(by='Purchase',ascending=False).index\ndf2.reset_index(inplace=True)\nsns.barplot(x='City_Category', y= 'Purchase',data=df2,order=order,ax=ax[1])\n\nf,ax = plt.subplots(1,2,figsize=(22,6))\ndf2 = data.groupby(['Product_Category_1','City_Category']).sum().sort_values(by='Purchase',ascending=False)\norder = data.groupby('Product_Category_1').sum().sort_values(by='Purchase',ascending=False).index\ndf2.reset_index(inplace=True)\nax[0].set_title('Total Sale across different city categories for each product category')\nsns.barplot(x='Product_Category_1', y= 'Purchase',hue='City_Category',data=df2,order=order,ax=ax[0])\n\ndf2 = data.groupby(['Product_Category_1','City_Category']).mean()\norder = data.groupby('Product_Category_1').mean().sort_values(by='Purchase',ascending=False).index\ndf2.reset_index(inplace=True)\nax[1].set_title('City Category wise Average revenue for each product category')\nsns.barplot(x='Product_Category_1', y= 'Purchase',hue='City_Category',data=df2,order=order,ax=ax[1])","02c6710e":"f,ax= plt.subplots(1,2,figsize=(20,6))\nax[0].set_title('Total Sale across residents with varying years of stay')\ndf1 = data.groupby(['Stay_In_Current_City_Years']).sum()\norder = data.groupby('Stay_In_Current_City_Years').sum().sort_values(by='Purchase',ascending=False).index\ndf1.reset_index(inplace=True)\nsns.barplot(x='Stay_In_Current_City_Years', y= 'Purchase',data=df1,order=order,ax=ax[0])\n\nax[1].set_title('Length of residency in the city affecting sale')\ndf1 = data.groupby(['Product_Category_1','Stay_In_Current_City_Years']).sum().sort_values(by='Purchase',ascending=False)\ndf1.reset_index(inplace=True)\ndf2 = df1.groupby('Product_Category_1').head(2)\norder = data.groupby(['Product_Category_1']).sum().sort_values(by='Purchase',ascending=False).index\nsns.barplot(x = 'Product_Category_1',y='Purchase',order=order,data=df2,hue='Stay_In_Current_City_Years',ax=ax[1])","dc652827":"Residents with 1 year of stay in city contribute most to the sale followed by residents with 2 years of stay. This is true across most products categories as well.","00ff42ab":"Unmarried customers in the 26-35 age group contribute most to the overall total product sale.","12ea9582":"Importing Data to a pandas dataframe","ec0b76f5":"Unmarried male customers contribute most to the product sale across differnt occupations.\nCustomers from Occupation category 4 contribute most to the overall total product sale however those from occupation category 17 contributes most on average. ","0c944308":"Customers from B category city contribute most to the overall total sale while customers from C category city slightly leads with respect to the average sale of products.","758d8474":"Before carrying out EDA on the dataset lets take a glimpse on the first 10 rows of the dataset.","2ef43ea3":"Products from category 1 contributes most to the overall total product sale while those from category 10 leads with the maximum average product sale.\nProducts from product category 5 belong to the most frequently sold products. ","1d7c0b41":"Lets explore the dataset to see the factors affecting the sale of products and understand customer purchase behaviour","59fc24b1":"Sale in the 5000 to 10000 dollars amount range are more frequent than others.","c8cbea57":"Looks like there are missing values in 2 columns","d26e7251":"Unmarried male customers in the 26-35 age group contribute most to the overall total product sale."}}