{"cell_type":{"e8bb0fae":"code","24baa62c":"code","7e6eaafc":"code","9b8fcec2":"code","5a3e1a15":"code","521b888e":"code","20d229da":"code","faee91a9":"code","b33c99a3":"code","f51c9291":"code","4cc0dcc8":"code","cf98fe73":"code","6cf61d66":"code","6e66a168":"code","114f4efe":"code","bcf45c9e":"code","c9754bb3":"code","70c711d3":"code","bc8a458a":"code","2963725a":"code","a4663769":"code","267cb57d":"code","23f97eec":"code","abcc3ec2":"code","1c6e0787":"code","9c51afe5":"code","4c1c82f8":"code","686a41a1":"code","a4b88137":"code","1fd5343c":"code","a8c758b3":"code","3c90d99b":"code","1d792c53":"code","2acec1c1":"markdown","7d1f23e7":"markdown","3324e033":"markdown","13f06470":"markdown","53d19f9f":"markdown","0bb732e7":"markdown","fcc79beb":"markdown","18b53118":"markdown","f364277c":"markdown","155b0474":"markdown","12b610a5":"markdown","81593eee":"markdown","8b0c2f28":"markdown","d2c1291b":"markdown","59be9820":"markdown","05ddd2bb":"markdown","800bb25b":"markdown","af7ddb9c":"markdown","3b8a811b":"markdown","ffed8b23":"markdown","01e1fdeb":"markdown","5208b294":"markdown","05be878c":"markdown","72f45305":"markdown","3654eb39":"markdown","63e771fd":"markdown","3cdc1451":"markdown","8c8fcfc0":"markdown","5c4dfd85":"markdown","f0187d0d":"markdown","6bbd1bda":"markdown","e246e2f7":"markdown","40e7fc9a":"markdown","62d0f187":"markdown","00379194":"markdown","0ba69601":"markdown","d6c6fdd3":"markdown","aaca73d3":"markdown","1752bda1":"markdown","4a44ae1a":"markdown","4520fab1":"markdown","543b3cc3":"markdown","14d8a64b":"markdown","5f649de8":"markdown","6374eeb1":"markdown","3064fbea":"markdown","07f1c42c":"markdown","9b395e50":"markdown","8ed39f5b":"markdown","dc25ca3e":"markdown","f952e611":"markdown","aab310d7":"markdown","5a948da7":"markdown","a96f52c5":"markdown","e29d0a89":"markdown","133d4882":"markdown","b963ccc7":"markdown","d13c329c":"markdown"},"source":{"e8bb0fae":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport missingno as msno\n\n\nimport os","24baa62c":"# Carga os dados\ndf = pd.read_csv('..\/input\/concedidos-2018-12\/concedidos201812.csv', encoding='latin', sep=';', header=0)","7e6eaafc":"### Corre\u00e7\u00e3o dos dados gerais: espa\u00e7o, troca de ponto por virgula e convers\u00e3o de textos para NULL\ndf['Compet\u00eancia concess\u00e3o'] = df['Compet\u00eancia concess\u00e3o'].astype(str)\ndf['Qt SM RMI']             = df['Qt SM RMI'].str.replace(',','.')\ndf['Qt SM RMI']             = df['Qt SM RMI'].apply(lambda x: float(x))\ndf['UF']                    = df['UF'].apply(lambda x: x.strip())\ndf['Esp\u00e9cie']               = df['Esp\u00e9cie'].apply(lambda x: x.strip())\ndf['CID']                   = df['CID'].apply(lambda x: x.strip())\ndf['CID']                   = df['CID'].apply(lambda x: x.split()[0] if x!='Em Branco' and x!='{\u00f1 class}' and x!='Zerados' else None)\ndf['Forma Filia\u00e7\u00e3o']        = df['Forma Filia\u00e7\u00e3o'].apply(lambda x: x.strip())\ndf['V\u00ednculo dependentes']   = df['V\u00ednculo dependentes'].apply(lambda x: x.strip())\ndf['V\u00ednculo dependentes']   = df['V\u00ednculo dependentes'].apply(lambda x: x if x!='N\u00e3o Informado'and x!= '{\u00f1 class}' else None)\ndf['Clientela']             = df['Clientela'].apply(lambda x: x.strip())","9b8fcec2":"### Corre\u00e7\u00e3o da coluna municipios\ndf['Mun Resid'] = df['Mun Resid'].apply(lambda x: x.strip())\ndf['Mun Resid'] = df['Mun Resid'].apply(lambda x: '00000-XX' if x == '{\u00f1 class}' or x == '00000-Zerada' else x)\ndf['Mun Resid'] = df['Mun Resid'].apply(lambda x: x[0:8])\n\n### Mesmo com as corre\u00e7\u00f5es acima, o Registro 173494 encontra-se com um tra\u00e7o a menos. Dessa forma, segue corre\u00e7\u00e3o:\n#df['Mun Resid'].iloc[173494] = \"16224-PI\"\ndf.at[173494,'Mun Resid'] = \"16224-PI\"\n\n### Criando as colunas codigo municipio e sigla municipio\ndf['CodMuni']    = df['Mun Resid'].apply(lambda x: x.split('-')[0])\ndf['SiglaUF']    = df['Mun Resid'].apply(lambda x: x.split('-')[1])\n\n### Convertendo os valores n\u00e3o encontrados para Null\ndf['Mun Resid'] = df['Mun Resid'].apply(lambda x: None if x == '00000-XX' else x)\ndf['CodMuni']   = df['CodMuni'].apply(lambda x: None if x == '00000' else x)\ndf['SiglaUF']   = df['SiglaUF'].apply(lambda x: None if x == 'XX' else x)","5a3e1a15":"### Corre\u00e7\u00e3o da coluna Dt nascimento e criar a coluna idade\ndf['Dt Nascimento'] =  pd.to_datetime(df['Dt Nascimento'],format='%d\/%m\/%Y')\ndataIdade =  pd.to_datetime('31\/12\/2018', format='%d\/%m\/%Y')\ndf['idade'] = df['Dt Nascimento'].apply(lambda x: dataIdade.year - x.year)","521b888e":"### Criando colunas novas\ndf['CID letra']  = df['CID'].apply(lambda x: x[0:1] if x!= None else x)\ndf['CID titulo'] = df['CID'].apply(lambda x: x[0:3] if x!= None else x)\n","20d229da":"### Observando as linhas iniciais do banco de dados\ndf.head(5)","faee91a9":"### Observando quais vari\u00e1veis possuem None\nmsno.matrix(df,figsize=(12,5))","b33c99a3":"print(df.info())\nnameCol = df.columns\nfor i in nameCol:\n    print(i,\"\\n  \",df[i].unique())","f51c9291":"df.groupby('Esp\u00e9cie')['Esp\u00e9cie'].count().to_frame()","4cc0dcc8":"plt.figure(figsize=(17,12))\ndf.groupby('Esp\u00e9cie')['Esp\u00e9cie'].count().plot.barh()","cf98fe73":"df.groupby('Despacho')['Despacho'].count().to_frame()","6cf61d66":"# Quantidade de concess\u00e3o por Despacho\nplt.figure(figsize=(17,10))\ndf.groupby('Despacho')['Despacho'].count().plot.barh()","6e66a168":"df.groupby('Clientela')['Clientela'].count().to_frame()","114f4efe":"plt.figure(figsize=(17,8))\ndf.groupby('Clientela')['Clientela'].count().plot.pie()","bcf45c9e":"df.groupby('V\u00ednculo dependentes')['V\u00ednculo dependentes'].count().to_frame()","c9754bb3":"plt.figure(figsize=(17,8))\ndf.groupby('V\u00ednculo dependentes')['V\u00ednculo dependentes'].count().plot.barh()","70c711d3":"df.groupby('Forma Filia\u00e7\u00e3o')['Forma Filia\u00e7\u00e3o'].count().to_frame()","bc8a458a":"plt.figure(figsize=(17,8))\ndf.groupby('Forma Filia\u00e7\u00e3o')['Forma Filia\u00e7\u00e3o'].count().plot.barh()","2963725a":"df.groupby('UF')['UF'].count().to_frame()","a4663769":"plt.figure(figsize=(17,12))\ndf.groupby('UF')['UF'].count().plot.barh()","267cb57d":"df.groupby('CID letra')['CID letra'].count().to_frame()","23f97eec":"plt.figure(figsize=(17,12))\ndf.groupby('CID letra')['CID letra'].count().plot.barh()","abcc3ec2":"df.describe()","1c6e0787":"### por possuir outlier, o hisograma a segir foi construido para a variavel RMI < 10\nplt.figure(figsize=(17,8))\nplt.hist(df[df['Qt SM RMI']<10]['Qt SM RMI'])","9c51afe5":"plt.figure(figsize=(17,8))\nsns.distplot(df['idade'])","4c1c82f8":"plt.figure(figsize=(17,8))\nsns.boxplot(data=df,x=\"idade\",orient=\"h\")","686a41a1":"plt.figure(figsize=(25,15))\nsns.boxplot(df['UF'],df['Qt SM RMI'])\nplt.xticks(rotation=90)","a4b88137":"plt.figure(figsize=(25,15))\ndf_slice = df[df['Qt SM RMI']<5]\nsns.boxplot(df_slice['UF'],df_slice['Qt SM RMI'])\nplt.xticks(rotation=90)","1fd5343c":"### Tabela em percentual\npd.crosstab(df['CID letra'], df['SiglaUF']).apply(lambda r: round(r\/r.sum()*100,2), axis=0)","a8c758b3":"df.groupby('Esp\u00e9cie')['idade'].mean().to_frame()","3c90d99b":"plt.figure(figsize=(25,15))\ndf.plot.scatter(x='idade',y='Qt SM RMI')","1d792c53":"# Salvar o novo banco de dados\ndf.to_csv(\"concediddos201812_c.csv\")","2acec1c1":"Obsevando o boxplot para a mesma vari\u00e1vel, observa-se algumas avalia\u00e7\u00f5e acima do limite superior, neste caso, tais observa\u00e7\u00f5es s\u00e3o outliers.","7d1f23e7":"### 06.1 Gr\u00e1fico Boxplot para valor do RMI por estado","3324e033":"### 05.3.2 Gr\u00e1fico - Quantidade de concess\u00e3o por clientela","13f06470":"Entre as varav\u00e9is contidas no banco de dados, as que possuem maior grau de valores preenchidos, ou seja, possuem poucos dados perdidos s\u00e3o:\n- Compet\u00eancia , Esp\u00e9cie, Despacho, Data de nascimento, forma de filia\u00e7\u00e3o, UF, Qtde SM RMI e idade.\n\nAs vari\u00e1veis que apresentaram baixo grau de preenchimento s\u00e3o:\n- Vinculo dependete e CID.\n\nIsso se deve ao fato de nem todas as esp\u00e9cies de benef\u00edcios possuem uma doen\u00e7a vinculada. E nem todas as espec\u00edes de benef\u00edcios possuem dependete.","53d19f9f":"A tabela cruzada acima apresenta o percental de CID, por letra, em rela\u00e7\u00e3o ao estado. Neste caso a soma da coluna \u00e9 igual a 100%. Observa-se que em apenas algusn estados o CID M foi superior ao CID S, esses s\u00e3o Maranh\u00e3o e Piau\u00ed.","0bb732e7":"### 05.7.1 Gr\u00e1fico - Quantidade de concess\u00e3o por letra CID","fcc79beb":"## 04.1 Identificando os n\u00edveis das vari\u00e1veis","18b53118":"Mais de 75% dos benef\u00edcios cncedidos s\u00e3o para clientela urbana.","f364277c":"### 05.8.2 Histograma para RMI","155b0474":"## 05.2 Despacho","12b610a5":"### Proposta de an\u00e1lise futura: \n- Analise referente aos maiores vamores de RMI;\n- Analise das capitais e interior\n- CID por t\u00edtulo\n- Correla\u00e7\u00e3o do RMI pela idade, no subnivel da vari\u00e1vel especie\n- Regress\u00e3o","81593eee":"### 05.2.1 Tabela - Quantidade de concess\u00e3o por despacho","8b0c2f28":"### 06.3 M\u00e9dia de idade por beneficio","d2c1291b":"Conforme j\u00e1 observado, h\u00e1 alguns outliers que faz com que a analise da vari\u00e1vel salario RMI , dessa forma, a an\u00e1lise a seguir ser\u00e1 realizada com os valores de RMI < 5.","59be9820":"### 05.8.1 Resumo das vari\u00e1veis ","05ddd2bb":"Entre os tipos de despachos dos benef\u00edcios concedidos o que apresentou maior n\u00famero \u00e9 o despacho normal. Pela vari\u00e1vel original n\u00e3o possuir tamanho de campo adequado, n\u00e3o \u00e9 poss\u00edvel compreender os outros tipo de de concess\u00e3o. ","800bb25b":"S\u00e3o Paulo \u00e9 o estado com maior n\u00famero de concess\u00f5es de benef\u00edcios. O segundo maior estado em rela\u00e7\u00e3o a concess\u00e3o \u00e9 Minas Gerais.","af7ddb9c":"Calculando a m\u00e9dia das idade por esp\u00e9cie de benef\u00edcio, os benef\u00edcios que est\u00e3o vinculados a uma idade m\u00ednima, ou benef\u00edcios antigos, possuem idade mais elevada. Exemplo pens\u00e3o de seringueiros, benef\u00edcio especifico e que deixou de ser aplicado, contudo, pessoas que viveram na condi\u00e7\u00e3o definida na lei \u00e0 ep\u00f3ca ainda podem solicitar tal benef\u00edcio.","3b8a811b":"A idade do cidad\u00e3o no momento da concess\u00e3o do benef\u00edcio possui uma distribui\u00e7\u00e3o com amior concentra\u00e7\u00e3o de individios entre 20 e 60 anos. ","ffed8b23":"Para as \u00fanicas vari\u00e1veis cont\u00ednuas do banco de dados, calculou-se as estat\u00edsticas descritivas acima. A m\u00e9dia para a quantidade de salarios m\u00ednimos do RMI foi de 1,478 com desvo padr\u00e3o de 0,995. O valor m\u00e1ximo apresentado para tal vari\u00e1vel \u00e9 de 262,599. Tal valor \u00e9 um outlier. Assim, para melhor analisar tal vari\u00e1vel \u00e9 importante desconsidera-lo e analisa-lo outrora.\n\nPara a vari\u00e1vel ano, observa-se que a m\u00e9diade idade foi de 45 anos. H\u00e1 benef\u00edcios concedidos para pessoas com 0 anos e com 104 anos. O desvio par\u00e3o \u00e9 de 15,5 anos.","01e1fdeb":"### 05.8.4. Box-plor da idade","5208b294":"# 05. An\u00e1lise unidimensional","05be878c":"Verifica-se que para todos os estados 25% dos beneficios concedidos foi menor ou igual a 1 SM de RMI. No caso do estado do Marah\u00e3o e Piau\u00ed. O estado de S\u00e3o Paulo \u00e9 o \u00fanico em que os 25% maiores salarios de RMI s\u00e3o superiores a 2 SM.","72f45305":"## 05.7 CID","3654eb39":"## 05.5 Forma de Filia\u00e7\u00e3o","63e771fd":"### 05.8.3 Histograma para idade","3cdc1451":"### 05.6.2 Gr\u00e1fico - Quantidade de concess\u00e3o por estado","8c8fcfc0":"- Trata-se de conjunto de dados obtido no portal de dados abertos do governo federal: www.dados.gov.br.\n- A base refere-se aos benef\u00edcios concedidos pelo Instituto Nacional do Seguro Social no m\u00eas de dezembro de 2018.\n- N\u00e3o h\u00e1 dicion\u00e1rio de dados associado a base.","5c4dfd85":"Observa-se pelo dicion\u00e1rio de dados, que a maioria das vari\u00e1veis s\u00e3o categ\u00f3ricas. Apenas as vari\u00e1veis idade e Quantidade de sal\u00e1rios m\u00ednimos da remunera\u00e7\u00e3o mensal inicial s\u00e3o continuas. Sendo a primeira distreta e a segunda categ\u00f3rica.","f0187d0d":"# 04. Criando o dicion\u00e1rio de dados","6bbd1bda":"## 05.1 Esp\u00e9cie","e246e2f7":"## 05.6 Estado","40e7fc9a":"### 05.2.2 Gr\u00e1fico - Quantidade de concess\u00e3o por despacho","62d0f187":"# 06. An\u00e1lise multidimencional","00379194":"### 06.4 Gr\u00e1fico de disper\u00e3o entre idade e RMI","0ba69601":"# 02. Bibliotecas necess\u00e1rias","d6c6fdd3":"Por haver diversos tipos de CID, optou-se por analisar a letra do CID, deste modo, entre os benef\u00edcios que est\u00e3o vinculados a um tipo de doen\u00e7a\/incapacidade, as Les\u00f5es, envenenamentos e algumas outras conseq\u00fc\u00eancias de causas externas (CID S) s\u00e3o as que mais se destacam.","aaca73d3":"### 05.1.2 Gr\u00e1fico - Quantidade de concess\u00e3o por esp\u00e9cie","1752bda1":"### 06.2 Tabela de dupla entrada para CID e UF","4a44ae1a":"### 05.5.1 Tabela - Quantidade de concess\u00e3o por forma de filia\u00e7\u00e3o","4520fab1":"Ao exluir os valor de RMI acima de 5 sal\u00e1rios m\u00ednimos, observa-se que quase a totalidade dos benef\u00edcios concedidos s\u00e3o 1 SM.","543b3cc3":"### 05.4.1 Tabela - Quantidade de concess\u00e3o por v\u00ednculo dos dependentes","14d8a64b":"## 05.8 Vari\u00e1veis n\u00famericas (RMI e idade)","5f649de8":"## 05.3 Clientela","6374eeb1":"### 05.3.1 Tabela - Quantidade de concess\u00e3o por clientela","3064fbea":"### 05.4.2 Gr\u00e1fico - quantidade de concess\u00e3o por v\u00ednculo dependentes","07f1c42c":"### 05.6.1 Tabela - Quantidade de concess\u00e3o por estado","9b395e50":"### 05.7.1 Tabela - Quantidade de concess\u00e3o por letra CID","8ed39f5b":"### 05.5.2 Gr\u00e1fico - quantidade de concess\u00e3o por Forma Filia\u00e7\u00e3o","dc25ca3e":"Quanto a forma de filia\u00e7\u00e3o, no momento da solicita\u00e7\u00e3o do benef\u00edcio, observa-se que aproximadamente 1\/3 s\u00e3o empregados.","f952e611":"Pelo gr\u00e1fico de dispers\u00e3o, observa-se que n\u00e3o h\u00e1 rela\u00e7\u00e3o entre as vari\u00e1veis continuas.","aab310d7":"Entre os benef\u00edcios que geram algum tipo de pens\u00e3o (dependentes), o maior n\u00famero \u00e9 para a categoria filho. ","5a948da7":"# 03. Carga dos dados e corre\u00e7\u00e3o das colunas","a96f52c5":"### Refer\u00eancia\nhttps:\/\/metodosdigitaisufg.wordpress.com\/2018\/02\/24\/analise-de-dados-utilizando-python\/","e29d0a89":"Tanto pela tabela acima, quanto pelo gr\u00e1fico \u00e9 poss\u00edvel observar que o maior n\u00famero de concess\u00f5es foi de aux\u00edlio doen\u00e7a. Seguido de aposentadoria por dade e aux\u00edlio salario maternidade.","133d4882":"### 05.1.1 Tabela - Quantidade de concess\u00e3o por esp\u00e9cie","b963ccc7":"## 05.4 V\u00ednculo dependentes","d13c329c":"# 01.  Informa\u00e7\u00f5es gerais sobre os dados"}}