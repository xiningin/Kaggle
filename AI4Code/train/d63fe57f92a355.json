{"cell_type":{"182a3fc2":"code","eb69d74e":"code","7eb0971a":"code","a80b6c71":"code","54e7b1e9":"code","b2b165d1":"code","36f10967":"code","7cade29c":"code","d4c35852":"code","ecc2480b":"code","35db6cf0":"code","35f6dae6":"code","d6172bc9":"code","632b6231":"code","3e543d06":"code","cb7ea592":"code","272ced43":"code","d6e49462":"code","166c14ee":"code","bbab789c":"code","1d137a91":"code","d94c2af2":"code","a9e34c28":"code","29ef8254":"code","48629eca":"code","c928c95f":"code","9c685334":"code","2dd46a3d":"code","051fc5e1":"code","8abc8426":"code","dbde7667":"code","57ef4302":"code","d21ed0fe":"markdown","7d498bc7":"markdown","35f219ac":"markdown","2a394ece":"markdown","ff75d601":"markdown","e9a29676":"markdown","3b10c7f2":"markdown","57e09b0f":"markdown","e558f2f2":"markdown","349e7e98":"markdown"},"source":{"182a3fc2":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nfrom PIL import Image\nimport matplotlib.pyplot as plt\nfrom wordcloud import WordCloud, STOPWORDS","eb69d74e":"pd.options.display.max_columns = 100\npd.options.display.max_rows = 100\npd.options.display.width=100","7eb0971a":"df = pd.read_csv('\/kaggle\/input\/dataisbeautiful\/r_dataisbeautiful_posts.csv')\ndf.head()","a80b6c71":"df.dtypes","54e7b1e9":"df.shape","b2b165d1":"df.isna().sum()","36f10967":"df.author_flair_text.nunique()","7cade29c":"df.removed_by.nunique()","d4c35852":"df.removed_by.unique()","ecc2480b":"df.total_awards_received.nunique()","35db6cf0":"df.total_awards_received.unique()","35f6dae6":"df.awarders.nunique()","d6172bc9":"df.awarders.unique()","632b6231":"df['total_awards_received'] = df['total_awards_received'].fillna(0)\ndf['total_awards_received'] = df['total_awards_received'].astype(int)","3e543d06":"df['removed_by'] = df['removed_by'].fillna('not removed')\ndf['author_flair_text'] = df['author_flair_text'].fillna('no flair')","cb7ea592":"df = df[~df.title.isna()]","272ced43":"df.drop(columns=['id', 'awarders', 'full_link'], inplace=True)\ndf.head()","d6e49462":"df['title_len'] = df['title'].astype(str).apply(len)","166c14ee":"df['removed'] = df['removed_by'].apply(lambda val: False if val=='not removed' else True  )","bbab789c":"df.describe()","1d137a91":"sns.distplot(df['created_utc']) \nplt.title('Post submission in Time[ Coordinated Universal Time]', \n          fontdict={'verticalalignment': 'bottom', 'fontsize':16, 'horizontalalignment': 'center'})\nplt.xlabel('Time', fontsize=12)\nplt.ylabel('Probability Density', fontsize=12)\nplt.show()","d94c2af2":"sns.distplot(df['title_len'])\nplt.title('Title length', fontsize=16)\nplt.xlabel('Length', fontsize=12)\nplt.ylabel('Probability Density', fontsize=12)\nplt.show()","a9e34c28":"temp = df['over_18'].value_counts()\ntemp.plot(kind='bar')\nplt.title('NSFW Post', fontsize=16)\nplt.ylabel('Number of posts', fontsize=12)\nplt.xticks(rotation=0)\nfor i, v in enumerate(temp):\n    plt.text(i-0.1, v+3000, str(v))\nplt.show()\nplt.show()","29ef8254":"temp = df['removed'].value_counts()\ntemp.plot(kind='bar')\nplt.title('Post Removed', fontsize=16)\nplt.xticks(rotation=0)\nplt.ylabel('Number of Posts', fontsize=12)\nfor i, v in enumerate(temp):\n    plt.text(i-0.1, v+3000, str(v))\nplt.show()","48629eca":"df['author'].value_counts()[1:6].plot(kind='bar')\nplt.title('Top 5 Author', fontsize=16)\nplt.xlabel('User Name', fontsize=12)\nplt.ylabel('Number of posts', fontsize=12)\nplt.xticks(rotation=0)\nplt.show()","c928c95f":"sns.distplot(df['num_comments'], hist=False)\nplt.title('Number of comments', fontsize=16)\nplt.xlabel('')\nplt.show()","9c685334":"s = df[df['removed']]['removed_by'].value_counts()\nplt.stem(s.values, use_line_collection=True, markerfmt='D')\nplt.xticks(range(0,5), s.index, rotation=0)\nplt.title('Post removed by', fontsize=16)\nplt.xlabel('Remover', fontsize=12)\nplt.ylabel('Number of posts', fontsize=12)\nplt.show()","2dd46a3d":"stop_words = set(['NOC', 'Chart', 'Bar', 'Created', 'Confirmed', 'How', 'can', 'the'])\nstopwords = STOPWORDS.update(stop_words)\nplt.figure(figsize=(20, 20))\nwc_1 = WordCloud(width=1600, height=800, background_color='black', stopwords=STOPWORDS, \n                 max_words=1000, min_word_length=3, min_font_size=3).generate(str(' '.join(df.title.values)))\n\nplt.imshow(wc_1, interpolation='bilinear')\nplt.axis('off')\nplt.title('Most frequent words in Titles', fontsize=40, verticalalignment='bottom')\nplt.tight_layout(pad=0)\nplt.show()","051fc5e1":"plt.figure(figsize=(20, 20))\nwc_2 = WordCloud(width=1600, height=800, background_color='black', max_words=1000, \n                 stopwords=stopwords, \n                 min_word_length=3).generate(str(' '.join(df[df['over_18']].title.values)))\nplt.imshow(wc_2, interpolation='bilinear')\nplt.axis('off')\nplt.title('Most frequent words in NSFW Titles', fontsize=40, verticalalignment='bottom')\nplt.tight_layout(pad=0)\nplt.show()","8abc8426":"plt.figure(figsize=(20, 20))\nwc_3 = WordCloud(width=1600, height=800, background_color='black', \n                 stopwords=stopwords, min_word_length=3, \n                 max_words=1000).generate(str(' '.join(df[df['removed']].title.values)))\nplt.imshow(wc_3, interpolation='bilinear')\nplt.axis('off')\nplt.title('Most Frequent words in Removed posts', fontsize=40, verticalalignment='bottom')\nplt.tight_layout()\nplt.show()","dbde7667":"plt.figure(figsize=(20, 20))\nwc_3 = WordCloud(width=600, height=400, background_color='black',\n                 stopwords=stopwords, \n                 min_word_length=3).generate(str(' '.join(df['title'][df['removed'] & df['over_18']])))\nplt.imshow(wc_3, interpolation='bilinear')\nplt.axis('off')\nplt.tight_layout()\nplt.title('Most frequent words in NSFW removed posts', fontsize=40, verticalalignment='bottom')\nplt.show()","57ef4302":"plt.figure(figsize=(20, 20))\nwc_3 = WordCloud(width=1600, height=800, background_color='black',\n                 stopwords=stopwords, min_word_length=3, \n                 max_words=2000).generate(str(' '.join(df['title'][df['removed'] & ~df['over_18']])))\nplt.imshow(wc_3, interpolation='bilinear')\nplt.axis('off')\nplt.title('Most frequent words in SFW removed posts', fontsize=40, verticalalignment='bottom')\nplt.tight_layout()\nplt.show()\n","d21ed0fe":"Different columns should have a different number of unique values.","7d498bc7":"The shape of the dataframe. ","35f219ac":"Title length","2a394ece":"The data type of each column. ","ff75d601":"1. Most of the users didn't receive an award. So I am replacing nan with 0.\n2. Removed by nan means the post is not removed so I am replacing it with \"not removed\"\n3. author_flair_text nan will be replaced by no flair\n4. Awarders, id, and full_link column is not useful for my purpose\n5. Drop one row with title nan","e9a29676":"An overview of columns data. ","3b10c7f2":"Let's check for null values.  ","57e09b0f":"Into the title","e558f2f2":"From the above observations, I found that","349e7e98":"I am changing removed column to binary. "}}