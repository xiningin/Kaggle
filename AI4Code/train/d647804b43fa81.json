{"cell_type":{"6a7b772d":"code","097bf40b":"code","3f74e084":"code","a9499989":"code","0eb1d408":"code","96f7f584":"code","5835f791":"code","5fd9ff60":"code","6236be28":"code","34ab8b56":"code","d7e1e65f":"code","65ad2419":"code","ee1afd96":"code","d13fec82":"code","da79d4c6":"markdown","4d9afcab":"markdown","ed44ba45":"markdown","32342981":"markdown","7df47b30":"markdown","40b5f511":"markdown","58f71801":"markdown","3ad3a70e":"markdown"},"source":{"6a7b772d":"import numpy as np\nimport pandas as pd\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\nimport plotly.io as pio\nimport pandas_profiling\nimport os\nimport calendar","097bf40b":"PATHS = []\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        PATHS.append(os.path.join(dirname, filename))\nPATHS.sort()","3f74e084":"df = pd.read_csv(PATHS[-1], thousands=',')\npio.templates.default = \"plotly_dark\"","a9499989":"df['Year']=[d.split('-')[0] for d in df.Date]\ndf['Month']=[d.split('-')[1] for d in df.Date]\ndf['Day']=[d.split('-')[2] for d in df.Date]","0eb1d408":"def time_series_overall(df, groupby, dict_features, filter=None):\n    temp = df.groupby(groupby).agg(dict_features)\n    fig = go.Figure()\n    for f,c in zip(dict_features, px.colors.qualitative.D3):\n        fig.add_traces(go.Scatter(y=temp[f].values,\n                              x=temp.index,\n                              name=f,\n                              marker=dict(color=c)\n                             ))\n    fig.update_traces(marker_line_color='rgb(255,255,255)',\n                      marker_line_width=2.5, opacity=0.7)\n    fig.update_layout(\n                    width=1000,\n                    xaxis=dict(title=\"Date\", showgrid=False),\n                    yaxis=dict(title=\"MU\", showgrid=False),\n                    legend=dict(\n                                x=0,\n                                y=1.2))\n                                \n    fig.show()","96f7f584":"dict_features = {\n    \"Thermal Generation Estimated (in MU)\": \"sum\",\n    \"Thermal Generation Actual (in MU)\": \"sum\",\n   \n}\ntime_series_overall(df, groupby=\"Date\", dict_features=dict_features)\ndict_features = {\n    \"Nuclear Generation Estimated (in MU)\": \"sum\",\n    \"Nuclear Generation Actual (in MU)\": \"sum\",\n}\ntime_series_overall(df, groupby=\"Date\", dict_features=dict_features)\ndict_features = {\n     \"Hydro Generation Estimated (in MU)\": \"sum\",\n    \"Hydro Generation Actual (in MU)\": \"sum\"\n}\ntime_series_overall(df, groupby=\"Date\", dict_features=dict_features)\n","5835f791":"def power_gen_by_region(df, f_1, f_2):\n    fig = make_subplots(2,1)\n    temp = df.groupby(\"Region\").agg({f_1: \"sum\",\n                                     f_2: \"sum\"}).reset_index()\n    fig.add_trace(go.Box(x=df[f_1], \n                         orientation='h', \n                         name=\"Actual\",\n                         marker=dict(color=px.colors.qualitative.Pastel[1])), \n                         row=1, col=1)\n    fig.add_trace(go.Box(x=df[f_2], \n                         orientation='h', \n                         name=\"Estimated\",\n                         marker=dict(color=px.colors.qualitative.Pastel[2])), \n                         row=1, col=1)\n    fig.add_trace(go.Bar(y=temp[\"Region\"],\n                         x=temp[f_1],\n                         orientation='h',\n                         text=temp[f_1],\n                         textposition=\"inside\",\n                         texttemplate='%{text:.2s}',\n                         name=\"Actual\",\n                         marker=dict(color=px.colors.qualitative.Pastel[1])), row=2, col=1)\n    fig.add_trace(go.Bar(y=temp[\"Region\"],\n                         x=temp[f_2],\n                         text=temp[f_2],\n                         textposition=\"inside\",\n                         texttemplate='%{text:.2s}',\n                         orientation='h',\n                         name=\"Estimated\",\n                         marker=dict(color=px.colors.qualitative.Pastel[2])), row=2, col=1)\n    fig.update_traces(opacity=0.7,\n                    )\n    fig.update_traces(opacity=0.7)\n    fig.update_layout(height=800, \n                      width=800,\n                      xaxis=dict(showgrid=False),\n                      yaxis=dict(showgrid=False),\n                      title=\" \".join(s for s in f_1.split()[:2]) + \" by region\")\n    fig.show()\n    ","5fd9ff60":"for f_1,f_2 in zip(df.columns.tolist()[2:8:2], df.columns.tolist()[3:8:2]):\n    power_gen_by_region(df, f_1, f_2)","6236be28":"df['Month'] = df['Month'].apply(lambda x: calendar.month_abbr[int(x)])","34ab8b56":"def monthly_distribution(df, groupby, dict_features, colors, filter=None):\n    temp = df.groupby(groupby).agg(dict_features)\n    fig = go.Figure()\n    for f,c in zip(dict_features, colors):\n        fig.add_traces(go.Bar(y=temp[f].values,\n                              x=temp.index,\n                              name=f,\n                              text=temp[f].values,\n                              marker=dict(color=c)\n                             ))\n    fig.update_traces(marker_line_color='rgb(255,255,255)',\n                      marker_line_width=2.5,\n                      opacity=0.7,\n                      textposition=\"outside\",\n                      texttemplate='%{text:.2s}')\n    fig.update_layout(\n                    width=1000,\n                    xaxis=dict(title=\"Month\", showgrid=False),\n                    yaxis=dict(title=\"MU\", showgrid=False),\n                    legend=dict(\n                                x=0,\n                                y=1.2))\n                                \n    fig.show()","d7e1e65f":"dict_features = {\n    \"Thermal Generation Estimated (in MU)\": \"sum\",\n    \"Thermal Generation Actual (in MU)\": \"sum\",\n   \n}\nmonthly_distribution(df, groupby=\"Month\", dict_features=dict_features, colors=px.colors.qualitative.Prism)\ndict_features = {\n    \"Nuclear Generation Estimated (in MU)\": \"sum\",\n    \"Nuclear Generation Actual (in MU)\": \"sum\",\n}\nmonthly_distribution(df, groupby=\"Month\", dict_features=dict_features, colors=px.colors.qualitative.Antique)\ndict_features = {\n     \"Hydro Generation Estimated (in MU)\": \"sum\",\n    \"Hydro Generation Actual (in MU)\": \"sum\"\n}\nmonthly_distribution(df, groupby=\"Month\", dict_features=dict_features, colors=px.colors.qualitative.Set3)","65ad2419":"state_df = pd.read_csv(PATHS[0])","ee1afd96":"fig = px.bar(state_df.nlargest(10, \"National Share (%)\"),\n             y=\"State \/ Union territory (UT)\",\n             x=\"National Share (%)\",\n             color=\"State \/ Union territory (UT)\",\n             text=\"National Share (%)\",\n             color_discrete_sequence=px.colors.qualitative.Pastel)\nfig.update_traces(opacity=0.7,\n                  marker_line_color='rgb(255,255,255)',\n                  marker_line_width=2.5,\n                  textposition=\"outside\",\n                  texttemplate='%{text:.2s%}',\n                  )\nfig.update_layout(width=800,\n                  title=\"Top 10 States by power share\",\n                    yaxis=dict(showgrid=False))\nfig.show()","d13fec82":"fig = px.bar(state_df.nlargest(10, \"National Share (%)\"),\n             y=\"State \/ Union territory (UT)\",\n             x=\"Area (km2)\",\n             color=\"State \/ Union territory (UT)\",\n             text=\"Area (km2)\",\n             color_discrete_sequence=px.colors.qualitative.Pastel)\nfig.update_traces(opacity=0.7,\n                  marker_line_color='rgb(255,255,255)',\n                  marker_line_width=2.5,\n                  textposition=\"inside\",\n                  texttemplate='%{text:.2s}',\n                  )\nfig.update_layout(width=800,\n                  title=\"Top 10 States by area\",\n                    yaxis=dict(showgrid=False,showticklabels=False))\nfig.show()","da79d4c6":"<a id=\"header-four\"><\/a>\n## Top States","4d9afcab":"The economy of India is characterised as a developing market economy. It is the world's fifth-largest economy by nominal GDP and the third-largest by purchasing power parity (PPP). In this notebook, we will explore India's power generation over three years.","ed44ba45":"<a id=\"header-two\"><\/a>\n## Power generation by region","32342981":"# Power generation in India","7df47b30":"<a id=\"header-three\"><\/a>\n## Power generation by month","40b5f511":"<a id=\"header-one\"><\/a>\n## Time Series View Overall","58f71801":"# Table of contents\n1. [Time Series View Overall](#header-one)\n2. [Power generation by region](#header-two)\n3. [Power generation by month](#header-three)\n4. [Top States](#header-four)\n","3ad3a70e":"# Data Cleaning"}}