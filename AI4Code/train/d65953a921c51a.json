{"cell_type":{"fa3bdfe7":"code","2719d38f":"code","48f14065":"code","d49b6b02":"code","75ce4a49":"code","06d282e9":"code","f21328ae":"code","b4212e4f":"code","9a254275":"code","ea4f6e9c":"code","be503527":"code","64a3d582":"code","7e900735":"code","6de883b5":"code","b014e54d":"code","49f7f37e":"code","c87ef01c":"code","cf64119a":"code","09282153":"code","832932fb":"code","94e30e25":"code","25da1f99":"code","c9bcc300":"code","728b3fc0":"code","c9661892":"code","29ef092d":"code","ce1b5a16":"code","89a4549b":"code","4f694675":"code","3c83d943":"code","fe670193":"code","ce0c8be3":"code","79112db5":"code","fb798a20":"code","401831a4":"code","267d0012":"code","bce9531e":"code","3e87138a":"code","b447d3a9":"code","b463bf4d":"code","bd356a62":"code","ef192ce1":"code","15126adc":"code","696079ef":"code","d43b5369":"code","410426a2":"code","d126a61b":"code","57d31d70":"code","12a70dd3":"code","9d9fb902":"code","041e9450":"code","afcf1dd0":"code","4b61e42d":"code","c64acd4f":"code","e0bc6966":"code","d0f02841":"code","5c68068e":"code","a1b4d539":"code","0cc1878f":"code","713f70d8":"code","4cb1b9c6":"code","7034c481":"code","327333f5":"code","49e8ee83":"code","9eda1212":"code","827367aa":"markdown","e5684302":"markdown","500c58ef":"markdown","b26b2c07":"markdown","95aa969b":"markdown","7a372e93":"markdown","88e589ad":"markdown","48d12d50":"markdown","980c0bcf":"markdown","4d2de981":"markdown","7e0fe7da":"markdown","0fd064d8":"markdown","da774b87":"markdown","82b484ca":"markdown","3de98405":"markdown","6e8d2b55":"markdown"},"source":{"fa3bdfe7":"import pandas as pd","2719d38f":"address = '..\/input\/melbourne-housing-snapshot\/melb_data.csv'\ndf = pd.read_csv(address)","48f14065":"df.info()","d49b6b02":"df.head()","75ce4a49":"df.describe().T","06d282e9":"df.isna().sum()","f21328ae":"import matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np","b4212e4f":"plt.figure(figsize=(10,8))\nsns.heatmap(df.isnull(), cbar=False,cmap=\"Greens\");","9a254275":"import missingno as msno","ea4f6e9c":"msno.heatmap(df)","be503527":"df['Suburb'].sample(30)","64a3d582":"df['Suburb'].value_counts()","7e900735":"df_kew = df.loc[df['Suburb'] == 'Kew']","6de883b5":"df_kew['Bedroom2'].value_counts()","b014e54d":"df_kew","49f7f37e":"import folium","c87ef01c":"locations = df_kew[['Lattitude', 'Longtitude']]\nlocationlist = locations.values.tolist()\nlen(locationlist)\nlocationlist[2]","cf64119a":"map = folium.Map(location=[-37.80, 145.06], zoom_start=14)\nfor point in range(0, len(locationlist)):\n    folium.Marker(locationlist[point], popup=df['Price'][point]).add_to(map)\nmap","09282153":"df['Price'].max()","832932fb":"df[['Suburb','Bedroom2']][df.Price == df['Price'].max()]","94e30e25":"df[df['Price']==df['Price'].max()]","25da1f99":"df_ranked = df.sort_values(by ='Price' , ascending=False)","c9bcc300":"df_ranked['Suburb'].head(10).value_counts()","728b3fc0":"df_ranked['Suburb'].head(20).value_counts()","c9661892":"df_ranked['Suburb'].head(50).value_counts()","29ef092d":"df_ranked['Suburb'].head(100).value_counts()","ce1b5a16":"df_sub_mean = df.groupby('Suburb').mean()","89a4549b":"df_sub_mean.head(50)","4f694675":"df_sub_mean.loc[df_sub_mean.index == 'Kew']","3c83d943":"numerical_feature=[feature for feature in df.columns if df[feature].dtype !='object']\nprint('There are {} numerical features.'.format(len(numerical_feature)))","fe670193":"year=[feature for feature in numerical_feature if \"Yr\" in feature or \"Year\" in feature]","ce0c8be3":"discrete_feature = [feature for feature in numerical_feature if (df[feature].nunique())<25  and feature not in year+['Id']]\nprint('There are {} are discrete features'.format(len(discrete_feature)) )","79112db5":"year=[feature for feature in numerical_feature if \"Yr\" in feature or \"Year\" in feature]","fb798a20":"continuous_feature=[feature for feature in numerical_feature if feature not in discrete_feature and feature not in year+['Id']]\nprint('There are {} are continuous features'.format(len(continuous_feature)) )","401831a4":"cat_feature=[feature for feature in df.columns if df[feature].dtypes=='object']\nprint('There are {} categorical features.'.format(len(cat_feature)))","267d0012":"type={'h':'house','u':'unit','t':'townhouse'}\ndf=df.replace({'Type':type})","bce9531e":"df['Price'].describe()","3e87138a":"def outlier_function(df, col_name):\n    first_quartile = np.percentile(np.array(df[col_name].tolist()), 25)\n    third_quartile = np.percentile(np.array(df[col_name].tolist()), 75)\n    IQR = third_quartile - first_quartile\n                      \n    upper_limit = third_quartile+(3*IQR)\n    lower_limit = first_quartile-(3*IQR)\n    outlier_count = 0\n                      \n    for value in df[col_name].tolist():\n        if (value < lower_limit) | (value > upper_limit):\n            outlier_count +=1\n    return lower_limit, upper_limit, outlier_count\nfor feature in continuous_feature:\n    if outlier_function(df,feature)[2] > 1:\n        print('{}: {} outliers'.format(feature,outlier_function(df,feature)[2]))","b447d3a9":"plt.figure(figsize=(10,8))\ncorr=df[continuous_feature].corr()\nplt.title('Correlation heatmap of continuous features',fontsize=15)\nsns.heatmap(corr);","b463bf4d":"df[continuous_feature].hist(bins=25, figsize=(22,8), layout=(2,8));","bd356a62":"feat=[]\nfor feature in continuous_feature:\n    data=df.copy()\n    if 0 in data[feature].unique():\n        pass\n    else:\n        feat.append(feature)\nnp.log(data[feat]).hist(bins=25, figsize=(20,5), layout=(1,5),color='green');","ef192ce1":"fig, axarr = plt.subplots(2, 2, figsize=(12, 10))\n\nsns.distplot(df['Price'],ax=axarr[0][0],color='blue',hist_kws=dict(edgecolor=\"k\", linewidth=2)).set_title('Distribution of Price')\nsns.distplot(df['Distance'],ax=axarr[1][0],color='green',hist_kws=dict(edgecolor=\"k\", linewidth=2)).set_title('Distribution of Distance')\nsns.distplot(np.log(df['Price']),ax=axarr[0][1],color='red',hist_kws=dict(edgecolor=\"k\", linewidth=2)).set_title('Distribution of Price(Transformed value on log scale)')\nsns.distplot(df['Landsize'],ax=axarr[1][1],color='orange',hist_kws=dict(edgecolor=\"k\", linewidth=2)).set_title('Distribution of Landsize')\n\nplt.subplots_adjust(hspace=.6)\n\nsns.set_style('darkgrid')\nsns.despine()","15126adc":"sns.pairplot(np.log(df[feat]))","696079ef":"df['price_per_unit_area']=df['Price']\/df['Landsize']","d43b5369":"plt.figure(figsize=(10,8))\nsns.scatterplot(y=np.log(df['price_per_unit_area']),x=df['Distance'],data=df,hue='Regionname').set_title(\"Distance from property to CBD\",fontsize=20);","410426a2":"df[discrete_feature]","d126a61b":"f = plt.figure(figsize=(20,20))\nfor i in range(len(discrete_feature)):\n    f.add_subplot(6, 3, i+1)\n    g=df.groupby([discrete_feature[i]])['Price'].median().sort_values()\n    ax=sns.boxplot(x=discrete_feature[i],y='Price',data=df,order=list(g.index),palette='Blues')\n    ax=sns.stripplot(x=discrete_feature[i],y='Price',data=df,color='red',jitter=0.2,size=2.5)\n    plt.title(discrete_feature[i],fontsize=15)\n\nplt.tight_layout()\nplt.show()","57d31d70":"corr=df[discrete_feature].corr()\nsns.heatmap(corr)\nplt.title('Correlation among discrete variable');","12a70dd3":"for feature in discrete_feature:\n    if outlier_function(df,feature)[2] > 1:\n        print('{}: {} outliers'.format(feature,outlier_function(df,feature)[2]))","9d9fb902":"df['Bedroom2']=df['Bedroom2'].astype('int')\ndf['Bathroom']=df['Bathroom'].astype('int')\ndf['Car']=df['Car'].astype('int',errors='ignore')\ndf['Car']=df['Car'].astype('int',errors='ignore')","041e9450":"fig, axarr = plt.subplots(2, 2, figsize=(14,10))\nfig.suptitle('Property features',fontsize=15)\n\nsns.countplot(df['Rooms'],ax=axarr[0][0],palette='cubehelix').set_title('No. of Rooms')\nsns.countplot(df['Bedroom2'],ax=axarr[1][0],palette='cubehelix').set_title('No. of Bedrooms')\nsns.boxplot(x=df['Bedroom2'],y=df['Price'],ax=axarr[1][1],palette='husl').set_title('Price with respect to number of bedrooms')\nsns.boxplot(x=df['Rooms'],y=df['Price'],ax=axarr[0][1],palette='husl').set_title('Price with respect to no. of rooms')\n\nplt.subplots_adjust(hspace=.4)\nsns.set_style('darkgrid')\nsns.despine()","afcf1dd0":"fig, axarr = plt.subplots(2, 2, figsize=(14, 10))\nfig.suptitle('Property features',fontsize=15)\n\nsns.countplot(df['Bathroom'],ax=axarr[0][0],palette='husl').set_title('No. of Bathrooms')\nsns.violinplot(x= \"Bathroom\",y=\"Price\",data=df,palette=\"Set2\",ax=axarr[0][1]).set_title('No. of Bathrooms vs Price')\nsns.countplot(df['Car'],ax=axarr[1][0],palette='husl').set_title('No.of Cars')\nsns.boxenplot(x=\"Car\",y=\"Price\",data=df,palette=\"Set1\",ax=axarr[1][1]).set_title('No.of Cars vs Price');\n\n\nplt.subplots_adjust(hspace=.4)\nsns.set_style('darkgrid')\nsns.despine()","4b61e42d":"df[cat_feature]","c64acd4f":"plt.figure(figsize=(12,8))\ng=sns.countplot(df['CouncilArea'],data=df,palette='Set2')\ng.set_xticklabels(g.get_xticklabels(), rotation=90)\ng.set_title('No.of properties in each Council Area',fontsize=15);","e0bc6966":"plt.figure(figsize=(10,8))\ng=sns.stripplot(x=df['CouncilArea'],y=df['Price'],hue='Type',data=df,palette='Set1')\ng.set_xticklabels(g.get_xticklabels(), rotation=90)\ng.set_title('Preferred Council Area by Price',fontsize=15);","d0f02841":"plt.figure(figsize=(10,6))\ng=sns.countplot(df['Regionname'],hue='Type',data=df,palette='Set2')\ng.set_xticklabels(g.get_xticklabels(), rotation=90)\ng.set_title('Preferred region by property type',fontsize=15);","5c68068e":"plt.figure(figsize=(10,8))\ng=df.groupby(['Regionname'])['Price'].mean().sort_values()\ng=sns.boxplot(x='Regionname', y='Price', data=df,order=list(g.index),palette='cubehelix')\ng=sns.stripplot(x='Regionname', y='Price', data=df,color='orange',jitter=0.2,size=2.5)\ng.set_xticklabels(g.get_xticklabels(), rotation=90)\nplt.title('Price with respect to Region',fontsize=15);","a1b4d539":"fig, axs = plt.subplots(ncols=2,figsize=(15,6))\n\nsns.boxplot(x=df['Method'],y=df['Price'],ax=axs[0],palette='cubehelix').set_title('Price vs Method')\n\nsns.stripplot(x=df['Type'],y=df['Price'],ax=axs[1],palette='hls').set_title('Price vs Type');","0cc1878f":"fig, axarr = plt.subplots(2, 1, figsize=(12, 16))\nfig.suptitle('Preferred Locations',fontsize=15)\n\nsns.scatterplot(y=df['Lattitude'],x=df['Longtitude'],hue=df['Regionname'],palette='husl',ax=axarr[0]).set_title('Lattitude-Longitude, Regionname')\nsns.scatterplot(y=df['Lattitude'],x=df['Longtitude'],hue=df['Type'],palette='Set1',ax=axarr[1]).set_title('Lattitude-Longitude,Type')\nplt.show()","713f70d8":"df=df.drop(index=9968,axis=1)","4cb1b9c6":"fig, axarr = plt.subplots(2, 1, figsize=(12, 10))\n\nfig.suptitle('Trend in Price over the years',fontsize=20)\n\nsns.lineplot(x='YearBuilt',y='Price',data=df,hue='Type',palette='Set1',ax=axarr[0])\n\nsns.lineplot(x='YearBuilt',y='Price',data=df,hue='Regionname',palette='Set1',ax=axarr[1]);","7034c481":"def d_date(date):\n    return(date[-7:])\ndf['Date']=df['Date'].apply(d_date)","327333f5":"plt.figure(figsize=(10,8))\ngg=sns.countplot(df['Date'],palette='hls',hue='Type',data=df)\ngg.set_xticklabels(gg.get_xticklabels(), rotation=70)\ngg.set_title('Month and year of highest sale (2016-2017)',fontsize=15);","49e8ee83":"plt.figure(figsize=(10,8))\ng=df.groupby(['SellerG','Type','Method']).Price.sum().sort_values(ascending=False).head(20)\ng.plot(kind='barh',color='orange',title='Top realtors by Type and Method')\nplt.xlabel('Price');","9eda1212":"plt.figure(figsize=(16,10))\nplt.title('Correlation heatmap', fontsize=20)\ncorr_matrix=df.corr()\nmask = np.zeros_like(corr_matrix)\nmask[np.triu_indices_from(mask)] = True\nsns.heatmap(corr_matrix,annot=True ,cbar = True,cmap=\"YlGnBu\",mask=mask);","827367aa":"Above plot, we can see preferred regions, categorised by type of the property.There is high sales of all three types of properties in Northern, Western, Southern Metropolitan in comparison to other areas.","e5684302":"* Property type that is in demand over all mentioned regions is home\/villa type. Even in the areas namely, Northern Victoria and Western Victoria where there is overall less sale of properties, this is the only property type that is being sold.\n* Let us now see the trend in pricing with respect to the year in which these properties were built.","500c58ef":"### Discrete features","b26b2c07":"Properties, most commonly have either 1 or 2 bathrooms. Houses with more than 4 bathrooms tend to be expensive.Same trend goes iwth the number of cars.\n","95aa969b":"* Buyers are willing to pay a higher price for houses in council area Boroondara and Stonnington. While lowest in Moorabool.\n* Apart from houses being the most sold property,Unit type of property is also being sold in most of the concil areas","7a372e93":"* Plot shows the sales count for the year 2016 and 2017 with the data being categorised according to type of houses.\n\n* 2016 saw the lowest sale overall in the month of January and highest sales in November.\n\n* Sales were recoreded to be highest in the month of July 2017.\n\n* In general overall highest selling property type was house\/villa.","88e589ad":"Price of the houses on an average are same at distance farther away from CBD. But the number of houses sold are less as we move away from CBD. Also Northern Metropolitan, Southern Metropolitan and Western Metropolitan regions are nearer to CBD","48d12d50":"### Categorical features","980c0bcf":"As we saw in earlier plots:\n\n* There is a strong negative correlation between price and Distance from CBD.\n* \n* Similar is the case with year in which houses were constructed. Old properties tend to be expensive.\n\n*****Conclusions*****\n\n* Sale of all three kinds of properties can be seen in Northern Metropolitan, Western Metropolitan and Southern \/metropoiltan as these regions are closer to CBD whereas in other areas sales of units\/duplex, townhouse is negligible.\n* Properties which were built before 1950's tend to be more expensive.These properties are majorly located in Northern, Southern and Eastern Metropolitan area. Most expensive type of old constructed property includes house\/villa type.\n* Type of property that is sold out most all across the mentioned areas is house\/villa type.\n\n1)Features of commonly sold properties:\n\n* 2-3 bedrooms\n* 1 bathroom\n* Preferred type of property-Houses\/Villa\n* Preferred regions: Northern, Southern, And Western Metropolitan\n* Council areas: Moreland, Boroondara, Glen Era,Darebein, Moone Valley\n\n2)Features of expensive properties:\n\n* Property type: House\/Villas\n* Present in Southern Metropolitan\n* Are built in the years,1850-1925\n* 5 bedrooms\n* More than 5 bathrooms\n* Council areas: Boroondara and Stonnington","4d2de981":"* We can see that preferred Regions are Northern, Westeern and Southern Metropolitan, ones as we saw earlier were closer to CBD. Further, preferred Council Area are Moreland and Boroondara.\n* If we look by price point then most expensive properties are located in Southern Metropolitan.\n* Also, most common types of property in these prefrred regions are houses\/villa.","7e0fe7da":"* Houses\/ villas are present from low to high price range.\n* Not much of a difference can be observed within preferred method when it comes to price of the property.\n\nBelow are the scatter plots showing preferred locations by lattitude-longitude values\n\n","0fd064d8":"Council Area with most properties sold was Moreland and Boroondara , while council Moorabool saw the least sales.","da774b87":"There is no much variation in context of rooms and bedrooms. Houses that are most preffered have 2-3 rooms. Pricier houses have room count of 5.\n","82b484ca":"* Plot shows top realtors categorised by the type and method. Nelson has most number of sales of houses by method S.\n*\n* This graph also indicates a trend that houses sold were much higher than any other property type.\n\nAtlast let us take a look at overall correlations within different features of the dataset","3de98405":"### Numerical features","6e8d2b55":"* In the first plot, we can observe fluctuations in the prices of houses with respect to the years in which they were constructed. Whereas prices of uniits, duplex and townhouses seems to be irrespective of the years they were built.\n\n* If we see by region,price of houses in Easteren Victoria and Northern Victoria does not seem to be affected by the year in which they were built.\n\n* Buyers in general tend to pay higher price for houses which are built before 1950 as compared to the houses built in recent years, this could indicate preference for a particular design architecture of houses build prior to 1950s."}}