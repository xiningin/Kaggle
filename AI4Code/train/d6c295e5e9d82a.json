{"cell_type":{"aa9216a9":"code","94c92f4c":"code","400db10b":"code","3b3fbb97":"code","acaf20ba":"code","26db56d7":"code","8858d3c2":"code","26fcdd53":"code","5e28ab22":"markdown","e31682df":"markdown"},"source":{"aa9216a9":"import pandas as pd\nimport numpy as np","94c92f4c":"import glob\n\n# fetch text files\ntrain_txt_files_hi = glob.glob(\"..\/input\/hindi-wikipedia-articles-172k\/train\/train\/*.txt\")\ntrain_txt_files_ta = glob.glob(\"..\/input\/tamil-wikipedia-articles\/train\/train\/*.txt\")\nvalid_txt_files_hi = glob.glob(\"..\/input\/hindi-wikipedia-articles-172k\/valid\/valid\/*.txt\")\nvalid_txt_files_ta = glob.glob(\"..\/input\/tamil-wikipedia-articles\/valid\/valid\/*.txt\")\ntrain_txt_files = train_txt_files_hi + train_txt_files_ta\nvalid_txt_files = valid_txt_files_hi + valid_txt_files_ta\nprint(f\"Hindi train articles: {len(train_txt_files_hi)}\")\nprint(f\"Tamil train articles: {len(train_txt_files_ta)}\")\nprint(f\"Hindi valid articles: {len(valid_txt_files_hi)}\")\nprint(f\"Tamil valid articles: {len(valid_txt_files_ta)}\")","400db10b":"# read files into a dataframe\ntrain_text_hi = list()\nvalid_text_hi = list()\nfor txt_file in train_txt_files_hi:\n    with open(txt_file, \"r\") as f:\n        txt = \"\"\n        for line in f:\n            if not line.strip(): continue\n            d = line.strip()\n            txt += d\n        train_text_hi.append(txt)\n    \nfor txt_file in valid_txt_files_hi:\n    with open(txt_file, \"r\") as f:\n        txt = \"\"\n        for line in f:\n            if not line.strip(): continue\n            d = line.strip()\n            txt += d\n        valid_text_hi.append(txt)\n        \nprint(train_text_hi[0])\nprint(train_text_hi[1])\nprint(len(train_text_hi), len(valid_text_hi))","3b3fbb97":"# read tamil text\ntrain_text_ta = list()\nvalid_text_ta = list()\nfor txt_file in train_txt_files_ta:\n    with open(txt_file, \"r\") as f:\n        txt = \"\"\n        for line in f:\n            if line.startswith('<doc id='):\n                if txt != \"\":\n                    train_text_ta.append(txt)\n                    txt = \"\"\n                continue\n            if not line.strip(): continue  # remove empty line\n            d = line.strip()\n            txt += d.strip(\"<\/doc>\")\n        \nfor txt_file in valid_txt_files_ta:\n    with open(txt_file, \"r\") as f:\n        txt = \"\"\n        for line in f:\n            if line.startswith('<doc id='):\n                if txt != \"\":\n                    valid_text_ta.append(txt)\n                    txt = \"\"\n                continue\n            if not line.strip(): continue  # remove empty line\n            d = line.strip()\n            txt += d.strip(\"<\/doc>\")\n        \nprint(train_text_ta[0], train_text_ta[1])\nlen(train_text_ta), len(valid_text_ta)","acaf20ba":"train_df = pd.DataFrame()\nvalid_df = pd.DataFrame()\ntrain_df[\"text\"] = train_text_hi + train_text_ta\nvalid_df[\"text\"] = valid_text_hi + valid_text_ta","26db56d7":"train_df.head()","8858d3c2":"valid_df.head()","26fcdd53":"train_df.to_csv(\"train.csv\")\nvalid_df.to_csv(\"valid.csv\")","5e28ab22":"# Create dataset","e31682df":"## prepare train, valid dataframe"}}