{"cell_type":{"70f60a20":"code","2bf27da5":"code","aa0bf1a2":"code","9266b9c0":"code","afcfa3ca":"code","5382dd92":"code","2427aebd":"code","3471adb4":"code","c64f6977":"code","48368423":"code","9b67c2cb":"code","9de50d95":"code","2ced1f52":"code","64d2eb52":"code","149e6b1a":"code","da394ab9":"code","90ff9073":"code","a9bbe4f2":"code","a3781a33":"code","94f6fcb6":"code","97e8ce8d":"code","244b1095":"code","dc76f249":"code","1796ab19":"code","fe3ee3f3":"code","0a210349":"code","85734875":"code","e29f8818":"code","e9d32edf":"code","87b60c5d":"code","080e100b":"markdown","79df3a57":"markdown","e2229ad4":"markdown","82c9ae70":"markdown","e1ff55f6":"markdown","6c0add6c":"markdown","b5980854":"markdown","cab06eaa":"markdown","eda528d9":"markdown","e5015e5c":"markdown","2a63a4e6":"markdown","a33ca587":"markdown","e8536514":"markdown","24643538":"markdown","aad9a8d9":"markdown","e700a8c7":"markdown","de404043":"markdown","03c24217":"markdown","ee624b00":"markdown","c03badd8":"markdown","0cd5815c":"markdown","00baf4ae":"markdown","fd18fe23":"markdown","10d628a3":"markdown","ddcd55f2":"markdown","efc24bc3":"markdown","eef60537":"markdown","9e0bd737":"markdown","38b5d462":"markdown"},"source":{"70f60a20":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport scipy.stats as stat\nsns.set_color_codes()\n%matplotlib inline\n\n#setting up for customized printing\nfrom IPython.display import Markdown, display\nfrom IPython.display import HTML\ndef printmd(string, color=None):\n    colorstr = \"<span style='color:{}'>{}<\/span>\".format(color, string)\n    display(Markdown(colorstr))","2bf27da5":"data = pd.read_csv(\"..\/input\/insurance.csv\")\ndata.head()","aa0bf1a2":"print('The total number of rows :', data.shape[0])\nprint('The total number of columns :', data.shape[1])","9266b9c0":"data.info()","afcfa3ca":"print(data.isna().sum())\nprint('===================')\nprint(data.isnull().sum())\nprint('===================')\nprintmd('**CONCLUSION**: As seen from the data above, we conclude there are **\"NO Missing\"** values in the data', color=\"blue\")","5382dd92":"data.describe().transpose()","2427aebd":"f, axes = plt.subplots(1, 3, figsize=(20, 8))\nbmi = sns.distplot(data['bmi'], color=\"red\", ax=axes[0], kde=True, hist_kws={\"edgecolor\":\"k\"})\nbmi.set_xlabel(\"BMI\",fontsize=20)\n\nage = sns.distplot(data['age'], color='green', ax = axes[1], kde=True, hist_kws={\"edgecolor\":\"k\"})\nage.set_xlabel(\"Age\",fontsize=20)\n\ncharges = sns.distplot(data['charges'], color='blue', ax = axes[2], kde=True, hist_kws={\"edgecolor\":\"k\"})\ncharges.set_xlabel(\"Charges\",fontsize=20)\n","3471adb4":"pd.DataFrame.from_dict(dict(\n    {\n        'bmi':data.bmi.skew(), \n        'age': data.age.skew(), \n        'charges': data.charges.skew()\n    }), orient='index', columns=['Skewness'])","c64f6977":"f, axes = plt.subplots(3, 1, figsize=(15, 15))\nbmi = sns.boxplot(data['bmi'], color=\"olive\", ax=axes[0])\nbmi.set_xlabel(\"BMI\",fontsize=20)\n\nage = sns.boxplot(data['age'], color='lightgreen', ax=axes[1])\nage.set_xlabel(\"Age\",fontsize=20)\n\ncharges = sns.boxplot(data['charges'], color='teal', ax=axes[2])\ncharges.set_xlabel(\"Charges\",fontsize=20)\n","48368423":"f, axes = plt.subplots(2, 2, figsize=(20, 12))\nsex = sns.countplot(data['sex'], color=\"red\", ax=axes[0,0])\nsex.set_xlabel(\"Sex\",fontsize=20)\n\nsmoker = sns.countplot(data['smoker'], color='green', ax = axes[0,1])\nsmoker.set_xlabel(\"Smoker\",fontsize=20)\n\nregion = sns.countplot(data['region'], color='blue', ax = axes[1,0])\nregion.set_xlabel(\"Region\",fontsize=20)\n\nchildren = sns.countplot(data['children'], color='teal', ax = axes[1,1])\nchildren.set_xlabel(\"Children\",fontsize=20)","9b67c2cb":"f, axes = plt.subplots(3, 1, figsize=(12, 15))\nsns.boxplot('region', 'charges', 'sex', data, ax=axes[0])\n\nsns.boxplot('region', 'charges', 'smoker', data, ax = axes[1])\n\nsns.boxplot('region', 'charges', 'children', data, ax = axes[2])\n","9de50d95":"data_copy = data.copy()\ndata_copy.sex.value_counts()","2ced1f52":"data_copy.smoker.value_counts()","64d2eb52":"data_copy.region.value_counts()","149e6b1a":"# Replace categorical columns with numerical equivalents\n\ndata_copy['sex'] = data_copy['sex'].replace({'male': 1, 'female': 2})\ndata_copy['smoker'] = data_copy['smoker'].replace({'yes': 1, 'no': 0})\ndata_copy['region'] = data_copy['region'].replace({'southeast': 1, 'southwest': 2, 'northwest': 3, 'northeast': 4})\n\n# Pair plot with all the columns\nsns.pairplot(data_copy)","da394ab9":"sns.pairplot(data, hue='sex')","90ff9073":"sns.pairplot(data, hue='smoker')","a9bbe4f2":"sns.pairplot(data, hue='region')","a3781a33":"data_copy.corr()","94f6fcb6":"pd.DataFrame.from_dict(dict(\n    {\n        'charges_smokers':data[data.smoker == 'yes'].charges.skew(),    \n        'charges_non-smokers': data[data.smoker == 'no'].charges.skew(),\n    }), orient='index', columns=['Skewness'])","97e8ce8d":"data.charges  = np.log1p(data.charges)","244b1095":"pd.DataFrame.from_dict(dict(\n    {\n        'charges_smokers':data[data.smoker == 'yes'].charges.skew(),    \n        'charges_non-smokers': data[data.smoker == 'no'].charges.skew(),\n    }), orient='index', columns=['Skewness'])","dc76f249":"sns.boxplot('smoker', 'charges', data=data)","1796ab19":"import scipy.stats as stats\n\n#Split the charges column into two parts between smokers and non-smokers\n\nX = np.array(data[data.smoker == 'yes'].charges) #Smokers\nY = np.array(data[data.smoker == 'no'].charges) #Non-Smokers\n\n#executing the independent t-test to run tests on single variable\nt_stat, p_value = stats.ttest_ind(X,Y)\n\n# Setting our significance level at 5%\nif p_value < 0.05:  \n    printmd(f'As the p_value **({p_value}) < 0.05**, we reject the Null Hypothesis. Hence **charges of smokers differ significantly from non-smokers**', color='blue')\nelse:\n    printmd(f'As the p_value **({p_value}) > 0.05**, we fail to reject Null Hypothesis. Hence **charges of smokers are same as charges of non-smokers**', color='blue')","fe3ee3f3":"sns.boxplot('sex', 'bmi', data=data)","0a210349":"#Split the bmi column into two parts between male and female\n\nX = np.array(data[data.sex == 'male'].bmi) #Males\nY = np.array(data[data.sex == 'female'].bmi) #Females\n\n#executing the independent t-test to run tests on single variable\nt_stat, p_value = stats.ttest_ind(X,Y)\n\n# Setting our significance level at 5%\nif p_value < 0.05:  \n    printmd(f'As the p_value **({p_value}) < 0.05**, we reject the Null Hypothesis. Hence **BMI of Males are significantly different from that of Females**', color='blue')\nelse:\n    printmd(f'As the p_value **({p_value}) > 0.05**, we fail to reject Null Hypothesis. Hence **BMI of Males are similar to that of Females**', color='blue')","85734875":"sns.countplot('smoker', hue='sex', data=data[data.smoker == 'yes'])","e29f8818":"#Since Smokers and Sex are categorical columns, choosing Chi-Square test for testing\n\ncontigencytable = pd.crosstab(data['sex'],data['smoker'])\nchi_sq_Stat, p_value, deg_freedom, exp_freq =  stats.chi2_contingency(contigencytable)\n\n# Setting our significance level at 5%\nif p_value < 0.05:  \n    printmd(f'As the p_value **({p_value}) < 0.05**, we reject the Null Hypothesis. Hence **Proportion of smokers are significantly different in different Genders**', color='blue')\nelse:\n    printmd(f'As the p_value **({p_value}) > 0.05**, we fail to reject Null Hypothesis. Hence **Proportion of smokers are similar in both the Genders**', color='blue')\n","e9d32edf":"sns.boxplot('children', 'bmi', data=data[(data.children>0) & (data.children<4)])","87b60c5d":"#get the female data \nfemale_data = data[data['sex'] == 'female']\n\n#get the bmi samples based on number of children\nno_children_bmi = female_data[female_data['children'] == 0].bmi\none_child_bmi = female_data[female_data['children'] == 1].bmi\ntwo_children_bmi = female_data[female_data['children'] == 2].bmi\n\n#Since there are multiple samples and we need to check the variances of multiple samples, choosing ANOVA testing for this\n\nf_stat, p_value = stats.f_oneway(no_children_bmi,one_child_bmi ,two_children_bmi )\n\n\n# Setting our significance level at 5%\nif p_value < 0.05:  \n    printmd(f'As the p_value **({p_value}) < 0.05**, we reject the Null Hypothesis. Hence **BMI is different across women with different number of children**', color='blue')\nelse:\n    printmd(f'As the p_value **({p_value}) > 0.05**, we fail to reject Null Hypothesis. Hence **BMI is uniform across women with different number of children**', color='blue')\n","080e100b":"## a. Do charges of people who smoke differ significantly from the people who don't?","79df3a57":"## d. 5 point summary of numerical attributes","e2229ad4":"## a. Shape of the data","82c9ae70":"Listing Categorical Columns\n\n1. Sex\n2. Smoker\n3. Region\n4. Children\n","e1ff55f6":"## b. Data type of each attribute","6c0add6c":"### State null hypothesis\n**H0** : Charges of smokers are same as Charges of Non-smokers\n### State alternate hypothesis\n**H1** : Charges of non-smokers are significantly different from Charges of smokers \n    ","b5980854":"1. **BMI** : Normally distributed\n2. **Age** : Uniformly distributed throughout.\n3. **Charges**: Right skewed.","cab06eaa":"1. **BMI** : Value is less, and hence evenly distributed as shown in the plot above.\n2. **Age** : Values is close to 0, hence uniformly distributed as shown in the plot above.\n3. **Charges**: Value is high and hence right skewed as shown in the plot above.","eda528d9":"## b. Does bmi of males differ significantly from that of females?","e5015e5c":"## h. Distribution of categorical columns (include children)","2a63a4e6":"# END","a33ca587":"## c. Is the proportion of smokers significantly different in different genders?","e8536514":"### Obervations based on pair plot and correlation table\n\n1. There is a high positive correlation between smokers and charges\n2. Non-smokers have less charges whereas Smokers are charged more\n3. There is a slight postive correlation between Age and Charges, which means older people are charged more.","24643538":"1. **BMI** : Distributed with few outliers\n2. **Age** : No outliers and uniformly distributed.\n3. **Charges**: Right skewed with many outliers i.e lot of higher values","aad9a8d9":"### State null hypothesis\n**H0** : BMI is uniform across women with different number of children\n### State alternate hypothesis\n**H1** : BMI is different across women with different number of children    ","e700a8c7":"## i. Pair plot that includes all the columns of the data frame","de404043":"## d. Is the distribution of bmi across women with no children, one child and two children, the same ?","03c24217":"# Import the necessary libraries","ee624b00":"__Obervations based on 5 Point Summary__\n\n1. **Age**: \n    It looks evenly distributed as can be seen with values of min, Q1, Q2, Q3, max, and also since mean and median are almost same.\n2. **BMI**:\n    It looks evenly distributed when you take into account Q1,Q2,Q3. There are few outliers at the top end of values,\n    \n    For eg.,\n    IQR = 34.694 - 26.296 = 8.398. Max = 1.5 * IQR = 1.5 * 8.398 = 12.597. \n    top whisker = 34.693 + 12.597 = 47.289        \n    Since max values (53.13) is greater than top whisker, it is an outlier. And there may be more outliers. \n    \n    This will be more clear with a boxplot, which will be shown later in this document.\n    \n3. **Children**:\n    Since the min =0 and max value = 5 i.e. with the values of 0,1,2,3,4,5, it looks more like a Categorical attribute than continuous.\n    \n4. **Charges**:\n    It looks a bit skewed towards the right side as mean (13270) is greater than median 50% (9382) and there may be many outliers at the top end of values.\n    ","c03badd8":"### State null hypothesis\n**H0** : BMI of Males are similar to that of Females\n### State alternate hypothesis\n**H1** : BMI of Males are significantly different from that of Females\n    ","0cd5815c":"1. **Sex** : Insurances are evenly matched between Male and Female\n2. **Smoker** : There are lot of Non-Smokers compared to Smokers\n3. **Region** : Insurance is distributed evenly across all regions\n4. **Children** : Few insurance clients have 4 or children, most have no child and many have 1 or 2 or 3 children","00baf4ae":"## f. Measure of skewness of \u2018bmi\u2019, \u2018age\u2019 and \u2018charges\u2019 columns","fd18fe23":"# Answer questions based on Statistical Evidence","10d628a3":"## g. Checking the presence of outliers in \u2018bmi\u2019, \u2018age\u2019 and \u2018charges columns","ddcd55f2":"# Read the data as a data frame","efc24bc3":"### State null hypothesis\n**H0** : Proportion of smokers are similar in both the Genders\n### State alternate hypothesis\n**H1** : Proportion of smokers are significantly different in different Genders\n    ","eef60537":"# Perform basic EDA","9e0bd737":"## c. Checking the presence of missing values","38b5d462":"## e. Distribution of \u2018bmi\u2019, \u2018age\u2019 and \u2018charges\u2019 columns."}}