{"cell_type":{"756bd0dd":"code","5e9b0f86":"code","c30adab0":"code","f32b5721":"code","6cf6d6d7":"code","eee38d99":"code","a8b1de48":"code","8246721b":"code","7769d108":"code","05a6fafc":"code","99100f39":"code","58fa6fe6":"code","d60e067d":"code","1edee674":"code","a863621a":"code","d4f599af":"code","81302cbf":"markdown","148a5361":"markdown","d642f0a7":"markdown","654ac93f":"markdown","13d8e23d":"markdown","e43cf6b0":"markdown","bb943498":"markdown","caf473ec":"markdown","a90de90e":"markdown","f568881e":"markdown"},"source":{"756bd0dd":"import pandas as pd\nfrom datetime import datetime as dt\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nfrom matplotlib.dates import DateFormatter\nimport matplotlib.ticker as ticker\nimport plotly.graph_objects as go\n%matplotlib inline","5e9b0f86":"header_list = [\"Province\", \"Date\", \"New Cases\", \"Cumulative Cases\"]\ndateparse = lambda x: dt.strptime(x, '%d-%m-%Y')\ndf = pd.read_csv('..\/input\/covid19canada\/cases_timeseries_prov.csv', parse_dates=['Date'], date_parser=dateparse, names = header_list, header = 0)\ndf = df[['Date','Province', 'New Cases', 'Cumulative Cases']]\ndf = df.sort_values(['Date','Province'])\ndf.head()","c30adab0":"df.tail()","f32b5721":"df_pivot = df.pivot(index='Date', columns='Province', values='New Cases')\ndel df_pivot['Repatriated']\n\ndf_pivot.head()","6cf6d6d7":"df_pivot.tail()","eee38d99":"fig = go.Figure(data=[\n    go.Bar(name='Ontario', x=df_pivot.index, y=df_pivot['Ontario']),\n    go.Bar(name='Quebec', x=df_pivot.index, y=df_pivot['Quebec'], visible='legendonly'),\n    go.Bar(name='Alberta', x=df_pivot.index, y=df_pivot['Alberta'], visible='legendonly'),\n    go.Bar(name='BC', x=df_pivot.index, y=df_pivot['BC'], visible='legendonly'),\n    go.Bar(name='Manitoba', x=df_pivot.index, y=df_pivot['Manitoba'], visible='legendonly'),\n    go.Bar(name='Newfoundland', x=df_pivot.index, y=df_pivot['NL'], visible='legendonly'),\n    go.Bar(name='NWT', x=df_pivot.index, y=df_pivot['NWT'], visible='legendonly'),\n    go.Bar(name='New Brunswick', x=df_pivot.index, y=df_pivot['New Brunswick'], visible='legendonly'),\n    go.Bar(name='Nova Scotia', x=df_pivot.index, y=df_pivot['Nova Scotia'], visible='legendonly'),\n    go.Bar(name='Nunavut', x=df_pivot.index, y=df_pivot['Nunavut'], visible='legendonly'),\n    go.Bar(name='PEI', x=df_pivot.index, y=df_pivot['PEI'], visible='legendonly'),\n    go.Bar(name='Saskatchewan', x=df_pivot.index, y=df_pivot['Saskatchewan'], visible='legendonly')\n])\n\n# Change the bar mode\nfig.update_layout(barmode='group', title = \"Covid-19 Daily New Cases By Province\",title_x = 0.5,yaxis_title = \"Number Of Cases\",\n                  xaxis_title = \"Date\")\nfig.show()","a8b1de48":"df = pd.read_csv('..\/input\/covid19\/countries-aggregated.csv', parse_dates=['Date'])\ndf.head()","8246721b":"countries = ['Canada', 'Germany', 'United Kingdom', 'US', 'France', 'China']\ndf = df[df['Country'].isin(countries)]","7769d108":"df.tail()","05a6fafc":"df['Cases'] = df[['Confirmed', 'Recovered', 'Deaths']].sum(axis=1)","99100f39":"df.tail()","58fa6fe6":"df = df.pivot(index='Date', columns='Country', values='Cases')\ncountries = list(df.columns)\ncovid = df.reset_index('Date')\ncovid.set_index(['Date'], inplace=True)\ncovid.columns = countries","d60e067d":"covid.head()","1edee674":"colors = {'Canada':'#045275', 'China':'#089099', 'France':'#7CCBA2', 'Germany':'#FCDE9C', 'US':'#DC3977', 'United Kingdom':'#7C1D6F'}\nplt.style.use('fivethirtyeight')","a863621a":"plot = covid.plot(figsize=(12,8), color=list(colors.values()), linewidth=5, legend=False)\nplot.yaxis.set_major_formatter(ticker.StrMethodFormatter('{x:,.0f}'))\nplot.grid(color='#d4d4d4')\nplot.set_xlabel('Date')\nplot.set_ylabel('Number of Cases')\n\nfor country in list(colors.keys()):\n    plot.text(x = covid.index[-1], y = covid[country].max(), color = colors[country], s = country, weight = 'bold')\n    \nplot.text(x = covid.index[1], y = int(covid.max().max())+200000, s = \"COVID-19 Cases by Country\", fontsize = 23, weight = 'bold', alpha = .75)","d4f599af":"fig = go.Figure(data=[\n    go.Bar(name='US', x=df.index, y=df['US'], visible='legendonly'),\n    go.Bar(name='Germany', x=df.index, y=df['Germany'], visible='legendonly'),\n    go.Bar(name='France', x=df.index, y=df['France'], visible='legendonly'),\n    go.Bar(name='United Kingdom', x=df.index, y=df['United Kingdom'], visible='legendonly'),\n    go.Bar(name='China', x=df.index, y=df['China'], visible='legendonly'),\n    go.Bar(name='Canada', x=df.index, y=df['Canada'])\n])\n\n# Change the bar mode\nfig.update_layout(barmode='group', title = \"Covid-19 Total Cases By Country\",title_x = 0.5,yaxis_title = \"Number Of Cases\",\n                  xaxis_title = \"Date\")\nfig.show()","81302cbf":"The numbers you see below are the hex values of many different colours. [https:\/\/www.webucator.com\/blog\/2015\/03\/python-color-constants-module\/](https:\/\/www.webucator.com\/blog\/2015\/03\/python-color-constants-module\/)\n\n\"Fivethirtyeight\" is a style which tries to copy the style of graphs from [https:\/\/fivethirtyeight.com\/](https:\/\/fivethirtyeight.com\/)","148a5361":"Now I can actually create the graph. I will use a python library called plotly to create it.","d642f0a7":"After that, I have to create a pivot table. A pivot table is just the table we saw above in a different view. We need to create this in order to have the correct formatting.","654ac93f":"# Genius Hour: Covid-19 Visualizations","13d8e23d":"Create a graph of Canadas total cases by province day by day.\n\nI will create a bar graph. It will show new cases each day. The date will be on the x axis and the number of cases will be on the y axis. The bars for each province will be a different colour so they are easily told apart. There can also be a legend that shows what colour each province is.\n\nThis will help users understand the difference of the cases between each province. It will also help them observe how many cases their province has so that they can act accordingly.","e43cf6b0":"I will create a graph that shows other countries (The most severe countries) total cases side by side Canadas total cases.\n\nThis graph can compare Canadas total cases to other countries total cases. Users can make use of this graph because they can see which countries have a similar number of cases to Canada, and then they can act according to what other countries did.","bb943498":"### **Covid-19 Cumulative Cases by Country**","caf473ec":"Before everything happens, the program needs to read the data from the datafile.","a90de90e":"First, I have to import python libraries to this notebook. The libraries you see below are the ones that we are going to use. These libraries are very important when doing any coding.","f568881e":"### **Covid-19 Daily New Cases By Province**"}}