{"cell_type":{"9e1b658f":"code","c36f4699":"code","7402a825":"code","06bb8f69":"code","67868d65":"code","efc8e6c0":"code","8d72e41b":"code","0f183049":"code","236e6e34":"code","6cbdc8d5":"code","9712ceb2":"code","b8428a57":"code","5b47112c":"code","3caf9648":"code","9b668453":"code","674cbb2b":"code","b22f26d9":"code","babc8a84":"code","8dc0890c":"code","ead75493":"code","94e180d7":"code","be02cc87":"code","ef5565a8":"code","b18ca799":"code","652b4aba":"code","2ce8d7ee":"code","1dd15579":"code","90957b90":"code","ff600d2c":"markdown","acb77553":"markdown","c4cd63f5":"markdown","d57b916d":"markdown","41806698":"markdown","45491a80":"markdown","7ce19eb5":"markdown"},"source":{"9e1b658f":"import numpy as np \nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\nsns.set_style(\"whitegrid\")\n","c36f4699":"house_train= pd.read_csv(\"..\/input\/house-price-prediction\/train.csv\")\nhouse_test= pd.read_csv(\"..\/input\/house-price-prediction\/test.csv\")","7402a825":"house_train.head(3)","06bb8f69":"plt.figure(figsize=(20,10))\nsns.heatmap(house_train.isnull(),yticklabels=False,cbar=False)","67868d65":"plt.figure(figsize=(20,10))\nsns.heatmap(house_train.corr())","efc8e6c0":"sns.jointplot(y='SalePrice',x='Street',data=house_train)","8d72e41b":"house_train.describe()","0f183049":"house_train.info()","236e6e34":"house_train['SaleCondition'].unique()","6cbdc8d5":"house_test.head()","9712ceb2":"sns.scatterplot(x='GrLivArea',y='SalePrice',data=house_train)","b8428a57":"house_train=house_train.drop(house_train.loc[(house_train['GrLivArea']>4000) & (house_train['SalePrice']<200000)].index,0)\nhouse_train.reset_index(drop=True, inplace=True)\n\nsns.scatterplot(x='GrLivArea',y='SalePrice',data=house_train)","5b47112c":"house_trainrow=house_train.shape[0]\nhouse_testrow=house_test.shape[0]\n\nhouse_testids=house_test['Id'].copy()\n\ny_house_train=house_train['SalePrice'].copy()","3caf9648":"data=pd.concat((house_train,house_test)).reset_index(drop=True)\ndata=data.drop('SalePrice',1)","9b668453":"data=data.drop('Id',axis=1)\ndata.head(3)","674cbb2b":"missing = data.isnull().sum().sort_values(ascending=False)\nmissing = missing.drop(missing[missing==0].index)\nmissing","b22f26d9":"for cols in [\"PoolQC\",\"MiscFeature\",\"Alley\",\"Fence\",\"FireplaceQu\",\"GarageCond\",\"GarageQual\",\"GarageFinish\"]:\n    data[cols].fillna(\"NA\",inplace=True)\n    \nfor bsmt in [\"BsmtQual\",\"BsmtCond\",\"BsmtExposure\",\"BsmtFinType1\",\"BsmtFinType2\"]:\n    data[bsmt].fillna(\"NA\",inplace=True)\n    \n\n\nfor gar in ['GarageYrBlt','GarageType','GarageCars', 'GarageArea']:\n    data[gar].fillna(0,inplace=True)","babc8a84":"data['BsmtFinSF1']=data['BsmtFinSF1'].fillna(0)\ndata['BsmtFinSF2']=data['BsmtFinSF2'].fillna(0)\n\ndata['MasVnrType']=data['MasVnrType'].fillna('NA')\ndata['MasVnrArea']=data['MasVnrArea'].fillna(0)\n\ndata['MSZoning']=data['MSZoning'].fillna(data['MSZoning'].dropna().sort_values().index[0])\n\ndata['Utilities']=data['Utilities'].fillna(data['Utilities'].dropna().sort_values().index[0])\n","8dc0890c":"#BsmtFullBath\ndata['BsmtFullBath']=data['BsmtFullBath'].fillna(0)\ndata['Functional']=data['Functional'].fillna(data['Functional'].dropna().sort_values().index[0])\ndata['BsmtHalfBath']=data['BsmtHalfBath'].fillna(0)\ndata['BsmtUnfSF']=data['BsmtUnfSF'].fillna(0)","ead75493":"\ndata['Exterior2nd']=data['Exterior2nd'].fillna('NA')\ndata['Exterior1st']=data['Exterior1st'].fillna('NA')\ndata['TotalBsmtSF']=data['TotalBsmtSF'].fillna(0)\ndata['SaleType']=data['SaleType'].fillna(data['SaleType'].dropna().sort_values().index[0])\ndata['Electrical']=data['Electrical'].fillna(data['Electrical'].dropna().sort_values().index[0])\ndata['KitchenQual']=data['KitchenQual'].fillna(data['KitchenQual'].dropna().sort_values().index[0])","94e180d7":"missing=data.isnull().sum().sort_values(ascending=False)\nmissing=missing.drop(missing[missing==0].index)\nmissing","be02cc87":"data['LotFrontage']=data['LotFrontage'].fillna(data['LotFrontage'].dropna().mean())\n\nmissing=data.isnull().sum().sort_values(ascending=False)\nmissing=missing.drop(missing[missing==0].index)\nmissing","ef5565a8":"data['GrLivArea_2']=data['GrLivArea']**2\ndata['GrLivArea_3']=data['GrLivArea']**3\ndata['GrLivArea_4']=data['GrLivArea']**4\n\ndata['TotalBsmtSF_2']=data['TotalBsmtSF']**2\ndata['TotalBsmtSF_3']=data['TotalBsmtSF']**3\ndata['TotalBsmtSF_4']=data['TotalBsmtSF']**4\n\ndata['GarageCars_2']=data['GarageCars']**2\ndata['GarageCars_3']=data['GarageCars']**3\ndata['GarageCars_4']=data['GarageCars']**4\n\ndata['1stFlrSF_2']=data['1stFlrSF']**2\ndata['1stFlrSF_3']=data['1stFlrSF']**3\ndata['1stFlrSF_4']=data['1stFlrSF']**4\n\ndata['GarageArea_2']=data['GarageArea']**2\ndata['GarageArea_3']=data['GarageArea']**3\ndata['GarageArea_4']=data['GarageArea']**4\n\n\ndata['Floorfeet']=data['1stFlrSF']+data['2ndFlrSF']\ndata=data.drop(['1stFlrSF','2ndFlrSF'],1)\n\ndata=pd.get_dummies(data=data,columns=['MSSubClass'],prefix='MSSubClass')\ndata=pd.get_dummies(data=data,columns=['MSZoning'],prefix='MSZoning')\ndata.head()","b18ca799":"data=pd.get_dummies(data=data,columns=['Street','Alley','LotShape','LandContour','Utilities','LotConfig','LandSlope','Neighborhood','Condition1','Condition2','BldgType','HouseStyle'])\ndata.head()\n","652b4aba":"\ndata=pd.get_dummies(data=data,columns=['OverallQual'],prefix='OverallQual')\n#OverallCond\ndata=pd.get_dummies(data=data,columns=['OverallCond'],prefix='OverallCond')\n\ndata['Remodeled']=0\ndata.loc[data['YearBuilt']!=data['YearRemodAdd'],'Remodeled']=1\ndata=data.drop('YearRemodAdd',1)\ndata=pd.get_dummies(data=data,columns=['Remodeled'])\n\ndata=pd.get_dummies(data=data,columns=['RoofStyle','RoofMatl','Exterior1st','Exterior2nd','MasVnrType','ExterQual','ExterCond','Foundation','BsmtQual','BsmtCond','BsmtExposure','BsmtFinType1','BsmtFinType2','Heating','HeatingQC','CentralAir','Electrical','KitchenQual','Functional','FireplaceQu','GarageType','GarageFinish','GarageQual','GarageCond','PavedDrive','PoolQC','Fence','MiscFeature','SaleType','SaleCondition'])\n\ndata['Bath']=data['BsmtFullBath']+data['BsmtHalfBath']*.5+data['FullBath']+data['HalfBath']*.5\ndata=data.drop(['BsmtFullBath','BsmtHalfBath','FullBath','HalfBath'],1)\n\ndata=pd.get_dummies(data=data,columns=['BedroomAbvGr','KitchenAbvGr','TotRmsAbvGrd'])\n\ndata.loc[data['GarageYrBlt']==2207.,'GarageYrBlt']=0","2ce8d7ee":"from sklearn.preprocessing import StandardScaler\n\nx_train=data.iloc[:house_trainrow]\nx_test=data.iloc[house_trainrow:]\nscaler=StandardScaler()\nscaler=scaler.fit(x_train)\nx_train_scaled=scaler.transform(x_train)\nx_test_scaled=scaler.transform(x_test)","1dd15579":"from sklearn.ensemble import RandomForestRegressor\nrfr=RandomForestRegressor(n_estimators=1000)\nrfr.fit(x_train_scaled,y_house_train)\nprint(rfr.score(x_train_scaled,y_house_train))","90957b90":"predictions = rfr.predict(x_test)\n\nsubmission = pd.DataFrame(columns=['Id', 'SalePrice'])\nsubmission['Id'] = house_test['Id']\nsubmission['SalePrice'] = predictions\nsubmission.to_csv('submission.csv', index=False)","ff600d2c":"## Random Forest","acb77553":"## Import Libraries\n","c4cd63f5":"## Exploring Data","d57b916d":"## Prediction And Submission\n","41806698":"## Feature Scaling","45491a80":"# House_Price_Predictions_Using_RandomForest","7ce19eb5":"## Import CSV File"}}