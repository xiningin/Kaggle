{"cell_type":{"5b0893f3":"code","634c506c":"code","25d197e2":"code","5e28b1ac":"code","f5d0faf8":"code","3793e381":"code","497bf92f":"code","53a13410":"code","b0b28e53":"code","22901dbe":"code","81922186":"code","5fe7cdd4":"code","4f12f85f":"code","60019109":"code","122d52fd":"code","f16124b7":"code","fb1ec5b3":"code","bc067c4c":"code","d3874cc1":"code","76f10fd1":"code","3f2b11cf":"code","2438f15e":"code","4f882300":"code","102a25fa":"code","ee705b28":"code","a8d5f1c9":"code","a3f271d3":"code","691d705e":"code","b2281755":"code","fb68c955":"code","b019c2f5":"code","8cfea8d7":"code","9fec1ecb":"code","179c08e8":"code","9e473e7e":"code","753f113b":"code","a0900435":"code","9ea3e0af":"code","9cf4a4af":"code","194822d0":"code","7b191979":"code","3fb19c76":"markdown","921ed710":"markdown","f2ff6e38":"markdown","5e2fda79":"markdown","c5f5adae":"markdown","c30cbe2a":"markdown","cacc558a":"markdown","261ab3d4":"markdown","440eda90":"markdown","afac3203":"markdown","bca5059b":"markdown","f28b5f1e":"markdown","f5178db9":"markdown","98969b4b":"markdown","87e8c380":"markdown","ebd29046":"markdown","fa309687":"markdown","605ffa43":"markdown","10c8ea1d":"markdown","fdb7e52e":"markdown","5ef53957":"markdown","e6cafc46":"markdown","c5c88af9":"markdown","63959a95":"markdown"},"source":{"5b0893f3":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\n\n!pip install plotly\n!pip install chart_studio\n\nimport plotly.tools as tls\nimport plotly as py\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\nfrom chart_studio import plotly as py\nfrom plotly.offline import iplot\n\n%matplotlib inline\n","634c506c":"df = pd.read_csv(\"..\/input\/daily-temperature-of-major-cities\/city_temperature.csv\")\ndf.head()","25d197e2":"len(df.Country.unique())","5e28b1ac":"df.tail()","f5d0faf8":"df.shape","3793e381":"df.info()","497bf92f":"df = df.drop_duplicates()\ndf.shape","53a13410":"df.count()","b0b28e53":"for col in df.columns: # check missing values (Nan) in every column\n    print(\"The \" + col + \" contains Nan\" + \":\" + str((df[col].isna().any())))","22901dbe":"for col in df.columns: # check missing values (Zeros) in every column\n    print(\"The \" + col + \" contains 0\" + \":\" + str((df[col] == 0 ).any()))\ndf = df[df.Day != 0]\ndf.head()","81922186":"df = df[(df.Year!=200) & (df.Year!=201)]\ndf.head()","5fe7cdd4":"Average_Temperture_in_every_region = df.groupby(\"Region\")[\"AvgTemperature\"].mean().sort_values()[-1::-1]\nAverage_Temperture_in_every_region = Average_Temperture_in_every_region.rename({\"South\/Central America & Carribean\":\"South America\",\"Australia\/South Pacific\":\"Australia\"})\nAverage_Temperture_in_every_region","4f12f85f":"plt.figure(figsize = (15,8))\nplt.bar(Average_Temperture_in_every_region.index,Average_Temperture_in_every_region.values)\nplt.xticks(rotation = 10,size = 15)\nplt.yticks(size = 15)\nplt.ylabel(\"Average_Temperture\",size = 15)\nplt.title(\"Average Temperture in every region\",size = 20)\nplt.show()","60019109":"# change the index to date\ndatetime_series = pd.to_datetime(df[['Year','Month', 'Day']])\ndf['date'] = datetime_series\ndf = df.set_index('date')\ndf = df.drop([\"Month\",\"Day\",\"Year\"],axis = 1)\ndf.head()","122d52fd":"region_year = ['Region', pd.Grouper(freq='Y')]\ndf_region = df.groupby(region_year).mean()\ndf_region.head()","f16124b7":"plt.figure(figsize = (15,8))\nfor region in df[\"Region\"].unique():\n\n    plt.plot((df_region.loc[region]).index,df_region.loc[region][\"AvgTemperature\"],label = region) \n    \nplt.legend()\nplt.title(\"Growth of the average Temperture in every region over time\",size = 20)\nplt.xticks(size = 15)\nplt.yticks(size = 15)\nplt.show()","fb1ec5b3":"df_earth = df.groupby([pd.Grouper(freq = \"Y\")]).mean()\ndf_earth.head()","bc067c4c":"plt.figure(figsize = (15,8))\nplt.plot(df_earth.index,df_earth.values,marker =\"o\")\nplt.xticks(size =15)\nplt.ylabel(\"average Temperture\",size = 15)\nplt.yticks(size =15)\nplt.title(\"Growth of the average Temperture (Earth)\",size =20)\nplt.show()","d3874cc1":"top_10_hotest_Cities_in_The_world = df.groupby(\"City\").mean().sort_values(by = \"AvgTemperature\")[-1:-11:-1]\ntop_10_hotest_Cities_in_The_world","76f10fd1":"plt.figure(figsize = (15,8))\nplt.barh(top_10_hotest_Cities_in_The_world.index,top_10_hotest_Cities_in_The_world.AvgTemperature)","3f2b11cf":"city_year = ['City', pd.Grouper(freq='Y')]\ndf_city = df.groupby(city_year).mean()\ndf_city.head()","2438f15e":"plt.figure(figsize = (20,8))\nfor city in top_10_hotest_Cities_in_The_world.index:\n    plt.plot(df_city.loc[city].index,df_city.loc[city].AvgTemperature,label = city)\nplt.legend()\nplt.yticks(size = 15)\nplt.xticks(size = 15)\nplt.ylabel(\"Average Temperature\",size = 15)\nplt.title(\"The Growth of the Temperture in the hotest Cities in The world\",size = 20)\nplt.show()","4f882300":"hotest_Countries_in_The_world = df.groupby(\"Country\").mean().sort_values(by = \"AvgTemperature\")\nhotest_Countries_in_The_world.tail()","102a25fa":"plt.figure(figsize = (20,8))\nplt.bar(hotest_Countries_in_The_world.index[-1:-33:-1],hotest_Countries_in_The_world.AvgTemperature[-1:-33:-1])\nplt.yticks(size = 15)\nplt.ylabel(\"Avgerage Temperature\",size = 15)\nplt.xticks(rotation = 90,size = 12)\nplt.title(\"The hotest Countries in The world\",size = 20)\nplt.show()","ee705b28":"code = pd.read_csv(\"..\/input\/countries-iso-codes\/wikipedia-iso-country-codes.csv\") # this is for the county codes\ncode= code.set_index(\"English short name lower case\")\ncode.head()","a8d5f1c9":"code = code.rename(index = {\"United States Of America\":\"US\",\"C\u00f4te d'Ivoire\":\"Ivory Coast\",\"Korea, Republic of (South Korea)\":\"South Korea\",\"Netherlands\":\"The Netherlands\",\"Syrian Arab Republic\":\"Syria\",\"Myanmar\":\"Myanmar (Burma)\",\"Korea, Democratic People's Republic of\":\"North Korea\",\"Macedonia, the former Yugoslav Republic of\":\"Macedonia\",\"Ecuador\":\"Equador\",\"Tanzania, United Republic of\":\"Tanzania\",\"Serbia\":\"Serbia-Montenegro\"})\ncode.head()","a3f271d3":"hott = pd.merge(hotest_Countries_in_The_world,code,left_index = True , right_index = True , how = \"left\")\nhott.head()","691d705e":"data = [dict(type = \"choropleth\",autocolorscale = False, locations=  hott[\"Alpha-3 code\"], z = hott[\"AvgTemperature\"] ,\n              text = hott.index,colorscale = \"reds\",colorbar = dict(title = \"Temperture\"))]                         ","b2281755":"layout = dict(title = \"The Average Temperature around the world\",geo = dict(scope = \"world\",projection = dict(type = \"equirectangular\"),showlakes = True,lakecolor = \"rgb(66,165,245)\",),)","fb68c955":"fig = dict(data = data,layout=layout)\niplot(fig,filename = \"d3-choropleth-map\")","b019c2f5":"Variation_world = df.groupby(df.index.month).mean()\nVariation_world = Variation_world.rename(index = {1:\"January\",2:\"February\" ,3:\"March\" ,4:\"April\" ,5:\"May\" ,6:\"June\" ,7:\"July\" ,8:\"August\" ,9:\"September\" ,10:\"October\" ,11:\"November\" ,12:\"December\" })","8cfea8d7":"plt.figure(figsize=(18,8))\nsns.barplot(x=Variation_world.index, y= 'AvgTemperature',data=Variation_world,palette='Set2')\nplt.title('AVERAGE MEAN TEMPERATURE OF THE WORLD',size = 25)\nplt.xticks(size = 15)\nplt.yticks(size = 20)\nplt.xlabel(\"Month\",size = 20)\nplt.ylabel(\"AVERAGE MEAN TEMPERATURE\",size = 15)\nplt.show()","9fec1ecb":"Variation_UAE = df.loc[df[\"Country\"] == \"United Arab Emirates\"].groupby(df.loc[df[\"Country\"] == \"United Arab Emirates\"].index.month).mean()\nVariation_UAE = Variation_UAE.rename(index = {1:\"January\",2:\"February\" ,3:\"March\" ,4:\"April\" ,5:\"May\" ,6:\"June\" ,7:\"July\" ,8:\"August\" ,9:\"September\" ,10:\"October\" ,11:\"November\" ,12:\"December\" })","179c08e8":"plt.figure(figsize=(18,8))\nsns.barplot(x=Variation_UAE.index, y= 'AvgTemperature',data=Variation_UAE,palette='Set2')\nplt.title('Variation of the mean Temperature Over The 12 months in the United Arab Emirates',size = 20)\nplt.xticks(size = 15)\nplt.yticks(size = 20)\nplt.xlabel(\"Month\",size = 20)\nplt.ylabel(\"AVERAGE MEAN TEMPERATURE\",size = 15)\nplt.show()","9e473e7e":"plt.figure(figsize=(30,55))\ni= 1 # this is for the subplot\nfor region in df.Region.unique(): # this for loop make it easy to visualize every region with less code\n    \n    region_data =df[df['Region']==region]\n    final_data= region_data.groupby(region_data.index.month).mean()['AvgTemperature'].sort_values(ascending=False)\n\n    final_data = pd.DataFrame(final_data)\n    final_data = final_data.sort_index()\n\n    final_data = final_data.rename(index = {1:\"January\",2:\"February\" ,3:\"March\" ,4:\"April\" ,5:\"May\" ,6:\"June\" ,7:\"July\" ,8:\"August\" ,9:\"September\" ,10:\"October\" ,11:\"November\" ,12:\"December\" })\n    plt.subplot(4,2,i)\n    sns.barplot(x=final_data.index,y='AvgTemperature',data=final_data,palette='Paired')\n    plt.title(region,size = 20)\n    plt.xlabel(None)\n    plt.xticks(rotation = 90,size = 18)\n    plt.ylabel(\"Mean Temperature\",size = 15)\n    i+=1\n","753f113b":"Average_Temperature_USA = df.loc[df[\"Country\"] == \"US\"].groupby(\"State\").mean().drop([\"Additional Territories\"],axis = 0)\nAverage_Temperature_USA.head()\n","a0900435":"usa_codes = pd.read_csv('..\/input\/usa-states-codes\/csvData.csv')\nusa_codes =usa_codes.set_index(\"State\")\nAverage_Temperature_USA = pd.merge(Average_Temperature_USA,usa_codes,how = \"left\",right_index = True,left_index = True)\nAverage_Temperature_USA.head()","9ea3e0af":"data_usa = [dict(type = \"choropleth\",autocolorscale = False, locations=  Average_Temperature_USA[\"Code\"], z = Average_Temperature_USA[\"AvgTemperature\"] ,\n              locationmode=\"USA-states\",\n              text = Average_Temperature_USA.index,colorscale = \"reds\",colorbar = dict(title = \"Temperture\"))]                         \nlayout_usa = dict(title = \"The Average Temperature in the USA states\",geo = dict(scope = \"usa\",projection = dict(type = \"albers usa\"),showlakes = True,lakecolor = \"rgb(66,165,245)\",),)","9cf4a4af":"fig_usa = dict(data = data_usa,layout=layout_usa)\niplot(fig_usa,filename = \"d3-choropleth-map\")","194822d0":"Temperature_USA_year = df.loc[df[\"Country\"] == \"US\"].groupby(pd.Grouper(freq = \"Y\")).mean()\nTemperature_USA_year.head()","7b191979":"plt.figure(figsize = (15,8))\nsns.barplot(x = Temperature_USA_year.index.year,y = \"AvgTemperature\",data = Temperature_USA_year)\nplt.yticks(size = 15)\nplt.xticks(size = 15,rotation = 90)\nplt.xlabel(None)\nplt.ylabel(\"Avgerage Temperature\",size = 15)\nplt.title(\"Average Temperature in USA from 1995 to 2020\",size = 20)\nplt.show()","3fb19c76":"### 1. Average Temperture in every region","921ed710":"I changed some countries name in the code data frame so they become the same as our main data frame index\n\n##### This is important when merging the two data frames","f2ff6e38":"### 1. Importing the required libraries\n","5e2fda79":"### 4. The Growth of the Temperture in the hotest Cities in The world","c5f5adae":"### 2. Loading the data into the data frame + Exploring The Data\n","c30cbe2a":"### 3. The hotest Cities in The world","cacc558a":"### 5. The hotest Countries in The world","261ab3d4":"### 7. The Average Temperature around the world","440eda90":"### 8. Variation of the mean Temperature Over The 12 months around the world","afac3203":"# Data\n### Overview :\nThe rising average temperature of Earth's climate system, called global warming, is driving changes in rainfall patterns, extreme weather, arrival of seasons, and more. Collectively, global warming and its effects are known as climate change. While there have been prehistoric periods of global warming, observed changes since the mid-20th century have been unprecedented in rate and scale.\nSo a dataset on the temperature of major cities of the world will help analyze the same. Also weather information is helpful for a lot of data science tasks like sales forecasting, logistics etc.\nThe data is available for research and non-commercial purposes only.\n### license :\nhttp:\/\/academic.udayton.edu\/kissock\/http\/Weather\/default.htm\n### Content :\nDaily level average temperature values is present in city_temperature.csv file\n### Acknowledgements :\nUniversity of Dayton for making this dataset available in the first place!\n\nThe data contributor : https:\/\/www.kaggle.com\/sudalairajkumar\n","bca5059b":"### 9. Variation of the mean Temperature Over The 12 months in the hottest country in the world: United Arab Emirates\t","f28b5f1e":"#### we need to add the code to this data for visualization","f5178db9":"### 4. Dealing with the missing or null values","98969b4b":"### 2. Growth of the average Temperture in every region over time","87e8c380":"### 3. Growth of the average Temperture (Earth)","ebd29046":"# Exploratory Data Analysis : EDA","fa309687":"# Data Preparing","605ffa43":"##### Now we do the merging between the code data frame and our data","10c8ea1d":"### 11. The Average Temperature in the USA states","fdb7e52e":"we don't have missing values. Our data is **ready**","5ef53957":"### 10. Variation of mean Temperature over the months for each region","e6cafc46":"### 3. Dropping the duplicate rows","c5c88af9":"### 12.Average Temperature in USA from 1995 to 2020","63959a95":"when using plotly we need codes of countries \n\n#### Data of Codes:\n\nhttps:\/\/www.kaggle.com\/juanumusic\/countries-iso-codes\/data"}}