{"cell_type":{"7b8e0f7f":"code","2c88d739":"code","cc9aa683":"code","f6af2494":"code","a8dd7e6e":"code","f40c98a6":"code","32912c6b":"code","4793f280":"code","90e07cab":"code","77276d7d":"code","f67e83a4":"code","c2506d4e":"code","3d68ba9c":"code","41e5182e":"code","833c073d":"code","27866603":"code","e19bf6d7":"code","aff22f79":"code","f45f577b":"code","ac94b679":"code","e8055bb8":"code","90261152":"code","f5737e83":"code","044bedc2":"code","27f1797e":"code","ade9cbfd":"code","f62bef3f":"markdown","12491050":"markdown","b85b660f":"markdown","af968974":"markdown","0d1eb862":"markdown","a22a6c90":"markdown","46817736":"markdown","986650d3":"markdown","d6b7a0c9":"markdown","1b38a249":"markdown","7f6550fe":"markdown","683df15f":"markdown","fe684e09":"markdown","376794e4":"markdown","7a6cb4cf":"markdown","2d578428":"markdown","79a45c68":"markdown"},"source":{"7b8e0f7f":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns","2c88d739":"path_corona = '..\/input\/covid19-data-from-john-hopkins-university\/RAW_global_confirmed_cases.csv'\ncorona_dataset_csv = pd.read_csv(path_corona, delimiter=',') \ncorona_dataset_csv.head()","cc9aa683":"corona_dataset_csv.shape","f6af2494":"corona_dataset_csv.drop(['Lat', 'Long'], axis=1, inplace=True)\ncorona_dataset_csv.head()","a8dd7e6e":"corona_dataset_aggregated = corona_dataset_csv.groupby('Country\/Region').sum()\ncorona_dataset_aggregated.head()","f40c98a6":"corona_dataset_aggregated.shape","32912c6b":"corona_dataset_aggregated.loc['Indonesia'].plot()\ncorona_dataset_aggregated.loc['Italy'].plot()\ncorona_dataset_aggregated.loc['Canada'].plot()\ncorona_dataset_aggregated.loc['Australia'].plot()\ncorona_dataset_aggregated.loc['South Africa'].plot()\nplt.legend()\nplt.title('Infection Cases of COVID-19')","4793f280":"corona_dataset_aggregated.loc['US'].diff().max()","90e07cab":"corona_dataset_aggregated.loc['US'].diff().mean()","77276d7d":"#Find maximum infection rate for all of the countries\ncountries = list(corona_dataset_aggregated.index)\nmax_infection_rates = []\nfor c in countries : \n  max_infection_rates.append(corona_dataset_aggregated.loc[c].diff().max())\n\navg_infection_rates = []\nfor d in countries : \n  avg_infection_rates.append(corona_dataset_aggregated.loc[d].diff().mean())\n\ncorona_dataset_aggregated['max_infection_rates'] = max_infection_rates\ncorona_dataset_aggregated['avg_infection_rates'] = avg_infection_rates\ncorona_dataset_aggregated.head() #Combine max infection rate to the dataset","f67e83a4":"corona_dataset_aggregated","c2506d4e":"important_data = ['max_infection_rates', 'avg_infection_rates']\n\ncorona_data = pd.DataFrame(corona_dataset_aggregated[important_data])\ncorona_data.head()","3d68ba9c":"#Load happiness dataset\npath = '..\/input\/world-happiness-report-2021\/world-happiness-report-2021.csv'\nhappiness_report_csv = pd.read_csv(path, delimiter=',') \nhappiness_report_csv.head()","41e5182e":"remove_cols = ['Regional indicator', 'Standard error of ladder score', 'upperwhisker', 'lowerwhisker', 'Generosity', 'Perceptions of corruption', 'Ladder score in Dystopia', 'Explained by: Log GDP per capita', 'Explained by: Social support', 'Explained by: Healthy life expectancy', 'Explained by: Freedom to make life choices', 'Explained by: Generosity', 'Explained by: Perceptions of corruption', 'Dystopia + residual']","833c073d":"happiness_report_csv.drop(happiness_report_csv[remove_cols], axis=1, inplace=True)\nhappiness_report_csv.head()","27866603":"happiness_report_csv.set_index('Country name', inplace=True)\nhappiness_report_csv.head()","e19bf6d7":"corona_data.shape","aff22f79":"happiness_report_csv.shape","f45f577b":"data = corona_data.join(happiness_report_csv, how='inner')\ndata.head()","ac94b679":"data.corr()","e8055bb8":"infection_max = data['max_infection_rates']\ninfection_avg = data['avg_infection_rates']\nladder = data['Ladder score']\ngdp = data['Logged GDP per capita']\nsocial = data['Social support']\nhealth = data['Healthy life expectancy']\nfreedom = data['Freedom to make life choices']\n\nfig, axs = plt.subplots(2)\nsns.regplot(x=ladder, y=infection_max, ax=axs[0])\nsns.regplot(x=ladder, y=infection_avg, ax=axs[1])\nfig.suptitle('Correlation between Infection Rates and Ladder Score', fontsize = 30, y=1)  ","90261152":"fig, axs = plt.subplots(nrows=1, ncols=2, figsize=(15, 5))\nsns.regplot(x=ladder, y=np.log(infection_max), ax=axs[0])\nsns.regplot(x=ladder, y=np.log(infection_avg), ax=axs[1])\nfig.suptitle('Correlation between Infection Rates and Ladder Score', fontsize = 15, y=1)  ","f5737e83":"fig, axs = plt.subplots(nrows=1, ncols=2, figsize=(15, 5))\nsns.regplot(x=gdp, y=np.log(infection_max), ax=axs[0])\nsns.regplot(x=gdp, y=np.log(infection_avg), ax=axs[1])\nfig.suptitle('Correlation between Infection Rates and GDP Per Capita', fontsize = 15, y=1) ","044bedc2":"fig, axs = plt.subplots(nrows=1, ncols=2, figsize=(15, 5))\nsns.regplot(x=social, y=np.log(infection_max), ax=axs[0])\nsns.regplot(x=social, y=np.log(infection_avg), ax=axs[1])\nfig.suptitle('Correlation between Infection Rates and Social Support', fontsize = 15, y=1) ","27f1797e":"fig, axs = plt.subplots(nrows=1, ncols=2, figsize=(15, 5))\nsns.regplot(x=health, y=np.log(infection_max), ax=axs[0])\nsns.regplot(x=health, y=np.log(infection_avg), ax=axs[1])\nfig.suptitle('Correlation between Infection Rates and Health Life Expectancy', fontsize = 15, y=1) ","ade9cbfd":"fig, axs = plt.subplots(nrows=1, ncols=2, figsize=(15, 5))\nsns.regplot(x=freedom, y=np.log(infection_max), ax=axs[0])\nsns.regplot(x=freedom, y=np.log(infection_avg), ax=axs[1])\nfig.suptitle('Correlation between Infection Rates and Freedom', fontsize = 15, y=1) ","f62bef3f":"After manipulating our data, we now have dropped the column Lat and Long, and also we have group our data so that the infection of each countries are totaled.\n\nAfter aggregating the infection rates from each country, we now have a data from 195 countries, and their dialy infection rate. To better understand about the infection rate, we will be visualizing infection rate from 5 sample countries, Indonesia, Italy, United States, Australia, and South Africa. ","12491050":"From the visualization above, we can see how the number of recorded COVID-19 cases climbed up. \n\nBut for our analysis, we will need to process the data, since we want to know how much is the highest climb active cases dialy from each countries, and the average increase of active cases dialy. We will make two new calculations. ","b85b660f":"Now that the dataset only consist of important data to us, we need to merge the happiness dataset, with the previous dataset that we made about infection rate. To do that, we need to change something first in our happiness dataset. \n\nIn our happiness dataset, the index of the dataset is still ordinal numbers. To allow us to join the two dataset, we need to change the index into countries first. ","af968974":"In this project, we will be looking for the corrleation between the infection rate of COVID-19 from around the countries around the world, with the happiness of the country's citizen. Correlation is measure of the strength of a linear relationship between two quantitative variables. For the infection rate, we will be using data of COVID infecton from the Global Convirmed Case by the John Hopkins University, and for the happiness of the countries, we will be using The World Happiness Report from the Gallup World Poll\n\nNow since this is a broad subject, we will need to create a limitation for our analysis. For the Infection Rate of COVID-19, we will be using metrics from the Average of Infection per Day and Highest Infection Per Day, from the start of the pandemic untill present days. And for the Happiness Metrics, we will be using Ladder Score, which is the happiness score for a country. We would also create comparison from other metrics in the World Happiness Report with infection rate of COVID. \n\nFirst, we need to input the libraries for our analysis. ","0d1eb862":"Now that we have the data for our Infection Rate, we need the data for our countries Happiness. \n\nFirst, we load the dataset using pandas. ","a22a6c90":"Since our analysis focused on the correlation between the infection rates and happiness score, we created a correlation matrix between each variable. closer to 1 mean that there is a positive correlation, closer to 0 mean there is no corrlelation, and closer to -1 mean that there is a negative correlation.\n\nBut we can't understand this data. We need to visualize it to be able to understand it better. We will start with simple visualization between infection rates and ladder score. ","46817736":"Now our data is easier to see, and easier to read. Before we draw to any conclusions, we will also visualize the correlation between infection rates and the rest of the happiness report metrics. ","986650d3":"See that the happiness_report_csv, have less row than corona_data. This mean that not all of the countries in corona_data is listed in happiness_report_csv. \n\nSince we only need the list of countries that is in both of the dataset, we join them using inner join. Now that we have the data we need, we can start our analysis. ","d6b7a0c9":"After importing our libraries, now we will be importing our dataset. First, we will import the dataset for COVID-19 Data from John Hopkins University. The dataset consist of Country\/Region, Priovince\/State, Latitude & Longitude of the countries, and the number of cases of COVID-19 from January 22th of 2020 untill September 8th of 2021 from each countries.\n\nFrom the shape of our dataset, we can see that we have 279 row, but since the some countries are split between their provinces, we will need to merge their data to get the total infection of each countries per day. \n\nAlso, the latitude and longitude does not contribute to our analysis, which is why we will be dropping the column.","1b38a249":"# Correlation of COVID-19 Infection Rates with Happiness of a Country","7f6550fe":"Now, we have the max and average infection from each countries, therefore no longer needs the dialy cases data from our dataset. \n\nTherefore, we will be dropping the dialy cases from our dataset, leaving only country, max_infection_rates, and avg_infection_rates.","683df15f":"We import 4 libraries for our analysis, pandas, numpy, matplotlib, and seaborn. \n\npandas is a software library written for the Python programming language for data manipulation and analysis.\n\nNumPy is a library for the Python programming language, adding support for large, multi-dimensional arrays and matrices.\n\nmatplotlib and seaborn, is a visualization library to help us visualize the result of our analysis. ","fe684e09":"We created our plot, but the data points is too close to each other to create any kind of conclusions. To better understand this data, we will use numpy np.log() function.","376794e4":"After seeing the dataset, we notice that there are several data that we do not need, such as regional indicator, standard error of ladder score, and etc. \n\nTherefore, our first step is to remove the unnecessary column. To do that, we first list the name of the unnecessary column for our analysis, and put them inside a variable. Then all we have to do is use the drop() function to remove all the column that we have listed before. ","7a6cb4cf":"Now that we have change the index, we can continue to join the two dataset. ","2d578428":"Above, we use US as a sample country. We diff() to find the changes of cases from each day, use max() to find the highest dialy change of infection, and mean() to find the average dialy changes of infection.\n\nNow that we have the calculation for our analysis, we need to apply them for every countries in the list. ","79a45c68":"In our analysis, we compare highest infection rate dialy, and average infection dialy, with the 5 metrics of happines from countries around the globe. From our visualization, we can see that there is a positive correlation between the infection rates, and the happines from each countries. \n\nTo put it simply, a more happy and stable country, appear to have a higher infection rates than others. Of course there is many factors and variable that could effect this, and this is just a simple metrics that visualize the factors of infection rates from each countries. \n\nTherefore, based on the data that we have, a happier country have a higher infection rate than less happier countries. "}}