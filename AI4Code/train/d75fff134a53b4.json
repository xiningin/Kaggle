{"cell_type":{"4c8cee0d":"code","f963a41d":"code","f059a3b0":"code","3dab3200":"code","99826ee4":"markdown"},"source":{"4c8cee0d":"!apt -y install imagemagick","f963a41d":"base_path = '\/kaggle\/input\/alaska2-image-steganalysis\/'","f059a3b0":"import os\nimport numpy as np\nimport subprocess\nfrom numpy import savetxt\n\nc75 = [] \nc90 = [] \nc95 = [] \ncn = [] \n\nfor id in range(75001): \n    id = '{:05d}'.format(id) + '.jpg'\n    cover_path = os.path.join(base_path, 'Cover', id) \n    output = os.popen(\"identify -format '%Q' \"+cover_path).read()\n    #print(output)\n\n    if output != '':\n        output = int(output)\n\n    if output == 75:\n        #c75 = c75+1\n        c75.append(id)\n    elif output == 90:\n        #c90 = c90+1\n        c90.append(id)\n    elif output == 95:\n        #c95 = c95+1\n        c95.append(id)\n    else:\n        #cn = cn+1\n        cn.append(id)\n\nprint(\"Total 75 q = \",len(c75))\nprint(\"Total 90 q = \",len(c90))\nprint(\"Total 95 q = \",len(c95))\nprint(\"Total cannot detect = \",len(cn))\n\nsavetxt('c75.csv', c75, fmt='%s') \nsavetxt('c90.csv', c90, fmt='%s') \nsavetxt('c95.csv', c95, fmt='%s') \nsavetxt('cn.csv', cn, fmt='%s')","3dab3200":"import matplotlib.pyplot as plt; plt.rcdefaults()\nimport matplotlib.pyplot as plt\n\nq_data = ('Q95', 'Q90', 'Q75', 'Not detect Q')\ny_pos = np.arange(len(objects))\ntotal = [len(c95),len(c90),len(c75),len(cn)]\n\nplt.bar(y_pos, total, align='center', alpha=0.5)\nplt.xticks(y_pos, q_data)\nplt.ylabel('Total images')\nplt.title('No. of JPG quality')\n\nfor i, v in enumerate(total):\n    plt.text(i, v + 200, str(v))\n\nplt.show()\n","99826ee4":"This notebook shows a simple way to classify all JPG images based on their quality (75, 90, 95). <br \/>\nThis notebook used imagemagick app to determine the images quality. <br \/>\nIn summary, among 75000 training images, we found <br \/>\n23,415 images for 75q, <br \/>\n23,451 images for 90q, <br \/>\n23,442 images for 95q, and <br \/>\n4,693 images for unidentified quality. <br \/>\n<br \/>\nI hope this notebook might be useful for anyone who want to take the image quality in account.\n"}}