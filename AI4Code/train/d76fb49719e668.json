{"cell_type":{"51e01b9a":"code","d1608170":"code","78495587":"code","6c098a37":"code","71f86204":"code","513c84b5":"code","3d0a745b":"code","16fb0ac2":"code","f525402d":"code","2ca3b8eb":"code","a6fa0c4d":"code","625f598b":"code","4957e53d":"code","cc90fbe3":"code","bd8ed3cc":"code","2aed6f1e":"code","aa0adab4":"code","297c7bdc":"code","51aca54e":"code","d8ab4df6":"code","343bbf31":"markdown","b983d1a1":"markdown","00b1121b":"markdown","91652336":"markdown","60d0a06f":"markdown","a50bbd6e":"markdown","1f2ec283":"markdown","d227f312":"markdown","6a799f33":"markdown","b0e75d4b":"markdown","bd2a9edc":"markdown","5e71774e":"markdown","ebe38f44":"markdown","334b0cc5":"markdown","e2682053":"markdown","315be48c":"markdown","2c5b4dac":"markdown","c294c23f":"markdown","925f0131":"markdown","22d1bf97":"markdown","d1686409":"markdown","760e6e21":"markdown","6ce757de":"markdown","87476641":"markdown","787e9d5f":"markdown","b7ce5bb3":"markdown","5e54d018":"markdown","c3935929":"markdown","e0506928":"markdown","e1f98056":"markdown","fc38d54c":"markdown","20f01f8d":"markdown","49bd83e5":"markdown","8a8e2c4d":"markdown","5b37783d":"markdown","c3cc8207":"markdown"},"source":{"51e01b9a":"import pandas as pd\nimport numpy as np\nfrom matplotlib import pyplot as plt\nimport plotly\nimport plotly.plotly as py\nimport plotly.offline as offline\nfrom IPython.display import HTML\nfrom plotly import __version__\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)","d1608170":"path1 = (\"..\/input\/world-happiness\/2015.csv\")\nhappiness2015 = pd.read_csv(path1)\nhappiness2015.head()","78495587":"path2 = ('..\/input\/world-happiness\/2016.csv')\nhappiness2016 = pd.read_csv(path2)\nhappiness2016.head()","6c098a37":"path3 = ('..\/input\/world-happiness\/2017.csv')\nhappiness2017 = pd.read_csv(path3)\nhappiness2017.head()","71f86204":"happinesseconomy  = happiness2017.groupby(['Country', 'Economy..GDP.per.Capita.']).size().to_frame('count').reset_index()\nhappinesseconomy = happinesseconomy.sort_values('Economy..GDP.per.Capita.', ascending=False)\nhappinesseconomy[['Country', 'Economy..GDP.per.Capita.']].head(10)","513c84b5":"topHappiness = happiness2017[[\"Country\",\"Happiness.Score\"]]\ntopHappiness = topHappiness.sort_values(['Happiness.Score'], ascending=False).head(10)\ntopHappiness","3d0a745b":"leastHappiness = happiness2017[[\"Country\",\"Happiness.Score\"]]\nleastHappiness = leastHappiness.sort_values(['Happiness.Score'], ascending=True).head(10)\nleastHappiness","16fb0ac2":"import seaborn as sns\nimport numpy as np","f525402d":"corr = happiness2017.corr()\nsns.heatmap(corr, annot = True, cbar = True, fmt= '.2f', linewidths=.5)","2ca3b8eb":"happinesseconomy = happiness2017.groupby(['Country',\"Happiness.Score\",'Economy..GDP.per.Capita.',\"Health..Life.Expectancy.\",\"Family\"]).size()\nhappinesseconomy = happinesseconomy.to_frame('count').reset_index()\nhappinesseconomy = happinesseconomy.sort_values('Happiness.Score', ascending=False)\nhappinesseconomy.head(5)\n","a6fa0c4d":"happinesseconomy.plot(kind='scatter', x='Economy..GDP.per.Capita.', y=\"Happiness.Score\",alpha = 0.5,color = 'red')\nplt.xlabel('Economy')              \nplt.ylabel('Happiness')\nplt.title('Economy with Happiness Score  Plot')\nplt.show()","625f598b":"happinesseconomy.plot(kind='scatter', x= \"Health..Life.Expectancy.\" , y=\"Happiness.Score\",alpha = 0.5,color = 'blue')\nplt.xlabel('Health')              \nplt.ylabel('Happiness')\nplt.title('Health with Happiness Score  Plot')\nplt.show()","4957e53d":"happinesseconomy.plot(kind='scatter', x= \"Family\" , y=\"Happiness.Score\",alpha = 0.5,color = 'green')\nplt.xlabel('Family')              \nplt.ylabel('Happiness')\nplt.title('Family with Happiness Score  Plot')\nplt.show()","cc90fbe3":"df2015 = happiness2015.rename(columns={'Happiness Score': 'Happiness Score15', 'Happiness Rank': 'Happiness Rank15'})\ndf2015 = df2015[[\"Country\", 'Happiness Score15', 'Happiness Rank15']]\ndf2016 = happiness2016.rename(columns={'Happiness Score': 'Happiness Score16', 'Happiness Rank': 'Happiness Rank16'})\ndf2016 = df2016[[\"Country\", 'Happiness Score16', 'Happiness Rank16']]\ndf2017 = happiness2017.rename(columns={'Happiness.Score': 'Happiness Score17', 'Happiness.Rank': 'Happiness Rank17'})\ndf2017 = df2017[[\"Country\", 'Happiness Score17', 'Happiness Rank17']]\ndf3 = pd.merge(df2015, df2016)\ndffinal = pd.merge(df3,df2017 )\ndffinal.columns\ndffinal[\"Diff\"] = dffinal['Happiness Rank15']- dffinal['Happiness Rank17']\nimproving = dffinal.sort_values(['Diff'], ascending = False)\nimproving.head(5)","bd8ed3cc":"df2015 = happiness2015.rename(columns={'Happiness Score': 'Happiness Score15', 'Happiness Rank': 'Happiness Rank15'})\ndf2015 = df2015[[\"Country\", 'Happiness Score15', 'Happiness Rank15']]\ndf2016 = happiness2016.rename(columns={'Happiness Score': 'Happiness Score16', 'Happiness Rank': 'Happiness Rank16'})\ndf2016 = df2016[[\"Country\", 'Happiness Score16', 'Happiness Rank16']]\ndf2017 = happiness2017.rename(columns={'Happiness.Score': 'Happiness Score17', 'Happiness.Rank': 'Happiness Rank17'})\ndf2017 = df2017[[\"Country\", 'Happiness Score17', 'Happiness Rank17']]\ndf3 = pd.merge(df2015, df2016)\ndffinal = pd.merge(df3,df2017 )\ndffinal.columns\ndffinal[\"Diff\"] = dffinal['Happiness Rank17']- dffinal['Happiness Rank15']\nfalling = dffinal.sort_values(['Diff'], ascending = False)\nfalling.head(5)","2aed6f1e":"df15 = happiness2015.rename(columns={'Economy (GDP per Capita)': 'Economy (GDP per Capita)15', 'Health (Life Expectancy)': 'Health (Life Expectancy)15'})\ndf16 = happiness2016.rename(columns={'Economy (GDP per Capita)': 'Economy (GDP per Capita)16', 'Health (Life Expectancy)': 'Health (Life Expectancy)16'})\ndf17 = happiness2017.rename(columns={'Economy..GDP.per.Capita.': 'Economy..GDP.per.Capita.17', 'Health..Life.Expectancy.': 'Health..Life.Expectancy.17'})\ndf4 = pd.merge(df15,df16, on=\"Country\")\ndfcountry = pd.merge(df4,df17, on=\"Country\")\ndfnew = dfcountry.loc[dfcountry['Country'].isin(['Latvia','Egypt', 'Bulgaria','Hungary','Romania'])]\ndfnew = dfnew[['Country','Economy (GDP per Capita)15','Economy (GDP per Capita)16','Economy..GDP.per.Capita.17','Health (Life Expectancy)15','Health (Life Expectancy)16','Health..Life.Expectancy.17']]\ndfnew\n\n","aa0adab4":"df = happiness2015[['Region', 'Country']]\ndf1 = pd.merge(happiness2017,df, on=\"Country\")\ndf1[df1.Region == 'Sub-Saharan Africa']","297c7bdc":"df015 = happiness2015.rename(columns={'Freedom': 'Freedom15', 'Trust (Government Corruption)': 'Government Corruption15'})\ndf016 = happiness2016.rename(columns={'Freedom': 'Freedom16', 'Trust (Government Corruption)': 'Government Corruption16'})\ndf017 = happiness2017.rename(columns={'Freedom': 'Freedom17', 'Trust..Government.Corruption.':'Government Corruption17'})\ndf04 = pd.merge(df015,df016, on=\"Country\")\ndfcountry = pd.merge(df04,df017, on=\"Country\")\ndfnew1 = dfcountry.loc[dfcountry['Country'].isin(['Venezuela','Liberia', 'Zambia','Haiti','Zimbabwe'])]\ndfnew1 = dfnew1[['Country','Freedom15','Freedom16','Freedom17','Government Corruption15','Government Corruption16','Government Corruption17']]\ndfnew1\n","51aca54e":"path = ('..\/input\/countries-iso-codes\/wikipedia-iso-country-codes.csv')\ndf5 = pd.read_csv(path)\ndf6 = df5.rename(columns={'English short name lower case': 'Country'})\ndf7 = pd.merge(happiness2017,df6, on=\"Country\")\n\ndata = [ dict(\n        type = 'choropleth',\n        locations = df7['Alpha-3 code'],\n        z = df7['Happiness.Score'],\n        text = df7['Country'],\n        colorscale = [[0,\"rgb(5, 10, 172)\"],[0.35,\"rgb(40, 60, 190)\"],[0.5,\"rgb(70, 100, 245)\"],\\\n            [0.6,\"rgb(90, 120, 245)\"],[0.7,\"rgb(106, 137, 247)\"],[1,\"rgb(220, 220, 220)\"]],\n        autocolorscale = False,\n        reversescale = True,\n        marker = dict(\n            line = dict (\n                color = 'rgb(180,180,180)',\n                width = 0.5\n            ) ),\n        colorbar = dict(\n            autotick = False,\n            title = 'Happiness score'),\n      ) ]\n\nlayout = dict(\n    title = 'World Happiness',\n    geo = dict(\n        showframe = False,\n        showcoastlines = False,\n        projection = dict(\n            type = 'Mercator'\n        )\n    )\n)\n\nfig = dict( data= data, layout=layout )\nplotly.offline.iplot(fig, validate = False)\n","d8ab4df6":"dystopia = happiness2017[['Dystopia.Residual', 'Happiness.Score']]\ndystopia = dystopia.sort_values('Dystopia.Residual', ascending=False)\nplt.plot(dystopia['Dystopia.Residual'],dystopia['Happiness.Score'])\nplt.title(\"Dystopia Residual with Happiness Score\")\nplt.xlabel(\"Dystopia Residual\")\nplt.ylabel(\"Happiness Score\")\nplt.show\n","343bbf31":"### Solution Approach:\n- Choose the country and happinese score colunms from given dataset\n- Sort values by happiness score","b983d1a1":"## Question 6: Looking at 3 years of happiness data, which countries are falling behind?","00b1121b":"## Question 10: Analyze Dystompia.Residual and find out how it impacts happiness. ","91652336":"# 10 Questions about world happiness\nIn this notebook, I'll find 10 key insights about world happiness, based on the given data.\n","60d0a06f":"## Question 5: Looking at 3 years of happiness data, which countries are improving happiness rank?","a50bbd6e":"### Insight:\n- Freedom and Government Corruption are the factors who is leading drop in happiness rank.","1f2ec283":"### Insight:\n- There is five countries who are improving happiness in last three years. Lativa is in first place to improving country happiness score.","d227f312":"### Solution Approach: \n- Choose the country and happinese score colunms from given dataset\n- Sort the value in ascending order","6a799f33":"### Insight:\n- Happineess score are not much affected by the dystopia residuals.\n","b0e75d4b":"### Solution Approach:\n- Find the correlation in given factors\n- Choose the factors whith have strong realtion\n","bd2a9edc":"## Question 1: Which are top 10 countries who have highest economy in 2017?","5e71774e":"## Insight:\n- Central African Republic have least happiness score, which is 2.6 out of 10 score. \t","ebe38f44":"### Insight:\n- African countries are struggling, who have lowest happiness rank. ","334b0cc5":"## Question 3: Which are 10 least happiest countries in the world?","e2682053":"## Question 8.a Which region's countries have lowest happiness rank?","315be48c":"## Question 2: Which are top 10 happiest countries in the world?","2c5b4dac":"### Solution Approach:\n- Read the data \n- Group the dataframe by countries and economy \n- Sort the values in ascending order","c294c23f":"#### Conclusion:\n- Norway has jumped from 4th place in 2016 to 1st place this year, followed by Denmark, Iceland and Switzerland in a tightly packed bunch. All of the top four countries rank highly on all the main factors found to support happiness: to increase the freedom, health, income and good governance.\n- All of the other countries in the top ten also have high values in all six of the key variables used to explain happiness differences among countries and through time \u2013 income, healthy life expectancy, having someone to count on in times of trouble, generosity, freedom and trust, with the latter measured by the absence of corruption in business and government. Here too there has been some shuffling of ranks among closely grouped countries, with this year\u2019s rankings placing Finland in 5thplace, followed by the Netherlands, Canada, New Zealand, and Australia and Sweden tied for the 9th position, having the same 2015-2016 score to three decimals.\n- The people are in Africa really among the least happy in the world.\n- The USA is in 14th possition in 2017.The reasons are declining social support and increased corruption.\n","925f0131":"### Insight:\n- Norway, Filand and Canada are the few countries who have highest happiness score.\n","22d1bf97":"### Solution Approach \n- Choose region and country from happiness 2015 dataset\n- Merge with happiness 2017 dataset\n- Find out the Sub-Saharan Africa in region\n","d1686409":"## Insight:\n- Cuntries happiness are influence by economy and health life expectancy\n","760e6e21":"### Solution Approach:\n- Take all three dataset\n- Rename the columns neme in dataset\n- Merage the dataset and make new dataframe\n- Choose country name those leading to drop happiness in last three years\n- Campare the freedom and trust factors.\n\n","6ce757de":"### Solution Approach:\n- Take all three dataset\n- Rename the columns neme in dataset\n- Merage the dataset and make new dataframe\n- Choose country name those improving happiness in last three years\n- Campare the economy and health expectancy.","87476641":"## Question 9: Plot a heatmap (on world map) of happiness score.\n","787e9d5f":"## Question 8 b: Similarly research what is leading to drop in hapiness rank?\n","b7ce5bb3":"## Insight:\n- Qatar have the highest economy in 2017 and Luxembourg\tis in second place.\n","5e54d018":"## Question 7: Can you reasearch what is helping the country improve its happiness rank?","c3935929":"### Solution Approach :\n- Take the all three year dataset\n- Rename the factor names\n- Merge the data in one dataframe\n- Add difference column of happiness rank of year 2015 and 2017","e0506928":"### Solution Approach :\n- Merge happiness dataset with country codes dataset\n- Plot choropleth map","e1f98056":"## Insight:\n- In 2017, Norway is the one of the country who have highest happiness score.","fc38d54c":"<img src=\"https:\/\/png2.kisspng.com\/sh\/e802dd947a96ba3c7af229c49824a8b5\/L0KzQYm3VcAyN5R1j5H0aYP2gLBuTgdwep1pRelEbHnoPbjzjBJidF5ogeZyenXxg7nwkL1zd6pmhOZELXb1dba0kBNpd5DxRadqZUjoQoi6gvZla5U8RqsCMkC8QIeAUcUzPWM2SakBM0e7RYq1kP5o\/kisspng-world-wylie-global-citizenship-royalty-free-school-5ae8e273bfdcd7.9720906715252117637859.png\" alt=\"Drawing\" style=\"width: 300px;\">","20f01f8d":"## Question 4: What factors influence happiness ?","49bd83e5":"### Solution Approach:\n- Choose dystopia and happiness score\n- Sort values by dystopia residual\n- plot dystopia residual vs happiness score","8a8e2c4d":"### Insight:  \n- After camparing the economy GDP and health expectancy in all three years, we can say that these are the factors who is helping to improving the happiness rank.  ","5b37783d":"### Solution Approach :\n- Merge the datasets same as the queation 5 \n- Add difference column of happiness rank of year 2017 and 2015 \n","c3cc8207":"### Insight:\n- There is five countries who are falling behind happiness in last three years. Venezuela is in first place to falling country happiness ."}}