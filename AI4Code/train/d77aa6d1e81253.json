{"cell_type":{"2fcd1c89":"code","e6883eda":"code","f4de2fd4":"code","1234b3b5":"code","da8c8a83":"code","a478e1a2":"code","b4bfc00b":"code","030d9d6a":"code","d4b95a67":"code","6d21a576":"code","d22dc384":"code","06ce29bc":"code","17ff8dcb":"code","5c9494f8":"code","ed326880":"code","817ea7f1":"code","e006920c":"code","3c909fe6":"code","143db762":"code","785f2262":"code","62127640":"code","7f55c108":"code","b11b8eff":"code","9a97e2eb":"code","5b202265":"code","69620a6e":"code","59e34f6b":"code","2703c84f":"code","20329e26":"code","25146613":"code","f6e49c65":"code","1d1513b6":"code","67be9a41":"code","19b564ee":"code","628eb032":"code","4936fdc2":"code","e2b4052e":"code","d9ec1ed5":"code","8e68bee0":"code","3bda084c":"code","c88523e6":"code","12469366":"code","0bd833c1":"code","03611961":"code","a879774b":"code","182e9b96":"code","aceb0832":"code","f04da22e":"code","30ff0f03":"code","f3c70abd":"code","deed5b7a":"code","d8cbba67":"code","68837c25":"code","53b4748f":"code","9d8bd9ac":"code","fc548135":"code","8cd40f82":"code","c520a4e3":"code","2edc814d":"code","b0986e1a":"code","3e464fb9":"code","a245c5c4":"code","6a231ff2":"code","79d01085":"code","7d744ad3":"code","78783ed3":"markdown","6564e79f":"markdown","5890268e":"markdown","e2466842":"markdown","2d4f0bb3":"markdown","00f4457a":"markdown","f32203c1":"markdown","3ac03c0b":"markdown","fab699f7":"markdown","7a82e49d":"markdown","7a909ae2":"markdown","badb8e5d":"markdown","f8f643d9":"markdown","14642ade":"markdown","7c439a40":"markdown","88a749f1":"markdown","84d8f350":"markdown","97b7fb8c":"markdown","6732689d":"markdown","c19fe682":"markdown","b7b205ac":"markdown","1d45a51d":"markdown","8c9da79a":"markdown","d908234d":"markdown","6d2eb14c":"markdown","e5b809a0":"markdown","58cf8e73":"markdown","1e13d386":"markdown","fc5d5d61":"markdown","b089bfc8":"markdown","417eef3b":"markdown","42298617":"markdown","490ab0a0":"markdown","dd7617b1":"markdown","cc42799b":"markdown","9100a6dc":"markdown","ac2cde89":"markdown","b599d7ec":"markdown","64ced47d":"markdown","0d81a14d":"markdown","8b2ad0fb":"markdown","f619829d":"markdown","1fb63d6e":"markdown","28885dc5":"markdown","0cd6054b":"markdown","e40adb5e":"markdown","a3be9f6f":"markdown","ecb353b3":"markdown","7656a482":"markdown","dc7fe6da":"markdown","f2cbebee":"markdown","93a0ad60":"markdown","9620df9e":"markdown","26334199":"markdown","caf17615":"markdown","2e5f45c6":"markdown","423ff619":"markdown","ddf52aaa":"markdown","b75acf9c":"markdown","b60f8c6c":"markdown","489fbe5b":"markdown","f4854c9b":"markdown","b31e2dd6":"markdown","448fe430":"markdown","718ac577":"markdown","67f18dcb":"markdown","80e44bc8":"markdown","6674366c":"markdown","8826cbdd":"markdown","ba4eba3b":"markdown","43ec7378":"markdown","4f4b591e":"markdown","0cf22075":"markdown","18c67ee2":"markdown","015d42f8":"markdown","222e6bba":"markdown","1476dc74":"markdown","8210b0f9":"markdown","74f34baf":"markdown","80aa0590":"markdown","99b5da6f":"markdown"},"source":{"2fcd1c89":"import numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings(\"ignore\")\nsns.set_style(\"dark\")\nfrom plotly.offline import init_notebook_mode, iplot, plot\nimport plotly as py\ninit_notebook_mode(connected=True)\nimport plotly.graph_objs as go","e6883eda":"pd.set_option('display.max_columns', None)","f4de2fd4":"df = pd.read_csv('\/kaggle\/input\/student-alcohol-consumption\/student-por.csv')\ndf","1234b3b5":"df.head()","da8c8a83":"df.info()","a478e1a2":"df.shape","b4bfc00b":"df.dtypes","030d9d6a":"df.nunique","d4b95a67":"df.describe()","6d21a576":"df.isnull().sum()","d22dc384":"df.duplicated().sum()","06ce29bc":"data= df.drop(['school', 'famsize', 'reason', 'schoolsup', 'paid', 'nursery', 'health', 'G1', 'G2'], axis=1)\ndata","17ff8dcb":"data.rename(columns={'sex':'gender'}, inplace=True)\ndata","5c9494f8":"plt.figure(figsize=(8,8))\nsns.boxplot(x=data[\"age\"], color='royalblue')\nplt.title(\"Age Distribution\")\nplt.xlabel(\"Age\");\n","ed326880":"data['age'].value_counts()","817ea7f1":"data.loc[data[\"age\"]== 21]","e006920c":"data.loc[data[\"age\"]== 20]","3c909fe6":"data.drop([247,392,306,376,390],axis=0,inplace=True)\ndata","143db762":"total_female = data.gender.value_counts()[\"F\"]\ntotal_female","785f2262":"total_male = data.gender.value_counts()[\"M\"]\ntotal_male ","62127640":"total = data[\"gender\"].value_counts()\ntotal","7f55c108":"my_circle=plt.Circle( (0,0), 0.7, color='white') \n\nplt.figure(figsize=(10,10))\n\nplt.pie(total.values,\n        labels = total.index,\n        autopct='%1.2f%%')\np = plt.gcf()\np.gca().add_artist(my_circle)\nplt.title('Gender Distribution');\n","b11b8eff":"data['age'].value_counts()","9a97e2eb":"plt.figure(figsize=(20,5))\nsns.violinplot(data['age'], color='limegreen', inner='stick');\nplt.title('Age Distribution')\nplt.xlabel('Age');\n","5b202265":"data['age'].max()","69620a6e":"data['age'].min()","59e34f6b":"data['age'].mean()","2703c84f":"data['age'].mode()","20329e26":"x = data.groupby('gender')['age'].mean().round(2)\nx","25146613":"len(data[data['Walc']== 0])","f6e49c65":"len(data[data['Dalc']== 0])","1d1513b6":"data.groupby(['age'])['Dalc'].describe()","67be9a41":"x = data.groupby(['age'])['Dalc'].describe()\ndf2 = x.reset_index(drop=False)\ndf2","19b564ee":"data.groupby(['age'])['Walc'].describe()","628eb032":"y = data.groupby(['age'])['Walc'].describe()\ndf3 = y.reset_index(drop=False)\ndf3","4936fdc2":"fig, axes = plt.subplots(1, 2, figsize= (14,8))\nplt.suptitle('Alcohol consumption per age')\n\nsns.scatterplot(ax=axes[0], data = df2, x = \"age\", y = \"mean\", color='red')\naxes[0].set_title('Daily alcohol consumption')\n\nsns.scatterplot(ax=axes[1], data = df3, x = \"age\", y = \"mean\", color='green')\naxes[1].set_title('Weekend alcohol consumption');\n","e2b4052e":"data_edades = data[data['age'] <= 19]\n\nfig, axes = plt.subplots(1, 2, figsize= (14,8))\nplt.suptitle('Alcohol consumption per age')\n\nsns.violinplot(ax=axes[0], x='age', y='Dalc', data=data_edades, color='cyan')\naxes[0].set_title('Daily alcohol consumption')\n\nsns.violinplot(ax=axes[1], x='age', y='Walc', data=data_edades, color='blue')\naxes[1].set_title('Weekend alcohol consumption');","d9ec1ed5":"data.groupby(['gender'])['Dalc'].describe()","8e68bee0":"data.groupby(['gender'])['Walc'].describe()","3bda084c":"fig, axes = plt.subplots(1, 2, figsize= (14,8))\nplt.suptitle('Alcohol consumption per gender')\n\nk = sns.countplot(ax=axes[0], x='gender', data = data, hue='Dalc', palette='bright')\naxes[0].set_title('Daily alcohol consumption')\nk.yaxis.set_visible(False)\n\nr = sns.countplot(ax=axes[1], x='gender', data = data, hue='Walc', palette='bright')\naxes[1].set_title('Weekend alcohol consumption')\nr.yaxis.set_visible(False);\n\n\n","c88523e6":"data.groupby(['gender','age']).agg(['mean', 'min', 'max']).round(2)['Dalc']\n","12469366":"sns.catplot(x = 'age',\n                   y = 'Dalc',\n                   hue = 'gender',\n                   data = data,\n                   height = 8,\n                   aspect = 2, \n                   palette='bright');\nplt.title('Daily Alcohol Distribution per Age and Gender')\nplt.xlabel('Age');\nplt.ylabel('Dalc');\n","0bd833c1":"data.groupby(['gender','age']).agg(['mean', 'min', 'max']).round(2)['Walc']","03611961":"sns.catplot(x = 'age',\n                   y = 'Walc',\n                   hue = 'gender',\n                   data = data,\n                   height = 8,\n                   aspect = 2,\n                   palette='bright');\nplt.title('Weekend Alcohol Distribution per Age and Gender');\nplt.xlabel('Age');\nplt.ylabel('Walc');\n","a879774b":"filtered = data[(data['guardian']=='father')|(data['guardian']=='mother')]\nfiltered","182e9b96":"f, axes = plt.subplots(1, 2, figsize= (14,8))\nplt.suptitle('Guardian and Alcohol Consumption')\n\nsns.swarmplot(ax=axes[0], x=\"guardian\", y=\"Dalc\", data=filtered, palette='bright')\naxes[0].set_title('Daily alcohol consumption')\n\nsns.swarmplot(ax=axes[1], x=\"guardian\", y=\"Walc\", data=filtered, palette='bright')\naxes[1].set_title('Weekend alcohol consumption');\n","aceb0832":"import plotly.express as px\n\ndef draw_sunburst(data_frame, path, color, save=False, filename= None):\n    fig = px.sunburst(\n    data_frame = data_frame,\n    path = path,\n    color = color,\n    color_discrete_sequence = [\"red\",\"green\",\"blue\",\"orange\"],\n    maxdepth = -1,\n    )\n    fig.update_traces(textinfo='label+percent entry')\n    fig.update_layout(margin=dict(t=0, l=0, r=0, b=0))\n\n    fig.show()","f04da22e":"draw_sunburst(data_frame=data, path=['famsup', 'Dalc'], color='famsup', save=True, filename='famsup')","30ff0f03":"fig, axes = plt.subplots(1, 2, figsize= (14,8))\nplt.suptitle(\"Family support and alcohol consumption\")\n\nsns.violinplot(ax=axes[0],x='famsup',y=\"Dalc\", data=data, split='True', inner=None)\nsns.swarmplot(ax=axes[0],x='famsup',y=\"Dalc\", data=data, dodge='True', color='purple', alpha=.8, s=4)\naxes[0].set_title('Daily alcohol consumption')\n\nsns.violinplot(ax=axes[1],x='famsup',y=\"Walc\", data=data, split='True', inner=None)\nsns.swarmplot(ax=axes[1],x='famsup',y=\"Walc\", data=data, dodge='True', color='purple', alpha=.8, s=4)\naxes[1].set_title('Weekend alcohol consumption');","f3c70abd":"plt.figure(figsize= (100,8))\nsns.catplot(y=\"G3\", x=\"Dalc\",hue='gender', kind=\"swarm\", data=data)\nplt.suptitle('Alcohol Consumption and Degrees')\nplt.show();\n","deed5b7a":"a = sns.catplot(data=data,x=\"Dalc\",col=\"address\",kind=\"count\",col_wrap=3,palette='bright')\na.set(yticklabels=[])\na.set(ylabel=None);\n","d8cbba67":"b = sns.catplot(data=data,x=\"Walc\",col=\"address\",kind=\"count\",col_wrap=3,palette='bright')\nb.set(yticklabels=[]);\nb.set(ylabel=None);\n","68837c25":"draw_sunburst(data_frame=data, path=['Pstatus', 'Walc'], color='Pstatus', save=True, filename='parents')","53b4748f":"draw_sunburst(data_frame=data, path=['higher', 'Walc'], color='higher',save=True, filename='higher')","9d8bd9ac":"draw_sunburst(data_frame=data, path=['romantic', 'Walc'], color='romantic', save=True, filename='romantic')","fc548135":"data['internet2'] = df.internet.map(dict(yes=1, no=0))","8cd40f82":"data['internet']=data['internet2']","c520a4e3":"datainternet = data.drop(['internet2'], axis=1)\ndatainternet","2edc814d":"plt.figure(figsize= (14,8))\nd = sns.countplot('Walc',hue='internet',data=datainternet)\nd.yaxis.set_visible(False)\nplt.suptitle('Internet and Weekend Alcohol Consumption');","b0986e1a":"plt.figure(figsize=(20,8))\nsns.heatmap(data.corr(),annot=True,cmap=\"viridis\");\n","3e464fb9":"plt.figure(figsize= (14,8))\nsns.barplot(x=\"Walc\", y=\"goout\", data=data, ci=None,  color='red')\nplt.suptitle('Goout and Weekend Alcohol Consumption');\n\n","a245c5c4":"pd.crosstab([data.Walc,data.goout],data.gender,margins=True).style.background_gradient(cmap='summer_r')","6a231ff2":"sns.factorplot('Walc','goout', data=data)\nplt.show()","79d01085":"plt.figure(figsize= (14,8))\nsns.barplot(x=\"Walc\", y=\"studytime\", data=data, ci=None,  color='navy')\nplt.suptitle('Study time and Weekend Alcohol Consumption');\n","7d744ad3":"plt.figure(figsize= (14,8))\nsns.barplot(x=\"Walc\", y=\"freetime\", data=data, ci=None,  color='springgreen')\nplt.suptitle('Free time and Weekend Alcohol Consumption');\n","78783ed3":"If you want to know what is the meaning of each column, you can read the pdf that is in the \"data\" folder","6564e79f":"5. **Those students who consume more alcohol in a daily basis, obtain worse final degrees: Yes**","5890268e":"The hypotheses that have been verified shed light to understand the problem of alcohol consumption in students. However, it is really difficult to modify these variables. A possible solution may be to carry out a psychoeducational psychosocial intervention in the form of a training course with both school students and their families.","e2466842":"The following graphic is to make sure that I'am rigth","2d4f0bb3":"Once I have done a first demographic studie, I am going to verify my hypothesis","00f4457a":"**Observation:** We could draw the aforementioned conclusions based on the fact that those students whose parents are separated have less vigilance or have gone through a complicated situation that can lead them to use maladaptive coping strategies. The reality is that, by analyzing this graph, I have had the opportunity to see that the data is unbalanced. Said problem will be analyzed in section 6 of this report.","f32203c1":"Deleting row Age 20...","3ac03c0b":"4. **Students who receive more family support consume less daily alcohol: No, we can see family support is not related or that there is an inverse relationship**","fab699f7":"I am not going to use, at first, the following columns: \"school\", \"famsize\", \"reason\", \"schoolsup\", \"paid\", \"nursery\", \"health\", \"G1\", \"G2\"","7a82e49d":"**Note:** It's pretty significant to highligth that when I talk about alcohol consumption it is not a continue variable, it is a frequencie from 1 to 5. Another important fact is that I do not assume there is causality, I am always going to talk about correlation and we do not know if another variable can modulate this correlation.","7a909ae2":"**Observation:** Although I can not assume that there is a relationship because the correlation is not statistically significant, I could say that taken into account the graphic it could be a pattern because we can appreciate that the more students go out, the more they consume alcohol","badb8e5d":"The age mean per gender is identical. Female's mean age is 16 and Male's mean age is 16. This is probably due to the sample has been taken from a college","f8f643d9":"3. Age mean per gender","14642ade":"1. Gender Distribution","7c439a40":"More analysis just to verify my hipothesis","88a749f1":"**Observation:** Taking into account the catplot graph, it is evident that alcohol consumption is higher in those who live in urban areas. The explanations for this conclusion can be based on the fact that in urban areas there are more places to go to buy alcohol since, simply, there is a greater proportion of students who live in these areas and therefore they can meet more easily to consume alcohol . In addition, journeys can be made more easily thanks to public transport.","84d8f350":"13. **Students that have more free time, drink daily alcohol more frequently: No, there isn't any relationship**","97b7fb8c":"**Observation:** On this occasion, we see that the sunburst shows us a totally different conclusion: those who receive less family support, drink less. The explanation is difficult to find, it may be due to the data.","6732689d":" 2. FIRST DATA EXPLORATION","c19fe682":"**Observation:** as with the heatmap, we can not assume any realtionship because the frequency oscillates pretty much ","b7b205ac":"4. Were there any students who did not consume alcohol? No, there weren\u00b4t","1d45a51d":"11. **Students that go out more often with friends , consume alcohol at weekends more frequently**","8c9da79a":"5. CONCLUSION","d908234d":"**Let\u00b4s start with DATA CLEANING**","6d2eb14c":"**Observation:** Initially from what we can hear in the media, we can think that women consume more alcohol than men but the countplot graph shows us that this is not the case. We can observe that, both in daily consumption and in weekend consumption, the frequency with which they consume more alcohol is greater in men than in women. This may be due to the fact that the basal ganglia of men generate a greater amount of Dopamine than those of women and, consequently, a greater search for this pleasant effect.","e5b809a0":"Noways, more and more students are consuming an excessive amount of alcohol with a significantly high frequency. This can be translated into an incipient deterioration of their cognitive functions that can cause difficulties in concentration and decision-taking, causing a detriment to their school performance leading to family problems.","58cf8e73":"12. **Students that drink more alcohol at weekends, study much less hours: No, there isn't any relationship**","1e13d386":"3. **Does it influence whether the guardian is the mother or the father in the consumption of alcohol? Yes, if the guardian is the father, they drink less**","fc5d5d61":"Deleting row Age 21...","b089bfc8":"7. **Parents who live together play a greater protective factor against alcohol consumption than parents who are separated: Yes**","417eef3b":"**Columns description**","42298617":"The age distribution is quite uniform","490ab0a0":"**Observation:** Taking into consideration the sunburst, we can find that this hypothesis is verified. The explanation is simple: the lower the alcohol consumption, the more conserved are the cognitive functions of the Dorsal CP involved in decision-making and future planning.","dd7617b1":"**I am going to explore my data**","cc42799b":"    4.2 Data analysis: hipothesis and observations","9100a6dc":"9. **Romantic relationships are a protective factor for less alcohol consumption: Yes**","ac2cde89":"                                                        EDA. DAVID SU\u00c1REZ NIETO\n                                                            STUDENT ALCOHOL CONSUMPTION                                                            ","b599d7ec":" 1. INTRODUCTION","64ced47d":"**Observation:** as with the heatmap, we can not assume any realtionship because the frequency oscillates pretty much ","0d81a14d":"**Observation:** After performing a scatterplot, I can point out that, in my sample, it can be seen how, indeed, it is decreasing. This is especially relevant on weekends. The explanation may be due to the fact that, with age, responsibilities grow, adolescents mature and no longer need so much excessive social approval derived from continuous social comparison with the peer group. Priorities change, the reference and membership group becomes smaller.","8b2ad0fb":"We can appreciate that the 53,08% of the students are Female while 46,92% are Male","f619829d":"**INDEX**","1fb63d6e":"    -------------------------THE END------------------------","28885dc5":" 2. FIRST DATA EXPLORATION","0cd6054b":"6. **Students that live in a rural address drink less than those who live in an urban address: Yes**","e40adb5e":" 3. DATA WRANGLING","a3be9f6f":"8. **Students who consume less alcohol, want to study a higher education: Yes**","ecb353b3":"We can see that the survey was taken from 395 students","7656a482":"To start with, I am going to check missing values","dc7fe6da":"4. DATA ANALYSIS","f2cbebee":"**Observation:** Once again, the sunburst allows us to accept the hypothesis. An argument in favor may be that couple relationships function as an emotional and \/ or instrumental support, preventing students from engaging in maladaptive coping strategies in the face of stressful life events.","93a0ad60":"4. DATA ANALYSIS: \n            4.1 Data analysis: demographic variables ||\n            4.2 Data analysis: hipothesis and observations","9620df9e":"Source: The following analysis has been carried out from a dataset from Kaggle","26334199":"5. CONCLUSION","caf17615":"1. **Alcohol consumption decreases with age: Yes, especially at weekends**","2e5f45c6":"**Observation:** The swarmplot graph shows that both daily and weekend alcohol consumption is higher in those students whose tutor is the father. It could be explained that parents, traditionally, in a generalist way, have exercised more authoritarian parenting styles of education.","423ff619":"To finish with Data Cleaning I am going to delete outlier values","ddf52aaa":"2. Age Distribution","b75acf9c":"The following graphic is to make sure that I am rigth","b60f8c6c":"**Observation:** The catplot graph fully verifies this hypothesis. The explanation is obvious to everyone.","489fbe5b":"Weekend Alcohol Distribution per age and gender","f4854c9b":"**Observation:** The swarmplot graph shows that both daily and weekend alcohol consumption is higher in those students whose tutor is the father. It could be explained that parents, traditionally, in a generalist way, have exercised more authoritarian parenting styles of education.","b31e2dd6":"Time to check duplicated values","448fe430":"---------------","718ac577":"There are not any duplicated values","67f18dcb":"**Observation:** Taking into account the catplot graph, it is evident that alcohol consumption is higher in those who live in urban areas. The explanations for this conclusion can be based on the fact that in urban areas there are more places to go to buy alcohol since, simply, there is a greater proportion of students who live in these areas and therefore they can meet more easily to consume alcohol . In addition, journeys can be made more easily thanks to public transport.","80e44bc8":"**Observation: I could affirm that there aren\u00b4t significant relationships between different variables because no one is more than 0.5 or 0.7 However, it would be intersting to explore some relations:**","6674366c":"The dataset does not contain missing values","8826cbdd":"**In order to explore more relationships between variables in a multivariant analysis, let\u00b4s do a Heat Map!**","ba4eba3b":" 1. INTRODUCTION","43ec7378":"2. **Female students drink more than male students: No, Male students drink more than female students**","4f4b591e":" 3. DATA WRANGLING","0cf22075":"Daily Alcohol Distribution per age and gender","18c67ee2":"**Observation:** The swarmplot graph shows that both daily and weekend alcohol consumption is higher in those students whose tutor is the father. It could be explained that parents, traditionally, in a generalist way, have exercised more authoritarian parenting styles of education.","015d42f8":"**10.Those students who spend more time using internet, consume more alcohol.**","222e6bba":"I am going to rename \"sex\" column with \"gender\" column","1476dc74":"Let\u00b4s see if I have outlier values in Age Distribution","8210b0f9":"    4.1 Data analysis: demographic variables","74f34baf":"**Now I am going to do a first Data Analysis in order to preview some demographic variables**","80aa0590":"**Observation:** On this occasion, the countplot allows us to confirm the hypothesis. However, before jumping to conclusions, we must remember that the data is unbalanced. Consequently, most students have access to the Internet. ","99b5da6f":"Let's do a little transformation of the boolean values that internet column takes in order to do a better analysis"}}