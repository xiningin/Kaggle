{"cell_type":{"6a55f8a7":"code","5b615bd1":"code","a2b2731f":"code","c1eb7f80":"code","e9e3138d":"code","7808227d":"code","e40b28f4":"code","8f0ad3be":"code","1aa96c44":"code","3c867574":"code","76c548bc":"code","765961ab":"code","f2925914":"code","89a8e9bc":"code","351238c2":"code","4eaa748d":"code","009d5d3c":"code","d3387822":"code","573e2631":"code","a674d0be":"code","df1cc5bf":"code","f7dea640":"code","6dd53f81":"code","df8d1c10":"code","f4e1388e":"code","1ae5c2a1":"code","9458c94c":"code","fd916a20":"code","98a13bcc":"code","1813acf8":"code","06995113":"code","155c2423":"code","96496e41":"code","365703bd":"code","bf028d28":"code","3833920b":"code","a27f2307":"code","885bfb29":"code","3d7126bb":"code","a03bf0a9":"code","9edf564e":"code","af90b69b":"markdown","6d8a489e":"markdown","d6a99572":"markdown","298905ea":"markdown","dd2dcc6f":"markdown","482dbe6c":"markdown","9b8303f5":"markdown","40bfa9a0":"markdown","7daa40c7":"markdown"},"source":{"6a55f8a7":"# getting started with the model \n# importing required libraries\/packages \n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objs as go\nimport math\nfrom scipy.stats import norm, skew\n\nimport warnings \nwarnings.filterwarnings('ignore')","5b615bd1":"# Importing and Reading the Dataset\ndf_diab= pd.read_csv(\"..\/input\/pima-indians-diabetes-database\/diabetes.csv\")","a2b2731f":"df_diab_row_count, df_diab_column_count=df_diab.shape\nprint('Total number of rows:', df_diab_row_count)\nprint('Total number of columns:', df_diab_column_count)","c1eb7f80":"df_diab.describe().T","e9e3138d":"df_diab.tail()","7808227d":"df_diab.info()","e40b28f4":"df_diab.isna().sum()","8f0ad3be":"fig, axs = plt.subplots(4, 2, figsize=(15,12))\naxs = axs.flatten()\nsns.distplot(df_diab['Pregnancies'],rug=True,color='#38b000',ax=axs[0])\nsns.distplot(df_diab['Glucose'],rug=True,color='#FF9933',ax=axs[1])\nsns.distplot(df_diab['BloodPressure'],rug=True,color='#522500',ax=axs[2])\nsns.distplot(df_diab['SkinThickness'],rug=True,color='#66b3ff',ax=axs[3])\nsns.distplot(df_diab['Insulin'],rug=True,color='#FF6699',ax=axs[4])\nsns.distplot(df_diab['BMI'],color='#e76f51',rug=True,ax=axs[5])\nsns.distplot(df_diab['DiabetesPedigreeFunction'],color='#03045e',rug=True,ax=axs[6])\nsns.distplot(df_diab['Age'],rug=True,color='#333533',ax=axs[7])\nplt.show()","1aa96c44":"features = ['Pregnancies','Glucose','BloodPressure','SkinThickness','Insulin','BMI','DiabetesPedigreeFunction','Age']\ntarget = ['Outcome']","3c867574":"df_diab[features] = df_diab[features].replace(0,np.NaN)","76c548bc":"df_diab.isna().sum()","765961ab":"df_diab.head()","f2925914":"import missingno as msno\nmsno.bar(df_diab)","89a8e9bc":"df_diab.isnull().sum()\/len(df_diab)*100 ","351238c2":"bmi_outliers=df_diab[df_diab['BMI']>40]\nbmi_outliers['BMI'].shape","4eaa748d":"df_diab[df_diab['BMI']>40].describe()","009d5d3c":"#replacing outlier entries with mean of bmi\ndf_diab[\"BMI\"] = df_diab[\"BMI\"].apply(lambda x: df_diab.BMI.mean() if x>40 else x)","d3387822":"df_diab.BMI.replace(to_replace=np.nan,value=df_diab.BMI.mean(), inplace=True)\ndf_diab.Pregnancies.replace(to_replace=np.nan,value=df_diab.Pregnancies.mean(), inplace=True)\ndf_diab.Glucose.replace(to_replace=np.nan,value=df_diab.Glucose.mean(), inplace=True)\ndf_diab.BloodPressure.replace(to_replace=np.nan,value=df_diab.BloodPressure.mean(), inplace=True)\ndf_diab.SkinThickness.replace(to_replace=np.nan,value=df_diab.SkinThickness.mean(), inplace=True)\ndf_diab.Insulin.replace(to_replace=np.nan,value=df_diab.Insulin.mean(), inplace=True)","573e2631":"df_diab.isna().sum()","a674d0be":"labels = df_diab['Outcome'].value_counts().index.tolist()[:2]\nvalues = df_diab['Outcome'].value_counts().tolist()[:2]\nfig = go.Figure(data=[go.Pie(labels=labels, values=values, pull=[0, 0.05])])\nfig.show()","df1cc5bf":"df_diab['Age'] = np.log1p(df_diab['Age'])\nsns.distplot(df_diab['Age'], fit=norm,color='#f77f00');","f7dea640":"df_diab['DiabetesPedigreeFunction'] = np.log1p(df_diab['DiabetesPedigreeFunction'])\nsns.distplot(df_diab['Age'], fit=norm,color='#240046');","6dd53f81":"print (\"Unique values are:\\n\",df_diab.nunique())","df8d1c10":"sns.scatterplot(x = df_diab['Glucose'],y = df_diab['Age'],hue = \"Outcome\",data = df_diab,palette=\"ocean\")","f4e1388e":"sns.scatterplot(x = df_diab['Glucose'],y = df_diab['Insulin'],hue = \"Outcome\",data = df_diab,palette=\"ocean\")\nsns.jointplot('Glucose','Insulin',data = df_diab,kind='hex',palette=\"ocean\")","1ae5c2a1":"sns.pairplot(df_diab, hue='Outcome',palette=\"mako_r\")","9458c94c":"plt.figure(figsize=(11,11))\ncorr=df_diab.corr()\nmask = np.triu(np.ones_like(corr, dtype=bool))\nsns.heatmap(corr, mask=mask, cmap='bwr_r', robust=True, center=0,square=True, linewidths=.6)\nplt.title('Correlation')\nplt.show()","fd916a20":"pip install pycaret","98a13bcc":"from pycaret.classification import *","1813acf8":"diab = setup(data = df_diab,target = 'Outcome',normalize=True, session_id=1)","06995113":"compare_models()","155c2423":"rf = create_model('rf', fold = 10)","96496e41":"tuned_rf = tune_model(rf)","365703bd":"tuned_rf","bf028d28":"plot_model(tuned_rf, plot = 'error')","3833920b":"evaluate_model(tuned_rf)","a27f2307":"plot_model(tuned_rf, plot = 'auc')","885bfb29":"plot_model(tuned_rf, plot = 'pr')","3d7126bb":"plot_model(tuned_rf, plot = 'confusion_matrix')","a03bf0a9":"interpret_model(tuned_rf)","9edf564e":"predict_model(tuned_rf);","af90b69b":"### <h3 style=\"background-color:#5e60ce;color:white;text-align: center;padding-top: 5px;padding-bottom: 5px;border-radius: 15px 50px;\"><strong><centre>Importing & Reading the dataset \ud83d\udcdd <\/centre><\/strong><\/h3>","6d8a489e":"<blockquote>\ud83d\udcccThe tuned model with Random Forest Classifier is able to predict whether an individual has Diabetes or not with an accuracy of 82.68%.  \n\nDetails of the EDA and model setup are discussed in my article https:\/\/www.analyticsvidhya.com\/blog\/2021\/07\/diabetes-prediction-with-pycaret\/ published on AnalyticsVidhya. <\/blockquote>","d6a99572":"![2.jpg](attachment:fecab79d-cf8b-4357-b23d-152467cdfd97.jpg)","298905ea":"![Diabetes Prediction(1).jpg](attachment:f2f66b4d-cc32-4bca-8da5-7fedfe48e9e8.jpg)","dd2dcc6f":"### <h3 style=\"background-color:#5e60ce;color:white;text-align: center;padding-top: 5px;padding-bottom: 5px;border-radius: 15px 50px;\"><strong><centre>Data Exploration for the Dataset \ud83d\udd0d <\/centre><\/strong><\/h3>","482dbe6c":"### <h3 style=\"background-color:#5e60ce;color:white;text-align: center;padding-top: 5px;padding-bottom: 5px;border-radius: 15px 50px;\"><strong><centre>Checking for missing values \u270f\ufe0f <\/centre><\/strong><\/h3>","9b8303f5":"### <h3 style=\"background-color:#5e60ce;color:white;text-align: center;padding-top: 5px;padding-bottom: 5px;border-radius: 15px 50px;\"><strong><centre>Checking for outliers \u270f\ufe0f <\/centre><\/strong><\/h3>","40bfa9a0":"<blockquote>\ud83d\udcccThis dataset is originally from the National Institute of Diabetes and Digestive and Kidney Diseases. The objective of the dataset is to diagnostically predict whether or not a patient has diabetes, based on certain diagnostic measurements included in the dataset. Several constraints were placed on the selection of these instances from a larger database. In particular, all patients here are females at least 21 years old of Pima Indian heritage.<\/blockquote>","7daa40c7":"### <h3 style=\"background-color:#5e60ce;color:white;text-align: center;padding-top: 5px;padding-bottom: 5px;border-radius: 15px 50px;\"><strong><centre>Importing Libraries & Packages \ud83d\udcda <\/centre><\/strong><\/h3>"}}