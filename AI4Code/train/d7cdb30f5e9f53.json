{"cell_type":{"1a940e90":"code","cd7b03ca":"code","7643ad66":"code","53f77b13":"code","8663f631":"code","0da05cf1":"code","2ef8460d":"code","a5a1a8f4":"code","7fe3483c":"code","f44b1456":"code","047da17b":"code","9ba2ca96":"code","5af0fc48":"code","ac57f3a8":"code","932605a2":"code","29487031":"code","6e5a61ba":"code","696b51aa":"code","48d72916":"code","51c5b747":"code","e525d620":"code","c5263a8c":"code","1489263d":"code","607bbe6f":"code","c7521cfe":"code","6465e907":"code","f003a91b":"markdown","d48ad009":"markdown","0f4428bc":"markdown","ee657056":"markdown","5f279374":"markdown","1645b570":"markdown","25610a2e":"markdown"},"source":{"1a940e90":"%matplotlib inline\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport folium","cd7b03ca":"df = pd.read_excel('..\/input\/forest-fires-in-brazil-adjusted\/amazonfire.xlsx')","7643ad66":"df.head()","53f77b13":"queimadas_por_mes = df.groupby(['month']).sum()['number']","8663f631":"# Sorting by months chronologically\n\nmeses = df['month'].unique()\nqueimadas_por_mes = queimadas_por_mes.reindex(meses)\nqueimadas_por_mes","0da05cf1":"plt.rc('figure', figsize=(15,6))\nplt.bar(meses, queimadas_por_mes)\nplt.title('Total burnings reported in Brazil from 1998 to 2017 by months')\nplt.xlabel('Months', fontsize=15)\nplt.ylabel('Number of burns', fontsize=15)\nplt.show()","2ef8460d":"queimadas_por_estado = df.groupby(['state']).sum()['number']","a5a1a8f4":"# Sort by quantity\nqueimadas_por_estado = queimadas_por_estado.sort_values(ascending=False)","7fe3483c":"\nplt.rc('figure', figsize=(15,6))\nplt.bar(queimadas_por_estado.index, queimadas_por_estado)\nplt.title('Total burnings reported in Brazil from 1998 to 2017 by States')\nplt.xlabel('States', fontsize=15)\nplt.ylabel('Number of burns', fontsize=15)\nplt.xticks(fontsize=15, rotation=90)\nplt.show()","f44b1456":"queimadas_por_ano = df.groupby(['year']).sum()['number']\nqueimadas_por_ano.index","047da17b":"queimadas_por_ano_label = [str(x) for x in queimadas_por_ano.index]\n\nplt.rc('figure', figsize=(15,6))\nplt.plot(queimadas_por_ano_label, queimadas_por_ano)\nplt.title('Variation of the number of burns over the years')\nplt.xlabel('Years', fontsize=15)\nplt.ylabel('Number of burns', fontsize=15)\nplt.xticks(fontsize=10, rotation=0)\nplt.grid(True)\nplt.show()","9ba2ca96":"# Calc average varible by tree","5af0fc48":"data_inicio = 1999\ndata_fim = 2016\nqueimadas_por_ano_media_variavel = []\n\ni = data_inicio\nwhile i < data_fim:\n    ano_anterior = queimadas_por_ano[i - 1]\n    ano_atual = queimadas_por_ano[i]\n    ano_proximo = queimadas_por_ano[i + 1]\n    media = (ano_anterior + ano_atual + ano_proximo) \/ 3\n    \n    queimadas_por_ano_media_variavel.append(media)\n    i += 1\n    \nqueimadas_por_ano_media_variavel = pd.Series(queimadas_por_ano_media_variavel)    ","ac57f3a8":"queimadas_por_ano_media_variavel_label = [str(x) for x in range(1999, 2016)]\n\nplt.rc('figure', figsize=(15,6))\nplt.plot(queimadas_por_ano_media_variavel_label, queimadas_por_ano_media_variavel)\nplt.title('Variable average number of burns over the years')\nplt.xlabel('Years', fontsize=15)\nplt.ylabel('Number of burns', fontsize=15)\nplt.xticks(fontsize=10, rotation=0)\nplt.grid(True)\nplt.show()","932605a2":"variacoes = [0]\n\nfor i in range(len(queimadas_por_ano_media_variavel)):\n    if i > 0:\n        variacao = ( (queimadas_por_ano_media_variavel[i] * 100 ) \/ queimadas_por_ano_media_variavel[i-1] ) - 100\n        variacoes.append(variacao)","29487031":"media_variacoes = 0\nproxima_queimada = 0.0\nqueimadas_por_ano_media_variavel = queimadas_por_ano_media_variavel.tolist()\n\nfor tendencias in range(5):\n    for i in range(len(variacoes)):\n        media_variacoes += variacoes[i]\n\n    media_variacoes = media_variacoes \/ len(variacoes)\n    variacoes.append(media_variacoes)\n    proxima_queimada = queimadas_por_ano_media_variavel[len(queimadas_por_ano_media_variavel) -1 ] * ( ( variacoes[len(variacoes) - 1] \/ 100 ) + 1 )\n    queimadas_por_ano_media_variavel.append(proxima_queimada)","6e5a61ba":"queimadas_por_ano_media_variavel = pd.Series(queimadas_por_ano_media_variavel)    ","696b51aa":"queimadas_por_ano_media_variavel_label = [str(x) for x in range(1999, 1999 + len(queimadas_por_ano_media_variavel))]\n\nplt.rc('figure', figsize=(15,6))\nplt.plot(queimadas_por_ano_media_variavel_label, queimadas_por_ano_media_variavel)\nplt.title('Projection of burns for the next 5 years')\nplt.xlabel('Years', fontsize=15)\nplt.ylabel('Number of burns', fontsize=15)\nplt.xticks(fontsize=10, rotation=0)\nplt.grid(True)\nplt.show()","48d72916":"brasil = folium.Map(\n    location=[-16.1237611, -59.9219642],    # Coordenadas retiradas do Google Maps\n    zoom_start=4\n)","51c5b747":"geo_data_brasil = '..\/input\/geojson\/Brasil.json'","e525d620":"len(df['state'].unique())\nprint(df['state'].unique())","c5263a8c":"dic_states = {\n    'Mato Grosso': 'MT',\n    'Paraiba': 'PB',\n    'Sao Paulo': 'SP',\n    'Rio de Janeiro': 'RJ',\n    'Bahia': 'BA',\n    'Piau\u00ed': 'PI',\n    'Goias': 'GO',\n    'Minas Gerais': 'MG',\n    'Tocantins': 'TO',\n    'Amazonas': 'AM',\n    'Ceara': 'CE',\n    'Maranhao': 'MA',\n    'Par\u00e1': 'PA',\n    'Pernambuco': 'PE',\n    'Roraima': 'RR',\n    'Santa Catarina': 'SC',\n    'Amapa': 'AP',\n    'Rondonia': 'RO',\n    'Acre': 'AC',\n    'Espirito Santo': 'ES',\n    'Alagoas': 'AL',\n    'Distrito Federal': 'DF',\n    'Sergipe': 'SE',\n    'Mato Grosso do Sul': 'MS',\n    'Paran\u00e1': 'PR',\n    'Rio Grande do Sul': 'RS',\n    'Rio Grande do Norte': 'RN'\n}\n","1489263d":"df_queimadas_por_estado = pd.DataFrame(columns = ['state', 'number'])","607bbe6f":"queimadas_por_estado = queimadas_por_estado.reset_index()\nfor index, row in queimadas_por_estado.iterrows():\n    state = dic_states[row[0]]\n    number = int(row[1])\n    df_aux = pd.DataFrame({'state' : [state], 'number': [number]})\n    df_queimadas_por_estado = pd.concat([df_queimadas_por_estado, df_aux])","c7521cfe":"df_queimadas_por_estado.reset_index(inplace = True, drop=True)\ndf_queimadas_por_estado","6465e907":"folium.Choropleth(\n    geo_data = geo_data_brasil,\n    name='choropleth',\n    data = df_queimadas_por_estado,\n    columns = ['state', 'number'],\n    fill_color = 'OrRd',\n    key_on = 'feature.properties.UF',\n    fill_opacity = 0.7,\n    line_opacity = 0.2,\n    legend_name = 'Number of fires by State'\n).add_to(brasil)\n\nfolium.LayerControl().add_to(brasil)\nbrasil","f003a91b":"## Questions to answer:\n### 1. What are the months with the highest incidence of fire outbreaks.\n### 2. What was the number of fires per state.\n### 3. What has been the outbreak of fire outbreaks reported over the years.\n### 4. What is the growth trend.","d48ad009":"## 3. What has been the outbreak of fire outbreaks reported over the years.","0f4428bc":"## Creating map of number by state","ee657056":"## 1. What are the months of the highest incidence of fire outbreaks.","5f279374":"## 2. What was the number of fires per state","1645b570":"# 1. Indicators of fires in Brazilian forests","25610a2e":"## 4. What is the growth trend. (For the next 5 years)"}}