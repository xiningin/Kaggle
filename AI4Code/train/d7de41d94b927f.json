{"cell_type":{"ebb831ac":"code","e9428262":"code","65924543":"code","77e5bd68":"code","964c806f":"code","333a3696":"markdown","2b85b361":"markdown","9738dcf0":"markdown","2e1f792e":"markdown","f40eec0f":"markdown","7ce6d6ad":"markdown","9f0e3f85":"markdown","9071f4cc":"markdown"},"source":{"ebb831ac":"# IMPORTING NECESSARY LIBRARIES\n\n# linear algebra\nimport numpy as np \n\n# data processing\nimport pandas as pd \n\n# data visualization\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport plotly.offline as py\npy.init_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport plotly.tools as tls\nimport seaborn as sns\n\n# other\nimport time\nimport warnings\nwarnings.filterwarnings('ignore')\n\nglobal_temp_country = pd.read_csv('..\/input\/climate-change-earth-surface-temperature-data\/GlobalLandTemperaturesByCountry.csv')","e9428262":"#Removing the duplicated countries and countries for which no information about the temperature\nglobal_temp_country_clean = global_temp_country[~global_temp_country['Country'].isin(['Denmark', 'Antarctica', 'France', 'Europe', 'Netherlands','United Kingdom', 'Africa', 'South America'])]\nglobal_temp_country_clean = global_temp_country_clean.replace(['Denmark (Europe)', 'France (Europe)', 'Netherlands (Europe)', 'United Kingdom (Europe)'],['Denmark', 'France', 'Netherlands', 'United Kingdom'])\n\n#Average temperature for each country\ncountries = np.unique(global_temp_country_clean['Country'])\nmean_temp_list = []\nfor country in countries:\n    mean_temp_list.append(global_temp_country_clean[global_temp_country_clean['Country'] == country]['AverageTemperature'].mean())\n\n# Creating figure using 'plotly' library\ndata = [ dict(type = 'choropleth',locations = countries,z = mean_temp_list,locationmode = 'country names',text = countries,marker = dict(line = dict(color = 'rgb(0,0,0)', width = 1)),colorbar = dict(autotick = True, tickprefix = '', title = '# Mean\\nTemperature,\\n\u00b0C'))]\nlayout = dict(title = 'Mean land temperature in countries',geo = dict(showframe = False,showocean = True,oceancolor = 'rgb(0,255,255)',projection = dict(type = 'orthographic',rotation = dict(lon = 60,lat = 10),),lonaxis =  dict(showgrid = True,gridcolor = 'rgb(102, 102, 102)'),lataxis = dict(showgrid = True,gridcolor = 'rgb(102, 102, 102)')),)\nfig = dict(data=data, layout=layout)\npy.iplot(fig, validate=False, filename='worldmap')","65924543":"# 'seaborn' as well as 'matplotlib' library is used to create horizontal bars for each countries\nmean_temp_bar_graph, countries_bar_graph = (list(x) for x in zip(*sorted(zip(mean_temp_list, countries), reverse = True)))\nsns.set(font_scale=0.9) \nf, ax = plt.subplots(figsize=(4.5, 50))\ncolors_cw = sns.color_palette('coolwarm', len(countries))\nsns.barplot(mean_temp_bar_graph, countries_bar_graph, palette = colors_cw[::-1])\nText = ax.set(xlabel='Mean temperature', title='Mean land temperature in countries')","77e5bd68":"global_temp = pd.read_csv(\"..\/input\/climate-change-earth-surface-temperature-data\/GlobalTemperatures.csv\")\n\n#Extract the year from a date\nyears = np.unique(global_temp['dt'].apply(lambda x: x[:4]))\nmean_temp_world = []\nmean_temp_world_uncertainty = []\n\nfor year in years:\n    mean_temp_world.append(global_temp[global_temp['dt'].apply(lambda x: x[:4]) == year]['LandAverageTemperature'].mean())\n    mean_temp_world_uncertainty.append(global_temp[global_temp['dt'].apply(lambda x: x[:4]) == year]['LandAverageTemperatureUncertainty'].mean())\n\ntrace_0 = go.Scatter(x = years, y = np.array(mean_temp_world) + np.array(mean_temp_world_uncertainty),fill= None,mode='lines',name='Uncertainty top',line=dict(color='rgb(0, 255, 255)',))\ntrace_1 = go.Scatter(x = years, y = np.array(mean_temp_world) - np.array(mean_temp_world_uncertainty),fill='tonexty',mode='lines',name='Uncertainty bot',line=dict(color='rgb(0, 255, 255)',))\ntrace_2 = go.Scatter(x = years, y = mean_temp_world,name='Mean Temperature',line=dict(color='rgb(199, 121, 093)',))\ndata = [trace_0, trace_1, trace_2]\n\nlayout = go.Layout(xaxis=dict(title='year'),yaxis=dict(title='Mean Temperature, \u00b0C'),title='Mean land temperature in world',showlegend = False)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","964c806f":"continents = ['China', 'United States', 'Niger', 'Greenland', 'Australia', 'Italy']\nmean_temp_year_country = [ [0] * len(years[70:]) for i in range(len(continents))]\nj = 0\nfor country in continents:\n    all_temp_country = global_temp_country_clean[global_temp_country_clean['Country'] == country]\n    i = 0\n    for year in years[70:]:\n        mean_temp_year_country[j][i] = all_temp_country[all_temp_country['dt'].apply(lambda x: x[:4]) == year]['AverageTemperature'].mean()\n        i +=1\n    j += 1\n\ntraces = []\ncolors = ['rgb(0, 255, 255)', 'rgb(255, 0, 255)', 'rgb(0, 0, 0)','rgb(255, 0, 0)', 'rgb(0, 255, 0)', 'rgb(0, 0, 255)']\nfor i in range(len(continents)):traces.append(go.Scatter(x=years[70:],y=mean_temp_year_country[i],mode='lines',name=continents[i],line=dict(color=colors[i]),))\n\nlayout = go.Layout(xaxis=dict(title='year'),yaxis=dict(title='Mean Temperature, \u00b0C'),title='Mean land temperature on the continents',)\n\nfig = go.Figure(data=traces, layout=layout)\npy.iplot(fig)","333a3696":"We can see that since the 1980 there has been a continuous increase in mean annual temperature for the countries, which we take into consideration (particularly strong dynamics can be seen in the cold countries). The interruption of the temperature values on the chart is due to the lack of observations in these years.","2b85b361":"# Is there a global warming?\nLet's read the data from the \"GlobalTemperatures.csv\" file, which has a monthly Earth\u2019s temperature and plot it on the chart.","9738dcf0":"From the charts it can be observed, that there is global warming nowadays. The average temperature of Earth surface has the highest value in the last three centuries. The fastest temperature growth occurred in the last 30 years! This indicates that if humanity will fully switch to ecological sources of energy, that will reduce CO2. If not, we will be in disaster.This charts also have confidence intervals, which shows that measurement of temperature has become more accurate in the last few years\n\nLet\u2019s look at the chart of annual temperature changes in certain continents (we take into consideration one country per continent and mark Greenland as the coldest place on Earth).","2e1f792e":"It is noticed that Russia has one of the lowest average temperature (like a Canada). The lowest temperature in Greenland (it is distinctly visible on the map). The hottest country in Africa, on the equator. It is quite natural.","f40eec0f":"# Conclusion\nDuring our project it was found that there has been a global increase trend in temperature, particularly over the last 30 years. This is due to the violent activities of humankind. In more developed countries the increase in temperature began to register much earlier. Over time the accuracy of the observations is increased, that is quite natural. Mankind must reflect and take all necessary remedies to reduce emissions of greenhouse gases in the atmosphere. This work was entirely done using python. We have received practical skills and knowledge in python and in library for data visualisation through thus project. The basic of data analytics learned in the elective course helped us in better understanding of the project and also helped us in writing a successful python code.","7ce6d6ad":"# Sort the countries by the mean temperature and plot Horizontal Bar","9f0e3f85":"# Mapping of average temperatures in the countries","9071f4cc":"**To:** *Usha Patel*\n**By:** *18bme008 Mauli Bhatt\n    18bme021 Dhruv Borda\n    18bme029 Darshan Mehta*"}}