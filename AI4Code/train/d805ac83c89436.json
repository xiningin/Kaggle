{"cell_type":{"f3aa945f":"code","42ef57a6":"code","726428cb":"code","91bbc8a1":"code","ccebf2d8":"code","7457304f":"code","95ea5666":"code","74a88579":"code","3c9a8c36":"code","a55fb9fb":"code","4548edb3":"code","ed7cb1e6":"code","78f99523":"code","e8b052f4":"code","34627163":"code","5c26015e":"code","1658702c":"code","38b1224a":"code","81c705de":"code","f5863978":"code","bba4d1af":"code","65cd9200":"markdown","a55493d3":"markdown","3f524a28":"markdown","f13aaf00":"markdown","bd2394c7":"markdown","740a4d8c":"markdown","04894132":"markdown","36d16b02":"markdown","acc72793":"markdown","e5770bc7":"markdown","bef4a8ec":"markdown","3a7ce450":"markdown","09c46189":"markdown"},"source":{"f3aa945f":"\nimport numpy as np # linear algebra\n\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport matplotlib.pyplot as plt\n\nfrom itertools import combinations \n\nfrom collections import Counter\n\n","42ef57a6":"df=pd.read_csv('..\/input\/all-data\/all_data.csv')\ndf.head(1)","726428cb":"nan_df=df1 = df[df.isna().any(axis=1)]\ndf=df.dropna(how='all')\ndf.head()\n","91bbc8a1":"df=df[df['Order Date'].str[0:2]!='Or']\ndf.head()","ccebf2d8":"\ndf['Quantity Ordered']=pd.to_numeric(df['Quantity Ordered']) #make int\ndf['Price Each']=pd.to_numeric(df['Price Each']) \ndf.head()","7457304f":"df['Month']=df['Order Date'].str[0:2]\ndf['Month']=df['Month'].astype('int32')\ndf.head()","95ea5666":"df['Sales']=df['Quantity Ordered']*df['Price Each']\ndf.head()","74a88579":"#Example \nfoo = \"Hello, this is the string I want, blabla\"\nfoo=foo.split(',')[1]\nfoo","3c9a8c36":"df['city']=df['Purchase Address'].apply(lambda x: x.split(',')[1])+\" (\"+df['Purchase Address'].apply(lambda x: x.split(',')[2].split(' ')[1])+')'\n\n\ndf.head()\n","a55fb9fb":"result=df.groupby('Month').sum()","4548edb3":"\nmonths=range(1,13)\nplt.bar(months,result['Sales'] )\nplt.xticks(months)\nplt.ylabel('Sales in USD')\nplt.xlabel('Month number')","ed7cb1e6":"results=df.groupby('city').sum()\nresults","78f99523":"cities=[city for city ,fg in df.groupby('city')]\nplt.bar(cities,results['Sales'] )\nplt.xticks(cities, rotation='vertical', size=8)\nplt.ylabel('Sales in USD')\nplt.xlabel('City name')","e8b052f4":"df['Order Date']=pd.to_datetime(df['Order Date'])","34627163":"df['hour']=df['Order Date'].dt.hour\n\ndf['minute']=df['Order Date'].dt.minute\n\ndf.head()","5c26015e":"hours=[hour for hour ,fg in df.groupby('hour')]\n\nplt.plot(hours , df.groupby(['hour']).count())\n\nplt.xticks(hours)\nplt.xlabel('Hour')\nplt.ylabel('Number Of Orders')\nplt.grid()\n\nplt.show()\n\n","1658702c":"df_o=df[df['Order ID'].duplicated(keep=False)]\n\ndf_o['grouped']=df_o.groupby('Order ID')['Product'].transform(lambda x: ', '.join(x))\ndf_o.head()","38b1224a":"#Drop duplicated order\n\ndf_o=df_o[['Order ID','grouped']].drop_duplicates()\ndf_o.head()","81c705de":"\n\n# Most 2 items buyed together\n\n\ncount=Counter()\nfor row in df_o['grouped']:\n    row_list=row.split(',')\n    count.update(Counter(combinations(row_list,2)))\n    \n\nfor key, value in count.most_common(10):\n    print(key, value)","f5863978":"product_group=df.groupby('Product')\nquantity_ordered=product_group.sum()['Quantity Ordered']\n\nproducts=[product for product ,df_o in product_group ]\n\nplt.bar(products,quantity_ordered )\n\nplt.xticks(products, rotation='vertical',size =8)\n\nplt.ylabel('Quantity Ordered  ')\nplt.xlabel('Product ')\nplt.show()","bba4d1af":"prices=df.groupby('Product').mean()['Price Each']\n\nfig , ax1=plt.subplots()\n\nax2=ax1.twinx()\nax1.bar(products,quantity_ordered)\nax2.plot(products,prices ,'b-', color='green')\n\nax1.set_xlabel('Product Name')\nax1.set_ylabel('Quantity Ordered ', color='g')\nax1.set_ylabel('Price ', color='b')\nax1.set_xticklabels(products, rotation='vertical', size=8)\nplt.show()","65cd9200":"# # # Add month column ","a55493d3":"# Question 4 : What products are most often sold together ? ","3f524a28":"### ","f13aaf00":"**Add City column**","bd2394c7":"find 'Or' and delete it","740a4d8c":"# Q1 : What was the best month for sales ? How much was earned that month ?","04894132":"# Question 5 : What product sold the most ? ","36d16b02":"# Clean Data","acc72793":"drop NaN","e5770bc7":"**Add a sales column**","bef4a8ec":"# **Question 3 : What time should we display advertisements to maximize likelihood of customer's buying product?**","3a7ce450":"# Question 2 : What city had he highest number of sales ?","09c46189":"Convert column to their correct type"}}