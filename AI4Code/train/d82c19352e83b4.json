{"cell_type":{"a07c1f43":"code","58d0ae1e":"code","fb2bda2e":"code","2ecc2132":"code","b37b7a0c":"markdown","c1a45609":"markdown","fe36d551":"markdown"},"source":{"a07c1f43":"import os\nimport numpy as np\nimport pandas as pd","58d0ae1e":"targetName = 'num_sold'\ncompetitionDir = '\/kaggle\/input\/tabular-playground-series-jan-2022'\nsubmission = pd.read_csv('..\/input\/tabular-playground-series-jan-2022\/sample_submission.csv')","fb2bda2e":"preds = []\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        if (dirname != competitionDir) & ('.csv' in filename):\n            df = pd.read_csv(os.path.join(dirname, filename))\n            if (len(df) == len(submission)) & (len(df.columns) == len(submission.columns)):\n                try:\n                    preds.append(df[targetName])\n                except Exception:\n                    pass","2ecc2132":"submission[targetName] = np.array(preds).mean(axis=0).transpose()\n\nsubmission.to_csv(\"submission.csv\", index=False)","b37b7a0c":"# Automated ensembling using results from public notebooks\nThis notebook presents an automated ensembling using predicted results from the most relevant public notebooks. Please save all the upvotes for them.","c1a45609":"# Save ensemble prediction to csv","fe36d551":"# Import any number of public notebooks to automatically update the ensemble prediction"}}