{"cell_type":{"39240099":"code","3d69d11e":"code","e3592522":"code","03803908":"code","c23d5083":"code","466cd722":"code","44fb8c9d":"code","f80b0dba":"code","450f916b":"code","b63ca6f8":"code","6897aa02":"code","85f99ed2":"code","5126577f":"code","759462f8":"code","cb0b176b":"code","cae09834":"code","28d44735":"code","c4c1e7b2":"code","7b2123c5":"code","7aa43aab":"code","aac14de1":"code","78d07d9b":"code","be4f44b1":"code","7dc78d2e":"code","2515d74d":"code","9b689014":"markdown","8edc67b6":"markdown","0de618a9":"markdown","ae87862d":"markdown","110846d9":"markdown","14b1d039":"markdown","74dcf04a":"markdown","aa167e61":"markdown","43992dee":"markdown","cfcfc7d4":"markdown","7454ecb5":"markdown","7818f780":"markdown","76bf7788":"markdown","bc363f88":"markdown","692689d1":"markdown","caf4abe0":"markdown","bb3f46b8":"markdown","2626c931":"markdown","f1c21d62":"markdown","adb1a7a3":"markdown"},"source":{"39240099":"import calendar\nimport pandas as pd\nimport numpy as np","3d69d11e":"daily_activity = pd.read_csv('..\/input\/fitabase-data-4121651216\/dailyActivity_merged.csv')\ndaily_calories = pd.read_csv('..\/input\/fitabase-data-4121651216\/dailyCalories_merged.csv')\ndaily_intensities = pd.read_csv('..\/input\/fitabase-data-4121651216\/dailyIntensities_merged.csv')\ndaily_steps = pd.read_csv('..\/input\/fitabase-data-4121651216\/dailySteps_merged.csv')\nsleep_day = pd.read_csv('..\/input\/fitabase-data-4121651216\/sleepDay_merged.csv')\nweight_log = pd.read_csv('..\/input\/fitabase-data-4121651216\/weightLogInfo_merged.csv')","e3592522":"daily_activity.head()\n","03803908":"daily_calories.head()\n","c23d5083":"daily_intensities.head()\n","466cd722":"daily_steps.head()\n","44fb8c9d":"sleep_day.head()\n","f80b0dba":"weight_log.head()","450f916b":"print(daily_activity['Id'].nunique())\nprint(daily_calories['Id'].nunique())\nprint(daily_intensities['Id'].nunique())\nprint(daily_steps['Id'].nunique())\nprint(sleep_day['Id'].nunique())\nprint(weight_log['Id'].nunique())","b63ca6f8":"daily_activity.info()\ndaily_activity['ActivityDate'] = pd.to_datetime(daily_activity['ActivityDate'])\ndaily_activity.info()\ndaily_activity.head(3)","6897aa02":"sleep_day_new = sleep_day.assign(ActivityDate = pd.to_datetime(sleep_day['SleepDay']))\nsleep_day_new.head(3)","85f99ed2":"daily_activity_new = daily_activity.assign(Day = daily_activity['ActivityDate'].apply(lambda x: x.weekday()))\ndaily_activity_new['Day'] = daily_activity_new['Day'].apply(lambda x: calendar.day_name[x])\ndaily_activity_new.head()","5126577f":"daily_activity_with_sleep = pd.merge(left=daily_activity_new, right=sleep_day_new, how='inner', on=['Id', 'ActivityDate'])\ndaily_activity_with_sleep.head()","759462f8":"print(daily_activity_new['Id'].nunique())\nprint(daily_activity_with_sleep['Id'].nunique())","cb0b176b":"print(daily_activity_new.duplicated().sum())\nprint(daily_activity_with_sleep.duplicated().sum())","cae09834":"daily_activity_new = daily_activity_new.drop_duplicates()\ndaily_activity_with_sleep = daily_activity_with_sleep.drop_duplicates()\n","28d44735":"print(daily_activity_new.duplicated().sum())\nprint(daily_activity_with_sleep.duplicated().sum())","c4c1e7b2":"stats_steps = daily_activity_with_sleep.agg([np.mean, np.std, np.median])['TotalSteps']\nprint(stats_steps.head())\n\nstats_distance = daily_activity_with_sleep.agg([np.mean, np.std, np.median])['TotalDistance']\nprint(stats_distance.head())\n\nstats_calories = daily_activity_with_sleep.agg([np.mean, np.std, np.median])['Calories']\nprint(stats_calories.head())\n\nstats_sleep = daily_activity_with_sleep.agg([np.mean, np.std, np.median])['TotalMinutesAsleep']\nprint(stats_sleep.head())\n\nstats_time_in_bed = daily_activity_with_sleep.agg([np.mean, np.std, np.median])['TotalTimeInBed']\nprint(stats_time_in_bed.head())","7b2123c5":"#First, we will order the dataset by the specified vector. This is because in default R arranges by alphabet\nday_list = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']\ndaily_activity_with_sleep['Day'] = pd.Categorical(daily_activity_with_sleep['Day'], categories=day_list, ordered=True)\ndaily_activity_with_sleep = daily_activity_with_sleep.sort_values('Day')\n\n#Then we create the new dataset\nday_steps_distance_sleep_calories = pd.pivot_table(daily_activity_with_sleep,\n                                                   values=['TotalSteps','TotalDistance','Calories','TotalMinutesAsleep'],\n                                                   index=['Day'],\n                                                   aggfunc=np.mean\n                                                   )\nday_steps_distance_sleep_calories = day_steps_distance_sleep_calories.rename(columns={'TotalSteps':'avg_steps', 'TotalDistance':'avg_distance', 'Calories':'avg_calories', 'TotalMinutesAsleep':'avg_sleep'})\nday_steps_distance_sleep_calories.head(7)","7aa43aab":"#Now let's clean the pivot table columns to make it ready for analysis\nday_steps_distance_sleep_calories = day_steps_distance_sleep_calories.reset_index()\nday_steps_distance_sleep_calories.head(7)","aac14de1":"import matplotlib.pyplot as plt1\nplt1.bar(day_steps_distance_sleep_calories['Day'], day_steps_distance_sleep_calories['avg_steps'], color='green', label='Avg Daily Steps')\nplt1.ylabel('Average Daily Steps')\nplt1.xticks(rotation=45, fontsize=9)\nplt1.yticks(fontsize=9)\nplt1.show()\n\nimport matplotlib.pyplot as plt2\nplt2.bar(day_steps_distance_sleep_calories['Day'], day_steps_distance_sleep_calories['avg_distance'], color='green', label='Avg Daily Distance')\nplt2.ylabel('Average Daily Distance (KM)')\nplt2.xticks(rotation=45, fontsize=9)\nplt2.yticks(fontsize=9)\nplt2.show()\n\nimport matplotlib.pyplot as plt3\nplt3.bar(day_steps_distance_sleep_calories['Day'], day_steps_distance_sleep_calories['avg_calories'], color='green', label='Avg Calories')\nplt3.ylabel('Average Daily Calories Burned')\nplt3.xticks(rotation=45, fontsize=9)\nplt3.yticks(fontsize=9)\nplt3.show()\n\nimport matplotlib.pyplot as plt4\nplt4.bar(day_steps_distance_sleep_calories['Day'], day_steps_distance_sleep_calories['avg_sleep'], color='green', label='Avg Daily Sleep')\nplt4.ylabel('Average Daily Sleep (Minutes)')\nplt4.xticks(rotation=45, fontsize=9)\nplt4.yticks(fontsize=9)\nplt4.show()\n","78d07d9b":"import matplotlib.pyplot as plt5\nplt5.scatter(daily_activity_with_sleep['TotalSteps'], daily_activity_with_sleep['TotalDistance'], s=5, marker='o')\nplt5.xlabel('Total Steps')\nplt5.ylabel('Total Distance (KM)')\nplt5.show()","be4f44b1":"import matplotlib.pyplot as plt6\nplt6.scatter(daily_activity_with_sleep['TotalSteps'], daily_activity_with_sleep['Calories'], s=5, marker='o')\nplt6.xlabel('Total Steps')\nplt6.ylabel('Total Calories Burned')\nplt6.show()","7dc78d2e":"import matplotlib.pyplot as plt7\nplt7.scatter(daily_activity_with_sleep['TotalSteps'], daily_activity_with_sleep['TotalMinutesAsleep'], s=5, marker='o')\nplt7.xlabel('Total Steps')\nplt7.ylabel('Total Minutes Asleep (Min)')\nplt7.show()","2515d74d":"import matplotlib.pyplot as plt8\nplt8.scatter(daily_activity_with_sleep['TotalMinutesAsleep'], daily_activity_with_sleep['Calories'], s=5, marker='o')\nplt8.xlabel('Total Minutes Asleep (Min)')\nplt8.ylabel('Total Calories Burned')\nplt8.show()","9b689014":"A quick glance into the 2 datasets shows that daily_activity_with_sleep has less participants. This is because less participants provided their sleep data. Moreover, once the datasets were merged, rows with no sleep data were automatically omitted.\n\nNow we will check both datasets for duplicates:","8edc67b6":"We will also include a new column with weekday names for our analysis. This will allow us to compare variables such as step or calories on particular days of the week.","0de618a9":"This plot shows an indifferent relationship between steps and sleep. Conventional wisdom would dictate that with a large step count users would get more sleep since a large step count would indicate that a user generally had an active day and would be more tired. However, the plot does not confirm this hypothesis. This could be due to multiple factors:\n\n* Perhaps users tend to follow a set routine rather than sleep when they are tired.\n* Steps may not be an accurate measure of tiredness.\n  + Perhaps users are going to the gym and exercising weights. Here, users do not take much steps but do other body movements leading to tiredness.\n  + Perhaps users are mentally fatigued at work.\n\n##### Sleep vs Calories","ae87862d":"Now, to merge the 2 datasets and create a new dataset for sleep analysis:","110846d9":"---\n# 'Bellabeat: Understanding the Present, Unlocking the Future'\n### By Anis Ahmed Kazi\n\n---\n## Background\n\nSince it was founded in 2013, Bellabeat has grown rapidly and quickly positioned itself as a tech-driven wellness company for women. This report seeks to understand the current usage of smart personal wearables using advanced analytical tools. The analytics team then aims to present findings and narrow-down proposals relevant to Bellabeat, which will allow the stakeholders to make informed and growth-oriented decisions.\n\n## The Business Problem\n\nBellabeat has been able to create a strong bond with its user base. So much so that despite strong competition from far popular smart-wearable manufacturers such as Fitbit, Apple and others, Bellabeat has been able to not only maintain but grow its user base.\n\nTo understand its market position, Bellabeat aims to undergo a two-prong study: Understand usage of **Bellabeat** devices & Understand usage of **non-Bellabeat** devices. The study presented in **this report** will aim at understanding usage of **non-Bellabeat** smart devices.\n\nPrimary questions to ask in this study are:\n\n  1. What are some trends in smart device usage?\n  2. How could these trends apply to Bellabeat customers?\n  3. How could these trends help influence Bellabeat marketing strategy?\n  \n## The Stakeholders\n\nThe Stakeholders for this study are:\n\n * Urs\u030cka Srs\u030cen: Bellabeat\u2019s cofounder and Chief Creative Office\n * Sando Mur: Mathematician and Bellabeat\u2019s cofounder; key member of the Bellabeat executive team\n * Bellabeat marketing analytics team: A team of data analysts responsible for collecting, analyzing, and\nreporting data that helps guide Bellabeat\u2019s marketing strategy.\n\n## The Data - Preparing and Processing for Analysis\n\nThe primary source of data used for this analysis is the [FitBit Fitness Tracker Data](https:\/\/www.kaggle.com\/arashnic\/fitbit): This Kaggle data set contains personal fitness tracker data from thirty fitbit users. Thirty eligible Fitbit users consented to the submission of personal tracker data for physical activity, heart rate, and sleep monitoring. It includes information about daily activity, steps, and heart rate that can be used to explore users\u2019 habits. \n\nAfter downloading the data, it has been kept on the local drive for easy access. *(Currently, a shared drive isn\u2019t available. Once a shared drive is available, the data will be stored there with access to the relevant team members.)*\n\nFurthermore, datasets have been divided between daily, hourly and minute-level observations.\n\n#### Installing the Relevant Packages","14b1d039":"From these plots, we can notice that as the week progresses, users' step count decreases with the exception of Saturday. We can infer that since Saturday is the first day of the weekend, people tend to make the best use of it and end up taking more steps.\n\nAlso, without surprise, we notice that Steps and Distance charts are identical to each other.\n\nCaloric count falls slightly as the week goes by whereas the sleep increases slightly. The calories and sleep chart do not present any drastic movement in the charts since the counts are averaged here. Below, we will look into calories and sleep further by comparing them against steps, distance and each other and figure out if there's any correlation amongst these variables.\n\n#### Understanding Correlation Between Steps, Distance, Calories and Sleep\n\n##### Steps vs Distance","74dcf04a":"We have another myth buster here. The generally held idea is that people who sleep more tend to burn more calories. The plot here shows no such relationship.\n\nHowever, it is evident from the plot that much of data is concentrated between 300-550 minutes. In this range, the calories are ranged from 1500-3500. This suggests that most people burned most amount of calories between 300-550 minutes of sleep, no further.\n\n## Thoughts and Recommendations From the Analysis\nFirst off, we must acknowledge limitations of the dataset. It has a very small sample of users. Perhaps a larger sample would provide a better understanding of usage and potentially lead to different outcomes of the analyses. Moreover, for some of the variables, such as weight, not all users participated. Participation of higher number of users would have made such data more reliable.\n\nHaving said that, the analysis of the existing data has led to some interesting insights. From the statistical analysis, we see that standard deviation from the means is quite high which suggests that the distribution of the data is spread out. This means there's a high number of users whose activities such as steps, calories and sleep are far off from the mean, either above or below.\n\nFor users who are 1 SD above the mean, our apps can send them a congratulatory message. For users who are 1 SD below the mean, our apps can encourage them to do better. We can also present this info back to the users as a summary so they can understand where they stand against the rest of the users. This will also allow more user interactivity with our apps and devices. \n\nFrom the users' weekly routines bar charts we see that step count tends to decline as the week progresses. We can use this to encourage users to maintain or improve their step count if the app detects a decrease. Our watch can perhaps send a notification saying \"Hey it's Sunday! Time to go out and make the most of it!\"\n\nFrom the correlation plots we see, without surprise, a positive correlation between steps and distance and also steps and calories. Our products can implement features that allow users to monitor their steps, distance and calories. We can also create plots for users so they can monitor their progress. Again, this will encourage users to interact with our products. Given that calories aren't easy to monitor, we can perhaps partner with dietitians and present meal options with low or high calories, depending on user preference. Such a feature can not only allow users to better understand their caloric intake but also manage it if they wish to undertake the meal options. We can also run this feature as a paid partnership with dietitians or meal providers.\n\nThe step vs. sleep plot reveals an indifferent relationship. Our marketing team can implement features to understand why users aren't sleeping more despite a high step count. We can then implement feature to promote a better sleep pattern to users.\n\nSimilarly the sleep vs. calories plot reveals a largely indifferent relationship. However, it appears much of data is concentrated between 300-550 minutes of sleep and 1500-3500 calories burned. Our marketing team can create surveys, in-app or otherwise, to understand user behavior. We can use their insights to better gauge usage of our apps.\n\n## P.S. Acknowledgement\nI have attempted to document every minuscule process of cleaning and arranging the datasets and I realize this may overwhelm the reader. I apologize if the report is too verbose but I also hope everything documented here would help someone else attempting this dataset to enhance their data analysis skills :)\n\nI thank the Google Data Analytics team who have put in the effort to create this course. I also wish best of luck to all the participants who have started their journey into the wonderful world of data analysis!","aa167e61":"Now, to check if duplicates still remain:","43992dee":"#### Data Limitations: Does it ROCCC?\n\nR - Reliable: The data is extracted from publicly available dataset, consented by eligible Fitbit users. It is reliable.\n\nO - Original: The data is collected first hand from consenting Fitbit users. Even though the dataset is not released by Fitbit itself, the poster's note clarifying that is collected from a distributed survey via Amazon Mechanical Turk has led me to accept that it is original.\n\nC - Current: The original poster has admitted that the data was collected between 03.12.2016-05.12.2016. Therefore, it is 5 years old (as of this writing) and not current. \n\nC - Comprehensive: The data collected shows minute-level, hourly and daily observations for a wide variety of variables such as number of steps, distance covered, calories etc. So in terms of variables covered we may assume that it is comprehensive. However, the sample size of 30 participants is a relatively small sample which may not be considered a comprehensive sample.\n\nC - Cited: The original poster has presented the relevant citations to the data. It is cited.\n\nEven though the data is not current and  comprehensive. However, given that it is reliable, original and cited, for the purpose of this study it ROCCCs!\n\n#### Checking for Duplicates\n","cfcfc7d4":"The duplicates have been cleared and there doesn't appear to be any more duplicates in the datasets. We can now go ahead and start the analysis process.\n\n## Analysing the Data - Finding Insights and Making Inferences\n\n#### Statistical Look into the Data\nLet's start off by calculating some statistics. We will first create statistics on steps, distance, calories and sleep for the sample population. The stats will include mean, standard deviation and median values.","7454ecb5":"#### Quick Glance into the Datasets\n\nRunning head() to see the data tables at a glance.","7818f780":"This plot confirms our suspicion that steps and distance correlate to each other. In addition, this plot reveals one other useful info. The plot tends to expand with steps. This suggests that some users cover more distance with same number of steps. This could be due to various factors such as:\n\n* Users' height and\n* Users' step length.\n\n##### Steps vs Calories","76bf7788":"After applying the correct code, the info() function shows that ActivityDate column format has been amended.\n\nThe code has formatted the ActivityDate into *date* from *object*.\n\n#### Merging sleep_day dataset with the daily_activity dataset using Id and ActivityDate to create a new dataset: daily_acitivty_with_sleep\n\nThis merger of datasets will create a new dataset which will include daily sleep data as an additional column to daily acitivies. This will allow us to study daily sleep patterns compared with other daily activities such as steps and calories.\n\nTo merge sleep_day dataset with the daily_activity dataset, I will first create a new ActivityDate column in the sleep_day dataset. This is in order to standardize the 2 datasets, daily_activity and sleep_day, using Id and ActivityDate.\n\nThe dataset with the new column will be called sleep_day_new:","bc363f88":"This plot shows that steps and calories are slightly positively correlated. We can make an assumption that as step count rises, more calories are burned.\n\n##### Steps vs Sleep","692689d1":"It appears only 24 users provided sleep data and 8 users provided weight data. With just 8 users, weight data does not represent a comprehensive data set.\n\n#### Some Cleaning of the Datasets\n\nA quick view of the data using the info() function on the console shows that the column 'ActivityDate' is in the incorrect format. It is currently formatted as *object* whereas it should be formatted as *date*.","caf4abe0":"Now, We will use this dataset to graph out users' daily routine.","bb3f46b8":"#### Loading the Daily-Observation Dataset","2626c931":"ID and AcitivtyDate are common to all data frames. The daily_activity data frame is merged with daily_calories, daily_intensities and daily_steps with ID and AcitivtyDate as the common factors. Therefore, the daily activity dataframe will be used to analyse the daily observations.\n\nRunning n_distinct() to make sure ID count is consistent amongst all data sets.","f1c21d62":"To remove duplicates we will run the following:","adb1a7a3":"Glancing into these statistics reveals useful information on where users stand compared to the population. For instance, on average users sleep around 419 minutes daily with a standard deviation of 118 minutes. This sd is nearly 28% of the mean value which is pretty high. This indicates that the mean is spread out in the population and that there are high number of people with at least 28% better sleep time than average.\n\nWe can make similar inferences about other variables such as calories, distance and steps.\n\nWe can use this statistical information in 2 ways: (a) understanding user behavior to improve our products and services and (b) to provide this info back to the users in terms of actionable milestones via the product user interface. Providing the info back to the users will improve user interactivity with Bellabeat's products and services. Coming back to our sleep example, if a user knows that a better sleep time would be *mean + 1\/2 sd* for instance they would tend to make an effort to achieve this sleep time, either by sleeping early or waking up late.\n\n#### Understading Users' Weekly Routine\nLet's start off by creating a new dataset to group steps against each day."}}