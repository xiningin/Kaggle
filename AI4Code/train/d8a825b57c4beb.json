{"cell_type":{"9f021729":"code","6dc99a42":"code","780ebfef":"code","ddba16bc":"code","351a48fe":"code","a9af485e":"code","c3e5b516":"code","9cc82adc":"code","ac4d9f1b":"code","130f2036":"code","12d54f26":"code","b1f294a9":"code","3925fee8":"code","d9e48dbc":"code","8323ef4b":"code","25a2b90e":"code","0ffad17d":"code","50e6eb40":"code","25803991":"code","84c2eb79":"code","b894a143":"code","af26615b":"code","c8b7bd03":"code","76ea40e8":"code","cf3ea245":"markdown","e97d4c44":"markdown","4a65aa0e":"markdown","86f9242a":"markdown","c4b159f2":"markdown","8a748ca5":"markdown","cee87077":"markdown","0cf8653e":"markdown","12d4f855":"markdown","f48d4130":"markdown","fc0d23a3":"markdown","3ff6c154":"markdown","1f2284b7":"markdown","62372df5":"markdown","bb781567":"markdown","978ee867":"markdown","71c7b76a":"markdown","3895da68":"markdown","6ba47be5":"markdown","3dbb06e2":"markdown","ae55ffd4":"markdown","9043753b":"markdown","0989b0d2":"markdown","8a94c399":"markdown","6b7c1d1f":"markdown"},"source":{"9f021729":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom scipy.stats import norm\nplt.style.use('ggplot')\nimport plotly.plotly as py\nimport plotly.graph_objs as go\nimport plotly\nplotly.offline.init_notebook_mode(connected=True)\nfrom plotly import tools\nfrom wordcloud import  WordCloud\n","6dc99a42":"df=pd.read_csv(\"..\/input\/train\/train.csv\")\ndf=df.copy()","780ebfef":"print('The shape of dataframe',df.shape)","ddba16bc":"df.head(2)","351a48fe":"df.info()","a9af485e":"plt.figure(figsize=(6,6))\nmissing=df.isnull().sum()\nsns.barplot(y=missing.index,x=missing)\nplt.show()","c3e5b516":"bar=pd.DataFrame(df['AdoptionSpeed'].value_counts())\nsns.barplot(x=[4,3,2,1,0],y=bar['AdoptionSpeed'])\nplt.show()\n","9cc82adc":"plt.figure(figsize=(14,8))\n\nplt.subplot(1,5,1)\nsex=df[df[\"AdoptionSpeed\"]==4][\"Gender\"].value_counts()\nlabels = ['Female','Male','Mixed']\nsizes = sex\ncolors = [ 'lightcoral', 'lightskyblue','yellowgreen']\nexplode = (0.1, 0,0)  # explode 1st slice\n \n# Plot\nplt.pie(sizes, explode=explode, labels=labels, colors=colors,\n        autopct='%1.1f%%', shadow=True, startangle=140)\n \nplt.axis('equal')\nplt.gca().set_title(\"AdoptionSpeed 4\")\n\nplt.subplot(1,5,2)\nsex=df[df[\"AdoptionSpeed\"]==3][\"Gender\"].value_counts()\nlabels = ['Female','Male','Mixed']\nsizes = sex\nplt.pie(sizes, explode=explode, labels=labels, colors=colors,\n        autopct='%1.1f%%', shadow=True, startangle=140)\n \nplt.axis('equal')\nplt.gca().set_title(\"AdoptionSpeed 3\")\n\nplt.subplot(1,5,3)\nsex=df[df[\"AdoptionSpeed\"]==2][\"Gender\"].value_counts()\nlabels = ['Female','Male','Mixed']\nsizes = sex\nplt.pie(sizes, explode=explode, labels=labels, colors=colors,\n        autopct='%1.1f%%', shadow=True, startangle=140)\n \nplt.axis('equal')\nplt.gca().set_title(\" AdoptionSpeed 2\")\n\nplt.subplot(1,5,4)\nsex=df[df[\"AdoptionSpeed\"]==1][\"Gender\"].value_counts()\nlabels = ['Female','Male','Mixed']\nsizes = sex\nplt.pie(sizes, explode=explode, labels=labels, colors=colors,\n        autopct='%1.1f%%', shadow=True, startangle=140)\n \nplt.axis('equal')\nplt.gca().set_title(\" AdoptionSpeed 1\")\n\nplt.subplot(1,5,5)\nsex=df[df[\"AdoptionSpeed\"]==0][\"Gender\"].value_counts()\nlabels = ['Female','Male','Mixed']\nsizes = sex\nplt.pie(sizes, explode=explode, labels=labels, colors=colors,\n        autopct='%1.1f%%', shadow=True, startangle=140)\n \nplt.axis('equal')\nplt.gca().set_title(\" AdoptionSpeed 0\")\n\n\nplt.show()","ac4d9f1b":"plt.figure(figsize=(14,5))\nplt.subplot(1,2,1)\nsns.boxplot(df['Fee'])\nplt.gca().set_title(\"Fee distribution\")\nplt.subplot(1,2,2)\nsns.violinplot(x=\"AdoptionSpeed\",y=\"Fee\",hue=\"Type\",data=df)\nplt.gca().set_title(\"Fee distribution by AdoptionSpeed and Type\")\nplt.show()","130f2036":"fig,((ax1,ax2))=plt.subplots(1,2)\nfig.set_figwidth(15)\nage=df.groupby('Type')['Age'].agg('mean')\nsns.barplot(['Dog',\"Cat\"],age,ax=ax1)\nax1.set_ylabel(\"Age in months\")\nsns.boxplot(x='Type',y=\"Age\",data=df,ax=ax2)\nplt.gca().set_ylabel('Age in months')\nax1.set_title(\"mean age of adoption\")\nax2.set_title(\" age distribution By Types\")\nax2.set_xticklabels(['Dog',\"Cat\"])\nplt.show()","12d54f26":"plt.figure(figsize=(10, 6));\nsns.violinplot(x=\"AdoptionSpeed\", y=\"Age\", hue=\"Type\", data=df);\nplt.title('AdoptionSpeed by Type and age');\nplt.gca().set_ylabel(\"Age in months\")\nplt.show()","b1f294a9":"plt.figure(figsize=(8,6))\nsns.countplot(x=\"Type\",hue='AdoptionSpeed',data=df)\nplt.gca().set_xticklabels(['Dog',\"Cat\"])\nplt.show()","3925fee8":"plt.figure(figsize=(15,10))\nplt.subplot(2,2,1)\nsns.countplot(x=\"FurLength\",hue=\"AdoptionSpeed\",data=df)\nplt.gca().set_title(\"Furlength type by AdoptionSpeed\")\n\nplt.subplot(2,2,2)\ntotal=df['FurLength'].value_counts()\nsns.barplot(total.index,total)\n\nplt.subplot(2,2,3)\nsns.countplot(x=\"FurLength\",hue=\"AdoptionSpeed\",data=df[df['Type']==1])\nplt.gca().set_title(\"Dog\")\n\nplt.subplot(2,2,4)\nsns.countplot(x=\"FurLength\",hue=\"AdoptionSpeed\",data=df[df['Type']==2])\nplt.gca().set_title(\"Cat\")\n","d9e48dbc":"\ndef compare_plot(typeo,col,title):\n    tr1=df[(df['Type']==typeo) & (df[col]==1)]['AdoptionSpeed'].value_counts()\n    tr2=df[(df['Type']==typeo) & (df[col]==2)]['AdoptionSpeed'].value_counts()\n    tr3=df[(df['Type']==typeo) & (df[col]==3)]['AdoptionSpeed'].value_counts()\n    \n    xx=[4,3,2,1,0]\n    trace1=go.Bar(y=tr1,x=xx,name='Yes')\n    trace2=go.Bar(y=tr2,x=xx,name='No')\n    trace3=go.Bar(y=tr3,x=xx,name='Not Sure')\n    \n    return (trace1,trace2,trace3)\n\n\n\n\n        \n\n","8323ef4b":"dog=df[df['Type']==1]['Vaccinated'].value_counts()\ncat=df[df['Type']==2]['Vaccinated'].value_counts()\n","25a2b90e":"trace11=go.Bar(x=dog.index,y=dog,name='dog')\ntrace22=go.Bar(x=cat.index,y=cat,name=\"cat\")\n\ntrace1,trace2,trace3=compare_plot(1,'Vaccinated','')\ntrace4,trace5,trace6=compare_plot(2,\"Vaccinated\",'')\n\n\nfig=tools.make_subplots(rows=2,cols=2,subplot_titles=['Number of pets','','Dogs',\"Cats\"])\n\nfig.append_trace(trace11,1,1)\nfig.append_trace(trace22,1,1)\n\nfig.append_trace(trace1,2,1)\nfig.append_trace(trace2,2,1)\nfig.append_trace(trace3,2,1)\n\nfig.append_trace(trace4,2,2)\nfig.append_trace(trace5,2,2)\nfig.append_trace(trace6,2,2)\nfig['layout'].update(height=1000,width=800, title=\"AdoptionSpeed by Type and Vaccination\", barmode=\"stack\", showlegend=False)\n\nplotly.offline.iplot(fig)","0ffad17d":"trace1,trace2,trace3=compare_plot(1,'Dewormed','')\ntrace4,trace5,trace6=compare_plot(2,\"Dewormed\",'')\n\n\nfig=tools.make_subplots(rows=1,cols=2,subplot_titles=['Dogs',\"Cats\"])\n\n\nfig.append_trace(trace1,1,1)\nfig.append_trace(trace2,1,1)\nfig.append_trace(trace3,1,1)\n\nfig.append_trace(trace4,1,2)\nfig.append_trace(trace5,1,2)\nfig.append_trace(trace6,1,2)\nfig['layout'].update(height=500,width=800, title=\"AdoptionSpeed by Type and Dewormed\", barmode=\"stack\", showlegend=False,xaxis=dict(title=\"AdoptionSpeed\"))\n\nplotly.offline.iplot(fig)","50e6eb40":"trace1,trace2,trace3=compare_plot(1,'Sterilized','')\ntrace4,trace5,trace6=compare_plot(2,\"Sterilized\",'')\n\n\nfig=tools.make_subplots(rows=1,cols=2,subplot_titles=['Dogs',\"Cats\"])\n\n\nfig.append_trace(trace1,1,1)\nfig.append_trace(trace2,1,1)\nfig.append_trace(trace3,1,1)\n\nfig.append_trace(trace4,1,2)\nfig.append_trace(trace5,1,2)\nfig.append_trace(trace6,1,2)\nfig['layout'].update(height=500,width=800, title=\"AdoptionSpeed by Type and Sterilized\", barmode=\"stack\", showlegend=False,xaxis=dict(title=\"AdoptionSpeed\"))\n\nplotly.offline.iplot(fig)","25803991":"def compare_plot2(typeo):\n    tr1=df[(df['Type']==typeo) & (df[\"MaturitySize\"]==1)]['AdoptionSpeed'].value_counts()\n    tr2=df[(df['Type']==typeo) & (df[\"MaturitySize\"]==2)]['AdoptionSpeed'].value_counts()\n    tr3=df[(df['Type']==typeo) & (df[\"MaturitySize\"]==3)]['AdoptionSpeed'].value_counts()\n    tr4=df[(df['Type']==typeo) & (df[\"MaturitySize\"]==4)]['AdoptionSpeed'].value_counts()\n    tr5=df[(df['Type']==typeo) & (df[\"MaturitySize\"]==0)]['AdoptionSpeed'].value_counts()\n    xx=[4,3,2,1,0]\n    trace1=go.Bar(y=tr1,x=xx,name='Small')\n    trace2=go.Bar(y=tr2,x=xx,name='Medium')\n    trace3=go.Bar(y=tr3,x=xx,name='large')\n    trace4=go.Bar(y=tr4,x=xx,name='Extralarge')\n    trace5=go.Bar(y=tr5,x=xx,name='Not Sprecified')\n    return(trace1,trace2,trace3,trace4,trace5)\n\ntr1,tr2,tr3,tr4,tr5=compare_plot2(1)\n\ntr11,tr22,tr33,tr44,tr55=compare_plot2(2)\n\nfig=tools.make_subplots(rows=1,cols=2,subplot_titles=['Dogs',\"Cats\"])\n\n\nfig.append_trace(tr1,1,1)\nfig.append_trace(tr2,1,1)\nfig.append_trace(tr3,1,1)\nfig.append_trace(tr4,1,1)\nfig.append_trace(tr5,1,1)\n\nfig.append_trace(tr11,1,2)\nfig.append_trace(tr22,1,2)\nfig.append_trace(tr33,1,2)\nfig.append_trace(tr44,1,2)\nfig.append_trace(tr55,1,2)\n\nfig['layout'].update(height=500,width=800, title=\"AdoptionSpeed by Type and MaturitySize\", barmode=\"stack\", showlegend=False,xaxis=dict(title=\"AdoptionSpeed\"))\n\nplotly.offline.iplot(fig)\n\n\n\n\n\n    \n\n","84c2eb79":"def compare_plot3(typeo):\n    tr1=df[(df['Type']==typeo) & (df[\"Health\"]==1)]['AdoptionSpeed'].value_counts()\n    tr2=df[(df['Type']==typeo) & (df[\"Health\"]==2)]['AdoptionSpeed'].value_counts()\n    tr3=df[(df['Type']==typeo) & (df[\"Health\"]==3)]['AdoptionSpeed'].value_counts()\n    tr4=df[(df['Type']==typeo) & (df[\"Health\"]==0)]['AdoptionSpeed'].value_counts()\n    xx=[4,3,2,1,0]\n    trace1=go.Bar(y=tr1,x=xx,name='Healthy')\n    trace2=go.Bar(y=tr2,x=xx,name='Minor injury')\n    trace3=go.Bar(y=tr3,x=xx,name='Serious injury')\n    trace4=go.Bar(y=tr4,x=xx,name='Not Sprecified')\n    return(trace1,trace2,trace3,trace4)\n\ntr1,tr2,tr3,tr4=compare_plot3(1)\n\ntr11,tr22,tr33,tr44=compare_plot3(2)\n\nfig=tools.make_subplots(rows=1,cols=2,subplot_titles=['Dogs',\"Cats\"])\n\n\nfig.append_trace(tr1,1,1)\nfig.append_trace(tr2,1,1)\nfig.append_trace(tr3,1,1)\nfig.append_trace(tr4,1,1)\n\n\nfig.append_trace(tr11,1,2)\nfig.append_trace(tr22,1,2)\nfig.append_trace(tr33,1,2)\nfig.append_trace(tr44,1,2)\n\n\nfig['layout'].update(height=500,width=700, title=\"AdoptionSpeed by Type and Health\", barmode=\"stack\", showlegend=False,xaxis=dict(title=\"AdoptionSpeed\"))\n\nplotly.offline.iplot(fig)\n","b894a143":"pure=df[(df[\"Breed2\"]==0)][\"Type\"].value_counts()\nmixed=df[(df[\"Breed2\"]!=0)][\"Type\"].value_counts()\ndogs_pure=df[(df[\"Breed2\"]==0) & (df[\"Type\"]==1)]['AdoptionSpeed'].value_counts()\ndogs_mixed=df[(df[\"Breed2\"]!=0) & (df[\"Type\"]==1)]['AdoptionSpeed'].value_counts()\ncats_pure=df[(df[\"Breed2\"]==0) & (df[\"Type\"]==2)]['AdoptionSpeed'].value_counts()\ncats_mixed=df[(df[\"Breed2\"]!=0) & (df[\"Type\"]==2)]['AdoptionSpeed'].value_counts()\n","af26615b":"trace1=go.Bar(x=['Dogs',\"Cats\"],y=pure,name=\"pure\")\ntrace2=go.Bar(x=['Dogs','Cats'],y=mixed,name='mixed')\nxx=[4,3,2,1,0]\ntrace3=go.Bar(x=xx,y=dogs_pure,name=\"dogs pure breed\")\n\ntrace4=go.Bar(x=xx,y=dogs_mixed,name=\"dogs mixed breed\")\n\n\ntrace5=go.Bar(x=xx,y=cats_pure,name=\"cats pure breed\")\n\ntrace6=go.Bar(x=xx,y=cats_mixed,name=\"cats mixed breed\")\n\n\nfig=tools.make_subplots(rows=2,cols=2,subplot_titles=[\"\",\"\",\"Dogs\",\"Cats\"])\n\nfig.append_trace(trace1,1,1)\nfig.append_trace(trace2,1,1)\n\n\nfig.append_trace(trace3,2,1)\nfig.append_trace(trace4,2,1)\n\n\nfig.append_trace(trace5,2,2)\nfig.append_trace(trace6,2,2)\n\nfig['layout'].update(height=1000,width=800,barmode=\"stack\",showlegend=False,title=\"AdoptionSpeed by Breed and Type\")\nplotly.offline.iplot(fig)\n\n\n","c8b7bd03":"\n\n\nfig, ax = plt.subplots(figsize = (12, 8))\ntext_cat = ' '.join(df[df[\"Type\"]==1]['Description'].fillna('').values)\nwordcloud = WordCloud(max_font_size=None, background_color='white',\n                      width=1200, height=1000).generate(text_cat)\nplt.imshow(wordcloud)\nplt.title('Top words in description');\nplt.axis(\"off\");\n\n","76ea40e8":"fig, ax = plt.subplots(figsize = (12, 8))\ntext_cat = ' '.join(df[df[\"Type\"]==2]['Description'].fillna('').values)\nwordcloud = WordCloud(max_font_size=None, background_color='white',\n                      width=1200, height=1000).generate(text_cat)\nplt.imshow(wordcloud)\nplt.title('Top words in description');\nplt.axis(\"off\");\n\n","cf3ea245":"###### What age do people prefer?","e97d4c44":"###### Vaccination and adoptionSpeed","4a65aa0e":"###### Sterilization and AdoptionSpeed","86f9242a":"#### Wordcloud of Description","c4b159f2":"###### How about the Furlength?","8a748ca5":"### Loading libraries","cee87077":"##### Column description","0cf8653e":"#### Basic descriptions","12d4f855":"\n    PetID - Unique hash ID of pet profile\n    AdoptionSpeed - Categorical speed of adoption. Lower is faster. This is the value to predict. See below section for more info.\n    Type - Type of animal (1 = Dog, 2 = Cat)\n    Name - Name of pet (Empty if not named)\n    Age - Age of pet when listed, in months\n    Breed1 - Primary breed of pet (Refer to BreedLabels dictionary)\n    Breed2 - Secondary breed of pet, if pet is of mixed breed (Refer to BreedLabels dictionary)\n    Gender - Gender of pet (1 = Male, 2 = Female, 3 = Mixed, if profile represents group of pets)\n    Color1 - Color 1 of pet (Refer to ColorLabels dictionary)\n    Color2 - Color 2 of pet (Refer to ColorLabels dictionary)\n    Color3 - Color 3 of pet (Refer to ColorLabels dictionary)\n    MaturitySize - Size at maturity (1 = Small, 2 = Medium, 3 = Large, 4 = Extra Large, 0 = Not Specified)\n    FurLength - Fur length (1 = Short, 2 = Medium, 3 = Long, 0 = Not Specified)\n    Vaccinated - Pet has been vaccinated (1 = Yes, 2 = No, 3 = Not Sure)\n    Dewormed - Pet has been dewormed (1 = Yes, 2 = No, 3 = Not Sure)\n    Sterilized - Pet has been spayed \/ neutered (1 = Yes, 2 = No, 3 = Not Sure)\n    Health - Health Condition (1 = Healthy, 2 = Minor Injury, 3 = Serious Injury, 0 = Not Specified)\n    Quantity - Number of pets represented in profile\n    Fee - Adoption fee (0 = Free)\n    State - State location in Malaysia (Refer to StateLabels dictionary)\n    RescuerID - Unique hash ID of rescuer\n    VideoAmt - Total uploaded videos for this pet\n    PhotoAmt - Total uploaded photos for this pet\n    Description - Profile write-up for this pet. The primary language used is English, with some in Malay or Chinese.\n","f48d4130":"###### Which Type of Breeds do people prefer?","fc0d23a3":"## General information\n\n","3ff6c154":"please consinder upvoting if you find this kernel helpful.","1f2284b7":"###### Dewormed and AdoptionSpeed","62372df5":"<img src=\"https:\/\/www.petfinder.my\/images\/logo-322x93.png\"  width=\"500\">","bb781567":"###### Cats","978ee867":"###### Analysing our target variable : Adoption speed","71c7b76a":"###### Are they paid?","3895da68":"###### Missing values","6ba47be5":"### Stay tuned for predictions..","3dbb06e2":"This kernel is dedicated to EDA of [PetFinder.my Adoption Prediction](https:\/\/www.kaggle.com\/c\/petfinder-adoption-prediction) challenge as well as feature engineering and modelling.","ae55ffd4":"###### Overall Health ","9043753b":"###### MatuirtySize and AdoptionSpeed","0989b0d2":"###### Which gender is more preferred?","8a94c399":"###### Dogs","6b7c1d1f":"FurLength - Fur length 1 = Short, 2 = Medium, 3 = Long, 0 = Not Specified"}}