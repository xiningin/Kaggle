{"cell_type":{"fcd8c28a":"code","483cc7ef":"code","8160d38c":"code","75b98f48":"code","303c7e84":"code","432c747b":"code","cec3f502":"code","1ddf8267":"code","b67c74d5":"code","e240c27c":"code","1b80f179":"code","5a663607":"code","2c2c9cd2":"code","7caba2b1":"code","947d172b":"code","d4c63004":"code","33600d0a":"code","ccd4a1c3":"code","e56502d5":"code","471ed836":"code","ab4dac00":"code","8772999a":"code","0c591f6f":"code","be39deae":"code","57e1e2d9":"code","cf4df8ed":"code","61f09b87":"code","d4825a13":"code","18291f91":"code","141e971d":"code","f40ec42e":"code","d28a654f":"code","9757fd74":"code","44bb5afb":"code","3c4a3886":"code","d609004d":"code","6672aeba":"code","23120d1d":"code","60b2233e":"code","cc94a8d0":"code","0e7ab5df":"code","a081fdad":"code","83ecf4e6":"code","7017eff5":"code","0fafb48f":"code","5c9195c5":"code","fc4ec528":"code","f4094b47":"code","c97d4a17":"code","93d3a1ff":"code","dea60a4f":"code","9d621bb4":"code","8f74b9f2":"code","38d17c84":"code","f14c1c63":"code","d10fe330":"code","90e84786":"code","4d9dd4bf":"code","f19c69d7":"code","f5654066":"code","cc86ce68":"code","a5c3b445":"code","18c0211a":"code","37f997e7":"code","2a96ada3":"code","3b1c4661":"code","5e4a55a8":"code","d087ee74":"code","fb9cff7b":"code","a7852750":"code","9e52804d":"code","fb849d74":"code","89e624c3":"code","508c0799":"markdown","4e9ec305":"markdown","214e0002":"markdown","334902fd":"markdown","5dc0ae52":"markdown","14d1b347":"markdown","d9fb8460":"markdown","4e699af5":"markdown","9b49a7e9":"markdown","e3f89396":"markdown","3d779880":"markdown","057ac936":"markdown","137e0ddc":"markdown","151e1e52":"markdown","3a46f101":"markdown","2b434e61":"markdown","dfa7f8d0":"markdown","efe9047d":"markdown","fcf5caa0":"markdown","d05fde2a":"markdown","df7400ce":"markdown","79a98045":"markdown","c0230ec8":"markdown","2c6cb736":"markdown","e253d20c":"markdown","15f51258":"markdown","c21a39ee":"markdown","e3081117":"markdown","f7303051":"markdown","84e65cd1":"markdown","b3d785d3":"markdown","dcd06d02":"markdown","6703b7fa":"markdown","b4b6ff82":"markdown","d29b005e":"markdown","7c730fd0":"markdown","2330cc7c":"markdown","487ae050":"markdown","e87885f5":"markdown","f69f750d":"markdown","22ecdcf9":"markdown","139ffd98":"markdown","b3a441ee":"markdown","6255263f":"markdown","5db23bf5":"markdown","22e8975d":"markdown","71c3d81b":"markdown","13d5afe5":"markdown","f7894fdb":"markdown","0de35f17":"markdown","9a0b190f":"markdown","b9dd48ac":"markdown","0fb0e007":"markdown","b7f03860":"markdown","8f35af73":"markdown","b902a72d":"markdown","d6c52357":"markdown","689bc262":"markdown","7821141e":"markdown","05349f73":"markdown","ea14cda2":"markdown","bf9ce4d1":"markdown","cd1eea0d":"markdown","a149cb29":"markdown","7fcccc77":"markdown","7620a650":"markdown","05f3b3f6":"markdown","bbf5b07d":"markdown","b73fa8d3":"markdown"},"source":{"fcd8c28a":"import numpy as np\r\nimport pandas as pd\r\nimport matplotlib.pyplot as plt","483cc7ef":"df = pd.read_csv('..\/input\/sales-data-set\/all_data.csv')\r\ndf","8160d38c":"df.shape","75b98f48":"df.info()","303c7e84":"df.columns","432c747b":"df.isnull().sum()","cec3f502":"df.loc[df.duplicated()]","1ddf8267":"df.Product.unique()","b67c74d5":"df.Product.value_counts()","e240c27c":"df.describe()","1b80f179":"df.nunique()","5a663607":"df_clean = df.copy()\r\ndf","2c2c9cd2":"df_clean.loc[df_clean.duplicated()].sort_values('Order Date',ascending = False)","7caba2b1":"df_clean.loc[df_clean['Product']=='Product']","947d172b":"df_clean.drop(df_clean.index[df_clean['Product'] == 'Product'], inplace = True)","d4c63004":"df_clean.loc[df_clean['Product']=='Product']","33600d0a":"df_clean.loc[df_clean['Order ID'].isnull()]","ccd4a1c3":"df_clean.dropna(inplace=True)","e56502d5":"df_clean.loc[df_clean['Order ID'].isnull()]","471ed836":"df_clean.groupby(['Order ID','Product'])['Order ID'].count().nlargest()","ab4dac00":"df_clean.loc[df_clean['Order ID']=='142071']","8772999a":"df_clean.drop_duplicates(subset=['Order ID','Product'],keep='first',inplace=True)","0c591f6f":"df_clean.groupby(['Order ID','Product'])['Order ID'].count()","be39deae":"df_clean.loc[df_clean['Order ID']=='142071']","57e1e2d9":"df_clean.info()","cf4df8ed":"df_clean['Order Date']=pd.to_datetime(df_clean['Order Date'],errors='coerce')","61f09b87":"df_clean['Price Each']= pd.to_numeric(df_clean['Price Each'])","d4825a13":"df_clean['Quantity Ordered']=df_clean['Quantity Ordered'].astype(int)","18291f91":"df_clean['ZIP Code']=df_clean['Purchase Address'].str[-6:]","141e971d":"df_clean['Purchase Address']=df_clean['Purchase Address'].str[:-6]","f40ec42e":"df_clean['State']=df_clean['Purchase Address'].str[-2:]\r\ndf_clean['State']=df_clean['State'].astype('category')","d28a654f":"df_clean['Order Year']=df_clean['Order Date'].dt.year\r\ndf_clean['Order Year']=df_clean['Order Year'].astype('category')","9757fd74":"df_clean['Order Month']=df_clean['Order Date'].dt.month\r\ndf_clean['Order Month']=df_clean['Order Month'].astype('category')","44bb5afb":"df_clean['Order Day of Week']=df_clean['Order Date'].dt.dayofweek","3c4a3886":"df_clean['Order Hour of Day']=df_clean['Order Date'].dt.hour\r\ndf_clean['Order Hour of Day']=df_clean['Order Hour of Day'].astype(int)","d609004d":"df_clean","6672aeba":"df_clean = df_clean.sort_values('Order Date')\r\ndf_clean.reset_index(drop=True,inplace=True)\r\ndf_clean","23120d1d":"df_clean.loc[df_clean['Order Year']==2020].count()[0]","60b2233e":"df_clean.drop(df_clean.index[df_clean['Order Year'] ==2020], inplace = True)","cc94a8d0":"df_clean","0e7ab5df":"df_clean.to_csv('online_store_clean.csv')","a081fdad":"df_clean.info()","83ecf4e6":"df_clean.duplicated().sum()","7017eff5":"df_clean.isnull().sum()","0fafb48f":"df_clean.describe()","5c9195c5":"plt.style.use(['seaborn'])\r\nSMALL_SIZE = 14\r\nMEDIUM_SIZE = 16\r\nBIGGER_SIZE = 18\r\nplt.rc('font', size=SMALL_SIZE)          # controls default text sizes\r\nplt.rc('axes', titlesize=BIGGER_SIZE)     # fontsize of the axes title\r\nplt.rc('axes', labelsize=MEDIUM_SIZE)    # fontsize of the x and y labels\r\nplt.rc('xtick', labelsize=SMALL_SIZE)    # fontsize of the tick labels\r\nplt.rc('ytick', labelsize=SMALL_SIZE)    # fontsize of the tick labels\r\nplt.rc('legend', fontsize=SMALL_SIZE)    # legend fontsize\r\nplt.rc('figure', titlesize=BIGGER_SIZE,figsize=(15,10))  # fontsize of the figure title and figure size\r\n","fc4ec528":"df_clean['Order ID'].nunique()","f4094b47":"df_clean['Price Each'].sum().astype(int)","c97d4a17":"df_clean.groupby(['Order Month'])['Price Each'].sum().astype(int)","93d3a1ff":"df_clean.groupby(['Order Month'])['Price Each'].sum().astype(int).plot(kind='line',color = 'black',linestyle = '--',figsize = (15,7.5))\r\ndf_clean.groupby(['Order Month'])['Price Each'].sum().astype(int).plot(kind='bar')\r\nplt.xticks(np.arange(0,12,1),labels=['January','Febraury','March','April','May','June','July','August','September','October','November','December'],fontstyle = 'oblique')\r\nplt.xlabel('Months of the year')\r\nplt.ylabel('Number of Orders')\r\nplt.title('The Total Sales For Each Month In 2019')\r\nplt.show()","dea60a4f":"df_clean.groupby(['Order Month'])['Price Each'].sum().astype(int).plot(kind='pie',shadow=True,autopct='%.2f%%',figsize=(18,20))\r\nplt.title('The Total Sales For Each Month In 2019')\r\nplt.legend(title='Months', bbox_to_anchor=(1.05, 1), loc='upper left')\r\nplt.show()","9d621bb4":"df_clean['Quantity Ordered'].sum()","8f74b9f2":"df_clean.groupby(['Product'])['Product'].count().nlargest(20)","38d17c84":"df_clean.groupby('Product')['Product'].count().nlargest(20).plot(kind='bar',figsize=(15,7.5))\r\nplt.title('The most requested item in 2019')\r\nplt.ylabel('Number of Orders')\r\nplt.show()","f14c1c63":"df_clean.groupby('Product')['Product'].count().nlargest(20).plot(kind='pie',figsize=(18,20),shadow=True,autopct='%.2f%%')\r\nplt.title('The most requested item in 2019')\r\nplt.legend(title='Products', bbox_to_anchor=(1.15, 1), loc='upper left')\r\nplt.show()","d10fe330":"df_clean.groupby('Product')['Price Each'].sum().nlargest(20)","90e84786":"df_clean.groupby('Product')['Price Each'].sum().nlargest(20).plot(kind='bar',figsize = (15,7.5))\r\nplt.title('Total Sales For Each Product')\r\nplt.ylabel('Sales per Million')\r\nplt.show()","4d9dd4bf":"df_clean.groupby('Product')['Price Each'].sum().nlargest(20).plot(kind='pie',figsize = (18,20),shadow=True,autopct='%.2f%%')\r\nplt.title('Total Sales For Each Product')\r\nplt.ylabel('Sales per Million')\r\nplt.legend(title='Products', bbox_to_anchor=(1.05, 1), loc='upper left')\r\nplt.show()","f19c69d7":"df_clean.groupby(['State'])['Price Each'].sum().astype(int).nlargest(10)","f5654066":"plt.subplot(2, 2, 1)\ndf_clean.groupby(['State'])['Price Each'].sum().astype(int).nlargest(10).plot(kind='bar',figsize=(15,15))\nplt.subplot(2, 2, 2)\ndf_clean.groupby(['State'])['Price Each'].sum().astype(int).plot(kind='pie',figsize=(15,15),shadow=True,autopct='%.2f%%',explode = [0.1,0,0,0,0,0,0,0])\nplt.ylabel('Percentage For Each State')\nplt.title('Which state represents the highest precentage of purchases?',loc='center')\nplt.legend(title='States', bbox_to_anchor=(1.05, 1), loc='upper left')\nplt.show()","cc86ce68":"df_clean['Order ID'].value_counts()","a5c3b445":"df_clean.loc[df_clean['Order ID']=='160873']","18c0211a":"df_clean.groupby(['Purchase Address'])['Purchase Address'].count().nlargest()","37f997e7":"df_clean.loc[df_clean['Purchase Address']=='193 Forest St, San Francisco, CA'].sort_values('Purchase Address')","2a96ada3":"df_clean.groupby(['ZIP Code'])['ZIP Code'].count().nlargest(10)","3b1c4661":"df_clean.groupby(['ZIP Code'])['ZIP Code'].count().plot(kind='pie',shadow=False,autopct='%.2f%%',explode = [0,0,0.15,0,0,0,0.15,0.15,0,0],figsize=(15,15))\r\nplt.title('Which Mailbox receives the most orders?')\r\nplt.legend(title='ZIP Codes', bbox_to_anchor=(1.1, 1), loc='upper left')\r\nplt.show()","5e4a55a8":"df_clean['Order Day of Week'].value_counts().nlargest(7)","d087ee74":"df_clean['Order Day of Week'].value_counts(normalize=True).nlargest(7)*100","fb9cff7b":"df_clean['Order Day of Week'].value_counts(sort=False).plot(kind='line')\r\nplt.xticks(np.arange(0,7,1),labels=['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'],fontstyle = 'oblique')\r\nplt.title('The popular day of week to make an order')\r\nplt.xlabel('Day of Week')\r\nplt.ylabel('Number of orders')\r\nplt.show()","a7852750":"df_clean['Order Hour of Day'].value_counts(sort=False).plot(kind='bar')\r\ndf_clean['Order Hour of Day'].value_counts(sort=False).plot(kind='line',color = 'black',linestyle = '--')\r\nplt.xlabel('Hour')\r\nplt.ylabel('Number of Orders')\r\nplt.title(\"The most popular hour to make an order\")\r\nplt.show()","9e52804d":"df_clean.loc[df_clean.Product=='iPhone'].groupby(['Order Month'])['Order ID'].count().plot(kind='line')\r\ndf_clean.loc[df_clean.Product=='Google Phone'].groupby(['Order Month'])['Order ID'].count().plot(kind='line')\r\ndf_clean.loc[df_clean.Product=='Vareebadd Phone'].groupby(['Order Month'])['Order ID'].count().plot(kind='line')\r\nplt.xticks(np.arange(0,12,1),labels=['January','Febraury','March','April','May','June','July','August','September','October','November','December'],fontstyle = 'oblique')\r\nplt.legend(title = 'Smart Phones',labels=['iPhone','Google Phone','Vareebadd Phone'])\r\nplt.ylabel('Number of Orders')\r\nplt.show()\r\n","fb849d74":"df_clean.loc[df_clean.Product=='Wired Headphones'].groupby(['Order Month'])['Order ID'].count().plot(kind='line')\r\ndf_clean.loc[df_clean.Product=='Bose SoundSport Headphones'].groupby(['Order Month'])['Order ID'].count().plot(kind='line')\r\ndf_clean.loc[df_clean.Product=='Apple Airpods Headphones'].groupby(['Order Month'])['Order ID'].count().plot(kind='line')\r\nplt.xticks(np.arange(0,12,1),labels=['January','Febraury','March','April','May','June','July','August','September','October','November','December'],fontstyle = 'oblique')\r\nplt.legend(title = 'Headphones',labels=['Wired Headphones','Bose SoundSport Headphones','Apple Airpods Headphones'])\r\nplt.ylabel('Number of Orders')\r\nplt.show()","89e624c3":"df_clean.loc[df_clean.Product =='ThinkPad Laptop'].groupby(['Order Month'])['Order ID'].count().plot(kind='line')\r\ndf_clean.loc[df_clean.Product=='Macbook Pro Laptop'].groupby(['Order Month'])['Order ID'].count().plot(kind='line')\r\nplt.xticks(np.arange(0,12,1),labels=['January','Febraury','March','April','May','June','July','August','September','October','November','December'],fontstyle = 'oblique')\r\nplt.legend(title = 'Laptops',labels=['ThinkPad Laptop','Macbook Pro Laptop'])\r\nplt.ylabel('Number of Orders')\r\nplt.show()\r\n","508c0799":"* **Editing `Purchase Address` column.**","4e9ec305":"* **Number of NaN values for each column.**","214e0002":"* **Check if it's done or not.**","334902fd":"## **Research Question 9: Which mailbox was the largest number of purchases sent to?**","5dc0ae52":"## **Research Question 1: How much was the total sales value during 2019?**","14d1b347":"* **Columns names.**","d9fb8460":"* **NaN Values** :\r\n  * There are 545 NaN values. These values sgould be removed to ensure that the dataset is completely clean.\r\n* **Data Entry errors** :\r\n  * in **`Product`** column, There are 355 values with the name 'Product' . This should be a *data entry error* from combining table in csv file manually.\r\n  * Another issue in the same column; there are some items duplicated in the same order for no reason. Maybe it's another software crash or data entry error, whatever.\r\n* **Duplicated values** :\r\n  * These duplicated values are Combination of NaN values and data entry errors.","4e699af5":"## **Research Question 13: Which headphone is the most popular to be ordered?**","9b49a7e9":"* **Drop the previous values out of the dataset**","e3f89396":"> **Step 1: Removing data-entry-error values:**","3d779880":"* **Taking a copy of the dataset to perform the cleaning process without changing the real data**","057ac936":"## **Research Question 3: How many pieces did the store sell during 2019?**","137e0ddc":"> **Step 1: changing some columns to the appropriate data type.**","151e1e52":"* **Displaying NaN values together**","3a46f101":"> **Saving clean data**","2b434e61":"* **Generate descriptive statistics.**","dfa7f8d0":"## **Research Question 8: Where is the address where the biggest number of purchases have been delivered?**","efe9047d":"> ## **Fixing content issues:**","fcf5caa0":"## **Research Question 2: How much was the total sales for each month?**","d05fde2a":"* **Creating `Order Year` column.**","df7400ce":"> **Data type issues detected:**","79a98045":"* **`Quantity Ordered`** column :\r\n  * should be changed to integer to count the total number of each product.\r\n* **`Price Each`** column :\r\n  * should be changed to float to count the total sales for each product.\r\n* **`Order Date`** column:\r\n  * should be changed to datetime to do some calucaltions about the preffered time of day or month or year, time classification calculations at all.\r\n* New columns can be created:\r\n  * **`ZIP Code`** column:\r\n   * Contains a five-digit number extracted from `Purchase Address` column, represents the mail box for every area, and can be helpful when sending the product using postal address.\r\n  * **`State`** Column:\r\n   * to help in doing stats about sales in every state.\r\n  * **`Day of week`** Column: \r\n   * to help in doing stats about the preffered day of week for order decision.\r\n  * **`Hour of day`** Column:\r\n   * to give information about the most frequent time of day to make an order.","c0230ec8":"# **Stage 2: Cleaning the data.**","2c6cb736":"* **Displaying the Duplicated values together:**","e253d20c":"> **I think it's all clear now about issues and how to fix it. One stage left before starting doing data science job; Cleaning the data.**","15f51258":"* **Import the required modules.**","c21a39ee":"> **The dataset ordered by `Order Date`.**","e3081117":"> Welcome to this Exploratory Data Analysis (EDA) project, in which we will address a dataset that contains sales of an online store in the United States of America over the period from the beginning of January 2019 until the beginning of the same month of the following year 2020 across 8 US states [ CA ,NY ,TX ,MA ,GA ,WA ,OR ,ME ].\r\n\r\n*  During this trip, we will explore the information inside the file to determine the problems in it and certainly address them, to be 100% valid and clean for the beginning of collecting the necessary information, and then put it in a comprehensive conclusion for all the information that must be mentioned. I hope that the presentation will be organized and comfortable, and I will be very welcome for any opinions or modifications. Thank you very much.","f7303051":"* **Import the dataset and start exploring.**","84e65cd1":"* **Creating `Order Month` column.**","b3d785d3":"* **Search for duplicated values:**","dcd06d02":"## **Research Question 14: Which laptop is the most popular to be ordered?**","6703b7fa":"* **Deleting NaN values**","b4b6ff82":"> **Step 3: Removing duplicated values.**","d29b005e":"In conclusion, and after this long process, I came out with these observations:\r\n> * During the year 2019 : the store received **178,406** orders, during which **208,689** items were purchased, with a total sales estimated at approximately **$34 million**.\r\n> * The most sales for a single month were in **December**, at nearly **$4.5 million (about 13.4% of the total sales)**.\r\n> * The most requested item from the store was for **\"USB-C Charging Cable\"**, with about **21,900** pieces, and it was followed by a small difference, **\"Lightning Charging Cable\"**, with about **21,600** pieces.\r\n > * The highest share of sales profits was the **Macbook Pro Laptop** with about **$8 million (23.43% of the total sales)**, and the **iPhone** came in second place with about **$4.8 million (13.97% of the total sales)**.\r\n > * **California** topped the states in terms of sales, with sales accounting for **39.76% of total sales**, amounting to approximately **$13.6 million**.\r\n > * Products that were mailed to **California alone** via PO Boxes: *\"90001\"* and *\"94016\"* **(74,198 products)**, make up **37.43% of the products**.\r\n > * The most day of the week in which customers purchase products is **Tuesday (27,128 requests, or 14.61% of the total requests)**, but the percentages are very close among the rest of the week, as the lowest day in orders was on **Friday (26,211 requests, or 14.12% of the total requests)**.\r\n > * Throughout the day, the number of requests took a certain pattern, as it **decreased from midnight until four o\u2019clock in the morning**, from which it gradually increased until it **gradually stabilized with the noon hours** and **decreased again until three o\u2019clock in the afternoon**, from which **it rises again until it reaches its highest level at seven o\u2019clock at night** and then **gradually decreases Until midnight**.","7c730fd0":"> **Step 2: Removing NaN values:**","2330cc7c":"*It seems like it's done, so we can jump into the next step!*","487ae050":"> **Now, finally we can say: WE HAVE CLEAN DATA 100%, but one another issue still not fixed: changing data types in some columns,and creating new columns to make your EDA more easier.** ","e87885f5":"## **Setting some parameters for a better data visualization**","f69f750d":"* **Information about every column's data type.**","22ecdcf9":"> For more accurate analysis, we need to drop the values with date: `2020-01-01` to have the data for a complete year.","139ffd98":"# **Stage 4: Results and Conclusion**","b3a441ee":"## **Research Question 11: What is the most popular time of the day on which products are purchased from the store?**","6255263f":"* **Creating `State` column.**","5db23bf5":"As an example, let's search with random `Order ID` value:","22e8975d":"*Roughly speaking, these values \u200b\u200bare duplicated because the data entry specialist has stitched the sales tables together as new values \u200b\u200bwith new indexes, ignoring the row and column order.*","71c3d81b":"## **Research Question 0: How many orders are made in 2019?**","13d5afe5":"* **List of unique values in `Product` column.**","f7894fdb":">  **Cool ; to the last step, before we start our EDA!!!**","0de35f17":"> ## **fixing data type issues:**","9a0b190f":"## **Research Question 7: What are the details of the biggest order?**","b9dd48ac":"* **Number of unique values in each column.**","0fb0e007":"* **Creating `ZIP Code` column.**","b7f03860":"# **Stage 3: Exploratory Data Analysis (EDA) and Data Visualization**","8f35af73":"## **Research Question 6: How much was each state's share of the purchases?**","b902a72d":"## **Research Question 4: What is the most requested item from the store?**","d6c52357":"## **Research Question 10: What is the most popular day of the week on which products are purchased from the store?**","689bc262":"# **Stage 0: Exploring the given data**","7821141e":"> **Content issues detected:**","05349f73":"* **Creating `Order Day of Week` column.**","ea14cda2":"## **Research Question 12: Which smart phone is the most popular to be ordered?**","bf9ce4d1":"# **Title: EDA for sales dataset for an Online store**","cd1eea0d":"> **Step 2: Creating new columns.**","a149cb29":"* **Number of rows and columns in this dataset.**","7fcccc77":"* **Creating `Order Hour of Day` column.**","7620a650":"## **Research Question 5: How much did each item represent in total sales? And which piece was the highest share of sales?**","05f3b3f6":"# **Stage 1: Assessing the data.**","bbf5b07d":"That's another big issue that makes the the data somekind missleading, so it's a must to drop these duplicated values.","b73fa8d3":"> **Display the dataset in its clean state.**"}}