{"cell_type":{"9a7f4785":"code","652fe91f":"code","a1dc4b41":"markdown"},"source":{"9a7f4785":"# Sample Python script to use the API to get a comma-separated result set\n\nimport urllib.request\n\ndataURL = \"https:\/\/robothot.ai\/DataTutorial-Covid-19\/get_PerCon.php?B=2021-01-03%2000:00:00&E=2021-01-04%2000:00:00&T=csv\"\nfp = urllib.request.urlopen(dataURL)\ndata = fp.read()\ndata = data.decode(\"utf8\")\nprint(data)\n","652fe91f":"#Sample python script to get a JSON format result set\n\nimport json\n\ndataURL = \"https:\/\/robothot.ai\/DataTutorial-Covid-19\/get_PerCon.php?B=2021-01-03%2000:00:00&E=2021-01-04%2000:00:00&T=json\"\nfp = urllib.request.urlopen(dataURL)\ndata_string = fp.read()\ndata_string = data_string.decode(\"utf8\")\ndata_json = json.loads(data_string)\n\n# print json\nprint(data_json)\n\n# print only the data\n#for j in data_json:\n#    #print(j)\n#    print(\"\\n\")\n#    print(j[\"Province_State\"])\n#    print(j[\"Population\"])\n#    print(j[\"color\"])\n#    print(j[\"perCon\"])\n#    print(j[\"perDeaths\"])","a1dc4b41":"# Civics and Covid-19\n\nThe rights and responsibilities of all citizens are challenged by this pandemic. Civics & Covid-19 is a research project exploring how different political views in the USA impact the spread of Covid-19 in the USA.  See \"How You Vote may Affect Your Health\" at https:\/\/cy-nelson.medium.com\/how-you-vote-may-affect-your-health-897ffcc96095\n\n### Research questions\nCovid-19 is perceived and managed differently across the United States. We aim to provide data to support research for understanding which political policies best protect the health of USA citizens.  Here are three key reports:\n\n<a href=\"https:\/\/robothot.ai\/DataTutorial-Covid-19\/ranked.php?D=2021-01-04\">Civics & Covid-19 Updates<\/a>\n\n<a href=\"https:\/\/robothot.ai\/DataTutorial-Covid-19\/red_blue_purple_res.php?D=2021-01-04\">Covid-19 statistics by USA political party<\/a>\n\n<a href=\"https:\/\/robothot.ai\/DataTutorial-Covid-19\/qry_usa_percent_deaths.php?D=2021-01-04\">Covid-19 statistics per 100,000 people<\/a>\n\n\n### Where does Civics and Covid-19 data come from?  \nState laws require hospitals, healthcare providers, and laboratories to report confirmed (or probable) COVID-19 cases and deaths to State or Local health departments.  These departments may notify the CDC but this notification is voluntary.  In order to collect consistent data, there is a national standard case definition for defining cases and deaths.  To protect the privacy of individuals, case data is anonymized when it is reported to the CDC.  Because COVID-19 has been designated as an international public health emergency, the CDC reports national case data to the World Health Organization under International Health Regulations (2005).  \n\nThe Center for Systems Science and Engineering at Johns Hopkins University uploads WHO data along with data from other sources and makes it publically available on their github repository.  Johns Hopkins data is cummulative and stored in comma-separated files.  I process this data into daily statistics and upload it into a MySQL database for analysis and reporting.  This MySQL database is hosted privately.  It contains daily statistics for States and Provinces of the USA beginning April 12, 2020 and daily statistics for other countries beginning May 29, 2020.  You can use APIs to access this data for your own analysis and reporting.  The API to get confirmed cases and deaths per 100,000 color-coded by political party is explained below.  You can find other APIs at <a href=\"https:\/\/robothot.ai\/DataTutorial-Covid-19\/covid-19-api.php?D=2021-01-04\">Civics and Covid-19 API<\/a>  \n\n\n### Confirmed cases and deaths per 100,000 color-coded by the political party\n\nColumn names:\nProvince_State, Political_color, Population, perConfirmed, perDeaths\n\nSample data:\nWisconsin,#80A0FF,5851754,648,1\n\nSample format:\n[{\"perCon\":\"648\",\"perDeaths\":\"1\",\"Province_State\":\"Wisconsin\",\"color\":\"#80A0FF\",\"Population\":\"5851754\"}]\n\n\n#### API\nCustom date range:\nhttps:\/\/robothot.ai\/DataTutorial-Covid-19\/get_PerCon.php?B=2021-01-03%2000:00:00&E=2021-01-04%2000:00:00&T=csv\n\nBegin on January 3, 2021\n\n``` B=2021-01-03%2000:00:00 ```\n\nEnd on January 4, 2021\n\n``` E=2021-01-04%2000:00:00 ```\n\nFormat the results as CSV file\n\n```T=csv```\n\n\nPast 7 days\nhttps:\/\/robothot.ai\/DataTutorial-Covid-19\/get_PerCon.php?B=2020-12-27%2000:00:00&E=2021-01-04%2000:00:00&T=csv\n\n\nPast 21 days\nhttps:\/\/robothot.ai\/DataTutorial-Covid-19\/get_PerCon.php?B=2020-12-13%2000:00:00&E=2021-01-04%2000:00:00&T=csv"}}