{"cell_type":{"33b2cb1d":"code","37fc9bff":"code","9da89e74":"code","9b048c70":"code","5e2b6e27":"code","a80e34a6":"code","488d09f3":"code","a1ba87f3":"code","e5c07a56":"code","1d30be7e":"code","20b25b6a":"code","5a082741":"code","cb894849":"code","59b54c9a":"code","d39cb53b":"code","3f7e08df":"code","70c42706":"code","0f500508":"code","615508e6":"code","bf8ed7a1":"code","a6204f73":"code","b9547753":"code","fb91357b":"code","73da8ee9":"markdown","78aa4330":"markdown"},"source":{"33b2cb1d":"import pandas as pd\nimport numpy as np\nfrom matplotlib import pyplot as plt\n%matplotlib inline","37fc9bff":"train = pd.read_csv(\"..\/input\/train_V2.csv\")","9da89e74":"train.head()","9b048c70":"train.shape","5e2b6e27":"print(train[\"matchType\"].unique())\nprint(len(train[\"matchType\"].unique()))","a80e34a6":"# \u3069\u3046\u3084\u3089\u6b20\u640d\u5024\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u6a21\u69d8\ntrain.isna().sum()","488d09f3":"train[train['winPlacePerc'].isna()]","a1ba87f3":"# \u6b20\u640d\u5024\u306f\u524a\u9664\uff01\ntrain.drop(2744604, inplace=True)","e5c07a56":"# \u30c1\u30fc\u30bf\u30fc\u3092\u898b\u3064\u3051\u308b\n# \u30c1\u30fc\u30bf\u30fc\u306e\u60c5\u5831\u3092\u5b66\u7fd2\u306b\u4f7f\u3063\u3066\u3057\u307e\u3046\u3068\u6b63\u78ba\u306a\u4e88\u6e2c\u304c\u3067\u304d\u306a\u304f\u306a\u308b\n# \u3068\u308a\u3042\u3048\u305a\u52d5\u304b\u305a\u306bkill\u3057\u3066\u308b\u306e\u306f\u30c1\u30fc\u30bf\u30fc\u3068\u307f\u306a\u3059\ntrain['totalDistance'] = train['rideDistance'] + train['walkDistance'] + train['swimDistance']\ntrain['killsWithoutMoving'] = ((train['kills'] > 0) & (train['totalDistance'] == 0))","1d30be7e":"train[train['killsWithoutMoving'] == True].shape","20b25b6a":"train[train['killsWithoutMoving'] == True]","5a082741":"# \u52d5\u304b\u305a\u306b\u30ad\u30eb\u3057\u3066\u3044\u308b\u30d7\u30ec\u30a4\u30e4\u30fc\u306f\u524a\u9664\ntrain.drop(train[train['killsWithoutMoving'] == True].index, inplace=True)","cb894849":"# \u30ad\u30eb\u591a\u3059\u304e\u308b\u3084\u3064\u304c\u3044\u308b\u30c1\u30fc\u30bf\u30fc\u3060\u308d\nprint(train[train[\"kills\"] > 30].shape)\ntrain[train[\"kills\"] > 30].head()","59b54c9a":"# \u30ad\u30eb\u6570\u591a\u3059\u304e\u308b\u30d7\u30ec\u30a4\u30e4\u30fc\u306f\u524a\u9664\ntrain.drop(train[train['kills'] > 30].index, inplace=True)","d39cb53b":"# \u30d8\u30c3\u30c9\u30b7\u30e7\u30c3\u30c8\u30ad\u30eb \/ \u30ad\u30eb\n# \u30d8\u30c3\u30c9\u30b7\u30e7\u30c3\u30c8\u30ec\u30fc\u30c8\u3092\u8a08\u7b97\u3057\u3066\u3001\u30d8\u30c3\u30c9\u30b7\u30e7\u30c3\u30c8\u30ec\u30fc\u30c81.0\u3067\u30ad\u30eb\u6570\u304c\u591a\u3059\u304e\u308b\u3084\u3064\u306f\u30c1\u30fc\u30bf\u30fc\ntrain['headshot_rate'] = train['headshotKills'] \/ train['kills']\n# \u6b20\u640d\u5024\u306e\u305f\u3081\u306b0\u3067\u57cb\u3081\u3066\u304a\u304f\ntrain['headshot_rate'] = train['headshot_rate'].fillna(0)","3f7e08df":"# \u3068\u601d\u3063\u305f\u3051\u3069\u73fe\u5b9f\u7684\u306b\u3042\u308a\u3048\u305d\u3046\u306a\u7bc4\u56f2\u3060\u3063\u305f\u30fb\u30fb\u30fb\nprint(train[(train['headshot_rate'] == 1) & (train['kills'] > 9)].shape)\ntrain[(train['headshot_rate'] == 1) & (train['kills'] > 9)]","70c42706":"# from catboost import CatBoostRegressor\nfrom xgboost import XGBRegressor\n# from lightgbm import LGBMRegressor","0f500508":"# catb_model = CatBoostRegressor() \nxgb_model = XGBRegressor()\n# lgb_model = LGBMRegressor()","615508e6":"# \u30c7\u30fc\u30bf\u591a\u3059\u304e\u3066\u5b66\u7fd2\u304c\u7d42\u308f\u3089\u306a\u3044\u306e\u3067\u3068\u308a\u3042\u3048\u305a 5\u4e07\u4ef6\nsample = train.sample(n=50000)","bf8ed7a1":"x = sample.drop(columns=[\"Id\", \"groupId\", \"matchId\", \"matchType\", \"winPlacePerc\"])\ny = sample[\"winPlacePerc\"]","a6204f73":"# catb_model.fit(x, y)\nxgb_model.fit(x, y)\n# lgb_model.fit(x, y)","b9547753":"from xgboost import plot_importance","fb91357b":"# \u3069\u306e\u5909\u6570\u304c\u30e2\u30c7\u30eb\u306e\u7cbe\u5ea6\u5411\u4e0a\u306b\u5f71\u97ff\u3057\u3066\u3044\u308b\u304b\u3092\u898b\u3066\u307f\u308b\nplot_importance(xgb_model)","73da8ee9":"# train_V2.csv\n## \u30ab\u30e9\u30e0\u306b\u3064\u3044\u3066\n- Id\n\u30d7\u30ec\u30fc\u30e4\u30fc\u500b\u3005\u306b\u632f\u3089\u308c\u308bID\u3001\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\n- groupId\n\u30c1\u30fc\u30e0\u6bce\u306b\u632f\u3089\u308c\u308bid\u3001PUBG\u3067\u306f\u30bd\u30ed\u3001\u30c7\u30e5\u30aa\u3001\u30b9\u30af\u30a2\u30c3\u30c9\u306a\u3069\u306e\u30c1\u30fc\u30e0\u30eb\u30fc\u30eb\u304c\u3042\u308b\u3002\n- matchId\n\u30d7\u30ec\u30a4\u30e4\u30fc\u306fmatchid\uff08\u8a66\u5408\u6bce\u306b\u632f\u3089\u308c\u305fid\uff09\u6bce\u306b\u6700\u5927\uff11\uff10\uff10\u540d\u306e\u53c2\u52a0\u8005\u304c\u5b58\u5728\u3059\u308b\u3002\n- kills\n\u30ad\u30eb\u6570\n- headshotKills\n\u30d8\u30c3\u30c9\u30b7\u30e7\u30c3\u30c8\u30ad\u30eb\u6570\n- killPlace\n\uff11\u30b2\u30fc\u30e0\u5185\u306b\u304a\u3051\u308b\u30ad\u30eb\u6570\u30e9\u30f3\u30ad\u30f3\u30b0\n- killPoints\nkill\u6570\u30d9\u30fc\u30b9\u306e\u30e9\u30f3\u30ad\u30f3\u30b0\u306b\u57fa\u3065\u3044\u305f\u30dd\u30a4\u30f3\u30c8\u6570\u3001\u30d7\u30ec\u30a4\u30e4\u30fc\u6bce\u306b\u7d10\u3065\u304f\n\uff10\u306b\u306a\u3063\u3066\u3044\u308b\u4eba\u306f\u307e\u3060\u30e9\u30f3\u30ad\u30f3\u30b0\u5916\u3068\u3044\u3046\u3053\u3068\n<blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"en\" dir=\"ltr\">We already have an ELO based ranking system &amp; leaderboard on-game, and will be expanding it over the course of early access!<\/p>&mdash; PUBG (@PUBG) <a href=\"https:\/\/twitter.com\/PUBG\/status\/845567597533835264?ref_src=twsrc%5Etfw\">2017\u5e743\u670825\u65e5<\/a><\/blockquote>\n<script async src=\"https:\/\/platform.twitter.com\/widgets.js\" charset=\"utf-8\"><\/script>\n\n- winPoints killpoints\u3068\u5143\u306b\u3057\u305f\u30e9\u30f3\u30ad\u30f3\u30b0\u304c\u540c\u3058\u3001\u52dd\u5229\u6570\u3067\u30d7\u30ec\u30a4\u30e4\u30fc\u306b\u7d10\u3065\u304f\n- rankPoints killpoints\u3068\u5143\u306b\u3057\u305f\u30e9\u30f3\u30ad\u30f3\u30b0\u304c\u540c\u3058\u3001\u3053\u3061\u3089\u306f\u30d7\u30ec\u30a4\u30e4\u30fc\u306b\u7d10\u3065\u304f\u30e9\u30f3\u30af\n- killStreaks\n\u77ed\u6642\u9593\u3067\u9023\u7d9a\u3067kill\u3057\u305f\u6570\n- longestKill\nkill\u3057\u305f\u969b\u306e\u6575\u3068\u306e\u8ddd\u96e2\n- assists\n\u81ea\u5206\u304c\u6575\u306b\u30c0\u30e1\u30fc\u30b8\u3092\u4e0e\u3048\u305f\u5f8c\u81ea\u5206\u4ee5\u5916\u304c\u6575\u3092\u5012\u3057\u305f\u6570\n- damageDealt\n\u30c8\u30fc\u30bf\u30eb\u30c0\u30e1\u30fc\u30b8\u6570\u3001\u57fa\u672c kill \u00d7 100\uff08\u30d7\u30ec\u30a4\u30e4\u30fcHP\uff09\n- DBNOs\n\u7d20\u624b\u30fb\u683c\u95d8\u6b66\u5668\uff1f\u3067\u6bb4\u3063\u305f\u6575\u306e\u4eba\u6570\n- boosts \u30fbheals\n\u30d6\u30fc\u30b9\u30c8\u30b2\u30fc\u30b8\u30fb\u4f53\u529b\u3092\u3069\u308c\u3060\u3051\u56de\u5fa9\u3057\u305f\u304b\n    - [\u3010PUBG\u3011\u56de\u5fa9\u30a2\u30a4\u30c6\u30e0\u3068\u30d6\u30fc\u30b9\u30c8\u306e\u52b9\u679c\u307e\u3068\u3081](https:\/\/vanillaice-fps.com\/pubg\/recovery-item-boost-item-effect)\n    - [\u3010PUBG\u3011\u30d6\u30fc\u30b9\u30c8\u52b9\u679c\u306e\u89e3\u8aac\u30683\u7a2e\u306e\u30d6\u30fc\u30b9\u30c8\u30a2\u30a4\u30c6\u30e0\u307e\u3068\u3081](https:\/\/chimolog.co\/pubg-boost-guide\/)\n- rideDistance \u8eca\u4e21\u306b\u4e57\u3063\u3066\u8d70\u3063\u305f\u8ddd\u96e2\n- walkDistance \u8d70\u3063\u305f\u8ddd\u96e2\n- matchDuration \u30de\u30c3\u30c1\u306b\u304b\u304b\u3063\u305f\u6642\u9593 [\u79d2]\n- matchType \u6b21\u30bb\u30eb\u53c2\u7167\n- maxPlace \u3088\u304f\u308f\u304b\u3089\u3093\n- numGroups \u540c\u30de\u30c3\u30c1\u5185\u306e\n- revives \u30c1\u30fc\u30e0\u30e1\u30a4\u30c8\u3092\u5fa9\u6d3b\u3055\u305b\u305f\u6570\n- roadKills \u8eca\u4e21\u3067\u8f62\u3044\u3066\u6bba\u3057\u305f\u6575\u306e\u6570\n- swimDistance \u6cf3\u3044\u3060\u8ddd\u96e2\n- teamKills \u30c1\u30fc\u30e0\u30e1\u30a4\u30c8\u3092\u30ad\u30eb\u3057\u305f\u6570\n- vehicleDestroys \u8eca\u4e21\u3092\u7834\u58ca\u3057\u305f\u6570\n- weaponsAcquired \u6b66\u5668\u3092\u62fe\u3063\u305f\u6570\n\n\n## \u53c2\u8003\n[PUBG Finish Placement Prediction (Kernels Only) - data](https:\/\/www.kaggle.com\/c\/pubg-finish-placement-prediction\/data)","78aa4330":"# PUBG\u30b3\u30f3\u30da\n## PUBG\u3063\u3066\u4f55\uff1f\n\u307e\u305a\u306f\u3053\u3061\u3089\u3092\u5fa1\u89a7\u304f\u3060\u3055\u3044\n- <iframe width=\"560\" height=\"315\" src=\"https:\/\/www.youtube.com\/embed\/5dxequUSxjA?start=838\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen><\/iframe>\n\n- <iframe width=\"560\" height=\"315\" src=\"https:\/\/www.youtube.com\/embed\/5dxequUSxjA?start=1353\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen><\/iframe>\n\n## \u3069\u3093\u306a\u30b3\u30f3\u30da\u304b\uff1f\n- \uff11\uff10\uff10\u4eba\u4e2d\u4f55\u4f4d\u306b\u306a\u308b\u304b**\uff10\u304b\u3089\uff11\u307e\u3067\u306e\u9806\u4f4d\uff08\uff10\u304c\u30d3\u30ea\u3001\uff11\u304c\u30c8\u30c3\u30d7\uff09**\u3092\u4e88\u6e2c\u3059\u308b\n- \u30ab\u30fc\u30cd\u30eb\u30aa\u30f3\u30ea\u30fc\u30eb\u30fc\u30eb\u3001\u4eca\u66f8\u3044\u3066\u3044\u308b**\u30ab\u30fc\u30cd\u30eb\u306e\u307f**\u3067\u3057\u304b\u7d50\u679c\u306e\u63d0\u51fa\u306f\u8a8d\u3081\u3089\u308c\u306a\u3044\u3002\n- \uff10\u304b\u3089\uff11\u307e\u3067\u306e\u6570\u5024\u3092\u4e88\u6e2c\u3059\u308b\u306e\u3067**\u56de\u5e30\u554f\u984c**\u3067\u3042\u308b\n- \u8a55\u4fa1\u95a2\u6570\u304c\u5e73\u5747\u7d76\u5bfe\u8aa4\u5dee\uff08MAE\uff09\u3092\u4f7f\u7528\u3001**\u5c0f\u3055\u3051\u308c\u3070\u5c0f\u3055\u3044\u307b\u3069\u30b9\u30b3\u30a2\u304c\u826f\u3044**\n\n- \u53c2\u8003: [Otto\u89e3\u6cd5\u8aac\u660e\u30ab\u30fc\u30cd\u30eb](https:\/\/www.kaggle.com\/wakamezake\/neural-networks-product-classification-otto)"}}