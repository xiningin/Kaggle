{"cell_type":{"14f3508a":"code","516fa372":"code","890e6757":"code","1bd48d6d":"code","e9cb000e":"code","14e46472":"code","f2e60903":"code","92f43f17":"code","a4bcd864":"code","3a05bd2b":"code","a8ef55fe":"code","70012faa":"code","788a3086":"code","8e4b1102":"code","8a82d1d9":"code","fb7514fd":"code","4864e59f":"code","676f2e4a":"code","f5ef9d89":"code","7762cc64":"code","21750f1b":"code","3aa3d3f7":"markdown","a1369d78":"markdown","4c1faae2":"markdown","1a13aa14":"markdown","c90e62ea":"markdown","2e03b515":"markdown","857610fe":"markdown","0119ba9b":"markdown","3db03deb":"markdown","0076b8bc":"markdown","c020435f":"markdown","e9896e94":"markdown","f1c81af0":"markdown","8209a672":"markdown","4e848fb3":"markdown","907d13b2":"markdown","4022e2d0":"markdown","3eca69aa":"markdown","fe2933ed":"markdown"},"source":{"14f3508a":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nfrom sklearn.model_selection import KFold\nimport tensorflow as tf","516fa372":"df = pd.read_csv(\"..\/input\/3dprinter\/data.csv\")","890e6757":"df = df.rename(columns={\"tension_strenght\": \"tensile_strength\"})","1bd48d6d":"df","e9cb000e":"df.info()","14e46472":"df.infill_pattern.value_counts()","f2e60903":"df.material.value_counts()","92f43f17":"for column in df.columns:\n    print(str(column)+\": \"+str(df[column].unique()))\n    print()","a4bcd864":"#In this data set, ABS and PLA assigned 0 and 1 values for materials (abs = 0, pla = 1)\ndf.material = [0 if each=='abs' else 1 for each in df.material]\n\n#In this data set, grid and honeycomb assigned 0 and 1 values for infill_pattern (grid = 0, honeycomb = 1)\ndf.infill_pattern = [0 if each=='grid' else 1 for each in df.infill_pattern]\n\ndf.head()","3a05bd2b":"df.layer_height = df.layer_height*100\ndf.elongation = df.elongation*100","a8ef55fe":"corr = df.corr()\ncorr.style.background_gradient(cmap='Accent').set_precision(2)","70012faa":"target_cols = ['tensile_strength', 'roughness', 'elongation']\ny = df[target_cols].values\nx = df.drop(target_cols,axis=1).values","788a3086":"from IPython.display import YouTubeVideo\nYouTubeVideo('3lRhZTdafE4', width=800, height=450)","8e4b1102":"sns.scatterplot(x=df.fan_speed,y=df.tensile_strength,hue=df.material)","8a82d1d9":"sns.scatterplot(x=df.layer_height,y=df.roughness,hue=df.material)","fb7514fd":"sns.scatterplot(x=df.infill_pattern,y=df.elongation,hue=df.material)","4864e59f":"sns.scatterplot(x=df.nozzle_temperature,y=df.roughness,hue=df.material)","676f2e4a":"sns.scatterplot(x=df.print_speed,y=df.roughness,hue=df.material)","f5ef9d89":"model = tf.keras.Sequential([\ntf.keras.layers.Input(9),\ntf.keras.layers.BatchNormalization(),\ntf.keras.layers.Dropout(0.2),\ntf.keras.layers.Dense(1024),\ntf.keras.layers.BatchNormalization(),\ntf.keras.layers.Dropout(0.38),    \ntf.keras.layers.PReLU(),   \ntf.keras.layers.Dense(256),\ntf.keras.layers.BatchNormalization(),\ntf.keras.layers.Dropout(0.35),\ntf.keras.layers.PReLU(),    \ntf.keras.layers.Dense(3, activation=\"sigmoid\")\n])\n\nmodel.compile(tf.optimizers.Adam(lr = 1e-3),loss='mean_squared_error',metrics=['accuracy'])","7762cc64":"for n, (tr, te) in enumerate(KFold(n_splits=5, shuffle=True).split(x)):\n    print(f'Fold {n+1}')\n\n    history = model.fit(x[tr],y.astype(float)[tr],\n                validation_data=(x[te], y.astype(float)[te]),\n                epochs=45, batch_size=8, verbose=2)\n    print('')\n    ","21750f1b":"\nplt.figure(figsize=(15,7))\nax1 = plt.subplot(1,2,1)\nax1.plot(history.history['loss'], color='b', label='Training Loss') \nax1.plot(history.history['val_loss'], color='r', label = 'Validation Loss',axes=ax1)\nlegend = ax1.legend(loc='best', shadow=True)\nax2 = plt.subplot(1,2,2)\nax2.plot(history.history['accuracy'], color='b', label='Training Accuracy') \nax2.plot(history.history['val_accuracy'], color='r', label = 'Validation Accuracy')\nlegend = ax2.legend(loc='best', shadow=True)","3aa3d3f7":"Both have two unique values and are equally balanced.\n\nNow let's take a unique values of all columns","a1369d78":"As can be seen from the distribution, the Nozzle fan provides a good layer adhesion for Pla, while creating a negative effect for Abs. Ultimaker's website has already focused on this issue. Abs is a material that does not like air circulation in the environment. Although according to correlation matrix there seems to be negative correlation between fan speed and tensile_stregth but remember we are also using material data here and material & tensile_strength has 0.29 correlation b\/w them, that's why we should explore data as much as possible.\nAlso, you can also say, if you are using ABS, keep fan speed low, to get a higher tensile strength.","4c1faae2":"This is a correlation matrix, which gives a matrix in which each cell gives a value ranging from -1 to 1, which shows the how correlated that particular row is with column or vice-versa.","1a13aa14":"# 4. EDA\n\nImproving the mechanical performance of a printed part often comes at the expense of printing speed, affordability and quality. In this study we quantify the impact of different layer heights and infill settings on performance, and we try to help users choose the optimal settings by clearly laying out the trade-offs faced by the user. We provide the layer height and infill settings we would pick depending on the application requirements.\n\nThe key parameters we look into are infill %, layer height and infill pattern. In the main body of this study, we provide a detailed description of the influence these parameters have on max stress, elongation at break, rigidity (Young Modulus) and yield stress.","c90e62ea":"* There are only 50 examples. \n* Also there is no null values in any column.\n* There are two *object* type column, `infill_pattern` and `material`, lets take a look at them","2e03b515":"Here also is some good insight you can find. Remember there are two `infill_pattern` in this dataset (grid = 0, honeycomb = 1). First thing you can notice when `infill_pattern` is 1 i.e. *honeycomb*, it is clear that there is more elongation when the material used is *PLA*. It can be also true when `infill_pattern` is 0 i.e. *grid*, but we can't say for sure because there are some cases in which *ABS* is showing more elongation. So, in general we can say we should use ABS if we want low elongation, using either patterns of infill.","857610fe":"## IF YOU LIKE THE KERNEL PLZ UPVOTE IT!!\n\n\nThe study aims to determine how much of the adjustment parameters in 3d printers affect print quality, accuracy, and strength. There are nine setting parameters and three measured output parameters.","0119ba9b":"To make it more understandable, Let's multiply the height of the layer and the decimal data, which is elongation, by 100.","3db03deb":"Let's briefly take a look at our data set. For 5 different layer thicknesses, tests were carried out for two different materials at randomly changing wall thickness and occupancy rates, and for two different occupancy patterns. The writing speed started to decrease after a certain value so that the correlation did not increase continuously. Again, the material was evenly distributed throughout the tests.\n\nOur target columns `roughness`, `tension_strength` and `elongation` seems to have multiple values. So this is a regression problem.\n\nAs you know, there are some categorical and font data here. Now let's convert these String values to numbers.","0076b8bc":"# 2. Reading Data and Preprocessing\n\nThis data is based on the Ultimaker S5 3-D printer settings and filaments. Material and strength tests were carried out on a Sincotec GMBH tester capable of pulling 20 kN.","c020435f":"# 3. Domain Knowledge\n\n## **Classification**:\n\nThere are various technologies that produce products through different additive manufacturing processes like powder bed fusion, photopolymerisation Material extrusion and jetting, Sheet lamination, etc. Some of the technologies are listed below in detail.\n\n## Stereolithography (SLA):\n\nSLA uses a vat of curable photopolymer resin (polymer that changes properties when exposed to light). It is a high end technology utilizing laser technology to cure layer-upon-layer of photopolymer resin. The build occurs in a pool of resin. The UV light solidifies the resin it touches and each layer is applied by submersion of the build platform into the resin. The process repeats until the build or model is completed and fascinating to watch. SLA is the technique that produces the finest surface finish and dimensional accuracy. It requires a support structure under production, which has to be removed at post-production.\n\n## Selective Laser Sintering (SLS):\n\nSLS is a powder\u00ac\u2010based process where a CO2 laser fuses small particles of plastic, metal, ceramic or glass in layers, directed by a computer\u00ac\u2010guided mirror. The build platform progresses downwards as each layer is built. Delivery chambers rises to provide a roller with fresh powder that is being uniformly spread over the build area. Unlike SLA technology, support material is not needed as the build is supported by unsintered material.\n\n## Direct metal laser sintering (DMLS):\n\nDirect Metal Laser Sintering or DMLS is an additive manufacturing technique for metal 3D printing that was developed by EOS. It uses a laser as a power source in order to sinter metal powder by aiming a laser and tracing a cross section of the object layer by layer. An expendable first layer of the part is anchored to a steel plate to stop distortion, which makes removal easier when the build is complete. Direct Metal Laser Sintering is similar to the selective laser sintering process.\n\n## Fused deposition modeling (FDM):\n\nIt is mainly used by individuals and is the most affordable 3D printing process compared to other 3D printing technologies. FDM produces 3D parts by melting and advancing a fine ribbon of production grade thermoplastic materials through a computer controlled extrusion head, producing parts that are ready to use. The nozzles trace the cross-section pattern for each particular layer with the thermoplastic material hardening prior to the application of the next layer. Similar to SLA, the models can be machined or used as patterns. This method requires a supportive structure to be printed, but the strength to weight ratio is very high.\n\n## Digital Light Processing (DLP):\n\nDLP is a 3D printing process where a projector cures photopolymer resin. Similar to SLA, a safelight (bulb) is used instead of a UV laser to cure the photopolymer resin. Objects are created the same as SLA with the object being either pulled out of the resin which creates space for the uncured resin at the bottom of the container and to form the next layer of the object or down into the tank with the next layer being cured on the top.\n\n## Material Jetting Modeling (MJM):\n\nMJM is similar to an inkjet printer that travels back and forth in all the 3 dimensions (x, y, z). It contains a number of small jets that apply a layer of thermopolymer material and proceed from layer to layer.\n\nBesides these, various other technologies also are arising in the field of additive manufacturing. Some of them are:\n\n* Electron beam melting (EBM)\n* Binder jetting\n* Continuous liquid Interface production (CLIP)\n* Selective deposition lamination\n\nHow do the various types of 3D printers vary? What materials do they use? Which ones are best for detail? How hard is post processing? Which ones will try to kill me? All of these questions and much more are answered in this video!","e9896e94":"**If you want to know more about 3D printing, its types and parameter, check out these [link1](https:\/\/my3dmatter.com\/influence-infill-layer-height-pattern\/), [link2](https:\/\/iitism.ac.in\/iraa\/lamps\/blog.php)**","f1c81af0":"# 1. Importing Libraries","8209a672":"This is the graph of 5th fold set training, this is not the expected visual, but I'm trying to improve it on such low data as possible.","4e848fb3":"Before digging into EDA, lets have some domain knowledge.\n\nStarting with material, here are only two unique materials given but there are many.\n\n## Which Ultimaker material should I use?\n\nWhen you select a print material, it is important to consider the characteristics of the object you want to print and the environment in which it will be used. Ideally, you will select your print material based on material characteristics such as:\n\n* Technical properties\n* Aesthetic qualities\n* Processing ability\n\nThe following material descriptions will help you select the right material for your 3D printing application. \n\n## PLA (polylactic acid)\nPLA is a biodegradable polymer that is ideal for prototyping 3D models with pleasing aesthetics. It has good surface quality, is somewhat glossy, and prints details with a high resolution. PLA is a reliable and easy-to-print material that can be printed at low temperatures. It has a low shrinkage factor and does not require the use of a heated build plate. It is the perfect choice for creating concept models, visualization aids, or for use in education.\n\nOverall, PLA is not as tough as more technical materials but does have a high tensile strength. It is not recommended for functional and mechanical parts. Items printed with PLA can lose their mechanical properties and may become brittle over time.\n\n## Tough PLA (polylactic acid)\nTough PLA combines the ease of printing that is typical for PLA with increased mechanical performance. Specifically, Tough PLA has an increased impact resistance and therefore does not have the same brittle failure as normal PLA. It has a good surface quality and the 3D prints have a more matte appearance. Ultimaker Tough PLA can be used for functional prototyping, tooling and manufacturing aids.\n\nNote: The temperature resistance of Tough PLA is similar to PLA and limited to approximately 60\u00b0C. \n\n## ABS (acrylonitrile butadiene styrene)\nABS is a well-known material used by professionals for mechanical and technical applications. It has excellent mechanical properties and can be used for objects that require toughness and durability. With a thermal resistance of up to 85 \u00b0C, ABS can be used in warm environments. These properties make ABS a good choice for prototyping and fit testing.\n\nUltimaker ABS is specially formulated to minimize warping and ensure consistent interlayer adhesion.  This makes it easier to use than standard ABS filaments. Ultimaker ABS has pleasing aesthetics and results in a matte finish when printed.\n\nNote: ABS is adversely affected by exposure to UV light, so it is strongly recommended not to use ABS for applications that are exposed to UV light for extended periods.\n\n*Apart from these, there are many materials, if you want to know more about them, check out this [link](https:\/\/support.ultimaker.com\/hc\/en-us\/articles\/360011940320-Which-Ultimaker-material-should-I-use-)*\n* **CPE (co-polyester)**\n* **CPE+ (co-polyester)**\n* **PC (polycarbonate)**\n* **Nylon (polyamide)**\n* **TPU 95A (thermoplastic polyurethane)**\n* **PP (polypropylene)**\n* **PVA (polyvinyl alcohol)**","907d13b2":"# 5. Model Training\n\nLET'S GET TO MACHINE LEARNING!\n\nLet's examine our dataset. Here we need to normalize our data set. An important point: We will compress our data between 0 and 1 since the variables in our data set cannot fall within certain limit values.\n\n## NOTE: This dataset consists of only 50 examples, and I am trying NN here, though using any tree regressor 100% accuracy (that might be Overfitting, but we can't do anything about it).","4022e2d0":"Setting Parameters:\n* Layer Height (mm)\n* Wall Thickness (mm)\n* Infill Density (%)\n* Infill Pattern ()\n* Nozzle Temperature (C\u00ba)\n* Bed Temperature (C\u00ba)\n* Print Speed (mm\/s)\n* Material ()\n* Fan Speed (%)\n\nOutput Parameters: (Measured)\n* Roughness (\u00b5m)\n* Tension (ultimate) Strength (MPa)\n* Elongation (%)\n\nThose interested in printers are very familiar with these terms. The first 9 parameters here are printer print settings, so the others don't change when you change any. However, the surface roughness, Tensile strength and Tensile percent elongation vary according to these first nine parameters. So which parameter affects how much. Here we will seek the answer to this question.","3eca69aa":"From the correlation matrix, roughness and layer_height\/thickness has a very high correlation, and the above graph confirms that the surface roughness depends solely on the layer thickness.\n\nEven if we thought correctly, we can see that ABS material is superior in the graphic, ***but do we require low roughness or high??*** Well the answer is it depends on the use of product you are making (for example if you are printing a mobile back cover, so you want it to be little bit rough so that it doesn't slip through from your hand)\n\nYou have anticipated that there will be an increasing relationship between solidity ratio, Wall thickness and Break strength. Let's remember from the strength, MPa = Force \/ Area, since these two variables will affect the area, the rupture strength will be a parameter highly dependent on them.","fe2933ed":"* Note: The data set I used in my article was created according to tests, experience, research and some acceptances. Its main purpose is for enthusiasts and designers to comprehend Deep Learning through a subject they know. Results may vary depending on printer brand, environmental conditions, printer interface, material and even environmental conditions."}}