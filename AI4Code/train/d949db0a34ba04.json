{"cell_type":{"8f50a5ea":"code","ff70c114":"markdown"},"source":{"8f50a5ea":"import numpy as np\nimport pandas as pd\nfrom IPython.core.display import HTML\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\ndata_path = \"..\/input\/\"\n\ncompetitions_df = pd.read_csv(data_path + \"Competitions.csv\")\ncomps_to_use = [\"Featured\", \"Research\", \"Recruitment\"]\ncompetitions_df = competitions_df[competitions_df[\"HostSegmentTitle\"].isin(comps_to_use)]\ncompetitions_df[\"EnabledDate\"] = pd.to_datetime(competitions_df[\"EnabledDate\"], format=\"%m\/%d\/%Y %H:%M:%S\")\ncompetitions_df = competitions_df.sort_values(by=\"EnabledDate\", ascending=False).reset_index(drop=True)\ncompetitions_df.head()\n\nforum_topics_df = pd.read_csv(data_path + \"ForumTopics.csv\")\n\ncomp_tags_df = pd.read_csv(data_path + \"CompetitionTags.csv\")\ntags_df = pd.read_csv(data_path + \"Tags.csv\", usecols=[\"Id\", \"Name\"])\n\ndef get_comp_tags(comp_id):\n    temp_df = comp_tags_df[comp_tags_df[\"CompetitionId\"]==comp_id]\n    temp_df = pd.merge(temp_df, tags_df, left_on=\"TagId\", right_on=\"Id\")\n    tags_str = \"Tags : \"\n    for ind, row in temp_df.iterrows():\n        tags_str += row[\"Name\"] + \", \"\n    return tags_str.strip(\", \")\n\ndef check_solution(topic):\n    is_solution = False\n    to_exclude = [\"?\", \"submit\", \"why\", \"what\", \"resolution\", \"benchmark\"]\n    if \"solution\" in topic.lower():\n        is_solution = True\n        for exc in to_exclude:\n            if exc in topic.lower():\n                is_solution = False\n    to_include = [\"2nd place code\", '\"dance with ensemble\" sharing']\n    for inc in to_include:\n        if inc in topic.lower():\n            is_solution = True\n    return is_solution\n\ndef get_discussion_results(forum_id, n):\n    results_df = forum_topics_df[forum_topics_df[\"ForumId\"]==forum_id]\n    results_df[\"is_solution\"] = results_df[\"Title\"].apply(lambda x: check_solution(str(x)))\n    results_df = results_df[results_df[\"is_solution\"] == 1]\n    results_df = results_df.sort_values(by=[\"Score\",\"TotalMessages\"], ascending=False).head(n).reset_index(drop=True)\n    return results_df[[\"Title\", \"Id\", \"Score\", \"TotalMessages\", \"TotalReplies\"]]\n\ndef render_html_for_comp(forum_id, comp_id, comp_name, comp_slug, comp_subtitle, n):\n    results_df = get_discussion_results(forum_id, n)\n    \n    if len(results_df) < 1:\n        return\n    \n    comp_tags = get_comp_tags(comp_id)\n    \n    comp_url = \"https:\/\/www.kaggle.com\/c\/\"+str(comp_slug)\n    hs = \"\"\"<style>\n                .rendered_html tr {font-size: 12px; text-align: left;}\n                th {\n                text-align: left;\n                }\n            <\/style>\n            <h3><font color=\"#1768ea\"><a href=\"\"\"+comp_url+\"\"\">\"\"\"+comp_name+\"\"\"<\/font><\/h3>\n            <p>\"\"\"+comp_subtitle+\"\"\"<\/p>\n            \"\"\"\n    \n    if comp_tags != \"Tags :\":\n        hs +=   \"\"\"\n            <p>\"\"\"+comp_tags+\"\"\"<\/p>\n            \"\"\"\n    \n    hs +=   \"\"\"\n            <table>\n            <tr>\n                <th><b>S.No<\/b><\/th>\n                <th><b>Discussion Title<\/b><\/th>\n                <th><b>Number of upvotes<\/b><\/th>\n                <th><b>Total Replies<\/b><\/th>\n            <\/tr>\"\"\"\n    \n    for i, row in results_df.iterrows():\n        url = \"https:\/\/www.kaggle.com\/c\/\"+str(comp_slug)+\"\/discussion\/\"+str(row[\"Id\"])\n        hs += \"\"\"<tr>\n                    <td>\"\"\"+str(i+1)+\"\"\"<\/td>\n                    <td><a href=\"\"\"+url+\"\"\" target=\"_blank\"><b>\"\"\"  +str(row['Title']) + \"\"\"<\/b><\/a><\/td>\n                    <td>\"\"\"+str(row['Score'])+\"\"\"<\/td>\n                    <td>\"\"\"+str(row['TotalReplies'])+\"\"\"<\/td>\n                    <\/tr>\"\"\"\n    hs += \"<\/table>\"\n    display(HTML(hs))\n\nfor ind, comp_row in competitions_df.iterrows():\n    render_html_for_comp(comp_row[\"ForumId\"], comp_row[\"Id\"], comp_row[\"Title\"], comp_row[\"Slug\"], comp_row[\"Subtitle\"], 12)","ff70c114":"### Winning solutions of kaggle competitions: ###\n\nGenerally at the end of every Kaggle competition, winners and other toppers used to share their solutions in the discussion forums. But it is a tedious task to search for the competitions and then for the solutions of these competitions when we need them. I always wanted to get the links to the solutions of all past Kaggle competitions at one place. I thought it would be a very good reference point many a times. Thanks to Kaggle team for the Meta Kaggle dataset, now I am able to get them in one single place through this notebook .\n\nThanks a lot to [@sban](https:\/\/www.kaggle.com\/shivamb) for this [wonderful kernel](https:\/\/www.kaggle.com\/shivamb\/data-science-glossary-on-kaggle\/notebook) without which I wouldn't have got this notebook.\n\nI have inlcuded only \"Featured\" & \"Research\" competitions and the competitions are ordered based on recency. The solutions are ordered based on the number of upvotes received.\n\nHave fun and Happy Kaggling.! \n\nP.S : There are few outlier discussions (which are not actually solutions) too ;)\n\nP.S-2 : Thanks to my colleague [@kazanova](https:\/\/www.kaggle.com\/kazanova) at [h2o.ai](https:\/\/www.h2o.ai\/) for pointing me that [this great solution](https:\/\/www.kaggle.com\/c\/malware-classification\/discussion\/13863) has been missed out in the initial version. I I have added that now. In case if you find any of the solutions missing, please post them on the comments section with links. I will add them here.\n\nUpdated on 01 Jul, 2019.\n"}}