{"cell_type":{"8c525796":"code","a89e41f3":"code","05369665":"code","40db76b1":"code","c4e663ca":"code","861f9929":"code","ed3bf8df":"code","4350546f":"code","3843a719":"markdown","91be0192":"markdown","4821b985":"markdown","094b2215":"markdown","866cc1c1":"markdown"},"source":{"8c525796":"import os\nimport numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\nimport plotly.graph_objs as go\ninit_notebook_mode(connected = True)","a89e41f3":"state_file = os.path.join(\"..\/input\/general-assembly\",\"states.csv\")\nstate_df = pd.read_csv(state_file) #none \uac12\uc774 \ub4e4\uc5b4\uac04 \ud589 \uc0ad\uc81c\nchange_name = {'United States of America': \"United States\", \"South Korea\":\"Korea, South\", \"North Korea\":\"Korea, North\",\"German Democratic Republic\":'Germany',\"Myanmar\":'Burma',\"Yemen People's Republic\":'Yemen'}\ncountry_list= list(set(state_df['state_name'].dropna().values))","05369665":"yes_vote_ratio = dict()\nfor country in country_list:\n    new_df = state_df[state_df['state_name']==country]\n    ratio = sum(new_df['yes_votes'])\/sum(new_df['all_votes'])\n    if country in change_name:\n        country = change_name[country]\n    yes_vote_ratio[country] = ratio","40db76b1":"yes_vote_ratio","c4e663ca":"countries_df = pd.DataFrame.from_dict(yes_vote_ratio, orient = 'index', columns=['yes_vote_ratio'])\ncode_df = pd.read_csv('https:\/\/raw.githubusercontent.com\/plotly\/datasets\/master\/2014_world_gdp_with_codes.csv')\n\ndef return_country_code(con):\n    if con in code_df['COUNTRY'].values:\n        return code_df[code_df['COUNTRY'] == con]['CODE'].values[0]\n\ncountries_df['Country'] = countries_df.index\ncountries_df['Code'] = countries_df['Country'].apply(return_country_code)\ncountries = countries_df.dropna()","861f9929":"data=dict(\n    type = 'choropleth',\n    locations = countries['Code'],\n    z = countries['yes_vote_ratio'],\n    text = countries['Country'],\n    colorscale = 'YlOrRd',\n    marker_line_color='darkgray',\n    marker_line_width=0.7,\n    colorbar_title = \"yes_vote_ratio\",\n)\n\nlayout = dict(title_text='Yes vote ratio per States',\n    geo=dict(\n        showframe=False,\n        showcoastlines=True,\n        projection_type='equirectangular'\n    ))\n\nfig = go.Figure(data = [data], layout = layout)\niplot(fig)","ed3bf8df":"top_countries = [\"China\",\"France\",\"United States of America\",\"Russia\",\"United Kingdom\"]\nfig, axs = plt.subplots(nrows=1, ncols=5, sharex = False, sharey = True, figsize=(25,4))\nfor i, country in enumerate(top_countries):\n    new_df = state_df[state_df['state_name'] == country]\n    ax = axs[i]\n    ax.set_xlim(1945,2015)\n    ax.plot(new_df['year'], new_df['yes_votes'].values\/new_df['all_votes'].values)\n    ax.set_title(str(country))\nplt.show()","4350546f":"resolution_df = pd.read_csv(\"..\/input\/general-assembly\/resolutions.csv\").dropna()\ndata_df = pd.read_csv(\"..\/input\/general-assembly\/votes.csv\")\nmerge_df = pd.merge(data_df, resolution_df[['resolution', 'vote_date',\"colonization\",\"human_rights\",\"israel_palestine\", \"disarmament\", \"nuclear_weapons\", \"economic_development\"]], on=\"resolution\")\n\nvote_respond = {1:\"Yes\", 2:\"No\", 3:\"Abstain\", 8:\"Absent\", 9:\"Not a Member\"}\nnew_vote = [vote_respond[i] for i in merge_df['vote']]\nmerge_df['vote'] = new_vote\nmerge_df.tail()","3843a719":"### Yes vote ratio per States\nI did simple analysis on how states respond to UN general assembly. <br>\nI calculated the ratio of yes_vote per states and the conclusion is quite surprising","91be0192":"### Merge 2 database","4821b985":"### five permanent members of the United Nations Security Council","094b2215":"#### Can someone explain why western countries like US, European cast more \"no\" votes than Asia, African countries?","866cc1c1":"### Library"}}