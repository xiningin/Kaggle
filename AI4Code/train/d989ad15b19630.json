{"cell_type":{"86726714":"code","0e0023f8":"code","e145aeb7":"code","04e8afe2":"code","ceab3a3a":"code","95ae94c1":"code","e09531b7":"code","d60f9caa":"code","34e088a4":"code","18d1bbec":"code","33006f82":"code","63e87339":"code","e2085f19":"code","36f90d3a":"code","7c15fd93":"code","3d26eebd":"code","ad888dcb":"code","be167799":"code","4220b586":"code","39a26ebf":"code","c0b7a0eb":"code","91011398":"code","68f99f02":"code","79a899ea":"code","c5405f8c":"code","f3242d47":"code","11dedcb3":"code","b6930667":"code","5cad3f99":"code","acc6b73e":"code","9bb3218a":"code","8fece239":"code","2ab37393":"code","4b376e2d":"code","427472c2":"code","f77e2b03":"code","d3606156":"code","6c6b01af":"code","6a008676":"code","e3e591ca":"code","917ff3af":"code","884305cd":"code","d72db227":"code","cc88e110":"code","dddb8306":"code","f81c2711":"code","7431b96a":"code","d5906004":"code","f040106a":"code","f767ed92":"code","22d9b1a5":"code","df01a008":"markdown","e7c22586":"markdown","06d7cc51":"markdown","83f720ed":"markdown","b6a4b230":"markdown","940b0bc2":"markdown","9be47a0d":"markdown","ff21cbbc":"markdown","8101123a":"markdown"},"source":{"86726714":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport sklearn\nfrom sklearn.metrics import mean_squared_error","0e0023f8":"data_set= pd.read_csv(\"..\/input\/oil-pump-dataset\/MP-07 Data (SCADA).xls - MP-07 Parameters.csv\")\ndata_set.head()","e145aeb7":"from sklearn.impute import SimpleImputer\nimputer = SimpleImputer(missing_values = np.nan, strategy = 'mean')","04e8afe2":"data_set.head()","ceab3a3a":"data_set.isnull().sum()","95ae94c1":"data_set.fillna(0, inplace = True)","e09531b7":"data_set.isnull().sum()","d60f9caa":"data_set","34e088a4":"data_set.mean","18d1bbec":"data_set.median","33006f82":"data_set.min","63e87339":"data_set.max","e2085f19":"data_set.std","36f90d3a":"data_set.var","7c15fd93":"data_set.plot(subplots =True, sharex = True, figsize = (20,50))","3d26eebd":"#sns.countplot(x=data_set[' MP-VC-07 MOTOR BEARING DE TEMP'], data=data_set)","ad888dcb":"data_set.skew(axis=0, skipna= True)","be167799":"sk= data_set.skew(axis=0, skipna=None)\nsns.distplot(sk)","4220b586":"kt= data_set.kurt(axis=1, skipna=None)\nkt","39a26ebf":"sns.distplot(kt)","c0b7a0eb":"def correlation(dataset, threshold):\n  col_corr= set()\n  corr_matrix = data_set.corr()\n  for i in range(len(corr_matrix.columns)):\n    for j in range(i):\n      if corr_matrix.iloc[i,j]> threshold:\n        colname = corr_matrix.columns[i]\n        col_corr.add(colname)\n  return col_corr","91011398":"corrmat= data_set.corr()\ntop_corr_features = corrmat.index\nplt.figure(figsize=(20,20))\nsns.heatmap(data_set[top_corr_features].corr(),annot= True)\nplt.show()","68f99f02":"upper = corrmat.where(np.triu(np.ones(corrmat.shape), k=1).astype(np.bool))\nto_drop = [column for column in upper.columns if any(upper[column] > 0.85)]\nto_drop","79a899ea":"data_set.shape","c5405f8c":"sk= data_set.skew(axis=0, skipna=to_drop)\nsns.distplot(sk)","f3242d47":"kt= data_set.kurt(axis=1, skipna=to_drop)\nsns.displot(kt)","11dedcb3":"from sklearn.feature_selection import SelectKBest\nfrom sklearn.feature_selection import chi2","b6930667":"x= data_set.iloc[:,1:].astype(str)\ny= data_set.iloc[:,-1].astype(str)\nbest_features= SelectKBest(score_func=chi2, k=10)\nfit=best_features.fit(x,y)\ndfscores=pd.DataFrame(fit.scores_)\ndfcolumns= pd.DataFrame(x.columns)\nfeatureScores = pd.concat([dfcolumns,dfscores], axis=1)\nfeatureScores.columns= ['Specs','Score']\nprint(featureScores.nlargest(30,'Score'))","5cad3f99":"from sklearn.ensemble import ExtraTreesClassifier\nmodel = ExtraTreesClassifier()\nmodel.fit(x,y)\nprint(model.feature_importances_)\nfeat_importances= pd.Series(model.feature_importances_, index=x.columns)\nfeat_importances.nlargest(10).plot(kind='barh')\nplt.show()","acc6b73e":"# %matplotlib inline\n\n# import seaborn as sns\n\n# sns.distplot(data_set[' ANALOG SIGNAL FOR UFM-606'])\n# sns.distplot(data_set[' FLOW COMPUTER3 UFM606 VOLUME FLOW RATE'])\n# sns.distplot(data_set[' MP-7 DIS. PR'])\n# sns.distplot(data_set[' MP-7 SUC. PR'])\n# sns.distplot(data_set[' MP-VC-07 MOTOR BEARING DE TEMP'])\n# sns.distplot(data_set[' MP-VC-07 MOTOR BEARING NDE TEMP'])\n# sns.distplot(data_set[' MP-VC-07 PMP BEARING DE TEMP'])\n# sns.distplot(data_set[' MP-VC-07 PMP BEARING NDE TEMP'])\n# sns.distplot(data_set[' MP-VC-07 PMP BEARING DE TEMP'])\n# sns.distplot(data_set[' MP-VC-07 PMP DE VIB-X DIR.'])\n# sns.distplot(data_set[' MP-VC-07 PMP DE VIB-Y DIR.'])\n# sns.distplot(data_set[' MP-VC-07 PMP NDE VIB-X DIR.'])\n# sns.distplot(data_set[' MP-VC-07 PMP NDE VIB-Y DIR.'])\n# sns.distplot(data_set[' MP-VC-07 WINDING-1 TEMP-1'])\n# sns.distplot(data_set[' MP-VC-07 WINDING-1 TEMP-2'])\n# sns.distplot(data_set[' MP-VC-07 WINDING-2 TEMP-1'])\n# sns.distplot(data_set[' MP-VC-07 WINDING-2 TEMP-2'])\n# sns.distplot(data_set[' MP-VC-07 WINDING-3 TEMP-1'])\n# sns.distplot(data_set[' MP-VC-07 WINDING-3 TEMP-2'])\n# sns.distplot(data_set[' MP-VC-07-CAS-T'])\n# sns.distplot(data_set[' SUC. HDR PR OF  VC 28\" SEC.'])\n# sns.distplot(data_set[' VFD-MP-VC-07 OUTPUT CURRENT'])\n# sns.distplot(data_set[' VFD-MP-VC-07 OUTPUT SPEED'])\n# plt.show()","9bb3218a":"sns.distplot(data_set[' FLOW COMPUTER3 UFM606 VOLUME FLOW RATE'])\nplt.show()\nsns.distplot(data_set[' MP-7 DIS. PR'])\nplt.show()\nsns.distplot(data_set[' MP-7 SUC. PR'])\nplt.show()\nsns.distplot(data_set[' MP-VC-07 MOTOR BEARING NDE TEMP'])\nplt.show()\nsns.distplot(data_set[' MP-VC-07 PMP DE VIB-X DIR.'])\nplt.show()\nsns.distplot(data_set[' MP-VC-07-CAS-T'])\nplt.show()\nsns.distplot(data_set[' SUC. HDR PR OF  VC 28\" SEC.'])\nplt.show()\nsns.distplot(data_set[' ANALOG SIGNAL FOR UFM-606'])\nplt.show()","8fece239":" sns.pairplot(data_set, height=3.5)","2ab37393":"x = data_set.iloc[:, 1:].values\ny = data_set.iloc[:, -1].values","4b376e2d":"from sklearn.model_selection import train_test_split\nfrom sklearn.metrics import accuracy_score\nfrom sklearn.metrics import confusion_matrix\nxtrain, xtest, ytrain, ytest = train_test_split(x, y, test_size = 0.5, random_state = 0)","427472c2":"xtrain.shape, xtest.shape","f77e2b03":"from sklearn.ensemble import RandomForestRegressor\nregressor = RandomForestRegressor(n_estimators = 5, random_state = 1)\nregressor.fit(xtrain, ytrain)","d3606156":"pv = regressor.predict(xtest)\nnp.set_printoptions(precision=2)\nprint(np.concatenate((pv.reshape(len(pv),1), ytest.reshape(len(ytest),1)),1))","6c6b01af":"from sklearn.metrics import r2_score\nprint(r2_score(ytest, pv))","6a008676":"data_set","e3e591ca":"data_set.dtypes","917ff3af":"sns.set(style='ticks')\nsns.pairplot(data_set[[' SUC. HDR PR OF  VC 28\" SEC.',' MP-7 SUC. PR',' MP-7 DIS. PR',' MP-VC-07-CAS-T',' MP-VC-07 PMP BEARING DE TEMP', ' FLOW COMPUTER3 UFM606 VOLUME FLOW RATE',' MP-VC-07 PMP DE VIB-X DIR.',' ANALOG SIGNAL FOR UFM-606']], diag_kind='kde')","884305cd":"x = data_set.iloc[:, 1:-1].values\ny = data_set.iloc[:, :-1].values\nxtrain, xtest, ytrain, ytest = train_test_split(x, y, test_size = 0.4, random_state = 0)","d72db227":"newdata= data_set.drop(to_drop,axis=1)\nnewdata.head()","cc88e110":"X= newdata.iloc[:,1:].values\nY= newdata.iloc[:,-1].values","dddb8306":"new_x = newdata.iloc[:, 1:].values \nnew_y = newdata.iloc[:, 1:].values \nnxtrain, nxtest, nytrain, nytest = train_test_split(new_x, new_y, test_size = 0.4, random_state = 0)","f81c2711":"from sklearn.linear_model import LinearRegression\nModel= LinearRegression()\nresult= Model.fit(new_x,new_y)","7431b96a":"PV1=Model.predict(nxtest)","d5906004":"plt.figure(figsize=(10,10))\nplt.scatter(new_x, new_y, color='red', label= 'Actual')\n# plot predicted data\nplt.plot(nxtest, PV1, 'yo', label='Predicted')\nplt.title('Linear Regression')\nplt.xlabel('Featuresl')\nplt.ylabel('Working of Pump')\nplt.legend()\nplt.show()","f040106a":"plt.figure(figsize=(10,5))\nplt.plot(nxtest, 'b-', label= 'Actual')\nplt.plot(PV1, 'ro', label='Predicted')\nplt.xticks(rotation = '60'); \nplt.title('Actual v\/s Predicted Values after prediction');","f767ed92":"print('intercept:', Model.intercept_[2])","22d9b1a5":"print('slope:', Model.coef_[1])","df01a008":"**Data distribution of the important variable against the density distribution**","e7c22586":"**So, Regression Equation for this dataset is:**\n\n**Sucction Pressure = 1.06 + 1.00(Output Current) + 190942.76**","06d7cc51":"**Checking skewness and kurtosis**","83f720ed":"**Data grouping**","b6a4b230":"**Calculating correlation and finding unnecessary features**","940b0bc2":"**Testing different analytical models with 50% test data**","9be47a0d":"**Plotting the Prediction v\/s Actual data by implementing Linear Regression Model on the data with important features only.**","ff21cbbc":"**Problem Statement- Development of analytical model for pump performance using given pump parameter data**\n\n","8101123a":"**Trends for follow-up analysis**"}}