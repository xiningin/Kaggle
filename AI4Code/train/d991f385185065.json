{"cell_type":{"4997c10f":"code","ecd6d978":"code","59b54acf":"code","2c78d630":"code","a297badf":"code","d0d8afc0":"code","785c8821":"code","86789257":"code","c3e1d93b":"code","bff4cf2e":"markdown","395276e7":"markdown","b4b1639d":"markdown","f9b96b9f":"markdown","6d96704c":"markdown","53114f89":"markdown"},"source":{"4997c10f":"import pandas as pd \nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        datafile =(os.path.join(dirname, filename))","ecd6d978":"df  = pd.read_csv(datafile)\ndf.head(5)","59b54acf":"df['InvestmentnType'].unique()\n#There are some values which means the same eg Pre-Series A and pre-Series A , Pre Series A,pre-series A\n# eg. Seed \/ Angel Funding ,Seed \/ Angle Funding , Seed\/Angel Funding, Seed\/ Angel Funding\n# Angel Funding and Angel\n#Seed\\\\\\\\nFunding, Seed,Seed funding,Seed Funding Round,Seed Funding\n#Private Equity Round,PrivateEquity,Private Equity,Private,Private\\\\\\\\nEquity,Equity,Equity Based Funding\n#\n# We can now label data\n\ndict1 = {'Seed':'Seed','Seed\\\\\\\\nFunding':'Seed',\n        'Seed funding':'Seed','Seed Funding Round':'Seed',\n        'Seed Funding':'Seed','Seed \/ Angel Funding':'seed\/angel',\n             'Seed \/ Angle Funding':'seed\/angel',\n            'Seed\/Angel Funding':'seed\/angel',\n            'Seed\/ Angel Funding':'seed\/angel',\n            'Angel Funding':'angel','Angel':'angel',\n            'Private Equity Round':'pr\/eq','PrivateEquity':'pr\/eq',\n            'Private Equity':'pr\/eq',\n            'Private\\\\\\\\nEquity':'pr\/eq','Equity':'pr\/eq',\n            'Equity Based Funding':'pr\/eq',\n            'Series A':'series','pre-series A':'series','Series C':'series','Series D':'series',\n            'Series B':'series','Series J':'series','Series F':'series','Pre-Series A':'series',\n            'pre-Series A':'series','Series E':'series','Pre Series A':'series',\n            'Corporate Round':'others','Venture Round':'others','Single Venture':'others','Bridge Round':'others',\n             'Mezzanine':'others','Inhouse Funding':'others','Crowd Funding':'others','Crowd funding':'others',\n              'Structured Debt':'others','Term Loan':'others','Debt':'others','Maiden Round':'others'}\n    ","2c78d630":"df['lables']=df['InvestmentnType'].map(dict1)\n#We will create a dataframe with relevant coloumns only\n# We will try to classify what kind of funding does a startup is more likely\n#to get based on the industry vertical and sub vertical\nX = df[['Industry Vertical']]\nY=df[['lables']]\nX.head(5)\n\n#X['categorical'] = pd.Categorical(X['Industry Vertical'])\n#XDummies = pd.get_dummies(X['categorical'], prefix = 'category')\n#XDummies.head(4)\n","a297badf":"miss_values = X.isnull().sum()\/len(X)*100\nmiss_values.sort_values()","d0d8afc0":"import re\nX.head(4)\n#['Industry Vertical'] =X['Industry Vertical'].apply(lambda x : re.sub(r'[^A-Za-z]','',x)) \nX['Industry Vertical'].value_counts()\nX =X.apply(lambda col:pd.factorize(col,sort=True)[0])\nX['Industry Vertical'] = X['Industry Vertical'].fillna((X['Industry Vertical'].mode()))\nX.head(5)\n","785c8821":"YY = Y.apply(lambda col:pd.factorize(col,sort=True)[0])\nYY['lables'] =YY['lables'].fillna((YY['lables'].mode()))\nYY.head(4)\nYY['lables'].value_counts()","86789257":"from sklearn.model_selection import train_test_split\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn import metrics\nfrom imblearn.over_sampling import SMOTE\nsmt = SMOTE()\n#X_train, y_train = smt.fit_sample(X, YY)\n# Split dataset into training set and test set\nX_train, X_test, y_train, y_test = train_test_split(X, YY, test_size=0.5) # 70% training and 30% test\nclf=RandomForestClassifier(n_estimators=100,random_state=2,max_depth=2,criterion='entropy',n_jobs=-1)\n#Train the model using the training sets y_pred=clf.predict(X_test)\nclf.fit(X_train,y_train)\ny_pred=clf.predict(X_test)\n","c3e1d93b":"\nimport numpy\nPred_Y = numpy.ravel(y_pred,order='A')\nTest_Y = numpy.ravel(y_test,order='A')\nprint(\"Accuracy:\",metrics.accuracy_score(y_test, y_pred))\n\nfrom sklearn.metrics import f1_score\nprint(f1_score(Pred_Y, Test_Y,average='micro'))\nprint(f1_score(Pred_Y, Test_Y, average='macro'))\n\n\n","bff4cf2e":"checking the accurcay of model using accuracy_score and f1 score","395276e7":"Above,These are the labels created on the basis of funding types.","b4b1639d":"Clearly a very bad model.","f9b96b9f":"we Can see subvertical has 31 % missing data and industry vertical has 6% approx","6d96704c":"lets check how many null values are there in X data frame\nNow We have categorical data in the X data frame, we need to convert that into numbers so that we can fit it into our model","53114f89":"**We have indian startup funding data and we will try to predict which type funding a startup will get based on the industry vertical and sub vertical."}}