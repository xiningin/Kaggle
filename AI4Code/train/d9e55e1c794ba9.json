{"cell_type":{"f0a718f2":"code","0200ead4":"code","89605d07":"code","78c17b21":"code","5a1d7c84":"code","e3ed982c":"code","37b977b2":"code","85e55510":"code","4ff42d4a":"code","c4951382":"code","a46b9666":"code","9815a768":"code","23bd36f4":"code","b047d849":"code","bb3271fa":"code","10a45482":"code","3cee927f":"code","113fe44d":"code","1b8ac730":"code","951b38ed":"code","64f606b7":"code","099efb8d":"code","9ed5a78c":"code","12a418bf":"code","e38e4c08":"code","ed3341b2":"code","a6074f3c":"code","9fe608c3":"code","470a50f4":"code","0f68d288":"code","0e014c64":"code","f72073bb":"code","b079dec6":"code","2078078b":"code","276ade32":"code","b66eeec6":"code","2989a809":"code","5610bd54":"code","f939cb52":"code","c04d444c":"code","7efcacc5":"markdown","725e1dca":"markdown","3b12a3be":"markdown","7936eadd":"markdown","da7172c0":"markdown","cdac9e00":"markdown","77fa48a6":"markdown","b75fbb44":"markdown","fc31c41b":"markdown","a9aa6fd4":"markdown","6925ce9c":"markdown","b78f7215":"markdown","a9a9e09d":"markdown","dfe72908":"markdown","d1961216":"markdown","2bb492ba":"markdown","d25d6495":"markdown","36ef2fb6":"markdown","ee33f160":"markdown","585c1d9a":"markdown","b176cc5c":"markdown"},"source":{"f0a718f2":"import numpy as np\nimport pandas as pd\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\nsns.set_style('whitegrid')","0200ead4":"train = pd.read_csv('..\/input\/train.csv')\ntrain.shape","89605d07":"test = pd.read_csv('..\/input\/test.csv')\ntest.shape","78c17b21":"train.head()","5a1d7c84":"train.info()","e3ed982c":"train.describe()","37b977b2":"train.isnull().sum()","85e55510":"test.isnull().sum()","4ff42d4a":"sns.heatmap(train.isnull(), yticklabels=False, cbar=False)","c4951382":"sns.heatmap(test.isnull(), yticklabels=False, cbar=False)","a46b9666":"train['Survived'].value_counts()","9815a768":"sns.countplot(data=train, x='Survived')","23bd36f4":"pd.crosstab([train['Survived']], [train['Pclass']]).style.background_gradient(cmap='summer_r')","b047d849":"train['Title'] = train['Name'].map(lambda x: x.split(',')[1].split('.')[0].strip())\ntrain['Title'].value_counts()","bb3271fa":"pd.crosstab([train['Survived']], [train['Title']]).style.background_gradient(cmap='summer_r')","10a45482":"train_age = train[train['Age'].notnull()]","3cee927f":"train_age.shape","113fe44d":"sns.distplot(train_age[train_age['Survived'] == 1]['Age'], hist=False, rug=True, label='Survived')\nsns.distplot(train_age[train_age['Survived'] == 0]['Age'], hist=False, rug=True, label='Not')\nplt.xticks([0,5,8,9,10,20,40,60,80])","1b8ac730":"pd.crosstab([train['Survived']], [train['Sex']]).style.background_gradient(cmap='summer_r')","951b38ed":"pd.crosstab([train['Survived']], [train['Embarked']]).style.background_gradient(cmap='summer_r')","64f606b7":"sns.factorplot(data=train, x='Pclass', y='Survived', hue='Sex')","099efb8d":"pd.crosstab([train['Sex'], train['Survived']], train['Pclass']).style.background_gradient(cmap='summer_r')","9ed5a78c":"sns.factorplot(data=train, x='Embarked', y='Survived', hue='Sex')","12a418bf":"sns.factorplot(data=train, x='Embarked', y='Survived', hue='Sex', col='Pclass')","e38e4c08":"groupby_pes = train.groupby(['Pclass', 'Embarked', 'Sex'])\ndf_pes = pd.DataFrame(groupby_pes.count()['Survived'])\ndf_pes.columns = ['Count']\ndf_pes = df_pes.join(groupby_pes.sum()['Survived'])\ndf_pes","ed3341b2":"train['Familysize'] = train[['SibSp', 'Parch']].apply(lambda x: x[0] + x[1] + 1, axis=1)","a6074f3c":"sns.factorplot(data=train, x='Familysize', y='Survived')","9fe608c3":"sns.factorplot(data=train, x='Familysize', y='Survived', hue='Sex')","470a50f4":"train['Fare'].isnull().sum()","0f68d288":"train[train['Pclass'] == 1]['Fare'].plot.kde(color='green')\ntrain[train['Pclass'] == 2]['Fare'].plot.kde(color='yellow')\ntrain[train['Pclass'] == 3]['Fare'].plot.kde(color='red')","0e014c64":"train[train['Embarked'] == 'S']['Fare'].plot.kde(color='green')\ntrain[train['Embarked'] == 'C']['Fare'].plot.kde(color='yellow')\ntrain[train['Embarked'] == 'Q']['Fare'].plot.kde(color='red')","f72073bb":"train[(train['Pclass'] == 1) & (train['Survived'] == 1)]['Fare'].plot.kde(color='green')\ntrain[(train['Pclass'] == 1) & (train['Survived'] == 0)]['Fare'].plot.kde(color='red')","b079dec6":"train[(train['Pclass'] == 2) & (train['Survived'] == 1)]['Fare'].plot.kde(color='green')\ntrain[(train['Pclass'] == 2) & (train['Survived'] == 0)]['Fare'].plot.kde(color='red')","2078078b":"train[(train['Pclass'] == 3) & (train['Survived'] == 1)]['Fare'].plot.kde(color='green')\ntrain[(train['Pclass'] == 3) & (train['Survived'] == 0)]['Fare'].plot.kde(color='red')","276ade32":"train[train['Survived'] == 1]['Fare'].plot.kde(color='green')\ntrain[train['Survived'] == 0]['Fare'].plot.kde(color='red')","b66eeec6":"sns.boxplot(data=train, x='Pclass', y='Fare', hue='Survived')","2989a809":"fig, ax = plt.subplots(1, 2, figsize=(18,8))\npalette={\"male\": \"blue\", \"female\": \"pink\"}\nsns.boxplot(data=train[train['Survived'] == 1], x='Pclass', y='Fare', hue='Sex', ax=ax[0], palette=palette)\nax[0].set_title('Survived')\nsns.boxplot(data=train[train['Survived'] == 0], x='Pclass', y='Fare', hue='Sex', ax=ax[1], palette=palette)\nax[1].set_title('Did not Survive')\nax[1].set_ylim([0,600])\nax[0].set_ylim([0,600])","5610bd54":"fig, ax = plt.subplots(1, 2, figsize=(18,8))\npalette={1: \"green\", 0: \"red\"}\nsns.boxplot(data=train[train['Sex'] == 'male'], x='Pclass', y='Fare', hue='Survived', ax=ax[0], palette=palette)\nax[0].set_title('Male')\nsns.boxplot(data=train[train['Sex'] == 'female'], x='Pclass', y='Fare', hue='Survived', ax=ax[1], palette=palette)\nax[1].set_title('Female')\nax[1].set_ylim([0,600])\nax[0].set_ylim([0,600])","f939cb52":"train.info()","c04d444c":"pd.DataFrame({\n    'Cols': train.columns,\n    'Remarks': [\n        '-',\n        'Target Variable',\n        'Looks good',\n        'Title might be useful',\n        'Looks good',\n        'Bucketing might be helpful',\n        'Combined as family size',\n        'Combined as family size',\n        '-',\n        'Not significant. Confounding variable Pclass',\n        '-',\n        'Looks good',\n        'May be useful',\n        'Looks good'\n    ]\n})","7efcacc5":"Children (age lower than around 9) have higher chance of survival","725e1dca":"For Pclass 2, there is a little high chance of survival around fare 30","3b12a3be":"1. *[Current]* Exploratory Data Analysis\n2. [Logistic Regression](https:\/\/www.kaggle.com\/sabbiu\/logistic-regression)\n3. [Playing with pipeline](https:\/\/www.kaggle.com\/sabbiu\/playing-with-sklearn-pipeline)","7936eadd":"People who embarked from *C* have comparatively higher rate of survival. *S* ones have low variance. *Q* ones have high variance.","da7172c0":"## Is there any null value in the dataset?","cdac9e00":"## Now, let's look at interaction between features","77fa48a6":"**Age**","b75fbb44":"Females of upper class 1 and 2 almost fully survived.","fc31c41b":"People from class 1 has more survivors. For class 2, the ratio of survivors ans non-survivors are nearly equal. And, for class 3, non-survivors are nearly thrice that of survivors.\n\nComparing absolute quantity,  \n- Survivors: Class 1 > Class 3 > Class 2\n- Non-Survivors: Class 3 > Class 2 > Class 1","a9aa6fd4":"**Sex**","6925ce9c":"Females are most likely to survive","b78f7215":"**Pclass**","a9a9e09d":"Females having family size less than 5 have better chance of survival.  \nHighest chance of survival are for those families who have family size of 4.","dfe72908":"**Embarked**","d1961216":"For Pclass 1, high fare have high chance of survival.","2bb492ba":"## Let's look into predictors one by one","d25d6495":"From port *Q*, almost no people embarked into class 1 and 2  \nPeople who embarked from port *S*  into class 3 have very low survival rate  \nFemales from class 1 and 2 have relatively high survival rate","36ef2fb6":"Fare has no significant interpretation. Survival due to high fare might be because of confounding variable Pclass.","ee33f160":"**Name**","585c1d9a":"* **Pclass:** Passenger Class 1 have higher rate of survival.\n* **Age:** Children (age lower than ~9) have higher rate of survival.\n* **Sex:** Females have higher rate of survival.\n* **Sex and Pclass:** Females of upper passenger class (1 and 2) have higher rate of survival.\n* **Embarked:** People who embarked from *C* have comparatively higher rate of survival.\n* **Embarked and Pclass:** People who embarked from port *S* into class 3 have comparatively low survival rate. Very few poeple embarked from port *Q* went to class 1 and 2.\n* **Family Size (Parch + SibSp + 1):** Highest chance of survival are for those families who have family size of 4.\n* **Family Size and Sex:** Females having family size less than 5 have higher rate of survival.\n","b176cc5c":"## Conclusion"}}