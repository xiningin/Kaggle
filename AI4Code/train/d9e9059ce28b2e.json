{"cell_type":{"54260af7":"code","527bc4da":"code","1e3b97db":"code","c071b722":"code","c4bee793":"code","d631f2e9":"code","cee3a5ba":"code","90535c70":"code","af568a6b":"code","42201050":"code","5ba4c44c":"code","a6db3fdb":"code","e9c38331":"code","87971570":"code","532e26c6":"code","624fa678":"code","437cd10c":"code","4e74e5aa":"code","9554ea52":"code","8919a09c":"code","f8740948":"code","87ad9089":"code","f715e848":"code","654337dd":"code","ade836a9":"code","100ee9e8":"code","63d28be3":"code","c67abc4f":"code","ac59421c":"code","908c48a0":"code","1392f5e4":"code","a9db4d35":"code","b84cb117":"code","e3736ef7":"code","25568a1a":"code","181df166":"code","8fef73f6":"code","7f6f7844":"code","513ce3ae":"code","6572dfde":"code","cea105ff":"code","14dc0aa9":"code","da21d7de":"code","0ddf99fc":"code","102b9f80":"code","40acc342":"code","3a191e6c":"code","9d948d07":"code","57c355ae":"code","3a92d8df":"code","fe09ab21":"markdown","d9f484b7":"markdown","19afbb52":"markdown","966059f8":"markdown","91a7c1fc":"markdown","1a7d25a9":"markdown","65fe6ccf":"markdown","cbb74d8c":"markdown","f359b99c":"markdown","735b2f01":"markdown","e34646c0":"markdown","ea224aec":"markdown","324654f2":"markdown","683fc931":"markdown","a63c6a95":"markdown","dd0591f4":"markdown","cee568e6":"markdown","5dc48a35":"markdown","c660c0d4":"markdown","83f7eed7":"markdown","1aef3f1e":"markdown","30d8ceb4":"markdown","fa4efd87":"markdown","b18ca56c":"markdown","d84d8137":"markdown","982c7f2a":"markdown","8012dcc3":"markdown"},"source":{"54260af7":"# importing neccessary libraries\nimport pandas as pd\nimport numpy as np","527bc4da":"# import the data set and create the data frame\n\nfb_ads=pd.read_csv('..\/input\/fb_conversion_data.csv')\nfb_ads.head(5)","1e3b97db":"# review to see if there are any missing data\nmissing_data=fb_ads.isnull()\nmissing_data.head(3)","c071b722":"for column in missing_data.columns.values.tolist():\n    print(column)\n    print(missing_data[column].value_counts())\n    print(\"\")","c4bee793":"# review the data types\nfb_ads.dtypes","d631f2e9":"# review full information on the data set\nfb_ads.info()","cee3a5ba":"fb_ads.shape","90535c70":"fb_ads.columns","af568a6b":"# Review the age and gender distribution briefly\n\nage_count= fb_ads['age'].value_counts()\nage_count= age_count.to_frame()","42201050":"age_count.head()","5ba4c44c":"# rename column to age count and index age\nage_count.rename(columns={'age': 'Age Count'}, inplace=True)\nage_count.index.name='Age'\nage_count.head(5)","a6db3fdb":"# visualize the age count\n# import neccessary libraries\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns","e9c38331":"age_count.plot(kind='bar',\n              figsize=(15,10),\n              color='orange')\n\nplt.title('Age Count Frequency')\nplt.xlabel('Age Count')\nplt.ylabel('Frequency')\n\nplt.show()","87971570":"# similarly review the gender distribution\ngender_count=fb_ads['gender'].value_counts()\ngender_count=gender_count.to_frame()\ngender_count.rename(columns={'gender': 'Gender Count'}, inplace=True)\ngender_count.index.name='Gender Count'\ngender_count.head(5)","532e26c6":"# visualize gender count\ngender_count.plot(kind='bar', figsize=(15,10), color='red')\n\nplt.title('Gender Frequency Distribution')\nplt.xlabel('Gender Count')\nplt.ylabel('Frequency')\n\nplt.show()","624fa678":"# Convert Age to average age and numeric variable\nfb_ads['age'][fb_ads['age']=='30-34']=32\nfb_ads['age'][fb_ads['age']=='35-39']=37\nfb_ads['age'][fb_ads['age']=='40-44']=42\nfb_ads['age'][fb_ads['age']=='45-49']=47\nfb_ads[['age']]=fb_ads[['age']].astype('int')","437cd10c":"# convert Gender to 0 and 1 values and numeric variable\nfb_ads['gender'][fb_ads['gender']=='M']=0\nfb_ads['gender'][fb_ads['gender']=='F']=1\nfb_ads[['gender']]=fb_ads[['gender']].astype('int')","4e74e5aa":"fb_ads.head(5)","9554ea52":"fb_ads.dtypes","8919a09c":"fb_ads['age'].unique()\nfb_ads['interest'].unique()","f8740948":"### Review the Spent distribution on gender\n\nplt.figure(figsize=(15,10))\nsns.boxplot(x='age', y='Spent', data=fb_ads)\n\nplt.show()","87ad9089":"# Review the Spent distribution on Gender\nplt.figure(figsize=(15,10))\nsns.boxplot(x='gender', y='Spent', data=fb_ads)\n\nplt.show()","f715e848":"# Review the Spent distribution on specific campaigns\nplt.figure(figsize=(15,10))\nsns.boxplot(x='xyz_campaign_id', y='Spent', data=fb_ads)\n\nplt.show()","654337dd":"# Review the Spent distribution on interests.\nplt.figure(figsize=(15,10))\nsns.boxplot(x='interest', y='Spent', data=fb_ads)\n\nplt.show()\n","ade836a9":"# Creating CTR and CPC as new feautures and adding them to the dataframe\n\nfb_ads['CTR']=(fb_ads['Clicks']\/fb_ads['Impressions'])*100\nfb_ads['CPC']=fb_ads['Spent']\/fb_ads['Clicks']","100ee9e8":"fb_ads.head(5)","63d28be3":"# Review of overall correlation between variables\n\nplt.figure(figsize=(15,10))\nsns.heatmap(fb_ads.corr())\n\nplt.show()","c67abc4f":"# detail correlation between Impressions and Clicks\n\nfb_ads[['Impressions', 'Clicks']].corr()","ac59421c":"plt.figure(figsize=(15,10))\nsns.regplot(x='Impressions', y='Clicks', data=fb_ads)\nplt.ylim(0,)","908c48a0":"# look at pearson correlation and pvalue\n# import neccesary library\nfrom scipy import stats","1392f5e4":"pearson_1, p_value_1 = stats.pearsonr(fb_ads['Impressions'], fb_ads['Clicks'])\nprint(pearson_1);\nprint(p_value_1)","a9db4d35":"# detail correlation between Clicks and Spent\n\nfb_ads[['Spent', 'Clicks']].corr()","b84cb117":"plt.figure(figsize=(15,10))\nsns.regplot(x='Spent', y='Clicks', data=fb_ads)\nplt.ylim(0,)","e3736ef7":"# detail distribution of Campaign and CTR\n\nplt.figure(figsize=(15,10))\nsns.boxplot(x='xyz_campaign_id', y='CTR', data=fb_ads)\nplt.show()","25568a1a":"# filter campaign 1178 data and review in detail\n\nis_1178=fb_ads['xyz_campaign_id']==1178\ncampaign_1178=fb_ads[is_1178]\ncampaign_1178.head(5)","181df166":"# review the correlation between Spent and CTR on Campaign 1178\ncampaign_1178[['Spent', 'CTR']].corr()","8fef73f6":"plt.figure(figsize=(15,10))\nsns.regplot(x='CTR', y='Spent', data=campaign_1178)\nplt.ylim(0,)","7f6f7844":"# select feature set X\n\nX = fb_ads[['Impressions', 'Clicks', 'Spent', 'CTR']]\nX.head(5)","513ce3ae":"# select target feature y\n\ny=fb_ads[['Total_Conversion']]\ny.head(5)","6572dfde":"# create training and test data and split the feature set data\n# import neccessary libraries\nfrom sklearn.model_selection import train_test_split","cea105ff":"X_train, X_test, y_train, y_test=train_test_split(X,y, test_size=0.3, random_state=1)","14dc0aa9":"X_train.head(5)","da21d7de":"y_train.head(5)","0ddf99fc":"X_train.isnull().sum()","102b9f80":"y_train.isnull().sum()","40acc342":"# create the model with Random Forest\n# import neccessary libraries\nfrom sklearn.ensemble import RandomForestRegressor","3a191e6c":"fb_ads_model=RandomForestRegressor(random_state=1)\nfb_ads_model.fit(X_train, y_train)","9d948d07":"# create prediction with the model\nfb_ads_pred=fb_ads_model.predict(X_test)","57c355ae":"print(fb_ads_pred[0:5])","3a92d8df":"print(y_test[0:5])","fe09ab21":"All variables are within the dataset are numeric and ready for data exploration.","d9f484b7":"# Model Development\n\nThe model foundation that is chosen for this particular predictive model is Decision Tree. Within the different decision tree libraries, the predictive model leverages Random Forest as to define the most efficient depth of the branches.","19afbb52":"The data set collected from Organization's Facebook Advertising Platform, provides important variables such as Impressions, Clicks, Spent, Total Conversion and Approved Conversion, however there are other standard engagement and conversion metrics such as Click Through Rate (CTR) which is the percentage of how many impressions become clicks, Conversion Rate(CR), which is the percentage of clicks that results in conversion, Cost Per Click(CPC), which is cost of each consumer click. \n\nIn order to improve the insights from the dataset, these features can be added to the dataframe.","966059f8":"From a broad overview of the data, it is clear that the organization is targeting consumers that are between 30-34 years old the most. There are more male audience is being targeted in the total amount of Facebook Ads. However, they are spending the most of their facebook campaign ad budget on the consumers that are between 45-49 years old and female audience. Based on this finding, revisit of the current consumer personas for the business is recommended.\n\nIt is also clear that the more business spends on facebook ad campaigns the higher the conversions are. Campaign 1178 gets the most Spent within the Facebook Campaign Ads, however gets the least amount of engagement. Overall spent for the interest categories are distributed evenly with interest 100, 101, 107 getting the maximum spent. Based on these findigs, revisit to campaign creative, strategy of Campaign 1178 and review of Facebook Ad Placements on interest 16,27,28 and 29 (which has the highest outliers) is strongly recommended.\n\nThe more the business spent, the more the engagement is for all campaigns, however the correlation and positive linear relationship is weak. Based on thos analysis, revisit of the spent distribution between campaigns are recommended.\n\nIn regards to the predictive model that is developed; It is certainly required to further evaluate the model and make neccessary adjustments for the quarter.","91a7c1fc":"# Table of Contents\n\n1. Introduction\n\n2. About the Data Set\n\n3. Data Collection \n\n4. Data Wrangling\n\n5. Data Exploration\n\n6. Model Development\n\n7. Model Evaluation\n\n8. Conclusion","1a7d25a9":"The data set consists of 1143 rows and 11 columns.","65fe6ccf":"Based on the imported data, very minor data wrangling is required. \n\n-  Average the grouped age and convert the data type to numeric.\n\n-  Convert Gender variable M being 0 and F being 1 numeric variable.","cbb74d8c":"Similar to Impressions and Clicks correlation, Clicks and Spent has a strong linear relationship and significant correlation.","f359b99c":"There are a lot of outliers on interest 16 and 10. Even though majority of the spent is on interest 100, 101 and 107, the overall Facebook Ad Budget allocation is distributed evenly. The review of the outliers on interest 16, 27, 28 and 29 would benefit the next quarter Facebook Ad Placement of the organization.","735b2f01":"The strongest correlation are between Impressions, Clicks, Spent, Total_Conversion and Approved Conversion. ","e34646c0":"Based on the data analysis, the features that can help create a predictive model are, Impressions, Clicks, Spent, Total Conversion, Approved Conversion, CTR and CPC. The objective of the organization is not only improve conversion in terms of sales but also to improve awareness. Hence, the target feature for the predictive model will be Total Conversion.","ea224aec":"Organization's Facebook Ad Campaigns targets consumers ages between 30-34 years old followed by 45-49, 35-39 and 40-44 years of age.","324654f2":"# About the Data Set\n\nThe description of each variables within the data set are defined below;\n\n-  ad_id: unique ID for each ad.\n\n-  xyz_campaign: an ID associated with each ad campaign of XYZ.\n\n-  fb_campaign_id: an ID associated with how Facebook tracks each campaign.\n\n-  age: age of the person to whom the ad is shown.\n\n-  gender: gender of the person to whom the ad is shown.\n\n-  interest: a code specifying the categorty to which the person's interest belongs (interests are as mentioned in the person's Facebook public profile) \n\n-  Impressions: the number of times the ad was shown.\n\n-  Clicks: Number of clicks on for that ad.\n\n-  Spent: Amount paid by company xyz to Facebook, to show that ad.\n\n-  Total conversion: Total number of people who enquired about the product after seeing the ad.\n\n-  Approved conversion: Total number of people who bought the product after seeing the ad.","683fc931":"All data variables are numeric except age and gender are objects. The age variable values are defined as ages between two numbers rather than average number. Gender variable is also not numerical datatype. For future analysis and model development, it will be required to convert these variables to numeric data type.","a63c6a95":"# Data Wrangling","dd0591f4":"There are many outliers in the 30-34 years old age group, this can explain the fact that, even though the majority of the organization's Facebook Ads are targeting the age group between 30-34 years old, the organization is spending the most for the 45-49 age group. ","cee568e6":"Similar to the age group, even though the majority of the facebook ads are targeting males, the organization is spending most of their facebook adverstising budget on females.","5dc48a35":"# Introduction\n\nFacebook advertising is one of the biggest platforms that allows organizations to reach out to their consumers online. Whether the organization's objectives are to increase the traffic to their web property, generate leads, brand awareness or sell more products, Facebook Ad Campaigns are part of every social media strategy. The platform has features to define the target audience based on their location, age, gender, language , behaviour, connections or interest.\n\nThis analysis provides insights based on the current defined KPI's of an organization, which in this case is to improve conversion through their website. The purpose of the analysis is also to extract neccessary knowledge from the collected data set to see the underperforming facebook campaigns, explore possibilities to reduce spent and improve conversion and finally create a predictive model to automate facebook ad placement for the next quarter.","c660c0d4":"# Conclusion","83f7eed7":"# Data Exploration","1aef3f1e":"There are no missing data in our data set.","30d8ceb4":"# Data Collection","fa4efd87":"Organization's Facebook Ad Campaigns target more male audience than female audience.","b18ca56c":"The earlier analysis showed that the organization is spending majority of their facebook advertising budget on Campaign 1178, Further exploring the distribution of campaign for Click Through Rate, it is evident that campaign 916 and 936 have better consumer engagement. Even though the amount of facebook ads being served to the users for campaign 1178 is much higher than campaign 916 and 936, the engagement is much lower.","d84d8137":"There is a positive linear relationship between Spent and Click Through Rate. This is expected as organization is spending their facebook budget on campaign 1178 and there should be clicks for this campaign ad. However the correlation is weak and should be much more stronger considering the other campaign ads(916 and 936). Another important fact to note is that, there is an organic engagement to this particular campaign. ","982c7f2a":"The correlation between Impressions and Clicks are expected as the more Facebook Ads of a campaign displayed the more users will click on the ads however the correlation is also significant and linear relationship is strong.","8012dcc3":"Organization is spending significant amount of their budget on Campaign 1178. Further exploration of this specific campaign will provide more insights on the overall Facebook Ad Placement of the organization."}}