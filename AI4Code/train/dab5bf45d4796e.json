{"cell_type":{"7e565496":"code","b5094dbf":"code","68d90dc7":"code","a792d5be":"code","9047d338":"code","4cd14104":"code","d7d30fe2":"code","00af1290":"code","5fbfd87e":"code","99b37c37":"code","4d590399":"code","98bc1291":"code","82b37e8f":"code","81d675ed":"code","316f4d79":"code","f17ddf60":"code","58ba6db7":"code","7e945f97":"code","fde0be99":"code","13c2b968":"code","1a68951c":"code","fa846471":"code","1a88f60a":"code","6dc9568a":"code","86759cf6":"code","ac455327":"code","06e1b764":"code","a9ffe44f":"code","c5951645":"code","18614629":"code","842cccf9":"code","d0543a76":"code","afb64ca7":"code","346a24ee":"code","03fb4d72":"code","8bd4637f":"code","71d73d9e":"code","4d6c0f6d":"code","bce2e3ad":"markdown","989cda2e":"markdown","fcd8dc44":"markdown","9fff026b":"markdown","e16ea536":"markdown","b57b48cb":"markdown","7295f400":"markdown","9c9146c6":"markdown","d73b976e":"markdown","3bb0b05b":"markdown","73cc8a5c":"markdown","0c3a1b2f":"markdown","e91791e0":"markdown","3020f862":"markdown","c7a8b08d":"markdown","7bf5bcaf":"markdown","5777f68e":"markdown","c62cc8cc":"markdown","59a21ef7":"markdown","162120a0":"markdown","732424ae":"markdown","478909d4":"markdown"},"source":{"7e565496":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","b5094dbf":"import matplotlib.pyplot as plt\nimport seaborn as sns\nimport pandas as pd\n%matplotlib inline\nsns.set_style('whitegrid')","68d90dc7":"df = pd.read_csv('..\/input\/Absenteeism_at_work.csv')","a792d5be":"df.head()","9047d338":"print('Shape of dataset is:{}'.format(df.shape))\nprint('Type of features is:{}'.format(df.dtypes))","4cd14104":"df['Absenteeism time in hours'].mean()","d7d30fe2":"sns.jointplot(x='Absenteeism time in hours',y='Seasons',data=df)","00af1290":"sns.jointplot(x='Age',y='Absenteeism time in hours',data=df)","5fbfd87e":"plt.figure(figsize=(12,6))\nsns.lmplot(x='Age',y='Absenteeism time in hours',data=df,hue='Day of the week',size=5,aspect=2)","99b37c37":"df[df['Day of the week']==6]['Absenteeism time in hours'].mean()","4d590399":"df['Transportation expense'].mean()","98bc1291":"sns.jointplot(x='Transportation expense',y='Month of absence',data=df,kind='hex',color='red')","82b37e8f":"df['Son'].value_counts()","81d675ed":"plt.figure(figsize=(10,5))\ndf[df['Son']!=0]['Absenteeism time in hours'].plot.hist(bins=30)","316f4d79":"plt.figure(figsize=(10,6))\ndf[df['Son']==0]['Absenteeism time in hours'].plot.hist(bins=30)","f17ddf60":"g = sns.FacetGrid(data=df,col='Son')\ng.map(plt.hist,'Absenteeism time in hours')","58ba6db7":"plt.figure(figsize=(14,6))\ndf[df['Son']==0]['Age'].plot.hist(bins=30)","7e945f97":"plt.figure(figsize=(14,6))\ndf[df['Son']!=0]['Age'].plot.hist(bins=30)","fde0be99":"reason_27 = df['Reason for absence']==27","13c2b968":"reasons = df['Reason for absence']","1a68951c":"plt.figure(figsize=(10,5))\nsns.distplot(df['Reason for absence'])","fa846471":"df[df['Reason for absence']==27].count()","1a88f60a":"df[df['Absenteeism time in hours']==0].count()","6dc9568a":"df.head(10)","86759cf6":"roa = df.groupby('Reason for absence')","ac455327":"roa['Absenteeism time in hours'].max()","06e1b764":"X = df.iloc[:, 1:20].values\ny = df.iloc[:,20:].values.reshape(-1,1)","a9ffe44f":"from sklearn.svm import SVR","c5951645":"svr_regressor = SVR(kernel='rbf')","18614629":"svr_regressor.fit(X,y.ravel())","842cccf9":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.2, random_state = 0)","d0543a76":"from sklearn.preprocessing import StandardScaler\nsc_X = StandardScaler()\nsc_y = StandardScaler()\nX = sc_X.fit_transform(X)\ny = sc_y.fit_transform(y)","afb64ca7":"prediction = sc_y.inverse_transform(svr_regressor.predict(sc_X.transform(X)))","346a24ee":"X.shape","03fb4d72":"y.shape","8bd4637f":"y_pred = svr_regressor.predict(X_test)\ny_pred = sc_y.inverse_transform(y_pred)","71d73d9e":"from sklearn.metrics import mean_squared_error, explained_variance_score","4d6c0f6d":"print('MSE:{}'.format(mean_squared_error(y_test,y_pred)))\nprint('Explained variance score:{}'.format(explained_variance_score(y_test,y_pred)))","bce2e3ad":"6.VI Diseases of the nervous system\n9.IX Diseases of the circulatory system  \n11.XI Diseases of the digestive system  \n12.XII Diseases of the skin and subcutaneous tissue  \n13.XIII Diseases of the musculoskeletal system and connective tissue  \n19 XIX Injury, poisoning and certain other consequences of external causes  \n\nThese are top reasons for absence","989cda2e":"Here all possible options for 'Son' column are shown in their correlation with absence time. We can see that, if you have 1 or 2 children, it is more likely to be absent at work. Probably, because if you have only one child and a mother presumably, noone can sit with child, apart from you and your spouse. But, if we look further, more chilren you have, less time you are absent. It means, that they can basically watch each other, and you dont need to stay home to take care of them.","fcd8dc44":"Most of the time, absence is present in 6th day of the week, so, there are some correlation with not only age , but with  day of the week as well","9fff026b":"**Stay tuned!**","e16ea536":"Here, we can see, that mean time of absence is 6.9 hours","b57b48cb":"Also here we can see that people withot children mostly around 35 and 40. And obviously, some young people.\nAnd distrubition of age vs cnildren in the family.","7295f400":"## Abstract:\n\nThe database was created with records of absenteeism at work from July 2007 to July 2010 at a courier company in Brazil.","9c9146c6":"Only 44\/740 = 0.06%  workers have never been absent from work","d73b976e":"In the group of people with children, absence in hours tends to be between 0 and 20, and very small amount was absence more than that","3bb0b05b":"Also here, we can see that transportation expence is bigger in winter months than in other seasons","73cc8a5c":"The model is not very good. Need more work to be usable","0c3a1b2f":"# This is my first own kernel, I did this a long time ago. So if you have any suggestions and recommedations, leave them in comment section. Thank you!","e91791e0":"## Now, after we saw more information it is time to train a model.","3020f862":"\n# Machine Learning section","c7a8b08d":"## Citation Request\/Acknowledgements:\nMartiniano, A., Ferreira, R. P., Sassi, R. J., & Affonso, C. (2012). Application of a neuro fuzzy network in prediction of absenteeism at work. In Information Systems and Technologies (CISTI), 7th Iberian Conference on (pp. 1-4). IEEE.\n\nAcknowledgements:\nProfessor Gary Johns for contributing to the selection of relevant research attributes.\nProfessor Emeritus of Management\nHonorary Concordia University Research Chair in Management\nJohn Molson School of Business\nConcordia University\nMontreal, Quebec, Canada\nAdjunct Professor, OB\/HR Division\nSauder School of Business,\nUniversity of British Columbia\nVancouver, British Columbia, Canada","7bf5bcaf":"This graph show number of people without any children, so we can see, that top time is around 60 hours, which is less, than those people with children.","5777f68e":"[Link to dataset, if anyone intersted](https:\/\/archive.ics.uci.edu\/ml\/datasets\/Absenteeism+at+work)","c62cc8cc":"Average time of absence on this day is little less, than across all days of the week","59a21ef7":"In this dataset task is to predict hours of absenteeism at work, using features, provided in database.","162120a0":"Reason 27 is according to Attributes is physiotherapy (27). So some amount of people are suffering from workload, possibly to make up time they spend at home with kidsb","732424ae":"This graph shows, that hours of absence have some correlation with age of worker","478909d4":"This parameter shows number of children of each worker"}}