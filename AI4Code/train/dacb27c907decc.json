{"cell_type":{"4d2c8156":"code","27f665ab":"code","6298b5c7":"code","2f9d0d77":"code","40b7e462":"code","956add4c":"code","ca2c440d":"code","b1565a80":"code","6f1696f5":"code","8aee5bda":"code","ff7552b8":"code","c6df696f":"code","136ca87e":"code","4ff07d72":"code","619e4172":"code","4faae4a0":"code","a4c2335a":"code","7ce306aa":"code","2be2fda5":"code","d3db523c":"code","1398f74c":"code","b1dbb7a3":"code","e4ded522":"code","52157982":"code","ac80f34d":"code","560aa6fa":"code","1aecb579":"code","6b98c09a":"code","84bb5305":"code","96070784":"code","a2174e5d":"code","93d0e947":"code","f57a9b96":"code","b94d65ba":"code","ead1c1d9":"code","187eb81c":"code","44aa0203":"code","7674e3ba":"code","efb39e00":"code","4985dfa5":"code","ed11dfab":"code","b7389619":"code","0b6f6488":"code","e3d92569":"code","2cd31fe6":"code","0b3e814b":"code","3459f5dc":"code","a3fb25b5":"code","80b3a74f":"code","3e2a0ef4":"code","fac23542":"code","f8583605":"code","ee932d75":"code","97d1b820":"code","7e1ae8b9":"code","be764c81":"code","a542b5ba":"code","f17a4d1c":"code","f401e152":"markdown","35663659":"markdown","5bb04552":"markdown","1c0953ca":"markdown","f543f5de":"markdown","1146689f":"markdown","bf5c1021":"markdown","f28ab514":"markdown","0411d32e":"markdown","14dee30d":"markdown","ed98d0e0":"markdown","8e145ed4":"markdown","3454f310":"markdown","410660ca":"markdown","2d34c7a9":"markdown"},"source":{"4d2c8156":"!pip install seaborn==0.11.0","27f665ab":"import seaborn as sns\nsns.__version__","6298b5c7":"#invite people for the Kaggle party\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport missingno as msno\nfrom scipy.stats import norm\nfrom sklearn.preprocessing import StandardScaler\nfrom scipy import stats\nimport warnings\nwarnings.filterwarnings('ignore')\n%matplotlib inline\nSEED = 1234","2f9d0d77":"train = pd.read_csv('..\/input\/kakr-4th-competition\/train.csv')\ntest = pd.read_csv('..\/input\/kakr-4th-competition\/test.csv')","40b7e462":"all_data = pd.concat([train, test])","956add4c":"all_data.isnull().sum()","ca2c440d":"msno.matrix(all_data)","b1565a80":"train.columns","6f1696f5":"train.info()","8aee5bda":"train.describe()","ff7552b8":"train.describe(include='O')","c6df696f":"train.sample(5, random_state=SEED)","136ca87e":"train['income'] = (train['income'] != '<=50K').astype('int')","4ff07d72":"train.corr().style.background_gradient(cmap='coolwarm')","619e4172":"fig, ax = plt.subplots(figsize=(7,7))\n\nmask = np.zeros_like(train.corr(), dtype=np.bool)\nmask[np.triu_indices_from(mask, k=1)] = True\n\nsns.heatmap(train.corr(), \n            cmap = 'coolwarm', \n            annot = True,   \n            mask=mask,     \n            linewidths=.5,  \n            cbar_kws={\"shrink\": .5},\n            vmin = -1,vmax = 1  \n           )  \nplt.show()","4faae4a0":"f,ax=plt.subplots(1,2,figsize=(18,8))\ntrain['income'].value_counts().plot.pie(explode=[0,0.1],autopct='%1.1f%%',ax=ax[0],shadow=True)\nax[0].set_title('income')\n\nsns.countplot('income', data=train, ax=ax[1])\nax[1].set_title('income')\nplt.show()","a4c2335a":"train.drop('id', axis=1)","7ce306aa":"train['age'].describe()","2be2fda5":"sns.kdeplot(x='age', hue='sex', fill=True, data=train)","d3db523c":"sns.catplot(x=\"age\", y=\"income\",\n                data=train, saturation=0.5,\n                kind=\"bar\", ci=None, aspect=3)","1398f74c":"f, ax = plt.subplots(1, 2, figsize=(20,10))\n\nx = list(range(15,90,5))\n\ntrain[train['income']==0].age.plot.hist(ax=ax[0],bins=x, edgecolor='black',color='red')\ntrain[train['income']==1].age.plot.hist(ax=ax[1], bins=x, edgecolor='black', color='green')\n\nax[0].set_title('income = 0')\nax[1].set_title('income = 1')\nax[0].set_xticks(x)\nax[1].set_xticks(x)\nplt.show()","b1dbb7a3":"f,ax=plt.subplots(1,1,figsize=(20,10))\nsns.violinplot(\"sex\",\"age\", hue=\"income\", data=train,split=True,ax=ax)\nax.set_title('Sex and Age vs Income')\nax.set_yticks(range(0,100,10))\nplt.show()","e4ded522":"train['workclass'].unique()","52157982":"train['workclass'].value_counts()","ac80f34d":"pd.crosstab(train.workclass, train.income, margins=True).T.style.background_gradient(cmap='summer_r')","560aa6fa":"train.groupby('workclass')['income'].mean().sort_values().plot(kind='bar', figsize=(10,7))","1aecb579":"sns.catplot(x=\"sex\", y=\"income\", col=\"workclass\",\n                data=train, saturation=.5,\n                kind=\"bar\", ci=None, aspect=.6)","6b98c09a":"train['education_num'].describe()","84bb5305":"pd.crosstab(train.education_num, train.income, margins=True).T.style.background_gradient(cmap='summer_r')","96070784":"sns.catplot(x=\"education_num\", y=\"income\", col=\"sex\",\n                data=train, saturation=.5,\n                kind=\"bar\", ci=None, aspect=1)","a2174e5d":"fig, ax = plt.subplots(1,1, figsize= (12, 5))\nsns.countplot(data=train, x='race', ax = ax, hue='education')\nplt.show()","93d0e947":"f, ax = plt.subplots(1, 2, figsize=(18, 8))\ntrain['education_num'].value_counts().plot.bar(color=['#CD7F32','#FFDF00','#D3D3D3'], ax=ax[0])\nax[0].set_title('Number Of People by Education Level')\nax[0].set_ylabel('Count')\nsns.countplot('education_num', hue='income', data=train, ax=ax[1])\nax[1].set_title('Education: >50K(1) or <=50K(0)')\nplt.show()","f57a9b96":"train['capital_gain'].describe()","b94d65ba":"f, ax = plt.subplots(1,2,figsize=(18, 8))\nsns.histplot(train.loc[ (train['capital_gain'] > 0) & (train['income'] == 0), 'capital_gain'], kde=True, ax=ax[0])\nsns.histplot(train.loc[ (train['capital_gain'] > 0) & (train['income'] == 1), 'capital_gain'], kde=True, ax=ax[1])\nax[0].set_title('income=0')\nax[1].set_title('income=1')","ead1c1d9":"f, ax = plt.subplots(1,2,figsize=(18, 8))\nsns.histplot(train.loc[ (train['capital_loss'] > 0) & (train['income'] == 0), 'capital_loss'], kde=True, ax=ax[0])\nsns.histplot(train.loc[ (train['capital_loss'] > 0) & (train['income'] == 1), 'capital_loss'], kde=True, ax=ax[1])\nax[0].set_title('income=0')\nax[1].set_title('income=1')","187eb81c":"train['capital_net'] = train['capital_gain'] - train['capital_loss']","44aa0203":"train[train['capital_net'] == 0].count()","7674e3ba":"train.loc[(train['income'] == 0), 'capital_net'].describe()","efb39e00":"train.loc[(train['income'] == 1), 'capital_net'].describe()","4985dfa5":"f, ax = plt.subplots(1,2,figsize=(18, 8))\nsns.histplot(train.loc[(train['income'] == 0), 'capital_net'], kde=True, ax=ax[0])\nsns.histplot(train.loc[(train['income'] == 1), 'capital_net'], kde=True, ax=ax[1])\nax[0].set_title('income=0')\nax[1].set_title('income=1')","ed11dfab":"train.loc[(train['income'] == 1) & (train['capital_net'] > 0), 'capital_net'].quantile(0.1)","b7389619":"train.loc[(train['income'] == 0) & (train['capital_net'] > 0), 'capital_net'].quantile(0.9)","0b6f6488":"train['hours_per_week'].describe()","e3d92569":"sns.catplot(x=\"hours_per_week\", y=\"income\", row=\"sex\",\n                data=train, saturation=.5,\n                kind=\"bar\", ci=None, aspect=4)","2cd31fe6":"f, ax = plt.subplots(1, 2, figsize=(20,10))\n\nx = list(range(0,100,5))\n\ntrain[train['income']==0].hours_per_week.plot.hist(ax=ax[0],bins=x, edgecolor='black',color='red')\ntrain[train['income']==1].hours_per_week.plot.hist(ax=ax[1], bins=x, edgecolor='black', color='green')\n\nax[0].set_title('income = 0')\nax[1].set_title('income = 1')\nax[0].set_xticks(x)\nax[1].set_xticks(x)\nplt.show()","0b3e814b":"f, ax = plt.subplots(1,2,figsize=(18, 8))\nsns.histplot(train.loc[(train['income'] == 0), 'hours_per_week'], kde=True, ax=ax[0])\nsns.histplot(train.loc[(train['income'] == 1), 'hours_per_week'], kde=True, ax=ax[1])","3459f5dc":"sns.factorplot('education_num', 'income', col='marital_status', data=train)\nplt.show()","a3fb25b5":"sns.factorplot('relationship', 'income', data=train)\nfig=plt.gcf()\nfig.set_size_inches(20,6)\nplt.show()","80b3a74f":"f,ax=plt.subplots(2,2,figsize=(50,15))\nsns.countplot('occupation',data=train,ax=ax[0,0])\nax[0,0].set_title('No. Of People occupation')\nsns.countplot('occupation',hue='sex',data=train,ax=ax[0,1])\nax[0,1].set_title('Male-Female Split for occupation')\nsns.countplot('occupation',hue='income',data=train,ax=ax[1,0])\nax[1,0].set_title('occupation vs income')\nsns.countplot('occupation',hue='education_num',data=train,ax=ax[1,1])\nax[1,1].set_title('occupation vs education_num')\nf.tight_layout()\n#plt.subplots_adjust(wspace=0.2,hspace=0.5)\nplt.show()","3e2a0ef4":"sns.factorplot('occupation','income',data=train)\nfig=plt.gcf()\nfig.set_size_inches(30,6)\nplt.show()","fac23542":"f, ax = plt.subplots(1, 2, figsize=(18, 8))\ntrain[['sex', 'income']].groupby(['sex']).mean().plot.bar(ax=ax[0])\nax[0].set_title(\"Income vs Sex\")\nsns.countplot('sex', hue='income', data=train, ax=ax[1])\nax[1].set_title(\"Sex: >50K(1) or <=50K(0)\")\nplt.show()","f8583605":"train['race'].value_counts()","ee932d75":"sns.factorplot('race', 'income', data=train)\nfig=plt.gcf()\nfig.set_size_inches(20,6)\nplt.show()","97d1b820":"fig, ax = plt.subplots(1, 1, figsize= (12,5))\nsns.boxplot(data=train, x='race', y='age', ax = ax, hue = 'sex')\n\n#sns.violinplot(data=train_df, x='race', y='age', ax = ax, hue = 'sex')\n","7e1ae8b9":"f, ax = plt.subplots(1,2,figsize=(18, 8))\nsns.histplot(train.loc[(train['race'] == 'White'), 'income'], kde=True, ax=ax[0])\nsns.histplot(train.loc[(train['race'] != 'White'), 'income'], kde=True, ax=ax[1])\nax[0].set_title('White')\nax[1].set_title('Not White')","be764c81":"train['native_country'].value_counts()","a542b5ba":"train[['native_country', 'income']].groupby('native_country')['income'].mean().sort_values()","f17a4d1c":"sns.factorplot('native_country', 'income', data=train)\nfig=plt.gcf()\nfig.set_size_inches(30,6)\nplt.show()","f401e152":"# 10. Race","35663659":"# 1. ID : Not A Feature &#8594; Drop","5bb04552":"# Check Missing Values","1c0953ca":"# Feature Overview","f543f5de":"# 4. Education Num","1146689f":"sample \uac2f\uc218\uac00 \uc791\uc544\uc11c \uc804\ubc18\uc801\uc73c\ub85c variance\uac00 \ud06c\ub2e4.","bf5c1021":"# 0. Income: Target Value","f28ab514":"# 6. Hours per week","0411d32e":"# 9. Sex","14dee30d":"# 8. Occupation","ed98d0e0":"# 7. Marital Status & Relationship","8e145ed4":"# 11. Native Country","3454f310":"# 5. Capital gain & loss","410660ca":"# 3. Workclass","2d34c7a9":"# 2. Age"}}