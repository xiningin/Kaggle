{"cell_type":{"cc986a82":"code","a4f96d76":"code","bfa56b33":"code","dc3ba5af":"code","26328e60":"code","9435d013":"code","292c259a":"code","868c45bf":"code","5b69e6a8":"code","661c2c5d":"code","37c7d9d8":"code","b6e0deb7":"code","bef00e68":"markdown","072b1990":"markdown"},"source":{"cc986a82":"import gc\nfrom tqdm import tqdm\nimport numpy as np\nimport pandas as pd\nfrom pylab import rcParams\nimport matplotlib.pyplot as plt\nfrom sklearn.metrics import mean_squared_error\nfrom scipy.stats import probplot\n\nimport datetime as dt\nfrom datetime import date\nfrom datetime import timedelta\nfrom fbprophet import Prophet\n\n%matplotlib inline\nimport os\nimport warnings\nwarnings.filterwarnings(\"ignore\")","a4f96d76":"data0=pd.read_csv('..\/input\/people-walking-in-kobe\/kobe_people_2020.csv')\ndata0","bfa56b33":"data1=data0[data0['Time']=='all day long'][['Date','Value']]","dc3ba5af":"item1=data1\n\nitem1.columns = ['ds','y']\nitem1.y = item1.y.astype('float')\nitem1.ds = item1.ds.astype('datetime64')\n\nrcParams['figure.figsize'] = 20, 5\nplt.plot(item1.ds, item1.y)","26328e60":"train_item=item1[0:-60]\nvalidation_item=item1[-60:]","9435d013":"ph = Prophet()\nph.fit(item1)\nforecast = ph.predict(item1[['ds']])\nfigure = ph.plot(forecast)\nfigure.show()","292c259a":"from datetime import timedelta\nstart0 = dt.datetime.strptime('2021-01-01', '%Y-%m-%d').date()\nend0   = dt.datetime.strptime('2022-12-31', '%Y-%m-%d').date()\nprint((end0-start0).days)","868c45bf":"def daterange(start,end):\n    for i in range((end-start).days):\n        return start+timedelta(i)  ","5b69e6a8":"dates0=[]\nfor i in range((end0-start0).days):\n    dates0+=[(start0+timedelta(i)).strftime('%Y-%m-%d') ]\nprint(dates0[0:10])","661c2c5d":"dates0_df=pd.DataFrame(dates0)\ndates0_df.columns=['ds']\ndates0_df","37c7d9d8":"ph = Prophet()\nph.fit(item1)\nforecast3=ph.predict(dates0_df)\nfigure = ph.plot(forecast3)\nfigure.show()","b6e0deb7":"forecast3[['ds','yhat','yhat_lower','yhat_upper']].tail()","bef00e68":"# fit past and predict past","072b1990":"# fit past and predict future"}}