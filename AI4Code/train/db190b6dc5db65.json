{"cell_type":{"737985c2":"code","e4d35176":"code","496ad925":"code","eb880f53":"code","7371123a":"code","3cc8d647":"code","9080e733":"code","0b90d40a":"code","395ab6f4":"code","0e611f2d":"markdown","a03f2ccd":"markdown","133a90ed":"markdown","0f5c64e7":"markdown","4d282e46":"markdown","d4b6827b":"markdown"},"source":{"737985c2":"import numpy as np\nimport pandas as pd","e4d35176":"# Load data\ndf = pd.read_csv('..\/input\/growth\/growth.csv')","496ad925":"# See variables in the dataset\ndf.head()","eb880f53":"# Dimensions of the dataset\ndf.shape","7371123a":"# Extract the names of control and treatment variables from varnames\nxnames = df.columns[3:] # names of X variables\ndandxnames = df.columns[2:] # names of D and X variables\nprint(xnames)\nprint(dandxnames)","3cc8d647":"from sklearn.linear_model import LinearRegression\nfrom sklearn import metrics\nfrom statsmodels.regression.linear_model import OLS\nimport statsmodels.api as sm\n\nY = df['Outcome'] # target variable\nD = df['gdpsh465'] # target regressors\nD_X = df[dandxnames] # control variables with target regressor\nX = df[xnames] # control variables\nD_X = sm.add_constant(D_X) # adding constants for intercept to control variables with target regressor\nX = sm.add_constant(X) # adding constants for intercept to control variables\nmodel = sm.OLS(Y, D_X) # OLS model object\nresults = model.fit() # training the model\nresults.summary() # summary of the trained model","9080e733":"# Lasso model with target and control variables\nmodel = sm.OLS(Y, X) # OLS model object\nresults = model.fit() # training the model\nresults_Y = model.fit_regularized(alpha = 0.002, L1_wt=1.0,start_params=results.params) # alpha = learning parameter, L1_wt = 1 - represents lasso\nfinal = sm.regression.linear_model.OLSResults(model, \n                                              results_Y.params, \n                                              model.normalized_cov_params)\nr_Y = final.resid # find the residuals","0b90d40a":"# Lasso model with target regressor and control variables\nmodel = sm.OLS(D, X)\nresults = model.fit()\nresults_D = model.fit_regularized(alpha = 0.002, L1_wt=1.0,start_params=results.params)\nfinal = sm.regression.linear_model.OLSResults(model, \n                                              results_D.params, \n                                              model.normalized_cov_params)\nr_D = final.resid # find the residuals","395ab6f4":"# Linear model between the residuals of the lasso models created above\nY = r_Y # target variable\nX = r_D\nX = sm.add_constant(X)\nmodel = sm.OLS(Y, X)\nresults = model.fit() # train the model\nprint(results.summary())","0e611f2d":"##### Barro-Lee GrowthData\nThe outcome (Y) is the realized annual growth rate of a country\u2019s wealth (Gross Domestic Product per capita).\n\nThe target regressor (D) is the initial level of the country\u2019s wealth\n\nThe target parameter $\u03b2_1$ is the speed of convergence, which measures the speed at which poor countries catch up with rich countries.\n\nThe controls (W ) include measures of education levels, quality of institutions, trade openness, and political stability in the country.","a03f2ccd":"In this segment, we have examined an empirical example in the high-dimensional setting.\n\nLeast squares yields a very noisy estimate of the target regression coefficient and does not allow us to answer an important empirical question\n\nLasso does yield a precise estimate of the regression coefficient and does allow us to answer thatquestion\n\nWe have found significant empirical evidence supporting the convergence hypothesis of Solow.","133a90ed":"**Thanks for being till here. Do not forget to drop an upvote if you liked the notebook!**","0f5c64e7":"Here we ask and answer the following question:\n\n### Do poor countries grow faster than rich countries?\n\nThe data set contains growth data of Barro-Lee. The Barro Lee data consists of a panel of 138 countries for the period 1960 to 1985. The dependent variable is national growth rates in GDP per capita for the periods 1965-1975 and 1975-1985. The growth rate in GDP over a period from t1 to t2 is commonly defined as log(GDPt1 \/GDPt2 ). The number of covariates is p=62. The number of complete observations is 90.\n\nThe full data set and further details can be found at http:\/\/www.nber.org\/pub\/barro.lee, http: \/\/www.barrolee.com, and, http:\/\/www.bristol.ac.uk\/\/Depts\/\/Economics\/\/Growth\/\/barlee.htm.\n\n1.\tOutcome  : national growth rates in GDP per capita for the periods 1965-1975.\n2.\tintercept: Constant.\n3.\tgdpsh465 : Real GDP per capita (1980 international prices) in 1965\n4.\tbmp1l    : Black market premium. Log (1+BMP)\n5.\tfreeop   : Measure of \"Free trade openness\n6.\tfreetar  : Measure of tariff restriction\n7.\th65      : Total gross enrollment ratio for higher education in 1965.\n8.\thm65     : Male gross enrollment ratio for higher education in 1965.\n9.\thf65     : Female gross enrollment ratio for higher education in 1965.\n10.\tp65      : Total gross enrollment ratio for primary education in 1965.\n11.\tpm65     : Male gross enrollment ratio for primary education in 1965.\n12.\tpf65     : Female gross enrollment ratio for primary education in 1965.\n13.\ts65      : Total gross enrollment ratio for secondary education in 1965.\n14.\tsm65     : Male gross enrollment ratio for secondary education in 1965.\n15.\tsf65     : Female gross enrollment ratio for secondary education in 1965.\n16.\tfert65   : Total fertility rate (children per woman) in 1965.\n17.\tmort65   : Infant Mortality Rate in 1965.\n18.\tlifee065 : Life expectancy at age 0 in 1965.\n19.\tgpop1    : Growth rate of population.\n20.\tfert1    : Total fertility rate (children per woman).\n21.\tmort1    : Infant Mortality Rate (ages 0-1).\n22.\tinvsh41  : Ratio of real domestic investment (private plus public) to real GDP.\n23.\tgeetot1  : Ratio of total nominal government expenditure on education to nominal GDP.\n24.\tgeerec1  : Ratio of recurring nominal government expenditure on education to nominal GDP.\n25.\tgde1     : Ratio of nominal government expenditure on defense to nominal GDP.\n26.\tgovwb1   : Ratio of nominal government \"consumption\" expenditure to nominal GDP (using current local currency).\n27.\tgovsh41  : Ratio of real government \"consumption\" expenditure to real GDP. (Period average).\n28.\tgvxdxe41 : Ratio of real government \"consumption\" expenditure net of spending on defense and on education to real GDP.\n29.\thigh65   : Percentage of \"higher school attained\" in the total pop in 1965.\n30.\thighm65  : Percentage of \"higher school attained\" in the male pop in 1965.\n31.\thighf65\t  : Percentage of \"higher school attained\" in the female pop in 1965.\n32.\thighc65  : Percentage of \"higher school complete\" in the total pop.\n33.\thighcm65 : Percentage of \"higher school complete\" in the male pop.\n34.\thighcf65 : Percentage of \"higher school complete\" in the female pop.\n35.\thuman65  : Average schooling years in the total population over age 25 in 1965.\n36.\thumanm65 : Average schooling years in the male population over age 25 in 1965.\n37.\thumanf65 : Average schooling years in the female population over age 25 in 1965.\n38.\thyr65    : Average years of higher schooling in the total population over age 25.\n39.\thyrm65   : Average years of higher schooling in the male population over age 25.\n40.\thyrf65   : Average years of higher schooling in the female population over age 25.\n41.\tno65\t  : Percentage of \"no schooling\" in the total population.\n42.\tnom65\t  : Percentage of \"no schooling\" in the male population.\n43.\tnof65\t  : Percentage of \"no schooling\" in the female population.\n44.\tpinstab1 : Measure of political instability.\n45.\tpop65    : Total Population in 1965.\n46.\tworker65 : Ratio of total Workers to population.\n47.\tpop1565  : Population Proportion under 15 in 1965.\n48.\tpop6565\t  : Population Proportion over 65 in 1965.\n49.\tsec65    : Percentage of \"secondary school attained\" in the total pop in 1965.\n50.\tsecm65   : Percentage of \"secondary school attained\" in male total pop in 1965. \n51.\tsecf65   : Percentage of \"secondary school attained\" in female total pop in 1965. \n52.\tsecc65   : Percentage of \"secondary school complete\" in the total pop in 1965.\n53.\tseccm65\t  : Percentage of \"secondary school complete\" in the total pop in 1965.\n54.\tseccf65  : Percentage of \"secondary school complete\" in female pop in 1965.\n55.\tsyr65    : Average years of secondary schooling in the total population over age 25 in 1965.\n56.\tsyrm65   : Average years of secondary schooling in the male population over age 25 in 1965.\n57.\tsyrf65   : Average years of secondary schooling in the female population over age 25 in 1965.\n58.\tteapri65 : Pupil\/Teacher Ratio in primary school.\n59.\tteasex65 : Pupil\/Teacher Ratio in secondary school\n60.\tex1      : Ratio of export to GDP (in current international prices)\n61.\tim1      : Ratio of import to GDP (in current international prices) \n62.\txr65\t  : Exchange rate (domestic currency per U.S. dollar) in 1965.\n63.\ttot1\t  : Terms of trade shock (growth rate of export prices minus growth rate of import prices).","4d282e46":"In this segment, we provide an empirical example of using partialling-out with Lasso to estimate the regression coefficient $\u03b2_1$ in the high-dimensional linear regression model:\n\nY = $\u03b2_1D$ + $\u03b2^r_2W$ + \u03b5.\n\nSpecifically we are interested in how the rates at which economies of different countries grow, denoted by Y , are related to the initial wealth levels in each country, denoted by D, controlling for country\u2019s institutional, educational, and other similar characteristics, denoted by W.\n\nThe relationship is captured by the regression coefficient $\u03b2_1$.\n\nIn this example, this coefficient is called the \u201cspeed of convergence\/divergence\u201d, as it measures the speed at which poor countries catch up ($\u03b2_1$<0) or fall ($\u03b2_1$>0) behind wealthy countries, controlling for W .\n\nOur inference question here is: do poor countries grow faster than rich countries, controlling for educational and other characteristics? In other words, is the speed of convergence negative: $\u03b2_1$<0?\n\nThis is the Convergence Hypothesis predicted by the Solow Growth Model\n\nRobert M. Solow is a world-renowned MIT economist who won the Nobel Prize in Economics.\n\nThe data set contains 90 countries and about 60 controls. Thus p is approximately 60 and n = 90 and p over n is not small. This means that we operate in the high-dimensional setting\n\nTherefore, we expect the least squares method to provide a poor, very noisy estimate of $\u03b2_1$.\n\nIn contrast, we expect the method based on partialling-out with Lasso to provide a high quality estimate of $\u03b2_1$.","d4b6827b":"|| Estimate | Standard Error | 95% Confidence Interval|\n| --- | --- | --- | --- |\n| Least squares | -0.0094 | 0.030 | [-0.071\t0.052] |\n| Partialling-out via lasso | -0.0431 | 0.021 | [-0.085 -0.001] |\n\nAs expected, least squares provides a rather noisy estimate of the speed of convergence, and does not allow us to answer the question about the convergence hypothesis.\n\nIn sharp contrast, partialling-out via Lasso provides a more preciseestimate.\n\nThe lasso based point estimate is \u22604% and the 95% confidence interval for the (annual) rate of convergence is\n\u22608.5% to \u22600.1%.\n\nThis empirical evidence does support the convergence hypothesis."}}