{"cell_type":{"2564f707":"code","a1050c49":"code","9de1cefc":"code","d5fe85a6":"code","fd27e3e6":"code","be5d12c1":"code","8725ff75":"code","dcd01a49":"code","88c6f959":"code","508e43fd":"code","54502973":"code","b2786100":"markdown","06a0b00e":"markdown","0a620274":"markdown","d37f7a34":"markdown","b1d83081":"markdown","598b8900":"markdown","7a92093a":"markdown","e45b3fc0":"markdown","d3f0e4a2":"markdown","aab284e3":"markdown","ac597527":"markdown","dd700ad4":"markdown","eb0b5b69":"markdown","00353ca6":"markdown","a56c94dd":"markdown"},"source":{"2564f707":"#Import libraries.\n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib.ticker import PercentFormatter\nimport seaborn as sns\nfrom numpy import radians, cos, sin, arcsin, sqrt\nplt.style.use('seaborn')","a1050c49":"#Import cleaned bike and weather data.\n\ndf = pd.read_csv('..\/input\/clean-cyclistic-data\/clean_bike_data.csv',low_memory=False)\ndfw = pd.read_csv('..\/input\/clean-cyclistic-data\/clean_weather_data.csv')","9de1cefc":"#Average ride time graph.\n\nx = 1\ny1 = [35]\ny2 = [15]\nwidth = 1\n\nfig, ax1 = plt.subplots()\n\nplt.suptitle('Average Ride Time',fontsize=20)\nplt.xlabel('User Type',fontsize=15)\nplt.ylabel('Minutes',fontsize=15)\n\nax1.bar(x - width,y1,facecolor='C0',label='casual')\nax1.bar(x,y2,facecolor='C1',label='member')\nax1.grid(True,color='gray',linestyle=(0, (2, 10)))\n\nplt.xticks([0,1],['Casual','Member'])\nplt.legend(title='User Type',bbox_to_anchor=(1,1), loc=\"upper left\")\nplt.show()","d5fe85a6":"#Average distance traveled graph.\n\nx = 1\ny1 = [1.37] #casual user\ny2 = [1.41] #member\nwidth = 1\n\nfig, ax1 = plt.subplots()\n\nplt.suptitle('Average Distance Traveled',fontsize=20)\nplt.xlabel('User Type',fontsize=15)\nplt.ylabel('Distance (Miles)',fontsize=15)\n\nax1.bar(x - width,y1,facecolor='C0',label='casual')\nax1.bar(x,y2,facecolor='C1',label='member')\nax1.grid(True,color='gray',linestyle=(0, (2, 10)))\n\nplt.xticks([0,1],['Casual','Member'])\nplt.yticks([0,0.5,1,1.5])\nplt.legend(title='User Type',bbox_to_anchor=(1,1), loc=\"upper left\")\n\nplt.show()","fd27e3e6":"#Average ride speed graph.\n\nx = 1\ny1 = [4.32] #casual\ny2 = [6.40] #member\nwidth = 1\n\nfig, ax1 = plt.subplots()\n\nplt.suptitle('Average Ride Speed',fontsize=20)\nplt.xlabel('User Type',fontsize=15)\nplt.ylabel('Speed (MPH)',fontsize=15)\n\nax1.bar(x - width,y1,facecolor='C0',label='casual')\nax1.bar(x,y2,facecolor='C1',label='member')\nax1.grid(True,color='gray',linestyle=(0, (2, 10)))\n\nplt.xticks([0,1],['Casual','Member'])\nplt.yticks([0,2,4,6,8])\nplt.legend(title='User Type',bbox_to_anchor=(1,1), loc=\"upper left\")\n\nplt.show()","be5d12c1":"#Ridership by day of week graph.\n\ndf.groupby(['day_of_week','user_type']).ride_id.count().unstack().reindex(['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday']).plot(kind='bar')\n\nplt.suptitle('Ride Preference by Day of Week',fontsize=20)\nplt.xlabel('Day of Week',fontsize=15)\nplt.ylabel('Total Rides',fontsize=15)\n\nplt.grid(True,color='gray',linestyle=(0, (2, 10)))\nplt.legend(title='User Type',bbox_to_anchor=(1,1), loc=\"upper left\")\nplt.show()","8725ff75":"#Start Time Heatmap\n\ndfc = df[df.user_type == 'casual']\ndfm = df[df.user_type == 'member']\n\ndfc_hm = dfc.groupby(['start_hour','day_of_week']).ride_id.count().unstack().T.reindex().reindex(['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'])\ndfm_hm = dfm.groupby(['start_hour','day_of_week']).ride_id.count().unstack().T.reindex().reindex(['Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'])\n\nfig, (ax1, ax2) = plt.subplots(2,1, figsize = (15, 8))\nsns.heatmap(data = dfc_hm,cmap='vlag',ax=ax1,cbar_kws={'label':'Casual User Rides'})\nsns.heatmap(data = dfm_hm,cmap='vlag',ax=ax2,cbar_kws={'label':'Member Rides'})\n\nax1.set_title(\"Casual User's Start Time\",fontsize=15)\nax2.set_title(\"Member's Start Time\",fontsize=15)\n\nax1.set_xlabel('Time of Day',fontsize=12)\nax1.set_ylabel('Day of Week',fontsize=12)\n\nax2.set_xlabel('Time of Day',fontsize=12)\nax2.set_ylabel('Day of Week',fontsize=12)\n\nplt.suptitle('Start Time Heatmap',fontsize=20,va='center')\nplt.tight_layout()\nplt.show()","dcd01a49":"#Casual user bike preference percentage.\n\ndfc_bike_type = dfc.bike_type.value_counts(normalize=True).round(2)*100\n\ndfc_bike_type.plot(kind='bar',color=['C0','orange','C1'])\n\nplt.suptitle('Casual User Bike Preferences',fontsize=20)\nplt.title('By Percentage of total casual rides',fontsize=12)\nplt.xlabel('Bike Types',fontsize=15)\nplt.ylabel('Percent',fontsize=15)\nplt.xticks(ticks=[0,1,2],labels=['Docked','Electric','Classic'],rotation=0)\nplt.yticks([0,15,30,45,60])\n\nplt.grid(True,color='gray',linestyle=(0, (2, 10)))\nplt.show()","88c6f959":"#Casual user bike type grouped by month.\n\nxc = dfc.groupby(['month','bike_type']).ride_id.count().unstack(1).fillna(value=0)\nxc['total'] = xc['classic_bike'] + xc['docked_bike'] + xc['electric_bike']\ntemp = dfw.groupby(['month']).wind_chill.mean().round()\nmonth = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\n\nfig, ax1 = plt.subplots(1,1,sharex=True,figsize=(10,5))\n\nax1.plot(xc['docked_bike'],label='docked',marker='o')\nax1.plot(xc['classic_bike'],label='classic',marker='^')\nax1.plot(xc['electric_bike'],label='electric',marker='s',color='orange')\n\nax1.set_xlabel('Month',fontsize=15)\nax1.set_xticks([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12])\nax1.set_yticks(ticks=[0,50000,100000,150000,200000,250000,300000])\nax1.set_ylabel('Rides Taken',fontsize=15)\nax1.grid(True,color='gray',linestyle=(0, (2, 10)))\nax1.legend(bbox_to_anchor=(-.1,1),title='Bike Type', loc=\"upper right\")\n\nax2 = ax1.twinx()\n\nax2.plot(temp,color='crimson',label='Temperature',marker='o',linestyle='dashed')\n\nax2.set_ylabel('Temperature',fontsize=15)\nax2.tick_params(axis='y',labelcolor='crimson')\nax2.legend(bbox_to_anchor=(1.05,1), loc=\"upper left\")\nax2.set_xticks([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12])\n\nplt.suptitle(\"Bike Type Patterns with Temperature\",fontsize=20)\nplt.title('Casual Users',fontsize=12)\n\nplt.show()","508e43fd":"#Distribution of Docked Bike Rides by Month for Casual Users.\n\ndfc_db = pd.DataFrame(data = dfc[dfc.bike_type == 'docked_bike'].groupby(['month']).ride_id.count())\ndfc_db = dfc_db.rename(columns = {'ride_id':'ridership'})\ndfc_db['P_Contribution'] = round(dfc_db['ridership'] \/ dfc_db['ridership'].sum()*100)\ndfc_db['Cumulative_P'] = round(dfc_db['ridership'].cumsum()\/dfc_db['ridership'].sum()*100)\n\n#Distribution of Docked Bike Rides by Month for Casual Users Graph.\n\nfig, ax = plt.subplots(sharex=True)\n\nplt.suptitle('Docked Bike Rides Distribution',fontsize=20)\nplt.title('Casual Users',fontsize=12)\n\nbarlist = ax.bar(dfc_db.index, dfc_db['ridership'],color='gray')\nax.grid(False)\nax.set_xlabel('Month',fontsize=15)\nax.set_ylabel('Rides Taken',fontsize=15)\n\nax2 = ax.twinx()\n\nax2.plot(dfc_db.index,dfc_db['P_Contribution'], color=\"orange\", marker=\"D\", ms=7)\nax2.yaxis.set_major_formatter(PercentFormatter())\nax2.set_yticks(ticks=[0,5,10,15,20,25])\nax2.set_ylabel('Percentage of Rides',fontsize=15)\n\nax.tick_params(axis=\"y\", colors=\"C0\")\nax2.tick_params(axis=\"y\", colors=\"black\")\nax2.grid(True,color='gray',linestyle=(0, (2, 10)))\n\nbarlist[5].set_color('C0')\nbarlist[6].set_color('C0')\nbarlist[7].set_color('C0')\nbarlist[8].set_color('C0')\n\nplt.xticks([1,2,3,4,5,6,7,8,9,10,11,12])\nplt.tight_layout()\nplt.show()","54502973":"#Location of the summer Station \n\ndfss = pd.DataFrame(data = df[df.month.isin([6,7,8,9])].start_station_name.value_counts())\ndfes = pd.DataFrame(data = df[df.month.isin([6,7,8,9])].end_station_name.value_counts())\ndf_station = pd.merge(dfss,dfes,left_index=True,right_index=True)\ndf_station['station_total'] = df_station['start_station_name'] + df_station['end_station_name']\ndf_station.sort_values(by='station_total',ascending=False,inplace=True)\ndf_station['Cumulative_P'] = round(df_station['station_total'].cumsum()\/df_station['station_total'].sum()*100,1)\n\n#Location of the summer Station Graph\n\nfig, ax = plt.subplots()\n\nplt.suptitle('Summer Stations',fontsize=20)\nplt.title('Casual Docked Bike Users',fontsize=12)\nplt.xlabel('Station Name',fontsize=15)\nplt.ylabel('Users Reached',fontsize=15)\nplt.xticks(rotation=90)\n\nax.bar(df_station.index[:20],df_station.station_total[:20])\nax.set_yticks([0,10000,20000,30000,40000,50000,60000])\nax.grid(True,color='gray',linestyle=(0, (1, 10)))\n\nax2 = ax.twinx()\n\nax2.plot(df_station.index[:20], df_station[\"Cumulative_P\"][:20], color=\"orange\", marker=\"D\", ms=7)\nax2.yaxis.set_major_formatter(PercentFormatter())\nax2.set_yticks(ticks=[0,5,10,15,20])\nax2.set_ylabel('Percentage of Users',fontsize=15)\nax2.grid(False)\n\nplt.show()","b2786100":"# Business Task\n\nLily Moreno, Marketing Director, believes that Cyclistic's success will rely on maximizing the number of annual membership subscriptions. With that objective in mind, I have discovered relationships that will aid the marketing department for their first targeted marketing campaign. Let's begin by discussing the differences between the casual user and the annual member.","06a0b00e":"Casual users show a concentration of riding on weekends during the hours of 11 am to 6 pm.\n\nMembers show a concentration of riding on weekedays between 4 pm and 6 pm. Additionally, members show non-trivial usage during 7 am and 8 am. Member times appear to refllect common commuting schedules.","0a620274":"A casual user will travel at 4.32 MPH while a member will travel at 6.4 MPH. This means the average member travels ~48% faster than the average casual user. \n\nThis is beginning to paint a picture of the average casual user and their respective riding habits on an individual level. Let's examine more broad patterns.","d37f7a34":"# Marketing Recommendation 2:\n## The Summer Swell\n\nDuring the warm summer months, casual users greatly prefer using docked bicycles. Depending on the size of the budget, the marketing department could reach an outstanding ~50% of all casual docked bike users from marketing during the two peak months of the year, or reach an remarkable ~80% by marketing from June through September.","b1d83081":"# Marketing Recommendation 1: \n## Target Casual Docked Bike Users\n\nIf the marketing department chooses to focus on one of the three subsets of the casual users, then the docked bike users are the best candidate. At over 1 million individuals, this is the largest casual user segment, giving the marketing team a chance to pursue its largest demographic with a single, targeted campaign.","598b8900":"# Marketing Recommendation 3:\n## Summer Station Hot Spots\n\nTo be used in tandem with digtal media marketing efforts, having a presence at popular summer stations could assist in converting the casual user into an annual member. Assuming we target from June through September, the 20 most popular stations would reach about 16% of all docked bike casual users. \n\nKeep in mind, Cyclistic has 692 stations across Chicago. This means that ~3% of our stations reach an impressive ~16% of all docked bike casual users.","7a92093a":"A casual user will ride 35 minutes on average while a member will ride 15 minutes on average. \n\nIt could be that perhaps casual users ride for longer distances. Let's look into the average distance traveled by each user type.","e45b3fc0":"# Introduction\n\nIn this jupyter notebook, I will visualize the relationships that are the most useful in identifying how Cyclistic's casual users and annual members differ and three strategies that the marketing department can use to have a more effective marketing campaign. \n\nThis are not, however, all the relationships that I've found: to see more relationships explored, please review the [Cyclistic: Exploratory Analysis](https:\/\/www.kaggle.com\/ericramoscastillo\/cyclistic-exploratory-analysis\/edit\/run\/76010002).\n\nThe two data sources used to perform this analysis were originally obtained from [Cyclistic's historical trip data](https:\/\/divvy-tripdata.s3.amazonaws.com\/index.html) and from the [Visual Crossing Weather Service](https:\/\/www.visualcrossing.com\/weather\/weather-data-services#\/login). The datasets were compiled and cleaned, which can be accessed [here](https:\/\/www.kaggle.com\/ericramoscastillo\/clean-cyclistic-data). To view the data cleaning methodolgy, please review the [Cyclistic: Data Cleaning document](https:\/\/www.kaggle.com\/ericramoscastillo\/cyclistic-data-cleaning-additions-and-removals).","d3f0e4a2":"Casual users prefer using the docked bikes, which account for 63% of all casual user bike usage. Electric bikes rank second with 22% of all casual user rides followed by classic bikes comprising 16% of all usage.","aab284e3":"# Conclusion\n\nTo resonate with casual users, the marketing team should highlight the recreational qualities of the annual membership.\n\nBy targeting the casual users who prefer riding docked bikes, we maximize the amount of casual users reached in any give bike-type segment.\n\nInitiating the marketing campaign from June through September would reach ~80% of all docked bike casual users.\n\nIf traditional advertising is part of the campaign, use the 20 most popular summer stations to help convert casual users into annual members.","ac597527":"A casual user will ride 1.37 miles on average while a member will ride 1.41 miles on average.\n\nAlthough casual users average ride duration is more than twice as long than the annual members ride duration, casual users do not appear to ride further than members.\n\nLet's clarify this riding pattern and review the average ride speed.","dd700ad4":"Casual users show a strong preference on Saturday and Sunday while the member does not show a strong preference over any given day.\n\nThe last broad pattern we will examine is rider start times by day of week. ","eb0b5b69":"## How do casual users and annual members differ?","00353ca6":"The graph above shows an interesting pattern. Casual users exclusively use docked bikes from June through July. The docked bike then remains a casual users favorite bike type until December. \n\nDocked bike usage appears to coincide with higher average temperatures.","a56c94dd":"# Summary of Differences Between Casual Users and Members\n\nWe now have an understanding of the fundamental differences between the casual user and the annual member. \n\n- The average casual user ride duration lasts more than twice as long as the average member.\n- The average member ride speed is about 48% faster than the average casual user.\n- Casual users prefer riding on weekends, between the hours of 11 am to 6 pm, while members prefer to use the service primarily on weekdays, between the hours of 4 pm to 6 pm.\n\nOur findings indicate that casual users are primarily using Cyclistic services for recreational purposes. When designing the marketing campaign, emphasize the recreational qualities of an annual membership."}}