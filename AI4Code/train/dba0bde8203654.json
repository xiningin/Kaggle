{"cell_type":{"4f7d83f7":"code","73c56fd5":"code","0d01b25e":"code","0f6151c1":"code","8ecdbfb9":"code","16472f8d":"code","24905453":"code","b387dbfd":"code","69e50e61":"code","a2db23c8":"code","dd856361":"code","b5391e1d":"code","29f75e7e":"code","03a6bfe1":"code","abebe09f":"code","dd12836d":"code","72c5987f":"code","779a0cef":"code","760fdf87":"code","321ab389":"code","06082099":"code","8d0fae2e":"code","38aa8955":"code","f2c745fd":"code","287dfd02":"code","554bffa6":"code","b4f56ad3":"code","6cc26304":"code","aa9b7688":"code","9c72289d":"code","bfea9281":"code","5de17a7b":"code","0f69d390":"code","7b001c7b":"code","6a3efb50":"code","3076a2a4":"code","ffcb311d":"code","52d4d901":"code","5d53cc31":"code","3310352a":"code","7dbd4afb":"code","f9ff58ff":"code","3a7dcdc7":"code","0bf0644e":"code","a1563d54":"code","63c4a5cd":"code","53601a22":"code","853c0378":"code","3e26680e":"code","497fce7a":"code","c06c234e":"code","0bde5eef":"code","02da4faf":"code","0d809b1a":"code","17b8bb43":"code","9048b75a":"code","9d952d16":"code","b133828b":"code","75069657":"code","a5b1f2eb":"code","29065d80":"code","eecc65a9":"code","e199c041":"code","f6276177":"code","c228571c":"code","027bf8ed":"code","09a6b4a1":"code","27929c56":"code","db4dfc90":"code","79518421":"code","ef0d59a2":"markdown","8b40e9a1":"markdown","f4cb9951":"markdown","881bf12d":"markdown","67c57a8c":"markdown","e315ac8d":"markdown","2f6a9016":"markdown","d8db2cc6":"markdown","b2528e3e":"markdown","d23dffb8":"markdown","aef36eda":"markdown","1d73a6ac":"markdown","8ffb2299":"markdown","7672deca":"markdown","26a2c835":"markdown","d8948cd6":"markdown","c4ff5348":"markdown","e11f318a":"markdown","457dc397":"markdown","315f3700":"markdown","33e60125":"markdown","33c41f39":"markdown","d75bf567":"markdown","d7060325":"markdown","95ff9347":"markdown","9d9b740b":"markdown","bafd4fd7":"markdown","73970b3d":"markdown","bd76cc2b":"markdown","621be7d3":"markdown","fd97b559":"markdown","186300fb":"markdown"},"source":{"4f7d83f7":"import pandas as pd\nfrom sklearn.preprocessing import LabelEncoder\n!pip install CurrencyConverter\nfrom currency_converter import CurrencyConverter\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport warnings\nfrom sklearn.preprocessing import LabelEncoder\nfrom sklearn.metrics import r2_score\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.tree import DecisionTreeRegressor\nfrom sklearn.ensemble import  RandomForestRegressor\nfrom keras.layers import Dense,BatchNormalization,Flatten\nfrom keras.models import Sequential\nimport keras\nfrom keras.metrics import mean_absolute_error\nwarnings.filterwarnings('ignore')\nplaystore=pd.read_csv('..\/input\/google-playstore-apps\/Google-Playstore.csv',parse_dates=['Last Updated','Released'])\nplaystore.head()","73c56fd5":"playstore.describe()","0d01b25e":"playstore.describe(include='O')","0f6151c1":"playstore.info()","8ecdbfb9":"playstore.drop(['App Id','Developer Website','Developer Email','Developer Id','Privacy Policy'],axis=1,inplace=True)\nplaystore.head()","16472f8d":"from sklearn.model_selection import train_test_split\ntrain_data,test_data=train_test_split(playstore,test_size=0.15,random_state=42)","24905453":"for col in train_data.columns:\n    null=train_data[col].isnull().sum()\n    print('{0} have {1}   null value'.format(col,null))","b387dbfd":"train_data.fillna(method='bfill',inplace=True)","69e50e61":"categorical_columns=[]\nfor col in train_data.columns:\n    if train_data[col].dtype=='O':\n        categorical_columns.append(col)\ncategorical_columns","a2db23c8":"def string_to_numeric(data):\n    data=data.replace(',','')\n    data=data[:-1]\n    return int(data)\n\ntrain_data['Installs']=train_data['Installs'].apply(string_to_numeric)","dd856361":"plt.figure(figsize=(20,15))\nsns.countplot(train_data['Installs'])\nplt.plot()","b5391e1d":"def define_size(data):\n    data=data.replace(',','')\n    num=data[:-1]\n    if data[-1]=='K' or data[-1]=='k' :\n        return float(num)\n    elif data[-1]=='M' or data[-1]=='m':\n        return float(num)*1000\n    elif data[-1]=='G' or data[-1]=='g':\n        return float(num)*1000000\n    else:\n        return 1000\n        ","29f75e7e":"train_data['Size']=train_data['Size'].apply(define_size)","03a6bfe1":"plt.figure(figsize=(20,15))\nsns.countplot(train_data['Size'])\nplt.plot()","abebe09f":"plt.figure(figsize=(20,15))\nsns.lineplot(train_data['Size'],train_data['Installs'])\nplt.plot()","dd12836d":"train_data['Content Rating'].value_counts()","72c5987f":"\nplt.pie(train_data['Content Rating'].value_counts(),explode=[0.1,0.2,0.3,0.2,0.5,0.1],autopct='%0.2f%%',\n        labels=['Everyone','Teenager','Mature 17+','Everyone 10+','Unrated','Adult only 18+'],startangle=90,radius=3,\n       colors=['#00ffff','#800080','#6960ec','#fbb917','#ff00ff','#00ff00'])\nplt.title('Content Rating',fontdict={'size':20,'weight':'bold'},loc='right')\nplt.plot()","779a0cef":"plt.figure(figsize=(20,15))\nsns.countplot(train_data['Content Rating'])\nplt.plot()","760fdf87":"lbl_content_rating=LabelEncoder()\ntrain_data['Content Rating']=lbl_content_rating.fit_transform(train_data['Content Rating'])","321ab389":"def min_android(data):\n    p=data.split()\n    if data=='Varies with device':\n        return 4.0\n    else:\n        return float(p[0][:3])\ntrain_data['Minimum Android']=train_data['Minimum Android'].apply(min_android)","06082099":"plt.figure(figsize=(30,15))\nsns.countplot(train_data['Minimum Android'])\nplt.plot()","8d0fae2e":"train_data['Category'].value_counts()","38aa8955":"plt.figure(figsize=(30,15))\nsns.countplot(train_data['Category'])\nplt.plot()","f2c745fd":"lbl_category=LabelEncoder()\ntrain_data['Category']=lbl_category.fit_transform(train_data['Category'])","287dfd02":"cc=CurrencyConverter()\n\n\ndef currency_to_INR(data):\n    if data not in cc.currencies:\n        data=1\n    else:\n        data=cc.convert(1,data,'INR')\n    return data\n","554bffa6":"train_data['Currency']=train_data['Currency'].apply(currency_to_INR)","b4f56ad3":"train_data.Price=train_data.Price*train_data.Currency\ntrain_data.Price.value_counts()","6cc26304":"bln=[]\nfor col in train_data.columns:\n    if train_data[col].dtype=='bool':\n        bln.append(col)\nbln","aa9b7688":"train_data.Free.value_counts()","9c72289d":"plt.pie(train_data.Free.value_counts(),radius=3,autopct='%0.2f%%',explode=[0.2,0.5],colors=['#00ffff','#00ff00'],labels=['Free','Not for Free'],\n        startangle=90)\nplt.title('Is App is Free?',fontdict={'size':20,'weight':'bold'})\nplt.plot()","bfea9281":"train_data.Free=pd.Categorical(train_data.Free,ordered=True,categories=[False,True]).codes","5de17a7b":"plt.pie(train_data['Ad Supported'].value_counts(),radius=3,autopct='%0.2f%%',explode=[0.2,0.5],colors=['#800080','#ff00ff'],labels=['Ad Supported','Ad not supported'],\n        startangle=90)\nplt.title('Is Ad supported?',fontdict={'size':20,'weight':'bold'})\nplt.plot()","0f69d390":"train_data['Ad Supported']=pd.Categorical(train_data['Ad Supported'],ordered=True,categories=[False,True]).codes","7b001c7b":"train_data['In App Purchases'].value_counts()","6a3efb50":"plt.pie(train_data['In App Purchases'].value_counts(),radius=3,autopct='%0.2f%%',explode=[0.2,0.5],colors=['#ffa500','#0000a0'],labels=['App not in purchase','App in purchase'],\n        startangle=90)\nplt.title('Is In App Purchases?',fontdict={'size':20,'weight':'bold'})\nplt.plot()","3076a2a4":"train_data['In App Purchases']=pd.Categorical(train_data['In App Purchases'],ordered=True,categories=[False,True]).codes","ffcb311d":"train_data['Editors Choice'].value_counts()","52d4d901":"plt.pie(train_data['Editors Choice'].value_counts(),radius=3,autopct='%0.2f%%',explode=[0.2,0.9],colors=['#ffff00','#0000a0'],labels=['Not Editor choice','Editor choice'],\n        startangle=90)\nplt.title('Is Editors Choice?',fontdict={'size':20,'weight':'bold'})\nplt.plot()","5d53cc31":"train_data['Editors Choice']=pd.Categorical(train_data['Editors Choice'],ordered=True,categories=[False,True]).codes","3310352a":"released_date_install=pd.concat([train_data['Installs'],train_data['Released']],axis=1)","7dbd4afb":"plt.figure(figsize=(15,12))\nreleased_date_plot=released_date_install.set_index('Released').resample('3M').mean()\nreleased_date_plot.plot()\nplt.title('Released date Vs Installs',fontdict={'size':20,'weight':'bold'})\nplt.plot()","f9ff58ff":"plt.figure(figsize=(15,10))\nreleased_date_plot.plot(kind='kde')\nplt.title('Released date Vs Installs',fontdict={'size':20,'weight':'bold'})\nplt.plot()","3a7dcdc7":"released_date_rating=pd.concat([train_data['Rating'],train_data['Released']],axis=1)","0bf0644e":"plt.figure(figsize=(15,12))\nreleased_date_rating_plot=released_date_rating.set_index('Released').resample('3M').mean()\nreleased_date_rating_plot.plot()\nplt.title('Released date Vs Rating',fontdict={'size':20,'weight':'bold'})\nplt.plot()","a1563d54":"plt.figure(figsize=(15,10))\nreleased_date_rating_plot.plot(kind='kde')\nplt.title('Released date Vs Rating',fontdict={'size':20,'weight':'bold'})\nplt.plot()","63c4a5cd":"last_update_install=pd.concat([train_data['Installs'],train_data['Last Updated']],axis=1)","53601a22":"plt.figure(figsize=(15,12))\nupdate_date_install_plot=last_update_install.set_index('Last Updated').resample('3M').mean()\nupdate_date_install_plot.plot()\nplt.title('Last Updated date Vs Rating',fontdict={'size':20,'weight':'bold'})\nplt.plot()","853c0378":"plt.figure(figsize=(15,10))\nupdate_date_install_plot.plot(kind='kde')\nplt.title('Last Updated date Vs Rating',fontdict={'size':20,'weight':'bold'})\nplt.plot()","3e26680e":"updated_date_rating=pd.concat([train_data['Rating'],train_data['Last Updated']],axis=1)","497fce7a":"plt.figure(figsize=(15,12))\nupdated_date_rating_plot=updated_date_rating.set_index('Last Updated').resample('3M').mean()\nupdated_date_rating_plot.plot()\nplt.title('Last Updated Vs Rating',fontdict={'size':20,'weight':'bold'})\nplt.plot()","c06c234e":"plt.figure(figsize=(15,10))\nupdated_date_rating_plot.plot(kind='kde')\nplt.title('Last Updated date Vs Rating',fontdict={'size':20,'weight':'bold'})\nplt.plot()","0bde5eef":"train_data.drop(['Released','Last Updated','Currency'],inplace=True,axis=1)","02da4faf":"train_data.head()","0d809b1a":"plt.figure(figsize=(20,15))\nsns.heatmap(train_data.corr(),annot=True)\nplt.plot()","17b8bb43":"test_data.fillna(method='bfill',inplace=True)","9048b75a":"test_data['Installs']=test_data['Installs'].apply(string_to_numeric)\ntest_data['Category']=lbl_category.transform(test_data['Category'])\ntest_data['Content Rating']=lbl_content_rating.transform(test_data['Content Rating'])\ntest_data['Minimum Android']=test_data['Minimum Android'].apply(min_android)\ntest_data['Size']=test_data['Size'].apply(define_size)\ntest_data['Currency']=test_data['Currency'].apply(currency_to_INR)\ntest_data['Editors Choice']=pd.Categorical(test_data['Editors Choice'],ordered=True,categories=[False,True]).codes\ntest_data['In App Purchases']=pd.Categorical(test_data['In App Purchases'],ordered=True,categories=[False,True]).codes\ntest_data['Ad Supported']=pd.Categorical(test_data['Ad Supported'],ordered=True,categories=[False,True]).codes\ntest_data['Free']=pd.Categorical(test_data['Free'],ordered=True,categories=[False,True]).codes\ntest_data['Price']=test_data['Price']*test_data['Currency']\ntest_data.drop(['Released','Last Updated','Currency'],inplace=True,axis=1)","9d952d16":"test_data.info()","b133828b":"y_test=test_data.iloc[:,2]\nx_test=test_data.drop(['Rating','Minimum Installs','Maximum Installs','App Name'],axis=1)\n\n\ny_train=train_data.iloc[:,2]\nx_train=train_data.drop(['Rating','Minimum Installs','Maximum Installs','App Name'],axis=1)","75069657":"\nmodel_1=LinearRegression()\nmodel_1.fit(x_train,y_train)\nprint('r2_score of training data',r2_score(model_1.predict(x_train).round(1),y_train))\nprint('r2_score of testing data',r2_score(model_1.predict(x_test).round(1),y_test))","a5b1f2eb":"\nprint('mean absolute error of training data',mean_absolute_error(model_1.predict(x_train).round(1),y_train))\nprint('mean absolute error of testing data',mean_absolute_error(model_1.predict(x_test).round(1),y_test))","29065d80":"model_2=DecisionTreeRegressor(max_depth=9)\nmodel_2.fit(x_train,y_train)\nprint('r2_score of training data',r2_score(model_2.predict(x_train).round(1),y_train))\nprint('r2_score of testing data',r2_score(model_2.predict(x_test).round(1),y_test))","eecc65a9":"\nprint('mean absolute error of training data',mean_absolute_error(model_2.predict(x_train).round(1),y_train))\nprint('mean absolute error of testing data',mean_absolute_error(model_2.predict(x_test).round(1),y_test))","e199c041":"model_3=RandomForestRegressor(max_depth=9)\nmodel_3.fit(x_train,y_train)\nprint('r2_score of training data',r2_score(model_3.predict(x_train).round(1),y_train))\nprint('r2_score of testing data',r2_score(model_3.predict(x_test).round(1),y_test))","f6276177":"\nprint('mean absolute error of training data',mean_absolute_error(model_3.predict(x_train).round(1),y_train))\nprint('mean absolute error of testing data',mean_absolute_error(model_3.predict(x_test).round(1),y_test))","c228571c":"from xgboost import XGBRegressor\nmodel_4=XGBRegressor()\nmodel_4.fit(x_train,y_train)\nprint('r2_score of training data',r2_score(model_4.predict(x_train).round(1),y_train))\nprint('r2_score of testing data',r2_score(model_4.predict(x_test).round(1),y_test))","027bf8ed":"\nprint('mean absolute error of training data',mean_absolute_error(model_4.predict(x_train).round(1),y_train))\nprint('mean absolute error of testing data',mean_absolute_error(model_4.predict(x_test).round(1),y_test))","09a6b4a1":"model_5=Sequential()\nmodel_5.add(Dense(1,input_shape=x_train.shape))","27929c56":"\nmodel_5.compile(optimizer=keras.optimizers.RMSprop(.001),loss='mse',metrics=[keras.metrics.mean_absolute_error])\nr=model_5.fit(x_train,y_train,validation_data=(x_test,y_test),epochs=5,batch_size=100)","db4dfc90":"plt.plot(r.history['loss'])\nplt.plot(r.history['val_loss'])","79518421":"\nprint('r2_score of training data',r2_score(model_5.predict(x_train),y_train))\nprint('r2_score of testing data',r2_score(model_5.predict(x_test),y_test))","ef0d59a2":"### Multipling Price Column with currency to get the actual Price in INR","8b40e9a1":"<h1 style=\"background-color:#00ff00;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">ANN <\/h1>\n<a id=22><\/a>","f4cb9951":"<h1 style=\"background-color:#00ff00;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Linear Regression <\/h1>\n<a id=19><\/a>","881bf12d":"<h1 style=\"background-color:#f660ab;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 10px 10px;padding: 3px\">If you liked this notebook or it helped you, please upvote!!<\/h1>","67c57a8c":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Model Selection <\/h1>\n<a id=18><\/a>","e315ac8d":"<h1 style=\"background-color:#00ff00;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Decision Tree Regression <\/h1>\n<a id=20><\/a>","2f6a9016":"<center><img src=\"https:\/\/www.freepnglogos.com\/uploads\/google-play-png-logo\/google-play-services-png-logo-3.png\",height='500',width='600'><\/center>","d8db2cc6":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Editors Choice<\/h1>\n<a id=14><\/a>","b2528e3e":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Last Updated Date<\/h1>\n<a id=16><\/a>","d23dffb8":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Importing modules and Loading datasets<\/h1>\n<a id=1><\/a>","aef36eda":"### Here it is found that XG Boost and Random Forest are some of the better techniques that could be used to predict output.","1d73a6ac":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Released Date<\/h1>\n<a id=15><\/a>","8ffb2299":"### Function to convert every size of App to kb.","7672deca":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Minimum Android Version<\/h1>\n<a id=7><\/a>","26a2c835":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Dealing with missing values<\/h1>\n<a id=3><\/a>","d8948cd6":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Content Rating<\/h1>\n<a id=6><\/a>","c4ff5348":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Train test spliting of data<\/h1>\n<a id=2><\/a>","e11f318a":"### The least important columns like App Id, Developer Website,etc are deleted.","457dc397":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Conclusion<\/h1>\n<a id=22><\/a>","315f3700":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Is App is Free?<\/h1>\n<a id=11><\/a>","33e60125":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Categorical type columns<\/h1>\n<a id=4><\/a>","33c41f39":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Is App is Ad Supported?<\/h1>\n<a id=12><\/a>","d75bf567":"<h1 style=\"background-color:#800080;font-family:newtimeroman;font-size:550%;text-align:center;border-radius: 15px 50px;padding: 5px\">Google PlayStore<\/h1>\n","d7060325":"<h1 style=\"background-color:#00ff00;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Random Forest Regression <\/h1>\n<a id=21><\/a>","95ff9347":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Categories Of App<\/h1>\n<a id=8><\/a>","9d9b740b":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Currency<\/h1>\n<a id=9><\/a>","bafd4fd7":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Boolean Columns<\/h1>\n<a id=10><\/a>","73970b3d":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Size of App<\/h1>\n<a id=5><\/a>","bd76cc2b":"<h1 style=\"background-color:#00ff00;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">XGBRegression <\/h1>\n<a id=21><\/a>","621be7d3":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Installs<\/h1>\n<a id=5><\/a>","fd97b559":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Cleaning Test Data <\/h1>\n<a id=17><\/a>","186300fb":"<h1 style=\"background-color:#00ffff;font-family:newtimeroman;font-size:400%;text-align:center;border-radius: 15px 50px;padding: 3px\">Is App is In Purchases?<\/h1>\n<a id=13><\/a>"}}