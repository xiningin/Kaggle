{"cell_type":{"39fd8859":"code","d43f8584":"code","4e398839":"code","23129aba":"code","bca8ef66":"code","c8d0310a":"code","79b3f759":"code","59585588":"code","fd699fe7":"code","caba6be9":"code","87fec323":"code","46a9b0c6":"code","f6e4a126":"code","a48d1778":"code","e510c35c":"markdown","525ee7c6":"markdown","1fbf627b":"markdown","2e57c818":"markdown","648d81bf":"markdown","553ec07f":"markdown","520b6b59":"markdown","33a18d2b":"markdown","1495be71":"markdown"},"source":{"39fd8859":"#Importing libraries\nimport pandas as pd\nimport numpy as np\nimport datetime","d43f8584":"#Loading the dataset\ndf_us_covid19=pd.read_csv('..\/input\/usa-covid19-vaccinations\/us_state_vaccinations.csv')","4e398839":"#Checking top 5 rows\ndf_us_covid19.head()","23129aba":"df_us_covid19.info()","bca8ef66":"#Unique count of location\ndf_us_covid19['location'].nunique()","c8d0310a":"#Unique values of location\ndf_us_covid19['location'].unique()","79b3f759":"#Dropping Non States entries\nnon_states = df_us_covid19['location'].isin(['Bureau of Prisons', 'Dept of Defense', 'United States', 'Veterans Health'])\ndf_us_covid19 = df_us_covid19[~non_states]","59585588":"#Except date and location all other fields are Numbers, hence replacing Null with zero\ndf_us_covid19=df_us_covid19.fillna(0)","fd699fe7":"#Max date in the dataset and calculating last 7 days in data\ndf_us_covid19['date_modified']=pd.to_datetime(df_us_covid19['date'])\nmax_date=df_us_covid19['date_modified'].max()\nprint(max_date)\nmin_date=max_date-pd.to_timedelta(\"6day\")\nprint(min_date)","caba6be9":"#Filtering dataset for last 7 days\ndf_us_covid19_7days=df_us_covid19.loc[(df_us_covid19['date_modified'] >= min_date) & (df_us_covid19['date_modified'] <= max_date)]","87fec323":"#Checking Min and Max of filtered dataset\nprint(df_us_covid19_7days['date_modified'].max())\nprint(df_us_covid19_7days['date_modified'].min())","46a9b0c6":"df_A=df_us_covid19_7days.groupby('location')['total_distributed'].sum().reset_index()\ndf_A.sort_values('total_distributed',ascending=False).head(10)","f6e4a126":"df_B=df_us_covid19_7days.groupby('location')['distributed_per_hundred'].sum().reset_index()\ndf_B.sort_values('distributed_per_hundred',ascending=False).head(10)","a48d1778":"#Thank you!","e510c35c":"California state distributed the most vaccines for past 7 days.\n\nAmerican Samoa state distributed the most vaccines per capita for past 7 days.","525ee7c6":"# (A) a list of the top 10 states that distributed the most vaccines total for last 7 days","1fbf627b":"# (B) a list of the top 10 states that distributed the most vaccines per capita for last 7 days","2e57c818":"**California has distributed most vaccines in past 7 days**","648d81bf":"**California has distributed most vaccines per hundred in past 7 days**","553ec07f":"As we do not have population available, taking distributed_per_hundred as proxy for per capita","520b6b59":"This notebook contains code to identify US states which distributed maximum numbers of Vaccines for past 7 days:\n\n* (A) a list of the top 10 states that distributed the most vaccines total\n* (B) a list of the top 10 states that distributed the most vaccines per capita.","33a18d2b":"It seems below are not US states but are also part of location column, dropping it for the analysis.\n'Bureau of Prisons',\n'Dept of Defense',\n'United States',\n'Veterans Health'","1495be71":"# Covid-19 Vaccination distribution in last week"}}