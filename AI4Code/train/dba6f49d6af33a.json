{"cell_type":{"5b62f318":"code","9690b544":"code","47233896":"code","ea169253":"code","993c883d":"code","9d2f4f89":"code","d01822fd":"code","4c9b511e":"code","da7207fa":"code","ef5b6f61":"markdown","11fd5c7e":"markdown","76015281":"markdown","4d8be9d4":"markdown","184b6f1d":"markdown","be82e213":"markdown","e61ff378":"markdown","92fcf3fb":"markdown","b505b002":"markdown","1bb321fc":"markdown","ada0f42b":"markdown","27e9b145":"markdown","9c4db715":"markdown","c66f0e0f":"markdown"},"source":{"5b62f318":"# import alle libraries\nimport pandas as pd \nimport plotly.express as px \nimport plotly.graph_objects as go","9690b544":"# import data \ndata = pd.read_csv('\/kaggle\/input\/top-250-football-transfers-from-2000-to-2018\/top250-00-19.csv')\n\n# display first five rows\ndata.head()","47233896":"# get all unique teams\nteams = data['Team_from'].unique()\n\n# create new dataset for later\ndf_teams = pd.DataFrame({'Team_name': [], 'Income': []})\n\n\nfor team in teams:\n    # calculate the income of each team\n    temp_out = data[data['Team_from']== team].Transfer_fee.sum()\n    # save values in a temorarily dataframe\n    df_temp = pd.DataFrame({'Team_name': [team], 'Income': [temp_out]})\n    # append df_temp to df_teams\n    df_teams = df_teams.append(df_temp)\n\n# sort df by income\ndf_teams = df_teams.sort_values(by='Income', ascending = False)\n\n# plot as horizontal-bar \nfig = px.bar(df_teams.head(25), x = 'Income', y = 'Team_name', orientation = 'h', height = 1080, width = 1080)\nfig.update_layout(title='Teams with most Transfer-fee income')\nfig.show()","ea169253":"# save unique leagues\nleagues = data['League_to'].unique()\n\n# create new dataframe for later\ndf_leagues = pd.DataFrame({'League': [], 'Income':[]})\n\nfor league in leagues:\n    # calculate income for each league\n    temp_out = data[data['League_from']==league].Transfer_fee.sum()\n    # temp df \n    df_temp = pd.DataFrame({'League': [league], 'Income': [temp_out]})\n    # append df_temp to main df\n    df_leagues = df_leagues.append(df_temp)\n\n# sort values by income \ndf_leagues = df_leagues.sort_values(by='Income', ascending = False)\n\n#plot income of the top5 leagues\nfig = px.bar(df_leagues.head(), x = 'Income', y = 'League')\nfig.update_layout(title='Leagues with most Transfer-fee income')\n\nfig.show()","993c883d":"# get all unique players\nplayers = data['Name'].unique()\n\n# create new df for later\ndf_player = pd.DataFrame({'Name': [], 'Number_transfers': [], 'Transfer_fees': []})\n\n\nfor player in players:\n    # get number of transfer for each player\n    temp_count = data[data['Name'] == player].shape[0]\n    # calculate transfer-fee for each player\n    temp_trans = data[data['Name'] == player].Transfer_fee.sum()\n    \n    # save values in temp df\n    df_temp = pd.DataFrame({'Name': [player], 'Number_transfers': [temp_count], 'Transfer_fees': [temp_trans]})\n    # save temp df in main df\n    df_player = df_player.append(df_temp)\n\n# cast number of transfers to int\ndf_player['Number_transfers'] = df_player['Number_transfers'].astype(int)\n# sort df by number of transfers\ndf_player = df_player.sort_values(by='Number_transfers', ascending = False)\n\n# print top 10 players\ndf_player.head(10)\n","9d2f4f89":"# plot players with most transfers\nfig = px.bar(df_player.head(15), x='Number_transfers', y='Name', orientation='h')\nfig.update_layout(title='Players with most Transfers')\n\nfig.show()","d01822fd":"# get all rows for the specific player\ndf_zlatan = data[data['Name'] == 'Zlatan Ibrahimovic']\ndf_peter = data[data['Name'] == 'Peter Crouch']\n\n# sort by Age\ndf_zlatan = df_zlatan.sort_values(by='Age')\ndf_peter = df_peter.sort_values(by='Age')\n\n# create plot for both players\nfig = go.Figure([\n                go.Scatter(name='Zlatan Imbrahimovic', x = df_zlatan.Age, y = df_zlatan.Transfer_fee ),\n                go.Scatter(name='Peter Crouch', x = df_peter.Age, y= df_peter.Transfer_fee)\n                ])\n\nfig.update_layout(title='Evolution of transfer-fee for Zlatan Ibrahimovic and Peter Crouch')\nfig.show()\n","4c9b511e":"# sort df by tranfer-fee\ndf_player = df_player.sort_values(by='Transfer_fees', ascending = False)\n\nfig = px.bar(df_player.head(15), x = 'Transfer_fees', y = 'Name', orientation ='h')\nfig.update_layout(title='Players with most Transfer-fees. Combinded over Transfers')\nfig.show()","da7207fa":"# delete rows where Age = 0\ndf = data.drop(data[data['Age'] == 0].index)\n\nfig = px.scatter(df, x = 'Age', y = 'Transfer_fee')\nfig.update_layout(title='Overview for Age and Transfer-fee')\nfig.show()","ef5b6f61":"# League income","11fd5c7e":"# Old = Gold ? ","76015281":"Zlatan Ibrahimovic and Peter Crouch had their highest Transfer-fee at age of 27.","4d8be9d4":"# Players with most Transfers","184b6f1d":"# Visualization of Transfers","be82e213":"Monaco has the biggest income of all Teams. They made $948 Million dollar. ","e61ff378":"Neymar has combined the biggest Tranfer-fee of all players. With only two Transfers, clubs paid more than $310 Million Dollar.","92fcf3fb":"# Players with most Transfer-fees (combinded)","b505b002":"The Premier League has the biggest income with $7.25 Billion dollar.","1bb321fc":"With 8 transfers, the player 'Alex' has the most of all players","ada0f42b":"# Evolution of two Transfer-fees","27e9b145":"# Team income","9c4db715":"As you can see, the transfers all good distributed by age and Transfer-fee. \nThere are three outliers I would like to talk about: \n\n- The youngest with a big Transfer-Fee: Kylian Mbapp\u00e9, from Monaco to Paris SG -> $135 Million Dollar\n\n- The highest with a big Transfer-Fee: Neymar, from FC Barcelona to Paris SG -> $222 Million Dollar\n\n- The oldest with a big Transfer-Fee: Cristiano Ronaldo, from Real Madrid to Juventus -> $117 Million Dollar","c66f0e0f":"# Import data"}}