{"cell_type":{"a62562eb":"code","a6298df6":"code","ef9d037b":"code","4907bb0c":"code","580b0204":"code","cd1cb2e0":"code","070bd6a0":"code","14d7020c":"code","fee99acc":"code","88ecc170":"code","64c83ced":"code","d7621744":"code","2b2719a2":"code","3f6fb4a0":"code","951c68ad":"markdown","f1269b91":"markdown","d9fb2bdc":"markdown"},"source":{"a62562eb":"import re\nimport numpy as np \nimport pandas as pd \nimport plotly_express as px\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","a6298df6":"data = pd.read_csv('\/kaggle\/input\/data-analyst-jobs\/DataAnalyst.csv')\ndata.sample(5)","ef9d037b":"data.info()","4907bb0c":"data.shape[0] - data.count() # one missing value in the 'Company Name' column","580b0204":"data[data['Company Name'].isnull()] # to drop off this data point","cd1cb2e0":"data.dropna(subset=['Company Name'], inplace=True) ","070bd6a0":"# to extract the salary information from the 'Salary Estimate' column\npattern = re.compile('\\d+')\ndata['salary_estimates_extract'] = data['Salary Estimate'].apply(lambda x : pattern.findall(str(x)))\n\ndata['salary_lower_band'] = data['salary_estimates_extract'].apply(lambda x : x[0])\ndata['salary_upper_band'] = data['salary_estimates_extract'].apply(lambda x : x[-1])\n\ndata['salary_lower_band'] = data['salary_lower_band'].astype('int32')\ndata['salary_upper_band'] = data['salary_upper_band'].astype('int32')\n\ndata['est_median_salary'] = (data['salary_upper_band'] + data['salary_lower_band']) \/ 2","14d7020c":"data['Company Name'] = data['Company Name'].str.split('\\n').apply(lambda x : x[0])\ndata['company_years_of_exp'] = 2020 - data['Founded']\ndata['State'] = data['Location'].apply(lambda x: x[-2:])","fee99acc":"print('This is the prep dataset to be used for analysis and visualization')\ndata.head(5)","88ecc170":"data_ = data[data['Industry'] != '-1']\nx = data_.groupby('Industry').agg({'est_median_salary': np.mean, 'salary_lower_band': min, 'salary_upper_band': max}).\\\n        rename(columns={'est_median_salary':'Avg. Median Salary', 'salary_lower_band': 'Lowest Salary', 'salary_upper_band': 'Highest Salary'}).reset_index().round(1)\n\nprint('Top 10 Average Estimated Median Salary by Industry')\nprint()\nprint(x.sort_values(by='Avg. Median Salary', ascending=False).head(10).to_string(index=False))","64c83ced":"data_ = data[data['Industry'] != '-1']\nx = data_.groupby('Industry').agg({'est_median_salary': np.mean, 'salary_lower_band': min, 'salary_upper_band': max}).\\\n        rename(columns={'est_median_salary':'Avg. Median Salary', 'salary_lower_band': 'Lowest Salary', 'salary_upper_band': 'Highest Salary'}).reset_index().round(1)\n\nprint('Top 10 Highest Salary by Industry')\nprint()\nprint(x.sort_values(by= 'Highest Salary', ascending=False).head(10).to_string(index=False))","d7621744":"x = data_.groupby('State').agg({'est_median_salary': np.mean, 'salary_lower_band': min, 'salary_upper_band': max}).\\\n        rename(columns={'est_median_salary':'Avg. Median Salary', 'salary_lower_band': 'Lowest Salary', 'salary_upper_band': 'Highest Salary'}).reset_index().round(1)\n\nprint('Top 10 Average Estimated Median Salary by State')\nprint()\nprint(x.sort_values(by='Avg. Median Salary', ascending=False).head(10).to_string(index=False))","2b2719a2":"x = data_.groupby('Location').agg({'est_median_salary': np.mean, 'salary_lower_band': min, 'salary_upper_band': max}).\\\n        rename(columns={'est_median_salary':'Avg. Median Salary', 'salary_lower_band': 'Lowest Salary', 'salary_upper_band': 'Highest Salary'}).reset_index().round(1)\n\nprint('Top 10 Average Estimated Median Salary by Location')\nprint()\nprint(x.sort_values(by='Avg. Median Salary', ascending=False).head(10).to_string(index=False))","3f6fb4a0":"data_ = data[data['Rating']  != -1]\nfig = px.scatter(data_, x= 'Rating', y= 'est_median_salary', trendline='ols', hover_data = ['Job Title', 'Location', 'Industry', 'Founded'], marginal_x= 'histogram')\n\n\nfig.update_layout(title='Relationship between Rating and Salary')\nfig.update_xaxes(showgrid = False)\nfig.update_yaxes(showgrid = False)\n\nprint('Observations:')\nprint('#1. Ratings does not seems to have an impact on Salary')\nprint('#2. Most ratings are between 3.5 to 4')\nfig.show()","951c68ad":"# Data Insights","f1269b91":"# Basic Exploration and Wrangling","d9fb2bdc":"# Relationship between Ratings and Salary"}}