{"cell_type":{"572387ed":"code","95c699d2":"code","d867590c":"code","e2819783":"code","df1c74a7":"code","ab297f82":"code","09db4efe":"code","f44aaea6":"code","81bb9cad":"code","de87f701":"code","d7e88e3f":"code","36b8591f":"code","73c580b1":"code","35a5a3e7":"code","f5a157d1":"code","1181857c":"code","ac58b2d9":"code","4ed8b25e":"markdown","3007e080":"markdown","ca328294":"markdown","9310b71a":"markdown","0c50d9f8":"markdown","12c039c1":"markdown","5d0c1407":"markdown","2be8e071":"markdown","5040815c":"markdown","7c203787":"markdown","68ec8e7a":"markdown","ddf1f022":"markdown","b2b384e2":"markdown","73dada28":"markdown","d8f6dda3":"markdown"},"source":{"572387ed":"\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","95c699d2":"#importing libraries\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport seaborn as sb\nimport datetime\n#Data preprocessing(cleaning)\ndef isfloat(value):\n    try:\n        float(value)\n        return True\n    except:\n        return False\ndataset = pd.read_csv('\/kaggle\/input\/astronauts\/astronauts.csv')\ndataset.head()\ndataset.describe()\n#group\nfor index,row in dataset['Group'].iteritems():\n    if(isfloat(row)):\n        if(float(row)<1.0):\n            dataset['Group'].loc[index]=np.NaN\n        else:\n            dataset['Group'].loc[index]=row\n            \n    else:\n        dataset['Group'].loc[index]=np.NaN\ngrp=dataset['Group']\nm=np.mean(grp)\ndataset.Group=dataset.Group.fillna(int(m))\n#year\nfor index,row in dataset['Year'].iteritems():\n    if(isfloat(row)):\n        if(float(row)<1.0):\n            dataset['Year'].loc[index]=np.NaN\n        else:\n            dataset['Year'].loc[index]=row\n            \n    else:\n        dataset['Year'].loc[index]=np.NaN\ngrp=dataset['Year']\nm=np.mean(grp)\ndataset.Year=dataset.Year.fillna(int(m))\n#date\nfor index,row in dataset['Birth Date'].iteritems():\n    if(row[2]!='-'):\n        datetimeobject = datetime.datetime.strptime(row,'%m\/%d\/%Y')\n        newformat = datetimeobject.strftime('%d-%m-%Y')\n        dataset['Birth Date'].loc[index]=newformat\n#Military Rank\ndataset['Military Rank']=dataset['Military Rank'].fillna('Not Applicable')\ndataset['Military Branch']=dataset['Military Branch'].fillna('Not Applicable')\n#Courses\nfrom collections import Counter\ndata = Counter(dataset['Undergraduate Major'])\ndataset['Undergraduate Major']=dataset['Undergraduate Major'].fillna(data.most_common(1)[0][0])\ndata1 = Counter(dataset['Graduate Major'])\n#print(data.most_common(1))\n#nan=59\ndataset['Graduate Major']=dataset['Graduate Major'].fillna(data1.most_common(2)[1][0])\n#Missions\ndataset['Missions']=dataset['Missions'].fillna('No Missions')\n#death date\ndataset['Death Date'][281]='04\/23\/2001'\nfor index,row in dataset['Death Date'].iteritems():\n    if( str(row)[2]=='\/'):\n        datetimeobject = datetime.datetime.strptime(row,'%m\/%d\/%Y')\n        newformat = datetimeobject.strftime('%d-%m-%Y')\n        dataset['Death Date'].loc[index]=newformat\ndataset['Death Date']=dataset['Death Date'].fillna('Not Applicable')   \ndataset['Death Mission']=dataset['Death Mission'].fillna('Not Applicable') ","d867590c":"plt.figure(figsize=(9,9))\ndataset['Space Flight (hr)'].sample(50).plot.bar()\nplt.xlabel('Index')\nplt.ylabel('Time in Space(hrs)')\nplt.title('Astronauts Space flight hours')\nplt.show()\nfor index,row in dataset['Space Flight (hr)'].iteritems():\n    m=max(dataset['Space Flight (hr)'])\n    if(int(row)==m):\n        print(\"Most time in space:\",dataset['Name'][index])\n        print(index)","e2819783":"Univ = Counter(dataset['Alma Mater'])\nprint('Most astronauts are from:',Univ.most_common(1)[0][0],Univ.most_common(1)[0][1])\ncnt=dataset['Alma Mater'].value_counts()\nplt.figure(figsize=(12,15))\nplt.title('CountPlot')\nUni=sb.countplot(y=dataset['Alma Mater'],data=dataset['Alma Mater'],order=cnt.nlargest(30).index,palette='GnBu_d')\nplt.show()","df1c74a7":"df=pd.read_csv('\/kaggle\/input\/astronauts\/astronauts.csv')\nSub2=Counter(dataset['Graduate Major'])\nprint(\"Most Common subject in Graduate: \",Sub2.most_common(1)[0][0])\nCollegeCount = dataset['Graduate Major'].value_counts()\nplt.figure(figsize=(12,15))\nplt.title('Graduate Major Courses')\nSCount = df['Graduate Major'].value_counts().nlargest(50)\nScnt=df['Undergraduate Major'].value_counts().nlargest(50)\nSub=sb.countplot(y=df['Graduate Major'],data=df['Graduate Major'],\n    order=SCount.nlargest(30).index)","ab297f82":"Sub1=Counter(dataset['Undergraduate Major'])\nprint(\"Most Common subject in Undergraduate:\",Sub1.most_common(1)[0][0])\nplt.figure(figsize=(12,15))\nplt.title('Undergraduate Major Courses')\nSub1=sb.countplot(y=df['Undergraduate Major'],data=df['Undergraduate Major'],\n                  order=Scnt.nlargest(30).index,palette='rocket')\n","09db4efe":"cnt1=0\ncnt2=0\nfor index,row in dataset['Military Rank'].iteritems():\n    if(row=='Not Applicable'):\n        cnt1+=1\n    else:\n        cnt2+=1\nprint('From Military:',cnt2,'->',(cnt2*100\/(cnt1+cnt2)),'%')\nprint('Not from Military:',cnt1,'->',(cnt1*100\/(cnt1+cnt2)),'%')\nm=['From Military Service','Not from Military Service']\ny1=[cnt2,cnt1]        \nplt.bar(m,y1,color='#6ea171')\nplt.ylabel('No. of astronauts')\nplt.show()","f44aaea6":"#Which branch?\ndata = Counter(dataset['Military Branch'])\nprint(data)\nlists = sorted(data.items())\nx, y = zip(*lists) \nplt.barh(x, y,color='purple')\nplt.xlabel(\"No. of astronauts\")\nplt.show()\n","81bb9cad":"\nplt.figure(figsize=(10,5))\nRankGraph = sb.countplot(y=df[\"Military Rank\"], data=df['Military Rank'],\n                   order=df['Military Rank'].value_counts().index,\n                   palette='deep')\nplt.show()","de87f701":"Gender = dataset['Gender'].value_counts()\nprint(Gender)\nprint(\"Sex Ratio of NASA Astronauts(M:F):\",Gender[0]\/Gender[1],\":1\")\nplt.figure(figsize=(8,8))\nplt.pie(Gender, labels=Gender.index, autopct='%1.1f%%', shadow=True ,startangle=180)\nplt.show()","d7e88e3f":"#Data Grouping\nd=pd.crosstab(dataset['Status'],dataset['Gender'],margins=True)\nprint(d)\nwidth = 0.35\ni=np.arange(len(d)-1)\nm=d['Male'][:len(d)-1]\nf=d['Female'][:len(d)-1]\nplt.bar(i,m, width, label='Men')\nplt.bar(i+width,f, width, label='Women')\nplt.ylabel('Number of astronauts')\nplt.title('Grouped Bar Plot')\nplt.xticks(i+ width \/ 2, ('Active', 'Deceased', 'Management','Retired'))\nplt.legend(loc='best')\nplt.show()","36b8591f":"male = []\nmale_military = []\n\nfemale = []\nfemale_military = []\n\ngender = df.loc[:,'Gender']\ndf['Military Rank'].fillna(0)\nm= df['Military Rank'].apply(lambda x:0 if type(x)==float else 1)\n\nfor i in range(len(gender)):\n    if gender[i] == 'Male':\n        male.append(i)\n    else:\n        female.append(i)\n\nfor i in range(len(male)):\n    for j in range(len(m)):\n        if male[i] == j:\n            male_military.append(m[j])\n            \nfor k in range(len(female)):\n    for l in range(len(m)):\n        if female[k] == l:\n            female_military.append(m[l])\n\nsum_male_mil = (male_military.count(0),male_military.count(1))\nsum_fem_mil = (female_military.count(0),female_military.count(1))\n\n\nfig = plt.figure(figsize=(12,5))\nax1 = plt.subplot2grid((1,2),(0,0))\nplt.pie(sum_male_mil,colors= (\"blue\",\"orange\"),shadow=True,labels=(\"Non-Military Service\",\"Military Service\"),autopct='%1.1f%%')\nplt.title('Male Astronauts in Military Service')\nax1 = plt.subplot2grid((1,2),(0,1))\nplt.pie(sum_fem_mil,colors= (\"blue\",\"orange\"),shadow=True,labels=(\"Non-Military Service\",\"Military Service\"),autopct='%1.1f%%')\nplt.title('Female Astronauts in Military Service')\nplt.show()","73c580b1":"from scipy import stats\nimport numpy as np\nz = np.abs(stats.zscore(dataset[\"Space Flight (hr)\"]))\nthreshold=3\nsf=[]\nfor index in range(len(z)):\n    if(z[index]>3):\n        sf.append(index)\nprint(\"Outliers for Space Flight (hr) are:\")\nfor i in sf:\n    print(dataset['Name'][i],\":\",dataset[\"Space Flight (hr)\"][i])\ndataset.boxplot(column=\"Space Flight (hr)\",by=\"Status\", figsize=(18, 8),patch_artist=True)\nplt.ylabel('Space Flight (hr)')\nplt.show()","35a5a3e7":"z = np.abs(stats.zscore(dataset[\"Space Flight (hr)\"]))\nthreshold=3\nsw=[]\nfor index in range(len(z)):\n    if(z[index]>3):\n        sw.append(index)\nprint(\"Outliers for Space Walks (hr) are:\")\nfor i in sw:\n    print(dataset['Name'][i],\":\",dataset[\"Space Walks (hr)\"][i])\nb=sb.boxplot(x=\"Space Walks (hr)\",y=\"Status\",data=dataset)\nplt.show()","f5a157d1":"data = Counter(dataset['Missions'])\nprint(data.most_common(1)[0][0],\":\",data.most_common(1)[0][1])\nprint(data.most_common(2)[1][0],\":\",data.most_common(2)[1][1])\nprint('Hence',data.most_common(2)[1][0],'has more astronauts than other missions')\nlists = (data.items())\n\nx, y = zip(*lists)\\\n\nplt.barh(x[:10], y[:10])\nplt.xlabel('Count')\nplt.show()","1181857c":"plt.scatter(dataset['Space Walks (hr)'],dataset['Space Flight (hr)'],color='red')\nplt.title(\"Scatter Plot\")\nplt.xlabel('Space Walks(hr)')\nplt.ylabel('Space Flights(hr)')\nplt.show()\nr,p=stats.pearsonr(dataset['Space Flight (hr)'],dataset['Space Walks (hr)'])\nprint('Pearson coefficient is',r)","ac58b2d9":"from scipy import stats\nfrom statsmodels.stats import weightstats as stests\nimport math\nprint('Prediction using Boxplot-1:Active astronauts have spent most time in space than others')\nprint('H0(Null hypothesis):Astronauts other than active have spent most time in space')\nprint('H1(Alternate hypothesis):Active astronauts have spent most time in space')\na=[]\nr=[]\nactive=dataset[dataset['Status']=='Active']\nrem=dataset[dataset['Status']!='Active']\ndef samp(size,number_of_samp):\n    for i in range(1,number_of_samp+1):\n        ac=active['Space Flight (hr)'].sample(size)\n        re=rem['Space Flight (hr)'].sample(size)\n        a.append(np.mean(ac))\n        r.append(np.mean(re))\n    u1=np.mean(a)\n    u2=np.mean(r)\n    s1=np.std(a)\n    s2=np.std(r)\n    print(\"H0:Mean of active-Mean of remaining <=0\")\n    print(\"H1:Mean of active-Mean of remaining >0\")\n    plt.hist(a)\n    plt.title('Sample of Active Astronauts')\n    plt.xlabel('Space Flight (hr)')\n    plt.ylabel('Index')\n    plt.show()\n    plt.hist(r)\n    plt.title('Sample of Remaining Astronauts')\n    plt.xlabel('Space Flight (hr)')\n    plt.ylabel('Index')\n    plt.show()\n    ztest,pvalue = stests.ztest(x1=a,x2=r,value=0)\n    pvalue=(stats.norm.sf(ztest))\n    print(pvalue)\n    print(\"Z Score:\",ztest)\n    print('P value:',\"{:.10f}\".format(pvalue))\n\n    if pvalue<0.05:\n        print(\"Reject null hypothesis\")\n        print(\"H1 is True\")\n        print(\"Active astronauts have spent most time in space than others\")\n    else:\n        print(\"Accept null hypothesis\")\n\nsamp(40,40)\nsamp(30,30)","4ed8b25e":"**CONCLUSION:Active astronauts have spent most time in space than others**","3007e080":"Which mission has more astronauts?","ca328294":"Which branch in military has most astronaunts?","9310b71a":"Which American Astronaut has spent the most time in Space?","0c50d9f8":"Is there a correlation between space walks and space flights?","12c039c1":"Has most astronauts served in the military?","5d0c1407":"Find the outliners in dataset","2be8e071":"What rank did the astronauts achieve in the Military?","5040815c":"Data Preprocessing","7c203787":"**Exploratory NASA Astronauts, 1959-Present**","68ec8e7a":"What subject did the most astronauts major in at college?","ddf1f022":"What is percentage of male and female in military?","b2b384e2":"What university has produced the most astronauts?","73dada28":"Find the sex ratio","d8f6dda3":"**HYPOTHESIS TESTING**"}}