{"cell_type":{"52571ad5":"code","a9748fff":"code","09bda9ae":"code","677f5af0":"code","9830936e":"code","8342ed8d":"code","dd7d8af0":"code","9f8e2aa1":"code","8fc070fd":"code","c757a0a0":"code","75de6c55":"code","7829d91e":"code","dead782a":"code","f7489f5a":"code","eac611f5":"code","2f8597c8":"code","8fc0276f":"code","54816658":"code","ee1653f2":"code","fa239813":"code","9af4be6a":"code","9be7a0a2":"code","f463db11":"code","9bc16287":"code","87c56434":"code","16c35de3":"code","b1b55cbf":"code","f1f0142d":"code","08b03fa8":"code","0d851bd9":"code","6067f6e2":"code","edab37a1":"code","16fdb7b0":"code","5eb5ec00":"code","e8eaeae0":"code","32ded22c":"code","57cd1a8f":"code","f5be4aeb":"code","3a273b4b":"code","cb42a7f9":"code","fe9920c5":"code","51dc8877":"code","327c646e":"code","cbfdc628":"markdown","54816c16":"markdown","f3c185e2":"markdown","6df62917":"markdown","2d4818e1":"markdown","a4df7a95":"markdown","5cd92a3f":"markdown","029b37e6":"markdown","1439a183":"markdown","f330c3e5":"markdown","7020cb50":"markdown","09356016":"markdown","39a0aed8":"markdown","d9db1b4a":"markdown","0de8f129":"markdown","ef61216a":"markdown"},"source":{"52571ad5":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","a9748fff":"import seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline","09bda9ae":"df=pd.read_csv('..\/input\/zomato.csv')","677f5af0":"df.isnull().sum()","9830936e":"#removing redundant data based on address and name\ndf.head()","8342ed8d":"df[df['name']=='Onesta']","dd7d8af0":"#removing redundant data based on address and name\ndf=df.drop_duplicates(subset=['address','name'],keep='last')","9f8e2aa1":"#fill NaN in the rating column\ndf['Rate']=df['rate'].fillna('3.0\/5',inplace=True)","8fc070fd":"#Rating is 4.1\/5 we take 4.1 as string then convert it to float\ndf['Rating']=df['rate'].map(lambda x: str(x)[0:3])\ndf['Rating']=pd.to_numeric(df.Rating, errors='coerce')","c757a0a0":"#converting average price of 2 person to float\ndf=df.rename(columns={'approx_cost(for two people)':'cost'})\ndf['Ncost']=df['cost'].str.replace(',','')\ndf['Ncost']=pd.to_numeric(df.Ncost,errors='coerce')\ndf.isnull().sum()","75de6c55":"#Dropping columns not necessary.\ndf=df.drop(['phone','cost','rate'],axis=1)\ndf=df.drop(['url','Rate'],axis=1)\ndf=df.drop(['menu_item'],axis=1)","7829d91e":"print(df['listed_in(city)'].nunique())\nprint(df['location'].nunique())","dead782a":"df=df.drop('listed_in(city)',axis=1)","f7489f5a":"df['location'].value_counts()","eac611f5":"df.hist(column='Ncost',bins=30)","2f8597c8":"plt.figure(figsize=(6,5))\nsns.countplot(x='location',data=df,order=df.location.value_counts().iloc[:5].index,palette='rainbow')\nplt.xticks(rotation=90)","8fc0276f":"df2=df[df['Rating']>4.4]","54816658":"df2.shape\n#195 restraunts hace ","ee1653f2":"plt.figure(figsize=(6,5))\nsns.countplot(x='location',data=df2,order=df2.location.value_counts().iloc[:5].index)\nplt.xticks(rotation=90)","fa239813":"#Top 7 rated restraunts\ndf=df.sort_values('votes',ascending=False)\nfl=df[:5]\nplt.figure(figsize=(10,10))\n\nx=df['Rating']\ny=df['votes']\nplt.scatter(x,y,label='Best Restraunts In Bangalore',marker='o')\n\nlabel=list(fl['name'])\nx=list(fl['Rating'])\ny=list(fl['votes'])\nfor i in range(len(label)):\n    plt.annotate(label[i],(x[i],y[i]),ha='right')\nplt.xlabel('Average Rating')\nplt.ylabel('No of Votes')","9af4be6a":"df['location'].value_counts()\nloc=['Whitefield','BTM','Electronic City','HSR','Marathahalli','JP Nagar','Jayanagar','Banashankari','Koramangala 5th Block','Basavanagudi']","9be7a0a2":"df3=df\nareacost=pd.DataFrame(columns=['Area','Avg'])\nfor i in range(len(loc)):\n    t3=df3[df3['location']==loc[i]]\n    areacost.loc[i]=(loc[i],t3['Ncost'].mean())\nareacost=areacost.sort_values('Avg')","f463db11":"areacost.head()","9bc16287":"plt.figure(figsize=(10,5))\nsns.barplot(x='Area',y='Avg',data=areacost)\nplt.xticks(rotation=90)","87c56434":"df4=df\ndf4=df4.sort_values('Ncost',ascending=False)\nprint(df4[['name','Ncost']].iloc[:5])","16c35de3":"li=np.arange(1.5,5.1,.5)\nratingres=pd.DataFrame(columns=['Rating','Number'])\ndf5=df\nfor i in range(len(li)-1):\n    t5=df5[df5['Rating']>li[i]]\n    t5=t5[t5['Rating']<=li[i+1]]\n    ratingres.loc[i]=(str(li[i])+' - '+str(li[i+1]),len(t5))","b1b55cbf":"ratingres.head()","f1f0142d":"plt.figure(figsize=(10,7))\nsns.barplot(x='Rating',y='Number',data=ratingres)\n#Most are rated between 3-4 which determines they are average.","08b03fa8":"df6=df\n","0d851bd9":"t6=df6.groupby('name').size().to_frame('count').reset_index().sort_values(['count'],ascending=False)","6067f6e2":"t6.head()\n","edab37a1":"plt.figure(figsize=(8,6))\ng=sns.barplot(x='name',y='count',data=t6[:10])\nplt.xticks(rotation=90)\n","16fdb7b0":"df7=df\nli=df7.groupby('location').size().to_frame('value_counts').reset_index().sort_values(['value_counts'],ascending=False)","5eb5ec00":"avg_area_rating=pd.DataFrame(columns=['Area','AvgRating','Number'])","e8eaeae0":"for i in range(len(li)):\n    t7=df7[df7['location']==li.iloc[i][0]]\n    if len(t7)>20:\n        avg_area_rating.loc[i]=(li.iloc[i][0],t7['Rating'].mean(),len(t7))","32ded22c":"avg_area_rating=avg_area_rating.sort_values('AvgRating',ascending=False)\navg_area_rating.head(7)","57cd1a8f":"plt.figure(figsize=(10,6))\nsns.barplot(x='Area',y='AvgRating',data=avg_area_rating.iloc[:7])\nplt.xticks(rotation=90)","f5be4aeb":"df8=df\nmin_cost_area=pd.DataFrame(columns=['Data','AvgCost','Number'])","3a273b4b":"    li=df7.groupby('location').size().to_frame('value_counts').reset_index().sort_values(['value_counts'],ascending=False)","cb42a7f9":"for i in range(len(li)):\n    t7=df7[df7['location']==li.iloc[i][0]]\n    if len(t7)>10:\n        min_cost_area.loc[i]=(li.iloc[i][0],t7['Ncost'].mean(),len(t7))","fe9920c5":"min_cost_area=min_cost_area.sort_values('AvgCost',ascending=True)\nmin_cost_area.head()","51dc8877":"    label=[]\n    x=[]\n    y=[]\n    for i in range(10):\n            label.append(min_cost_area.iloc[i][0])\n            x.append(min_cost_area.iloc[i][2])\n            y.append(min_cost_area.iloc[i][1])","327c646e":"plt.figure(figsize=(10,6))\nplt.scatter(x='Number',y='AvgCost',data=min_cost_area[:10])\nplt.xlabel('Number of Restraunts')\nplt.ylabel('Avg Cost')\n\nfor i in range(len(label)):\n    plt.annotate(label[i],(x[i],y[i]),(x[i],y[i]),ha='left')","cbfdc628":"**Creating histogram with 5 areas with most Restraunts.**","54816c16":"**Now we find the area with most Restraunts rated over 4.5 . No surprise as Kormangala comes out on top.**","f3c185e2":"Please provide your feedback in comments.\n**Thank You!**","6df62917":"**Hello folks!******\n\nI started with Machine Learning a couple of months back.In the college summer breaks I came to know about Kaggle and this is my first Kernel.Since this is my first kernel and first real world dataset , I certailny would have made number of mistakes.Point my mistakes so it helps me code better next time :)\n\n**Thing Covered in Kernel:**\n1. Histogram of Average Cost for 2 person\n2. Best Rated Restraunts in Town\n3. Restraunt Count area wise\n4. Area with most Rated Restraunts\n5. Average cost per Area\n6. Number of Restraunts in rating range\n7. Top chains Restraunt\n8. Area with Best Rated Restraunts (Min 20)\n9. Area with least cost for couple (Min 10)","2d4818e1":"**Below we can see two columns with almost same data , we drop one with less data.**","a4df7a95":"**Area with least cost for 2 person min 10 restraunts.**","5cd92a3f":"**Finding Best Restraunts**\n\nIn order to find the best restraunts we need to take care of 2 things :\n1. Rating\n2. Votes\n\nWe can't decide solely on basis of Rating factors. Since there are number of Restraunts with just small difference in rating despite having large difference in number of votes.\nHence taking both factors into consideration , my Top 5 Restraunts are :\n1. Byg Brewski Brewing Company\n2. Toit\n3. Truffles\n4. AB's - Absolute Barbecues\n5. The Black Pearl","029b37e6":"**Basavangudi seems a good place to go on a cheap date :p**","1439a183":"**Now we evaluate average cost for 2 persons in few popular areas.**","f330c3e5":"Hence **Cafe Coffee Day** has the most outlets and probably correct as well.","7020cb50":"**Maximum Outlets**\n\nOkay so this idea of finding the restraunt with most outlet came when I was looking at kernels.One thing which caught my eye was Onesta having 80+ outlets , which clearly is wrong. It possibly was since dataset had listed same place restraunt in different listed_in(type) despite having the same address . Hence I felt to remove those data and came up with different results hence.","09356016":"**Creating a histogram plot of cost of 2 person in Bangalore.**","39a0aed8":"**Now we find the number of restraunts in the given rating range.**","d9db1b4a":"**Finding the costliest 5 Restraunts of Bangalore.**","0de8f129":"**There exists a large number of redundant values . Also it is to be noted that not all are different , they just differ in listed_in(type) hence it is necessary to remove duplicates based on name and address.**","ef61216a":"**Area with the best rated Restraunts (Min 20)**"}}