{"cell_type":{"82fa380e":"code","99ae11e2":"code","3b916850":"code","d82e3a05":"code","040b6c26":"code","54a5ba5e":"code","2d11d690":"code","a5f3cdff":"code","b82d9393":"code","c8ddd82b":"code","51958634":"code","0c7db5d7":"code","3a73f0e4":"code","ed2796f5":"code","c2b17df1":"code","45b7a381":"code","8d9b2c98":"code","4394a1db":"code","877da3f4":"code","386e3a30":"code","4ad7ca02":"code","b2da3b02":"code","8d6ea5b8":"code","a9d34a3b":"code","778f5e3d":"code","3cdef1cb":"code","d2a3d400":"code","4ca0dbc7":"code","14d5d4a3":"code","b335dae9":"code","53d263a4":"code","d58a25b1":"code","08d5acdf":"code","63d994bc":"code","f1607b0f":"code","38eeff96":"code","1f2210a2":"code","ba16959b":"code","b367d88f":"code","1afc0ffe":"code","06afe998":"code","9276bdc7":"code","b47940e4":"code","b1caf0b4":"code","e040783a":"code","b85fc14b":"code","00b507fe":"code","fcc20c2f":"code","02fd1976":"code","9bb0a566":"code","7d7e5424":"code","c90f1626":"code","18a9f2a1":"code","5923e68b":"code","322a4877":"code","e9266648":"markdown","b33d73cf":"markdown","ece1f1fd":"markdown","555cc3ea":"markdown","b4ad7a4a":"markdown","243d761e":"markdown"},"source":{"82fa380e":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","99ae11e2":"#Here I am performing an EDA  of the titanic dataset.Mainly trying to figure out the factors that influenced \n#the survival rate by drawing different plots and queries.The main details given in the description are:\n#1.On April 15, 1912, during her maiden voyage, the Titanic sank after colliding with an iceberg, killing \n#1502 out of 2224 passengers and crew. Translated 32% survival rate.\n#2.Although there was some element of luck involved in surviving the sinking, some groups of people were \n#more likely to survive than others, such as women, children, and the upper-class.","3b916850":"import pandas as pd\nimport numpy as np\nfrom matplotlib import pyplot as plt\nimport seaborn as sns","d82e3a05":"train_df = pd.read_csv('..\/input\/train.csv')\ntest_df = pd.read_csv('..\/input\/test.csv')\ntitanic=pd.concat([train_df,test_df],axis=0,sort=False)\n#we will combine both train and test data test to do eda.","040b6c26":"titanic.head()","54a5ba5e":"titanic.info()","2d11d690":"#It is observed from the count that there are null values in Survived,Age,Cabin,Fare and embarked.","a5f3cdff":"titanic.describe(include='all')","b82d9393":"#There are 4 categorical columns:embarked,survived,sex,Pclass.Ticket is a mix of numeric and \n#alphanumeric data types. Cabin is alphanumeric.Numerical:AGE,FARE(continuous),SibSp,Parch(discrete.)","c8ddd82b":"titanic['Family']=titanic['SibSp']+titanic['Parch']","51958634":"titanic[['Family','SibSp','Parch']].head()","0c7db5d7":"pd.isnull(titanic).sum()","3a73f0e4":"#There are lot of null values in Survived,Age,cabin.Let us impute the values for the age column.","ed2796f5":"titanic[['Age','Pclass']].groupby('Pclass').mean()","c2b17df1":"#From the figure it is observed that the mean age of class 1 is 39,class 2 is 29 and class 3 is 25 approximately.","45b7a381":"def calc_age(col):\n    Age = col[0]\n    Pclass = col[1]\n    \n    if pd.isnull(Age):\n        if Pclass == 1:\n            return 38\n        elif Pclass == 2:\n            return 29 \n        else:\n            return 25\n    else:\n        return Age","8d9b2c98":"titanic['Age']=titanic[['Age','Pclass']].apply(calc_age,axis=1)","4394a1db":"titanic['Survived'].value_counts()","877da3f4":"#OUt of 891 people in the sample,we know that 342 has survived.That is a survival rate of 38%.","386e3a30":"labels={1:'First class',\n       2:'Second class',\n       3:'Third class'}\ntitanic['Pclass']=titanic['Pclass'].replace(labels)\ntitanic['Pclass'].value_counts()","4ad7ca02":"pc=(titanic['Pclass'].value_counts()\/titanic.shape[0])*100","b2da3b02":"pc.plot.bar(color='steelblue',figsize=(12,5))","8d6ea5b8":"#Most people were travelling in third class.","a9d34a3b":"titanic['Sex'].value_counts()","778f5e3d":"sc=(titanic['Sex'].value_counts()\/titanic.shape[0])","3cdef1cb":"sc.plot.bar(color='red')","d2a3d400":"#Nearly 65% of the passengers were male.","4ca0dbc7":"titanic['Embarked'].value_counts()","14d5d4a3":"ec=(titanic['Embarked'].value_counts()\/titanic.shape[0])","b335dae9":"ec.plot.bar(color='green')","53d263a4":"#Nearly 70% of the passengers embarked from 'S'","d58a25b1":"age_bins = [18,30, 60, 90]\nlabels = {0: 'kids',\n          1: 'youth',\n          2: 'elders',\n          3: 'senior citizen'}\ntitanic['Age_bin'] = titanic['Age'].apply(lambda v: np.digitize(v, bins=age_bins))\ntitanic['Age_bin'] = titanic['Age_bin'].replace(labels)\ntitanic['Age_bin'].value_counts()","08d5acdf":"#Age vs sex\ntitanic.boxplot('Age',by='Sex',figsize=(10,5),rot=10)","63d994bc":"titanic[['Age','Sex']].groupby('Sex').mean()","f1607b0f":"#We can see that the average age of both male and female passengers lie between 28-30.There are a number \n#of ouliers representing elder citizens.","38eeff96":"#Age vs class\ntitanic.boxplot('Age',by='Pclass',figsize=(10,5))","1f2210a2":"titanic[['Age','Pclass']].groupby('Pclass').mean()","ba16959b":"#Fare vs class\ntitanic.boxplot('Fare',by='Pclass',figsize=(10,5))","b367d88f":"titanic[['Fare','Pclass']].groupby('Pclass').mean()","1afc0ffe":"#First class tickets are very costly compared to third class as expected.","06afe998":"#Fare vs Agebin\ntitanic.boxplot('Fare',by='Age_bin',figsize=(10,5),rot=10)","9276bdc7":"titanic[['Fare','Age_bin']].groupby('Age_bin').mean()","b47940e4":"#Fare is mainly dependent on the class than the age.","b1caf0b4":"titanic[['Age','Fare']].corr()","e040783a":"sns.set(rc={'figure.figsize':(10,5)})\np = sns.heatmap(titanic[['Age','Fare']].corr(), cmap='Blues')","b85fc14b":"#Correlation does not exist between age and fare.","00b507fe":"#Survived vs Sex\nobs = titanic.groupby(['Survived', 'Sex']).size()\nobs.name = 'Freq'\nobs = obs.reset_index()\nobs = obs.pivot_table(index='Survived', columns='Sex',\n                values='Freq')\nsns.heatmap(obs, cmap='CMRmap_r')","fcc20c2f":"titanic[['Survived','Sex']].groupby('Sex').mean()","02fd1976":"#The survival rate is high in females and very low in males.","9bb0a566":"#Survived vs Age\nobs = titanic.groupby(['Survived', 'Age_bin']).size()\nobs.name = 'Freq'\nobs = obs.reset_index()\nobs = obs.pivot_table(index='Survived', columns='Age_bin',\n                values='Freq')\nsns.heatmap(obs, cmap='CMRmap_r')","7d7e5424":"titanic[['Survived','Age_bin']].groupby('Age_bin').mean().reset_index().sort_values(by='Survived',ascending=False)","c90f1626":"#Survival rate is highest in kids and least in senior citizens.","18a9f2a1":"##Survived vs Class\nobs = titanic.groupby(['Survived', 'Pclass']).size()\nobs.name = 'Freq'\nobs = obs.reset_index()\nobs = obs.pivot_table(index='Survived', columns='Pclass',\n                values='Freq')\nsns.heatmap(obs, cmap='CMRmap_r')","5923e68b":"titanic[['Survived','Pclass']].groupby('Pclass').mean().reset_index().sort_values(by='Survived',ascending=False)","322a4877":"#First class people has the highest survival rate.","e9266648":"**Data Imputation**","b33d73cf":"**Frequency Analysis of the categorical columns**","ece1f1fd":"**Derived columns**\n#We can derive a new column showing total family members using SibSp,Parch.","555cc3ea":"**Numerical vs Numerical**","b4ad7a4a":"**Categorical vs categorical**","243d761e":"**Numerical vs Categorical**"}}