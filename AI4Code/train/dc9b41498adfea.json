{"cell_type":{"72c9b5df":"code","cf905e67":"code","b276de62":"code","ed09ff43":"code","feb46cb2":"code","a30858e2":"code","a91890fb":"code","65323e31":"code","0d9f73e1":"code","20f76238":"code","88677c2a":"code","bc01b4c8":"code","a7acec6e":"code","78521c5d":"code","c1649580":"code","06144155":"code","cc2aadf1":"code","c4435a81":"code","4b6493e3":"code","300ab015":"code","ae8a54ac":"code","3da2e4ad":"code","8df3fa2a":"code","e50a1526":"code","71904a1b":"code","e4918229":"code","58ecccf7":"code","d395270b":"code","e727b344":"markdown","28c5892c":"markdown","19481c02":"markdown","ecfe507e":"markdown","845f7156":"markdown","0885e788":"markdown","e4db1994":"markdown","8079453f":"markdown","4e47aa53":"markdown","fc9fd396":"markdown","0acbe6c3":"markdown","27bbaca2":"markdown","c93130bb":"markdown","b3f6e176":"markdown","c3908cc4":"markdown","0aa3f3f7":"markdown","abea42ab":"markdown","d34603e9":"markdown","322abd79":"markdown","941fb155":"markdown","0675c57c":"markdown","9e779b48":"markdown","c5ffd0a1":"markdown","4e4c6de0":"markdown","75dc4899":"markdown","c4ee5b62":"markdown","da952d31":"markdown","6406e022":"markdown","9fec0264":"markdown","636a324f":"markdown","791df0b8":"markdown","c3599430":"markdown","8f9fcc21":"markdown","3e12cf2f":"markdown","194f91d4":"markdown","d81cd2d8":"markdown"},"source":{"72c9b5df":"# Import the neccessary libraries for data manipulation and visual representation\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib as matplot\nimport seaborn as sns\n%matplotlib inline\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","cf905e67":"df = pd.read_csv(\"\/kaggle\/input\/hr-analytics\/HR_comma_sep.csv\")","b276de62":"df.isnull().any()","ed09ff43":"df.head()","feb46cb2":"# Renaming certain columns for better readability\ndf = df.rename(columns={'satisfaction_level': 'satisfaction', \n                        'last_evaluation': 'evaluation',\n                        'number_project': 'projectCount',\n                        'average_montly_hours': 'averageMonthlyHours',\n                        'time_spend_company': 'yearsAtCompany',\n                        'Work_accident': 'workAccident',\n                        'promotion_last_5years': 'promotion',\n                        'sales' : 'department',\n                        'left' : 'turnover'\n                        })","a30858e2":"# Move the reponse variable \"turnover\" to the front of the table\nfront = df['turnover']\ndf.drop(labels=['turnover'], axis=1,inplace = True)\ndf.insert(0, 'turnover', front)\ndf.head()","a91890fb":"df.shape","65323e31":"# Check the type of our features. \ndf.dtypes","0d9f73e1":"turnover_rate = df.turnover.value_counts() \/ 14999\nturnover_rate","20f76238":"# Display the statistical overview of the employees\ndf.describe()","88677c2a":"# Overview of summary (Turnover V.S. Non-turnover)\nturnover_Summary = df.groupby('turnover')\nturnover_Summary.mean()","bc01b4c8":"#Correlation Matrix\ncorr = df.corr()\ncorr = (corr)\nsns.heatmap(corr, \n            xticklabels=corr.columns.values,\n            yticklabels=corr.columns.values)\nplt.title('Heatmap of Correlation Matrix')\ncorr","a7acec6e":"# Let's compare the means of our employee turnover satisfaction against the employee population satisfaction\nemp_population_satisfaction = df['satisfaction'].mean()\nemp_turnover_satisfaction = df[df['turnover']==1]['satisfaction'].mean()\n\nprint( 'The mean for the employee population is: ' + str(emp_population_satisfaction) )\nprint( 'The mean for the employees that had a turnover is: ' + str(emp_turnover_satisfaction) )\n","78521c5d":"import scipy.stats as stats\nstats.ttest_1samp(a=  df[df['turnover']==1]['satisfaction'], # Sample of Employee satisfaction who had a Turnover\n                  popmean = emp_population_satisfaction)  # Employee Population satisfaction mean","c1649580":"degree_freedom = len(df[df['turnover']==1])\n\nLQ = stats.t.ppf(0.025,degree_freedom)  # Left Quartile\n\nRQ = stats.t.ppf(0.975,degree_freedom)  # Right Quartile\n\nprint ('The t-distribution left quartile range is: ' + str(LQ))\nprint ('The t-distribution right quartile range is: ' + str(RQ))","06144155":"# Set up the matplotlib figure\nf, axes = plt.subplots(ncols=3, figsize=(15, 6))\n\n# Graph Employee Satisfaction\nsns.distplot(df.satisfaction, kde=False, color=\"g\", ax=axes[0]).set_title('Employee Satisfaction Distribution')\naxes[0].set_ylabel('Employee Count')\n\n# Graph Employee Evaluation\nsns.distplot(df.evaluation, kde=False, color=\"r\", ax=axes[1]).set_title('Employee Evaluation Distribution')\naxes[1].set_ylabel('Employee Count')\n\n# Graph Employee Average Monthly Hours\nsns.distplot(df.averageMonthlyHours, kde=False, color=\"b\", ax=axes[2]).set_title('Employee Average Monthly Hours Distribution')\naxes[2].set_ylabel('Employee Count')","cc2aadf1":"f, ax = plt.subplots(figsize=(15, 4))\nsns.countplot(y=\"salary\", hue='turnover', data=df).set_title('Employee Salary Turnover Distribution');","c4435a81":"# Types of colors\ncolor_types = ['#78C850','#F08030','#6890F0','#A8B820','#A8A878','#A040A0','#F8D030',  \n                '#E0C068','#EE99AC','#C03028','#F85888','#B8A038','#705898','#98D8D8','#7038F8']\n\n# Count Plot (a.k.a. Bar Plot)\nsns.countplot(x='Department', data=df, palette=color_types).set_title('Employee Department Distribution');\n \n# Rotate x-labels\nplt.xticks(rotation=-45)","4b6493e3":"f, ax = plt.subplots(figsize=(15, 5))\nsns.countplot(y=\"Department\", hue='turnover', data=df).set_title('Employee Department Turnover Distribution');","300ab015":"ax = sns.barplot(x=\"projectCount\", y=\"projectCount\", hue=\"turnover\", data=df, estimator=lambda x: len(x) \/ len(df) * 100)\nax.set(ylabel=\"Percent\")","ae8a54ac":"# Kernel Density Plot\nfig = plt.figure(figsize=(15,4),)\nax=sns.kdeplot(df.loc[(df['turnover'] == 0),'evaluation'] , color='b',shade=True,label='no turnover')\nax=sns.kdeplot(df.loc[(df['turnover'] == 1),'evaluation'] , color='r',shade=True, label='turnover')\nplt.title('Employee Evaluation Distribution - Turnover V.S. No Turnover')","3da2e4ad":"#KDEPlot: Kernel Density Estimate Plot\nfig = plt.figure(figsize=(15,4))\nax=sns.kdeplot(df.loc[(df['turnover'] == 0),'averageMonthlyHours'] , color='b',shade=True, label='no turnover')\nax=sns.kdeplot(df.loc[(df['turnover'] == 1),'averageMonthlyHours'] , color='r',shade=True, label='turnover')\nplt.title('Employee AverageMonthly Hours Distribution - Turnover V.S. No Turnover')","8df3fa2a":"#KDEPlot: Kernel Density Estimate Plot\nfig = plt.figure(figsize=(15,4))\nax=sns.kdeplot(df.loc[(df['turnover'] == 0),'satisfaction'] , color='b',shade=True, label='no turnover')\nax=sns.kdeplot(df.loc[(df['turnover'] == 1),'satisfaction'] , color='r',shade=True, label='turnover')\nplt.title('Employee Satisfaction Distribution - Turnover V.S. No Turnover')","e50a1526":"#ProjectCount VS AverageMonthlyHours [BOXPLOT]\n#Looks like the average employees who stayed worked about 200hours\/month. Those that had a turnover worked about 250hours\/month and 150hours\/month\n\nimport seaborn as sns\nsns.boxplot(x=\"projectCount\", y=\"averageMonthlyHours\", hue=\"turnover\", data=df)","71904a1b":"import seaborn as sns\nsns.boxplot(x=\"projectCount\", y=\"evaluation\", hue=\"turnover\", data=df)","e4918229":"sns.lmplot(x='satisfaction', y='evaluation', data=df, fit_reg=False, hue='turnover')","58ecccf7":"ax = sns.barplot(x=\"yearsAtCompany\", y=\"yearsAtCompany\", hue=\"turnover\", data=df, estimator=lambda x: len(x) \/ len(df) * 100)\nax.set(ylabel=\"Percent\")","d395270b":"# Import KMeans Model\nfrom sklearn.cluster import KMeans\n\n# Graph and create 3 clusters of Employee Turnover\nkmeans = KMeans(n_clusters=3,random_state=2)\nkmeans.fit(df[df.turnover==1][[\"satisfaction\",\"evaluation\"]])\n\nkmeans_colors = ['red' if c == 0 else 'blue' if c == 2 else 'green' for c in kmeans.labels_]\n\nfig = plt.figure(figsize=(10, 6))\nplt.scatter(x=\"satisfaction\",y=\"evaluation\", data=df[df.turnover==1],\n            alpha=0.25,color = kmeans_colors)\nplt.xlabel(\"Satisfaction\")\nplt.ylabel(\"Evaluation\")\nplt.scatter(x=kmeans.cluster_centers_[:,0],y=kmeans.cluster_centers_[:,1],color=\"black\",marker=\"X\",s=100)\nplt.title(\"Clusters of Employee Turnover\")\nplt.show()","e727b344":"The dataset has:\n\nAbout 15,000 employee observations and 10 features\n\nThe company had a turnover rate of about 24%\n\nMean satisfaction of employees is 0.61","28c5892c":"Cluster 1 (Blue): Hard-working and Sad Employees.\n\nCluster 2 (Red): Bad and Sad Employee.\n\nCluster 3 (Green): Hard-working and Happy Employee","19481c02":"**ProjectCount VS AverageMonthlyHours**","ecfe507e":"**K-Means Clustering of Employee Turnover**","845f7156":"**Salary V.S. Turnover**","0885e788":"More than half of the employees with 4 and 5 years left the company. Employees with 5 years should highly be looked into","e4db1994":"![image.png](attachment:image.png)","8079453f":"The sales, technical, and support department were the top 3 departments to have employee turnover. The management department had the smallest amount of turnover","4e47aa53":"**Turnover V.S. Satisfaction**","fc9fd396":"**ProjectCount VS Evaluation**","0acbe6c3":"**Turnover V.S. Evaluation**","27bbaca2":"**Correlation Matrix & Heatmap**","c93130bb":"# Exploring the Data","b3f6e176":"**Satisfaction VS Evaluation**","c3908cc4":"\nThere is a biomodal distribution for those that had a turnover. Employees with low performance tend to leave the company more. Employees with high performance tend to leave the company more. The sweet spot for employees that stayed is within 0.6-0.8 evaluation","0aa3f3f7":"**Obtaining and Scrubbing the Data**","abea42ab":"\nMajority of employees who left either had low or medium salary. Barely any employees left with high salary. Employees with low to average salaries tend to leave the company.","d34603e9":"**Turnover V.S. ProjectCount**","322abd79":"**Department V.S. Turnover**","941fb155":"**My goal is to understand what factors contribute most to employee turnover and create a model that can predict if a certain employee will leave the company or not**","0675c57c":"**Statistical Overview**","9e779b48":"**Turnover V.S. YearsAtCompany**","c5ffd0a1":"As project count increased, so did average monthly hours. Something weird about the boxplot graph is the difference in averageMonthlyHours between people who had a turnver and did not. Looks like employees who did not have a turnover had consistent averageMonthlyHours, despite the increase in projects. In contrast, employees who did have a turnover had an increase in averageMonthlyHours with the increase in projects.","4e4c6de0":"This graph looks very similar to the graph above. What I find strange with this graph is with the turnover group. There is an increase in evaluation for employees who did more projects within the turnover group. But, again for the non-turnover group, employees here had a consistent evaluation score despite the increase in project counts.","75dc4899":"Based on the statistical analysis of a one sample t-test, there seems to be some significant difference between the mean satisfaction of employees who had a turnover and the entire employee population. The super low P-value of 9.012e-279 at a 5% confidence level is a good indicator to reject the null hypothesis.","c4ee5b62":"More than half of the employees with 2,6, and 7 projects left the company. Majority of the employees who did not leave the company had 3,4, and 5 projects. All of the employees with 7 projects left the company. There is an increase in employee turnover rate as project count increases","da952d31":"There is a tri-modal distribution for employees that turnovered. Employees who had really low satisfaction levels (0.2 or less) left the company more. Employees who had low satisfaction levels (0.3~0.5) left the company more. Employees who had really high satisfaction levels (0.7 or more) left the company more","6406e022":"**Distribution Plots (Satisfaction - Evaluation - AverageMonthlyHours)**","9fec0264":"**Turnover V.S. AverageMonthlyHours**","636a324f":"**Statistical Test for Correlation**","791df0b8":"**WORK IN PROGRESS...**","c3599430":"Another bi-modal distribution for employees that turnovered. Employees who had less hours of work ( ~150 hours or less) left the company more. Employees who had too many hours of work ( ~250 or more) left the company. Employees who left generally were underworked or overworked.","8f9fcc21":"There are 3 distinct clusters for employees who left the company\n\nCluster 1 (Hard-working and Sad Employee): Satisfaction was below 0.2 and evaluations were greater than 0.75. Which could be a good indication that employees who left the company were good workers but felt horrible at their job.\n\nCluster 2 (Bad and Sad Employee): Satisfaction between about 0.35 ~ 0.45 and evaluations below ~0.58. This could be seen as employees who were badly evaluated and felt bad at work.\n\nCluster 3 (Hard-working and Happy Employee): Satisfaction between 0.7 ~ 1.0 and evaluations were greater than 0.8. Which could mean that employees in this cluster were \"ideal\". They loved their work and were evaluated highly for their performance.","3e12cf2f":"**Conducting the T-Test**","194f91d4":"# Human Resources Analytics","d81cd2d8":"The test result shows the test statistic \"t\" is equal to -39.109. This test statistic tells us how much the sample mean deviates from the null hypothesis. If the t-statistic lies outside the quantiles of the t-distribution corresponding to our confidence level and degrees of freedom, we reject the null hypothesis. We can check the quantiles with stats.t.ppf():"}}