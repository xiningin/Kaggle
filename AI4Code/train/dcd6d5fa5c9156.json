{"cell_type":{"0637c8bb":"code","4c21c372":"code","01c3d083":"code","96544cba":"code","b310258c":"code","e78a0bc8":"code","d80e58a8":"code","8c6c3608":"code","b951f316":"code","cc66ca89":"code","e8f4db52":"code","f71a5137":"code","c4e6ec3c":"code","12cb3517":"code","0c6d038b":"markdown","4c3cdcc8":"markdown","82c03b69":"markdown","5d7cda02":"markdown","cdbbeb69":"markdown","601d3224":"markdown","e5e83cd7":"markdown","f2ae7b43":"markdown","b0d8a644":"markdown","b34d7dbb":"markdown","52c9b0b7":"markdown","1eaa93c8":"markdown"},"source":{"0637c8bb":"# Importing libraries\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_style('whitegrid');\n\n# Importing data\ndata = pd.read_csv('..\/input\/kiva_loans.csv')","4c21c372":"data.head()","01c3d083":"data['sector'].value_counts().plot(kind=\"area\",figsize=(12,12))\nplt.xticks(np.arange(15), tuple(data['sector'].unique()), rotation=60)\nplt.show()","96544cba":"data['repayment_interval'].value_counts().plot(kind=\"pie\",figsize=(12,12))","b310258c":"f = sns.factorplot(x=\"sector\",data=data,kind=\"count\",hue=\"repayment_interval\",size=12,palette=\"BuGn_r\")\nf.set_xticklabels(rotation=90)\n","e78a0bc8":"print(\"Mean funded amount: \",data['funded_amount'].mean())\nprint(\"Mean lender count: \",data['lender_count'].mean())\nprint(\"Mean of term in months: \",data['term_in_months'].mean())","d80e58a8":"print(\"Correlation coefficent of funded amount and lender count: \",data['funded_amount'].corr(data['lender_count']))\nsns.jointplot(x=\"funded_amount\", y=\"lender_count\", data=data, kind='reg')","8c6c3608":"print(\"Correlation coefficent of funded amount and term in months: \",data['funded_amount'].corr(data['term_in_months']))\nsns.jointplot(x=\"funded_amount\", y=\"term_in_months\", data=data, kind='reg')","b951f316":"print(\"Correlation coefficent of term in months and lender count: \",data['term_in_months'].corr(data['lender_count']))\nsns.jointplot(x=\"term_in_months\", y=\"lender_count\", data=data, kind='reg')","cc66ca89":"print(data['funded_amount'].corr(data['loan_amount']))\nsns.jointplot(x=\"funded_amount\", y=\"loan_amount\", data=data, kind='reg')","e8f4db52":"data['month'] =  data['date'].astype(str).str[0:7]","f71a5137":"data['month'].head()","c4e6ec3c":"pivot_data = pd.pivot_table(data,values='funded_amount',index='month',columns='sector')\npivot_data.head()","12cb3517":"a4_dims = (15, 15)\nfig, ax = plt.subplots(figsize=a4_dims)\nsns.heatmap(pivot_data,ax=ax)","0c6d038b":"So, this one has a decent correlation coefficient. We can surely consider this result for regression analysis some other time.","4c3cdcc8":"# Feature engineering\nCreating a new column month from date containing only month and year for each loan\n","82c03b69":"# Factorplot of different sectors with repayment intervals as categories(hue is responsible for this)","5d7cda02":"This may be better than the last one but these fields too are not really correlated enough to be dependent on each other.","cdbbeb69":"# Pie chart of repayment intervals\n(I have not had time to search what kind of repayment interval is called a bullet. Let me know in the comments)","601d3224":"# Now, some statistics...","e5e83cd7":"This awesome correlation plot is possible as many values in funded amount and loan amount are exactly same.","f2ae7b43":"# Plotting a heatmap out of the pivot data","b0d8a644":"# Creating a pivot_table for more strucured data","b34d7dbb":"# Now, we will plot some jointplots to inspect correlation\nA nice correlation coefficient between two fields gives awesome results when regression is done","52c9b0b7":"# Frequency of loans in each sector\n","1eaa93c8":"This one has a more scattered plot so these fields are not really dependent on each other."}}