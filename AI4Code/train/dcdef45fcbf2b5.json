{"cell_type":{"c1ba9b27":"code","7181619d":"code","8ddad530":"code","a73d083f":"code","73c2cdd9":"code","00340dc4":"code","c73aa7ec":"code","d078222f":"code","762efdb3":"code","a18e60d6":"code","48effffe":"code","dcde14a3":"code","5b78c2cc":"code","8c6d81e1":"code","412b9af6":"code","d4216f79":"code","6ad6d000":"code","a0c73e13":"code","1e647ab0":"code","0a176eb2":"code","41899ff9":"code","7b1a83de":"code","448e7c80":"code","99862014":"code","42c891f6":"code","9baeaa69":"code","d30878f6":"code","da0c2e39":"code","497237ae":"code","9780d63e":"code","35135dce":"code","1561f085":"code","29206aa6":"code","1c5647fe":"code","7f5410ab":"code","d46b754b":"code","c842e28c":"code","47c5d29d":"code","a17699dd":"code","323b6cf3":"code","c7b37ef2":"code","7e803d8c":"code","4ac65a21":"code","aed127f1":"code","c075524a":"markdown","45ad8c5a":"markdown","64cf9286":"markdown","268234d7":"markdown","57832996":"markdown","c3be3fb1":"markdown","f7d0b7ff":"markdown","1240cba2":"markdown","aaa3e245":"markdown","2de72ca4":"markdown","38ecea9e":"markdown","4d7e9cf8":"markdown","8c5814f0":"markdown","69bb3eca":"markdown","f4ab120c":"markdown","dbac463f":"markdown","e3bbcf7e":"markdown","ab21e581":"markdown","01e8966d":"markdown"},"source":{"c1ba9b27":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline\n\nimport warnings\nwarnings.filterwarnings('ignore')","7181619d":"pizza1=pd.read_csv('..\/input\/pizza-price-prediction\/pizza_v1.csv')\npizza2=pd.read_csv('..\/input\/pizza-price-prediction\/pizza_v2.csv')","8ddad530":"pizza1.head()","a73d083f":"pizza1.shape","73c2cdd9":"pizza2.head()","00340dc4":"pizza2.shape","c73aa7ec":"pizza1['extra_mushrooms']=pizza2['extra_mushrooms']","d078222f":"pizza1.head()","762efdb3":"df=pizza1\ndf.info()","a18e60d6":"df['price']=df['price_rupiah'].str.replace('Rp','').str.replace(',','').astype(int)","48effffe":"df.drop(['price_rupiah'],axis=1,inplace=True)","dcde14a3":"df.head()","5b78c2cc":"plt.figure(figsize=(10,8))\nsns.set_style(style='darkgrid', rc={\"grid.color\": \".8\", \"grid.linestyle\": \"--\"})\nsns.distplot(df['price'],bins=15,color='green')\nplt.tight_layout()\nplt.grid(True)\nplt.show()","8c6d81e1":"plt.figure(figsize=(15,8))\nsns.set_style(style='darkgrid', rc={\"grid.color\": \".8\", \"grid.linestyle\": \"--\"})\nsns.countplot(y=df['topping'],palette='RdYlGn_r',saturation=0.8,edgecolor=\"black\")\nplt.tight_layout()\nplt.grid(True)\nplt.show()","412b9af6":"plt.figure(figsize=(15,8))\nsns.countplot(df['size'],order=['small','reguler','medium','large','XL','jumbo'],palette='RdYlGn_r',saturation=0.9,edgecolor=\"black\")\nplt.tight_layout()\nplt.grid(True)\nplt.show()","d4216f79":"plt.figure(figsize=(10,6))\nsns.barplot(x=df['size'],y=df['diameter'],order=['small','reguler','medium','large','XL','jumbo'],palette='RdYlGn_r',saturation=0.9,edgecolor=\"black\")\nplt.tight_layout()\nplt.grid(True)\nplt.show()","6ad6d000":"plt.figure(figsize=(13,11))\nax = sns.countplot(y=\"variant\", data=df ,palette='RdYlGn_r', saturation=0.9,edgecolor=\"black\")\nplt.tight_layout()\nplt.grid(True)\nplt.show()","a0c73e13":"plt.figure(figsize=(10,6))\nsns.countplot(df['company'],palette='RdYlGn_r',saturation=0.9,edgecolor=\"black\")\nplt.tight_layout()\nplt.grid(True)\nplt.show()","1e647ab0":"sns.countplot(df['extra_sauce'],order=['yes','no'],palette='RdYlGn_r',saturation=0.9,edgecolor=\"black\")\nplt.tight_layout()\nplt.grid(True)\nplt.show()","0a176eb2":"sns.countplot(df['extra_cheese'],order=['yes','no'],palette='RdYlGn_r',saturation=0.9,edgecolor=\"black\")\nplt.tight_layout()\nplt.grid(True)\nplt.show()","41899ff9":"sns.countplot(df['extra_mushrooms'],order=['yes','no'],palette='RdYlGn_r',saturation=0.9,edgecolor=\"black\")\nplt.tight_layout()\nplt.grid(True)\nplt.show()","7b1a83de":"sns.catplot(x='company',y='price',kind='box',data=df,palette='RdYlGn_r',saturation=0.9)\nplt.tight_layout()\nplt.grid(True)\nplt.show()","448e7c80":"df[df['price']>200000]","99862014":"plt.figure(figsize=(15,8))\nsns.boxplot(df['topping'],df['price'],palette='RdYlGn_r',saturation=0.9)\nplt.tight_layout()\nplt.grid(True)\nplt.show()","42c891f6":"df[(df['topping']=='chicken') & (df['price']>120000)]","9baeaa69":"df[(df['topping']=='mushrooms') & (df['price']>150000)]","d30878f6":"df[(df['topping']=='mozzarella') & (df['price']>150000)]","da0c2e39":"df[(df['topping']=='onion')]","497237ae":"plt.figure(figsize=(10,5))\nsns.boxplot(df['size'],df['price'],palette='RdYlGn_r',saturation=0.9)\nplt.tight_layout()\nplt.grid(True)\nplt.show()","9780d63e":"df.drop(['diameter'],axis=1,inplace=True)","35135dce":"df.head()","1561f085":"from sklearn.preprocessing import LabelEncoder\nle=LabelEncoder()","29206aa6":"features=(['company', 'topping', 'variant', 'size', 'extra_sauce',\n       'extra_cheese', 'extra_mushrooms'])","1c5647fe":"for col in features:\n    df[col]=le.fit_transform(df[col])","7f5410ab":"df.head()","d46b754b":"from sklearn.model_selection import train_test_split","c842e28c":"X=df[features]\ny=df.price\n\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2,random_state=12)","47c5d29d":"from sklearn.metrics import r2_score,mean_squared_error, mean_absolute_error","a17699dd":"from sklearn.tree import DecisionTreeRegressor\n\nmodel_dt= DecisionTreeRegressor(random_state=12)\nmodel_dt.fit(X_train,y_train)\npred_dt=model_dt.predict(X_test)","323b6cf3":"print('Testing R2 Score: ', r2_score(y_test, pred_dt)*100)","c7b37ef2":"from sklearn.ensemble import  RandomForestRegressor\n\nmodel_rf= RandomForestRegressor(n_estimators=100)\nmodel_rf.fit(X_train, y_train)\npred_rf= model_rf.predict(X_test)","7e803d8c":"print('Testing R2 Score: ', r2_score(y_test, pred_rf)*100)","4ac65a21":"from xgboost import XGBRFRegressor\n\nmodel_xgb = XGBRFRegressor()\nmodel_xgb.fit(X_train, y_train)\npred_xgb = model_xgb.predict(X_test)","aed127f1":"print('Testing R2 Score: ', r2_score(y_test, pred_xgb)*100)","c075524a":"* There is no abnormality in the data. And from the boxplot we can see that papperoni topping pizza are most expensive and beef pizza are least expensive","45ad8c5a":"# Pizza Price Prediction","64cf9286":"* price of different size","268234d7":"# Model fitting","57832996":"* Since size and diameter column are provinding same information, hence we can drop any one of them.","c3be3fb1":"* Checking the outliers","f7d0b7ff":"Since all the features are categorical, linear models are not perfect for model fitting","1240cba2":"* price of different toppings","aaa3e245":"* Well jumbo pizzas are expensive hence this explains the outliers present in graph","2de72ca4":"### 3. XGBoost Regressor","38ecea9e":"# EDA","4d7e9cf8":"## Thanks and please upvote if you liked the notebook!!","8c5814f0":"* We can see that pizza of company A and D are bit expensive and there are some outliers here","69bb3eca":"* Let's see the price for different companies","f4ab120c":"# Data preprocessing","dbac463f":"### 1. Decision Tree","e3bbcf7e":"### 2. Random forest regressor","ab21e581":"* Here decision tree is giving the best R^2 value","01e8966d":"* Kind of normally distributed and no signs of abnormality in target."}}