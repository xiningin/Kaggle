{"cell_type":{"9ddab75f":"code","4d95ad93":"code","00661089":"code","eceb6110":"code","3f96d8af":"code","77243ad9":"code","8ec792db":"code","6b96d309":"code","0f5fb3d6":"code","58eca821":"code","fc8856e8":"code","44350e02":"code","dc56a262":"code","368e8d0c":"code","e3779bea":"code","be1d1c25":"code","66eb5055":"code","b75e0691":"code","a3b360a8":"code","4e4783c7":"code","f0adf0e3":"code","ef11b3ca":"markdown","86ff79b1":"markdown","0284a842":"markdown","793f1e3b":"markdown","023bb687":"markdown","415f3d46":"markdown","8d379017":"markdown","c74addf0":"markdown","602a69eb":"markdown","e49ba516":"markdown"},"source":{"9ddab75f":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# data visual packages\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n#interactive visual packages\nimport plotly as pio\n\nfrom IPython.display import HTML \n","4d95ad93":"from plotly import __version__\n\nimport cufflinks as cf\n\nfrom plotly.offline import download_plotlyjs,init_notebook_mode,plot,iplot\ninit_notebook_mode(connected=True)\ncf.go_offline()\n\nimport plotly.express as px","00661089":"df = pd.read_csv('..\/input\/all-space-missions-from-1957\/Space_Corrected.csv')\n\ndf = df.loc[:, ~df.columns.str.contains('^Unnamed')]","eceb6110":"df.info()","3f96d8af":"plt.figure(figsize=(14,6))\nplt.title('Missing values in each columns')\nsns.set_context(context='notebook',font_scale=1.5)\nsns.heatmap(df.isnull(),cmap='Set3',cbar=False,yticklabels=False);","77243ad9":"# let us start with missing values\n\nMissing_values = 100 * df.isnull().sum() \/ len(df) \n\nMissing_values.iplot(kind='bar',title='Missing values in each columns in %',theme='white',color='#3DD8AD')","8ec792db":"# cleaning 'Company Name' column\n\n\n\n\ndf['Company Name'] = df['Company Name'].str.replace(r'[^\\s\\w]','')\n\n\ndf['Company Name'] = df['Company Name'].astype(str) # converting object to string\ndf['Company Name'] = df['Company Name'].replace(r'\\d','')# removing digit\ndf['Company Name'] = df['Company Name'].replace(r'\\W','')# removing non-alphanumeric\n\ndf['Location'] = df['Location'].str.replace(r'[^\\s\\w]','')\n\ndf['Location'][0].split()[-1]\n\ndf['Country'] = df['Location'].apply(lambda word : word.split(' ')[-1])\n\n# country \ndf['Country'] = df['Country'].replace('Ocean','Russia')\ndf['Country'] = df['Country'].replace('Site','Iran')\ndf['Country'] = df['Country'].replace('Facility','USA')\ndf['Country'] = df['Country'].replace('Zealand','New Zealand')\ndf['Country'] = df['Country'].replace('Canaria','Spain')\n\nlist_index = [920,957,1304]\ndf.loc[list_index,'Country'] = 'Russia'\n\nchi =[133]\ndf.loc[chi,'Country'] = 'China'\n\nNK =[461,623,653,775,1294]\ndf.loc[NK,'Country'] = 'North Korea'\n\nSK =[619,721,757]\ndf.loc[SK,'Country'] = 'South Korea'","6b96d309":"# creating new columns from Datum named it Month,Year,Time and Day\n\ndf['Month'] = df['Datum'].apply(lambda x:x.split(' ')[1])\ndf['Year'] = df['Datum'].apply(lambda x:x.split(' ')[3])\ndf['Time'] = df['Datum'].apply(lambda x:x.split(' ')[-2])\ndf['Day'] = df['Datum'].apply(lambda x:x.split(' ')[0])\n\n#\ndf['Year'] = pd.to_numeric(df['Year'])\n","0f5fb3d6":"# cleaning  'Datum' column\n\ndf['Datum'][0].split()[-2]\ndf[' Rocket'] = df[' Rocket'].str.replace(r'\\W','')\ndf[' Rocket'] = df[' Rocket'].str.strip(',')\n\ndf[' Rocket'] = pd.to_numeric(df[' Rocket'])","58eca821":"\nimport plotly.io as pio\n\npio.templates.default = \"plotly\"\n\ndc = df['Company Name'].value_counts().reset_index()\ndc.columns = ('Company name','count')\ndc = dc.sort_values(['count'])\n\nfig = px.bar(dc.tail(20), x='Company name',y='count',color='count',\n            title='Top companies in the space Mission')\n\nfig.show()","fc8856e8":"# data to plot(Country)\n\nCountry_list = df['Country'].value_counts()\n\nISO_Code = ['RUS','USA','KAZ','FRA','CHN','JPN','IND','IRN','NZL','ISR','KEN','AUS','PRK','MEX','KOR','BRA','ESP']\n\nCounrtry_df = pd.DataFrame(Country_list).reset_index()\n\nCounrtry_df['ISO'] = ISO_Code\n\nCounrtry_df.columns=('Country_Name','Number_of_Mission','ISO_Code')","44350e02":"# plot country\n\n\n\nfig = px.choropleth(Counrtry_df, locations=\"ISO_Code\",\n                    color=\"Number_of_Mission\",\n                    hover_name=\"Country_Name\", \n                    color_continuous_scale=px.colors.sequential.Plasma,\n                    title = \"Number of space mission by each Nation\")\nfig.show()\n","dc56a262":"#data for plot_ani_bar\n\nplot_bar = df.groupby(['Year','Country'])['Company Name'].count().reset_index()\n\nplot_bar.columns = ('Year','Country','Count')\n\n","368e8d0c":"fig = px.bar(plot_bar, x='Country',y='Count',color='Count',animation_frame = 'Year',\n            title='Number of space mission each year by Nations', height=700)\n\nfig.show()","e3779bea":"#data for the plot number of space mission success and failure\n\nlaunch_plot = df.groupby(['Status Mission','Year','Month','Country'])['Company Name'].count().reset_index()\n\n\nlaunch_plot.columns = ('Status Mission','Year','Month','Country','No. of Mission')\n","be1d1c25":"fig = px.sunburst(launch_plot, path=['Status Mission','Country'], values='No. of Mission',\n                  color_continuous_scale='Plasma',title= 'Number of Success and failure in Space Mission',\n                  height=650)\n\n\nfig.show()","66eb5055":"\n# who has most success made most of money and who has fail the most cost losses\n\nplot_comp = df.groupby(['Status Mission','Company Name'])['Day'].count().reset_index()\n\nplot_comp.columns = ('Status Mission','Company Name','Count')\n\nfig = px.sunburst(plot_comp, path=['Status Mission', 'Company Name'], values='Count',\n                  color_continuous_scale='RdBu',height=650,title = 'Success, Failure and partial Failure of each Space Agency')\n\nfig.show()","b75e0691":"rocket_data = df[['Status Rocket','Country','Company Name']]\n\nplt.figure(figsize=(12,6));\nsns.countplot(df['Status Rocket'],palette='Set2');\nplt.title('Rocket status');\nsns.set_context(context='notebook',font_scale=1.5);","a3b360a8":"df_rocket = df.groupby('Country')[' Rocket'].sum().reset_index()\ndf_rocket.columns = ('Country','Amount_spent')\ndf_rocket = df_rocket.sort_values('Amount_spent',ascending =False)\n\n\nfig = px.bar(df_rocket[0:7],x='Country',y='Amount_spent',color='Amount_spent',title='Top countries by amount spent on space mission')\n\nfig.show()","4e4783c7":"df_rocket_co = df.groupby('Company Name')[' Rocket'].sum().reset_index()\ndf_rocket_co.columns = ('Company Name','Amount_spent')\ndf_rocket_co = df_rocket_co.sort_values('Amount_spent',ascending =False)\n\n\nfig = px.bar(df_rocket_co[0:17],x='Company Name',y='Amount_spent',color='Amount_spent',title='Top Space agency by amount spent on space mission')\n\nfig.show()","f0adf0e3":"# mission status\ndata_plot_l = df['Status Mission'].value_counts().reset_index()\ndata_plot_l.columns = ['status', 'count']\n\nfig = px.pie(data_plot_l, values='count', names=\"status\", title='Mission Status', height=500)\nfig.show()","ef11b3ca":"* upvote if you like it \n* if you find any improvement kindly comment it.","86ff79b1":"![](https:\/\/i.imgur.com\/BRSWPXh.jpg)","0284a842":"# <a href=\"#Import-library\">Import library<\/a> ","793f1e3b":"<h1 style=\"background-color:#33bdcd;\">Space_Mission_History<\/h1>","023bb687":"* <a href=\"#Import-library\">Import library<\/a> \n* <a href=\"#Missing-values\">Missing values<\/a>\n* <a href=\"#Data-cleaning\">Data cleaning<\/a>\n* <a href=\"#Data-visuals\">Data visuals<\/a>\n","415f3d46":"# <a href=\"#Data-visuals\">Data visuals<\/a>","8d379017":"# <a href=\"#Missing-values\">Missing values<\/a>","c74addf0":"#  <a href=\"#Data cleaning\">Data cleaning<\/a>","602a69eb":"<h1 style=\"background-color:#33bdcd;\">Thank you!! <\/h1>","e49ba516":"<h2 style=\"background-color:#33bdcd;\">Agenda<\/h2>"}}