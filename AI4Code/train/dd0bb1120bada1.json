{"cell_type":{"14921e89":"code","0298fe20":"code","cf8bbbc4":"code","5724ce0e":"code","4c9a5f25":"code","e0b53bcc":"code","86ffbab4":"code","f3bb83a1":"code","2365f94a":"code","2dda6c1e":"code","d497e903":"code","8178a467":"code","3ac35187":"code","45133180":"markdown","98b88dc4":"markdown","598b6b01":"markdown","ed572b96":"markdown","54fb04d4":"markdown","8f625de3":"markdown","4e7825f5":"markdown","08e4d9a6":"markdown","fb88998f":"markdown"},"source":{"14921e89":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.metrics import confusion_matrix","0298fe20":"df = pd.read_csv(\"..\/input\/early-diabetes-classification\/diabetes_data.csv\",delimiter = ';')","cf8bbbc4":"df.head()","5724ce0e":"df.dtypes","4c9a5f25":"df.describe()","e0b53bcc":"# Outlier in Female data\n\nfor i,j in df.groupby(\"gender\"):\n    plt.hist(j[\"age\"],alpha = 0.6,bins = 10)\nplt.legend([\"Female\",\"Male\"])\nplt.title(\"Distribution of age for Males and Females\")","86ffbab4":"l = []\nfor i,j in df.groupby(\"class\"):\n    plt.hist(j[\"age\"],alpha = 0.6,bins = 10)\n    l.append(i)\nplt.legend(l)\nplt.title(\"Age Distribution for diabetic and non-diabetic people\")","f3bb83a1":"cols = ['polyuria', 'polydipsia', 'sudden_weight_loss',\n       'weakness', 'polyphagia', 'genital_thrush', 'visual_blurring',\n       'itching', 'irritability', 'delayed_healing', 'partial_paresis',\n       'muscle_stiffness', 'alopecia', 'obesity', 'class']\nfig,ax = plt.subplots(4,4,figsize = (16,16),sharex = True,sharey = True)\nfor i in range(len(cols)):\n    _ = ax[i%4][i\/\/4].hist(df[cols[i]])\n    ax[i%4][i\/\/4].title.set_text(cols[i])","2365f94a":"cols = ['polyuria', 'polydipsia', 'sudden_weight_loss',\n       'weakness', 'polyphagia', 'genital_thrush', 'visual_blurring',\n       'itching', 'irritability', 'delayed_healing', 'partial_paresis',\n       'muscle_stiffness', 'alopecia', 'obesity']\nfig,ax = plt.subplots(4,4,figsize = (16,16),sharex = True,sharey = True)\nfor i in range(len(cols)):\n    l = []\n    for j,k in df.groupby(cols[i]):\n        ax[i%4][i\/\/4].hist(k['age'],alpha = 0.5)\n        ax[i%4][i\/\/4].title.set_text(cols[i])\n        l.append(j)\n    ax[i%4][i\/\/4].legend(l)","2dda6c1e":"cols = ['polyuria', 'polydipsia', 'sudden_weight_loss',\n       'weakness', 'polyphagia', 'genital_thrush', 'visual_blurring',\n       'itching', 'irritability', 'delayed_healing', 'partial_paresis',\n       'muscle_stiffness', 'alopecia', 'obesity']\nfig,ax = plt.subplots(4,4,figsize = (16,16),sharex = True,sharey = True)\nfor i in range(len(cols)):\n    ax[i%4][i\/\/4].imshow(confusion_matrix(df['class'],df[cols[i]])\/np.array([np.sum(df[cols[i]]==0),np.sum(df[cols[i]]==1)]),cmap = \"Blues\")\n    ax[i%4][i\/\/4].set_xlabel(cols[i])\n    ax[i%4][i\/\/4].set_ylabel(\"class\")\n_ = fig.suptitle(\"Percentage of people belonging to class_0(Non-Diabetic) and class_1(Diabetic) on the basis of presence\/absence of a given symptom or testing postive\/negative on a given test\")","d497e903":"from scipy.stats import mannwhitneyu\nl = []\nfor i,j in df.groupby(\"class\"):\n    print(i)\n    l.append(j[\"age\"])\nprint(\"p-value:\",100*mannwhitneyu(l[0],l[1],alternative = \"less\")[1],\"%\")","8178a467":"from scipy.stats import chi2_contingency\n\nchi2_contingency(confusion_matrix(df[\"class\"],df[\"itching\"]))[1]","3ac35187":"from scipy.stats import normaltest\n\nnormaltest(df[\"age\"])","45133180":"##### Hypothesis 3:\n\nH0:Age data observed comes from normal distribution. \n\nH1:Age data observed does not come from normal distribution.\n\nTest:Normal test\n\nsize = 5%","98b88dc4":"Null Hypothesis rejected that the age data observed is generated from some normal distribution.","598b6b01":"This implies that older people are more prone to diabetes and null hypothesis is rejected. ","ed572b96":"Null Hypothesis cannot be rejected that itching - diabetes pairs are independent.","54fb04d4":"Cleaning was not done since the data was already in good format.\nFeature engineering was not required here.\n\nThe first graph clearly shows some outlier values where data for older-aged women is shown which does not properly align with the given distribution.Also data is unbalanced as more Males are there than the females.Hypothesis testing to be done to check that both male and females age distribution is the same.\n\nIn the second graph, it is visible that older aged people are clearly more prone to diabetes, some effect also due to the  presence of outliers in female data.\n\nThird graph shows that naturally symptoms and test gives worse results as the age increases. This should be explored more.Also distribution seems normal and not much outliers are encountered should be checked using hypothesis testing.\n\nFourth graph shows which features are imbalanced and in which direction they are imbalanced.\n\nFirst column of each subplot of fifth graph shows the correlation between being diabetic and testing negative for the given test\/symptom. Seoncd column respectively shows the correlation between being diabetic and testing positive for the given test\/symptom. Polyuria test give good baseline as seen in the fifth graph. Itching seems not so significant feature.\n","8f625de3":"Predict a person is diabetic or non-diabetic based on the presence\/absence of some symptoms or being postive\/negative on some test.","4e7825f5":"### Hypothesis Testing\n\n#### Hypothesis 1:\n    \n    H0: Older and younger people are equally likely to be diabetic\n    H1: Older people are more prone to diabetes\n    Test: ttest or mann whitney wilcoxon. Since dataset is small therefore matt whitney is used here.\n    Size = 5%","08e4d9a6":"##### Hypothesis 2:\n\nH0: Itching is independent to having diabetes.\n\nH1:Itching has some correlation to having diabetes.\n\nTest:Chi2_contigency\n\nsize = 5%","fb88998f":"### Diabetes Classification"}}