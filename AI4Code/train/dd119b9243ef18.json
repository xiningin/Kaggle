{"cell_type":{"32a1f84e":"code","4327b2d2":"code","5f7f1401":"code","38ff6679":"code","c9364cb6":"code","563a95aa":"code","e3815640":"code","2ea4612b":"code","123ffffc":"code","c8e44177":"code","c407423e":"code","9b288c13":"code","1060a719":"code","4e65bed2":"code","4aa59010":"code","5f16edd5":"code","6d4b76c9":"code","617b131a":"code","5911c9bf":"code","73018827":"code","672325cd":"code","e9db62d3":"code","14cc124f":"code","b197273c":"code","eeb07543":"code","7b0ccb90":"code","060ae13b":"code","17dca944":"code","ca886ac7":"code","7a1ebf88":"code","2ac688bd":"code","ef548dee":"code","56c5c1bc":"code","0360725e":"code","2f845c5b":"code","ec2206b2":"code","4ffa8811":"code","2f78739a":"markdown","2f6d3df6":"markdown","60d27186":"markdown","dc16659b":"markdown","a3103a9c":"markdown","9ecdd0d5":"markdown","097894ed":"markdown","f71a9638":"markdown","0f530a87":"markdown","e506d579":"markdown","bba8b394":"markdown","52573c5b":"markdown","8c694919":"markdown","bd38fa18":"markdown","d97491b3":"markdown","0d6b0af2":"markdown","34136271":"markdown","a77166d5":"markdown","373d4e4c":"markdown","277c28e6":"markdown","6d005c4c":"markdown","ff33b7f4":"markdown","d28e7bff":"markdown"},"source":{"32a1f84e":"# For autoreloading modules\n%load_ext autoreload\n%autoreload 2\n# For notebook plotting\n%matplotlib inline\n\n# Standard libraries\nimport os\nimport numpy as np\nimport pandas as pd\n\n# Visualization\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom pdpbox import pdp\nfrom plotnine import *\nfrom pandas_summary import DataFrameSummary\nfrom IPython.display import display\nfrom datetime import datetime","4327b2d2":"KAGGLE_DIR = '..\/input\/'\ndata = pd.read_csv(KAGGLE_DIR + 'sc2-matches-history.csv')","5f7f1401":"print('First 5 rows: ')\ndisplay(data.head())\n\nprint('Last 5 rows: ')\ndisplay(data.tail())","38ff6679":"data.describe()","c9364cb6":"display(data[data['player_2'].isnull()])","563a95aa":"data.drop(85860, inplace=True)","e3815640":"display(data[data['player_2'].isnull()])","2ea4612b":"all_data = data[(data['player_1']=='Bly') | (data['player_1']=='Kas')]\n\ndisplay(all_data.head(10))\n\ndisplay(all_data.tail(10))","123ffffc":"all_data = all_data[all_data['addon']=='LotV']","c8e44177":"all_data.dtypes","c407423e":"all_data['match_date'] =pd.to_datetime(all_data['match_date'],dayfirst=False)","9b288c13":"all_data.dtypes","1060a719":"data_df = (all_data.melt('player_1')\n       .groupby(['player_1','variable'])['value']\n       .value_counts()\n       .unstack([1,2], fill_value=0)\n       .rename_axis((None, None), 1))","4e65bed2":"data_df['player_1_match_status'].plot(kind='bar', stacked=True)","4aa59010":"all_state_pcts = (all_data.melt('player_1_match_status')\n       .groupby(['player_1_match_status','variable'])['value']\n       .value_counts()\n       .unstack([1,2], fill_value=0)\n       .rename_axis((None, None), 1)).apply(lambda x:\n                                                 100 * x \/ float(x.sum()))","5f16edd5":"all_state_pcts = all_state_pcts['player_1'].transpose()","6d4b76c9":"all_state_pcts = all_state_pcts[['[winner]','[loser]']]","617b131a":"all_state_pcts.plot(kind='bar', stacked=True)","5911c9bf":"data_df_5 = (all_data.groupby('player_1').head(5).melt('player_1')\n       .groupby(['player_1','variable'])['value']\n       .value_counts()\n       .unstack([1,2], fill_value=0)\n       .rename_axis((None, None), 1))","73018827":"data_df_5['player_1_match_status'].plot(kind='bar', stacked=True)","672325cd":"bly_opposing_race = all_data[(all_data['player_1']=='Bly') & (all_data['player_2_race']=='T')]\n\ndisplay(bly_opposing_race.head(10))","e9db62d3":"bly_pcts = (bly_opposing_race.melt('player_1_match_status')\n       .groupby(['player_1_match_status','variable'])['value']\n       .value_counts()\n       .unstack([1,2], fill_value=0)\n       .rename_axis((None, None), 1)).apply(lambda x:\n                                                 100 * x \/ float(x.sum()))","14cc124f":"bly_pcts['player_1'].plot.pie(y='Bly', autopct='%1.1f%%',figsize=(7, 7))","b197273c":"bly_pcts_5 = (bly_opposing_race.groupby('player_1').head(5).melt('player_1_match_status')\n       .groupby(['player_1_match_status','variable'])['value']\n       .value_counts()\n       .unstack([1,2], fill_value=0)\n       .rename_axis((None, None), 1)).apply(lambda x:\n                                                 100 * x \/ float(x.sum()))","eeb07543":"bly_pcts_5['player_1'].plot.pie(y='Bly', autopct='%1.1f%%',figsize=(7, 7))","7b0ccb90":"kas_opposing_race = all_data[(all_data['player_1']=='Kas') & (all_data['player_2_race']=='Z')]\n\ndisplay(kas_opposing_race.head(10))","060ae13b":"kas_pcts = (kas_opposing_race.melt('player_1_match_status')\n       .groupby(['player_1_match_status','variable'])['value']\n       .value_counts()\n       .unstack([1,2], fill_value=0)\n       .rename_axis((None, None), 1)).apply(lambda x:\n                                                 100 * x \/ float(x.sum()))","17dca944":"kas_pcts['player_1'].plot.pie(y='Kas', autopct='%1.1f%%',figsize=(7, 7))","ca886ac7":"kas_pcts_5 = (kas_opposing_race.groupby('player_1').head(5).melt('player_1_match_status')\n       .groupby(['player_1_match_status','variable'])['value']\n       .value_counts()\n       .unstack([1,2], fill_value=0)\n       .rename_axis((None, None), 1)).apply(lambda x:\n                                                 100 * x \/ float(x.sum()))","7a1ebf88":"kas_pcts_5['player_1'].plot.pie(y='Kas', autopct='%1.1f%%',figsize=(7, 7))","2ac688bd":"against_data = all_data[(all_data['player_1']=='Bly') &(all_data['player_2']=='Kas')]","ef548dee":"df = (against_data.melt('player_1_match_status')\n       .groupby(['player_1_match_status','variable'])['value']\n       .value_counts()\n       .unstack([1,2], fill_value=0)\n       .rename_axis((None, None), 1))","56c5c1bc":"state_pcts = df['player_1'].groupby(level=0).apply(lambda x:\n                                                 100 * x \/ float(df['player_1'].sum()))","0360725e":"state_pcts.plot.pie(y='Bly', autopct='%1.1f%%',figsize=(7, 7))","2f845c5b":"df_5 = (against_data.nlargest(5, 'match_date').melt('player_1_match_status')\n       .groupby(['player_1_match_status','variable'])['value']\n       .value_counts()\n       .unstack([1,2], fill_value=0)\n       .rename_axis((None, None), 1))","ec2206b2":"state_pcts_5 = df_5['player_1'].groupby(level=0).apply(lambda x:\n                                                 100 * x \/ float(df_5['player_1'].sum()))","4ffa8811":"state_pcts_5.plot.pie(y='Bly', autopct='%1.1f%%', figsize=(7, 7))","2f78739a":"## Table Of Contents:\n* [Goal](#first-bullet)\n* [Load and clean data](#second-bullet)\n* [Historical score](#third-bullet)\n* [Opposing race](#fourth-bullet)\n* [Each other](#fifth-bullet)\n* [TODO](#sixth-bullet)","2f6d3df6":"### Final conclusion\nAs can be seen from the analysis, Bly is a more experienced LotV player than Kas. Historically and after the game, Bly beat his opponent more often. Bly also has a good win rate against his opponent's race. As a result, in the confrontation of Bly and Kas, I prefer the first.","60d27186":"## Goal <a class=\"anchor\" id=\"first-bullet\"><\/a>\n\nThe goal of this analysis is to compare the main indicators of the two pro players and to understand whether it is possible to conclude from them about the victory or the advantage of one of the players.","dc16659b":"Just see the last 5 games","a3103a9c":"## Load and clean data <a class=\"anchor\" id=\"second-bullet\"><\/a>\n\nLet's load all libraries necessary for us and. And also check for empty values.","9ecdd0d5":"**\u0421onclusion:**\n\nBly played a lot more matches than Kas in LotV. But from this graph is not quite clear winrate. Need to see the winrate.","097894ed":"## Opposing race <a class=\"anchor\" id=\"fourth-bullet\"><\/a>\n\nIn Starcraft 2, it often happens that a player can play very well against some particular race. \u0421heck how both players play against the opponent's race.\n\nLet's start with Bly","f71a9638":"**\u0421onclusion:**\n\nWinrate in the last 5 games of the players' wallpaper is the same.  It is noticeable that Bly plays well enough against the Terrans and has a high win rate.","0f530a87":"Display first five rows and last 5 rows.","e506d579":"**\u0421onclusion:**\n\nIt is absolutely clear that Bly, both historically and in the last 5 matches, is stronger than his opponent.","bba8b394":"![Starcraft 2 Pro Players compare EDA](https:\/\/game4u.co.za\/wp-content\/uploads\/SCLOFTVbanner.jpg)","52573c5b":"We will be interested only in games in LotV, since all games are played on it.","8c694919":"## Historical score <a class=\"anchor\" id=\"third-bullet\"><\/a>\n\nLet's look at how well the players play historically in the LotV.","bd38fa18":"# Starcraft 2 Pro Players compare EDA","d97491b3":"**\u0421onclusion:**\n\nThe last 5 games, Kas did not lose at the same time, Bly has two defeats. We can assume that Kas is in better form.","0d6b0af2":"Chek it again.","34136271":"## TODO <a class=\"anchor\" id=\"sixth-bullet\"><\/a>\n\n1. Make features to view information on any two players.\n1.  It is necessary to take into account when analyzing the match score\n1.  Add feature - patch. The balance of the game depends on the patch very much and how the players adapt to it\n1.  Build a model for forecasting","a77166d5":"Check the data types of our columns. In the date_ column, it is important for us that there be a date. This is necessary to analyze the latest matches.","373d4e4c":"## Each other <a class=\"anchor\" id=\"fifth-bullet\"><\/a>\n\nA very important indicator is the history of the games of the players with each other. Perhaps some of the players are more in a position to play against another.\n\nWe\u2019ll look at Blyu\u2019s statistics, Kas\u2019s statistics are simply inverted data.","277c28e6":"For comparison, we take two Ukrainian pro players [Bly](https:\/\/liquipedia.net\/starcraft2\/Bly) and [Kas](https:\/\/liquipedia.net\/starcraft2\/Kas) and form a data frame on them.\n\n![Bly vs Kas](https:\/\/i.ytimg.com\/vi\/qQWacD67slk\/maxresdefault.jpg)\n","6d005c4c":"Now let's see the same thing with Kas.","ff33b7f4":"Now we see that in the player_2 column there is an empty value. Let's look at it and delete it.","d28e7bff":"**\u0421onclusion:**\n\nNow we can conclude that Bly played twice as many games as Kas in the LotV, but at the same time both players' winrate is very close.\n\nAdditionally, we\u2019ll see the last 5 games to draw a conclusion on the current form of both players."}}