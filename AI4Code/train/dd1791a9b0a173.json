{"cell_type":{"449070e9":"code","f42e6cc3":"code","870ba606":"code","747b0b2d":"markdown","d93c76c6":"markdown"},"source":{"449070e9":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport folium\n\n#df_traffic = pd.read_csv('..\/input\/ukTrafficAADF.csv')\ndf_acc = pd.read_csv('..\/input\/current_send.csv', dtype=object)","f42e6cc3":"heat_map = folium.Map(location=[51.5074, 0.1278],\n                    zoom_start = 11) # Uses lat then lon. The bigger the zoom number, the closer in you get\n\nfrom folium import plugins\n\n# Adds tool to the top right\nfrom folium.plugins import MeasureControl\nmap_hooray.add_child(MeasureControl())\n\n# Fairly obvious I imagine - works best with transparent backgrounds\nfrom folium.plugins import FloatImage\nurl = ('https:\/\/media.licdn.com\/mpr\/mpr\/shrinknp_100_100\/AAEAAQAAAAAAAAlgAAAAJGE3OTA4YTdlLTkzZjUtNDFjYy1iZThlLWQ5OTNkYzlhNzM4OQ.jpg')\nFloatImage(url, bottom=5, left=85).add_to(heat_map)\n\nheat_map","870ba606":"from folium import plugins\nfrom folium.plugins import HeatMap\n\n\nmap_hooray = folium.Map(location=[51.5074, 0.1278],\n                    zoom_start = 13) \n\n# handing it floats\ndf_acc['Latitude'] = df_acc['latitude_current'].astype(float)\ndf_acc['Longitude'] = df_acc['longitude_current'].astype(float)\n\n# Filter the DF for rows, then columns, then remove NaNs\nheat_df = df_acc \nheat_df = heat_df.dropna(axis=0, subset=['latitude_current','longitude_current'])\n\n# List comprehension to make out list of lists\nheat_data = [[row['Latitude'],row['Longitude']] for index, row in heat_df.iterrows()]\n\n# Plot it on the map\nHeatMap(heat_data).add_to(map_hooray)\n\n# Display the map\nmap_hooray\n\n","747b0b2d":"# Heatmaps, boo-ya!\nDefinitely one of the best functions in Folium. This does not take Dataframes. You'll need to give it a list of lat, lons, i.e. a list of lists. It should be like this. NaNs will also trip it up,\n> [[lat, lon],[lat, lon],[lat, lon],[lat, lon],[lat, lon]]","d93c76c6":"# Interaction with the map"}}