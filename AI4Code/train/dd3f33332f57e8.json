{"cell_type":{"dca9a00a":"code","72ee575d":"code","dce9ef71":"code","2f88415c":"code","58063ca1":"code","0d0852ce":"code","b0b24ef1":"code","62ba2bb6":"code","1e8844a2":"code","e92d12d6":"code","0e9233af":"code","b9ac3323":"code","75e8094b":"code","e3529ce1":"code","61433861":"code","6bc3d61e":"code","f3fd272f":"code","3161b65b":"code","24289da5":"code","16615124":"code","cd22baa4":"code","8dfc83f1":"code","d739d7e4":"code","545c316e":"code","6025f27e":"code","0ddf56bd":"code","61ad2aa2":"code","a22d0cfb":"code","bf52ee6e":"code","b1346de1":"code","f26ee08d":"code","8e6c9b13":"code","6998d39b":"code","bfc82776":"code","31e8e743":"code","eb163def":"code","eea7c1fe":"code","719195df":"code","1006e415":"code","0f427432":"code","e7ae29ce":"code","aea01829":"code","fd5f6e16":"code","952170cc":"code","6bea8aea":"code","496aa443":"code","1b0cecf9":"code","a704bb84":"code","fdbab3c2":"code","eb646445":"code","003c6c06":"code","b7d197b6":"code","581fc97d":"code","f4487046":"code","92e33916":"code","0972600e":"code","7b2e32fa":"code","2544a507":"code","a5880284":"code","109c0727":"code","c3515a76":"code","37c4f9d2":"code","36eb6f6c":"code","76b6e882":"code","cac25c19":"code","77b37420":"code","cb5adbbb":"code","943ea910":"code","b7e3d42a":"code","8092a308":"code","74a85697":"code","5f651d23":"code","6a2158f7":"code","25608b45":"code","26b76fbb":"code","2433bd42":"code","9f01fc13":"code","7c1eb81a":"code","73e62796":"code","07775057":"code","c6478eeb":"code","4c3aa33c":"code","febce05d":"code","50216cdc":"code","6df3cde9":"code","a4c02920":"code","ec4567b2":"code","9ed86001":"code","b0635fba":"code","594fef85":"code","8f8caee4":"code","1f3d2e54":"code","39903751":"code","34d20d53":"code","d219425f":"code","713ee301":"code","14272bef":"code","609da16e":"code","8d72e9bf":"code","4b703954":"code","1812b23e":"code","ebd7fbc8":"code","38bdf287":"code","901bd866":"code","840b16f1":"code","095c5573":"code","caa872ca":"code","53490dfd":"code","ab19e3c7":"code","3cda6ad8":"code","00ca8f38":"code","b8a0e100":"markdown","a4328f49":"markdown","3712c3e6":"markdown","37e47f9c":"markdown","b1424318":"markdown","110b8fa8":"markdown","129d2ce1":"markdown"},"source":{"dca9a00a":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","72ee575d":"df = pd.read_csv(\"..\/input\/house-prices-advanced-regression-techniques\/train.csv\")\ndf2 = pd.read_csv('..\/input\/house-prices-advanced-regression-techniques\/test.csv')","dce9ef71":"df.head()","2f88415c":"df.info()","58063ca1":"df2.info()","0d0852ce":"plt.figure(figsize=(14,8))\nsns.heatmap(df.corr())","b0b24ef1":"column = df.corr().loc['SalePrice'].sort_values().tail(10).index\ncolumn","62ba2bb6":"#for i in column:\n    #sns.scatterplot(x=i,y='SalePrice',data=df)\n    #plt.show()","1e8844a2":"sns.scatterplot(x='OverallQual',y='SalePrice',data=df) ","e92d12d6":"sns.scatterplot(x='GrLivArea',y='SalePrice',data=df)","0e9233af":"sns.scatterplot(x='GarageArea',y='SalePrice',data=df)","b9ac3323":"df[(df['SalePrice']<=300000) & (df['GrLivArea']>=4000)]","75e8094b":"drop_index = df[(df['SalePrice']<=300000) & (df['GrLivArea']>=4000)].index","e3529ce1":"df.drop(drop_index,axis=0, inplace=True)","61433861":"#for i in column:\n    #sns.scatterplot(x=i,y='SalePrice',data=df)\n    #plt.show()\n","6bc3d61e":"sns.scatterplot(x='GrLivArea',y='SalePrice',data=df)","f3fd272f":"sns.scatterplot(x='OverallQual',y='SalePrice',data=df)","3161b65b":"with open('..\/input\/house-prices-advanced-regression-techniques\/data_description.txt','r') as f: \n    print(f.read())","24289da5":"100* df.isnull().sum() \/ len(df)","16615124":"df.shape","cd22baa4":"def percentage_plot(x):\n    percentage_nan = 100* df.isnull().sum() \/ len(x)\n    percentage_nan = percentage_nan[percentage_nan>0].sort_values()\n    return percentage_nan\ndef show_plot(x):\n    percentage_nan = percentage_plot(x)\n    plt.figure(figsize=(10,6))\n    sns.barplot(x=percentage_nan.index, y= percentage_nan)\n    plt.xticks(rotation=90)\n    plt.show()","8dfc83f1":"percentage_nan = percentage_plot(df)\npercentage_nan_2 = percentage_plot(df2)","d739d7e4":"percentage_nan","545c316e":"percentage_nan_2","6025f27e":"show_plot(df)","0ddf56bd":"show_plot(df2)","61ad2aa2":"percentage_nan[percentage_nan<=5]","a22d0cfb":"percentage_nan_2[percentage_nan_2<=5]","bf52ee6e":"df[df['Electrical'].isnull()].index","b1346de1":"df.drop(df[df['Electrical'].isnull()].index,axis=0,inplace=True)\n#df2.drop(df2[df2['Electrical'].isnull()].index,axis=0,inplace=True)\ndf2['Electrical'].fillna('None')","f26ee08d":"show_plot(df)","8e6c9b13":"show_plot(df2)","6998d39b":"percentage_nan = percentage_plot(df)\npercentage_nan[percentage_nan<=5]","bfc82776":"df_nums = df.select_dtypes(exclude='object')\ndf_objs = df.select_dtypes(include='object')","31e8e743":"df_nums.columns","eb163def":"df_objs.columns","eea7c1fe":"bsmt_str_cols =  ['BsmtQual', 'BsmtCond', 'BsmtExposure', 'BsmtFinType1', 'BsmtFinType2']\ndf[bsmt_str_cols] = df[bsmt_str_cols].fillna('None')\ndf2[bsmt_str_cols] = df2[bsmt_str_cols].fillna('None')","719195df":"bsmt_num_cols = ['BsmtFinSF1', 'BsmtFinSF2', 'BsmtUnfSF','TotalBsmtSF', 'BsmtFullBath', 'BsmtHalfBath']\ndf[bsmt_num_cols] = df[bsmt_num_cols].fillna(0)\ndf2[bsmt_num_cols] = df2[bsmt_num_cols].fillna(0)","1006e415":"show_plot(df)","0f427432":"show_plot(df2)","e7ae29ce":"df['MasVnrType'] = df['MasVnrType'].fillna('None')\ndf2['MasVnrType'] = df2['MasVnrType'].fillna('None')","aea01829":"df['MasVnrArea'] = df['MasVnrArea'].fillna(0)\ndf2['MasVnrArea'] = df2['MasVnrArea'].fillna(0)","fd5f6e16":"show_plot(df)","952170cc":"show_plot(df2)","6bea8aea":"df = df.drop(['PoolQC','MiscFeature','Alley','Fence'],axis=1)\n# as more % of data is missing in these columns\ndf2 = df2.drop(['PoolQC','MiscFeature','Alley','Fence'],axis=1)","496aa443":"show_plot(df)","1b0cecf9":"show_plot(df2)","a704bb84":"Garage_categorical = ['GarageType', 'GarageFinish', 'GarageQual','GarageCond']\ndf[Garage_categorical] = df[Garage_categorical].fillna('None')\ndf2[Garage_categorical] = df2[Garage_categorical].fillna('None')","fdbab3c2":"Garage_num = ['GarageCars', 'GarageArea','GarageYrBlt']\ndf[Garage_num] = df[Garage_num].fillna(0)\n\ndf2[Garage_num] = df2[Garage_num].fillna(0)","eb646445":"show_plot(df)","003c6c06":"show_plot(df2)","b7d197b6":"df['FireplaceQu'] = df['FireplaceQu'].fillna('None')\ndf2['FireplaceQu'] = df2['FireplaceQu'].fillna('None')","581fc97d":"show_plot(df)","f4487046":"show_plot(df2)","92e33916":"df['LotFrontage'] = df.groupby('Neighborhood')['LotFrontage'].transform(lambda val: val.fillna(val.mean()))\ndf2['LotFrontage'] = df2.groupby('Neighborhood')['LotFrontage'].transform(lambda val: val.fillna(val.mean()))","0972600e":"df.dropna(inplace=True)\ndf2[df2['LotFrontage'].isnull()] = df2['LotFrontage'].mean()","7b2e32fa":"d = df2.isnull().sum()\nd.index","2544a507":"for i in d.index:\n    if(d[i]>0):\n        print(i,d[i])","a5880284":"\npercentage_nan_2 = percentage_plot(df2)","109c0727":"percentage_nan_2","c3515a76":"sns.heatmap(df.isnull(),yticklabels=False,cbar=False,cmap='viridis')","37c4f9d2":"\nsns.heatmap(df2.isnull(),yticklabels=False,cbar=False,cmap='viridis')\n","36eb6f6c":"df_nums = df.select_dtypes(exclude='object')\ndf_objs = df.select_dtypes(include='object')\n\ndf2_nums = df2.select_dtypes(exclude='object')\ndf2_objs = df2.select_dtypes(include='object')\n\ntotal_df = pd.concat([df_objs,df2_objs])","76b6e882":"df_objs.info()","cac25c19":"df2_objs.info()","77b37420":"total_df.info()","cb5adbbb":"total_df.head()","943ea910":"total_df = pd.get_dummies(total_df)","b7e3d42a":"total_df","8092a308":"df_objs = total_df.iloc[:1457]","74a85697":"df_objs","5f651d23":"df2_objs = total_df.iloc[1457:]","6a2158f7":"df2_objs","25608b45":"df_objs.info()","26b76fbb":"df2_objs.info()","2433bd42":"df = pd.concat([df_nums,df_objs],axis=1)\ndf2 = pd.concat([df2_nums,df2_objs],axis=1)","9f01fc13":"df.info()","7c1eb81a":"df2.info()","73e62796":"from sklearn.model_selection import train_test_split","07775057":"x = df.drop('SalePrice',axis=1)","c6478eeb":"y = df['SalePrice']","4c3aa33c":"x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.3, random_state=101)","febce05d":"from sklearn.linear_model import ElasticNetCV","50216cdc":"elastic_model = ElasticNetCV(l1_ratio=[.1,.5,.7,.9,.95,.99,1],n_alphas=100,max_iter=100000,eps=0.0000001)","6df3cde9":"elastic_model.fit(x_train,y_train)","a4c02920":"elastic_model.l1_ratio_","ec4567b2":"elastic_model.alpha_","9ed86001":"elastic_model.coef_","b0635fba":"predictions = elastic_model.predict(x_test)","594fef85":"from sklearn.metrics import mean_absolute_error,mean_squared_error,r2_score","8f8caee4":"mae = mean_absolute_error(y_test,predictions)\nmae","1f3d2e54":"rmse = np.sqrt(mean_squared_error(y_test,predictions))\nrmse","39903751":"r2 = r2_score(y_test,predictions)\nr2","34d20d53":"sns.displot(y_test-predictions, bins=30)","d219425f":"plt.scatter(y_test,predictions)","713ee301":"elastic_model.fit(x,y)","14272bef":"pred = elastic_model.predict(df2)","609da16e":"len(pred)","8d72e9bf":"np.isnan(pred).sum()","4b703954":"df2","1812b23e":"final_submit = pd.DataFrame(df2['Id'])\n","ebd7fbc8":"final_submit['SalePrice'] = 0","38bdf287":"for i in range(len(final_submit)):\n    final_submit['SalePrice'].iloc[i] = pred[i]","901bd866":"#final_submit['SalePrice'] = pd.DataFrame(pred)","840b16f1":"final_submit.head()","095c5573":"len(final_submit)","caa872ca":"final_submit","53490dfd":"final_submit['Id'] = final_submit['Id'].astype('int32')","ab19e3c7":"final_submit.to_csv('final_submission.csv', index=False)","3cda6ad8":"final_submit.info()","00ca8f38":"final_submit.columns\n","b8a0e100":"# Basement\n","a4328f49":"BsmtFinSF1 1\nBsmtFinSF2 1\nBsmtUnfSF 1\nTotalBsmtSF 1\nBsmtFullBath 2\nBsmtHalfBath 2\nGarageCars 1\nGarageArea 1","3712c3e6":"# If % nan is less than 1 deal with the data by rows, drop the rows if not needed or fill them with appropriate values\n\n\n# Electrical\n","37e47f9c":"# MAS VNR","b1424318":"# We need to remove these three outliers","110b8fa8":"# Now we succesfully removed null values from columns having less than 5% missing data","129d2ce1":"#  All outliers are removed\n# Now we are dealing with missing data"}}