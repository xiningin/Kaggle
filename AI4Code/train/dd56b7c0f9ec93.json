{"cell_type":{"31c2ff2a":"code","1686164f":"code","047bb230":"code","325a2723":"code","f82fc89f":"code","f0f31704":"code","f2d02c52":"code","76304abc":"code","4e70241d":"code","6b0a5a0d":"code","a167ecb4":"code","c9d54d9f":"code","fc04a1a3":"markdown","2ad5edf3":"markdown"},"source":{"31c2ff2a":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom wordcloud import WordCloud, STOPWORDS\n%matplotlib inline\n\nSEED = 0\nDATA_DIR = '..\/input\/criterion-movies-collection'\nFILENAME = 'data.csv'\n\nDATA_FILE = f'{DATA_DIR}\/{FILENAME}'","1686164f":"data = pd.read_csv(DATA_FILE)\ndata.drop(data.columns[0], axis=1, inplace=True)","047bb230":"data.isnull().sum()","325a2723":"data.dropna(subset=['Year', 'Country'], inplace=True)\ndata.drop('Image', axis=1, inplace=True)\n\ndata['Year'] = data['Year'].astype('int32')","f82fc89f":"print(data.shape)\ndata.sample(10)","f0f31704":"# top italian directors\nitalian_movies = data.loc[data['Country'] == 'Italy']\nit_movies_by_director = italian_movies.groupby('Director').agg({ 'Title': 'count' })\nit_movies_sorted = it_movies_by_director.sort_values(by='Title', ascending=False).rename(columns={'Title': 'Number of Movies'})\nit_movies_sorted.head(8)","f2d02c52":"descending_order = data['Director'].value_counts().sort_values(ascending=False).iloc[:10].index\nplt.rcParams['figure.figsize']=(20,6)\nax = sns.countplot(x='Director', data=data, palette = 'Spectral', order=descending_order)\nax.set_title(label='Number of films by Director', fontsize=20)\nplt.show()","76304abc":"import matplotlib.ticker as ticker\n\ndescending_order = data['Country'].value_counts().sort_values(ascending=False).iloc[:10].index\nncount = len(data)\n\nplt.figure(figsize=(20,6))\nax = sns.countplot(x=\"Country\", data=data, order=descending_order, palette = 'Spectral')\nplt.title('Number of films by Country', fontsize=20)\n\nfor p in ax.patches:\n    x=p.get_bbox().get_points()[:,0]\n    y=p.get_bbox().get_points()[1,1]\n    ax.annotate('{:.1f}%'.format(100.*y\/ncount), (x.mean(), y), \n            ha='center', va='bottom', fontsize=12)\nplt.show()","4e70241d":"data['Decade'] = data['Year'].apply(lambda x: ((x \/\/ 10) % 10) * 10)","6b0a5a0d":"descending_order = data['Decade'].value_counts().sort_values(ascending=False).iloc[:10].index\nncount = len(data)\n\nplt.figure(figsize=(20,6))\nax = sns.countplot(x='Decade', data=data, order=descending_order, palette = 'Spectral')\nplt.title('Number of films by Decade', fontsize=20)\n\nfor p in ax.patches:\n    x=p.get_bbox().get_points()[:,0]\n    y=p.get_bbox().get_points()[1,1]\n    ax.annotate('{:.1f}%'.format(100.*y\/ncount), (x.mean(), y), \n            ha='center', va='bottom', fontsize=12)\nplt.show()","a167ecb4":"plt.figure(figsize = (12, 12))\ntext = ' '.join(data['Description'].fillna('').values)\nwordcloud = WordCloud(margin=10, background_color='white', colormap='PuOr', width=1200, height=1000).generate(text)\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.title('Top words used in Description', fontsize=20)\nplt.axis('off')\nplt.show()","c9d54d9f":"plt.figure(figsize = (12, 12))\ntext = ' '.join(data['Title'].fillna('').values)\nwordcloud = WordCloud(margin=10, background_color='white', colormap='coolwarm', width=1200, height=1000).generate(text)\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.title('Top words used in Title', fontsize=20)\nplt.axis('off')\nplt.show()","fc04a1a3":"![](https:\/\/images.squarespace-cdn.com\/content\/v1\/55f32473e4b029b54a7228d2\/1478803164779-DQIYL2PQW7JWB5U9FZMO\/ke17ZwdGBToddI8pDm48kCqCh4Sq2fx-pkOk3g7JZhEUqsxRUqqbr1mOJYKfIPR7LoDQ9mXPOjoJoqy81S2I8N_N4V1vUb5AoIIIbLZhVYxCRW4BPu10St3TBAUQYVKcl9jBw5JjaToP9HFquU_rtDYI1s3OCySyeySHmFFng_xBpaRsm2w_i14HSr87o24b\/image-asset.jpeg)","2ad5edf3":"# Criterion Collection Analysis"}}