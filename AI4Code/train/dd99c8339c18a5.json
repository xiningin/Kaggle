{"cell_type":{"b2e61108":"code","adc6a820":"code","6353f19c":"code","740fc3e2":"code","f1db2c3c":"code","49bc273f":"code","ee8217b0":"code","8738f18c":"code","51292d58":"code","9e1a7d6c":"code","4795ab01":"code","93fdc0d6":"code","4f70ed57":"code","8f25bace":"code","a9d75422":"code","c9f60634":"code","d357ada7":"code","9f6a7c5a":"code","ab74754b":"code","8b8cf1cc":"code","74299551":"code","fde4d862":"code","4c9892b5":"code","793e4d03":"code","017d24c6":"code","1c261f18":"code","3ffb95e8":"code","81ebd1cb":"code","a8e19b8c":"code","325f87b4":"code","4ed29369":"code","ad276e08":"code","7ca698a7":"code","6f43a9b2":"code","ee7f33e6":"code","e9544e36":"code","d893a9bb":"code","b2a92e26":"code","9ecf69aa":"code","f92fb645":"markdown","f0b1d7d0":"markdown","3aeaa3eb":"markdown","e79111c0":"markdown","3a390a17":"markdown","90cc4adb":"markdown","91eefe19":"markdown","ff9fd57c":"markdown","681fc71a":"markdown","e3a34fe4":"markdown","083bc8a8":"markdown","8bf87f41":"markdown","2dcf47df":"markdown","a2d5f899":"markdown","6d6a0d46":"markdown","79546fbb":"markdown","4e0854d6":"markdown","bc481a75":"markdown","242c012b":"markdown","cc279299":"markdown"},"source":{"b2e61108":"import pandas as pd\nimport numpy as np","adc6a820":"data=pd.read_csv(\"..\/input\/heart-failure\/heart_failure_clinical_records_dataset.csv\")\ndf=pd.DataFrame(data)\ndf.head()","6353f19c":"df.info()","740fc3e2":"df[\"age\"].value_counts()","f1db2c3c":"df[\"anaemia\"].value_counts()","49bc273f":"df[\"creatinine_phosphokinase\"].value_counts()","ee8217b0":"df[\"diabetes\"].value_counts()","8738f18c":"df[\"serum_creatinine\"].value_counts()","51292d58":"df[\"serum_sodium\"].value_counts()","9e1a7d6c":"df[\"sex\"].value_counts()","4795ab01":"df[\"smoking\"].value_counts()","93fdc0d6":"df[\"ejection_fraction\"].value_counts()","4f70ed57":"df[\"high_blood_pressure\"].value_counts()","8f25bace":"df[\"platelets\"].value_counts()","a9d75422":"df[\"time\"].value_counts()","c9f60634":"df[\"DEATH_EVENT\"].value_counts()","d357ada7":"df=df.rename(columns={\"DEATH_EVENT\":\"death_event\"})\ndf.info()","9f6a7c5a":"df.isna().sum()","ab74754b":"df.nunique()","8b8cf1cc":"df.describe().T","74299551":"import matplotlib.pyplot as plt \nimport seaborn as sns \nimport plotly.graph_objs as go","fde4d862":"corr = df.corr()\nsns.heatmap(corr, \n            xticklabels=corr.columns.values,\n            yticklabels=corr.columns.values\n          );","4c9892b5":"sns.scatterplot(x = \"serum_creatinine\", y = \"age\",sizes=(100, 600),hue='sex', data = df);","793e4d03":"sns.lmplot(x='platelets', y='ejection_fraction', fit_reg = False, hue = 'death_event',data=df)","017d24c6":"anaemia_yes = df[df['anaemia']==1]\nanaemia_no = df[df['anaemia']==0]\nanaemia_yes_survi = anaemia_yes[df[\"death_event\"]==0]\nanaemia_yes_not_survi = anaemia_yes[df[\"death_event\"]==1]\nanaemia_no_survi = anaemia_no[df[\"death_event\"]==0]\nanaemia_no_not_survi = anaemia_no[df[\"death_event\"]==1]\n\nlabels = ['Anaemia Yes - Survived','Anaemia Yes - Not Survived', 'Anaemia No - Survived', 'Anaemia NO - Not Survived']\nvalues = [len(anaemia_yes[df[\"death_event\"]==0]),len(anaemia_yes[df[\"death_event\"]==1]),\n         len(anaemia_no[df[\"death_event\"]==0]),len(anaemia_no[df[\"death_event\"]==1])]\nfig = go.Figure(data=[go.Pie(labels=labels, values=values, hole=.4)])\nfig.update_layout(\n    title_text=\"Analysis on Survival - Anaemia\")\nfig.show()","1c261f18":"male = df[df[\"sex\"]==1]\nfemale = df[df[\"sex\"]==0]\n\nmale_survi = male[df[\"death_event\"]==0]\nmale_not = male[df[\"death_event\"]==1]\nfemale_survi = female[df[\"death_event\"]==0]\nfemale_not = female[df[\"death_event\"]==1]\n\nlabels = ['Male - Survived','Male - Not Survived', \"Female -  Survived\", \"Female - Not Survived\"]\nvalues = [len(male[df[\"death_event\"]==0]),len(male[df[\"death_event\"]==1]),\n         len(female[df[\"death_event\"]==0]),len(female[df[\"death_event\"]==1])]\nfig = go.Figure(data=[go.Pie(labels=labels, values=values, hole=.4)])\nfig.update_layout(\n    title_text=\"Analysis on Survival - Gender\")\nfig.show()","3ffb95e8":"import tensorflow as tf\nfrom tensorflow import keras\nfrom sklearn.model_selection import train_test_split, GridSearchCV,cross_val_score\nfrom sklearn.metrics import confusion_matrix, accuracy_score, classification_report\nfrom sklearn import metrics\nfrom sklearn.ensemble import GradientBoostingClassifier,RandomForestClassifier\nfrom keras.models import Sequential\nfrom keras.layers import Dense","81ebd1cb":"X = df.drop(\"death_event\",axis=1)\ny = df[\"death_event\"]","a8e19b8c":"X","325f87b4":"y","4ed29369":"\nX_train, X_test, y_train, y_test = train_test_split(X, y, \n                                                    test_size=0.20, \n                                                    random_state=20)","ad276e08":"print(X_train.shape)\nprint(X_test.shape)\nprint(y_train.shape)\nprint(y_test.shape)","7ca698a7":"from sklearn.preprocessing import StandardScaler\nsc = StandardScaler()\nX_train = sc.fit_transform(X_train)\nX_test = sc.transform(X_test)","6f43a9b2":"import tensorflow as tf\n\nmodel= tf.keras.models.Sequential()","ee7f33e6":"model.add(tf.keras.layers.Dense(units = 9, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 6, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 3, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 1, activation = 'sigmoid'))","e9544e36":"model.compile(optimizer = 'adam', loss = 'binary_crossentropy' ,  metrics=[keras.metrics.BinaryAccuracy()] )","d893a9bb":"model.fit(X_train, y_train, batch_size = 64, epochs = 50)","b2a92e26":"y_pred = model.predict(X_test)\ny_pred = (y_pred > 0.5)\nnp.set_printoptions()\npd.DataFrame(list(zip(y_test, y_pred)), columns=['Actual', 'Predicted'])","9ecf69aa":"print(confusion_matrix(y_test, y_pred))\nprint(accuracy_score(y_test, y_pred))","f92fb645":"Verimiz hakk\u0131nda gerekli \u00f6n bilgileri elde etmek i\u00e7in info fonksiyonunu kulland\u0131k.","f0b1d7d0":"Verilerde ayk\u0131r\u0131 de\u011ferlerin say\u0131s\u0131n\u0131 g\u00f6sterdik","3aeaa3eb":"Korelasyon da\u011f\u0131l\u0131m\u0131n\u0131 inceledi\u011fimizde smoking ve sex colonlar\u0131 aras\u0131nda do\u011fru orant\u0131da bir ili\u015fki oldu\u011fu saptanmaktad\u0131r.\nGe\u00e7 hastane ba\u015fvurular\u0131nda \u00f6l\u00fcm oran\u0131 art\u0131yor. Kandaki\nKreatinin oran\u0131 y\u00fcksek hastalarda daha \u00e7ok \u00f6l\u00fcm g\u00f6r\u00fclmektedir.\n","e79111c0":"Modelimizi e\u011fitiyoruz.","3a390a17":"Ger\u00e7ek de\u011ferleri ve tahmin edilen de\u011ferleri kar\u015f\u0131la\u015ft\u0131r\u0131yoruz.","90cc4adb":"ejeksiyon fraksiyonu de\u011ferleri 30'un alt\u0131nda olan hastalarda \u00f6l\u00fcm oran\u0131 daha fazla g\u00f6z\u00fck\u00fcyor.Genel olarak hastal\u0131\u011fa yakalanan herkesin trombosit de\u011ferlerinin 200000-400000 aral\u0131\u011f\u0131nda oldu\u011funu g\u00f6zlemliyoruz","91eefe19":"Verimizin say\u0131sal de\u011ferlerini incelemek i\u00e7in describe fonksiyonundan kulland\u0131k. B\u00f6ylece verilerimiz hakk\u0131nda yorum yapt\u0131k.\n","ff9fd57c":"Giri\u015f katman\u0131 ,gizli katmanlar\u0131 ve \u00e7\u0131k\u0131\u015f katman\u0131n\u0131 ekliyoruz.","681fc71a":"Modelimizin karma\u015f\u0131kl\u0131k matrisini ve ba\u015far\u0131 oran\u0131n\u0131 yazd\u0131r\u0131yoruz.","e3a34fe4":"Kolonlar\u0131n\u0131n isimlendirmesinin standart olmas\u0131 a\u00e7\u0131s\u0131ndan \"DEATH_EVENT\" kolonunu yeniden adland\u0131rd\u0131k","083bc8a8":"Serum kreatinin miktar\u0131 0'la 2 de\u011ferleri aras\u0131nda yo\u011fun olup, 60 ya\u015f seviyesinde bir y\u0131\u011f\u0131lma g\u00f6z\u00fckmektedir. Erkek oran\u0131 kad\u0131nlara g\u00f6re daha y\u00fcksektir.\n","8bf87f41":"Modelimizi olu\u015fturmadan \u00f6nce verilerimizi \u00f6l\u00e7eklendiriyoruz.","2dcf47df":"Ya\u015f de\u011feri 40 ile 95 aras\u0131nda de\u011fi\u015fmekle birlikte ortalama ya\u015f 60't\u0131r.\nAnemi olup bu hastal\u0131\u011fa yakalanan ki\u015fi oran\u0131n\u0131n %43 oldu\u011funu g\u00f6r\u00fcyoruz.\nDiabet hastas\u0131 olup bu hastal\u0131\u011fa yakalanan ki\u015fi oran\u0131n %41 oldu\u011fu g\u00f6r\u00fcl\u00fcyor. \nErkeklerin kad\u0131nlara g\u00f6re daha \u00e7ok bu hastal\u0131\u011fa yakaland\u0131\u011f\u0131n\u0131 g\u00f6r\u00fcyoruz.\nSigara i\u00e7enlerin, i\u00e7meyenlere g\u00f6re daha \u00e7ok bu hastal\u0131\u011fa yakaland\u0131\u011f\u0131 tespit edilmi\u015ftir.","a2d5f899":"Verilerde eksik alanlar\u0131n say\u0131s\u0131n\u0131 tespit etmek i\u00e7in isna fonksiyonunu kulland\u0131k.","6d6a0d46":"Verimizi 64 boyutlu paketlere b\u00f6l\u00fcyoruz ve tekrar say\u0131m\u0131z\u0131 50 olarak belirliyoruz.","79546fbb":"Veri setimizi projeye ekledik ve ilk 5 verimizi yazd\u0131rd\u0131k.\n","4e0854d6":"Verileri e\u011fitim ve test setlerine ay\u0131ral\u0131m. Test i\u00e7in verimizin %20 sini kullanaca\u011f\u0131z.","bc481a75":"Veri setimizi death_event ve di\u011ferleri olmak \u00fczere ikiye ay\u0131r\u0131yoruz.","242c012b":"Modelimizi olu\u015fturmaya ba\u015fl\u0131yoruz","cc279299":"Verimizdeki her bir kolonun say\u0131sal da\u011f\u0131l\u0131m\u0131n\u0131 incelemek i\u00e7in tek tek yazd\u0131rd\u0131k. "}}