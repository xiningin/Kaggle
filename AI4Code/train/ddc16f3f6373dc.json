{"cell_type":{"d2ff3f60":"code","9869f398":"code","879271f4":"code","11cd2393":"code","b3384fca":"code","6b16879a":"code","06fe36e1":"code","0c2dbed2":"code","96bb9f66":"code","1d96ee67":"code","3531fc1b":"code","5e6b6136":"code","99f622f6":"code","b722ad64":"code","7ddeb447":"code","ae41d981":"code","f5e48d19":"code","cf96218b":"code","f7eec38c":"markdown","dfc0b55b":"markdown","41d74363":"markdown","91928018":"markdown","35a7b846":"markdown","b507fc12":"markdown","12d98ecf":"markdown","509e9b69":"markdown","50ae5c42":"markdown","ebb4cd79":"markdown","615f08ab":"markdown"},"source":{"d2ff3f60":"# Install cord19q project\n!pip install git+https:\/\/github.com\/ricardofsilva\/cord19q.git","9869f398":"# Install scispacy model\n!pip install https:\/\/s3-us-west-2.amazonaws.com\/ai2-s2-scispacy\/releases\/v0.2.4\/en_core_sci_md-0.2.4.tar.gz","879271f4":"CORD19_cache = True\n\n# See section \"Technology\" for a description.","11cd2393":"import os\nimport shutil\n\nfrom distutils.dir_util import copy_tree\n\nif CORD19_cache:\n\n    # Copy study design models locally\n    if not os.path.exists(\"cord19q\"):\n        os.mkdir(\"cord19q\")\n\n    #if not os.path.exists(\"cord19q\"):\n    copy_tree(\"..\/input\/cord19cache\/cord19q\", \"cord19q\")\n    copy_tree(\"..\/input\/cord19cache\/vectors\", \"\/root\/.cord19\/vectors\")","b3384fca":"import os\nimport shutil\n\nif not CORD19_cache:\n    # Copy study design models locally\n    #if not os.path.exists(\"cord19q\"):\n    os.mkdir(\"cord19q\")\n\n    #if not os.path.exists(\"cord19q\/attribute\"):\n    shutil.copy(\"..\/input\/cord19-study-design\/attribute\", \"cord19q\")\n\n    #if not os.path.exists(\"cord19q\/design\"):\n    shutil.copy(\"..\/input\/cord19-study-design\/design\", \"cord19q\")","6b16879a":"from cord19q.etl.execute import Execute as Etl\n\n# Build SQLite database for metadata.csv and json full text files\n\nif not CORD19_cache:\n    Etl.run(\"..\/input\/CORD-19-research-challenge\", \"cord19q\")","06fe36e1":"from cord19q.vectors import Vectors\n\nif not CORD19_cache:   \n    Vectors.run('cord19q', 300, 3)    ","0c2dbed2":"from cord19q.index import Index\nfrom datetime import datetime\n\nif not CORD19_cache:    \n    # print(str(datetime.now()))\n    \n    Index.run(\"cord19q\", \"\/root\/.cord19\/vectors\/cord19-300d.magnitude\")    \n    #Index.run(\"cord19q\", \"..\/input\/cord19-fasttext-vectors\/cord19-300d.magnitude\")\n    \n    # print(str(datetime.now()))","96bb9f66":"# Visualize a sankey graphic between design and source","1d96ee67":"!pip install psankey","3531fc1b":"import pandas as pd\nimport numpy as np\nimport sqlite3\n\n\n# Connect to database\ndb = sqlite3.connect(\"cord19q\/articles.sqlite\")\n\n# Articles\nstrSQL = 'select source source, case when design=1 then \"systematic review\" when design in (2, 3) then \"control trial\" when design in (4, 5) then \"prospective studies\" when design=6 then \"retrospective studies\" when design in (7, 8) then \"case series\" else \"modeling\" end as design, ROW_NUMBER() OVER (ORDER BY source, design) id from articles where tags is not null'\n        \npd.set_option(\"max_colwidth\", 125)\ndf = pd.read_sql_query(strSQL, db)\n\n\ndf2 = pd.DataFrame(columns=['source', 'design', 'id'])\n\nfor index, row in df.iterrows():\n    src = row.source\n    src = src.split(';')\n\n    design = row.design\n\n    for s in src:\n        s = s.strip()\n        \n        df2 = df2.append({'source': s, 'design': design, 'id': row.id}, ignore_index=True)","5e6b6136":"df3 = df2.groupby(['design', 'source'])['id'].count()","99f622f6":"df1 = df3.reset_index()\ndf1.columns = ['source', 'target', 'value']\n\ndf1.head(15)","b722ad64":"from psankey.sankey import sankey\n\nimport matplotlib\n\nmatplotlib.rcParams['figure.figsize'] = [20, 20]\nfig, ax = sankey(df1, labelsize=13, nodecmap='copper')","7ddeb447":"import os\nimport os.path\n\nos.environ[\"COLUMNS\"] = \"80\"\n\nfrom cord19q.report.execute import Execute as Report\nfrom IPython.display import display, Markdown\n\nimport shutil\n\nif os.path.exists(\"vaccines\"):\n    shutil.rmtree('vaccines')\n    \nvaccines = \\\n    [\"Effectiveness of drugs being developed and tried to treat COVID-19 patients\",\n     \"Clinical and bench trials to investigate less common viral inhibitors against COVID-19 such as naproxen, clarithromycin, and minocyclinethat that may exert effects on viral replication\",\n     \"Methods evaluating potential complication of Antibody-Dependent Enhancement (ADE) in vaccine recipients\",\n     \"Exploration of use of best animal models and their predictive value for a human vaccine\",\n     \"Capabilities to discover a therapeutic (not vaccine) for the disease, and clinical effectiveness studies to discover therapeutics, to include antiviral agents\",\n     \"Alternative models to aid decision makers in determining how to prioritize and distribute scarce, newly proven therapeutics as production ramps up. This could include identifying approaches for expanding production capacity to ensure equitable and timely distribution to populations in need\",\n     \"Efforts targeted at a universal coronavirus vaccine\",\n     \"Efforts to develop animal models and standardize challenge studies\",\n     \"Efforts to develop prophylaxis clinical studies and prioritize in healthcare workers\",\n     \"Approaches to evaluate risk for enhanced disease after vaccination\",\n     \"Assays to evaluate vaccine immune response and process development for vaccines [in conjunction with therapeutics]\",\n     \"Suitable animal models for vaccine development\",\n     \"What Treatments For Coronavirus Are Being Researched\",\n     \"What Research Is Being Conducted On A Coronavirus Vaccine\", \n     \"What Is The White House Saying About Coronavirus Testing And Treatment\",\n     \"What Will Happen When A Coronavirus Treatment Or Vaccine Becomes Available\",\n     \"Is there a vaccine for the coronavirus disease\",\n     \"What is the treatment for the coronavirus disease\",\n     \"Do vaccines against pneumonia protect against the coronavirus disease\",\n     \"Is the coronavirus disease the same as SARS\",\n     \"Is there a vaccine for the coronavirus disease\",\n     \"Racing for a cure: where are we with COVID-19 vaccines and treatments\",\n     \"Approaches for creating a COVID-19 vaccine\",\n     \"Finding a COVID-19 vaccine is the easy part\"]\n   \n# Writes queries out to a local file for processing\ndef queries(file, queries):\n    # Create output directory\n    os.mkdir(file)\n\n    with open(os.path.join(file, file + \".txt\"), \"w\") as output:\n        for query in queries:\n            output.write(\"%s\\n\" % query)\n\n# Builds Markdown and Excel reports\ndef report(file, category = None):\n    # Create path to input file\n    file = os.path.join(file, file + \".txt\")    \n    \n    Report.run(file, 50, category,\"md\", \"cord19q\")\n    # Report.run(file, 50, category,\"xlsx\", \"cord19q\")\n    Report.run(file, 50, category,\"csv\", \"cord19q\")\n\n# Save queries to file\nqueries(\"vaccines\", vaccines)","ae41d981":"report(\"vaccines\")","f5e48d19":"from IPython.display import display, Markdown\n\n# Where file is the full-path to the Markdown file (transmission, risk-factors, ...)\nfile = \"vaccines\/vaccines.md\"\n\n\ndisplay(Markdown(filename = file))","cf96218b":"# Reports generated\n\n# These are the csv files on the vaccines folder on the output\n\nimport os\nfor dirname, _, filenames in os.walk('vaccines', '*.csv'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","f7eec38c":"# Literature Compilation\nA set of pre generated reports is shown as an example, with information related to the following topics:\n\n* Effectiveness of drugs being developed and tried to treat COVID-19 patients.\n* Clinical and bench trials to investigate less common viral inhibitors against COVID-19 such as naproxen, clarithromycin, and minocyclinethat that may exert effects on viral replication.\n* Methods evaluating potential complication of Antibody-Dependent Enhancement (ADE) in vaccine recipients.\n* Exploration of use of best animal models and their predictive value for a human vaccine.\n* Capabilities to discover a therapeutic (not vaccine) for the disease, and clinical effectiveness studies to discover therapeutics, to include antiviral agents.\n* Alternative models to aid decision makers in determining how to prioritize and distribute scarce, newly proven therapeutics as production ramps up. This could include identifying approaches for expanding production capacity to ensure equitable and timely distribution to populations in need.\n* Efforts targeted at a universal coronavirus vaccine.\n* Efforts to develop animal models and standardize challenge studies.\n* Efforts to develop prophylaxis clinical studies and prioritize in healthcare workers.\n* Approaches to evaluate risk for enhanced disease after vaccination.\n* Assays to evaluate vaccine immune response and process development for vaccines [in conjunction with therapeutics].\n* Suitable animal models for vaccine development.","dfc0b55b":"# Disclaimer\n\nThis disclaimer informs readers that the views, thoughts, and opinions expressed in the text belong solely to the author and not necessarily to the author's employer, organization, committee, or other group or individual.","41d74363":"# Acknowledgements\n\nCORD-19 Analysis with Sentence Embeddings<br>\nhttps:\/\/www.kaggle.com\/davidmezzetti\/cord-19-analysis-with-sentence-embeddings\n\ncord19 Python package<br>\nhttps:\/\/github.com\/neuml\/cord19q","91928018":"# Introduction\n\nAround the world, people are eager to a COVID19 vaccine, which can stop the spread on the earth and revive the economy. Everyone who needs a COVID19 vaccine should be able to get it for free.\n\nWhen one comes into contact with a virus or bacteria, the body\u2019s immune system makes antibodies to fight them off. Vaccines force the immune system to produce antibodies against specific diseases that usually appear in the form of dead or weakened bacteria. The immune system knows what to do if one comes into contact with the virus again, so one doesn't get sick or so illness is much more moderate. A vaccine against COVID-19 would slow its spread around the world.\n\n\nThe World Health Organization reported on the 9th June 2020 that there are 10 vaccine candidates under clinical evaluation. These vaccines should be tested to verify how long it takes a person\u2019s immune system to respond to a vaccine and to wait for side effects.\n\nA vaccine must go through development and testing to make sure it is effective against a virus or bacteria and that it doesn\u2019t cause any other problems when available to the public.\n\nThere are six stages generally followed in the development of a vaccine:\n\n![CORD19_vacvcine3.png](attachment:CORD19_vacvcine3.png)\n\n**1 Exploratory stage**, laboratories start the research to find something that can treat or prevent a disease.\n\n**2 Pre-clinical stage**, scientists use lab tests and testing in animals, such as mice or monkeys, to learn whether a vaccine might work. Many potential vaccines don\u2019t make it past this point. If the tests are succeeded, and the FDA signs off, it\u2019s on to clinical testing.\n\n**3 Clinical development**, a three-phase process of testing on humans\n* Phase I involves fewer than 100 people.\n* Phase II includes several hundred people.\n* Phase III involves thousands of people. \n\n**4 Regulatory review and approval**, scientists with the FDA and CDC go over the data from the clinical trials and sign off.\n\n**5 Manufacturing**, the vaccine goes into production. The FDA inspects the factory and approves drug labels.\n\n**6 Quality control**, scientists and government agencies keep tabs on the drug-making process and on people who get the vaccine. They want to make sure it keeps working safely.\n\n\nIn the Unit States of America, FDA and CDC are regulatory and control entities. Analogous entities have the same role in other countries.\n","35a7b846":"# Conclusion\n\nNew papers about COVID-19 vaccines and therapeutic are published every day. With an increasing number of information, it becomes difficult to search for a topic among thousands of papers. Using technology to find the information that a researcher needs to read, based on NLP, makes their life much easier and faster to acquire new conclusions. At the moment, there are around 138,000 articles available from around the world.\n\nAs the number of articles published every day increases, it is of great significance to have some data to support the COVID-19 vaccine research in 2020.     The new data subset of articles contains 23,523 entries.\n\nThe author is a former Microsoft Consultant with a background on Microsoft technologies related to BI using the Microsoft BI stack, which justifies the use of Windows with WSL 2 to access Linux and Azure to make a VM available on the cloud. The objective of using this infrastructure is related to the fact that training the NLP solution takes several hours.\n\n\n**Ricardo Silva**<br><br>\n16 April 2020 (updated on the 16th June 2020)\n<br>Portugal","b507fc12":"![search_vaccine3_banner.jpg](attachment:search_vaccine3_banner.jpg)","12d98ecf":"# Technology\n\nThe Python package cord19q, is used and available at: [cord19q](https:\/\/github.com\/ricardofsilva\/cord19q). This is a fork from David Mezzetti cord19q package.\n\nParts of the code were based on the notebook by David Mezzetti.\n#### Cite: [David Mezzetti | Kaggle, CORD-19 Analysis with Sentence Embeddings](https:\/\/www.kaggle.com\/davidmezzetti\/cord-19-analysis-with-sentence-embeddings)<br>\n\nThe training of the NLP was done on a machine with Windows and WSL, which allows to run Linux directly) on Azure or on-premises. At the time of this post on-premises pcs with Windows 10 were used.<br>\n[What is the Windows Subsystem for Linux?](https:\/\/docs.microsoft.com\/en-us\/windows\/wsl\/about)<br>\n[Windows Server 2019 Installation Guide](https:\/\/docs.microsoft.com\/en-us\/windows\/wsl\/install-on-server)<br>\n\nThe constant **CORD19_cache** can have the value True or False, which means:\n* **True**, uses the pre-trained NLP files on the cord19cache folder. Making the output file generation faster, which helps to create a more useful notebook. The notebook has the advantage to render the information much faster and will render in approximately 15 min.<br><br>\n\n* **False**, ignores the cached files. The notebook will render in approximately 4h, however, it will allow to use more recent data. This will:\n    - select the records on the metadata for the year 2020;<br>\n    - import the data into the SQLite database;<br>\n    - calculate the vectors;<br>\n    - generates the indexes, allowing to train the network on a different server, and then import the dataset.","509e9b69":"# Abstract\n\nThe whole world is in suspense right now, waiting for a vaccine that treats COVID-19. An enormous amount of resources are used in the search for a vaccine. That allows all of us back to a normal life. The purpose of this notebook is to provide a compilation of literature explicitly related to COVID-19 vaccine.\n\nOn the 16th March 2020 the [White House](https:\/\/www.whitehouse.gov\/briefings-statements\/call-action-tech-community-new-machine-readable-covid-19-dataset\/) and a coalition of leading research groups have made a call to action to the Tech Community on New Machine Readable COVID-19 Dataset:\n\n> *Today, researchers and leaders from the Allen Institute for AI, Chan Zuckerberg Initiative (CZI), Georgetown University\u2019s Center for Security and Emerging Technology (CSET), Microsoft, and the National Library of Medicine (NLM) at the National Institutes of Health released the COVID-19 Open Research Dataset (CORD-19) of scholarly literature about COVID-19, SARS-CoV-2, and the Coronavirus group.*\n\nThis is a work in progress and the examples shown below (see section \"**Literature Compilation**\") are from a system based on the dataset provided by [Kaggle](https:\/\/www.kaggle.com\/allen-institute-for-ai\/CORD-19-research-challenge) and [Semantic Scholar](https:\/\/pages.semanticscholar.org\/coronavirus-research).\n\nThis system is based on the information provided on other notebooks that runs on-premises (see section \"**Technology**\").","50ae5c42":"# Bibliography\n\nCraven, Jeff. \u201cCOVID-19 Vaccine Tracker.\u201d Regulatory Affairs Professionals Society (RAPS), RAPS, 20 Apr. 2020<br>\nhttps:\/\/www.raps.org\/news-and-articles\/news-articles\/2020\/3\/covid-19-vaccine-tracker\n\nGonzalez, Oscar, and Bill Gates. \u201cBill Gates Says Foundation Putting 'Total Attention' on COVID-19.\u201d CNET, CNET, 27 Apr. 2020<br>\nhttps:\/\/www.cnet.com\/news\/bill-gates-says-foundation-putting-total-attention-on-covid-19\n\nNazario, Brunilda. \u201cCoronavirus (COVID-19) Vaccine: How Long Will Finding a Vaccine Take?\u201d WebMD, WebMD, 24 Apr. 2020<br>\nhttps:\/\/www.webmd.com\/lung\/covid-19-vaccine#1\n\nOffit, Paul A. \u201cIs Natural Infection Better Than Vaccination?\u201d Bing, Microsoft, 16 Mar. 2020<br>\nhttps:\/\/www.youtube.com\/watch?v=MSsVTaLkPng&feature=emb_logo\n\nOffit, Paul A. \u201cThe Challenging Path To A COVID-19 Vaccine.\u201d Science Friday, 24 Apr. 2020<br>\nhttps:\/\/www.sciencefriday.com\/segments\/path-to-covid-19-vaccine\n\n\u201cProducing Prevention: The Complex Development of Vaccines.\u201d Blog, 6 Mar. 2019<br>\nhttps:\/\/publichealthonline.gwu.edu\/blog\/producing-prevention-the-complex-development-of-vaccines\n\nSa, Sara, and Miguel Castanho. \u201c\u2018\u00c0 Covid-19 Pode Suceder-Se Uma Covid-20 Ou 21.\u2019\u201d Vis\u00e3o, Visao, 13 Apr. 2020<br>\nhttps:\/\/visao.sapo.pt\/visaosaude\/2020-04-12-a-covid-19-pode-suceder-se-uma-covid-20-ou-21\/\n\nUnited States, Office of Science and Technology Policy. \u201cCall to Action to the Tech Community on New Machine Readable COVID-19 Dataset.\u201d The White House, 16 Mar. 2020<br>\nhttps:\/\/www.whitehouse.gov\/briefings-statements\/call-action-tech-community-new-machine-readable-covid-19-dataset\n\n\u201cVaccine Development, Testing, and Regulation.\u201d History of Vaccines<br>\nhttps:\/\/www.historyofvaccines.org\/content\/articles\/vaccine-development-testing-and-regulation\n\n\u201cVaccine Testing and Approval Process.\u201d Centers for Disease Control and Prevention, Centers for Disease Control and Prevention, 1 May 2014<br>\nhttps:\/\/www.cdc.gov\/vaccines\/basics\/test-approve.html.\n\nWorld Health Organization, World Health Organization, \u201cDraft Landscape of COVID-19 Candidate Vaccines.\u201d, 9 June 2020<br>\nhttps:\/\/www.who.int\/publications\/m\/item\/draft-landscape-of-covid-19-candidate-vaccines","ebb4cd79":"# Task Details\n\nThere are 10 tasks proposed for this competition. This work puts a particular attention to vaccines.\n\nThe original description is the following:\n\nWhat do we know about vaccines and therapeutics? What has been published concerning research and development and evaluation efforts of vaccines and therapeutics?\n\nSpecifically, we want to know what the literature reports about:\n\n* Effectiveness of drugs being developed and tried to treat COVID-19 patients.\n * Clinical and bench trials to investigate less common viral inhibitors against COVID-19 such as naproxen, clarithromycin, and minocyclinethat that may exert effects on viral replication.\n* Methods evaluating potential complication of Antibody-Dependent Enhancement (ADE) in vaccine recipients.\n* Exploration of use of best animal models and their predictive value for a human vaccine.\n* Capabilities to discover a therapeutic (not vaccine) for the disease, and clinical effectiveness studies to discover therapeutics, to include antiviral agents.\n* Alternative models to aid decision makers in determining how to prioritize and distribute scarce, newly proven therapeutics as production ramps up. This could include identifying approaches for expanding production capacity to ensure equitable and timely distribution to populations in need.\n* Efforts targeted at a universal coronavirus vaccine.\n* Efforts to develop animal models and standardize challenge studies\n* Efforts to develop prophylaxis clinical studies and prioritize in healthcare workers\n* Approaches to evaluate risk for enhanced disease after vaccination\n* Assays to evaluate vaccine immune response and process development for vaccines, alongside suitable animal models [in conjunction with therapeutics]","615f08ab":"# Table of Contents\n\n* Abstract\n* Introduction\n* Task Details\n* Technology\n* Literature Compilation\n* Conclusion\n* Acknowledgements\n* Disclaimer\n* Bibliography"}}