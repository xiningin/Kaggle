{"cell_type":{"a12ab5b4":"code","74fc794c":"code","eb55a777":"code","b4bd35f5":"code","939aa732":"code","2e2f1502":"code","68716226":"code","9fe1e16f":"code","932d1af9":"code","404a4d6c":"code","e7731415":"code","d7b7c140":"code","a6eb2bcd":"code","456f6d04":"code","de4a2a00":"code","726cd5f8":"code","57b05b94":"code","a1945ac3":"code","04a12210":"code","04bf787d":"code","fba8c14c":"code","a588164e":"code","99c177d3":"code","9386e84b":"code","8ef939c8":"code","e36b1d6a":"code","099e52c2":"code","56b2ff88":"code","0c344913":"code","84f1520e":"code","8345852d":"code","69442aa4":"code","629f5b1c":"code","d60d8a3e":"code","0b9305b3":"code","4d3fdb45":"code","c37fd8d0":"code","6cd3aac1":"code","f9fc565d":"code","da8de30a":"code","5bf0d93f":"markdown","061059dd":"markdown","241f500e":"markdown","95b5b60b":"markdown","bda59206":"markdown","0d5e435f":"markdown","f5520af1":"markdown","eb4a95e5":"markdown","d465fb13":"markdown","076cbef7":"markdown","30a0011f":"markdown","2d58f957":"markdown","ec66825a":"markdown","e25305e1":"markdown","af3a371b":"markdown","16d5eb33":"markdown","ceeb085e":"markdown","bbf84760":"markdown"},"source":{"a12ab5b4":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport scipy.stats as stats\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","74fc794c":"#Load the csv file and make the data frame\ninsurance_df = pd.read_csv(\"..\/input\/insurance.csv\")","eb55a777":"#display the data frame\ninsurance_df","b4bd35f5":"#display the first 5 rows of data frame\ninsurance_df.head()","939aa732":"#display the last 5 rows of data frame\ninsurance_df.tail()","2e2f1502":"#display how many rows and columns are there in data frame\nprint(\"The data frame has {} rows and {} columns\".format(insurance_df.shape[0],insurance_df.shape[1]))","68716226":"#display the data type of each column\ninsurance_df.dtypes","9fe1e16f":"#display the information of data frame\ninsurance_df.info()","932d1af9":"#display the null values column wise\ninsurance_df.apply(lambda x:sum(x.isnull()))","404a4d6c":"#display the size of data frame\ninsurance_df.size","e7731415":"#display how many males and females are there\ninsurance_df['sex'].value_counts()","d7b7c140":"#display graphically how many males and females are there\nsns.countplot(insurance_df['sex'])\nplt.show()","a6eb2bcd":"#display how many are smoker and not smoker\ninsurance_df['smoker'].value_counts()","456f6d04":"#display graphically how many are smoker and not smoker\nsns.countplot(insurance_df['smoker'])\nplt.show()","de4a2a00":"#display how many children are there\ninsurance_df['children'].unique()","726cd5f8":"#display the count of children\ninsurance_df['children'].value_counts()","57b05b94":"#display grapically the count of children\nsns.countplot(insurance_df['children'])\nplt.show()","a1945ac3":"#display how many unique regions are there\ninsurance_df['region'].unique()","04a12210":"#display the count of region\ninsurance_df['region'].value_counts()","04bf787d":"#display graphically the count of region\nsns.countplot(insurance_df['region'])\nplt.show()","fba8c14c":"#display the count of people with how many children they are having and they are smoker or not\npd.crosstab(insurance_df['children'],insurance_df['smoker'])","a588164e":"#display graphically the count of people with how many children they are having and they are smoker or not\nsns.countplot(insurance_df['children'],hue=insurance_df['smoker'])\nplt.show()","99c177d3":"#description of data frame or 5 point summary of data frame\ninsurance_df.describe()","9386e84b":"#display graphically the distribution of bmi column\nsns.distplot(insurance_df['bmi'])\nplt.show()","8ef939c8":"#display graphically the distribution of age column\nsns.distplot(insurance_df['age'])\nplt.show()","e36b1d6a":"#display graphically the distribution of charges column\nsns.distplot(insurance_df['charges'])\nplt.show()","099e52c2":"#display graphically the distribution of children column\nsns.distplot(insurance_df['children'])\nplt.show()","56b2ff88":"#display the skewness of each column\npd.DataFrame([stats.skew(insurance_df['age']),stats.skew(insurance_df['bmi']),stats.skew(insurance_df['charges'])],index=['age','bmi','charges'],columns=['skewness'])","0c344913":"#check any outliers are there in bmi column\nsns.boxplot(x='bmi',data=insurance_df)\nplt.show()","84f1520e":"#check any outliers are there in age column\nsns.boxplot(x='age',data=insurance_df)\nplt.show()","8345852d":"#check any outliers are there in charges column\nsns.boxplot(x='charges',data=insurance_df)\nplt.show()","69442aa4":"#display graphically the relation between all features\nsns.pairplot(insurance_df,hue='smoker')\nplt.show()","629f5b1c":"#display graphically the relation between all features\nsns.pairplot(insurance_df,hue='sex')\nplt.show()","d60d8a3e":"#display graphically the relation between all features\nsns.pairplot(insurance_df,hue='region')\nplt.show()","0b9305b3":"#Null Hypothesis--> H0 = \"charges has no effect on smoking\"\n#Alternate hypothesis--> H1 = \"charges has effect on smoking\" \n\nx = np.array(insurance_df[insurance_df['smoker'] == 'yes']['charges'])#selecting charges values corresponding to smoker as an array\ny = np.array(insurance_df[insurance_df['smoker'] == 'no']['charges'])#selecting charges values corresponding to not smoker as an array\nt,p_value = stats.ttest_ind(x,y,axis =0)#performing an independent T-test\nif p_value <0.05:\n    print(\"charges has effect on smoking(reject H0)\")\nelse:\n    print(\"charges has no effect on smoking(accept H0)\")","4d3fdb45":"#Null Hypothesis--> H0 = \"bmi has no effect on gender\"\n#Alternate hypothesis--> H1 = \"bmi has effect on gender\" \n\nx = np.array(insurance_df[insurance_df['sex'] == 'male']['bmi'])#selecting bmi values corresponding to male as an array\ny = np.array(insurance_df[insurance_df['sex'] == 'female']['bmi'])#selecting bmi values corresponding to female as an array\nt,p_value = stats.ttest_ind(x,y,axis =0)#performing an independent T-test\nif p_value <0.05:\n    print(\"bmi has effect on gender(reject H0)\")\nelse:\n    print(\"bmi has no effect on gender(accept H0)\")","c37fd8d0":"pd.crosstab(insurance_df['smoker'],insurance_df['sex'])","6cd3aac1":"#Null Hypothesis--> H0 = \"there is no difference in proportion of smokers in different genders\"\n#Alternate hypothesis--> H1 = \"there is difference in proportion of smokers in different genders\" \n\n# so from above we can see that 547 females are not smoker and 115 females are smoker\n#like wise 517 males are not smoker and 159 males are smoker\n\n#E11= expected value of smoker=no and sex=female\n#E12 = expected value of smoker=no and sex= male\n#E21 = expected value of smoker=yes and sex= female\n#E22 = expected value of smoker=yes and sex= male\n\nE11 = 1064*(662\/1338)\nprint(\"expected value of smoker=no and sex=female is {}\".format(E11))\nE12 = 1064*(676\/1338)\nprint(\"expected value of smoker=no and sex= male is {}\".format(E12))\nE21 = 274*(662\/1338)\nprint(\"expected value of smoker=yes and sex= female is {}\".format(E21))\nE22 = 274*(676\/1338)\nprint(\"expected value of smoker=yes and sex= male is {}\".format(E22))\n\n#chi-square = summation((observed-expected)^2\/expected)\nchiE11 = np.square(547-E11)\/E11\nprint(\"chiE11 is {}\".format(chiE11))\nchiE12 = np.square(517-E12)\/E12\nprint(\"chiE12 is {}\".format(chiE12))\nchiE21 = np.square(115-E21)\/E21\nprint(\"chiE21 is {}\".format(chiE21))\nchiE22 = np.square(159-E22)\/E22\nprint(\"chiE22 is {}\".format(chiE22))\n\nchisquare = chiE11+chiE12+chiE21+chiE22\nprint(\"chi-square is {}\".format(chisquare))\n\ndegree_of_freedom = (2-1)*(2-1)\nprint(\"degree of freedom is {}\".format(degree_of_freedom))\n\n#having calculated the chi square value and degree of freedom ,we consult a chi-square\n#table to check whether the chi square statistics of 7.76 exceeds the critical value\n#of the chi square distribution, The critical value for alpha of 0.05(95% confidence) is 3.84\n#since the statistics is much larger than 3.84, we have sufficient evidence to reject the H0(null hypothesis)\n\nif chisquare<3.84:\n    print(\"there is no difference in proportion of smokers in different genders(accept H0)\")\nelse:\n    print(\"there is difference in proportion of smokers in different genders(reject H0)\")","f9fc565d":"#Null Hypothesis--> H0 = \"The distribution of bmi across women with no children,one child and two children is not same\"\n#Alternate hypothesis--> H1 = \"The distribution of bmi across women with no children,one child and two children is same\"\n\n#make the data frame of females having children less than or equal to 2\n\ndf = insurance_df[(insurance_df['children']<=2) & (insurance_df['sex']=='female')]\ndf","da8de30a":"#plot the graph between bmi and children\njp = sns.jointplot(df['bmi'],df['children'])\njp = jp.annotate(stats.pearsonr, fontsize=10, loc=(0.1, 0.8))\nplt.show()","5bf0d93f":"****Does bmi of males differ significantly from that of females?","061059dd":"So from above graph we can see there are outliers in charges column","241f500e":"So from above graph we can see that charges are right skewed as long tail is at right side(mean>median)","95b5b60b":"so from above we can see that p_value is 0.79 which means that The distribution of bmi across women with no children,one child and two children is same and we reject H0(Null Hypothesis)","bda59206":"So from above graph we can see that age is quiet normally distributed","0d5e435f":"****Is the proportion of smokers significantly different in different genders?","f5520af1":"\nSo from above graph we can see there are outliers in bmi column","eb4a95e5":"so from above we can see that there are not null values in this dataset","d465fb13":"so from above we can see that a person can have maximum 5 children and minimum 0 children","076cbef7":"So from above graph we can see there are no outliers in age column","30a0011f":"****Is the distribution of bmi across women with no children, one child and two children, the same ?","2d58f957":"So from above we can see that 18 people have 5 children and 574 people have 0 children","ec66825a":"****Do charges of people who smoke differ significantly from the people who don't?","e25305e1":"so from above we can see that 459 not smoker people have 0 children and 115 smoker people have 0 children.like wise, 17 not smoker people have 5 children and 1 smoker people have 5 children","af3a371b":"So from above graph we can see that bmi looks like normally distributed","16d5eb33":"so from above we can see that charges has high skewness and ahe has less skewness","ceeb085e":"So from above graph we can see that children is right skewed as long tail is at the right side.","bbf84760":"so from above we can see that age,bmi,children,charges columns have numeric datatype and sex,smoker,region columns have object datatype"}}