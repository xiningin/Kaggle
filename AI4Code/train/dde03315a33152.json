{"cell_type":{"221760bf":"code","9a28a608":"code","17b12268":"code","5de6ebb9":"code","25d1e209":"code","14f1ce5d":"code","79a7c55e":"code","e018f418":"code","1af80558":"markdown"},"source":{"221760bf":"import numpy as np\nimport pandas as pd\nimport os\n\nfrom scipy.stats import rankdata\n\nLABELS = [\"HasDetections\"]","9a28a608":"!ls ..\/input\/last-stages","17b12268":"!ls ..\/input\/laststages","5de6ebb9":"!ls ..\/input\/aimalware","25d1e209":"predict_list = []\npredict_list.append(pd.read_csv(\"..\/input\/aimalware\/nffm_submission.csv\")[LABELS].values)\npredict_list.append(pd.read_csv(\"..\/input\/last-stages\/submission_ashish_v2.csv\")[LABELS].values)\npredict_list.append(pd.read_csv(\"..\/input\/laststages\/submission_ashish_v3.csv\")[LABELS].values)\npredict_list.append(pd.read_csv(\"..\/input\/last-stages\/submission_ashish_v4.csv\")[LABELS].values)\npredict_list.append(pd.read_csv(\"..\/input\/last-stages\/submission_ashish_vb1.csv\")[LABELS].values)\npredict_list.append(pd.read_csv(\"..\/input\/finalai\/blending.csv\")[LABELS].values)","14f1ce5d":"print(\"Rank averaging on \", len(predict_list), \" files\")\npredictions = np.zeros_like(predict_list[0])\nfor predict in predict_list:\n    for i in range(1):\n        predictions[:, i] = np.add(predictions[:, i], rankdata(predict[:, i])\/predictions.shape[0])  \npredictions \/= len(predict_list)\n\nsubmission = pd.read_csv('..\/input\/microsoft-malware-prediction\/sample_submission.csv')\nsubmission[LABELS] = predictions\nsubmission.to_csv('super_blend.csv', index=False)","79a7c55e":"submission.head()","e018f418":"#another blend\nsubmission = pd.read_csv('..\/input\/microsoft-malware-prediction\/sample_submission.csv')\n\nsample_3 = pd.read_csv(\"..\/input\/last-stages\/submission_ashish_v2.csv\")\nsample_4 = pd.read_csv(\"..\/input\/laststages\/submission_ashish_v3.csv\")\nsample_5 = pd.read_csv(\"..\/input\/last-stages\/submission_ashish_v4.csv\")\nsample_6 = pd.read_csv(\"..\/input\/last-stages\/submission_ashish_vb1.csv\")\nsample_7 = pd.read_csv(\"..\/input\/aimalware\/nffm_submission.csv\")\nsample_8 = pd.read_csv(\"..\/input\/finalai\/blending.csv\")\n\nsubmission['HasDetections'] = sample_6['HasDetections'] * 0.3 + sample_8['HasDetections'] * 0.3 + sample_3['HasDetections'] * 0.2 + sample_7['HasDetections'] * 0.2\nsubmission.to_csv('super_blend_2.csv', index=False)","1af80558":"I have used different KFolds techniques with Light GBM Classifier and stacked them together.\n\nThis solution fetched me a Silver medal in the Competition."}}