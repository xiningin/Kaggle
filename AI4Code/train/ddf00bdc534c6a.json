{"cell_type":{"5c3d7584":"code","e42ad226":"code","6618eef0":"code","8d17c327":"code","af114d1a":"code","02227564":"code","b7837d05":"code","675f4045":"code","e44e6691":"code","78cdccd0":"code","324b4bb5":"code","408f9a98":"code","79670579":"code","9fdffa44":"markdown","d812293c":"markdown","01f14409":"markdown","7c175f93":"markdown","d061451c":"markdown","c7ac7e34":"markdown","2a581ca3":"markdown","7403a6e8":"markdown","68cad3ba":"markdown","b6702a30":"markdown"},"source":{"5c3d7584":"%reload_ext autoreload\n%autoreload 2\n%matplotlib inline\nfrom pathlib import Path\nimport pandas as pd\nimport seaborn as sns\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\nsns.set(style=\"whitegrid\")","e42ad226":"ROOT = Path(\"\/kaggle\/input\/lish-moa\")\nROOT","6618eef0":"def read_csv(ROOT):\n    \"\"\" Reads all the csv files\"\"\"\n    data_dict = {}\n    print(\"reading csv files...\")\n    for file_path in ROOT.glob(\"*.csv\"):\n        print(file_path.name)\n        df_name =  \"df_\" + str(file_path.name).split(\".\")[0]\n        data_dict[df_name] = pd.read_csv(file_path)\n    print(\"dataframes created:\\n\")\n    print(data_dict.keys())\n    return data_dict\ndf_dict = read_csv(ROOT)","8d17c327":"def print_stats(df_dict):\n    \"\"\" print df info \"\"\"\n    for df in df_dict.keys():\n        print(\"*\"*80)\n        print(df)\n        print(\"rows:\", df_dict[df].shape[0], \"\\tcolumns: \", df_dict[df].shape[1])\n        print(df_dict[df].info())\n        print(\"missing val\", df_dict[df].isna().sum())\nprint_stats(df_dict)","af114d1a":"train_df = df_dict[\"df_train_features\"]\nscored_df = df_dict[\"df_train_targets_scored\"]\nnon_scored_df = df_dict[\"df_train_targets_nonscored\"]","02227564":"scored_df.head()","b7837d05":"train_df.head(1)","675f4045":"print(\"number of unique ids:\", train_df[\"sig_id\"].nunique())","e44e6691":"def cat_bar_plot(train_df=train_df, col=str):\n    plt.title(col+\" plot\")\n    sns.countplot(data = train_df,x=col)\n    plt.show()","78cdccd0":"for cat_cols in [\"cp_type\", \"cp_dose\", \"cp_time\"]:\n    cat_bar_plot(col=cat_cols)","324b4bb5":"# features_report = sv.analyze(train_df, pairwise_analysis='off')\n# features_report.show_html('train_data.html')","408f9a98":"# target_report = sv.analyze(scored_df, pairwise_analysis='off')\n# target_report.show_html('target_data.html')","79670579":"# plt.figure(figsize(20,8))\n# scored_df.plot(kind=\"barh\")\n# plt.show()","9fdffa44":"### compare test and train data sets","d812293c":"# Please **upvote** if you find this notebook useful!!! \n# Thanks !!!","01f14409":"### number of unique ids ","7c175f93":"# Get the definitions right\n\n## ***Mechanism of Action (MoA)*** <br\/>\n\n**A term used to describe how a drug or other substance produces an effect in the body. For example, a drug\u2019s mechanism of action could be how it affects a specific target in a cell, such as an enzyme, or a cell function, such as cell growth. Knowing the mechanism of action of a drug may help provide information about the safety of the drug and how it affects the body. It may also help identify the right dose of a drug and which patients are most likely to respond to treatment. Also called MOA.**\n\n[source](https:\/\/www.cancer.gov\/publications\/dictionaries\/cancer-terms\/def\/mechanism-of-action)\n","d061451c":"# Please **upvote** if you find this notebook useful!!! \n# Thanks !","c7ac7e34":"# Goal\n\n## ***predict the probability of each scored MoA for each row in the test data***","2a581ca3":"### train features\n* cp_time(hours):represts the time patient was admitted to hospital. on an average a patient spends 48 hours in hospital and a minimum of 24 hours\n* there are no missing values\n* there are 3 categorical columns, 872 float features , and 1 int features\n","7403a6e8":"# Feature Description\n* `sig_id` : samples\n* `c-` : signify cell viability data\n* `g-` : signify gene expression data\n* `cp_type` : indicates samples treated with a compound\n    - `cp_vehicle` : control perturbations have no MoAs\n    - `ctrl_vehicle` \n* `cp_time` : indicate treatment duration (24, 48, 72 hours) \n* `cp_dose` : indicate treatment dose (high or low)and dose (high or low)","68cad3ba":"### Plot target columns","b6702a30":"### explore categorical variables`"}}