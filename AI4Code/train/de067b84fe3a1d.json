{"cell_type":{"f772112b":"code","ed765c70":"code","488c677d":"code","ed9f1de8":"code","27253e7c":"code","4e33e4a7":"code","e5b1d462":"code","45e91c36":"code","03c83808":"code","96fc0a02":"code","dfc2ab02":"code","b9997db8":"code","d0cfeddf":"code","d78bcb10":"code","90ef4bbd":"code","269d28b1":"code","99dd371d":"code","fdb47a17":"code","94efac73":"code","c62eb7e7":"code","12be6ec3":"code","4bb9df88":"code","ab9619da":"code","3096f300":"code","7d7ade29":"code","56e53a1b":"code","b72d0121":"code","1275594a":"code","9db8ec73":"code","0d2a4d19":"code","3fb1d025":"markdown","2684837c":"markdown","b00a696d":"markdown","4f93a523":"markdown","07c68cfc":"markdown","c5832e4d":"markdown","b7f5b5ba":"markdown","1aed1c2b":"markdown","5b1b4d75":"markdown","dac8373e":"markdown","a044b586":"markdown","3804fe82":"markdown","df390917":"markdown","b59db0b2":"markdown","6395f3f1":"markdown","b7a3c132":"markdown","0b3f56ce":"markdown"},"source":{"f772112b":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt;\nimport seaborn as sns;\nsns.set_style(\"whitegrid\"); # To show the graphs with white background and gridded\n\nfrom plotly.offline import init_notebook_mode, iplot;\nimport plotly as py\ninit_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport plotly.express as px;\nplt.style.use(\"seaborn-notebook\");\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\nimport warnings;\nwarnings.filterwarnings(\"ignore\");\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","ed765c70":"# Read Data\ndf = pd.read_csv(\"..\/input\/world-happiness-report-2021\/world-happiness-report.csv\");\ndf2021 = pd.read_csv(\"..\/input\/world-happiness-report-2021\/world-happiness-report-2021.csv\");","488c677d":"# Show first 5 row of data\ndf.head()","ed9f1de8":"# Basic statistics\ndf.describe()","27253e7c":"# Info about data\ndf.info()","4e33e4a7":"# Show first 5 row of data\ndf2021.head()","e5b1d462":"# Basic statistics\ndf2021.describe()","45e91c36":"# Info about data\ndf2021.info()","03c83808":"# Unique Countries\nprint(df2021[\"Country name\"].unique());","96fc0a02":"# Count of regional indicators\nsns.countplot(df2021[\"Regional indicator\"]);\nplt.xticks(rotation = 80);","dfc2ab02":"# Distribution of feature set 1\nlistFeatures = [\"Social support\", \"Freedom to make life choices\", \"Generosity\", \"Perceptions of corruption\"];\nsns.boxplot(data = df2021.loc[:, listFeatures], orient = \"v\", palette = \"Set1\");\nplt.xticks(rotation = 60);","b9997db8":"# Distribution of feature set 2\nlistFeatures = [\"Ladder score\", \"Logged GDP per capita\"];\nsns.boxplot(data = df2021.loc[:, listFeatures], orient = \"v\", palette = \"Set1\");\nplt.xticks(rotation = 60);","d0cfeddf":"# Distribution of feature set 3\nlistFeatures = [\"Healthy life expectancy\"];\nsns.boxplot(data = df2021.loc[:, listFeatures], orient = \"v\", palette = \"Set1\");\nplt.xticks(rotation = 60);","d78bcb10":"maxScore = np.max(df2021[\"Ladder score\"]);\nminScore = np.min(df2021[\"Ladder score\"]);\ntheHappiestCountry = df2021[df2021[\"Ladder score\"] == maxScore][\"Country name\"];\ntheMostUnhappyCountry = df2021[df2021[\"Ladder score\"] == minScore][\"Country name\"];\n\nprint(\"The Happiest Country: \", theHappiestCountry.values[0]);\nprint(\"The Most Unhappy Country: \", theMostUnhappyCountry.values[0]);","90ef4bbd":"happinessFilter = (df2021.loc[:,\"Ladder score\"] > 7.4) | (df2021.loc[:, \"Ladder score\"] < 3.5);\nsns.barplot(x = \"Ladder score\", y = \"Country name\", data = df2021[happinessFilter], palette = \"coolwarm\");","269d28b1":"plt.figure(figsize = (15, 8));\nsns.kdeplot(df2021[\"Ladder score\"], hue = df2021[\"Regional indicator\"], fill = True, linewidth = 2, palette = \"coolwarm\");\nplt.axvline(df2021[\"Ladder score\"].mean(), c = \"black\"); # Mean value of Ladder score\nplt.title(\"Ladder score vs Regional indicators\");","99dd371d":"fig = px.choropleth(df.sort_values(\"year\"),\n                    locations = \"Country name\",\n                    color = \"Life Ladder\",\n                    locationmode = \"country names\",\n                    animation_frame = \"year\");\nfig.update_layout(title = \"Life Ladder Comparison by Countries\");\nfig.show();","fdb47a17":"generousityFilter = (df2021.loc[:, \"Generosity\"] > 0.4) | (df2021.loc[:, \"Generosity\"] < -0.2);\nsns.barplot(x = \"Generosity\", y = \"Country name\", data = df2021[generousityFilter], palette = \"coolwarm\");","94efac73":"fig = px.choropleth(df.sort_values(\"year\"),\n                    locations = \"Country name\",\n                    color = \"Generosity\",\n                    locationmode = \"country names\",\n                    animation_frame = \"year\");\nfig.update_layout(title = \"Life Ladder Comparison by Countries\");\nfig.show();","c62eb7e7":"plt.figure(figsize = (15, 8));\nsns.kdeplot(df2021[\"Generosity\"], hue = df2021[\"Regional indicator\"], fill = True, linewidth = 2, palette = \"coolwarm\");\nplt.axvline(df2021[\"Generosity\"].mean(), c = \"black\"); # Mean value of Ladder score\nplt.title(\"Generosity vs Regional indicators\");","12be6ec3":"sns.swarmplot(x = \"Regional indicator\", y = \"Generosity\", data = df2021);\nplt.xticks(rotation = 60);\nplt.title(\"Generosity vs Regional indicators\");\n","4bb9df88":"pop = pd.read_csv(\"..\/input\/world-population-19602018\/population_total_long.csv\");\npop.head()","ab9619da":"pop_df = df.copy();\nfor i, cnts in enumerate(pop_df[\"Country name\"]):\n    region = df2021[df2021[\"Country name\"] == cnts][\"Regional indicator\"];\n    population = pop[(pop[\"Country Name\"] == cnts) & (pop[\"Year\"] == pop_df.loc[i, \"year\"])][\"Count\"];\n    if len(region) > 0:\n        pop_df.loc[i, \"Region\"] = region.values[0];\n    else:\n        pop_df.loc[i, \"Region\"] = \"Other\";\n        \n    if len(population) > 0:\n        pop_df.loc[i, \"Population\"] = int(population.values);\n    else:\n        pop_df.loc[i, \"Population\"] = 0;        ","3096f300":"dropFilter = pop_df[pop_df[\"Population\"] == 0];\npop_df = pop_df.drop(labels = dropFilter.index, axis = 0);","7d7ade29":"fig = px.scatter(pop_df.sort_values(\"year\"),\n                 x = \"Log GDP per capita\",\n                 y = \"Life Ladder\",\n                 animation_frame = \"year\",\n                 animation_group = \"Country name\",\n                 size = \"Population\",\n                 template = \"plotly_white\",\n                 color = \"Region\",\n                 hover_name = \"Country name\",\n                 size_max = 60);\n\nfig.update_layout(title = \"Life Ladder and Log GDP per capita Comparison by Countries via Regions for each Year\");\nfig.show();","56e53a1b":"fig = px.scatter(pop_df.sort_values(\"year\"),\n                 x = \"Freedom to make life choices\",\n                 y = \"Life Ladder\",\n                 animation_frame = \"year\",\n                 animation_group = \"Country name\",\n                 size = \"Population\",\n                 template = \"plotly_dark\",\n                 color = \"Region\",\n                 hover_name = \"Country name\",\n                 size_max = 60);\n\nfig.update_layout(title = \"Life Ladder and Freedom Comparison by Countries via Regions for each Year\");\nfig.show();","b72d0121":"fig = px.scatter(pop_df.sort_values(\"year\"),\n                 x = \"Perceptions of corruption\",\n                 y = \"Life Ladder\",\n                 animation_frame = \"year\",\n                 animation_group = \"Country name\",\n                 size = \"Population\",\n                 color = \"Region\",\n                 hover_name = \"Country name\",\n                 size_max = 60);\n\nfig.update_layout(title = \"Life Ladder and Perception of Corruption Comparison by Countries via Regions for each Year\");\nfig.show();","1275594a":"df.corr()","9db8ec73":"sns.heatmap(df.corr(), annot= True, fmt = \".2f\", linewidth = .7);","0d2a4d19":"sns.clustermap(df.corr(), center = 0, cmap = \"vlag\", dendrogram_ratio = (0.1, 0.2), annot = True, linewidths = .7, figsize = (10, 10));","3fb1d025":"<a id = \"4\"><\/a>\n## Data Distribution in 2021\n* Unique Countries\n* Count Regional Indicator\n* Distribution of Remaining Features","2684837c":"## Introduction\n* The world happiness report is a landmark survey of the state of global happiness\n* The report continues to gain global recognition as governments, organizations and civil society increasingly use happiness indicators to inform their policy-making decisions. \n* Leading experts across fields \u2013 economics, psychology, survey analysis, national statistics, health, public policy and more \u2013 describe how measurements of well-being can be used effectively to assess the progress of nations. \n* The reports review the state of happiness in the world today and show how the new science of happiness explains personal and national variations in happiness.\n\n<img src=\"https:\/\/productimages.hepsiburada.net\/s\/35\/550\/10488053104690.jpg\/format:webp\" alt =\"Happiness\" style='width: 200px;center'>\n\n","b00a696d":"<a id = \"7\"><\/a>\n## Ladder score Distribution in Map View","4f93a523":"<a id = \"13\"><\/a>\n## Relationship Between Happiness and Preception of Corruption","07c68cfc":"<a id = \"11\"><\/a>\n## Relationship Between Happiness and Income","c5832e4d":"<a id = \"10\"><\/a>\n## Generosity Distribution by Regional Indicator","b7f5b5ba":"<a id = \"1\"><\/a>\n## Python Libraries\n* In this section, we import the libraries to be used in the kernel","1aed1c2b":"<a id = \"3\"><\/a>\n## Read and Analyse Data","5b1b4d75":"<a id = \"5\"><\/a>\n## The Hapiest and Most Unhappy Countries in 2021","dac8373e":"<a id = \"12\"><\/a>\n## Relationship Between Happiness and Freedom","a044b586":"## What will you learn from this project?\n* Bivariate data analysis\n* Multivariate data analysis\n* Seaborn library visualization techniques: bar, box, kde, swarm, heatmap, clustermap\n* Ploty library visualization techniques: animated plot on world map","3804fe82":"## Analysis Content\n1. [Python Libraries](#1)\n2. [Data Content](#2)\n3. [Read and Analyse Data](#3)\n4. [Data Distributions](#4)\n5. [The Hapiest and Most Unhappy Countries in 2021](#5)\n6. [Ladder Score Distribution by Regional Indicator](#6)\n7. [Ladder score Distribution in Map View](#7)\n8. [The Most Generous and Most Ungenerous Countries in 2021](#8)\n9. [Generosity Distribution in Map View](#9)\n10. [Generosity Distribution by Regional Indicator](#10)\n11. [Relationship Between Happiness and Income](#11)\n12. [Relationship Between Happiness and Freedom](#12)\n13. [Relationship Between Happiness and Preception of Corruption](#13)\n14. [Relationship Between Features](#14)","df390917":"<a id = \"8\"><\/a>\n## The Most Generous and Most Ungenerous Countries in 2021","b59db0b2":"<a id = \"9\"><\/a>\n## Generosity Distribution in Map View","6395f3f1":"<a id = \"6\"><\/a>\n## Ladder Score Distribution by Regional Indicator","b7a3c132":"<a id = \"2\"><\/a>\n## Data Content\n* The happiness scores and rankings use data from Gallup World Poll.\n    * Gallup World Poll: In 2005, Gallup began its World Poll, which continually surveys citizens in 160 countries, representing more than 98% of the world's adult population. The Gallup World Poll consists of more than 100 global questions as well as region-specific items. \n* The columns following the happiness score estimate the extent to which each of six factors \u2013 economic production, social support, life expectancy, freedom, absence of corruption, and generosity \u2013 contribute to making life evaluations higher in each country than they are in Dystopia, a hypothetical country that has values equal to the world\u2019s lowest national averages for each of the six factors. They have no impact on the total score reported for each country, but they do explain why some countries rank higher than others.\n\n* **Ladder score:** Happiness score or subjective well-being. This is the national average response to the question of life evaluations.\n* **Logged GDP per capita:** The GDP-per-capita time series from 2019 to 2020 using countryspecific forecasts of real GDP growth in 2020.\n* **Social support:** Social support refers to assistance or support provided by members of social networks to an individual.\n* **Healthy life expectancy:** Healthy life expectancy is the average life in good health - that is to say without irreversible limitation of activity in daily life or incapacities - of a fictitious generation subject to the conditions of mortality and morbidity prevailing that year.\n* **Freedom to make life choices:** Freedom to make life choices is the national average of binary responses to the GWP question \u201cAre you satisfied or dissatisfied with your freedom to choose what you do with your life?\u201d ... It is defined as the average of laughter and enjoyment for other waves where the happiness question was not asked\n* **Generosity:** Generosity is the residual of regressing national average of response to the GWP question \u201cHave you donated money to a charity in the past month?\u201d on GDP per capita.\n* **Perceptions of corruption:** The measure is the national average of the survey responses to two questions in the GWP: \u201cIs corruption widespread throughout the government or not\u201d and \u201cIs corruption widespread within businesses or not?\u201d\n* **Ladder score in Dystopia:** It has values equal to the world\u2019s lowest national averages. Dystopia as a benchmark against which to compare contributions from each of the six factors. Dystopia is an imaginary country that has the world's least-happy people. ... Since life would be very unpleasant in a country with the world's lowest incomes, lowest life expectancy, lowest generosity, most corruption, least freedom, and least social support, it is referred to as \u201cDystopia,\u201d in contrast to Utopia\n* World Happiness Report Official Website: https:\/\/worldhappiness.report\/","0b3f56ce":"<a id = \"14\"><\/a>\n## Relationship Between Features"}}