{"cell_type":{"ada80f56":"code","daca8c54":"code","182daf4f":"code","bd46f24d":"code","d4db6e3c":"code","a021ff8d":"code","a0f24448":"code","cce1e611":"code","7cf7481e":"code","8e76635f":"code","a2c16bc4":"code","f640de08":"code","22251f2f":"markdown","9273619b":"markdown","f466bff8":"markdown","09939a3b":"markdown","05b1b030":"markdown","a6d42801":"markdown","c6a6dca8":"markdown","0acdad01":"markdown","40f6ffac":"markdown","59fcfd30":"markdown","52333775":"markdown","fd289d46":"markdown","72c24772":"markdown","49a8e03d":"markdown","3522fa35":"markdown","db7cb261":"markdown","acd11ec5":"markdown","13b79da9":"markdown","4be7c8d1":"markdown","594d838c":"markdown","f864f875":"markdown","25397fcd":"markdown","94d50900":"markdown"},"source":{"ada80f56":"import pandas as pd\npd.set_option('max_colwidth', 999)\n\ntrain = pd.read_csv('\/kaggle\/input\/data-science-bowl-2019\/train.csv')\nspecs = pd.read_csv('\/kaggle\/input\/data-science-bowl-2019\/specs.csv')","daca8c54":"train[(train.type==\"Game\") & (train.event_code==2030)]","182daf4f":"specs[specs.event_id==\"08fd73f3\"]","bd46f24d":"def cnt_miss(df):\n    cnt = 0\n    for e in range(len(df)):\n        x = df['event_data'].iloc[e]\n        y = json.loads(x)['misses']\n        cnt += y\n    return cnt\n\nif session_type==\"Game\":\n    misses_cnt = cnt_miss(g_session[g_session.event_code == 2030] )\n    type_dict['accumulated_game_miss'] += misses_cnt\n","d4db6e3c":"train[(train.installation_id==\"0001e90f\") & (train.game_session==\"f11eb823348bfa23\")]","a021ff8d":"# For particular game_session\ntry:\n    game_level = json.loads(g_session['event_data'].iloc[-1])[\"level\"]\n    type_dict['mean_game_level'] = (type_dict['mean_game_level'] + game_level) \/ 2.0\nexcept:\n    pass\n\ntry:\n    game_round = json.loads(g_session['event_data'].iloc[-1])[\"round\"]\n    type_dict['mean_game_round'] = (type_dict['mean_game_round'] + game_round) \/ 2.0\nexcept:\n    pass\n\ntry:\n    game_duration = json.loads(g_session['event_data'].iloc[-1])[\"duration\"]\n    type_dict['mean_game_duration'] = (type_dict['mean_game_duration'] + game_duration ) \/ 2.0\nexcept:\n    pass ","a0f24448":"train[(train.type==\"Assessment\") & (train.event_code==4020) ]","cce1e611":"specs[specs.event_id==\"5f0eb72c\"]","7cf7481e":"def get_4020_acc(df):\n     \n    counter_dict = {'Cauldron Filler (Assessment)_4020_accuracy':0,\n                    'Mushroom Sorter (Assessment)_4020_accuracy':0,\n                    'Bird Measurer (Assessment)_4020_accuracy':0,\n                    'Chest Sorter (Assessment)_4020_accuracy':0 }\n        \n    for e in ['Cauldron Filler (Assessment)','Bird Measurer (Assessment)','Mushroom Sorter (Assessment)','Chest Sorter (Assessment)']:\n        \n        Assess_4020 = df[(df.event_code == 4020) & (df.title==activities_map[e])]   \n        true_attempts_ = Assess_4020['event_data'].str.contains('true').sum()\n        false_attempts_ = Assess_4020['event_data'].str.contains('false').sum()\n\n        measure_assess_accuracy_ = true_attempts_\/(true_attempts_+false_attempts_) if (true_attempts_+false_attempts_) != 0 else 0\n        counter_dict[e+\"_4020_accuracy\"] += (counter_dict[e+\"_4020_accuracy\"] + measure_assess_accuracy_) \/ 2.0\n    \n    return counter_dict","8e76635f":"train[ (train.event_code==4025) & (train.title == 'Cauldron Filler (Assessment)')]","a2c16bc4":"specs[specs.event_id==\"91561152\"]","f640de08":"def calculate_accuracy(session):\n    Assess_4025 = session[(session.event_code == 4025) & (session.title=='Cauldron Filler (Assessment)')]   \n    true_attempts_ = Assess_4025['event_data'].str.contains('true').sum()\n    false_attempts_ = Assess_4025['event_data'].str.contains('false').sum()\n\n    accuracy_ = true_attempts_\/(true_attempts_+false_attempts_) if (true_attempts_+false_attempts_) != 0 else 0","22251f2f":"# Feature Engineering","9273619b":"# Feature 4","f466bff8":"So, we can consider the last record of the particular game_session which provides the information about howmany game level and round has been completed by user.","09939a3b":"# Feature 2","05b1b030":"Here, there exist a **misses** parameter in **event_data** column. Let's see what this **misses** means?\n\nWe will check in **specs.csv** file for first **event_id=08fd73f3**","a6d42801":"**misses** parameter indicates: {\"name\":\"misses\",\"type\":\"int\",\"info\":\"the number of incorrect size objects clicked\"}","c6a6dca8":"This event is used to calculate accuracy and to diagnose player strategies and understanding.\n\n{\"name\":\"correct\",\"type\":\"boolean\",\"info\":\"is this the correct bucket?\"}\n\n\nThe **correct** parameter in the event_data column provides the information about the event attempt is True or False. Using this we can calcuate the accuracy for that event by inding the number of correct attempts and number of incorrect attempts. ","0acdad01":"Let's explore event_id 91561152 ","40f6ffac":"This might be helpful to predict the assessment. Let's see how this can be calculate for particulare game_session of the installation_id.","59fcfd30":"If you found these fetures are helpful to you, please do upvote. \n\n![](http:\/\/)Thanks for reading","52333775":"For the above event data, let's see what the first event_id tells in specs.csv file.","fd289d46":"The **event_code == 4020** provides helpful information for assessment session type. \nLet's explore it.","72c24772":"{\"name\":\"level\",\"type\":\"int\",\"info\":\"number of the current level when the event takes place or 0 if no level\"},\n\n{\"name\":\"duration\",\"type\":\"int\",\"info\":\"the duration of the round in milliseconds. Time between start round and beat round.\"}\n\n{\"name\":\"round\",\"type\":\"int\",\"info\":\"the number of the round that has just been completed\"}","49a8e03d":"Here, we can count the true and false attemps for the above event. Let's see how to find it.","3522fa35":"# Feature 1","db7cb261":"Let's see the event records of the game_session==\"f11eb823348bfa23\" of installation_id==\"0001e90f\"","acd11ec5":"Let's explore the **event_code == 2030** for **Game** session type.","13b79da9":"In this competition, I have found a few useful features by using **event_data** feature. These features are generated in the below section.","4be7c8d1":"# Feature 3","594d838c":"The **Game** session type event_data column include **level**, **round** and **duration** fields. Let's see what these fields provides the information.","f864f875":"The above game_session of the installation_id has completed 15 level of game. This will help for assessment.  Let's see how this calculate.","25397fcd":"This event is used to calculate accuracy and to diagnose player strategies and understanding.\n\n{\"name\":\"correct\",\"type\":\"boolean\",\"info\":\"is this the correct stump for this mushroom?\"}","94d50900":"There is a interesing feature found for **event_code==4025** for **Cauldron Filler (Assessment)**.\nLet's discover it."}}