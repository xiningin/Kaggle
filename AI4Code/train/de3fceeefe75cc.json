{"cell_type":{"0757703c":"code","ed94e286":"code","a20ce19f":"code","bda3539e":"code","e74d10bb":"code","61aeb367":"code","f3e957b7":"code","5456d737":"code","3acf598a":"code","7847a7de":"code","73d6a88e":"code","4542d8a2":"code","83471f1e":"code","b8dcfcc9":"code","5fe26f88":"code","c5f03204":"code","80d699c9":"code","2cf9923f":"code","6712f9bb":"code","27cd0c08":"code","7cf5fdf7":"code","69bc5b53":"code","ce6c13f2":"code","c181eeb4":"code","823d4f08":"code","2adcf895":"code","5ccca902":"code","1a393f18":"code","7520300b":"code","375dad14":"code","ac1f4f2b":"code","ae6a8e0d":"code","90c3c046":"markdown","c0f591fd":"markdown","58f0cab9":"markdown","29e3a977":"markdown","3bda2558":"markdown","c9ab416e":"markdown","457c591e":"markdown","fa44a613":"markdown","3b87627d":"markdown","8f5994ab":"markdown"},"source":{"0757703c":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","ed94e286":"# Libraries and environments\nimport matplotlib\nimport matplotlib.pyplot as plt\n%matplotlib inline\nfrom matplotlib.ticker import PercentFormatter\nimport seaborn as sns\nimport plotly.offline as py\npy.init_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport plotly.tools as tls\nimport warnings\nwarnings.filterwarnings('ignore')\n\npd.options.display.max_colwidth = 150","a20ce19f":"data = pd.read_csv(\"\/kaggle\/input\/us-accidents\/US_Accidents_May19.csv\")","bda3539e":"data.head()","e74d10bb":"data.columns","61aeb367":"data.shape","f3e957b7":"for name in data.columns:\n    print(name, sum(data[name].isna())*100\/2243939)","5456d737":"pd.to_datetime(data['Start_Time']).dt.year.unique()","3acf598a":"data['acc_year'] = pd.to_datetime(data['Start_Time']).dt.year\ndata['acc_month'] = pd.to_datetime(data['Start_Time']).dt.month\ndata['acc_hr_day'] = pd.to_datetime(data['Start_Time']).dt.hour","7847a7de":"data['new_date'] = pd.to_datetime(data['Start_Time']).dt.date","73d6a88e":"temp = data.groupby('new_date')['ID'].count().reset_index()\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=temp['new_date'], y=temp['ID']))\n\nfig.update_layout(title_text='Accidents trend over the year',xaxis_rangeslider_visible=True)\nfig.show()","4542d8a2":"data['day_name'] = pd.to_datetime(data['Start_Time']).dt.day_name()","83471f1e":"temp = data.groupby(['acc_year', 'day_name'])['ID'].count().reset_index(name = 'count')\nfig =go.Figure(go.Sunburst(\n    labels=temp['day_name'].values,\n    parents=temp['acc_year'].values,\n    values=temp['count'].values,\n))\nfig.update_layout(margin = dict(t=0, l=0, r=0, b=0))\n\nfig.show()","b8dcfcc9":"data.groupby('County')['ID'].count().reset_index(name = 'count').sort_values(by = 'count', ascending = False)","5fe26f88":"temp = data.groupby('County')['ID', 'Temperature(F)', 'Wind_Chill(F)', 'Humidity(%)', 'Pressure(in)',\n       'Visibility(mi)', 'Wind_Speed(mph)',\n       'Precipitation(in)'].agg({'ID':'count', 'Temperature(F)':'mean', 'Wind_Chill(F)':'mean', 'Humidity(%)':'mean', 'Pressure(in)':'mean',\n       'Visibility(mi)':'mean', 'Wind_Speed(mph)':'mean',\n       'Precipitation(in)':'mean'}).reset_index().sort_values(by = 'ID', ascending = False)","c5f03204":"temp[temp['ID']>20000].head(20)","80d699c9":"temp[temp['ID']<1000].head(20)","2cf9923f":"data.columns","6712f9bb":"temp = data.groupby('County')['ID', 'Amenity', 'Bump', 'Crossing',\n       'Give_Way', 'Junction', 'No_Exit', 'Railway', 'Roundabout', 'Station',\n       'Stop', 'Traffic_Calming', 'Traffic_Signal', 'Turning_Loop' ].agg({'ID':'count', 'Amenity':'mean', 'Bump':'mean', 'Crossing':'mean',\n       'Give_Way':'mean', 'Junction':'mean', 'No_Exit':'mean', 'Railway':'mean', 'Roundabout':'mean', 'Station':'mean',\n       'Stop':'mean', 'Traffic_Calming':'mean', 'Traffic_Signal':'mean', 'Turning_Loop':'mean'}).reset_index().sort_values(by = 'ID', ascending = False)","27cd0c08":"temp = temp.head(20)\ntemp","7cf5fdf7":"temp.index = temp.County\ntemp.drop(['County', 'Turning_Loop'], axis = 1, inplace = True)","69bc5b53":"from sklearn.preprocessing import MinMaxScaler\nfor name in temp.columns:\n    mx = MinMaxScaler()\n    temp[name] = mx.fit_transform(temp[name].values.reshape(-1,1))","ce6c13f2":"temp","c181eeb4":"plt.figure(figsize=(15,7))\nplt.pcolor(temp)\nplt.yticks(np.arange(0.5, len(temp.index), 1), temp.index)\nplt.xticks(np.arange(0.5, len(temp.columns), 1), temp.columns)\nplt.show()","823d4f08":"data_la = data[data['County']==\"Los Angeles\"]","2adcf895":"data_la.shape","5ccca902":"temp = data_la.groupby('new_date')['ID'].count().reset_index()\nfig = go.Figure()\nfig.add_trace(go.Scatter(x=temp['new_date'], y=temp['ID']))\n\nfig.update_layout(title_text='Accidents trend over the year',xaxis_rangeslider_visible=True)\nfig.show()","1a393f18":"temp['ID'].mean()","7520300b":"data_la['City'].value_counts()","375dad14":"data_la.columns","ac1f4f2b":"data_la[['ID', 'Start_Time', 'Start_Lat', 'Start_Lng',]].to_csv('data_la.csv', index = False)","ae6a8e0d":"from IPython.display import YouTubeVideo\nYouTubeVideo('1DXyTWV7pes')","90c3c046":"Lets see which county has most number of accidents?","c0f591fd":"Most of accidents in Los Angeles are at Junction (Though I am not convined. Need to dive deep)\nFor Harris it's Traffic Signal and Give Way. For Orange it's Crossing. \n\nI will dive into Los Angels data only to figure out what's happening!","58f0cab9":"Lets check percentage of missing value in each columns","29e3a977":"Below you can see the how the accidents have grown in the Eastern region of Los Angeles. There are three main areas of accident.\nPeople travelling in these regions can be made aware about accident prone zone to reduce the accident.\n","3bda2558":"Interesting! 70% of location data is missing. This may mean 70% of GPS got damaged in the accient.","c9ab416e":"Extra ordinary high number for Los Angeles! What are you doing folks? I will find out!","457c591e":"The Count of accidents have incresed over the time. Upon zooming with the slider one can easily see that there is consistent ups and downs in the graph.\nLooking at these dates when the accidents count was less. It was found that these were weekends. \n\n**Accidents are less on weekends compared to weekdays!**","fa44a613":"Accidents are consistent over the years in LA. On an Avergae 156 Accidents happens every day in LA.","3b87627d":"I will download the data for LA and view it on map as we have the coordinates to identify the hot spots of accident.","8f5994ab":"The mean statistics of the climatic features are not useful. We need to create categories of these features and then perform further analysis. \n\nAligning this data with demographics might give us a better pucture. May be the cities in this county are overcrowded."}}