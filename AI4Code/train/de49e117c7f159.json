{"cell_type":{"c43fd357":"code","748dcd48":"code","54a6041d":"code","2017978f":"markdown"},"source":{"c43fd357":"import numpy as np \nimport pandas as pd \nimport seaborn as sns \nimport matplotlib.pyplot as plt \n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","748dcd48":"df_total = pd.read_csv('..\/input\/air-pollution\/death-rates-total-air-pollution.csv')\ndf_total.head(5)","54a6041d":"import plotly\nimport plotly.graph_objs as go\nimport plotly.offline as offline\nfrom plotly.graph_objs import *\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\n\ndf_total = pd.read_csv('..\/input\/air-pollution\/death-rates-total-air-pollution.csv')\n\nscl = [[0.0, '#ffffff'],[0.2, '#ff9999'],[0.4, '#ff4d4d'],\n       [0.6, '#ff1a1a'],[0.8, '#cc0000'],[1.0, '#4d0000']]\n\ndata_slider = []\n\nfor year in df_total.Year.unique():\n\n    \n    dff = df_total[(df_total['Year']== year )]\n    dff = dff.rename(columns={\"Deaths - Air pollution - Sex: Both - Age: Age-standardized (Rate)\": \"Total Deaths\"})\n   \n    for col in dff.columns:  # I transform the columns into string type so I can:\n        dff[col] = dff[col].astype(str)\n\n    ### I create the text for mouse-hover for each state, for the current year    \n    '''dff['Total Deaths'] = dff['Entity'] '''\n\n    ### create the dictionary with the data for the current year\n    data_one_year = dict(\n                        type='choropleth',\n                        locations = dff['Entity'],\n                        z=dff['Total Deaths'].astype(float),\n                        locationmode='country names',\n                        colorscale = scl,\n                        text = dff['Entity'],\n                        )\n\n    data_slider.append(data_one_year)  # I add the dictionary to the list of dictionaries for the slider\n    \n    steps = []\n\nfor i in range(len(data_slider)):\n    step = dict(method='restyle',\n                args=['visible', [False] * len(data_slider)],\n                label='Year {}'.format(i + 1990)) # label to be displayed for each step (year)\n    step['args'][1][i] = True\n    steps.append(step)\n    \nsliders = [dict(active=0, pad={\"t\": 1}, steps=steps)]  \n\nlayout = dict(geo=dict(scope='world',\n                       projection={'type': 'equirectangular'}),\n              sliders=sliders)\n\n#create the figure object:\n\nfig = dict(data=data_slider, layout=layout) \n\n#plot in the notebook\n\nplotly.offline.iplot(fig)","2017978f":"# A simple choropleth map to illustrate the change in the number of air pollution related deaths around the world between 1993-2017. "}}