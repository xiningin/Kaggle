{"cell_type":{"16042035":"code","69659a8a":"code","72f3a551":"code","b1ee2d77":"code","b022f166":"code","9a3a3544":"code","f2181473":"code","dc857bbc":"code","e4926d47":"code","9dab0df1":"code","89bcc019":"code","5573d571":"code","a8354d3a":"code","7f364616":"code","b7673d3e":"code","000eee96":"code","aa92d9d4":"markdown","93fcab5f":"markdown","6102e97c":"markdown","bc6d2a5a":"markdown","c9038980":"markdown","dbb1433e":"markdown","af34703b":"markdown","ebdf8262":"markdown","19b55732":"markdown","6c60f516":"markdown","5a8cd874":"markdown","f84dafd8":"markdown"},"source":{"16042035":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","69659a8a":"# Import the required modules and set some parameters\n\nimport matplotlib.pyplot as plt\nimport warnings\nwarnings.filterwarnings(\"ignore\")\nimport seaborn as sns\nsns.set(style=\"white\",color_codes=True)\nplt.rcParams['figure.figsize'] = (15,9.27)","72f3a551":"# import data with pandas\ndf = pd.read_csv('..\/input\/hanzidb\/hanziDB.csv')","b1ee2d77":"# View basic information of the data\ndf.head(10)","b022f166":"# Let us look at the relationship between the number of strokes in Chinese characters and the frequency of their use. \n# Intuitively, we believe that the more counts of strokes, the lower the frequency of use should be.\n\n# This stroke data was incorrectly entered as \"8 9\" and needs to be corrected.\ndf.loc[804,'stroke_count'] = 8\n\n# Convert data types to integers\ndf.frequency_rank = df.frequency_rank.astype(int)\ndf.stroke_count = df.stroke_count.astype(int)","9a3a3544":"# Observe the basic information of Chinese stroke data\ndf.stroke_count.describe()","f2181473":"# Let us look at the relationship between the number of strokes in Chinese characters \n# and the frequency of their use with boxplot from seaborn library\n\nsns.boxplot(df.stroke_count,df.frequency_rank)","dc857bbc":"hanzi = pd.read_excel('..\/input\/chinese-character-frequency-statistics\/hanzi_freq.xlsx')\nhanzi.head(10)","e4926d47":"plt.plot(hanzi.cum_freq_percent,linewidth=3)\nplt.xlabel('Rank according to frequency of use')\nplt.ylabel('Cumulative frequency')\nplt.xlim(0,10000)\nplt.ylim(0,100)","9dab0df1":"plt.scatter(hanzi['rank'][:150],hanzi.freq_percent[:150])\nplt.xlim(0,150)\nplt.ylim(0,5)\nplt.xlabel('Rank according to frequency of use')\nplt.ylabel('The percentage frequency of use')","89bcc019":"hanzi['log_rank'] = np.log10(hanzi['rank'])\nhanzi['log_freq'] = np.log10(hanzi['freq'])\nhanzi.head(10)","5573d571":"sns.regplot(hanzi.log_rank,hanzi.log_freq)\nplt.text(1.5,12,r'$log(freq)=14.13-3.32log(rank),\\ R^2=0.812$',fontsize=20)","a8354d3a":"def reg(y,*args):\n    import statsmodels.api as sm\n    x = np.vstack((args)).T\n    mat_x = sm.add_constant(x)\n    res = sm.OLS(y,mat_x).fit()\n    print(res.summary())","7f364616":"reg(hanzi.log_freq,hanzi.log_rank)","b7673d3e":"sns.regplot(hanzi.log_rank[:200],hanzi.log_freq[:200])\nx = np.linspace(0,3)\ny = -x + 7\nplt.plot(x,y,'r--')\nplt.text(0.75,6.8,r'$log(freq)=6.81-0.63log(rank),\\ R^2=0.991$',fontsize=20)\nplt.xlim(0,2.5)\nplt.ylim(5.3,7)","000eee96":"reg(hanzi.log_freq[:200],hanzi.log_rank[:200])","aa92d9d4":"We can see that the R-square of the regression results is 0.991, indicating that the linear relationship between the two is significant. Both the p-value of constant term and independent variable are less than 0.01, indicating that the constant term and the independent variable are also significant at 1% significance.","93fcab5f":"In order to test the applicability of zipf's law in Chinese characters, we take the base 10 logarithm of the frequency and ranking of Chinese characters in the corpus, and then observe the relationship between the two. If the zipf's law is met, the relationship between the two should be essentially linear.","6102e97c":"Let's look at the relationship between the frequency of use and the frequency of use (in order to make the graphics clearer, we only took the first 150 Chinese characters)","bc6d2a5a":"The meaning of each column is as follows:\n\n- The first column \"rank\" indicates the ranking of the frequency of use of the Chinese character. The higher the ranking, the greater the frequency of use.\n- The second column is the corresponding Chinese character\n- The third column \"freq\" indicates the total number of occurrences of the Chinese character in the corpus. The total number of occurrences of Chinese characters in the corpus is 193504018.\n- The fourth column \"freq_percent\" represents the percentage of frequency of occurrence of the characters in the corpus\n- The fifth column \"cum_freq_percent\" indicates the percentage of accumulated frequency that appears in the corpus as of the Chinese character.\n\nWe can find that only a small part of Chinese characters are frequently used. Specifically, 1057 commonly used Chinese characters can cover 90% of Chinese characters used daily, 1566 commonly used Chinese characters can cover 95%, and 2838 commonly used Chinese characters can cover 99%.\n\nFrom the cumulative probability plot below we can also verify the above conclusions\uff1a ","c9038980":"We can find that the application of zipf's law in Chinese characters is not ideal. One possible reason is that Chinese uses more two-syllable or multi-syllable words to express meaning than a single Chinese character. We can use linear regression to analyze the relationship between the two.First, let's define a helper function whics use the statsmodels library for linear regression.","dbb1433e":"with the data I got from http:\/\/lingua.mtsu.edu\/chinese-computing\/statistics\/char\/list.php?Which=MO, We can analyze the frequency of a total of 9,933 Chinese characters and their frequency rankings, which can be used to verify the applicability of zipf's law in Chinese. I have uploaded the relevant data file, i.e. `hanzi_freq.xlsx`, let's see what the data looks like.","af34703b":"**Zipf's law** is an empirical law formulated using mathematical statistics. The law is named after the linguist George Kingsley Zipf, who first proposed it.\n\nZipf's law states that given a large sample of words used, the frequency of any word is inversely proportional to its rank in the frequency table. So word number N has a frequency proportional to 1\/N.\n\nThus the most frequent word will occur about twice as often as the second most frequent word, three times as often as the third most frequent word, etc. For example, in one sample of words in the English language, the most frequently occurring word, \"the\", accounts for nearly 7% of all the words (69,971 out of slightly over 1 million). True to Zipf's Law, the second-place word \"of\" accounts for slightly over 3.5% of words (36,411 occurrences), followed by \"and\" (28,852). Only about 135 words are needed to account for half the sample of words in a large sample.\n\nThe same relationship occurs in many other rankings, unrelated to language, such as the population ranks of cities in various countries, corporation sizes, income rankings, etc. The appearance of the distribution in rankings of cities by population was first noticed by Felix Auerbach in 1913.\n\nIt is not known why Zipf's law holds for most languages.\n\nsee link: https:\/\/en.wikipedia.org\/wiki\/Zipf%27s_law for more informaiton","ebdf8262":"# 1.relationship between strokes  and the frequency of use","19b55732":"Next, let us use only the frequency and ranking data of high-frequency Chinese characters, observe the relationship between the two to see if it meets the zipf's law.","6c60f516":"Obviously, for high-frequency Chinese characters, the relationship between frequency and ranking is more in line with zipf's law, which shows that the relationship between the logarithms of the two is basically linear. Let's analyze it again using linear regression.","5a8cd874":"# 2.zipf's law in Chinese","f84dafd8":"We can find that our above assumptions are correct. The more strokes of Chinese characters, the lower the frequency of use."}}