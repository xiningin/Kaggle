{"cell_type":{"a9d7d193":"code","4223107e":"code","1d996220":"code","7b0ecd03":"code","0a0c5f56":"code","aa62ad5f":"code","693db461":"code","eeb44fe4":"code","a2e03082":"code","4b7664ef":"code","5212a4c1":"code","3c5071a0":"code","38fa83ac":"code","815938f2":"code","0c91bd12":"code","d5058fe5":"code","01d59c6f":"code","08e5c4c6":"code","808203a0":"code","4e2ee6fb":"markdown","3c6fe651":"markdown","540cb85b":"markdown","0a18d82a":"markdown","ec6bbd77":"markdown","0657696f":"markdown","04252d85":"markdown","f32945ce":"markdown","afbb6b92":"markdown","b3297d79":"markdown","3b4c7cbe":"markdown","1a4ace8b":"markdown","5f758dea":"markdown","0482f847":"markdown","fcf7d013":"markdown","2b2bc121":"markdown","6eb66397":"markdown"},"source":{"a9d7d193":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport random\nimport matplotlib.pyplot as plt\nimport warnings\nwarnings.filterwarnings('ignore')\nfrom mpl_toolkits.basemap import Basemap\n%pylab inline","4223107e":"data_ter = pd.read_csv('..\/input\/gtd\/globalterrorismdb_0718dist.csv',encoding='ISO-8859-1')","1d996220":"data_ter = data_ter.dropna(thresh=160000,axis=1)\ndata_ter.head(5)","7b0ecd03":"data_ter.dropna(thresh=160000,axis=1).shape","0a0c5f56":"def mapWorld(col1,size2,label4,metr=100,colmap='hot',ds=data_ter,scat=False):\n    datatt = ds\n    m = Basemap(projection='mill',llcrnrlat=-60,urcrnrlat=70,\\\n            llcrnrlon=-150,urcrnrlon=180,resolution='c')\n    m.drawcoastlines()\n    m.drawcountries()\n    m.drawparallels(np.arange(-120,91.,30.))\n    m.drawmeridians(np.arange(-120,90.,60.))\n    lat = datatt['latitude'].values\n    lon = datatt['longitude'].values\n    a_1 = datatt[col1].values\n    if size2:\n        a_2 = datatt[size2].values\n    else: a_2 = 1\n    if scat:\n        m.scatter(lon, lat, latlon=True,c=a_1,s=metr*a_2,edgecolors='black',cmap=colmap,alpha=1)\n    else:\n        m.scatter(lon, lat, latlon=True,c=a_1,s=metr*a_2,cmap=colmap,alpha=1)\nsns.set(font_scale=1.5)\nplt.figure(figsize=(15,15))\nplt.title('Terrorist attacks', fontsize=20)\nmapWorld(col1='targtype1', size2=False,label4='',metr=10,colmap='viridis',ds=data_ter)","aa62ad5f":"fig = plt.figure(figsize=(20,15))\nax1 = fig.add_subplot(3,2,1)\nax1.set_title('2010-2017')\nmapWorld(col1='targtype1',ds=data_ter[data_ter['iyear']>=2010], size2=False,label4='',metr=1,colmap='viridis',scat=True)\nax2 = fig.add_subplot(3,2,2)\nax2.set_title('2000-2009')\nmapWorld(col1='targtype1',ds=data_ter[(data_ter['iyear']>=2000) & (data_ter['iyear']<2010)], \\\n         size2=False,label4='',metr=10,colmap='viridis',scat=True)\nax3 = fig.add_subplot(3,2,3)\nax3.set_title('1990-1999')\nmapWorld(col1='targtype1',ds=data_ter[(data_ter['iyear']>=1990) & (data_ter['iyear']<2000)], \\\n         size2=False,label4='',metr=10,colmap='viridis',scat=True)\nax4 = fig.add_subplot(3,2,4)\nax4.set_title('1980-1989')\nmapWorld(col1='targtype1',ds=data_ter[(data_ter['iyear']>=1980) & (data_ter['iyear']<1990)], \\\n         size2=False,label4='',metr=10,colmap='viridis',scat=True)\nax4 = fig.add_subplot(3,2,5)\nax4.set_title('1970-1979')\nmapWorld(col1='targtype1',ds=data_ter[(data_ter['iyear']>=1970) & (data_ter['iyear']<1980)], \\\n         size2=False,label4='',metr=10,colmap='viridis',scat=True)","693db461":"def plot_by_years(kind='region_txt',big=(30,20)):\n    sns.set(style=\"white\",font_scale=2.5)\n    fig = plt.figure(figsize=big)\n    ax1 = fig.add_subplot(3,2,1)\n    ax1.set_title('2010-2017')\n    ax1.set_ylabel('');\n    data_ter[data_ter['iyear']>=2010]['eventid'].groupby(data_ter[kind]).count().plot(kind='barh');\n    ax1.set_ylabel('');\n    ax2 = fig.add_subplot(3,2,2)\n    ax2.set_title('2000-2009')\n    data_ter[(data_ter['iyear']>=2000) & (data_ter['iyear']<2010)]['eventid'].groupby(data_ter[kind]).count().plot(kind='barh');\n    ax2.set_ylabel('');\n    ax3 = fig.add_subplot(3,2,3)\n    ax3.set_title('1990-1999')\n    data_ter[(data_ter['iyear']>=1990) & (data_ter['iyear']<2000)]['eventid'].groupby(data_ter[kind]).count().plot(kind='barh');\n    ax3.set_ylabel('');\n    ax4 = fig.add_subplot(3,2,4)\n    ax4.set_title('1980-1989')\n    data_ter[(data_ter['iyear']>=1980) & (data_ter['iyear']<1990)]['eventid'].groupby(data_ter[kind]).count().plot(kind='barh');\n    ax4.set_ylabel('');\n    ax4 = fig.add_subplot(3,2,5)\n    ax4.set_title('1970-1979')\n    data_ter[(data_ter['iyear']>=1970) & (data_ter['iyear']<1980)]['eventid'].groupby(data_ter[kind]).count().plot(kind='barh');\n    plt.tight_layout()\n    plt.ylabel('');\nplot_by_years(kind='region_txt')","eeb44fe4":"sns.set(font_scale=1.5)\nfig = plt.figure(figsize=(20,10))\nsns.countplot(x='iyear',data=data_ter);\nplt.xlabel('')\nplt.ylabel('')\nplt.xticks(rotation=45)\nplt.title('Terrorist attacks', fontsize=20)\nplt.tight_layout()","a2e03082":"fig = plt.figure(figsize=(10,5))\nsns.set(font_scale=1.5)\nsns.countplot(data_ter.imonth);\nplt.ylabel('count');","4b7664ef":"fig = plt.figure(figsize=(20,5))\nsns.set(font_scale=1.5)\nsns.countplot(data_ter.iday);\nplt.ylabel('count');","5212a4c1":"sns.set(font_scale=1.5)\nfig = plt.figure(figsize=(20,10))\nsns.countplot(x='iyear',data=data_ter,hue='success', orient='v');\nplt.xlabel('')\nplt.ylabel('')\nplt.title('Successful\/unsuccessful terrorist strike', fontsize=20)\nplt.xticks(rotation=45)\nplt.tight_layout()","3c5071a0":"sns.set(font_scale=1.5)\nplt.figure(figsize=(20,20))\nplt.title('Successful\/unsuccessful terrorist strike', fontsize=20)\nmapWorld(col1='success', size2=False,label4='',metr=10,colmap='viridis',ds=data_ter)","38fa83ac":"sns.set(font_scale=1.5)\nfig = plt.figure(figsize=(20,10))\nsns.countplot(x='iyear',data=data_ter,hue='suicide');\nplt.title(\"The incident was\/wasn't a suicide attack\", fontsize=20)\nplt.xlabel('')\nplt.ylabel('')\nplt.tight_layout()\nplt.xticks(rotation=45);","815938f2":"plot_by_years(kind='attacktype1_txt');","0c91bd12":"def plot_by_years(kind='region_txt',big=(30,20)):\n    sns.set(style=\"white\",font_scale=2.5)\n    fig = plt.figure(figsize=big)\n    ax1 = fig.add_subplot(3,2,1)\n    ax1.set_title('2010-2017')\n    ax1.set_ylabel('');\n    data_ter[data_ter['iyear']>=2010]['eventid'].groupby(data_ter[kind]).count().sort_values(ascending=False)[:10].plot(kind='barh');\n    ax1.set_ylabel('');\n    ax2 = fig.add_subplot(3,2,2)\n    ax2.set_title('2000-2009')\n    data_ter[(data_ter['iyear']>=2000) & (data_ter['iyear']<2010)]['eventid'].groupby(data_ter[kind]).count().sort_values(ascending=False)[:10].plot(kind='barh');\n    ax2.set_ylabel('');\n    ax3 = fig.add_subplot(3,2,3)\n    ax3.set_title('1990-1999')\n    data_ter[(data_ter['iyear']>=1990) & (data_ter['iyear']<2000)]['eventid'].groupby(data_ter[kind]).count().sort_values(ascending=False)[:10].plot(kind='barh');\n    ax3.set_ylabel('');\n    ax4 = fig.add_subplot(3,2,4)\n    ax4.set_title('1980-1989')\n    data_ter[(data_ter['iyear']>=1980) & (data_ter['iyear']<1990)]['eventid'].groupby(data_ter[kind]).count().sort_values(ascending=False)[:10].plot(kind='barh');\n    ax4.set_ylabel('');\n    ax4 = fig.add_subplot(3,2,5)\n    ax4.set_title('1970-1979')\n    data_ter[(data_ter['iyear']>=1970) & (data_ter['iyear']<1980)]['eventid'].groupby(data_ter[kind]).count().sort_values(ascending=False)[:10].plot(kind='barh');\n    plt.tight_layout()\n    plt.ylabel('');\nplot_by_years(kind='targtype1_txt',big=(30,30));","d5058fe5":"data_hap = pd.read_csv('..\/input\/the-human-freedom-index\/hfi_cc_2018.csv')\ndata_hap.head(3)","01d59c6f":"def reg(x):\n    if x in ('South America','Central America & Caribbean'):\n        res = 'Latin America & the Caribbean'\n    elif x=='Central Asia':\n        res = 'Caucasus & Central Asia'\n    elif x=='Australasia & Oceania':\n        res = 'Oceania'\n    elif x in('South Asia','Southeast Asia',):\n            res = 'South Asia'\n    else:\n        res=x\n    return res\ndata_bx = data_ter\ndata_bx['region_txt'] = data_bx.region_txt.apply(reg)\ndata_bx = data_bx[data_bx.iyear.isin(['2016','2015','2014','2013','2012','2011','2010','2009','2008'])]","08e5c4c6":"plt.figure(figsize=(20,5))\nsns.set(font_scale=1.5)\nsns.boxplot(x='region',y='hf_score',data=data_hap,order=['Caucasus & Central Asia','East Asia','Eastern Europe',\\\n                                'Latin America & the Caribbean','Middle East & North Africa','North America',\\\n                                    'Oceania','South Asia','Sub-Saharan Africa','Western Europe']);\nplt.title(\"Human Freedom (score)\", fontsize=20)\nplt.xlabel('')\nplt.xticks(rotation=30)\nplt.show()\n\nplt.figure(figsize=(25,5))\nsns.set(font_scale=1.5)\ndata_bx['eventid'].groupby(data_ter['region_txt']).count().plot(kind='bar');\nplt.title(\"Count of terrorist attacks\", fontsize=20)\nplt.xticks(rotation=30)\nplt.xlabel('')\nplt.show()","808203a0":"plt.figure(figsize=(20,5))\nsns.set(font_scale=1.5)\nsns.boxplot(x='region',y='pf_score',data=data_hap,order=['Caucasus & Central Asia','East Asia','Eastern Europe',\\\n                                'Latin America & the Caribbean','Middle East & North Africa','North America',\\\n                                    'Oceania','South Asia','Sub-Saharan Africa','Western Europe']);\nplt.title(\"Personal Freedom (score)\", fontsize=20)\nplt.xlabel('')\nplt.xticks(rotation=30)\nplt.show()\n\nplt.figure(figsize=(25,5))\nsns.set(font_scale=1.5)\ndata_bx['eventid'].groupby(data_ter['region_txt']).count().plot(kind='bar');\nplt.title(\"Count of terrorist attacks\", fontsize=20)\nplt.xlabel('')\nplt.xticks(rotation=30)\nplt.show()","4e2ee6fb":"## 5. Succ\u00e8s\/\u00e9chec de l'attaque terroriste\nCe diagramme en barres n'inspire pas non plus l'optimisme - l'\u00e9crasante majorit\u00e9 des attentats se terminent avec succ\u00e8s","3c6fe651":"# ****# # Quelle est la proportion d'incidents li\u00e9s \u00e0 un attentat suicide ?","540cb85b":"## 8. La libert\u00e9 de l'homme est mise \u00e0 mal par le terrorisme\nRassemblez ces donn\u00e9es avec un autre ensemble de donn\u00e9es \"L'indice de libert\u00e9 humaine\". Tout d'abord, modifiez l\u00e9g\u00e8rement les donn\u00e9es pour que la fusion soit r\u00e9ussie.","0a18d82a":"Voyons s'il y a un \u00e9l\u00e9ment dans la distribution par semaine ou par jour. A premi\u00e8re vue - il n'y a aucun int\u00e9r\u00eat dans ces complots. Seulement en 31 - tous les mois ne contiennent pas 31 jours.","ec6bbd77":"## 6. Types d'attaques\nLes types d'attentats les plus fr\u00e9quents n'ont pas beaucoup chang\u00e9 - l'agression arm\u00e9e et le bombardement\/l'explosion ont repouss\u00e9 l'assassinat. La part de l'utilisation des bombes augmente - les attentats terroristes ont commenc\u00e9 \u00e0 \u00eatre massifs et \u00e0 viser \u00e0 toucher un grand nombre de personnes.","0657696f":"## 4. Annual dynamique par regions","04252d85":"Merci ! ","f32945ce":"Comment le terrorisme a-t-il \u00e9volu\u00e9 au fil des ans ? (Cartes g\u00e9ographiques)","afbb6b92":"Table des mati\u00e8res\n1. Importation de donn\u00e9es\n2. Carte compl\u00e8te\n3. Dynamique annuelle avec carte\n4. Dynamique annuelle par r\u00e9gions\n5. Succ\u00e8s\/\u00e9chec de l'attaque terroriste\n6. Types d'attaques\n7. Types de cibles\n8. Score de libert\u00e9 humaine d\u00fb au terrorisme\n9. Score de libert\u00e9 personnelle en raison du terrorisme\n\n","b3297d79":"Comparer la libert\u00e9 personnelle (score) et le nombre d'attaques terroristes. Nous pouvons voir par des graphiques que le nombre d'attentats est li\u00e9 aux calendriers de libert\u00e9.","3b4c7cbe":"## 7. Types de cibles\nDiff\u00e9rents types de cibles pour les terroristes :","1a4ace8b":"Consid\u00e9rez la r\u00e9partition des attaques par ann\u00e9es. Depuis 2012, l'activit\u00e9 terroriste a fortement augment\u00e9.","5f758dea":"## 9. Score de libert\u00e9 personnelle en raison du terrorisme\nComparer la libert\u00e9 humaine (score) et le nombre d'attaques terroristes :","0482f847":"Selon les donn\u00e9es propos\u00e9es, nous examinons comment le terrorisme a \u00e9volu\u00e9 au fil du temps","fcf7d013":"##Supprimez les colonnes comportant un grand nombre de valeurs manquantes","2b2bc121":"## 3. Dynamique annuelle par carte\nEn 1970-1979, le terrorisme se concentre davantage en Europe occidentale, dans les Cara\u00efbes et au Moyen-Orient.\nEn 1980-1989 - Am\u00e9rique du Sud, Europe occidentale, Cara\u00efbes. \nEn 1990-1999, recrudescence de l'activit\u00e9 terroriste - Europe occidentale, Asie du Sud, Am\u00e9rique du Sud, Moyen-Orient et Afrique du Nord.\nAu cours des 20 derni\u00e8res ann\u00e9es, les terroristes se sont concentr\u00e9s en Asie du Sud, en Asie centrale et en Afrique subsaharienne. \nPour une vue plus claire, voir les diagrammes en barres ci-dessous.","6eb66397":"**##2. Carte compl\u00e8te**\nD\u00e9crire la carte compl\u00e8te des attaques terroristes. On peut voir des attaques \u00e0 tout moment. Il est beaucoup plus important de voir la tendance. Pour ce faire, nous divisons toutes les donn\u00e9es en segments de dix ans"}}