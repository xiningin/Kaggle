{"cell_type":{"7878a6d2":"code","fdbcc9ed":"code","e03f52e6":"code","97967081":"code","c4a577e0":"code","a15e6106":"code","c7a83ab2":"code","f03d8587":"code","f6278804":"code","4d98ee8f":"code","72b02066":"code","bd26d667":"code","34dace84":"code","020cd073":"code","fde31a58":"code","8ab8d9e0":"code","7a498cb4":"code","26ec1795":"code","56677321":"code","1555f968":"markdown","ffc20fd6":"markdown","7368faab":"markdown","46ababe2":"markdown","1482ef14":"markdown","f0cb5a21":"markdown","a7fcb611":"markdown","439ea178":"markdown","63b9ed2e":"markdown","42068e67":"markdown","62004530":"markdown","4b7d46b6":"markdown","3309ecdc":"markdown","70d7dc12":"markdown","75a5330d":"markdown","435936b2":"markdown","e372d397":"markdown","27a82402":"markdown","6c59b5ad":"markdown","bffc25bc":"markdown","86757b6d":"markdown","63bfcfd5":"markdown","dbe655d3":"markdown","d387a7bd":"markdown"},"source":{"7878a6d2":"import warnings\nwarnings.filterwarnings('ignore')\n\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.ticker as mtick\n\nimport folium","fdbcc9ed":"# Read in the data\ndata = pd.read_csv(\"..\/input\/cincinnatiresidentialtaxabatements\/City_of_Cincinnati-_Residential_Tax_Abatements.csv\")","e03f52e6":"data.head()","97967081":"data.info() # most of the columns are complete but for LEED_DATE","c4a577e0":"# Drop the column\ndata.drop(columns = ['LEED_DATE'], axis=1, inplace=True)\n\n# Remove timestamp\ndata['APPLICATION_DATE'] = pd.to_datetime(data['APPLICATION_DATE'])\n\n# Clean the OWNERSHIP_TYPE column\ndata.loc[(data['OWNERSHIP_TYPE'] == 'OWNER OCCUPIED'), 'OWNERSHIP_TYPE']='OWNER-OCCUPIED'","a15e6106":"# The 9 records with dates way in the future\ndata.loc[(data['APPLICATION_DATE']) > \"12-31-2020\"]","c7a83ab2":"# Those records are getting dumped \n\ndata = data.loc[(data['APPLICATION_DATE']) <= \"12-31-2020\"]","f03d8587":"data.describe().astype('int64') # astype int64 so the number is not displayed in scientific notation","f6278804":"# create the df for plotting\ndf = data.groupby(['NEIGHBORHOOD'])['INCENTIVE_AMOUNT'].sum().sort_values(ascending=False)[:10]\n\n# total incentive amount\ntotal_incentive = data['INCENTIVE_AMOUNT'].sum()\n\n# Define the plots\nfig, ax = plt.subplots(figsize = (20,8))\ndf.plot(kind='bar',\n        align='center', width=.5, edgecolor='black', \n        color=list('b'*2) + list(['gray']*8), ax=ax)\n\n# format as dollars\nfmt = '${x:,.0f}'\ntick = mtick.StrMethodFormatter(fmt)\nax.yaxis.set_major_formatter(tick) \nax.yaxis.set_tick_params(which='major', labelcolor='black')\n\n# Format Labels\nplt.xticks(rotation=0)\nplt.title(\"Top 10 Neigborhoods by Incentive Amount\", fontdict = {'size':16})\nplt.ylabel(\"Incentive Amount\", fontdict = {'size':12})\nplt.xlabel(\"\")\nfor i in range(10):\n    plt.text(x = i, y = round(df[i],2), s = '{:0,.2f}%'.format((df[i]\/total_incentive)*100), horizontalalignment = 'center', verticalalignment = 'bottom')\nplt.text(x=3, y=35000000, s=\"Hyde Park & Over-the-Rhine represent 33% of the total incentive amounts\", fontsize=14, color=\"blue\")\nplt.show()","4d98ee8f":"# create the df for plotting\ndf = data.groupby(['NEIGHBORHOOD'])['INCENTIVE_AMOUNT'].sum().sort_values()[:10]\n\n# Define the plots\nfig, ax = plt.subplots(figsize = (20,8))\ndf.plot(kind='bar',\n        align='center', width=.5, edgecolor='black', \n        color='red', ax=ax)\n\n# format as dollars\nfmt = '${x:,.0f}'\ntick = mtick.StrMethodFormatter(fmt)\nax.yaxis.set_major_formatter(tick) \nax.yaxis.set_tick_params(which='major', labelcolor='black')\n\n# Format Labels\nplt.xticks(rotation=0)\nplt.title(\"Bottom 10 Neigborhoods by Incentive Amount\", fontdict = {'size':16})\nplt.ylabel(\"Incentive Amount\", fontdict = {'size':12})\nplt.xlabel(\"\")\nfor i in range(10):\n    plt.text(x = i, y = round(df[i],2), s = '{:0,.4f}%'.format((df[i]\/total_incentive)*100), horizontalalignment = 'center', verticalalignment = 'bottom')\nplt.text(x=3, y=120000, s=\"Some of the poorest niegborhoods claim no incentives\", fontsize=14, color=\"blue\")\nplt.show()","72b02066":"# create the df for plotting\ndf = data.groupby(['LEED_CLASS'], dropna=False)['INCENTIVE_AMOUNT'].sum().sort_values(ascending=False)\n\n# Define the plots\nfig, ax = plt.subplots(figsize = (20,8))\ndf.plot(kind='bar',\n        align='center', width=.5, edgecolor='black', \n        color='green', ax=ax)\n\n# format as dollars\nfmt = '${x:,.0f}'\ntick = mtick.StrMethodFormatter(fmt)\nax.yaxis.set_major_formatter(tick) \nax.yaxis.set_tick_params(which='major', labelcolor='black')\n\n# Format Labels\nplt.xticks(rotation=0)\nplt.title(\"Incentive Amount by LEED Classification\", fontdict = {'size':16})\nplt.ylabel(\"Incentive Amount\", fontdict = {'size':12})\nplt.xlabel(\"\")\nfor i in range(6):\n    plt.text(x = i, y = round(df[i],2), s = '${:0,.2f}'.format(df[i]), horizontalalignment = 'center', verticalalignment = 'bottom')\n\nplt.text(x=1.5, y=60000000, s=\"Majority of the incentives are flowing to 'Not Certified'\", fontsize=14, color=\"blue\")\nplt.show()","bd26d667":"# create the df for plotting\ndf = data.groupby(['OWNERSHIP_TYPE'], dropna=False)['INCENTIVE_AMOUNT'].sum().sort_values(ascending=False)\n\n# Define the plots\nfig, ax = plt.subplots(figsize = (20,8))\ndf.plot(kind='bar',\n        align='center', width=.5, edgecolor='black', \n        color='blue', ax=ax)\n\n# format as dollars\nfmt = '${x:,.0f}'\ntick = mtick.StrMethodFormatter(fmt)\nax.yaxis.set_major_formatter(tick) \nax.yaxis.set_tick_params(which='major', labelcolor='black')\n\n# Format Labels\nplt.xticks(rotation=0)\nplt.title(\"Incentive Amount by Ownership Type\", fontdict = {'size':16})\nplt.ylabel(\"Incentive Amount\", fontdict = {'size':12})\nplt.xlabel(\"\")\nfor i in range(3):\n    plt.text(x = i, y = round(df[i],2), s = '${:0,.2f}'.format(df[i]), horizontalalignment = 'center', verticalalignment = 'bottom')\nplt.text(x=.6, y=140000000, s=\"Total Owner Occupied: $150,114,322\\nTotal Rental $4,852,472\", fontsize=14, color=\"blue\")\nplt.show()","34dace84":"# create the df for plotting\ndf = data.groupby(['CONSTRUCTION_TYPE'])['INCENTIVE_AMOUNT'].sum()\n\n# Define the plots\nfig, ax = plt.subplots(figsize = (9,8))\ndf.plot(kind='bar',\n        align='center', width=.5, edgecolor='black', \n        color='green', ax=ax)\n\n# format as dollars\nfmt = '${x:,.0f}'\ntick = mtick.StrMethodFormatter(fmt)\nax.yaxis.set_major_formatter(tick) \nax.yaxis.set_tick_params(which='major', labelcolor='black')\n\n# Format Labels\nplt.xticks(rotation=0)\nplt.title(\"Incentive Amount by Construction Type\", fontdict = {'size':16})\nplt.ylabel(\"Incentive Amount\", fontdict = {'size':12})\nplt.xlabel(\"\")\nfor i in range(2):\n    plt.text(x = i, y = round(df[i],2), s = '${:0,.2f}'.format(df[i]), horizontalalignment = 'center', verticalalignment = 'bottom')\nplt.text(x=.35, y=120000000, s=\"Total Owner Occupied: $133,981,291\\nTotal Rental $73,431,684\", fontsize=14, color=\"blue\")\nplt.show()","020cd073":"df = data[['APPLICATION_DATE', 'INCENTIVE_AMOUNT']].sort_values(by=\"APPLICATION_DATE\",ascending=False)\n\ndf.set_index(['APPLICATION_DATE'], inplace=True)\n\n# Define the plots\nfig, ax = plt.subplots(figsize = (20,8))\ndf.plot(kind='line',\n        color='green', ax=ax)\n\n# format as dollars\nfmt = '${x:,.0f}'\ntick = mtick.StrMethodFormatter(fmt)\nax.yaxis.set_major_formatter(tick) \nax.yaxis.set_tick_params(which='major', labelcolor='black')\n\nplt.title(\"Incentive Amount Over Time\", fontdict = {'size':16})\nplt.ylabel(\"Incentive Amount\", fontdict = {'size':12})\nplt.xlabel(\"Application Date\")\nplt.show()","fde31a58":"data.groupby(['INCENTIVE_AMOUNT'])['INCENTIVE_AMOUNT'].count().sort_values(ascending=False) # Weird consistency in the claim amounts","8ab8d9e0":"geo_data = data[data['LATITUDE'].notnull()]","7a498cb4":"cincy = folium.Map(location = [39.147287, -84.479279], zoom_start=13)","26ec1795":"for lat, lon, address, con_type, ownership_type, leed_class, neigborhood, incentive_amount in zip(\n    geo_data['LATITUDE'], \n    geo_data['LONGITUDE'], \n    geo_data['ADDRESS'], \n    geo_data['CONSTRUCTION_TYPE'], \n    geo_data['OWNERSHIP_TYPE'], \n    geo_data['LEED_CLASS'],\n    geo_data['NEIGHBORHOOD'],\n    geo_data['INCENTIVE_AMOUNT']):\n    folium.CircleMarker(\n        [lat, lon],\n        radius=.00001*incentive_amount,\n        popup = ('Neigborhood: ' + str(neigborhood).capitalize() + '<br>'\n                 'Ownership Type: ' + str(ownership_type) + '<br>'\n                 'Construction Type: ' + str(con_type)  + '<br>'\n                 'LEED Class: ' + str(leed_class) + '<br>'\n                ),\n        color='b',\n        fill_color=\"blue\",\n        key_on=incentive_amount,\n        fill=True,\n        fill_opacity=0.7\n        ).add_to(cincy)","56677321":"cincy","1555f968":"### Which neighorhoods are requesting the most incentives?","ffc20fd6":"## Importing Libraries and Data<a class=\"anchor\" id=\"Section3\"><\/a>","7368faab":"\n\n## Table of Contents\n    \n* [Introduction](#Section1)\n* [Overall Key Findings](#Section2)\n* [Importing Libraries and Data](#Section3)\n* [Understanding the Data and Feature Engineering](#Section4)\n* [Exploratory Data Analysis](#Section5)\n* [Conclusion](#Section6)\n","46ababe2":"### What type of property owners are recieving tax abatements","1482ef14":"### How are the incentives changing over time?","f0cb5a21":"## Understanding the Data and Feature Engineering <a class=\"anchor\" id=\"Section4\"><\/a>","a7fcb611":"## Conclusion <a id=\"Section6\"><\/a>","439ea178":"## <font color = 'blue'>Overall Key Findings <a id=\"Section2\"><\/a>\n\n\n* **33% of the total incentive amount is localized to two mostly wealthy neighborhoods**\n* **The 10 bottom neighborhoods by incentive amount represent just 0.21% of the total \\\\$208,570,536.26**\n* **72% of the total \\\\$208,570,536.26 incentive amount is going towards \u201cNot Certified\u201d LEED developments.**\n* **Landlords have only claimed \\\\$4,852,472 in incentives compared to \\\\$150,114,322 of \u2018owner-occupied\u2019 properties**\n* **\\\\$133,981,291 in incentives have gone towards \u2018new\u2019 construction types, and only \\\\$73,431,684 have gone towards \u2018rehab\u2019**\n","63b9ed2e":"#### What is LEED?\n\nLEED is an acronym for Leadership in Energy and Environmental Design and is used as a rating system for green buildings [^6].  LEED acts as a framework for decision-making for project teams in areas of energy use, water use, indoor environmental quality, material section and the building's effects on its surroundings.  So, a good LEED classification equates to a having a 'green building'.\n\nBased on the data provided most of the incentives are not being invested in LEED certified properties.  \n\n[^6]: https:\/\/www.usgbc.org\/help\/what-leed\n","42068e67":"### Areas to continue the conversation\n\nThis analysis might have been \"death by bar chart\", but sometimes the easiest chart carries the most meaning.  The dataset can be expanded by pulling in census data or leverage other economic indicators for Cincinnati over the same period.\n\nI'm open to suggestions!  This is one of my first notebooks and I'd really appreciate any feedback :)","62004530":"#### Breakdown of the highest incentivized neigborhoods\n\nThe median household income for Hyde Park and Over-the-Rhine is \\\\$110,448 and \\\\$66,185 [^2] [^3].  Over-the-Rhine is located just north of the central business district and has been experiencing a huge amount of gentrification.  So it would make sense that many properties are claiming tax abatements for their renovations.\n\nHowever, the overall median household income for Cincinnati is \\\\$40,640 [^2].  \n****\nDoes it make sense that the majority of the incentive amount is flowing to the neigborhoods with the some of the of the highest household income? Is this inline with the overall program goal of \"*stimulate community revitalization*\"?\n\n[^2]: https:\/\/www.incomebyzipcode.com\/ohio\/45208\n[^3]: https:\/\/www.incomebyzipcode.com\/ohio\/45202\n","4b7d46b6":"### Are these tax abatements going to LEED developments?","3309ecdc":"### What types of construction is claiming tax abatement?","70d7dc12":"### Small call out\n\nIt is interesting that the average for `INCENTIVE AMOUNT` is \\$61,039, but the average for `CONSTRUCTION_VALUE_IMPROVEMENT` is \\$322,986.  \n\n`INCENTIVE AMOUNT` could be shewed as a lot of individuals could be requesting a small incentive amount.  However, the overall value addition of the `CONSTRUCTION_VALUE_IMPROVEMENT` would infer a huge ROI on these incentives for residental improvements.","75a5330d":"<img src = \"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/a\/a3\/Cincinnati_Banner.jpg\">","435936b2":"## Introduction <a class=\"anchor\" id=\"Section1\"><\/a>\n\n\nFirst and foremost, I love my hometown of Cincinnati, Ohio. The city has drastically changed over the last couple of years which has led to some great developments around town.  Cincinnati has become a great city to live in and continues to change for the better.  One thing the City of Cincinnati does a good job at is publishing a bunch of datasets related to public initiatives on [Open Data Cincinnati](https:\/\/data.cincinnati-oh.gov\/). \n \nNow! back to the topic at hand, residential tax abatements! Yay!\n\nThe dataset I pulled down for this analysis is centered on the \u201cCity of Cincinnati\u2019s Residential Property Tax Abatement\u201d program.  This city program is focused on allowing property owners to only pay property taxes on the **pre-improvement value** of their property for 10-15 years.  \n\nFor instance, if you\u2019re a homeowner and you build a new home or invest in renovations on your current property, your property value will probably go up. That\u2019s great for you! However, if your property value goes up so does your property tax.  Not so great for you\u2026 That is where \u201cCity of Cincinnati\u2019s Residential Property Tax Abatement\u201d program comes in.  It allows for owners to not pay the additional tax on their new or renovated property for 10-15 years.\n\nThe program\u2019s overall goals are to [^1]:\n\n* Stimulate community revitalization\n* Retain city residents\n* Attract homeowners\n* Reduce development costs for homeownership and rental projects\n\nThese are all great goals, but keep in mind that with this program the City of Cincinnati is foregoing collecting additional property taxes on increased home value.  Property taxes topically go to the local government to fund local school districts, police and fire departments, road construction, and bunch of other public services.\n\n**So, based on the data the City of Cincinnati provided, is it meeting these goals?**\n\n\n[^1]: https:\/\/choosecincy.com\/resources\/communities\/#:~:text=The%20City%20of%20Cincinnati's%20Residential,for%20new%20construction%20and%20renovation.\n","e372d397":"## Exploratory Data Analysis <a id=\"Section5\"><\/a>","27a82402":"## Interactive Map!","6c59b5ad":"So is the City of Cincinnati Residential Tax Abatement program fulfilling its overall goals of:\n\n* Stimulate community revitalization\n* Retain city residents\n* Attract homeowners\n* Reduce development costs for homeownership and rental projects\n\nIt's a harder question to answer at the end of the day.  If you live in the city, you'll know that Over-the-Rhine has become an amazing epicenter for art, food, and night life.  That was not the case less than 10 years ago.  The data does show that most of the residential tax abatements flow to areas of town with a median income higher than the city average.  Do those areas need stimulating at the same level of the areas with lower income?  It makes those area of town worth living in, but the overall benefit back to the city is yet to be seen.\n","bffc25bc":"# Where are the Cincinnati Residential Tax Abatements going?","86757b6d":"#### Breakdown of the lowest incentivized neigborhoods\n\nThe median household incomes for Lower Price Hill, East Westwood, and Carthage is \\\\$33,434, \\\\$45,465, and \\\\$35,421. [^4] [^5] [^6].  \n\nIndividuals in these low income areas are not able to properly take advantage of the residental tax abatement program as they do not have flexibility in their monthly income.  \n\nHow can individuals with little to no extra money to spend on renovations be contributing to the overall goal of \"*stimulate community revitalization*\"?\n\n[^4]: https:\/\/www.incomebyzipcode.com\/ohio\/45204\n[^5]: https:\/\/www.incomebyzipcode.com\/ohio\/45211\n[^6]: https:\/\/www.incomebyzipcode.com\/ohio\/45216","63bfcfd5":"### Call Outs\n\n* There is one record before 2012 which is causing some issues.  It might be due to some homeowner claiming a renovation before the program started\n* There are 111 instances of the incentive amount **\\\\$237,910.86** which is why there there seems to be a line around \\\\$240,000\n* There are 215 instances of the incentive amount **\\\\$77,610.31** which is why there there seems to be a lower line around \\\\$80,000\n* Claims for tax abatements slowed down drastically in 2020 most likely due to COVID.","dbe655d3":"### Which neighorhoods have the least amount of incentives?","d387a7bd":"### Areas to Clean Up\n\n* Drop the column `LEED_DATE` as it only 285 non-null values\n* Parse out the date information from column `APPLICATION_DATE` and remove `T00:00:00.000` from each record\n* There are 9 records with an `APPLICATION_DATE` in the future.  Like way in the future, like 50+ years in the future.  Those will be filtered out.\n* Clean the column `OWNERSHIP_TYPE` as values are encoded as `owner occupied` and `owner-occupied`.  I assume there is no difference between them"}}