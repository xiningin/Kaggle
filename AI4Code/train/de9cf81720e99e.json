{"cell_type":{"fa59ef25":"code","85fb4054":"code","051f2878":"code","0681ce43":"code","1dcdea9b":"code","d9cffb9c":"code","dd0d406c":"code","db5e566a":"markdown","d73f2c45":"markdown","ebdf1f62":"markdown","636c6f65":"markdown","02e55c74":"markdown","63426c24":"markdown","3817b702":"markdown","e3fed98a":"markdown","9b58e1b0":"markdown","7ba720cd":"markdown","a8c77af9":"markdown","2c0a1638":"markdown"},"source":{"fa59ef25":"!pip install praw\nimport praw\nimport requests","85fb4054":"_client_id = \"<replace here with your client id>\"\n_client_secret = \"<replace here with your client secret>\"\n","051f2878":"# For User Agent you can give any string. Usually its followed like \" <some string> <version no.> <reddit_username>\"\n# Eg: \"Scraper 1.0 by \/u\/day_with_algorithm\"\nuser_agent = \"Scraper 1.0 by \/u\/day_with_algorithm\"\n\nreddit = praw.Reddit(\n        client_id=_client_id,\n        client_secret=_client_secret,\n        user_agent=user_agent\n)","0681ce43":"_subreddit_name = \"Coronavirus\"\nhot_posts = reddit.subreddit(_subreddit_name).hot(limit=10)\nfor post in hot_posts:\n    print(post.title)","1dcdea9b":"_subreddit_name = \"Coronavirus\"\nhot_posts = reddit.subreddit(_subreddit_name).hot(limit=10)\nfor post in hot_posts:\n    print(dir(post))\n    break","d9cffb9c":"import pandas as pd\nposts = []\n_subreddit_name = \"Coronavirus\"\nr_posts = reddit.subreddit(_subreddit_name)\nfor post in r_posts.hot(limit=10): # <- We can set the limit of the post also. If you want to collect all then set limit=None\n    posts.append([post.title, post.score, post.id, post.subreddit, post.url, post.num_comments, post.selftext, post.created])\nposts_df = pd.DataFrame(posts,columns=['title', 'score', 'id', 'subreddit', 'url', 'num_comments', 'body', 'created'])\nposts_df","dd0d406c":"_subreddit_name = \"CoronavirusMemes\"\n_media_extensions = [\"jpg\",\"png\",\"gif\"]\nfor submission in reddit.subreddit('CoronavirusMemes').hot(limit=10):\n    print(submission.url) # <- URL to the file or meme image\n    if submission.url.split(\".\")[-1] in _media_extensions: # Checking the extension of the url is in media extn.\n        \n        # Getting the image content using requests module. \n        response = requests.get(submission.url)\n        \n        img_name = submission.url.split(\"\/\")[-1]\n        # Creating a new file in \"write binary mode\", since image is a binary data.  \n        fopen = open(img_name, \"wb\")\n        fopen.write(response.content)\n        fopen.close()\n        print(img_name)\n    ","db5e566a":"So we collected the images as well in the system. \n\nPlease <b>Upvote<\/b> if you liked the Data Generation notebook.","d73f2c45":"# 1. Loading Libraries","ebdf1f62":"Now we generated the dataframe, with this we can analyse the sentiments and some NLP tasks","636c6f65":"Now we can choose any subreddit topic,\n##### Here we can choose \"Coronavirus\" -> \/r\/Coronavirus\/\n\nNow we can try to collect the top 10 hot posts and their data from PRAW\n","02e55c74":"So far we have seen collecting the text data from each reddit posts. Now we can try to collect the image data from the posts. \n\nHere we will try collecting the memes related to coronavirus, and we can save the same. ","63426c24":"Attributes available in each object (post_object)","3817b702":"Now we can collect these data and convert these to a dataframe. ","e3fed98a":"# 4. Collection of Text Data","9b58e1b0":"# 6. Collection of Image Data","7ba720cd":"# 3. Creating the Reddit client object. ","a8c77af9":"In this notebook, we will learn how to use PRAW to scrape posts from different subreddits as well as how to get comments from a specific post and download images aswell. \n\n","2c0a1638":"# 2. Steps to Create an App and get client_id and client_secret. \n1. Login to your reddit account. \n2. Navigate to this [path](https:\/\/www.reddit.com\/prefs\/apps) <- Click here\n3. Then click on <b>create app<\/b> or <b>create another app.<\/b>\n4. This will open a form where you need to fill in a name, description and redirect uri. For the redirect uri you should choose http:\/\/localhost:8080\n5. Sample Form, \n[Image](https:\/\/github.com\/syedjafer\/blogimages\/blob\/88559dd800571c7c674787a2dae13fc89731d7c9\/reddit_sample.png)\n6. After pressing create app a new application will appear. Here you can find the authentication information needed to create the praw.Reddit instance.\n7. Sample Image [Link](https:\/\/github.com\/syedjafer\/blogimages\/blob\/main\/reddit_client_Secret%20samplr.png) <- Check out this image. \n8. Then Popupate the Client_id and Client_Secret in the below cell. "}}