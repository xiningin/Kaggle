{"cell_type":{"f0e3e2da":"code","4afcc834":"code","39e5a24d":"code","45ed2c4d":"code","05b712b8":"code","15f57a4d":"code","8edd2fe7":"code","58cd7b7c":"code","484e98f1":"code","e27bcc70":"code","4fee9790":"code","6a503f33":"code","52c1965c":"code","7f8a5b44":"code","1030e679":"code","f08dcc94":"code","9624f27d":"code","d3c8d863":"code","0e2598f4":"code","3abaf7e8":"code","4794a063":"code","bb69969b":"code","5a183d61":"code","96ddf812":"code","a96b9b81":"code","6ff3281e":"code","69e2e798":"code","f3397c0c":"code","e44b764c":"code","c5d7d91b":"code","62ca5dbb":"code","3420f18a":"code","65052110":"code","89253c3a":"code","3c2bec1d":"code","f200f94e":"code","3babb640":"code","c72526bd":"code","dda83daa":"code","f576ef2d":"code","9dfa279d":"code","5cbeb06d":"code","0b69669b":"markdown"},"source":{"f0e3e2da":"import pandas as pd\nimport statsmodels.api as sm\nimport statsmodels.formula.api as smf\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.cluster import KMeans\ncolor = sns.color_palette()\nfrom IPython.core.display import display, HTML\ndisplay(HTML(\"<style>.container { width:100% !important; }<\/style>\"))\n%matplotlib inline","4afcc834":"attendance_valuation_elo_df = pd.read_csv(\"..\/input\/nba_2017_att_val_elo.csv\");attendance_valuation_elo_df.head()","39e5a24d":"salary_df = pd.read_csv(\"..\/input\/nba_2017_salary.csv\");salary_df.head()\n","45ed2c4d":"pie_df = pd.read_csv(\"..\/input\/nba_2017_pie.csv\");pie_df.head()","05b712b8":"plus_minus_df = pd.read_csv(\"..\/input\/nba_2017_real_plus_minus.csv\");plus_minus_df.head()","15f57a4d":"plus1 = plus_minus_df.head()\n\n\n","8edd2fe7":"import pandas as pd\nimport seaborn as sns\nsns.lmplot(x=\"MPG\", y=\"GP\", data=plus1)","58cd7b7c":"br_stats_df = pd.read_csv(\"..\/input\/nba_2017_br.csv\");br_stats_df.head(10)","484e98f1":"brstats1 = br_stats_df.head(10)","e27bcc70":"import pandas as pd\nimport seaborn as sns\nsns.barplot(x='Player', y='3P%', data=brstats1)","4fee9790":"\nplus_minus_df.rename(columns={\"NAME\":\"PLAYER\", \"WINS\": \"WINS_RPM\"}, inplace=True)\nplayers = []\nfor player in plus_minus_df[\"PLAYER\"]:\n    plyr, _ = player.split(\",\")\n    players.append(plyr)\nplus_minus_df.drop([\"PLAYER\"], inplace=True, axis=1)\nplus_minus_df[\"PLAYER\"] = players\nplus_minus_df.head()","6a503f33":"\nnba_players_df = br_stats_df.copy()\nnba_players_df.rename(columns={'Player': 'PLAYER','Pos':'POSITION', 'Tm': \"TEAM\", 'Age': 'AGE', \"PS\/G\": \"POINTS\"}, inplace=True)\nnba_players_df.drop([\"G\", \"GS\", \"TEAM\"], inplace=True, axis=1)\nnba_players_df = nba_players_df.merge(plus_minus_df, how=\"inner\", on=\"PLAYER\")\nnba_players_df.head(10)","52c1965c":"nbaplayers1 = nba_players_df.head(10)","7f8a5b44":"print(nbaplayers1)","1030e679":"sns.lmplot(x=\"MP\", y=\"POINTS\", data=nbaplayers1)\n","f08dcc94":"\npie_df_subset = pie_df[[\"PLAYER\", \"PIE\", \"PACE\", \"W\"]].copy()\nnba_players_df = nba_players_df.merge(pie_df_subset, how=\"inner\", on=\"PLAYER\")\nnba_players_df.head()","9624f27d":"salary_df.rename(columns={'NAME': 'PLAYER'}, inplace=True)\nsalary_df[\"SALARY_MILLIONS\"] = round(salary_df[\"SALARY\"]\/1000000, 2)\nsalary_df.drop([\"POSITION\",\"TEAM\", \"SALARY\"], inplace=True, axis=1)\nsalary_df.head()","d3c8d863":"diff = list(set(nba_players_df[\"PLAYER\"].values.tolist()) - set(salary_df[\"PLAYER\"].values.tolist()))","0e2598f4":"len(diff)\n","3abaf7e8":"\nnba_players_with_salary_df = nba_players_df.merge(salary_df); ","4794a063":"\nplt.subplots(figsize=(20,15))\nax = plt.axes()\nax.set_title(\"NBA Player Correlation Heatmap:  2016-2017 Season (STATS & SALARY)\")\ncorr = nba_players_with_salary_df.corr()\nsns.heatmap(corr, \n            xticklabels=corr.columns.values,\n            yticklabels=corr.columns.values)","bb69969b":"sns.lmplot(x=\"SALARY_MILLIONS\", y=\"WINS_RPM\", data=nba_players_with_salary_df)\n","5a183d61":"results = smf.ols('W ~POINTS', data=nba_players_with_salary_df).fit()\n","96ddf812":"print(results.summary())\n","a96b9b81":"results = smf.ols('W ~WINS_RPM', data=nba_players_with_salary_df).fit()\n","6ff3281e":"print(results.summary())\n","69e2e798":"results = smf.ols('SALARY_MILLIONS ~POINTS', data=nba_players_with_salary_df).fit()\n","f3397c0c":"print(results.summary())\n","e44b764c":"results = smf.ols('SALARY_MILLIONS ~WINS_RPM', data=nba_players_with_salary_df).fit()\n","c5d7d91b":"print(results.summary())\n","62ca5dbb":"from ggplot import *\n","3420f18a":"\np = ggplot(nba_players_with_salary_df,aes(x=\"POINTS\", y=\"WINS_RPM\", color=\"SALARY_MILLIONS\")) + geom_point(size=200)\np + xlab(\"POINTS\/GAME\") + ylab(\"WINS\/RPM\") + ggtitle(\"NBA Players 2016-2017:  POINTS\/GAME, WINS REAL PLUS MINUS and SALARY\")","65052110":"wiki_df = pd.read_csv(\"..\/input\/nba_2017_player_wikipedia.csv\");wiki_df.head()\n","89253c3a":"wiki_df.rename(columns={'names': 'PLAYER', \"pageviews\": \"PAGEVIEWS\"}, inplace=True)\n","3c2bec1d":"median_wiki_df = wiki_df.groupby(\"PLAYER\").median()\n","f200f94e":"\nmedian_wiki_df_small = median_wiki_df[[\"PAGEVIEWS\"]]","3babb640":"median_wiki_df_small = median_wiki_df_small.reset_index()\n","c72526bd":"nba_players_with_salary_wiki_df = nba_players_with_salary_df.merge(median_wiki_df_small)\n","dda83daa":"twitter_df = pd.read_csv(\"..\/input\/nba_2017_twitter_players.csv\");twitter_df.head()\n","f576ef2d":"nba_players_with_salary_wiki_twitter_df = nba_players_with_salary_wiki_df.merge(twitter_df)\n","9dfa279d":"nba_players_with_salary_wiki_twitter_df.head()","5cbeb06d":"\nplt.subplots(figsize=(20,15))\nax = plt.axes()\nax.set_title(\"NBA Player Correlation Heatmap:  2016-2017 Season (STATS & SALARY & TWITTER & WIKIPEDIA)\")\ncorr = nba_players_with_salary_wiki_twitter_df.corr()\nsns.heatmap(corr, \n            xticklabels=corr.columns.values,\n            yticklabels=corr.columns.values)","0b69669b":"Exploration of How Social Media Can Predict Winning Metrics Better Than Salary"}}