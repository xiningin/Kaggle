{"cell_type":{"ad49dade":"code","e303d5bd":"code","5fdd7513":"code","62eaca72":"code","cfe59f13":"code","e43a1c1b":"code","9aaeda2e":"code","e5d4e243":"code","3d4e0057":"code","1a030e7b":"code","d630e478":"code","ffc0d87e":"code","f5c73efe":"code","68268040":"code","02df1292":"code","9d7ebf78":"code","ad0d3ba9":"code","0ea7b6e4":"code","45b1bb83":"code","6f7e93a8":"code","dacfe8fe":"code","4fdddf5d":"markdown","f4b598ac":"markdown","96c078b9":"markdown","f0f0f0be":"markdown","0cca1be7":"markdown","211d680c":"markdown","4aee6a36":"markdown","823a9f23":"markdown","05cb70b4":"markdown","262514ac":"markdown","19b95434":"markdown","57efa979":"markdown","43e164b1":"markdown","162c3f74":"markdown","ff5ea60d":"markdown","a7be1afc":"markdown","abd1a39c":"markdown"},"source":{"ad49dade":"'''\nAs bibliotecas usadas s\u00e3o:\nrandom\nstatistic\nnumpy.random\nscipy.stats\npandas\nmatplotlib\nstatsmodels\npandas-profiling\n'''\n\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport math\nimport random\nimport pandas as pd\nimport scipy.stats as stat\n\nimport os\n\npath = os.environ['PATH']\n\nif path.startswith('C'):\n    IN_KAGGLE = False\nelse:\n    IN_KAGGLE = True","e303d5bd":"# Para uso com fun\u00e7\u00f5es da biblioteca standard (ex random.randint)\nrandom.seed(1)\n# Para uso com fun\u00e7\u00f5es da biblioteca numpy (ex np.random.randint)\nnp.random.seed(1)\n\n# Quando for passada como par\u00e2metro a seed\nrandom_state = 1","5fdd7513":"# Permuta\u00e7\u00e3o: possibilidades de coloca\u00e7\u00e3o de n objetos em n posi\u00e7\u00f5es = n!\ndef permutacao (n):\n    return math.factorial(n)\n\n# Arranjo: p objetos em n posi\u00e7\u00f5es, ordem importa = n!\/(n-p)!\ndef arranjo (n,p):\n    return math.factorial(n)\/math.factorial(n-p)\n\n# Combina\u00e7\u00e3o: p objetos em n posi\u00e7\u00f5es, ordem n\u00e3o importa = n!\/(n-p)!p!\ndef combinacao (n,p):\n    return math.factorial(n)\/(math.factorial(n-p)*math.factorial(p))\n\n# Varia\u00e7\u00f5es poss\u00edveis havendo n slots e p possibilidades para cada um\ndef possibilidades(n,p):\n    return p**n","62eaca72":"if IN_KAGGLE:\n    df = pd.read_csv(\"..\/input\/2017.csv\")\nelse:\n    df = pd.read_csv(\"2017.csv\")\n    \n\ndf.head(20)","cfe59f13":"df = df.loc[:,[  'Happiness.Score',  'Economy..GDP.per.Capita.', 'Family',\n       'Health..Life.Expectancy.', 'Freedom', 'Generosity',\n       'Trust..Government.Corruption.','Dystopia.Residual']]","e43a1c1b":"plt.figure(figsize=(14,6))\n\n_ = df['Happiness.Score'].hist( bins=50, density=True)\n\nplt.xlabel('\u00cdndice de felicidade')\nplt.ylabel('Probabilidade')\nplt.title('Histogram do \u00edndice de felicidade')\n\nplt.show()","9aaeda2e":"df.corr()","e5d4e243":"# Aparentemente economia \u00e9 fortemente correlacionada com felicidade\n\n_ = df.plot(figsize=(14,6), kind='scatter', x='Happiness.Score', y='Economy..GDP.per.Capita.' )","3d4e0057":"# J\u00e1 a generosidade n\u00e3o apresenta correla\u00e7\u00e3o significativa\n\nplt.figure()\n\n_ = df.plot(figsize=(14,6),kind='scatter', x='Happiness.Score', y='Generosity' )","1a030e7b":"from pandas.plotting import scatter_matrix\n\n_ = scatter_matrix(df, figsize=(14,10), alpha=0.2, diagonal='kde')\n","d630e478":"#df.plot(figsize=(14,6), kind='scatter', x='Happiness.Score', y='Economy..GDP.per.Capita.' )\nnp.cov(df[['Happiness.Score','Economy..GDP.per.Capita.']].values.T)","ffc0d87e":"#df.plot(figsize=(14,6), kind='scatter', x='Happiness.Score', y='Economy..GDP.per.Capita.' )\nnp.corrcoef(df[['Happiness.Score','Economy..GDP.per.Capita.']].values.T)","f5c73efe":"from scipy.stats import spearmanr\n\nrho, pval = spearmanr(df[['Happiness.Score','Economy..GDP.per.Capita.']].values)\nprint(rho)\nprint(pval)","68268040":"x=np.arange(0, 8.1, 0.05)\ny = np.sin(np.pi*x)\n\nfig, ax1 = plt.subplots(figsize=(14,8))\nax1.plot( range(len(x)),y)\nplt.grid()\nplt.tight_layout()\nplt.show()\n\nprint(len(x))\n\nprint(np.corrcoef(x,y))","02df1292":"# https:\/\/machinelearningmastery.com\/gentle-introduction-autocorrelation-partial-autocorrelation\/\n\nfrom statsmodels.graphics.tsaplots import plot_acf\n\nfig, ax = plt.subplots(1,1,figsize=(14,8))\nplot_acf(y,ax=ax)\n\nplt.show()","9d7ebf78":"x=np.arange(0, 8.1, 0.05)\ny1 = np.sin(np.pi*x)\ny2 = np.cos(np.pi*(x+1\/2))\n\nfig, ax = plt.subplots(2,1,figsize=(14,8))\nax[0].plot(y1)\nax[1].plot(y2)\nplt.tight_layout()\nplt.show()\n\n\nprint(np.corrcoef(y1,y2))","ad0d3ba9":"# Gerando int - biblioteca python standard\nprint(random.randrange(100, 1000, 2))\nprint(random.randint(100, 1000))\n\n# Gerando int - biblioteca numpy\nprint(np.random.randint(100, 1000,2))\n\n# Gerando float - biblioteca python standard\nprint(random.random())\nprint(random.uniform(100, 1000))\nprint(random.normalvariate(1, 1))\n\n# Gerando float - biblioteca numpy\nprint(np.random.random(5))\nprint(np.random.randn(5))\n\nnp.random.random_sample(size=100)","0ea7b6e4":"print(np.linspace(0.0,1.0,11))\nprint(np.arange(0.0,10.0,3))\nprint(np.logspace(0.0,10.0,3))\n","45b1bb83":"# Escolha com reposi\u00e7\u00e3o\n# usando numpy np.random.choice(10,size=10,replace=True)\n\n\nfaces = list(range(1,7))\nlancamentos = 600\npesos = [1\/6,1\/6,0.5\/6,0.5\/6,2\/6,1\/6]\nresultados = random.choices(population=faces, weights=pesos, k=lancamentos)\n#print(resultados)\nfor i in faces:\n    print('Face {}, peso {}, vezes {}'.format(i,pesos[i-1],resultados.count(i)))","6f7e93a8":"# Escolha sem reposi\u00e7\u00e3o\n# usando numpy np.random.choice(10,size=10,replace=False)\n\n\nlista = list(range(1,7))\nrandom.sample(population=lista, k=len(lista))\n","dacfe8fe":"# Embaralhamento\n# usando numpy np.random.choices\n\nlista = list(range(1,7))\nrandom.shuffle(lista)\nlista","4fdddf5d":"## Escolha","f4b598ac":"Vamos calcular o \u00edndice de correla\u00e7\u00e3o entre as vari\u00e1veis do relat\u00f3rio.\n\nUma forma visual e simples de analisar correla\u00e7\u00f5es \u00e9 atrav\u00e9s de scatter plots.","96c078b9":"Mais formalmente, as medidas mais usadas de correla\u00e7\u00e3o s\u00e3o:\n\nCovari\u00e2ncia: mede a varia\u00e7\u00e3o conjunta das duas vari\u00e1veis em torno de suas m\u00e9dias\n\nCoeficiente de correla\u00e7\u00e3o de Pearson: mede a varia\u00e7\u00e3o conjunta das vari\u00e1veis em torno da m\u00e9dia, varia\u00e7\u00f5es normalizadas pelo desvio padr\u00e3o (mais f\u00e1cil interpreta\u00e7\u00e3o porque o resultado fica no intervalo [-1 1])\n\nCoeficiente de correla\u00e7\u00e3o de Spearman: calcula o coeficiente de correla\u00e7\u00e3o de Pearson utilizando rank order dos elementos dos arrays","f0f0f0be":"## Autocorrela\u00e7\u00e3o\n\n\u00c9 a correla\u00e7\u00e3o feita com a pr\u00f3pria vari\u00e1vel, considerando um intervalo, normalmente tempo.\n\nAssim, a s\u00e9rie \u00e9 sobreposta a ela mesma, inicialmente com deslocamento 0, depois 1, depois 2, ...\n\nOs deslocamentos seguem at\u00e9 que n\u00e3o haja mais sobreposi\u00e7\u00e3o dentre as s\u00e9ries.\n\nO valor \u00e9 decrescente porque, a medida em que ocorre o deslocamento, a sobreposi\u00e7\u00e3o diminui.\n\n\u00c9 um excelente teste de sazonalidade em s\u00e9ries temporais.","0cca1be7":"<font size=\"6\" color=\"red\">Correla\u00e7\u00e3o entre Vari\u00e1veis<\/font>\n\nA correla\u00e7\u00e3o analisa poss\u00edveis relacionamentos existentes entre vari\u00e1veis distintas. Procura determinar se s\u00e3o independentes ou dependentes e, no \u00faltimo caso, qual o tipo de depend\u00eancia.\n\nVamos a um exemplo: o relat\u00f3rio de felicidade por pais da ONU, que mede o \u00edndice de felicidade por na\u00e7\u00e3o e seus indicadores (fonte: https:\/\/www.kaggle.com\/unsdsn\/world-happiness).\n","211d680c":"## Gerando n\u00fameros aleat\u00f3rios\n","4aee6a36":"## Correla\u00e7\u00e3o n\u00e3o linear\n\nAs correla\u00e7\u00f5es analisadas at\u00e9 agora s\u00e3o lineares, indicando se ambas as vari\u00e1veis tem igual varia\u00e7\u00e3o em torno da m\u00e9dia.\n\nEm correla\u00e7\u00f5es n\u00e3o lineares o pressuposto acima n\u00e3o se configura, embora haja correla\u00e7\u00e3o entre as vari\u00e1veis.\n\nPor isso h\u00e1 que se ter cuidado com a an\u00e1lise dos indicadores acima.","823a9f23":"## O que ser\u00e1 tratado no curso\n\n\nAn\u00e1lise multivariada\n\n","05cb70b4":"## Gerando n\u00fameros n\u00e3o aleat\u00f3rios","262514ac":"## Mantendo a reprodutibilidade dos resultados\n\nAntes da gera\u00e7\u00e3o de n\u00fameros aleat\u00f3rios \u00e9 importante inicializar o gerador de n\u00fameros para que os resultados sejam os mesmos","19b95434":"## Embaralhamento","57efa979":"## Fun\u00e7\u00f5es gerais usadas nos exemplos","43e164b1":"## Correla\u00e7\u00e3o n\u00e3o significa causalidade\n\nA exist\u00eancia de correla\u00e7\u00e3o entre vari\u00e1veis n\u00e3o significa, necessariamente, que uma vari\u00e1vel afete diretamente o valor da outra.\n\nA correla\u00e7\u00e3o indica que h\u00e1 movimenta\u00e7\u00e3o conjunta de ambas as vari\u00e1veis, efeito que pode ser produzido por uma terceira vari\u00e1vel.\n\nNo exemplo abaixo, ambas as vari\u00e1veis (sen e cos) est\u00e3o fortemente correlacionadas (-1). Por\u00e9m, o que afeta o valor da ambas \u00e9 o \u00e2ngulo original.\n\nPara exemplos concretos, ver o link abaixo.\n\nhttp:\/\/www.tylervigen.com\/spurious-correlations\n","162c3f74":"<font size=\"6\" color=\"red\">Anexo II - Refer\u00eancias<\/font>\n\nTutoriais\n\nhttps:\/\/www.youtube.com\/watch?v=Iq9DzN6mvYA\n\nhttps:\/\/machinelearningmastery.com\/how-to-generate-random-numbers-in-python\/\n\nhttp:\/\/nbviewer.jupyter.org\/url\/norvig.com\/ipython\/Probability.ipynb\n\nhttps:\/\/www.youtube.com\/watch?v=KhAUfqhLakw\n\nhttps:\/\/www.analyticsvidhya.com\/blog\/2017\/09\/6-probability-distributions-data-science\/\n\nhttps:\/\/www.datacamp.com\/community\/tutorials\/python-statistics-data-science\n\nhttps:\/\/machinelearningmastery.com\/\n\n\nDistribui\u00e7\u00f5es de probabilidade\n\nhttp:\/\/blog.cloudera.com\/blog\/2015\/12\/common-probability-distributions-the-data-scientists-crib-sheet\/\n\nhttp:\/\/www.math.wm.edu\/~leemis\/chart\/UDR\/UDR.html\n\nCursos\n\nhttps:\/\/courses.edx.org\/courses\/course-v1:UCSanDiegoX+DSE210x+1T2018\/course\/#block-v1:UCSanDiegoX+DSE210x+1T2018+type@chapter+block@c1c0e5a497924a40b800bf69e96b4004\n\nDocumenta\u00e7\u00e3o bibliotecas Python\n\nhttps:\/\/docs.python.org\/3\/library\/statistics.html\n\nhttps:\/\/docs.python.org\/3\/library\/random.html\n\nDocumenta\u00e7\u00e3o bibliotecas SciPy\n\nhttps:\/\/docs.scipy.org\/doc\/scipy\/reference\/stats.html\n\nDocumenta\u00e7\u00e3o bibliotecas NumPy\n\nhttps:\/\/docs.scipy.org\/doc\/numpy\/reference\/routines.random.html\n\nhttps:\/\/docs.scipy.org\/doc\/numpy\/reference\/routines.statistics.html\n\nDataframe\n\nhttp:\/\/pandas.pydata.org\/pandas-docs\/version\/0.13\/visualization.html\n","ff5ea60d":"## Importa\u00e7\u00e3o de bibliotecas usadas nos exemplos","a7be1afc":"<font size=\"10\" color=\"black\">An\u00e1lise Multivariada<\/font>\n\nEduardo Chaves Ferreira","abd1a39c":"<font size=\"6\" color=\"red\">Anexo I - Fun\u00e7\u00f5es \u00dateis<\/font>"}}