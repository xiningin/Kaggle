{"cell_type":{"1b8ab5c6":"code","b0a4fa9c":"code","f728fb22":"code","36ae9840":"code","a900bdf5":"code","9ceb4f8b":"code","3c547c40":"code","8ac514a1":"code","f176fc8c":"code","f81f89b7":"code","09a7d20a":"code","1d33b29a":"code","45f5d183":"code","60438ad0":"code","1f681582":"code","7bfd4d39":"code","73fc0cb0":"code","227f4db8":"code","81c3b01e":"code","22d2757a":"code","f54787d1":"code","6f630c6b":"code","68b75c73":"code","2115119c":"code","a5d7e642":"code","7d88a0b1":"code","90a5c5cd":"markdown","08db3c2b":"markdown","db763b82":"markdown","23378b4c":"markdown","b69cdada":"markdown","7930e16a":"markdown","5aaa7ede":"markdown","6c3c5877":"markdown","8bd5a5ac":"markdown","1d10175c":"markdown","ef869252":"markdown","9994a1ff":"markdown","25b677b6":"markdown"},"source":{"1b8ab5c6":"import os\nprint(os.listdir(\"..\/input\"))\n# !pip install researchpy","b0a4fa9c":"import pandas as pd\n# import researchpy as rp\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom scipy import stats\nfrom scipy.stats import chisquare\nimport statsmodels.api         as     sm\nfrom   statsmodels.formula.api import ols\nsns.set(style=\"darkgrid\")\n","f728fb22":"# df = pd.read_csv('insurance.csv')\ndf = pd.read_csv('..\/input\/insurance.csv')\ndf.head()","36ae9840":"df.dtypes","a900bdf5":"df.shape","9ceb4f8b":"df.isnull().sum()","3c547c40":"df.describe()","8ac514a1":"# ax = sns.boxplot(x=df[\"sex\"], y=df['charges'], hue=\"smoker\", data=df)\n# ax = sns.boxplot(x=\"bmi\", y=\"age\", data=df)\nax = sns.boxplot(df[\"bmi\"])","f176fc8c":"bx = sns.boxplot(df[\"age\"])","f81f89b7":"cx = sns.boxplot(df[\"charges\"])","09a7d20a":"sns.distplot(df['bmi'], kde=False, fit=stats.gamma)","1d33b29a":"sns.distplot(df['age'], kde=False, fit=stats.gamma)","45f5d183":"sns.distplot(df['charges'], kde=False, fit=stats.gamma)","60438ad0":"sns.pairplot(df)","1f681582":"sns.boxplot(x=df['smoker'], y=df[\"charges\"], data=df)","7bfd4d39":"smoker_charges = pd.crosstab(index=df[\"charges\"], columns=df[\"smoker\"])\n# print(smoker_charges)","73fc0cb0":"mod_a = ols('charges ~ smoker', data = df).fit()\naov_table_a = sm.stats.anova_lm(mod_a, typ=2)\nprint(aov_table_a)","227f4db8":"sns.boxplot(x=df['sex'], y=df[\"bmi\"], data=df)\n# df.boxplot(\"bmi\", by='sex')","81c3b01e":"# gender_bmi = pd.crosstab(index=df[\"bmi\"], columns=df[\"sex\"])\n# print(gender_bmi)\n\nmod = ols('bmi ~ sex', data = df).fit()\naov_table = sm.stats.anova_lm(mod, typ=2)\nprint(aov_table)","22d2757a":"# Two-way frequency tables, also called contingency tables,\n# are tables of counts with two dimensions where each dimension is a different variable. \n# Two-way tables can give you insight into the relationship between two variables\ngender_smoke = pd.crosstab(index=df[\"sex\"], columns=df[\"smoker\"])\nprint(gender_smoke)\n# grouped = gender_smoke.groupby(['smoker','sex'])\n# grouped.size().unstack()","f54787d1":"chi_sq_Stat, p_value, deg_freedom, exp_freq = stats.chi2_contingency(gender_smoke)\nprint('Chi-square statistic %3.5f P value %1.6f Degrees of freedom %d' %(chi_sq_Stat, p_value,deg_freedom))","6f630c6b":"# df[df[\"sex\"] == 'female']['sex']\n# sns.scatter(df['age'], kde=False, fit=stats.gamma)\nax = sns.scatterplot(x=df['children'], y=df['bmi'], hue=df[df['sex'] == 'female']['sex'], data=df)","68b75c73":"# mod_a = ols('charges ~ smoker', data = df).fit()\n# aov_table_a = sm.stats.anova_lm(mod_a, typ=2)\n# print(aov_table_a)\n# df.describe(df.groupby(['sex']))['bmi']\n# df_2 = df['sex'].dropna()\nsns.jointplot(y=df[\"bmi\"], x=df['children'], data=df);","2115119c":"# import scipy.stats as ss\n# for name_group in df.groupby('bmi'):\n#     samples = [condition[1] for condition in name_group[1].groupby('sex')['children']]\n#     f_val, p_val = ss.f_oneway(*samples)\n#     print('Name: {}, F value: {:.3f}, p value: {:.3f}'.format(name_group[0], f_val, p_val))\n","a5d7e642":"# from statsmodels.stats.multicomp import pairwise_tukeyhsd\n# for bmi, grouped_df in df.groupby('bmi'):\n#     print('Name {}'.format(bmi), pairwise_tukeyhsd(grouped_df['sex'], grouped_df['children']))","7d88a0b1":"gender_smoke = pd.crosstab(index=df[\"sex\"], columns=[df[\"bmi\"], df['children']])\nprint(gender_smoke)","90a5c5cd":"Here, p value is 0.089976 and it is greater than our chosen level of signifance at 5%\n\nSo the statistical decision is fail to reject the null hypothesis at 5% level of significance.\n\n### So there is sufficient evidence  to fail to reject the null hypothesis that means BMI on males doesnot differ significantly from that of females.","08db3c2b":"### Finding out no of missing values for each column","db763b82":"### D. Is the distribution of bmi across women with no children, one child and two children, the same ?","23378b4c":"### A. Do charges of people who smoke differ significantly from the people who don't?\n\n### Step 1: State the null and alternative hypothesis:\n\n* $H_0$: $\\mu1$ = $\\mu2$\n* $H_A$: At least one $\\mu$ differs \n\nHere $\\mu1$, $\\mu2$ are the smokers and non-smokers.\n\n### Step 2: Decide the significance level\n\nHere we select \u03b1 = 0.05","b69cdada":"### B. Does bmi of males differ significantly from that of females?","7930e16a":"### Step 1: State the null and alternative hypothesis:\n\n* $H_0$: $\\mu1$ = $\\mu2$\n* $H_A$: At least one $\\mu$ differs \n\nHere $\\mu1$, $\\mu2$ are the BMI of male and female.\n\n### Step 2: Decide the significance level\n\nHere we select \u03b1 = 0.05","5aaa7ede":"### Datatype of the cells","6c3c5877":"### Step 1: State the null and alternative hypothesis:\n\nNull hypothesis: $H_0$: There is no significance difference of smokers for different genders\n                        \nAlternative hypothesis: $H_A$: There is a significance difference of smokers for different genders\n\n### Step 2: Decide the significance level\n\nHere we select \u03b1 = 0.05\n\n### Step 3: Determine a cross tabulation details","8bd5a5ac":"### Since, p value is 0.006548 and less than 0.05 so we reject the null hypothesis. \n### So, we conclude that there is a significant difference for somkers by male and female.","1d10175c":"Distribution of age, bmi, charges","ef869252":"### C. Is the proportion of smokers significantly different in different genders?","9994a1ff":"Here, p value is 8.271436e-283 and it is less than our chosen level of signifance at 0.05\n\nSo the statistical decision is reject the null hypothesis at 5% level of significance.\n\n### So there is sufficient evidence to reject the null hypothesis that means charges of people who smoke differ significantly from the people who don't","25b677b6":"### Step 4: Calculate p value or chi-square statistic value"}}