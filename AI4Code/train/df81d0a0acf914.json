{"cell_type":{"45fe54f6":"code","132d06c6":"code","a61b3aa9":"code","3e3a3c29":"code","6d1e0f36":"code","aee785b2":"code","642517a6":"code","8a8f8489":"code","0f1f8cfc":"code","4650c97a":"code","f7af430a":"code","df4668a7":"code","1052a44e":"code","a58a276d":"code","8f4ae051":"code","94afc3c2":"code","cea2358c":"code","0cc97f5b":"code","0577fa3c":"code","f619971e":"code","e565853f":"code","0c5be269":"code","8e16ff0b":"code","f58ba410":"code","070ac446":"code","2e06552e":"code","e495046c":"code","32bdd9ed":"code","9dd45060":"code","4b02c09e":"code","5d61edbe":"code","b1e7913b":"code","e5948b43":"code","c5906ad8":"code","3f6c521c":"markdown","22308536":"markdown","a42bf7b8":"markdown","b75a0fa4":"markdown","732af07c":"markdown","f5afd04f":"markdown","65faba70":"markdown","314bb1e7":"markdown","d3296f83":"markdown","3ee7889e":"markdown","abe304e6":"markdown","1d0137a9":"markdown","cf74d8d5":"markdown","673bd65b":"markdown","271f7e0c":"markdown","449ccbbc":"markdown","3f8bfbdf":"markdown","6f708dd5":"markdown","d55c478d":"markdown","fe8ca09a":"markdown","5ca4147f":"markdown"},"source":{"45fe54f6":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","132d06c6":"import numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.model_selection import train_test_split\n%matplotlib inline\nimport sys\nfrom sklearn.linear_model import LinearRegression \nfrom sklearn import metrics\nfrom sklearn import preprocessing\nimport statsmodels.api as sm","a61b3aa9":"train=pd.read_csv('\/kaggle\/input\/av-healthcare-analytics-ii\/healthcare\/train_data.csv')\ntest=pd.read_csv('\/kaggle\/input\/av-healthcare-analytics-ii\/healthcare\/test_data.csv')\nsub=pd.read_csv('\/kaggle\/input\/av-healthcare-analytics-ii\/healthcare\/sample_sub.csv')","3e3a3c29":"train.head()","6d1e0f36":"train.info()\n","aee785b2":"train.isna().sum()","642517a6":"train.head()","8a8f8489":"train['count']=1","0f1f8cfc":"train.head()","4650c97a":"train.Stay.value_counts()","f7af430a":"train.Age.value_counts()","df4668a7":"train['Severity of Illness'].describe()","1052a44e":"train['Hospital_type_code'].describe()","a58a276d":"plt.figure(figsize = (10,5))\nsns.countplot(x = 'Hospital_type_code', data = train, palette = 'gist_earth')\nplt.xlabel('Hospital type code', size = 20)\nplt.ylabel('Patient Density', size = 20)\nplt.title('Patient Density per Hospital Type Code')\nplt.show()","8f4ae051":"plt.figure(figsize = (10,5))\nsns.countplot(x = 'Hospital_type_code', data = train, palette = 'rainbow')\nplt.xlabel('Hospital type code', size = 20)\nplt.ylabel('Stay', size = 20)\nplt.title('Length of Stay per Hospital Type Code')\nplt.show()","94afc3c2":"train.Stay.value_counts()","cea2358c":"Stay_index = train.Stay.value_counts().index[:11]\nStay_index","0cc97f5b":"Hospital_type_codeindex= train.Hospital_type_code.value_counts().index[:7]\nHospital_type_codeindex","0577fa3c":"subdata = train[(train.Hospital_type_code.isin(Hospital_type_codeindex)) & (train.Stay.isin(Stay_index))]","f619971e":"cf = pd.crosstab(columns=subdata.Stay, index = subdata.Hospital_type_code) \ncf","e565853f":"plt.figure()\ncf = pd.crosstab(columns=subdata.Stay, index = subdata.Hospital_type_code) \ncf.plot.bar(figsize = (20,8), )\nplt.legend(loc = 'best')\nplt.show()\n","0c5be269":"train.Hospital_region_code.describe()","8e16ff0b":"train.Hospital_region_code.value_counts()","f58ba410":"import plotly.express as px\nfig = px.sunburst(train, path=['Hospital_region_code', 'Hospital_type_code'])\nfig.update_layout(title='Categorizing Hospital Type according to Region')\nfig.show()","070ac446":"train","2e06552e":"train.Ward_Type.value_counts()","e495046c":"train.Ward_Facility_Code.value_counts()","32bdd9ed":"train_new=train.drop(['case_id','Hospital_code','City_Code_Hospital','Hospital_region_code','City_Code_Patient','Visitors with Patient','Admission_Deposit','Ward_Facility_Code','Ward_Type'],axis=1)","9dd45060":"train_new","4b02c09e":"train_new.drop(train_new.index[4])","5d61edbe":"train_new=train_new.drop(['Hospital_type_code','patientid'],axis=1)","b1e7913b":"train_new","e5948b43":"plt.figure(figsize=(12, 6))\nsns.countplot(train_new['Available Extra Rooms in Hospital']) ","c5906ad8":"plt.figure(figsize=(12, 6))\nsns.countplot(train.Department) \n","3f6c521c":"## we checked for missing values, as we can see most columns of the dataset don't have missing values.\n  ## this shows that the data is pre-processed and cleaned.","22308536":"### Age groups 41-50 and 31-40 are the most freq group hospitalized","a42bf7b8":"### the patientid in the first 5 observations is the same: 31397. Is this re-admission ? 31397 mentioned twice in hospital type code c and twice in b.\n### as a healthcare professional I know that the patient is given same MRN regardless of number of encounters. It is alarming because the LOS ASSOCIATED with that patientid is very high 41-50 days. Maybe there are duplicated rows? rows 3 and 4 seem duplicated. Let me drop one of them.","b75a0fa4":"### this shows that LOS that ranges between 21-30 days is the most frequent LOS\n### LOS with 11-20 days is the 2nd most freq LOS","732af07c":"### Patient denisty per department","f5afd04f":"# Data Wrangling","65faba70":"# Data Visualization","314bb1e7":"### For this matter I have decided to drop:case_id,Hospital_code,City_Code_Hospital,Hospital_region_code,City_Code_Patient,Visitors with patient,Admission_Deposit\n### I will keep the indep variable Hospital_type_code","d3296f83":"### the most frequent severity of illness is \"Moderate\" severity","3ee7889e":"# Data Exploration","abe304e6":"### Since the significant and busiest units of the hospital, where the MAJORITY of patients stay for care, are missing. I conclude that this dataset is incomplete. One can't possibly build a model to predict LOS using a dataset in which the vast majority of its records is from the labor & delivery unit. Any predictive ML model built using this dataset would do poorly and would give a misrepresentation of the predicted LOS. ","1d0137a9":"### this confirms what I stated before : hospital with type code'a' has highest number of patients\n### thus, less beds\/rooms left available. hospital with type code'g' has lowest number pf patients\n### thus, more beds\/rooms left available. \n### But what is the LOS of most patients in hospital with type code'a'?\n### what is the LOS of most patients in hospital with type code'g'?\n### LOS will determine how often the beds become readily available regardless of current \n### patient density.","cf74d8d5":"### there are 7 unique hospital type codes with 'a' being the most frequent code which shows that the density of patient cases will be highest in hospital type code 'a'","673bd65b":"# Bivariate Analysis","271f7e0c":"### These indep variables are not valuable for our task. The aim of this project is to predict the LOS. Predicting LOS helps hospitals to identify patients of high LOS risk (patients who will stay longer) at the time of admission and thus better allocate resources for the management of these patients for the purposse of decreasing that long LOS.Thus, how patients are distributed betweeen different hospital type codes and region is not important here at all. What we care about is how to better manage patient at risk of high LOS in each hospital.","449ccbbc":"### The questions we need to answer to predict patients at risk of high LOS:\n### - What department has the greater density of patients with highest LOS?\n### - Can bed grade affect LOS? Can it play a role in decreasing or increasing LOS?\n### - What type of Admission is associated with highest LOS?\n### - What level of severity of illness is associated with highest LOS?\n### - What Age group is associated with highest LOS?\n\n### We will answer these questions in the following visualizations.\n","3f8bfbdf":"### Available extra rooms in hospital ","6f708dd5":"### I will drop Ward_Type and Ward_Facility_Code as well. As they don't play any role in predicting our dep variable LOS.","d55c478d":"### This doesn't tell me much. Highest patient density (patient admissions) is in Gyn department. Typically for the LOS won't go over 2-3 days. Unless there's complications with mom or baby. Many departments are not included in this dataset; especially departments that tend to have patients with high LOS.\n### Where's the ICU? DOU? MedSurg? Telemetry? NICU? ","fe8ca09a":"### This shows that patient density is very close within X and Y region. in the X region the patients are better distributed between different hospital codes than regions Y and Z.\n ","5ca4147f":"### Most patients in all hopital type codes had a LOS= 21-30 followed by 11-20"}}