{"cell_type":{"89cded33":"code","e116412f":"code","6983c83f":"code","fe8469b5":"code","df9c11a5":"code","330de01b":"code","fc0b662f":"code","3f4641a4":"code","2ce87c24":"code","205de160":"code","7b2fedcf":"code","a81c0d28":"code","19a4325e":"code","7b6bcdac":"code","9e29905c":"code","2a7a2e3d":"code","1a5ad173":"code","c6c6dba5":"code","bd07e1c4":"code","212e199b":"code","cf575991":"code","1777519b":"code","1d9bb383":"code","413d44b7":"code","10d5250a":"code","5aaab297":"code","48b67666":"code","3115fdd8":"code","4ffb59df":"code","8d4023d8":"code","18389ff1":"code","52dd8e6a":"code","099cac2f":"code","beb2aa90":"code","c855349b":"code","95b20138":"code","84b2a46d":"code","8edef50e":"code","e09b71b8":"code","97c895a9":"code","fe141f2a":"code","0c0de789":"code","f1e2e608":"code","d286508f":"code","64cceca3":"code","526b98fe":"code","785beef8":"code","a194a6c0":"code","3e399062":"code","4ca56ee5":"code","a238bac0":"markdown","4fde0b82":"markdown","88f8ac38":"markdown","b8a66f7e":"markdown","d5fefc5a":"markdown","14984fed":"markdown","d24f3f20":"markdown","b029346f":"markdown","61455c2f":"markdown","af1d59dc":"markdown","eea1134e":"markdown","ae862987":"markdown","d7e31198":"markdown","992c2b9e":"markdown","079517c0":"markdown","e82b22f2":"markdown","c8109df5":"markdown","c5aff79f":"markdown","aebbab0b":"markdown","4ee6d201":"markdown","3f52b3cb":"markdown","88c865b6":"markdown","879dd2a5":"markdown","9a5935ad":"markdown","6e7b7656":"markdown","9aaa8928":"markdown","b75d2517":"markdown","c43f19e5":"markdown","ae6a08ce":"markdown","3c5c431c":"markdown","b735e102":"markdown","6fd18c40":"markdown","68e9d879":"markdown","c87e3ed2":"markdown","01d252ca":"markdown","61abee7a":"markdown"},"source":{"89cded33":"# A library that helps to perform Hypothesis testing\n!pip install researchpy","e116412f":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport researchpy as rp","6983c83f":"data = pd.read_csv('..\/input\/titanic\/train.csv')\ndata.head()","fe8469b5":"data.tail()","df9c11a5":"data.shape","330de01b":"data.describe()","fc0b662f":"data.info()","3f4641a4":"# checking for null values\ndata.isna().sum()","2ce87c24":"# PClass is a proxy for Socio Economic status, how does being rich or being poor effect the chances of survival\n\nPclassdist = pd.DataFrame(data.Pclass.value_counts())\nPclassdist['%'] = np.round(Pclassdist\/len(data['Pclass']) * 100,2)\nPclassdist","205de160":"# distribution of survivals in each class\nsns.countplot(data['Pclass'], hue =data['Survived'])","7b2fedcf":"pd.crosstab(data['Survived'],data['Pclass'])","a81c0d28":"survper_each_class = pd.crosstab(data['Pclass'],data['Survived'])\nsurvper_each_class","19a4325e":"survper_each_class['Sur%_per_class']=np.round(survper_each_class[[0,1]][1]\/ (survper_each_class[[0,1]][1] + survper_each_class[[0,1]][0]),2)\nsurvper_each_class","7b6bcdac":"survper_each_class[[0, 1, 'Sur%_per_class']]['Sur%_per_class'].plot.bar();\nplt.title('Percentage of people survived in each class');","9e29905c":"# testing the above hypothesis using chi-square test\n\ntable,results = rp.crosstab(data['Pclass'],data['Survived'],test='chi-square')\nprint(table)\nresults","2a7a2e3d":"Sexdist = pd.DataFrame(data['Sex'].value_counts())\nSexdist['%'] = np.round(Sexdist['Sex']\/len(data['Sex']),2)\nSexdist","1a5ad173":"sns.countplot(data['Survived'],hue=data['Sex']);","c6c6dba5":"Sex_Suvi_dist = pd.crosstab(data['Sex'],data['Survived'])\nSex_Suvi_dist","bd07e1c4":"Sex_Suvi_dist['Sex_Suvi_prcnt'] = np.round(Sex_Suvi_dist[[0,1]][1]\/(Sex_Suvi_dist[[0,1]][0] + Sex_Suvi_dist[[0,1]][1]),2)\nSex_Suvi_dist","212e199b":"Sex_Suvi_dist[[0, 1, 'Sex_Suvi_prcnt']]['Sex_Suvi_prcnt'].plot.bar();\nplt.title('Percentage of Males and Females Survived');","cf575991":"# testing the above hypothesis using chi-square test\n\ntable,results = rp.crosstab(data['Sex'],data['Survived'],test='chi-square')\nprint(table)\nresults","1777519b":"# Which age group people are more likely to survive\n\nplt.hist(data['Age']);\nplt.title('Passengers Age Distribution');","1d9bb383":"data['Age'].groupby(data['Survived']).mean()","413d44b7":"sns.violinplot( \"Survived\" ,\"Age\", data=data);","10d5250a":"fig,ax = plt.subplots(1,2, figsize=(16,6))\nsns.violinplot('Sex', 'Age', hue = 'Survived', data=data, split=True, ax=ax[0]);\nax[0].set_title('Age and Sex vs Survived')\nsns.violinplot('Pclass','Age',hue='Survived',data =data, split=True, ax=ax[1]);\nax[1].set_title('Pclass and Age vs Survived');","5aaab297":"# Is there more chance of survival if there are more Siblings\/spouses on the ship??","48b67666":"sns.countplot(\"SibSp\",hue=\"Survived\",data=data);","3115fdd8":"SibSp_Survi = pd.crosstab(data['SibSp'],data['Survived'])\nSibSp_Survi['SibSp_Sur%'] = np.round(SibSp_Survi[[0,1]][1]\/(SibSp_Survi[[0,1]][0] + SibSp_Survi[[0,1]][1]),2)\nSibSp_Survi","4ffb59df":"SibSp_Survi['SibSp_Sur%'].plot.bar();","8d4023d8":"# Testing teh above hypothesis\ntable,results = rp.crosstab(data['SibSp'],data['Survived'], test='chi-square')\n\nprint(table)\nresults","18389ff1":"sns.countplot(\"Parch\",hue=\"Survived\",data=data);","52dd8e6a":"Parch_Survi = pd.crosstab(data['Parch'],data['Survived'])\nParch_Survi['Parch_Sur%'] = np.round(Parch_Survi[[0,1]][1]\/(Parch_Survi[[0,1]][0] + Parch_Survi[[0,1]][1]),2)\nParch_Survi","099cac2f":"Parch_Survi['Parch_Sur%'].plot.bar();","beb2aa90":"# testing the above hypothesis\ntable,results = rp.crosstab(data['Parch'],data['Survived'], test='chi-square')\n\nprint(table)\nresults","c855349b":"sns.distplot(data['Fare']);","95b20138":"sns.lineplot('Pclass',\"Fare\",hue='Survived',data=data);","84b2a46d":"data['Fare'].groupby(data['Survived']).mean()","8edef50e":"# Does the Cabin in which a passenger is determine the Survival??","e09b71b8":"table,results = rp.crosstab(data['Cabin'],data['Survived'],test='chi-square')\n\nprint(table)\nresults","97c895a9":"print(\"Cabin has {}% of null values\".format(np.round(data['Cabin'].isna().sum()\/len(data),2)*100 ))","fe141f2a":"print(\"Cabin has \" + str((len(data) - data['Cabin'].isna().sum()))+ \" values of which \" + str(len(data['Cabin'].unique())) + ' are unique')","0c0de789":"data.drop(columns=['Cabin'],inplace=True)","f1e2e608":"fig,ax = plt.subplots(1,2, figsize=(12,4))\npd.crosstab(data['Embarked'],data['Survived']).plot.bar(ax=ax[0]);\nax[0].set_title('Embarked vs Survived');\npd.crosstab(data['Embarked'],data['Pclass']).plot.bar(ax =ax[1]);\nax[1].set_title('Embarked vs Pclass');","d286508f":"table,results = rp.crosstab(data['Embarked'],data['Survived'], test='chi-square')\n\nprint(table)\nresults","64cceca3":"sns.lineplot(\"Pclass\",'Age', data=data)","526b98fe":"Age_dict = dict(data['Age'].groupby(data['Pclass']).median())\nAge_dict","785beef8":"cond = data['Age'].isna()\ndata['Age'] = data['Age'].fillna(data['Pclass'].map(Age_dict))","a194a6c0":"data[data['Embarked'].isna()]","3e399062":"freq_port = data[(data['Survived'] ==1 ) & (data['Pclass'] == 1) & (data['Sex']=='female')]['Embarked'].mode()[0]\ndata['Embarked'] = data['Embarked'].fillna(freq_port)","4ca56ee5":"## verifying if any null values are present\n\ndata.isna().sum()","a238bac0":"we see that the passengers 1,2,3 parents\/children abord have higher chances of survival","4fde0b82":"Passengers with 1 or 2 Siblings in the ship are more likely to survive ","88f8ac38":"| SibSp(no. of siblings\/spouse) | Chance of Survival |\n| --- | --- |\n| 0 | 35% |\n| 1 | 54% |\n| 2 | 46% |\n| 3 | 25% |\n| 4 | 17% |\n| 5 | 0% |\n| 8 | 0% |","b8a66f7e":"Upper(1) class is the only class where the count of survived is more than count of deceased","d5fefc5a":"| Sex | Survival_Percenatge |\n| --- | --- |\n| Female | 74% |\n| Male | 19% |\n\n\nIf a Person is Female there is 74% chance that she will Survive\n\nSex is also an important feature in determining whether a person will survive or not","14984fed":"Average Age of People who dies is 30.6      \nAverage Age of People Who Survived is 28.3","d24f3f20":"Age, Cabin, Embarked columns have null values","b029346f":"from the above plot we see that majority of the passengers from Cherbourg are travelling in Upper class,  and they are more likely to survive than passengers who embarked from other ports","61455c2f":"Does Fare has anything to do eith the survival of a passenger?","af1d59dc":"p > 0.05, hence there is no association between Cabin and Survival","eea1134e":"p<0.05, Parch and Survived are in association with each other","ae862987":"If a person is in between the age 20-40,there is more probability that he will not survive     \nOlder people in Upper class are more likely to die than the younger ones       \n","d7e31198":"C = Cherbourg, Q = Queenstown, S = Southampton\n","992c2b9e":"Cabin has lot of null values","079517c0":"parch denotes the the number of parents\/children of a passenger are aboard","e82b22f2":"p-value < 0.05 , Embarked and Survival are in association with each other","c8109df5":"The Ship contains 65% male population","c5aff79f":"percentage of people survived in each class","aebbab0b":"Is there any impact of Sex of Person on his\/her Survial ??\n","4ee6d201":"Does the survival of a passeneger depend on the port in which the passenger Embarked?","3f52b3cb":"### EDA on titanic Dataset","88c865b6":"p-value < 0.05, Sex and Survival are in association with each other, the above hypothesis holds true","879dd2a5":"| Class | chance of survival |\n| --- | --- |\n| Upper | 63% |\n| Middle | 47% |\n| Lower | 24% |\n\n\nPclass is an important feature in determining the survival of a person","9a5935ad":"There are more Passengers between the age group of 20-40","6e7b7656":"from the plot we see that in all the classes, people who paid more are more likely to survive than the people who paid less","9aaa8928":"Hence We can drop \"Cabin\", as it is not going to give any usefull information","b75d2517":"SibSp represents the number of Siblings and spouses are aboard","c43f19e5":"Average Fare of Suvived people is twice as much as the average fare of deceased","ae6a08ce":"Looks like Female population survived more than male population, let's look in terms of percentages","3c5c431c":"the two data points are from Upper Class, Female and Survived","b735e102":"p<0.05 , SibSp and Survived are in association with each other","6fd18c40":"there are more number of passengers travelling low fare and viceversa","68e9d879":"p-value < 0.05, Pclass and Survival are in association with each other, the above hypothesis holda true","c87e3ed2":"## Data Description\n\n| Variable|\tDefinition  | Key |\n| --- | --- | --- |\n| survival|\tSurvival |\t0 = No, 1 = Yes |\n| pclass |\tTicket class |\t1 = 1st, 2 = 2nd, 3 = 3rd |\n| sex |\tSex\t|\n| Age |\tAge in years |\t\n| sibsp |\t# of siblings \/ spouses aboard the Titanic\t|\n| parch |\t# of parents \/ children aboard the Titanic\t|\n| ticket |\tTicket number\t|\n| fare |\tPassenger fare\t|\n| cabin |\tCabin number\t|\n| embarked |\tPort of Embarkation |\tC = Cherbourg, Q = Queenstown, S = Southampton |\n\n\n## Variable Notes\npclass: A proxy for socio-economic status (SES)\n1st = Upper\n2nd = Middle\n3rd = Lower\n\nage: Age is fractional if less than 1. If the age is estimated, is it in the form of xx.5\n\nsibsp: The dataset defines family relations in this way...\nSibling = brother, sister, stepbrother, stepsister\nSpouse = husband, wife (mistresses and fianc\u00e9s were ignored)\n\nparch: The dataset defines family relations in this way...\nParent = mother, father\nChild = daughter, son, stepdaughter, stepson\nSome children travelled only with a nanny, therefore parch=0 for them.","01d252ca":"we see that 55% of the passesngers in the ship are in third class","61abee7a":"| Parch(no. of parents\/children) | Chance of Survival |\n| --- | --- |\n| 0 | 34% |\n| 1 | 55% |\n| 2 | 50% |\n| 3 | 60% |\n| 4 | 0% |\n| 5 | 20% |\n| 8 | 0% |"}}