{"cell_type":{"775660ba":"code","79b204cc":"code","3102070d":"code","97d945c5":"code","bf834921":"code","d762f7f9":"code","dbf3e1c8":"code","317df7f7":"code","4a42bfa2":"code","b3e05de0":"code","3dfa505e":"code","8d9aaaf0":"code","e9129e26":"code","6dfac6a3":"code","1dbf7c71":"code","ffe49f3b":"code","bbd23efc":"code","0a37174e":"code","99357ace":"code","913fcaac":"code","664794e0":"code","753ca64e":"code","05fa1db7":"code","cebc784b":"code","c1d57873":"code","43495443":"code","d931ba90":"code","29312427":"code","343504cd":"code","eeafb5db":"code","c89a5a7f":"code","5588d1a7":"code","36f38346":"code","eb1e4777":"code","bec15664":"code","534156be":"code","2ef9d4c4":"markdown","8775c2b5":"markdown","48d3c8bb":"markdown","4d3aa4e6":"markdown","b88cffbf":"markdown","06bec6a1":"markdown","f1a3502f":"markdown","8daa1690":"markdown","8f6adb44":"markdown","321f4b84":"markdown","b02580ff":"markdown","4324549f":"markdown","0bdf2e09":"markdown","10aa4b76":"markdown","f69484f8":"markdown","d03c54db":"markdown","698d6426":"markdown","db8b7788":"markdown","80560e98":"markdown","14bdfbd8":"markdown","5a83fb13":"markdown","52a6ac9c":"markdown","841d6257":"markdown","37debca1":"markdown","c185cf53":"markdown","47f7ab88":"markdown"},"source":{"775660ba":"import numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport plotly.plotly as py\nimport plotly.graph_objs as go\nimport plotly.figure_factory as ff\nfrom plotly.offline import init_notebook_mode, iplot\nimport seaborn as sns\nimport warnings\n\nwarnings.filterwarnings('ignore')\n\nplt.style.use('bmh')\n%matplotlib inline\nplt.rcParams['figure.dpi'] = 100\ninit_notebook_mode(connected=True) \n\ndata = pd.read_csv('..\/input\/worlds2018.csv')\n\ndef comma_to_point(x):\n    return x.replace(',','.')\ndata['gamelength'] = data['gamelength'].apply(comma_to_point).astype('float64')\ndata['fttime'] = data['fttime'].apply(comma_to_point).astype('float64')\n\ndata.head(12)","79b204cc":"player_names = data.player.unique()\n\n# Initialize the Dataframe\nplayers = pd.DataFrame(data[(data.player == 'Licorice')].mean())\nplayers = players.transpose()\nplayers.rename(index={0:'Licorice'}, inplace=True)\n\n# Append each player\nfor player in player_names:\n    if player != 'Team' and player != 'Licorice':\n        p = pd.DataFrame((data[(data.player == player)].mean())).transpose()\n        p.rename(index={0: player}, inplace=True)\n        players = pd.concat([players, p], sort=False)\n        \n# Establish players mean max min median might be useful later\nplayer_mean = pd.DataFrame(players.mean()).transpose()\nplayer_max = pd.DataFrame(players.max()).transpose()\nplayer_min = pd.DataFrame(players.min()).transpose()\nplayer_median = pd.DataFrame(players.median()).transpose()\n\n# Wards, dmg, KDA, Kill participation\n# Gold diff at 15, Total damage, Gold spread\nlabels = ['wards','dmgtochamps','totalgold','k','d','a','gdat15']\n\n# update player positions as they had been lost\nplayers.insert(len(players.columns), column='position',value='ADC')\nplayers.insert(len(players.columns), column='team',value='Cloud9')\nfor player in player_names:\n    if player != 'Team':\n        players.loc[player, 'position'] = data[data.player == player].position.values[0]\n        players.loc[player, 'team'] = data[data.player == player].team.values[0]\n\n\nteam_names = data.team.unique()\nteams = pd.DataFrame(data[(data.player == 'Team') & (data.team == 'Cloud9')].mean())\nteams = teams.transpose()\nteams.rename(index={0:'Cloud9'}, inplace=True)\n\nfor team in team_names:\n    if team != 'Cloud9':\n        p = pd.DataFrame((data[(data.team == team) & (data.player == 'Team')].mean())).transpose()\n        p.rename(index={0: team}, inplace=True)\n        teams = pd.concat([teams, p], sort=False)","3102070d":"# Used for data visualization later\ndef simple_radar_graph(player_name, color='blue', players=players, role='ADC'):\n    x = pd.DataFrame(players.loc[player_name, labels]).transpose()\n    player_max = pd.DataFrame(players[player.position == role].max()).transpose()\n    \n    data = [go.Scatterpolar(\n      r = [(x['wards'].values[0] \/ player_max['wards'].values[0]) * 100,(x['dmgtochamps'].values[0] \/ player_max['dmgtochamps'].values[0]) * 100,100 * (x['totalgold'].values[0] \/ player_max['totalgold'].values[0]),100 * (x['k'].values[0] \/ player_max['k'].values[0]),100 * (x['d'].values[0] \/ player_max['d'].values[0]),100 * (x['a'].values[0] \/ player_max['a'].values[0]),100 * (x[\"gdat15\"].values[0] \/ player_max['gdat15'].values[0]), 100 * (x[\"wards\"].values[0] \/ player_max['wards'].values[0])],\n      theta = ['Wards','Damages to champs', 'Total gold','Kills','Deaths','Assists','Opponent gold difference at 15m','Wards'],\n      fill = 'toself',\n         line =  dict(\n                color = color\n            )\n    )]\n\n    layout = go.Layout(\n      polar = dict(\n        radialaxis = dict(\n          visible = True,\n          range = [0, 100]\n        )\n      ),\n      showlegend = False,\n      title = \"{}\".format(player_name)\n    )\n    fig = go.Figure(data=data, layout=layout)\n    \n\n    return iplot(fig, filename = \"Radar\")\n\n# used for data visualization later\ndef vs_radar_graph(player_name1, player_name2, color1='orange', color2='lightgray',title=None, players=players,role='ADC'):\n    player_max = pd.DataFrame(players[players.position == role].max()).transpose()\n    \n    if not title:\n         title='{} vs {}'.format(player_name1, player_name2)\n    \n    x1 = pd.DataFrame(players.loc[player_name1, labels]).transpose()\n    x2 = pd.DataFrame(players.loc[player_name2, labels]).transpose()\n    # MEDIAN : x3 = pd.DataFrame(players[players.position == role].median()).transpose()\n    \n    \"\"\"\n        MEDIAN\n        go.Scatterpolar(\n      name = player_name2,\n      r = [(x3['wards'].values[0] \/ player_max['wards'].values[0]) * 100,(x3['dmgtochamps'].values[0] \/ player_max['dmgtochamps'].values[0]) * 100,100 * (x3['totalgold'].values[0] \/ player_max['totalgold'].values[0]),100 * (x3['k'].values[0] \/ player_max['k'].values[0]),100 * (x3['d'].values[0] \/ player_max['d'].values[0]),100 * (x3['a'].values[0] \/ player_max['a'].values[0]),100 * (x3[\"wards\"].values[0] \/ player_max['wards'].values[0])],\n      theta = ['Wards','Damages to champs', 'Total gold','Kills','Deaths','Assists','Wards'],\n      fill = 'toself',\n         line =  dict(\n                color = 'black'\n            )\n        ),\n        \n    add as 1st element in array below if you want\n    \"\"\"\n    \n    data = [go.Scatterpolar(\n      name = player_name1,\n      r = [(x1['wards'].values[0] \/ player_max['wards'].values[0]) * 100,(x1['dmgtochamps'].values[0] \/ player_max['dmgtochamps'].values[0]) * 100,100 * (x1['totalgold'].values[0] \/ player_max['totalgold'].values[0]),100 * (x1['k'].values[0] \/ player_max['k'].values[0]),100 * (x1['d'].values[0] \/ player_max['d'].values[0]),100 * (x1['a'].values[0] \/ player_max['a'].values[0]),100 * (x1[\"gdat15\"].values[0] \/ player_max['gdat15'].values[0]),100 * (x1[\"wards\"].values[0] \/ player_max['wards'].values[0])],\n      theta = ['Wards','Damages to champs', 'Total gold','Kills','Deaths','Assists','Opponent gold difference at 15m','Wards'],\n      fill = 'toself',\n         line =  dict(\n                color = color1\n            )\n    ),\n           \n    go.Scatterpolar(\n      name = player_name2,\n      r = [(x2['wards'].values[0] \/ player_max['wards'].values[0]) * 100,(x2['dmgtochamps'].values[0] \/ player_max['dmgtochamps'].values[0]) * 100,100 * (x2['totalgold'].values[0] \/ player_max['totalgold'].values[0]),100 * (x2['k'].values[0] \/ player_max['k'].values[0]),100 * (x2['d'].values[0] \/ player_max['d'].values[0]),100 * (x2['a'].values[0] \/ player_max['a'].values[0]),100 * (x2[\"gdat15\"].values[0] \/ player_max['gdat15'].values[0]),100 * (x2[\"wards\"].values[0] \/ player_max['wards'].values[0])],\n      theta = ['Wards','Damages to champs', 'Total gold','Kills','Deaths','Assists','Opponent gold difference at 15m','Wards'],\n      fill = 'toself',\n         line =  dict(\n                color = color2\n            )\n    )\n           \n    ]\n\n    layout = go.Layout(\n      polar = dict(\n        radialaxis = dict(\n          visible = True,\n          range = [0, 100]\n        )\n      ),\n      showlegend = False,\n      title = \"{}\".format(title)\n    )\n    fig = go.Figure(data=data, layout=layout)\n    \n\n    return iplot(fig, filename = \"Radar\")\n\nteams_labels = ['fb','gamelength', 'k', 'd', 'dmgtochamps','totalgold','fbaron','herald','ft','firstmidouter','firsttothreetowers','gdat15']\n# used for data visualization later\ndef teamvs_radar_graph(team_name1, team_name2, color1='orange', color2='lightgray',title=None, teams=teams):\n    team_max = pd.DataFrame(teams.max()).transpose()\n    \n    if not title:\n         title='{} vs {}'.format(team_name1, team_name2)\n    \n    x1 = pd.DataFrame(teams.loc[team_name1, teams_labels]).transpose()\n    x2 = pd.DataFrame(teams.loc[team_name2, teams_labels]).transpose()\n\n    data = [go.Scatterpolar(\n      name = team_name1,\n      r = [(x1['fb'].values[0] \/ team_max['fb'].values[0]) * 100,(x1['gamelength'].values[0] \/ team_max['gamelength'].values[0]) * 100,(x1['k'].values[0] \/ team_max['k'].values[0]) * 100,(x1['d'].values[0] \/ team_max['d'].values[0]) * 100,(x1['dmgtochamps'].values[0] \/ team_max['dmgtochamps'].values[0]) * 100,100 * (x1['totalgold'].values[0] \/ team_max['totalgold'].values[0]),100 * (x1['fbaron'].values[0] \/ team_max['fbaron'].values[0]),100 * (x1['herald'].values[0] \/ team_max['herald'].values[0]),100 * (x1['ft'].values[0] \/ team_max['ft'].values[0]),100 * (x1[\"firstmidouter\"].values[0] \/ team_max['firstmidouter'].values[0]),100 * (x1[\"firsttothreetowers\"].values[0] \/ team_max['firsttothreetowers'].values[0]),100 * (x1[\"gdat15\"].values[0] \/ team_max['gdat15'].values[0]),100 * (x1[\"fb\"].values[0] \/ team_max['fb'].values[0])],\n      theta =['First Blood', 'Game length', 'Kills', 'Deaths', 'Damages to champs','Total gold','First Baron','Herald','First tower','First mid outer tower','First to three towers','Gold difference at 15', 'First Blood'],\n      fill = 'toself',\n         line =  dict(\n                color = color1\n            )\n    ),\n           \n    go.Scatterpolar(\n      name = team_name2,\n      r = [(x2['fb'].values[0] \/ team_max['fb'].values[0]) * 100,(x2['gamelength'].values[0] \/ team_max['gamelength'].values[0]) * 100,(x2['k'].values[0] \/ team_max['k'].values[0]) * 100, (x2['d'].values[0] \/ team_max['d'].values[0]) * 100,(x2['dmgtochamps'].values[0] \/ team_max['dmgtochamps'].values[0]) * 100,100 * (x2['totalgold'].values[0] \/ team_max['totalgold'].values[0]),100 * (x2['fbaron'].values[0] \/ team_max['fbaron'].values[0]),100 * (x2['herald'].values[0] \/ team_max['herald'].values[0]),100 * (x2['ft'].values[0] \/ team_max['ft'].values[0]),100 * (x2[\"firstmidouter\"].values[0] \/ team_max['firstmidouter'].values[0]),100 * (x2[\"firsttothreetowers\"].values[0] \/ team_max['firsttothreetowers'].values[0]),100 * (x2[\"gdat15\"].values[0] \/ team_max['gdat15'].values[0]),100 * (x2[\"fb\"].values[0] \/ team_max['fb'].values[0])],\n      theta =['First Blood', 'Game length', 'Kills', 'Deaths', 'Damages to champs','Total gold','First Baron','Herald','First tower','First mid outer tower','First to three towers','Gold difference at 15', 'First Blood'],\n      fill = 'toself',\n         line =  dict(\n                color = color2\n            )\n    )\n           \n    ]\n\n    layout = go.Layout(\n      polar = dict(\n        radialaxis = dict(\n          visible = True,\n          range = [0, 100]\n        )\n      ),\n      showlegend = False,\n      title = \"{}\".format(title)\n    )\n    fig = go.Figure(data=data, layout=layout)\n    \n\n    return iplot(fig, filename = \"Radar\")","97d945c5":"players_corr = players\n\n# to avoid running the kernel everytime\nif 'gameid' in players_corr.columns.tolist():\n    # doubles\/triples\/quadras\/pentas\/okpm have suffered damages with the .mean() for unknown reasons,\n    # elementals, airdrakes, ... are chosen with randomness so they're not significant\n    # heraldtime barontime are not contained in players variables\n    # time var : make no sense in corr\n    players_corr = players_corr.drop(['doubles','triples','quadras','pentas','gameid','playerid','firedrakes','elders','elementals','waterdrakes','earthdrakes','airdrakes','heraldtime','fbarontime','okpm', 'fttime', 'gamelength'], axis=1)\n\ncorr = players_corr.corr()\nf, ax = plt.subplots(figsize=(24, 16))\nheatmap = sns.heatmap(corr)","bf834921":"graph_data = pd.concat([players['gdat10'], players['result']], axis=1)\ngraph_data.plot.scatter(x='gdat10', y='result');\nplt.title('Gold Difference to opponent at 10 minutes impact on winrate (%)')\nplt.show()","d762f7f9":"graph_data = pd.concat([players['xpdat10'], players['result']], axis=1)\ngraph_data.plot.scatter(x='xpdat10', y='result');\nplt.title('XP Difference to opponent at 10 minutes impact on winrate (%)')\nplt.show()","dbf3e1c8":"graph_data = pd.concat([teams['fb'], teams['result']], axis=1)\ngraph_data.plot.scatter(x='fb', y='result');\nplt.title('First blood impact on winrate (%)')\nplt.show()","317df7f7":"graph_data = pd.concat([teams['fd'], teams['result']], axis=1)\ngraph_data.plot.scatter(x='fd', y='result');\nplt.title('First dragon of the game impact on winrate (%)')\nplt.show()","4a42bfa2":"graph_data = pd.concat([teams['fbaron'], teams['result']], axis=1)\ngraph_data.plot.scatter(x='fbaron', y='result');\nplt.title('First baron of the game impact on winrate (%)')\nplt.show()","b3e05de0":"graph_data = pd.concat([teams['herald'], teams['result']], axis=1)\ngraph_data.plot.scatter(x='herald', y='result');\nplt.title('Herald impact on winrate (%)')\nplt.show()","3dfa505e":"graph_data = pd.concat([teams['ft'], teams['result']], axis=1)\ngraph_data.plot.scatter(x='ft', y='result');\nplt.title('First tower destruction impact on winrate (%)')\nplt.show()","8d9aaaf0":"graph_data = pd.concat([teams['firstmidouter'], teams['result']], axis=1)\ngraph_data.plot.scatter(x='firstmidouter', y='result');\nplt.title('First outer mid tower destruction impact on winrate (%)')\nplt.show()","e9129e26":"graph_data = pd.concat([teams['firsttothreetowers'], teams['result']], axis=1)\ngraph_data.plot.scatter(x='firsttothreetowers', y='result');\nplt.title('First to three destroyed towers impact on winrate (%)')\nplt.show()","6dfac6a3":"vs_radar_graph('TheShy','Bwipo', title='TOPs | (orange) FNC Bwipo vs IG TheShy (lightgray)', role='Top')","1dbf7c71":"vs_radar_graph('Broxah','Ning', title='Junglers | (orange) FNC Broxah vs IG Ning (MVP) (lightgray)', role='Jungle')","ffe49f3b":"vs_radar_graph('Rekkles','RooKie', title='MIDs | (orange) FNC Caps vs IG RooKie (lightgray)', role='Middle')","bbd23efc":"vs_radar_graph('Rekkles','JackeyLove', title='ADCs | (orange) FNC Rekkles vs IG JackeyLove (lightgray)', role='ADC')","0a37174e":"vs_radar_graph('Hylissang','Baolan', title='Supports | (orange) FNC Hylissang vs IG Baolan (lightgray)', role='Support')","99357ace":"teamvs_radar_graph('Fnatic', 'Invictus Gaming', color1='orange', color2='lightgray',title='(orange) Fnatic vs Invictus Gaming (lightgray)', teams=teams)","913fcaac":"team_name = 'Invictus Gaming'\nprint('{} average game length on win : {} minutes'.format(team_name,data[(data.player == 'Team') & (data.team == team_name) & (data.result == 1)]['gamelength'].mean()))\nprint('{} average game length on lose : {} minutes'.format(team_name,data[(data.player == 'Team') & (data.team == team_name) & (data.result == 0)]['gamelength'].mean()))\n\nteam_name = 'Fnatic'\nprint('\\n{} average game length on win : {} minutes'.format(team_name,data[(data.player == 'Team') & (data.team == team_name) & (data.result == 1)]['gamelength'].mean()))\nprint('{} average game length on lose : {} minutes'.format(team_name,data[(data.player == 'Team') & (data.team == team_name) & (data.result == 0)]['gamelength'].mean()))","664794e0":"teamvs_radar_graph('Fnatic', 'G2 Esports', color1='orange', color2='gray',title='(orange) Fnatic vs G2 Esports (gray)', teams=teams)","753ca64e":"teamvs_radar_graph('Invictus Gaming', 'Royal Never Give Up', color1='lightgray', color2='brown',title='(lightgray) Invictus Gaming vs Royal Never Give Up (brown)', teams=teams)","05fa1db7":"graph_data = data[(data.player != 'Team')]\nprint('Number of different champions overall : {}'.format(len(graph_data['champion'].unique())))","cebc784b":"sns.set(rc={'figure.figsize':(11.7,8.27)})\n\ngraph_data = data[(data.player != 'Team') & (data.position == 'Top')]\nsns.countplot(y=\"champion\",data=graph_data, order=graph_data['champion'].value_counts().index)\nplt.title('Champion pick rate in Toplane')\nplt.show()\n\nprint('Number of different champions in Toplane : {}'.format(len(graph_data['champion'].unique())))","c1d57873":"graph_data = data[(data.player != 'Team') & (data.position == 'Jungle')]\nsns.countplot(y=\"champion\",data=graph_data, order=graph_data['champion'].value_counts().index)\nplt.title('Champion pick rate in Jungle')\nplt.show()\n\nprint('Number of different champions in Jungle : {}'.format(len(graph_data['champion'].unique())))","43495443":"graph_data = data[(data.player != 'Team') & (data.position == 'Middle')]\nsns.countplot(y=\"champion\",data=graph_data, order=graph_data['champion'].value_counts().index)\nplt.title('Champion pick rate in Middle')\nplt.show()\n\nprint('Number of different champions in Middle : {}'.format(len(graph_data['champion'].unique())))","d931ba90":"graph_data = data[(data.player != 'Team') & (data.position == 'ADC')]\nsns.countplot(y=\"champion\",data=graph_data, order=graph_data['champion'].value_counts().index)\nplt.title('Champion pick rate in AD Carry')\nplt.show()\n\nprint('Number of different champions in AD Carry : {}'.format(len(graph_data['champion'].unique())))","29312427":"graph_data = data[(data.player != 'Team') & (data.position == 'Support')]\nsns.countplot(y=\"champion\",data=graph_data, order=graph_data['champion'].value_counts().index)\nplt.title('Champion pick rate in Support')\nplt.show()\n\nprint('Number of different champions in Support : {}'.format(len(graph_data['champion'].unique())))","343504cd":"ban = data[(data.player == 'Team')]['ban1'].append([data[(data.player == 'Team')]['ban2'], data[(data.player == 'Team')]['ban3'], data[(data.player == 'Team')]['ban4'], data[(data.player == 'Team')]['ban5']])\n\nprint('Number of different champions banned : {}'.format(len(ban.unique())))\n\nfig = plt.figure(figsize=(15,15))\nfig.add_subplot(1,1,1)\nsns.countplot(y=ban,data=ban, order=ban.value_counts().index)\nplt.title('Bans distribution')\nplt.show()","eeafb5db":"print('Aatrox winrate : {}%'.format((data[(data.champion == 'Aatrox')]['result'].mean() * 100)))\nprint('Akali winrate : {}%'.format((data[(data.champion == 'Akali')]['result'].mean() * 100)))\nprint('Urgot winrate : {}%'.format((data[(data.champion == 'Urgot')]['result'].mean() * 100)))","c89a5a7f":"sns.countplot(data[(data.player == 'Team') & (data.result == 1)]['side'], palette=['blue','red'])\nplt.title('Wins per side')\nplt.show()","5588d1a7":"sns.distplot(data[(data.player == 'Team')]['gamelength'])\nplt.title('Game length distribution')\nplt.show()","36f38346":"sns.distplot(data[(data.player == 'Team')]['fttime'])\nplt.title('First tower destroyed time distribution')\nplt.show()","eb1e4777":"graph_data = players\ngraph_data['mkills'] = graph_data['monsterkillsownjungle'].add(graph_data['monsterkillsenemyjungle'])\ngraph_data = graph_data.sort_values(by=['mkills'])\n\nmonsterkillsownjungle = graph_data[(graph_data.position == 'Jungle')]['monsterkillsownjungle'].tolist()\nmonsterkillsenemyjungle = graph_data[(graph_data.position == 'Jungle')]['monsterkillsenemyjungle'].tolist()\nind =  np.arange(len(graph_data[(graph_data.position == 'Jungle')]))\nwidth = 0.9\n\np1 = plt.bar(ind, monsterkillsownjungle, width, yerr=None, color='lightgray')\np2 = plt.bar(ind, monsterkillsenemyjungle, width,\n             bottom=monsterkillsownjungle, yerr=None, color='green')\n\nplt.ylabel('Average jungle monster kills')\nplt.title('Average jungle monster kills distribution')\nplt.xticks(ind, graph_data[(graph_data.position == 'Jungle')].index.tolist(), rotation=90)\nplt.yticks(np.arange(0, 121, 10))\nplt.legend((p1[0], p2[0]), ('Average monster kills own jungle', 'Average monster kills enemy jungle'))\n\nplt.show()","bec15664":"graph_data = pd.DataFrame()\ngraph_data.insert(len(graph_data.columns), column='gold_top',value=0)\ngraph_data.insert(len(graph_data.columns), column='gold_jungle',value=0)\ngraph_data.insert(len(graph_data.columns), column='gold_middle',value=0)\ngraph_data.insert(len(graph_data.columns), column='gold_adc',value=0)\ngraph_data.insert(len(graph_data.columns), column='gold_support',value=0)\ngraph_data.insert(len(graph_data.columns), column='gold_all',value=0)\n\nfor team in team_names:\n    gold_top = data[(data.position == 'Top') & (data.team == team)]['totalgold'].mean()\n    gold_jungle = data[(data.position == 'Jungle') & (data.team == team)]['totalgold'].mean()\n    gold_middle = data[(data.position == 'Middle') & (data.team == team)]['totalgold'].mean()\n    gold_adc = data[(data.position == 'ADC') & (data.team == team)]['totalgold'].mean()\n    gold_support = data[(data.position == 'Support') & (data.team == team)]['totalgold'].mean()\n    gold_all = data[(data.position == 'Top') & (data.team == team)]['totalgold'].mean() + data[(data.position == 'Jungle') & (data.team == team)]['totalgold'].mean() + data[(data.position == 'Middle') & (data.team == team)]['totalgold'].mean() + data[(data.position == 'ADC') & (data.team == team)]['totalgold'].mean() + data[(data.position == 'Support') & (data.team == team)]['totalgold'].mean()\n\n    graph_data.loc[team] = [gold_top, gold_jungle, gold_middle, gold_adc, gold_support, gold_all]\n\ngraph_data = graph_data.sort_values(by=['gold_all'])\n\nbottom1 = graph_data['gold_support']\nbottom2 = bottom1.add(graph_data['gold_adc'])\nbottom3 = bottom2.add(graph_data['gold_middle'])\nbottom4 = bottom3.add(graph_data['gold_jungle'])\n\nsupport = graph_data['gold_support'].tolist()\nadc = graph_data['gold_adc'].tolist()\nmiddle = graph_data['gold_middle'].tolist()\njungle = graph_data['gold_jungle'].tolist()\ntop = graph_data['gold_top'].tolist()\n\nind =  np.arange(len(graph_data))\nwidth = 0.9\n\np1 = plt.bar(ind, support, width, yerr=None, color='lightgray')\np2 = plt.bar(ind, adc, width, bottom=bottom1.tolist(), yerr=None, color='gold')\np3 = plt.bar(ind, middle, width, bottom=bottom2.tolist(), yerr=None, color='royalblue')\np4 = plt.bar(ind, jungle, width, bottom=bottom3.tolist(), yerr=None, color='darkseagreen')\np5 = plt.bar(ind, top, width, bottom=bottom4.tolist(), yerr=None, color='indianred')\n\nplt.ylabel('Team average total gold')\nplt.title('Average team total gold distribution per role')\nplt.xticks(ind, graph_data.index.tolist(), rotation=90)\nplt.legend((p1[0], p2[0], p3[0], p4[0], p5[0]), ('Support', 'ADC', 'Mid', 'Jungle', 'Top'))\n\nplt.show()","534156be":"graph_data = pd.DataFrame()\ngraph_data.insert(len(graph_data.columns), column='kills_top',value=0)\ngraph_data.insert(len(graph_data.columns), column='kills_jungle',value=0)\ngraph_data.insert(len(graph_data.columns), column='kills_middle',value=0)\ngraph_data.insert(len(graph_data.columns), column='kills_adc',value=0)\ngraph_data.insert(len(graph_data.columns), column='kills_support',value=0)\ngraph_data.insert(len(graph_data.columns), column='kills_all',value=0)\n\nfor team in team_names:\n    kills_top = data[(data.position == 'Top') & (data.team == team)]['k'].mean()\n    kills_jungle = data[(data.position == 'Jungle') & (data.team == team)]['k'].mean()\n    kills_middle = data[(data.position == 'Middle') & (data.team == team)]['k'].mean()\n    kills_adc = data[(data.position == 'ADC') & (data.team == team)]['k'].mean()\n    kills_support = data[(data.position == 'Support') & (data.team == team)]['k'].mean()\n    kills_all = data[(data.position == 'Top') & (data.team == team)]['k'].mean() + data[(data.position == 'Jungle') & (data.team == team)]['k'].mean() + data[(data.position == 'Middle') & (data.team == team)]['k'].mean() + data[(data.position == 'ADC') & (data.team == team)]['k'].mean() + data[(data.position == 'Support') & (data.team == team)]['k'].mean()\n\n    graph_data.loc[team] = [kills_top, kills_jungle, kills_middle, kills_adc, kills_support, kills_all]\n\ngraph_data = graph_data.sort_values(by=['kills_all'])\n\nbottom1 = graph_data['kills_support']\nbottom2 = bottom1.add(graph_data['kills_adc'])\nbottom3 = bottom2.add(graph_data['kills_middle'])\nbottom4 = bottom3.add(graph_data['kills_jungle'])\n\nsupport = graph_data['kills_support'].tolist()\nadc = graph_data['kills_adc'].tolist()\nmiddle = graph_data['kills_middle'].tolist()\njungle = graph_data['kills_jungle'].tolist()\ntop = graph_data['kills_top'].tolist()\n\nind =  np.arange(len(graph_data))\nwidth = 0.9\n\np1 = plt.bar(ind, support, width, yerr=None, color='lightgray')\np2 = plt.bar(ind, adc, width, bottom=bottom1.tolist(), yerr=None, color='gold')\np3 = plt.bar(ind, middle, width, bottom=bottom2.tolist(), yerr=None, color='royalblue')\np4 = plt.bar(ind, jungle, width, bottom=bottom3.tolist(), yerr=None, color='darkseagreen')\np5 = plt.bar(ind, top, width, bottom=bottom4.tolist(), yerr=None, color='indianred')\n\nplt.ylabel('Team average total kills')\nplt.title('Average team total kills distribution per role')\nplt.xticks(ind, graph_data.index.tolist(), rotation=90)\nplt.legend((p1[0], p2[0], p3[0], p4[0], p5[0]), ('Support', 'ADC', 'Mid', 'Jungle', 'Top'))\nplt.show()","2ef9d4c4":"## 6. Conclusion<a id=\"13\"><\/a>\nI think it is important to remind people that even though we can compare teams \/ players on statistic level, but they are just a tool to complement the gameplay analysis. Analyzing the gameplay is the only way to really find the exact explanation of the outcome of a match. Saying that a player is great, or bad only on a statistic level is really hard at pro level at least.\n\nThis concludes my data visualization \/ analysis of the League of Legends 2018 World Championiship.<br>\nI had a lot of fun trying to create cool visualization and sharing them with players.<br>\nIf you liked this kernel, it would be very nice from you to upvote it !<br>\n\nI would like to thank [@Sabatard](https:\/\/twitter.com\/Sabatard) and [@Sarakziite](https:\/\/twitter.com\/Sarakziite) for giving me their opinions and ideas about this kernel.<br>\n\nIf you want more of my work :<br>\n* Github : [mdolr](https:\/\/github.com\/mdolr)<br>\n* Twitter : [@m_dolr](https:\/\/twitter.com\/m_dolr)<br>\n* Kaggle : [mdolr](https:\/\/kaggle.com\/mdolres)\n\n* [Reddit thread related to this kernel](https:\/\/old.reddit.com\/r\/dataisbeautiful\/comments\/9vwh7b\/oc_league_of_legends_2018_world_championiship\/)","8775c2b5":"# League of Legends 2018 World Championiship\nHello Kagglers!\n\nFor my 2nd Kernel and with the recent win of Invinctus Gaming at worlds, I wanted to dive into the stats and try to analyze their journey through the bracket.<br>\nHopefully the data will give us insights on why IG became the 2018 world champions !<br>\n\n<img src=\"https:\/\/cdn.vox-cdn.com\/thumbor\/xb4MOhNUn8sLBAs4gbtLmnCpyOU=\/0x0:2048x1365\/920x613\/filters:focal(905x383:1231x709):format(webp)\/cdn.vox-cdn.com\/uploads\/chorus_image\/image\/62176277\/30757965927_a5cefc61b9_k.0.jpg\" height=\"50\" width=\"350\"\/>\n*Image Credit : [Rift Herald](https:\/\/www.riftherald.com\/lol-worlds\/2018\/11\/3\/18059118\/invictus-gaming-wins-2018-league-of-legends-world-championship-ig)*","48d3c8bb":"Concerning the toplaners, we can't really establish a difference in which one is better, however it seem that they have really different playstyles.<br>\n\nNow the junglers :<br>\nNote : Ning has been chosen as the MVP of this tournament.","4d3aa4e6":"First blood doesn't look like a really game changing event, and it's actually nice to know that the game isn't over in the early stage as first bloods are early-game events.<br>\nNow let's take a look at jungle objectives (dragon\/baron\/herald) :","b88cffbf":"## 2. Data transformation & winning condition analysis<a id=\"2\"><\/a>\nTo explore the data I'll start by using the average performance by each player during the whole tournament.<br>\nHere is a correlation matrix that shows which variables are important to score a win :","06bec6a1":"Both supports seem to have playstyles fitting their AD Carries.\n\nFrom those 5 graphs we can't really conclude on a better team, or a team that had a clear advantage in term of players, But we can highlight the fact that Invictus Gaming has a more aggressive playstyle than Fnatic.\n\n## 3.2. The teams<a id=\"4\"><\/a>\nNote : On the finals Fnatic got to play 2 games out of 3 on Blue side.","f1a3502f":"## 5. Other statistics<a id=\"8\"><\/a>\nThe goal of this part is to explore some other statistics as winrate per side, gamelength distribution, ...<br>\nIt includes every team and let's be honest, this is just an excuse to have fun with data visualization !<br>\n### 5.1. Wins per side : <a id=\"9\"><\/a>","8daa1690":"From the winning indicators we determined earliers and this graph we can conclude that Fnatic had more chance to win than G2 against Invictus Gaming.<br>\nAnd here is a comparison between Invictus Gaming and Royal Never Give Up as they are both chinese teams.","8f6adb44":"Towers can give a good insight on the snowball effect in the game, but 1st tower isn't enough, 1st outer mid tower and first to 3 towers are way more meaningful.<br>\nAgain all of those criterias won't give us a 100% accurate prediction on the result, but they might be useful to make approximations, so they seem like great values to compare teams.","321f4b84":"Fnatic and Invictus Gaming have similar performances in jungle objectives, however it seem like Fnatic has trouble taking an early advantage and snowballing it.<br>\n","b02580ff":"## 4. Picks \/ Bans<a id=\"5\"><\/a>\n### 4.1. Picks :<a id=\"6\"><\/a>\nHere are the pick counts for each lane, the most diverse lane was the middle lane","4324549f":"## 3. The Finals <a id=\"17\"><\/a>\n### 3.1 The players<a id=\"3\"><\/a>\nNow let's take a look at the players that participated during the finals.<br>\nInvictus Gaming & Fnatic were the 2 teams to reach the end of the tournament, but as said earlier Invictus Gaming won the match. Were the players individually above on stats ?<br>\n\nTo make those radar graphs I used the average performance of the players (across the whole tournament finals included, I want to compare the stats after the tournament, and the teams already met in early stage) and compared them to the best average performance reached in the position played by the players.<br>\nI then did percentages based on their average performance and the best average one.<br>\n\nLet's start with the toplaners, (Soaz hasn't played a lot during the tournament and played only 1 game during the finals so I'll just consider Bwipo as the only toplaner of Fnatic)","0bdf2e09":"First dragon isn't relevant as opposed to first baron or herald, even though herald isn't decisive it gives a good first overview of win probabilities.<br>\nNow towers, as expected win strongly correlates as they're both a winning condition and a gold income, still, it would be interesting to know if criterias like being the first to get a tower, being the first to get the outer mid tower, or being the first to get 3 towers are meaningful.","10aa4b76":"### 4.2. Bans :<a id=\"7\"><\/a>\nNow the bans per order of ban :","f69484f8":"As his midlaner JackeyLove seems to have a really aggressive playstyle whereas Rekkles would be more focused on team play.\n\nFinally supports : <br>","d03c54db":"Well, Gold difference seems to be the most important criteria to win a game.<br>\n\nNow on a team strategy level, let's try to understand which objectives are the most decives, by visually showing the results of the correlation matrix in different graphs :<br>\nFirst let's try to see if first blood has an impact.","698d6426":"From this correlation matrix we can see that the winrate strongly correlates with the average team tower kills, which is a bit obvious. However there are some weaker correlations that are still interesting,<br>\nwe can see that everything that is related to gold earning leads to a better winrate, which again seems normal.\n\nLet's try to visualize this correlation matrix with graphs :<br>\nFirst we'll determine wheter average xp difference with the opponent at 10 minutes is more important than the average gold difference with the opponent at 10 minutes.","db8b7788":"### 5.4. Kills \/ Gold distribution per role :  <a id=\"12\"><\/a>\nSome stacked bar again to show average gold and kill distribution in every team.<br>\nAnd even though carries are having way more kills, golds are well distributed.","80560e98":"## 1. The Dataset <a id=\"1\"><\/a>\nThe dataset consists of every competitive game that has been played during the 2018 world championiship.<br>\nI found it on [Oracle's Elixir](http:\/\/oracleselixir.com\/match-data\/) which is a site that publishs competitive League of Legends dataset.<br>\n[Here you can find a description of the data](http:\/\/oracleselixir.com\/match-data\/match-data-dictionary\/).<br><br>\n\nHere is a what one match looks like in the dataset :","14bdfbd8":"RooKie & Caps both have crazy stats related to an aggressive playstyle, they are among the best players in kills\/assists\/damages done. Caps however doesn't stomp his opponent in gold difference which is a bit weird. As the junglers ganks lanes and we've seen that Broxah has an insane gold diff at 15, it might come from giving resource to his jungler.\n\nAD Carries now :<br>","5a83fb13":"Whereas in earlier seasons games would have been very long (> 60 minutes), during this tournament the games were pretty short.<br>\nAlso with the most early tower falling at around 8 minutes, we can expect that lane swapping at the beginning of the game hasn't been used in this tournament.\n\n### 5.3. Jungle style : <a id=\"11\"><\/a>\nJust a little stacked bar chart to show the average quantity of counter jungle.","52a6ac9c":"## Tables of contents\n[1. The Dataset](#1)<br>\n[2. Data transformation & winning condition analysis](#2)<br>\n[3. The finals](#17)<br>\n&nbsp;&nbsp;[3.1 The Players](#3)<br>\n&nbsp;&nbsp;[3.2 The Teams](#4)<br>\n[4. Pick \/ Bans](#5)<br>\n&nbsp;&nbsp;[4.1. Picks](#6)<br>\n&nbsp;&nbsp;[4.2. Bans](#7)<br>\n[5. Other statistics](#8)<br>\n&nbsp;&nbsp;[5.1. Wins per side](#9)<br>\n&nbsp;&nbsp;[5.2. Event distribution (gamelength \/ first tower destroyed)](#10)<br>\n&nbsp;&nbsp;[5.3. Avg. jungle invade](#11)<br>\n&nbsp;&nbsp;[5.4. Avg. Gold \/ Kills distribution per role](#12)<br>\n[6. Conclusion](#13)\n","841d6257":"Invictus Gaming was much more versatile than RNG, so from the indicators we established at the beginning of this kernel, we can say that they had greater chances of winning than RNG against Fnatic.<br>\nFnatic being the EU team with the most chance of winning, and Invictus Gaming being the Chinese team with the most chance of winning means we've had the best from both regions.","37debca1":"You would expect some crazy stats from the tournament MVP, however as the stats are relative to the best average performance that doesn't mean that it's bad, he seem to have a playstyle focused on teamplay. <br>From the correlation matrix we could think that Broxah has an advantage as his gold difference with his opponent at 15min is huge, however he is a jungle player, and depending on the champion he played or the gameplay adopted by Invictus Gaming he might not have had the chance to make such a difference in the finals or to use it.\n\nLet's take a look at the middle lane :","c185cf53":"Invictus Gaming is a team that ends game quickly whereas Fnatic really shines in late game.<br>\nNow let's compare Fnatic and G2 Esports as those two teams made it to the semi-finals and are from the same continent :","47f7ab88":"Blue side seem to have a clear advantage over red side especially at pro level.\n\n### 5.2. Time distribution of game length \/ first tower :  <a id=\"10\"><\/a>"}}