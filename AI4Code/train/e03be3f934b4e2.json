{"cell_type":{"0fc5d496":"code","d736648a":"code","1710b47e":"code","86b8913b":"code","cbc33405":"code","e4977713":"code","1dbb294f":"code","5225b1f8":"code","b70c3bb6":"code","0b94756e":"code","ece15b68":"code","fee7f6df":"code","1d0bb866":"code","4f6d6fb5":"code","883431d1":"code","bad3ef82":"code","adf6dae3":"code","357c58fb":"code","19f72532":"code","2ce2b7ef":"code","9d0067e1":"code","94ecb844":"code","7a455428":"code","bd59b386":"code","badb8ef3":"code","20f67d85":"code","f3f3dd81":"code","48b193e9":"code","9ac493b5":"code","2f587b3f":"code","43a02b86":"code","3f01b751":"code","b34b7a22":"code","8ff72356":"code","b6c0b060":"code","8e221b67":"code","a231d921":"markdown","c7a48224":"markdown","5a34d58b":"markdown","3f8b375b":"markdown","7edb3c8e":"markdown","f90c473f":"markdown","703b5fab":"markdown","64e6057f":"markdown","f9f133a4":"markdown","a05b1931":"markdown","f177ee4f":"markdown","d8822e41":"markdown","e5d85432":"markdown","be659497":"markdown","3babfb46":"markdown","ff517330":"markdown","0d654730":"markdown","e3113cd0":"markdown","bd96f20b":"markdown","4fb2fcbe":"markdown","08749ff3":"markdown","6f6999c9":"markdown","5e4d9a14":"markdown","484006bc":"markdown","fd8802f9":"markdown","99a17d69":"markdown","470dc8f2":"markdown","5701868a":"markdown","8636475c":"markdown","d37c9bb1":"markdown","bc1187e0":"markdown","9ad6b89a":"markdown","3809169e":"markdown"},"source":{"0fc5d496":"# This cell is to set up import statements for all of the packages that we plan to use.\n\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport statsmodels.api as sm\n\n%matplotlib inline","d736648a":"# We Load our data and print out a few lines.\n\ndf = pd.read_csv('\/kaggle\/input\/noshowappointments\/KaggleV2-May-2016.csv')\ndf.head()","1710b47e":"df.columns = [c.strip().lower().replace('-','_') for c in df.columns]","86b8913b":"df['no_show'].replace(['No', 'Yes'], [0,1], inplace = True)\ndf['gender'].replace(['M', 'F'], [0,1], inplace = True)","cbc33405":"df.shape","e4977713":"df.info()","1dbb294f":"df.isnull().sum()","5225b1f8":"sum(df.duplicated())","b70c3bb6":"df.drop(['appointmentid','patientid'],axis=1,inplace=True)","0b94756e":"df.scheduledday = pd.to_datetime(df.scheduledday)","ece15b68":"df.appointmentday = pd.to_datetime(df.appointmentday)","fee7f6df":"df['time_diff'] = (df['appointmentday'] - df['scheduledday']).dt.days","1d0bb866":"df.describe()","4f6d6fb5":"a=df.query('age <0')\ndf.drop(a.index, inplace=True)","883431d1":"df.hist(figsize=(20,20));","bad3ef82":"df.corr()","adf6dae3":"matrix = df.corr()\nsm.graphics.plot_corr(matrix, xnames=list(matrix.columns))\nplt.show()","357c58fb":"df.rename({'hipertension':'hypertension'}, axis=1, inplace=True)\ndf.rename({'handcap': 'handicap'}, axis=1, inplace=True)","19f72532":"df.corrwith(df['no_show'])","2ce2b7ef":"sns.FacetGrid(df).map(sns.barplot, \"no_show\", \"sms_received\", order=[0,1]);\nplt.xlabel('Not showing up')\nplt.ylabel('SMS received')\nplt.show()","9d0067e1":"sns.FacetGrid(df).map(sns.barplot, \"no_show\", \"time_diff\", order=[0,1]);\nplt.xlabel('Not showing up')\nplt.ylabel('Period between scheduling and appointment')\nplt.show()","94ecb844":"x=df[df['neighbourhood'].map(df['neighbourhood'].value_counts()) >500]","7a455428":"x.groupby('neighbourhood').no_show.mean().sort_values(ascending=False).head(10).plot.barh(figsize=(5,5), title=' Top 10 places where patients didn\\'t show up for their appointment');\nplt.xlabel('Frequency of not showing up')\nplt.ylabel('Neighbourhood')\nplt.show()","bd59b386":"x.groupby('neighbourhood').no_show.mean().sort_values(ascending=True).head(10).plot.barh(figsize=(5,5), title='Top 10 places where patients showed up for their appointment');\nplt.xlabel('Frequency of not showing up')\nplt.ylabel('Neighbourhood')\nplt.show()","badb8ef3":"ns = x.query('no_show==1')\nns.groupby('neighbourhood').no_show.value_counts().sort_values(ascending=False).head(10).plot.barh(figsize=(8,8), title= 'Top 10 places where patients didn\\'t show up for their appointment');\nplt.xlabel('Number of patients not showing up')\nplt.ylabel('Neighbourhood')\nplt.show()","20f67d85":"s = x.query('no_show==0')\ns.groupby('neighbourhood').no_show.value_counts().sort_values(ascending=False).head(10).plot.barh(figsize=(5,5), title='Top 10 places where patients showed up for their appointment');\nplt.xlabel('Number of patients showing up')\nplt.ylabel('Neighbourhood')\nplt.show()","f3f3dd81":"df.corrwith(df['hypertension'])","48b193e9":"df.groupby('hypertension').diabetes.mean()","9ac493b5":"sns.FacetGrid(df).map(sns.barplot, \"hypertension\", \"diabetes\");\nplt.xlabel('Hypertension')\nplt.ylabel('Diabetes')\nplt.show()","2f587b3f":"df.groupby('hypertension').alcoholism.mean()","43a02b86":"df.groupby('hypertension').handicap.mean()","3f01b751":"df.corrwith(df['age'])","b34b7a22":"df.groupby('hypertension').age.mean()","8ff72356":"df.groupby('diabetes').age.mean()","b6c0b060":"df.groupby('alcoholism').age.mean()","8e221b67":"df.groupby('scholarship').age.mean()","a231d921":"<a id='intro'><\/a>\n## Introduction\n\n> This dataset collects information from 100,000 medical appointments in Brazil. A number of characteristics about each patient are included in each row.\n\n>###  In our analysis, we're trying to find answers for 3 questions:\n>####     Q1) What factors are important for us to know in order to predict if a patient will show up for their scheduled appointment?\n>####      Q2) Are hypertensive patients in our dataset more likely to have other diseases?\n>####      Q3)  How aging affects the other variables in our dataset?","c7a48224":"> We drop the unneeded columns from the dataset.","5a34d58b":"> We notice that not showing up for the appointment is direcly related to the number of sms messages received (12.6%)and time difference (18.6%).","3f8b375b":"> We plot a bar chart showing the top 10 locations where the patients are most likely to show up for their appointments (df.no_show == 00) (measured using the mean)","7edb3c8e":"> Next, we investigate the relationship between the locations and not showing up for the appointment.\n\n> We find the locations that have more than 500 patient to reduce the skewing of data and assign these patients (the rows) to a new DataFrame (x).","f90c473f":"> we look for the associations between the quantitaive variables in the correlation matrix above. We notice that not showing up for the appointment is direcly related to the number of sms messages received (12.6%)and time difference (18.6%).\n\n> We draw the correlation matrix below.","703b5fab":"> We explore some statistical characterestics of the dataset with visualizations.","64e6057f":"## Limitations:\n\n1) Most variables are categorical, we don't have values for hypertension or diabetes. We only know if the patient have them or not. This may mislead our analysis.\n\n2) We didn't divide the age into different groups. This may lead to wrong correlations as we didn't know at what age the variables increase or decrease in their relation to the age.","f9f133a4":"> We plot a bar chart showing the top 10 locations where the patients are most likely not to show up for their appointments (df.no_show == 1) (measured using the mean)","a05b1931":"> We create a new dataframe (s (showing_up)) and assign to it the patients who showed up for their appointment. Then, we use the new dataframe to find the top 10 locations where patients showed up for their appointment.","f177ee4f":"> From above, we find that aging is directly related to having hypertension, diabetes, alcoholism. Also aging is inversely related to having a scholarship","d8822e41":"> We look at the correlation between having hypertension and the other variables in the dataset.","e5d85432":"> We look at the correlation between not showing up for the appointment and other variables.","be659497":"> We convert categorical values from to quantitative values (0,1) so that we can see their statistical properties.","3babfb46":"### Research Question 3  (What variables are directly related to with aging?)","ff517330":"> We make column labels lower case letters and replace hyphens with underscores","0d654730":"> We remove the rows where age is given in negative values and continue exploring the statistical properties.","e3113cd0":"### Research Question 2  (Are hypertensive patients more likely to have other diseases?)","bd96f20b":"<a id='eda'><\/a>\n## Exploratory Data Analysis\n\n> Now that we've trimmed and cleaned our data, we're ready to move on to exploration. We compute statistics and create visualizations with the goal of addressing the research questions that we posed in the Introduction section.","4fb2fcbe":"> We look for the number of null values and duplicates.","08749ff3":"### Data Cleaning","6f6999c9":"> We find the shape of the dataset, the number of non-null values and datatypes of each column for consistency.","5e4d9a14":"> There are no null values and no duplicates in the dataset.","484006bc":"# Project: Investigating \"No-show appointments\" Dataset.\n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","fd8802f9":"> From above, We notice that the hypertensive patients are more likely to increase with age and to also have diabetes, alcoholism, and handicaps.","99a17d69":"<a id='wrangling'><\/a>\n## Data Wrangling\n\n\n### General Properties","470dc8f2":"> We create a new column (time_diff) for the period between the scheduled day and the appointment day.","5701868a":"### Research Question 1 (What factors are important for us to know in order to predict if a patient will show up for their scheduled appointment?)","8636475c":"> We look at the correlation between the age and the other variables in the dataset.","d37c9bb1":"<a id='conclusions'><\/a>\n## Conclusions\n\n>###  In our analysis, we posed 3 questions:\n>####     Q1) What factors are important for us to know in order to predict if a patient will show up for their scheduled appointment?\n\n>We looked at the correlation between not showing up for the appointment and the other variables in the dataset.\n\nWe found that not showing up for the appointment is direcly related to the number of SMS messages received (12.6%)and time difference (18.6%). Also, we created visulaization to show which places the patients were most likely not to show up and to show up.\n\n>####      Q2) Are hypertensive patients in our dataset more likely to have other diseases?\n\n> We looked at the correlation between having hypertension and the other variables in the dataset.\n\nWe noticed that the hypertensive patients are more likely to increase with age and to also have diabetes, alcoholism, and handicaps.\n\n>####      Q3)  How aging affects the other variables in our dataset?\n\n> We looked at the correlation between the age and the other variables in the dataset.\n\nwe concluded that aging is directly related to having hypertension, diabetes, alcoholism and that aging is also inversely related to having a scholarship.","bc1187e0":"> We convert the datatype of dates from objects to datetime.","9ad6b89a":"> We create a new dataframe (ns (not_showing_up)) and assign to it the patients who didn't show up for their appointment. Then, we use the new dataframe to find the top 10 locations where patients didn't show up for their appointment.","3809169e":"> We correct the syntax in the column labels."}}