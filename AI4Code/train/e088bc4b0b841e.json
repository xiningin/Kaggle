{"cell_type":{"538994ab":"code","fde000e8":"code","990a51a9":"code","3413a21b":"code","cc8fb683":"code","a482014a":"code","a7d6afb6":"code","1836b99a":"code","a549febb":"code","ec6a27d9":"code","d36b8712":"code","944f68ac":"code","484b2739":"code","3887a6f9":"code","c3968146":"code","c8e570ef":"code","890a33f5":"code","7201d921":"code","a1887c20":"code","295e211a":"code","5b0019c2":"code","aed9bf2f":"code","4aad2157":"code","965539b4":"code","29b27ad9":"code","e3b2474d":"code","294e2b07":"code","d1e0bee7":"code","80d21a55":"code","a1491d9c":"code","116095fb":"code","95ee68fc":"code","b6d5a848":"code","aa6a3e7e":"code","b173efe4":"code","c2dc4991":"code","6b28a135":"code","dffceb54":"code","e5f60139":"code","9e910195":"markdown","61e4f3db":"markdown","0e416bd4":"markdown","3fe417e3":"markdown","1f24b1da":"markdown","55891baa":"markdown","1a99e438":"markdown","b8721853":"markdown"},"source":{"538994ab":"import pandas as pd\nimport numpy as np\nimport networkx as nx","fde000e8":"# find neibhours for a given node","990a51a9":"fb_network = pd.read_csv(\"..\/input\/fb_network_sub.csv\")","3413a21b":"G = nx.from_pandas_edgelist(fb_network, source=\"source_node\", target=\"destination_node\")\n","cc8fb683":"# how many friends does user 1 has\nlen(list(G.neighbors(741)))","a482014a":"# same as \nval1 = fb_network.loc[fb_network[\"source_node\"] == 741,\"destination_node\"].values\nval2 = fb_network.loc[fb_network[\"destination_node\"] == 741, \"source_node\"].values","a7d6afb6":"len(set(list(np.append(val1,val2))))","1836b99a":"## Node centrality\nfb_deg_cen = nx.degree_centrality(G)","a549febb":"type(fb_deg_cen)","ec6a27d9":"fb_deg_cen[741]","d36b8712":"# same as \nlen(list(G.neighbors(741)))\/(len(list(G.nodes())) - 1)","944f68ac":"fb_deg_cen = pd.DataFrame([fb_deg_cen]).T","484b2739":"fb_deg_cen[\"user_id\"] = fb_deg_cen.index\nfb_deg_cen = fb_deg_cen.rename(columns={0:\"deg_cen\"})","3887a6f9":"fb_deg_cen.head()","c3968146":"fb_deg_cen[fb_deg_cen[\"user_id\"] == 741]","c8e570ef":"fb_deg_cen.sort_values(by=\"deg_cen\", ascending=False).head()","890a33f5":"len(list(G.neighbors(1492489)))\/(len(list(G.nodes())) - 1)","7201d921":"## find few unconnected people in the network\ncount = 0\nfor e in nx.non_edges(G):\n    print(e)\n    count = count + 1\n    if count > 10:\n        break","a1887c20":"nx.shortest_path(G, source = 786432, target = 1048579)","295e211a":"## common neighbours\n## find common neighbours for a paticular user say user no 4850\nlen(list(G.neighbors(4850)))","5b0019c2":"# find list of key users the user 4850 is not currently connected to\nkey_users = list(set(fb_network[\"source_node\"].values))\nunconnected_users = [x for x in key_users if x not in list(G.neighbors(4850))]","aed9bf2f":"len(unconnected_users)","4aad2157":"# find common neighbours\ncommon_neighbors = []\nfor user_id in unconnected_users:\n    common_neighbors.append(len(list(nx.common_neighbors(G, 4850, user_id))))","965539b4":"common_neighbors_df = pd.DataFrame({\"user_id\": 4850, \n                                    \"unconnctd_user_id\": unconnected_users, \"common_neighbors\": common_neighbors})","29b27ad9":"common_neighbors_df.sort_values(by = \"common_neighbors\", ascending=False).head()","e3b2474d":"n1 = set(G.neighbors(4850))\nn2 = set(G.neighbors(1492489))","294e2b07":"len(n1.intersection(n2))","d1e0bee7":"list(nx.jaccard_coefficient(G, [(4850,1492489)]))","80d21a55":"len(n1.intersection(n2))\/len(n1.union(n2))","a1491d9c":"jac_sim = [list(nx.jaccard_coefficient(G, [(4850,user_id)]))[0] for user_id in unconnected_users]","116095fb":"jac_sim_df =  pd.DataFrame.from_records(jac_sim,columns=[\"user_id\",\"unconnctd_user_id\",\"jac_sim\"])","95ee68fc":"jac_sim_df.sort_values(by=\"jac_sim\", ascending=False).head()","b6d5a848":"n1 = set(G.neighbors(4850))\nn2 = set(G.neighbors(245648))","aa6a3e7e":"print(\"intersection -\" ,len(n1.intersection(n2)))\nprint(\"union -\" , len(n1.union(n2)))","b173efe4":"40\/1026","c2dc4991":"list(nx.resource_allocation_index(G,[(4850,1492489)]))","6b28a135":"res_alloc_sim = [list(nx.resource_allocation_index(G, [(4850,user_id)]))[0] for user_id in unconnected_users]","dffceb54":"res_alloc_sim_df =  pd.DataFrame.from_records(res_alloc_sim,columns=[\"user_id\",\"unconnctd_user_id\",\"res_alloc_sim\"])","e5f60139":"res_alloc_sim_df.sort_values(by=\"res_alloc_sim\", ascending=False).head()","9e910195":"<b> Using Jaccard Similarity <\/b>","61e4f3db":"<b> Resource Allocation Index <\/b>","0e416bd4":"### Link Prediction (or Recommendation)","3fe417e3":"<b> Common Neighbors Method <\/b>","1f24b1da":"<b> Shortest path algorithm <\/b>","55891baa":"### Find number of neighbours & Node Degree","1a99e438":"<b> Find nodes with influence <\/b>","b8721853":"### Common network analysis "}}