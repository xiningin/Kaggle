{"cell_type":{"25be4b63":"code","eec0ea82":"code","13b19ba7":"code","d405fe42":"code","34ac3eac":"code","66057213":"code","627a46de":"code","13853f85":"code","34a9fbce":"code","1ea17e84":"code","12a354a5":"code","cb72b93f":"code","3c0624e1":"code","cc50c1f1":"code","82f1c64c":"code","f394de1e":"code","771643e3":"code","c90b980a":"code","6ab53638":"code","c08e51f7":"code","ce1cbb09":"code","dd498911":"code","6bbcd625":"code","d3809866":"code","a040ec2f":"code","7cd77e20":"code","4393359d":"code","711c2d97":"code","a71398c9":"code","4a30869a":"code","f7ffad51":"code","5a73db0a":"code","095be93e":"code","c9308b92":"code","bcea9d90":"code","05c16720":"code","172e43d2":"code","b14df466":"code","fd7b3f14":"code","cbdf5b5a":"code","4954eb47":"code","d331f055":"code","2ade7cf1":"code","96b9c7c1":"code","b15d0a89":"code","f23767d2":"code","fbb7b3b7":"code","36679738":"code","ccd9502f":"code","7d8f4c7d":"code","074b8022":"code","5d3dc460":"code","e615f76c":"code","3c20a3f4":"code","75574d96":"code","88e9ab47":"code","7323d025":"code","670c0157":"code","de4b197f":"code","98cb0ac7":"code","e3a2d688":"code","6fdf67d9":"code","9b0d5c02":"code","36306619":"code","17264bb3":"code","bbe5c737":"code","cb4c5b8a":"code","5f3f6f24":"code","1377ac6b":"code","2c6d4d9c":"code","6cc2c347":"code","c6b4344a":"code","1f62dc98":"code","c19a80a1":"code","cf1ef5c0":"code","9822f7c1":"code","99a64c27":"code","2638a52e":"code","99f30fa6":"code","573bc888":"code","b4020589":"code","ffe2e1fc":"code","647c49a8":"code","34a63082":"code","d30b0440":"code","66cab5f8":"code","3074b39b":"code","92ca569b":"code","32e0aa99":"code","ccc73ac2":"code","4f3875cc":"code","a2d0011a":"code","7a2324fa":"code","c3fc0b4b":"code","b0a9d34c":"markdown","fd65e18b":"markdown","f1bd634e":"markdown","3f40a52e":"markdown","d5351385":"markdown","e8f521e0":"markdown","b9c31830":"markdown","a15b334d":"markdown","25d1bd45":"markdown","05f0fd43":"markdown"},"source":{"25be4b63":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport warnings\npd.set_option('display.float_format', lambda x: '%.2f' % x) #To supress numarical display in scientific notation","eec0ea82":"import os","13b19ba7":"for dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","d405fe42":"train=pd.read_csv('\/kaggle\/input\/titanic\/train.csv')\ntest=pd.read_csv('\/kaggle\/input\/titanic\/test.csv')\nprint(train.shape, test.shape)","34ac3eac":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.heatmap(train.isnull(),yticklabels=False, cmap='viridis')\nplt.subplot(1,2,2)\nsns.heatmap(test.isnull(),yticklabels=False, cmap='viridis')","66057213":"train.drop('Cabin',axis=1,inplace=True)\ntest.drop('Cabin',axis=1,inplace=True)","627a46de":"train['Age']=train['Age'].fillna(train['Age'].mean())\ntest['Age']=test['Age'].fillna(test['Age'].mean())","13853f85":"test['Fare']=test['Fare'].fillna(test['Fare'].mean())","34a9fbce":"print (train.isnull().sum(), '\\n\\n', test.isnull().sum())","1ea17e84":"train['Embarked'].mode()[0]","12a354a5":"train['Embarked']=train['Embarked'].fillna(train['Embarked'].mode()[0])","cb72b93f":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.heatmap(train.isnull(),yticklabels=False, cmap='viridis')\nplt.subplot(1,2,2)\nsns.heatmap(test.isnull(),yticklabels=False, cmap='viridis')","3c0624e1":"#train['Name'].loc[7].split(',')[1].split('.')[0].split()\ndef Title(Name):\n    return Name.split(',')[1].split('.')[0]","cc50c1f1":"train['Title']=train['Name'].apply(Title)\ntest['Title']=test['Name'].apply(Title)","82f1c64c":"train.head()","f394de1e":"test.head()","771643e3":"train['Title'].unique()","c90b980a":"Title_disc={' Mr': 'Mr', ' Mrs': 'Mrs', ' Miss': 'Miss', ' Master': 'Master', ' Don': 'Others', ' Rev': 'Others', ' Dr': 'Others', ' Mme': 'Mrs',\n       ' Ms': 'Miss', ' Major': 'Others', ' Lady': 'Mrs', ' Sir': 'Mr', ' Mlle': 'Mr', ' Col': 'Others', ' Capt': 'Others',\n       ' the Countess': 'Mrs', ' Jonkheer': 'Mr'}","6ab53638":"train['Title']=train.Title.map(Title_disc)\ntest['Title']=test.Title.map(Title_disc)","c08e51f7":"train['Title'].unique()","ce1cbb09":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nf= train['Title'].value_counts()\nf.plot(x='Title', kind='bar')\nplt.subplot(1,2,2)\nf= test['Title'].value_counts()\nf.plot(x='Title', kind='bar')","dd498911":"c=train.groupby(['Sex','Pclass', 'Embarked'])['Fare'].mean()\nd=test.groupby(['Sex','Pclass', 'Embarked'])['Fare'].mean()\nprint(c,'\\n\\n\\n',d)","6bbcd625":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nc.plot(x='c', kind='bar')\nplt.subplot(1,2,2)\nd.plot(x='d', kind='bar')","d3809866":"train.groupby(['Embarked','Pclass'])['Fare'].mean()","a040ec2f":"test.groupby(['Embarked', 'Pclass'])['Fare'].mean()","7cd77e20":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.distplot(train['PassengerId'])\nplt.subplot(1,2,2)\nsns.distplot(test['PassengerId'])","4393359d":"col=train.columns\ncol","711c2d97":"#val=df.columns\nval1=['Pclass', 'Sex', 'SibSp','Parch', 'Embarked', 'Title']","a71398c9":"def plot(var2):\n    plt.figure(figsize=(20,6))\n    plt.subplot(1,2,1)\n    sns.barplot(x=var2, y=train.PassengerId, data=train)#x='Title',y='PassengerId', data=df\n    plt.title('Train ' + str(var2))\n    plt.subplot(1,2,2)\n    sns.barplot(x=var2, y=test.PassengerId, data=test)\n    plt.title('Test ' + str(var2))","4a30869a":"for i in val1:\n    plot(i)","f7ffad51":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.barplot(x='Title',y='PassengerId', data=train)\nplt.subplot(1,2,2)\nsns.barplot(x='Title',y='PassengerId', data=test)","5a73db0a":"plt.figure(figsize=(10,6))\nsns.set_theme(style='ticks')\nsns.violinplot(x=train.Survived, y = train.Fare, palette='plasma', hue=train.Sex)","095be93e":"plt.figure(figsize=(10,6))\nsns.set_theme(style='ticks')\nsns.stripplot(x=train.Survived, y = train.Fare, palette='plasma', jitter=0.4)","c9308b92":"plt.figure(figsize=(10,8))\nsns.set_theme(style='ticks')\nsns.stripplot(x=train.Pclass, y=train.Age, palette='plasma', linewidth=0.6, jitter= 0.3)","bcea9d90":"plt.figure(figsize=(10,6))\nsns.set_theme(style='ticks')\nsns.stripplot(y=train.Fare, x = train.Pclass, hue = train.Sex, palette='plasma',jitter=0.3, linewidth=1,size=8)","05c16720":"plt.figure(figsize=(10,6))\nsns.violinplot(x='Pclass',y='Survived',data=train, hue='Sex',split=True)","172e43d2":"plt.figure(figsize=(10,6))\nsns.violinplot(x='Pclass',y='Survived',data=train, hue='Sex')","b14df466":"plt.figure(figsize=(10,9))\nsns.stripplot(x='Survived',y='Age',data=train, jitter=0.3, linewidth=1,size=5, hue='Sex', dodge=True)","fd7b3f14":"plt.figure(figsize=(15,20))\np = train.pivot_table(index='Age', columns='Pclass', values='Survived')\np\nsns.heatmap(p, cmap='plasma', linecolor='white', linewidth=1)","cbdf5b5a":"plt.figure(figsize=(8,6))\nsns.set_context('paper', font_scale=1.4)\n\nplt.figure(figsize=(8,6))\nsns.lmplot(x='Age', y='Fare', hue='Sex', data=train, markers=['o', '^'], \n          scatter_kws={'s': 100, 'linewidth': 0.5, 'edgecolor': 'w'})","4954eb47":"train['Name_length'] = train.Name.map(lambda x : len(x)).values\n\nplt.figure(figsize=(12,8))\nsns.color_palette('Set2')\nsns.boxplot(y= train.Name_length, x = train.Survived, hue = train.Sex, palette='Set2')","d331f055":"sns.catplot(x=\"Pclass\", y=\"Fare\", kind=\"swarm\", data=train, palette=sns.cubehelix_palette(5, start = 3), hue = \"Survived\", height = 6)","2ade7cf1":"f,ax=plt.subplots(1,2,figsize=(16,7))\ncolors = ['#eed4d0', '#cda0aa']\ntrain['Survived'][train['Sex']=='male'].value_counts().plot.pie(explode=[0,0.1],colors = colors,autopct='%1.1f%%',ax=ax[0],shadow=True)\ntrain['Survived'][train['Sex']=='female'].value_counts().plot.pie(explode=[0,0.1],colors = colors,autopct='%1.1f%%',ax=ax[1],shadow=True)\nax[0].set_title('Survived (male)')\nax[1].set_title('Survived (female)')\n\nplt.show()","96b9c7c1":"plt.figure(figsize=(20,7))\nd=train.Title.value_counts()\nplt.figure(figsize=(10,6))\nd.plot(kind='pie',legend=1, autopct='%1.1f%%',shadow=True)","b15d0a89":"plt.figure(figsize=(10,6))\nsns.set_style('ticks')\nsns.countplot(x='Title',hue='Survived', data=train, palette='nipy_spectral_r')","f23767d2":"plt.figure(figsize=(20,6))\nsns.violinplot(x='Pclass',y='Sex',data=train, hue='Survived', split=True, lable=1)","fbb7b3b7":"g = sns.catplot(x=\"Pclass\", hue=\"Sex\", col=\"Survived\",\n                data=train, kind=\"count\",\n                height=4, aspect=.7);","36679738":"g = sns.catplot(x=\"Embarked\", hue=\"Sex\", col=\"Survived\",\n                data=train, kind=\"count\",\n                height=4, aspect=.7);","ccd9502f":"plt.figure(figsize=(10,9))\nsns.stripplot(x='Survived',y='Age',data=train, jitter=True, hue='Sex', dodge=True)","7d8f4c7d":"plt.figure(figsize=(10,6))\nsns.violinplot(x='Pclass',y='Survived',data=train, hue='Sex',split=True)\nsns.swarmplot(x='Pclass',y='Survived',data=train, color='Green')","074b8022":"plt.figure(figsize=(8,6))\nsns.set_context('paper', font_scale=1.4)\nvc = sns.PairGrid(train, hue=\"Survived\",\n                      x_vars=[\"Age\", \"SibSp\"],\n                      y_vars=[\"Pclass\", \"Fare\"])\nvc.map(plt.scatter)\nvc.add_legend()","5d3dc460":"t=sns.PairGrid(train, hue=\"Survived\")\nt.map(plt.scatter)\nt.map_diag(plt.hist)","e615f76c":"plt.figure(figsize=(8,6))\nsns.set_context('paper', font_scale=1.4)\nvc = sns.PairGrid(train, hue=\"Sex\",\n                      x_vars=[\"Age\", \"SibSp\"],\n                      y_vars=[\"Pclass\", \"Fare\"])\nvc.map(plt.scatter)\nvc.add_legend()","3c20a3f4":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.barplot(x='Pclass',y='Fare', data=train)\nplt.subplot(1,2,2)\nsns.barplot(x='Pclass',y='Fare', data=test)","75574d96":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.barplot(x='Pclass',y='Age', data=train)\nplt.subplot(1,2,2)\nsns.barplot(x='Pclass',y='Age', data=test)","88e9ab47":"sns.set_context('paper', font_scale=1.4)\nvc = sns.PairGrid(test, hue=\"Sex\",\n                      x_vars=[\"Age\", \"SibSp\"],\n                      y_vars=[\"Pclass\", \"Fare\"])\nvc.map(plt.scatter)\nvc.add_legend()","7323d025":"g = sns.catplot(x=\"Pclass\", hue=\"Sex\", col=\"Survived\",\n                data=train, kind=\"count\",\n                height=4, aspect=.7);","670c0157":"sns.catplot(x='Pclass', hue='Sex', col='Embarked', data=train, kind='count', aspect=.7 )","de4b197f":"sns.catplot(x='Pclass', hue='Sex', y='Age', data=train, kind='swarm',palette=sns.cubehelix_palette(5, start = 3), aspect=.7 )","98cb0ac7":"sns.catplot(x='Pclass', hue='Sex', y='Age', data=test, kind='swarm',palette=sns.cubehelix_palette(5, start = 3), aspect=.7 )","e3a2d688":"sns.catplot(x='Pclass', hue='Sex', y='Age', data=test, kind='violin', split=True,palette=sns.cubehelix_palette(5, start = 3), aspect=.7 )","6fdf67d9":"sns.catplot(x='Pclass', col='Sex', y='Age', data=train, kind='violin', split=True,palette=sns.cubehelix_palette(5, start = 3), aspect=.7 )","9b0d5c02":"for k in val1:\n    sns.catplot(x='Pclass', hue=k, y='Age', data=train, kind='bar',palette='BuPu')\n    plt.title('Train ' + str(k))\n    sns.catplot(x='Pclass', hue=k, y='Age', data=test, kind='bar',palette='BuPu')\n    plt.title('test ' + str(k))         ","36306619":"for k in val1:\n    sns.catplot(x='Pclass', col=k, y='Age', data=train, kind='boxen',palette=sns.cubehelix_palette(5, start = 3), aspect=.7 )","17264bb3":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.violinplot(x='Pclass',y='Fare',data=train, hue='Sex', split=True, lable=1)\nplt.subplot(1,2,2)\nsns.violinplot(x='Pclass',y='Fare',data=test, hue='Sex', split=True, lable=1)","bbe5c737":"sns.jointplot(x='Pclass', y='Fare', data=train, kind='kde')","cb4c5b8a":"f,ax=plt.subplots(1,2,figsize=(16,7))\ncolors = ['#eed4d0', '#cda0aa']\ntrain['Survived'][train['Sex']=='male'].value_counts().plot.pie(explode=[0,0.1],colors = colors,autopct='%1.1f%%',ax=ax[0],shadow=True)\ntrain['Survived'][train['Sex']=='female'].value_counts().plot.pie(explode=[0,0.1],colors = colors,autopct='%1.1f%%',ax=ax[1],shadow=True)\nax[0].set_title('Survived (male)')\nax[1].set_title('Survived (female)')\n\nplt.show()","5f3f6f24":"d=train.groupby(['Title'], as_index = False).agg({'Survived' : np.sum,'PassengerId' : pd.Series.nunique, 'Sex' : pd.Series.nunique })\nd.Sex.value_counts()","1377ac6b":"d.plot(kind='bar',stacked=True,legend=1)","2c6d4d9c":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.barplot(x='Sex',y='Age', data=train)\nplt.subplot(1,2,2)\nsns.barplot(x='Sex',y='Age', data=test)","6cc2c347":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.barplot(x='Sex',y='Fare', data=train)\nplt.subplot(1,2,2)\nsns.barplot(x='Sex',y='Fare', data=test)","c6b4344a":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.barplot(x='Title', y='Age', data=train)\nplt.subplot(1,2,2)\nsns.barplot(x='Title', y='Age', data=test)","1f62dc98":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.barplot(x='SibSp', y='Age', data=train)\nplt.subplot(1,2,2)\nsns.barplot(x='SibSp', y='Age', data=test)","c19a80a1":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.barplot(x='Parch', y='Age', data=train)\nplt.subplot(1,2,2)\nsns.barplot(x='Parch', y='Age', data=test)","cf1ef5c0":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.barplot(x='Embarked', y='Age', data=train)\nplt.subplot(1,2,2)\nsns.barplot(x='Embarked', y='Age', data=test)","9822f7c1":"sns.jointplot(x='Age', y='Fare', data=train, kind='kde')","99a64c27":"plt.figure(figsize=(10,6))\nsns.set_theme(style='ticks')\nplt.subplot(1,2,1)\nsns.stripplot(y=train.Age, x = train.Pclass, hue = train.Sex, palette='plasma',jitter=0.3, linewidth=1,size=8)\nplt.subplot(1,2,2)\nsns.stripplot(y=test.Age, x = test.Pclass, hue = test.Sex, palette='plasma',jitter=0.3, linewidth=1,size=8)","2638a52e":"plt.figure(figsize=(16,6))\np = train.pivot_table(index='Age', columns='Pclass', values='Survived')\np\nsns.heatmap(p, cmap='plasma', linecolor='white', linewidth=1)","99f30fa6":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.countplot(train['SibSp'])\nplt.subplot(1,2,2)\nsns.countplot(test['SibSp'])","573bc888":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.countplot(x=train.SibSp, hue=train.Sex, palette='pastel')\nplt.subplot(1,2,2)\nsns.countplot(x=test.SibSp, hue=test.Sex, palette='pastel')","b4020589":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.countplot(x=train.SibSp, hue=train.Embarked, palette='pastel')\nplt.subplot(1,2,2)\nsns.countplot(x=test.SibSp, hue=test.Embarked, palette='pastel')","ffe2e1fc":"plt.figure(figsize=(10,6))\nsns.countplot(x=train.SibSp, hue=train.Survived, palette='pastel')","647c49a8":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.stripplot(x=train.SibSp, y = train.Fare ,  palette='pastel', size = 7, linewidth=1,jitter=0.2)\nplt.subplot(1,2,2)\nsns.stripplot(x=test.SibSp, y = test.Fare ,  palette='pastel', size = 7, linewidth=1,jitter=0.2)","34a63082":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.violinplot(x=train.SibSp, y = train.Fare , hue=train.Sex, split=1, palette='pastel')\nplt.subplot(1,2,2)\nsns.violinplot(x=test.SibSp, y = test.Fare , hue=test.Sex, split=1, palette='pastel')","d30b0440":"plt.figure(figsize=(20,6))\nplt.subplot(1, 2, 1)\nsns.boxplot(x=train.Embarked, y = train.Fare[train.Fare<150])\nplt.subplot(1, 2, 2)\nsns.stripplot(x=train.SibSp, y = train.Fare[train.Fare<150] ,  palette='rainbow', size = 7, linewidth=1,jitter=0.2)","66cab5f8":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\ntrain.Parch.value_counts().plot(x='Parch', kind='bar')\nplt.subplot(1,2,2)\ntest.Parch.value_counts().plot(x='Parch', kind='bar')","3074b39b":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\ntrain['Parch'].hist(bins=40,color='red', alpha=0.7)\nplt.subplot(1,2,2)\ntest['Parch'].hist(bins=40,color='green', alpha=0.7)","92ca569b":"train.groupby(['Parch']).mean()","32e0aa99":"test.groupby(['Parch']).mean()","ccc73ac2":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.distplot(train['Fare'])\nplt.subplot(1,2,2)\nsns.distplot(test['Fare'])","4f3875cc":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.boxplot(train['Fare'], hue=train.Sex)\nplt.subplot(1,2,2)\nsns.boxplot(test['Fare'], hue=test.Sex)","a2d0011a":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.boxplot(train['Fare'][train.Fare<150], hue=train.Sex)\nplt.subplot(1,2,2)\nsns.boxplot(test['Fare'][test.Fare<150], hue=test.Sex)","7a2324fa":"plt.figure(figsize=(20,6))\nplt.subplot(1,2,1)\nsns.barplot(x=train.Fare, y=train.Sex, hue=train.Pclass)\nplt.subplot(1,2,2)\nsns.barplot(x=test.Fare, y=test.Sex, hue=test.Pclass)","c3fc0b4b":"import plotly.express as px\nfig = px.scatter_3d(train, x='Title', y='Fare', z='PassengerId',color='Survived')\nfig.show()","b0a9d34c":"# Fare","fd65e18b":"# Age","f1bd634e":"# Parch","3f40a52e":"# Pclass","d5351385":"# Missing Values","e8f521e0":"# Feature Engineering and EDA","b9c31830":"# Sex","a15b334d":"# Survived","25d1bd45":"# SibSp","05f0fd43":"# PassengerID"}}