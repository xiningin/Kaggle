{"cell_type":{"c3a61611":"code","bb69750b":"code","cd419913":"code","9f41ebc9":"code","b425a928":"code","b65a2499":"code","9b0c19af":"code","ca90c17c":"code","71be130b":"code","ed86021e":"code","739392f9":"code","cb619b1b":"code","e781bdff":"code","c6617a61":"code","7b17f611":"code","e11a337a":"code","7e104817":"code","96d1da11":"code","f7813694":"code","8ea45279":"markdown","39325760":"markdown","785aca5c":"markdown","cce6a919":"markdown","ebde922b":"markdown","cf4dec7b":"markdown","cf8ea94f":"markdown","73c2f286":"markdown","f5d545d6":"markdown","f15eeea1":"markdown"},"source":{"c3a61611":"# matplotlib\u3067\u65e5\u672c\u8a9e\u3092\u6271\u3048\u308b\u3088\u3046\u306b\n!pip install japanize_matplotlib -Uq\n\n# RainCloud Plot(\u6563\u5e03\u56f3\uff0bBoxPlot\uff0bViolin\u3092\u4e00\u3064\u3067\u8868\u793a)\n!pip install ptitprince -Uq\n\n# \u6b20\u640d\u5024\u3092\u53ef\u8996\u5316\n!pip install missingno -Uq\n\n# \u30d9\u30f3\u56f3\u3092\u4f5c\u6210\n!pip install matplotlib-venn -Uq\n\n# \u30ab\u30c6\u30b4\u30ea\u7279\u5fb4\u4f5c\u6210\u7528\n!pip install category_encoders -Uq\n\n!pip install icecream -Uq","bb69750b":"import warnings\nwarnings.simplefilter('ignore')\n\nimport os\nimport gc\ngc.enable()\nimport sys\nimport glob\nimport math\nimport time\nimport random\nimport string\nimport psutil\nimport pathlib\nimport collections\nfrom pathlib import Path\nfrom contextlib import contextmanager\n\nimport numpy as np\nimport pandas as pd\nfrom PIL import Image\nimport matplotlib.pyplot as plt\nfrom matplotlib_venn import venn2\nimport japanize_matplotlib\nimport seaborn as sns\nfrom ptitprince import RainCloud\nimport missingno as msno\n\nfrom tqdm.auto import tqdm as tqdmp\nfrom tqdm.autonotebook import tqdm as tqdm\ntqdmp.pandas()\n\nfrom icecream import ic","cd419913":"INPUT_ROOT = Path.cwd().parent\nROOT = INPUT_ROOT\nROOT.mkdir(exist_ok=True)\n\nINPUT = INPUT_ROOT \/ \"input\"\nOUTPUT = ROOT \/ \"output\"\nDATA = INPUT \/ \"shigglecup-2nd\"\nTRAIN = DATA \/ \"train\"\nTEST = DATA \/ \"test\"\n\n# TMP = ROOT \/ \"tmp\"\n# TMP.mkdir(exist_ok=True)\n\n# RANDAM_SEED = 1086\n# CLASSES = [\"target\",]\n# N_CLASSES = len(CLASSES)\n# FOLDS = [0, 1, 2, 3, 4]\n# N_FOLDS = len(FOLDS)","9f41ebc9":"df_train = pd.read_csv(DATA \/ \"train.csv\")\ndf_test = pd.read_csv(DATA \/ \"test.csv\")\nsmpl_sub = pd.read_csv(DATA \/ \"sample_submission.csv\")\ndf_team_id = pd.read_csv(DATA \/ \"team_id.csv\")\ndf_pokemon = pd.read_csv(DATA \/ \"pokemon.csv\")\ndf_typetable = pd.read_csv(DATA \/ \"typetable.csv\")","b425a928":"ic(df_train.shape)\nic(df_test.shape)\nic(df_team_id.shape)\nic(df_pokemon.shape)\nic(df_typetable.shape)","b65a2499":"df_train.head()","9b0c19af":"df_team_id.head()","ca90c17c":"df_pokemon.head()","71be130b":"df_typetable.head()","ed86021e":"plt.figure(figsize=(8,6))\nvenn2(subsets=[set(df_train[\"first\"].unique())|set(df_train[\"second\"].unique()),\n               set(df_test[\"first\"].unique())|set(df_test[\"second\"].unique())],\n      set_labels=('A:Tran','B:Test'))\nplt.title('team',fontsize=20)","739392f9":"def team_sort(row):\n    # ic(row)\n    sort_t = np.sort([row[\"first\"], row[\"second\"]])\n    return '_'.join(sort_t.astype(str))","cb619b1b":"sort_t_train = df_train.progress_apply(team_sort, axis=1)","e781bdff":"sort_t_test = df_test.progress_apply(team_sort, axis=1)","c6617a61":"plt.figure(figsize=(8,6))\nvenn2(subsets=[set(sort_t_train),\n                set(sort_t_test)],\n      set_labels=('A:Tran','B:Test'))\nplt.title('team',fontsize=20)","7b17f611":"duplicate_teams = list(set(sort_t_train)&set(sort_t_test))\nduplicate_teams[:5]","e11a337a":"for t in duplicate_teams[:10]:\n    print('Train')\n    display(df_train[sort_t_train==t])\n    print('Test')\n    display(df_test[sort_t_test==t])\n    print('='*30)","7e104817":"func_cols = df_team_id.columns[1:]\ndef pokemon_sort(row):\n    sort_t = np.sort(row[func_cols])\n    return '_'.join(sort_t.astype(str))","96d1da11":"sort_pokemons = df_team_id.progress_apply(pokemon_sort, axis=1)","f7813694":"cnt = collections.Counter(sort_pokemons)\ncnt.most_common(10)","8ea45279":"\u3044\u304f\u3064\u304b\u78ba\u8a8d","39325760":"## Read Data","785aca5c":"## \u5bfe\u6226\u30ab\u30fc\u30c9\u306e\u91cd\u8907\u5177\u5408\u3092\u78ba\u8a8d","cce6a919":"#### ","ebde922b":"team_id.csv\u306epokemon_id_1~6\u306f\u3001\u4e26\u3073\u304c\u6607\u9806\u306a\u3069\u3067\u306f\u306a\u304f\u30d0\u30e9\u30d0\u30e9\u306a\u306e\u3067  \n\u4e26\u3079\u65b9\u304c\u9055\u3046\u3060\u3051\u3067\u540c\u3058\u30dd\u30b1\u30e2\u30f3\u7de8\u6210\u306e\u30c1\u30fc\u30e0\u3042\u308b\u306e\u304b\u78ba\u8a8d","cf4dec7b":"# \u6982\u8981\n#### \u5bfe\u6226\u30ab\u30fc\u30c9\u7d44\u5408\u305b\u306e\u91cd\u8907\u5177\u5408\u3092\u78ba\u8a8d\u3057\u3066\u307f\u308b","cf8ea94f":"## \u4ed8\u9332\uff1ateam\u7de8\u6210\u306e\u91cd\u8907\u78ba\u8a8d","73c2f286":"Host\u304cData\u8aac\u660e\u6642\u306b\n>\u540c\u3058\u30c1\u30fc\u30e0\u3092\u4f7f\u3063\u3066\u3044\u308b\u3068\u3057\u3066\u3082\u4f7f\u7528\u30c8\u30ec\u30fc\u30ca\u30fc\u306b\u3088\u3063\u3066\u52dd\u6557\u304c\u7570\u306a\u308b\u5834\u5408\u3082\u3042\u308a\u307e\u3059\u3002  \n\n\u3068\u89e6\u308c\u3066\u3044\u308b\u3053\u3068\u3082\u8003\u3048\u308b\u3068\u3001\u8907\u6570\u30c8\u30ec\u30fc\u30ca\u30fc\u304c\u540c\u3058\u30dd\u30b1\u30e2\u30f3\u4e26\u3073\u3067\u4f7f\u3063\u3066\u3044\u308b\u3068\u306f\u8003\u3048\u306b\u304f\u3044\u3002  \n\u4e26\u3073\u304c\u7570\u306a\u3063\u3066\u3044\u3066\u3082\u540c\u3058\u30c1\u30fc\u30e0\u3068\u3057\u3066\u6271\u308f\u308c\u3066\u3044\u308b\uff1f","f5d545d6":"\u5bfe\u6226\u30ab\u30fc\u30c9\u306e25%\u306f\u5171\u901a\u3057\u3066\u3044\u305d\u3046\uff1f","f15eeea1":"## \u30b7\u30f3\u30d7\u30eb\u306bteam\u306e\u91cd\u8907\u5177\u5408\u3092\u78ba\u8a8d"}}