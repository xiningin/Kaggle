{"cell_type":{"aa0f7333":"code","71cd6542":"code","3f9cc882":"code","c978ac9f":"code","a632eb75":"code","74a29c91":"code","3dbefbf7":"code","2cece333":"code","160626db":"code","21b956b5":"code","1717e8ab":"code","ea486a17":"code","60270aae":"code","52a8ab27":"code","66b45e5a":"code","93c7d84d":"code","ce9fbd37":"code","a16d39e4":"code","c2cc7237":"code","63a953b9":"code","3430141c":"code","56fffeac":"code","79a697f6":"code","588abecf":"code","17e2b4f5":"code","d7ad4bc9":"code","7fb742a3":"code","cd9dc62e":"code","400a4502":"code","5e5b0a8a":"code","8251abe9":"code","51441f33":"code","1756cbfd":"code","0881441e":"code","0138f9fd":"code","b65e97fb":"code","d927dae7":"code","4b436c97":"markdown","5edf7fe9":"markdown","198919d6":"markdown","59a6f652":"markdown","93523881":"markdown","0b007071":"markdown","e84eac0a":"markdown","82bd0f88":"markdown"},"source":{"aa0f7333":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","71cd6542":"data_train = pd.read_csv('..\/input\/iba-ml1-mid-project\/train.csv')","3f9cc882":"data_test = pd.read_csv('..\/input\/iba-ml1-mid-project\/test.csv')","c978ac9f":"data_train.head(20)","a632eb75":"data_test.head(20)","74a29c91":"data_train.columns","3dbefbf7":"data_test.columns","2cece333":"data_train.describe()","160626db":"data_test.describe()","21b956b5":"data_train.dtypes","1717e8ab":"data_test.dtypes","ea486a17":"data_train.info()","60270aae":"data_test.info()","52a8ab27":"data_test['credit_line_utilization'].head(30)","66b45e5a":"data_train['credit_line_utilization'].replace(',','.',regex=True, inplace=True)","93c7d84d":"data_train[\"credit_line_utilization\"] = pd.to_numeric(data_train[\"credit_line_utilization\"])","ce9fbd37":"data_test['credit_line_utilization'].replace(',','.',regex=True, inplace=True)\ndata_test[\"credit_line_utilization\"] = pd.to_numeric(data_test[\"credit_line_utilization\"])","a16d39e4":"data_train.drop(labels='Id', axis=1, inplace=True)","c2cc7237":"columns_d=data_train.columns","63a953b9":"data_train.hist(columns_d, figsize=(30,20))","3430141c":"for col in columns_d:\n    missing = np.mean(data_train[col].isna())\n    if missing:\n        print('{} - {}%'.format(col, round(missing*100)))","56fffeac":"plt.figure(figsize=(10, 10))\nsns.heatmap(data_train.isnull(), cmap=\"Blues\")","79a697f6":"data_train['defaulted_on_loan'].describe()","588abecf":"pd.value_counts(data_train['defaulted_on_loan']).plot.bar()\nplt.title('Frequency of defaulted on loan')\nplt.xlabel('Class')\nplt.ylabel('Frequency')\ndata_train['defaulted_on_loan'].value_counts()","17e2b4f5":"corr_with_TARGET = data_train.corr().iloc[:-1, -1].sort_values(ascending=False)\ncorr_with_TARGET","d7ad4bc9":"sns.set(font_scale=1)\nplt.figure(figsize=(10, 10))\nsns.barplot(x=corr_with_TARGET.values, y=corr_with_TARGET.index)\nplt.title('Correlation with target variable => defaulted_on_loan')","7fb742a3":"plt.figure(figsize = (15,15))\nsns.heatmap(data_train.corr(), annot = True, vmax = 1, vmin = -1, square = True)","cd9dc62e":"data_train.drop(data_train.index[data_train['ratio_debt_payment_to_income']>2.5], inplace = True)\ndata_train.drop(data_train.index[data_train['number_dependent_family_members']>7], inplace = True)\ndata_train.drop(data_train.index[data_train['number_of_credit_lines']>30], inplace = True)\ndata_train.drop(data_train.index[data_train['real_estate_loans']>7], inplace = True)\ndata_train.drop(data_train.index[data_train['monthly_income']>25000], inplace = True)\ndata_train.drop(data_train.index[data_train['credit_line_utilization']>3], inplace = True)\ndata_train.drop(data_train.index[data_train['number_of_previous_late_payments_up_to_59_days']>7], inplace = True)\ndata_train.drop(data_train.index[data_train['number_of_previous_late_payments_up_to_89_days']>5], inplace = True)\ndata_train.drop(data_train.index[data_train['number_of_previous_late_payments_90_days_or_more']>5], inplace = True)","400a4502":"data_train.hist(columns_d, figsize=(30,20))","5e5b0a8a":"corr_with_TARGET = data_train.corr().iloc[:-1, -1].sort_values(ascending=False)\ncorr_with_TARGET","8251abe9":"sns.set(font_scale=1)\nplt.figure(figsize=(10, 10))\nsns.barplot(x=corr_with_TARGET.values, y=corr_with_TARGET.index)\nplt.title('Correlation with target variable => defaulted_on_loan')","51441f33":"plt.figure(figsize = (15,15))\nsns.heatmap(data_train.corr(), annot = True, vmax = 1, vmin = -1, square = True)","1756cbfd":"data_test.drop(labels='Id', axis=1, inplace=True)","0881441e":"columns_t=data_test.columns","0138f9fd":"data_test.hist(columns_t, figsize=(30,20))","b65e97fb":"for col in columns_t:\n    missing = np.mean(data_test[col].isna())\n    if missing:\n        print('{} - {}%'.format(col, round(missing*100)))","d927dae7":"plt.figure(figsize=(15, 15))\nsns.heatmap(data_test.isnull(), cmap=\"Blues\")","4b436c97":"### As it can be sen from the diagram, we have here imbalanced target.","5edf7fe9":"### As outliers affect the visualization part, it is better to remove them from test data.","198919d6":"## Test data","59a6f652":"### As it is seen from barplot and heatmap, number of days for previous late payments play an essential role for predicting target variable.","93523881":"******************************************************************************************************************************","0b007071":"### The type of 'credit_line_utilization' column is object, it should be converted to float64.","e84eac0a":"## Train data\n### There is no use of 'Id' for the visualization part, it can be removed.","82bd0f88":"### Correlation between columns and target variable is shown below."}}