{"cell_type":{"53838d11":"code","22f4a736":"code","53bcc1ee":"code","8e6bda62":"code","17ce7528":"code","1814040b":"code","1f8c0c87":"code","91360e27":"code","cc0a0a92":"code","d732cca7":"code","3d1224dd":"code","ecd0a3e0":"code","542851c7":"code","d3a8912b":"code","42fbfd06":"markdown","697a1971":"markdown"},"source":{"53838d11":"#import libraries\n\nimport warnings\nimport datetime\nimport itertools\nimport numpy as np\nimport matplotlib.pyplot as plt\nwarnings.filterwarnings(\"ignore\")\nplt.style.use('fivethirtyeight')\nimport pandas as pd\nimport statsmodels.api as sm\nimport matplotlib\nmatplotlib.rcParams['axes.labelsize'] = 14\nmatplotlib.rcParams['xtick.labelsize'] = 12\nmatplotlib.rcParams['ytick.labelsize'] = 12\nmatplotlib.rcParams['text.color'] = 'k'","22f4a736":"#Get the files in the directory \nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","53bcc1ee":"data = pd.read_csv('\/kaggle\/input\/sea-level-change\/sea_levels_2015.csv')\ndata.shape","8e6bda62":"data.head()","17ce7528":"#check for the null values\ndata.isnull().sum()","1814040b":"#formatting the date column correctly\ndata.Time=data.Time.apply(lambda x:datetime.datetime.strptime(x, '%Y-%m-%d'))\n# check\nprint(data.info())","1f8c0c87":"data.head()","91360e27":"ts=data.groupby([\"GMSL\"])[\"GMSL\"].sum()\nts.astype('float')\nplt.figure(figsize=(14,8))\nplt.title('Global Average Absolute Sea Level Change')\nplt.xlabel('Time')\nplt.ylabel('Sea Level Change')\nplt.plot(ts);","cc0a0a92":"plt.figure(figsize=(14,6))\nplt.plot(ts.rolling(window=12,center=False).mean(),label='Rolling Mean');\nplt.plot(ts.rolling(window=12,center=False).std(),label='Rolling Deviation');\nplt.legend();","d732cca7":"# Additive model\nres = sm.tsa.seasonal_decompose(ts.values,freq=12,model=\"additive\")\n#plt.figure(figsize=(16,12))\nfig = res.plot()\n#fig.show()","3d1224dd":"import statsmodels.api as sm\nimport warnings\nwarnings.filterwarnings(\"ignore\")\nmod = sm.tsa.statespace.SARIMAX(ts.values,\n                                order = (2, 0, 4),\n                                seasonal_order = (3, 1, 2, 12),\n                                enforce_stationarity = False,\n                                enforce_invertibility = False)\nresults = mod.fit()\nresults.plot_diagnostics(figsize=(14,12))\nplt.show()","ecd0a3e0":"from fbprophet import Prophet\n\nts = data.rename(columns={'Time':'ds', 'GMSL':'y','GMSL uncertainty':'yhat'})\n\nts.columns=['ds','y','yhat']\nmodel1 = Prophet( yearly_seasonality=True) \nmodel1.fit(ts)","542851c7":"# predict for 1 year in the furure and MS - month start is the frequency\nfuture = model1.make_future_dataframe(periods = 12, freq = 'MS')  \n# now lets make the forecasts\nforecast = model1.predict(future)\nforecast[['ds', 'yhat', 'yhat_lower', 'yhat_upper']].tail()","d3a8912b":"model1.plot(forecast)","42fbfd06":"# This notebook analyzes the Global Average Absolute Sea Level Change from year 1880-2014. ","697a1971":"Reference: https:\/\/www.kaggle.com\/jagangupta\/time-series-basics-exploring-traditional-ts"}}