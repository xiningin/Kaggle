{"cell_type":{"c880d3d2":"code","bea043a6":"code","5ebef19a":"code","bdbc575d":"code","520d8680":"code","7a77a23c":"code","aaf66d42":"code","ef4df5c3":"code","0aa1b260":"code","ee266057":"code","61834aa6":"code","1ec848a7":"code","33ccea30":"code","fc7d754b":"code","b102dabb":"code","6f40da31":"code","8d10fd7d":"code","ee3ac457":"code","eb72ee31":"code","06b057fe":"code","776afcd5":"code","17609616":"code","f70f1bdf":"markdown","d56dfb48":"markdown","fd7cae6b":"markdown","c162c1f4":"markdown","1c2de052":"markdown","4d72d26c":"markdown","b5ed65f3":"markdown","66163af0":"markdown","f628b67a":"markdown","2123a70a":"markdown","51e6e38f":"markdown","2e89e032":"markdown"},"source":{"c880d3d2":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","bea043a6":"import numpy as np \nimport pandas as pd \nimport seaborn as sns\nimport matplotlib.pyplot as plt\nsns.set_theme(style=\"ticks\", color_codes=True)","5ebef19a":"df = pd.read_csv(\"\/kaggle\/input\/the-most-expensive-football-transfers\/football_players.csv\")","bdbc575d":"df.head(2)","520d8680":"df.info()","7a77a23c":"df.isna().sum()","aaf66d42":"# Description of transfer fees\ndf[['Fee(\u20ac mln)']].describe().T","ef4df5c3":"ax = sns.catplot(x=\"From(Club)\", y=\"Fee(\u20ac mln)\", kind=\"box\", data=df , height=8, aspect=15\/8)\nplt.xticks(rotation=45)","0aa1b260":"year_df = df.groupby('Year')['Origin'].count().reset_index().sort_values(by='Origin' , ascending = False)\nyear_df.columns = ['Year of transfer' , 'Total players']","ee266057":"plt.figure(figsize=(18,15))\np = sns.barplot(x='Year of transfer',y='Total players',data=year_df)\np.set( xlabel = \"Year of Transfer\", ylabel = \"# Player transfer\")\np.set_title(\"Total transfers in a year\")","61834aa6":"postional_df = df.groupby(['Position'])['Fee(\u20ac mln)'].mean().reset_index().sort_values(by='Fee(\u20ac mln)' , ascending = False)\npie, ax = plt.subplots(figsize=[10,6])\nlabels = postional_df['Position']\nplt.pie(x=postional_df['Fee(\u20ac mln)'], autopct=\"%.1f%%\", explode=[0.025]*5, labels=labels, pctdistance=0.5)\nplt.title(\"Transfer fee (breakdown by position)\", fontsize=14);","1ec848a7":"years = df.groupby('Year')['Fee(\u20ac mln)'].max().reset_index().sort_values(by='Fee(\u20ac mln)' , ascending = False)\nplt.figure(figsize=(18,15))\np = sns.barplot(x='Year',y='Fee(\u20ac mln)',data=years)\np.set( xlabel = \"Year of Transfer\", ylabel = \"money\")\np.set_title(\"Maximum Transfer amount by years\")","33ccea30":"country = df.groupby('Origin', as_index=False,sort=True)['Fee(\u20ac mln)'].sum()\ncountry = country.sort_values('Fee(\u20ac mln)', ascending=False)\ncountry.head()","fc7d754b":"country = country[0:5]\nplt.figure(figsize=(18,15))\np = sns.barplot(x='Origin',y='Fee(\u20ac mln)',data=country)\np.set( xlabel = \"Name of the Country\", ylabel = \"sum of money\")\np.set_title(\"top 5 countries where the most expensive players come from\")","b102dabb":"transfer_out = df.groupby(['From(Club)' , 'Year'])['Fee(\u20ac mln)'].sum().reset_index().sort_values(by='Fee(\u20ac mln)' , ascending = False)\ntransfer_in = df.groupby(['To(Club)' , 'Year'])['Fee(\u20ac mln)'].sum().reset_index().sort_values(by='Fee(\u20ac mln)' , ascending = False)","6f40da31":"sns.catplot(x=\"From(Club)\", y=\"Fee(\u20ac mln)\", kind=\"bar\", data=transfer_out, height=8, aspect=15\/8)\nplt.xticks(rotation=45)","8d10fd7d":"sns.catplot(x=\"To(Club)\", y=\"Fee(\u20ac mln)\", kind=\"bar\", data=transfer_in, height=8, aspect=15\/8)\nplt.xticks(rotation=45)","ee3ac457":"balance_df = pd.DataFrame(columns = ['clubs','transfer_in' , 'transfer_out' , 'balance'])","eb72ee31":"club_list = []\nfor each in list(df['From(Club)'].unique()):\n    club_list.append(each)\nfor each in list(df['To(Club)'].unique()):\n    club_list.append(each)\nclubs = list(set(club_list))","06b057fe":"balance_df['clubs'] = clubs\nfor i  in range(balance_df.shape[0]):\n    balance_df.loc[i , 'transfer_out']  = df[df['From(Club)']==clubs[i]]['Fee(\u20ac mln)'].sum()\n    balance_df.loc[i , 'transfer_in']  = df[df['To(Club)']==clubs[i]]['Fee(\u20ac mln)'].sum()\nbalance_df['balance'] = balance_df['transfer_out'] - balance_df['transfer_in']\nbalance_df.sort_values(by = 'balance' , ascending = False, inplace = True)","776afcd5":"ftbl3 = balance_df[0:5]\nplt.figure(figsize=(18,15))\nsns.set_style('darkgrid')\np = sns.barplot(x='clubs',y='balance',data=ftbl3)\np.set( xlabel = \"Clubs\", ylabel = \"sum of money\")\np.set_title(\"top 5 clubs which are profitable in transfers\")","17609616":"ftbl3 = balance_df.tail()\nftbl3['balance'] = ftbl3['balance'].abs()\nplt.figure(figsize=(18,15))\nsns.set_style('darkgrid')\np = sns.barplot(x='clubs',y='balance',data=ftbl3)\np.set( xlabel = \"Clubs\", ylabel = \"sum of money\")\np.set_title(\"top 5 clubs highest spenders\")","f70f1bdf":"## Transfers out of the club","d56dfb48":"# Profits of clubs based on Transfers","fd7cae6b":"# Clubs ranked on basis of transfer revenues","c162c1f4":"# Transfer fees by position (Average)","1c2de052":"# Club performance by transfers in and transfers out","4d72d26c":"## Top five clubs which has spent highest on buying players","b5ed65f3":"# Total Transfers in a year","66163af0":"# Check if null values are present or not","f628b67a":"# Top five countries with most expensive players","2123a70a":"## Top five clubs with profitable transfers","51e6e38f":"## Transfers to the club","2e89e032":"# Maximum Transfer fee over various years"}}