{"cell_type":{"611acb67":"code","28ded51a":"code","787ac500":"code","e5284ad9":"code","90e14ddd":"code","7a0882c3":"code","9f625822":"code","88e088c0":"code","e5f21b2c":"code","6d78006d":"code","9aad9ced":"code","7593b87f":"code","5d9bec79":"code","dbae996a":"markdown","8d607a0e":"markdown","91adb4cc":"markdown","fa8250c4":"markdown","fe7eca80":"markdown","69ffe283":"markdown","94bf392d":"markdown","6620fccb":"markdown","9530bf53":"markdown","b1cca9a1":"markdown","fca0f8a1":"markdown","59c21cc6":"markdown"},"source":{"611acb67":"try:\n    import yfinance as yf    # import  Yahoo! Finance\nexcept:\n    !pip install yfinance    # install Yahoo! Finance\n    import yfinance as yf    # import  Yahoo! Finance\n\ntry:\n    from bs4 import BeautifulSoup    # import  BeatifulSoup\nexcept:\n    !pip install bs4    # install BeatifulSoup\n    from bs4 import BeautifulSoup    # import  BeatifulSoup\n\nimport pandas as pd\nimport requests\nimport matplotlib.pyplot as plt\nimport numpy as np","28ded51a":"url = 'https:\/\/en.wikipedia.org\/wiki\/S%26P_500_Dividend_Aristocrats'\nhtml = requests.get(url).content\ndf_list = pd.read_html(html)\nstocks = df_list[-1]","787ac500":"tickers = stocks['Ticker symbol']\n#replacing \".\" by \"-\" to change the stock name from BF.B to BF-B\ntickers = tickers.str.replace('.','-', regex = False)","e5284ad9":"pd.DataFrame(yf.Ticker('AMCR').dividends) ","90e14ddd":"yf_div = pd.DataFrame()   # initialize dataframe\n\nfor i in tickers:\n    x = pd.DataFrame(yf.Ticker(i).dividends) \n    x.index = x.index.year\n    x = x.rename(columns={\"Dividends\":i})\n    x = round(x.groupby(x.index).sum(),2)\n    x = x.T\n    yf_div = yf_div.append(x)\n\n    \nyf_div","7a0882c3":"plt.figure(figsize=(20,8))\nplt.plot(yf_div.T[:-1]) #removing the last year because the actual year won't have all the dividends yet","9f625822":"url = 'https:\/\/www.macrotrends.net\/countries\/USA\/united-states\/inflation-rate-cpi'\nhtml = requests.get(url).content\ndf_list = pd.read_html(html)\ninflation = df_list[1].droplevel(level=0, axis=1)\ninflation","88e088c0":"inflation['Inflation Rate (%)'] = inflation['Inflation Rate (%)'].str.rstrip('%').astype('float') \/ 100.0\ninflation","e5f21b2c":"inflation.rename(columns = {'Inflation Rate (%)': 'Inflation Rate'}, inplace = True)","6d78006d":"inflation['Cumulative Inflation Rate'] = np.cumprod(inflation['Inflation Rate']+1) #+1 to keep the original value pluz the inflation rate\nplt.plot(inflation['Year'],inflation['Cumulative Inflation Rate'])","9aad9ced":"yf_div_adj = yf_div #creating a new df to be adjusted\n\nfor count, cumulated_inflation in enumerate(reversed(inflation['Cumulative Inflation Rate'][:-2])): #[-2]the dividends started in 1962\n    yf_div_adj.iloc[:,count]*cumulated_inflation","7593b87f":"plt.figure(figsize=(20,8))\nplt.plot(yf_div_adj.T[:-1]) #removing the last year because the actual year won't have all the dividends yet","5d9bec79":"yf_div_adj.T[:-1].plot(kind='line', subplots=True,\n        layout=(65, 1), figsize=(15,100), style = 'b')\nfor ax in plt.gcf().axes:\n    ax.legend(loc=2)\nplt.show()","dbae996a":"Most of the code in the block below was borrowed from [here](https:\/\/www.kaggle.com\/asimislam\/stock-performance-with-yahoo-finance-yfinance#parameters)","8d607a0e":"Each dollar in 1960 had the acquisitive power of U$8,87 in 2021.<p>Now let's get all the dividends adjusted by inflation.","91adb4cc":"This is a analysis of dividend aristocrats stocks.<p>In this notebook, I will extract dividend history and other important information from all the 65 stocks avaliable at https:\/\/en.wikipedia.org\/wiki\/S%26P_500_Dividend_Aristocrats.<p>Using the information extracted, I will evaluate wich are the best companies for a retirement portifolio based on their hability to increase their dividends over time and actual prices at the stock market.","fa8250c4":"Still messy, but now we have a more correct evolution of dividends<p>Let's check stock by stock the adjusted evolution of dividends.","fe7eca80":"Now it's necessary to change the inflation rate column type from string to float","69ffe283":"Now that we have a list of all the dividends paid by the aristocrats stocks, we want to know about the dividend increase throughout the years.<p>Lets plot a graph of dividends x years to get a look at how they go.","94bf392d":"It's a little bit messy, but we won't use this information for now, first we need to make some adjustments. All we need to know is that preety much all of them increased their dividends along the years.<p>Since we are calculating dividends over a long period of time, it's important to consider the impact of inflation to correct these values. Let's get the inflation rate from here: https:\/\/www.macrotrends.net\/countries\/USA\/united-states\/inflation-rate-cpi","6620fccb":"# Dividend Aristocrats analysis","9530bf53":"Now that the inflation rate is not in percentage, the column name must be corrected","b1cca9a1":"Now we can see how the dividends increased along the years adjusted the inflation","fca0f8a1":"The next step is to calculate the cumulative inflation rate in every year and bring to today","59c21cc6":"Getting all the 65 aristocrat stocks"}}