{"cell_type":{"c99fb5ea":"code","5ac7840e":"code","60be0950":"code","a2146602":"code","10a4f127":"code","64c0b756":"code","99a8b5dc":"code","6df57729":"code","78de3ff9":"markdown","b26b29d3":"markdown","6c97c4fe":"markdown","5e615d8d":"markdown","30294698":"markdown","533bbce2":"markdown","3869c767":"markdown"},"source":{"c99fb5ea":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nimport matplotlib.pylab as plt\nimport plotly\nimport plotly.plotly as py\nimport plotly.graph_objs as go\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\nplt.style.use('ggplot')\ncolor_pal = [x['color'] for x in plt.rcParams['axes.prop_cycle']]\n\n# Format the data\ndf = pd.read_csv('..\/input\/instant-gratification-leaderboard\/instant-gratification-publicleaderboard_06_20_2019.csv')\ndf['SubmissionDate'] = pd.to_datetime(df['SubmissionDate'])\ndf = df.set_index(['TeamName','SubmissionDate'])['Score'].unstack(-1).T\ndf.columns = [name for name in df.columns]","5ac7840e":"FIFTEENTH_SCORE = df.max().sort_values(ascending=False)[15]\nFIFTYTH_SCORE = df.max().sort_values(ascending=False)[50]\nTOP_SCORE = df.max().sort_values(ascending=False)[0]","60be0950":"# Interative Plotly\ninit_notebook_mode(connected=True)\nTOP_TEAMS = df.min().loc[df.max() > FIFTEENTH_SCORE].index.values\ndf_filtered = df[TOP_TEAMS].ffill()\ndf_filtered = df_filtered.iloc[df_filtered.index > '05-22-2019']\n# Create a trace\ndata = []\nfor col in df_filtered.columns:\n    data.append(go.Scatter(\n                        x = df_filtered.index,\n                        y = df_filtered[col],\n                        name=col)\n               )\nlayout = go.Layout(yaxis=dict(range=[0.958, TOP_SCORE+0.0001]))\nfig = go.Figure(data=data, layout=layout)\niplot(fig)","a2146602":"# Interative Plotly\ninit_notebook_mode(connected=True)\nTOP_TEAMS = df.min().loc[df.max() > FIFTEENTH_SCORE].index.values\ndf_filtered = df[TOP_TEAMS].ffill()\ndf_filtered = df_filtered.iloc[df_filtered.index > '06-3-2019']\n# Create a trace\ndata = []\nfor col in df_filtered.columns:\n    data.append(go.Scatter(\n                        x = df_filtered.index,\n                        y = df_filtered[col],\n                        name=col)\n               )\nlayout = go.Layout(yaxis=dict(range=[0.9746, TOP_SCORE+0.0001]))\nfig = go.Figure(data=data, layout=layout)\niplot(fig)","10a4f127":"# Scores of top teams over time\nALL_TEAMS = [x for x in df.columns.values if x != 'nan']\ndf[ALL_TEAMS].ffill().plot(figsize=(20, 10),\n                           color=color_pal[0],\n                           legend=False,\n                           alpha=0.05,\n                           ylim=(0.94,TOP_SCORE+0.001),\n                           title='All Teams Public LB Scores over Time')\ndf.ffill().max(axis=1).plot(color=color_pal[1], label='1st Place Public LB', legend=True)\nplt.show()","64c0b756":"# Create Top Teams List\nTOP_TEAMS = df.max().loc[df.max() > FIFTYTH_SCORE].index.values\ndf[TOP_TEAMS].max().sort_values().plot(kind='barh',\n                                       xlim=(FIFTYTH_SCORE-0.0001,TOP_SCORE+0.0001),\n                                       title='Top 50 Public LB Teams',\n                                       figsize=(12, 15),\n                                       color=color_pal[3])\nplt.show()","99a8b5dc":"df[TOP_TEAMS].nunique().sort_values().plot(kind='barh',\n                                           figsize=(12, 15),\n                                           color=color_pal[1],\n                                           title='Count of Submissions improving LB score by Team')\nplt.show()","6df57729":"ax =df.ffill() \\\n    .count(axis=1) \\\n    .plot(figsize=(20, 8),\n          title='Number of Teams in the Competition by Date',\n         color=color_pal[5], lw=5)\nax.set_ylabel('Number of Teams')\nplt.show()","78de3ff9":"# Public LB Scores of Top Teams over time","b26b29d3":"# A look at the public LB standings over time.\nThis is a fun kernel to show the progress of teams on the public leaderboard during the competition. I will try my best to update this kernel frequently with the latest standings.\n\n**Last updated Jun 20, 2019**","6c97c4fe":"# Closer look at the top","5e615d8d":"# Number of teams by date","30294698":"# Count of LB Submissions that improved score\n\nThis is the count of times the person submitted and got the fun \"You're score improved\" notification. This is not the total submission count.","533bbce2":"# All competitors LB Position over Time","3869c767":"# Top LB Scores"}}