{"cell_type":{"a03ea435":"code","27430433":"code","fa8a368d":"code","2a04cb39":"code","707d4411":"code","c1e86013":"code","fbfc94e5":"code","14ce01ca":"code","e6e20dd1":"code","74211add":"code","95cc5973":"code","08babd43":"code","39ad3796":"code","67827afd":"code","a7414e8c":"code","28880403":"code","423cbfc7":"code","18dcd941":"code","1ea20bcc":"code","4c952c5e":"code","6464e36b":"code","a98e622d":"code","7d736f31":"code","11767943":"code","fed53f2b":"code","ab481f96":"code","89616d37":"code","bc078ce2":"code","27b9cfb2":"code","85e6bf1b":"code","696250ea":"code","e47959bd":"code","c75015f8":"code","fa7a36d3":"code","6b942251":"code","379d0d48":"code","513afb1f":"code","47b01117":"code","5d9fb5a6":"code","13c4c79f":"code","542ba7b3":"code","a5c1146c":"code","d93fb9a0":"code","5cdb41b9":"code","dbf29a4b":"code","de8192e0":"markdown","aa6276ff":"markdown","32ab7ad0":"markdown","2c747495":"markdown","9b9bf6bc":"markdown","bb92d155":"markdown","f7510771":"markdown","a8f257b5":"markdown","0e859712":"markdown","fdf56dc5":"markdown","60634656":"markdown","62a91af7":"markdown","30c2e441":"markdown","1f80638e":"markdown","8b851616":"markdown","83a718e2":"markdown","827808e5":"markdown","172b7aea":"markdown","851d20ef":"markdown","30157420":"markdown","5cdeaef1":"markdown","1afd684f":"markdown","4f175840":"markdown","0362e44a":"markdown","fb26c34a":"markdown","61866faa":"markdown","7b70eb6f":"markdown","12f27e58":"markdown","33bdc3a9":"markdown","8c193fa8":"markdown"},"source":{"a03ea435":"%autosave 10\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport scipy.stats as st\n\n        \n%matplotlib inline","27430433":"filename = \"\/kaggle\/input\/videogamesales\/vgsales.csv\"\ndf = pd.read_csv(filename)","fa8a368d":"df.head()","2a04cb39":"df.info()","707d4411":"df.shape","c1e86013":"nullvalues_percentage = df.isna().sum()*100 \/ df.shape[0]\nnullvalues_percentage","fbfc94e5":"df.dropna(inplace = True)","14ce01ca":"nullvalues_percentage = df.isna().sum()*100 \/ df.shape[0]\nnullvalues_percentage","e6e20dd1":"# Uncomment the below line and install jupyterthemes. \n#!pip install jupyterthemes","74211add":"# To show all available theme\n!jt -l","95cc5973":"# To apply a theme  #do not forget to uncomment\n\n#!jt -t chesterish","08babd43":"# To go back to the default theme \n\n#!jt -r","39ad3796":"df.dtypes","67827afd":"convert = {'Year':int}\n\ndf = df.astype(convert)","a7414e8c":"df.head(2)","28880403":"df['Year'].value_counts().sort_values(ascending = True).head()","423cbfc7":"# Dropping rows with the year 2017 and 2020\ndrop = df.drop(df[(df['Year'] == 2017) | (df['Year'] == 2020)].index, inplace= True)","18dcd941":"df['Genre'].unique()","1ea20bcc":"# Figure style\nplt.figure(figsize=[11,5], dpi= 95)\nsns.set_style(style= 'whitegrid')\n\n# Plot\nsns.countplot(x=df['Genre'])\n\n# Axis and title label\nplt.xlabel('Genre',fontsize=12, color='black')\nplt.ylabel('Count',fontsize=12, color='black')\nplt.title('The Number of Games by Genre', fontsize= 15, color= 'blue')\n\nplt.tight_layout()","4c952c5e":"plt.figure(figsize=[11,4], dpi= 95)\n\nsns.countplot(x=df['Year'], palette='viridis', order= df['Year'].value_counts().index)\n\nplt.xticks(rotation = 90)\nplt.title('Number of Produced Games in Each Year', fontsize= 15, color= 'blue')","6464e36b":"plt.figure(figsize=[14,4], dpi= 95)\n\nsns.countplot(x='Year',data=df, hue= 'Genre', palette=\"dark\")\n\nplt.xticks(rotation=90)","a98e622d":"plt.figure(figsize=[14,5], dpi= 95)\n\nsns.countplot(x='Year',data=df, hue= 'Genre', palette=\"dark\", order= df['Year'].value_counts().head().index, \n              hue_order=df['Genre'].value_counts().index)\n\n# Axis label\nplt.xlabel('Year',fontsize=12, color='black')\nplt.ylabel('Count',fontsize=12, color='black')\n\n# Axis ticks\nplt.xticks(fontsize=12)\nplt.yticks(fontsize=12)\n\n# Title\nplt.title('Number of Released Games by Genre in Each Year', fontsize= 15, color= 'blue')\n\n# Legend\nplt.legend(bbox_to_anchor=(1, 1), loc=2, borderaxespad=0, fontsize= 'x-large')","7d736f31":"# Number of entries for each genre to find out the number of games\ngenre_count_by_year = df.groupby(by= ['Year','Genre']).count()\n\n# Unstack method\ngenre_count_by_year = genre_count_by_year['Rank'].unstack()\ngenre_count_by_year.head(3)","11767943":"# Replacing the NaN values with 0\ngenre_count_by_year.fillna(0, inplace= True)\n\n# Dropping the rows of between year 1980 to 1999 inclusive\ngenre_count_by_year.drop(range(1980, 1995), axis= 0, inplace= True)","fed53f2b":"genre_count_by_year.head(2)","ab481f96":"# Evolution of Action games only\n# Figure style\nsns.set_style('darkgrid')\nfig_dpi=90\nplt.figure(figsize=(14,6), dpi=fig_dpi)\n\n# Line plot\nfor column in genre_count_by_year.drop('Action', axis=1):\n    plt.plot(genre_count_by_year[column], marker= '', color= 'grey', linewidth=1, alpha=0.4)\n    \n# The highlighted plot with specific genre\nplt.plot(genre_count_by_year['Action'], marker= '', color= 'green', linewidth=4, alpha=0.7)\n\n# Increasing the xlimit as we need to add annotation\nplt.xlim(1994,2019)\n\n# Adding annotation\nplt.text(2016.5, genre_count_by_year.Action.tail(1), 'Action', horizontalalignment='left', size='large', color='green')\n\n# Titles and axis label\nplt.title(\"Evolution of Action games VS others\", loc='left', fontsize=12, fontweight=0, color='green')\nplt.xlabel(\"Year\")\nplt.ylabel(\"Number of Games\")","89616d37":"# Evolution of one game vs others\n# Figure style\nplt.style.use('seaborn-darkgrid')\nmy_dpi=96\nplt.figure(figsize=(1000\/my_dpi, 900\/my_dpi), dpi=my_dpi)\n\n# Color palette\npalette = plt.get_cmap('tab10')\n\n# Line plot\nnum = 0\nfor column in genre_count_by_year:\n    num += 1\n    \n#     if num==10:\n#         break\n    \n    plt.subplot(4,3, num)\n    \n    # Generating all lineplot\n    for item in genre_count_by_year.drop(column, axis= 1):\n        plt.plot(genre_count_by_year[item], marker='', color='grey', linewidth=1.2, alpha=0.3)\n    \n    # Line plot for the expeceted one\n    plt.plot(genre_count_by_year[column], marker='', color= palette(num), linewidth=2.4, alpha=0.9, label=column)\n    \n    # x-axis limit for subplot\n    plt.xlim(1994,2017)\n    \n    # Sub plot title\n    plt.title(column, loc='left', fontsize=12, fontweight=0, color= palette(num))\n    \n    # Axis label for the figure\n    if column == 'Sports':\n        plt.xlabel('Year(1995-2016)', fontsize= 15)\n    if column == 'Misc':\n        plt.ylabel('Number of Games', fontsize= 15)\n    \n    \n# Figure title    \nplt.suptitle(' Evolution of Each Genre Compare to Others ', fontsize=15, fontweight=0, color='blue', y= 1.03)\n\n\nplt.tight_layout()","bc078ce2":"publisher = df['Publisher'].value_counts().sort_values(ascending= False)[:10]\npublisher","27b9cfb2":"# we need this to add text in the graph\nx = list(publisher)\ny = list(publisher.index)\n\n#plotting figure\nplt.figure(figsize= [15,5])\nfig = publisher.plot(kind='bar', color = 'green')\n\n# labeling the bar\nstyle = dict(ha= 'center', size= 13, color = 'black')\n\nx_position = 0\nfor i in range(0,len(x)):\n    fig.text(x_position, x[i]+2, str(x[i]), **style)\n    x_position += 1\n\n# Styling axis\nplt.ylabel('Count',fontsize=14, color='black')\nplt.xticks(fontsize=13)\nplt.yticks(fontsize=13)\n\n# Title\nplt.title('Top Ten Publisher in Number of Produced Games', fontsize= 15, color= 'blue')","85e6bf1b":"# Index of publisher dataframe\ntop_ten_publisher = list(publisher.index)\nprint(top_ten_publisher)","696250ea":"# Creating a Dataset\ng_1 = df.groupby(by = ['Publisher','Genre'])\n\n# Dictionary to make another dataframe\ndic = {'Publisher':[],'Genre':[], 'Count':[]}\n\nfor item in top_ten_publisher:\n    sub_publisher = g_1.count().loc[item,'Year'].sort_values(ascending = False).head(3)\n    dic['Publisher'].extend((item, item, item))  # to keep the publisher name next to one another\n    dic['Genre'] += list(sub_publisher.index)    # Appendong genre\n    dic['Count'] += list(sub_publisher.values)   # Number of games for each genre ","e47959bd":"# Creating a dataset of top three genre for each publisher.\nsub_df = pd.DataFrame(dic) \nsub_df.head(5)","c75015f8":"#bar height\nheight = list(sub_df['Count'])\n\n# xtick label \nbars = list(sub_df['Genre'])\n\n# index position\ny_pos = np.arange(len(bars))\n\n#color for all the bar values\ncolor = []\nname = ['blue','red','orange','green','purple','violet','olive','gray','brown','cyan']\nfor item in name:\n    color.extend((item, item, item))\n\n# Ticks for second axis\nlabel = list(sub_df['Publisher']) \nax_label = []\nfor item in label:\n    if item not in ax_label:\n        ax_label.append(item)","fa7a36d3":"# Figure Style\nsns.set_style(style='dark')\nplt.figure(figsize=[17,5])\n\n# Plot\nplt.bar(y_pos, height, color=color)\n\n\nplt.xticks(y_pos, bars, rotation = 90, fontsize=14)  # we did this in an usual way.\nplt.yticks(fontsize= 14)\n\n# Secons axis\naxes1 = plt.gca()\naxes2 = axes1.twiny()                 # to get another axis here we used object oriented.\n\naxes2.set_xticks(list(range(0,30,3))) # indexing for xticks.\naxes2.set_xticklabels(ax_label, fontsize= 14, rotation= 90)\n\n# Axis label\naxes1.set_xlabel(\"Productions\")\naxes2.set_xlabel(\"Games\")\n\n# Axis limit\naxes1.set_xlim(-.5,29.5)\naxes2.set_xlim(0,30)\n\n# Title\nplt.title('Top Three Games of Publishers', fontsize= 15, color= 'blue')\nplt.show()","6b942251":"# Figure Size\nplt.figure(figsize=[17,5], dpi= 95)\n\n# to sort the bar in descending order\norder = df.groupby(by = 'Year').sum()['Global_Sales'].sort_values(ascending= False).index\n\n# plot\nsns.barplot(x='Year',y='Global_Sales',data=df,estimator= sum, palette=\"dark\", order= order, ci= 0)\n\n# Axis ticks\nplt.xticks(fontsize=12, rotation= 90)\nplt.yticks(fontsize=12)\n\n# Title\nplt.title('Highest Global Sales by Year', fontsize= 16, color= 'blue')\n\nplt.tight_layout()","379d0d48":"sns.set_style('whitegrid')\nplt.figure(figsize=[17,5], dpi= 95)\n\ntick = ['NA_Sales', 'EU_Sales','JP_Sales', 'Other_Sales']\n\nfor item in tick:\n    sns.lineplot(x= 'Year', y= df[item], data= df, estimator= 'sum', label= item, ci=None, marker='o', linewidth= 3)\n\n# Axis label and ticks    \nplt.xlabel('Year',fontsize=14, color='black')\nplt.ylabel('Sales in Different Continent',fontsize=14, color='black')\nplt.xticks(fontsize=14)\nplt.yticks(fontsize=14)\n\n# Title and legend\nplt.title('Sales in Different Region', fontsize= 18, color= 'blue')\nplt.legend(bbox_to_anchor=(1, 1), loc=2, borderaxespad=0, fontsize= 'x-large')","513afb1f":"# Top three genre in number of produced games.\ndf['Genre'].value_counts().head(3)","47b01117":"# Dataframe for sales of different genre in different continents\nsales_by_genre = df.groupby(by= ['Year','Genre']).sum()[['NA_Sales','EU_Sales','JP_Sales','Other_Sales']].unstack()\n\n# Replacing NaN Value \nsales_by_genre.fillna(0, inplace= True)\n\n# Dropping some rows\nsales_by_genre.drop(range(1980,1996), inplace= True)","5d9fb5a6":"sales_by_genre.head(2)","13c4c79f":"# Top 3 Genre index list\nindex = list(df['Genre'].value_counts().head(3).index)\n\n\n# Figure style\nsns.set_style('darkgrid')\nplt.figure(figsize=[14,6], dpi=95)\n\n# Color palette\npalette = plt.get_cmap('tab20')\n\n# Multi plot\nnum = 0\ncol_pal = 0\nfor name in index:\n    num += 1\n    plt.subplot(1,3,num)\n    \n    # Using .xs method to get the region sales with specific genre\n    data_frame = sales_by_genre.xs(key=name, level=1, axis=1)\n    \n    # Line plot\n    for column in data_frame:\n        col_pal += 1\n        plt.plot(data_frame[column], marker='', color=palette(col_pal), linewidth=2.4, alpha=0.9, label=column)\n    \n    # Subplot title, legend and axis ticks\n    plt.title(name, loc='left', fontsize=14, fontweight=0, color='red')\n    plt.legend(fontsize=12)\n    plt.xticks([1995,2000,2005,2010,2015])\n    \n    # Figure x-axis and y-axis\n    if name == 'Sports':\n        plt.xlabel('Year(1995-2016)', fontsize= 15)\n    if name == 'Action':\n        plt.ylabel('Sales in Million Dollar', fontsize= 15)\n\n# Figure title\nplt.suptitle('Sales of Top Three Genre in Different Continents', fontsize= 15, y = 1.05, color= 'blue')\n\nplt.tight_layout()\n","542ba7b3":"genre_heatmap = df.groupby(by= 'Genre')[['NA_Sales','EU_Sales','JP_Sales','Other_Sales']].sum()\ngenre_heatmap.head()","a5c1146c":"# Fig style\nplt.figure(figsize= [8,6], dpi= 99)\n\n# Plot\nax = sns.heatmap(genre_heatmap, annot= True, fmt= '.1f', linecolor= 'white', linewidths= 1.2, cmap= 'gist_earth_r')\n\n# There was some kind of issue with matplotlib version. That is why i had to use the below line. Otherwise it should work fine.\n# Getting the current y limit and then resizing\nbottom, top = ax.get_ylim()\nax.set_ylim(bottom + .5, top - .5)\n\n# Title\nplt.title('Heatmap for Sales of All Genre by Region', color= 'blue')\nplt.show()","d93fb9a0":"plt.figure(figsize=[5,5], dpi= 120)\n\n# parameters\nlabels = 'NA_Sales','JP_Sales','Other_sales', 'EU_Sales'\nsizes = [df['NA_Sales'].sum(),df['JP_Sales'].sum(), df['Other_Sales'].sum(), df['EU_Sales'].sum()]\ncolors = ['green','yellowgreen','red','lightskyblue']\nexplode = (0.1,0,0.1,0) # explode the highest and lowest slice.\n\n# Pie plot\nplt.pie(sizes, explode= explode, labels= labels, colors= colors, autopct='%1.1f%%', shadow=True, startangle=140)\n\nplt.axis('equal')  # to get a circle shape\nplt.title('Sales Percentage by Region', color= 'blue', y= 1.02, x= .45)\nplt.show()","5cdb41b9":"sns.pairplot(df[['Year','NA_Sales','EU_Sales','JP_Sales','Other_Sales']])","dbf29a4b":"# Figure style\nplt.figure(figsize=[8,5], dpi= 95)\n\n# PLot\nax = sns.heatmap(df.corr(), annot= True)\n\n# There was some kind of issue with matplotlib version. That is why i had to use the below line. Otherwise it should work fine.\n# Getting the current y limit and then resizing\nbottom, top = ax.get_ylim()\nax.set_ylim(bottom + .5, top - .5)\n\n# Title\nplt.title('Correlation Between Columns', fontsize= 14, color= 'blue')","de8192e0":"# Top 3 released games of these publishers ","aa6276ff":"> # Overview of Datafset","32ab7ad0":"# Evolution in number of games for each genre.","2c747495":"# Sales percentage in pie chart","9b9bf6bc":"# Heat map for sales of all genre","bb92d155":"-    We can see the year is in float format. We can change this to int format","f7510771":"-   It looks kind of messy here. We can make this graph for top five years which had most released games.  ","a8f257b5":"-    There are only 1.6% of Year and .3% of Publisher null value. If we delete these we would not loose lots of data.","0e859712":"-   We see that the action genre is the highest number of produced games ","fdf56dc5":"# Off-topic: \n### If you want to use different theme for jupyter notebook could go to this link [theme](https:\/\/towardsdatascience.com\/optimizing-jupyter-notebook-tips-tricks-and-nbextensions-26d75d502663)","60634656":"# Number of produced games by year","62a91af7":"# Top ten publisher who released most number of games.","30c2e441":"## Video Games Sales Analysis and Visualization\n<b> The Dataset I worked on contains a list of video games with sales in different region. In the beginning of this project, I cleaned the dataset using Pandas as there were some none values and inadequate information. Then I tried to show some key information on the dataset. For example, top games, top genre, highest sales, etc. The whole point of this project is to show a different kind\u00a0of visualization using Python Matplotlib and Seaborn Library and understand what the dataset tells. <\/b> <br><br>  <b>N.B: This dataset does not have adequate information from 2017 onwards.<\/b>  <br><b>  <\/b><br>[Data set link](https:\/\/www.kaggle.com\/gregorut\/videogamesales) <br> <b>Columns<\/b>\n<ul>\n<li>Name - The games name<\/li>\n<li>Platform - Platform of the games release (i.e. PC,PS4, etc.)<\/li>\n<li>Year - Year of the game's release<\/li>\n    <li>Genre - Genre of the game<\/li>\n    <li>Publisher - Publisher of the game<\/li>\n    <li>NA_Sales - Sales in North America (in millions)<\/li>\n    <li>EU_Sales - Sales in Europe (in millions)<\/li>\n    <li>JP_Sales - Sales in Japan (in millions)<\/li>\n    <li>Other_Sales - Sales in the rest of the world (in millions)<\/li>\n    <li>Global_Sales - Total worldwide sales.<\/li>\n<\/ul>","1f80638e":"### Let's do a line plot of sales to see how it has changed over year in different region","8b851616":"-    Since there are some null object, lets find out these in percentage because it would be easier to understand.","83a718e2":"### Pairplot","827808e5":"-  There are so many NaN values. We can easily assume this NaN value means zero game produced on that year. So we will replace Nan values with zero and we are also gonna reduce the number of years. We will take count year 1994 onward.","172b7aea":"# Data types of each column","851d20ef":"-   Let's check number of entries in each year","30157420":"# Number of released games by genre in each year.","5cdeaef1":"- We see there are only three and one entry for the year 2017, 2020 consecutively. This is not enough to get the real picture so we can ignore these entries.","1afd684f":"# Importing Necessary Library","4f175840":"# Correlation","0362e44a":"# Sales of a top three genre in different region. ","fb26c34a":"<b>It might be difficult understrand the above cell. So, uncomment and run these line in different cell. And in the 'by' arg, we could use any column. we just need to count rows so it will work with any column.<\/b> <br><br>\n<code>g_1.count().loc['Electronic Arts'].sort_values(by = 'Year', ascending = False).head()\n    \n#run in a different cell.\ng_1.count().head(20)\n<\/code>","61866faa":"# Importing Data","7b70eb6f":"### Now, let's figure out which year had the highest global sales?","12f27e58":"### Thank you so much for spending your valuable time on my project. I would really appreciate if you give me some feedback on this project. ","33bdc3a9":"#### Let's find out the unique values of Genre as well as the number as most of the task will be around this column","8c193fa8":"-   We can see, the number of sales in different continent was pretty close to each other till 1995 and then a drastic change occured to sales of North America compare to others. It might be because of their revolution in tech industry."}}