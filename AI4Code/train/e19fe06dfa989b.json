{"cell_type":{"9704e46b":"code","55529c66":"code","5c4aaa43":"code","f13d9f4d":"code","1959a784":"code","40558aec":"code","2a1d342c":"code","504ac22f":"code","85292553":"code","9bb0c712":"code","8c0622b1":"code","201f7f61":"code","e6840eb2":"code","47396aa4":"code","7bff7a82":"code","8b53aeeb":"code","3ebd597b":"code","d9b0c52e":"code","5545583b":"code","1f4496c4":"code","fb765d44":"markdown","39e14118":"markdown","2b612f23":"markdown","786841de":"markdown","72216635":"markdown","e71f3802":"markdown","ddc8d9b4":"markdown","e120418b":"markdown","e4d11819":"markdown","cf32a5bc":"markdown","7ec4da62":"markdown","305b4659":"markdown","a166b040":"markdown","a12961d4":"markdown"},"source":{"9704e46b":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","55529c66":"# Transformando bancos de dados em dataframes do pandas\n\ncovid_complete = pd.read_csv('\/kaggle\/input\/corona-virus-report\/covid_19_clean_complete.csv')\ncovid_complete.head(10)","5c4aaa43":"# Informa\u00e7\u00f5es b\u00e1sicas do banco de dados\ncovid_complete.columns","f13d9f4d":"covid_complete.info()","1959a784":"#Transformando coluna \"dates\" para formado de data\ncovid_complete.Date = pd.to_datetime(covid_complete.Date)\ncovid_complete.info()","40558aec":"for column in covid_complete:\n    num_nan = covid_complete[column].isna().sum()\n    print('{} --> {}'.format(column,num_nan))","2a1d342c":"# quais as regi\u00f5es da china que existem no dataset\nchina_regions_names = covid_complete[covid_complete['Country\/Region'] == 'China']['Province\/State']\nchina_regions_names.unique()","504ac22f":"#Separando todas as regi\u00f5es da china do banco de dados\nchina_regions_totals = covid_complete[covid_complete['Country\/Region'] == 'China']\n\n#Tomando apenas as colunas num\u00e9ricas, agrupando por \"Province\/State\" utilizando a soma e \n#Ordenando valores por numero de casos confirmados\nchina_regions_totals = china_regions_totals.loc[:,['Province\/State','Confirmed','Deaths','Recovered','Active']]\nchina_regions_totals = china_regions_totals.groupby('Province\/State').sum().sort_values('Confirmed', ascending = False)\nchina_top5 = china_regions_totals.head(5)\nchina_top5","85292553":"# Criando fun\u00e7\u00e3o para adicionar prov\u00edncia ao nome do pa\u00eds\ndef noprovince(row):\n    if pd.notna(row['Province\/State']):\n        row['Country\/Region'] = row['Country\/Region'] + '_' + row['Province\/State']\n    return row\n\n# Copiando o banco de dados para editar sem perder informa\u00e7\u00f5es\ncovid_noprovince = covid_complete.copy()\n\n# Colocando o nome das regi\u00f5es na coluna de pa\u00edses\ncovid_noprovince = covid_noprovince.apply(noprovince, axis = 1)\ncovid_noprovince = covid_noprovince.drop(['Province\/State'], axis = 1)\ncovid_noprovince.head(10)","9bb0c712":"covid_noprovince.loc[covid_noprovince['Country\/Region'] == 'China']","8c0622b1":"# Importando o dataset \"worldometer_data\"\nworldometer = pd.read_csv('\/kaggle\/input\/corona-virus-report\/worldometer_data.csv')\n\n# Retirandos as colunas de interesse e mesclando com o dataset \"covid_19_clean_complete\"\ncovid_comp_deaths = covid_complete[['Country\/Region','Deaths']].groupby('Country\/Region').sum()\ncovid_world = covid_comp_deaths.merge(worldometer[['Country\/Region','Population','Continent']],\n                                            on = 'Country\/Region')\ncovid_world","201f7f61":"#criando os Ranking de continentes com mais mortes por milh\u00e3o\n\n#Agrupando o banco de dados por Continente \ncovid_world_deaths = covid_world.groupby('Continent', as_index = False).sum()\n\n#Criando a coluna que conta as mortes por milh\u00e3o de habitantes em cada continente\ncovid_world_deaths['Deaths_by_Million'] = (covid_world_deaths['Deaths']\/covid_world_deaths['Population'])*10**6\n\n#Colocando os continentes em um Ranking de maior n\u00famero de morte e exibindo sua coloca\u00e7\u00e3o\ncovid_world_deaths = covid_world_deaths.sort_values(by = 'Deaths_by_Million', ascending = False)\ncovid_world_deaths['Ranking'] =[x for x in range(1,len(covid_world_deaths)+1)]\ncovid_world_deaths = covid_world_deaths.set_index(\"Ranking\")\ncovid_world_deaths\n                             ","e6840eb2":"#importando as bibliotecas necess\u00e1rias\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","47396aa4":"#Agrupando os dados por regi\u00e3o\ncovid_who = covid_complete.groupby(by = ['Date','WHO Region']).sum().reset_index(level = 'Date')\ncovid_who.head(10)","7bff7a82":"#Adicionando grades de referencia\nsns.set_style(\"darkgrid\")\n\n#Criando gr\u00e1ficos \nplt.plot('Date','Deaths', data = covid_who.loc[covid_who.index == \"Eastern Mediterranean\"], c = 'y');\nplt.plot('Date','Deaths', data = covid_who.loc[covid_who.index == \"Europe\"], c = 'b');\nplt.plot('Date','Deaths', data = covid_who.loc[covid_who.index == \"Americas\"], c = 'g');\n\n#Adicionando legenda e t\u00edtulo\nplt.xlabel('Date')\nplt.ylabel('Deaths')\n\nplt.legend([\"Eastern Mediterranean\",\"Europe\",\"Americas\"]);","8b53aeeb":"#Criando bar chart\nplt.figure(figsize =(10,6))\nplt.bar('Continent','Deaths', data = covid_world );\n\nplt.title('Continet Deaths')\nplt.ylabel('Deaths')","3ebd597b":"#Agrupando por continentes e descobrindo quais os 3 com a maior m\u00e9dia de mortes por milh\u00e3o de habitantes\nworld_most_deaths = worldometer[['Continent','Deaths\/1M pop']].groupby('Continent', as_index = False).mean().sort_values('Deaths\/1M pop',ascending = False)\nworld_most_deaths","d9b0c52e":"#Retirando os dados que queremos do banco de dados geral\npop_x_deaths = worldometer.loc[(worldometer['Continent'] == 'South America')|\n                               (worldometer['Continent'] =='Europe')|\n                               (worldometer['Continent'] =='North America'),\n                              ['Continent','Population','Deaths\/1M pop']]\npop_x_deaths","5545583b":"#Criando gr\u00e1fico de intera\u00e7\u00f5es\nplt.figure(figsize =(12,6))\nplt.title('Rela\u00e7\u00e3o entre Mosrtes por milh\u00e3o e popula\u00e7\u00e3o total do pa\u00eds')\n\nsns.scatterplot(x = 'Population',\n               y = 'Deaths\/1M pop',\n               hue = 'Continent',\n               data = pop_x_deaths);","1f4496c4":"\nfig, ax = plt.subplots(figsize=(15, 15))\nplt.title('Correla\u00e7\u00e3o entre colunas')\nsns.heatmap(worldometer.corr(), annot=True, square=True, cmap='coolwarm');","fb765d44":"### Entender a rela\u00e7\u00e3o entre o n\u00famero de habitantes e as mortes por milh\u00e3o nos continentes que apresentaram maior m\u00e9dia\n* Utilizar somente o dataframe \"worldometer\"\n* Descobrir quais os 3 continentes com mais mortes por milh\u00e3o de habitantes\n* Produzir um dataframe que contenha apenas eles\n* Fazer um gr\u00e1fico Scatterplot para representar essa rela\u00e7\u00e3o","39e14118":"### Ent\u00e3o iremos utilizar apenas os dados da Am\u00e9rica do Sul, Europa e \u00c1sia\n\u00c9 importante observar que n\u00e3o precisamos de todo o banco de dados ent\u00e3o s\u00f3 retiraremos as colunas necess\u00e1rias\n1. Continent\n2. Population\n3. Deaths\/1M pop","2b612f23":"# Exercitando data visualization\n\n### 1\u00b0 Pergunta\nNas regi\u00f5es \"Easter Mediterran\", \"Americas\", \"Europe\", Como se corportou a curva de mortes em fun\u00e7\u00e3o do tempo? \u00c9 poss\u00edvel observar tend\u00eancias?","786841de":"\n### 1. Construir gr\u00e1fico que demonstre a evolu\u00e7\u00e3o no tempo dos casos ativos confirmados nas regi\u00f5es do mundo\n* Utilizar regi\u00f5es \"Easter Mediterran\", \"Americas\", \"Europe\"\n* n\u00famero de casos ativos em fun\u00e7\u00e3o do tempo\n* 6 linhas, uma pra cada regi\u00e3o do mundo, com legendes","72216635":"### 2. Plotar o gr\u00e1fico de mortes nos continentes\n* Utilizar dataframe \"covid_world\"\n* Gr\u00e1fico ser\u00e1 Bar Chart sem indica\u00e7\u00e3o de vari\u00e2ncia","e71f3802":"Neste gr\u00e1fico pode-se notar que em \"Eastern Mediterran\" as mortes por covid foram bem baixas at\u00e9 a data da \u00faltima atualiza\u00e7\u00e3o deste dataset. Na Europa, ocorreu um crescimento mais acentuado inicialmente, em compara\u00e7\u00e3o com a Am\u00e9rica, mas, a partir de maio de 2020, esta curva parece parece progredir para a estabilidade. Nas Am\u00e9ricas, a curva come\u00e7a a crescer apenas ap\u00f3s abril de 2020, contudo seu crescimento n\u00e3o parece ainda progredir para a estabilidade.","ddc8d9b4":"### Lidando com dados invalidos\n\n*  Como apenas a coluna de provincias cont\u00e9m dados invalidos, vale a pena retirar ela do dataframe.\n    Mas tem um problema, existem pa\u00edses que tem mais de uma regi\u00e3o, posso juntar o nome da regi\u00e3o com o pa\u00eds, dessa forma posso me livrar da coluna prov\u00edncias\n\n*  Para n\u00e3o perder informa\u00e7\u00f5es importantes irei fazer uma c\u00f3pia do banco de dados que tenha a o nome da regi\u00e3o junto com o do pa\u00eds, caso este pa\u00eds tenha mais de uma regi\u00e3o no banco de dados\n","e120418b":"1. O valor da popula\u00e7\u00e3o tem uma alta correla\u00e7\u00e3o com novos casos, novas mosrtes e novas recupera\u00e7\u00f5es, mas n\u00e3o tanto com valores totais. Este fato pode mostrar que uma maior popula\u00e7\u00e3o interfere diretamente na taxa com que o virus cresce, n\u00e3o necess\u00e1riamente nos valores totais, considerando as informa\u00e7\u00f5es at\u00e9 a \u00faltima atualiza\u00e7\u00e3o do banco de dados\n2. Os Testes por milh\u00e3o de habitantes tem uma alta correla\u00e7\u00e3o negativa com os novos casos, novas mortes e novas recupera\u00e7\u00f5es. Uma das hip\u00f3teses poss\u00edveis \u00e9 que esta caracter\u00edstica do banco de dados pode agir de forma contr\u00e1ria \u00e0 popula\u00e7\u00e3o, diminuindo a taxa com que o virus se propaga, j\u00e1 que, com uma maior taxa de teste em rela\u00e7\u00e3o a popula\u00e7\u00e3o, pode-se ter medidas sanit\u00e1rias masi acertivas e localizadas para a conten\u00e7\u00e3o do v\u00edrus. ","e4d11819":"Primeiramente, \u00e9 poss\u00edvel notar que na maioria dos pa\u00edses nestes continentes, a popula\u00e7\u00e3o \u00e9 menor que 50 milh\u00f5es de habitantes, nestes casos, existem pa\u00edses na europa que, mesmo com um popula\u00e7\u00e3o relativamente baixa, observaram um alto n\u00famero de mortes por milh\u00e3o, enquanto na am\u00e9rica do norte e do sul a popula\u00e7\u00e3o a taxa de mortes por milh\u00e3o n\u00e3o demonstrou um n\u00famero t\u00e3o elevado. Uma das hip\u00f3teses para isso \u00e9 que os pa\u00edses europeus cont\u00e9m uma alta concentra\u00e7\u00e3o de pessoas em \u00e1reas menores, se comprada \u00e0s am\u00e9ricas, o que pode facilitar a propaga\u00e7\u00e3o do v\u00edrus. ","cf32a5bc":"### Mesclar o banco de dados \"covid_19_clean_complete\" com \"worldometer_data\"\n1. Importar banco de dados\n2. Mesclar os dois a partir da coluna \"Contry\/Region\", importando apenas a coluna de popula\u00e7\u00e3o e a de continente\n3. Agrupar covid_complete por Country\/Region, utilizando sum como agregate function\n4. agrupar valores por continente\n5. criar coluna de mortes por milh\u00e3o em continentes\n6. fazer ranking de mortes por milh\u00e3o dos continentes\n","7ec4da62":"## 1\u00b0 pergunta\n\nComo progrediu a curva dos casos nas regi\u00f5es da china?","305b4659":"### Criando Heatmap de correla\u00e7\u00e3o\n1. Utilizado o m\u00e9todo ```DataFrame.corr()``` do pandas para identificar a correla\u00e7\u00e3o entre features\n2. Utilizar o heatmap do seaborn para visualiza\u00e7\u00e3o das correla\u00e7\u00f5es ","a166b040":"### Quero agora as 5 regi\u00f5es com o maior n\u00famero de casos\n1. retirar toas as regi\u00f5es do banco de dados\n2. agrupar novo banco de dados a partir das regi\u00f5es\n3. somar a quantidade de casos para ver quais s\u00e3o os maiores","a12961d4":"A partir do gr\u00e1fico \u00e9 poss\u00edvel notar que, at\u00e9 a \u00faltima atualiza\u00e7\u00e3o do banco de dados, a europa e a am\u00e9rica do sul cont\u00e9m a maioria das mortes por COVID-19, enquanto na Oceania ainda n\u00e3o foram registradas ocorr\u00eancias de morte, isso pode ocorrer por diversos fatores, como um sistem de sa\u00fade melhor equipado e o contato tardio com o virus, que permitiu que medidas sanit\u00e1rias fossem tomadas de forma imadiata assim que foram registrados os primeiros casos."}}