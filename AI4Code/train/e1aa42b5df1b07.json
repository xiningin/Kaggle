{"cell_type":{"4b24f68c":"code","2cc4ef4a":"code","cf0043b8":"code","9022429b":"code","849d89ee":"code","51cd3d3f":"markdown","da22007d":"markdown","1aaf53fd":"markdown"},"source":{"4b24f68c":"! pip3 install --use-feature=2020-resolver git+https:\/\/github.com\/Jigsaw-Code\/net-analysis.git@8ff7146aae3f5c382f9954c428758625f5ef5b05","2cc4ef4a":"import csv\nimport datetime\nimport os.path\n\nimport iso3166\nimport pandas as pd\n\nimport netanalysis.traffic.data.api_repository as api\nfrom netanalysis.traffic.data import model","cf0043b8":"COUNTRY = \"AZ\"\nFIRST_DATE = datetime.date(2020, 9, 1)\nLAST_DATE = datetime.date(2020, 11, 20)\n\nreport = api.ApiTrafficRepository()\nall_series = {}\nfor product in model.ProductId:\n    try:\n        all_series[product.name] = report.get_traffic(COUNTRY, product, FIRST_DATE, LAST_DATE)\n    except Exception:\n        pass\n\ndf = pd.DataFrame(all_series)\ndf.index.name = \"date\"","9022429b":"df.plot(figsize=(20, 40), subplots=True, sort_columns=True);","849d89ee":"tor_traffic = pd.read_csv(f'https:\/\/metrics.torproject.org\/userstats-relay-country.csv?start={FIRST_DATE:%Y-%m-%d}&end={LAST_DATE:%Y-%m-%d}&country={COUNTRY.lower()}&events=off',\n                          skip_blank_lines=True, comment=\"#\", index_col=\"date\", parse_dates=True)\ntor_traffic[\"users\"].plot(figsize=(20, 5));","51cd3d3f":"As you can see on the charts, multiple products were affected, but different products were affected differently. This suggests IP-based blocking, since products share IP addresses.","da22007d":"## Tor Traffic\nYou can see that the Tor traffic during the event went up, when the traffic for some Google services was disrupted, which is another evidence of a censorship event.","1aaf53fd":"# Blocking of Youtube in Azerbaijan\n\nThis notebook shows the blocking of YouTube in Azerbaijan in September, 2020.\n\nThe data is from the Google Transparency Report: https:\/\/transparencyreport.google.com\/traffic\/overview?fraction_traffic=start:1598918400000;end:1605916799999;product:21;region:AZ&lu=fraction_traffic"}}