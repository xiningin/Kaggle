{"cell_type":{"60254ea5":"code","b7c56388":"code","4bdce4dc":"code","4d23b60d":"code","f180bf0c":"code","26f1e1c2":"code","e01898a3":"code","5e8ea4d0":"code","25cfb57b":"code","2ccccc7f":"code","b692a8f9":"code","c802154a":"code","92c4a409":"code","fac32a55":"code","cfbf05f5":"code","c54d4c5d":"code","5aa093aa":"code","e4b61db5":"code","07855236":"code","c218a703":"code","2b25fc89":"code","dc3263f3":"code","00e2eeb5":"code","fd1534a3":"code","6c132ca4":"code","89fd1f02":"code","a63f25d1":"code","7f6f38aa":"code","1a2875dc":"code","6cd214d1":"code","4a37965c":"code","da06329f":"code","46d9cee4":"code","eb36fd43":"code","2e90a440":"code","e08ccc3d":"code","3ce000ef":"code","7573855b":"code","2439ddbd":"code","0981b4ca":"code","2fca65fc":"code","e83a7bf0":"code","d1145e39":"code","79cf7ede":"code","fcfca5f2":"code","6c26f8a8":"code","7db29bed":"code","6eb5f696":"code","9d41cf76":"code","8911afed":"code","ad8d0112":"code","084309d5":"code","fa78c654":"code","6493cd7d":"code","ef3caee8":"code","6a6f8cf6":"code","4c5d2b20":"markdown","db6c5014":"markdown","ab3bb1b3":"markdown"},"source":{"60254ea5":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom mpl_toolkits.basemap import Basemap\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\n\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","b7c56388":"#pip install plotly==3.10.0","4bdce4dc":"df=pd.read_csv(\"..\/input\/suicide-rates-overview-1985-to-2016\/master.csv\")\ncountries = pd.read_csv(\"..\/input\/counties-geographic-coordinates\/countries.csv\")","4d23b60d":"df.head()","f180bf0c":"df.columns=[\"country\",\"year\",\"gender\",\"age_group\",\"suicide_number\",\"population\",\"sui_pop\",\"country_year\",\"hdi\",\"gdp_for_year\",\"gdp_per_capita\",\"generation\"]","26f1e1c2":"df.drop([\"country_year\",\"gdp_for_year\",\"gdp_per_capita\",\"hdi\"],axis=1,inplace=True)\ndf.head()","e01898a3":"df.age_group.unique()","5e8ea4d0":"df[\"age_group\"]=df[\"age_group\"].apply(lambda x: str(x).replace('5-14 years','child') if '5-14 years' in str(x) else str(x))\ndf[\"age_group\"]=df[\"age_group\"].apply(lambda x: str(x).replace('15-24 years','youth') if '15-24 years' in str(x) else str(x))\ndf[\"age_group\"]=df[\"age_group\"].apply(lambda x: str(x).replace('25-34 years','young adult') if '25-34 years' in str(x) else str(x))\ndf[\"age_group\"]=df[\"age_group\"].apply(lambda x: str(x).replace('35-54 years','early adult') if '35-54 years' in str(x) else str(x))\ndf[\"age_group\"]=df[\"age_group\"].apply(lambda x: str(x).replace('55-74 years','adult') if '55-74 years' in str(x) else str(x))\ndf[\"age_group\"]=df[\"age_group\"].apply(lambda x: str(x).replace('75+ years','senior') if '75+ years' in str(x) else str(x))","25cfb57b":"df.head()","2ccccc7f":"df.tail()","b692a8f9":"df.info()","c802154a":"df.shape","92c4a409":"df.describe()","fac32a55":"df.isnull().sum()","cfbf05f5":"df.isnull().sum()","c54d4c5d":"df.head()","5aa093aa":"df = df.sort_values(by=[\"suicide_number\",\"age_group\"], ascending=False)\ndf['rank']=tuple(zip(df.suicide_number,df.age_group))\ndf['rank']=df.groupby('suicide_number',sort=False)['rank'].apply(lambda x : pd.Series(pd.factorize(x)[0])).values\ndf.head()","e4b61db5":"df.reset_index(inplace=True,drop=True)\ndf.head()","07855236":"df[\"gender\"].value_counts()","c218a703":"#Gender show bar plot\nsns.set(style='whitegrid')\nax=sns.barplot(x=df['gender'].value_counts().index,y=df['gender'].value_counts().values,palette=\"Blues_d\",hue=['female','male'])\nplt.legend(loc=8)\nplt.xlabel('Gender')\nplt.ylabel('Frequency')\nplt.title('Show of Gender Bar Plot')\nplt.show()","2b25fc89":"df[\"age_group\"].value_counts()","dc3263f3":"plt.figure(figsize=(7,3))\nsns.barplot(x=df['age_group'].value_counts().index,\n              y=df['age_group'].value_counts().values)\nplt.xlabel('age_group')\nplt.ylabel('Frequency')\nplt.title('Show of age_group Bar Plot')\nplt.show()","00e2eeb5":"df[\"generation\"].value_counts()","fd1534a3":"plt.figure(figsize=(15,2))\nsns.barplot(x=df['generation'].value_counts().index,\n              y=df['generation'].value_counts().values)\nplt.xlabel('generation')\nplt.ylabel('Frequency')\nplt.title('Show of generation Bar Plot')\nplt.show()","6c132ca4":"df.nunique()","89fd1f02":"plt.figure(figsize=(10,3))\nsns.barplot(x = \"generation\", y = \"suicide_number\", hue = \"gender\", data = df)\nplt.xticks(rotation=45)\nplt.show()","a63f25d1":"plt.figure(figsize=(10,3))\nsns.barplot(x = \"age_group\", y = \"suicide_number\", hue = \"gender\", data = df)\nplt.xticks(rotation=45)\nplt.show()","7f6f38aa":"plt.figure(figsize=(12,7))\nsns.catplot(y=\"gender\", x=\"suicide_number\",\n                 hue=\"age_group\",\n                 data=df, kind=\"bar\")\nplt.title('for age group & suicide_number')\nplt.show()","1a2875dc":"plt.figure(figsize=(10,10))\nsns.catplot(x=\"gender\", y=\"suicide_number\",\n                 hue=\"generation\",\n                 data=df, kind=\"bar\")\nplt.title('for generation & suicide number')\nplt.show()","6cd214d1":"f,ax=plt.subplots(figsize=(9,3))\nsns.barplot(x=df['gender'].value_counts().values,y=df['gender'].value_counts().index,alpha=0.5,color='red',label='Gender')\nsns.barplot(x=df['age_group'].value_counts().values,y=df['age_group'].value_counts().index,color='blue',alpha=0.7,label='Age Group')\nax.legend(loc='upper right',frameon=True)\nax.set(xlabel='Gender , Age Group',ylabel='Groups',title=\"Gender vs Age Group \")\nplt.show()","4a37965c":"plt.figure(figsize=(10,5))\nsns.barplot(df.suicide_number[:600],df.country[:600])\nplt.show()","da06329f":"g = sns.jointplot(\"population\", \"suicide_number\", data=df, kind=\"reg\",\n                  xlim=(260, 43805220), ylim=(0, 22340), color=\"m\", height=7)","46d9cee4":"sns.kdeplot(df['suicide_number'])\nplt.xlabel('Values')\nplt.ylabel('Frequency')\nplt.title('Suicide Number Kde Plot System Analysis')\nplt.show()","eb36fd43":"sns.violinplot(df['suicide_number'])\nplt.xlabel('suicide_number')\nplt.ylabel('Frequency')\nplt.title('Violin suicide_number Show')\nplt.show()","2e90a440":"df.head()","e08ccc3d":"sns.heatmap(df.corr())\nplt.show()","3ce000ef":"sns.boxenplot(x=\"age_group\", y=\"suicide_number\",\n              color=\"b\",\n              scale=\"linear\", data=df)\nplt.show()","7573855b":"plt.figure(figsize=(16,5))\nsns.barplot(df.suicide_number,df.gender)\nplt.show()","2439ddbd":"plt.figure(figsize=(16,5))\nsns.barplot(df.suicide_number,df.age_group)\nplt.show()","0981b4ca":"df.age_group.dropna(inplace = True)\nlabels = df.age_group.value_counts().index\ncolors = ['b','r','g','orange','pink','y']\nexplode = [0,0,0,0,0,0]\nsizes = df.age_group.value_counts().values\n\n# visual \nplt.figure(0,figsize = (7,7))\nplt.pie(sizes, explode=explode, labels=labels, colors=colors, autopct='%1.1f%%')\nplt.title('Suicide According to Age Group',color = 'blue',fontsize = 15)\nplt.show()","2fca65fc":"plt.figure(figsize=(16,5))\nsns.barplot(df.suicide_number,df.generation)\nplt.show()","e83a7bf0":"df.generation.dropna(inplace = True)\nlabels = df.generation.value_counts().index\ncolors = ['b','r','g','orange','pink','y']\nexplode = [0,0,0,0,0,0]\nsizes = df.generation.value_counts().values\n\n# visual \nplt.figure(0,figsize = (7,7))\nplt.pie(sizes, explode=explode, labels=labels, colors=colors, autopct='%1.1f%%')\nplt.title('Suicide According to Generation',color = 'blue',fontsize = 15)\nplt.show()","d1145e39":"f,ax1 = plt.subplots(figsize =(20,10))\nsns.pointplot(x='year',y='suicide_number',data=df,color='lime',alpha=0.8)\nplt.xlabel('year',fontsize = 15,color='blue')\nplt.ylabel('values',fontsize = 15,color='blue')\nplt.title('year - suicide number',fontsize = 20,color='blue')\nplt.grid()","79cf7ede":"x1985 = df.country[df.year == 1985]\nplt.subplots(figsize=(8,8))\nwordcloud = WordCloud(\n                          background_color='white',\n                          width=512,\n                          height=384\n                         ).generate(\" \".join(x1985))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('graph.png')\n\nplt.show()","fcfca5f2":"x1995 = df.country[df.year == 1995]\nplt.subplots(figsize=(8,8))\nwordcloud = WordCloud(\n                          background_color='white',\n                          width=512,\n                          height=384\n                         ).generate(\" \".join(x1995))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('graph.png')\n\nplt.show()","6c26f8a8":"x2005 = df.country[df.year == 2005]\nplt.subplots(figsize=(8,8))\nwordcloud = WordCloud(\n                          background_color='white',\n                          width=512,\n                          height=384\n                         ).generate(\" \".join(x2005))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('graph.png')\n\nplt.show()","7db29bed":"x2015 = df.country[df.year == 2015]\nplt.subplots(figsize=(8,8))\nwordcloud = WordCloud(\n                          background_color='white',\n                          width=512,\n                          height=384\n                         ).generate(\" \".join(x2015))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('graph.png')\n\nplt.show()","6eb5f696":"df.columns","9d41cf76":"df.corr()","8911afed":"#create a new data frame\ndata=pd.DataFrame(df.iloc[:,4:6])\n\ndata.head(3)","ad8d0112":"plt.figure(figsize=(20,5))\nplt.scatter(data.population*0.1,data.suicide_number)\nplt.xlabel(\"Population\")\nplt.ylabel(\"Suicide Number\")\nplt.show()","084309d5":"from sklearn.linear_model import LinearRegression\n\nlinear_reg=LinearRegression()\n\nx=data.population.values.reshape(-1,1)\ny=data.suicide_number.values.reshape(-1,1)\n\nlinear_reg.fit(x,y)\n\nb0 =linear_reg.intercept_\nb1=linear_reg.coef_\nprint(\"b0:\",b0)\nprint(\"b1:\",b1)\nprint(\"Prediction 5M:\",linear_reg.predict([[5000000]]))\nprint(\"Prediction 10M:\",linear_reg.predict([[10000000]]))\nprint(\"Prediction 15M:\",linear_reg.predict([[15000000]]))\n","fa78c654":"df.population.min()","6493cd7d":"df.population.max()","ef3caee8":"array=np.array([278,5000000,10000000,15000000,20000000,45000000,80000000]).reshape(-1,1)\ny_head=linear_reg.predict(array)\nprint(\"y_head:\",y_head)","6a6f8cf6":"plt.figure(figsize=(20,5))\nplt.scatter(x,y)\nplt.plot(array,y_head,color='r')\nplt.show()","4c5d2b20":"to be continued...","db6c5014":"<h1>Linear Regression<\/h1>","ab3bb1b3":"<h1>**Prediction**<\/h1>"}}