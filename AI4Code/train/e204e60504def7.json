{"cell_type":{"205377c0":"code","e59d1d58":"code","587b2395":"code","be668b48":"code","b46cbe9e":"code","ceed6646":"code","3982d1c9":"markdown","06f5b0c8":"markdown","2a1c6139":"markdown","3cbaed2c":"markdown"},"source":{"205377c0":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","e59d1d58":"train = pd.read_csv('\/kaggle\/input\/nlp-getting-started\/train.csv')\ntest = pd.read_csv('\/kaggle\/input\/nlp-getting-started\/test.csv')\nsub_df = pd.read_csv(\"\/kaggle\/input\/nlp-getting-started\/sample_submission.csv\")\nsub_Priyanshu = pd.read_csv(\"\/kaggle\/input\/bert-fastai\/submission.csv\")\n\ntrain.head()","587b2395":"train = train.fillna('None')\nag = train.groupby('keyword').agg({'text':np.size, 'target':np.mean}).rename(columns={'text':'Count', 'target':'Disaster Probability'})\nag.sort_values('Disaster Probability', ascending=False).head(10)","be668b48":"keyword_list = list(ag[(ag['Count']>2) & (ag['Disaster Probability']>=0.9)].index)\nkeyword_list","b46cbe9e":"ids = test['id'][test.keyword.isin(keyword_list)].values\nsub_Priyanshu['target'][sub_Priyanshu['id'].isin(ids)] = 1\nsub_Priyanshu.head()","ceed6646":"sub_Priyanshu.to_csv('sub_Priyanshu_modified.csv', index=False)","3982d1c9":"It seems that some keywords almost always mention a real disaster.","06f5b0c8":"I want to do some postprocessing on output of this kernel:\nhttps:\/\/www.kaggle.com\/kpriyanshu256\/bert-fastai\nwhich is written by Priyanshu Kumar.","2a1c6139":"Priyanshu's submission is in *sub_Priyanshu* and I want to improve its score (0.82413) by knowledge in keywords.\nLet's look at the kewords with high probability of being disaster.","3cbaed2c":"So I will find them in test set and replace corresponding targets by 1."}}