{"cell_type":{"13520064":"code","a23e047a":"code","96e120e6":"code","413aa8ef":"code","656d2150":"code","ef32e5cf":"code","3ef3e35f":"code","35ecd319":"code","1869cd93":"code","6988ef94":"markdown","56760494":"markdown","3ee76117":"markdown","27ce9918":"markdown"},"source":{"13520064":"#### Import Libraries\nimport pandas as pd\nimport tensorflow as tf\nimport warnings\nimport matplotlib.pyplot as plt\nimport plotly.express as px\n\npd.set_option('display.max_rows', None)\npd.set_option('display.max_columns', None)\nwarnings.filterwarnings('ignore')\n\nimport plotly.io as pio\npio.renderers.default = \"svg\"\n","a23e047a":"# Url Countries World CSV\ncountries = px.data.gapminder()\npath = '\/kaggle\/input\/omicron-covid19-variant-daily-cases\/covid-variants.csv'\nds = pd.read_csv(path, parse_dates=[1], infer_datetime_format=True)\nds.head()\n\ndf = pd.merge(countries, ds, right_on='location', left_on= 'country')\ndf = df.drop(['location'], axis=1)\ndf['year'] = df['date'].dt.year\ndf.head()","96e120e6":"total_countries = df['country'].unique().__len__()\nlength_dataset = len(df)\nprint(f'There are {total_countries} countries and {length_dataset:,d} lines.')","413aa8ef":"n_countries = 10\n\nds_location_nseq = df.groupby(['country'])['num_sequences'].sum().sort_values(ascending=False)[:10]\nfig, ax = plt.subplots(figsize=(25,4))\nplt.tick_params(labelsize=14)\np1 = ax.bar(ds_location_nseq.index, ds_location_nseq.values, label=\"Cases\") \nax.set_title(f\"{n_countries} countries with more cases\", fontdict={\n    'fontsize':24,\n    'fontweight':\"bold\"})\nax.bar_label(p1, fmt='%d', padding=5, fontsize=12, fontweight='bold')\nax.legend(fontsize=14)\nax.set_frame_on(None)\nax.axes.yaxis.set_visible(False)\nplt.show()\n","656d2150":"df.head()","ef32e5cf":"# Plotting countries\nselect_countries = list(ds_location_nseq.index)\ndf_plot = df.groupby(['country', 'continent', 'pop', 'lifeExp', 'gdpPercap','iso_alpha', 'year'])['num_sequences'].sum()\ndf_plot = pd.DataFrame(df_plot).reset_index().sort_values(by='year', ascending=True)\n","3ef3e35f":"fig = px.choropleth(df_plot, locations='iso_alpha',\n        animation_frame='year', animation_group='country',\n        labels={'num_sequences':'Cases'},\n        color='num_sequences',\n        hover_name='country',)\nfig.update_layout(title_text = f\"Number of Cases in {total_countries} countries<br>(2020 - 2021 - 2022)\",\n                        geo=dict(showframe=False),\n                        title_font_size=25,\n                        \n                        )\nfig.update_xaxes(rangeselector_xanchor='center')\nfig.update_traces()\n\nfig.show('notebook')","35ecd319":"anos = df['year'].unique().tolist()\nn_countries = 10\n\nfor i in anos:\n    ds = pd.DataFrame(df.groupby(['year', 'country'])['num_sequences'].sum()).reset_index()\n    df_new = ds[ds['year']==i].groupby(['country'])['num_sequences'].sum()\n    df_new = df_new.sort_values(ascending=False)\n\n    df_new = pd.DataFrame(df_new).reset_index()[:n_countries]\n    fig = px.bar(df_new, x='country', y='num_sequences', text='num_sequences', color='country')\n    fig.update_layout(title_text=f\"{n_countries} countries with more cases in the world in {i}\",\n                        title_font_size = 25, title_x=0.5, paper_bgcolor='white', plot_bgcolor='white', \n                        showlegend=False)\n    fig.update_traces(textposition='outside', textfont_size=14, texttemplate= '%{value:,d} cases')\n    fig.update_yaxes(showticklabels=False, title=None)\n    fig.update_xaxes(title=None, tickfont=dict(size=15))\n    fig.show('notebook')","1869cd93":"# The most frequencies Variant \nfrom wordcloud import WordCloud\nimport numpy as np\nplt.figure(figsize=(12,12))\ntext = df['variant'].tolist()\n\nwordcloud = WordCloud(repeat=True).generate(str(text))\nplt.imshow(wordcloud, interpolation=\"bilinear\", )\nplt.axis(\"off\")\nplt.show()","6988ef94":"### **Overview Dataset**\n\n**Tracking the progression of the new omicron COVID-19 variant**\n\n**The data**\n* location- this is the country for which the variants information is provided;\n* date - date for the data entry;\n* variant - this is the variant corresponding to this data entry;\n* num_sequences - the number of sequences processed (for the country, variant and date);\n* perc_sequences - percentage of sequences from the total number of sequences (for the country, variant and date);\n* numsequencestotal - total number of sequences (for the country, variant and date);\n* Acknowledgements\n","56760494":"# **Omicron Daily Cases by country (COVID-19 variant)**\n## By **Willian Pina**","3ee76117":"### **Part 1: EDA**","27ce9918":"# Not Finished Yet"}}