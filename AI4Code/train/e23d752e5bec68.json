{"cell_type":{"3cddbf90":"code","5772c878":"code","dde8e47b":"code","c66ac965":"code","c86e1f5a":"code","7b8df180":"code","5bd0aec2":"code","b3475719":"code","2dd52fa3":"code","96275216":"code","af28b4ae":"code","8a3e32ef":"markdown","0e4c92ff":"markdown","270fa0d9":"markdown","38fee8da":"markdown","ddb62c65":"markdown","22a2714e":"markdown","6a546ed5":"markdown","f244d2cf":"markdown","aaafd2e7":"markdown"},"source":{"3cddbf90":"# import necessary packages\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","5772c878":"data = pd.read_csv('..\/input\/d\/stevenlasch\/roller-coaster-accidents\/safer-parks-accident-dataset.csv')\ndata.head()","dde8e47b":"# get a list of individual years\nyears = [year for year,df in data.groupby('year')]\n\n# set up the graph\nplt.figure(figsize=(12,6))\nsns.set_theme(style='darkgrid')\nax = sns.lineplot(data=data.groupby('year').sum(), x=years, y='num_injured', marker='o')\n\n# set x-axis tick labels and rotation\nax.set_xticks(ticks=years)\nax.set_xticklabels(labels=years, rotation=45)\n\n# set title and x,y labels\nax.set_title('Injuries Per Year\\n', fontsize='large')\nax.set_xlabel('\\nYear')\nax.set_ylabel('Injuries\\n')\n","c66ac965":"data.groupby('bus_type').sum()","c86e1f5a":"# get a list of individual theme parks\npark = [park for park,df in data.groupby('bus_type')]\n\n# set up the graph\nplt.figure(figsize=(12,6))\nax = sns.lineplot(data=data.groupby('bus_type').sum(), x=park, y='num_injured', marker='o')\n\n# set x-axis tick labels\nax.set_xticklabels(labels=park, rotation=45)\n\n# set title and x,y labels\nax.set_title('Injuries Per Park\\n', fontsize='large')\nax.set_xlabel('\\nBus Type')\nax.set_ylabel('Injuries\\n')\n","7b8df180":"columns = ['mechanical', 'op_error', 'employee']\nyears_df = data.groupby('year')[columns].sum()","5bd0aec2":"# get a list of individual years\nyears = [year for year,df in years_df.groupby('year')]\n\n# set up the graph\nplt.figure(figsize=(12,6))\nplt.grid()\nplt.plot(years, years_df.groupby(['year']).sum(), marker='o')\n\n# set the graph legend\nplt.legend(labels=['mechanical malfunction', 'operation error', 'employee failure'],\n           title='Failure Causes',\n           fontsize='large',\n           title_fontsize='large')\n\n# set title and x,y labels\nplt.title('Injuries Per Year\\n', size=15)\nplt.xlabel('\\nYear')\nplt.ylabel('Injuries\\n')\n\n# set x-axis tick labels and rotation\nplt.xticks(years, rotation=45)","b3475719":"# get a list of each individual year\nyears = [year for year,df in years_df.groupby('year')]\n\n# make a dataframe to use as data for easy graphical visualization\ndf = years_df.groupby(['year']).sum()\n\n# set up the graph using matplotlib.pyplot & seaborn\nplt.figure(figsize=(12,6))\nax = sns.lineplot(data=df, marker='o', dashes=True)\n\n# set x axis tick labels\nax.set_xticks(ticks=years)\nax.set_xticklabels(labels=years, rotation=45)\n\n# set title and x,y labels\nax.set_title('Injuries Per Cause of Ride Malfunction\\n', fontsize='large')\nax.set_xlabel('\\nYear', fontsize='medium')\nax.set_ylabel('Injuries\\n', fontsize='medium')","2dd52fa3":"data.groupby('device_category').sum()#.sort_values(by='num_injured', ascending=False)","96275216":"# get a list of individual years\nyears = [year for year,df in data.groupby('year')]\n\n# make a dataframe of the data to make for easier visualization\ndf = pd.DataFrame(data.groupby(['device_category', 'year']).sum())\ndf.sort_values(by='year', ascending=False)\n\n# set up the graph\nplt.figure(figsize=(16,8))\nax = sns.lineplot(data=df, x='year', y='num_injured', hue='device_category', marker='X')\n\n# set x-axis tick labels and rotation\nax.set_xticks(ticks=years)\nax.set_xticklabels(labels=years, rotation=45)\n\n# set title and x,y labels\nax.set_title('Injuries Per Type of Ride\\n', fontsize='large')\nax.set_xlabel('\\nYear', fontsize='medium')\nax.set_ylabel('Injuries\\n', fontsize='medium')","af28b4ae":"# get a list of ineividual categories\ncategories = [category for category in data['device_category'].unique()]\n\n# get the total number of injuries for each category\ninjuries = []\nfor cat in categories:\n    # store total injuries per category in a dictionary\n    injuries.append({'category':cat, 'injuries':data[data['device_category']==cat]['num_injured'].sum()})\n\n# convert dictionary to a dataframe for easy graphical visualization\ndf = pd.DataFrame(sorted(injuries, key=lambda x:x['injuries'], reverse=True))\n         \n# set up the graph\nplt.figure(figsize=(16,8))\nax = sns.lineplot(data=df, x='category', y='injuries', marker='o')\n\n# set specific tick labels and rotation\nax.set_xticklabels(labels=categories, rotation=45)\n\n# set title and x,y labels\nax.set_title('Injuries Per Category of Park\\n', fontsize='large')\nax.set_xlabel('Category', fontsize='medium')\nax.set_ylabel('Injuries\\n', fontsize='medium')","8a3e32ef":"## Import Data ##\n\n* **Data Source**: https:\/\/ridesdatabase.org\/saferparks\/data\/\n","0e4c92ff":"### Injuries Per Cause of Ride Malfunction","270fa0d9":"### Injuries Per Category of Park","38fee8da":"## Graphical Analysis With `matplotlib.pyplot` And `seaborn` ","ddb62c65":"### Total Injuries Per Year","22a2714e":"### Injuries Per Type of Ride","6a546ed5":"### Injuries Per Park","f244d2cf":"### Injuries Per Year","aaafd2e7":"---"}}