{"cell_type":{"1dc29ebb":"code","5f03c945":"code","cf758057":"code","7499f448":"code","780bf481":"code","e2e04fbf":"code","64568786":"code","2b2a0262":"code","040af90f":"code","5572c532":"code","a89103da":"code","7978009f":"code","a3751dcc":"code","e0bf03c5":"code","748a943d":"code","c6688c3f":"code","fe8dc720":"code","978f0456":"code","5f6ca1d3":"code","d9cc38a3":"markdown","e7a08d85":"markdown","73b4f39e":"markdown","1ddcef07":"markdown","d3a46c1f":"markdown","3bcf8b72":"markdown","f245e680":"markdown","265c8cca":"markdown","af053682":"markdown","1b789afe":"markdown","2c994ee2":"markdown","e1027441":"markdown","22051871":"markdown","015f444c":"markdown","fdd8a068":"markdown","d68c5587":"markdown","0f624492":"markdown","78843097":"markdown"},"source":{"1dc29ebb":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","5f03c945":"movies = pd.read_csv('\/kaggle\/input\/movie-ratings-dataset\/movie_ratings.csv').iloc[:,1:]\nmovies.head(5)\n\n# .iloc[] is used to select specific cells, using the numerical index, which takes two arguments: row index, column index\n# .head(n) displays the first n rows of the dataset","cf758057":"movies = movies.set_index('movie')\nmovies.head(5)\n\n# .set_index() is used to set a column as the index of the dataframe","7499f448":"movies.shape[0]\n\n# .shape gives the size of dataset, with .shape[0] displays rows and .shape[1] displays columns","780bf481":"round(movies.imdb.mean(),2)\n\n# .mean() calculates the mean of selected data","e2e04fbf":"movies.imdb.median()\n\n# .median() calculates the median of selected data","64568786":"movies.groupby('imdb').size().plot.line()\n\n# .groupby(x) splits data into subgroups based on feature x, i.e. split-apply-combine\n\n# .plot.line() gives the graph, which is a line plot in this case","2b2a0262":"movies[ movies.imdb >= 9 ].shape[0]\n\n# movies[ movies.imdb >= 9 ] conditional selecting: select all rows with imdb >= 90","040af90f":"movies[ movies.imdb >= 8 ].shape[0]","5572c532":"movies.groupby('year').size()\n\n# .groupby.size() counts frequency - it first splits the dataset into subgroups and then count the frequencies of each subgroup","a89103da":"movies.groupby('year').imdb.mean()\n\n# it first splits the dataset into subgroups and then calculate the mean of each subgroup","7978009f":"movies.groupby('year').imdb.mean().sort_values(ascending=False).head(5)\n\n# .sort_values() is used to sort the data in either ascending or descending order","a3751dcc":"movies.groupby('year').imdb.mean().plot.line()","e0bf03c5":"movies.sort_values('votes', ascending=False).head(1)","748a943d":"movies.sort_values('imdb', ascending=False).head(1)","c6688c3f":"movies.sort_values('votes').head(1)","fe8dc720":"movies.sort_values('imdb').head(1)","978f0456":"adam_sandler = movies.loc[['Mr. Deeds','Anger Management','50 First Dates','The Longest Yard','Click','Reign Over Me','I Now Pronounce You Chuck and Larry','Bedtime Stories','Funny People','Grown Ups','Just Go with It','Jack and Jill','Hotel Transylvania','Grown Ups 2','Blended','Pixels','Hotel Transylvania 2','The Ridiculous']]\n\n# .loc[] is used to select rows using index, not numerical index 0,1,2,etc., but actual index of the dataframe","5f6ca1d3":"round(adam_sandler.imdb.mean(),2)","d9cc38a3":"Learn the average rating score for all the movies in this dataset.\n\nWe can see that the average rating score for all the movies in this dataset is 7.24\n","e7a08d85":"Now, we want to analyze the data by year.\nDisplay the sizes of movies in each year in this dataset.\n\nWe find out that the sizes of each year are nearly equal (~100)","73b4f39e":"Then we want to know the average rating of Adam Sandler's movies.\n\nThe average rating of Adam Sandler's movies is 6.39, which is lower than the average rating score.","1ddcef07":"Load the dataset and display the first 5 rows","d3a46c1f":"Then we want to know how many movies are rated above 8.\n\nThere are 334 movies rated above 8.","3bcf8b72":"Now, display the average rating score for each year","f245e680":"Display the movie that has the lowest rating score.\n\nIt is interesting to know that 'Fifty Shades of Grey' has the lowest rating because that movie drew lots of attention in the industry at the time when it was released.","265c8cca":"Similarly, we can learn about which movie has the least ratings.","af053682":"Display the movie that has the highest rating","1b789afe":"Display the line plot of the ratings by year.\n\nWe can see that the trends of the change in ratings.","2c994ee2":"Learn the median of the rating scores for all the movies in this dataset.\n\nWe can see that the median of all ratings are 7.3.","e1027441":"Display the line plot of the distribution of ratings.\n\nFrom the graph, we can see that the majority of movies are rated from around 6.8 to 8.","22051871":"Learn how many movies are in this dataset.\n\nThere are 1800 movies in this dataset.","015f444c":"Now we want to discover the movies made by Adam Sandler.\n\nFirst, we look for movies of Adam Sandler.","fdd8a068":"Among all 1800 movies, we want to how many movies are rated above 9.\n\nOnly 28 movies are rated above 9.","d68c5587":"From this list, display the top 5 years that have the highest average ratings.\n\nWe can see that 2005, 2014, 2011, 2006 and 2013 are the top 5 years, which means that these years are \"big years\" in the film industry. Also, it means that the competition of all kinds of film awards are intense in these years.","0f624492":"Set movie names as index","78843097":"Now, we want to learn which movie has the most ratings in this dataset.\n\nIt is 'The Dark Knight.'\nThe rating of this movie is as high as 9.0, which makes sense because voting numbers and voting scores should be positively correlated."}}