{"cell_type":{"4eb58ed0":"code","74f6b4d4":"code","bca35036":"code","51d24372":"code","2e644824":"code","512aa21d":"code","7b4934a2":"code","e91124aa":"code","f874e0d6":"code","4f68e0ad":"code","33dfcd64":"code","c7ca8c9f":"code","2fa79f49":"markdown","cdfee477":"markdown","570d3b5f":"markdown","31455fcd":"markdown","cfaaa4b2":"markdown","6738e3f5":"markdown","aec262c9":"markdown","9d949a17":"markdown","b8f28478":"markdown"},"source":{"4eb58ed0":"from mpl_toolkits.basemap import Basemap\nimport matplotlib.pyplot as plt\nfrom matplotlib.patches import Polygon\nfrom matplotlib.collections import PatchCollection\nfrom matplotlib.patches import PathPatch\n\nimport numpy as np\nimport pandas as pd \nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.graph_objects as go","74f6b4d4":"data = pd.read_csv('..\/input\/forest-fires-in-brazil\/amazon.csv',encoding=\"ISO-8859-1\")\ndata.head()","bca35036":"fig = go.Figure()\nfor i in data['state'].unique():\n    datas = data[data['state']==i][['date','state','number']].groupby(['date','state']).mean().reset_index()\n    fig.add_trace(go.Scatter(x=datas['date'], y=datas['number'], name=i,\n                        line_shape='linear'))\nfig.show()","51d24372":"state_dict = {'Amapa':'Amap\u00e1', 'Ceara':'Cear\u00e1', 'Goias':'Goi\u00e1s', \n 'Maranhao': 'Maranh\u00e3o', 'Paraiba':'Para\u00edba', \n 'Piau':'Piau\u00ed', 'Rio':'Rio de Janeiro', 'Rondonia':'Rond\u00f4nia', 'Sao Paulo':'S\u00e3o Paulo'}\ndata['state'].replace(state_dict, inplace=True)","2e644824":"from IPython.display import Image\nImage('..\/input\/brazil-img\/brazil-states-map.gif',width=500, height=40)","512aa21d":"cm = plt.get_cmap('afmhot')\nplt.figure(figsize=(10,1))\nfor i in np.arange(250):\n    plt.scatter(i,0, c=cm(i), s=1000);\n    frame1 = plt.gca()\n    frame1.axes.get_yaxis().set_visible(False)","7b4934a2":"def map_fires(year, ax):\n    data_years = data[data['year']==year][['state','number']].groupby(['state']).mean().reset_index()\n    cm = plt.get_cmap('afmhot')\n    sns.set(style=\"white\",font_scale=1.5)\n#     fig = plt.figure(figsize=(10,10))\n#     ax = fig.add_subplot(111)\n    map = Basemap(projection='mill',llcrnrlat=-35,urcrnrlat=10,\\\n                llcrnrlon=-80,urcrnrlon=-30,resolution='c')\n    map.drawparallels(np.arange(-90,91.,30.))\n    map.drawmeridians(np.arange(-90,90.,60.))\n    map.drawmapboundary(fill_color='aqua')\n    map.fillcontinents(color='#ddaa66',lake_color='aqua', alpha=1)\n    map.drawcoastlines()\n\n    map.readshapefile('\/kaggle\/input\/brazil-vers-3\/gadm36_BRA_1', 'comarques', linewidth=2)\n\n    for state in data_years['state'].unique():\n        patches   = []\n        for info, shape in zip(map.comarques_info, map.comarques):\n            if info['NAME_1'] == state:\n                patches.append( Polygon(np.array(shape), True) )\n        ax.add_collection(PatchCollection(patches,facecolor=cm(int(data_years[data_years['state']==state]['number'].iloc[0])),\n                                          linewidths=1., zorder=4)) ","e91124aa":"fig = plt.figure(figsize=(40,40))\nfor i,year in enumerate([1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006]):\n    ax1 = fig.add_subplot(3,3,i+1)\n    ax1.set_title(year, fontsize=40)\n    map_fires(year, ax1)\nplt.tight_layout()","f874e0d6":"fig = plt.figure(figsize=(40,40))\n# for i,year in enumerate(list(data['year'].unique())):\nfor i,year in enumerate([2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017]):\n    ax1 = fig.add_subplot(3,3,i+1)\n    ax1.set_title(year, fontsize=40)\n    map_fires(year, ax1)\nplt.tight_layout()","4f68e0ad":"from PIL import Image\nwith Image.open('..\/input\/brazil-img\/Brazilian_states_by_population_2013.png') as img:\n    width, height = (8,8)","33dfcd64":"from IPython.display import Image\nplt.figure(figsize=(10,10));\nImage('..\/input\/brazil-img\/Brazilian_states_by_population_2013.png',width=400, height=30)","c7ca8c9f":"plt.figure(figsize=(20,10))\nsns.boxplot(data.year,data.number);","2fa79f49":"Here you can see population distirution, and you can see that fires often occur in populated areas.","cdfee477":"This plot seems messy, but it's pyplot and you can choose what state you want see.","570d3b5f":"Let's see Brazil states map:","31455fcd":"Now see how changed situation during years. ","cfaaa4b2":"Visualize colormap for fire plots:","6738e3f5":"Thank you for reading! I hope this kernel was helpful for you. \nIf you like same map visualization, you can see my other kernels: \nhttps:\/\/www.kaggle.com\/nikitagrec\/kernels","aec262c9":"And here plot recently years:","9d949a17":"Change state names from dataset","b8f28478":"Here we can see the same trend: fires do not get smaller with time. And you can see that if there are a lot of fires in some year, they burned in all regions, not local."}}