{"cell_type":{"f70ab814":"code","376ca226":"code","95adbdeb":"code","53ec5171":"code","b6ff1422":"code","29e9ecd8":"code","ab649d02":"code","6dd4d9a3":"code","869863d3":"code","1710d156":"code","77077051":"code","fa904cfd":"markdown","76c49800":"markdown","554c5525":"markdown","3e294adf":"markdown","8d23feef":"markdown","ea59eebd":"markdown","85ee3f34":"markdown","d1727812":"markdown"},"source":{"f70ab814":"import numpy as np \nimport pandas as pd\nfrom matplotlib import pyplot as plt\nimport seaborn as sns\nfrom matplotlib import cm\n\nsns.set_theme()\ndata = pd.read_csv('..\/input\/allrussian-math-olympiad-results-20092021\/results.csv',\n                   index_col=0)\ndata.head(5)","376ca226":"plt.title('Participants count by years')\nsns.lineplot(data=data.groupby('year').size())\nplt.show()","95adbdeb":"dp = sns.displot(data=data, x=\"points\", col='grade',\n                 bins=list(range(0, 57)),\n                 linewidth=1, edgecolor='black'\n                )\ndp.fig.subplots_adjust(top=0.8)\ndp.fig.suptitle('Points distibution by grades', fontsize=18)\nplt.show()","53ec5171":"dy = sns.displot(data=data, x=\"points\", col='year', col_wrap=6,\n                 bins=list(range(0, 57)),\n                 linewidth=1, edgecolor='black'\n                )\ndy.fig.subplots_adjust(top=0.8)\ndy.fig.suptitle('Points distibution by years', fontsize=18)\nplt.show()","b6ff1422":"ps = list(map(lambda x: f'p{x}', [i for i in range(1, 9)]))\nproblems = data[ps].mean().sort_values(ascending=False)\nsns.barplot(x=problems.index, y=problems)\nplt.title('Mean points on problems')\nplt.show()","29e9ecd8":"f, plots = plt.subplots(2, 4, figsize=(20,10), linewidth=5, edgecolor=\"#04253a\")\ncs=cm.Set1(np.arange(14)\/7.)\n\nfor i in range(1, 9):\n    scores = data[f'p{i}'].value_counts().sort_index(ascending=False)\n    plot = plots[i \/\/ 5, (i - 1) % 4]\n    plot.pie(x=scores, labels=scores.index)\n    plot.set_title(f'Problem {i}')\n\nplt.show()","ab649d02":"statuses = data['status_eng'].value_counts()\n\nplt.pie(x=statuses, autopct=\"%.1f%%\", labels=statuses.index, pctdistance=0.5)\nplt.title('Final status')\n\nplt.show()","6dd4d9a3":"points_by_region = data.groupby('region_eng').points.agg(['size', 'median', 'mean'])\npoints_by_region = points_by_region[points_by_region['size'] >= 5]","869863d3":"points_by_region.sort_values(['size'], ascending=False).head(10)","1710d156":"points_by_region.sort_values(['median'], ascending=False).head(10)","77077051":"plt.title('Share of participants from Moscow')\nplt.plot(data.groupby('year').apply(lambda df: df[df.region_eng == 'Moscow'].shape[0] \/ df.shape[0]))\nplt.show()","fa904cfd":"# Load data","76c49800":"Regions with the highest median score","554c5525":"# Let's look at points distribution","3e294adf":"Either the problems of the second day are more difficult, or the participants are tired, or maybe both","8d23feef":"# Stats by region","ea59eebd":"Seems that year 2009 was one of the hardest ","85ee3f34":"As we can see, the most popular scores are numbers, divisible by 7. It's pretty obvious since each problem is worth 7 points.","d1727812":"Regions with the largest number of participants"}}