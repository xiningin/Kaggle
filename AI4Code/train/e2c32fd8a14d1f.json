{"cell_type":{"77d34027":"code","12c8656e":"code","45bd7909":"code","f7506d7d":"code","3a370d04":"code","f834d02c":"code","3783eca8":"code","0b96d6b7":"code","ae9983db":"code","47aa8af3":"code","6249fdad":"code","d6e1b37f":"code","4274cc9e":"code","03694a2a":"code","ac586d6b":"code","11e5e156":"code","d1528471":"code","7ef6e976":"code","5da812ff":"code","d521ea02":"code","b06de87c":"code","e360065f":"code","66363f42":"code","ffae2602":"markdown","42443222":"markdown","bf46430f":"markdown","96a23ecc":"markdown","7a3cd26d":"markdown","7622d5c8":"markdown","55c7fa9f":"markdown","f42721eb":"markdown","36895a99":"markdown","355e5e16":"markdown","23997f50":"markdown","d13d044f":"markdown"},"source":{"77d34027":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","12c8656e":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport datetime\nimport folium\nfrom sklearn.cluster import KMeans\nimport matplotlib as mpl","45bd7909":"data = pd.read_csv('\/kaggle\/input\/COVIDPatient.csv')","f7506d7d":"data.head()","3a370d04":"unneccesary_cols = ['State', 'City Name','Locally Acquired Yes\/No', 'Acquired Overseas: Yes\/No', 'Contact Determined']","f834d02c":"data_ = data.drop(unneccesary_cols, axis=1)","3783eca8":"data_.info()","0b96d6b7":"age = data_[\"Age\"]\nfor i in range(0,7054):\n    if age[i] == 'Not Available' :\n        age[i] = '0'\n        \ndata_[\"Age\"] = data_[\"Age\"].astype(str).astype(float)\n\nage = data_[\"Age\"]\nfor i in range(0,7054):\n    if age[i] == '0' :\n        age[i] = age.mean()","ae9983db":"data_.info()","47aa8af3":"sns.countplot(data['Gender'],hue = data['Current Status'])\ndata['Gender'].value_counts()","6249fdad":"sns.countplot(data['Current Status'])\ndata['Current Status'].value_counts()","d6e1b37f":"plt.figure(figsize=(20,10))\n\nsns.countplot(data['Ward Name'])\nplt.xticks(rotation=45)\ndata['Ward Name'].value_counts()","4274cc9e":"sns.catplot(x=\"Current Status\", y=\"Age\", kind=\"violin\", data=data_)","03694a2a":"import re\ndata_[\"Result Date\"] = data_[\"Result Date\"].replace(to_replace ='-', value = '\/', regex = True) ","ac586d6b":"data_['Result Date'] = pd.to_datetime(data_['Result Date'],errors='coerce').dt.date","11e5e156":"df = data_.sort_values('Result Date')","d1528471":"plt.figure(figsize=(15,10))\nsns.countplot(df['Result Date'])\nplt.xticks(rotation=90)","7ef6e976":"plt.figure(figsize=(15,10))\nplt.plot(data['Latitude'], data['Longitude'],'.')\nplt.title('Plot of patient')\nplt.show()","5da812ff":"def get_kmeans_score(data_, center):\n    '''\n    returns the kmeans score regarding SSE for points to centers\n    INPUT:\n        data - the dataset you want to fit kmeans to\n        center - the number of centers you want (the k value)\n    OUTPUT:\n        score - the SSE score for the kmeans model fit to the data\n    '''\n  \n    kmeans = KMeans(n_clusters=center)\n    model = kmeans.fit(data_)\n    score = np.abs(model.score(data_))\n    \n    return score\n\nscores = []\ncenters = list(range(1,25))\n\nfor center in centers:\n    scores.append(get_kmeans_score(data.loc[: ,['Longitude','Latitude']], center))\n    \n    \nplt.plot(centers, scores, linestyle='--', marker='o', color='b');\nplt.xlabel('Number of Centers');\nplt.ylabel('SSE');\nplt.title('SSE vs. Number');","d521ea02":"kmeans = KMeans(n_clusters=4)\n\nkmeans.fit(data.loc[: ,['Longitude','Latitude']]).cluster_centers_","b06de87c":"m = folium.Map(location=[19.198741,72.977948])","e360065f":"folium.Marker([19.19784481, 72.98635878],popup = 'Cluster Center', icon=folium.Icon(color='red') ).add_to(m)\nfolium.Marker([19.17479723, 73.03017528],popup = 'Cluster Center', icon=folium.Icon(color='red') ).add_to(m)\nfolium.Marker([19.19837351, 72.95482727],popup = 'Cluster Center', icon=folium.Icon(color='red') ).add_to(m)\nfolium.Marker([19.2414287 , 72.97456634],popup = 'Cluster Center', icon=folium.Icon(color='red') ).add_to(m)","66363f42":"m","ffae2602":"# lets see number of patients in various containment area wards","42443222":"So it looks like we have 4 clusters, according to the elbow method, since after 4 there is insignificant improvement. Now let's find their coordinates so that we can plot them on the map as well.","bf46430f":"# Age Columns dtype is Object lets convert it to float ","96a23ecc":"Description:\nThis data provides information about the COVID-19 about the patients, containment areas, Hospital details, Quarantine facilities and Food shelter distribution details etc.\n\nReleased Under:\nNational Data Sharing and Accessibility Policy (NDSAP)\n\nContributor:\nMaharashtra Thane\n\nSectors:\nHealthFamily WelfareHealth and Family welfare\n\nPublished on Data Portal:\nJune 30, 2020","7a3cd26d":"* we have Result Date column values in 2 formats containg - and \/ in between \n* lets replace all - in Result Date to \/\n* lets sort data_ with respect to Result Dates","7622d5c8":"1. first converted \"Not Available\" values in Age column to \"0\"\n2. converted dtype object to float\n3. replaced all zero values with mean of Age.","55c7fa9f":"# Lets check the current status of the patients","f42721eb":"we can see that as age increases discharge rate decreases and death rate increases ","36895a99":"* lets remove the unneccessary colums which are 'State', 'City Name' and 'Contact Determined' contains only one value each. i.e. Maharastra Thane and Under Investigation Respectively\n* we are removing 'Locally Acquired Yes\/No', 'Acquired Overseas: Yes\/No' columns as well because all patients acquired corona Locally","355e5e16":"# Let's use the longitude and latitude values so that we can plot them and get insights on clustering.","23997f50":"# Testing Different Numbers of Clusters\nWe will try out different number of clusters using KMeans clustering and then decide what the best number of clusters is by seeing when the SSE score stops improving significantly.","d13d044f":"# Lets check the number of positive cases with respect to Gender"}}