{"cell_type":{"2065c36c":"code","4f3476e2":"code","3b53c5ff":"code","e0e2f2aa":"code","94e64e43":"code","acbb8603":"code","58b306dc":"code","641a5757":"code","84a7116a":"code","a5764a90":"code","84a02dcc":"code","799b5bfb":"code","ca9ffc0f":"code","f2a21746":"code","3cf77720":"code","7f197b6f":"code","b292425f":"code","0f8b01a8":"code","5716da1b":"code","db7668b1":"code","adb63929":"code","94181b35":"code","a73e5dce":"code","2218af17":"markdown","493763b7":"markdown","d720f61b":"markdown","c20d6a32":"markdown","1efa5c15":"markdown"},"source":{"2065c36c":"# data processing\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# graphing\nimport plotly.express as px\nimport seaborn as sns # used for plotting correlation graph\nimport matplotlib.pyplot as plt\n\nfrom textblob import TextBlob","4f3476e2":"df = pd.read_csv('\/kaggle\/input\/urban-dictionary-words-dataset\/urbandict-word-defs.csv', error_bad_lines=False)","3b53c5ff":"df.head()","e0e2f2aa":"df.shape","94e64e43":"df.isna().sum()","acbb8603":"df = df.dropna()\ndf.isna().sum()","58b306dc":"ds = df[['word', 'up_votes', 'down_votes', 'definition']].copy()","641a5757":"ds.loc['up_votes'] = pd.to_numeric(ds['up_votes'], errors='coerce')\nds.loc['down_votes'] = pd.to_numeric(ds['down_votes'], errors='coerce')\nds = ds.dropna()","84a7116a":"ds.head()","a5764a90":"ds[ds.down_votes.isin([0, 0.0])] = 1\nds[ds.up_votes.isin([0, 0.0])] = 1\nds = ds[ds.down_votes > 0]\nds = ds[ds.up_votes > 0]\nds['ratio_of_votes'] = ds.up_votes.div(ds.down_votes)\nds['total_votes'] = ds.up_votes.add(ds.down_votes)","84a02dcc":"ds.sort_values(by=['ratio_of_votes'], ascending=False).tail(10)","799b5bfb":"ds = ds.sort_values(['ratio_of_votes'])\nfig = px.bar(\n    ds.tail(40), \n    x=\"ratio_of_votes\", \n    y=\"word\", \n    text='definition',\n    orientation='h', \n    title='Best ratio of votes', \n    width=2000, \n    height=800\n)\nfig.update_traces(textposition='outside')\nfig.show()","ca9ffc0f":"ds = ds.sort_values(['ratio_of_votes'], ascending=False)\nfig = px.bar(\n    ds.tail(40), \n    x=\"ratio_of_votes\", \n    y=\"word\", \n    text='definition',\n    orientation='h', \n    title='Worst ratio of votes', \n    width=2000, \n    height=800\n)\nfig.update_traces(textposition='outside')\nfig.show()","f2a21746":"ds1 = df['author'].value_counts().reset_index()\nds1.columns = ['author', 'count']\nds1 = ds1.sort_values(['count'])\nfig = px.bar(\n    ds1.tail(40), \n    x=\"count\", \n    y=\"author\", \n    orientation='h', \n    title='Top 40 authors by number of publications (authors are just hashes of the name :( )', \n    width=800, \n    height=800\n)\nfig.show()","3cf77720":"ds['definition'] = ds['definition'].apply(str)","7f197b6f":"ds.head()","b292425f":"polarity = []\nsubjectivity = []\nfor i in range(ds.shape[0]):\n    blob = TextBlob(ds['definition'].values[i])\n    sentiment = blob.sentiment\n    polarity.append(sentiment[0])\n    subjectivity.append(sentiment[1])","0f8b01a8":"ds['polarity'] = polarity\nds['subjectivity'] = subjectivity","5716da1b":"f, (ax1, ax2) = plt.subplots(1, 2, sharey=False, figsize=(16, 8))\nplt.style.use('seaborn-pastel')\nax1.boxplot(ds.polarity)\nax1.set_title('Polarity')\nax2.set_title('Subjectivity')\nax2.boxplot(ds.subjectivity);","db7668b1":"f, (ax1, ax2, ax3) = plt.subplots(3, 1, sharex=True, figsize=(16, 20))\nax1.hist(ds.polarity, bins=20, density=True, color='skyblue')\nax1.set_title(\"Histogram of Polarity\")\nax2.hist(ds.polarity[ds.ratio_of_votes >15], bins=20, color='lightgreen', density=True)\nax2.set_title(\"Polarity with ratio of votes > 15\")\nax3.hist(ds.polarity[ds.ratio_of_votes > 50], bins=20, color='lightpink', density=True)\nax3.set_title(\"Polarity with ratio of votes > 50\");","adb63929":"f, (ax1, ax2, ax3) = plt.subplots(3, 1, sharex=True, figsize=(16, 20))\nax1.hist(ds.subjectivity, bins=20, density=True, color='skyblue')\nax1.set_title(\"Subjectivity\")\nax2.hist(ds.subjectivity[ds.ratio_of_votes >15], bins=20, color='lightgreen', density=True)\nax2.set_title(\"Subjectivity with ratio of votes > 15\")\nax3.hist(ds.subjectivity[ds.ratio_of_votes > 50], bins=20, color='lightpink', density=True)\nax3.set_title(\"Subjectivity with ratio of votes > 50\");","94181b35":"# words, definitions that obtained completely positive sentiment values\nprint(ds.loc[ds.polarity == 1, 'definition'].head(10))\nprint(ds.loc[ds.polarity == 1, 'word'].head(10))","a73e5dce":"plt.rcParams['figure.figsize'] = (16, 8)\nplt.style.use('fast')\n\nsns.set(style=\"whitegrid\")\ncorr = ds.corr()\nsns.heatmap(corr,annot=True,cmap=\"coolwarm\")","2218af17":"# Quick Data Visualization","493763b7":"### **Conclusion**: there is no apparent non-trivial correlation","d720f61b":"<center><h1>Sentiment Analysis using TextBlob's Pretrained Model<\/h1><\/center>\n<br>\n<center>Sentiment analysis refers to the use of natural language processing, text analysis, computational linguistics, and biometrics to systematically identify, extract, quantify, and study affective states and subjective information.<\/center>\n<br>\n<center><img heigh=300 width=300 src=https:\/\/textblob.readthedocs.io\/en\/dev\/_static\/textblob-logo.png><\/center>\n<center><h4>I will be using the TextBlob Python package for predicting subjectivity and polarity of the definitions of these Urban Dictionary words; I will compare the polarity to up_vote ratings to see if there is a correlation between positivity and rating or other such correlations. I'm a beginner with this so please feel free to comment and yell at me how bad this is and then maybe how to improve.<\/h4><\/center>\n","c20d6a32":"## Correlation\nmaybe there is a correlation between positivity (high polarity) and up_votes or down_votes","1efa5c15":"# SENTIMENT ANALYSIS:"}}