{"cell_type":{"da19109b":"code","c5329d63":"code","fcf3c08f":"code","ac94cd23":"code","287d865f":"code","102f1ccb":"code","005bc4c7":"code","d8044192":"code","d2b0c383":"code","bbb9f669":"code","4f61eafd":"markdown","a5f6780b":"markdown","d8000129":"markdown","b8a48b98":"markdown","ad9cf66c":"markdown","8c77323c":"markdown","1388114d":"markdown"},"source":{"da19109b":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt","c5329d63":"# Load the data\ndf = pd.read_csv('..\/input\/us-gdp-by-state-19972020\/SAGDP2N__ALL_AREAS_1997_2020.csv');\ndf.shape","fcf3c08f":"df.head()","ac94cd23":"# Count the unique categories\ncategory_count = str(len(df['Description'].unique()))\nprint(\"There are \" + category_count + \" categories, therefore \" + category_count + \" rows for each 'area'.\")","287d865f":"# List all the categories\ndf['Description'].unique()","102f1ccb":"df1 = df[df['GeoName'] == 'New York']\ndf1.shape","005bc4c7":"df1.head(10)","d8044192":"# Get a single row from the original DF\nrow = df.iloc[[3046]]\nrow.head()","d2b0c383":"# Make DF to pivot the columns into rows\nnew_df = pd.DataFrame(columns = ['year','Oil and gas extraction'])\n\n# Loop through the years and get the values from each column\nfor year in range(1997,2020):\n    year = str(year)\n    df2 = pd.DataFrame(row[[year]].astype('float'))\n\n    df2.columns = ['Oil and gas extraction']\n    df2.insert(0, 'year', year)\n    new_df = pd.concat([new_df,df2], ignore_index=True, axis=0)\n    \nnew_df.head(10)","bbb9f669":"# Plot the GDP of Oin and gas extraction in New York over the last 20+ years\nplt.figure(figsize = (12,5))\nplt.title('Oil and Gas Extraction in New York 1997-2020 (millions of dollars)')\nsns.lineplot(data=new_df, x='year', y='Oil and gas extraction');","4f61eafd":"- We get 92 rows for each state, one for each industry category. Let's look at the first few.","a5f6780b":"- These represent each of the industry categories that are available.\n- Let's get a specific state and look at some data for it.","d8000129":"- Now we can pick a specific industry and grab the row.","b8a48b98":"- This set has 5,528 rows of data in 32 columns.\n- The first 8 columns describe the row.\n- The GeoName column specifies whether the row references the entire US, or a specific state.\n- The Description column specifies the type of industry (Agriculture, Farms, Textile Mills etc).\n- The rest of the columns are the values for each year.","ad9cf66c":"- Now we'll iterate over the year columns and pivot them into a better table.","8c77323c":"- This is just a simple example to explain how to drill down into BEA data. I'm sure there are better methods.\n- There's lots of interesting data to explore in this set!","1388114d":"## US Gross Domestic Product by State\n\n- This notebook explores the BEA (https:\/\/bea.gov) GDP by State dataset.\n- It contains 25 categories of spending data by US region, State and County for the years 1997-2019"}}