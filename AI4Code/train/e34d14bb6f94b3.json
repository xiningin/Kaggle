{"cell_type":{"9a389abd":"code","23359e34":"code","5624f143":"code","44079bcb":"code","9cefc1cc":"code","e9ad485c":"code","61a2e9c9":"code","6febc048":"code","a9e28d91":"code","96ce9bff":"code","0173d4e5":"code","c5b27306":"code","08f18bef":"code","eaa68439":"code","6f292dd3":"code","65df8203":"code","36bff8e0":"code","11107cc6":"code","9d3fc70e":"markdown","177c989d":"markdown","106d8cbe":"markdown","57789bc8":"markdown","b71c74d8":"markdown","3a940f63":"markdown","c4e1abf3":"markdown","87a6714b":"markdown","a49a5209":"markdown","e1a350c1":"markdown"},"source":{"9a389abd":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport plotly\nimport plotly.express as ex\nimport plotly.graph_objs as go\nimport matplotlib.pyplot as plt\n%matplotlib inline","23359e34":"## Read data\ndata=pd.read_csv('\/kaggle\/input\/forbes-billionaires-2021-30\/forbes_billionaires_geo.csv')","5624f143":"data.head()","44079bcb":"## Get the country wise net worth\ndata['NetWorth']=data['NetWorth'].astype(float)","9cefc1cc":"## group data by country on total net worth and count of billionaire\ncountry_grp=data.groupby(by='Country').agg({'Name':'count','NetWorth':'sum'}).reset_index()","e9ad485c":"country_grp.rename({'Name':'CountofName','NetWorth':'SumofNetworth'},axis=1,inplace=True)\ncountry_grp['%CountofName']=round(country_grp['CountofName']\/sum(country_grp['CountofName'])*100,2)\ncountry_grp.sort_values(by='SumofNetworth',ascending=False,inplace=True)\ncountry_grp.reset_index(drop=True,inplace=True)\ncountry_grp['SumofNetworth']=round(country_grp['SumofNetworth'],2)","61a2e9c9":"### Top 20 country wise total worth and % count of billionaires\nfrom plotly.subplots import make_subplots\nimport plotly\nimport plotly.graph_objs as go\nfig=go.Figure()\nfig.add_trace(go.Bar(\n    x=country_grp['Country'][:20],\n    y=country_grp['SumofNetworth'][:20],\n    name='Total Net worth',\n    marker_color='aqua',\n    text=country_grp['SumofNetworth'][:20],\n    textposition='inside',\n    yaxis='y1'\n))\nfig.add_trace(go.Scatter(\n    x=country_grp['Country'][:20],\n    y=country_grp['%CountofName'][:20],\n    name='Percentage Billionaires',\n    mode='markers+text',\n    marker_color='red',\n    marker_size=8,\n    text=country_grp['%CountofName'][:20],\n    textposition='top center',\n    line=dict(color='#5D69B1',dash='dash'),\n    yaxis='y2',\n    texttemplate=\"%{text}%\"\n\n))\nfig.update_layout(\n    title=\"Top 20 Country : Forbes Billionaires Distribution and Networth By Country\",\n    xaxis_title=\"Country\",\n    yaxis_title=\"Total Worth\",\n    template='plotly_dark',\n    font=dict(\n        size=10,\n        color=\"white\",\n        family=\"Courier\"\n    ),\n    xaxis=dict(showgrid=True),\n    yaxis=dict(showgrid=True),\n    yaxis2=dict(showgrid=True,overlaying='y',side='right',title='% Billionaires'),\n    legend=dict(\n                        orientation='h',\n                        yanchor=\"bottom\",\n                        y=-0.5,\n                        xanchor=\"center\",\n                        x=0.5,\n                        bgcolor=\"lightgrey\",\n                        bordercolor=\"black\",\n                        borderwidth=2,\n                        font=dict(\n                                family=\"Courier\",\n                                size=12,\n                                color=\"black\"\n                            ))\n)\nfig.show()","6febc048":"### grou data on source by total net worth and count of billionaires\nsource_grp=data.groupby(by='Source').agg({'Name':'count','NetWorth':'sum'}).reset_index()","a9e28d91":"source_grp.rename({'Name':'CountofName','NetWorth':'SumofNetworth'},axis=1,inplace=True)\nsource_grp['%CountofName']=round(source_grp['CountofName']\/sum(source_grp['CountofName'])*100,2)\nsource_grp.sort_values(by='SumofNetworth',ascending=False,inplace=True)\nsource_grp.reset_index(drop=True,inplace=True)\nsource_grp['SumofNetworth']=round(source_grp['SumofNetworth'],2)","96ce9bff":"from plotly.subplots import make_subplots\nimport plotly\nimport plotly.graph_objs as go\nfig=go.Figure()\nfig.add_trace(go.Bar(\n    x=source_grp['Source'][:20],\n    y=source_grp['SumofNetworth'][:20],\n    name='Total Net worth',\n    marker_color='aqua',\n    text=source_grp['SumofNetworth'][:20],\n    yaxis='y1'\n))\nfig.add_trace(go.Scatter(\n    x=source_grp['Source'][:20],\n    y=source_grp['%CountofName'][:20],\n    name='Percentage Billionaires',\n    mode='markers+text',\n    marker_color='red',\n    marker_size=8,\n    text=source_grp['%CountofName'][:20],\n    textposition='top center',\n    textfont=dict(color='green'),\n    line=dict(color='#5D69B1',dash='dash'),\n    yaxis='y2',\n    texttemplate=\"%{text}%\"\n\n))\nfig.update_layout(\n    title=\"Top 20 Sources : Forbes Billionaires Distribution and Networth\",\n    xaxis_title=\"Source\",\n    yaxis_title=\"Total Worth\",\n    template='plotly_dark',\n    font=dict(\n        size=10,\n        color=\"yellow\",\n        family=\"Courier\"\n        \n    ),\n    xaxis=dict(showgrid=True),\n    yaxis=dict(showgrid=True),\n    yaxis2=dict(showgrid=True,overlaying='y',side='right',title='% Billionaires'),\n    legend=dict(\n                        orientation='h',\n                        yanchor=\"bottom\",\n                        y=-0.5,\n                        xanchor=\"center\",\n                        x=0.5,\n                        bgcolor=\"lightgrey\",\n                        bordercolor=\"black\",\n                        borderwidth=2,\n                        font=dict(\n                                family=\"Courier\",\n                                size=12,\n                                color=\"black\"\n                            ))\n)\nfig.show()","0173d4e5":"data['Age'].max()","c5b27306":"### Bucket the age's\ndata['Age_group']=np.where((data['Age']>=18) & (data['Age']<=28),'18-28yrs',\n                          np.where((data['Age']>28) & (data['Age']<=38),'28-38yrs',\n                                  np.where((data['Age']>38) & (data['Age']<=48),'38-48yrs',\n                                          np.where((data['Age']>48) & (data['Age']<=58),'48-58yrs',\n                                                  np.where((data['Age']>58) & (data['Age']<=68),'58-68yrs',\n                                                          np.where(data['Age']>68,'>68yrs','NA'))))))","08f18bef":"data[data['Age_group']=='NA'].shape","eaa68439":"### group data by age groups on total net worth and count of billionaires\nage_grp=data.groupby(by='Age_group').agg({'Name':'count','NetWorth':'sum'}).reset_index()","6f292dd3":"age_grp.rename({'Name':'CountofName','NetWorth':'SumofNetworth'},axis=1,inplace=True)\nage_grp['%CountofName']=round(age_grp['CountofName']\/sum(age_grp['CountofName'])*100,2)\nage_grp.sort_values(by='SumofNetworth',ascending=False,inplace=True)\nage_grp.reset_index(drop=True,inplace=True)\nage_grp['SumofNetworth']=round(age_grp['SumofNetworth'],2)","65df8203":"### Top 20 country wise total worth and % count of billionaires\nfrom plotly.subplots import make_subplots\nimport plotly\nimport plotly.graph_objs as go\nfig=go.Figure()\nfig.add_trace(go.Pie(\n    labels=age_grp[age_grp['Age_group']!='NA']['Age_group'],\n    values=age_grp[age_grp['Age_group']!='NA']['SumofNetworth'],\n    name='Total Net worth',\n    text=age_grp[age_grp['Age_group']!='NA']['SumofNetworth']\n))\nfig.update_layout(\n    title=\"Forbes Billionaires Distribution and Networth by Age Groups\",\n    template='plotly_dark',\n    font=dict(\n        size=10,\n        color=\"yellow\",\n    ),\n    plot_bgcolor='white',\n    legend=dict(\n                        orientation='h',\n                        yanchor=\"bottom\",\n                        y=-0.5,\n                        xanchor=\"center\",\n                        x=0.5,\n                        bgcolor=\"lightgrey\",\n                        bordercolor=\"black\",\n                        borderwidth=2,\n                        font=dict(\n                                family=\"Courier\",\n                                size=12,\n                                color=\"black\"\n                            ))\n)\nfig.show()","36bff8e0":"fig=go.Figure()\nfig.add_trace(go.Box(x=data['Status'],\n                     y=data['NetWorth'],\n                     marker=dict(\n                                color='limegreen',\n                                outliercolor='red',\n                                line=dict(\n                                    outliercolor='red',\n                                    outlierwidth=2)),\n                     name=\"status\",\n                     jitter=0.5,\n                     boxmean='sd',\n                     boxpoints='suspectedoutliers'))\nfig.update_xaxes(title_text=\"Status : Boxplot\")\nfig.update_layout(title={'text':\"Boxplot :NetWorth Hue on Status\",\n                         'xanchor': 'center',\n                         'yanchor': 'top',\n                         'x':0.5,'y':0.97},\n                      template='plotly_dark',\n                      legend=dict(yanchor=\"bottom\",\n                                  y=0.5,\n                                  xanchor=\"center\",\n                                  x=1.2),\n                      barmode='overlay',\n                      annotations=[dict(showarrow=True,\n                                x=2,\n                                y=72,\n                                text=\" Outlier\",\n                                xanchor=\"right\",\n                                xshift=0,\n                                opacity=0.9,\n                                font=dict(color=\"lightgoldenrodyellow\",\n                                          size=12),\n                                arrowcolor=\"lightgoldenrodyellow\",\n                                arrowsize=5,\n                                arrowwidth=0.5,\n                                arrowhead=4)],\n                     font=dict(\n                                size=10,\n                                color=\"yellow\",\n                                family=\"Carrier\"\n                            ),)\nfig.update_traces(opacity=0.5)\nfig.show();","11107cc6":"fig=ex.histogram(data[(data['Status'].notna())&(data['Self_made'].notna())], x='Status', color=\"Self_made\", barmode='group',template=\"plotly_dark\")\nfig.update_xaxes(title_text=\"Self made composition of Status\")\nfig.update_layout(\n            title=\"Self Made Distribution by Status\",\n            template='plotly_dark',\n            font=dict(\n                size=10,\n                color=\"yellow\"),\n           legend=dict(\n                        orientation='h',\n                        yanchor=\"bottom\",\n                        y=-0.5,\n                        xanchor=\"center\",\n                        x=0.5,\n                        bgcolor=\"lightgrey\",\n                        bordercolor=\"black\",\n                        borderwidth=2,\n                        font=dict(\n                                family=\"Courier\",\n                                size=12,\n                                color=\"black\"\n                            )))","9d3fc70e":"<h1 style=\"font-family: Verdana; font-size: 24px; font-style: normal; font-weight: bold; text-decoration: none; text-transform: none; letter-spacing: 3px; background-color: #ffffff; color: navy;\">Import Libraries&nbsp;&nbsp;&nbsp;&nbsp;<\/h1> ","177c989d":"<br>\n<h1 style = \"font-size:40px; font-family:Garamond ; font-weight : normal; background-color: #f6f5f5 ; color : #fe346e; text-align: center; border-radius: 100px 100px;\">Dual Axis plot : Total worth & Percentage count of billionaires By Source<\/h1>\n<br>","106d8cbe":"<br>\n<h1 style = \"font-size:40px; font-family:Garamond ; font-weight : normal; background-color: #f6f5f5 ; color : #fe346e; text-align: center; border-radius: 100px 100px;\">Box PLot - Net worth by Status<\/h1>\n<br>","57789bc8":"<br>\n<h1 style = \"font-size:40px; font-family:Garamond ; font-weight : normal; background-color: #f6f5f5 ; color : #fe346e; text-align: center; border-radius: 100px 100px;\">Pie chart - forbes Billionaire distribution and Net worth<\/h1>\n<br>","b71c74d8":"<br>\n<h1 style = \"font-size:40px; font-family:Garamond ; font-weight : normal; background-color: #f6f5f5 ; color : #fe346e; text-align: center; border-radius: 100px 100px;\">EDA - Forbes Billionaire Dataset<\/h1>\n<br>","3a940f63":"<br>\n<h1 style = \"font-size:40px; font-family:Garamond ; font-weight : normal; background-color: #f6f5f5 ; color : #fe346e; text-align: center; border-radius: 100px 100px;\">Distribution : Status by Self Made<\/h1>\n<br>","c4e1abf3":"<br>\n<h1 style = \"font-size:40px; font-family:Garamond ; font-weight : normal; background-color: #f6f5f5 ; color : #fe346e; text-align: center; border-radius: 100px 100px;\">Dual Axis plot : Total worth & Percentage count of billionaires By Country<\/h1>\n<br>","87a6714b":"<br>\n<h1 style = \"font-size:40px; font-family:Garamond ; font-weight : normal; background-color: #f6f5f5 ; color : #fe346e; text-align: center; border-radius: 100px 100px;\">Source wise distribution<\/h1>\n<br>","a49a5209":"<br>\n<h1 style = \"font-size:40px; font-family:Garamond ; font-weight : normal; background-color: #f6f5f5 ; color : #fe346e; text-align: center; border-radius: 100px 100px;\">Age wise distribution<\/h1>\n<br>","e1a350c1":"<br>\n<h1 style = \"font-size:40px; font-family:Garamond ; font-weight : normal; background-color: #f6f5f5 ; color : #fe346e; text-align: center; border-radius: 100px 100px;\">Plot for Age group<\/h1>\n<br>"}}