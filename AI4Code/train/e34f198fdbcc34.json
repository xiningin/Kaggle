{"cell_type":{"bfa4fea1":"code","e45c9249":"code","543da387":"code","1e51b934":"code","049c1a13":"code","646913f5":"code","035438e7":"code","6a645a96":"code","14068703":"code","2fa4020d":"code","9796d665":"code","f018f1a5":"code","681e2f14":"code","adc44c2b":"code","db397b25":"code","1f64a7eb":"code","4b3eec64":"code","77f8e7b5":"code","d29ce5a0":"code","7a1a5abe":"code","77b581ba":"code","e6ec78cf":"code","ef16179a":"code","b950e88a":"code","fa1745bf":"code","0c56cd6f":"code","e00f1450":"code","f6826ca2":"code","37e93cc2":"code","bd32921a":"markdown","dd16a97a":"markdown","95cc6c54":"markdown","85089f8d":"markdown","f1a2acd1":"markdown","950cb6f6":"markdown","c980b6cc":"markdown","7f8e01cc":"markdown","593cc3b1":"markdown","4e626e15":"markdown","6c7d1c42":"markdown","fd59ea8e":"markdown","21dc2cd4":"markdown","15c0cd61":"markdown","9281262a":"markdown","8a79bfda":"markdown","924f75eb":"markdown","43b61e64":"markdown","93ab96c4":"markdown","40ee19cc":"markdown","27d71e5c":"markdown","e3e34152":"markdown","b597e6e9":"markdown","ed0a6540":"markdown","e7d48fe2":"markdown","aaf70fb7":"markdown"},"source":{"bfa4fea1":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","e45c9249":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\nfrom wordcloud import WordCloud, STOPWORDS","543da387":"df = pd.read_csv('\/kaggle\/input\/us-politicians-twitter-dataset\/dataset.csv')","1e51b934":"print(f'Our dataset has {df.shape[0]} rows and {df.shape[1]} columns')","049c1a13":"df.info()","646913f5":"df.isnull().sum().sort_values(ascending= False)\/len(df)","035438e7":"df = df.drop(columns= ['Account_ID'])","6a645a96":"df['Account_start_time'] = pd.to_datetime(df['Account_start_time'])\ndf['Account_age'] = 2020 - df['Account_start_time'].dt.year","14068703":"df['Instagram_account'] = np.where(df['Instagram_username'].isnull(), False, True)","2fa4020d":"a = df.Sex.value_counts().reset_index()\na.columns = ['sex', 'count']\nfig = px.bar(a, y='sex', x='count', color= 'sex', title= 'Politician sex')\nfig.update_layout(showlegend=False)\nfig.show()","9796d665":"print(df.Sex.value_counts(normalize= True))","f018f1a5":"b = df.Birthplace.value_counts().reset_index()\nb.columns = ['birthplace', 'count']\nb = b.loc[b.birthplace == 'United States of America', :]\n\ndf2 = df[df['Birthplace']!= 'United States of America']\nb2 = df2.Birthplace.value_counts().reset_index()\nb2.columns = ['birthplace', 'count']\n\nfig = make_subplots(rows=1, cols=2, subplot_titles= ('USA Birthplace count', 'Birthplace count (excluding USA)'))\n\nfig.add_trace(go.Bar(y= b['count'], x= b['birthplace'], marker=dict(color=b['count'], coloraxis=\"coloraxis\")), row=1, col=1)\nfig.add_trace(go.Bar(y= b2['count'], x= b2['birthplace'], marker=dict(color=b2['count'], coloraxis=\"coloraxis\")), row=1, col=2)\n\nfig.update_layout(coloraxis=dict(colorscale='fall'), showlegend=False)\nfig.show()","681e2f14":"print(f'The United States birthplace makes up {round(df.Birthplace.value_counts(normalize= True), 4)[0]*100}% of this dataset')","adc44c2b":"c = df.loc[(df['Political_party'] == 'Democratic Party') | (df['Political_party'] == 'Republican Party'), :]\nc = c.Political_party.value_counts().reset_index()\nc.columns = ['party', 'count']\n\nc2 = df.loc[(df['Political_party'] != 'Democratic Party') & (df['Political_party'] != 'Republican Party'), :]\nc2 = c2.Political_party.value_counts().reset_index()\nc2.columns = ['party', 'count']\n\n\nfig = make_subplots(rows=1, cols=2, subplot_titles= ('Democrat and Republican count', 'Other parties count (excluding Dem. and Rep.)'))\n\nfig.add_trace(go.Bar(y= c['count'], x= c['party'], marker=dict(color=c['count'], coloraxis=\"coloraxis\")), row=1, col=1)\nfig.add_trace(go.Bar(y= c2['count'], x= c2['party'], marker=dict(color=c2['count'], coloraxis=\"coloraxis\")), row=1, col=2)\n\nfig.update_layout(coloraxis=dict(colorscale='fall'), showlegend=False)\nfig.show()","db397b25":"conditions = [\n    df['Political_party'] == 'Democratic Party',\n    df['Political_party'] == 'Republican Party'\n]\n\nvalues = [\n    'Democrat', \n    'Republican'\n]\n\ndf['Political_party'] = np.select(conditions, values, default= 'other')","1f64a7eb":"px.histogram(df, df['Age'])","4b3eec64":"print(f'The mean age of a politician in this dataset is {round(df.Age.mean())} years old ')","77f8e7b5":"px.pie(df, df['Instagram_account'], hole= .3, title='Instagram account?')","d29ce5a0":"px.histogram(df, x='Age', color='Political_party')","7a1a5abe":"e = df.groupby(['Political_party', 'Sex']).median().reset_index()\npx.box(df, x='Political_party', y='Age', color= 'Sex', points=\"all\")","77b581ba":"e2 = df.groupby(['Political_party', 'Sex']).mean().reset_index()\npx.sunburst(e2, path=['Political_party', 'Sex'], values='Age', title= 'Sunburst plot for politician age')","e6ec78cf":"px.scatter(df, x='Age', y='Account_age', color= 'Political_party', trendline= 'ols', marginal_y='histogram',\n          title= 'Age vs account age')","ef16179a":"f = df.groupby(['Political_party', 'Instagram_account']).mean().reset_index()\npx.bar(f, y='Political_party', x='Age', color= 'Instagram_account', barmode= 'group')","b950e88a":"f2 = df.groupby(['Sex', 'Instagram_account']).mean().reset_index()\npx.bar(f2, y='Sex', x='Age', color= 'Instagram_account', barmode= 'group')","fa1745bf":"test = df[['Sex', 'Age', 'Political_party', 'Instagram_account']]\npx.parallel_categories(test, title= 'Parallel categories chart')","0c56cd6f":"df['Twitter_username'] = df['Twitter_username'].apply(lambda x: x.lower())\ndf['match'] = np.where(df['Twitter_username'] == df['Instagram_username'], True, False)","e00f1450":"df['fname'] = df['Name'].apply(lambda x: x.split(' ')[0])","f6826ca2":"df_male = df.loc[df['Sex'] == 'male', :]\ndf_female = df.loc[df['Sex'] == 'female', :]\n\nmale = df_male.fname.value_counts().head(15).reset_index()\nmale.columns = ['fname', 'count']\n\n\nfemale = df_female.fname.value_counts().head(15).reset_index()\nfemale.columns = ['fname', 'count']\n\nfig = make_subplots(rows=2, cols=1, subplot_titles= ('Top 15 male name occurence', 'Top 15 female name occurence'))\n\nfig.add_trace(go.Bar(x= male['fname'], y= male['count'], marker=dict(color=male['count'], coloraxis=\"coloraxis\")), row=1, col=1)\nfig.add_trace(go.Bar(x= female['fname'], y= female['count'], marker=dict(color=female['count'], coloraxis=\"coloraxis\")), row=2, col=1)\n\nfig.update_layout(coloraxis=dict(colorscale='fall'), showlegend=False)\nfig.show()","37e93cc2":"px.pie(df, df['match'], title= 'Does Twitter handle match Instagram handle?', hole= .3)","bd32921a":"Does not seem to be any strong correlation between age and age of twitter account","dd16a97a":"Lets mainly explore these categorical variables:\n\n1. Sex\n2. Political party\n3. Instagram_account ","95cc6c54":"# Multivariate analysis","85089f8d":"# Univariate analysis","f1a2acd1":"# Conclusion","950cb6f6":"![](https:\/\/3nions.com\/wp-content\/uploads\/2020\/01\/comp_1.gif)","c980b6cc":"We can see that 70% of the politicians in this dataset are male, 29% are female, and under 1% are transgender female or male","7f8e01cc":"# Libraries","593cc3b1":"# Import dataset","4e626e15":"# Remove unnecessary columns","6c7d1c42":"This confirms the notion that younger people gravitate towards instagram... It makes sense that the average age of politicians who have an account\/use instagram is younger than those who do not. Also, we notice females have the lowest average age when it comes to having an Instagram account. ","fd59ea8e":"### Age distribution","21dc2cd4":"Lets perform some feature engineering before we dive into our analysis. I will be creating a new column for:\n1. Account_age (twitter account)\n2. Instagram_account (boolean\u2014whether they have an account or not)\n\nFirst lets convert the time columns to a dtype that we can work with:","15c0cd61":"### Birthplace","9281262a":"Further analysis can be performed, however I think we have exhausted this dataset. It would be interesting to add statistics such as: follwers, following, likes to the dataset to get a better understanding how these variables affect things like age of politician\/account. If you found this at all helpful\/useful I'd appreciate a \ud83d\udc4d","8a79bfda":"Social media usage, specifically Twitter, can be a very robust tool to a successful political campaign. In this very high level overview dataset, we will be exploring variables such as account age and whether or not the politicians have an Instagram account or not. Furthermore, we will graph our findings in order to make sense of it all.  ","924f75eb":"### Political party association","43b61e64":"# High level overview","93ab96c4":"1. Does Twitter handle match Instagram handle?\n2. First name counts","40ee19cc":"# Feature engineering part II","27d71e5c":"We notice that the Instagram_username column has a large amount of NaN values (above 50%). We will have to decide what do with them later in the code. ","e3e34152":"### Sex","b597e6e9":"# Feature engineering","ed0a6540":"# Introduction","e7d48fe2":"Since majority of our dataset is broken down into 'Democrat' and 'Republican'\u2014we can transform all other parties to 'other' if we feel like it'll help our analysis\/understanding of the data. I'm going to combine the political parties as: Democrat, Republican, and other just for brevity","aaf70fb7":"### Instagram account"}}