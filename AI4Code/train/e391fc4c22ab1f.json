{"cell_type":{"c421048f":"code","7f221d8b":"code","cd88d843":"code","60bb77cb":"code","d28dc5b8":"code","db42c9a4":"code","4ade77cd":"code","90db3a41":"code","432a46b1":"code","49fac7ac":"code","5d4a3ca5":"markdown","cc72e138":"markdown","37cabdcc":"markdown","40aa05d2":"markdown","1afcbbb0":"markdown","7bdaa643":"markdown","c6ffa210":"markdown","fad7f3ac":"markdown"},"source":{"c421048f":"from glob import glob\n\ntrain_images = glob ('..\/input\/train\/train\/*\/*.jpg')","7f221d8b":"train_images[:3], len(train_images)","cd88d843":"from PIL import Image\nimport numpy as np\n\nindoor=[]\noutdoor=[]\n\nfor path in train_images:\n    image = Image.open(path) #\u043e\u0442\u043a\u0440\u0432\u0430\u0435\u043c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443\n    np_image = np.array(image) #\u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u0443\u0435\u043c \u0432 \u043c\u0430\u0441\u0441\u0438\u0432\n    image_class = path.split('\/')[-2] #\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u043c \u043a\u043b\u0430\u0441\u0441\n    \n    if image_class == 'indoor':\n        indoor.append(np_image[:,:,2].mean())\n    else:\n        outdoor.append(np_image[:,:,2].mean())","60bb77cb":"import matplotlib.pyplot as plt\nplt.hist(indoor, range=(0,255), alpha=0.3, color='green',bins=255)\nplt.hist(outdoor, range=(0,255), alpha=0.3, color='red',bins=255)\nplt.show()","d28dc5b8":"X=indoor+outdoor\ny=[0 for i in range(len(indoor))]+[1 for i in range(len(outdoor))]\nmodel = [1 if x>110 else 0 for x in X]","db42c9a4":"import sys\nif 'sklearn' in sys.modules:\n    from sklearn.metrics import roc_auc_score\n    print (roc_auc_score(y, model))\nelse:\n    print ('sklearn is not avaliable')","4ade77cd":"test_images = glob ('..\/input\/test\/test\/*.jpg')","90db3a41":"res=[]\n\nfor path in test_images:\n    imageid = int(path.split('\/')[-1].replace('.jpg',''))\n    image = Image.open(path) \n    np_image = np.array(image) \n    prob = (np_image[:,:,2].mean() > 110)+0.0\n    res.append([imageid, prob])","432a46b1":"import pandas as pd\ndf = pd.DataFrame(res,columns=['image_number','prob_outdoor'])","49fac7ac":"df.to_csv('submission.csv',index=False)","5d4a3ca5":"# \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u043f\u0443\u0442\u0438 \u0434\u043e \u0432\u0441\u0435\u0445 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a","cc72e138":"# \u043f\u043e\u0441\u0447\u0438\u0442\u0430\u0435\u043c \u0446\u0435\u043b\u0435\u0432\u0443\u044e \u043c\u0435\u0442\u0440\u0438\u043a\u0443. \u0432\u0430\u0436\u043d\u043e - sklearn \u043d\u0435\u043b\u044c\u0437\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0438\u0440\u0443\u044e\u0449\u0435\u043c \u043d\u043e\u0443\u0442\u0431\u0443\u043a\u0435 \u043f\u0440\u0438 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0438 \u043c\u043e\u0434\u0435\u043b\u0438!!!  ","37cabdcc":"# \u0441\u0434\u0435\u043b\u0430\u0435\u043c \u0441\u0443\u043f\u0435\u0440 \u043f\u0440\u043e\u0441\u0442\u0443\u044e \u043c\u043e\u0434\u0435\u043b\u044c - \u0435\u0441\u043b\u0438 \u0441\u0440\u0435\u0434\u043d\u0435\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 110  \u0442\u043e outdoor","40aa05d2":"# \u043f\u043e\u0441\u0442\u0440\u043e\u0438\u043c \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0441\u0440\u0435\u0434\u043d\u0435\u0433\u043e \u0441\u0438\u043d\u0435\u0433\u043e \u0446\u0432\u0435\u0442\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0435","1afcbbb0":"# \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c \u0432 csv - \u0438 \u0433\u0440\u0443\u0437\u0438\u043c \u0435\u0433\u043e \u043d\u0430 kaggle!","7bdaa643":"# \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u043e\u0431\u0443\u0447\u0430\u044e\u0449\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f","c6ffa210":"# \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0441\u044f \u0441\u043b\u0430\u0431\u044b\u0439 \u0441\u043a\u043e\u0440 - 0.58. \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u0440\u043e\u0441\u043a\u0440\u043e\u0438\u043c \u0442\u0435\u0441\u0442\u043e\u0432\u0443\u044e \u0432\u044b\u0431\u043e\u0440\u043a\u0443","fad7f3ac":"# \u043f\u043e \u043a\u0430\u0436\u0434\u043e\u0439 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0435 \u043f\u043e\u0441\u0447\u0438\u0442\u0430\u0435\u043c \u0441\u0440\u0435\u0434\u043d\u0438\u0439 \u0446\u0432\u0435\u0442 \u0441\u0438\u043d\u0435\u0433\u043e (blue) \u043a\u0430\u043d\u0430\u043b\u0430"}}