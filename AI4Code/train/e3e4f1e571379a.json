{"cell_type":{"8dc17205":"code","406783e8":"code","dd63e1c7":"code","475ae1d2":"code","7179ae32":"code","f5023846":"code","275facf6":"code","efbe8126":"code","c18a76d0":"code","295482ea":"code","37bdcb80":"code","46aed82f":"code","668902e2":"code","4e72944b":"code","cf6c60fd":"code","92a4161f":"code","8878d2b0":"markdown","e757d032":"markdown","b561fb18":"markdown","7c12ce0f":"markdown","9c765e1c":"markdown"},"source":{"8dc17205":"import warnings\nwarnings.filterwarnings('ignore')\nimport os\nimport gc\nimport pickle\nimport numpy as np\nimport pandas as pd\nimport random as rn\nimport matplotlib.pyplot as plt\n\nfrom tqdm import tqdm\nfrom datetime import datetime","406783e8":"test = pd.read_csv('..\/input\/ashrae-energy-prediction\/test.csv', index_col=0, parse_dates = ['timestamp'])\nbuilding = pd.read_csv('..\/input\/ashrae-energy-prediction\/building_metadata.csv', usecols=['site_id', 'building_id'])","dd63e1c7":"test = test.merge(building, left_on = \"building_id\", right_on = \"building_id\", how = \"left\")","475ae1d2":"submission_base = pd.read_csv('..\/input\/ashrae-half-and-half\/submission.csv', index_col=0)","7179ae32":"submission = submission_base.copy()","f5023846":"site_0 = pd.read_csv('..\/input\/new-ucf-starter-kernel\/submission_ucf_replaced.csv', index_col=0)\n# submission.loc[test[test['site_id']==0].index, 'meter_reading'] = site_0['meter_reading']\n# del site_0\ngc.collect()","275facf6":"site_0.to_csv('site0.csv.gz',index=False,compression='gzip', float_format='%.4f')","efbe8126":"from IPython.display import FileLink\nFileLink('..\/input\/new-ucf-starter-kernel\/submission_ucf_replaced.csv')","c18a76d0":"with open('..\/usr\/lib\/ucl_data_leakage_episode_2\/site1.pkl', 'rb') as f:\n    site_1 = pickle.load(f)\nsite_1 = site_1[site_1['timestamp'].dt.year > 2016]","295482ea":"site_1.to_csv('site1.csv.gz',index=False,compression='gzip', float_format='%.4f')","37bdcb80":"t = test[['building_id', 'meter', 'timestamp']]\nt['row_id'] = t.index\nsite_1 = site_1.merge(t, left_on = ['building_id', 'meter', 'timestamp'], right_on = ['building_id', 'meter', 'timestamp'], how = \"left\")\nsite_1 = site_1[['meter_reading_scraped', 'row_id']].set_index('row_id').dropna()\nsubmission.loc[site_1.index, 'meter_reading'] = site_1['meter_reading_scraped']\ndel site_1\ngc.collect()","46aed82f":"site_2 = pd.read_csv('..\/input\/asu-buildings-energy-consumption\/asu_2016-2018.csv', parse_dates = ['timestamp'])\nsite_2 = site_2[site_2['timestamp'].dt.year > 2016]","668902e2":"site_2.to_csv('site2.csv.gz',index=False,compression='gzip', float_format='%.4f')","4e72944b":"t = test[['building_id', 'meter', 'timestamp']]\nt['row_id'] = t.index\nsite_2 = site_2.merge(t, left_on = ['building_id', 'meter', 'timestamp'], right_on = ['building_id', 'meter', 'timestamp'], how = \"left\")\nsite_2 = site_2[['meter_reading', 'row_id']].set_index('row_id').dropna()\nsubmission.loc[site_2.index, 'meter_reading'] = site_2['meter_reading']\ndel site_2\ngc.collect()","cf6c60fd":"submission.to_csv('submission.csv')","92a4161f":"submission.describe()","8878d2b0":"**Warning !**\nThis is just a test of leaked data. \n**Warning !**\nI just make the leaked data downlable !!\n\nSince @sohier said:\n> We will ensure that any meter readings that can be publicly downloaded are not included in the private set.\n\nhttps:\/\/www.kaggle.com\/c\/ashrae-energy-prediction\/discussion\/117357\n\nIt will nothing about the private LB. You can replce the 'submission_base' with your own one. \nIf everyone use this snippet, maybe it can make public LB some useful.","e757d032":"I used a public kernel from [@rohanrao](http:\/\/www.kaggle.com\/rohanrao) as example.\n\nhttps:\/\/www.kaggle.com\/rohanrao\/ashrae-half-and-half\n\n**Replace this part with yours.**","b561fb18":"* Site 2\n\nThanks [@pdnartreb](https:\/\/www.kaggle.com\/pdnartreb) and his great dataset.\n\nhttps:\/\/www.kaggle.com\/pdnartreb\/asu-buildings-energy-consumption","7c12ce0f":"* Site 0\n\nThanks [@yamsam](https:\/\/www.kaggle.com\/yamsam\/) and his great kernel.\n\nhttps:\/\/www.kaggle.com\/yamsam\/new-ucf-starter-kernel","9c765e1c":"* Site 1\n\nThanks [@mpware](https:\/\/www.kaggle.com\/mpware) and his great kernel.\n\nhttps:\/\/www.kaggle.com\/mpware\/ucl-data-leakage-episode-2\n"}}