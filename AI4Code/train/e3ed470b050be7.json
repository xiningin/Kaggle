{"cell_type":{"3335c868":"code","4f42385c":"code","cf512e1e":"code","b9a907c0":"code","d38129f1":"code","746c79d3":"code","647f1c2b":"code","31aa5a8e":"code","cf401cd0":"code","766db50a":"code","b4c71365":"code","869a2257":"code","8d09d17f":"code","a2b815fa":"code","0db3ff94":"code","4ed05970":"code","9a024ed2":"code","2399773b":"code","1d353cc5":"code","7259f46d":"code","1d87b9ba":"code","69755b69":"code","8785c1cb":"code","3be0905c":"code","a77b32d6":"code","d4128577":"code","17da541c":"code","2a97765f":"code","925353f1":"code","ac837351":"code","20193127":"code","fcf5c898":"code","8412ec85":"code","bcae41ff":"code","28b0bbf7":"code","d06b9e99":"code","661d22b7":"code","ea6bb5ed":"code","9683fa87":"code","52c34dd2":"markdown","dd754285":"markdown","7dda0053":"markdown","7388435d":"markdown","763857a0":"markdown","3ad19ca8":"markdown","23a908f1":"markdown","04cd5451":"markdown","d506f5d9":"markdown","f0d6e168":"markdown","121a7725":"markdown","4ee30660":"markdown","26d60317":"markdown","2c4be9c6":"markdown","573df67e":"markdown","a8ab4a14":"markdown","f98b0c94":"markdown","b08dc9eb":"markdown","30f3ac97":"markdown","b1c983f6":"markdown","2dd8166f":"markdown","7ce54e32":"markdown","6fd8d8cb":"markdown","5ff540cd":"markdown","a7adb5b7":"markdown"},"source":{"3335c868":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib.image as mpimg\n%matplotlib inline\nimport seaborn as sns\nimport warnings\nwarnings.filterwarnings('ignore')","4f42385c":"airbnb=pd.read_csv('..\/input\/madrid-airbnb-data\/listings.csv')\n","cf512e1e":"airbnb.shape","b9a907c0":"airbnb.dtypes","d38129f1":"airbnb.info()","746c79d3":"airbnb.duplicated().sum()\nairbnb.drop_duplicates(inplace=True)","647f1c2b":"airbnb.isnull().sum()","31aa5a8e":"airbnb.drop(['name','id','host_name','last_review'], axis=1, inplace=True)","cf401cd0":"airbnb.head(5)","766db50a":"airbnb.neighbourhood_group.value_counts(normalize=True)","b4c71365":"airbnb.fillna({'reviews_per_month':0}, inplace=True)\n#examing changes\nairbnb.reviews_per_month.isnull().sum()","869a2257":"airbnb.isnull().sum()\nairbnb.dropna(how='any',inplace=True)\nairbnb.info() #.info() function is used to get a concise summary of the dataframe","8d09d17f":"airbnb.describe()","a2b815fa":"airbnb.columns","0db3ff94":"corr = airbnb.corr(method='kendall')\nplt.figure(figsize=(15,8))\nsns.heatmap(corr, annot=True)\nairbnb.columns","4ed05970":"airbnb.shape","9a024ed2":"airbnb.head(15)","2399773b":"import seaborn as sns","1d353cc5":"airbnb['neighbourhood_group'].unique()","7259f46d":"sns.countplot(airbnb['neighbourhood_group'], palette=\"plasma\")\nfig = plt.gcf()\nfig.set_size_inches(10,10)\nplt.title('Neighbourhood Group')","1d87b9ba":"sns.countplot(airbnb['neighbourhood'], palette=\"plasma\")\nfig = plt.gcf()\nfig.set_size_inches(25,6)\nplt.title('Neighbourhood')","69755b69":"\nsns.countplot(airbnb['room_type'], palette=\"plasma\")\nfig = plt.gcf()\nfig.set_size_inches(10,10)\nplt.title('Restaurants delivering online or Not')","8785c1cb":"plt.figure(figsize=(10,10))\nax = sns.boxplot(data=airbnb, x='neighbourhood_group',y='availability_365',palette='plasma')","3be0905c":"plt.figure(figsize=(10,6))\nsns.scatterplot(airbnb.longitude,airbnb.latitude,hue=airbnb.neighbourhood_group)\nplt.ioff()","a77b32d6":"plt.figure(figsize=(10,6))\nsns.scatterplot(airbnb.longitude,airbnb.latitude,hue=airbnb.neighbourhood)\nplt.ioff()","d4128577":"plt.figure(figsize=(10,6))\nsns.scatterplot(airbnb.longitude,airbnb.latitude,hue=airbnb.room_type)\nplt.ioff()","17da541c":"plt.figure(figsize=(10,6))\nsns.scatterplot(airbnb.longitude,airbnb.latitude,hue=airbnb.availability_365)\nplt.ioff()","2a97765f":"from wordcloud import WordCloud","925353f1":"plt.subplots(figsize=(25,15))\nwordcloud = WordCloud(\n                          background_color='white',\n                          width=1920,\n                          height=1080\n                         ).generate(\" \".join(airbnb.neighbourhood))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('neighbourhood.png')\nplt.show()","ac837351":"airbnb.drop(['host_id','latitude','longitude','neighbourhood','number_of_reviews','reviews_per_month'], axis=1, inplace=True)\n#examing the changes\nairbnb.head(5)","20193127":"#Encode the input Variables\ndef Encode(airbnb):\n    for column in airbnb.columns[airbnb.columns.isin(['neighbourhood_group', 'room_type'])]:\n        airbnb[column] = airbnb[column].factorize()[0]\n    return airbnb\n\nairbnb_en = Encode(airbnb.copy())","fcf5c898":"airbnb_en.head(15)","8412ec85":"#Get Correlation between different variables\ncorr = airbnb_en.corr(method='kendall')\nplt.figure(figsize=(18,12))\nsns.heatmap(corr, annot=True)\nairbnb_en.columns","bcae41ff":"from sklearn.linear_model import LogisticRegression\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import classification_report\nfrom sklearn.metrics import confusion_matrix\nfrom sklearn.metrics import r2_score","28b0bbf7":"#Defining the independent variables and dependent variables\nx = airbnb_en.iloc[:,[0,1,3,4,5]]\ny = airbnb_en['price']\n#Getting Test and Training Set\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=.1,random_state=353)\nx_train.head()\ny_train.head()","d06b9e99":"x_train.shape","661d22b7":"#Prepare a Linear Regression Model\nreg=LinearRegression()\nreg.fit(x_train,y_train)\ny_pred=reg.predict(x_test)\nfrom sklearn.metrics import r2_score\nr2_score(y_test,y_pred)","ea6bb5ed":"#Prepairng a Decision Tree Regression\nfrom sklearn.tree import DecisionTreeRegressor\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=.1,random_state=105)\nDTree=DecisionTreeRegressor(min_samples_leaf=.0001)\nDTree.fit(x_train,y_train)\ny_predict=DTree.predict(x_test)\nfrom sklearn.metrics import r2_score\nr2_score(y_test,y_predict)","9683fa87":"#Prepairng a Decision Tree Regression\nfrom sklearn.tree import DecisionTreeRegressor\nx_train,x_test,y_train,y_test=train_test_split(x,y,test_size=.1,random_state=105)\nDTree=DecisionTreeRegressor(min_samples_leaf=.0001)\nDTree.fit(x_train,y_train)\ny_predict=DTree.predict(x_test)\nfrom sklearn.metrics import r2_score\nr2_score(y_test,y_predict)","52c34dd2":"# Breakdown of this notebook:\n1. **Importing Libraries**\n2. **Loading the dataset**\n3. **Data Cleaning:** \n - Deleting redundant columns.\n - Dropping duplicates.\n - Cleaning individual columns.\n - Remove the NaN values from the dataset\n - Some Transformations\n4. **Data Visualization:** Using plots to find relations between the features.\n    - Get Correlation between different variables\n    - Plot all Neighbourhood Group\n    - Neighbourhood\n    - Room Type\n    - Relation between neighbourgroup and Availability of Room\n    - Map of Neighbourhood group\n    - Map of Neighbourhood\n    - Availabity of rooom\n5. **Word Cloud**\n6. **Regression Analysis**\n - Linear Regression\n - Decision Tree Regression\n - Random Forest Regression\n","dd754285":"### Print all the columns names","7dda0053":"### Room Type","7388435d":"#### Print the Shape of the dataset","763857a0":"#### Drop unnecessary columns","3ad19ca8":"## WordCloud","23a908f1":"### Get Correlation between different variables","04cd5451":"### Examining Changes","d506f5d9":"## Loading Dataset","f0d6e168":"#### Remove the NaN values from the dataset","121a7725":"#### Relation between neighbourgroup and Availability of Room","4ee30660":"## Data Visualization","26d60317":">  # <font color='orange'> Please UPVOTE if you found these helpful :) <\/font>","2c4be9c6":"## Availability of Room","573df67e":"## Importing Libraries","a8ab4a14":"## For further updates of this Kernel check into this GitHub Link: https:\/\/github.com\/ankitpatel1661\/Madrid-Airbnb","f98b0c94":"### Examine Continous Variables","b08dc9eb":"## Regression Analysis","30f3ac97":"#### Removing the Duplicates if any","b1c983f6":"#### Print the Datatypes of the dataset","2dd8166f":"## Map of Neighbourhood","7ce54e32":"1. #### Rreplace the 'reviews per month' by zero","6fd8d8cb":"### Neighbourhood","5ff540cd":"### Plot all Neighbourhood Group","a7adb5b7":"## Map of Neighbourhood group"}}