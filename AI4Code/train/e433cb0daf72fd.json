{"cell_type":{"59f73337":"code","9c99e489":"code","ef4ad38f":"code","22f5cefd":"code","0dabe078":"code","84300d53":"code","1942ad4f":"code","4ea75881":"code","ba9916d4":"code","ccb8c1a5":"code","52742ee7":"code","0dfac62d":"code","ecbe2b5e":"code","449e9f4f":"code","74badc7f":"code","0d3b4f16":"code","9954e570":"code","e32c19f8":"code","ba3a01f2":"code","f8db764b":"code","5891b71b":"markdown","f2e782d7":"markdown","bff18205":"markdown","fd90967b":"markdown","612ca745":"markdown","c68cadcb":"markdown","c5704cc5":"markdown","3b72d7d2":"markdown","b4cc24d9":"markdown","7f8f5f0d":"markdown","86b9df0b":"markdown","d5e966f2":"markdown","2426be8d":"markdown","91ed4250":"markdown","cbafd37f":"markdown","2eec13c4":"markdown","699bed75":"markdown","39599d68":"markdown","2145d5a3":"markdown","66ddc25d":"markdown","a3d75229":"markdown","0df258c8":"markdown"},"source":{"59f73337":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","9c99e489":"df_q = pd.read_csv('\/kaggle\/input\/kaggle-survey-2019\/questions_only.csv', low_memory=False)\ndf_mcr = pd.read_csv('\/kaggle\/input\/kaggle-survey-2019\/multiple_choice_responses.csv', header=[1], low_memory=False)\ndf_otr = pd.read_csv('\/kaggle\/input\/kaggle-survey-2019\/other_text_responses.csv', low_memory=False)\ndf_sc = pd.read_csv('\/kaggle\/input\/kaggle-survey-2019\/survey_schema.csv', low_memory=False)","ef4ad38f":"kaggler_ages = df_mcr['What is your age (# years)?'].value_counts(dropna=False).sort_index()\n\ntotal = len(df_mcr)\n\nplt.figure(figsize=(10,5))\n\ng = sns.barplot(x=kaggler_ages.index, y=kaggler_ages.values, color='blue')\ng.set_title(\"Kagglers Age Distribution\", fontsize=22)\ng.set_xlabel(\"Age Range\", fontsize=19)\ng.set_ylabel(\"Total Count\", fontsize=19)\n\nsizes=[]\nfor p in g.patches:\n    height = p.get_height()\n    sizes.append(height)\n    g.text(p.get_x()+p.get_width()\/2.,\n            height + 35,\n            '{:1.2f}%'.format(height\/total*100),\n            ha=\"center\", fontsize=11) \ng.set_ylim(0, max(sizes) * 1.1)\n\n\nplt.show()","22f5cefd":"df_mcr.loc[df_mcr['What is your age (# years)?'].isin(['18-21', '22-24']), 'age_range'] = '1 - Young'\ndf_mcr.loc[df_mcr['What is your age (# years)?'].isin(['25-29', '30-34']), 'age_range'] = '2 - Young Adult'\ndf_mcr.loc[df_mcr['What is your age (# years)?'].isin(['35-39', '40-44']), 'age_range'] = '3 - Adult'\ndf_mcr.loc[df_mcr['What is your age (# years)?'].isin(['45-49', '50-54', '55-59', '60-69', '70+']), 'age_range'] = '4 - Sr. Adult'\n\nage_r_ord = df_mcr['age_range'].value_counts(dropna=False).sort_index()","0dabe078":"df_mcr['Duration (in seconds)'] = round(df_mcr['Duration (in seconds)'] \/ 60,2)","84300d53":"min_thresh = 60\nprint(f\"Lenght of Answers < or equal {min_thresh} minutes:  # \\\n            {len(df_mcr['Duration (in seconds)'][df_mcr['Duration (in seconds)'] <= min_thresh])}\")\nprint(f\"Lenght of Answers > {min_thresh} minutes:           # \\\n            {len(df_mcr['Duration (in seconds)'][df_mcr['Duration (in seconds)'] > min_thresh])}\")\n\nprint(\"\\nPercentiles of Duration: \")\nprint(df_mcr['Duration (in seconds)'].quantile([.05,.25,.5,.75,.95]))","1942ad4f":"plt.figure(figsize = (16,5))\n\nplt.subplot(1,2,1)\ng = sns.distplot(df_mcr[df_mcr['Duration (in seconds)'] <= 200]['Duration (in seconds)'])\ng.set_xlabel('Duration minutes distribution', fontsize=15)\ng.set_title(\"Histogram of Duration\", fontsize=19)\n\nplt.subplot(1,2,2)\nplt.scatter(range(df_mcr.shape[0]), np.sort(df_mcr['Duration (in seconds)'].values))\nplt.xlabel('Range of dataset', fontsize=15)\nplt.title(\"Distribution of Duration \", fontsize=19)\n\nplt.show()","4ea75881":"plt.figure(figsize=(12,6))\n\ng = sns.boxplot(x='What is your age (# years)?', y='Duration (in seconds)', \n                data = df_mcr[df_mcr['Duration (in seconds)'] <= 50], color='blue',\n               order=kaggler_ages.index)\ng.set_title(\"Duration(in scnds) Distribution by Different Age Ranges\", fontsize=20)\ng.set_xlabel(\"Age Range\", fontsize=17)\ng.set_ylabel(\"Duration(Minutes) distribution\", fontsize=17)\n\nplt.show()","ba9916d4":"age = df_mcr.groupby(['age_range', 'What is your gender? - Selected Choice'])['age_range'].count().unstack('What is your gender? - Selected Choice').reset_index()","ccb8c1a5":"plt.figure(figsize=(10,5))\n\ng = sns.countplot(x='age_range',\n                  hue='What is your gender? - Selected Choice', \n                  data = df_mcr,\n                  #color='blue', \n                  order=age_r_ord.index\n               )\ng.set_title(\"Duration(in minutes) Distribution by Daifferent Age Ranges\", fontsize=18)\ng.set_xlabel(\"Age Range\", fontsize=16)\ng.set_ylabel(\"Total Count\", fontsize=16)\n\nplt.show()","52742ee7":"df_mcr.loc[df_mcr[\"In which country do you currently reside?\"] == \n                   'United Kingdom of Great Britain and Northern Ireland', \"In which country do you currently reside?\"] = \"UK & N. Ireland\"\ndf_mcr.loc[df_mcr[\"In which country do you currently reside?\"] == \n                   'United States of America', \"In which country do you currently reside?\"] = \"USA\"\n\nplt.figure(figsize=(16,14))\nplt.subplot(2,1,1)\ng = sns.countplot(x='In which country do you currently reside?',\n                  #hue='age_range', \n                  data = df_mcr, color='blue',\n                  #hue_order=age_r_ord.index,\n                  #color='blue', \n                  order=df_mcr['In which country do you currently reside?'].value_counts()[:15].index\n               )\ng.set_title(\"TOP 15 Countries with more Kagglers\", fontsize=18)\ng.set_xlabel(\"Country Names\", fontsize=16)\ng.set_ylabel(\"Count\", fontsize=16)\ng.set_xticklabels(g.get_xticklabels(),rotation=15)\nsizes=[]\nfor p in g.patches:\n    height = p.get_height()\n    sizes.append(height)\n    g.text(p.get_x()+p.get_width()\/2.,\n            height + 35,\n            '{:1.2f}%'.format(height\/total*100),\n            ha=\"center\", fontsize=11) \ng.set_ylim(0, max(sizes) * 1.1)\n\nplt.subplot(2,1,2)\ng = sns.countplot(x='In which country do you currently reside?',\n                  hue='age_range', \n                  data = df_mcr,\n                  hue_order=age_r_ord.index,\n                  #color='blue', \n                  order=df_mcr['In which country do you currently reside?'].value_counts()[:15].index\n               )\ng.set_title(\"AGE RANGE by TOP 15 Countries with more Kagglers\", fontsize=18)\ng.set_xlabel(\"Country Names\", fontsize=16)\ng.set_ylabel(\"Count\", fontsize=16)\ng.set_xticklabels(g.get_xticklabels(),rotation=15)\n\nplt.subplots_adjust(hspace = 0.3, top = 0.8)\n\nplt.show()","0dfac62d":"salary_ord = ['$0-999', '1,000-1,999', '2,000-2,999', '3,000-3,999', '4,000-4,999','5,000-7,499', '7,500-9,999',\n             '10,000-14,999', '15,000-19,999',  '20,000-24,999', '25,000-29,999',  '30,000-39,999', '40,000-49,999', \n             '50,000-59,999', '60,000-69,999', '70,000-79,999', '80,000-89,999', '90,000-99,999', '100,000-124,999',\n             '125,000-149,999', '150,000-199,999', '200,000-249,999', '250,000-299,999', '300,000-500,000', '> $500,000']\n\ndf_mcr.rename(columns={'What is your gender? - Selected Choice':'Gender'}, inplace=True)\n\nplt.figure(figsize=(16,15))\nprint(f\"Total of Not informed values: {df_mcr['What is your current yearly compensation (approximate $USD)?'].isna().sum()}\")\n\nplt.subplot(2,1,1)\ng = sns.countplot(x='What is your current yearly compensation (approximate $USD)?',\n                  #hue='age_range', \n                  data = df_mcr, #hue='Gender',\n                  #hue_order=['Male', 'Female'],\n                  color='blue', \n                  order=salary_ord\n               )\ng.set_title(\"Yearly Compensation Range Distributions\", fontsize=18)\ng.set_xlabel(\"Yearly Compensation - USD\", fontsize=16)\ng.set_ylabel(\"Count\", fontsize=16)\ng.set_xticklabels(g.get_xticklabels(),rotation=45)\n\nplt.subplot(2,1,2)\ng = sns.countplot(x='What is your current yearly compensation (approximate $USD)?',\n                  #hue='age_range', \n                  data = df_mcr, \n                  hue='age_range',\n                  hue_order=age_r_ord.index,\n                  #color='blue', \n                  order=salary_ord\n               )\ng.set_title(\"Yearly Compensation Range Distributions by Age Range\", fontsize=18)\ng.set_xlabel(\"Yearly Compensation - USD\", fontsize=16)\ng.set_ylabel(\"Count\", fontsize=16)\ng.set_xticklabels(g.get_xticklabels(),rotation=45)\n\nplt.subplots_adjust(hspace = 0.5, top = 0.8)\n\nplt.show()","ecbe2b5e":"age_r_ord","449e9f4f":"df_mcr.loc[df_mcr['What is the highest level of formal education that you have attained or plan to attain within the next 2 years?'] == \\\n           'Some college\/university study without earning a bachelor\u2019s degree', \n           'What is the highest level of formal education that you have attained or plan to attain within the next 2 years?'] = 'Some college w\/o Bs.C'\n\ndf_mcr.loc[df_mcr['What is the highest level of formal education that you have attained or plan to attain within the next 2 years?'] == \\\n           'No formal education past high school', \n           'What is the highest level of formal education that you have attained or plan to attain within the next 2 years?'] = 'No formal educ'","74badc7f":"plt.figure(figsize=(15,6))\n\neduc_ord = ['I prefer not to answer', 'No formal educ', 'Some college wo Bs.C',\n            'Professional degree', 'Bachelor\u2019s degree', 'Master\u2019s degree',\n            'Doctoral degree']\n\ng = sns.countplot(x='What is the highest level of formal education that you have attained or plan to attain within the next 2 years?',\n                  hue='age_range', \n                  data = df_mcr, order=educ_ord,\n                  hue_order=age_r_ord.index,\n                  #color='blue', \n               )\ng.set_title(\"Level of Formal Education attained or planned to obtain in next 2 years\", fontsize=18)\ng.set_xlabel(\"Level of Formal Education\", fontsize=16)\ng.set_ylabel(\"Count\", fontsize=16)\ng.set_xticklabels(g.get_xticklabels(),rotation=15)\n\nplt.show()","0d3b4f16":"df_mcr.loc[df_mcr['Select the title most similar to your current role (or most recent title if retired): - Selected Choice'].isnull(), \n           'Select the title most similar to your current role (or most recent title if retired): - Selected Choice'] = \"None\"\n\n# df_mcr['Select the title most similar to your current role (or most recent title if retired): - Selected Choice'].value_counts(dropna=False)","9954e570":"plt.figure(figsize=(16,6))\n\ng = sns.countplot(x='Select the title most similar to your current role (or most recent title if retired): - Selected Choice',\n                  hue='age_range', \n                  data = df_mcr, #order=educ_ord,\n                  hue_order=age_r_ord.index,\n                  #color='blue', \n               )\ng.set_title(\"Most Similar Title of the current role of Kagglers\", fontsize=18)\ng.set_xlabel(\"Current Title Position\", fontsize=16)\ng.set_ylabel(\"Count\", fontsize=16)\ng.set_xticklabels(g.get_xticklabels(),rotation=15)\n\nplt.show()","e32c19f8":"df_mcr['Does your current employer incorporate machine learning methods into their business?'].value_counts()","ba3a01f2":"plat_courses = df_mcr.loc[:,df_mcr.columns.str.startswith('On which platforms have you begun\\\n                                                or completed data science courses? (Select all that apply)')].columns\n\ndf_mcr.loc[:,df_mcr.columns.str.startswith('On which platforms have you begun or completed data science courses? (Select all that apply)')].isnull().mean().plot(kind='bar')\n\n","f8db764b":"plat_courses = df_mcr.loc[:,df_mcr.columns.str.startswith('On which platforms have you begun or completed data science courses? (Select all that apply)')].columns","5891b71b":"# Survey Duration by different Age Ranges\n- Do we have some difference in the duration of the survey for different age ranges? ","f2e782d7":"## Ploting Duration (in seconds) by Age Range","bff18205":"# Gender by Age Range\n- Let's see if the Gender ratio are different in different Age Ranges","fd90967b":"Cool! We can note a big part of Kagglers don't work exactly with data science. What could explain why kaggle has so many new registrations but a few number of active members. \nAs we could intuitively think, Yougest guys are in general students... It's the new generation. I'm sure that this new generation will be excellent scientists without some accents... They will speak the language of the \"data science\". ","612ca745":"Cool. Interestingly we can see that the yougest kaggler taked less time to fill all the survey. \n\nI think that it could be because of the youngest guys have less experiences to fill the form.... I will investigate it further later.  ","c68cadcb":"## I will create a new column called \"Age_range\" and merge some groups in a unique.\n- Take a look to understand the new arrangement that will give us a clearly vision about the etary factors;<br>\n\nI did the segmentation based on my perception, separting by generations. ","c5704cc5":"# Currently Yearly Compensation Distribution ","3b72d7d2":"Nice ! We can see some very interesting patterns. \n","b4cc24d9":"# Duration by Age Range","7f8f5f0d":"# Age Distribution by the top 15 countries","86b9df0b":"# Current Role Position","d5e966f2":"'Master\u2019s degree', 'Bachelor\u2019s degree', 'Doctoral degree',\n       'Some college\/university study without earning a bachelor\u2019s degree',\n       'Professional degree', 'I prefer not to answer',\n       'No formal education past high school'","2426be8d":"Cool! We can see that youngest guys have yearly earning ","91ed4250":"First Graph:\nIt's very interesting because now we have a very different pattern than the last year survey. India have almost 25% of total respondents. \n\nSecond Graph:\nIt's very cool and insightful information !\nIn India the most Kagglers are youngest than other countries, with a very different pattern than other countries. \nIf we take India and USA to compare, we can see that the ratio of Young \/ Young Adult are very different. <br>\nAlso if we consider the difference in Young \/ Senior Adults;\n\nI think it's really very insightful to understand the future. \n\nIn the top 15 countries, only India and China the young Kagglers are most common than y. Adults or Adults.... ","cbafd37f":"### How many people take more than 60 min to answer the form? ","2eec13c4":"# Welcome to my Kaggle Survey Kernel \n\nI'm focused on Computer Vision tasks, but when I saw the Survey data, I decided to take it an attention. \n\nI was thinking about the difference in Age Range of Kagglers and I will follow this idea.\n\nThe questions that I will go further will be:\n> - What's the Age Range of the Kagglers?\n- We have the same Age Range pattern in all countries?\n- What is the distribution of Genders by different Age Ranges?\n- We can see difference in time to respond the survey by different Age Ranges?\n- The salary of diferent Age Ranges are the same ?\n- What's the formal education differences? <br>\n\nAnd many more interesting questions... \n\n# NOTE: This kernel is not finished; \nIf you find the kernel useful, dont hesitate in upvote the kernel, please =) ","699bed75":"Cool. \n- 82% of total Kagglers are Men. \n- 16% of total Kagglers are Women.\n- ~2% of total Kagglers not defined the gender. \n\nThe highest ratio of Female \/ Male is in the youngest groups. ","39599d68":"# Importing Libraries","2145d5a3":"## Level of Formal Education","66ddc25d":"# Understanding the Distribution by Age\n- Whats the age distribution of Kagglers?","a3d75229":"Cool! Now we can have some sense of the Age distribution of Kagglers. <br>\n\n>- 25-29 is the most common age range\n>- 22-24 is the second most common age range\n>- 30-34 is the third most commmon age range \n\nI think that should be interesting to find for more interesting patterns and differences by age.<br>\nIn the below sections I intend to segment this Kagglers in 3 different groups. But before it, lets see the difference to answer the complete form by the ages. ","0df258c8":"Cool! We can see that we have some extreme values in time to fill the survey, so to a better visualization and understanding of the distribution, I will set a limit to the plots below. \n\n"}}