{"cell_type":{"75bfc80c":"code","4c1cb3d2":"code","4d7aa76e":"code","e0e27567":"code","11ed93bd":"code","e452f694":"code","8707424e":"code","b8bb949e":"code","4f5df46a":"code","352c0af5":"code","c3631f4c":"code","5f684fdb":"code","746de7c2":"code","cbecd9de":"code","c68fee8f":"code","6a87ca2a":"code","71766c6d":"code","e8076266":"code","346177e4":"code","06020b1c":"code","5760bb7f":"code","a845f6f7":"code","d87cae31":"code","940ba5c2":"code","e02f9486":"code","b2cbab42":"code","035b7f85":"code","34f97fcf":"code","a565197f":"code","fcfe9f2d":"code","37cbfd54":"code","a648af4c":"code","38320eb7":"code","b6b734ed":"code","deb98ae3":"code","c9d32d19":"code","1a6b398f":"code","b6073263":"code","96a2b638":"code","ca6f6384":"code","eadea536":"code","13644fed":"code","e11433d9":"code","8b6ce96a":"code","7d682b21":"code","4193d14e":"code","86bb3e44":"code","c9666931":"code","bfdc2df4":"code","325a29fc":"code","92e521db":"code","bc6d7e24":"code","c278b196":"markdown","af269a2d":"markdown","0a2eaf6c":"markdown","f2511bb1":"markdown","aec9d2a6":"markdown","2d7a6e67":"markdown","000607d1":"markdown","7f03a1c6":"markdown","c8e0aa09":"markdown","01fc8c7b":"markdown","e036a917":"markdown","ad967266":"markdown","8cb8bac0":"markdown","61129799":"markdown","ffabe49b":"markdown","8e0c33b9":"markdown"},"source":{"75bfc80c":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","4c1cb3d2":"import seaborn as sns; \nimport matplotlib.pyplot as plt\nimport geopandas as gpd\nimport pycountry\n\nfrom datetime import datetime\nfrom shapely.geometry import Point\nfrom geopandas import GeoDataFrame","4d7aa76e":"os.popen('cd ..\/input\/big-five-personality-test\/IPIP-FFM-data-8Nov2018; ls').read()\npath = r'..\/input\/big-five-personality-test\/IPIP-FFM-data-8Nov2018\/data-final.csv'\ndf_full = pd.read_csv(path, sep='\\t')\npd.options.display.max_columns = 999\ndf_full.head()","e0e27567":"df = df_full.copy() # reset df\ndf.head()","11ed93bd":"df.country.values","e452f694":"print(f'Number of countries: {len(set(df.country.values))}')\nprint('Number of participants: ', len(df))","8707424e":"print('How many missing values? ', df.isnull().values.sum())\ndf.dropna(inplace=True)\nprint('Number of participants after removed missing values: ', len(df))","b8bb949e":"country_dict = {i.alpha_2: i.alpha_3 for i in pycountry.countries}\ncountries = pd.DataFrame(df.country.value_counts()).T\\\n              .drop('NONE', axis=1)\\\n              .rename(columns=country_dict, index={'country': 'count'})\ncountries","4f5df46a":"# Participants' nationality distriution\ncountries = pd.DataFrame(df['country'].value_counts())\ncountries_4000 = countries[countries['country'] >= 4000]\nplt.figure(figsize=(15,5))\nsns.barplot(data=countries_4000, x=countries_4000.index, y='country')\nplt.title('Countries With More Than 4000 Participants')\nplt.ylabel('Participants');","352c0af5":"lat_cor = pd.to_numeric(df['lat_appx_lots_of_err'], errors='coerce')\nlong_cor = pd.to_numeric(df['long_appx_lots_of_err'], errors='coerce')","c3631f4c":"geometry = [Point(xy) for xy in zip(long_cor, lat_cor)]","5f684fdb":"gdf = GeoDataFrame(df, geometry=geometry)","746de7c2":"world = gpd.read_file(gpd.datasets.get_path('naturalearth_lowres'))\ngdf.plot(ax=world.plot(figsize=(40, 6)), marker='o', color='red', markersize=5);","cbecd9de":"df['year']  = df.apply(lambda x: datetime.strptime(x['dateload'], '%Y-%m-%d %H:%M:%S').year, axis=1)\ndf['month'] = df.apply(lambda x: datetime.strptime(x['dateload'], '%Y-%m-%d %H:%M:%S').month, axis=1)","c68fee8f":"extract_date = df[['year', 'month','IPC']]\ndate_analysis = pd.DataFrame(extract_date.groupby(['year', 'month']).agg('count')).reset_index()","6a87ca2a":"plt.figure(figsize=(15, 6))\nsns.barplot(x=\"year\", hue=\"month\", y=\"IPC\", data=date_analysis)\nplt.show()","71766c6d":"# Defining a function to visualize the questions and answers distribution\ndef vis_questions(groupname, questions, color):\n    plt.figure(figsize=(40,60))\n    for i in range(1, 11):\n        plt.subplot(10,5,i)\n        plt.hist(df[groupname[i-1]], bins=14, color= color, alpha=.5)\n        plt.title(questions[groupname[i-1]], fontsize=24)","e8076266":"ext_questions = {'EXT1' : 'I am the life of the party.', \n                 'EXT2':'I don\\'t talk a lot.', \n                 'EXT3':'I feel comfortable around people.', \n                 'EXT4':'I keep in the background.', \n                 'EXT5':'I start conversations.',\n                 'EXT6':'I have little to say.', \n                 'EXT7':'I talk to a lot of different people at parties.', \n                 'EXT8':'I don\\'t like to draw attention to myself.',\n                 'EXT9':'I don\\'t mind being the center of attention.',\n                 'EXT10':'I am quiet around strangers.'}\n\nEXT = [column for column in df if column.startswith('EXT')]","346177e4":"print('Q&A Related to Extroversion Personality')\nvis_questions(EXT, ext_questions, 'orange')","06020b1c":"est_questions = {'EST1' :'I get stressed out easily.', \n                 'EST2' :'I am relaxed most of the time.', \n                 'EST3' :'I worry about things.', \n                 'EST4' :'I seldom feel blue.', \n                 'EST5' :'I am easily disturbed.',\n                 'EST6' :'I get upset easily.', \n                 'EST7' :'I change my mood a lot.', \n                 'EST8' :'I have frequent mood swings.',\n                 'EST9' :'I get irritated easily',\n                 'EST10':'I often feel blue.'}\n\nEST = [column for column in df if column.startswith('EST')]","5760bb7f":"print('Q&As Related to Neuroticism Personality')\nvis_questions(EST, est_questions, 'black')","a845f6f7":"agr_questions = {'AGR1' :'I feel little concern for others.', \n                 'AGR2' :'I am interested in people.', \n                 'AGR3' :'I insult people.', \n                 'AGR4' :'I sympathize with others feelings.', \n                 'AGR5' :'I am not interested in other people problems.',\n                 'AGR6' :'I have a soft heart', \n                 'AGR7' :'I am not really interested in others.', \n                 'AGR8' :'I take time out for others',\n                 'AGR9' :'I feel others emotions',\n                 'AGR10':'I make people feel at ease.'}\n\nAGR = [column for column in df if column.startswith('AGR')]","d87cae31":"print('Q&As Related to Agreeable Personality')\nvis_questions(AGR, agr_questions, 'red')","940ba5c2":"csn_questions = {'CSN1' :'I am always prepared.', \n                 'CSN2' :'I leave my belongings around.', \n                 'CSN3' :'I pay attention to details', \n                 'CSN4' :'I make a mess of things.', \n                 'CSN5' :'I get chores done right away.',\n                 'CSN6' :'I often forget to put things back in their proper place.', \n                 'CSN7' :'I like order.', \n                 'CSN8' :'I shirk my duties.',\n                 'CSN9' :'I follow a schedule.',\n                 'CSN10':'I am exacting in my work.'}\n\nCSN = [column for column in df if column.startswith('CSN')]","e02f9486":"print('Q&As Related to Conscientious Personality')\nvis_questions(CSN, csn_questions, 'purple')","b2cbab42":"opn_questions = {'OPN1' :'I have a rich vocabulary.', \n                 'OPN2' :'I have difficulty understanding abstract ideas.', \n                 'OPN3' :'I have a vivid imagination.', \n                 'OPN4' :'I am not interested in abstract ideas.', \n                 'OPN5' :'I have excellent ideas',\n                 'OPN6' :'I do not have a good imagination.', \n                 'OPN7' :'I am quick to understand things.', \n                 'OPN8' :'I use difficult words.',\n                 'OPN9' :'I spend time reflecting on things.',\n                 'OPN10':'I am full of ideas.'}\n\nOPN = [column for column in df if column.startswith('OPN')]","035b7f85":"print('Q&As Related to Open Personality')\nvis_questions(OPN, opn_questions, 'blue')","34f97fcf":"india = df[df.country =='IN']\nindia.head()","a565197f":"# Defining a function to visualize the questions and answers distribution\ndef india_response(groupname, questions, color):\n    plt.figure(figsize=(40,60))\n    for i in range(1, 11):\n        plt.subplot(10,5,i)\n        plt.hist(india[groupname[i-1]], bins=14, color= color, alpha=.5)\n        plt.title(questions[groupname[i-1]], fontsize=24)","fcfe9f2d":"print('India\\'s response to Extroversion Personality')\nindia_response(EXT, ext_questions, 'orange')","37cbfd54":"print('India\\'s response to Neuroticism Personality')\nindia_response(EST, est_questions, 'black')","a648af4c":"print('India\\'s reponse to Agreeable Personality')\nindia_response(AGR, agr_questions, 'red')","38320eb7":"print('India\\'s reponse to Conscientious Personality')\nindia_response(CSN, csn_questions, 'purple')","b6b734ed":"print('India\\'s reponse to Open Personality')\nindia_response(OPN, opn_questions, 'blue')","deb98ae3":"india.drop(india.columns[50:],axis =1,inplace=True)\nindia","c9d32d19":"response_count = india.apply(pd.value_counts)\nresponse_count","1a6b398f":"data = df.copy()\ndata.drop(data.columns[50:107], axis=1, inplace=True)\ndata.drop(data.columns[51:], axis=1, inplace=True)\ndata","b6073263":"# For ease of calculation lets scale all the values between 0-1 and take a sample of 5000 \nfrom sklearn.preprocessing import MinMaxScaler\n\ndf1 = data.drop('country', axis=1)\ncolumns = list(df1.columns)\n\nscaler = MinMaxScaler(feature_range=(0,1))\ndf1 = scaler.fit_transform(df1)\ndf1 = pd.DataFrame(df1, columns=columns)\ndf_sample = df1[:5000]","96a2b638":"# Visualize the elbow\nfrom sklearn.cluster import KMeans\nfrom yellowbrick.cluster import KElbowVisualizer\n\nkmeans = KMeans()\nvisualizer = KElbowVisualizer(kmeans, k=(2,15))\nvisualizer.fit(df_sample)\nvisualizer.poof()","ca6f6384":"# Creating K-means Cluster Model\nfrom sklearn.cluster import KMeans\n\n# I use the unscaled data but without the country column\ndf_model = data.drop('country', axis=1)\n\n# I define 5 clusters and fit my model\nkmeans = KMeans(n_clusters=5)\nk_fit = kmeans.fit(df_model)","eadea536":"# Predicting the Clusters\npd.options.display.max_columns = 10\npredictions = k_fit.labels_\ndf_model['Clusters'] = predictions\ndf_model.head()","13644fed":"chart = df_model.Clusters.value_counts()\nchart","e11433d9":"plt.pie(chart,labels=chart)","8b6ce96a":"pd.options.display.max_columns = 150\ndf_model.groupby('Clusters').mean()","7d682b21":"# Summing up the different questions groups\ncol_list = list(df_model)\next = col_list[0:10]\nest = col_list[10:20]\nagr = col_list[20:30]\ncsn = col_list[30:40]\nopn = col_list[40:50]\n\ndata_sums = pd.DataFrame()\ndata_sums['extroversion'] = df_model[ext].sum(axis=1)\/10\ndata_sums['neurotic'] = df_model[est].sum(axis=1)\/10\ndata_sums['agreeable'] = df_model[agr].sum(axis=1)\/10\ndata_sums['conscientious'] = df_model[csn].sum(axis=1)\/10\ndata_sums['open'] = df_model[opn].sum(axis=1)\/10\ndata_sums['clusters'] = predictions\ndata_sums.groupby('clusters').mean()","4193d14e":"# Visualizing the means for each cluster\ndataclusters = data_sums.groupby('clusters').mean()\nplt.figure(figsize=(22,3))\nfor i in range(0, 5):\n    plt.subplot(1,5,i+1)\n    plt.bar(dataclusters.columns, dataclusters.iloc[:, i], color='green', alpha=0.2)\n    plt.plot(dataclusters.columns, dataclusters.iloc[:, i], color='red')\n    plt.title('Cluster ' + str(i))\n    plt.xticks(rotation=45)\n    plt.ylim(0,4);","86bb3e44":"# In order to visualize in 2D graph I will use PCA\nfrom sklearn.decomposition import PCA\n\npca = PCA(n_components=2)\npca_fit = pca.fit_transform(df_model)\n\ndf_pca = pd.DataFrame(data=pca_fit, columns=['PCA1', 'PCA2'])\ndf_pca['Clusters'] = predictions\ndf_pca.head()","c9666931":"plt.figure(figsize=(10,10))\nsns.scatterplot(data=df_pca, x='PCA1', y='PCA2', hue='Clusters', palette='Set2', alpha=0.8)\nplt.title('Personality Clusters after PCA');","bfdc2df4":"my_data = pd.read_csv('..\/input\/ownset\/big5.csv')\nmy_data","325a29fc":"my_personality = k_fit.predict(my_data)\nprint('My Personality Cluster: ', my_personality)","92e521db":"# Summing up the my question groups\ncol_list = list(my_data)\next = col_list[0:10]\nest = col_list[10:20]\nagr = col_list[20:30]\ncsn = col_list[30:40]\nopn = col_list[40:50]\n\nmy_sums = pd.DataFrame()\nmy_sums['extroversion'] = my_data[ext].sum(axis=1)\/10\nmy_sums['neurotic'] = my_data[est].sum(axis=1)\/10\nmy_sums['agreeable'] = my_data[agr].sum(axis=1)\/10\nmy_sums['conscientious'] = my_data[csn].sum(axis=1)\/10\nmy_sums['open'] = my_data[opn].sum(axis=1)\/10\nmy_sums['cluster'] = my_personality\nprint('Sum of my question groups')\nmy_sums","bc6d7e24":"my_sum = my_sums.drop('cluster', axis=1)\nplt.bar(my_sum.columns, my_sum.iloc[0,:], color='green', alpha=0.2)\nplt.plot(my_sum.columns, my_sum.iloc[0,:], color='red')\nplt.title('Cluster 2')\nplt.xticks(rotation=45)\nplt.ylim(0,4);","c278b196":"## Plotting world map","af269a2d":"This data set was collected (2016-2018) through an interactive on-line personality test. The personality test was constructed from the IPIP.\n\nThe scale was labeled between 1=Disagree, 3=Neutral, 5=Agree.\n\nYou can find more info about each question in the data set link.\n\nIn this study I will analyse the data set and use unsupervised learning algorithm K-Means Clustering for clustering the participants.\n\nResources: https:\/\/www.youtube.com\/watch?v=IB1FVbo8TSs https:\/\/ipip.ori.org\/newBigFive5broadKey.htm https:\/\/www.kaggle.com\/tunguz\/big-five-personality-test","0a2eaf6c":"For more details check out this following link\n[https:\/\/www.healthline.com\/health\/big-five-personality-traits#takeaway](http:\/\/)\n","f2511bb1":"## Analysing based on date","aec9d2a6":"# Big 5 personality\n\n\nIn psychological trait theory, the Big Five personality traits, also known as the five-factor model (FFM) and the OCEAN model, is a suggested taxonomy, or grouping, for personality traits,[1] developed from the 1980s onwards. When factor analysis (a statistical technique) is applied to personality survey data, some words used to describe aspects of personality are often applied to the same person.\nThe theory of the Big Five Personality Traits, claims that we can describe ourselves with five main characteristics: Openness, Conscientiousness, Extraversion, Agreeableness, Neuroticism.\n\n* openness to experience (inventive\/curious vs. consistent\/cautious)\n* conscientiousness (efficient\/organized vs. extravagant\/careless)\n* extraversion (outgoing\/energetic vs. solitary\/reserved)\n* agreeableness (friendly\/compassionate vs. challenging\/callous)\n* neuroticism (sensitive\/nervous vs. resilient\/confident)","2d7a6e67":"## Neuroticism \ndescribes a tendency to have unsettling thoughts and feelings.\n\n**High score**\nA high score in neuroticism can mean you:\n\n* often feel vulnerable or insecure\n* get stressed easily\n* struggle with difficult situations\n* have mood swings\n\nIf you score high on neuroticism, you may blame yourself when things go wrong. You might also get frustrated with yourself easily, especially if you make a mistake. Chances are, you\u2019re also prone to worrying.\n\nBut you\u2019re likely also more introspective than others, which helps you to examine and understand your feelings.\n\n**Low score**\nIf you score low on neuroticism, you likely:\n\n* keep calm in stressful situations\n* are more optimistic\n* worry less\n* have a more stable mood\n\nA low neuroticism score can mean you\u2019re confident. You may have more resilience and find it easy to keep calm under stress. Relaxation might also come more easily to you. Try to keep in mind that this might not be as easy for those around you, so be patient.","000607d1":"As you can see 5 clusters looks optimum for the data set and we already know this researh is to identify 5 different personalities.","7f03a1c6":"##  Visualizing the questions and answers","c8e0aa09":"## Extraversion \nrefers to the energy you draw from social interactions.\n\n**High score:**\nA high extraversion score might mean you:\n\n* seek excitement or adventure\n* make friends easily\n* speak without thinking\n* enjoy being active with others\n\nIf you score high on extraversion, you might consider yourself an extrovert. You might enjoy attention and feel recharged after spending time with friends. You likely feel your best when in a large group of people.\n\nOn the other hand, you may have trouble spending long periods of time alone.\n\n**Low score:**\nA low extraversion score can mean you:\n\n* have a hard time making small talk or introducing yourself\n* feel worn out after socializing\n* avoid large groups\n* are more reserved\n\nA low extraversion score can mean you prefer to spend time alone or with a small group of close friends. You might also be a more private person when it comes to sharing details about your life. This might come across as standoffish to others.","01fc8c7b":"## India's personality","e036a917":"## Openness, or openness to experience \nrefers to a sense of curiosity about others and the world.\n\n**High score**\nIf you scored high on openness, you might:\n\n* enjoy trying new things\n* be more creative\n* have a good imagination\n* be willing to consider new ideas\n\nA high score on openness can mean you have broad interests. You may enjoy solving problems with new methods and find it easy to think about things in different ways. Being open to new ideas may help you adjust easily to change.\n\nJust make sure to keep an eye out for any situations where you might need to establish boundaries, whether that be with family members or your work-life balance.\n\n**Low score**\nA low openness score might mean you:\n\n* prefer to do things in a familiar way\n* avoid change\n* are more traditional in your thinking\n\nA low openness score can mean you consider concepts in straightforward ways. Others likely see you as being grounded and down-to-earth.","ad967266":"## Checkout your score with the following traits","8cb8bac0":"## Loading the dataset","61129799":"## Agreeableness \nit refers to a desire to keep things running smoothly.\n\n**High score**\nA high score in agreeableness might mean you:\n\n* are always ready to help out\n* are caring and honest\n* are interested in the people around you\n* believe the best about others\n\nIf you score high in agreeableness, you you\u2019re helpful and cooperative. Your loved ones may often turn to you for help. People might see you as trustworthy. You may be the person others seek when they\u2019re trying to resolve a disagreement.\n\nIn some situations, you might a little too trusting or willing to compromise. Try to balance your knack for pleasing others with self-advocacy.\n\n**Low score**\nA low agreeableness score might mean you:\n\n* are stubborn\n* find it difficult to forgive mistakes\n* are self-centered\n* have less compassion for others\n\nA low agreeableness score may mean you tend hold grudges. You might also be less sympathetic with others. But you are also likely avoid the pitfalls of comparing yourself to others or caring about what others think of you.","ffabe49b":"Let's group the results acording to clusters. That way we can investigate the average answer to the each question for each cluster.\n\nThat way we can have an intuition about how our model classifies people.","8e0c33b9":"## Conscientiousness\nConscientiousness describes a careful, detail-oriented nature.\n\n**High score**\nIf you score high on conscientiousness, you likely:\n\n* keep things in order\n* come prepared to school or work\n* are goal-driven\n* are persistent\n\n If you are a conscientious person, you might follow a regular schedule and have a knack for keeping track of details. You likely deliberate over options and work hard to achieve your goals. Coworkers and friends might see you as a reliable, fair person.\n\nYou may tend to micromanage situations or tasks. You might also be cautious or difficult to please.\n\n**Low score**\nA low score on conscientiousness might mean you:\n\n* are less organized\n* complete tasks in a less structured way\n* take things as they come\n* finish things at the last minute\n* are impulsive\n\nA low conscientiousness score might mean you prefer a setting without structure. You may prefer doing things at your own pace to working on a deadline. This might make you appear unreliable to others.\n\n"}}