{"cell_type":{"b4159682":"code","d3bac288":"code","8479fc23":"code","782971a6":"code","cbc40478":"code","982ad9cd":"code","3854816f":"code","f6c609a7":"code","e089ee82":"code","f5a380bc":"code","ede790bf":"code","8ce54e2a":"code","99d18613":"code","1ef2f861":"code","d3c98145":"code","7aad254e":"code","1367a0f2":"code","7a230340":"code","862f03f7":"code","b02b0c3d":"code","6155b9c3":"code","9cbcbe27":"code","555e6943":"code","7e5045c5":"code","27c16905":"code","246a5e81":"markdown","92d96407":"markdown","0441335d":"markdown","5f11a149":"markdown","1cefd048":"markdown","858f5558":"markdown","7cc5a0ea":"markdown","c6a1fbb4":"markdown","eba3ba77":"markdown","99b0e2dc":"markdown","3b579bb3":"markdown","d01935cf":"markdown","3e32ac1c":"markdown","a41c7919":"markdown","4f10faa9":"markdown","27998ae3":"markdown","6231e363":"markdown","be42ef16":"markdown"},"source":{"b4159682":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nfrom sklearn.model_selection import train_test_split\nimport xgboost as xgb\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn import metrics","d3bac288":"df = pd.read_csv('..\/input\/housesalesprediction\/kc_house_data.csv')","8479fc23":"df.head()","782971a6":"df.info()","cbc40478":"df.shape","982ad9cd":"df.describe()","3854816f":"print(df.dtypes.unique())","f6c609a7":"new_df=pd.DataFrame({'name':df.dtypes})","e089ee82":"new_df[new_df['name']=='object']","f5a380bc":"df.drop(['date'], axis=1, inplace=True)","ede790bf":"100*(df.isnull().sum())\/(df.shape[0])","8ce54e2a":"df.corr()['price'].sort_values(ascending=False).drop('price')","99d18613":"cor=df.corr()['price'].sort_values(ascending=False).drop('price')","1ef2f861":"plt.figure(figsize=(8,6))\nplt.bar(x=list(cor.index), height=list(cor.values), color='teal')\nplt.xticks(rotation=90)\nplt.xlabel('Feature', fontsize=12)\nplt.ylabel('Correlation', fontsize=12)\nplt.title('Correlation of Features with Price', fontsize=15)\nplt.show()","d3c98145":"X=df[['bedrooms', 'bathrooms', 'sqft_living', 'sqft_lot',\n       'floors', 'waterfront', 'view', 'condition', 'grade', 'sqft_above',\n       'sqft_basement', 'yr_built', 'yr_renovated', 'lat', 'long',\n       'sqft_living15', 'sqft_lot15']]\ny=df['price']","7aad254e":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=101)","1367a0f2":"xgbr= xgb.XGBRegressor(n_estimators=100, learning_rate=0.08, gamma=0, subsample=0.75,\n                           colsample_bytree=1, max_depth=7)","7a230340":"xgbr.fit(X_train,y_train)","862f03f7":"prediction_xgbr=xgbr.predict(X_test)","b02b0c3d":"print('RMSE_XGBoost Regression=', np.sqrt(metrics.mean_squared_error(y_test,prediction_xgbr)))\nprint('R2 Score_XGBoost Regression=',metrics.r2_score(y_test,prediction_xgbr))","6155b9c3":"plt.figure(figsize=(8,6))\nplt.scatter(x=y_test, y=prediction_xgbr, color='dodgerblue')\nplt.plot(y_test,y_test, color='deeppink')\nplt.xlabel('Actual Sensitivity',fontsize=12)\nplt.ylabel('Predicted Sensitivity',fontsize=12)\nplt.title('XGBoost Regression (R2 Score=0.89)',fontsize=14)\nplt.show()","9cbcbe27":"lr=LinearRegression()\nlr.fit(X_train,y_train)","555e6943":"predictions_lr=lr.predict(X_test)","7e5045c5":"print('RMSE_Linear Regression=', np.sqrt(metrics.mean_squared_error(y_test,predictions_lr)))\nprint('R2 Score_Linear Regression=',metrics.r2_score(y_test,predictions_lr))","27c16905":"plt.figure(figsize=(8,6))\nplt.scatter(x=y_test, y=predictions_lr, color='dodgerblue')\nplt.plot(y_test,y_test, color='deeppink')\nplt.xlabel('Actual Sensitivity',fontsize=12)\nplt.ylabel('Predicted Sensitivity',fontsize=12)\nplt.title('Linear Regression (R2 Score=0.71)',fontsize=14)\nplt.show()","246a5e81":"We only have the date column which is a timestamp. So we will remove it.","92d96407":"### Linear Regression","0441335d":"### XGBoost Regression","5f11a149":"# ![1.jpg](attachment:1.jpg)","1cefd048":"## Conclusion","858f5558":"## Predicting House Sales Prices","7cc5a0ea":"We find correlations between the features and the target variable.","c6a1fbb4":"We can see that for XGBoost, the R2 score is higher and RMSE is lower than those of Linear Regression.","eba3ba77":"## Loading Dataset","99b0e2dc":"In this Notebook, we will work on a dataset that contains house sale prices for King County in Seattle. It includes homes sold between May 2014 and May 2015. It is a great dataset for evaluating regression models.\n\nHere, we will use two different regression methods and try to predict the house prices by using them. \nFirst, we will implement XGBoost as an ensemble learning algorithm to predict the the house prices. Afterwards, we will build a model by Linear Regression. Finally, we will compare the results of these two models to find the best model.","3b579bb3":"<h1>Table of Contents<span class=\"tocSkip\"><\/span><\/h1>\n<div class=\"toc\"><ul class=\"toc-item\"><li><span><a href=\"#Introduction\" data-toc-modified-id=\"Introduction-1\"><span class=\"toc-item-num\">1&nbsp;&nbsp;<\/span>Introduction<\/a><\/span><\/li><li><span><a href=\"#Importing-Libraries\" data-toc-modified-id=\"Importing-Libraries-2\"><span class=\"toc-item-num\">2&nbsp;&nbsp;<\/span>Importing Libraries<\/a><\/span><\/li><li><span><a href=\"#Loading-Dataset\" data-toc-modified-id=\"Loading-Dataset-3\"><span class=\"toc-item-num\">3&nbsp;&nbsp;<\/span>Loading Dataset<\/a><\/span><\/li><li><span><a href=\"#Exploratory-Data-Analysis\" data-toc-modified-id=\"Exploratory-Data-Analysis-4\"><span class=\"toc-item-num\">4&nbsp;&nbsp;<\/span>Exploratory Data Analysis<\/a><\/span><\/li><li><span><a href=\"#Predicting-House-Sales-Prices\" data-toc-modified-id=\"Predicting-House-Sales-Prices-5\"><span class=\"toc-item-num\">5&nbsp;&nbsp;<\/span>Predicting House Sales Prices<\/a><\/span><ul class=\"toc-item\"><li><span><a href=\"#XGBoost-Regression\" data-toc-modified-id=\"XGBoost-Regression-5.1\"><span class=\"toc-item-num\">5.1&nbsp;&nbsp;<\/span>XGBoost Regression<\/a><\/span><\/li><li><span><a href=\"#Linear-Regression\" data-toc-modified-id=\"Linear-Regression-5.2\"><span class=\"toc-item-num\">5.2&nbsp;&nbsp;<\/span>Linear Regression<\/a><\/span><\/li><\/ul><\/li><li><span><a href=\"#Conclusion\" data-toc-modified-id=\"Conclusion-6\"><span class=\"toc-item-num\">6&nbsp;&nbsp;<\/span>Conclusion<\/a><\/span><\/li><\/ul><\/div>","d01935cf":"## Importing Libraries","3e32ac1c":"Since there are Python Objects in the data set, we may have some categorical features. Let's check them.","a41c7919":"## Exploratory Data Analysis","4f10faa9":"# <center> House Price Predictions with XGboost Regression and Linear Regression <center>","27998ae3":"Here we worked on house sale prices dataset and implemented regression models to predict the house prices.\n\n\n- We implemented XGBoost as an ensemble learning algorithm and obtained RMSE and R2 Score of 120964.3 and 0.89, respectively.\n\n\n- We built a model by Linear Regression and obtained RMSE and R2 Score of 200376.8 and 0.71, respectively.\n\n\n- We concluded that XGBoost regression model was more successful in predicting the house prices.","6231e363":"The data set is pretty much structured and does not have any NaN values. So we do not need Data Cleaning.","be42ef16":"## Introduction"}}