{"cell_type":{"ce51c184":"code","08f851c2":"code","d7953381":"code","977255f2":"code","1e130dd5":"code","7c703268":"code","0a46e893":"code","d2700cb3":"code","dadef2b3":"code","31370d00":"code","94178f0b":"code","a7e6bdf8":"code","19c60035":"code","bbbefeeb":"code","7c5ed18c":"code","5018e03e":"code","88f596be":"code","cc431e51":"code","0ebdd2ad":"code","35acc3d1":"markdown","acf1c99c":"markdown","71686eb2":"markdown","ecbf03db":"markdown","5bf6ac20":"markdown","45360edc":"markdown","1ee8aa25":"markdown"},"source":{"ce51c184":"!pip install jellyfish","08f851c2":"import numpy as np\nimport pandas as pd\nimport jellyfish","d7953381":"!ls \/kaggle\/input","977255f2":"df_test = pd.read_csv('\/kaggle\/input\/student-shopee-code-league-sentiment-analysis\/test.csv')\ndf_test","1e130dd5":"df_train_ext = pd.read_csv('\/kaggle\/input\/shopee-reviews\/shopee_reviews.csv')\ndf_train_ext","7c703268":"set_test = set()\nfor i in df_test.index:\n    set_test.add(df_test.loc[i, 'review'])","0a46e893":"list_exact_match = []\nfor i in df_train_ext.index:\n    if df_train_ext.loc[i, 'text'] in set_test:\n        list_exact_match.append(df_train_ext.loc[i, 'text'])","d2700cb3":"len(list_exact_match)","dadef2b3":"list_exact_match","31370d00":"jellyfish.jaro_distance('great product fast delivery', 'Amazing product, quick delivery')","94178f0b":"jellyfish.jaro_distance('easy to use', 'hard to use')","a7e6bdf8":"jellyfish.jaro_distance('good', 'goods')","19c60035":"# set_test = set()\n# for i in df_test.index:\n#     set_test.add(df_test.loc[i, 'review'])\n# len(set_test)","bbbefeeb":"# set_train_ext = set()\n# for i in df_train_ext.index:\n#     set_train_ext.add(df_train_ext.loc[i, 'text'])\n# len(set_train_ext)","7c5ed18c":"# df_similar_string = pd.DataFrame(columns=['test', 'train_ext', 'similarity_score'])","5018e03e":"# for r_train in set_train_ext:\n#     for r_test in set_test:\n#         similarity_score = jellyfish.jaro_distance(r_test, r_train)\n#         if similarity_score >= 0.9:\n#             df_similar_string.loc[df_similar_string.shape[0]] = [r_test, r_train, similarity_score]","88f596be":"# pd.set_option('display.max_rows', None)\n# pd.set_option('display.max_columns', None)\n# pd.set_option('display.width', None)","cc431e51":"# df_similar_string","0ebdd2ad":"# df_similar_string.to_csv('similarity.csv', index=None)","35acc3d1":"# Exact match","acf1c99c":"## Check","71686eb2":"# Library","ecbf03db":"## Check leak on external data\n\nList of external data checked :\n* https:\/\/www.kaggle.com\/shymammoth\/shopee-reviews","5bf6ac20":"# String similarity\n\n> Unused due to the O(n^m) complexity\n\nUsing jaro_distance, with output between 0 and 1.\n\nSee https:\/\/jellyfish.readthedocs.io\/en\/latest\/comparison.html#jaro-similarity","45360edc":"## Example","1ee8aa25":"# Dataset"}}