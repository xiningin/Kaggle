{"cell_type":{"ab67ba6e":"code","b5913deb":"code","f9fdac94":"code","9f510ace":"code","cc09e2a0":"code","760277f3":"code","4f59b58c":"code","594ae84b":"code","75a84d36":"code","110f5647":"code","d4089f71":"code","adb69767":"code","6d10cf3e":"code","fbd9845d":"code","3a8a5fc2":"code","1a36b227":"code","aa26b534":"code","8a131ea2":"code","0504b4c6":"code","e3bf6eb2":"code","0c8bad24":"code","2a318b63":"code","a17a8957":"code","f247c7cf":"code","cd5f2b63":"code","3bdf53f5":"code","3e68ca10":"code","12cd7faa":"code","909dc435":"code","54b65d7c":"code","7cab41b8":"code","a66a1651":"code","29de0feb":"code","354cd390":"code","4eec3cd4":"code","579f1de9":"code","5174926b":"code","c9d7feab":"code","b8f90d18":"code","76a0691d":"markdown","f7160dff":"markdown","7a4e75dd":"markdown","24b826b5":"markdown","9878ae64":"markdown","a823230a":"markdown","460de926":"markdown","3dd3988d":"markdown","9dafc8f7":"markdown","0ab0e6bc":"markdown","a27f09fd":"markdown","f65e5b9a":"markdown","5073a2fb":"markdown","69d2311f":"markdown","affc0a4a":"markdown","42c6d8a8":"markdown","dbc5d806":"markdown","d58c27c6":"markdown","1df55014":"markdown","d622dff6":"markdown","2a7e1145":"markdown","ca2e2447":"markdown","f99cd608":"markdown"},"source":{"ab67ba6e":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns","b5913deb":"\ndata=pd.read_csv('..\/input\/customer-analytics\/Train.csv')\n","f9fdac94":"data.head()","9f510ace":"print(data.shape)","cc09e2a0":"data.nunique()","760277f3":"data.info()","4f59b58c":"data.describe(include=np.number)","594ae84b":"data.describe(include=np.object)","75a84d36":"data.isnull().any()","110f5647":"data['Gender'].value_counts()","d4089f71":"gender = data['Gender'].value_counts()\n\nplt.figure(figsize=(7, 5))\n\nplot = gender.plot.pie(fontsize=16, autopct='%1.0f%%', labeldistance=1.2, radius=1.5)\nplt.show()","adb69767":"print (data[[\"Gender\", \"Customer_care_calls\"]].groupby(['Gender'], \\\n            as_index= False).mean().sort_values(by='Customer_care_calls', ascending = False))","6d10cf3e":"print (data[[\"Gender\", \"Customer_rating\"]].groupby(['Gender'], \\\n            as_index= False).mean().sort_values(by='Customer_rating', ascending = False))","fbd9845d":"print (data[[\"Gender\", \"Prior_purchases\"]].groupby(['Gender'], \\\n            as_index= False).mean().sort_values(by='Prior_purchases', ascending = False))","3a8a5fc2":"print (data[[\"Gender\", \"Reached.on.Time_Y.N\"]].groupby(['Gender'], \\\n            as_index= False).mean().sort_values(by='Reached.on.Time_Y.N', ascending = False))","1a36b227":"# Gender by Customer care call, Customer ratings, Prior purchases and Reached on time.\n\nsns.set_style('darkgrid')\n\nf,axes= plt.subplots(2,2, figsize=(10,10))\n\nsns.countplot(x='Customer_care_calls',hue='Gender',data=data,palette='RdBu_r', ax=axes[0,0])\nsns.countplot(x='Customer_rating',hue='Gender',data=data,palette='RdBu_r', ax=axes[0,1])\nsns.countplot(x='Prior_purchases',hue='Gender',data=data,palette='RdBu_r', ax=axes[1,0])\nsns.countplot(x='Reached.on.Time_Y.N',hue='Gender',data=data,palette='RdBu_r', ax=axes[1,1])\n\nsns.set_style('whitegrid')","aa26b534":"data['Warehouse_block'].value_counts()","8a131ea2":"warehouse = data['Warehouse_block'].value_counts()\n\nplt.figure(figsize=(7, 5))\n\nplot = warehouse.plot.pie(fontsize=16, autopct='%1.0f%%', labeldistance=1.2, radius=1.5)\nplt.show()","0504b4c6":"data['Mode_of_Shipment'].value_counts()","e3bf6eb2":"shipping= data['Mode_of_Shipment'].value_counts()\n\nplt.figure(figsize=(7, 5))\n\nplot = shipping.plot.pie(fontsize=16, autopct='%1.0f%%', labeldistance=1.2, radius=1.5)\nplt.show()","0c8bad24":"data['Customer_care_calls'].value_counts()","2a318b63":"call_rate=data['Customer_care_calls'].value_counts()\n\nsns.barplot(x=call_rate.index, y=call_rate.values, alpha=0.8)\nplt.title('Number of calls by customers', fontsize=18, pad=10)\nplt.ylabel('Number of customers', fontsize=14)\nplt.xlabel('Number of calls', fontsize=14)\nplt.xticks(fontsize=14)\nplt.yticks(fontsize=10)\nplt.figure(figsize=(10, 7))\nplt.show()","a17a8957":"data['Customer_rating'].value_counts() ","f247c7cf":"rating=data['Customer_rating'].value_counts()\n\nsns.barplot(x=rating.index, y=rating.values, alpha=0.8)\nplt.title('Ratings by customers', fontsize=18, pad=10)\nplt.ylabel('Number of customers', fontsize=14)\nplt.xlabel('Ratings', fontsize=14)\nplt.xticks(fontsize=14)\nplt.yticks(fontsize=10)\nplt.figure(figsize=(10, 7))\nplt.show()","cd5f2b63":"data['Prior_purchases'].value_counts()","3bdf53f5":"prior_purchases=data['Prior_purchases'].value_counts()\n\nsns.barplot(x=prior_purchases.index, y=prior_purchases.values, alpha=0.8)\nplt.title('Prior purchases by customers', fontsize=18, pad=10)\nplt.ylabel('Number of customers', fontsize=14)\nplt.xlabel('Number of prior purchases', fontsize=14)\nplt.xticks(fontsize=14)\nplt.yticks(fontsize=10)\nplt.figure(figsize=(10, 7))\nplt.show()","3e68ca10":"data['Product_importance'].value_counts()","12cd7faa":"importance = data['Product_importance'].value_counts()\n\nplt.figure(figsize=(8, 5))\n\nsns.barplot(x=importance.index, y=importance.values, alpha=0.8)\nplt.title('Product importance categories', fontsize=14, pad=10)\nplt.ylabel('Number of products', fontsize=14)\nplt.xlabel('Category of importance', fontsize=14)\nplt.xticks(fontsize=14, rotation=30)\nplt.yticks(fontsize=10)\nplt.show()","909dc435":"cost= data['Cost_of_the_Product']\n\nplt.figure(figsize=(10, 7))\n\nsns.distplot(cost).set(ylabel=None, xlabel=None)\nplt.title('Product Cost', fontsize=14)\nplt.xlabel('Amount', fontsize=12)\nplt.show()","54b65d7c":"data.head()","7cab41b8":"# let convert the object type columns\n\nobject_cols = list(data.dtypes[data.dtypes == object].index)\n\nfor i in object_cols:\n    data[i] = data[i].astype('category')","a66a1651":"cat_columns = data.select_dtypes(['category']).columns\ndata[cat_columns] = data[cat_columns].apply(lambda x: x.cat.codes)","29de0feb":"data.head()","354cd390":"data.columns","4eec3cd4":"features=['Warehouse_block', 'Mode_of_Shipment', 'Customer_care_calls',\n          'Cost_of_the_Product', 'Prior_purchases','Product_importance', \n          'Gender','Reached.on.Time_Y.N']","579f1de9":"for f in features:\n    related = data['Customer_rating'].corr(data[f])\n    print(\"%s: %f\" % (f,related))","5174926b":"correlations = [data['Customer_rating'].corr(data[f]) for f in features ]","c9d7feab":"features_df = pd.DataFrame({'attributes': features, 'correlation': correlations}) ","b8f90d18":"features_df.plot(x ='attributes', y='correlation', kind = 'line',\\\n                    color='coral', figsize=(16,4), title='Customer Rating by Feature Correlation',\\\n                    linewidth=3.3, marker='.', markersize=20)                \n\nplt.xlabel('Features')\nplt.ylabel('Customer Ratings')","76a0691d":"#### Explore by the Cost of the product","f7160dff":"#### Explore by prior purchases","7a4e75dd":"#### Explore how often customers made calls for enquiry on the shipment ","24b826b5":"We see that an average customer initially made between 2 to 4 prior purchases.","9878ae64":"We see a high correlation between Customer Rating and Reach on Time, Prior Purchase, Customer Care Calls, Warehouse and cxost of Products. We can conclude that customers who are satisfied in these areas are likely to give the product better rating.\n","a823230a":"We see there are no null values, so we can proceed with further exploration.","460de926":" #### Explore by Mode of Shipment","3dd3988d":" We see that customer rating is almost evenly distributed from worst to best.","9dafc8f7":"#### Explore by Customer Rating","0ab0e6bc":"This would help us determine the factors or features that impact how customers rate the products.","a27f09fd":"We see the categories in which the company places the products.\n\nAbout half the products are categoried as low.","f65e5b9a":"We continue to see a close and almost even relationship between gender and other features.\n\nFurther comparison in below visuals.","5073a2fb":"From the initail exploration above, we see that:\n1. About 68% of Mode of Shipment is via Ship,others are by Flight and Road.\n2. About 48% of product importance are classified as low.\n3. Customer gender apears to be evenly distributed with about 50.4% female.","69d2311f":"We see the Warehouse Block 'F' holds the highest number of the product while other share even product distribution.","affc0a4a":"#### Explore how gender interacts with some other features","42c6d8a8":" We see that an average customer calls about 4 times on shipping enquiry. \n \n The company needs to compare this to the expected number of calls and industial average to determine\n \n if this call rates are within the normal and acceptable level. Else, there is need to review the process\n \n to identify the gaps in the shiiping process that makes customers have to call so much to enquire about their shipments.","dbc5d806":"We see that the highest shipment mode is with use of Ship, followed by Flight and Road respectively.","d58c27c6":"#### Explore by Warehouse Block ( A, B,C,D and F)","1df55014":"#### Explore by product importance","d622dff6":"We see that gender are almost evenly distributed.\n","2a7e1145":"#### Explore customers by Gender","ca2e2447":"If you like my work, please upvote. Thanks.","f99cd608":"#### Explore correletion between customer ratings and other features"}}