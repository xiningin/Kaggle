{"cell_type":{"e91a4ff1":"code","8623137f":"code","1e7593a3":"code","72a703e9":"code","609ccd90":"code","85ee0fff":"code","11248bb2":"code","88407751":"code","c3b7bfe9":"code","f2fc3789":"code","79d46f7a":"code","6c5ab630":"code","91b6610e":"code","11e67e32":"code","131be67b":"code","3101354e":"code","a74c8c2e":"code","b5e940a6":"code","f28c3166":"code","d617ed66":"code","7358cf45":"code","acf58e78":"code","68978621":"code","bce4d753":"code","0ccdc14e":"code","114eb95c":"code","fc6c1194":"code","3c0546e0":"code","3c3cc53d":"code","1d7bdefe":"code","c0e22019":"code","8bc8106e":"code","30c9c362":"code","f3602889":"markdown","bc3122d1":"markdown","37a03464":"markdown","f7136866":"markdown","a22e471a":"markdown","a0a4d9db":"markdown","d0adcdab":"markdown","330a3e6f":"markdown","1b0b85e9":"markdown","f5f64e45":"markdown","000609ab":"markdown","48f4593c":"markdown","a706a340":"markdown","7f0aa042":"markdown","754f0b50":"markdown","fc87cfa6":"markdown","e1ce1366":"markdown","8fc0099e":"markdown","87cabd4f":"markdown","ac7498d0":"markdown","1b17d25c":"markdown","9a2c867a":"markdown","079b84ca":"markdown","c4f79025":"markdown","43f85951":"markdown","5f409984":"markdown","715a2272":"markdown","5d3d6d70":"markdown","1df6978d":"markdown","ef6a2165":"markdown","aad94fe1":"markdown","8026c856":"markdown","c74ec74e":"markdown","940281af":"markdown","dbcff24c":"markdown","909bcd6e":"markdown","cba41ab7":"markdown","e634dd7f":"markdown","19d81756":"markdown","58be4705":"markdown","55436a70":"markdown","280ed86f":"markdown","3ab02fff":"markdown","30e59c44":"markdown","8fa0e5b5":"markdown","420a5bc4":"markdown","693268c2":"markdown","063108e7":"markdown","447c967d":"markdown"},"source":{"e91a4ff1":"# import all packages and set plots to be embedded inline\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sb\n\n%matplotlib inline","8623137f":"# Loading our dataset:\n\ndf = pd.read_csv('..\/input\/ford-gobike-2019feb-tripdata\/201902-fordgobike-tripdata.csv')\ndf.head() #displaying the first 5 rows of the dataset.\n","1e7593a3":"print('The number of rows we have in our dataset is:', df.shape[0],\n      '.However the number of columns is:', df.shape[1])","72a703e9":"df.describe()","609ccd90":"# Checking for duplicates:\n\nprint('The number of duplicate records we have in the dataset is',df.duplicated().sum())","85ee0fff":"# Checking for any null values in our dataset:\n\ndf.isna().sum()","11248bb2":"# Dropping null values:\n\ndf.dropna(inplace=True)\ndf.info() # Checking all columns after the drop of the null values.","88407751":"df['duration_min'] = df['duration_sec'] \/ 60\ndf['duration_min'] = df['duration_min'].astype(int)\n\n# Dropping the old duration_sec column:\n\ndf.drop(columns='duration_sec', inplace=True)\n","c3b7bfe9":"# Calculating members age:\n\ndf['member_age'] = 2019 - df['member_birth_year']\n\n# Changing type to int\n\ndf['member_age'] = df['member_age'].astype(int)\n\n# Dropping the member_birth_year column: \n\ndf.drop(columns='member_birth_year', inplace=True)\n","f2fc3789":"df['member_age'].describe()","79d46f7a":"# Check how many values for ages more than 100:\n\nabnormal_ages = df[df['member_age'] > 100]\nprint('The no abnormal ages in the dataset are:', abnormal_ages.shape[0])\n\n","6c5ab630":"# Dropping ages which is bigger than 100:\n\ndf = df[df['member_age'] < 100]\n","91b6610e":"# Transforming start_date:\n\ndf['start_time'] = pd.to_datetime(df['start_time'])\n\n# Transforming end_time:\n\ndf['end_time'] = pd.to_datetime(df['end_time'])\n","11e67e32":"# Getting hour from start time\n\ndf['start_hour'] = df['start_time'].dt.strftime('%H')\n\n# Getting day from start time\n\ndf['start_day'] = df['start_time'].dt.strftime('%A')\n\n# Getting month from start time\n\ndf['start_month'] = df['start_time'].dt.strftime('%B')","131be67b":"df.start_month.unique()\n","3101354e":"# Checking user types:\n\ndf.user_type.unique()","a74c8c2e":"# Checking stations:\n\nprint('We have', df.start_station_name.nunique(), 'stations recorded in the dataset.')","b5e940a6":"# Dataset shape after Features engineering and data wrangling:\n\ndf.shape","f28c3166":"# Exporting df to csv:\n\ndf.to_csv(r'C:\\Users\\koraim\\OneDrive - Dell Technologies\\Desktop\\Data Science\\Udacity\\Project 3\\Submission\\cleaned_FordGoBike.csv', index=False,\n          header=True)","d617ed66":"# Exploring Hours of the day and its trips distribution:\n\n\nsb.set_theme(style='darkgrid')\nplt.figure(figsize=(12,8))\nplt.title('Trips Distributions along Hours of the Day')\nsb.countplot(df.start_hour);","7358cf45":"# Exploring most weekdays with bike rentals:\n\nsb.set_theme(style='darkgrid')\nplt.figure(figsize=(12,8))\nplt.title('Trips Distributions along Weekdays')\nsb.countplot(df.start_day);","acf58e78":"# Exploring the age:\n\nbins = np.arange(0, df['member_age'].max(), 5)\n\nsb.set_theme(style='darkgrid')\nplt.figure(figsize=(12,8))\nplt.title('Members Age distribution')\nsb.histplot(df['member_age'], bins=bins);\n","68978621":"# Plotting Duration:\nsb.set_theme(style='darkgrid')\nplt.figure(figsize=(8,4))\nplt.xlim(0,60)\nplt.title('Trip Duration distribution')\nsb.histplot(df['duration_min'], bins=1000);","bce4d753":"# Exploring the Gender of the users:\n\n#plt.pie(df.member_gender)\n","0ccdc14e":"# Exploring user types:\n\n\nsb.set_theme(style='darkgrid')\nplt.figure(figsize=(12,8))\nplt.title('User Types')\nsb.countplot(df.user_type);","114eb95c":"# Exploring trips duration against days of the week:\n\n\nsb.set_theme(style='darkgrid')\nplt.figure(figsize=(12,8))\nplt.title('Trips Durations along Weekdays')\nsb.barplot(data=df, x= 'start_day', y='duration_min');","fc6c1194":"# Exploring trips duration against Age Groups:\n\nsb.set_theme(style='darkgrid')\nplt.figure(figsize=(20,8))\nplt.title('Trips Durations along Age Groups')\nsb.barplot(data=df, x= 'member_age', y='duration_min');\n","3c0546e0":"sb.set_theme(style='darkgrid')\nplt.figure(figsize=(12,8))\nplt.title(\"Gender Count\")\nsb.countplot(x=df.member_gender);","3c3cc53d":"sb.set_theme(style='darkgrid')\nplt.figure(figsize=(12,8))\nplt.title('Trips Durations along Weekdays')\nsb.boxplot(data=df, x= 'user_type', y='member_age');","1d7bdefe":"#Exploring Age and Gender\n\nsb.set_theme(style='darkgrid')\nplt.figure(figsize=(12,8))\nplt.title('Age against Gender relationsip')\nsb.violinplot(x=df.member_gender, y= df.member_age)","c0e22019":"# Plotting User types and the relationship with the start station of the trip:\n\ntop_stations = df.start_station_name.value_counts().head(30).index\nsb.set_theme(style='darkgrid')\nplt.figure(figsize=(12,8))\nplt.title('User Types and which station the use')\nsb.countplot(y=df.start_station_name, hue=df.user_type, order=top_stations);","8bc8106e":"sb.set_theme(style='darkgrid')\nplt.figure(figsize=(12,8))\nsb.violinplot(x=df.start_day, y= df.member_age, hue=df.member_gender);","30c9c362":"sb.set_theme(style='darkgrid')\nplt.figure(figsize=(12,8))\nsb.barplot(x=df.start_day, y= df.duration_min, hue=df.member_gender);","f3602889":"###  How did the feature(s) of interest vary with other features in the dataset?\n\n- The median of both genders (Male\/Female) is nearly identical.\n- Sundays have the most average trips duration which is logical as people tend to use bikes at the weekends.\n\n### Were there any interesting relationships between the other features (not the main feature(s) of interest)?\n\n- The age groups with most average trips are 18 and 78(!)\n- There is a huge gap between the number of Subscribers and Customers for the top used start stations.\n","bc3122d1":"I will start with exploration of the main features we mentioned above as we want to learn more about the passengers and how the trips change through time.Firstly, I will start with start_time features( Hour, Day and Month):","37a03464":"**Conclusion**: Most of the trips have duration less than 10 minutes as we can see from the graph above.","f7136866":"df.head()","a22e471a":"We have 72 entries which have ages more than 100. So I prefer to drop those records as follows:","a0a4d9db":"## Data Exploration\/ Wrangling:","d0adcdab":"### Which day of the week has the most average trips duration?","330a3e6f":"## Bivariate Exploration\n\n> In this section, We investigate relationships between pairs of variables in your\nour dataset. As we already mentioned that our most important features are the dates of the trips and the duration as well, We will examine those features with other data from the dataset to produce more insights:","1b0b85e9":"**Conclusion**: Market St and San Francisco Caltrain Station 2 are the two most stations used by Subscribers to rent bikes. On the other hand, San Francisco Ferry Building and The Embarcader are the most stations used by Customers.","f5f64e45":"**Conclusion**: 17 and 08 hours are the most significant times of the day when it comes to bike rentals whith excess of 20,000 trips.","000609ab":"### What is the relationship between Weekdays, Average duration and the User Gender?","48f4593c":"Also, as we already have the customers birth year, we can caclulate the age of every user who rented a bike:","a706a340":"**Conclusion**: Around 90% of the users are subscribers.","7f0aa042":"**Conclusion**: It seems that Subscribers have larger range of age however Customers have slightly younger age range.","754f0b50":"### Which trip duration range has the most occurance?","fc87cfa6":"- Renting a bike is very popular among subscribers rather than customers which may point to special rates or free rides for subscribed users.\n- Short trips for both subscribers and customers are favored which show how much they are convenient and beneficial for commuting around the city.\n- The 'Other' gender seems to be much more active along weekdays although most of our users are of male gender.\n- Sunday is the most active day among the three genders we have.\n- Market St and San Francisco Caltrain Station 2 are the two most stations used by Subscribers to rent bikes.","e1ce1366":"### What are the user count from the different genders?","8fc0099e":"**Conclusion**: That's a little bit skewed to the right distribution as it shows age groups from 20 to 40 as leading for renting bike trips.","87cabd4f":"### Were there features that strengthened each other?\n\n> 'Other' gender users seem to be more active than Males\/Females along the Weekdays. Also, Sundays comes first if we search for active days among the three genders. So we can say that member_gender strengthed the start_day feature.\n","ac7498d0":"**Conclusion**: Thursday is the most day of the week with rentals followed by Tuesday.","1b17d25c":"We will split the columns of start time to minutes, hour,day and month to be able to generate more insights and have detailed info:","9a2c867a":"I will do some adjustments in the data just to make the data we have more user friendly. \nFirst, We will change the duration_sec to duartion minutes:\n    ","079b84ca":"### Which weekday has the most trips?","c4f79025":"**Conclusion**: The most age groups with largest average of trip duration are 18 and 78","43f85951":"**Conclusion**: Majority of the users are males.","5f409984":"## Multivariate Exploration\n\n> Creating plots of three or more variables to investigate your data even\nfurther:","715a2272":"### What is the age range of the different user types?","5d3d6d70":"**Conclusion**: 'Other' gender is has the most average trip duration on Sundays.","1df6978d":"### Which age groups has the most members?","ef6a2165":"## Summary:","aad94fe1":"### What is the main group of the users? Customers or Subscribers?","8026c856":"### What is the average trip duration for the age groups we have in the dataset?","c74ec74e":"### Were there any unusual points?\n\n> There was some unusal values of the members age as we had 70+ values which are larger than 100. We deduced that those values were inserted by mistake and removed them in the data wrangling phase.\n\n\n###  Were there any unusual distributions? Were there any operations on the data to tidy, adjust, or change the form of the data? If so, why?\n\n- I feel like its a bit unusual to have most of the trips have durations under 10 minutes. I mean its not in a problem in the data itself but surely the customers\/ subscribers use the bike rentals more often.\n- We created more features from the data data to have more insights of which hour\/day are the most when it comes to bike rentals.","940281af":"**Conclusion**: Sundays and Saturdays have the largest average of trip duration which makes some sense as people tend to maybe rent\/ride bikes at the weekends.","dbcff24c":"## Univariate Exploration\n\n> In this section, We investigate distributions of individual variables and try to get the  relationships between variables.","909bcd6e":"After loading our dataset, We will have a deeper look into the details of it, try to notice any kind of patterns or insights and also to understand its structcure and main features.","cba41ab7":"**Conclusion**: \"Other\" gender have the largest median of ages on Tuesdays.\n    ","e634dd7f":"As we can see the above output, We have 6 columns which have null values which are (start_station_id, start_station_name,end_station_id, member_birth_year,  end_station_name In the next cells,member_gender). The maximum number of null values we have is 8265 values so I feel that the best approach here is to drop them as it does not exceed 5% of the total records of the dataset.","19d81756":"As we explore the member_age column more, we notice that the max year from the column description summary is 141 years. We continue checking for more out-of-range values and drop the ages which exceeds 100:","58be4705":"### What is the structure of the dataset?\n\n> The dataset consists of 19 columns and 174880 records after data wranngling.\n\n### What is\/are the main feature(s) of interest in the dataset?\n\n> The duration_min, member age and also start time are the main features of the dataset.\n\n### What features will help support your investigation into your feature(s) of interest?\n\n> Start(hour, day, month) will support the analysis of the dataset.","55436a70":"### What are the most popular stations used by Customers\/ Subscribers to rent bikes?","280ed86f":"#### Which hour of the day that has most corresponding trips?","3ab02fff":"### What is age range of the different genders?","30e59c44":"# (Ford GoBike: Exploration Notebook)\n## By: Mohamed Korain\n\n## Preliminary Wrangling\n\n> This data set contains information about bicycle rides made in the greater San Francisco Bay area using a bike-sharing system. Our aim is to check the dataset, its features and explore the relationship between them.","8fa0e5b5":"All of our trips are recorded in Febraury 2019.","420a5bc4":"We already know that all of the trips are recorded in **Febraury** so no need to plot the months. We will now switch to passengers age:","693268c2":"We will then transform the dates we have of start time and end time to adequate format:","063108e7":"### Which gender have most average trip duration among weekdays?","447c967d":"**Conclusion**: Both Male and Females age ranges have the same age median."}}