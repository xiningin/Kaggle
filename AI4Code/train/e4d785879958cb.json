{"cell_type":{"c8567c75":"code","f303a917":"code","9a32815c":"code","3d650926":"code","9f71b106":"code","ff94432a":"code","001e40e9":"code","927b3550":"code","0b915ef1":"code","2a65ac68":"code","1be4f848":"code","3b11c129":"code","60e0fe05":"code","47921824":"code","fc770e55":"code","93cfe77d":"code","fba423e2":"code","01af946f":"code","0a49f1d8":"code","316ef4b7":"code","f9defda7":"code","9d78b904":"code","712097dc":"code","2a241a3d":"markdown","c0282f9c":"markdown","0c7c2232":"markdown","d895be82":"markdown","60b34431":"markdown","5d8b1667":"markdown","ae0073a5":"markdown","dc6c9005":"markdown","000e8a81":"markdown","0d7da29a":"markdown","eb698324":"markdown","612cced9":"markdown","d4692d97":"markdown","9ae4deb0":"markdown","b698bcd2":"markdown","e224c0d9":"markdown","f6f4cf6e":"markdown"},"source":{"c8567c75":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom statsmodels import robust\n%matplotlib inline","f303a917":"df = pd.read_csv('..\/input\/habermans-survival-data-set\/haberman.csv',header=None, names=['age', 'year', 'nodes', 'status'])\ndf.head()","9a32815c":"df.info()","3d650926":"df.describe()","9f71b106":"# How many data point and features:\ndf.shape","ff94432a":"# What are the column names :\ndf.columns","001e40e9":"# count of data points for each class in 'status':\ndf['status'].value_counts()","927b3550":"sns.distplot(df['status']).set_title('Distribution of Status')","0b915ef1":"sns.distplot(df['age']).set_title('Distribution of age')","2a65ac68":"sns.distplot(df['year']).set_title('Distribution of year')","1be4f848":"sns.distplot(df['nodes']).set_title('Distribution of nodes')","3b11c129":"sns.FacetGrid(df, hue = 'status',height = 6).map(sns.distplot,\"age\").add_legend()\nplt.ylabel(\"Density\")\nplt.title('Survival Status vs Age')","60e0fe05":"sns.FacetGrid(df, hue = 'status',height = 6).map(sns.distplot,\"nodes\").add_legend()\nplt.ylabel(\"Density\")\nplt.title('Survival Status vs Auxillary Nodes')","47921824":"sns.FacetGrid(df, hue = 'status',height = 6).map(sns.distplot,\"year\").add_legend()\nplt.ylabel(\"Density\")\nplt.title('Survival Status vs Operation_year')","fc770e55":"# Plot CDF for 'Age'\ncounts, bin_edges = np.histogram(df['age'], bins = 10, density = True)\n\npdf_age = counts\/sum(counts)\nprint(pdf_age)\nprint(bin_edges)\ncdf_age = np.cumsum(pdf_age)\nprint(cdf_age)","93cfe77d":"plt.figure(figsize=(9,6))\nplt.plot(bin_edges[1:],pdf_age)\nplt.plot(bin_edges[1:],cdf_age)\nplt.ylabel('Density')\nplt.xlabel('Age')\nplt.legend(['PDF of Age','CDF of Age'])\nplt.show()","fba423e2":"# creating data frame for each status\nSurvived = df.loc[df[\"status\"] == 1]\nNot_Survived = df.loc[df[\"status\"] == 2]","01af946f":"\ncounts_S, bin_edges_S = np.histogram(Survived['age'], bins = 10, density = True)\n\npdf_age_survived = counts_S\/sum(counts_S)\ncdf_age_survived = np.cumsum(pdf_age_survived)\n\n\ncounts_NS, bin_edges_NS = np.histogram(Not_Survived['age'], bins = 10, density = True)\n\npdf_age_Not_survived = counts_NS\/sum(counts_NS)\ncdf_age_Not_survived = np.cumsum(pdf_age_Not_survived)\n\nplt.figure(figsize=(9,6))\nplt.plot(bin_edges_S[1:],pdf_age_survived)\nplt.plot(bin_edges_S[1:],cdf_age_survived)\n\nplt.plot(bin_edges_NS[1:],pdf_age_Not_survived)\nplt.plot(bin_edges_NS[1:],cdf_age_Not_survived)\n\n\nplt.ylabel('Density')\nplt.xlabel('Age')\nplt.legend(['PDF of Age Survived','CDF of Age Survived','PDF of Age Not Survived','CDF of Age Not Survived'])\nplt.show()","0a49f1d8":"counts_S, bin_edges_S = np.histogram(Survived['year'], bins = 10, density = True)\n\npdf_year_survived = counts_S\/sum(counts_S)\ncdf_year_survived = np.cumsum(pdf_year_survived)\n\n\ncounts_NS, bin_edges_NS = np.histogram(Not_Survived['year'], bins = 10, density = True)\n\npdf_year_Not_survived = counts_NS\/sum(counts_NS)\ncdf_year_Not_survived = np.cumsum(pdf_year_Not_survived)\n\nplt.figure(figsize=(9,6))\nplt.plot(bin_edges_S[1:],pdf_year_survived)\nplt.plot(bin_edges_S[1:],cdf_year_survived)\n\nplt.plot(bin_edges_NS[1:],pdf_year_Not_survived)\nplt.plot(bin_edges_NS[1:],cdf_year_Not_survived)\n\n\nplt.ylabel('Density')\nplt.xlabel('year')\nplt.legend(['PDF of year Survived','CDF of year Survived','PDF of year Not Survived','CDF of year Not Survived'])\nplt.show()","316ef4b7":"counts_S, bin_edges_S = np.histogram(Survived['nodes'], bins = 10, density = True)\n\npdf_nodes_survived = counts_S\/sum(counts_S)\ncdf_nodes_survived = np.cumsum(pdf_nodes_survived)\n\n\ncounts_NS, bin_edges_NS = np.histogram(Not_Survived['nodes'], bins = 10, density = True)\n\npdf_nodes_Not_survived = counts_NS\/sum(counts_NS)\ncdf_nodes_Not_survived = np.cumsum(pdf_nodes_Not_survived)\n\nplt.figure(figsize=(9,6))\nplt.plot(bin_edges_S[1:],pdf_nodes_survived)\nplt.plot(bin_edges_S[1:],cdf_nodes_survived)\n\nplt.plot(bin_edges_NS[1:],pdf_nodes_Not_survived)\nplt.plot(bin_edges_NS[1:],cdf_nodes_Not_survived)\n\n\nplt.ylabel('Density')\nplt.xlabel('Auxillary Nodes')\nplt.legend(['PDF of Auxillary Nodes Survived','CDF of Auxillary Nodes Survived','PDF of Auxillary Nodes Not Survived','CDF of Auxillary Nodes Not Survived'])\nplt.show()","f9defda7":"plt.figure(figsize=(8,5))\nplt.plot(Survived[\"age\"], np.zeros_like(Survived[\"age\"]), '*', label = \"Survived\")\nplt.plot(Not_Survived[\"age\"], np.zeros_like(Not_Survived[\"age\"]), '*', label = \"Not Survived\")\nplt.title(\"scatter plot for Age\")\nplt.xlabel(\"age\")\nplt.legend()\nplt.show()","9d78b904":"sns.pairplot(df, hue = \"status\",vars = [\"age\", \"year\", \"nodes\"], height = 3)\nplt.show()","712097dc":"print('Medians:')\nprint(np.median(Survived['nodes']))\nprint(np.median(np.append(Survived['nodes'],50)))\nprint(np.median(Not_Survived['nodes']))\n\nprint('\\nQuantiles:')\nprint(np.percentile(Survived['nodes'],np.arange(0,100,25)))\nprint(np.percentile(Not_Survived['nodes'],np.arange(0,100,25)))\n\nprint('\\n90th percentile:')\nprint(np.percentile(Survived['nodes'],90))\nprint(np.percentile(Not_Survived['nodes'],90))\n\nprint ('\\nMedian Absolute Deviation')\nprint(robust.mad(Survived['nodes']))\nprint(robust.mad(Not_Survived['nodes']))","2a241a3d":"* From above chart it is clear that, most of the patients in between age 41 to 70 are not survived.","c0282f9c":"* From above graph it is very clear that patients with above age of 77 did not survived.\n* patients with below age of 38 are survived after the operation.\n* probability of being survived with having age below 48 is high.","0c7c2232":"### Univariate Analysis","d895be82":"* patients with age of below 34 have survived.\n* patients with age of above 77 have not survived.\n* Probability of not surviving between age 40 to 60 and age 65 to 70 is high compared to survival rate.","60b34431":"* Patients who has more than 46 auxillary nodes are not survived.","5d8b1667":"### PDF(Probability Density Function)","ae0073a5":"* 55+ percent of patients who have Auxillary Nodes 0 to 5 are survived and around 12 % are not survived.","dc6c9005":"* From above visulization, probability of patient survived more than 5 year is more compared to probability of patients dies with in 5 years after operation.","000e8a81":"## Objective : To get insights of patient's survival status who had undergone operation for breast cancer.","0d7da29a":"# Exploratory Data Analysis : Haberman's Survival","eb698324":"* 225 Patients survived more than 5 years and longer\n* 81 Patients died with in 5 years after operation ","612cced9":"#### Observations:\n\n* From above values, it is clear that average axillary nodes in long survival is 0 and for short survival it is 4. which means,      Patients who have average 4 auxillary nodes have short survival rate.\n* At 90th% there if nodes detected is greater than 8 nodes then it has high survival status and if nodes are greater 20 then patients will have less survival rate.\n* Probability of surviving patients with age of below 38 is high.\n* patients with age of above 77 have not survived.\n* Probability of not surviving between age 40 to 60 and age 65 to 70 is high compared to survival rate.\n* 55+ percent of patients who have Auxillary Nodes 0 to 5 are survived and around 12 % are not survived.\n* Patients who has more than 46 auxillary nodes are not survived.\n\n#### Conclusion:\n* This dataset is imbalanced and much overlapping and very hard to classify.\n* Having said this, 'Age' and 'Nodes' feature gives us more insights compare to other features.\n* If we utilize advance tenchinque to handle imbalanced dataset then it will be easy to get more insights.","d4692d97":"* Distribution of nodes is the right skewed distribution and most of the patients having 0 to 1 positive axillary nodes detected. ","9ae4deb0":"#### Distribution of 'Status' feature","b698bcd2":"* Most of cancer suffering patients are of age in between 40 to 65","e224c0d9":"> ### Summary\n* age    -  Age of patient at time of operation (numerical)\n* year   -  Patient's year of operation (year - 1900, numerical)\n* nodes  -  Number of positive axillary nodes detected (numerical)\n* status -  Survival status (class attribute) 1 = the patient survived 5 years or longer 2 = the patient died within 5 years","f6f4cf6e":"### CDF(Cummulative Distributed Function)\n"}}