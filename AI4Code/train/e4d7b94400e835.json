{"cell_type":{"414cde96":"code","e05cc434":"code","2f60a9ca":"code","8347c202":"code","a6cfc4e4":"code","7b02c50d":"code","b7d00afa":"code","bda4052a":"code","e43c6d08":"code","ec5593f7":"code","fbcb299a":"code","e69e8420":"code","3ecde93f":"code","2ae6c00c":"code","8fc67782":"code","209aa81a":"code","79f20676":"code","3e030fbb":"code","e3c96cb2":"code","5fd08a39":"code","edb1adce":"code","59f64da6":"code","df047796":"code","860de65b":"code","9b6733f8":"code","3691db9b":"code","90b7b33a":"code","3e574f5a":"code","9694109c":"code","2c8a3ad1":"code","8691de91":"code","539375dd":"code","fe39a32d":"code","7e9ab6c0":"code","90fd8d40":"code","cb6a2249":"code","12299be0":"code","65780f43":"code","bdaf5799":"code","834d4295":"markdown","f3e8f5ce":"markdown","9c16d98b":"markdown","9e3eb761":"markdown","917fdb3a":"markdown","c8461eae":"markdown","c44f65ae":"markdown"},"source":{"414cde96":"import pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns","e05cc434":"df = pd.read_csv('..\/input\/us-police-shootings\/shootings.csv')","2f60a9ca":"df.head()","8347c202":"df.dtypes","a6cfc4e4":"df.shape","7b02c50d":"df.isnull().sum()","b7d00afa":"# \u6b7b\u4ea1\u306e\u7a2e\u5225\nprint(df['manner_of_death'].unique())\nprint(df['manner_of_death'].value_counts())","bda4052a":"# \u6b66\u88c5\u306e\u6709\u7121\u3068\u305d\u306e\u7a2e\u5225\nprint(df['armed'].unique())\nprint(df['armed'].value_counts())","e43c6d08":"# \u6b66\u88c5\u306e\u30ab\u30c6\u30b4\u30ea\nprint(df['arms_category'].value_counts())","ec5593f7":"# \u6027\u5225\u3068\u4eba\u7a2e\nprint(df['gender'].value_counts())\nprint(df['race'].value_counts())","fbcb299a":"df['date'] = pd.to_datetime(df['date'])","e69e8420":"df.dtypes","3ecde93f":"df['year'] = df['date'].dt.strftime('%Y')\ndf['year_month'] = df['date'].dt.strftime('%Y%m')","2ae6c00c":"df.head()","8fc67782":"# \u5e74\u5225\ndf['year'].value_counts()","209aa81a":"# \u5e74\u5225\u306e\u5e73\u5747\u5e74\u9f62\ndf.groupby(['year'])['age'].mean()","79f20676":"# \u90fd\u5e02\u306e\u6570\ndf['city'].value_counts()","3e030fbb":"# \u4eba\u7a2e\u5225\u00d7\u90fd\u5e02\u5225\ndf.groupby(['race','city'])['id'].count()","e3c96cb2":"# \u9003\u3052\u305f\u304b\uff1f\u3000flee=\u9003\u3052\u305f\ndf['flee'].value_counts()","5fd08a39":"# \u653b\u6483\u3057\u305f\u304b\ndf['threat_level'].value_counts()","edb1adce":"df.groupby(['threat_level','arms_category'])['id'].count()","59f64da6":"df['body_camera'].value_counts()","df047796":"# \u7cbe\u795e\u75be\u60a3\ndf['signs_of_mental_illness'].value_counts()","860de65b":"# \u4eba\u7a2e\u00d7\u6027\u5225\ndf.groupby(['race','gender'])['id'].count()","9b6733f8":"# \u4eba\u7a2e\u00d7\u6027\u5225\u00d7\u5e73\u5747\u5e74\u9f62\ndf.groupby(['race','gender'])['age'].mean()","3691db9b":"# \u4eba\u7a2e\u00d7\u8105\u8feb\u30ec\u30d9\u30eb\ndf.groupby(['race','threat_level'])['id'].count()","90b7b33a":"df.groupby(['race','arms_category'])['id'].count()","3e574f5a":"pd.set_option('display.max_rows', 500)","9694109c":"df.groupby(['state','race'])['id'].count()","2c8a3ad1":"df['state'].unique()","8691de91":"df['state'].replace(['PA','NY','VT','ME', 'NH', 'MA', 'RI', 'CT', 'NJ'],'E', inplace=True)\ndf['state'].replace(['DE','MD','DC','VA', 'WV', 'NC', 'SC', 'GA', 'FL','KY','TN','AL','MS', 'AR', 'LA', 'OK', 'TX'],'S', inplace=True)\ndf['state'].replace(['OH','MI','IN','WI', 'IL', 'MN', 'IA', 'MO', 'ND','SD','NE','KS'],'MW', inplace=True)\ndf['state'].replace(['WA','MT','OR','ID', 'WY', 'CA', 'NV', 'UT', 'CO','AZ','NM','AK', 'HI'],'W', inplace=True)","539375dd":"print(df['state'].unique())\nprint(df['state'].value_counts())","fe39a32d":"# \u6771\u90e8\u3001\u5357\u90e8\u3001\u4e2d\u897f\u90e8\u3001\u897f\u90e8\u3054\u3068\u306e\u5206\u6790\ndf.groupby(['state','race'])['id'].count()","7e9ab6c0":"import plotly.graph_objs as go\nimport plotly.figure_factory as ff\nimport plotly.express as px","90fd8d40":"fig = px.histogram(df, \"age\", nbins=20, title = 'Age')\nfig.show()","cb6a2249":"sns.distplot(df['age'],kde=True,color='r')","12299be0":"sns.boxplot(x=\"gender\", y=\"age\", palette=[\"b\", \"m\"],data=df,)\nsns.despine(offset=10, trim=True)","65780f43":"sns.boxplot(x=\"race\", y=\"age\",data=df)\nsns.despine(offset=10, trim=True)","bdaf5799":"city = df.groupby('city')['name'].count().reset_index().sort_values('name', ascending=True).tail(20)\nfig = px.bar(city, x=\"name\", y=\"city\", orientation='h',title=\"City\")\nfig.show()","834d4295":"* \u7c73\u56fd\u306e\u8b66\u5bdf\u306b\u3088\u308b\u5c04\u6bba\u3092\u5206\u6790\u3059\u308b\n* \u9ed2\u4eba\u306b\u3088\u308b\u6297\u8b70\u6d3b\u52d5\u3084\u653f\u6cbb\u5bb6\u306b\u3088\u308b\u767a\u8a00\u3067\u6df7\u4e71\u3057\u3066\u3044\u308b\u304c\u3001\u5b9f\u614b\u306f\u3069\u3046\u306a\u306e\u304b\uff1f","f3e8f5ce":"Guns\u306e\u5272\u5408\uff1a\u3000\u9ed2\u4eba59.0%  \u767d\u4eba58.8% \u3000\u30d2\u30b9\u30d1\u30cb\u30c3\u30af49.7%\u3000\uff08\u5e73\u574756.5%\uff09","9c16d98b":"\u300c\u5730\u533a\u6bce\u9ed2\u4eba\u6bd4\u7387\u300d\u3000\u6771\u90e8E\uff1a38.5\uff05\u3001\u4e2d\u897f\u90e8MW\uff1a32.7\uff05\u3001\u5357\u90e8S\uff1a33.3\uff05\u3001\u897f\u90e8W\uff1a12.7\uff05","9e3eb761":"56.\uff15\uff05\u306f\u9283\u3067\u6b66\u88c5\u3057\u3066\u3044\u305f","917fdb3a":"95.5\uff05\u306f\u7537\u6027\u300050.6\uff05\u306f\u767d\u4eba\u300026.\uff15\uff05\u306f\u9ed2\u4eba","c8461eae":"attack\u306e\u5272\u5408\uff1a\u3000\u9ed2\u4eba67.3%  \u767d\u4eba66.2% \u3000\u30d2\u30b9\u30d1\u30cb\u30c3\u30af57.8%\u3000\uff08\u5e73\u574764.\uff15%\uff09","c44f65ae":"\u5f90\u3005\u306b\u4e0b\u304c\u3063\u3066\u304d\u3066\u3044\u308b\u30002020\u5e74\u306f\u9014\u4e2d"}}