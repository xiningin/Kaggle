{"cell_type":{"b42c5d5c":"code","5c98336f":"code","51bad3c9":"markdown","b706e863":"markdown","f0897063":"markdown","5ed52d83":"markdown"},"source":{"b42c5d5c":"from pathlib import Path\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport random\nimport os\n\ndata_folder = Path(\"..\/input\/petfinder-pawpularity-score\")\nmeta_data_train = data_folder\/\"train.csv\"\nimages_train = data_folder\/\"train\"\n\ndf = pd.read_csv(meta_data_train)\ndf = df.set_index(\"Id\")\ndf.columns = [i.lower() for i in df.columns]\n\nclass SubMapping:\n    def __init__(self):\n        self._id2object = {}\n    def from_strings(self,strings,func):\n        ids = list(map(func,strings))\n        self.from_lists(ids,strings)\n        return self\n    def from_lists(self,list1,list2):\n        self._id2object = {i:j for i,j in zip(list1,list2)}\n        return self\n    def __getitem__(self,id):\n        return self._id2object[id]\n    def __len__(self):\n        return len(self._id2object)\n    def __iter__(self):\n        for i in self._id2object:\n            yield i,self[i]\n    def values(self):\n        return list(zip(self._id2object.keys(),self._id2object.values()))\n    \n    def rand_values(self,n):\n        return random.choices(population=self.values(), k=n)\n    \nclass FileIdMapping(SubMapping):\n    def from_folderpath(self,folderpath,func):\n        files = os.listdir(folderpath)\n        ids = map(func,files)\n        full_path_files = map(lambda x: os.path.join(folderpath,x),files)\n        return self.from_lists(ids,full_path_files)\n\ndef plot_images(images,n_cols=3,size=(12,12),titles=None):\n    n = len(images)\n    n_rows = n\/\/n_cols+bool(n%n_cols)\n    \n    fig,axs = plt.subplots(n_rows,n_cols,figsize=size)\n    if isinstance(titles, (list,pd.Series,tuple)):\n        if not len(titles):\n            titles = n*[\"No-Title\"]\n    else:\n        raise ValueError(\"Titles should be iterator\")\n    for ax,img,title in zip(axs.flatten(),images,titles):\n        image = plt.imread(img)\n        ax.imshow(image)\n        ax.set_title(\"Pawpularity Score: {}\".format(title))\n\nfm = FileIdMapping()\nfm = fm.from_folderpath(images_train,lambda x: x.split(\".\")[0])\n\ndef random_plot_images(n=30):\n    image_data = fm.rand_values(n)\n    images_ids = list(map(lambda x:x[0],image_data))\n    images_pawpularity = df.loc[images_ids][\"pawpularity\"].sort_values()\n    images_paths = [fm[i] for i in images_pawpularity.index]\n    plot_images(images_paths,titles=images_pawpularity,size=(20,60))","5c98336f":"random_plot_images(18) # change the value for displaying different number of pets","51bad3c9":"# Let's peak into the data\nI've seen the metadata and felt like a stale robot in analysing the features with the Pawpularity \ud83d\udc3e Scores. Blaa... \ud83e\udd2e\n\nTherefore I've built a small peice of code(\ud83e\udd5e) to observe the images with their scores. The pets are adorable. I've iterated roughly over 160 random images and mostly I found twin dogs - kittens, collage, text on images stating - Sold, Booked, Male\/Female etc..,., more than one pet in an image and more...\n\nSharing the code here for you to visualize lovable \ud83d\udc98 pets.","b706e863":"### Beautiful Pets sorted by <u>increasing<\/u> pawpularity score","f0897063":"### Hidden Code for displaying Pets","5ed52d83":"\n\n<h1>\n\n<center>I love \ud83d\ude0d Pets  \ud83d\udc36<\/center>\n<center> Akhil Teja \u2219 Enforcer007<\/center>\n\n<\/h1>\n\n***"}}