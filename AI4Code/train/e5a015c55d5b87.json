{"cell_type":{"1370061d":"code","f4aeac1b":"code","e1047573":"code","e3d0e05c":"code","81ff6971":"code","3db1d886":"code","b3d253d9":"code","a51b7e66":"code","fea49457":"code","c2a87f12":"code","1213d739":"code","8ee69714":"code","5298a4cc":"code","e7c3284b":"code","1d99f5be":"code","f3b6cf26":"code","6210be2d":"code","de1f4ddc":"code","df3ce239":"code","0ea3ebef":"code","67225086":"code","c799189a":"code","4800b3f7":"code","732c0ddc":"code","82186593":"code","4236a005":"code","d8c3ae3c":"code","81544fc4":"code","37201679":"code","fb686199":"code","da23c2d2":"code","8e0d2ecf":"code","b3213013":"code","d5597d55":"code","062afb50":"markdown","1bb93400":"markdown","d76534bf":"markdown","2ea85681":"markdown","8bfa142c":"markdown","6a6ed45c":"markdown","30c1fc7d":"markdown"},"source":{"1370061d":"!pip install bs4\nfrom bs4 import BeautifulSoup\nimport requests\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt","f4aeac1b":"url=\"https:\/\/www.worldometers.info\/coronavirus\/\"\nsoup=BeautifulSoup(requests.get(url).text,'html5lib')\nif soup.table.get('id')==\"main_table_countries_today\":\n    t1=soup.table\nheaders=[]\nfor header in t1.thead.tr.find_all(\"th\"):\n    headers.append(header.text.strip())","e1047573":"df=pd.DataFrame(columns=headers)","e3d0e05c":"row=t1.find_all(\"tr\")\nfor i in range(9,len(row)):\n    data=row[i].find_all(\"td\")\n    df=df.append({'#':data[0].text.strip(),'Country,Other':data[1].text.strip(),'TotalCases':data[2].text.strip(),'NewCases':data[3].text.strip(),'TotalDeaths':data[4].text.strip(),'NewDeaths':data[5].text.strip(), 'TotalRecovered':data[6].text.strip(), 'NewRecovered':data[7].text.strip(), 'ActiveCases':data[8].text.strip(),'Serious,Critical':data[9].text.strip(), 'Tot Cases\/1M pop':data[10].text.strip(), 'Deaths\/1M pop':data[11].text.strip(), 'TotalTests':data[12].text.strip(),'Tests\/\\n1M pop':data[13].text.strip(), 'Population':data[14].text.strip(), 'Continent':data[15].text.strip(), '1 Caseevery X ppl':data[16].text.strip(),'1 Deathevery X ppl':data[17].text.strip(), '1 Testevery X ppl':data[18].text.strip(), 'New Cases\/1M pop':data[19].text.strip(),'New Deaths\/1M pop':data[20].text.strip(), 'Active Cases\/1M pop':data[21].text.strip()},ignore_index=True)\ndf.head(10)","81ff6971":"df.drop(['NewCases','NewDeaths','NewRecovered','1 Caseevery X ppl','1 Deathevery X ppl','1 Testevery X ppl','New Cases\/1M pop','New Deaths\/1M pop','Active Cases\/1M pop'],axis=1,inplace=True)\n#df.head(10)","3db1d886":"df.drop(['Tot Cases\/1M pop'],axis=1,inplace=True)\n#df.head()","b3d253d9":"#df.columns","a51b7e66":"#df.info()","fea49457":"df.dropna(axis=1,inplace=True)\n#df.head()","c2a87f12":"df['TotalCases']=df['TotalCases'].str.replace(',','').astype(int)\ndf['TotalRecovered']=df['TotalRecovered'].str.replace(',','').astype(int)\ndf['TotalDeaths']=df['TotalDeaths'].str.replace(',','')\ndf['ActiveCases']=df['ActiveCases'].str.replace(',','').astype(int)\n#df.head()","1213d739":"df['TotalDeaths']=df['TotalDeaths'].str.replace(',','')\n#df.head()","8ee69714":"df.replace(r'^\\s*$', np.nan, regex=True,inplace=True)\ndf.dropna(axis=0,inplace=True)\n#df['ActiveCases']=df['ActiveCases'].str.replace(',','').astype(int)\n#df.info()","5298a4cc":"#print(df.replace(r'^\\s*$', np.nan, regex=True))\ndf.dropna(axis=0,inplace=True)","e7c3284b":"#df.tail(20)","1d99f5be":"#df.info()","f3b6cf26":"df['TotalDeaths']=df['TotalDeaths'].astype(int)\n#df.info()","6210be2d":"df['#']=df['#'].astype(int)","de1f4ddc":"#df.info()","df3ce239":"df['Population']=df['Population'].str.replace(',','').astype(int)","0ea3ebef":"#df.info()","67225086":"df.drop(['Serious,Critical','Deaths\/1M pop','TotalTests','Tests\/\\n1M pop'],axis=1,inplace=True)\ndf.set_index('#',inplace=True)\ndf.head()","c799189a":"df.info()","4800b3f7":"df.describe()","732c0ddc":"df_corr=df.corr()\n#df_corr.head()","82186593":"import seaborn as sns\nsns.heatmap(data=df_corr,vmin=0,vmax=1,annot=True)","4236a005":"df['DeathRate']=df['TotalDeaths']\/df['TotalCases']*100\n#df.head()","d8c3ae3c":"df_dr=df.sort_values(by='DeathRate',axis=0,ascending=False,ignore_index=True)\ndf_dr.head(20)","81544fc4":"df['Continent'].value_counts()","37201679":"plt.figure(figsize=(20,6))\nsns.barplot(x='Country,Other',y='DeathRate',data=df.head(30))","fb686199":"df['ActiveRate']=df['ActiveCases']\/df['TotalCases']*100\nplt.figure(figsize=(20,6))\nsns.barplot(x='Country,Other',y='ActiveRate',data=df.head(30))","da23c2d2":"df['RecoveryRate']=df['TotalRecovered']\/df['TotalCases']*100\nplt.figure(figsize=(20,6))\nsns.barplot(x='Country,Other',y='RecoveryRate',data=df.head(30))","8e0d2ecf":"df['CasesPM']=df['TotalCases']\/df['Population']*1000000\ndf['DeathsPM']=df['TotalDeaths']\/df['Population']*1000000\nplt.figure(figsize=(20,6))\nsns.barplot(x='Country,Other',y='CasesPM',data=df.head(30))\nplt.figure(figsize=(20,6))\nsns.barplot(x='Country,Other',y='DeathsPM',data=df.head(30))","b3213013":"df_grouped=df.groupby(['Continent']).mean()\ndf_grouped","d5597d55":"df.describe()","062afb50":"# Data Cleansing","1bb93400":"# Web Scraping","d76534bf":"## The End.","2ea85681":"# Data Visualizations","8bfa142c":"# Exploratory Data Analysis","6a6ed45c":"# Importing packages","30c1fc7d":"# Covid-19 Data Scraping and Analysis\n## Author: Ayush Dey\n### Source: Worldometer"}}