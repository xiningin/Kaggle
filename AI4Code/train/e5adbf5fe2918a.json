{"cell_type":{"e1045f0e":"code","68c418fa":"code","d019ac85":"code","c293c908":"code","a7829365":"code","d7cad134":"code","f6364377":"code","22bd91d6":"code","1601326b":"code","d0f06adc":"code","b970ece5":"code","1c718c92":"code","76b9e458":"code","09fd8138":"code","a4376201":"code","ff19963c":"code","49c949f5":"code","d4bd4812":"code","1d862d59":"code","aeb747a7":"code","0dd2d1a9":"code","0848a585":"code","ce29f763":"code","fd20a23e":"code","36a22cfd":"code","b2c2128a":"code","3000b3e5":"code","0b02ecd4":"code","12f6e610":"code","387faed0":"code","f04eb8b9":"code","f04fcd37":"code","c28468b1":"code","d0409032":"code","29214430":"code","0d9c759c":"code","fb0c6f82":"code","5f03f151":"code","471cf404":"code","51e7e766":"code","9ccf0413":"code","f0a3ceb3":"markdown","a3b50e75":"markdown","2c28899e":"markdown","a606cde2":"markdown","b973b21c":"markdown","ac949bbf":"markdown","eaf4389e":"markdown","f7642857":"markdown","7158a1c6":"markdown","533e9dca":"markdown","f09de755":"markdown","a4006c6d":"markdown","9619c8e0":"markdown","4c081efd":"markdown","3baf012c":"markdown","37ebaf09":"markdown"},"source":{"e1045f0e":"#importing libraries\nimport numpy as np\nimport pandas as pd\n\n# for visualization\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n\n# for Datetime \nfrom datetime import datetime\n\n# set theme for visualization\nplt.style.use(\"seaborn-whitegrid\")\n\n# Create an array with the colors you want to use\ncolors = [\"#54436B\", \"#50CB93\", \"#ED8E7C\", \"#FFD523\", '#00C1D4', '#F8485E']\n\n# Set your custom color palette\nsns.set_palette(sns.color_palette(colors))","68c418fa":"#loading datasets\ndf = pd.read_csv(\"..\/input\/avocado-prices\/avocado.csv\",index_col=[0])","d019ac85":"#first five rows \ndf.head()","c293c908":"# last five rows\ndf.tail()","a7829365":"# shape of dataset.\ndf.shape","d7cad134":"# Total index values musch match with rows of data.\ndf.index","f6364377":"df.loc[0]","22bd91d6":"# Resetting index of dataframe 'df'\ndf.reset_index(drop=True, inplace=True)\n\nprint(\"Index Range: \", df.index)\ndf.loc[0] # should print only one 0th row.","1601326b":"# Change the columns names.\ndf.rename(columns = {\"Total Volume\":\"TotalSales\",\n                     \"4046\":\"A4046Sales\", \n                     \"4225\":\"A4225Sales\", \n                     \"4770\":\"A4770Sales\",\n                     \"Total Bags\":\"TotalBags\", \n                     \"Small Bags\": \"SmallBags\", \n                     \"Large Bags\":\"LargeBags\", \n                     \"XLarge Bags\":\"XLargeBags\"}, inplace=True)\ndf.head()","d0f06adc":"# summary\ndf.describe()","b970ece5":"df.info()","1c718c92":"# datatypes of data columns\ndf.dtypes","76b9e458":"# Converting 'Date' into datetime format.\ndf['Date'] = pd.to_datetime(df.Date)\ndf['Date'].head()","09fd8138":"# Missing data.\ndf.isnull().sum()","a4376201":"# To check if dataframe has any duplicates.\ndf.duplicated().sum()","ff19963c":"# Check Outliers in Average price.\nax = plt.figure(figsize=(12, 8))\n\nsns.boxplot(x='AveragePrice', data = df)\n\nplt.ylabel(\"Price\")\nplt.title(\"Outliers in Average Price\")\n\nplt.show()","49c949f5":"# Check Outliers in Average price.\nax = plt.figure(figsize=(12, 8))\n\nsns.boxplot(x='TotalSales', data = df)\n\nplt.title(\"Outliers\")\nplt.show()","d4bd4812":"# Distribution of Data in numeric datatype.\ncolumns = ['AveragePrice', 'TotalSales', 'A4046Sales', 'A4225Sales', 'A4770Sales', 'TotalBags', 'SmallBags', 'LargeBags', 'XLargeBags']\n\nfig,axs = plt.subplots(3, 3, figsize=(18, 12))\nl = [(x, y) for x in range(3) for y in range(3)]\n\nfor i in range(len(columns)):\n    ax1 = sns.distplot(df[columns[i]], ax = axs[l[i]])\n    \nplt.show()","1d862d59":"# Add Yearmonth and Month column.\ndf['YearMonth'] = df.Date.apply(lambda x: x.strftime(format='%Y-%m'))\ndf['Month'] = df.Date.apply(lambda x: x.strftime(format='%m'))","aeb747a7":"df","0dd2d1a9":"# Yearly AveragePrice of Avocado.\ndata = df.loc[df.year!=2018]\na = pd.DataFrame(data.groupby('year').mean().AveragePrice)\n\nplt.figure(figsize=(12, 8))\nsns.pointplot(x=a.index, y = 'AveragePrice', data=a)\n\nplt.ylim(0, 1.75)\nplt.title(\"Average Price of Avocado per Unit over Years.\")\nplt.show()","0848a585":"# Monthly observation of Avocado Price for each year.\ndata = df.loc[df.year==2015, ['Month', 'AveragePrice']]\ndf_2015 = data.groupby(by=['Month']).mean().round(2)\n\n\ndata = df.loc[df.year==2016, ['Month', 'AveragePrice']]\ndf_2016 = data.groupby(by=['Month']).mean().round(2)\n\n\ndata = df.loc[df.year==2017, ['Month', 'AveragePrice']]\ndf_2017 = data.groupby(by=['Month']).mean().round(2)\n\n\ndata = df.loc[df.year==2018, ['Month', 'AveragePrice']]\ndf_2018 = data.groupby(by=['Month']).mean().round(2)","ce29f763":"# Visualization for the Monthly Average Price of Avocado\n\nplt.figure(figsize=(14, 9))\n\nplt.plot(df_2015, linewidth=2.2, label='2015 Avocado Price')\nplt.plot(df_2016, linewidth=2.2, label='2016 Avocado Price')\nplt.plot(df_2017, linewidth=2.2, label='2017 Avocado Price')\nplt.plot(df_2018, linewidth=2.2, label='2018 Avocado Price')\n\nplt.xlabel(\"Months\")\nplt.ylabel(\"Avacodo Price\")\nplt.title(\"Monthly Average Price per Unit of Avocado.\")\n\nplt.legend()\nplt.show()","fd20a23e":"# datasets for each year.\ndf_2015 = df.loc[df.year==2015]\ndf_2016 = df.loc[df.year==2016]\ndf_2017 = df.loc[df.year==2017]\ndf_2018 = df.loc[df.year==2018]","36a22cfd":"# Yearly sales of Avocado's based on it's unit price.\n\nfig, axs = plt.subplots(nrows=2, ncols=2, figsize=(18, 12))\nfig.suptitle(\"Total Sales based on Avocado Price\")\n\naxs1 = sns.scatterplot(ax=axs[0, 0], x='AveragePrice', y='TotalSales', data=df_2015, hue='type')\naxs1.set_title(\"Total Sales in 2015\")\n                       \naxs2 = sns.scatterplot(ax=axs[0, 1], x='AveragePrice', y='TotalSales', data=df_2016, hue='type')\naxs2.set_title(\"Total Sales in 2016\")\n\n\naxs3 = sns.scatterplot(ax=axs[1, 0], x='AveragePrice', y='TotalSales', data=df_2017, hue='type')\naxs3.set_title(\"Total Sales in 2017\")\n\naxs4 = sns.scatterplot(ax=axs[1, 1], x='AveragePrice', y='TotalSales', data=df_2018, hue='type')\naxs4.set_title(\"Total Sales in 2018\")\n\n\nplt.show()","b2c2128a":"df.head()","3000b3e5":"data = pd.DataFrame(df.groupby('year').mean())","0b02ecd4":"# Yearly observation of Sales with different PLU's code based Average price of avocado.\ndata = data.loc[:, ['A4046Sales', 'A4225Sales', 'A4770Sales']]\ndata.plot(kind='bar', figsize=(14, 8))\n\nplt.ylabel(\"Sales\")\nplt.title(\"Yearly Observation of Sales.\")\n\nplt.show()","12f6e610":"data = df.groupby(by=['Month', 'year']).mean()\ndata.head()","387faed0":"# Monthly obseveration of Total Sales for each year.\ntotal_sales_data = data['TotalSales']\n\ntotal_sales_data.unstack().plot(kind='line', figsize=(14, 8))\n\nplt.ylabel(\"Total Sales\")\nplt.title(\"Monthly Observation for Total Sales.\")\n\nplt.show()","f04eb8b9":"# Monthly obseveration of Sales for each year.\nfig, axs = plt.subplots(nrows=3, ncols=1, figsize=(14, 15))\n\naxs1 = data.unstack().plot(kind='line', y='A4046Sales', ax=axs[0])\naxs1.set_title(\"Monthly Observations for 4046 Sales\")\n\naxs2 = data.unstack().plot(kind='line', y='A4225Sales', ax=axs[1])\naxs2.set_title(\"Monthly Observations for 4225 Sales\")\n\naxs3 = data.unstack().plot(kind='line', y='A4770Sales', ax=axs[2])\naxs3.set_title(\"Monthly Observations for 4770 Sales\")\n\n\nplt.show()","f04fcd37":"# Yearly sold TotalBags.\ndata = df.loc[df.year != 2018]\nyrSales = pd.DataFrame(data.groupby(by=['year']).sum().TotalBags)\nmoSales = pd.DataFrame(data.groupby(by=['Month']).sum()[['SmallBags', 'LargeBags', 'XLargeBags']])\n\nfig, axs = plt.subplots(nrows=1, ncols=2, figsize=(20, 8))\nax1 = sns.pointplot(x=yrSales.index, y = 'TotalBags', data=yrSales, ax=axs[0])\nax1.set_title(\"Year sales observation for Total Bags\")\n\nax2 = sns.lineplot(x=moSales.index, y = 'SmallBags', data=moSales, ax=axs[1], label='SmallBags')\nax2 = sns.lineplot(x=moSales.index, y = 'LargeBags', data=moSales, ax=axs[1], label='LargeBags')\nax2 = sns.lineplot(x=moSales.index, y = 'XLargeBags', data=moSales, ax=axs[1], label='XLargeBags')\nax2.set_ylabel(\"Sales\")\nax2.set_title(\"Monthly observation for Total Sales based on bag sizes.\")\n\nplt.show()\n","c28468b1":"# Region wise trends in Sales and Price.\n\n# Total sales based on Region\n\nregion_grpData = pd.DataFrame((df.groupby(by=['region']).sum().TotalSales \/ df['TotalSales'].sum() *100).round(2))\nregion_grpData.sort_values(by='TotalSales',ascending=False, inplace=True)\n\nprint(region_grpData.head())\nprint(\"---\"*10)\nprint(region_grpData.tail())","d0409032":"print(\"Lowest Avocado Price\")\nprint(df.loc[df.AveragePrice == df.AveragePrice.min(), 'region'])\n\nprint(\"--\"*10)\n\nprint(\"Highest Avocado Price\")\ndf.loc[df.AveragePrice == df.AveragePrice.max(), 'region']","29214430":"# Let's examine the lowest price data.\ndata = df.loc[df.region == 'CincinnatiDayton']\ndata.head()","0d9c759c":"# Let's see the shape of Lowest Price Data.\ndata.shape","fb0c6f82":"# Reset index.\ndata.reset_index(drop=True, inplace=True)\ndata.head()","5f03f151":"# Distribution of Data in numeric datatype.\ncolumns = ['AveragePrice', 'TotalSales', 'A4046Sales', 'A4225Sales', 'A4770Sales', 'TotalBags', 'SmallBags', 'LargeBags', 'XLargeBags']\n\nfig,axs = plt.subplots(3, 3, figsize=(18, 12))\nl = [(x, y) for x in range(3) for y in range(3)]\n\nfor i in range(len(columns)):\n    ax1 = sns.distplot(data[columns[i]], ax = axs[l[i]])\n    \nplt.show()","471cf404":"plt.figure(figsize=(12, 8))\n\nsns.scatterplot(x='AveragePrice', y='TotalSales', hue='type',data = data)\n\nplt.show()","51e7e766":"\na = pd.DataFrame(data.groupby(by=['Month','type']).sum().TotalSales)\n\na.unstack().plot(kind='line', figsize=(14, 8))\nplt.show()","9ccf0413":"a = pd.DataFrame(data.groupby(by=['Month','type']).mean().AveragePrice)\n\na.unstack().plot(kind='line', figsize=(14, 8))\nplt.show()","f0a3ceb3":"## Avocado Price Trends\n\n* Yearly trend of average price of Avocado per Unit.\n* Monthly trend of Price of Avocado.","a3b50e75":"**There are some Outliers in Average Price**","2c28899e":"**Avocado price increases per year**","a606cde2":"**Index of last five rows looks weird, let's examine the index of DataFrame**","b973b21c":"**It has repeated index So, let's reset index.**","ac949bbf":"**The Date columns has datatype of 'Object', Let's change into datetime.**","eaf4389e":"**Sales and Price has same trends for region CincinnatiDayton**","f7642857":"**Single Avocado average price in months from July to Octobar seems higher as compare to other months in each year and lower in months from January to  March**","7158a1c6":"**The Sales for 4225 columns is higher for each year in month of February and May as compare to other months.**","533e9dca":"**No missing values**","f09de755":"**There are more sales in months from January to March and May since avocado's price are lowest in those months as compare to other months.**","a4006c6d":"**There are no duplicate rows.**","9619c8e0":"## Region wise trends in Sales and Price","4c081efd":"## Columns Discription\n* Date - The date of the observation\n* AveragePrice - the average price of a single avocado\n* type - conventional or organic\n* year - the year\n* Region - the city or region of the observation\n* Total Volume - Total number of avocados sold\n* 4046 - Total number of avocados with PLU 4046 sold\n* 4225 - Total number of avocados with PLU 4225 sold\n* 4770 - Total number of avocados with PLU 4770 sold\n\n","3baf012c":"**We can see that, cutomers tends to buy more when price of avocado is less than 1.5 dollar per unit. But this is for conventional type Avocado. For Organic type, there is same sale rate irrespective of its price in each year.**","37ebaf09":"## Avocado Sales Trends\n\n* Yearly trends for Total Sales and Sales with PLU types.\n* Monthly Trends for Total Sales and Sales with PLU types.\n* Relation between AveragePrice and Total Sales"}}