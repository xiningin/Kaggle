{"cell_type":{"8c56da61":"code","9b369752":"code","23b179ca":"code","23cad143":"code","ffec0394":"code","c5084229":"code","768751ee":"code","bf9f1b62":"code","e9124baf":"code","927d93eb":"code","97024717":"code","c653da1d":"code","e06039a0":"code","feb67fd4":"code","2734c488":"code","21584093":"code","1f87fa53":"code","30b042ee":"code","e82e3f03":"code","d7eb0723":"code","86e053f0":"code","ad3c562a":"code","88d477be":"markdown","d821b9ac":"markdown","39c93c3d":"markdown","f239f43a":"markdown","a5605b60":"markdown","70f2e624":"markdown","5050e792":"markdown","382be337":"markdown","3b7bc15f":"markdown","613960fe":"markdown","f61acc15":"markdown","42503d38":"markdown","0088b2d3":"markdown","2e705d33":"markdown"},"source":{"8c56da61":"import numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport re","9b369752":"data = pd.read_csv('..\/input\/data-analyst-jobs\/DataAnalyst.csv')","23b179ca":"data.head()","23cad143":"data.columns","ffec0394":"del data['Unnamed: 0']","c5084229":"data = data.replace([-1,'-1',-1.0], np.nan)\ndata.head()","768751ee":"for i in data.columns:\n    print('Missing data in', i, data[i].isna().sum() \/ len(data)*100)","bf9f1b62":"data = data.drop(columns=['Competitors','Easy Apply'])","e9124baf":"data['Salary Estimate'] = data['Salary Estimate'].replace(np.nan,'0K-0K')\ndata.insert(len(data.columns),'Min Salary', np.nan)\ndata.insert(len(data.columns),'Max Salary', np.nan)\nsal = [re.findall(r'\\d+', i) for i in data['Salary Estimate']]\ndata['Max Salary'] = [int(i[1]) for i in sal]\ndata['Min Salary'] = [int(i[0]) for i in sal]\n\ndata.head()","927d93eb":"ind_count = data['Industry'].value_counts().reset_index().sort_values(by=['Industry'])","97024717":"fig1, ax1 = plt.subplots(figsize=(7,7))\nax1 = plt.barh(ind_count['index'][-20:], ind_count['Industry'][-20:])\nplt.title('Industry with most job posting')","c653da1d":"top_ind = ind_count['index'][-20:]\nind_rat = data.groupby(\"Industry\")['Rating'].mean().reset_index()\ntop_ind_rat = ind_rat.loc[ind_rat['Industry'].isin(np.array(top_ind))].sort_values(by=['Rating'], ascending=False)\ntop_ind_rat.head()\nfig = plt.figure(figsize=(15,7))\nplt.bar(top_ind_rat['Industry'], top_ind_rat['Rating'], color ='maroon', width = 0.7) \nplt.xticks(rotation=45, ha='right')","e06039a0":"import seaborn as sns\n\ndef comp_salary(comp, fixgap):\n    fig2, axs = plt.subplots(1,2,figsize=(20,10))\n    ax2 = sns.boxplot(x=\"Min Salary\", y=comp, data=data, order=data[comp].value_counts()[:20].index, ax=axs[0])\n    ax3 = sns.boxplot(x=\"Max Salary\", y=comp, data=data, order=data[comp].value_counts()[:20].index, ax=axs[1])\n    \n    for i in range(len(axs)):\n        axs[i].set_ylabel('')\n        axs[i].tick_params(axis='x', which='major', labelsize=15)\n        axs[i].xaxis.label.set_size(15)\n        \n    axs[0].set_yticks([])\n    for label in axs[1].get_yticklabels():\n        label.set_horizontalalignment('center')\n        label.set_fontsize(16)\n    axs[1].tick_params(axis='y', which='major', pad=(data[comp].value_counts()[:20].index.str.len().max()*4+fixgap), length=0)\n    plt.close(2)\n    plt.close(3)\n    \n    fig2.tight_layout()","feb67fd4":"comp_salary('Industry', 22)","2734c488":"size_rat = data.groupby(\"Size\")['Rating'].mean().reset_index()\nplt.bar(size_rat['Size'], size_rat['Rating'])\nplt.xticks(rotation=45, ha='right')","21584093":"loc_count = data['Location'].value_counts().reset_index().sort_values(by=['Location'], ascending=True)\nfig2, ax2 = plt.subplots(figsize=(7,7))\nax2 = plt.barh(loc_count['index'][-20:], loc_count['Location'][-20:])\nplt.title('City with Most Job Posting')","1f87fa53":"loc_rat = data.groupby(\"Location\")['Rating'].mean().reset_index()\ntop_loc_rat = loc_rat.loc[loc_rat['Location'].isin(np.array(loc_count['index'][-20:]))].sort_values(by=['Rating'], ascending=False)\n\nfig = plt.figure(figsize=(15,7))\nplt.bar(top_loc_rat['Location'], top_loc_rat['Rating'], color ='maroon', width = 0.7) \nplt.xticks(rotation=45, ha='right')","30b042ee":"comp_salary('Location', 15)","e82e3f03":"from collections import Counter\nfrom string import punctuation\nfrom wordcloud import WordCloud, STOPWORDS\n\n# import nltk\n# nltk.download('stopwords')\n# nltk.download('punkt')\n\nfrom nltk.corpus import stopwords\nfrom nltk import word_tokenize\n\nskill = ['sql', 'r', 'python', 'excel', 'visualization', 'statistic','html',\n         'php','javascript','css','oracle', 'sas', 'etl','communication',\n         'cloud','tableau', 'ssis', 'powerbi', 'google', 'statistical', 'presentation'\n         'pandas', 'numpy', 'R', 'dashboard','report','ai','java','c++','linux'\n         'finance','risk', 'financial','sales','product']\n\nstoplist = set(stopwords.words('english') + list(punctuation))\n\ntexts = data['Job Description'].str.lower()\n\nword_counts = Counter(word_tokenize('\\n'.join(texts)))\n\nskill_count = list(word_counts.items())\ntop_skill = [skill_count[i] for i in range(len(skill_count)) if(skill_count[i][0].lower() in skill)]\n\nd = {}\nfor i in top_skill:\n    d[i[0]] = i[1]","d7eb0723":"wordcloud = WordCloud(background_color = \"white\")\nwordcloud.generate_from_frequencies(frequencies=d)\nplt.figure(figsize=(7,7))\nplt.imshow(wordcloud, interpolation=\"bilinear\")\nplt.axis(\"off\")\nplt.title('Most Common Knowledge')\nplt.show()","86e053f0":"texts_pos = data['Job Title'].str.lower()\nword_counts_pos = Counter(word_tokenize('\\n'.join(texts_pos)))\nword_counts_pos.most_common(30)","ad3c562a":"text = data['Job Title'].values\nwordcloud = WordCloud(background_color = 'white', stopwords = STOPWORDS).generate(str(text))\nfig = plt.figure( figsize = (7, 7))\nplt.imshow(wordcloud, interpolation = 'bilinear')\nplt.axis('off')\nplt.tight_layout(pad=0)\nplt.show()","88d477be":"From the output above, the competitors and easy apply column has a large percentage of missing value.","d821b9ac":"## Most Common Knowledge","39c93c3d":"## The Best City for Data Analyst","f239f43a":"The data has '-1' value(null). Change that by replace the value with na. The '-1' value has 3 data types, string, int, and float.","a5605b60":"3. Salary Comparison","70f2e624":"Finding the best Industry\n1. Industry with The Most Job Posting","5050e792":"Now that the -1 value has been replaced. We can find the percentage of missing value in the column.","382be337":"## Data Cleaning","3b7bc15f":"Seperate the salary to min and max.","613960fe":"Search most common skill in job description and job title","f61acc15":"2. Top Industry Rating","42503d38":"# Data Analyst Job Visualization\n\n","0088b2d3":"## Visualization","2e705d33":"## Read Data"}}