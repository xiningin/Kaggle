{"cell_type":{"16b8bdd6":"code","77ef1a21":"code","5122174c":"code","a10c242f":"code","a1645df0":"code","4ff0cfd3":"code","038d37a7":"code","2d1276ed":"code","9647e222":"code","3ce9c89d":"code","d56ddb4a":"code","f016d576":"code","c5d045db":"code","71782f37":"code","d379e43e":"code","4f67a9e8":"code","06b016d9":"code","7dcf6fce":"code","ec07bfcc":"code","6e428d13":"code","5eef2344":"code","05b8f2f1":"code","c9cc5d06":"code","1a555caa":"code","4e96ebe8":"code","9dd05945":"code","f1f9c5b0":"code","2d72b78a":"code","f7da0978":"code","5b789e22":"markdown","13c77e8d":"markdown","b77f5ea0":"markdown","311bbd1d":"markdown","039ee73a":"markdown","cf2f7ea1":"markdown","409d2a1c":"markdown","832d0f1a":"markdown","945fba2b":"markdown","2e858576":"markdown","aa9d9fce":"markdown","fea60576":"markdown","82b55f63":"markdown","5be8ea96":"markdown","26569ab0":"markdown","2008b3c9":"markdown","9e2e57db":"markdown","ba0bccf5":"markdown"},"source":{"16b8bdd6":"# Import all required libraries\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport os\nfrom mlxtend.frequent_patterns import apriori\nfrom mlxtend.frequent_patterns import association_rules\nimport warnings\nwarnings.filterwarnings('ignore')","77ef1a21":"#Reading the data\ndata = pd.read_csv(\"..\/input\/BreadBasket_DMS.csv\")","5122174c":"# Listing the data columns\ndata.info()","a10c242f":"# Describing the quantitative column \ndata.describe()","a1645df0":"# look at head\ndata.head()","4ff0cfd3":"data.isnull().sum()","038d37a7":"data['Date time']= pd.to_datetime(data['Date']+' '+data['Time'])","2d1276ed":"data['Date time'].dt.year.value_counts()","9647e222":"data['Year Month']=data['Date time'].map(lambda x: 100*x.year + x.month)\ndata['Hour']=data['Date time'].dt.hour\ndata['Day']=data['Date time'].dt.weekday_name\ndata['Weekend vs Weekday'] = data['Date time'].apply(lambda x: 'Weekend' if x.dayofweek\/\/5==1 else 'Weekday')","3ce9c89d":"plt.figure(figsize=[10,5])\nplt.plot(data['Date time'], data['Transaction'])\nplt.title('No of Transaction by DateTime')\n","d56ddb4a":"Transaction_by_month=data[['Year Month','Transaction']].groupby('Year Month',as_index=False).sum()","f016d576":"plt.figure(figsize=[10,5])\nsns.barplot(x='Year Month',y='Transaction',data=Transaction_by_month)\nplt.ticklabel_format(style='plain', axis='y')\nplt.title('No of Transaction by month')","c5d045db":"plt.figure(figsize=[10,5])\nsns.boxplot(x='Day',y='Transaction',data=data)\nplt.ticklabel_format(style='plain', axis='y')\nplt.title('No of Transaction by Day')","71782f37":"plt.figure(figsize=[10,5])\nsns.boxplot(x='Weekend vs Weekday',y='Transaction',data=data)\nplt.ticklabel_format(style='plain', axis='y')\nplt.title('No of Transaction by Weekend vs Weekday')","d379e43e":"plt.figure(figsize=[10,5])\nplt.ticklabel_format(style='plain', axis='y')\nplt.title('Sale by Hour')\nplt.plot(data[['Hour','Transaction']].groupby('Hour').sum())","4f67a9e8":"plt.figure(figsize=[10,5])\nsns.distplot(data['Transaction'],bins=100)","06b016d9":"Item_by_transaction=data[['Item','Transaction']].groupby('Item',as_index=False).sum().sort_values(by='Transaction',ascending=False)","7dcf6fce":"Item_by_transaction['Transaction %']=Item_by_transaction['Transaction']\/Item_by_transaction['Transaction'].sum()","ec07bfcc":"plt.figure(figsize=[10,5])\nsns.barplot(x='Item',y='Transaction',data=Item_by_transaction.head(10))\nplt.ticklabel_format(style='plain', axis='y')\nplt.title('Top 10 Items')\nplt.xticks(rotation = 90)","6e428d13":"plt.figure(figsize=[10,5])\nsns.barplot(x='Item',y='Transaction %',data=Item_by_transaction.head(10))\nplt.ticklabel_format(style='plain', axis='y')\nplt.title('Top 10 Items')\nplt.xticks(rotation = 90)","5eef2344":"Hour_by_Item=data[['Hour','Item','Transaction']].groupby(['Hour','Item'],as_index=False).sum()","05b8f2f1":"Top_items=list(Item_by_transaction['Item'].head(10))","c9cc5d06":"plt.figure(figsize=[10,5])\nsns.boxplot(x='Item',y='Transaction',data=data[data['Item'].isin(Top_items)])\nplt.ticklabel_format(style='plain', axis='y')\nplt.title('No of Transaction by Top 10 Item')","1a555caa":"plt.figure(figsize=[13,5])\nplt.ticklabel_format(style='plain', axis='y')\nplt.title('Sale by Hour for Top 5 Items')\nsns.lineplot(x='Hour',y='Transaction',data=Hour_by_Item[Hour_by_Item['Item'].isin(Top_items)],hue='Item')","4e96ebe8":"Top25Items=list(Item_by_transaction['Item'].head(25))\ndataTop25Items=data[data['Item'].isin(Top25Items)]\ndataTop25Items_pivot = dataTop25Items[['Date','Item','Transaction']].pivot_table('Transaction', 'Date', 'Item')","9dd05945":"# Correlation Plot\nf, ax = plt.subplots(figsize=[12,10])\nsns.heatmap(dataTop25Items_pivot.corr(),annot=True, fmt=\".2f\",cbar_kws={'label': 'Percentage %'},cmap=\"plasma\",ax=ax)\nax.set_title(\"Correlation Plot\")\nplt.show()","f1f9c5b0":"dataTop25Items_unstack=dataTop25Items.groupby(['Transaction','Item'])['Item'].count().unstack().reset_index().fillna(0).set_index('Transaction')\ndataTop25Items_unstack = dataTop25Items_unstack.applymap(lambda x: 0 if x<=0 else 1)","2d72b78a":"dataTop25Items_frequent = apriori(dataTop25Items_unstack, min_support=0.01, use_colnames=True)","f7da0978":"assciation = association_rules(dataTop25Items_frequent, metric=\"lift\", min_threshold=1)\nassciation[assciation['confidence']>=0.4]","5b789e22":"### Convert data & time to datatime datatype","13c77e8d":"## Univariate Analysis","b77f5ea0":"### Data range check","311bbd1d":"No Missing value detected","039ee73a":"**Not much variance in Mean and Median** \n\n>  No initial outlier detected","cf2f7ea1":"## **** Conclusion based on Apriori****\n* ### Coffee is common item bought with other items\n* ### Alfajores & Coffee is the most common combo\n* ### Toast &  Coffee is the least most common combo","409d2a1c":"## Using Apriori Algorithm","832d0f1a":"Data is available from 30\/10\/2016 to 09\/04\/2017.","945fba2b":"**File contains 21293 records**","2e858576":"#### Confidence > 40%","aa9d9fce":"## Bivariate Analysis","fea60576":"## **** Conclusion based on Correlation****\n* ### Coffee & Bread is correlated with all Items, Hence bread always bought with all other items\n* ### Baguette not bought often with other Items \n* ### Tiffin &  Baguette not bought together often","82b55f63":"**Histogram**","5be8ea96":"No insights found from above histogram","26569ab0":"### Correlation Plot for Top 25 Items","2008b3c9":"We can notice most sales happens between 6 AM to 6 PM","9e2e57db":"## Missing Value Treatment\n\nLet's now move to missing value treatment. \n\nLet's have a look at the number of missing values.","ba0bccf5":"## **Transactions from a bakery**\n\n### **Context**\n#### The data belongs to a bakery called \"The Bread Basket\", located in the historic center of Edinburgh. This bakery presents a refreshing offer of Argentine and Spanish products.\n\n****"}}