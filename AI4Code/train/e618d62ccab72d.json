{"cell_type":{"b7cb81ef":"code","41f553a7":"code","e3bb2001":"code","a44ad595":"code","425d439f":"code","4a641f9e":"code","1978113b":"code","d8843459":"code","4b2a5494":"code","16e6c7cd":"code","9ee99e53":"code","d31186e2":"code","c7231250":"code","0d02a37d":"code","9e3d91bc":"code","fb2252c6":"code","9949ab5a":"code","717eff91":"code","9deb34c6":"code","c94bee45":"code","ec2f0c0a":"code","c6a237e1":"code","8fa4eb90":"code","521276b7":"code","2df150d7":"code","40acd6c0":"code","df0817f4":"code","15c65fe7":"code","a0882530":"code","e5bba387":"code","2eb021d6":"code","5110c5b7":"code","f914466a":"code","897f0884":"code","e20ef7e6":"code","627652f2":"code","56abb0b9":"code","b31d8cc8":"code","6c230ddc":"code","7f9396ef":"code","447087cb":"code","89ff89b2":"code","5314c245":"code","b06978f4":"code","367d5713":"code","ee59dc08":"code","5d21b848":"code","5b5bd5c9":"code","1d2740cf":"code","be137e50":"code","bb558135":"code","7364e9bf":"code","bc8da429":"markdown","72172f76":"markdown","5581a685":"markdown"},"source":{"b7cb81ef":"import seaborn as sns\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport matplotlib.animation as animation\n\nimport pandas as pd\nimport numpy as np\n\nimport folium\n\nimport os\nprint(os.listdir(\"..\/input\"))","41f553a7":"data=pd.read_csv('..\/input\/ipldata\/matches.csv',index_col=0)\nprint(data.shape)\n\ndeliveries=pd.read_csv('..\/input\/ipldata\/deliveries.csv',index_col=0)\nprint(deliveries.shape)","e3bb2001":"data.head()","a44ad595":"deliveries.head()","425d439f":"data['city'].unique()","4a641f9e":"data['city'].fillna('Dubai',inplace=True)","1978113b":"data.at[data['city']=='Bangalore','city']='Bengaluru'","d8843459":"print(\"Cities --> \",data['city'].nunique())\nprint(\"Venues --> \",data['venue'].nunique())","4b2a5494":"# data.groupby(['city','venue']).all().index.to_frame(index=None)","16e6c7cd":"data.at[data['city']=='Visakhapatnam','venue']='ACA-VDCA Stadium'\ndata.at[data['city']=='Pune','venue']='Maharashtra Cricket Association Stadium'\ndata.at[data['city']=='Chandigarh','city']='Mohali'\ndata.at[data['city']=='Mohali','venue']='IS Bindra Stadium'\ndata.at[data['city']=='Hyderabad','venue']='Rajiv Gandhi International Stadium, Uppal'\ndata.at[data['city']=='Delhi','venue']='Feroz Shah Kotla Ground'\ndata.at[data['city']=='Chennai','venue']='M. A. Chidambaram Stadium'\ndata.at[data['city']=='Bengaluru','venue']='M Chinnaswamy Stadium'","9ee99e53":"print(\"Cities --> \",data['city'].nunique())\nprint(\"Venues --> \",data['venue'].nunique())","d31186e2":"venues = data['venue'].unique()","c7231250":"data.at[data['team1']=='Rising Pune Supergiant','team1']='Rising Pune Supergiants'\ndata.at[data['team2']=='Rising Pune Supergiant','team2']='Rising Pune Supergiants'\ndata.at[data['winner']=='Rising Pune Supergiant','winner']='Rising Pune Supergiants'\n\ndata.at[data['team1']=='Delhi Daredevils','team1']='Delhi Capitals'\ndata.at[data['team2']=='Delhi Daredevils','team2']='Delhi Capitals'\ndata.at[data['winner']=='Delhi Daredevils','winner']='Delhi Capitals'\n\n\ndata.at[data['team1']=='Deccan Chargers','team1']='Sunrisers Hyderabad'\ndata.at[data['team2']=='Deccan Chargers','team2']='Sunrisers Hyderabad'\ndata.at[data['winner']=='Deccan Chargers','winner']='Sunrisers Hyderabad'\n","0d02a37d":"deliveries.loc[deliveries['bowling_team']=='Rising Pune Supergiant','bowling_team']='Rising Pune Supergiants'\ndeliveries.loc[deliveries['batting_team']=='Rising Pune Supergiant','batting_team']='Rising Pune Supergiants'\n\ndeliveries.loc[deliveries['batting_team']=='Delhi Daredevils','batting_team']='Delhi Capitals'\ndeliveries.loc[deliveries['bowling_team']=='Delhi Daredevils','bowling_team']='Delhi Capitals'\n\ndeliveries.loc[deliveries['bowling_team']=='Deccan Chargers','bowling_team']='Sunrisers Hyderabad'\ndeliveries.loc[deliveries['batting_team']=='Deccan Chargers','batting_team']='Sunrisers Hyderabad'","9e3d91bc":"stadium_stats = deliveries.loc[:,[\"batsman_runs\"]].reset_index()\nstadium_stats[(stadium_stats[\"batsman_runs\"]==4)|(stadium_stats[\"batsman_runs\"]==6)]\nstadium_stats['boundary'] = stadium_stats[\"batsman_runs\"].apply(lambda x: x if (x==4 or x==6) else 0)\nstadium_stats['not_boundary'] = stadium_stats[\"batsman_runs\"].apply(lambda x: x if not (x==4 or x==6) else 0)\nstadium_stats = stadium_stats.groupby('match_id').sum().drop('batsman_runs',axis=1).reset_index()","fb2252c6":"stadium_stats.head()","9949ab5a":"stadium_stats = stadium_stats.merge(data.reset_index()[['id','venue']], how = 'inner',left_on='match_id', right_on = 'id').drop(['id','match_id'],axis=1)","717eff91":"stadium_stats = stadium_stats.groupby('venue').sum().sort_values(\"boundary\",axis=0,ascending=False)\nstadium_stats","9deb34c6":"def rowIndex(row):\n    return data.loc[row.name]['venue']\n\ndeliveries['venue'] = deliveries.apply(rowIndex, axis=1)","c94bee45":"runs = deliveries.reset_index().groupby(['match_id','inning']).sum()['total_runs'].to_frame().reset_index()\nruns.head()","ec2f0c0a":"deliveries['player_dismissed'] = deliveries['player_dismissed'].fillna(\"0\")\ndeliveries['player_dismissed'] = deliveries['player_dismissed'].apply(lambda x:0 if x==\"0\" else 1)","c6a237e1":"deliveries['runs_last_5'] = deliveries['total_runs'].rolling(min_periods=1, window=30).sum()\ndeliveries['wickets_last_5'] = deliveries['player_dismissed'].rolling(min_periods=1, window=30).sum()","8fa4eb90":"deliveries['runs'] = deliveries.groupby(['match_id','inning'])['total_runs'].cumsum(axis = 0).values\ndeliveries['wickets'] = deliveries.groupby(['match_id','inning'])['player_dismissed'].cumsum(axis = 0).values","521276b7":"deliveries['over'] = deliveries['over']-1\ndeliveries['overs'] = deliveries['over'].astype(str) +\".\"+deliveries['ball'].astype(str)","2df150d7":"final = pd.merge(deliveries, runs, left_on=['match_id','inning'], right_on=['match_id','inning'])","40acd6c0":"final['dismissal_kind'].value_counts()","df0817f4":"import plotly.figure_factory as ff\nimport plotly.graph_objects as go\nimport plotly.io as pio","15c65fe7":"df_first=final[(final['dismissal_kind']=='bowled')|(final['dismissal_kind']=='lbw')][['match_id','dismissal_kind']]","a0882530":"df_first['lbw']=df_first['dismissal_kind'].apply(lambda x: 0 if x=='bowled' else 1 )\ndf_first['bowled']=df_first['dismissal_kind'].apply(lambda x: 1 if x=='bowled' else 0 )","e5bba387":"df_first=df_first.groupby(['match_id'],as_index=False).sum()","2eb021d6":"df_first","5110c5b7":"df_first=df_first[['lbw','bowled']]","f914466a":"df_first","897f0884":"df_first[['lbw','bowled']].describe()","e20ef7e6":"pio.templates.default = \"plotly_dark\"","627652f2":"fig=ff.create_distplot([df_first['lbw'],df_first['bowled']],['LBW','Bowled'],bin_size=1,curve_type='normal')\nfig.update_layout(title_text='Distribution of dimissal methods',xaxis_title='Number of wickets',yaxis_title='Density')\nfig.show()","56abb0b9":"from scipy import stats\n\nttest,pval=stats.ttest_rel(df_first['lbw'],df_first['bowled'])","b31d8cc8":"print(pval)\nif pval<0.05:\n    print(\"reject null hypothesis\")\nelse:\n    print(\"accept null hypothesis\")","6c230ddc":"final.head()","7f9396ef":"temp=pd.DataFrame(data=None)\ntemp=final[final['inning']==1]","447087cb":"temp['overs'] = temp['overs'].astype('float')","89ff89b2":"temp[['match_id', 'inning', 'over', 'ball', 'total_runs_x', 'player_dismissed',\n       'dismissal_kind', 'fielder', 'venue', 'runs_last_5', 'wickets_last_5',\n       'runs', 'wickets', 'overs', 'total_runs_y']]","5314c245":"temp.columns","b06978f4":"temp = temp[temp['overs']<12.0].groupby(['match_id']).sum()[['inning','total_runs_x','total_runs_y']]","367d5713":"temp['total_runs_y'] = temp['total_runs_y']\/temp['inning']","ee59dc08":"temp.drop(['inning'],axis=1,inplace=True)\ntemp['last_8_overs'] = temp['total_runs_y'] - temp['total_runs_x']","5d21b848":"temp = temp[temp.columns.reindex(['total_runs_x','last_8_overs','total_runs_y'])[0]]\ntemp.rename(columns={'total_runs_x': 'first_12_overs'},inplace=True)","5b5bd5c9":"temp[temp['first_12_overs']<temp['last_8_overs']]","1d2740cf":"fig=ff.create_distplot([temp['first_12_overs'],temp['last_8_overs']],['First 12','Last 8'],curve_type='normal')\nfig.update_layout(title='Distribution for runs in first 12 overs and last 8 overs of first innings',xaxis_title='Number of runs',yaxis_title='Density')\nfig.show()","be137e50":"temp.describe()","bb558135":"ttest,pval=stats.ttest_rel(temp['first_12_overs'],temp['last_8_overs'])","7364e9bf":"print(pval)\nif pval<0.05:\n    print(\"reject null hypothesis\")\nelse:\n    print(\"accept null hypothesis\")","bc8da429":"# Paired Sample T-Test: \nThe paired sample t-test, sometimes called the dependent sample t-test, is a statistical procedure used to determine whether the mean difference between two sets of observations is zero. In a paired sample t-test, each subject or entity is measured twice, resulting in pairs of observations.","72172f76":"# **Hypothesis-2**\n*     H(0):Runs scored in the first 12 overs of the first innings is equal to the runs scored in the last 8 overs of the first innings\n*     H(A):Runs scored in the first 12 overs of the first innings is not equal to the runs scored in the last 8 overs of the first innings","5581a685":"# **Hypothesis-1**\n-  H(0):Mean instances of batsman bowled is equal to mean value of batsman dismissed by lbw\n-  H(A):Mean instances of batsman bowled is not equal to mean value batsman dismissed by lbw"}}