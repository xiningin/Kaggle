{"cell_type":{"45bea110":"code","f9556dcc":"code","ec98f0e9":"code","e0bb41d8":"code","2255130e":"code","46e6d6f0":"code","0bc95852":"code","e8034fbb":"code","f51a85df":"code","328bf463":"code","5b40bac4":"code","014f8ec3":"code","1f9553e7":"code","7fd22c17":"code","3ce97df4":"code","7d51d16d":"code","96b96ab1":"code","ba373a5d":"code","e17c9311":"code","a517a6f6":"code","5a306aaa":"code","e99c07b7":"code","6ad23b16":"code","9a5480af":"code","d4686dda":"code","051fc85a":"code","c9adf4cf":"code","29f76c19":"code","d96d6760":"code","7618bd03":"code","bf1f72a4":"code","d974c8f8":"code","85486d4c":"code","bde6bc11":"markdown","471a54bf":"markdown","33163da7":"markdown","7d840be1":"markdown","64e1398b":"markdown","de868370":"markdown","39bd2dee":"markdown","a213e0a4":"markdown","76c2159f":"markdown","e1ee9a0d":"markdown","9fe04acd":"markdown","2afd1967":"markdown","54c9bbd4":"markdown","147a0fb3":"markdown","6ac251b7":"markdown","46d705a9":"markdown","400e0b68":"markdown","26937f25":"markdown","60416a49":"markdown","4d59dde4":"markdown"},"source":{"45bea110":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","f9556dcc":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","ec98f0e9":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nplt.style.use(\"seaborn-whitegrid\")\nplt.rc(\"figure\", autolayout=True)\nplt.rc(\"axes\", labelweight=\"bold\", labelsize=\"large\", titleweight=\"bold\", titlesize=14, titlepad=10)\n","e0bb41d8":"my_data = pd.read_csv('\/kaggle\/input\/indias-air-quality-index\/Air_Quality.csv', skipinitialspace=True)","2255130e":"my_data.head()","46e6d6f0":"my_data.info()","0bc95852":"my_data.isnull().sum()","e8034fbb":"my_data.shape","f51a85df":"my_data[my_data.duplicated()]","328bf463":"my_data['pollutant_min']=my_data['pollutant_min'].fillna(my_data['pollutant_min'].mean())\nmy_data['pollutant_max']=my_data['pollutant_max'].fillna(my_data['pollutant_max'].mean())\nmy_data['pollutant_avg']=my_data['pollutant_avg'].fillna(my_data['pollutant_avg'].mean())","5b40bac4":"num_cols = ['pollutant_min','pollutant_max','pollutant_avg']\ndef num_plot(my_data, col):\n    fig = px.histogram(my_data, x=col, color=\"pollutant_id\",\n                       marginal=\"box\")\n    fig.update_layout(height=400, width=500, showlegend=True)\n    fig.update_traces(marker_line_width=1,marker_line_color=\"black\")\n    fig.show()","014f8ec3":"for col in num_cols:\n    num_plot(my_data,col)","1f9553e7":"state_pollution_table = pd.crosstab(index=my_data[\"state\"], \n                          columns=my_data[\"pollutant_id\"])","7fd22c17":"state_pollution_table.plot(kind=\"bar\", \n                 figsize=(10,10),\n                 stacked=True)","3ce97df4":"my_data.head()","7d51d16d":"delhi_df=my_data[my_data.state == 'Delhi']\nharyana_df=my_data[my_data.state == 'Haryana']\nmaharashtra_df=my_data[my_data.state == 'Maharashtra']\nuttarpradesh_df=my_data[my_data.state == 'Uttar_Pradesh']\nkarnataka_df=my_data[my_data.state == 'Karnataka']","96b96ab1":"sns.set(rc={'figure.figsize':(11.7,8.27)})\nfig, axes = plt.subplots(1, 3,sharey=True)\nsns.barplot(ax=axes[0],x='pollutant_id',y='pollutant_min',data=delhi_df )\nsns.barplot(ax=axes[1],x='pollutant_id',y='pollutant_max',data=delhi_df )\nsns.barplot(ax=axes[2],x='pollutant_id',y='pollutant_avg',data=delhi_df )","ba373a5d":"fig, axes = plt.subplots(1, 3,sharey=True)\nsns.barplot(ax=axes[0],x='pollutant_id',y='pollutant_min',data=maharashtra_df )\nsns.barplot(ax=axes[1],x='pollutant_id',y='pollutant_max',data=maharashtra_df )\nsns.barplot(ax=axes[2],x='pollutant_id',y='pollutant_avg',data=maharashtra_df )","e17c9311":"fig, axes = plt.subplots(1, 3,sharey=True)\nsns.barplot(ax=axes[0],x='pollutant_id',y='pollutant_min',data=haryana_df )\nsns.barplot(ax=axes[1],x='pollutant_id',y='pollutant_max',data=haryana_df )\nsns.barplot(ax=axes[2],x='pollutant_id',y='pollutant_avg',data=haryana_df )","a517a6f6":"fig, axes = plt.subplots(1, 3,sharey=True)\nsns.barplot(ax=axes[0],x='pollutant_id',y='pollutant_min',data=uttarpradesh_df )\nsns.barplot(ax=axes[1],x='pollutant_id',y='pollutant_max',data=uttarpradesh_df )\nsns.barplot(ax=axes[2],x='pollutant_id',y='pollutant_avg',data=uttarpradesh_df )","5a306aaa":"fig, axes = plt.subplots(1, 3,sharey=True)\nsns.barplot(ax=axes[0],x='pollutant_id',y='pollutant_min',data=karnataka_df )\nsns.barplot(ax=axes[1],x='pollutant_id',y='pollutant_max',data=karnataka_df )\nsns.barplot(ax=axes[2],x='pollutant_id',y='pollutant_avg',data=karnataka_df )","e99c07b7":"my_data.drop(['id',\t'country','last_update'\t,'city','pollutant_id'\t,'station'],axis = 1,inplace = True)","6ad23b16":"my_data.head()","9a5480af":"state = my_data.state","d4686dda":"my_data.drop(['state'],axis = 1,inplace = True)","051fc85a":"my_data.head()","c9adf4cf":"my_data = my_data.fillna(my_data.mean())","29f76c19":"import matplotlib.pyplot as plt\nplt.figure(figsize = (10,10))\nsns.heatmap(my_data.corr(),annot=True)","d96d6760":"from sklearn.preprocessing import StandardScaler\nscaler = StandardScaler()\nX = scaler.fit_transform(my_data.values)\nfrom sklearn.cluster import KMeans\nwss = []\nfor i in range(1,11):\n    cluster = KMeans(n_clusters=i,init='random',n_init=10, max_iter=300,tol=1e-04, random_state=0)\n    cluster.fit(X)\n    wss.append(cluster.inertia_)","7618bd03":"plt.plot(range(1,11),wss,marker ='o')","bf1f72a4":"my_data_copy = pd.read_csv('\/kaggle\/input\/indias-air-quality-index\/Air_Quality.csv', skipinitialspace=True)\ncluster_final = KMeans(n_clusters=2)\npred = cluster_final.fit_predict(X)\nmy_data_copy['predict'] = pred","d974c8f8":"my_data_copy[my_data_copy['predict'] == 1]['state'].unique()","85486d4c":"my_data_copy[my_data_copy['predict'] == 0]['state'].unique()","bde6bc11":"so there are no duplicated values present in our dataset","471a54bf":"in case maharashtra we can clearly conclude that the levels of pm2.5 pm 10 even though they are lower than delhi in avg they are stil quite high and not healthy . the air pollution due co is also a big concern in case of maharashtra","33163da7":"**Importing necessary libraries for our task**","7d840be1":"we now perform k means clustering to find which of citys have high amount of pollution and classify them.","64e1398b":"so there are 98 missing values for each of pollutant_min,pollutant_max and pollutant_avg. We need to impute them using a proper method.\n**Now are there any duplicated values?**\n","de868370":"the above plot shows the elbow method for finding the right cluster","39bd2dee":"lets try to make other categorical plots to get an better understanding of our dataset. we also impute our missing values by mean imputing method so our dataset becomes more consistent.","a213e0a4":"the airpollution levels for haryana is probably worst among the cities we considered with both pm2.5 and pm 10 values over 150 level which is very unhealthy.","76c2159f":"lets now separate our dataset with states that have highest pollution id counts and compare between them .","e1ee9a0d":"now lets check the distribution of pollution particles in this states.","9fe04acd":"Cluster with 1 are those which had bad quality of air","2afd1967":"clearly we see that pollutant min has high positive correlation with that of max pollutant and avg pollutant","54c9bbd4":"clearly from this bar chart we can see that even the minimum levels of pm2.5 and pm10 are not healthy for delhi even the average pollutant values are reasonably high to be concerened about air quality in delhi.","147a0fb3":"the avg pollution level for karnataka is quite low when compared to other cities we have displayed in bar charts ,however there significant amount of ozone gas emisson in karnataka which we can conclude from the bar chart.","6ac251b7":"clusters with 0 are those which had normal quality air","46d705a9":"**Lets now view first few rows of our dataset to get an general idea about the air_quality data **","400e0b68":"**Reading our Dataset**","26937f25":"**Are there Null values present in our dataset**","60416a49":"we clearly see that delhi haryana karnataka uttarpardesh and maharashtra has significantly higher pollution than the others.","4d59dde4":"again we see that the average pollution levels are quite high for uttarparadesh as well with significant pollution levels for co, ozone and no2"}}