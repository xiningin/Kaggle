{"cell_type":{"3204c12c":"code","382d2802":"code","cb8e75d9":"code","bb23fbfa":"code","8d781f40":"code","d8a9fe62":"code","261bfc0e":"code","a1b2acaa":"code","c0aa1eca":"code","2e4a0cfc":"code","0026f0d4":"code","263e1927":"code","0b7a48da":"code","e85d6b92":"code","441ed265":"code","218be167":"code","ae50105d":"markdown","08ba0d3a":"markdown","bfe5618f":"markdown","56c09ceb":"markdown","a07121ee":"markdown","c9da02d2":"markdown","c9aa7279":"markdown"},"source":{"3204c12c":"!pip install vaex","382d2802":"import vaex\nimport pandas as pd\nimport numpy as np\nn_rows = 1000000\nn_cols = 500\ndf = pd.DataFrame(np.random.randint(0, 100, size=(n_rows, n_cols)), columns=['col%d' % i for i in range(n_cols)])\ndf.head()","cb8e75d9":"df.info(memory_usage='deep')","bb23fbfa":"\nfile_path = 'final_data.csv'\ndf.to_csv(file_path, index=False)","8d781f40":"vaex_df = vaex.from_csv(file_path, convert=True, chunk_size=5_000_000)","d8a9fe62":"type(vaex_df)","261bfc0e":"vaex_df = vaex.open('final_data.csv.hdf5')","a1b2acaa":"type(vaex_df)","c0aa1eca":"vaex_df.head()","2e4a0cfc":"%%time\nvaex_df['multiplication_col13']=vaex_df.col1*vaex_df.col3","0026f0d4":"vaex_df['multiplication_col13']","263e1927":"vaex_df[vaex_df.col2>70]","0b7a48da":"dff=vaex_df[vaex_df.col2>70]  ##Here Filtering will not make a memory copy","e85d6b92":"### All the agorithms work out of core, the limit is the size of your harddriver\ndff.col2.minmax(progress='widget')","441ed265":"%%time\nvaex_df_group=vaex_df.groupby(vaex_df.col1,agg=vaex.agg.mean(vaex_df.col4))\nvaex_df_group","218be167":"%%time\nvaex_df.groupby(vaex_df.col1,agg='count')","ae50105d":"### Out-of-core DataFrame\nFiltering and evaluating expressions will not waste memory by making copies; the data is kept untouched on disk, and will be streamed only when needed. Delay the time before you need a cluster.","08ba0d3a":"### Creating Csv files","bfe5618f":"### Fast groupby \/ aggregations\nVaex implements parallelized, highly performant groupby operations, especially when using categories (>1 billion\/second).","56c09ceb":"### Expression system\nDon't waste memory or time with feature engineering, we (lazily) transform your data when needed.","a07121ee":"### Vaex- Reading And Processing Huge Datasets in seconds","c9da02d2":"### Create Hdf5 files","c9aa7279":"### Read Hdf5 files using Vaex library"}}