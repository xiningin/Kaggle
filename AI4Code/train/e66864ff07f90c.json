{"cell_type":{"30cf5d87":"code","8a10d8cc":"code","2e6ceba2":"code","f140665d":"code","28abfb97":"code","b689674f":"code","f282c9f4":"code","231e9ca3":"code","412c9b5c":"code","5b482c12":"code","570a45ff":"code","2c7d3ca2":"code","01a76aa9":"code","eb3786d3":"code","acb7fac4":"code","9abd1874":"code","29b13da3":"code","329a4201":"code","24bd1cd2":"code","78a8bc4e":"code","c596aad7":"code","6fb2b4d0":"code","df2e406b":"code","b9ac0cd5":"markdown","b90cd8c8":"markdown","064791cb":"markdown","fdcca47d":"markdown","4decd5f1":"markdown","6a37e1bf":"markdown","aee0b46a":"markdown","22dbffd9":"markdown","9398e9c7":"markdown","def27540":"markdown","72a8e890":"markdown","be04561f":"markdown","d9a85191":"markdown","9bc4f1c5":"markdown","48b873ae":"markdown","e9cf201c":"markdown","b246fd6f":"markdown","8cee1831":"markdown","d7380cb1":"markdown","b7a13676":"markdown","94b6dcf9":"markdown","62762a6f":"markdown","43dd8d9e":"markdown","b3a5014f":"markdown","8302e629":"markdown","48a518ae":"markdown","7554ba37":"markdown","90e4b9c9":"markdown","20f2acd9":"markdown","83c8fbec":"markdown","ed6b8977":"markdown","dfc7a2c3":"markdown","7f09a30b":"markdown","b912ad12":"markdown","eabc388f":"markdown"},"source":{"30cf5d87":"import matplotlib as mpl\nimport matplotlib.pyplot as plt \n%matplotlib inline\nimport seaborn as sns\nimport pandas as pd\nimport numpy as np\nimport statsmodels.api as sm\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n","8a10d8cc":"data = pd.read_csv('..\/input\/covid19-and-its-impact-on-students\/COVID-19 Survey Student Responses.csv')","2e6ceba2":"#Check the dataframe info\ndata.info()","f140665d":"data_v2 = data.drop(columns=['Stress busters', 'Time utilized', 'Do you find yourself more connected with your family, close friends , relatives  ?', 'What you miss the most'])\ndata_v2.head()","28abfb97":"data_v2.isnull().sum().sort_values(ascending=False)\/len(data_v2)","b689674f":"#Transform the dataframe into pandas dataframe\ndf = pd.DataFrame(data_v2)\n\n#Define in which column to look for missing values\ndf_2 = df.dropna(subset=['Medium for online class'])\n\n#Print the count of missing values\nmissing_val = df['ID'].count() - df_2['ID'].count()\nprint(\"There are\", missing_val, \"'NA' values\")","f282c9f4":"#Create a new column 'Numeric Rating'\ndf_2.loc[df_2['Rating of Online Class experience'] == 'Very poor', 'Numeric Rating'] = '1'\ndf_2.loc[df_2['Rating of Online Class experience'] == 'Poor', 'Numeric Rating'] = '2'\ndf_2.loc[df_2['Rating of Online Class experience'] == 'Average', 'Numeric Rating'] = '3'\ndf_2.loc[df_2['Rating of Online Class experience'] == 'Good', 'Numeric Rating'] = '4'\ndf_2.loc[df_2['Rating of Online Class experience'] == 'Excellent', 'Numeric Rating'] = '5'\n\n#Convert string to integer\npd.to_numeric(df_2['Numeric Rating'])","231e9ca3":"#Create a list of conditions for column 'Change in your weight'\nconditions = [\n    (df_2['Change in your weight'] == 'Increased'),\n    (df_2['Change in your weight'] == 'Decreased'),\n    (df_2['Change in your weight'] == 'Remain Constant')\n]\n\n#Create a list of values we want to assign for each condition\nvalues = ['1', '-1', '0']\n\n#Create a new column and use np.select to assign values to it\ndf_2['Numeric Change in Weight'] = np.select(conditions, values)\n\n#Convert string to integer\npd.to_numeric(df_2['Numeric Change in Weight'])","412c9b5c":"#Create a new column 'Health Issue (1 or 0)'\n#If the answer for column 'Health issue during lockdown' is YES, then assign the value of 1\n#Otherwise, if the answer is NO, then assign the value of 0\n\ndf_2['Health Issue (1 or 0)'] = df_2['Health issue during lockdown'].apply(lambda x: 1 if x == 'YES' else 0)\nprint(df_2['Health Issue (1 or 0)'])","5b482c12":"#Extract all rows with 'NA' value from column 'Medium for online class'\ndf_na = df[df['Medium for online class'].isna()]\n\n#Create a countplot \nplt.figure(figsize=(12,3))\nfig1 = sns.countplot(y = 'Rating of Online Class experience', data = df_na.fillna('NA'), palette='mako')\nfig1.set_title(\"Count for Rating (NA value)\")\nplt.show()","570a45ff":"#Define a list that contains all the medium types\nmedium = df_2['Medium for online class'].unique()  \n\n#Define a list that contains all the ratings\nrating_index = ['Excellent','Good','Average','Poor','Very poor']\n\n#Create a color palette\npalette = ['#E17393', '#B96C9D', '#8C679A', '#61608B', '#405574']\n\n#Create a loop that iterates each medium type\nfor type in medium:\n    ax=df_2.loc[(df_2['Medium for online class']== type)].groupby(by='Rating of Online Class experience').ID.count()\n    ax.reindex(rating_index).plot.barh(title=type, width=0.8, color=palette, figsize=(12,3))\n    plt.show()","2c7d3ca2":"plt.figure(figsize = (9, 3))\nfig2 = sns.countplot(x=\"Rating of Online Class experience\", \n                     order=['Very poor', 'Poor', 'Average', 'Good', 'Excellent'],\n                     hue=\"Region of residence\", data=df_2, palette='hls')\nfig2.set_title('Countplot for Rating by Region of Residence')\nplt.legend(bbox_to_anchor=(1.02, 1), loc='upper left', title='Region of residence', borderaxespad=0)","01a76aa9":"plt.figure(figsize = (12, 3))\nsns.distplot(df_2['Age of Subject'])\nplt.title('Distribution Plot of Age of Subject')\nplt.show()","eb3786d3":"#Create age groups to classify subjects\nage_5_15 = df_2.loc[(df_2['Age of Subject'] >= 5) & (df_2['Age of Subject'] <= 15)]\nage_16_25 = df_2.loc[(df_2['Age of Subject'] >= 16) & (df_2['Age of Subject'] <= 25)]\nage_26_35 = df_2.loc[(df_2['Age of Subject'] >= 26) & (df_2['Age of Subject'] <= 35)]\nage_36_45 = df_2.loc[(df_2['Age of Subject'] >= 36) & (df_2['Age of Subject'] <= 45)]\nage_45above = df_2.loc[(df_2['Age of Subject'] >= 45)]\n\n#Define x-axis and y-axis\nage_x = ['5-15', '16-25', '26-35', '36-45', '45+']\nage_y = [len(age_5_15), len(age_16_25), len(age_26_35), len(age_36_45), len(age_45above)]\n\n#Create a barplot\nplt.figure(figsize=(12,3))\nfig3 = sns.barplot(x=age_y, y=age_x, data=df_2, palette='Blues')\nfig3.set_title(\"Number of Students per Age Group\")\nfig3.set_xlabel(\"Number of Students\")\nfig3.set_ylabel(\"Age Group\")\nplt.show()","acb7fac4":"plt.figure(figsize=(6, 6))\nfig4 = sns.boxplot(x=\"Rating of Online Class experience\", y=\"Age of Subject\", data=df_2, \n                   order = ['Very poor', 'Poor', 'Average', 'Good', 'Excellent'], \n                   palette='rocket_r')\nfig4.set_title(\"Boxplot of Rating by Age\")","9abd1874":"plt.figure(figsize = (12, 3))\nfig5 = sns.countplot(x=\"Prefered social media platform\", data=df_2, palette='Spectral')\nfig5.set_xticklabels(fig5.get_xticklabels(), rotation=90)\nfig5.set_title(\"Count for Social Media Platform\")\n\n#Add a value on top of each column\nfor rect in fig5.patches:\n    fig5.text (rect.get_x() + rect.get_width()  \/ 2,rect.get_height()+ 0.75,rect.get_height(),\n             horizontalalignment='center', fontsize=9)\n","29b13da3":"#Arrange order of Numeric Rating\ndf_pi = df_2.sort_values(by='Numeric Rating', ascending=True)\ndf_pi['Numeric Rating'] = df_pi['Numeric Rating'].astype(int)\n\n#Create a boxplot\nplt.figure(figsize = (10, 4))\nfig6 = sns.boxplot(x=\"Prefered social media platform\", y=\"Numeric Rating\", data=df_pi, palette='Spectral')\nfig6.set_xticklabels(fig6.get_xticklabels(), rotation=90)\nfig6.set_title(\"Boxplot of Social Media Platform by Rating\")\n","329a4201":"#Subsetting columns\ndf_pi_num = df_2[['Number of meals per day', 'Numeric Change in Weight', 'Health Issue (1 or 0)', 'Numeric Rating']]\ndf_pi_num['Numeric Rating'] = df_pi_num['Numeric Rating'].astype(int)\ndf_pi_num['Numeric Change in Weight'] = df_pi_num['Numeric Change in Weight'].astype(int)\n\n#Create a heatmap showing the correlation\nplt.figure(figsize = (10, 4))\nsns.heatmap(df_pi_num.corr(), annot=True)\nplt.show()","24bd1cd2":"#Subsetting columns\ndf_TimeMgmt = df_2[['Time spent on Online Class', 'Time spent on self study', 'Time spent on fitness', \n                    'Time spent on sleep','Time spent on social media','Numeric Rating']]\ndf_TimeMgmt['Numeric Rating'] = df_TimeMgmt['Numeric Rating'].astype(int)\n\n#Create a heatmap\nplt.figure(figsize = (10, 4))\nsns.heatmap(df_TimeMgmt.corr(), annot=True)\nplt.show()","78a8bc4e":"#Create a list of variables\nvariables = list(df_TimeMgmt.drop(columns='Numeric Rating'))\n\n#Create a distribution plot for each variable\nfor var in variables:\n    plt.figure(figsize = (6, 3))\n    sns.distplot(df_TimeMgmt[var])\n    plt.title(var)\n    plt.show()","c596aad7":"#Establish independent and dependent variables\nindependent_variable = df_TimeMgmt.iloc[:, 0:5]\ndependent_variable = df_TimeMgmt['Numeric Rating']\n\n#Add a constant to independent variables\nindependent_variable = sm.add_constant(independent_variable)\n\n#Store and fit the model\nregression_model = sm.OLS(dependent_variable, independent_variable).fit()\n\n#Print the regression model summary\nregression_model.summary()","6fb2b4d0":"#Create a new column in the dataframe \ndf_TimeMgmt['Prediction'] = regression_model.predict(independent_variable) \n\n#Create a dual_axis plot\nax1 = df_TimeMgmt.iloc[:, 0:5].plot()\nax1.legend(bbox_to_anchor=(1.05, 1.0), loc='upper left')\nax1.set_ylabel('Hours spent on activity')\n\nax2 = ax1.twinx()\nax2.plot(df_TimeMgmt['Numeric Rating'], color='red', label='Numeric Rating')\nax2.plot(df_TimeMgmt['Prediction'], color='black', label='Prediction')\nax2.legend(bbox_to_anchor=(1.05, 1.0), loc='lower left')\nax2.set_ylabel('Rating Scale (1-5)')\n\nplt.rcParams[\"figure.figsize\"] = (12, 4)\nplt.title('Regression Model Plot')\nplt.show()","df2e406b":"#Create a countplot \nplt.figure(figsize=(12,3))\nfig7 = sns.countplot(y = 'Rating of Online Class experience', \n                     order=['Very poor', 'Poor', 'Average', 'Good', 'Excellent'],\n                     data = df_2, palette='Blues')\nfig7.set_title(\"Count for Rating\")\nplt.show()","b9ac0cd5":"### <span style='color:#FFA07A'> 3.2 Correlation with Personal Indicators <\/span>","b90cd8c8":"\ud83d\udccc Points to know:\n- The plots show that there isn't a clear trend for the time spent on each activity. And the variations between them are significant.\n- All the plots seem to display a normal distribution except the plot for the time spent on fitness.\n- It could result from the unpredictability of human behavior and the size of data collected being small.","064791cb":"### <span style='color:#FFA07A'> 1.1 Import Libraries <\/span>","fdcca47d":"#### <span style='color:#FFA07A'> 3.3.1 Distribution for Variables <\/span>","4decd5f1":"#### <span style='color:#FFA07A'> 3.3.3 Validate Predictions <\/span>","6a37e1bf":"#### <span style='color:#FFA07A'> 2.3 Remove incomplete rows <\/span>","aee0b46a":"I'll explore if there's a correlation between each variable from personal indicators and the rating of students' online class experience.","22dbffd9":"### Covid-19's Impacts on Students' Online Class Experience in NCR","9398e9c7":"By exploring the data set, we find the 'NA' value exists in the column 'Medium for online class.' Since the ambiguous data can't provide adequate information to evaluate the correlation, we'll drop the rows containing the 'NA' value.","def27540":"#### <span style='color:#FFA07A'> 3.1.1 Create a countplot for students without access <\/span>","72a8e890":"#### <span style='color:#FFA07A'> 2.1 Remove features that are less relevant <\/span>","be04561f":"#### <span style='color:#FFA07A'> 3.2.1 Region of residence <\/span>","d9a85191":"#### <span style='color:#FFA07A'> 3.2.3 Preferred Social Media Platform <\/span>","9bc4f1c5":"Besides, we're going to transform the other two columns into numeric columns to explore the correlation.","48b873ae":"### <span style='color:#FFA07A'> 3.1 Identify Medium for Online Class <\/span>","e9cf201c":"\ud83d\udccc Points to know:\n    \n- The distribution skews to the left, implying the younger students are the primary users for the online class.\n- Age 16 to 25 is the most prominent group and contributes almost evenly to each rating category.","b246fd6f":"\ud83d\udccc Points to know:\n\n- Here shows that the \"NA\" value covers almost half the proportion in the data representing students without access.\n- Values \"Very Poor\" and \"Average\" are composed of the second and third largest percentage in the plot.\n- Combining the count plot and the two observations above, the shortage of medium to online classes is likely to affect students' experience negatively.","8cee1831":"The data set contains multiple data types, including string, integer, and floating-point. Since this analysis aims to discover a correlation between variables and the rating of online class experience, we'll emphasize exploring the relationship within objective variables. Subjective-defined columns that are inclined to psychological factors will be removed.","d7380cb1":"#### <span style='color:#FFA07A'> 2.4 Convert String to Integer <\/span>","b7a13676":"#### <span style='color:#FFA07A'> 3.3.2 Create a Multivariate Regression Model <\/span>","94b6dcf9":"#### <span style='color:#FFA07A'> 3.2.4 Numeric Personal Indicators <\/span>","62762a6f":"Before identifying a medium for the online class, separating students into groups based on whether they can employ the medium is significant. By doing this, we can derive how much impact the access to medium can make on students' experience. Furthermore, we'll categorize the types of the medium into sub-groups and assess their individual effects.","43dd8d9e":"#### <span style='color:#FFA07A'> 3.2.2 Age of Subject <\/span>","b3a5014f":"### <span style='color:#FFA07A'> 1.2 Import Data Source <\/span>","8302e629":"\ud83d\udccc Points to know:\n    \n- Instagram, Whatsapp, and Youtube are the top 3 preferred social media platforms.\n- Whatsapp and Youtube both have a median rating of 3 (\"Average\") with a maximum rating of 4 (\"Good\"), while Instagram users rate their highest online class experience to be 3 (\"Average\").","48a518ae":"### <span style='color:#FFA07A'> 2. Data Cleansing <\/span>","7554ba37":"To better serve the objective of the analysis, we're going to create a new column that converts the string column 'Rating of Online Class experience' to a numeric column. A numeric scale from 1 to 5 will define the rating from \"Very poor\" to \"Excellent.\" ","90e4b9c9":"#### <span style='color:#FFA07A'> 3.1.2 Create a countplot for students with access <\/span>","20f2acd9":"\ud83d\udccc Points to know:\n\nThe graphs show that the smartphone and laptop\/desktop are the two most common medium types students acquire for the online class. However, students that use smartphone or laptop\/desktop alternatively are much less.\n- Being the major medium types, smartphone and laptop\/desktop display a broad coverage in ratings \"Very Poor\" and \"Average.\" \n- Meanwhile, the ratings \"Poor\" and \"Excellent\" cover a small proportion.\n- In other words, we can assume that the most frequently used medium might not provide the best students' online class experience.","83c8fbec":"\ud83d\udccc The heatmap shows an extremely weak correlation between numeric personal indicators and the rating of online class experience.","ed6b8977":"### <span style='color:#FFA07A'> 3.3 Correlation with Time Allocation <\/span>","dfc7a2c3":"#### <span style='color:#FFA07A'> 2.2 Check missing values <\/span>","7f09a30b":"\ud83d\udccc Points to know:\n- For the graph above, I employed the Ordinary Least Squared Regression to create the multivariate regression model. Then I used the dual-axis to plot out the variables and predicted values. \n- As we can see, the majority of predictions fall in the range between 1.5 to 3.5. It matches the count plot where the ratings \"Very poor\" and \"Average\" covers the largest proportion. \n- The range of predicted values are smaller than that of the actual values, indicating room for improvements in the regression model.","b912ad12":"\ud83d\udccc Points to know:\n\nIt seems there're only a few missing values in columns 'Medium for online class' and 'Rating of Online Class Experience.' It could result from these reasons:\n- Some students don't have access to online class\n- Ratings can't be made due to the lack of access\n\n","eabc388f":"\ud83d\udccc Points to know:\n\nDelhi region has more counts in all columns than outside-Dehli region except the column \"Poor.\" It implies two points:\n- Students in Delhi region gain more access to the online class.\n- More populations cluster in Delhi region than outside-Delhi region."}}