{"cell_type":{"f56c7580":"code","d545694e":"code","968e1e72":"code","7bcea296":"code","2f80175f":"code","8601ffac":"code","c5c7e613":"code","3b96cf51":"code","28b20deb":"code","fa42555b":"code","e922ac93":"code","bb583037":"code","59525357":"code","aef11fd4":"code","7700ee62":"code","c9cb2ddf":"code","d6dcf28e":"code","5b1f6ac7":"code","a1480508":"code","3dd0ea3b":"code","d35a8f72":"code","8956a82b":"code","9614f8e4":"code","d4b90d19":"markdown","880ffaac":"markdown","327ffde5":"markdown","cdaea1ed":"markdown","3fba0bc2":"markdown","cd4a4af1":"markdown","0ba1f9a7":"markdown","4bf14728":"markdown","d6d9813c":"markdown","e04e5e0a":"markdown","c79acfc0":"markdown","2c4c91ae":"markdown","06a085f7":"markdown","38904995":"markdown"},"source":{"f56c7580":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","d545694e":"#import packages|modules|library\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport pandas_profiling as pp","968e1e72":"df_train_data = pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")\ndf_train_data.head()","7bcea296":"## Generate the Profile Report - to get better understanding of the data set\nreport = pp.ProfileReport(df_train_data, title='Pandas Profiling Report', explorative=True)\nreport","2f80175f":"# breaking the 'Name' into first name and last name\ndf_train_data['First_Name'] = df_train_data['Name'].astype('str').str.split(',',expand=True)[1]\ndf_train_data['Last_Name'] = df_train_data['Name'].astype('str').str.split(',',expand=True)[0]\ndf_train_data.head()","8601ffac":"df_train_data['Salutation'] = df_train_data['First_Name'].astype('str').str.split('.',expand=True)[0]\n\n#remove the spaces\ndf_train_data['Salutation'] = df_train_data['Salutation'].astype('str').str.strip()\n\n#check the number of records\nsal_col_major = df_train_data[(df_train_data['Salutation'] == 'Col') | (df_train_data['Salutation'] == 'Major')]\nsal_col_major","c5c7e613":"g_total = df_train_data['Sex'].value_counts()\nprint(\"The percentage of male travelling is\",(g_total['male']\/df_train_data.shape[0])*100)\nprint(\"The percentage of female travelling is\",(g_total['female']\/df_train_data.shape[0])*100)\n\n\n# count survived for male and female\nsur_male = df_train_data[(df_train_data['Sex']== 'male') & (df_train_data['Survived']==1)]\nsur_female = df_train_data[(df_train_data['Sex']== 'female') & (df_train_data['Survived']==1)]\nprint(\"The percentage of male survived is\",(sur_male.shape[0]\/g_total['male'])*100)\nprint(\"The percentage of female survived is\",(sur_female.shape[0]\/g_total['female'])*100)","3b96cf51":"da = df_train_data.copy()\nda['Survival_Desc'] = np.where(da['Survived']==1,'Lived','Dead')\nda.head(2)","28b20deb":"#since we are working with categorical data, we will perform 'Chi-Square' test\nobserved_table = pd.crosstab(da['Survival_Desc'],da['Sex'],margins=True)\nobserved_table","fa42555b":"import scipy.stats as stats\nstats.chi2_contingency(observed = observed_table)","e922ac93":"sa = df_train_data.copy()\nsa.head()","bb583037":"#get two samples\nsur = sa[sa['Survived']==1]\nnot_sur = sa[sa['Survived']==0]","59525357":"#run the T-Test hypothesis\nstats.ttest_ind(a=sur['Age'],b=not_sur['Age'],equal_var=True)","aef11fd4":"sa.isnull().sum()","7700ee62":"#check the distribution of age\nsns.distplot(sa['Age'])","c9cb2ddf":"#fill the missing values with median of age\nsa['Age'].fillna(sa['Age'].median(), inplace = True)","d6dcf28e":"sur = sa[sa['Survived']==1]\nnot_sur = sa[sa['Survived']==0]\n\n#run the T-Test hypothesis again\nstats.ttest_ind(a=sur['Age'],b=not_sur['Age'],equal_var=True)","5b1f6ac7":"# get family member details\ndf_train_data['Fam Member'] = df_train_data['SibSp'] + df_train_data['Parch']\ndf_train_data.head()","a1480508":"SC = df_train_data[['Survived','Fam Member']]\nSC.head()","3dd0ea3b":"# add the column to say Lived or Dead, instead of 0 or 1\nSC['sur_desc'] = np.where(SC['Survived'] == 1,'Lived','Dead')\nSC.head()","d35a8f72":"#check how the data is distributed for different family member count\nsns.distplot(SC['Fam Member'])","8956a82b":"# lets work with the numbers\nfa_greather_than_4 = SC[SC['Fam Member']>=4]\nfa_greather_than_4.shape","9614f8e4":"fa_greather_than_4.groupby(['Fam Member','sur_desc']).agg({'Survived':'count'})","d4b90d19":"#### It is important during analysis, how well you construct and define the data - this helps with better analysis and provide different insights, thereby answering different questions.","880ffaac":"### This notebook is created both for knowledge purpose. I have tried to answer few questions within the dataset","327ffde5":"We can see that:\n- the chances of survival rate for families with 4 or more people are very less, compared to the families with less than 4 people\n- the highest chances survival rate is for the people travelling alone, which can be understandable. The people travelling alone does not have to look out for others while they are trying to save themselves","cdaea1ed":"With the numbers from the dataset we can see that there is no count in the 'Lived' column for families with more than 6 people\n","3fba0bc2":"##### it looks like column 'age' has missing values, lets check it","cd4a4af1":"#### Q4: Does Age of an individual has any significance on the survival rate?\n\n##### Hypothesis Testing\n- H0: mean(age_survived) == mean_age(age_not_survived)\n- H1: mean(age_survived) != mean_age(age_not_survived)","0ba1f9a7":"For a confidence interval of 95% and significant value of 0.05\n- the test shows that p-value is '1.0036732821369117e-55'\n    * p-value < significant value\n\nTherefore we can reject the null hypothesis and can conclude to say that survival(male) != survival(female)","4bf14728":"#### Q1: Get the first and last name of the passengers","d6d9813c":"## Feel free to comment\n\n## Thanks for visiting","e04e5e0a":"### Insights from Data\n\n#### Do people with more family member has less chances of survival?\n","c79acfc0":"#### Q3: Does Gender of the individual relates to survival? (answer based on statistical view)","2c4c91ae":"#### Q2: lets see how many colonels and majors were travelling","06a085f7":"For a confidence interval of 95% and significant value of 0.05\n- the test shows that p-value is '0.0527'\n    * p-value > significant value\n\nTherefore we cannot reject the null hypothesis and can conclude that age is not a factor for surviving.","38904995":"The numbers though may state that percentage of female survived is high, than their male counterparts. But we cannot conclude this without the hypothesis testing\n\n##### Hypothesis Testing\n- H0: Survival(male) == Survival(female)\n- H1: Survival(male) != Survival(female)"}}