{"cell_type":{"cb94fdd7":"code","727d8aa8":"code","f3c6a9bf":"code","20e6c748":"code","b6732dd3":"code","c50d98a3":"code","ad2b6c40":"code","730ba85b":"code","98a950de":"code","4d6bb754":"code","a34cc0e3":"code","a9400121":"code","12920f4f":"code","903e4c26":"code","69014d0a":"code","d4888244":"markdown","efb542f0":"markdown","83d8dbd8":"markdown","7fa9afd6":"markdown","a8044b60":"markdown","bdc1c277":"markdown","c06c0ef8":"markdown","e2347c09":"markdown","791c52dd":"markdown","a9e79528":"markdown","2c56b81a":"markdown","6bf7e3b1":"markdown","e3cc687d":"markdown"},"source":{"cb94fdd7":"# Load main packages\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt # plotting handling\nimport seaborn as sns # plotting handling\nimport altair as alt # plotting handling\nimport time # timer","727d8aa8":"# Load data\ndata = pd.read_csv('..\/input\/1100-instagram-users-datetime-posts-data\/Instagram_Data.csv')","f3c6a9bf":"# Clean\/Preprocessing\ndata['Date Posted'] = pd.to_datetime(data['Date Posted']) #\u00a0Convert to datetime\ndata['Type'] = data['Type'].astype('category') #\u00a0Change to category\ndata['Day Name'] = data['Date Posted'].dt.strftime(\"%A\") # Get day name\ndata['Workday'] = data['Day Name'].apply(lambda x: False if x in ['Saturday', 'Sunday'] else True) # Is workday or not","20e6c748":"data.head()","b6732dd3":"months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']","c50d98a3":"fig, ax = plt.subplots(4, 1, figsize=(20, 4*5))\n\nsns.barplot(x=months, y=data.groupby('Month')['Likes'].mean(), ax=ax[0], color='#852852')\nax[0].title.set_text('Sum likes by months')\n\nsns.barplot(x=months, y=data.query(\"Type == 'Image'\").groupby('Month')['Likes'].mean(), ax=ax[1], color=\"#802885\")\nax[1].title.set_text('Sum likes by months for Image')\n\nsns.barplot(x=months, y=data.query(\"Type == 'Images'\").groupby('Month')['Likes'].mean(), ax=ax[2], color=\"#632885\")\nax[2].title.set_text('Sum likes by months for Images')\n\nsns.barplot(x=months, y=data.query(\"Type == 'Video'\").groupby('Month')['Likes'].mean(), ax=ax[3], color=\"#302885\")\nax[3].title.set_text('Sum likes by months for Video')\n\nplt.show()","ad2b6c40":"def plot_agg(agg_name=\"Average\", agg_function=np.mean, ci=75):\n    palette = [\"navy\", \"teal\", \"crimson\"]\n    cols = ['Image', 'Images', 'Video'] \n    STEP = 0.1\n    \n    # Plot lineplot\n    plt.figure(figsize=(20, 9))\n    \n    for col, pal in zip(cols, palette):\n        #\u00a0Plot Mean - Max\n        preframe = data[data[\"Type\"] == col]\n        frame = preframe.groupby('Month')['Likes'].apply(agg_function)\n        sns.lineplot(data=preframe, x=\"Month\", y=\"Likes\", color=pal, estimator=agg_function, ci=ci, label=col)\n        plt.plot(frame.argmax()+1, frame.max(), color=pal, markersize=10, marker='o')\n        plt.text(frame.argmax()+1 + STEP, frame.max(), f'MAX({col})={round(frame.max())} | {months[frame.argmax()]}', color=pal, weight='bold')\n    \n    plt.legend(loc='lower right')\n    plt.title(f'{agg_name} number of likes by Month and Type of content ({ci}% confidence interval)')\n    plt.show()","730ba85b":"def plot_agg_simple(agg_name=\"Average\", agg_function=np.mean, ci=75):\n    STEP = 0.1\n    plt.figure(figsize=(20, 8))\n    frame = data.groupby('Month')['Likes'].apply(agg_function)\n    sns.lineplot(data=data, x=\"Month\", y=\"Likes\", estimator=agg_function, ci=ci, color='#A788B5')\n    plt.plot(frame.argmax()+1, frame.max(), color='red', markersize=10, marker='o')\n    plt.text(frame.argmax()+1 + STEP, frame.max(), f'MAX()={round(frame.max())} | {months[frame.argmax()]}', color='red', weight='bold')\n    plt.plot(frame.argmin()+1, frame.min(), color='blue', markersize=10, marker='o')\n    plt.text(frame.argmin()+1 + STEP, frame.min(), f'MIN()={round(frame.min())} | {months[frame.argmin()]}', color='blue', weight='bold')\n    plt.title(f\"{agg_name} number of likes by Month ({ci}% confidence interval)\")\n    plt.show()","98a950de":"plot_agg_simple(agg_name=\"Average\", agg_function=np.mean, ci=75)\nplot_agg_simple(agg_name=\"Median\", agg_function=np.median, ci=75)\nplot_agg_simple(agg_name=\"Sum\", agg_function=np.sum, ci=75)","4d6bb754":"plot_agg(agg_name=\"Average\", agg_function=np.mean)\nplot_agg(agg_name=\"Median\", agg_function=np.median)\nplot_agg(agg_name=\"Sum\", agg_function=np.sum)","a34cc0e3":"plt.figure(figsize=(20,6))\nsns.barplot(x='Hour', y='Likes', data=data, palette='Blues_d', capsize=.2)\nplt.title(\"Average number of lieks by hour\")\nplt.show()","a9400121":"for content_type, col in zip(data[\"Type\"].unique(), ['icefire', 'magma', 'Blues_d']):\n    plt.figure(figsize=(20,6))\n    sns.barplot(x='Hour', y='Likes', data=data.query(f'Type == \"{content_type}\"'), hue='Workday', capsize=.2, palette=col)\n    plt.title(f'Average number of likes of {content_type} by hour and workday')\n    plt.show()","12920f4f":"plt.figure(figsize=(20,10))\nsns.pointplot(x='Hour', y='Likes', data=data[data[\"Type\"] == \"Image\"], hue='Day Name', palette='tab10', estimator=np.mean, dodge=True, ci=0)\nplt.show()","903e4c26":"plt.figure(figsize=(20,10))\nsns.pointplot(x='Hour', y='Likes', data=data[data[\"Type\"] == \"Images\"], hue='Day Name', palette='tab10', estimator=np.mean, dodge=True, ci=0)\nplt.show()","69014d0a":"plt.figure(figsize=(20,10))\nsns.pointplot(x='Hour', y='Likes', data=data[data[\"Type\"] == \"Video\"], hue='Day Name', palette='tab10', estimator=np.mean, dodge=True, ci=0)\nplt.show()","d4888244":"___\n# \ud83d\udcca Analysis","efb542f0":"> Based on **average** on likes for every types of content there are more likes between 8:00 and 8:59.","83d8dbd8":"Based on the data, we can see that peak no. of likes for **Images** are:\n1. Wednesday at 9am\n2. Friday at 5 am\n3. Friday at 8am\n4. Tuesday at 4 am\n5. Monday at 8am","7fa9afd6":"___\n# \ud83d\udcd1 Conclusion\n\nBased on the different data visualizations, we can expect for an user to post mostly during the summer holidays and one\/two month prior to that especially between 7 to 9am!","a8044b60":"# \ud83e\udd331100 Instagram Users Datetime Posts Data\n\n<div style=\"align:center\">\n    <img src=\"https:\/\/storage.googleapis.com\/kaggle-datasets-images\/1187749\/1986717\/ecb1c5df6c76935bc6f1ddea4b19b1ae\/dataset-cover.png?t=2021-03-01-21-24-55\">\n<\/div>\n\n<br>\n\n## Introduction\n\nThis notebook is dedicated to the task from the ***1100 Instagram Users Datetime Posts Data*** dataset given to us by [@vasileiosmpletsos](https:\/\/www.kaggle.com\/vasileiosmpletsos). Here are the targeted tasks:\n1. **Determine what time each day you will end with more likes**\n2. **Determine if previous like have correlation with upcoming post**\n3. **Determine which months do better**\n\n\n## Table of contents\n\n- Load (packages, data)\n- Analysis\n- Conclusion","bdc1c277":"## \ud83e\udd14 Determine what time each day you will end with more likes","c06c0ef8":"Based on the data, we can see that peak no. of likes for **Image** are:\n1. Thursday at 8am\n2. Saturday at 9am\n3. Monday at 10am\n4. Wednesday at 9am\n5. Friday at 9am","e2347c09":"## \ud83e\udd14 Determine which day you will end with more likes","791c52dd":"## \ud83e\udd14 Determine which months do better ?","a9e79528":"Based on the data, we can see that peak no. of likes for **Video** are:\n1. Sunday at 8am\n2. Friday at 6, 7 and 8am\n3. Thursday at 8am","2c56b81a":"<ins>**Answer**<\/ins>:\n- **Image**: Peak no. of likes are between **6am** and **9am**, we see that between **10am** and **7pm** there are less likes because maybe people are at school\/work.\n- **Images**: Peak no. of likes for workdays are **2am**, **7am** and **12am** and for weekends it is at **5am**, **8am** and **9am**!\n- **Video**: Peak no. of likes are during workdays at **8am** and at other times it is more normal distributed. Before going to work\/school?? ","6bf7e3b1":"___\n# \u2601\ufe0f Load","e3cc687d":"**<ins>Answer<\/ins>**:\n- **January**: Based on the data there is a lot of likes during this month if we **sum** them all.\n- **February**:\n- **March**:\n- **April**: This month is the best on **average** of likes for ***Image***.\n- **May**: The maximum **median** of likes is during this month, you will have more chance to have more likes during this month than the whole year especially for ***Images***!\n- **June**:\n- **July**: Without separating the type of content this the month when there is the most likes on **average** especially for ***Image***.\n- **August**:\n- **September**:\n- **October**:\n- **November**:\n- **December**:\n\n**<ins>What I would suggest<\/ins>**: In general if you want to get the most likes based on the month, I would suggest to post your content during the following months: `[April, May, June, July]`, in fact it corresponds to the \"***Summer Holidays***\" in the Northern Hemisphere."}}