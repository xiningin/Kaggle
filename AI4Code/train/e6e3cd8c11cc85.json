{"cell_type":{"135e2dd4":"code","bbe85b2c":"code","d5753250":"code","0d2896ef":"code","4db613b5":"code","a8a32bf5":"code","7e0873a8":"code","6f9afb24":"code","d9716036":"code","43fb48e1":"code","86b7d466":"code","01970c1c":"code","77804020":"code","b7fbc853":"code","7d0d6beb":"code","f3510c53":"code","6730f45d":"code","bf29ecb2":"code","91260ea4":"code","fcccf2df":"code","c12f20e8":"code","fbeb67c0":"code","6e45c548":"code","225c19b2":"code","dddc58da":"markdown","d8c810e4":"markdown","a0c1f23a":"markdown","31e5e7c3":"markdown","a26f8efa":"markdown","19bf25dd":"markdown","94af147c":"markdown","0870494f":"markdown","feefab9c":"markdown","ddc7a8ea":"markdown","4cd628d2":"markdown","79a4ec2e":"markdown","4b07d8ed":"markdown","4e7d4eae":"markdown","0b243974":"markdown","8ba83088":"markdown","fce3c8c4":"markdown","aed3f808":"markdown","cb833fe4":"markdown","ca16dea3":"markdown"},"source":{"135e2dd4":"from json import load\nbd_districts=load(open('..\/input\/bangladesh-geojson-adm2-64-districts-zillas\/bangladesh_geojson_adm2_64_districts_zillas.json','r'))","bbe85b2c":"bd_districts['features'][61].keys()","d5753250":"bd_districts[\"features\"][61]['properties']","0d2896ef":"#import pandas as pd\n#dfs= pd.read_html('https:\/\/en.wikipedia.org\/wiki\/Districts_of_Bangladesh')","4db613b5":"# len(dfs)","a8a32bf5":"# for i in range(len(dfs)):\n#   a = \"Population (thousands)[28]\" in dfs[i]\n#   if a == True:\n#       df=dfs[i].to_csv(\"Districts_of_Bangladesh.csv\")","7e0873a8":"import pandas as pd\ndf=pd.read_csv(\"..\/input\/districts-of-bangladesh\/Districts_of_Bangladesh.csv\")","6f9afb24":"df.head()","d9716036":"df.District","43fb48e1":"df.District = df.District.apply(lambda x: x.replace(\" District\",\"\"))\n    ","86b7d466":"df.District ","01970c1c":"district_id_map = {}\nfor feature in bd_districts[\"features\"]:\n    feature[\"id\"] = feature[\"id\"]\n    district_id_map[feature[\"properties\"][\"ADM2_EN\"]] = feature[\"id\"]","77804020":"district_id_map","b7fbc853":"df['id'] = df.District.apply(lambda x: district_id_map[x])","7d0d6beb":"df.head()","f3510c53":"df = df.rename(columns={\n    'Population (thousands)[28]' : 'Population (thousands)',\n    'Area (km2)[28]' : 'Area (km2)' })","6730f45d":"import numpy as np\nfrom matplotlib import cm\ncolor = cm.inferno_r(np.linspace(.3, .7, 64))","bf29ecb2":"df.set_index('District')[\"Population (thousands)\"].plot.bar(\n    xlabel='District',\n    rot=90,\n    figsize=(20,10),\n    fontsize=10,\n    color=color\n    )","91260ea4":"from plotly.offline import plot, iplot, init_notebook_mode\ninit_notebook_mode(connected=True)\nimport plotly.express as px\nimport plotly.io as pio\n#pio.renderers.default = 'browser'","fcccf2df":"fig = px.choropleth(\n    df,\n    locations='id',\n    geojson=bd_districts,\n    color='Population (thousands)',\n    title='Bangladesh Population',\n)\nfig.update_geos(fitbounds=\"locations\", visible=False)\nfig.show()","c12f20e8":"df['Population scale'] = np.log10(df['Population (thousands)'])","fbeb67c0":"df.head()","6e45c548":"fig = px.choropleth(\n    df,\n    locations='id',\n    geojson=bd_districts,\n    color='Population scale',\n    hover_name='Bengali',\n    hover_data=['Population (thousands)','Area (km2)'],\n    title='Bangladesh Population'\n)\nfig.update_geos(fitbounds=\"locations\", visible=False)\nfig.show()","225c19b2":"px.choropleth_mapbox(df,\n    locations='id',\n    geojson=bd_districts,\n    color='Population scale',\n    hover_name='Bengali',\n    hover_data=['Population (thousands)','Area (km2)'],\n    title='Bangladesh Population',\n    mapbox_style='carto-positron',\n    center= { 'lat' : 23.6850, 'lon' : 90.3563},\n    zoom=4.8,\n    opacity=0.6)","dddc58da":"Load all districts from geojson file","d8c810e4":"Store data as csv format for offline use","a0c1f23a":"To get population info from wikipedia we can use pandas read_html module. It works fine in Jupiter Notebook. But for Kaggle However, i have tried to read html data. the html data reading support is not available. However, I am adding the process here. Its very simple. And yes, if you know any solution for this, please let me know.","31e5e7c3":"Customizing choropleth graph with mapbox looks more better.","a26f8efa":"Renaming columns for looking good","19bf25dd":"Removing District string from each row as geojson data do not have this district level after each district name.","94af147c":"# Population density of Bangladesh according to district \n---\n1. The current population of Bangladesh is 166,387,872 as of Friday, July 16, 2021, based on Worldometer elaboration of the latest United Nations data.\n2. Bangladesh 2020 population is estimated at 164,689,383 people at mid year according to UN data.\n3. Bangladesh population is equivalent to 2.11% of the total world population.\n4. Bangladesh ranks number 8 in the list of countries (and dependencies) by population.\n5. The population density in Bangladesh is 1265 per Km2 (3,277 people per mi2).\n6. The total land area is 130,170 Km2 (50,259 sq. miles)\n\n## Plotting Choropleth Bangladesh Map\n---\nA choropleth map is a type of thematic map in which areas are shaded or patterned in proportion to a statistical variable that represents an aggregate summary of a geographic characteristic within each area, such as population density or per-capita income.\n\n### Process\n- At first the district based geojson data is loaded\n- Collected population data from Wikipedia and saved as csv format\n- Load them to pandas dataframe\n- Marge two dataset according to district using an unique id\n- Plot choropleth map of Bangladesh\n","0870494f":"Now it is the time to map this dataframe with geojson file. For this we have to Index the district name for each dataframe. However, we can label a specific id for each district.","feefab9c":"As Dhaka has the most population, this part looks yellow. But others are not showing well as these locations have very few population against Dhaka. However, we can make log scale to solve the issue.","ddc7a8ea":"Reading csv data into a dataframe","4cd628d2":"Reference: https:\/\/github.com\/ahnaf-tahmid-chowdhury\/Choropleth-Bangladesh","79a4ec2e":"Now lets make choropleth map of Bangladesh with population density","4b07d8ed":"In the website there are many tables available. These are stored in list format. We can check the lenth and by selecting the correct index we can get our required table.","4e7d4eae":"Now we can see an id column in the dataframe","0b243974":"Changing color to 'Population scale' and adding hover_name with hover_data the we can get a more informative graph.","8ba83088":"Checking dataframe head","fce3c8c4":"A bar plot can be used to show population level in each district","aed3f808":"Lets check all keys available in geojson file","cb833fe4":"Now, dataframe has new column named \"Population scale\"","ca16dea3":"Merge both dataframe according to id"}}