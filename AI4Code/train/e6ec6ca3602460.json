{"cell_type":{"c76f0e61":"code","5d77e906":"code","4bcaf380":"code","58e04759":"code","6367ffcb":"code","26844f0a":"code","cb9fa411":"code","1c862a8e":"code","ffcc0ddd":"code","a3478d31":"code","935e7178":"code","515e2f7c":"code","f29e985e":"code","fbdf4c19":"code","34a1a9ee":"code","c77ce1df":"code","4f05ebdc":"code","85778013":"code","cedc4637":"code","6e073d00":"code","8b3d03f3":"code","3688bcda":"code","8043e3e2":"code","84242735":"code","bf651bc6":"code","86249149":"code","87d43e82":"markdown","2e0f7173":"markdown","220780af":"markdown","23ceb13a":"markdown","57b498e7":"markdown","0a9b3f54":"markdown","c79ceb44":"markdown","acf466e7":"markdown","a1ac3708":"markdown","da124797":"markdown","98d5c386":"markdown","61d9c768":"markdown","c0c1f30e":"markdown","36db84cb":"markdown","1caea5cc":"markdown","c08b617d":"markdown","da4bd1cd":"markdown","dfdd0560":"markdown","4f8e62f4":"markdown"},"source":{"c76f0e61":"import folium\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","5d77e906":"from fbprophet import Prophet\n\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nsns.set_style(\"darkgrid\")\n","4bcaf380":"\ndf_1 = pd.read_csv('\/kaggle\/input\/crimes-in-chicago\/Chicago_Crimes_2005_to_2007.csv',error_bad_lines=False)\ndf_2 = pd.read_csv('\/kaggle\/input\/crimes-in-chicago\/Chicago_Crimes_2008_to_2011.csv',error_bad_lines=False)\ndf_3 = pd.read_csv('\/kaggle\/input\/crimes-in-chicago\/Chicago_Crimes_2012_to_2017.csv',error_bad_lines=False)\ndf = pd.concat([df_1, df_2, df_3],ignore_index=False, axis=0)\n\ndel df_1\ndel df_2\ndel df_3\n","58e04759":"df.shape","6367ffcb":"\nMap = folium.Map(location=[41.864073,-87.706819],\n                        zoom_start=11, tiles='Stamen Terrain')\n\n\nloclist = df.loc[:, ['Latitude', 'Longitude']]\n\n","26844f0a":"for i in range(len(loclist)):\n    x = loclist.iloc[i][0]\n    y = loclist.iloc[i][1]\n    popup_text = \"\"\" <br>\"\"\"\n    popup_text = popup_text.format(loclist.index[i])\n    folium.Marker(location = [x, y], popup= popup_text, fill = True).add_to(Map)","cb9fa411":"Map","1c862a8e":"df.isnull().sum().sort_values(ascending=False).keys()","ffcc0ddd":"df.drop(['Unnamed: 0','Case Number','ID','IUCR','Y Coordinate', 'X Coordinate','Updated On','FBI Code','Beat','Community Area', 'Ward', 'District','Location', 'Latitude','Longitude'],inplace=True, axis=1)","a3478d31":"df.Date=pd.to_datetime(df.Date,format='%m\/%d\/%Y %I:%M:%S %p')\ndf.index=pd.DatetimeIndex(df.Date)","935e7178":"df.head()","515e2f7c":"\nplt.figure(figsize=(10,10))\n\ndf.groupby(['Primary Type']).size().sort_values(ascending=True).plot(kind='barh')\nplt.show()","f29e985e":"df_primary=df['Primary Type'].value_counts().iloc[:20].index\nplt.figure(figsize=(15,10))\nsns.countplot(y='Primary Type',data=df,order=df_primary)","fbdf4c19":"plt.figure(figsize=(15,10))\ndf_loc=df['Location Description'].value_counts().iloc[:20].index\nsns.countplot(y='Location Description',data=df,order=df_loc)\nplt.title('Most location Description')","34a1a9ee":"plt.plot(df.resample('Y').size())\nplt.title('No of Crime per year')\nplt.xlabel('Years')\nplt.ylabel('Crime')\n","c77ce1df":"plt.plot(df.resample('M').size())\nplt.title('No of Crime per Month')\nplt.xlabel('Month')\nplt.ylabel('Crime')\n","4f05ebdc":"plt.plot(df.resample('Q').size())\nplt.title('No of Crime per Quarter')\nplt.xlabel('Quarter')\nplt.ylabel('Crime')\n","85778013":"plt.figure(figsize=(15,15))\nplt.plot(df.resample('D').size())\nplt.title('No of Crime per day')\nplt.xlabel('Day')\nplt.ylabel('Crime')\n","cedc4637":"df_prophet=df.resample('M').size().reset_index()\n","6e073d00":"df_prophet.head()","8b3d03f3":"df_prophet.columns=['Date','Crime value']\ndf_prophet","3688bcda":"df_prophet_final=df_prophet.rename(columns={'Date':'ds','Crime value':'y'})","8043e3e2":"prop= Prophet()\nprop.fit(df_prophet_final)\n","84242735":"future = prop.make_future_dataframe(periods=1500)\nforcast= prop.predict(future)\nforcast","bf651bc6":"figure=prop.plot(forcast, xlabel='Date',ylabel='Crime Rate')","86249149":"figure=prop.plot_components(forcast)","87d43e82":"**Intializing the fb prophet**","2e0f7173":"# Now it is time for predicting the future","220780af":"Finding out the nature of crime in each month. It seems in winter season, crime rate falls drastically and increases in the middle of the year. ","23ceb13a":"**Plotting the occurance of different location description occured in the crime**","57b498e7":"Let's visualizate the trend how crimes occur according to prophet.","0a9b3f54":"# **Exploratory Data Analysis**","c79ceb44":"**Plotting the occurances of primary type of crime in chicago**","acf466e7":"**Viewing the crime zone in map**\n","a1ac3708":"**Renaming the column names**","da124797":"*Formatting the datetime for future visualization*","98d5c386":"I am predicting 1500 days after 2018. So I passed 1500 days in the period parameter. Let's look at the graph.","61d9c768":"**Understanding and Predicting the crime rate in Chicago**\n\nhello everyone, it is my first time series analysis. I have used fb prophet for the first time. \nThis notebook basically covers crime rate analysis using fb prophet, i have used fb prophet to predict the crime rate for 2018,2019,2020.\n\nplease <font style='font-size:20;color:red'>upvote<\/font>  the notebook if you like it. \n\nPlease give your valuable suggests.\n\n\nI will divide the project into few parts\n\n1. EDA\n2. Predicting","c0c1f30e":"Dropping irrelevant columns for predicting crime rates","36db84cb":"Now it is time for visualizing the crime rate quarterly.","1caea5cc":"Finding out number of null values and the column names","c08b617d":"\n\n*     Please do not hesitate to comment if you have any feedback\/comment\/question.\n*     An **upvote** would be much appreciated.\n\nThanks for reading!","da4bd1cd":"From this , it is clear that, crime \n* decreases in the winter season,\n* increases after winter season\n* highest crime rate in the June ","dfdd0560":"Let's look how does crime change with respect to day","4f8e62f4":"> Finding out the number of record in each year from 2006 to 2018"}}