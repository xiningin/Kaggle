{"cell_type":{"cc10b9a9":"code","4a60fa79":"code","8713a7de":"code","4e77076c":"code","a74ebfc0":"code","470d9e4b":"code","d26ccae5":"code","316e24ba":"code","febe0954":"code","caed07b4":"code","e4faaef8":"code","4eba0de8":"code","9a3ee17f":"code","0f673d39":"code","844ed818":"code","fea18f05":"code","6d731970":"code","caaa011e":"code","4d0bece2":"code","ef91b3bd":"code","23f48067":"code","0c0405a7":"code","fe9a79fa":"code","1db8ea3c":"code","81b11733":"code","25a0e965":"code","235e7317":"code","8f5303ba":"code","05fed169":"code","b55d1cee":"code","dac1a8d3":"code","e96c7883":"code","b0c5a5a5":"code","5506ae34":"code","94b992b4":"code","0faf1225":"code","75dc26ca":"code","43ff965e":"code","04bb4789":"code","7e3d3891":"code","45d28127":"code","42c6ea8d":"code","19c6567e":"code","5133073e":"code","d78d1afb":"code","d20f1af5":"code","24a8861e":"code","2b61a153":"code","d82ac189":"code","4ee8500e":"code","d4b56b10":"code","423e781c":"code","df955439":"code","c64b1af7":"code","f8dbfcae":"code","fdfda5de":"code","473b9261":"code","85828424":"code","9d62737b":"code","914c1e57":"code","a3af8df5":"code","b1b717f4":"code","d7aeaca3":"code","571f0091":"code","055efba0":"code","1f5cedb5":"code","d69305fb":"code","d1126baf":"code","49658d3b":"code","362d3f59":"code","6a68bf8d":"code","7b4fc08f":"code","a8c45b63":"code","2d003bc7":"code","33c0ff1b":"code","58bf5f0e":"markdown","322933b6":"markdown","c25ac2e2":"markdown","c563208f":"markdown","1000f00f":"markdown","b96783fa":"markdown","9a38d1a3":"markdown","a34e8a25":"markdown","6898436f":"markdown","7ae5ef2e":"markdown","ac313757":"markdown","46bcaf5a":"markdown","599650ea":"markdown","7087db63":"markdown","61eb0bf3":"markdown","a7513267":"markdown","04e59c81":"markdown","c7fa2575":"markdown","df2ecef8":"markdown","b25aad06":"markdown","2584d67e":"markdown"},"source":{"cc10b9a9":"# import libraries\n\nimport numpy as np\nimport pandas as pd\nimport matplotlib as plt\nimport seaborn as sns","4a60fa79":"# Load the data\n\ndf = pd.read_csv('\/kaggle\/input\/others\/House_Price.csv')\ndf.head()","8713a7de":"# Check the shape of the dataset\n\nprint(df.shape)\nprint(\"Number of rows: \",df.shape[0])\nprint(\"Number of columns: \",df.shape[1])","4e77076c":"df.info()","a74ebfc0":" df.describe()","470d9e4b":"df.skew()","d26ccae5":"df_continuous = [col for col in df.select_dtypes(include=[np.number])]\nprint(\"Continuous variables: \\n\",df_continuous)","316e24ba":"sns.jointplot(x='crime_rate',y='price',data=df)","febe0954":"sns.jointplot(x='resid_area',y='price',data=df)","caed07b4":"sns.jointplot(x='air_qual',y='price',data=df)","e4faaef8":"sns.jointplot(x='room_num',y='price',data=df)","4eba0de8":"sns.jointplot(x='teachers',y='price',data=df)","9a3ee17f":"sns.jointplot(x='n_hot_rooms',y='price',data=df)","0f673d39":"sns.jointplot(x='rainfall',y='price',data=df)","844ed818":"df_categorical = [col for col in df.select_dtypes(include=[np.object])]\nprint(\"Categorical variables: \\n\",df_categorical)","fea18f05":"sns.countplot(x='airport',data=df)","6d731970":"sns.countplot(x='waterbody',data=df)","caaa011e":"sns.countplot(x='bus_ter',data=df)","4d0bece2":"np.percentile(df['n_hot_rooms'],[99])","ef91b3bd":"upper_limit = np.percentile(df['n_hot_rooms'],[99])[0]\nupper_limit","23f48067":"df[(df['n_hot_rooms']>upper_limit)]","0c0405a7":"# n=3\n\ndf['n_hot_rooms'][(df['n_hot_rooms']>3*upper_limit)]=3*upper_limit","fe9a79fa":"lower_limit = np.percentile(df.rainfall,[1])[0]\nlower_limit","1db8ea3c":"df[(df.rainfall<lower_limit)]","81b11733":"df.rainfall[(df.rainfall<0.3*lower_limit)]=0.3*lower_limit","25a0e965":"sns.jointplot(x='crime_rate', y='price',data=df)","235e7317":"df.describe()","8f5303ba":"df.info()","05fed169":"df[\"n_hos_beds\"]=df[\"n_hos_beds\"].fillna(df[\"n_hos_beds\"].mean())","b55d1cee":"df.info()","dac1a8d3":"sns.jointplot(x = 'crime_rate', y ='price',data=df)","e96c7883":"df['crime_rate'] = np.log(1+df['crime_rate'])","b0c5a5a5":"sns.jointplot(x = 'crime_rate', y ='price',data=df)","5506ae34":"df['avg_dist'] = (df['dist1']+df['dist2']+df['dist3']+df['dist4'])\/4","94b992b4":"df.describe()","0faf1225":"df.drop(['dist1','dist2','dist3','dist4','bus_ter'],axis=1,inplace=True)","75dc26ca":"# create dummy variables\n\ndf = pd.get_dummies(df)","43ff965e":"df.head()","04bb4789":"df.drop(['airport_NO','waterbody_None'],inplace=True,axis=1)","7e3d3891":"df.head(1)","45d28127":"df.corr()","42c6ea8d":"df.drop('parks',inplace=True,axis=1)","19c6567e":"df.head(1)","5133073e":"import statsmodels.api as sn","d78d1afb":"X = sn.add_constant(df['room_num'])","d20f1af5":"lm= sn.OLS(df['price'],X).fit()","24a8861e":"lm.summary()","2b61a153":"# another method\n\nfrom sklearn.linear_model import LinearRegression","d82ac189":"y = df['price']","4ee8500e":"X = df[['room_num']]","d4b56b10":"lm2 = LinearRegression()","423e781c":"lm2.fit(X,y)","df955439":"print('intercept: ',lm2.intercept_,'\\ncoefficient: ',lm2.coef_)","c64b1af7":"lm2.predict(X)","f8dbfcae":"sns.jointplot(x=df['room_num'],y=df['price'],data=df,kind='reg')","fdfda5de":"X_multi = df.drop('price',axis=1)","473b9261":"y_multi = df['price']","85828424":"y_multi.head()","9d62737b":"X_multi_cons = sn.add_constant(X_multi)","914c1e57":"X_multi_cons.head()","a3af8df5":"lm_multi = sn.OLS(y_multi,X_multi_cons).fit()","b1b717f4":"lm_multi.summary()","d7aeaca3":"lm3 = LinearRegression()","571f0091":"lm3.fit(X_multi,y_multi)","055efba0":"print(lm3.intercept_,lm3.coef_)","1f5cedb5":"from sklearn.model_selection import train_test_split","d69305fb":"X_train, X_test, y_train, y_test = train_test_split(X_multi,y_multi,test_size = 0.2,random_state=0)","d1126baf":"print(X_train.shape,X_test.shape,y_train.shape,y_test.shape)","49658d3b":"lm_a = LinearRegression()","362d3f59":"lm_a.fit(X_train,y_train)","6a68bf8d":"y_test_a = lm_a.predict(X_test)","7b4fc08f":"y_train_a = lm_a.predict(X_train)","a8c45b63":"from sklearn.metrics import r2_score","2d003bc7":"r2_score(y_test,y_test_a)","33c0ff1b":"r2_score(y_train,y_train_a)","58bf5f0e":"House price is dependent on ","322933b6":"number of dummy variables must be (n-1)","c25ac2e2":" __Missing Value Treatment__","c563208f":"__Outlier Treatment__","1000f00f":"Capping and Flooring -\nFind the upper limit and lower limit and change the data which is beyond those values.","b96783fa":"##### Univariate Analysis On the Continuous variables:","9a38d1a3":"# Problem statement\n__Prediction Question:__ <br>\nHow accurately can I predict the price of a house, given the values of all variables? ","a34e8a25":"All the variables have 506 values except \"n_hos_beds\" which has 498 values, which means it has missing values.","6898436f":"- As the crime_rate increase the \"price\" decreases. There might be negative colinearity between these features.<br>\n- As the \"room_num\" increases the \"price\" increases too.<br>\n- In \"n_hot_rooms\" variable, most of the data lies between 1 & 20 but there are 2 outliers.<br>\n- \"rainfall\" variable has most of the data between 20 & 60 but there is one outlier below 10 which might be a sampling error or calculation error. ","7ae5ef2e":"##### Univariate Analysis On the Categorical variables:","ac313757":"Missing values in n_hot_rooms\nSkewness or outliers in crime rate\nOutliers in n_hot_rooms and rainfall\nBus_ter has only 'Yes' value.","46bcaf5a":"With the Base model we are getting a accuracy of 54%.","599650ea":"Predicted house prices.","7087db63":"__Linear Regression model__","61eb0bf3":"The curve looks like a logarthemic curve and we need to transform this curve to get the linear relationship between x and y.\nSince more values are near 0, we will add 1 to crime rate.","a7513267":"When 2 independendent variables are highly correlated with each other we keep only the variable which is highly correalted with the dependent variable and drop the other.\n\"air_quality\" and \"parks\" are highly correlated to each other and \"air_quality\" is highly correlated with the \"price\" variable so we drop \"parks\" variable.","04e59c81":"As \"crime_rate\" increases the price drops. ","c7fa2575":"\"bus_ter\" variable has only one class which is 'YES'.\nThis may not be usefull in our data as it will not provide any differntiating power to the dependent variable.","df2ecef8":"__Bivariate Analysis__","b25aad06":"\"crime_rate\" & \"n_hot_rooms\" are highly right skewed","2584d67e":"Dropped the distance variables and even bus_ter as it doesn't provide any differentiation."}}