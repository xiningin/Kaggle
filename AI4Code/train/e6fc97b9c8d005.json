{"cell_type":{"f0273a25":"code","b12dd01d":"code","2577bfdb":"code","208fccc5":"code","a3e149e1":"code","ae2d3d8b":"code","5049a430":"code","e1671bc2":"code","e43a7a21":"code","3150ec84":"code","c6ce6caa":"code","c10d1be2":"code","3c449a83":"code","0e7c3a7f":"code","5c59a2c9":"code","86201a98":"code","f9df8223":"code","051cab11":"code","44a90990":"code","79d25a0f":"code","c2e20568":"code","e9d0c7b4":"code","303345fe":"code","e514b36f":"code","cf1a6aaa":"code","0d691e74":"code","a1161cf1":"code","511ef3cb":"code","b7b70747":"code","586c47a8":"code","d153446f":"code","ae19a54f":"code","73cf453e":"code","979f35b9":"code","efdd6c3b":"code","e48e933b":"code","a6fa0113":"code","e6be49a1":"code","375a097e":"code","39f9b875":"code","12c66597":"code","931b68c6":"code","c908c53a":"code","4c4b68f9":"code","240a00a9":"code","af8e7513":"code","07d7f79f":"code","dfdbfdac":"code","6cd02446":"code","b726d5bb":"code","2fa1cc6a":"markdown","e8e616b9":"markdown","4dfac180":"markdown","497b9d3e":"markdown","bec7653b":"markdown","b2723a53":"markdown","3d6c43ad":"markdown","842a67e0":"markdown","281d9ad1":"markdown","438388d5":"markdown","1ae0aa53":"markdown","7810ce4a":"markdown","64fa5b7f":"markdown","ab9cd296":"markdown","f2d689e0":"markdown","c4621338":"markdown","cabe8813":"markdown","e3d00573":"markdown","1f05e4fb":"markdown","1a0ae9c5":"markdown","cb3c0248":"markdown","1e7f473b":"markdown","a34f8d97":"markdown","561ce6e9":"markdown","d1b8a278":"markdown","644718a1":"markdown","3de115b7":"markdown","b772835f":"markdown","dded37f7":"markdown","5e7ab776":"markdown","98bdcff5":"markdown","4c76b85b":"markdown","8bc6604e":"markdown","39afcf7b":"markdown","abd27ee0":"markdown","c38450c6":"markdown","3405a49d":"markdown","a025f194":"markdown","247c85df":"markdown","44eed0a6":"markdown","80ad2598":"markdown","60c53097":"markdown","6b00e159":"markdown","175f5628":"markdown","98dc885a":"markdown","cec11b75":"markdown","5425d0bb":"markdown","20b8e54d":"markdown","3d8341fe":"markdown","09af0546":"markdown","91c05525":"markdown","ac50f9ce":"markdown","2bff3fe5":"markdown","885d5c3e":"markdown","75931496":"markdown","4a3b175a":"markdown","20fda15e":"markdown","bb0e8768":"markdown","25d4c68f":"markdown","8a94196b":"markdown","56a4891f":"markdown","d62f8545":"markdown","f720d65a":"markdown","4a182cd4":"markdown","55bfddf4":"markdown","a6d0c0e3":"markdown","5e334be7":"markdown","465b4245":"markdown","62bdb4db":"markdown","3829d2ba":"markdown","a8af6af2":"markdown","ecc92329":"markdown","08d54f71":"markdown","73f29cb8":"markdown","8a488de3":"markdown","314f924d":"markdown","90d5c954":"markdown","4befa38f":"markdown","27eb2f47":"markdown","d07d9fbc":"markdown","1bb28529":"markdown","44a141cd":"markdown","cebdd4f5":"markdown","2bf6e400":"markdown","a7052667":"markdown","65c7c1c6":"markdown","12a1b697":"markdown","42412f52":"markdown","b37df332":"markdown","3f52ecfc":"markdown","ddb26836":"markdown","cf16b277":"markdown","30b610a1":"markdown","4ff8f4c5":"markdown","56b21f7c":"markdown","e970c461":"markdown","76d8af2d":"markdown","b2a063e2":"markdown","56a99c6e":"markdown","b6d86233":"markdown"},"source":{"f0273a25":"import warnings\n\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\n\npd.options.display.max_rows = None\nwarnings.filterwarnings(\"ignore\")","b12dd01d":"# Load two datasets\ndiamonds = sns.load_dataset(\"diamonds\")\ntips = sns.load_dataset(\"tips\")","2577bfdb":"# Mind the [0] at the end\ndiamonds[\"cut_enc\"] = pd.factorize(diamonds[\"cut\"])[0]\n\ndiamonds[\"cut_enc\"].sample(5)","208fccc5":"codes, unique = pd.factorize(diamonds[\"cut\"], sort=True)\n\ncodes[:10]","a3e149e1":"unique","ae2d3d8b":"data = pd.Series([1, 6, 7, [46, 56, 49], 45, [15, 10, 12]]).to_frame(\"dirty\")\ndata","5049a430":"data.explode(\"dirty\", ignore_index=True)","e1671bc2":"subset = diamonds.loc[diamonds.index < 1, [\"price\"]]\nsubset","e43a7a21":"subset.squeeze()","3150ec84":"subset.squeeze(\"columns\")  # or \"rows\"","c6ce6caa":"# Get diamonds that are priced between 3500 and 3700 dollars\ndiamonds[diamonds[\"price\"].between(3500, 3700, inclusive=\"neither\")].sample(5)","c10d1be2":"## HIDE\nfrom sklearn.datasets import load_boston\n\nbunch = load_boston()\nboston = pd.DataFrame(bunch[\"data\"], columns=bunch[\"feature_names\"])","3c449a83":"boston.describe().T.head(10)","0e7c3a7f":"## HIDE\ndiabetes = pd.read_csv(\"https:\/\/raw.githubusercontent.com\/BexTuychiev\/medium_stories\/master\/2021\/august\/1_pandas_funcs\/data\/diabetes.csv\")","5c59a2c9":"diabetes.describe().T.drop(\"count\", axis=1).style.highlight_max(color=\"darkred\")","86201a98":"diabetes.describe().T.drop(\"count\", axis=1).style.background_gradient(\n    subset=[\"mean\", \"50%\"], cmap=\"Reds\"\n)","f9df8223":"dir(pd.options)","051cab11":"dir(pd.options.display)","44a90990":"# Remove the limit to display the number of cols\npd.options.display.max_columns = None\n\n# Only show 5 numbers after the decimal\npd.options.display.precision = 5  # gets rid of scientific notation","79d25a0f":"sample = pd.read_csv(\n    \"https:\/\/raw.githubusercontent.com\/BexTuychiev\/medium_stories\/master\/2021\/august\/1_pandas_funcs\/data\/station_day.csv\",\n    usecols=[\"StationId\", \"CO\", \"O3\", \"AQI_Bucket\"],\n)\nsample.dtypes","c2e20568":"sample.convert_dtypes().dtypes","e9d0c7b4":"# Choose only numerical columns\ndiamonds.select_dtypes(include=np.number).head()","303345fe":"# Exclude numerical columns\ndiamonds.select_dtypes(exclude=np.number).head()","e514b36f":"# Create sample data\nages = pd.Series([55, 52, 50, 66, 57, 59, 49, 60]).to_frame(\"ages\")\n\nages","cf1a6aaa":"ages.mask(cond=~ages[\"ages\"].between(50, 60), other=np.nan)","0d691e74":"index = [\"Diamonds\", \"Titanic\", \"Iris\", \"Heart Disease\", \"Loan Default\"]\nlibraries = [\"XGBoost\", \"CatBoost\", \"LightGBM\", \"Sklearn GB\"]\ndf = pd.DataFrame(\n    {lib: np.random.uniform(90, 100, 5) for lib in libraries}, index=index\n)\n\ndf","a1161cf1":"df.max(axis=1)","511ef3cb":"diamonds.nlargest(5, \"price\")","b7b70747":"diamonds.nsmallest(5, \"price\")","586c47a8":"diamonds.price.idxmax()","d153446f":"diamonds.carat.idxmin()","ae19a54f":"ames_housing = pd.read_csv(\"..\/input\/house-prices-advanced-regression-techniques\/train.csv\")\n\names_housing[\"FireplaceQu\"].value_counts(dropna=False, normalize=True)","73cf453e":"ages","979f35b9":"ages.clip(50, 60)","efdd6c3b":"index = pd.date_range(\"2021-08-01\", periods=100, freq=\"H\")\ndata = pd.DataFrame({\"col\": list(range(100))}, index=index)\n\ndata.head()","e48e933b":"data.at_time(\"15:00\")","a6fa0113":"from datetime import datetime\n\ndata.between_time(\"09:45\", \"12:00\")","e6be49a1":"series = pd.bdate_range(\"2021-01-01\", \"2021-01-31\")  # A period of one month\nlen(series)","375a097e":"## HIDE\n# Prep the data for an example\ndt = pd.date_range(\"2021-01-01\", periods=len(tips))\ntips.index = dt\n\ntime_series = tips[[\"tip\"]]","39f9b875":"time_series[\"lag_1\"] = time_series[\"tip\"].shift(1)\ntime_series[\"lag_2\"] = time_series[\"tip\"].shift(2)\ntime_series[\"lag_3\"] = time_series[\"tip\"].shift(3)\ntime_series[\"lag_4\"] = time_series[\"tip\"].shift(4)\n# time_series['lag_k'] = time_series['tip'].shift(k)\n\ntime_series.head()","12c66597":"# Autocorrelation of tip at lag_10\ntime_series[\"tip\"].autocorr(lag=8)","931b68c6":"series = pd.Series([2, 4, 6, \"sadf\", np.nan])\nseries.hasnans","c908c53a":"# [index, label]\ndiamonds.at[234, \"cut\"]","4c4b68f9":"# [index, index]\ndiamonds.iat[1564, 4]","240a00a9":"# Replace 16541th row of the price column\ndiamonds.at[16541, \"price\"] = 10000","af8e7513":"tips.reset_index(inplace=True, drop=True)\n\nsort_idx = tips[\"total_bill\"].argsort(kind=\"mergesort\")\n\n# Now, sort `tips` based on total_bill\ntips.iloc[sort_idx].head()","07d7f79f":"diamonds.dtypes","dfdbfdac":"diamonds[\"cut\"].cat.categories","6cd02446":"diamonds[\"new_cuts\"] = diamonds[\"cut\"].cat.rename_categories(list(\"ABCDE\"))\ndiamonds[\"new_cuts\"].cat.categories","b726d5bb":"diamonds.groupby(\"cut\").nth(5)","2fa1cc6a":"The above fake DataFrame is a point-performance of 4 different gradient boosting libraries on 5 datasets. We want to find the library that performed best at each dataset. Here is how you do it elegantly with `max`:","e8e616b9":"These two can be useful when working with time-series that have high granularity. \n\n`at_time` allows you to subset values at a specific date or time. Consider this time series:","4dfac180":"When a column is `category`, you can use several special functions using the `cat` accessor. For example, let's see the unique categories of diamond cuts:","497b9d3e":"When you call `max` or `min` on a column, pandas returns the value that is largest\/smallest. However, sometimes you want the *position* of the min\/max, which is not possible with these functions.\n\nInstead, you should use `idxmax`\/`idxmin`:","bec7653b":"Even though there is just one cell, it is returned as a DataFrame. This can be annoying since you now have to use\u00a0`.loc` again with both the column name and index to access the price.\n\nBut, if you know `squeeze`, you don't have to. The function enables you to remove an axis from a single-cell DataFrame or Series. For example:","b2723a53":"## You might also be interested...\n- [My 6-part Powerful EDA Template](https:\/\/www.kaggle.com\/bextuychiev\/my-6-part-powerful-eda-template)\n- [\nLasso regression with Pipelines (Tutorial)](https:\/\/www.kaggle.com\/bextuychiev\/lasso-regression-with-pipelines-tutorial)\n- [Awesome EDA + XGBoost CV Baseline](https:\/\/www.kaggle.com\/bextuychiev\/relevant-eda-xgboost-cv-baseline)","3d6c43ad":"## 15. `idxmax` and `idxmin`","842a67e0":"You can read more about the importance of autocorrelation in time-series analysis from this [post](https:\/\/towardsdatascience.com\/advanced-time-series-analysis-in-python-decomposition-autocorrelation-115aa64f475e).","281d9ad1":"## 7. `T`","438388d5":"We all know that pandas has an annoying tendency to mark some columns as `object` data type. Instead of manually specifying their types, you can use `convert_dtypes` method which tries to infer the best data type:","1ae0aa53":"## 8. Pandas Styler","7810ce4a":"This function is a pandas alternative to Sklearn's `LabelEncoder`:","64fa5b7f":"There are options under `display` but I mostly use `max_columns` and `precision`:","ab9cd296":"Pandas offers a quick method to check if a given series contains any nulls with `hasnans` attribute:","f2d689e0":"![](https:\/\/images.unsplash.com\/photo-1567446042109-8a62d37fea07?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80)\n<figcaption style=\"text-align: center;\">\n    <strong>\n        Photo by \n        <a href='https:\/\/unsplash.com\/@joshuas?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText'>Joshua Sukoff<\/a>\n        on \n        <a href='https:\/\/unsplash.com\/s\/photos\/explode?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText'>Unsplash<\/a>\n    <\/strong>\n<\/figcaption>","c4621338":"## 23. `argsort`","cabe8813":"Fireplace quality of Ames housing dataset consists of 47% nulls.","e3d00573":"Business-day frequencies are common in the financial world. So, this function may come in handy when reindexing existing time-series with `reindex` function.","1f05e4fb":"## Setup","1a0ae9c5":"Sometimes you don't just want the min\/max of a column. You want to see the top N or ~(top N) values of a variable. This is where `nlargest` and `nsmallest` comes in handy.\n\nLet's see the top 5 most expensive and cheapest diamonds:","cb3c0248":"`explode` takes a cell with an array-like value and explodes it into multiple rows. Set `ignore_index` to True to keep the ordering of a numeric index.","1e7f473b":"You can check out the [documentation](https:\/\/pandas.pydata.org\/pandas-docs\/stable\/user_guide\/options.html) to dig deeper into this wonderful feature.","a34f8d97":"## Summary","561ce6e9":"A common operation to find the percentage of missing values in a column is to chain `isnull` and `sum` and divide by the length of the array. \n\nBut, you can do the same thing with `value_counts` with relevant arguments:","d1b8a278":"It is common knowledge that Pandas enables to use built-in Python functions on dates and strings using accessors like `dt` or `str`. \n\nPandas also has a special `category` data type for categorical variables as can be seen below:","644718a1":"## 14. `nlargest` and `nsmallest`","3de115b7":"Did you know that Pandas allows you to style DataFrames?\n\nThey have a `style` attribute which opens doors to customizations and styles only limited by your HTML and CSS knowledge. I won't discuss the full details of what you can do with `style` but only show you my favorite functions:","b772835f":"A function with an interesting name is `explode`. Let's see an example first and then, explain:","dded37f7":"This time, we will replace the out-of-range ages with the hard limits of 50 and 60:","5e7ab776":"![](https:\/\/images.pexels.com\/photos\/192473\/pexels-photo-192473.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940)\n<figcaption style=\"text-align: center;\">\n    <strong>\n        Photo by \n        <a href='https:\/\/www.pexels.com\/@leah-kelley-50725?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels'>Leah Kelley<\/a>\n        on \n        <a href='https:\/\/www.pexels.com\/photo\/grayscale-photo-of-man-holding-tobacco-pipe-192473\/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels'>Pexels<\/a>\n    <\/strong>\n<\/figcaption>","98bdcff5":"# 25 Pandas Functions You Didn't Know Existed | P(Guarantee) = 0.8\n## ExcelWriter, factorize, explode, squeeze, T, mask, idxmax, clip, ...\n![](https:\/\/images.pexels.com\/photos\/5199661\/pexels-photo-5199661.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940)\n<figcaption style=\"text-align: center;\">\n    <strong>\n        Photo by \n        <a href='https:\/\/www.pexels.com\/@introspectivedsgn?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels'>Erik Mclean<\/a>\n        on \n        <a href='https:\/\/www.pexels.com\/photo\/unrecognizable-man-in-panda-head-sitting-near-car-5199661\/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels'>Pexels.<\/a> All images are by the author unless specified otherwise.\n    <\/strong>\n<\/figcaption>","4c76b85b":"Unlike `LabelEncoder`, `factorize` returns a tuple of two values: the encoded column and a list of the unique categories:","8bc6604e":"Even though libraries like Dask and datatable are slowly winning over Pandas with their shiny new features for handling massive datasets, Pandas still remains the most widely-used data manipulation tool in Python data science ecosystem.\n\nThe library still remains as a role-model for other packages to imitate and improve upon, as it integrates into the modern SciPy stack so well. Thank you for reading!","39afcf7b":"`ExcelWriter` is a generic class for creating excel files (with sheets!) and writing DataFrames to them. Let's say we have these 2:","abd27ee0":"![](https:\/\/images.pexels.com\/photos\/2448452\/pexels-photo-2448452.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940)\n<figcaption style=\"text-align: center;\">\n    <strong>\n        Photo by \n        <a href='https:\/\/www.pexels.com\/@ann-h-45017?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels'>Ann H<\/a>\n        on \n        <a href='https:\/\/www.pexels.com\/photo\/a-lot-of-paper-clips-2448452\/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels'>Pexels<\/a><\/strong>\n<\/figcaption>","c38450c6":"One of the critical components in time-series analysis is examining the autocorrelation of a variable. \n\nAutocorrelation is the plain-old correlation coefficient but it is calculated with the lagging version of a time series. \n\nIn more detail, autocorrelation of a time series at `lag=k` is calculated as follows:\n\n1. The time-series is shifted till `k` periods:","3405a49d":"Cool, huh? Now, let's use `between_time` to select rows within a custom interval:","a025f194":"```python\n# Write to the same excel file\nwith pd.ExcelWriter(\"data.xlsx\") as writer:\n\n    diamonds.to_excel(writer, sheet_name=\"diamonds\")\n    tips.to_excel(writer, sheet_name=\"tips\")\n```","247c85df":"## 2. `pipe`","44eed0a6":"Even though `min` and `max` functions are well-known, they have another useful property for some edge-cases. Consider this dataset:","80ad2598":"Above, we are highlighting cells that hold the maximum value of a column. Another cool styler is `background_gradient` which can give columns a gradient background color based on their values:","60c53097":"## 19. `bdate_range`","6b00e159":"## 20. `autocorr`","175f5628":"## 1. `ExcelWriter`","98dc885a":"Outlier detection and removal is common in data analysis. \n\n`clip` function makes it really easy to find outliers outside a range and replacing them with the hard limits. \n\nLet's go back to the ages example:","cec11b75":"I like how this function resembles [Sklearn pipelines](https:\/\/towardsdatascience.com\/how-to-use-sklearn-pipelines-for-ridiculously-neat-code-a61ab66ca90d). There is more you can do with it, so check out the [documentation](https:\/\/pandas.pydata.org\/docs\/reference\/api\/pandas.DataFrame.pipe.html) or this [helpful article](https:\/\/towardsdatascience.com\/a-better-way-for-data-preprocessing-pandas-pipe-a08336a012bc).","5425d0bb":"## 21. `hasnans`","20b8e54d":"According to its [documentation](https:\/\/pandas.pydata.org\/pandas-docs\/stable\/reference\/api\/pandas.Series.hasnans.html), it enables various performance increases. Note that the attribute works only on `pd.Series`.","3d8341fe":"You can also specify the `columns` axis, in which case the functions return the index number of the column.","09af0546":"A rather nifty function for boolean indexing numeric features within a range:","91c05525":"A function I use all the time is `select_dtypes`. I think it is obvious what the function does from its name. It has `include` and `exclude` parameters that you can use to select columns including or excluding certain data types.\n\nFor example, choose only numeric columns with `np.number`:","ac50f9ce":"\"I wish I could do this operation in Pandas\u2026.\"\n\nWell, chances are, you can!\n\nPandas is so vast and deep that it enables you to execute virtually any tabular manipulation you can think of. However, this vastness sometimes comes at a disadvantage.\n\nMany elegant features that solve rare edge-cases, unique scenarios are lost in the documentation, shadowed by the more frequently used functions.\n\nThis kernel aims to rediscover those features and show you that Pandas is more capable than you ever knew.","2bff3fe5":"```python\ndf_preprocessed = (diamonds.pipe(drop_duplicates).\n                            pipe(remove_outliers, ['price', 'carat', 'depth']).\n                            pipe(encode_categoricals, ['cut', 'color', 'clarity'])\n                  )\n```","885d5c3e":"![](https:\/\/images.unsplash.com\/photo-1596806082495-fb05004cfe49?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=769&q=80)\n<figcaption style=\"text-align: center;\">\n    <strong>\n        Photo by \n        <a href='https:\/\/unsplash.com\/@jujudreaminx?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText'>Justin Dream<\/a>\n        on \n        <a href='https:\/\/unsplash.com\/s\/photos\/between?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText'>Pexels<\/a>\n    <\/strong>\n<\/figcaption>","75931496":"So, `mask` replaces values that don't meet `cond` with `other`.","4a3b175a":"`mask` allows you to quickly replace cell values where a custom condition is true. \n\nFor example, let's say we have a survey data collected from people aged 50-60.","20fda15e":"`bdate_range` is a short-hand function to create TimeSeries indices with business-day frequency:","bb0e8768":"## Introduction","25d4c68f":"Now, only the scalar is returned. It is also possible to specify the axis to remove:","8a94196b":"Note that `squeeze` only works for DataFrames or Series with single values.","56a4891f":"2. Correlation is calculated between the original `tip` and each `lag_*`. \n\nInstead of doing all this manually, you can use the `autocorr` function of Pandas:","d62f8545":"## 10. `convert_dtypes`","f720d65a":"## 16. `value_counts` with `dropna=False`","4a182cd4":"## 18. `at_time` and `between_time`","55bfddf4":"Just change the axis to 1 and you get a row-wise max\/min. ","a6d0c0e3":"`pipe` is one of the best functions for doing data cleaning in a concise, compact manner in Pandas. It allows you to chain multiple custom functions into a single operation.\n\nFor example, let's say you have functions to `drop_duplicates`, `remove_outliers`, `encode_categoricals` that accept their own arguments. Here is how you apply all three in a single operation:","5e334be7":"The Boston housing dataset has 30 numeric columns. If you call `describe` as-is, the DataFrame will stretch horizontally, making it hard to compare the statistics. Taking the transpose will switch the axes so that summary statistics are given in columns.","465b4245":"## 25. `GroupBy.nth`","62bdb4db":"## 13. `min` and `max` along the columns axis","3829d2ba":"Like Matplotlib, pandas has global settings that you can tweak to change the default behaviors:","a8af6af2":"The `dirty` column has two rows where values are recorded as actual lists. You may often see this type of data in surveys as some questions accept multiple answers.","ecc92329":"Fast and efficient!","08d54f71":"## 9. Pandas options","73f29cb8":"Let's select all rows at 3 PM:","8a488de3":"It has additional attributes to specify the DateTime format to be used, whether you want to create a new excel file or modify an existing one, what happens when a sheet exists, etc. Check out the details from the [documentation](https:\/\/pandas.pydata.org\/pandas-docs\/stable\/reference\/api\/pandas.ExcelWriter.html).","314f924d":"You should use this function when you want to extract the indices that would sort an array:","90d5c954":"These two accessors are much faster alternatives to `loc` and `iloc` with a disadvantage. They only allow selecting or replacing a single value at a time:","4befa38f":"![](https:\/\/images.pexels.com\/photos\/258083\/pexels-photo-258083.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940)\n<figcaption style=\"text-align: center;\">\n    <strong>\n        Photo by \n        <a href='https:\/\/www.pexels.com\/@pixabay?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels'>Pixabay<\/a>\n        on \n        <a href='https:\/\/www.pexels.com\/photo\/close-up-of-illuminated-text-against-black-background-258083\/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels'>Pexels<\/a>\n    <\/strong>\n<\/figcaption>","27eb2f47":"We will treat ages that are outside 50-60 range (there are two, 49 and 66) as data entry mistakes and replace them with NaNs.","d07d9fbc":"![](https:\/\/images.pexels.com\/photos\/5875701\/pexels-photo-5875701.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940)\n<figcaption style=\"text-align: center;\">\n    <strong>\n        Photo by \n        <a href='https:\/\/www.pexels.com\/@cottonbro?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels'>cottonbro<\/a>\n        on \n        <a href='https:\/\/www.pexels.com\/photo\/close-up-photo-of-sausage-5875701\/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels'>Pexels.<\/a>\n    <\/strong>\n<\/figcaption>","1bb28529":"This function only works with `GroupBy` objects. Specifically, after grouping, `nth` returns the nth row from each group:","44a141cd":"## 5. `squeeze`","cebdd4f5":"## 12. `mask`","2bf6e400":"## 3. `factorize`","a7052667":"## 11. `select_dtypes`","65c7c1c6":"## 4. `explode` - \ud83e\udd2f\ud83e\udd2f","12a1b697":"## 17. `clip`","42412f52":"![](https:\/\/images.pexels.com\/photos\/38275\/anonymous-studio-figure-photography-facial-mask-38275.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940)\n<figcaption style=\"text-align: center;\">\n    <strong>\n        Photo by \n        <a href='https:\/\/www.pexels.com\/@pixabay?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels'>Pixabay<\/a>\n        on \n        <a href='https:\/\/www.pexels.com\/photo\/photo-of-guy-fawkes-mask-with-red-flower-on-top-on-hand-38275\/?utm_content=attributionCopyText&utm_medium=referral&utm_source=pexels'>Pexels.<\/a>\n    <\/strong>\n<\/figcaption>","b37df332":"All DataFrames have a simple `T` attribute, which stands for transpose. You may not use it often, but I find it quite useful when displaying DataFrames of the `describe` method:","3f52ecfc":"Unfortunately, it can't pares dates due to the caveats of different date time formats.","ddb26836":"You can see the full list of functions under the `cat` accessor [here](https:\/\/pandas.pydata.org\/pandas-docs\/stable\/reference\/series.html#categorical-accessor).","cf16b277":"This feature comes especially handy when you are using `describe` on a table with many columns and want to compare summary statistics. Check out the documentation of the styler [here](https:\/\/pandas.pydata.org\/docs\/reference\/style.html).","30b610a1":"Or `exclude` them:","4ff8f4c5":"## 22. `at` and `iat`","56b21f7c":"Another function with a funky name is `squeeze` and is used in very rare but annoying edge cases.\n\nOne of these cases is when a single value is returned from a condition used to subset a DataFrame. Consider this example:","e970c461":"## 24. `cat` accessor","76d8af2d":"## 6. between","b2a063e2":"Note that both functions require a DateTimeIndex and they only work with times (as in *o'clock*). If you want to subset within a DateTime interval, use `between`.","56a99c6e":"These settings are divided into 5 modules. Let's see what settings are there under `display`:","b6d86233":"There are also functions like `remove_categories` or `rename_categories`, etc.:"}}