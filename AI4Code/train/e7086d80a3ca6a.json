{"cell_type":{"bd4f7009":"code","e5f8ee3f":"code","c2cd8b34":"code","7cbaa15c":"code","c154a75e":"code","c81f6b61":"code","a3595900":"code","6a27a0ff":"code","0e4c8949":"code","0a382e59":"code","274fa7f3":"code","b34342f0":"code","5aa4ffa3":"code","a6e734af":"code","f9874a57":"code","1f5e4e44":"code","93f6e512":"code","45e6378a":"code","0210c063":"code","512d5462":"code","5880bbc5":"code","fe6755f8":"code","5cfe7d04":"code","78399e76":"markdown","fce72be5":"markdown","1ef2c6df":"markdown","06e7a721":"markdown","0a7936fe":"markdown","06d736c6":"markdown","5dce4700":"markdown","2e507b10":"markdown","092b0fe5":"markdown","7f99cf61":"markdown","9676b54e":"markdown","ce659eaf":"markdown","0679cda5":"markdown","27b49868":"markdown","665a39db":"markdown","47ac2169":"markdown","c5768b3f":"markdown","8b5571a3":"markdown","e592f921":"markdown","fad03815":"markdown","fdf5c5e4":"markdown","d17f4307":"markdown","8e0bf106":"markdown","47d1fa1f":"markdown","3efe281c":"markdown","9a67565d":"markdown","50dfbb9f":"markdown","54048266":"markdown","6989cdf5":"markdown","f6f4a7bd":"markdown","ebac4941":"markdown","a31f02bf":"markdown","3230edd1":"markdown","4b1ee6fd":"markdown"},"source":{"bd4f7009":"import warnings #to ignore any warnings\nwarnings.filterwarnings('ignore')","e5f8ee3f":"import numpy as np \nimport pandas as pd\n\nimport matplotlib.pyplot as plt\n\nimport seaborn as sns\nsns.set_style(\"darkgrid\")\nimport plotly.express as px\n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n","c2cd8b34":"df = pd.read_csv('\/kaggle\/input\/fertilizers-by-product-fao\/FertilizersProduct.csv',encoding = \"ISO-8859-1\", header = 0, sep = \",\")\ndf.head()","7cbaa15c":"df.tail()","c154a75e":"df.info()","c81f6b61":"df.columns  = df.columns.str.lower()\ndf.columns = df.columns.str.replace(' ','_')\ndf.head()","a3595900":"df.drop(['area_code','item_code','element_code','year_code','flag'], axis = 1, inplace = True)\ndf.head()","6a27a0ff":"df.duplicated().any()","0e4c8949":"df[\"element\"].value_counts(normalize = True).plot(kind = \"barh\", figsize = (10,5))\nplt.show()","0a382e59":"df1 = df.area.value_counts().head(10).reset_index()\ndf1 = df1.rename(columns = {'index':'Countries','area':'No. of Fertilizers'})\nfig = px.bar(df1, x = 'No. of Fertilizers', y= 'Countries', orientation='h', title = 'Top 10 Countries with Most Fertilizers used')\nfig.show()","274fa7f3":"df_exp = df[df[\"element\"] == \"Export Quantity\"]\n\ndf_exp = df_exp.area.value_counts().head(10).reset_index()\ndf_exp = df_exp.rename(columns = {'index':'Countries','area':'No. of Fertilizers'})\nfig = px.bar(df_exp, x = 'No. of Fertilizers', y= 'Countries', orientation='h', title = 'Top 10 Countries with Most Fertilizers exported')\nfig.show()","b34342f0":"df_imp = df[df[\"element\"] == \"Import Quantity\"]\n\ndf_imp = df_imp.area.value_counts().head(10).reset_index()\ndf_imp = df_imp.rename(columns = {'index':'Countries','area':'No. of Fertilizers'})\nfig = px.bar(df_imp, x = 'No. of Fertilizers', y= 'Countries', orientation='h', title = 'Top 10 Countries with Most Fertilizers imported')\nfig.show()","5aa4ffa3":"df_agr = df[df[\"element\"] == \"Agricultural Use\"]\n\ndf_agr = df_agr.area.value_counts().head(10).reset_index()\ndf_agr = df_agr.rename(columns = {'index':'Countries','area':'No. of Fertilizers'})\nfig = px.bar(df_agr, x = 'No. of Fertilizers', y= 'Countries', orientation='h', title = 'Top 10 Countries with Most Fertilizers used agriculturally')\nfig.show()","a6e734af":"df_prod = df[df[\"element\"] == \"Production\"]\n\ndf_prod = df_prod.area.value_counts().head(10).reset_index()\ndf_prod = df_prod.rename(columns = {'index':'Countries','area':'No. of Fertilizers'})\nfig = px.bar(df_prod, x = 'No. of Fertilizers', y= 'Countries', orientation='h', title = 'Top 10 Countries with Most Fertilizers Produced')\nfig.show()","f9874a57":"India = df[df.area == 'India'] # creating a new dataframe where the area is India\nIndia.drop(\"area\", axis = 1, inplace = True) # since we just have a single area, having an area column is no longer required\nIndia.head()","1f5e4e44":"India.shape","93f6e512":"plt.figure(figsize=(20,7.5))\nsns.countplot(x = 'item', data=India, hue = 'element')\nplt.title(\"Quantity of Fertilizers used for different purposes\", size = 18)\nplt.xlabel(\"Fertilizers\", size = 14)\nplt.ylabel(\"Quantity of Fertilizers\", size = 14)\n\nplt.xticks(rotation = 90)\nplt.show()\n","45e6378a":"df_prod = India[India.element == 'Production'] # creating a new dataframe which contains data of only Production use in India\n\n\nfig = px.area(df_prod, x = 'year', y = 'value', color = 'item',title = 'Fertilizers produced over the years 2002-2017 in India', line_group = 'item')\nfig.update_layout(legend_orientation = 'h',height = 600)\nfig.show()","0210c063":"df_agr = India[India.element == 'Agricultural Use'] # creating a new dataframe which contains data of only Agricultural use in India\n\n\nfig = px.area(df_agr, x = 'year', y = 'value', color = 'item',title = 'Fertilizers used over the years 2002-2017 in India', line_group = 'item')\nfig.update_layout(legend_orientation = 'h',height = 600)\n\nfig.show()","512d5462":"#getting all the data where element is export quantity\ndf_equan = India[India.element == 'Export Quantity']\n\n#getting top 10 fertilizers that were exported\ntop_10_exp = df_equan.groupby('item')['value'].sum().sort_values(ascending = False).head(10).reset_index()\nfig = px.bar(top_10_exp, x = 'value', y = 'item', orientation = 'h', title = 'Top 10 Fertilizers Exported')\nfig.show()\n","5880bbc5":"\n#list to store the dataframes created for top 10 fertilizers\ndf_to_concat = []\n\nfor i in top_10_exp['item']:\n    items = df_equan[df_equan.item == i]\n    df_to_concat.append(items)\n    \nresult = pd.concat(df_to_concat)\n\n#plotting line graph\nfig_equan = px.line(result, x = 'year', y = 'value', color = 'item', title = 'Top 10 Fertilizers exported from 2002-2017')\nfig_equan.update_layout(legend_orientation = 'h', height= 600)\nfig_equan.show()\n","fe6755f8":"df_iquan = India[India.element == 'Import Quantity']\n\n#getting top 10 fertilizers that were imported\ntop_10_imp = df_iquan.groupby('item')['value'].sum().sort_values(ascending = False).head(10).reset_index()\nfig = px.bar(top_10_imp, x = 'value', y = 'item', orientation = 'h', title = 'Top 10 Fertilizers Imported')\nfig.show()","5cfe7d04":"\n#list to store the dataframes created for top 10 fertilizers\ndf_to_concat = []\n\nfor i in top_10_imp['item']:\n    items = df_iquan[df_iquan.item == i]\n    df_to_concat.append(items)\n    \nresult = pd.concat(df_to_concat)\n\n#plotting line graph\nfig_equan = px.line(result, x = 'year', y = 'value', color = 'item', title = 'Top 10 Fertilizers imported from 2002-2017')\nfig_equan.update_layout(legend_orientation = 'h', height = 600)\nfig_equan.show()\n","78399e76":"## Importing Libraries","fce72be5":"#### Different Uses for Each Fertilizer in India","1ef2c6df":"Over the years, India has increased the import of Phospate Rock and Urea. In 2008 and 2009, Diammonium Phosphate was being imported the most, but after that it has remained more or less constant.","06e7a721":"From the above graph we can see that Urea's production in India was the highest but only until 2016. It dropped drastically after 2016.\n","0a7936fe":"### Fertilizers in India for Agriculural Use over the years","06d736c6":"## Reading and Inspecting Data","5dce4700":"Checking for any duplicates","2e507b10":"As we can see from the above graph, majority of our fertilizers are being used for export and import, more for export purposes.\n\n\n**Now we will analyse Production, Trade (export and import) and Aglicuture use of Fertilizers in India in detail**","092b0fe5":"NPK fertlizers were exported the most.\n\nWe can also see that even though India produces Urea in high quantities, it doesn't export much.","7f99cf61":"## EDA","9676b54e":"### Top 10 Countries - Agricultural Use","ce659eaf":"Looking at how each fertilizer is being used i.e. how much a certain fertilizer is being used for Production, Agricultural use etc.","0679cda5":"### Trade - Export Quantity\n\nLooking at Top 10 fertilizers that are being exported from India","27b49868":"From the above we can see that Urea is the most used fertilizer for agriculture. It should not be too shocking since it was the most produced fertilizer in India as well. But from above we can also see that Urea is being used more than its being produced. So does India import and export Urea the most as well? ","665a39db":"## How has India been using fertilizers?","47ac2169":"India is not one of the Top 10 Countries to export fertilizers. United States of America, Spain, and Canada are in Top 10 countries to export, and they are in the top 10 countries for overall fertilizers used as well.","c5768b3f":"### Top 10 Countries - Import","8b5571a3":"### Top 10 Countries - Production Use","e592f921":"From above we can see that there are no null values in the dataframe. We can also see that all the columns are of the correct datatype\n\nTo have consistency in the column names, I'll change all the column names to the format : firstName_lastName","fad03815":"Removing irrelevant columns i.e. the columns that are not needed for the analysis like: area_code, item_code, element_code, year_code and flag","fdf5c5e4":"### Top 10 Countries - Export","d17f4307":"### Elements in the dataset","8e0bf106":"### Trade - Import Quantity\n\nLooking at Top 10 fertilizers that are being exported from India","47d1fa1f":"Phosphate rock is imported the most and after that Urea is imported the most. We had already established earlier that Urea was being used more than it was being produced, so it had to be imported in large quantities as well, which it is.","3efe281c":"### Fertilizers in India for Production Use over the years","9a67565d":"### Analysing Indian Market","50dfbb9f":"India is not one of the Top 10 Countries to use fertilizers agriculturally. Slovenia, Brazil, and Sweden are in Top 10 countries for agriculture use, and they are in the top 10 countries for overall fertilizers used as well.","54048266":"Above we can see that NPK fertilizers were either not getting exported or were being exported in very less quantity until 2008 and then by 2009 it became the most exported fertilizer. Even though it went down in 2010, the quantity increased steadily after that. A pattern has not been recognised by looking at the Top 10 Fertilizers that were exported from 2002-2017","6989cdf5":"We can see the Top 10 countries above that deal with fertilizers i.e. either producing, exporting, importing or using them. India is the Top 9th Country to do so.\n\nWill look at each use for top 10 countries in detail.","f6f4a7bd":"From above we can see that overall, the import quantity by countries is the most compared to what they produce, use and export.","ebac4941":"India is not one of the Top 10 Countries to produce fertilizers. Brazil, Denmark, Slovenia, and Poland are in Top 10 countries for production, and they are in the top 10 countries for overall fertilizers used as well.","a31f02bf":"### Top 10 Countries with most Fertilizer used","3230edd1":"India is not one of the Top 10 Countries to import fertilizers. Denmark, Canda, United States of America, and Spain are in Top 10 countries to import, and they are in the top 10 countries for overall fertilizers used as well.","4b1ee6fd":"1. India is not in Top 10 Countries list for each use separately, but India is the 9th top country for fertilizer use overall.\n2. We observed that **Urea** in India is the most produced fertilizer, but only until 2016. After the production of Urea decreased after 2016, Urea was getting imported in large ammounts. \n4. **NPK fertilizers** is the most exported fertilizer \n3. **Urea** is the most used fertilizer for agriculture in India.\n4. India produces, uses and imports fertilizers in large quantities, but the amount of fertilizers exported compared to other uses is very low. "}}