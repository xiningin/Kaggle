{"cell_type":{"aad30ed7":"code","9ae8e7d1":"code","d8b5bdf9":"code","c3371f84":"code","0a5ee9d0":"code","c2976dea":"code","42ef599b":"code","8c68aac6":"code","c142f3ce":"code","dcb61e7c":"code","8e786683":"code","6e515886":"code","ff200872":"code","6d59f5b1":"code","5a0e46a3":"code","9d4b4f4d":"code","1d3171ff":"code","0efbed9d":"code","68aeea0e":"code","13b1d4ec":"code","0877d134":"code","495b9b1c":"code","6238848e":"code","8f963962":"code","35968ba2":"code","7e4e2839":"code","4071ee57":"code","4cdb1df2":"code","4c7252eb":"markdown","8d4bf405":"markdown","3afde98b":"markdown","299926b1":"markdown","820dd75c":"markdown","e12f06bb":"markdown","e5935e57":"markdown","c389f75a":"markdown","5ea3e2c1":"markdown","e745f87c":"markdown","ace277a5":"markdown","80cd9b47":"markdown","423f9077":"markdown","848e9d18":"markdown","e52bd24a":"markdown","cad099bb":"markdown","f60301be":"markdown","bbe0e9e6":"markdown","65edc8ef":"markdown","2578cff9":"markdown","4a20b608":"markdown","35c672d0":"markdown","a1c6084d":"markdown","8a489af0":"markdown","0b84d0c6":"markdown","1bd316e2":"markdown"},"source":{"aad30ed7":"import os\nprint(os.listdir(\"..\/input\"))","9ae8e7d1":"import pandas as pd\nimport numpy as np","d8b5bdf9":"data = pd.read_csv('..\/input\/WA_Fn-UseC_-HR-Employee-Attrition.csv')\ndata.head()","c3371f84":"data.columns","0a5ee9d0":"data = data.drop(['EmployeeCount','EmployeeNumber','Over18','StandardHours'],axis=1)\ndata.columns","c2976dea":"data['MaritalStatus'].unique()","42ef599b":"data.loc[data['Attrition']=='No','Attrition'] = 0\ndata.loc[data['Attrition']=='Yes','Attrition'] = 1\ndata.head()","8c68aac6":"data['Business_Travel_Rarely']=0\ndata['Business_Travel_Frequently']=0\ndata['Business_Non-Travel']=0\n\ndata.loc[data['BusinessTravel']=='Travel_Rarely','Business_Travel_Rarely'] = 1\ndata.loc[data['BusinessTravel']=='Travel_Frequently','Business_Travel_Frequently'] = 1\ndata.loc[data['BusinessTravel']=='Non-Travel','Business_Non-Travel'] = 1","c142f3ce":"data['Life Sciences']=0\ndata['Medical']=0\ndata['Marketing']=0\ndata['Technical Degree']=0\ndata['Education Human Resources']=0\ndata['Education_Other']=0\n\ndata.loc[data['EducationField']=='Life Sciences','Life Sciences'] = 1\ndata.loc[data['EducationField']=='Medical','Medical'] = 1\ndata.loc[data['EducationField']=='Other','Education_Other'] = 1\ndata.loc[data['EducationField']=='Technical Degree','Technical Degree'] = 1\ndata.loc[data['EducationField']=='Human Resources','Education Human Resources'] = 1\ndata.loc[data['EducationField']=='Marketing','Marketing'] = 1","dcb61e7c":"data['Sales']=0\ndata['R&D']=0\ndata['Dept_Human Resources'] =0\n\ndata.loc[data['Department']=='Sales','Sales'] = 1\ndata.loc[data['Department']=='Research & Development','R&D'] = 1\ndata.loc[data['Department']=='Human Resources','Dept_Human Resources'] = 1","8e786683":"data.loc[data['Gender']=='Male','Gender'] = 1\ndata.loc[data['Gender']=='Female','Gender'] = 0","6e515886":"data['Research Scientist']=0\ndata['Laboratory Technician']=0\ndata['Sales Executive']=0\ndata['Manufacturing Director']=0\ndata['Healthcare Representative']=0\ndata['Sales Representative']=0\ndata['Research Director']=0\ndata['Manager'] = 0\ndata['Job_Human_Resources'] = 0\n\ndata.loc[data['JobRole']=='Research Scientist','Research Scientist'] = 1\ndata.loc[data['JobRole']=='Laboratory Technician','Laboratory Technician'] = 1\ndata.loc[data['JobRole']=='Sales Executive','Sales Executive'] = 1\ndata.loc[data['JobRole']=='Sales Representative','Sales Representative'] = 1\ndata.loc[data['JobRole']=='Manufacturing Director','Manufacturing Director'] = 1\ndata.loc[data['JobRole']=='Healthcare Representative','Healthcare Representative'] = 1\ndata.loc[data['JobRole']=='Research Director','Research Director'] = 1\ndata.loc[data['JobRole']=='Manager','Manager'] = 1\ndata.loc[data['JobRole']=='Human Resources','Job_Human_Resources'] = 1\ndata.head()","ff200872":"data['Marital_single']=0\ndata['Marital_married']=0\ndata['Marital_divorced']=0\n\ndata.loc[data['MaritalStatus']=='Married','Marital_married'] = 1\ndata.loc[data['MaritalStatus']=='Single','Marital_single'] = 1\ndata.loc[data['MaritalStatus']=='Divorced','Marital_divorced'] = 1","6d59f5b1":"data.loc[data['OverTime']=='No','OverTime'] = 0\ndata.loc[data['OverTime']=='Yes','OverTime'] = 1\ndata.head()","5a0e46a3":"data.columns","9d4b4f4d":"data = data.drop(['BusinessTravel','EducationField',\n                        'Department','JobRole','MaritalStatus'],axis=1)\ndata.head()","1d3171ff":"data.dtypes","0efbed9d":"data['Attrition'] = data['Attrition'].astype('int')\ndata['Gender'] = data['Gender'].astype('int')\ndata['OverTime'] = data['OverTime'].astype('int')","68aeea0e":"data.corr()","13b1d4ec":"from sklearn.cross_validation import train_test_split\n#from random import seed\n\n#seed(20)\ntrain_x = data.drop(['Attrition'],axis=1)\ntrain_y = data['Attrition']\n\nX,test_x,Y,test_y = train_test_split(train_x, train_y, test_size=0.3,random_state=20)\nlen(test_x)","0877d134":"from sklearn.linear_model import LogisticRegression\n\n#Y=Y.astype('int')\n\nclf = LogisticRegression()\nclf.fit(np.array(X),Y)","495b9b1c":"from sklearn.metrics import accuracy_score\n\npred_y = clf.predict(test_x)\n\naccuracy = accuracy_score(test_y, pred_y, normalize=True, sample_weight=None)\naccuracy","6238848e":"from sklearn.metrics import classification_report\n\nprint(classification_report(test_y, pred_y))","8f963962":"from sklearn.feature_selection import RFE\n\nrfe = RFE(clf,40)\nrfe = rfe.fit(train_x,train_y)\nprint(rfe.support_)\nprint(rfe.ranking_)","35968ba2":"X =rfe.transform(X)\nX.shape","7e4e2839":"test_x = rfe.transform(test_x)\ntest_x.shape","4071ee57":"from sklearn.metrics import accuracy_score\n\nclf.fit(X,Y)\npred_y = clf.predict(test_x)\n\naccuracy = accuracy_score(test_y, pred_y, normalize=True, sample_weight=None)\naccuracy","4cdb1df2":"from sklearn.metrics import classification_report\n\nprint(classification_report(test_y, pred_y))","4c7252eb":"## Categorising on the basis of working department","8d4bf405":"### Transforming our data to desired no. of features","3afde98b":"##  Setting predictor gender where male is indicated as 1 and female as 0","299926b1":"# Employee Attrition Data","820dd75c":"## Categorising on the basis of education field","e12f06bb":"## Converting datatypes of some predictor variables","e5935e57":"## Importing Libraries and Dataset","c389f75a":"#### We have applied logistic model to the data getting an accuracy of 87.30%. As it is clear from our model that we are getting low value of recall for true value of attrition ,i.e., we are not getting enough of the relevant information from the data. The retrieved model shows high senstivity but low specifity.\n\nNow ,we will try a new model with few less relevant features trimmed out from our dataset.","5ea3e2c1":"### Getting unique elements for every predictor variable","e745f87c":"### Few of the predictors are useless carrying same value for all the observations ,thus having no significance in the desired output variable:\n####    'EmployeeCount' , 'EmployeeNumber' , 'Over18' , 'StandardHours","ace277a5":"## Categorising on the basis of Marital Satus of Employee","80cd9b47":"## Applying Loigistic Regression to our model","423f9077":"## Dividing data into train and test dataset","848e9d18":"## Setting up the Over Time predictor","e52bd24a":"We are going to find major causes of attrition in employees. Attrition results in lack of productivity which reults in lack of profit ,which ultimately leads to unemployment. It seems simple to point out few factors behind attrition such as low wages, working environment,relationship with boss etc, but actually there are a lot more from one's personal reason to his education. And this is where Statistics come in. This field of concern is so wide thatit has given birth to new ML research called **\"Interpretability\"**.","cad099bb":"### Quantitative estimates of our transformed model","f60301be":"### Calculating accuracy of our model","bbe0e9e6":"## Finding coorelation among various predictors","65edc8ef":"## Categorising on the basis of travel for business purposes; rarely,frequently or no travel","2578cff9":"## Getting quantitative estimates of our model","4a20b608":"## Replacing our Attrition output by integer constants","35c672d0":"### Calculating accuracy of our modified model","a1c6084d":"#### Thus, we see a slight increase in accuracy of our model. We have trimmed our dataset to 40 features. Though we are reporting a decrease in precision of attried employees, we are getting a noticeable increase in recall and F-score.This ultimately results in increase of specificity of our model.This model also reduces our memory space and processing time as the operations to be performed are much less than former.\n\nWe can work for better accuracies by changing number of features for selection and other parameters.","8a489af0":"## Applying Recursive Feature Elimination (RFE) for feature selection","0b84d0c6":"## Categorising on the basis of Job Role","1bd316e2":"## Checking for useless predictor variables and removing them"}}