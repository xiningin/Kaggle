{"cell_type":{"8fdc1a24":"code","91b94f8c":"code","a4cd4fcf":"code","85778bb3":"code","4a0b2478":"code","3cea2582":"code","04b92aa9":"code","5964cf00":"code","fc8dc1cd":"code","feb2bc5f":"code","cecd4635":"code","2f1ab420":"code","4a8081dc":"code","12e01d53":"code","6c538e11":"code","2566eb13":"code","722c460c":"code","3763707e":"code","d9f8488a":"code","e651f685":"code","ab46f09d":"code","dfb83caf":"code","56d25db7":"code","0d396af5":"code","d1fd94e3":"code","748ed974":"code","7814cc7c":"code","d75d9daa":"code","19dbf254":"code","3a590ea1":"code","70e78716":"code","b58234b8":"code","70eddbea":"code","54554495":"code","4631ec25":"code","81f8af95":"code","817a62f7":"code","90b8762a":"code","c5f3bb83":"code","0b4a07e2":"markdown","66708344":"markdown","62f15121":"markdown","1672c6d3":"markdown","e6d6392a":"markdown","96897606":"markdown","e55462a7":"markdown","5b3b3718":"markdown","fad927ca":"markdown","aed404d7":"markdown","cb4a487a":"markdown","ffead348":"markdown","d2784a06":"markdown","99661637":"markdown","c99a1228":"markdown","7e22a571":"markdown","8d3ddd5d":"markdown","f20d4fe8":"markdown","efb83295":"markdown","1a642b27":"markdown","d02800db":"markdown","3e281de0":"markdown","1aed35cc":"markdown","fb2be2de":"markdown","40a1cca2":"markdown","5d072657":"markdown","dd65054a":"markdown","d12f4f20":"markdown","bc315e04":"markdown","011ff7d7":"markdown","e3bf36e9":"markdown","ee2d5dcd":"markdown","33d9633c":"markdown","0f5c0385":"markdown","bc1e4af3":"markdown","02d9bb70":"markdown","1ec3abdc":"markdown","43cab980":"markdown","7dfde0b3":"markdown"},"source":{"8fdc1a24":"#importing the essentials\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\nfrom matplotlib import pyplot as plt\nimport seaborn as sns","91b94f8c":"data = pd.read_csv('..\/input\/us-police-shootings\/shootings.csv')","a4cd4fcf":"data.head()","85778bb3":"#feature engineering (Adding col Age Group)\nbins = [0,18,45,60,100]\ngroup_names = ['Teenager','Adult','Old','Very Old']\ndata['Age Group'] = pd.cut(data['age'], bins, labels= group_names)\n\n#converting date column from str to date\ndata['date']=pd.to_datetime(data['date'])\ndata['year'] = pd.DatetimeIndex(data['date']).year\ndata['month'] = pd.DatetimeIndex(data['date']).month\ndata['month_year']= pd.to_datetime(data['date']).dt.to_period('M')\n\ncount_year= data.groupby(['year']).agg('count')['id'].to_frame(name='count').reset_index()","4a0b2478":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(10,7))\nsns.barplot(x=count_year['year'], y=count_year['count'], data=count_year)\nplt.xlabel(\"\")\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.title('Killings by Year')\nplt.ylabel(\"\")\nplt.show()","3cea2582":"plt.style.use('bmh')\ndata['month_year']= data.month_year.astype(str)\nline_chart = data.groupby(['month_year']).agg('count')['id'].to_frame(name='count').reset_index()\nplt.figure(figsize=(20,8))\nplt.xticks(fontsize=12)\nplt.yticks(fontsize=15)\nplt.plot(line_chart['month_year'],line_chart['count'])\nplt.title('Killings by Month')\nplt.xticks(ticks = line_chart['month_year'],rotation=90)\nplt.show()","04b92aa9":"avg_shot_per_day = (count_year['count'][0:5].sum())\/(365*5)\nprint('Avg death count per day',avg_shot_per_day)","5964cf00":"avg_per_month = (count_year['count'][0:5].sum())\/(12*5)\nprint('Avg death count per month',avg_per_month)","fc8dc1cd":"line_chart.columns = ['Month_Year', 'Victim_Count']\nmax_1 = pd.DataFrame(line_chart[line_chart.Victim_Count == line_chart.Victim_Count.max()].reset_index(drop=True))\nmin_1 = pd.DataFrame(line_chart[line_chart.Victim_Count == line_chart.Victim_Count.min()].reset_index(drop=True))\nprint('Max amount of Death is in Month of\\n',max_1)\nprint('**********************************************')\nprint('Min amount of Death is in Month of\\n',min_1)","feb2bc5f":"shot_or_taser = data.groupby(['Age Group','manner_of_death']).agg('count')['id'].to_frame(name='count').reset_index()\nshot_or_taser = shot_or_taser.rename(columns = {'manner_of_death':'Manner of Death', 0:'Count'})\nshot_or_taser = shot_or_taser.sort_values(by=['count'],ascending=False)","cecd4635":"plt.style.use('seaborn-pastel')\nplt.figure(figsize=(20,10))\nsns.barplot(x=\"Age Group\", y=\"count\",hue=\"Manner of Death\", data=shot_or_taser)\nplt.xlabel(\"\")\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.title('Killings by Age Category')\nplt.ylabel(\"\")\nplt.show()","2f1ab420":"plt.style.use('seaborn-pastel')\nplt.figure(figsize=(15,7))\nsns.barplot(x=\"Age Group\", y=\"count\",hue=\"Manner of Death\", data=shot_or_taser,log=True)\nplt.xlabel(\"\")\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.title('Killings by Age Group(On Log Axis)')\nplt.ylabel(\"\")\nplt.show()","4a8081dc":"a=shot_or_taser.groupby(['Age Group']).sum().reset_index()\n\nlist_percent = []\ntotal = a['count']\ntemp = 0\ntemp_2 = 0\nfor i in range(4):\n    for j in range(2):\n        per=(shot_or_taser['count'][temp])\/total[temp_2]\n        list_percent.append(per)\n        temp=temp+1\n    temp_2=temp_2+1\n\nlist_1 = ['Shot','Shot and Tasered']\nteenager = list_percent[0:2]\nadult = list_percent[2:4]\nold = list_percent[4:6]\nvery_old = list_percent[6:8]","12e01d53":"#For Teenager and Adult\nplt.style.use('seaborn-pastel')\nfig, (ax1,ax2) = plt.subplots(1,2,figsize = (15,15))\nplt.rcParams.update({'font.size': 18})\nax1.pie(teenager, labels=list_1, shadow=True, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\n\nax2.pie(adult, labels=list_1, shadow=True, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\n\nax1.set_title(\"Teenager\")\nax2.set_title(\"Adult\")\nfig.tight_layout()\nplt.show()","6c538e11":"plt.style.use('seaborn-pastel')\nfig, (ax3,ax4) = plt.subplots(1,2, figsize = (15,15))\nplt.rcParams.update({'font.size': 18})\nax3.pie(old, labels=list_1, shadow=True, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\nax4.pie(very_old, labels=list_1, shadow=True, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\n\nax3.set_title(\"Old\")\nax4.set_title(\"Very Old\")\nplt.tight_layout()\nplt.show()","2566eb13":"plt.style.use('ggplot')\nplt.figure(figsize=(20,10))\nsns.swarmplot(data=data, x=\"year\", y=\"age\",hue=\"manner_of_death\")\nplt.xlabel(\"\")\nplt.ylabel(\"\")\nplt.title('Manner of Death by Year and Age')\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.show()","722c460c":"data.groupby(['year','manner_of_death']).count()['id'].reset_index()","3763707e":"#finding top 5(what ammunitions used)\n\narmed_or_not=data.groupby(['armed']).size()\narmed_or_not=armed_or_not.sort_values()\narmed_or_not = armed_or_not.to_frame().reset_index()\narmed_or_not = armed_or_not.rename(columns={'armed':'Armed', 0:'Count'})\narmed_or_not = armed_or_not.sort_values(by = ['Count'],ascending=False)\ntop_5= armed_or_not.head(5)","d9f8488a":"plt.figure(figsize=(20,10))\nplt.style.use('fivethirtyeight')\nplt.bar(top_5.Armed,top_5.Count)\nsns.barplot(x='Armed', y='Count', data=top_5)\nplt.title('Armed or Not')\nplt.ylabel('Number of Victims')\nplt.xlabel('')\nplt.show()","e651f685":"records = data.shape[0]\narmed_or_not_pie = armed_or_not.head(4)\nlist_p = []\nfor i in (range(len(armed_or_not_pie))):\n    temp=(armed_or_not_pie['Count'].values[i]\/records)*100\n    list_p.append(temp)\n\nOthers_p= 100-sum(list_p)\npercentages=pd.Series(list_p)\narmed_or_not_pie['percent'] = percentages.values\narmed_or_not_pie.drop('Count',axis=1,inplace=True)\nOthers_df = ['Others',Others_p]\nother_series = pd. Series(Others_df, index = armed_or_not_pie.columns)\narmed_or_not_pie = armed_or_not_pie. append(other_series, ignore_index=True)","ab46f09d":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(7,7))\nplt.rcParams.update({'font.size': 18})\nplt.pie(armed_or_not_pie['percent'], labels=armed_or_not_pie['Armed'], shadow=True,\n        startangle=90, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\nplt.title(\"Armed or Not\")\nplt.tight_layout()\nplt.show()","dfb83caf":"#full df\ngender_shoot = data.groupby(['year','gender']).agg('count')['id'].to_frame(name='count').reset_index()\n\n#for Male\nmale = gender_shoot.loc[gender_shoot['gender']=='M']\n\n#for Female\nfemale = gender_shoot.loc[gender_shoot['gender']=='F']","56d25db7":"#plotting the data\nplt.figure(figsize=(20,10))\nplt.style.use('fivethirtyeight')\nx_indexes = np.arange(len(male['year']))\nwidth = 0.40\n\nplt.bar( x_indexes,male['count'],width = width,label = 'Male')\nplt.bar( x_indexes+width,female['count'],width = width, label = 'Female')\nplt.title('Gender Wise Killings per Year')\nplt.xticks(ticks = x_indexes, labels = female['year'])\nplt.tight_layout()\nplt.legend()\nplt.show()","0d396af5":"df =data.groupby(['Age Group','gender']).agg('count')['id'].to_frame(name='count').reset_index()\ndf=df.sort_values(by=['count'],ascending=False)","d1fd94e3":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,8))\nsns.barplot(x='Age Group', y='count', data=df)\nplt.title('Killings by Age Group')\nplt.ylabel('Number of Victims')\nplt.show()","748ed974":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,10))\nsns.barplot(x='Age Group', y='count', hue='gender', data=df,log=True)\nplt.title('Killings by Age Group(on log)')\nplt.ylabel('Number of Victims')\nplt.show()","7814cc7c":"race_df = data.groupby(['year','race']).agg('count')['id'].to_frame(name='count').reset_index()\nrace_df = race_df.sort_values(by='count',ascending=False)","d75d9daa":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,10))\nsns.barplot(x=\"year\", y=\"count\",hue=\"race\", data=race_df)\nplt.title('Killings by Race by Year')\nplt.ylabel('Number of Victims')\nplt.xlabel('')\nplt.show()","19dbf254":"plt.style.use('fivethirtyeight')\nfig_dims = (20, 10)\nfig, ax = plt.subplots(figsize=fig_dims)\nsns.stripplot(\n    data=data, x=\"age\", y=\"race\",s=20,\n    alpha=0.20,jitter=0.30\n)\nplt.title('Killings by Race by Age')\nplt.ylabel('')\nplt.xlabel('Age')\nplt.show()","3a590ea1":"killings_by_race =data.groupby(['year','month_year','race']).count()['id'].reset_index()\nplt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,10))\nsns.boxplot(x=killings_by_race['race'],y=killings_by_race['id'],dodge=False)\nplt.title('Killings by Race(By Month Average)')\nplt.ylabel('Number of Victims')\nplt.xlabel('')\nplt.show()","70e78716":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,10))\nsns.boxplot(x=data['race'],y=data['age'],dodge=False)\nplt.title('Killings by Race by Age')\nplt.ylabel('Age')\nplt.xlabel('')\nplt.show()","b58234b8":"#Comparing White V\/S Black V\/S Hispanic\nwhite_black_hispanic = data[data['race']. isin (['Black','White','Hispanic'])]\nwhite_black_hispanic=white_black_hispanic.groupby(['year','race']).agg('count')['id'].to_frame(name='count').reset_index()\nwhite_black_hispanic['year']= white_black_hispanic['year'].astype(str)","70eddbea":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,10))\n\ncolors = [\"#2874A6\", \"#B9770E\",\"#922B21\"]\nsns.set_palette(sns.color_palette(colors))\n\nsns.lineplot( data=white_black_hispanic,x=\"year\", y=\"count\", hue=\"race\")\nplt.title('Killings in Top 3 Races by Year')\nplt.ylabel('Number of Victims')\nplt.xlabel('')\nplt.show()","54554495":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,10))\nplt.bar(data['state'].value_counts().index,data['state'].value_counts().values)\nplt.title('Killings by different States')\nplt.ylabel('Number of Victims')\nplt.xticks(fontsize=11)\nplt.show()","4631ec25":"top_5_states = data[data['state'] . isin(['CA','TX','FL','AZ','CO'])]\ntop_5_states = top_5_states.groupby(['state','flee']).agg('count')['id'].to_frame(name='count').reset_index().sort_values('count',ascending=False)","81f8af95":"plt.style.use('fivethirtyeight')\nplt.figure(figsize=(20,10))\nsns.barplot(x='state', y='count',hue='flee', data=top_5_states)\nplt.ylabel('Number of Victims')\nplt.title('Killings by States with different flee Status')\nplt.xlabel(\"\")\nplt.show()","817a62f7":"plt.style.use('fivethirtyeight')\n\nfig_dims = (20, 20)\nfig, ax = plt.subplots(figsize=fig_dims)\nsns.stripplot(\n    data=data, x=\"age\", y=\"race\",hue=\"signs_of_mental_illness\",s=25,\n    alpha=0.5,jitter=0.40\n)\nplt.title('Killings by Race on basis of Mental Status')\nplt.axis('tight')\nplt.xlabel('Age')\nplt.show()","90b8762a":"#Let's check by pie chart\npie_chart =data.groupby(['race','signs_of_mental_illness']).count()['id'].reset_index()\nblack_pie_chart = pie_chart[pie_chart['race']=='Black']\nwhite_pie_chart = pie_chart[pie_chart['race']=='White']\nhispanic_pie_chart = pie_chart[pie_chart['race']=='Hispanic']","c5f3bb83":"plt.style.use('seaborn-pastel')\nfig, (ax1,ax2,ax3) = plt.subplots(1,3,figsize = (15,15))\nplt.rcParams.update({'font.size': 18})\nax1.pie(black_pie_chart['id'], labels=black_pie_chart['signs_of_mental_illness'], shadow=True,\n        startangle=90, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\nax1.set_title(\"Race: Black\")\n\nax2.pie(white_pie_chart['id'], labels=white_pie_chart['signs_of_mental_illness'], shadow=True,\n        startangle=90, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\nax2.set_title(\"Race - White\")\n\nax3.pie(hispanic_pie_chart['id'], labels=hispanic_pie_chart['signs_of_mental_illness'], shadow=True,\n        startangle=90, autopct='%1.1f%%',\n        wedgeprops={'edgecolor': 'black'})\nax3.set_title(\"Race - Hispanic\")\n\nfig.tight_layout()\n\nplt.show()","0b4a07e2":"# <font color=\"blue\">Please Upvote if you Like :)","66708344":"Let's Analyse by Age Category","62f15121":"* On Average 37 White people get shot every Month\n* On Average 19 Black people get shot every Month\n* On Average 13 Hispanic people get shot every Month","1672c6d3":"* The data in the year 2020 is till June that is why the data is why we can see a sudden drop after 2019, but we can see that the killings are getting less by each year.\n* The data in the year 2020 is till June that is why the data is why we can see a sudden drop after 2019, but we have already witnessed around 400 casualties till mid of the year 2020.\n* After the drop in counts from the year 2015 to 2016, the count of shot people is almost the same","e6d6392a":"* It looks like that the numbers of Shot and Tasered people are comparatively less than previous years, let's confirm that by checking the data","96897606":"## <font color=\"violet\"><b>Armed or Not","e55462a7":"* We can see that most of the cases are from California, Texas and Florida","5b3b3718":"# <font color=\"violet\"><b>Killings by Race by Year","fad927ca":"* It looks like most of them were mentally stable. Let's Visualize Top 3 Races i.e Black, White, Hispanic by Pie chart","aed404d7":"* We can say that the most number of people shot are from White race and then from Black Race","cb4a487a":"## <font color=\"violet\"><b>Actual Data points (manner of death by year by Age)","ffead348":"# <font color=\"violet\"><b>Killings by Age Category","d2784a06":"# <font color=\"violet\"><b>States with most number of cases","99661637":"# <font color=\"violet\"><b>Median Age by Race","c99a1228":"![](https:\/\/d241gzwmzya7ka.cloudfront.net\/autosizing_assets\/Blog-Post-Images\/_1200x630_crop_center-center_82_none\/Blog-image-2020-04-07@2x.png?mtime=20200406102912&focal=none&tmtime=20200406103158)","7e22a571":"* We can see that In Native, Other and Asian Race the age primarily lies in range 20-60\n* The cases of age Above 60 years usually falling in White Race \n* Let's find out the media ages by different races","8d3ddd5d":"* The data points are not clear because the Shot count is comparatively very high. Let's check it on Log scale","f20d4fe8":"# <font color=\"violet\">Top 3 Races by Mental Status","efb83295":"# <font color=\"violet\"><b>Killings by Race by Age","1a642b27":"* It is clear from above chart that most of the people in all top 5 states were not fleeing during the encounter","d02800db":"* If we talk about Race, then we can see that every year the count of killings in White Race is much larger than other races\n* The above chart proves that the most people are from White race, then Black and then from Hispanic Race","3e281de0":"# <font color=\"violet\"><b> Killings by Month","1aed35cc":"# <font color=\"violet\"><b>Let's visualize top 3 races","fb2be2de":"* We can see that not only Shot and Taseres but also Shot category is getting less year by year[](http:\/\/)","40a1cca2":"# <font color=\"violet\"><b>Let's take a look at the Dataset","5d072657":"# <font color=\"violet\"><b>Let's look at top 5 states and check whether the person was fleeing or not","dd65054a":"* Most people belong to Adult Category, let's take a closer look by including Gender into picture on log scale","d12f4f20":"* Looks like that tasers are used comparatively less in case of Very old people\n* Let's Look at the actual data points","bc315e04":"* If we talk about killings by gender, then we can see that Men count is much larger than women","011ff7d7":"* 56.3% people were armed with Gun, and then we have 14.5 people who were armed with Knife\n* Others category include all other categories except top 4","e3bf36e9":"# <font color=\"violet\"><b>**Killings by Year**","ee2d5dcd":"* We can see clearly that majority people had gun, probably becaause of the lenient Arms laws in the U.S\n* Let's take a clear picture with help of Pie Chart by summarising all other weapons in an Other Category","33d9633c":"# <font color=\"violet\"><b>Shot or Tasered(in Percentages)","0f5c0385":"# <font color=\"violet\"><b>Gender Wise Killings per Year","bc1e4af3":"## <font color=\"violet\"><b>Killings By Age Group","02d9bb70":"# <font color=\"violet\"><b>Killing by Race (Monthly Average)","1ec3abdc":"* It is clear from the above graph that Other category is having least meadin age, and then we have Black, Hispanic and then White","43cab980":"* We can see that shot as well as Shot and Tasered both types are highest in Adult Category","7dfde0b3":"# <font color=\"violet\"><b>Were they Mentally affected?"}}