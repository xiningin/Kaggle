{"cell_type":{"f14fc7f2":"code","76942625":"code","b8e8fad7":"code","0529974d":"code","401a1cae":"code","7f1e1960":"code","2eff2455":"code","f78162ab":"code","4c739abb":"code","8093b685":"code","180f03f1":"code","0b79388e":"code","da3158ab":"code","0c60ce9e":"code","b6b0561e":"code","b2cf7487":"code","1b67a735":"code","c9e9bacb":"code","8dd268d7":"code","826b3722":"code","9c9cbdea":"code","b3c2cdce":"code","4335964d":"code","447e6cc1":"code","83f5cf2c":"code","9a166882":"code","7333c81f":"code","0c949dde":"code","64bf97ab":"code","df1c8d8c":"code","ee770089":"code","47400685":"code","3c17e9c7":"code","deaf16cc":"code","f28ef740":"code","d7649b48":"code","9600f170":"code","b30cd948":"code","bb21cfd8":"code","9a9c5741":"code","9fdd51a1":"code","ce2b5e15":"code","fdbb0bf5":"code","63b0eea9":"code","9c8e7002":"code","28e4be25":"code","edfe4b1d":"markdown","90a81088":"markdown","7696ee0b":"markdown","c2f74717":"markdown","aa4bc70a":"markdown","117e9645":"markdown","4802f923":"markdown","b2ff92f0":"markdown","7f6329de":"markdown","ccff5687":"markdown","d18b59d2":"markdown","23946bfb":"markdown","419a1e57":"markdown","b2b55835":"markdown","30b5d8f9":"markdown","50a2815c":"markdown","3dac0518":"markdown","0b635e5a":"markdown","17bdab73":"markdown","268a7a02":"markdown","faa15c61":"markdown","fe2817af":"markdown","17f500e3":"markdown","cd18af29":"markdown","560b615e":"markdown","0f08f14d":"markdown","bde3c87d":"markdown","bbb6587a":"markdown","879afc14":"markdown","d1e19b18":"markdown","e057747d":"markdown","ed5e4c7e":"markdown","e8ef2df7":"markdown","f29d6447":"markdown","5456f8da":"markdown","8f1ab447":"markdown","4f454c83":"markdown","9dc0694e":"markdown","7620cf0b":"markdown","1ed417fa":"markdown","032d8136":"markdown","71a5a8cb":"markdown","4d7a1746":"markdown","e152acce":"markdown","f71dd7f7":"markdown","c74b1fd3":"markdown","db7bbf42":"markdown","e83b0815":"markdown","5f839c51":"markdown","80778d07":"markdown","9d867eea":"markdown","3d9aef97":"markdown","67afe648":"markdown","a3d3292e":"markdown","53586ddc":"markdown","289ebd12":"markdown","cbc8a707":"markdown"},"source":{"f14fc7f2":"!pip install jovian --upgrade --quiet","76942625":"import jovian","b8e8fad7":"# imports\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n        \n# ignores deprecation warnings\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\n\n# Plotting Libraries\nimport matplotlib.pyplot as plt\nimport matplotlib.style as style\n\n# Seaborn Library Setting\nimport seaborn as sns\nsns.set_style(\"darkgrid\")\nstyle.use('seaborn-talk') #sets the size of the charts\nstyle.use('ggplot')\nsns.set_context('talk') # Sets the font of the figures , talk -- presentation-friendly\n","0529974d":"# Read data file and create pandas data frame\nfire_raw_df = pd.read_csv('..\/input\/california-wildfire-incidents-20132020\/California_Fire_Incidents.csv')","401a1cae":"print(f\"size of the raw dataset: {fire_raw_df.shape}\")\n","7f1e1960":"fire_raw_df.sample(7)","2eff2455":"fire_raw_df.info()","f78162ab":"selected_columns = [\n    'AcresBurned',\n    'AdminUnit',\n    'ArchiveYear',\n    'Counties',\n    'Extinguished',\n    'Fatalities',\n    'Latitude',\n    'Longitude',\n    'MajorIncident',\n    'Name',\n    'PersonnelInvolved',\n    'Started',\n    'WaterTenders'\n]","4c739abb":"fire_df = fire_raw_df[selected_columns].copy()","8093b685":"fire_df['PersonnelInvolved'] = pd.to_numeric(fire_df.PersonnelInvolved, errors='coerce')\nfire_df['Fatalities'] = pd.to_numeric(fire_df.Fatalities, errors='coerce')\nfire_df['WaterTenders'] = pd.to_numeric(fire_df.WaterTenders, errors='coerce')\nfire_df.info()","180f03f1":"fire_df['fire_duration'] = (pd.to_datetime(fire_df.Extinguished) - pd.to_datetime(fire_df.Started)).astype('timedelta64[h]')\/24 # To convert in days\nfire_df['fire_duration'] = pd.to_numeric(fire_df.fire_duration,errors = 'coerce')","0b79388e":"fire_df['Fatalities'] = pd.to_numeric(fire_df.Fatalities,errors = 'coerce')","da3158ab":"fire_df.describe()","0c60ce9e":"fire_df[fire_df.fire_duration < 0]['fire_duration'].value_counts()","b6b0561e":"# Find the indices where these faulty fire duration occurs in the dataset\nfaulty_fire_duration_index = fire_df[(fire_df.fire_duration < 0) | (fire_df.fire_duration > 500)]['fire_duration'].index.values","b2cf7487":"for iter in faulty_fire_duration_index:\n    url = fire_raw_df[fire_df.index ==  iter]['CanonicalUrl'];\n    duration = fire_df[fire_df.index ==  iter]['fire_duration'];\n#     print(url.values[0])\n    print(f\" link for Fire incident: https:\/\/www.fire.ca.gov{url.values[0]} \\t, \\t fire_duration: {duration.values[0]} days\")","1b67a735":"fire_df.drop(fire_df[(fire_df.fire_duration < 0) | (fire_df.fire_duration > 500)].index, inplace=True) # 0 days are same day fire extinguished, hence still kept in the dataset\n# Taking absolute value for the rest of the fire duration \nfire_df['fire_duration'] = np.abs(fire_df.fire_duration)","c9e9bacb":"fire_df.drop(fire_df[(fire_df.Latitude < -90) | (fire_df.Latitude > 90)].index, inplace=True)\nfire_df.drop(fire_df[(fire_df.Longitude < -180) | (fire_df.Longitude >= 0)].index, inplace=True)","8dd268d7":"\nfire_admin_df = fire_df['AdminUnit']\nxwords = pd.Series([\"\/\", \"california\", \"cal\", \"fire\", \"unit\", \"county\", \"department\", \"national\", \"forest\", \"district\", \"unified command:\", \"usfs\", \"us\", \"service\", \"and\", \"of\", \"the\", \"city\"])\n\n\nfire_admin_df=  (fire_admin_df\n                .str.lower()\n                .str.replace(\"-\", \" \")\n                .str.replace(\"los angeles\", \"la\")\n                );\n\nfor word in range(len(xwords)): \n    fire_admin_df = fire_admin_df.str.replace(xwords[word], \"\")\n    \n    \n# The following alone reduces hald the number of units    \nfire_admin_df=  (fire_admin_df\n                .str.lstrip()\n                .str.rstrip()\n                .str.replace(\" \", \"\"))\n    \nfire_df[\"AdminUnitModified\"] = fire_admin_df\n\n# fire_df[\"AdminUnitModified\"].unique()\nlength_clean = len(fire_df[\"AdminUnitModified\"].unique())","826b3722":"print(f\"Number of Admin Units for uncleaned dataset: {len(fire_df['AdminUnit'].unique())}\")\nprint(f\"Number of Admin Units for cleaned dataset: {length_clean}\")","9c9cbdea":"len(fire_df['Counties'].unique())","b3c2cdce":"# Create year wise data\nfire_year_df = fire_df.groupby(['ArchiveYear']).sum()\nyears = fire_df['ArchiveYear'].unique()\nprint(f\"Number of unique years in dataset: {years}\")\nfire_year_df.head()","4335964d":"## Plot total land area burned\nsns.set_style(\"ticks\")\nsns.set_context(\"talk\")\nTotal_land = fire_df.groupby(['ArchiveYear']).sum()\nTotal_incidents = fire_df.groupby(['ArchiveYear']).count()\nprint(f\"Total Number of Incidents: {Total_incidents['AcresBurned'].values}\")\nf, ax = plt.subplots()\nsns.set_palette('bright')\nplt.bar(years,Total_land['AcresBurned'],alpha =0.785,edgecolor=\"0\")\nax2 = ax.twinx()\nplt.plot(years, Total_incidents['AcresBurned'], \"s-r\",lw=4, ms=8, mew=2, mec='k')\nax.set_ylabel(\"Total acres of land Burned\", c = 'r');\nax2.set_ylabel(\"Total number of wildfire incidents\");\nax.set_xlabel(\"Year\");\nax.set_title(\"Total land area burned due to wildfires in California [2013-2019]:\\n\");\nplt.show()","447e6cc1":"percent2018_over2017_incidents = Total_incidents['AcresBurned'].values[5]\/Total_incidents['AcresBurned'].values[4]*100\npercent2018_over2017_landBurned = Total_land['AcresBurned'].values[5]\/Total_land['AcresBurned'].values[4]*100\n\nprint(f\"Precentage of number of incidents in year 2018 to that of year 2017: {percent2018_over2017_incidents} % \\nPrecentage of land burned in year 2018 to that of year 2017: {percent2018_over2017_landBurned} %\")","83f5cf2c":"custom_palette = [\"#12C617\",\"#F60700\"]\nsns.set_style(\"whitegrid\")\n# sns.barplot( fire_df[\"ArchiveYear\"],fire_df['AcresBurned'],palette=custom_palette, hue = fire_df[\"MajorIncident\"],capsize=.15)\nsns.barplot( x= \"ArchiveYear\",y = 'AcresBurned',palette=custom_palette, hue = \"MajorIncident\",data = fire_df,capsize=.15)\nplt.ylabel(\"Total acres of land Burned\")\nplt.xlabel(\"Year\")\nplt.xticks(rotation= 45)\nplt.title(\"Total land area burned due to wildfires in California [2013-2019]\");\n","9a166882":"fire_df.groupby(fire_df['ArchiveYear'])\n\nLandBurned_2016_MajorIncident = fire_df[(fire_df.MajorIncident == True) & (fire_df.ArchiveYear == 2016)]['AcresBurned'].sum()\nLandBurned_2017_MajorIncident = fire_df[(fire_df.MajorIncident == True) & (fire_df.ArchiveYear == 2017)]['AcresBurned'].sum()\nLandBurned_2018_MajorIncident = fire_df[(fire_df.MajorIncident == True) & (fire_df.ArchiveYear == 2018)]['AcresBurned'].sum()\n\nLandBurned_2016_Total = fire_df[(fire_df.ArchiveYear == 2016)]['AcresBurned'].sum()\nLandBurned_2017_Total = fire_df[(fire_df.ArchiveYear == 2017)]['AcresBurned'].sum()\nLandBurned_2018_Total = fire_df[ (fire_df.ArchiveYear == 2018)]['AcresBurned'].sum()\n\nPrecentLandBurned_2016 = np.divide(LandBurned_2016_MajorIncident,LandBurned_2016_Total)*100\nPrecentLandBurned_2017 = np.divide(LandBurned_2017_MajorIncident,LandBurned_2017_Total)*100\nPrecentLandBurned_2018 = np.divide(LandBurned_2018_MajorIncident,LandBurned_2018_Total)*100\n\nprint(f\" Land burned in Major Incidents vs Total Land Burned in 2016: {PrecentLandBurned_2016}%\")\nprint(f\" Land burned in Major Incidents vs Total Land Burned in 2017: {PrecentLandBurned_2017}%\")\nprint(f\" Land burned in Major Incidents vs Total Land Burned in 2018: {PrecentLandBurned_2018}%\")","7333c81f":"# When was the last fire recorded in the list for year 2019? \nprint(f\"Last fire reported on : {fire_df['Started'].tail(1).values[0]}\")","0c949dde":"fig, ax = plt.subplots(1,3, figsize = (20,5))\nsns.barplot(y= years,x = fire_year_df['WaterTenders'],palette=\"rocket\",alpha = 0.75,orient = 'h',ax=ax[1],edgecolor=\"0\")\nsns.barplot(x = fire_year_df['PersonnelInvolved'],y = years, palette=\"rocket\",alpha = 0.75, orient = 'h', ax = ax[0],edgecolor=\"0\")\nsns.barplot(y = years,x = np.divide(fire_year_df['WaterTenders'],fire_year_df['PersonnelInvolved'])*100,palette=\"rocket\", orient = 'h',ax = ax[2],edgecolor=\"0.5\")\nax[0].set_ylabel('Years')\nax[0].set_xlabel('Number of Personnel Involved')\n\nax[1].set_ylabel('Years')\nax[1].set_xlabel('Number of Water Tenders Involved')\n\nax[2].set_ylabel('Years')\nax[2].set_xlabel('Ratio of Water Tenders to Personnel (in %)')\n\nplt.suptitle('Personnels and Water Tenders in fire fighting over the years')\nplt.tight_layout(pad=2)","64bf97ab":"# Calculate the number of personnel more in year 2013 than in 2018\n(fire_year_df[fire_year_df.index == 2018]['PersonnelInvolved'].values[0]\/fire_year_df[fire_year_df.index == 2013]['PersonnelInvolved'].values[0])*100","df1c8d8c":"jovian.commit(project='california-wildfire-analysis', environment=None)","ee770089":"admin_indx = fire_df[\"Counties\"].value_counts().index#[0:20]\n\nadmin_count = fire_df[\"Counties\"].value_counts().values#[0:20]\nadmin_count","47400685":"\nfig, ax = plt.subplots(1,2, figsize = (10,5))\n\nsns.distplot(admin_count,ax = ax[0]);\nsns.boxplot(admin_count,ax = ax[1]);\nplt.suptitle(\"Distribution plot for handling wildfire units by Administrative units\")\nax[0].set_xlabel(\"Number of wildfires handled\")\nax[0].set_ylabel(\"Percentage of wildfires\")\n\nax[1].set_xlabel(\"Number of wildfires handled\")","3c17e9c7":"plt.figure(figsize=(10,15))\nsns.set_context(\"talk\")\nsns.barplot( x = admin_count, y=admin_indx, palette  = \"Spectral\");\n# sns.scatterplot(x = \"Counties\", y = )\nplt.xticks(rotation = 0);\nplt.title('Number of wildfire incidents Handled basd on Administrative Zones')\nplt.xlabel('Number of wildfire incidents')","deaf16cc":"sns.set_style(\"white\")\nfig, ax = plt.subplots(2,2, figsize = (20,10))\nfire_df.plot(kind=\"scatter\", x=\"Latitude\", y=\"Longitude\",\n    c=fire_df['ArchiveYear'],  s =fire_df['AcresBurned']\/100,\n    cmap=plt.get_cmap(\"gist_rainbow\"),colorbar=True, alpha=0.3,\nax =ax[0,0]);\n\nax[0,0].set_xlim([30.45, 43.05]);\nax[0,0].set_ylim([ -124.55, -115.80]);\nax[0,0].set_title(\"Wildfires with size as total acres burned\");\n\nfire_df.plot(kind=\"scatter\", x=\"Latitude\", y=\"Longitude\",\n    c=fire_df['ArchiveYear'],  s =fire_df['MajorIncident']*100,\n    cmap=plt.get_cmap(\"gist_rainbow\"),colorbar=True, alpha=0.3,\nax =ax[0,1]);\n\nax[0,1].set_xlim([30.45, 43.05]);\nax[0,1].set_ylim([ -124.55, -115.80]);\nax[0,1].set_title(\"Major Incident Wildfires\")\n\nfire_df.plot(kind=\"scatter\", x=\"Latitude\", y=\"Longitude\",\n    c=fire_df['ArchiveYear'],  s =fire_df['Fatalities']*50,\n    cmap=plt.get_cmap(\"gist_rainbow\"),colorbar=True, alpha=0.3,\nax =ax[1,0]);\n\nax[1,0].set_xlim([30.45, 43.05]);\nax[1,0].set_ylim([ -124.55, -115.80]);\nax[1,0].set_title(\"Fatalities\")\n\n\nfire_df.plot(kind=\"scatter\", x=\"Latitude\", y=\"Longitude\",\n    c=fire_df['ArchiveYear'],  s =fire_df['PersonnelInvolved']\/2,\n    cmap=plt.get_cmap(\"gist_rainbow\"),colorbar=True, alpha=0.3,\nax =ax[1,1]);\n\nax[1,1].set_xlim([30.45, 43.05]);\nax[1,1].set_ylim([ -124.55, -115.80]);\nax[1,1].set_title(\"Personnel Involved\")\n\nplt.xlabel(\"Latitude\")\nplt.tight_layout(pad=2)\nplt.show()","f28ef740":"fire_df[ (fire_df['ArchiveYear'] >=  2017)].count()\/fire_df.count() *100","d7649b48":"# from PIL import Image\n# import requests\n# # url = \"http:\/\/santacruzcountyfire.com\/images\/cdfmap.jpg\"\n# url = \"https:\/\/www.intimeandplace.org\/El%20Dorado\/imagefile\/maps\/caldemo.jpg\"\n# response = requests.get(url, stream=True);\n# img = Image.open(response.raw);\n\nfig, ax = plt.subplots(1,2,figsize = (20,7));\n\nsns.set_style(\"white\")\nimport matplotlib.image as mpimg\nimg = mpimg.imread('..\/input\/california-image\/california.png')\n\nfig1 = fire_df.plot(kind=\"scatter\", x=\"Latitude\", y=\"Longitude\",\n    c=fire_df['ArchiveYear'],  s =fire_df['AcresBurned']\/100,\n    cmap=plt.get_cmap(\"gist_rainbow\"),colorbar=True, alpha=0.4, ax = ax[0]\n);\nax[0].imshow(img,extent=[30.55, 50.05, -125.550, -115.80], alpha =0.7);\n\nax[0].set_xlim([32.45, 42.05]);\nax[0].set_ylim([ -124.55, -115.8]);\nax[0].set_title(\"Number of WildFire incidents\")\n\n\nax[1] = fire_df.plot(kind=\"scatter\", x=\"Latitude\", y=\"Longitude\",\n    c=fire_df['ArchiveYear'], s = fire_df['Fatalities']*50, \n    cmap=plt.get_cmap(\"gist_rainbow\"),colorbar=True, alpha=0.3, ax = ax[1]\n);\n\n\n\nprint(f\" Latitude bounds: {np.max(fire_df['Latitude']), np.min(fire_df['Latitude'])}\")\nprint(f\" Longitude bounds: {np.max(fire_df['Longitude']), np.min(fire_df['Longitude'])}\")\n\nax[1].imshow(img,extent=[30.55, 50.05, -125.550, -115.80], alpha =0.7);\n\nax[1].set_xlim([32.45, 42.05]);\nax[1].set_ylim([ -124.55, -115.8]);\nax[1].set_title(\"Fatalities in WildFire incidents\")\n\nplt.suptitle(\"WildFire incidents California: Geographical plot\");\nplt.show();\n","9600f170":"fire_counties_df = fire_df.groupby([fire_df.Counties]).head(100)\nsns.set_context(\"talk\")\nalpha = 0.1;\ncolor = ['red','blue','green','orange','magenta']\n\nrows = 3\ncols = 3\nfig,ax = plt.subplots(rows, cols, sharex = True, figsize=(25,7))\ncurrent_row = 0\ncurrent_col = 0\nfor idx,year in enumerate(years):\n    TotalFire_year= fire_df[(fire_df['ArchiveYear'] ==  year)].count().values[0]\n    FiresInYear_byCounty = fire_counties_df[(fire_counties_df['ArchiveYear'] == year)]['Counties'].value_counts()\n#     plt.figure()\n#     print(current_col)\n    sns.barplot(x = FiresInYear_byCounty.values[0:5]\/TotalFire_year*100, \n                y = FiresInYear_byCounty.index.unique()[0:5], alpha = alpha + 0.3, ax = ax[current_row,current_col])\n    ax[current_row,current_col].set_title(\"Wildfires handled in year %d\" %year)\n    \n    current_col +=1\n    \n    if(current_col == cols):\n        current_row +=1\n        current_col = 0\n       \nplt.tight_layout(pad=1)\nax[2,0].set_xlabel(\"Percentages of wildfires handled\")\nax[2,1].set_xlabel(\"Percentages of wildfires handled\")\nax[2,2].set_xlabel(\"Percentages of wildfires handled\")","b30cd948":"fire_df['Name'].value_counts().head(20)","bb21cfd8":"fire_df[ (fire_df.Fatalities > 20) & (fire_df.AcresBurned > 20000)].head()","9a9c5741":"fire_df[ fire_df.fire_duration == np.max(fire_df.fire_duration)]","9fdd51a1":"sns.scatterplot(y = 'fire_duration', x = 'ArchiveYear', hue='Counties', data = fire_df, palette = 'Reds_r')\nplt.legend(bbox_to_anchor=(1.05, 1),  ncol=4, labelspacing=0.05)\nplt.xlabel(\"Year\")\nplt.ylabel(\"Duration of fire in Days\")\nplt.title(\"Fire Duration Distribution over the years\")","ce2b5e15":"sns.boxplot(y = 'fire_duration', x = 'ArchiveYear', data = fire_df, palette = 'Reds_r')\nplt.legend(bbox_to_anchor=(1.05, 1),  ncol=4, labelspacing=0.05)\nplt.xlabel(\"Year\")\nplt.ylabel(\"Duration of fire in Days\")\nplt.title(\"Box plot of Fire Duration Distribution over the years\")","fdbb0bf5":"# sns.distplot(y = 'fire_duration', x = 'ArchiveYear', data = fire_df, palette = 'bright')\nsns.distplot(fire_df['fire_duration'], color = 'r')\nplt.xlabel(\"Year\")\nplt.ylabel(\"Probability\")\nplt.title(\"Prob. Distribution of fire distribution over the years\")","63b0eea9":"fire_df[ fire_df.fire_duration > 365]","9c8e7002":"sns.pairplot(fire_df, vars = ['Fatalities', 'fire_duration', 'AcresBurned'], diag_kind = 'kde', hue = \"ArchiveYear\", size= 3)","28e4be25":"jovian.commit(project='california-wildfire-analysis', environment=None)","edfe4b1d":"## 3. Exploratory Data Analysis","90a81088":"### The dataset cosists of 1636 wildfire incidents over the course of 2013 to 2019. There are 40 attributes (or columns) associated with each incident. ","7696ee0b":"## Question: How many of these incidents in 2018 were handled by Riverside and San Diego Unit?","c2f74717":"Similarly we drop data that has invalid latitude and longitude.","aa4bc70a":" What can we say about the number of personnels involved?","117e9645":"One thing to note here is that for the year 2019, we only have data till mid-October and therefore it is possible that larger and severe fire incidents occured in the months of November and December of 2019. We will acknowledge this fact and proceed with the rest of our analysis.","4802f923":"-----------------","b2ff92f0":"## 4. Questions and Answers\n\nNow, let us try to evaluate some of the nature of these wildfires, what was the worst wildfire (in terms of duration, fatality, etc.), where are these fires mostly concentrated and what administrative unit is involved in dealing with these fires. We will try to validate some of these based on other publicly available reports.\n\nLet us begin by looking at the top 20 adminstrative divisions of CAL FIRE that handles the most wildfires.","7f6329de":"We observe that the fire_duration calculated spans from -17052 to 17900 days. In order to decide if this is a data entry error, we need to explore how many of these fire incidents have negative durations and if we should ignore these or take absolute values of. This is what we will explore next.","ccff5687":"# Cleaning AdminUnit names (Repetitions and Formatting)","d18b59d2":"The Worst wildfire occured in the Butte Counties on November, 2018 with 85 fatalities.","23946bfb":"### Now let us glance at the attributes associated with each incident as is described next using the info() method in pandas.","419a1e57":"## Analyze duration of fires","b2b55835":"The figure above clearly delineates where the fires are concentrated. These are mostly along the  jurisdictions of: <br>\nCAL FIRE Riverside County Fire\nCAL FIRE San Diego Unit                    \nCAL FIRE San Luis obispo                   <br>\nCAL FIRE Shasta-Trinity Unit                 <br>\n\nwhich are among the top 4 in the dataset.","30b5d8f9":"## Duration of wildfire incident <br\/> \n### One of the important aspects while analyzing the data is to obtain a sense of duration of how long the wildfire incidents last. In order to calculate this, we will use the 'Started' and 'Extinguished' column to calculate the the duration and express it in hours using the to_datetime() and astype('timedelta64[h]') methods in Pandas.","50a2815c":"## 1. Understanding the wildfire-incidents dataset","3dac0518":"## Observation 2. (Increase in Severity[](http:\/\/))\nThe above figure corroborates our hypothesis. This was both expected and is a **shocking insight** at the same time, as the percentage of major fire incident is more than $50 \\%$ since 2016. \n\nA future more detailed analysis could include how this finding corresponds to increasing trend of California temerature (or reduced rainfall) that is causing dried forest beds to be more susceptable to fire hazards leading to major incidents.","0b635e5a":"Running the AdminUnit column shows that are ~ 460 unique Fire handling Departments in California which is not the case. There is a lot of different formats that are used for entering the Admin Unit names that has resulted in duplication of units under different names. In order to clean this, we use a simple approach of removing any word formatting (uppercase to lower case), removing common terms from the list such as:\n\n>[\"\/\", \"california\", \"cal\", \"fire\", \"unit\", \"county\", \"department\", \"national\", \"forest\", \"district\", \"unified command:\", \"usfs\", \"us\", \"service\", \"and\", \"of\", \"the\", \"city\"]\n\nThen finally taking unique values which has resulted in ~ 200 Units which can further be cleaned. But for this project we will stick with this number.","17bdab73":"#### In this article we will look at an exploratory data analysis of wildfires in California using the  [California Wildfire incidents dataset](https:\/\/www.kaggle.com\/ananthu017\/california-wildfire-incidents-20132020) . The goal of this article will be to look at the following questions and to validate the initial hypotheses that ...:\n\n1. Is the trend of wildfires decreasing or increasing? <br\/>\n2. Where in California are these zones of wildfire concentrated? <br\/>\n  2.1 Does a particular belt of forests (national and state) need more deployment of fire fighters (and\/or fire handlers) than current? <br\/>\n  2.2 Is the CAL FIRE Dept. well situated? (Look at personnel deployed)\n  \n3. ","268a7a02":"## Observation 0: <br>\nIt can be clearly observed that during years 2017 and 2018, a large amount of land area was burned during the wildfires than compared to any other year in the dataset.\n\n## Observation 1: <br>\nThe total number of incidents in the year 2018 is less than that of 2017 by 28 % where as the land area affected is about 187% more. This means that, in totality, the wildfires in 2018 were severe and larger.\n\nLet us investigate the major incident column to verify this next.","faa15c61":"The above figure shows progression of wildfires handled by the top 5 wild fire units each year.\n\n## Observation 8\n1. San Diego Fire Unit has been in the top 5 wildires handling unit throughout the years (2013-2019).\n2. Riverside has handled wildfires only in years 2013, 2017 and 2018, yet has still handled the most number of incidents than any other unit (2013-2019).","fe2817af":"## Summary\n### The biggest takeaway of this analysis is that years 2017, 2018 saw some of the most numbers of,  severest and, longest wildfires during 2013-2018. The CAL FIRE Dept. learnt from their deficiencies and took necessary actions which was evident in the number and control of wildfires in the year 2019. \n\nIn summary,\n* The total number of incidents in the year 2018 is less than that of 2017 by 28 % where as the land area affected is about 187% more. This means that, in totality, the wildfires in 2018 were severe and larger.\n* (Severity)  The percentage of major fire incident has been more than 50 % since 2016 until 2019.\n* (Learning from the Past) The number of wildfires in the year 2019 is much lower than that of 2018 because of the serverity of the wildfires in 2018 that resulted in extra funding, equipment and better handling of wildfires in 2019 as mentioned in California State Budget Summary.\n* (Technological Progress) Due to advancements in wildfire handling technology, lower number of deployed personnel can handle larger and expansive of wildfires as evident from the years 2013 and 2018 where in 2018 the number of wildfires in 200 % whereas the personnel deployed is less than by around 23 %. A similar conclusion can be drawn for the number of water tenders involved.\n* (Who does how much) A Fire Administrative unit handles around 15-20 fires in the span of 6 years. The most wildfire prone regions handle at a maximum of 80-120 wildfires.\n* Looking at the administrative zones for the California Fire Dept. (shown below) we observe that the Riverside, San Diego, San Luis Obispo and Shasta-Trinity Unit are the top four administrative zones dealing with fire.\n* San Diego Fire Unit has been in the top 5 wildires handling unit throughout the years (2013-2019).\n* Riverside Fire Unit has handled wildfires only in years 2013, 2017 and 2018, yet has still handled the most number of incidents than any other unit (2013-2019).\n* There has been an increase in severity of wildfires upto 68.3 % of all the wildfires and total fatalities occuring being 95 % of all the fatalities since 2017 which are mostly concentrated towards south-east region of California - Riverside Unit (RRU) and San Diego Fire Unit.\n* Major wildfire incidents have mostly occured near regions of large population density and mostly concentrated towards South Eastern regions (San Diego and Riverside) of the state. This trend has become more prevalent since the year 2017.This is the topic of the article (California\u2019s wildfires are hardly \u201cnatural\u201d \u2014 humans made them worse at every step).\n* Wildfires since 2017 have been mostly concentrated in the same regions which vastly span the state of California. These regions have now been identified (in 2018) as priority landscapes for reducing wildfire risks.\n* Creek fire is the most fire prone zone in California.\n* The Worst wildfire occured in the Butte Counties on November, 2018 with 85 fatalities.\n* Wildfires with long fire durations occured in the years 2017 and 2018. With an average duration of around 190 hours, orders of magnitude larger than in other years.\n* Fires are either dealt-with relatively fast within 20 days or as large as upto 200 days. The longest being around ~ 450 days (Almost a year and half!!)\n* The longest fire was Thomas Fire in the Los Padres National Forest that started on 2017 Dec and was extinguished in March 2019 with a total duration of 465 days.","17f500e3":"The longest fire was Thomas Fire in the Los Padres National Forest that started on 2017 Dec and was extinguished in March 2019 with a total duration of 465 days.","cd18af29":"# Analysis of Wildfire in California\n\nWildfires as disasters are becoming more and more prevalent causing larger than ever loss of land, wild life, having wide impact on environment (air quality, increase in surrounding temperature), economy and lives.","560b615e":"## creating the derived dataset\n","0f08f14d":"Next we move onto exploring the prepared data.","bde3c87d":"Before diving into details of each year, let us explore and test some of the hypotheses we have, based on an aggregated year basis.","bbb6587a":"It was realized that using counties as the Admin units gets the proper fire handling unit for each incident. Thus we will use Counties instead of AdminUnits.","879afc14":"## Observation 7\n\nWildfires since 2017 have been mostly concentrated in the same regions which vastly span the state of California. \n\n* These regions have now been identified (in 2018) as priority landscapes for reducing wildfire risks as shown below.","d1e19b18":"#### Looking at the administrative zones for the California Fire Dept. (shown below) we observe that the Riverside, San Diego, San Luis Obispo and Shasta-Trinity Unit are the top four administrative zones dealing with fire.\n\nNote: Non-CAL FIRE Dept. and other assistive service units are not shown in this map.\n\n![](http:\/\/santacruzcountyfire.com\/images\/cdfmap.jpg)","e057747d":"This is also a nice way to retireve any url from the source if reader is interested in viewing more details of each incident.","ed5e4c7e":"\n<img src=\"https:\/\/www.intimeandplace.org\/El%20Dorado\/imagefile\/maps\/caldemo.jpg\" alt=\"drawing\" width=\"480\"\/>\nPopulation per Square Mile by Census Tract in Census 2000: California Profile, U S Census Bureau","e8ef2df7":"Note that the fire units name are repeated multiple times which are identified as different units in the plot and this was mostly observed to affect the wildfires handled by the San Bernardino unit and los angeles unit.","f29d6447":"### Worst wildfire","5456f8da":"### Future Work:\n1. Analyze more about the year 2018.\n2. A future more detailed analysis could include how this finding corresponds to increasing trend of California temerature (or reduced rainfall) that is causing dried forest beds to be more susceptable to fire hazards leading to major incidents.\n3. Include geoplot-based python libraries to facilitate interactive study.\n4. Incorporate other data sets such as the [1.88 Million US wildfires](https:\/\/www.kaggle.com\/rtatman\/188-million-us-wildfires) to obtain more insights such as the nature and cause of fire etc.\n5. Could update the current dataset to include wildfires till Septmeber 2020 and repeat the analysis.","8f1ab447":"As suspected, there are human errors in data entry where for smaller negative hours resulted because of mistaking the _Extinguished_ and _Started_ Columns. However, the data for large negative (or positive) days was because of the _Extinguished_ and\/or _Started_ column left at the dafult value of 31st Dec, 1969. For our analysis we will ignore these values (i.e. duration  $\\geq  500$ days and duration $ \\leq 100$ days)  and take the absolute values for small negative days ( $< 500$ days).","4f454c83":"### Reltionship between Fatalities, Fire Duration and Acres Burned\n\nAs a final note, the relationship between fire duration, acres burned and fatalities is plotted next.","9dc0694e":"![](https:\/\/cdn.mos.cms.futurecdn.net\/ZbatoSejxMwdMSVi3p5KdU-650-80.jpg.webp)\n\nThe Operational Land Imager aboard the NASA-USGS Landsat 8 satellite captured this image of California's Camp Fire on Nov. 8, 2018, around 10:45 a.m. local time (1845 GMT).\n(Image: \u00a9 NASA Earth Observatory image by Joshua Stevens, using Landsat data from USGS)","7620cf0b":"--------------","1ed417fa":"### Additional Resources\n[1] Wildfire Smoke: A Guide for Public Health Officials and Factsheets, https:\/\/www.airnow.gov\/wildfire-smoke-guide-publications\/","032d8136":"## Author: Sourav Patel, PhD Candidate, Electrical Engineering, University of Minnesota, Minnesota, USA <br>\n## Date: 3rd October, 2020 <br>\n## Title: Wildfires in California - An Exploratory Data Analysis <br>\nDataset: california-wildfire-incidents (Kaggle)<br>\nLanguage: Python<br>","71a5a8cb":"<!-- ![](https:\/\/www.redzone.co\/wp-content\/uploads\/2019\/06\/fhsz_map.png) -->\n\n<img src=\"https:\/\/www.redzone.co\/wp-content\/uploads\/2019\/06\/fhsz_map.png\" alt=\"drawing\" width=\"400\"\/>\n\nFire Hazard Severity Zones of California, California Department of Forestry and Fire Protection, 2019.","4d7a1746":"The four plots above provide a multitude of insight into the dataset. First of all, they again corroborate the findings of observation 2 (increase in severity of wildfires -- $68.3 \\%$ of all the wildfires  and total fatalities occuring being $~ 95\\%$ of all the fatalities) since 2017 mostly concentrated towards south-east region of California - Riverside Unit (RRU). See discussion on Observation 5.3 later.","e152acce":"Looking at the top two figure above and the figure of the population density of California from 2000-2010 (shown below), it can be clearly observed, the pattern of wildfires and major wildfire incidents have a huge corrlation visually. \n\n## Observation 6\nMajor wildfire incidents have mostly occured near regions of large population density and mostly concentrated towards South Eastern regions (San Diego and Riverside) of the state. This trend has become more prevalent since the year 2017.\n\nAre these mostly man-made? This is the topic of the [article](https:\/\/www.vox.com\/2018\/8\/7\/17661096\/california-wildfires-2018-camp-woolsey-climate-change) (California\u2019s wildfires are hardly \u201cnatural\u201d \u2014 humans made them worse at every step) that notes that:\n\n>A study published earlier this year in the Proceedings of the National Academies of Science, or PNAS, found that 84 percent of wildfires are ignited by humans, whether through downed power lines, careless campfires, or arson.\n\u201cHuman-started wildfires ... tripled the length of the fire season, dominated an area seven times greater than that affected by lightning fires, and were responsible for nearly half of all area burned,\u201d the paper reported.","f71dd7f7":"### Disclaimer: This EDA has been conducted by the author and reflects the views and beliefs of only the authors and no other authority. ","c74b1fd3":"### Let us look at a few of the samples of how the dataset looks like to get more insight into what can be analyzed.","db7bbf42":"Naturally, the next question to ask is:<br>\n_Are these fires concentrated in the areas covered under the CAL FIRE Riverside and San Diego ?_\n\nIn order to answer this, we will use the Latitude and Longitude Data and geo Locate the wildfires on a map of California for better visualtion.","e83b0815":"## Observation 10.1\n\nYet again, the long fire durations occured in the years 2017 and 2018. With an average duration of around 190 hours, orders of magnitude larger than in other years.","5f839c51":"As a matter of fact while writing this report, the Creek Fire of September, 2020 has been reported to be one of the largest most devastating fires of the yearin the history of CAL FIRE with only 44 % containment even after ~29 days.(https:\/\/inciweb.nwcg.gov\/incident\/7147\/).\n\n> FRESNO, Calif. (KFSN) -- The Creek Fire was first sparked on Friday, September 4, and 309,033 acres have burned as of Thursday morning (Oct 1st, 2020) with 44% containment. CAL FIRE officials say it is the largest single fire in California's recorded history.\n>At least 926 structures have been damaged or destroyed, and 4,576 are threatened. Officials say 30,000 residents of Fresno County and 15,000 residents of Madera County have been evacuated.\n\n## Observation 9.\nCreek fire is the most fire prone zone in California","80778d07":"## Observation 3. (Learning from the Past)[](http:\/\/)\n\nIt is possible that the number of wildfires in the year 2019 is much lower than that of 2018 because of the serverity of the wildfires in 2018 that resulted in extra funding, equipment and better handling of wildfires in 2019.\n\nIn fact, the following excerpt from [California state Budget Summary, Pg. 3](http:\/\/www.ebudget.ca.gov\/2019-20\/pdf\/Enacted\/BudgetSummary\/FullBudgetSummary.pdf) for 2019-2020 confirms it.\n\n> The Budget includes critical investments needed to sustain and improve California\u2019s\nemergency preparedness, response, and recovery capabilities. This includes\n$240.3 million to augment the California Department of Forestry and Fire Protection's\n(CAL FIRE's) firefighting capabilities by adding 13 additional year\u2011round engines,\nreplacing Vietnam War-era helicopters, deploying new air tankers, and investing in\ntechnology and data analytics that support CAL FIRE's initial fire suppression strategies.\nThe Budget also provides a sizable investment in forest management to increase fire\nprevention and complete additional fuel reduction projects, including increased\nprescribed fire crews. \n\nThis further bolsters our findings.","9d867eea":"First let us look at how severe these fires are by looking at the number of fire incidents and the total acres of land burned in each of the years.","3d9aef97":"## Observation 10.2\nFires are either dealt-with relatively fast within 20 days or as large as upto 200 days. The longest being around ~ 450 days (Almost a year and half!!)","67afe648":"## 2. Data Preparation and Cleaning <br\/>\n","a3d3292e":"## Observation 5 (Who does how much)\n\nA Fire Administrative unit handles around 15-20 fires in the span of 6 years. The most wildfire prone regions handle at a maximum of 80-120 wildfires.","53586ddc":"### As observed, the dataset contains of multitude of columns. Of these, we will be focusing on a few key statistics namely:\n\n| Column Name         \t|                       Description                       \t|\n|---------------------\t|:-------------------------------------------------------:\t|\n| AcresBurned         \t|           Acres of land affected by wildfires           \t|\n| AdminUnit           \t|   Administrative Jurisdiction of California Fire Dept.  \t|\n| ArchiveYear         \t|              Year of fire incident reported             \t|\n| Counties            \t|                    counties involved                    \t|\n| Extinguished        \t|     Date, Time of the day the fire was extinguished     \t|\n| Fatalities          \t|       Number of deaths caused due to the incident       \t|\n| Latitude, Longitude \t|            geo Location of the fire incident            \t|\n| MajorIncident       \t|                      Based on acres of land burned        |\n| Name                \t| Name of the fire incident (based on incident occurence) \t|\n| PersonnelInvolved   \t|        Man power deployed to handle the incident        \t|\n| Started             \t|                  Time of fire reported                  \t|\n| WaterTenders         \t| Type of firefighting apparatus that specialises <br>in the transport of water <br> (**Capacity ~U.S 2900 Gallons each**).               \t|","289ebd12":"## Observation 4. (Progress)\n\nDue to advancements in wildfire handling technology, lower number of deployed personnel can handle larger and expansive of wildfires as evident from the years 2013 and 2018 where in 2018 the number of wildfires in $~ 200 \\%$ whereas the personnel deployed is less than by around $23 \\%$. A similar conclusion can be drawn for the number of water tenders involved.\n\n_In other words, twice the number of wildfire incidents were handled by three-forths of the workforce in 2018 than in 2013._","cbc8a707":"### More resources\n[1] Community Wildfire Prevention & Mitigation Report, https:\/\/www.fire.ca.gov\/media\/5584\/45-day-report-final.pdf <br>\n[2] Realtime Incidents,https:\/\/inciweb.nwcg.gov\/accessible-view\/ <br>\n[3] Cal Fire Incidents details, https:\/\/www.fire.ca.gov\/incidents\/ <br>\n[4] California Budget 2019-2020, http:\/\/www.ebudget.ca.gov\/2019-20\/pdf\/Enacted\/BudgetSummary\/FullBudgetSummary.pdf\n"}}