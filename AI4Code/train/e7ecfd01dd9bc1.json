{"cell_type":{"bf1bdaf6":"code","87a65cb4":"code","d87246fa":"code","46b6def7":"code","7b29d81a":"code","23984eaa":"code","8ef05753":"code","92215a4c":"code","9426e60e":"code","a9cb4e60":"code","8fc08200":"code","5ebb40a3":"code","e5273e0c":"code","c6a7626b":"code","8e2e69ac":"code","673943ba":"code","7893f6a1":"code","a49b48d7":"code","f5e2effa":"code","516d71b3":"code","10dfb995":"code","38c4023b":"markdown","19d5cd01":"markdown","3e8ec70c":"markdown","ad62d822":"markdown","b346fd2d":"markdown","e8dc2487":"markdown","03003dc0":"markdown","c265aa5f":"markdown","e4fde032":"markdown","3a0364a2":"markdown","cc9edaf6":"markdown","d1bfdd2c":"markdown","ac390970":"markdown","04236e80":"markdown","893ca76c":"markdown","7ad42cef":"markdown","61666c2a":"markdown","b27afa52":"markdown","e6ea438f":"markdown","eda5e951":"markdown","32e60f1c":"markdown","5e3023be":"markdown","378fdfb8":"markdown","6f49b989":"markdown","7a36a319":"markdown","29f1913b":"markdown","7baf1de8":"markdown","b3a37fc2":"markdown","b258f652":"markdown","d82df671":"markdown","74f07aed":"markdown","3c7258bc":"markdown","17c830e3":"markdown","5f26b7fe":"markdown","31d35258":"markdown"},"source":{"bf1bdaf6":"#Libraries used in the kernel\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns # graphs potting \nimport matplotlib.pyplot as plt\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import r2_score, classification_report\nfrom statsmodels.api import OLS\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","87a65cb4":"dataframe = pd.read_csv(\"..\/input\/factors-affecting-campus-placement\/Placement_Data_Full_Class.csv\", index_col=\"sl_no\")\ndataframe.head()","d87246fa":"#Make copies of dataframe\ndata_reg = dataframe.copy()\ndata_class = dataframe.copy()","46b6def7":"sns.kdeplot(dataframe.mba_p[ dataframe.gender==\"M\"])\nsns.kdeplot(dataframe.mba_p[ dataframe.gender==\"F\"])\nplt.legend([\"Male\", \"Female\"])\nplt.xlabel(\"mba percentage\")\nplt.show()","7b29d81a":"matrix = dataframe.corr()\nplt.figure(figsize=(8,6))\n#plot heat map\ng=sns.heatmap(matrix,annot=True,cmap=\"YlGn_r\")","23984eaa":"plt.figure(figsize=(12,8))\nsns.regplot(x=\"ssc_p\",y=\"mba_p\",data=dataframe)\nsns.regplot(x=\"hsc_p\",y=\"mba_p\",data=dataframe)\nplt.legend([\"ssc percentage\", \"hsc percentage\"])\nplt.ylabel(\"mba percentage\")\nplt.show()","8ef05753":"# Seperating independent and dependent variables\n#dependent variables ssc_p, hsc_p\nX = data_class.iloc[:,[1,3]].values\ny = data_class.iloc[:,-3].values.reshape(-1,1)","92215a4c":"#splitting into training and test set\n#from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split( X, y, test_size=0.2, random_state=0)","9426e60e":"#Multiple linear regression\n#import library\n#from sklearn.linear_model import LinearRegression\nregressor = LinearRegression()\n\n#train the model\nregressor.fit(X_train, y_train)\n\n#predict the test set(mba_p)\ny_pred_m = regressor.predict(X_test)","a9cb4e60":"#from sklearn.metrics import r2_score, classification_report\nprint(\"R2 score: \" + str(r2_score(y_test, y_pred_m)))","8fc08200":"print(regressor.coef_)\nprint(regressor.intercept_)","5ebb40a3":"#from statsmodels.api import OLS\nsumm=OLS(y_train,X_train).fit()\nsumm.summary()","e5273e0c":"# Seperating independent and dependent variables\n#dependent variables ssc_p, degree_p\nX = data_class.iloc[:,[1,6]].values\ny = data_class.iloc[:,-3].values.reshape(-1,1)\n\n#splitting into training and test set\n#from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split( X, y, test_size=0.2, random_state=0)\n\n#Multiple linear regression\n#from sklearn.linear_model import LinearRegression\nregressor = LinearRegression()\nregressor.fit(X_train, y_train)\n\n#predict the dependent variable\ny_pred_m = regressor.predict(X_test)\n\n#from sklearn.metrics import r2_score, classification_report\nprint(\"R2 score: \" + str(r2_score(y_test, y_pred_m)))\nprint(\"regression coeff: \" + str(regressor.coef_))\nprint(\"regression intercept: \" + str(regressor.intercept_))\nprint(\"mba_p = 0.12 x ssc_p + 0.22 x degree_p + 39.66\")","c6a7626b":"# Seperating independent and dependent variables\nX = data_class.iloc[:,[3,6]].values\ny = data_class.iloc[:,-3].values.reshape(-1,1)\n\n#splitting into training and test set\n#from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split( X, y, test_size=0.2, random_state=0)\n\n#Multiple linear regression\n#from sklearn.linear_model import LinearRegression\nregressor = LinearRegression()\nregressor.fit(X_train, y_train)\ny_pred_m = regressor.predict(X_test)\n\n#from sklearn.metrics import r2_score, classification_report\nprint(\"R2 score:\" + str(r2_score(y_test, y_pred_m)))\nprint(\"regression coeff:\" + str(regressor.coef_))\nprint(\"regression intercept:\" + str(regressor.intercept_))\nprint(\"mba_p = \" + str(regressor.coef_[0][0]) + \" x hsc_p + \" + str(regressor.coef_[0][1]) + \" x degree_p + \" + str(regressor.intercept_[0]))","8e2e69ac":"# Seperating independent and dependent variables\nX = data_class.iloc[:,[1,3,6]].values\ny = data_class.iloc[:,-3].values.reshape(-1,1)\n\n#splitting into training and test set\n#from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split( X, y, test_size=0.2, random_state=1001)\n\n#Multiple linear regression\n#from sklearn.linear_model import LinearRegression\nregressor = LinearRegression()\nregressor.fit(X_train, y_train)","673943ba":"#Summary of the model\n#from statsmodels.api import OLS\nsumm=OLS(y_train,X_train).fit()\nsumm.summary()","7893f6a1":"# Seperating independent and dependent variables\nX = data_class.iloc[:,[3,6]].values\ny = data_class.iloc[:,-3].values.reshape(-1,1)\n\n#splitting into training and test set\n#from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split( X, y, test_size=0.2, random_state=1001)\n\n#Multiple linear regression\n#from sklearn.linear_model import LinearRegression\nregressor = LinearRegression()\nregressor.fit(X_train, y_train)","a49b48d7":"#predict the values\ny_pred_m = regressor.predict(X_test)","f5e2effa":"#Summary of the model\n#from statsmodels.api import OLS\nsumm=OLS(y_train,X_train).fit()\nsumm.summary()","516d71b3":"#from sklearn.metrics import r2_score, classification_report\n#R2 score\nprint(\"R2 score:\" + str(r2_score(y_test, y_pred_m)))\n\n#model p values\nprint(\"regression coeff:\" + str(regressor.coef_))\nprint(\"regression intercept:\" + str(regressor.intercept_))\nprint(\"mba_p = \" + str(regressor.coef_[0][0]) + \" x hsc_p + \" + str(regressor.coef_[0][1]) + \" x degree_p + \" + str(regressor.intercept_[0]))","10dfb995":"np.set_printoptions(precision=2)\ndff = pd.DataFrame(list(zip(y_test, y_pred_m.round(2))),columns=(\"Target\",\"Predicted\"))\ndff.head(8)","38c4023b":"# Table of contents\n\n* [Task](#T1)\n* [Packages used](#T21) and [Dataset](#T22)\n* [Data Visualization](#T3)\n* [Task 1: Training regression model](#T4)\n    * [Pre processing data](#T41)\n    * [Estimation by linear regressor](#T42)\n    * [Interpretting regressor coeff](#T43)\n    * [Significant check based on OLS summary](#T44)\n* [Task 2: Training regression model](#T5)\n    - [Model selection based on R2 score](#T51)\n* [Task 3: Train a regression model](#T6)\n    - [Insignificant variable based on OLS summary](#T61)\n    - [Retrain the model](#T62)\n    - [Observations True vs Predict](#T63)","19d5cd01":"2. **Estimate a multiple regression equation for each of the below scenarios and based on the model\u2019s R-square comment which model is better.** \n    \n    (ii) Use mbap as outcome variable and hscp & degreep as the two predictor variables.","3e8ec70c":"_average density plot shows Male has lower average score in MBA than Females.","ad62d822":"<a id=\"T41\"><\/a>\n# Pre processing data","b346fd2d":"> **The regression model summary shows that the hsc and degree predictor variables are statistically significant because their p-values equal 0.000.**\n\n> **The x1 i.e. ssc variable has a p-value 0.004**","e8dc2487":"**Correlation between different features**","03003dc0":"1. **Develop an estimated multiple linear regression equation with mbap as response variable and sscp & hscp as the two predictor variables. Interpret the regression coefficients and check whether they are significant based on the summary output**","c265aa5f":"<a id=\"T21\"><\/a>\n# Packages used","e4fde032":"**_functional form_**\n> Multiple regression model with mba_p as dependent varialble and ssc_p, hsc_p and degree_p as three independent variables.\n\n$$ mba_p = x_1.ssc_p + x_2.hsc_p + x_3.degree_p + constant $$","3a0364a2":"3) **Show the functional form of a multiple regression model. Build a regression model with mbap as dependent variable and sscp, hscp and degree_p as three independent variables.** \n    \n    Divide the dataset in the ratio of 80:20 for train and test set (set seed as 1001) and use the train set to build the model. Show the model summary and interpret the p-values of the regression coefficients. \n    \n    Remove any insignificant variables and rebuild the model. \n    \n    Use this model for prediction on the test set and show the first few observations\u2019 actual value of the test set in comparison to the predicted value.","cc9edaf6":"# $$\\textrm{Multiple Linear Regression}$$\n---","d1bfdd2c":"The equation of our multiple linear regression model is:\n\n$$\\textrm{mba_p} = 0.14 \\times \\textrm{ssc_p} + 0.13 \\times \\textrm{hsc_p} + 44.05$$\n","ac390970":"<a id=\"T1\"><\/a>\n# Task\n\n1) Develop an estimated multiple linear regression equation with mbap as response variable and sscp & hscp as the two predictor variables. Interpret the regression coefficients and check whether they are significant based on the summary output.\n\n---\n2) Estimate a multiple regression equation for each of the below scenarios and based on the model\u2019s R-square comment which model is better. \n    \n    (i) Use mbap as outcome variable and sscp & degreep as the two predictor variables.\n    \n    (ii) Use mbap as outcome variable and hscp & degreep as the two predictor variables. \n---\n3) Show the functional form of a multiple regression model. Build a regression model with mbap as dependent variable and sscp, hscp and degree_p as three independent variables. \n    \n    Divide the dataset in the ratio of 80:20 for train and test set (set seed as 1001) and use the train set to build the model. Show the model summary and interpret the p-values of the regression coefficients. \n    \n    Remove any insignificant variables and rebuild the model. \n    \n    Use this model for prediction on the test set and show the first few observations\u2019 actual value of the test set in comparison to the predicted value.","04236e80":"* _The significance of a regression coefficient in a regression model is determined by dividing the estimated coefficient over the standard deviation of this estimate._\n* _For statistical significance we expect the absolute value of the t-ratio to be greater than 2 or the_\n* _P-value to be less than the significance level (\u03b1=0.01 or 0.05 or 0,1)._","893ca76c":"<a id=\"T62\"><\/a>\n## Retrain the model","7ad42cef":"<a id=\"T5\"><\/a>\n# Task 2: Training regression model","61666c2a":"_SSC percentage slightly weighs more for having good MBA score_","b27afa52":"2. **Estimate a multiple regression equation for each of the below scenarios and based on the model\u2019s R-square comment which model is better.** \n    \n    (i) Use mbap as outcome variable and sscp & degreep as the two predictor variables.    ","e6ea438f":"_Senior secondary have a higher correlation with MBA score than Higher secondary score_","eda5e951":"<a id=\"T61\"><\/a>\n## Insignificant variable based on OLS summary","32e60f1c":"**The regression model summary shows that the hsc and ssc predictor variables are statistically significant because their p-values equal 0.000.**","5e3023be":"<a id=\"T63\"><\/a>\n## Observations true vs predicted","378fdfb8":"**This plot shows marks distribution in MBA score**","6f49b989":"<a id=\"T22\"><\/a>\n# Import Dataset","7a36a319":"<a id=\"T3\"><\/a>\n# Data Visualization","29f1913b":"<a id=\"T43\"><\/a>\n## Interpreting regression coefficients","7baf1de8":"<a id=\"T44\"><\/a>\n## Significant check based on OLS summary","b3a37fc2":"<a id='51'><\/a>\n## model selection based on R2 score","b258f652":"<a id=\"T4\"><\/a>\n# Task 1: Training regression model","d82df671":"**_Drop the ssc feature_**","74f07aed":"$$\\textrm{If you like the work please upvote :-) }$$\n$$\\textrm{Comments are Welcome }$$","3c7258bc":"> **Model with mbap as outcome variable and sscp & degreep as the two predictor variables is better since the r2_score is 0.267**","17c830e3":"* _The significance of a regression coefficient in a regression model is determined by dividing the estimated coefficient over the standard deviation of this estimate._\n* _For statistical significance we expect the absolute value of the t-ratio to be greater than 2 or the_\n* _P-value to be less than the significance level (\u03b1=0.01 or 0.05 or 0,1)._","5f26b7fe":"<a id=\"T42\"><\/a>\n## Estimation by multiple regressor","31d35258":"<a id=\"T6\"><\/a>\n# Task 3: Train a regression model"}}