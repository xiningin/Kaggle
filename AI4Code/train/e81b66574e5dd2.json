{"cell_type":{"60b63dac":"code","6eec0820":"code","9eae8a89":"code","3b576293":"code","fd2286de":"code","a7c58ea7":"code","b9bd7c96":"code","e0889459":"code","d4c2344e":"code","308cb2f6":"code","43d91dbf":"code","77c8d2a7":"code","891f332e":"code","eb3b9050":"code","a9809d94":"code","80ba80a0":"code","730d2134":"code","cb8edbb3":"code","d1bb86ff":"code","e3be2ec0":"code","1b4b9c08":"code","38fb9b80":"markdown","b142ccca":"markdown","d0347e28":"markdown","6900af7b":"markdown","fa211f9b":"markdown","74f0ed4e":"markdown","74c98ac4":"markdown","2e14067e":"markdown"},"source":{"60b63dac":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport warnings\nwarnings.filterwarnings('ignore')\nimport seaborn as sns\nimport matplotlib\nmatplotlib.rcParams['axes.unicode_minus']=False\nplt.style.use('ggplot')\nfrom sklearn.preprocessing import scale,minmax_scale\nimport os","6eec0820":"def resumetable(df):\n    print(f\"Dataset Shape: {df.shape}\")\n    summary=pd.DataFrame(df.dtypes,columns=['dtypes'])\n    summary=summary.reset_index()\n    summary['Name']=summary['index']\n    summary=summary[['Name','dtypes']]\n    summary['Min']=df.min().values\n    summary['Max']=df.max().values\n    summary['Missing']=df.isnull().sum().values    \n    summary['Uniques']=df.nunique().values\n    return summary","9eae8a89":"train_lab=pd.read_csv('..\/input\/bigcontest2019\/train_label.csv')\nprint('train_lab.shape :',train_lab.shape)\ntrain_lab.head()","3b576293":"resumetable(train_lab)","fd2286de":"train_tra=pd.read_csv('..\/input\/bigcontest2019\/train_trade.csv')\ntest1_tra=pd.read_csv('..\/input\/bigcontest2019\/test1_trade.csv')\ntest2_tra=pd.read_csv('..\/input\/bigcontest2019\/test2_trade.csv')\nprint('train_tra.shape :',train_tra.shape)\nprint('test1_tra.shape :',test1_tra.shape)\nprint('test2_tra.shape :',test2_tra.shape)\ntrain_tra.head()","a7c58ea7":"resumetable(train_tra)","b9bd7c96":"train_sell=train_tra.drop(['target_acc_id','target_char_id'],axis=1)  # \ud310\ub9e4 \ub370\uc774\ud130\ntrain_buy=train_tra.drop(['source_acc_id','source_char_id'],axis=1)   # \uad6c\ub9e4 \ub370\uc774\ud130\ntrain_sell.head()","e0889459":"train_buy.head()","d4c2344e":"train_sell = train_sell.rename(columns = {'source_acc_id':'acc_id',\n                                          'source_char_id':'char_id',\n                                          'item_type':'sell_item_type',\n                                          'item_amount':'sell_item_amount',\n                                          'item_price':'sell_item_price',\n                                          'time':'sell_time',\n                                          'type':'sell_type'})\ntrain_buy = train_buy.rename(columns = {'target_acc_id':'acc_id',\n                                        'target_char_id':'char_id',\n                                        'item_type':'buy_item_type',\n                                        'item_amount':'buy_item_amount',\n                                        'item_price':'buy_item_price',\n                                        'time':'buy_time',\n                                        'type':'buy_type'})\ntrain_sell.head()","308cb2f6":"train_buy.head()","43d91dbf":"uniq_acc_id = train_lab['acc_id'].values\nprint(len(uniq_acc_id))\nuniq_acc_id[:10]","77c8d2a7":"train_sell = train_sell[train_sell['acc_id'].isin(uniq_acc_id)]\ntrain_sell.head()","891f332e":"print('\ud310\ub9e4 \ub370\uc774\ud130\uc758 \uc720\ub2c8\ud06c\ud55c \uc720\uc800\uc544\uc774\ub514 \uac1c\uc218 :',train_sell['acc_id'].nunique())","eb3b9050":"train_sell=train_sell[train_sell['acc_id'].notna()]\nprint('\ud310\ub9e4 \ub370\uc774\ud130.shape :',train_sell.shape)\ntrain_sell.head()","a9809d94":"train_buy = train_buy[train_buy['acc_id'].isin(uniq_acc_id)]\ntrain_buy.head()","80ba80a0":"print('\uad6c\ub9e4 \ub370\uc774\ud130\uc758 \uc720\ub2c8\ud06c\ud55c \uc720\uc800\uc544\uc774\ub514 \uac1c\uc218 :',train_buy['acc_id'].nunique())","730d2134":"train_buy=train_buy[train_buy['acc_id'].notna()]\nprint('\uad6c\ub9e4 \ub370\uc774\ud130.shape :',train_buy.shape)\ntrain_buy.head()","cb8edbb3":"l1 = list(train_sell.index)\nl2 = list(train_buy.index)","d1bb86ff":"train_sell.loc[train_sell.index.isin(l2),:].head()","e3be2ec0":"train_buy.loc[train_buy.index.isin(l1),:].head()","1b4b9c08":"print('\ud558\ub098\uc758 \uac70\ub798\uc5d0\uc11c \uad6c\ub9e4\uc790\uc640 \ud310\ub9e4\uc790\uac00 \ub3d9\uc2dc\uc5d0 label\uc5d0 \uc788\ub294 \uc720\uc800\uc778 \uacbd\uc6b0 :',train_sell.loc[train_sell.index.isin(l2),:].shape[0])","38fb9b80":"\ud5e4\ub4dc\ub9cc \ube44\uad50\ud574\ubd10\ub3c4 acc_id\uc640 char_id\ub9cc \ub2e4\ub974\uace0 \ub098\uba38\uc9c0 \ubcc0\uc218\ub4e4\uc740 \uac19\ub2e4.  \n\ub098\uba38\uc9c0 \ubcc0\uc218\ub4e4\uc744 \uc774\uc6a9\ud574 \uad6c\ub9e4\uc790\uc640 \ud310\ub9e4\uc790\ub97c \uc54c \uc218 \uc788\ub2e4.\n\n\ucf54\ub4dc\ub97c \ubab0\ub77c\uc11c \uc778\ub371\uc2a4\ub85c \ucc3e\uc558\uc9c0\ub9cc \uac00\ub2a5\ud55c \uac83 \uac19\ub2e4.","b142ccca":"reset_index\ub97c \uc548\ud588\uae30 \ub54c\ubb38\uc5d0 \uc778\ub371\uc2a4\ub85c \uac19\uc740 \ud589\uc774\uc5c8\ub358 \uc544\uc774\ub4e4\uc744 \ucc3e\uc744 \uc218 \uc788\ub2e4.","d0347e28":"# Data Field\n## label (target)\n- acc_id : \uc720\uc800 \uc544\uc774\ub514\n- survival_time : \uc0dd\uc874 \uae30\uac04(\uc77c)\n- amount_spent : \uc77c\ubcc4 \ud3c9\uade0 \uacb0\uc81c \uae08\uc561\n\n## trade\n- day : \uac70\ub798 \ubc1c\uc0dd \uc77c\n- time : \uac70\ub798 \ubc1c\uc0dd \uc2dc\uac04 (00:00:00 ~ 23:59:59)\n- type : \uac70\ub798 \uad6c\ubd84 (\uad50\ud658\ucc3d = 1, \uac1c\uc778\uc0c1\uc810 = 0)\n- server : \uac70\ub798 \ubc1c\uc0dd \uc11c\ubc84\n- source_acc_id : \uc8fc\ub294\/\ud310\ub9e4 \uc720\uc800 \uc544\uc774\ub514\n- source_char_id : \uc8fc\ub294\/\ud310\ub9e4 \uce90\ub9ad\ud130 \uc544\uc774\ub514\n- target_acc_id : \ubc1b\ub294\/\uad6c\ub9e4 \uc720\uc800 \uc544\uc774\ub514\n- target_char_id : \ubc1b\ub294\/\uad6c\ub9e4 \uce90\ub9ad\ud130 \uc544\uc774\ub514\n- item_type : \uc544\uc774\ud15c \uc885\ub958 weapon(\ubb34\uae30), armor(\ubc29\uc5b4\uad6c), accessory(\uc561\uc138\uc11c\ub9ac), adena(\uc544\ub370\ub098), spell(\uc2a4\ud0ac\ubd81), enchant_scroll(\uac15\ud654\uc8fc\ubb38\uc11c), etc(\uae30\ud0c0)\n- item_amount : \uac70\ub798 \uc544\uc774\ud15c \uc218\ub7c9\n- item_price : \uac70\ub798 \uac00\uaca9 - \uad50\ud658\ucc3d \uac70\ub798 (Type=1)\uc77c \uacbd\uc6b0 NA","6900af7b":"- \uc9dc\uc794~! \uc77c\ub2e8 \uc774\ub807\uac8c \ub098\ub204\uc5b4 \ubd24\uc2b5\ub2c8\ub2e4.\n\n- \ud53c\ub4dc\ubc31 \ubd80\ud0c1\ub4dc\ub9bd\ub2c8\ub2e4 \ud589\ub2d8\ub4e4.\n\n- \uad1c\ucc2e\ub2e4\uba74 test1, test2 \uae4c\uc9c0 \ub9cc\ub4e4\uc5b4\uc11c csv\ud30c\uc77c \uc62c\ub9ac\uaca0\uc2b5\ub2c8\ub2e4.","fa211f9b":"## \uc5ec\uae30\uc11c train_label\uc5d0 \uc5c6\ub294 acc_id\ub4e4\uc740 \uc0ad---\uc81c \ud574\uc90d\ub2c8\ub2e4.","74f0ed4e":"## \ubcc0\uc218 \uc774\ub984\uc744 \ubc14\uafc9\ub2c8\ub2e4.","74c98ac4":"# train_trade \ub370\uc774\ud130\ub97c \ud310\ub9e4\ud55c \ub370\uc774\ud130\uc640 \uad6c\ub9e4\ud55c \ub370\uc774\ud130\ub85c \ub098\ub208\ub2e4.","2e14067e":"item_type\uc740 \ub354\ubbf8\ub85c \ub9cc\ub4e4\uc5b4\uc57c\ud560 \uac83 \uac19\uace0, time\uc740?"}}