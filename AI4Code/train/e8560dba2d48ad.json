{"cell_type":{"03c7fe01":"code","7da13cff":"code","686cc4be":"code","c775869c":"code","0d6e9c27":"code","2512c135":"code","d0d2b619":"code","2d10b4b5":"code","2f7cb882":"code","e8daf8f9":"code","1c502911":"code","b3e66812":"code","d37285b1":"code","97cbe2f4":"code","f4e9cf1c":"code","e0d12b91":"code","34f2b5b7":"code","87455e1f":"code","f10905c1":"code","cb44c5c2":"code","80c27a4c":"code","fced09ae":"code","b4a4ebac":"code","0bb07d4f":"code","e8612f9a":"code","55b02e77":"code","4db170b4":"code","d07d736e":"code","4a0e9856":"code","80bbfa94":"code","54cbd862":"code","714d899e":"code","d5963ff5":"code","bd8a3df8":"code","af8120b7":"code","8da7c109":"code","ff84475c":"code","fb62132a":"code","c1463fef":"code","a2ecf78b":"code","725a495b":"code","1c65d56e":"code","bb1c8668":"markdown","79b2ad52":"markdown","80435d61":"markdown","142c0e9c":"markdown","44fa7d65":"markdown","1a1dd769":"markdown","160cf1ae":"markdown","96dc4416":"markdown","a16d6b5d":"markdown","da8cbffc":"markdown","1feea7d1":"markdown","f350cbbd":"markdown","8bef60b8":"markdown","beabac82":"markdown","c1dbe8d6":"markdown","e48ab4e3":"markdown","8c362e5a":"markdown","f0bc6423":"markdown","41ab0999":"markdown","318535bc":"markdown","80871e97":"markdown","95924d4e":"markdown","09a14b5f":"markdown","1669c792":"markdown","b1fa4426":"markdown","32025b6d":"markdown"},"source":{"03c7fe01":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","7da13cff":"#find the data type of each column.\n\nnetflix_2019_file_path = '..\/input\/netflix-shows\/netflix_titles.csv'\n\ndf_netflix_2019 = pd.read_csv(netflix_2019_file_path)\ndf_netflix_2019\n","686cc4be":"df_netflix_2019.dtypes","c775869c":"#find the number of rows and columns, the dataset contains, use the .shape method.\n\ndf_netflix_2019.shape","0d6e9c27":"#Create a percentage list with .isnull()\n\ndf_netflix_2019.isnull().sum()#.sort_values(ascending=False)","2512c135":"# % of rows missing in each column\n\nfor column in df_netflix_2019.columns:\n    percentage = df_netflix_2019[column].isnull().mean()\n    print(f'{column}: {round(percentage*100,2)}%')","d0d2b619":"#drop column\ndf_netflix_2019.drop('director', axis=1)","2d10b4b5":"#drop row\n\nno_director = df_netflix_2019[df_netflix_2019['director'].isnull()].index\ndf_netflix_2019.drop(no_director, axis=0)","2f7cb882":"#~ + .isnull()\ndf_netflix_2019[~df_netflix_2019['director'].isnull()]","e8daf8f9":"#dropns()\ndf_netflix_2019.dropna(subset=['director']) #, inplace=True)","1c502911":"df_netflix_2019[df_netflix_2019['rating'].isnull()]","b3e66812":"mode = ''.join(df_netflix_2019['rating'].mode())\ndf_netflix_2019['rating'].fillna(mode, inplace=True)","d37285b1":"mode","97cbe2f4":"for column in df_netflix_2019.columns:\n    percentage = df_netflix_2019[column].isnull().mean()\n    print(f'{column}:{round(percentage*100,2)}%')  \n","f4e9cf1c":"df_netflix_2019['duration'].fillna(0, inplace=True)","e0d12b91":"df_movie = df_netflix_2019[df_netflix_2019['type'] == 'Movie']\n\n","34f2b5b7":"df_movie","87455e1f":"df_movie['duration']","f10905c1":"df_movie = df_movie.assign(minute = df_movie['duration'].str.extract(r'(\\d+)', expand=False).dropna().astype(int))","cb44c5c2":"df_movie","80c27a4c":"fig, ax = plt.subplots(nrows=1, ncols=1)\nplt.hist(df_movie['minute'])\nfig.tight_layout()","fced09ae":"fig, ax = plt.subplots(nrows=1, ncols=1)\nax = sns.boxplot(x=df_movie['minute'])\nfig.tight_layout()","b4a4ebac":"df_movie['minute'].describe()","0bb07d4f":"fig=df_netflix_2019['rating'].value_counts().plot.bar().get_figure()\nfig.tight_layout()","e8612f9a":"#outiliers df_movie[df_movie['minute'] < 43 | df_movie['minute'] > 158]\n#filtering outliers out\ndf_movie = df_movie[(df_movie['minute'] > 43) & (df_movie['minute'] <158)]","55b02e77":"fig, ax = plt.subplots(nrows=1, ncols=1)\nax = sns.boxplot(x=df_movie['minute'])\nfig.tight_layout()","4db170b4":"fig, ax = plt.subplots(nrows=1, ncols=1)\nplt.hist(df_movie['minute'])\nfig.tight_layout()","d07d736e":"netflix_2019_originals_file_path = '..\/input\/netflix-originals\/netflix_originals.csv'\ndf_netflix_2019_originals = pd.read_csv(netflix_2019_originals_file_path)\ndf_netflix_2019_originals","4a0e9856":"df_netflix_2019_originals.rename(columns={'titles':'title', 'years':'release_year'}, inplace=True)","80bbfa94":"df_netflix_2019_originals","54cbd862":"df_netflix_2019_originals.info()","714d899e":"df_netflix_2019_originals = df_netflix_2019_originals.astype({'release_year': int})","d5963ff5":"df_netflix_2019_originals.info()","bd8a3df8":"from fuzzywuzzy import process, fuzz\n\nstates = ['New York', 'California', 'Washington', 'Hawaii']\ndf_states = pd.DataFrame({'states':['NY', 'CA', 'Washington DC', 'Hawai']})\ndf_states[['match', 'score']] = df_states['states'].apply(lambda x:process.extractOne(x, states, scorer=fuzz.token_sort_ratio)).apply(pd.Series)\ndf_states","af8120b7":"df_netflix_2019_originals['title'] = df_netflix_2019_originals['title'].apply(lambda x:x.lower())\ndf_netflix_2019_originals['title'] = df_netflix_2019_originals['title'].str.lower()\ndf_netflix_2019_originals","8da7c109":"df_netflix_2019_originals['title'] = df_netflix_2019_originals['title'].apply(lambda x:x.strip())\ndf_netflix_2019_originals['title'] = df_netflix_2019_originals['title'].str.strip()\ndf_netflix_2019_originals","ff84475c":"# remove punctuation: clean characters other than word or spaces\n#df_netflix_2019_originals['title'] = df_netflix_2019_originals['title'].apply(lambda x:re.sub('[^\\w\\s]','',x))\n#df_netflix_2019_originals['title'] = df_netflix_2019_originals['title'].replace('[^\\w\\s]', '', regex=True, inplace=True)\n\n#df_netflix_2019_originals","fb62132a":"df_netflix_2019 = pd.merge(df_netflix_2019_originals,df_netflix_2019, on = ['title', 'type', 'release_year'], how='outer')\ndf_netflix_2019['original'].fillna('Catalog', inplace=True)","c1463fef":"df_netflix_2019.drop_duplicates(['title'], keep='first', inplace=True)","a2ecf78b":"df_netflix_2019[['original', 'type']].value_counts()","725a495b":"df_netflix_2019","1c65d56e":"df_netflix_2019.info()","bb1c8668":"## Dealing with inconsistent data type\n","79b2ad52":"## 4.1. Using histograms to identify outliers within numeric data\n","80435d61":"# 3. Dealing with Missing Data","142c0e9c":"## Using bars to identify outliers within categorical data","44fa7d65":"## Remove a column or row with .drop, .dropna or .isnull","1a1dd769":"Outlier is a commonly used terminology by analysts and data scientists as it needs close attention else it can result in wildly wrong estimations. Simply speakin. An outlier is that data that that differs significantly from other observations. A dataset might contain real outliers or outliers obtained after poor data collection or caused by data entry errors. \n\nOutlier can be of two types: Univariate and Multivariate. Above, we have discussed the example of univariate outlier. These outliers can be found when we look at distribution of a single variable.","160cf1ae":"## Remove or replace strings with .replace() or .sub()","96dc4416":"# 6. Dealing with Inconsistent Data Before Merging 2 Dataframes","a16d6b5d":"## Dealing with inconsistent names e.g., \u201cNew York\u201d vs. \u201cNY\u201d","da8cbffc":"# 7. Text Normalization","1feea7d1":"# 2. Identify Missing Data","f350cbbd":"There are different ways of dealing with missing data. The correct approach to handling missing data will be highly influenced by the data and goals your project has.","8bef60b8":"## Replace it by the mean, median or mode","beabac82":"Another common approach is to use the mean, median or mode to replace the empty values. The mean and median are used to replace numeric data, while the mode replaces categorical data.","c1dbe8d6":"### Table of Contents\n1. Quick Dataset Overview\n2. Identify Missing Data\n - Create a percentage list with .isnull()\n3. Dealing with Missing Data\n - Remove a column or row with .drop, .dropna or .isnull\n - Replace it by the mean, median or mode\n - Replace it by an arbitrary number with .fillna()\n4. Identifying Outliers\n - Using histograms to identify outliers within numeric data\n - Using boxplots to identify outliers within numeric data\n - Using bars to identify outliers within categorical data\n5. Dealing with Outliers\n - Using operators & | to filter out outliers\n6. Dealing with Inconsistent Data Before Merging 2 Dataframes\n - Dealing with inconsistent column names\n - Dealing with inconsistent data type\n - Dealing with inconsistent names e.g. \"New York\" vs \"NY\"\n7. Text Normalization\n - Dealing with inconsistent capitalization\n - Remove blank spaces with .strip()\n - Remove or replace strings with .replace() or .sub()\n8. Merging Datasets\n - Remove duplicates with .drop_duplicates()","e48ab4e3":"In this case, we\u2019re going to filter out outliers based on the values revealed by the boxplot.","8c362e5a":"# 1. Quick Dataset Overview","f0bc6423":"# 4. Identifying Outliers","41ab0999":"Also, you can use the ffill , bfill to propagate the last valid observation forward and backward, respectively.","318535bc":"## Dealing with inconsistent column names\n","80871e97":"Frank Andrade @https:\/\/towardsdatascience.com\/a-straightforward-guide-to-cleaning-and-preparing-data-in-python-8c82f209ae33","95924d4e":"# 5. Dealing with Outliers","09a14b5f":"## Remove blank spaces with .strip()","1669c792":"## Using operators & | to filter out outliers","b1fa4426":"## Using boxplots to identify outliers within numeric data","32025b6d":"## Replace it by an arbitrary number with .fillna()<\\2>"}}