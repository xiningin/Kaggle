{"cell_type":{"82239ca4":"code","c6c47e91":"code","f8d898fc":"code","8fed0dce":"code","976ad260":"code","efd90fa9":"code","fed2758d":"code","2fe83267":"code","c1c4aa20":"code","758e64a8":"markdown","d9d3e498":"markdown","b489d7a3":"markdown","88d0d74a":"markdown","e0a52325":"markdown","f1b468bf":"markdown","a41cefd6":"markdown","262cb29b":"markdown","f6fb559e":"markdown"},"source":{"82239ca4":"!pip install apyori","c6c47e91":"import numpy as np\nimport matplotlib.pyplot as plt\nimport pandas as pd","f8d898fc":"dataset = pd.read_csv('..\/input\/suggestions\/Market_Basket_Optimisation.csv', header = None)\ntransactions = []\nfor i in range(0, 7501):\n  transactions.append([str(dataset.values[i,j]) for j in range(0, 20)])","8fed0dce":"from apyori import apriori\nrules = apriori(transactions = transactions, min_support = 0.003, min_confidence = 0.2, min_lift = 3, min_length = 2, max_length = 2)","976ad260":"results = list(rules)","efd90fa9":"results","fed2758d":"def inspect(results):\n    lhs         = [tuple(result[2][0][0])[0] for result in results]\n    rhs         = [tuple(result[2][0][1])[0] for result in results]\n    supports    = [result[1] for result in results]\n    confidences = [result[2][0][2] for result in results]\n    lifts       = [result[2][0][3] for result in results]\n    return list(zip(lhs, rhs, supports, confidences, lifts))\nresultsinDataFrame = pd.DataFrame(inspect(results), columns = ['Left Hand Side', 'Right Hand Side', 'Support', 'Confidence', 'Lift'])","2fe83267":"resultsinDataFrame","c1c4aa20":"resultsinDataFrame.nlargest(n = 10, columns = 'Lift')","758e64a8":"### Displaying the first results coming directly from the output of the apriori function","d9d3e498":"### Displaying the results sorted by descending lifts","b489d7a3":"## Training the Apriori model on the dataset","88d0d74a":"## Visualising the results","e0a52325":"## Importing the libraries","f1b468bf":"## Data Preprocessing","a41cefd6":"# Apriori","262cb29b":"### Putting the results well organised into a Pandas DataFrame","f6fb559e":"### Displaying the results non sorted"}}