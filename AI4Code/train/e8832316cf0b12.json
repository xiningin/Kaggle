{"cell_type":{"076670aa":"code","8758c3a6":"code","6201e4bb":"code","0a4a5f63":"code","e9739059":"code","5ca67a27":"code","ee60078b":"code","27431a6a":"code","5b9c19aa":"code","f754a62a":"code","59a1c465":"code","a3b7689e":"code","d6b481ce":"code","b44bbcf1":"code","2f91021a":"code","a3c52a74":"code","54fc0fc2":"code","deaa5b1d":"code","4aeefa24":"code","806dfed1":"code","b30a47f4":"code","432e3103":"code","4e6320bc":"code","f0303348":"code","104509eb":"code","e7eca588":"code","c92c2872":"code","0810bcd0":"code","8b44ff38":"code","ada507e4":"code","787c26e0":"code","ce247c3a":"code","4642b5c8":"code","3fc82b62":"code","cfac7473":"code","6f94f133":"code","0c700172":"code","8307ca2b":"code","5fe268e8":"code","a87e69a9":"code","4161e147":"code","b6ad3322":"code","b867be4f":"code","4b518634":"code","0cb9ccf2":"code","7ee6d674":"code","ac4c533e":"code","7039a33c":"code","e7149120":"code","72849f8b":"code","66f02124":"code","cb24f6d6":"code","eb080230":"code","5376d380":"code","6f58d436":"code","e95441d0":"code","8c8e26a0":"code","ffc65830":"code","3f24c1e3":"code","9ee0df25":"code","feff9b5d":"code","cf717a50":"code","030cccd5":"code","130e0875":"code","edaf60ab":"code","d1dc992a":"code","6513658b":"code","8e8400b5":"code","7fcdc6f3":"code","8cda922e":"code","98747074":"code","a9032b1a":"code","3b224808":"code","d30b2744":"code","9b2ef357":"code","a651f4d1":"code","71895da3":"code","ce5357c4":"code","5172e2f5":"code","1b797c18":"code","fc7dc2ac":"code","346356f6":"code","e7b0fce1":"code","9dad7dce":"code","db599b77":"code","3c088e68":"code","4805478e":"code","de2cab55":"code","83c8bba2":"code","6c51f81f":"code","085e79a3":"code","12b5b5e9":"code","35409dd5":"code","9069dc61":"code","4318f0d3":"code","b2b2764f":"code","bbbcedfd":"code","5cda2883":"code","326209f8":"code","9337d737":"code","47f8ec2c":"code","d2221391":"code","92391920":"code","30de0a01":"code","55bbd252":"code","7dd04eac":"code","dc861650":"code","f940314f":"code","3b7bbf90":"code","096e2a7a":"code","7b9d8ee4":"code","94067231":"code","b245840a":"code","e62f72bb":"code","a30ace63":"code","e9e145da":"code","379f1121":"code","94d37dad":"code","a7dd0c8b":"code","9a7598a4":"code","5043a61f":"code","27b43a5a":"code","f61f88e8":"code","7edf2d63":"code","4ca62777":"code","d6c1709d":"code","a5b727bd":"code","f2a71446":"code","94650dd1":"code","99190054":"code","2567b7e5":"code","0fd1e07f":"code","9e03ca05":"code","292b6754":"code","9ccc2ced":"code","f4c86c90":"code","f61f6a55":"code","c10d5afb":"code","2a7d25a1":"code","350d8ac0":"code","9e13663e":"code","dcf5a61f":"code","dd26e5cc":"code","401daaa1":"code","e98585f9":"code","4adc67ce":"code","e9df86ef":"code","94cdaada":"code","eeb3a351":"code","5810c840":"code","6bc07b8f":"code","be42c94f":"code","16e7fd64":"code","a6792142":"code","588dfda2":"code","03907fea":"code","ad3fdd56":"code","639e9755":"code","74046bd7":"code","8abededc":"code","a3218439":"code","3f29f4c9":"code","0ea73dbb":"code","e7cc4b03":"code","5ba3a2c0":"code","980a4b8e":"code","36ce0240":"code","b88a376e":"code","1bce0d48":"code","ae994351":"code","25823000":"code","6d09320d":"code","0bf4e863":"code","5d9ca703":"code","88d0179d":"code","008f47af":"code","f610e29c":"code","f939e6a6":"code","6ca5a1df":"code","86f55608":"code","b40a0760":"code","dd66400c":"markdown","00cae486":"markdown","04da72c8":"markdown","56c418a6":"markdown","ae2d64c6":"markdown","d2c0bdfc":"markdown","5222e9e3":"markdown","b626b3df":"markdown","1a4e6c39":"markdown","74109e23":"markdown"},"source":{"076670aa":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns","8758c3a6":"data = pd.read_csv('..\/input\/housesprices\/kc_house_data.csv')","6201e4bb":"data.head()","0a4a5f63":"data.shape","e9739059":"data.info()","5ca67a27":"data.isnull().sum()","ee60078b":"sns.heatmap(data.isnull(),cmap='rocket',cbar=True,yticklabels=False)\nplt.title('Missing Data')\nplt.show()","27431a6a":"data['sqft_living'].mean()","5b9c19aa":"data['sqft_living'] = data['sqft_living'].fillna(data['sqft_living'].mean())","f754a62a":"data['sqft_lot'].mean()","59a1c465":"data['sqft_lot'] = data['sqft_lot'].fillna(data['sqft_lot'].mean())","a3b7689e":"data['floors'].value_counts()","d6b481ce":"floor_fill_list=[1,2,3,4]","b44bbcf1":"data['floors'] = data['floors'].fillna(pd.Series(np.random.choice(floor_fill_list, size=len(data.index))))","2f91021a":"data['sqft_above'].mean()","a3c52a74":"data['sqft_above'] = data['sqft_above'].fillna(data['sqft_above'].mean())","54fc0fc2":"data['waterfront'].value_counts()","deaa5b1d":"fill = ['No' , 'Yes']","4aeefa24":"data['waterfront'] = data['waterfront'].fillna(pd.Series(np.random.choice(fill, size=len(data.index))))","806dfed1":"data['grade'] = data['grade'].fillna(data['grade'].mean())","b30a47f4":"data.isnull().sum()","432e3103":"sns.heatmap(data.isnull(),cmap='rocket',cbar=True,yticklabels=False)\nplt.title('Missing Data')\nplt.show()","4e6320bc":"data['bedrooms'].value_counts()","f0303348":"data['bathrooms'].value_counts()","104509eb":"data['view'].value_counts()","e7eca588":"data['waterfront'].value_counts()","c92c2872":"data['floors'].value_counts()","0810bcd0":"data['condition'].value_counts()","8b44ff38":"from sklearn.preprocessing import LabelEncoder","ada507e4":"le = LabelEncoder()","787c26e0":"data['waterfront'] = le.fit_transform(data['waterfront'])\ndata['waterfront'].value_counts()","ce247c3a":"data.head()","4642b5c8":"data.describe().T","3fc82b62":"data.columns","cfac7473":"sns.boxplot(y=data['price'])","6f94f133":"sns.boxplot(y=data['bedrooms'])","0c700172":"sns.boxplot(y=data['bathrooms'])","8307ca2b":"sns.boxplot(y=data['sqft_living'])","5fe268e8":"sns.boxplot(y=data['sqft_lot'])","a87e69a9":"sns.boxplot(y=data['floors'])","4161e147":"sns.boxplot(y=data['waterfront'])","b6ad3322":"sns.boxplot(y=data['view'])","b867be4f":"sns.boxplot(y=data['condition'],color = 'Red')","4b518634":"sns.boxplot(y=data['grade'])","0cb9ccf2":"sns.boxplot(y=data['sqft_above'], color='Green')","7ee6d674":"sns.boxplot(y=data['sqft_basement'], color = 'Orange')","ac4c533e":"sns.boxplot(y=data['sqft_living15'])","7039a33c":"sns.boxplot(y=data['sqft_lot15'])","e7149120":"data.shape","72849f8b":"for x in ['price', 'bedrooms', 'bathrooms', 'sqft_living',\n       'sqft_lot', 'floors', 'waterfront', 'view', 'condition',\n       'sqft_above', 'sqft_basement','sqft_living15', 'sqft_lot15', 'grade']:\n    q75,q25 = np.percentile(data.loc[:,x],[75,25])\n    intr_qr = q75-q25\n \n    max = q75+(1.5*intr_qr)\n    min = q25-(1.5*intr_qr)\n \n    data.loc[data[x] < min,x] = np.nan\n    data.loc[data[x] > max,x] = np.nan","66f02124":"data.isnull().sum()","cb24f6d6":"sns.heatmap(data.isnull(),cmap='rocket',cbar=True,yticklabels=False)\nplt.title('Missing Data')\nplt.show()","eb080230":"data['bedrooms'].value_counts()","5376d380":"data['bathrooms'].value_counts()","6f58d436":"data['view'].value_counts()","e95441d0":"data['waterfront'].value_counts()","8c8e26a0":"data['floors'].value_counts()","ffc65830":"data['condition'].value_counts()","3f24c1e3":"bedrooms_fill = [2,3,4,5]\nbathrooms_fill = [1,2,3,4]\nview_fill = [1,2,3,4]\nwaterfront_fill = [0,1]\nfloors_fill = [2,3]\ncondition_fill = [2,4,5]","9ee0df25":"data['price'] = data['price'].fillna(data['price'].mean())\n\ndata['bedrooms'] = data['bedrooms'].fillna(pd.Series(np.random.choice(bedrooms_fill, size=len(data.index))))\ndata['bathrooms'] = data['bathrooms'].fillna(pd.Series(np.random.choice(bathrooms_fill, size=len(data.index))))\ndata['view'] = data['view'].fillna(pd.Series(np.random.choice(view_fill, size=len(data.index))))\ndata['floors'] = data['floors'].fillna(pd.Series(np.random.choice(floors_fill, size=len(data.index))))\ndata['condition'] = data['condition'].fillna(pd.Series(np.random.choice(condition_fill, size=len(data.index))))\n\ndata['waterfront'] = data['waterfront'].fillna(1)\n\ndata['grade'] = data['grade'].fillna(data['grade'].mean())\ndata['sqft_living'] = data['sqft_living'].fillna(data['sqft_living'].mean())\ndata['sqft_lot'] = data['sqft_lot'].fillna(data['sqft_lot'].mean())\ndata['sqft_above'] = data['sqft_above'].fillna(data['sqft_above'].mean())\ndata['sqft_basement'] = data['sqft_basement'].fillna(data['sqft_basement'].mean())\ndata['sqft_living15'] = data['sqft_living15'].fillna(data['sqft_living15'].mean())\ndata['sqft_lot15'] = data['sqft_lot15'].fillna(data['sqft_lot15'].mean())","feff9b5d":"data.isnull().sum()","cf717a50":"sns.heatmap(data.isnull(),cmap='rocket',cbar=True,yticklabels=False)\nplt.title('Missing Data')\nplt.show()","030cccd5":"sns.boxplot(y=data['price'])","130e0875":"sns.boxplot(y=data['bedrooms'], color = 'Red')","edaf60ab":"sns.boxplot(y=data['bathrooms'], color = 'Orange')","d1dc992a":"sns.boxplot(y=data['sqft_living'])","6513658b":"sns.boxplot(y=data['sqft_lot'])","8e8400b5":"sns.boxplot(y=data['floors'])","7fcdc6f3":"sns.boxplot(y=data['waterfront'])","8cda922e":"sns.boxplot(y=data['view'])","98747074":"sns.boxplot(y=data['condition'], color = 'Green')","a9032b1a":"sns.boxplot(y=data['grade'])","3b224808":"sns.boxplot(y=data['sqft_above'])","d30b2744":"sns.boxplot(y=data['sqft_basement'])","9b2ef357":"sns.boxplot(y=data['sqft_living15'], color = 'Blue')","a651f4d1":"sns.boxplot(y=data['sqft_lot15'])","71895da3":"data.isnull().sum()","ce5357c4":"sns.boxplot(y=data['bedrooms'])","5172e2f5":"sns.boxplot(y=data['bathrooms'])","1b797c18":"sns.kdeplot(data['price'], shade=True, color = 'Green')","fc7dc2ac":"sns.kdeplot(data['sqft_living'], shade=True, color = 'Blue')","346356f6":"sns.kdeplot(data['sqft_living15'], shade=True, color = 'Red')","e7b0fce1":"sns.kdeplot(data['sqft_lot'], shade=True, color = 'Orange')","9dad7dce":"sns.kdeplot(data['sqft_lot15'], shade=True, color = 'Green')","db599b77":"sns.kdeplot(data['sqft_above'], shade=True, color = 'Blue')","3c088e68":"sns.kdeplot(data['sqft_basement'], shade=True, color = 'Green')","4805478e":"sns.kdeplot(data['grade'], shade=True, color = 'Green')","de2cab55":"sns.distplot(data['grade'], hist=True)","83c8bba2":"sns.kdeplot(data['floors'], shade=True, color = 'Red')","6c51f81f":"sns.countplot(x='bedrooms', data=data).set(ylabel='Count', title='Number of different houses depending on bedrooms', xlabel='Number of bedrooms')","085e79a3":"sns.countplot(x='bathrooms', data=data).set(ylabel='Count', title='Number of different houses depending on bathrooms', xlabel='Number of bathrooms')","12b5b5e9":"sns.countplot(x='condition', data=data).set(ylabel='Count', title='House condition', xlabel='House condition')","35409dd5":"sns.countplot(x='floors', data=data).set(ylabel='Count', title='Number of floors', xlabel='Number of floors')","9069dc61":"sns.barplot(data.view,data.price)","4318f0d3":"data.drop(columns=['id', 'date', 'zipcode'], inplace=True)\ndata.head()","b2b2764f":"data.hist(figsize=(15,10), color='Green')","bbbcedfd":"sns.heatmap(data.corr(), annot=True)\nplt.gcf().set_size_inches(15, 8)","5cda2883":"plt.figure(figsize=(10, 7))\ndata.corr().sort_values('price').drop('price')['price'].plot(kind='bar', title='Correlation with house prices in King County', color='Orange')","326209f8":"sns.regplot(x='bedrooms', y='price', data=data, color='Red')","9337d737":"sns.regplot(x='sqft_living', y='price', data=data, color='Blue')","47f8ec2c":"sns.regplot(x='sqft_living15', y='price', data=data, color='Green')","d2221391":"sns.regplot(x='sqft_lot15', y='price', data=data, color='Red')","92391920":"sns.regplot(x='sqft_lot', y='price', data=data, color='Orange')","30de0a01":"sns.regplot(x='sqft_basement', y='price', data=data, color='Blue')","55bbd252":"sns.regplot(x='condition', y='price', data=data, color='Blue')","7dd04eac":"sns.regplot(x='sqft_above', y='price', data=data, color='Blue')","dc861650":"sns.regplot(x='view', y='price', data=data, color='Blue')","f940314f":"sns.regplot(x='floors', y='price', data=data, color='Blue')","3b7bbf90":"sns.regplot(x='grade', y='price', data=data, color='Blue')","096e2a7a":"data.columns","7b9d8ee4":"X=data[['bedrooms', 'bathrooms', 'sqft_living', 'sqft_lot', 'floors',\n       'waterfront', 'view', 'condition', 'grade', 'sqft_above',\n       'sqft_basement', 'yr_built', 'yr_renovated', 'lat', 'long',\n       'sqft_living15', 'sqft_lot15']].values\n\ny = data['price'].values","94067231":"X","b245840a":"from sklearn.preprocessing import StandardScaler\nSc = StandardScaler()","e62f72bb":"X = Sc.fit_transform(X)\nX","a30ace63":"from sklearn.model_selection import train_test_split","e9e145da":"X_train, X_test, y_train, y_test = train_test_split(\n...     X, y, test_size=0.30, random_state=42)","379f1121":"X_train.shape","94d37dad":"y_train.shape","a7dd0c8b":"y_train.reshape(-1,1)","9a7598a4":"y_train = y_train.reshape(-1,1)","5043a61f":"X_train","27b43a5a":"y_train","f61f88e8":"data.columns","7edf2d63":"X_train_scaled = Sc.fit_transform(X_train)\nX_test_scaled = Sc.fit_transform(X_test)","4ca62777":"X_train_scaled","d6c1709d":"from sklearn.linear_model import LinearRegression","a5b727bd":"Lm = LinearRegression()","f2a71446":"Lm.fit(X_train_scaled, y_train)","94650dd1":"Lm.get_params","99190054":"Lm.coef_","2567b7e5":"Lm.intercept_","0fd1e07f":"Lm.score(X_train_scaled, y_train)","9e03ca05":"Lm.score(X_test_scaled, y_test)","292b6754":"y_pred=Lm.predict(X_test)","9ccc2ced":"y_pred","f4c86c90":"from sklearn.metrics import mean_squared_error , mean_absolute_error","f61f6a55":"mse_01 = mean_squared_error(y_test, y_pred)","c10d5afb":"rmse_01 = np.sqrt(mse_01)\nrmse_01","2a7d25a1":"mae_01 = mean_absolute_error(y_test, y_pred)\nmae_01","350d8ac0":"from sklearn.preprocessing import PolynomialFeatures","9e13663e":"poly_reg = PolynomialFeatures(degree = 1)","dcf5a61f":"X_poly_train = poly_reg.fit_transform(X_train)","dd26e5cc":"X_poly_test = poly_reg.fit_transform(X_test)","401daaa1":"X_poly_train","e98585f9":"poly_reg.fit(X_poly_train, y_train)","4adc67ce":"lin_reg_2 = LinearRegression()","e9df86ef":"lin_reg_2.fit(X_poly_train, y_train)","94cdaada":"lin_reg_2.intercept_","eeb3a351":"lin_reg_2.coef_","5810c840":"lin_reg_2.score(X_poly_train,y_train)","6bc07b8f":"lin_reg_2.score(X_poly_test,y_test)","be42c94f":"y_pred2 = lin_reg_2.predict(X_poly_test)\ny_pred2","16e7fd64":"mse_02 = mean_squared_error(y_test,y_pred2)","a6792142":"rmse_02 = np.sqrt(mse_02)\nrmse_02","588dfda2":"mae_02 = mean_absolute_error(y_test, y_pred2)\nmae_02","03907fea":"import xgboost as xgb","ad3fdd56":"xgb_reg = xgb.XGBRegressor(objective='reg:linear' , n_estimators=100, seed=123)","639e9755":"xgb_reg = xgb.XGBRegressor()","74046bd7":"xgb_reg.fit(X_train_scaled, y_train)","8abededc":"xgb_reg.score(X_train_scaled, y_train)","a3218439":"xgb_reg.score(X_test_scaled, y_test)","3f29f4c9":"y_pred3 = xgb_reg.predict(X_test)\ny_pred3","0ea73dbb":"mse_03 = mean_squared_error(y_test, y_pred3)","e7cc4b03":"rmse_03 = np.sqrt(mse_03)\nrmse_03","5ba3a2c0":"mae_03 = mean_absolute_error(y_test, y_pred3)\nmae_03","980a4b8e":"from sklearn.svm import SVR","36ce0240":"svm_reg = SVR(kernel=\"linear\", degree=2, C=10000)","b88a376e":"svm_reg.fit(X_train_scaled,y_train)","1bce0d48":"svm_reg.intercept_","ae994351":"svm_reg.coef_","25823000":"svm_reg.score(X_train_scaled, y_train)","6d09320d":"svm_reg.score(X_test_scaled, y_test)","0bf4e863":"y_pred4 = svm_reg.predict(X_test)\ny_pred4","5d9ca703":"y_train","88d0179d":"mse_04 = mean_squared_error(y_test, y_pred4)\nmse_04","008f47af":"rmse_04 = np.sqrt(mse_04)\nrmse_04","f610e29c":"mae_04 = mean_absolute_error(y_test, y_pred4)\nmae_04","f939e6a6":"import statsmodels.api as sm","6ca5a1df":"model = sm.OLS(y, X)","86f55608":"results = model.fit()","b40a0760":"print(results.summary())","dd66400c":"**Data Pre-Processing**","00cae486":"**(1) Multiple Linear Regression**","04da72c8":"**Modelling**","56c418a6":"**(3) XGBoost Regression**","ae2d64c6":"**Feature Selection**","d2c0bdfc":"**(4) Support Vector machine (SVM)**","5222e9e3":"**Data Pre-Processing**","b626b3df":"**Encoding Features**","1a4e6c39":"**(2) Polynomial Regression**","74109e23":"**EDA**"}}