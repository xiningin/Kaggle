{"cell_type":{"f6dcd9de":"code","3f0055a8":"code","7efb3fbb":"code","a0ab60dc":"code","b5c5d9f5":"code","0e9421f3":"code","0cdc8f02":"code","deb76dd9":"code","83a9fb05":"code","9dba9879":"code","231b84df":"code","5596dbfe":"code","5dc77f0a":"code","7312a5a8":"code","c6e18707":"code","ae59d5d0":"code","7f699d5e":"code","b26b8859":"code","1e4266eb":"code","9fd695ce":"markdown","549d950f":"markdown","7aae499e":"markdown","ef103771":"markdown","6b5a8cae":"markdown","6c8a78e6":"markdown","268428e8":"markdown"},"source":{"f6dcd9de":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","3f0055a8":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport seaborn as sns\nfrom mlxtend.frequent_patterns import association_rules, apriori\nfrom mlxtend.preprocessing import TransactionEncoder","7efb3fbb":"df = pd.read_csv(\"\/kaggle\/input\/groceries-dataset\/Groceries_dataset.csv\")\ndf.head()","a0ab60dc":"df.describe()","b5c5d9f5":"df['Date'] = pd.to_datetime(df['Date'])\ndf.head()","0e9421f3":"df['Member_number'].nunique()","0cdc8f02":"df['date'] = df['Date'].dt.date\n\ndf['month'] = df['Date'].dt.month\ndf['month'] = df['month'].replace((1,2,3,4,5,6,7,8,9,10,11,12), \n                                          ('January','February','March','April','May','June','July','August',\n                                          'September','October','November','December'))\n\ndf['weekday'] = df['Date'].dt.weekday\ndf['weekday'] = df['weekday'].replace((0,1,2,3,4,5,6), \n                                          ('Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday'))\n\n# dropping date_time column\ndf.drop('Date', axis = 1, inplace = True)\ndf.head()","deb76dd9":"df['itemDescription'] = df['itemDescription'].str.strip()\ndf['itemDescription'] = df['itemDescription'].str.lower()\ndf.head()","83a9fb05":"plt.figure(figsize=(25,10))\nsns.lineplot(x = df.itemDescription.value_counts().head(25).index, y = df.itemDescription.value_counts().head(25).values)\nplt.xlabel('Items', size = 15)\nplt.xticks(rotation=45)\nplt.ylabel('Count of Items', size = 15)\nplt.title('Top items purchased by members', color = 'green', size = 15)\nplt.show()","9dba9879":"months = df.groupby('month')['Member_number'].count()","231b84df":"pie, ax = plt.subplots(figsize=[10,6])\nplt.pie(x=months, autopct=\"%.1f%%\", explode=[0.05]*12, labels=months.keys(), pctdistance=0.5)\nplt.title(\"Items bought split by month\", fontsize=14)","5596dbfe":"days = df.groupby('weekday')['Member_number'].count()\nprint(days.keys())","5dc77f0a":"plt.figure(figsize=(12,5))\nsns.barplot(x=days.keys(), y=days)\nplt.xlabel('Week Day', size = 15)\nplt.ylabel('Orders per day', size = 15)\nplt.title('Number of orders received each day', color = 'blue', size = 15)\nplt.show()\n","7312a5a8":"df['itemDescription'] = df.groupby(['Member_number', 'date'])['itemDescription'].transform(lambda x: ','.join(x))","c6e18707":"df","ae59d5d0":"lst=[]\nfor i in range(0,len(df)-1):    \n    data = df['itemDescription'][i].split(',')\n    lst.append(data)","7f699d5e":"te = TransactionEncoder()\nte_ary = te.fit(lst).transform(lst)\ndf_new = pd.DataFrame(te_ary, columns=te.columns_)\ndf_new","b26b8859":"frq_items = apriori(df_new, min_support=0.02,use_colnames=True)\nfrq_items","1e4266eb":"rules = association_rules(frq_items, metric = \"confidence\", min_threshold = 0.1)\nrules.sort_values('confidence', ascending = False, inplace = True)\nrules","9fd695ce":"# Import libraries","549d950f":"# Loading Data","7aae499e":"# Apriori Algorithm","ef103771":"![image.png](attachment:8ff6c482-3866-4e82-aacb-7754426b3ba5.png)","6b5a8cae":"# Data Analsysis","6c8a78e6":"# Data Cleaning","268428e8":"![image.png](attachment:80fe8332-1b9c-4d08-a688-34af53cda7d0.png)"}}