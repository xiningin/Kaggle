{"cell_type":{"24736cb0":"code","ddfa20cd":"code","f927312d":"code","9f6c5819":"code","1082a739":"code","50a8a5ce":"code","773a675e":"code","789dcae3":"code","d5c43b4b":"code","74c264b7":"code","7185d4a7":"code","a72d73d1":"code","9de93309":"code","366d7da9":"code","49248659":"code","d5deaaa1":"code","ddb51524":"code","1e2f4953":"code","7b99fc9b":"code","734be869":"code","2a57325f":"code","3e925a2a":"code","9ceba7f1":"code","af1dd892":"code","c6e4284c":"code","5fd931b3":"code","590e4e13":"code","2e0e3cbb":"code","cef8c3d3":"code","4ed7efba":"code","55acd6aa":"code","5f0f1499":"code","9928ac73":"code","d75abd48":"code","14090ca5":"code","5e056f69":"code","546f83f8":"code","9e337738":"code","0a114878":"code","58b25cb4":"code","201d076f":"code","ef58251d":"code","8afed1ea":"code","5d7addc2":"code","6e005571":"code","b6864dab":"code","f7220aca":"code","4d115ffe":"code","f1e4fdb7":"code","1bec7dc0":"code","7948dc5b":"code","4470e2fc":"code","79a3fb48":"code","53185b0d":"code","c3064ff0":"code","1b4b6c70":"code","59f13a13":"code","2826aa70":"code","4c46cb7f":"code","ea0738b7":"code","9dacfade":"code","7586bf86":"code","24879ee7":"code","17c0dacb":"code","66df0847":"code","df6a3338":"code","985dcc12":"code","ef3aef4e":"code","14b80b23":"code","27ef736d":"code","5ef4a9a8":"code","c22e088d":"code","db4addf0":"code","26d1202f":"code","25e6078b":"code","20aaa492":"code","d58c4e12":"code","02f82757":"code","a939d2de":"code","28d8e1f7":"code","add2416f":"code","27109a93":"code","9e12fc1b":"code","89595440":"code","2cc76b5c":"code","9f4a63d0":"code","22ff47e0":"code","ca4c91eb":"code","05c29924":"code","a38e950f":"code","b694f444":"code","33df1cee":"code","6fcb368a":"code","4c30375e":"code","022c86da":"code","9ce180ee":"code","b8303d74":"code","def7f869":"code","98c29112":"code","c4a45736":"code","d5e41ec6":"code","c6873d08":"code","b4ae81aa":"code","5f1ea360":"code","bf8776b0":"code","7b89017e":"code","a8a09e1c":"code","ac72d6e9":"code","01f8c0cf":"code","e8dcfc1f":"code","5a49d9c8":"code","fe7d98f2":"code","ad664c43":"code","eaa102c4":"code","4d383d77":"code","4e941bd8":"code","cf270815":"code","b6edf863":"code","2eb34c4b":"code","f24c1b4b":"code","47070bb1":"code","25e23325":"code","cd0de73e":"code","0842c81d":"code","ca6456bd":"code","cc3563c7":"code","ca1ab1a6":"code","b3504b5c":"code","54f666e2":"code","189c6233":"code","10928031":"code","c5bfa14d":"code","ff681cc0":"code","400e1b6b":"code","194f035e":"code","f7fa1c14":"code","3f0bc6bf":"code","11727be8":"code","bdea66e7":"code","88d21ae1":"code","adf3e979":"code","bb5d19ac":"code","dbc196c4":"code","f1b68b6a":"code","8109b6b1":"code","338b65a7":"code","38f89e91":"code","3277d1a9":"code","6415a0ee":"code","73fedce2":"code","3a7ced15":"code","b9a71697":"code","c071555b":"code","979b097f":"code","0a00a524":"code","2b4359ba":"code","7738d99b":"code","12344639":"code","aa6b335a":"code","d58db086":"code","4cab3305":"code","7ee32c04":"code","fecba796":"code","36933881":"code","52d7ab0d":"code","9697d3bc":"code","8dee04b3":"code","500f6e74":"code","08a398df":"code","4cb46802":"code","7fb9daed":"code","fe44d1bd":"code","d38a38d4":"code","6f9645ca":"code","5646b139":"code","706218f4":"code","e5efb41b":"code","378cd85f":"code","6492e1e2":"code","bae3b010":"code","86911a86":"code","828bc524":"code","aab01447":"code","4c087924":"code","627d3089":"code","db900d92":"code","24af0efa":"code","a1769714":"code","38368be3":"code","010c63ce":"markdown","63fdf1c2":"markdown","9b943b1a":"markdown","9e523162":"markdown","130d71f8":"markdown","64e4d697":"markdown","0076deaa":"markdown","6e360f8c":"markdown","5671f471":"markdown","c4072646":"markdown","0a5d95d1":"markdown","998ce0e7":"markdown","85950a65":"markdown","bfd50792":"markdown","ab7c9b47":"markdown","588e09a0":"markdown","d0515d7c":"markdown","ee708cec":"markdown","3c828330":"markdown","c5720ad2":"markdown","88e53445":"markdown","d4724d24":"markdown","14235448":"markdown","2522a2de":"markdown","5341b46c":"markdown","7513620c":"markdown","1683494f":"markdown","f26c37f9":"markdown","8829e077":"markdown","0b0105fc":"markdown","674ce32d":"markdown","bb09a281":"markdown","3633e8b9":"markdown","5f5c1215":"markdown","ea4c3dda":"markdown","95ff3e92":"markdown","de913b50":"markdown","c2fb09c3":"markdown","11599da8":"markdown","8ebb753f":"markdown","9bb6dc61":"markdown","bb988400":"markdown","3af8f15e":"markdown","5f5d5de3":"markdown","fdbd0889":"markdown","ac797f71":"markdown","58010ab7":"markdown","f4f18602":"markdown","877b976e":"markdown","81bdf72d":"markdown","c207ed8d":"markdown","9e7030f1":"markdown","d108ac0e":"markdown","b0c652fd":"markdown","95ba0313":"markdown","38334595":"markdown","02a365dc":"markdown","f810d766":"markdown","c38d7c15":"markdown","6ba66b3f":"markdown","0f27e14b":"markdown","c5e9256e":"markdown","aa40301c":"markdown","f58573be":"markdown","5102c36d":"markdown","af02c3a8":"markdown","8a0e33c9":"markdown","bd427875":"markdown","c3fde051":"markdown","406461d8":"markdown","09075a01":"markdown","951fd7fe":"markdown","77029ec0":"markdown","e77e1875":"markdown","9a0bc5bd":"markdown","c2e683c9":"markdown","3a0c517a":"markdown","ba86d419":"markdown","397c99b7":"markdown","3e3d9b31":"markdown","1ecdd8f9":"markdown","5138831e":"markdown","da2eb85e":"markdown","6b757e58":"markdown","4ad3d16e":"markdown","16005e3f":"markdown","ce5c0e95":"markdown","c76f2625":"markdown","8fab622c":"markdown","f51c9dbb":"markdown","78bb9136":"markdown","2df061ad":"markdown","3e45cab6":"markdown","bac7e0a6":"markdown","81354c86":"markdown","a35ce216":"markdown","583b57a7":"markdown","44d6866b":"markdown","d37d95b9":"markdown","dc0b993c":"markdown","65a1a1ab":"markdown","415efb06":"markdown","8c2e8ea5":"markdown","cc442770":"markdown","a7894c72":"markdown","1f80f837":"markdown","816db2f9":"markdown","ca0d7c25":"markdown","2b904a1e":"markdown","4a7e6db2":"markdown","18d1e552":"markdown","efa43f89":"markdown","df6d0fdb":"markdown","15c0bddf":"markdown","dd0e4608":"markdown","71eda177":"markdown","fbb3a90f":"markdown","b3f11ca6":"markdown","0ad2ac34":"markdown","98ba1d8e":"markdown","47e2c776":"markdown","696e577e":"markdown","e6ab447d":"markdown","0268b109":"markdown","7bdfc15e":"markdown","76b1ee0f":"markdown","da975810":"markdown","4aed0b9d":"markdown","15ae2c9c":"markdown","efd0c0be":"markdown","fce75ac7":"markdown","9fd14445":"markdown","56672855":"markdown","42e6c806":"markdown","d35a1f0e":"markdown","d6e6941a":"markdown","032d22c2":"markdown","fd98e8b6":"markdown","08d21558":"markdown","532feb76":"markdown","86ea9395":"markdown","066231c3":"markdown","3be99058":"markdown","c92afda6":"markdown","b27ad680":"markdown","854549b2":"markdown","dc308751":"markdown","ee622039":"markdown","d13c5227":"markdown","cf664086":"markdown","b8ffaca0":"markdown","d81c7772":"markdown","590c87ca":"markdown","c2b45ae2":"markdown","91ebbf91":"markdown","1d8e4955":"markdown","ae2bcef4":"markdown","02a3d8d9":"markdown","2c16828b":"markdown","e106fc0f":"markdown","de138626":"markdown","151c0ea0":"markdown","b8cab51b":"markdown","3a70d416":"markdown","60fb5fcd":"markdown","24db8ef6":"markdown","82e58a1a":"markdown"},"source":{"24736cb0":"import numpy as np\nimport pylab as pl\nimport pandas as pd\nimport matplotlib.pyplot as plt \n%matplotlib inline\nimport wordcloud\nfrom wordcloud import WordCloud,STOPWORDS\nimport seaborn as sns\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\nfrom sklearn.utils import shuffle\nfrom sklearn.svm import SVC\nfrom sklearn.metrics import confusion_matrix,classification_report\nfrom sklearn.model_selection import cross_val_score, GridSearchCV\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory","ddfa20cd":"Cities_2018 = pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Cities\/Cities Disclosing\/2018_Cities_Disclosing_to_CDP.csv')\nCities_2019 = pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Cities\/Cities Disclosing\/2019_Cities_Disclosing_to_CDP.csv')\nCities_2020 = pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Cities\/Cities Disclosing\/2020_Cities_Disclosing_to_CDP.csv')\n\n\nData= Cities_2018.append([Cities_2018,Cities_2019, Cities_2020])\nx = Data.iloc[:, [3]].values","f927312d":"Data.head()","9f6c5819":"\ndisplay(Data[[\"Country\",\"Population\",]].groupby([\"Country\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","1082a739":"Data['Account_Number'] = Data['Account Number']\nData['Population_Year'] = Data['Population Year']\nData['Reporting_Authority'] = Data['Reporting Authority']\n\nData","50a8a5ce":"#Data['Population_Year'] = Data[\"Population_Year\"].astype(\"int\")\n#print('population by time series ')\ndisplay(Data[[\"Population_Year\",'Country','City','Population','Reporting_Authority']].groupby([\"Country\",\"City\",\n                                                        \"Population_Year\", ]).agg(\"sum\").sort_values(by=\"Population\",\n                                                          ascending = False).head(100).style.background_gradient(cmap='autumn'))","773a675e":"# Plot Population distribution\nfig, axes = plt.subplots(nrows=1, ncols=3, figsize=(15,4))\nplt.subplots_adjust(wspace=0.5, hspace=0.5)\n\nsns.distplot(Data.Population[(Data.Population>=0) & (Data.Population<=10000)], kde=False, ax=axes[0], axlabel='Population')\nsns.distplot(Data.Population[(Data.Population>=0) & (Data.Population<=100000)], kde=False, ax=axes[1], axlabel='Population')\nsns.distplot(Data.Population[(Data.Population>=0) & (Data.Population<=1000000)], kde=False, ax=axes[2], axlabel='Population')","789dcae3":"population_1 = Data.sort_values(by='Account_Number', ascending=True)[:100]\nfigure = plt.figure(figsize=(10,6))\nsns.barplot(y=population_1.Country, x=population_1.Account_Number)\nplt.xticks(rotation=90)\nplt.xlabel('Account_Number')\nplt.ylabel('Population ')\nplt.title('Population by Account_Number')\nplt.show()","d5c43b4b":"population = Data.sort_values(by='Population', ascending=True)[:100]\nfigure = plt.figure(figsize=(10,6))\nsns.barplot(y=population.Country, x=population.Population)\nplt.xticks()\nplt.xlabel('Population')\nplt.ylabel('Country')\nplt.title('Country Population ')\nplt.show()","74c264b7":"population = Data.sort_values(by='Population', ascending=True)[:100]\nfigure = plt.figure(figsize=(10,6))\nsns.barplot(y=population.City, x=population.Population)\nplt.xticks()\nplt.xlabel('Population')\nplt.ylabel('City')\nplt.title('City Population')\nplt.show()","7185d4a7":"Data['Year_Reported_to_CDP'] = Data['Year Reported to CDP']\nData['Account_Number'] = Data['Account Number']\nData","a72d73d1":"YR_CDP = Data['Year_Reported_to_CDP'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(YR_CDP.index, YR_CDP.values, alpha=0.8)\nplt.ylabel('Number of Data', fontsize=12)\nplt.xlabel('Year_Reported_to_CDP', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","9de93309":"population = Data.sort_values(by='Population', ascending=True)[:100]\nfigure = plt.figure(figsize=(10,6))\nsns.barplot(y=population.Year_Reported_to_CDP, x=population.Population)\nplt.xticks(rotation=90)\nplt.xlabel('Population')\nplt.ylabel('Year Reported to CDP')\nplt.title('Year Reported to CDP ')\nplt.show()","366d7da9":"population = Data.sort_values(by='Population', ascending=True)[:100]\nfigure = plt.figure(figsize=(10,6))\nsns.barplot(y=population.Population_Year, x=population.Population)\nplt.xticks(rotation=90)\nplt.xlabel('Population')\nplt.ylabel('Population_Year')\nplt.title('Population_Year ')\nplt.show()","49248659":"cdp = pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Cities\/Cities Disclosing\/Cities_Disclosing_to_CDP_Data_Dictionary.csv')\n","d5deaaa1":"cdp.head()","ddb51524":"# Start with one description:\ntext = cdp.description[1]\n\n# Create and generate a word cloud image:\nwordcloud = WordCloud().generate(text)\n\n# Display the generated image:\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","1e2f4953":"# lower max_font_size, change the maximum number of word and lighten the background:\nwordcloud = WordCloud(max_font_size=50, max_words=100, background_color=\"white\").generate(text)\nplt.figure()\nplt.imshow(wordcloud, interpolation=\"bilinear\")\nplt.axis(\"off\")\nplt.show()","7b99fc9b":"text = \" \".join(review for review in cdp.description)\nprint (\"There are {} words in the CDP.\".format(len(text)))","734be869":"# Create stopword list:\nstopwords = set(STOPWORDS)\nstopwords.update([\"city\", \"population\", \"organisation\"])\n\n# Generate a word cloud image\nwordcloud = WordCloud(stopwords=stopwords, background_color=\"white\").generate(text)\n\n# Display the generated image:\n# the matplotlib way:\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.show()","2a57325f":"Responses_2018= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Cities\/Cities Responses\/2018_Full_Cities_Dataset.csv')\nResponses_2019= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Cities\/Cities Responses\/2019_Full_Cities_Dataset.csv')\nResponses_2020= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Cities\/Cities Responses\/2020_Full_Cities_Dataset.csv')\n\n\nData2= Responses_2018.append([Responses_2018,Responses_2019, Responses_2020])\nx = Data2.iloc[:, [3]].values\n","3e925a2a":"Data2['CDP_Region'] = Data2['CDP Region']\nData2['Account_Number'] = Data2['Account Number']\nData2['Parent_Section'] = Data2['Parent Section']\nData2['Question_Number'] = Data2['Question Number']\nData2['Question_Name'] = Data2['Question Name']\nData2['Response_Answer'] = Data2['Response Answer']\nData2['Last_update'] = Data2['Last update']\nData2","9ceba7f1":"import plotly.express as px\nfrom plotly.subplots import make_subplots\nimport plotly.graph_objs as go\n\ncr = Data2['Account_Number'].value_counts().reset_index()\ncr.columns = [\n    'Account_Number', \n    'count'\n]\ncr['Account_Number'] = cr['Account_Number'].astype(str) + '-'\ncr = cr.sort_values(['count']).tail(50)\n\nfig = px.bar(\n    cr, \n    x='count', \n    y='Account_Number', \n    orientation='h', \n    title='Top 50 users (Account_Number) by number of actions', \n    width=500,\n    height=900 \n)\n\nfig.show()","af1dd892":"cr = Data2['Question_Number'].value_counts().reset_index()\ncr.columns = [\n    'Question_Number', \n    'percent'\n]\ncr['percent'] \/= len(Data2)\n\nfig = px.pie(\n    cr, \n    names='Question_Number', \n    values='percent', \n    title='User questions', \n    width=1000,\n    height=500 \n)\n\nfig.show()","c6e4284c":"cnt_pro = Data2['Section'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(cnt_pro.index, cnt_pro.values, alpha=0.8)\nplt.ylabel('Number of Section', fontsize=12)\nplt.xlabel('Section', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","5fd931b3":"cnt_pro = Data2['Parent Section'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(cnt_pro.index, cnt_pro.values, alpha=0.8)\nplt.ylabel('Number of Parent Section', fontsize=12)\nplt.xlabel('Parent Section', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","590e4e13":"def Cities_Responses(x):\n    y = Data2[[\"Country\",\"Account_Number\",\"Organization\",\"Section\",\"CDP_Region\",\"Question_Number\",\"Question_Name\", \"Response_Answer\",\"Last_update\"]][Data2[\"Country\"] == x]\n    y = y.sort_values(by=\"Account_Number\",ascending=False)\n    return y.head(500)","2e0e3cbb":"Cities_Responses(\"Brazil\")","cef8c3d3":"Cities_Responses(\"Portugal\")","4ed7efba":"Cities_Responses(\"Malaysia\")","55acd6aa":"Cities_Responses(\"Denmark\")","5f0f1499":"Cities_Responses(\"Argentina\")","9928ac73":"Cities_Responses(\"Mexico\")","d75abd48":"Cities_Responses(\"Costa Rica\")\n","14090ca5":"Cities_Responses(\"Netherlands\")\n","5e056f69":"Cities_Responses(\"Turkey\")\n","546f83f8":"Cities_Responses(\"Ecuador\")\n","9e337738":"Cities_Responses(\"Colombia\")\n","0a114878":"Cities_Responses(\"Honduras\")\n","58b25cb4":"Cities_Responses(\"Namibia\")\n","201d076f":"Cities_Responses(\"Sweden\")\n","ef58251d":"Cities_Responses(\"Colombia\")\n","8afed1ea":"Cities_Responses(\"Argentina\")\n","5d7addc2":"Cities_Responses(\"United Kingdom of Great Britain and Northern Ireland\")\n","6e005571":"Cities_Responses(\"Philippines\")\n","b6864dab":"Cities_Responses(\"Peru\")\n","f7220aca":"Cities_Responses(\"Germany\")\n","4d115ffe":"Cities_Responses(\"France\")","f1e4fdb7":"\nCities_Responses(\"Norway\")","1bec7dc0":"Cities_Responses(\"Canada\")","7948dc5b":"Cities_Responses(\"Italy\")","4470e2fc":"Cities_Responses(\"Indonesia\")","79a3fb48":"Cities_Responses(\"India\")","53185b0d":"Cities_Responses(\"United States of America\")","c3064ff0":"Cities_Responses(\"Thailand\")","1b4b6c70":"Cities_Responses(\"China\")","59f13a13":"Cities_Responses(\"Republic of Korea\")","2826aa70":"Full_Cities_Response= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Cities\/Cities Responses\/Full_Cities_Response_Data_Dictionary.csv')\n","4c46cb7f":"Full_Cities_Response.head()","ea0738b7":"field = Full_Cities_Response['field'].value_counts()  [:100]\nplt.figure(figsize=(6,4))\nsns.barplot(field.index, field.values, alpha=0.8)\nplt.ylabel('Number of field', fontsize=12)\nplt.xlabel('field', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","9dacfade":"Climate_Change_2018= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Disclosing\/Climate Change\/2018_Corporates_Disclosing_to_CDP_Climate_Change.csv')\nClimate_Change_2019= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Disclosing\/Climate Change\/2019_Corporates_Disclosing_to_CDP_Climate_Change.csv')\nClimate_Change_2020= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Disclosing\/Climate Change\/2020_Corporates_Disclosing_to_CDP_Climate_Change.csv')\n\n\nData3= Climate_Change_2018.append([Climate_Change_2018,Climate_Change_2019, Climate_Change_2020])\nx = Data2.iloc[:, [3]].values\n","7586bf86":"Data3.head()","24879ee7":"org = Data3.sort_values(by='account_number', ascending=True)[:50]\nfigure = plt.figure(figsize=(10,6))\nsns.barplot(y=org.organization, x=org.account_number)\nplt.xticks(rotation=90)\nplt.xlabel('account_number')\nplt.ylabel('organization ')\nplt.title('Number of organization')\nplt.show()","17c0dacb":"min_tier = Data3['minimum_tier'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(min_tier.index, min_tier.values, alpha=0.8)\nplt.ylabel('Number of minimum_tier', fontsize=12)\nplt.xlabel('minimum_tier', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","66df0847":"A_type = Data3['authority_types'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(A_type.index, A_type.values, alpha=0.8)\nplt.ylabel('Number of Authority_types', fontsize=12)\nplt.xlabel('authority_types', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","df6a3338":"Act = Data3['activities'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(Act.index, Act.values, alpha=0.8)\nplt.ylabel('Number of activities', fontsize=12)\nplt.xlabel('activities', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","985dcc12":"sectors = Data3['sectors'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(sectors.index, sectors.values, alpha=0.8)\nplt.ylabel('Number of sectors', fontsize=12)\nplt.xlabel('sectors', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","ef3aef4e":"industry = Data3['industries'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(industry.index, industry.values, alpha=0.8)\nplt.ylabel('Number of industries', fontsize=12)\nplt.xlabel('industries', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","14b80b23":"P_industry = Data3['primary_industry'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(P_industry.index, P_industry.values, alpha=0.8)\nplt.ylabel('Number of primary_industry', fontsize=12)\nplt.xlabel('primary_industry', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","27ef736d":"P_sector = Data3['primary_sector'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(P_sector.index, P_sector.values, alpha=0.8)\nplt.ylabel('Number of primary_sector', fontsize=12)\nplt.xlabel('primary_sector', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","5ef4a9a8":"display(Data3[Data3[\"public\"]==\"public\"][[\"country\",\"response_received_date\",\"authority_types\",\"activities\",\"sectors\",\"industries\",\"primary_questionnaire_sector\",\n                                       \"survey_year\"]].sort_values(by=\"survey_year\", ascending= False).head(500).style.background_gradient(cmap=\"spring\"))","c22e088d":"Climate_Change_Dict= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Disclosing\/Climate Change\/Corporations_Disclosing_to_CDP_Data_Dictionary.csv')\n","db4addf0":"Climate_Change_Dict.head()","26d1202f":"Climate_Change_Dict = Climate_Change_Dict['field'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(Climate_Change_Dict.index, Climate_Change_Dict.values, alpha=0.8)\nplt.ylabel('Number of field', fontsize=12)\nplt.xlabel('field', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","25e6078b":"Water_Security_2018= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Disclosing\/Water Security\/2018_Corporates_Disclosing_to_CDP_Water_Security.csv')\nWater_Security_2019= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Disclosing\/Water Security\/2019_Corporates_Disclosing_to_CDP_Water_Security.csv')\nWater_Security_2020= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Disclosing\/Water Security\/2020_Corporates_Disclosing_to_CDP_Water_Security.csv')\n\n\nData4= Water_Security_2018.append([Water_Security_2018,Water_Security_2019, Water_Security_2020])\nx = Data4.iloc[:, [3]].values\n","20aaa492":"Data4.head()","d58c4e12":"org = Data4.sort_values(by='account_number', ascending=True)[:50]\nfigure = plt.figure(figsize=(10,6))\nsns.barplot(y=org.organization, x=org.account_number)\nplt.xticks(rotation=90)\nplt.xlabel('account_number')\nplt.ylabel('organization ')\nplt.title('Number of organization')\nplt.show()","02f82757":"country = Data4['country'].value_counts() \nplt.figure(figsize=(6,4))\nsns.barplot(country.index, country.values, alpha=0.8)\nplt.ylabel('Number of country', fontsize=12)\nplt.xlabel('country', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","a939d2de":"smp = Data4['samples'].value_counts()  \nplt.figure(figsize=(6,4))\nsns.barplot(smp.index, smp.values, alpha=0.8)\nplt.ylabel('Number of samples', fontsize=12)\nplt.xlabel('samples', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","28d8e1f7":"min_tier = Data4['minimum_tier'].value_counts()  \nplt.figure(figsize=(6,4))\nsns.barplot(min_tier.index, min_tier.values, alpha=0.8)\nplt.ylabel('Number of minimum_tier', fontsize=12)\nplt.xlabel('minimum_tier', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","add2416f":"A_type = Data4['authority_types'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(A_type.index, A_type.values, alpha=0.8)\nplt.ylabel('Number of Authority_types', fontsize=12)\nplt.xlabel('authority_types', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","27109a93":"Act = Data4['activities'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(Act.index, Act.values, alpha=0.8)\nplt.ylabel('Number of activities', fontsize=12)\nplt.xlabel('activities', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","9e12fc1b":"sectors = Data4['sectors'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(sectors.index, sectors.values, alpha=0.8)\nplt.ylabel('Number of sectors', fontsize=12)\nplt.xlabel('sectors', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","89595440":"industry = Data4['industries'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(industry.index, industry.values, alpha=0.8)\nplt.ylabel('Number of industries', fontsize=12)\nplt.xlabel('industries', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","2cc76b5c":"P_industry = Data4['primary_industry'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(P_industry.index, P_industry.values, alpha=0.8)\nplt.ylabel('Number of primary_industry', fontsize=12)\nplt.xlabel('primary_industry', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","9f4a63d0":"P_sector = Data4['primary_sector'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(P_sector.index, P_sector.values, alpha=0.8)\nplt.ylabel('Number of primary_sector', fontsize=12)\nplt.xlabel('primary_sector', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","22ff47e0":"display(Data4[Data4[\"public\"]==\"public\"][[\"country\",\"authority_types\",\"samples\",\"minimum_tier\",\"activities\",\"sectors\",\"industries\",\"primary_questionnaire_sector\",\n                                       \"survey_year\"]].sort_values(by=\"survey_year\", ascending= False).head(100).style.background_gradient(cmap=\"spring\"))","ca4c91eb":"def Water_Security(x):\n    y = Data4[[\"account_number\",\"country\",\"organization\",\"region\",\"samples\",\"minimum_tier\",\"response_received_date\",\"sectors\", \"industries\",\"primary_ticker\"]][Data4[\"country\"] == x]\n    y = y.sort_values(by=\"account_number\",ascending=False)\n    return y.head(100)","05c29924":"Water_Security(\"United States of America\")","a38e950f":"Water_Security(\"Canada\")","b694f444":"Water_Security_Dict= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Disclosing\/Water Security\/Corporations_Disclosing_to_CDP_Data_Dictionary.csv')\n","33df1cee":"Water_Security_Dict.head()","6fcb368a":"Water_Security_Dict = Water_Security_Dict['field'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(Water_Security_Dict.index,Water_Security_Dict.values, alpha=0.8)\nplt.ylabel('Number of field', fontsize=12)\nplt.xlabel('field', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","4c30375e":"Full_Climate_Change_2018= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Responses\/Climate Change\/2018_Full_Climate_Change_Dataset.csv')\nFull_Climate_Change_2019= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Responses\/Climate Change\/2019_Full_Climate_Change_Dataset.csv')\nFull_Climate_Change_2020= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Responses\/Climate Change\/2020_Full_Climate_Change_Dataset.csv')\n\n\nData5= Full_Climate_Change_2018.append([Full_Climate_Change_2018,Full_Climate_Change_2019, Full_Climate_Change_2020])\nx = Data5.iloc[:, [3]].values\n","022c86da":"Data5.head()","9ce180ee":"org = Data5.sort_values(by='account_number', ascending=True)\nfigure = plt.figure(figsize=(15,6))\nsns.barplot(y=org.organization, x=org.account_number)\nplt.xticks(rotation=50)\nplt.xlabel('account_number')\nplt.ylabel('organization ')\nplt.title('Number of organization')\nplt.show()","b8303d74":"display(Data5[Data5[\"survey_year\"]==\"2020\"][[\"organization\",\"ors_response_id\",\"question_unique_reference\",\"data_point_name\",\"data_point_id\",\"response_value\",\n                                       \"account_number\"]].sort_values(by=\"account_number\", ascending= False).head(5).style.background_gradient(cmap=\"spring\"))","def7f869":"Full_Corporations_Response_Data_Dict= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Responses\/Climate Change\/Full_Corporations_Response_Data_Dictionary copy.csv')\n","98c29112":"Full_Corporations_Response_Data_Dict.head()","c4a45736":"Full_Corporations_Response_Data_Dict = Full_Corporations_Response_Data_Dict['field'].value_counts() [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(Full_Corporations_Response_Data_Dict.index,Full_Corporations_Response_Data_Dict.values, alpha=0.8)\nplt.ylabel('Number of field', fontsize=12)\nplt.xlabel('field', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","d5e41ec6":"Full_Water_Security_2018= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Responses\/Water Security\/2018_Full_Water_Security_Dataset.csv')\nFull_Water_Security_2019= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Responses\/Water Security\/2019_Full_Water_Security_Dataset.csv')\nFull_Water_Security_2020= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Responses\/Water Security\/2020_Full_Water_Security_Dataset.csv')\n\n\nData6= Full_Water_Security_2018.append([Full_Water_Security_2018,Full_Water_Security_2019, Full_Water_Security_2020])\nx = Data6.iloc[:, [3]].values\n","c6873d08":"Data6.head()","b4ae81aa":"cr = Data6['question_number'].value_counts().reset_index()\ncr.columns = [\n    'question_number', \n    'percent'\n]\ncr['percent'] \/= len(Data6)\n\nfig = px.pie(\n    cr, \n    names='question_number', \n    values='percent', \n    title='User questions (Water Security)', \n    width=800,\n    height=500 \n)\n\nfig.show()","5f1ea360":"display(Data6[Data6[\"survey_year\"]==\"2019\"][[\"organization\",\"response_received_date\",\"accounting_period_to\",\"ors_response_id\",\"question_unique_reference\",\"data_point_name\",\"data_point_id\",\"row_number\",\"response_value\",\n                                       \"survey_year\"]].sort_values(by=\"survey_year\", ascending= False).head(5).style.background_gradient(cmap=\"spring\"))","bf8776b0":"Full_Corporations_Response_Data_Dict= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Corporations\/Corporations Responses\/Water Security\/Full_Corporations_Response_Data_Dictionary.csv')\n","7b89017e":"Full_Corporations_Response_Data_Dict","a8a09e1c":"Full_Corporations_Response_Data_Dict = Full_Corporations_Response_Data_Dict['field'].value_counts()\nplt.figure(figsize=(6,4))\nsns.barplot(Full_Corporations_Response_Data_Dict.index,Full_Corporations_Response_Data_Dict.values, alpha=0.8)\nplt.ylabel('Number of field', fontsize=12)\nplt.xlabel('field', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","ac72d6e9":"CDC_500_Cities_Census_Tract_Data= pd.read_csv('..\/input\/cdp-unlocking-climate-solutions\/Supplementary Data\/CDC 500 Cities Census Tract Data\/500_Cities__Census_Tract-level_Data__GIS_Friendly_Format___2019_release.csv')\n","01f8c0cf":"CDC_500_Cities_Census_Tract_Data","e8dcfc1f":"display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"ACCESS2_CrudePrev\",\"ACCESS2_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"ACCESS2_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\n","5a49d9c8":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"ARTHRITIS_CrudePrev\",\"ARTHRITIS_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"ARTHRITIS_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"ARTHRITIS_CrudePrev\",\"ARTHRITIS_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","fe7d98f2":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"BINGE_CrudePrev\",\"BINGE_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"BINGE_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"BINGE_CrudePrev\",\"BINGE_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","ad664c43":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"BPHIGH_CrudePrev\",\"BPHIGH_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"BPHIGH_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"BPHIGH_CrudePrev\",\"BPHIGH_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","eaa102c4":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"BPMED_CrudePrev\",\"BPMED_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"BPMED_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"BPMED_CrudePrev\",\"BPMED_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","4d383d77":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"CANCER_CrudePrev\",\"CANCER_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"CANCER_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"CANCER_CrudePrev\",\"CANCER_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","4e941bd8":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"CASTHMA_CrudePrev\",\"CASTHMA_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"CASTHMA_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"CASTHMA_CrudePrev\",\"CASTHMA_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","cf270815":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"CHD_CrudePrev\",\"CHD_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"CHD_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"CHD_CrudePrev\",\"CHD_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","b6edf863":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"CHECKUP_CrudePrev\",\"CHECKUP_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"CHECKUP_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"CHECKUP_CrudePrev\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","2eb34c4b":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"CHOLSCREEN_CrudePrev\",\"CHOLSCREEN_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"CHOLSCREEN_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"CHOLSCREEN_CrudePrev\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","f24c1b4b":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"COLON_SCREEN_CrudePrev\",\"COLON_SCREEN_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"COLON_SCREEN_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"COLON_SCREEN_CrudePrev\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","47070bb1":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"COPD_CrudePrev\",\"COPD_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"COPD_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"COPD_CrudePrev\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","25e23325":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"COREM_CrudePrev\",\"COREM_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"COREM_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"COREM_CrudePrev\",\"COREM_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","cd0de73e":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"COREW_CrudePrev\",\"COREW_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"COREW_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"COREW_CrudePrev\",\"COREW_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","0842c81d":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"CSMOKING_CrudePrev\",\"CSMOKING_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"CSMOKING_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"CSMOKING_CrudePrev\",\"CSMOKING_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","ca6456bd":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"DENTAL_CrudePrev\",\"DENTAL_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"DENTAL_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"DENTAL_CrudePrev\",\"DENTAL_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","cc3563c7":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"DIABETES_CrudePrev\",\"DIABETES_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"DIABETES_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"DIABETES_CrudePrev\",\"DIABETES_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","ca1ab1a6":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"HIGHCHOL_CrudePrev\",\"HIGHCHOL_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"HIGHCHOL_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"HIGHCHOL_CrudePrev\",\"HIGHCHOL_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","b3504b5c":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"KIDNEY_CrudePrev\",\"KIDNEY_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"KIDNEY_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"KIDNEY_CrudePrev\",\"KIDNEY_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","54f666e2":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"LPA_CrudePrev\",\"LPA_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"LPA_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"LPA_CrudePrev\",\"LPA_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","189c6233":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"MAMMOUSE_CrudePrev\",\"MAMMOUSE_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"MAMMOUSE_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"MAMMOUSE_CrudePrev\",\"MAMMOUSE_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","10928031":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"MHLTH_CrudePrev\",\"MHLTH_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"MHLTH_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"MHLTH_CrudePrev\",\"MHLTH_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","c5bfa14d":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"OBESITY_CrudePrev\",\"OBESITY_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"OBESITY_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"OBESITY_CrudePrev\",\"OBESITY_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","ff681cc0":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"PAPTEST_CrudePrev\",\"PAPTEST_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"PAPTEST_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"PAPTEST_CrudePrev\",\"PAPTEST_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","400e1b6b":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"PHLTH_CrudePrev\",\"PHLTH_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"PHLTH_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"PHLTH_CrudePrev\",\"PHLTH_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","194f035e":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"SLEEP_CrudePrev\",\"SLEEP_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"SLEEP_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"SLEEP_CrudePrev\",\"SLEEP_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","f7fa1c14":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"STROKE_CrudePrev\",\"STROKE_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"STROKE_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"STROKE_CrudePrev\",\"STROKE_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","3f0bc6bf":"#display(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"TEETHLOST_CrudePrev\",\"TEETHLOST_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\",\"TEETHLOST_Crude95CI\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))\ndisplay(CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"TEETHLOST_CrudePrev\",\"TEETHLOST_Crude95CI\"]].groupby([\"StateAbbr\",\"PlaceName\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"cool\"))","11727be8":"def CDC_500_Cities(x):\n    y = CDC_500_Cities_Census_Tract_Data[[\"StateAbbr\",\"PlaceName\",\"PlaceFIPS\",\"TractFIPS\",\"Place_TractID\",\"Population2010\",\"ACCESS2_CrudePrev\",\"ACCESS2_Crude95CI\",\"ARTHRITIS_CrudePrev\",\"ARTHRITIS_Crude95CI\",\"BINGE_CrudePrev\",\"BINGE_Crude95CI\",\"BPHIGH_CrudePrev\",\"BPHIGH_Crude95CI\",\"BPMED_CrudePrev\",\"BPMED_Crude95CI\",\"CANCER_CrudePrev\",\"CANCER_Crude95CI\",\"CASTHMA_CrudePrev\",\"CASTHMA_Crude95CI\",\"CHD_CrudePrev\",\"CHD_Crude95CI\",\"CHECKUP_CrudePrev\",\"CHECKUP_Crude95CI\",\"CHOLSCREEN_CrudePrev\",\"CHOLSCREEN_Crude95CI\",\"COLON_SCREEN_CrudePrev\",\"COLON_SCREEN_Crude95CI\",\"COPD_CrudePrev\",\"COPD_Crude95CI\",\"COREM_CrudePrev\",\"COREM_Crude95CI\",\"COREW_CrudePrev\",\"COREW_Crude95CI\",\"CSMOKING_CrudePrev\",\"CSMOKING_Crude95CI\",\"DENTAL_CrudePrev\",\"DENTAL_Crude95CI\",\"DIABETES_CrudePrev\",\n                                          \"DIABETES_Crude95CI\",\"HIGHCHOL_CrudePrev\",\"HIGHCHOL_Crude95CI\",\"KIDNEY_CrudePrev\",\"KIDNEY_Crude95CI\",\"LPA_CrudePrev\",\"LPA_Crude95CI\",\"MAMMOUSE_CrudePrev\",\"MAMMOUSE_Crude95CI\",\"MHLTH_CrudePrev\",\"MHLTH_Crude95CI\",\"OBESITY_CrudePrev\",\"OBESITY_Crude95CI\",\"PAPTEST_CrudePrev\",\"PAPTEST_Crude95CI\",\"PHLTH_CrudePrev\",\"PHLTH_Crude95CI\",\"SLEEP_CrudePrev\",\"SLEEP_Crude95CI\",\"STROKE_CrudePrev\",\"STROKE_Crude95CI\",\"TEETHLOST_CrudePrev\",\"TEETHLOST_Crude95CI\",\"Geolocation\"]][CDC_500_Cities_Census_Tract_Data[\"StateAbbr\"] == x]\n    y = y.sort_values(by=\"Population2010\",ascending=False)\n    return y.head(500)","bdea66e7":"CDC_500_Cities(\"AL\")","88d21ae1":"CDC_500_Cities(\"AK\")\n","adf3e979":"CDC_500_Cities(\"AZ\")\n","bb5d19ac":"CDC_500_Cities(\"AR\")\n","dbc196c4":"CDC_500_Cities(\"CA\")\n","f1b68b6a":"CDC_500_Cities(\"CO\")\n","8109b6b1":"CDC_500_Cities(\"CT\")\n","338b65a7":"CDC_500_Cities(\"DE\")\n","38f89e91":"CDC_500_Cities(\"DC\")\n","3277d1a9":"CDC_500_Cities(\"FL\")\n","6415a0ee":"CDC_500_Cities(\"GA\")\n","73fedce2":"CDC_500_Cities(\"HI\")\n","3a7ced15":"CDC_500_Cities(\"ID\")\n","b9a71697":"CDC_500_Cities(\"IL\")\n","c071555b":"CDC_500_Cities(\"IN\")\n","979b097f":"CDC_500_Cities(\"IA\")\n","0a00a524":"CDC_500_Cities(\"KS\")\n","2b4359ba":"CDC_500_Cities(\"KY\")\n","7738d99b":"CDC_500_Cities(\"LA\")\n","12344639":"CDC_500_Cities(\"ME\")\n","aa6b335a":"CDC_500_Cities(\"MD\")\n","d58db086":"CDC_500_Cities(\"MA\")\n","4cab3305":"CDC_500_Cities(\"MI\")\n","7ee32c04":"CDC_500_Cities(\"MN\")\n","fecba796":"CDC_500_Cities(\"MS\")\n","36933881":"CDC_500_Cities(\"MO\")\n","52d7ab0d":"CDC_500_Cities(\"MT\")\n","9697d3bc":"CDC_500_Cities(\"NE\")\n","8dee04b3":"CDC_500_Cities(\"NV\")\n","500f6e74":"CDC_500_Cities(\"NH\")\n","08a398df":"CDC_500_Cities(\"NJ\")\n","4cb46802":"CDC_500_Cities(\"NM\")\n","7fb9daed":"CDC_500_Cities(\"NY\")\n","fe44d1bd":"CDC_500_Cities(\"NC\")\n","d38a38d4":"CDC_500_Cities(\"ND\")\n","6f9645ca":"CDC_500_Cities(\"OH\")\n","5646b139":"CDC_500_Cities(\"OK\")\n","706218f4":"CDC_500_Cities(\"OR\")\n","e5efb41b":"CDC_500_Cities(\"PA\")\n","378cd85f":"CDC_500_Cities(\"RI\")\n","6492e1e2":"CDC_500_Cities(\"SC\")\n","bae3b010":"CDC_500_Cities(\"SD\")\n","86911a86":"CDC_500_Cities(\"TN\")\n","828bc524":"CDC_500_Cities(\"TX\")","aab01447":"CDC_500_Cities(\"UT\")\n","4c087924":"CDC_500_Cities(\"VT\")\n","627d3089":"CDC_500_Cities(\"VA\")\n","db900d92":"CDC_500_Cities(\"WA\")","24af0efa":"CDC_500_Cities(\"WV\")","a1769714":"CDC_500_Cities(\"WI\")","38368be3":"CDC_500_Cities(\"WY\")","010c63ce":"## Minimum_tier","63fdf1c2":"## CASTHMA_CrudePrev","9b943b1a":"## IN","9e523162":"## RI","130d71f8":"## IL","64e4d697":"## NY","0076deaa":"![https:\/\/www.googleapis.com\/download\/storage\/v1\/b\/kaggle-user-content\/o\/inbox%2F1314380%2F6f0f4d334e5b094bfcf002c4d2e931f6%2FCDP_dataset.png?generation=1603468553539656&alt=media](https:\/\/www.googleapis.com\/download\/storage\/v1\/b\/kaggle-user-content\/o\/inbox%2F1314380%2F6f0f4d334e5b094bfcf002c4d2e931f6%2FCDP_dataset.png?generation=1603468553539656&alt=media)","6e360f8c":"![https:\/\/storage.googleapis.com\/kaggle-competitions\/kaggle\/22420\/logos\/header.png?t=2020-09-08-21-21-20](https:\/\/storage.googleapis.com\/kaggle-competitions\/kaggle\/22420\/logos\/header.png?t=2020-09-08-21-21-20)","5671f471":"## Netherlands","c4072646":"## TX","0a5d95d1":"## CANCER_CrudePrev","998ce0e7":"## MN","85950a65":"## KY","bfd50792":"# Cities_Responses each Country","ab7c9b47":"## TN","588e09a0":"## ID","d0515d7c":"## ARTHRITIS_CrudePrev","ee708cec":"## Namibia","3c828330":"## samples\t","c5720ad2":"## Country Population","88e53445":"## KS","d4724d24":"## Population by time series \n","14235448":"## IA","2522a2de":"## WI","5341b46c":"## BINGE_CrudePrev","7513620c":"## CHD_CrudePrev","1683494f":"## NV","f26c37f9":"# Cities Responses","8829e077":"### Here we are comparing the Population with each Country, first group the Country and get max,min and avg (mean) of Population","0b0105fc":"# United States of America","674ce32d":"## TEETHLOST_CrudePrev","bb09a281":"## VA","3633e8b9":"## AR","5f5c1215":"Import Library","ea4c3dda":"## Authority_types","95ff3e92":"## STROKE_CrudePrev","de913b50":"## China","c2fb09c3":"Overview of the Data:\n\nThe CDP dataset consists of publicly available responses to 3 different surveys: (1) corporate climate change disclosures; (2) corporate water security disclosures; and (3) disclosures from cities. Data is available for 2018, 2019, and 2020, along with a small collection of supplementary datasets. A starter notebook demonstrates how to load and work with the data.\n\nMain Data:\n* 2018_Full_Climate_Change_Dataset.csv (298.53 MB)\n* 2019_Full_Climate_Change_Dataset.csv (879.62 MB)\n* 2020_Full_Climate_Change_Dataset.csv (511.43 MB)\n* 2018_Full_Water_Security_Dataset.csv (64.52 MB)\n* 2019_Full_Water_Security_Dataset.csv (128.6 MB)\n* 2020_Full_Water_Security_Dataset.csv(127.32 MB)\n* 2018_Full_Cities_Dataset.csv (71.16 MB)\n* 2019_Full_Cities_Dataset.csv (214.66 MB)\n* 2020_Full_Cities_Dataset.csv (365.1 MB)","11599da8":"## ACCESS2_CrudePrev","8ebb753f":"## PHLTH_CrudePrev","9bb6dc61":"# Corporations","bb988400":"## organization","3af8f15e":"## CA","5f5d5de3":" ## Activities","fdbd0889":"## Republic of Korea","ac797f71":"## BPHIGH_CrudePrev","58010ab7":"## SD","f4f18602":"## SLEEP_CrudePrev","877b976e":"## VT","81bdf72d":"## Italy","c207ed8d":"## Philippines","9e7030f1":"## Norway","d108ac0e":"## AK","b0c652fd":"## Climate Change","95ba0313":"## Sectors\t","38334595":"## DENTAL_CrudePrev","02a365dc":"## United Kingdom of Great Britain and Northern Ireland","f810d766":"## Argentina","c38d7c15":"# Climate Change","6ba66b3f":"## Costa Rica","0f27e14b":"## Brazil","c5e9256e":"## MS","aa40301c":"## COLON_SCREEN_CrudePrev","f58573be":"## MAMMOUSE_CrudePrev","5102c36d":"CDP is a\u202fglobal\u202fnon-profit that drives companies and governments to reduce their greenhouse gas emissions, safeguard water resources, and protect forests. Each year, CDP takes the information supplied in its annual reporting process and scores companies and cities based on their journey through disclosure and towards environmental leadership.\n\nCDP houses the world\u2019s largest, most comprehensive dataset on environmental action. As the data grows to include thousands more companies and cities each year, there is increasing potential for the data to be utilized in impactful ways. Because of this potential, CDP is excited to launch an analytics challenge for the Kaggle community. Data scientists will scour environmental information provided to CDP by disclosing companies and cities, searching for solutions to our most pressing problems related to climate change, water security, deforestation, and social inequity.\n\n* How do you help cities adapt to a rapidly changing climate amidst a global pandemic, but do it in a way that is socially equitable?\n\n* What are the projects that can be invested in that will help pull cities out of a recession, mitigate climate issues, but not perpetuate racial\/social inequities?\n\n* What are the practical and actionable points where city and corporate ambition join, i.e. where do cities have problems that corporations affected by those problems could solve, and vice versa?\n\n* How can we measure the intersection between environmental risks and social equity, as a contributor to resiliency?","af02c3a8":"## ND","8a0e33c9":"## MT","bd427875":"## Industries\t","c3fde051":"In the chart above, you can see in the far left Emissions Reductions of a number of sections were higher that has the amount at least 24000.\n","406461d8":"# CDC 500 Cities Census Tract Data by StateAbbr\t","09075a01":"## Sweden","951fd7fe":"## COPD_CrudePrev","77029ec0":"# Read Dataset","e77e1875":"## DENTAL_CrudePrev","9a0bc5bd":"## MI","c2e683c9":"## Primary_sector\t","3a0c517a":"## Thailand","ba86d419":"## Colombia","397c99b7":"## FL","3e3d9b31":"## PA","1ecdd8f9":"## AZ","5138831e":"## WY","da2eb85e":"## Population by Account_Number","6b757e58":"## Authority_types","4ad3d16e":"## BPMED_CrudePrev","16005e3f":"# Ok Let's Visualize the data","ce5c0e95":"## OH","c76f2625":"## GA","8fab622c":"## DC","f51c9dbb":"## MHLTH_CrudePrev","78bb9136":"## LA","2df061ad":"## ME","3e45cab6":"## Question_Number","bac7e0a6":"## HI","81354c86":"# Population","a35ce216":"In the chart above, you can see in the far left Citywide GHG Emission Data of a number of sections were higher that has the amount at least 250000.","583b57a7":"## CT","44d6866b":"## HIGHCHOL_CrudePrev","d37d95b9":"## Malaysia","dc0b993c":"## Germany","65a1a1ab":"## United States of America","415efb06":"## Number of Parent Section","8c2e8ea5":"## Primary_industry","cc442770":"## Activities","a7894c72":"## Denmark","1f80f837":"## Canada","816db2f9":"## India","ca0d7c25":"## NC","2b904a1e":"See Detailed :https:\/\/www.kaggle.com\/c\/cdp-unlocking-climate-solutions\/data","4a7e6db2":"## PAPTEST_CrudePrev","18d1e552":"## DE","efa43f89":"## Argentina","df6d0fdb":"## Number of Section","15c0bddf":"## OK","dd0e4608":"# Governance","71eda177":"## MA","fbb3a90f":"## SC","b3f11ca6":"## Organization\t","0ad2ac34":"## COREW_CrudePrev","98ba1d8e":"## OR","47e2c776":"## WV","696e577e":"## NE","e6ab447d":"## NM","0268b109":"# Water Security\n\nUN-Water proposes the following definition of water security: \"The capacity of a population to safeguard sustainable access to adequate quantities of acceptable quality water for sustaining livelihoods, human well-being, and socio-economic development, for ensuring protection against water-borne pollution and water-related disasters, and for preserving ecosystems in a climate of peace and political stability\n\nsource :https:\/\/www.unwater.org\/publications\/water-security-infographic\/\n","7bdfc15e":"## France","76b1ee0f":"## OBESITY_CrudePrev","da975810":"# Health Census Information","4aed0b9d":"# Water Security","15ae2c9c":"# Canada","efd0c0be":"## Ecuador","fce75ac7":"## LPA_CrudePrev","9fd14445":"## Indonesia","56672855":"In the chart above, you can see in the far left 2018 of Year_Reported_to_CDP were higher that has the amount at least 1200","42e6c806":"## WA","d35a1f0e":"## NH","d6e6941a":"## Minimum_tier","032d22c2":"## Sectors","fd98e8b6":"## COREM_CrudePrev","08d21558":"## KIDNEY_CrudePrev","532feb76":"## Mexico","86ea9395":"Data were provided by the Centers for Disease Control and Prevention (CDC), Division of Population Health, Epidemiology and Surveillance Branch.","066231c3":"# Supplementary Data","3be99058":"# Corporations Responses","c92afda6":"##  Year Reported to CDP","b27ad680":"# Governance","854549b2":"## Country","dc308751":"## CSMOKING_CrudePrev","ee622039":"## MD","d13c5227":"## City Population","cf664086":"# Cities Disclosing","b8ffaca0":"## UT","d81c7772":"## Primary_industry","590c87ca":"## CO","c2b45ae2":"## Honduras","91ebbf91":"## Peru","1d8e4955":"## MO","ae2bcef4":"## NJ","02a3d8d9":"## Portugal","2c16828b":"##  Population Year","e106fc0f":"## AL","de138626":"## Industries","151c0ea0":"## Population distribution","b8cab51b":"## Primary_sector","3a70d416":"## Account_Number","60fb5fcd":"## CHOLSCREEN_CrudePrev","24db8ef6":"## Turkey","82e58a1a":"## Colombia"}}