{"cell_type":{"f6c3f608":"code","ed135c7d":"code","47817ec1":"code","758c9822":"code","a098ab11":"code","db3d8b4a":"code","b2cb3d02":"code","66184b4b":"code","6f79e085":"code","614986f1":"code","c7871e5c":"code","61648650":"code","d5b332e6":"code","bfa20e47":"code","03613b19":"code","f694b793":"code","c20e9810":"code","2c0243da":"code","d8b171bf":"code","8f6ea219":"code","4c46a23c":"code","fcff6ce4":"code","0ab8ed33":"code","793504e2":"code","bd0ac242":"code","175924c4":"code","fe789f98":"code","ee991a52":"code","939b7600":"code","ed75c60b":"code","ca22de42":"code","74ad8a00":"code","2a2c476c":"code","8ee7fc0f":"code","f18db637":"code","ea266c11":"code","ae69407e":"code","0621a68e":"code","6d8d490f":"code","cb2c3ba9":"code","2794c4a4":"code","255b6c88":"code","88b2f014":"code","8a52feeb":"code","21032a9c":"code","204673d6":"code","a1347474":"code","36e95326":"code","1214f1db":"code","bbea0952":"code","923f11d0":"code","e91b7bd2":"code","687cd288":"code","d8eb64fc":"code","b01021f0":"code","bf2d1257":"code","ced28da1":"code","45c5362e":"code","f2381e1e":"code","47eda78f":"code","f6d59b1b":"code","2f50702f":"code","933ee2e3":"code","56afe625":"code","b57b8594":"code","03c1b79c":"code","6d10db7b":"code","9ec576da":"code","9c4fd035":"code","60b186ac":"code","09ef04f1":"code","ad3b227b":"code","0aedcc6f":"code","3915633a":"code","9c461cdd":"code","e0a64976":"code","c982a5be":"code","5c428d9c":"code","1aca41e4":"code","3f488330":"code","e19bf271":"code","fec53a73":"code","4acc3ab4":"code","36f868bd":"code","ca577583":"code","af682c4e":"code","b42dadd5":"code","7452d8bf":"code","684ced71":"code","ce8fcbf1":"code","560ee92d":"code","2c7277b6":"code","8a78c60f":"code","b06df850":"code","2239d8c8":"code","2f25c734":"code","5297adac":"code","a463999f":"code","2998c4f5":"code","e82a50e4":"code","13bca151":"code","21a3e039":"code","589e218d":"code","cad42fdc":"code","72ce9d2e":"code","bb4d4c88":"markdown","dc372d11":"markdown","0e4a3a0d":"markdown","8ab56b3e":"markdown","bba011ff":"markdown","e5d66781":"markdown","6b4f6116":"markdown","7cdcfcdf":"markdown","a3b0ae51":"markdown","1023660f":"markdown","9c054330":"markdown","8406fa56":"markdown","f37abcaf":"markdown","3268f259":"markdown","7c493cae":"markdown","feb9ffa1":"markdown","74b7a020":"markdown","f3efcb1e":"markdown","fd686ecc":"markdown"},"source":{"f6c3f608":"import os\nimport numpy as np\nimport pandas as pd\nimport plotly as py\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport plotly.graph_objs as go\nimport contextily as ctx\nimport matplotlib.image as mpimg\nimport matplotlib\nfrom plotly.subplots import make_subplots\nfrom plotly.offline import download_plotlyjs \nfrom plotly.offline import init_notebook_mode\nfrom plotly.offline import plot,iplot\ninit_notebook_mode(connected=True)\nimport seaborn as sns\nimport mpl_toolkits\n\n","ed135c7d":"data=pd.read_csv('..\/input\/road-accidents-in-india\/only_road_accidents_data3.csv')","47817ec1":"data.head()","758c9822":"data_by_states=data.loc[:,['STATE\/UT','YEAR','Total']]","a098ab11":"data_by_states.head()","db3d8b4a":"df1=data_by_states.drop('YEAR',axis=1)\ndf1.head()","b2cb3d02":"df1=df1.groupby('STATE\/UT').sum().reset_index().sort_values(by='Total',ascending=False)","66184b4b":"df1.head()","6f79e085":"plt.figure(figsize=(20,10))\n\nsns.barplot(x=df1['STATE\/UT'],y=df1['Total'],palette='rainbow')\nplt.xticks(rotation=90)\n\nplt.title('Cases of road accidents in each state\/UT from 2001-14',size=20)\n","614986f1":"df_top=df1[df1['Total']>300000]\ndf_top","c7871e5c":"plt.figure(figsize=(20,10))\nsns.barplot(x=df_top['STATE\/UT'],y=df_top['Total'],palette='gnuplot_d')\nplt.xticks(size=15,rotation=45)\nplt.yticks(size=10)\n\nplt.title('States with highest road accidents between 2001-14',size=20)","61648650":"df_year=data_by_states.groupby('YEAR').sum().reset_index()","d5b332e6":"df_year","bfa20e47":"df_year['Percentage change']=df_year['Total'].pct_change().round(2)\ndf_year","03613b19":"plt.figure(figsize=(20,10))\n\nplt.plot(df_year['YEAR'],df_year['Total'], color='indianred')\nplt.title('Number of road accidents in India on a yearly basis',size=20)\nplt.xlabel('Year',size=15)\nplt.ylabel('Number of accidents',size=15)\nplt.xticks(np.arange(2001,2015,1),size=10)","f694b793":"plt.figure(figsize=(20,10))\nsns.barplot(x=df_year['YEAR'],y=df_year['Percentage change'],palette='viridis')\nplt.xlabel('Year',size=15)\nplt.ylabel('Perncentage Change',size=15)\nplt.yticks(np.arange(-0.02,0.09,0.01))","c20e9810":"plt.figure(figsize=(20,10))\n\nplt.plot(df_year['YEAR'],df_year['Total'], color='indianred')\nplt.title('Number of road accidents in India on a yearly basis',size=20)\nplt.xlabel('Year',size=15)\nplt.ylabel('Number of accidents',size=15)\nplt.xticks(np.arange(2001,2015,1),size=10)","2c0243da":"from sklearn.linear_model import LinearRegression\n","d8b171bf":"x_matrix=df_year['YEAR'].values.reshape(-1,1)\ny=df_year['Total'].values","8f6ea219":"reg=LinearRegression()\nreg.fit(x_matrix,y)","4c46a23c":"reg.intercept_","fcff6ce4":"reg.coef_","0ab8ed33":"regression=[]\na=np.arange(2015,2025)\nfor year in a:\n    year=np.array([year])\n    year=year.reshape(1,-1)\n    regression.append(reg.predict(year))","793504e2":"df_predicted=pd.DataFrame(regression)","bd0ac242":"df_predicted=df_predicted.rename(columns={0:'Total'})","175924c4":"df_predicted.reset_index(drop=True,inplace=True)","fe789f98":"years=np.arange(2015,2025,1)","ee991a52":"df_temp=pd.DataFrame(years)\ndf_temp","939b7600":"df_predicted['Year']=df_temp","ed75c60b":"df_predicted=df_predicted[['Year','Total']]","ca22de42":"df_predicted['Total']=df_predicted['Total'].values.round(0)\ndf_predicted.index=df_predicted.index+1\ndf_predicted","74ad8a00":"df_location=pd.read_csv('..\/input\/indian-road-accidents-data\/No_of_Road_Acc_acco_to_clf_of_age_of_Driver_2014_2016.csv')","2a2c476c":"df_location.head()","8ee7fc0f":"df_location_updated=df_location.iloc[:,47:]\ndf_location_updated.head()\n","f18db637":"df_month=pd.read_csv('..\/input\/road-accidents-in-india\/only_road_accidents_data_month2.csv')","ea266c11":"df_month.head()","ae69407e":"i=0\nfor year in df_month['YEAR']:\n    if year==2014:\n        i+=1\n    else:\n        df_month=df_month.drop(i)\n        i+=1","0621a68e":"df_month.reset_index(drop=True)","6d8d490f":"df_month_top=df_month[df_month['TOTAL']>20000]\ndf_month_top","cb2c3ba9":"plt.figure(figsize=(20,10))\nsns.barplot(x='STATE\/UT',y='TOTAL',data=df_month_top,palette='winter')\nplt.xlabel('State\/UT',size=15)\nplt.ylabel('Total accidents',size=15)\nplt.title('States with highest accidents in 2014',size=25)","2794c4a4":"df_tamil_nadu=df_month.loc[df_month['STATE\/UT'].isin(['Tamil Nadu'])]\ndf_karnataka=df_month.loc[df_month['STATE\/UT'].isin(['Karnataka'])]\ndf_maharashtra=df_month.loc[df_month['STATE\/UT'].isin(['Maharashtra'])]\ndf_delhi=df_month.loc[df_month['STATE\/UT'].isin(['Delhi Ut'])]","255b6c88":"df_tamil_nadu","88b2f014":"df_delhi","8a52feeb":"df_karnataka","21032a9c":"df_maharashtra","204673d6":"plt.figure(figsize=(20,10))\nval=df_maharashtra.iloc[:,1:14].values\nplt.plot(val[0],color='indianred',linewidth=3)\nplt.xlim(1,13)\nplt.ylim(3000,4500)\nplt.xlabel('Month',size=15)\nplt.ylabel('Number of accidents',size=15)\nplt.title('Number of accidents on monthly basis in Maharshtra (2014)',size=25)\nplt.xticks(np.arange(1,13))","a1347474":"plt.figure(figsize=(20,10))\nval=df_karnataka.iloc[:,1:14].values\nplt.plot(val[0],color='green',linewidth=3)\nplt.xlim(1,13)\nplt.ylim(3000,4500)\nplt.xlabel('Month',size=15)\nplt.ylabel('Number of accidents',size=15)\nplt.title('Number of accidents on monthly basis in Karnataka (2014)',size=25)\nplt.xticks(np.arange(1,13))","36e95326":"plt.figure(figsize=(20,10))\nval=df_tamil_nadu.iloc[:,1:14].values\nplt.plot(val[0],color='purple',linewidth=3)\nplt.xlim(1,13)\nplt.ylim(5000,6000)\nplt.xticks(np.arange(1,13))\nplt.xlabel('Month',size=15)\nplt.ylabel('Number of accidents',size=15)\nplt.title('Number of accidents on monthly basis in Tamil Nadu (2014)',size=25)\n","1214f1db":"plt.figure(figsize=(20,10))\nval=df_delhi.iloc[:,1:14].values\nplt.plot(val[0],color='black',linewidth=3)\nplt.xlim(1,13)\nplt.ylim(600,850)\nplt.xlabel('Month',size=15)\nplt.ylabel('Number of accidents',size=15)\nplt.title('Number of accidents on monthly basis in New Delhi (2014)',size=25)\nplt.xticks(np.arange(1,13))","bbea0952":"df_hedu=pd.read_csv('..\/input\/indian-road-accidents-data\/Accidents_Classified_Acc_To_EduQual_Of_Drivers_9-10_standard-09-16.csv')\ndf_hedu","923f11d0":"df_ledu=pd.read_csv('..\/input\/indian-road-accidents-data\/Accidents_Acc_EduQual_Drivers_above_10_Standard_09-16.csv')","e91b7bd2":"df_ledu.head()","687cd288":"df_hedu_updated=df_hedu.loc[:,['States\/UTs','2016']]","d8eb64fc":"df_hedu_updated=df_hedu_updated.rename(columns={'2016':'10th pass'})","b01021f0":"df_hedu_updated","bf2d1257":"df_ledu_updated=df_ledu.loc[:,['2016']]","ced28da1":"df_ledu_updated=df_ledu_updated.rename(columns={'2016': '10th Fail'})\ndf_ledu_updated","45c5362e":"df_education=df_hedu_updated.copy()","f2381e1e":"df_education['10th fail']=df_ledu_updated","47eda78f":"df_education.dropna(axis=0,inplace=True)\ndf_education.drop(36,inplace=True)","f6d59b1b":"plt.figure(figsize=(20,10))\nsns.barplot(x=df_education['States\/UTs'],y=df_education['10th pass'],palette='Paired')\nplt.xticks(rotation=45,size=10)\nplt.title('Drivers involved in road accidents who are 10th pass or above (2016)',size=25)\nplt.ylabel('Number of accidents',size=15)\nplt.xlabel('State\/UT',size=15)","2f50702f":"plt.figure(figsize=(20,10))\nsns.barplot(x=df_education['States\/UTs'],y=df_education['10th fail'])\nplt.xticks(rotation=45,size=10)\nplt.title('Drivers involved in road accidents who are not 10th pass (2016)',size=25)\nplt.ylabel('Number of accidents',size=15)\nplt.xlabel('State\/UT',size=15)","933ee2e3":"df_education['Total accidents']=df_education['10th pass']+df_education['10th fail']\ndf_education.head()","56afe625":"df_education=df_education.sort_values(by='Total accidents',ascending=False)","b57b8594":"df_age=pd.read_csv('..\/input\/indian-road-accidents-data\/No_of_Road_Acc_acco_to_clf_of_age_of_Driver_2014_2016.csv')\ndf_age.head()","03c1b79c":"df_age_2014=df_age.iloc[:,0:6]\ndf_age_2014.drop('S. No.',axis=1,inplace=True)","6d10db7b":"#df_age_2014.drop(36,inplace=True)\ndf_age_2014.dropna(axis=1,inplace=True)","9ec576da":"plt.figure(figsize=(20,10))\nsns.barplot(x='State\/ UT',y='0-14',data=df_age_2014)\nplt.xticks(rotation=90)\nplt.title('Drivers who are below the age of 14 and involved in accidents (2014)',size=25)\nplt.xlabel('State\/UTs',size=15)\nplt.ylabel('Number of accidents',size=15)","9c4fd035":"plt.figure(figsize=(20,10))\nsns.barplot(x='State\/ UT',y='15-24',data=df_age_2014,palette='gnuplot')\nplt.xticks(rotation=90)\nplt.title('Drivers who are of ages 15-24 and involved in accidents (2014)',size=25)\nplt.xlabel('State\/UTs',size=15)\nplt.ylabel('Number of accidents',size=15)","60b186ac":"plt.figure(figsize=(20,10))\nsns.barplot(x='State\/ UT',y='25-64',data=df_age_2014)\nplt.xticks(rotation=90)\nplt.title('Drivers who are of ages 25-64 and involved in accidents (2014)',size=25)\nplt.xlabel('State\/UTs',size=15)\nplt.ylabel('Number of accidents',size=15)","09ef04f1":"plt.figure(figsize=(20,10))\nsns.barplot(x='State\/ UT',y='64 above',data=df_age_2014,palette='Spectral')\nplt.xticks(rotation=90)\nplt.title('Drivers who are of ages 64 above and involved in accidents (2014)',size=25)\nplt.xlabel('State\/UTs',size=15)\nplt.ylabel('Number of accidents',size=15)","ad3b227b":"df_Andhra=df_age_2014.iloc[0:1,:]","0aedcc6f":"df_Andhra","3915633a":"unstack_df=df_Andhra.unstack()","9c461cdd":"unstack_df.reset_index(drop=True,inplace=True)","e0a64976":"list1=[]\nfor i in range(1,5):\n    list1.append(unstack_df[i])\n    i+=1\n    ","c982a5be":"labels=['0-14','15-24','25-64','64 above']","5c428d9c":"plt.figure(figsize=(10,10))\nplt.pie(list1,labels=labels,autopct='%1.1f%%')\nplt.title('Road accidents in Andhra Pradesh by age groups (2014)',size=20)","1aca41e4":"\ndf_maha=df_age_2014.loc[14:14,:]","3f488330":"df_maha","e19bf271":"unstack_df=df_maha.unstack()\n\nunstack_df.reset_index(drop=True,inplace=True)\n\nlist1=[]\nfor i in range(1,5):\n    list1.append(unstack_df[i])\n    i+=1","fec53a73":"plt.figure(figsize=(10,10))\nplt.pie(list1,labels=labels,autopct='%1.1f%%')\nplt.title('Road accidents in Maharashtra by age groups (2014)',size=20)","4acc3ab4":"df_Kar=df_age_2014.copy()\n","36f868bd":"df_Kar=df_Kar.iloc[11:12,:]\ndf_Kar\n","ca577583":"unstack_df=df_Kar.unstack()","af682c4e":"unstack_df.reset_index(drop=True,inplace=True)","b42dadd5":"list1=[]\nfor i in range(1,5):\n    list1.append(unstack_df[i])\n    i+=1","7452d8bf":"plt.figure(figsize=(10,10))\nplt.pie(list1,labels=labels,autopct='%1.1f%%')\nplt.title('Road accidents in Karnataka by age groups (2014)',size=20)","684ced71":"df_time=pd.read_csv('..\/input\/road-accidents-in-india\/only_road_accidents_data3.csv')","ce8fcbf1":"df_time=df_time.reset_index(drop=True)\ndf_time.head()","560ee92d":"\ndf_time=df_time.loc[df_time['YEAR'].isin(['2014'])]","2c7277b6":"df_time","8a78c60f":"df_time_top=df_time[df_time['Total']>40000]\ndf_time_top.reset_index(drop=True,inplace=True)","b06df850":"df_time_Andhra=df_time_top.loc[0:0,:]\ndf_time_Andhra\n","2239d8c8":"unstack_df=df_time_Andhra.unstack()\nunstack_df.reset_index(drop=True,inplace=True)\nunstack_df","2f25c734":"labels=['0-3','3-6','6-9','9-12','12-15','15-18','18-21','21-24']","5297adac":"list1=[]\nfor i in range(2,10):\n    list1.append(unstack_df[i])\n    i+=1","a463999f":"plt.figure(figsize=(10,10))\nplt.pie(list1,labels=labels,autopct='%1.1f%%')\nplt.title('Road accidents in Andhra Pradesh by time of accident in hrs (2014)',size=20)","2998c4f5":"df_time_Kar=df_time_top.loc[1:1,:]\ndf_time_Kar\n\nunstack_df=df_time_Kar.unstack()\nunstack_df.reset_index(drop=True,inplace=True)\nunstack_df","e82a50e4":"list1=[]\nfor i in range(2,10):\n    list1.append(unstack_df[i])\n    i+=1","13bca151":"plt.figure(figsize=(10,10))\nplt.pie(list1,labels=labels,autopct='%1.1f%%')\nplt.title('Road accidents in Karanataka by time of accident in hrs (2014)',size=20)","21a3e039":"df_time_TN=df_time_top.loc[3:3,:]\ndf_time_TN","589e218d":"unstack_df=df_time_TN.unstack()\nunstack_df.reset_index(drop=True,inplace=True)\nunstack_df","cad42fdc":"list1=[]\nfor i in range(2,10):\n    list1.append(unstack_df[i])\n    i+=1","72ce9d2e":"plt.figure(figsize=(10,10))\nplt.pie(list1,labels=labels,autopct='%1.1f%%')\nplt.title('Road accidents in Tamil Nadu by time of accident in hrs (2014)',size=20)","bb4d4c88":"A visual representation of all the road accidents in the states","dc372d11":"The above states have each had above or equal to 3 lakh road accident cases.","0e4a3a0d":"## Note\n\nTo find a detailed report explaining what possible steps could be taken by Government of India to increase road safety, kindly go through my analysis report on my github. The link has been shared below \n\n[Final analysis report](https:\/\/github.com\/rinbaruah\/Indian-roads-data-analysis\/blob\/master\/Road%20safety%20case%20analysis.pdf)\n\n\nI would be extremely glad if my fellow Kagglers can take a look at what i have been upto on my github. Here is my repository link\n\n[Github profile](https:\/\/github.com\/rinbaruah)","8ab56b3e":"From the above plots, it can be seen that apart from the year 2008, every other has recorded an increase or the same number of accidents in the country ","bba011ff":"In New Delhi, accidents seem to peak early in the year. As expected, the accidents during the rainy season from June to July are low. However, a sharp increase does take place in August.","e5d66781":"As we see, like each year, Tamil Nadu records highest number of road accidents by a large margin.","6b4f6116":"Amongst the middle aged and retiring aged people, Andhra Pradesh , Telangana, Tamil Nadu , Maharashtra have high cases of accidents.","7cdcfcdf":"From the above, it can be seen that the accidents occuring from 18-21 hrs is slightly higher. Most of the accidents occur after sunset when the visibility might be low. This means drivers are facing issues with inadequate lighting or rash fellow drivers. Strict police patrolling to maintain speed limits could definitely help reduce accidents.","a3b0ae51":"Using linear regression of the past data from 2001-2014, we can predict the values of future years as given above.","1023660f":"# References\n\n\n* National transport policy of India, MoRTH\n* Challenges and status of road safety in India, MoRTH\n* Road safety policy, Government of UK\n* All the data captured from the official government databases in data.gov.in","9c054330":"Between the ages of 15-24, most of the accidents are from Maharashtra and UP. Telangana, Andhra Pradesh, Karnataka are also a notable mention. This age group generally comprises of school going senior students or college students who use 2 wheelers. Speeding is one of the major reasons for these accidents.","8406fa56":"Amongst the senior citizens aswell, Andhra Pradesh records the highest cases followed by MP and UP. States having strong public transport systems such as metros and buses show low accident rates for senior citizens since they prefer it over driving themselves.","f37abcaf":"In Tamil Nadu aswell, the accidents become lowest during the peak rainy months which last from October to December.","3268f259":"In the states of Karnataka and Maharashtra, the accidents peak in the period of April to June. In the rainy seasons starting from first week of June, the accidents reduce. It could mean that drivers take greater precaution during the rains than the dry season.","7c493cae":"From the above visualisations, it is observed that education plays little role in driver accidents. In Tamil Nadu, under both 10th pass and 10th fail criteria, the accidents are higher. The case is similar for most of the states. However, the cases in the North East states is extremely low even with limited road development due to it's challenging topological conditions.","feb9ffa1":"From the above visualisation, the under age driving causing road accidents is extremely severe in Uttar Pradesh. Haryana,Telangana, West Bengal,Andhra Pradesh,Bihar,MP are also notable mentions. Under age driving punishments aren't enforced as strictly in these states as in other states.","74b7a020":"Above are the total number of road accidents from 2001-2014","f3efcb1e":"The above data shows that there is a positive increase of road accidents each year.","fd686ecc":"In Maharashtra, no accidents are caused by underage driving or by senior citizens. This indicates strict traffic and police regulations against under age driving."}}