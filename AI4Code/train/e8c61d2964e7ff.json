{"cell_type":{"5deea0d4":"code","d55d5d1a":"code","bc9c9388":"code","b8d2d30a":"code","f4e124d1":"code","cdfb8e16":"code","5ad45f9d":"code","a6197d3e":"code","fcb82141":"code","348dbee2":"code","e9b4be7e":"code","c34793c6":"code","ed264246":"code","4d51e8ac":"code","01fc3a66":"code","9f10683b":"code","fb5d41eb":"code","6458f5d1":"code","1e848a30":"code","74c8b0e8":"code","551991ad":"code","bc117918":"code","8851d715":"code","541f9f6a":"code","ecb8080a":"code","2ae1bf58":"markdown","e05f21da":"markdown","1f215814":"markdown","b625ec70":"markdown","6fc6650a":"markdown"},"source":{"5deea0d4":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","d55d5d1a":"df1 = pd.read_csv('..\/input\/clinical-dataset-of-the-cypguides-trial\/Dataset.csv', encoding='utf8')\npd.set_option('display.max_columns', None)\ndf1.head()","bc9c9388":"df = pd.read_csv('..\/input\/clinical-dataset-of-the-cypguides-trial\/Medicationkey.csv', encoding='utf8')\npd.set_option('display.max_columns', None)\ndf.head(30)","b8d2d30a":"df1.isnull().sum()","f4e124d1":"!pip install pycomp","cdfb8e16":"# Importing libraries\nfrom pycomp.viz.insights import *\n\n# Sales rate\n\nmedication_colors = ['crimson', 'darkslateblue']\nplot_donut_chart(df=df, col='Medication', colors=medication_colors,\n                 title='Psychotropic Medication')","5ad45f9d":"medication_colors = ['green', 'gold']\nplot_donut_chart(df=df, col='Medication', colors=medication_colors, figsize=(12, 12),\n                 title='Psychotropic Medication')","a6197d3e":"# Ethnicity rate (White\u201d, \u201cBlack\u201d, \u201cLatino\u201d, and \u201cOther\/Unknown\u201d)\n\nethnicity_colors = ['chartreuse', 'coral', 'magenta', 'dodgerblue']\nplot_donut_chart(df=df1, col='RACE\/ETHNICITY', colors=ethnicity_colors, figsize=(12, 12),\n                 title='CYP & Ethnicity')","fcb82141":"# Countplot for ethnicity\nethnicity_colors = ['chartreuse', 'coral', 'magenta', 'dodgerblue']\n\nplot_countplot(df=df1, col='RACE\/ETHNICITY', palette=ethnicity_colors, \n               title='CPY & Ethnicity')","348dbee2":"# Diabetes rate by ethnicity\nplot_countplot(df=df1, col='RACE\/ETHNICITY', hue='RACE\/ETHNICITY',  palette=ethnicity_colors,\n               title=\"CPY & Ethnicity \")","e9b4be7e":"# Countplot for gender\ngender_colors = ['lightskyblue', 'lightcoral']\ngender_map = {'1': 'M', '0': 'F'}\nplot_countplot(df=df1, col='GENDER', palette=gender_colors, label_names=gender_map,\n               title='CPY & Gender')","c34793c6":"# Diabetes rate by gender\nplot_countplot(df=df1, col='GENDER', hue='Diagnosis',label_names=gender_map, palette=gender_colors,\n               title=\"Diagnosis & Gender\")","ed264246":"# Plotting a double donut chart\nplot_double_donut_chart(df=df1, col1='GENDER', col2='Diagnosis', label_names_col1=gender_map, \n                        colors1=['crimson', 'navy'], colors2=['lightcoral', 'lightskyblue'],\n                        title=\"Diagnosis & Gender\")","4d51e8ac":"# Fare distribution by social class\nplot_distplot(df=df1, col='# Administrations', hue='RACE\/ETHNICITY', kind='strip', label_names='RACE\/ETHNICITY',\n              palette=['chartreuse', 'coral', 'magenta', 'dodgerblue'],\n              title=\"Drugs Administrations & Ethinicity\")","01fc3a66":"# Fare distribution by social class\nplot_distplot(df=df1, col='LOS', hue='RACE\/ETHNICITY', kind='strip', label_names='RACE\/ETHNICITY',\n              palette=['darkgreen', 'firebrick', 'purple', 'mediumblue'],\n              title=\"Length of Stay at the Psychiatric Hospital & Ethinicity\")","9f10683b":"import plotly.express as px\n\nfig = px.bar(df, \n             x='Medication', y='Column', color_discrete_sequence=['#D63230'],\n             title='Psychotropic Medication', text='Medication')\nfig.show()","fb5d41eb":"import plotly.express as px\n\nfig = px.bar(df1, \n             x='RACE\/ETHNICITY', y='LOS', color_discrete_sequence=['#2B3A67'],\n             title='Length of Stay at the Psychiatric Hospital & Ethinicity', text='# Administrations')\nfig.show()","6458f5d1":"plot_distplot(df=df1, col='LOS', hue='GENDER', kind='boxen', palette=gender_colors,\n              title=\"Length of Stay at the Psychiatric Hospital & Gender\")","1e848a30":"plot_distplot(df=df1, col='# Psychotropic Medications', hue='GENDER', kind='boxen', palette=gender_colors,\n              title=\"LOS & Gender\")","74c8b0e8":"plot_distplot(df=df1, col='# Administrations', hue='GENDER', kind='boxen', palette=gender_colors,\n              title=\"Drugs Administrations & Gender\")","551991ad":"# Set the width and height of the figure\nplt.figure(figsize=(10,6))\n\n# Add title\nplt.title(\"Psychotropic Medication\")\n\n# Bar chart showing average arrival delay for Spirit Airlines flights by month\nsns.barplot(x=df.index, y=df['Medication'])\n\n# Add label for vertical axis\nplt.ylabel(\"Medication\")","bc117918":"sns.countplot(df[\"Medication\"], palette=\"GnBu_d\", edgecolor=\"black\")\nplt.xticks(rotation=90)\n\n# Add title\nplt.title(\"Psychotropic Medication\")\nplt.show()","8851d715":"ax = sns.countplot(x=\"Medication\", data=df, palette=\"rainbow\")\n# Add title\nplt.title(\"Psychotropic Medication\")\n\nplt.xticks(rotation=90)\nplt.show()","541f9f6a":"#word cloud\nfrom wordcloud import WordCloud, ImageColorGenerator\ntext = \" \".join(str(each) for each in df.Medication)\n# Create and generate a word cloud image:\nwordcloud = WordCloud(max_words=200,colormap='Set2', background_color=\"black\").generate(text)\nplt.figure(figsize=(10,6))\nplt.figure(figsize=(15,10))\n# Display the generated image:\nplt.imshow(wordcloud, interpolation='Bilinear')\nplt.axis(\"off\")\nplt.figure(1,figsize=(12, 12))\nplt.show()","ecb8080a":"#Code by Olga Belitskaya https:\/\/www.kaggle.com\/olgabelitskaya\/sequential-data\/comments\nfrom IPython.display import display,HTML\nc1,c2,f1,f2,fs1,fs2=\\\n'#eb3434','#eb3446','Akronim','Smokum',30,15\ndef dhtml(string,fontcolor=c1,font=f1,fontsize=fs1):\n    display(HTML(\"\"\"<style>\n    @import 'https:\/\/fonts.googleapis.com\/css?family=\"\"\"\\\n    +font+\"\"\"&effect=3d-float';<\/style>\n    <h1 class='font-effect-3d-float' style='font-family:\"\"\"+\\\n    font+\"\"\"; color:\"\"\"+fontcolor+\"\"\"; font-size:\"\"\"+\\\n    str(fontsize)+\"\"\"px;'>%s<\/h1>\"\"\"%string))\n    \n    \ndhtml('Be patient, Mar\u00edlia Prata @mpwolke was here' )","2ae1bf58":"<a id=\"1.1\"><\/a>\n<h3 style=\"background-color:skyblue;font-family:newtimeroman;font-size:200%;text-align:center\">CYP-GUIDES(Cytochrome Psychotropic Genotyping Under Investigation Decision Support)<\/h3>","e05f21da":"#Subanalysis of the CYP-GUIDES Trial: CYP2D6 Functional Stratification and Operational Timeline Selection\n\nAuthors: Gualberto Rua\u00f1o, Joseph Tortor, Saskia Robinson, Seth Baker, Theodore Holford, Andrew Winokur, John W.Goethe\n\nPsychiatry Research -Volume 297, March 2021 - https:\/\/doi.org\/10.1016\/j.psychres.2020.113571\n\n\n\nHighlights\n\nThe CYP-GUIDES Trial assessed length of hospitalization in major depressive disorder.\n\n\nIt compared drug treatment guided by CYP2D6 functional status versus standard care.\n\n\nCYP2D6 guidance reduced hospitalization length of stay and drug utilization.\n\n\nCYP2D6 functional stratification found guidance effect to be on sub-normal patients.\n\n\nSub-normal CYP2D6 function represents a treatable pharmacogenetic vulnerability.\n\n\nCYP-GUIDES (Cytochrome Psychotropic Genotyping Under Investigation for Decision Support) was a Randomized Controlled Trial comparing 2 outcomes in hospitalized patients with major depressive disorder treated according to the patient's CYP2D6 genotype and functional status versus standard psychotropic therapy.\n\nThe primary outcome was hospital Length of Stay (LOS) and the secondary was Re-Admission Rate (RAR) 30 days after discharge. Methodology, total results and database of the trial have been published. Here the authors presented a subanalysis that isolated 3 confounders to assess the impact of CYP2D6 therapeutic guidance on LOS: a single Electronic Medical Record, a minimum 3-day LOS, and CYP2D6 functional stratification of patients.\n\nThey concluded that there was an effect of pharmacogenetic clinical decision support that reduced LOS (Length of Stay) in patients with CYP2D6 subfunctional status and reduced prescribing of CYP2D6 substrate dependent drugs.\n\nhttps:\/\/www.sciencedirect.com\/science\/article\/abs\/pii\/S0165178120332327","1f215814":"![](https:\/\/s3.amazonaws.com\/pharmacytimes\/n_media\/issues\/images\/2008-07\/2008-07_030-01.gif)pharmacytimes.com","b625ec70":"#PyComp Library By Thiago Panini","6fc6650a":"#Clinical database of the CYP-guides trial: An open data resource on psychiatric hospitalization for severe depression\n\nAuthors: Joseph Tortora, Saskia Robinson, Seth Baker, and Gualberto Rua\u00f1o\n\nData Brief. 2020 Jun; 30: 105457.\nPublished online 2020 Mar 20. doi: 10.1016\/j.dib.2020.105457\n\n\n### <b><mark style=\"background-color: #9B59B6\"><font color=\"white\">Data in the total dataset are described as follows    <\/font><\/mark><\/b>\n\nID \u2013 Unique identification number assigned to each patient who was enrolled in the trial.\n\nGENDER \u2013 Male or female.\n\nAGE \u2013 The age, in years, of each patient at the time of enrollment.\n\nRACE\/ETHNICITY \u2013 Race was self-reported by the patient from a system database, which included \u201cWhite\u201d, \u201cBlack\u201d, \u201cLatino\u201d, and \u201cOther\/Unknown\u201d as options. Therefore, this column is referred to as \u201cRace\/Ethnicity\u201d.\n\nDIAGNOSIS \u2013 The diagnosis given upon admission to the hospital, which was used by the trial coordinator to evaluate each patient for inclusion in the trial.\n\nMD \u2013 Alphabetic code assigned to each hospital physician who cared for the patients in the trial.\n\nASSIGNMENT \u2013 Patients were randomly assigned to Group S or Group G in a 1:2 ratio. Patients in Group S received standard care, whereas patients in Group G had their psychotropic prescriptions guided by their CYP2D6 functional status.\n\nELECTRONIC MEDICAL RECORD (EMR) \u2013 During the course of the trial, 2 platforms for EMR were employed: the Clinical Evaluation and Monitoring System (C) and the Epic\u24c7 (E) EMR. The first 856 patients were recruited and followed under CEMS, and the subsequent 644 under Epic\u24c7.\n\nLOS \u2013 Length of Stay (in hours) at the psychiatric hospital (IOL), defined and calculated as the date\/time of discharge minus the date\/time of admission.\n\nRAR \u2013 30 day Re-Admission Rate. A \u201c1\u201d denotes that the patient was readmitted at least once during the thirty days after they were discharged. A \u201c0\u201d denotes no evidence of a readmission during the same time period could be found.\n\nCOLUMNS A through AD \u2013 Coded columns for the medications and the number of administrations for each during the hospital stay. Each Column represents a different medication from the formulary as prescribed and comprised of the following drugs: Amitriptyline, Aripiprazole, Asenapine, Bupropion, Chlorpromazine, Citalopram, Clomipramine, Clonidine, Doxepin, Duloxetine, Escitalopram, Fluoxetine, Fluphenazine, Fluvoxamine, Guanfacine, Haloperidol, Imipramine, Lithium, Methylphenidate, Mirtazapine, Nortriptyline, Olanzapine, Paliperidone, Perphenazine, Quetiapine, Risperidone, Sertraline, Trazodone, Venlafaxine, Ziprasidone. A key for these columns is included in the dataset. Each number corresponds to the number of times that the given medication was administered to the patient while in the hospital.\n\nPSYCHOTROPIC MEDICATIONS \u2013 The number of distinct psychotropic medications each patient received during the participant's hospital stay. For example, if a patient received Aripiprazole (2 administrations), Fluoxetine (3 administrations), and Trazodone (4 administrations), the number of different psychotropic medications administered would be 3.\n\nADMINISTRATIONS \u2013 The count of the times a given psychotropic medication was administered to each patient during the participant's hospital stay. In the example above, the 2 administrations of Aripiprazole, 3 administrations of Fluoxetine, and 4 administrations of Trazodone, would be counted and reported in the respective column for the specific drug for each patient.\n\nTHERAPEUTIC GUIDANCES \u2013 There were 3 guidance charts where the psychotropic drugs were colorized according to the patient's group assignment and CYP2D6 functional status: (a) Evergreen (EG), where all drugs are colorized green and can be prescribed as usual; (b) Christmas Tree (CT), where CYP2D6 major substrate drugs are colorized red, indicating proscription, and the others green; and (c) Traffic Light (TL), where CYP2D6 minor substrate drugs are also colorized yellow, indicating caution. In the case of Group S, the guidance provided for all patients was the Evergreen drug chart, regardless of the patient's CYP2D6 functional status. In the case of Group G, drug chart choices among the 3 options depended on the patient's CYP2D6 function.\n\nREPRESENTATIVE DATA \u2013 The dataset has been deposited with Mendeley Data [2]. The following represent descriptions of cohort characteristics and illustrative analysis enabled by the dataset.\n\n\n\nhttps:\/\/www.ncbi.nlm.nih.gov\/pmc\/articles\/PMC7178493\/"}}