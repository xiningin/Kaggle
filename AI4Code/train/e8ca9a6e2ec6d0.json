{"cell_type":{"41066183":"code","9e8ce062":"code","e3ec4942":"code","eb389f17":"code","7a3751f2":"code","b721ec83":"code","163e1ccd":"code","c35f3e69":"code","0a4bb06b":"code","86bae3bd":"code","0f34099b":"code","2c0b6545":"code","9c79f0f6":"code","832e98cf":"code","534f9f3b":"code","1f2f5e80":"code","6c14d524":"code","03b6108c":"markdown","2e145dba":"markdown","9d536d34":"markdown","c33ca63c":"markdown","3bfa2df3":"markdown","522b70da":"markdown"},"source":{"41066183":"#Import all necessary libraries\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport geopandas\nimport plotly.express as px","9e8ce062":"#Using pandas to read the csv file and encoding the file to ISO-88590-1\ndf = pd.read_csv('..\/input\/forest-fires-in-brazil\/amazon.csv', encoding = \"ISO-8859-1\")","e3ec4942":"#Examining the head of the dataset\ndf.head()","eb389f17":"#Creating a pivot to get the total number of fires and the year\npivot1 = pd.pivot_table(df,values=\"number\",index=[\"year\"],aggfunc=np.sum)","7a3751f2":"#Reading the pivot table generated\npivot1","b721ec83":"#Plotting the graph\nplt.figure(figsize=(15, 6))\nsns.set_style(\"darkgrid\")\nax = sns.barplot(x=pivot1.index, y=\"number\", color=\"coral\", data=pivot1)\nax.set_xticklabels(ax.get_xticklabels(), rotation=45)\nplt.xlabel(\"Year\")\nplt.ylabel(\"Count of fires\")\nplt.title(\"Number of Fires by Year\")","163e1ccd":"#creating a dictionary with translations of months\nmonth_map={'Janeiro': 'January', 'Fevereiro': 'February', 'Mar\u00e7o': 'March', 'Abril': 'April', 'Maio': 'May',\n          'Junho': 'June', 'Julho': 'July', 'Agosto': 'August', 'Setembro': 'September', 'Outubro': 'October',\n          'Novembro': 'November', 'Dezembro': 'December'}\n#mapping our translated months\ndf['month']=df['month'].map(month_map)","c35f3e69":"#Creating another pivot to plot the number of fires by month\npivot2 = pd.pivot_table(df,values=\"number\",index=[\"month\"],aggfunc=np.sum)","0a4bb06b":"pivot2","86bae3bd":"#Plotting the graph\nplt.figure(figsize=(15, 6))\nsns.set_style(\"darkgrid\")\nax = sns.barplot(x=pivot2.index, y=\"number\", data=pivot2)\nax.set_xticklabels(ax.get_xticklabels(), rotation=45)\nplt.xlabel(\"Month\")\nplt.ylabel(\"Count of fires\")\nplt.title(\"Fire vs Month\")","0f34099b":"#Creating another pivot to plot the fires by state\npivot3 = pd.pivot_table(df,values=\"number\",index=[\"state\"],aggfunc=np.sum)","2c0b6545":"pivot3","9c79f0f6":"#Plotting the graph\nplt.figure(figsize=(15, 6))\nsns.set_style(\"darkgrid\")\nplt.figure(figsize=(20, 6))\nax = sns.barplot(x=pivot3.index, y=\"number\", data=pivot3)\nax.set_xticklabels(ax.get_xticklabels(), rotation=45)\nplt.xlabel(\"State\")\nplt.ylabel(\"Count of fires\")\nplt.title(\"Fire vs State\")","832e98cf":"#Plotting the graph\nplt.figure(figsize=(35, 6))\ng = sns.FacetGrid(df, col=\"state\", col_wrap=3, height=5, xlim=(0, 60), ylim=(0, 500))\ng.map(sns.pointplot, \"year\", \"number\", color=\"red\", ci=None);\ng.set_xticklabels(rotation=45)","534f9f3b":"\n\npivot3\naf_geo = pd.DataFrame(data=pivot3.iloc[[2,4,8,10,9,16,19,18,22]],columns=pivot3.columns)\naf_geo","1f2f5e80":"#taking my time and adding all coordinates (latitude and longitude) for this top 10 states\nlat=[0.035574, -11.409874, -16.665136, -16.350000, -5.56667, -22.90278, -27.593500,\n     5.1433, -21.175]\nlong=[-51.070534, -41.280857, -49.286041, -56.666668, -46.74222, -43.2075, -48.558540,\n     -60.7625, -43.01778]\n#adding new coordinates as columns to subdataframe above\naf_geo['Lat']=lat\naf_geo['Long']=long\n#checking changes in subdataframe for geo visualization\naf_geo","6c14d524":"#using scatter geo with above created subdataframe\nfig = px.scatter_geo(data_frame=af_geo, scope='south america',lat='Lat',lon='Long',\n                     size='number', color='number', projection='hammer')\nfig.update_layout(\n        title_text = '1998-2017 Top States in Brazil with increasing reported fires')\nfig.show()","03b6108c":"The following analysis can be drawn from the plot:\n* February, March, April and May see the lowest number of forest fires\n* A sudden spike in June continuing the trend till November\n* July, August, October and November are the 4 months where maximum forest fires happen","2e145dba":"Fires are a serious problem in Brazil. As stated under the Dataset description, \"Understanding the frequency of forest fires in a time series can help to take action to prevent them\". Being able to pin-point where and when that frequency is most observed should give some clarity on what is the scope we are looking at.","9d536d34":"The following analysis can be drawn from the plot:\n* Mato Grosso see a huge number of forest fires\n* Sergipe, Distrito Federal, Alagoas and Espirito Santo see the lowest number of forest fires","c33ca63c":"Let's first start with simple analysis to plot:\n* Total fires reported by year\n* Total fires reported by month\n* Total fires reported by state\n* Total fires reported by year for each state","3bfa2df3":"Now we are plotting number of fires reported by year for each state in a grid. It is easy to glance through the plots and arrive at analysis.","522b70da":"The following analysis can be drawn from the plot:\n* Forest fires have been increasing from 1998 with a sudden spike in 2002\n* in the year 2003, a large number of forest fires happened after which there has been a decline\n* Sadly in 2009, it has again spiked and is continuing going up and down between the range of 35K-40K fires"}}