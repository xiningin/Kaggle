{"cell_type":{"2f2a8578":"code","a800dcc3":"code","b35b6128":"code","1efd9dc5":"code","dfa028fe":"code","4d5abf5b":"code","939c2e9f":"code","cb1eb7eb":"code","752feb18":"code","c95aab18":"code","911b5d0b":"code","423a1c6f":"code","3e0e628e":"code","861f57fb":"code","0085a9d7":"code","429cf621":"code","c3c17dfb":"code","3a91fc56":"code","9ca6f8c3":"code","fd29dc91":"code","f658c219":"code","a7c31834":"code","6ef72179":"code","fcf072e8":"code","d67fb398":"code","a94d8249":"code","de68b9d5":"code","5f53334b":"code","f76b3cc8":"code","5dbe9bc1":"code","20e89e35":"code","d3f2b788":"code","fce71382":"code","0d7f552e":"code","67b4b101":"code","d255dbf6":"code","f4d6e540":"code","7ab782ad":"code","c8f9992c":"markdown","879c7a4f":"markdown","883c47bb":"markdown","2909ad8c":"markdown","ab95d4de":"markdown","b11fc739":"markdown","3f2d1aeb":"markdown","6662b07f":"markdown","303641c8":"markdown","6f113ac2":"markdown","5b5a3f46":"markdown","435f58cf":"markdown","5b93421a":"markdown","e26ea712":"markdown","8b321368":"markdown","4936b8d5":"markdown","277e04e9":"markdown","3b62f66b":"markdown","d11b0f89":"markdown","51441410":"markdown","e11d31d6":"markdown","10d5338b":"markdown","b6498c9f":"markdown","bde2dbac":"markdown","bf44d9ac":"markdown","ac4a0eb6":"markdown","6f1fc5b9":"markdown","049033f4":"markdown","2c01f1f4":"markdown","250e96a8":"markdown","41c0fb56":"markdown","fdedf5c2":"markdown","f80a666e":"markdown","8012164a":"markdown","0b39da96":"markdown","59460870":"markdown","553a1a24":"markdown","a1762de8":"markdown","9e070f99":"markdown","12f85941":"markdown","5102bc7c":"markdown","72d34ef6":"markdown","10742e82":"markdown","cbf66184":"markdown","57972750":"markdown","65000e7d":"markdown","761eb334":"markdown","a2dda86e":"markdown","ab7ca511":"markdown","b7db84c8":"markdown","a29eb4b5":"markdown","00097c96":"markdown","65466d5d":"markdown","3fdb8536":"markdown","e92f72c3":"markdown","d6a7eba0":"markdown","e85ce567":"markdown","c0324c61":"markdown"},"source":{"2f2a8578":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib import figure\nimport seaborn as sns\n%matplotlib inline\n","a800dcc3":"# import the data\ndf = pd.read_csv('..\/input\/noshowappointments\/KaggleV2-May-2016.csv')","b35b6128":"# show the first 5 rows of the data\ndf.head()","1efd9dc5":"# show the last five rows of the data\ndf.tail()","dfa028fe":"# show the number of rows and columns\ndf.shape","4d5abf5b":"# check for the Gender values\n\ndf['Gender'].unique()","939c2e9f":"# check to see if any row is duplicated\ndf.duplicated().sum()","cb1eb7eb":"df.isnull().any().sum()","752feb18":"# show some statistics of the dataset\ndf.describe()","c95aab18":"# show the data types of the columns and show any missing values, etc.\ndf.info()","911b5d0b":"# correcting some column names\n\ndf.rename(columns={'Handcap': 'Handicap', 'Hipertension': 'Hypertension'}, inplace=True)\ndf.columns","423a1c6f":"# check the -1 age row\ndf.query('Age < 0')","3e0e628e":"# drop the -1 age row\ndf.drop(index=99832, inplace=True)\n","861f57fb":"# check for it\ndf.query('Age < 0')","0085a9d7":"# converting 'PatientId' and 'AppointmentID' columns to string type\n\ndf['PatientId'] = df['PatientId'].astype(str)\ndf['AppointmentID'] = df['AppointmentID'].astype(str)","429cf621":"# deleting the time and keeping the date only\n\nfor col in [\"AppointmentDay\", \"ScheduledDay\"]:\n    df[col] = df[col].apply(lambda x: x.split(\"T\")[0])","c3c17dfb":"# converting 'ScheduledDay' and 'AppointmentDay' columns to datetime\n\ndf['ScheduledDay'] = pd.to_datetime(df['ScheduledDay'])\ndf['AppointmentDay'] = pd.to_datetime(df['AppointmentDay'])","3a91fc56":"# creating new columns for the day and month of the 'AppointedDay'\n\ndf['month'] = df['AppointmentDay'].dt.month\ndf['Appointment week day'] = df['AppointmentDay'].dt.day_name()","9ca6f8c3":"# checking the months in the dataset\ndf['month'].unique()","fd29dc91":"# changing the encoding of the month\nlabels ={4: 'April', 5: 'May', 6: 'June'}\ndf['month'] = df['month'].map(labels)\ndf['month'].astype(str)","f658c219":"# changing the 'No-show' column to 'Show'\ndf.rename(columns={'No-show':'Show'}, inplace=True)","a7c31834":"# changing the encoding of the 'No-show' column\n\nlabels = {\"No\": 1, \"Yes\":0}\ndf[\"Show\"] = df[\"Show\"].map(labels)\ndf['Show'].astype(int)","6ef72179":"# replace spaces with underscores and lowercase labels \ndf.rename(columns=lambda x: x.strip().lower().replace(\" \", \"_\"), inplace=True)\n\n# confirm changes\ndf.head(1)","fcf072e8":"# checking the data types\ndf.info()","d67fb398":"# plotting the frequency of showing up and not showing up\nplt.figure(figsize=(10,8))\nplt.title('showing up vs not showing up frequency'.title(), fontsize = 14, weight = \"bold\")\nplt.ylabel('show'.title(), fontsize = 10, weight = \"bold\")\nplt.xlabel('count'.title(), fontsize = 10, weight = \"bold\")\nsns.countplot(x=df['show'], palette=['orange', 'lightblue'], edgecolor='black')\nplt.legend();","a94d8249":"# defining a function to plot the percentage of showing up and not showing up and also to print them based on a variable \ndef bar_chart(column):\n    print(df.groupby(column)['show'].value_counts(normalize=True).unstack(column))\n    df.groupby(column)['show'].value_counts(normalize=True).unstack(column).plot.bar(edgecolor='black', figsize=[10, 8], rot=0, width=0.9, color=['orange', 'lightblue'])\n    plt.title('{} and showing up percentage'.format(column).title(), fontsize = 14, weight = \"bold\")\n    plt.ylabel('percentage'.title(), fontsize = 10, weight = \"bold\")\n    plt.xlabel('{}'.format('show').title(), fontsize = 10, weight = \"bold\") ;","de68b9d5":"# plotting the percentages of showing up and not showing up and printing them based on the gender\nbar_chart('gender')","5f53334b":"# Creating Masks for rows where the patients showed up and rows where the patients did not for the function i will define next\nno_show = df['show'] == 0\nshow = df['show'] == 1","f76b3cc8":"# defining a function to plot a histogram that shows the frequency of a variable depending on the show column\ndef plot_hist(col):\n    plt.figure(figsize=(18,8))\n    df[col][show].hist(alpha=1, color=['orange'], label='show')\n    df[col][no_show].hist(alpha=1, color=['lightblue'], label='no show')\n    plt.xticks(rotation=90)\n    plt.ylabel('frequency'.title(), fontsize = 10, weight = \"bold\")\n    plt.xlabel('{}'.format(col).title(), fontsize = 10, weight = \"bold\") \n    plt.title('frequency of showing up and not showing up depending on {}'.format(col).title(), fontsize = 14, weight = \"bold\")\n    plt.legend();","5dbe9bc1":"# plotting a histogram that shows the frequency of people that showed up and those who didn't depending on the age\nplot_hist(\"age\")","20e89e35":"# plotting the percentages of showing up and not showing up and printing them based on the scholarship\nbar_chart('scholarship')","d3f2b788":"# plotting the percentages of showing up and not showing up and printing them based on the sms received\nbar_chart('sms_received')","fce71382":"# plotting and printing the percentages of disorders between people with the scholarship and those without it\nfig, (ax1, ax2, ax3, ax4) = plt.subplots(ncols=4, sharey=True)\ndf.groupby('scholarship')['diabetes'].value_counts(normalize=True).unstack('diabetes').plot.bar(edgecolor='black', ax= ax1, rot=0, width=0.9, figsize=[15, 10], color=['orange', 'lightblue']);\nprint(df.groupby('scholarship')['diabetes'].value_counts(normalize=True).unstack('scholarship'))\ndf.groupby('scholarship')['hypertension'].value_counts(normalize=True).unstack('hypertension').plot.bar(edgecolor='black', ax= ax2, rot=0, width=0.9, figsize=[15, 10], color=['orange', 'lightblue']);\nprint(df.groupby('scholarship')['hypertension'].value_counts(normalize=True).unstack('scholarship'))\ndf.groupby('scholarship')['handicap'].value_counts(normalize=True).unstack('handicap').plot.bar(edgecolor='black', ax= ax3, rot=0, width=0.9, figsize=[15, 10], color=['orange', 'lightblue']);\nprint(df.groupby('scholarship')['handicap'].value_counts(normalize=True).unstack('scholarship'))\ndf.groupby('scholarship')['alcoholism'].value_counts(normalize=True).unstack('alcoholism').plot.bar(edgecolor='black', ax= ax4, rot=0, width=0.9, figsize=[19, 10], color=['orange', 'lightblue']);\nprint(df.groupby('scholarship')['alcoholism'].value_counts(normalize=True).unstack('scholarship'))","0d7f552e":"fig, (ax1, ax2, ax3, ax4) = plt.subplots(ncols=4, sharey=True)\ndf.groupby('diabetes')['show'].value_counts(normalize=True).unstack('diabetes').plot.bar(edgecolor='black', ax= ax1, rot=0, width=0.9, figsize=[15, 10], color=['orange', 'lightblue']);\nprint(df.groupby('diabetes')['show'].value_counts(normalize=True).unstack('show'))\ndf.groupby('hypertension')['show'].value_counts(normalize=True).unstack('hypertension').plot.bar(edgecolor='black', ax= ax2, rot=0, width=0.9, figsize=[15, 10], color=['orange', 'lightblue']);\nprint(df.groupby('hypertension')['show'].value_counts(normalize=True).unstack('show'))\ndf.groupby('handicap')['show'].value_counts(normalize=True).unstack('handicap').plot.bar(edgecolor='black', ax= ax3, rot=0, width=0.9, figsize=[15, 10], color=['orange', 'lightblue']);\nprint(df.groupby('handicap')['show'].value_counts(normalize=True).unstack('show'))\ndf.groupby('alcoholism')['show'].value_counts(normalize=True).unstack('alcoholism').plot.bar(edgecolor='black', ax= ax4, rot=0, width=0.9, figsize=[15, 10], color=['orange', 'lightblue']);\nprint(df.groupby('alcoholism')['show'].value_counts(normalize=True).unstack('show'));\n","67b4b101":"# defining a function to plot the frequency of a variable according to the show column\ndef sns_bars(col):\n    sns.countplot(x=col, data=df, hue='show', palette='rocket')\n    plt.title('{} and showe up frequency'.format(col).title(), fontsize = 14, weight = \"bold\")\n    plt.ylabel('frequency'.title(), fontsize = 10, weight = \"bold\")\n    plt.xlabel('{}'.format(col).title(), fontsize = 10, weight = \"bold\");","d255dbf6":"# plotting the days of the week according to showing up and not showing up\nsns_bars('appointment_week_day')","f4d6e540":"# plotting the months frequency according to showing up and not showing up\nsns_bars('month')","7ab782ad":"# here we display the histogram of the neighbourhoods according to showing up and not showing up\nplot_hist('neighbourhood')","c8f9992c":"#","879c7a4f":"### Does age play a role in showing up to the appointment?","883c47bb":"Looks like people without alcoholism are more likely to show up to than those with alcoholism","2909ad8c":"checking if all the data types are correct, and they are, now it's time for the data analysis.","ab95d4de":"Looks like people without diabetes are more likely to show up to than those with diabetes","b11fc739":"here we got rid of the time because it won't help in the analysis in this dataset only the date will help","3f2d1aeb":"I wrote the above two cells to see what kind of data i have","6662b07f":"### Are people with the scholarship more healthy than the others?","303641c8":"Looks like people without hypertension are more likely to show up to than those with hypertension","6f113ac2":"No dulicates\n","5b5a3f46":"i corrected the misspelling here","435f58cf":"<a id='conclusions'><\/a>\n# Conclusions","5b93421a":"# Project: Medical appointments no-show dataset\n\n## Table of Contents\n<ul>\n<li><a href=\"#intro\">Introduction<\/a><\/li>\n<li><a href=\"#wrangling\">Data Wrangling<\/a><\/li>\n<li><a href=\"#eda\">Exploratory Data Analysis<\/a><\/li>\n<li><a href=\"#conclusions\">Conclusions<\/a><\/li>\n<\/ul>","e26ea712":"## questions:\n### 1-what is more occuring showing up or not?\n### 2-Does gender play a role in showing up to the appointment?\n### 3-Does age play a role in showing up to the appointment?\n### 4-Do people with the scholarship have a higher probability to show up?\n### 5-Does recieving the sms increase the likelyhood of people showing up?\n### 5-Are people with the scholarship more healthy than the others?\n### 6-Does the neighborhood play a role in attending?\n### 7-What are the days with the most showup frequency?\n### 8-What are the months with the most showup frequency?","8b321368":"## In this dataset we will be analyzing information from 100k medical appointments in Brazil and in particular we will be finding trends among the people who attended the appointments and how they differed from the people who didn't attend their appointments.","4936b8d5":"<a id='Data Cleaning'><\/a>\n## Data Cleaning ","277e04e9":"#  What are the days with the most showup frequency?","3b62f66b":"Looks like the majority of all people are keen on attending to their appointments,\nAlso between the ages of (0-15) and (43-58) it is way more likely for them to attend the appointment than not.","d11b0f89":"## questions:\n### 1-what is more occuring showing up or not?\n### 2-Does gender play a role in showing up to the appointment?\n### 3-Does age play a role in showing up to the appointment?\n### 4-Do people with the scholarship have a higher probability to show up?\n### 5-Does recieving the sms increase the likelyhood of people showing up?\n### 5-Are people with the scholarship more healthy than the others?\n### 6-Does the neighborhood play a role in attending?\n### 7-What are the days with the most showup frequency?\n### 8-What are the months with the most showup frequency?","51441410":"#","e11d31d6":"It appears that both genders have approximately the same rate of showing up and not showing up","10d5338b":"here i dropped this row because its data is invalid and will disturb our data analysis","b6498c9f":"changed the names of the columns to lower case and '_' between words so it's easier when i code","bde2dbac":"#","bf44d9ac":"#","ac4a0eb6":"1- people with the scholarship are more prone to alcoholism\n\n2- people with the scholarship are less likely to be handicaped than those that don't have the scholarship","6f1fc5b9":"# Does recieving the sms increase the likelyhood of people showing up?","049033f4":"#","2c01f1f4":"### Do people with the scholarship have a higher probability to show up?","250e96a8":"changed the data types of those columns to string because we can't do numerical mathematics on them","41c0fb56":"# Does the neighborhood play a role in attending?","fdedf5c2":"<a id='wrangling'><\/a>\n## Data Wrangling","f80a666e":"### what is more occuring showing up or not?","8012164a":"we can see that\n\nthe 'PatientId' and the 'AppointmentID' columns data types need to be a string\n\nthe 'ScheduledDay' and the 'AppointmentDay' need to be changed to datetime data type\n\nwe need to rename the 'No-show' to 'Show' and change data type to intiger so 1 will mean the patient showed up and 0 will mean they didn't show up\n","0b39da96":"i changed the values to ones and zeros so that it can help me do numerical analysis on them","59460870":"> # Columns\n\u25cf 'Gender' Male or Female\n\n\u25cf \u2018ScheduledDay\u2019 tells us on\nwhat day the patient set up their\nappointment.\n\n\u25cf \u2018Neighborhood\u2019 indicates the\nlocation of the hospital.\n\n\u25cf \u2018Scholarship\u2019 indicates\nwhether or not the patient is\nenrolled in Brasilian welfare\nprogram Bolsa Fam\u00edlia.\n\n\u25cf 'SMS_received' equal 1 if the patient recieved an sms\n\n\u25cf 'No-show' it says \u2018No\u2019 if\nthe patient showed up to their\nappointment, and \u2018Yes\u2019 if they\ndid not show up.","553a1a24":"Looks like a lot of people attended their appointments.","a1762de8":"# What are the months with the most showup frequency?","9e070f99":"<a id='eda'><\/a>\n## Exploratory Data Analysis","12f85941":"i changed the data type of those cloumns to datetime so i can do analysis on them and so i can get the month and day data from them","5102bc7c":"### Limitations\n\n1- this is a sample data, which implies uncertainty\n\n2- data not icluded like the distance between the patient and the hospital that may have a huge factor between it and not showing up, and many other information that could have been added\n","72d34ef6":"Looks like people that didn't receive the sms have a higher rate at showing up than those who received it","10742e82":"### 1- the majority of the dataset attended their appointments.\n### 2- males and females show have the same probability of showing up.\n### 3- the majority of all people are keen on attending to their appointments, Also between the ages of (0-15) and (43-58) it is way more likely for them to attend the appointment than not.\n### 4- looks like people without the scholarship are way more likely to show up than those with the scholarship.\n### 5- people that recieved the sms were more likely not to show up unlike those who didn't recieve the sms.\n### 6- people with the scholarship are healthier but more alcoholic than those without the scholarship.\n### 7- people with hyper tension are more likely to show up than those who are diabetic and those who are alcoholic.\n### 8- during Tuesday and Wednsday it is more likely to have people showing up to their appointments.\n### 9- during May it is more likely to have people showing up to their appointments.\n### 10- people are way more likely to attend their appointments at neighbourhoods like 'SANTO ANDRE', 'SOLON BORGES', 'BONFIM', 'JARDIM CAMBURI', 'MARIA ORITZ', 'JABOUR', 'RESISTENCIA' and 'ILHA DE SANTA MARIA', On the other hand nearly no one goes to 'ILHAS OCEANICAS DE TRINDADE'","cbf66184":"Looks like on May it is more likely to have people showing up to their appointments","57972750":"#","65000e7d":"Looks like at Tuesday and Wednsday it is more likely to have people showing up to their appointments","761eb334":"#","a2dda86e":"here i extracted the day and month to help me in the analysis and answer some questions","ab7ca511":"here i changed the name of the 'no-show' column to 'show' so it's easier for interpertation","b7db84c8":"i checked for the months i have in the dataset and renamed them to their actual names so they can be easily interpreted by human minds","a29eb4b5":"### Does gender play a role in showing up to the appointment?","00097c96":"<a id='intro'><\/a>\n## Introduction","65466d5d":"No nulls\n","3fdb8536":"As we can see the minimum of age is -1, that should be corrected.","e92f72c3":"#","d6a7eba0":"# Wich disorder is more likely to show up to the appointment?","e85ce567":"looks like people without the scholarship are way more likely to show up than those with the scholarship","c0324c61":"It looks like people are way more likely to attend their appointments at neighbourhoods like 'SANTO ANDRE', 'SOLON BORGES', 'BONFIM', 'JARDIM CAMBURI', 'MARIA ORITZ', 'JABOUR', 'RESISTENCIA' and 'ILHA DE SANTA MARIA'.\nOn the other hand nearly no one goes to 'ILHAS OCEANICAS DE TRINDADE'"}}