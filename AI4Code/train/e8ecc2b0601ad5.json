{"cell_type":{"25483165":"code","3d0f9e5a":"code","72fe97ff":"code","e1e14914":"code","780f8ed1":"code","07ca1bb5":"code","0dcc1969":"code","e15eef94":"code","e68c70d1":"code","133f786e":"code","2cdc7174":"code","a77bf8cf":"code","afb2e3ca":"code","bec1e539":"code","326c394d":"code","8ce71d90":"code","63dff0cc":"markdown","0047c5f6":"markdown","9e4d1dc5":"markdown","e6d67077":"markdown","e27b4ab7":"markdown"},"source":{"25483165":"import numpy as np\nimport pandas as pd\nfrom pandas import Series, DataFrame\nfrom matplotlib import pyplot as plt, patches as mpatches, cm\nimport re\nimport os\nprint(os.listdir(\"..\/input\"))","3d0f9e5a":"df = pd.read_csv('..\/input\/master.csv', thousands=',')","72fe97ff":"df.rename(columns={' gdp_for_year ($) ': 'gdp_for_year ($)'}, inplace=True)","e1e14914":"df.loc[:, 'age'] = df['age'].map(lambda x: x.replace('5-14 years', '05-14 years')) # adjust values to sort by age","780f8ed1":"countries = ['Argentina', 'Australia', 'Canada', 'Israel', 'Republic of Korea', 'Japan', 'Slovenia', 'United States']\nfor country in countries:\n    grouped = df[df['country'] == country].groupby(['year', 'age'])['suicides\/100k pop'].sum().unstack('age')\n    grouped.plot(figsize=(10, 10),\n               title='Suicides per 100k population by age in ' + country,\n               legend=True)","07ca1bb5":"age = '75+ years'\ncountries = ['Argentina', 'Australia', 'Canada', 'Israel', 'Republic of Korea', 'Japan', 'Slovenia', 'United States']\ndf_75_global = df[df['age'] == age].groupby('year')['suicides\/100k pop'].mean()\ndf_75_countries = df[(df['age'] == age) & df['country'].isin(countries)]\ndf_75_countries = df_75_countries.groupby(['year', 'country'])['suicides\/100k pop'].sum().unstack('country')\ndf_75 = pd.concat([df_75_countries, df[df['age'] == age].groupby('year')['suicides\/100k pop'].mean()], axis=1)\ndf_75.rename(columns={'suicides\/100k pop': 'Global'}, inplace=True)\ndf_75.plot(figsize=(15, 15),\n          title=age + ' for countries',\n          legend=True,\n          fontsize=20)\nplt.show()","0dcc1969":"df_100k = df[df['population'] >= 10 ** 5]\ndf_100k.sort_values(by='suicides\/100k pop', ascending=False)[:10]","e15eef94":"north_europe = ['Sweden', 'Denmark', 'Norway', 'Finland', 'Republic of Korea']\ndf_ne = df[df['country'].isin(north_europe)]\nax = df_ne.groupby(['country', 'year'])['suicides\/100k pop'].sum().unstack('country').plot(figsize=(10, 10))\nax.set_title('Suicides Number Comparison for Korea and North Europe Countries', fontsize=20)\nax.legend(fontsize=15)\nax.set_xlabel('Year', fontsize=20)\nax.set_ylabel('Suicides per 100k population', fontsize=20, color='red')\nplt.show()","e68c70d1":"ax = df.groupby(['sex', 'year'])['suicides_no'].sum().unstack('sex').plot(figsize=(10, 10))\nax.set_title('Global suicides by gender', fontsize=30)\nax.set_ylabel('Suicides number', fontsize=20)\nax.legend(loc='upper left', bbox_to_anchor=(1, 1), borderaxespad=0, fontsize=20)\nax.set_xlabel('Year', color='Blue', fontsize=20, weight='heavy')\nfor tick in ax.yaxis.get_major_ticks():\n    tick.label.set_fontsize(15)\nfor tick in ax.xaxis.get_major_ticks():\n    tick.label.set_fontsize(15)\nplt.show()","133f786e":"countries = ['Republic of Korea', 'Japan', 'Sweden', 'Hungary', 'Lithuania', 'United States']\ndf_adolescence = df[df['age'] == '15-24 years']\ndf_adolescence = df_adolescence[df['country'].isin(countries)]\nax = df_adolescence.groupby(['country', 'year'])['suicides\/100k pop'].sum().unstack('country').plot(figsize=(10, 10))\nax.set_title('Teenagers Suicides for several countries', fontsize=25, family='sans-serif')\nax.set_xlabel('Year', fontsize=20, color='blue')\nax.set_ylabel('Suicides per 100k population', fontsize=20, color='red')\nax.legend(loc='upper left', bbox_to_anchor=(1, 1), borderaxespad=0, fontsize=15)\nplt.show()","2cdc7174":"df['suicides\/100k pop'].corr(df['gdp_per_capita ($)'])","a77bf8cf":"df['gdp_for_year ($)'].corr(df['suicides\/100k pop'])","afb2e3ca":"fig = plt.figure(figsize=(10, 10))\nax = fig.add_subplot(111)\nax.scatter(df['suicides\/100k pop'], df['gdp_per_capita ($)'])\nax.set_xlabel('suicides per 100k population', fontsize=20, color='red')\nax.set_ylabel('gdp_per_capita ($)', fontsize=20)\nax.set_title('Scatter plot for correlation between gdp and suicides', fontsize=25, weight='heavy')\nplt.show()","bec1e539":"df['age_num'] = df['age'].map(lambda x: x[:2]).map(int)","326c394d":"df['age_num'].corr(df['suicides\/100k pop'])","8ce71d90":"countries = ['Republic of Korea', 'Japan', 'United States', 'Mexico', 'Argentian', 'Sweden']\nages = Series(df['age'].unique()).sort_values()\nages.index = np.arange(len(ages))\naxes = [ax1, ax2, ax3, ax4, ax5, ax6]\nfor age, ax in zip(ages, axes):\n    fig = plt.figure(figsize=(20, 20))\n    ax.add_subplot(111)\n    for country in countries:\n            ","63dff0cc":"* Top 10 groups of suicides per 100,000 population for groups of over 100,000 population","0047c5f6":"* Further compare all in one for 75+ years","9e4d1dc5":"* correlation between gdp and normalized suicides","e6d67077":"* Suicide rate comparison by age in Korea versus globally representing countries\n* The result is that suicides of 75+ years in Korea are increasing while ones in other countries are decreasing.","e27b4ab7":"# Draw scatter plot to see correlation between suicides and gdp per capita"}}