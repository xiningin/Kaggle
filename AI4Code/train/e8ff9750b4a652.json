{"cell_type":{"eccb6a22":"code","7c9ebcdf":"code","bad37e12":"code","7f0f78d3":"code","1fcbfe6e":"code","fdf86949":"code","578b78e1":"code","7be57f82":"code","25d0cf7b":"code","25e5487d":"code","39de5cfd":"code","0d863767":"code","9879a124":"code","ca237bf3":"code","a4e9ce28":"code","daf7e8a0":"code","8fb9c590":"code","9e93a0eb":"code","67982463":"code","69cc0d23":"code","b3f3c50a":"code","6f2ffb85":"code","4cfcb884":"code","562dc7d8":"code","98a8a62b":"code","ebd41347":"code","4c04a44c":"code","d5c9e902":"code","fed38f91":"code","3e87be6b":"code","d005651e":"code","678e2af7":"code","1fcdd088":"code","590d65e5":"code","b549c97a":"code","fba4ddb9":"code","450777e4":"code","53a2ec2f":"code","d7e78251":"code","e5a74d71":"code","beea4daf":"code","153ccd08":"code","ef042559":"code","4aa1e1a6":"code","aa1a19f0":"code","14ad21e6":"code","bab40bbc":"code","52ad06a5":"code","5a1cebf6":"code","49b8e4e2":"code","18d3df97":"code","e8cf2f4b":"code","bae18f3f":"code","30c4e5b8":"code","05aa34bc":"markdown","9078087e":"markdown","86bfde3e":"markdown","f5aba9d9":"markdown","c4f52989":"markdown","d75413e3":"markdown","04a7e61a":"markdown","8c259ecf":"markdown","1093c0df":"markdown","4c9113d9":"markdown","f04630a8":"markdown","1bafbfc5":"markdown","f9dcf562":"markdown","c59717af":"markdown","a8356462":"markdown","97622493":"markdown","acf2e8b0":"markdown","a50a5a86":"markdown","bbe9207c":"markdown","80df769d":"markdown","13c81962":"markdown","fcebdae2":"markdown","b694b8e1":"markdown","760646b1":"markdown","7e59208c":"markdown","2f59a03d":"markdown","3d73263c":"markdown","9ec2919c":"markdown","a3cbc77d":"markdown","ab28ace9":"markdown","0a5cfa40":"markdown","1dc22143":"markdown","dc648160":"markdown","3b61c1fc":"markdown","f502e6a8":"markdown","6e47308d":"markdown","48bf2dbf":"markdown","7c20a23f":"markdown","10b500e8":"markdown","2e91ec34":"markdown","6e1bd770":"markdown","05c916ee":"markdown","7c853057":"markdown","17c1b354":"markdown","1aa8628e":"markdown","f8dcbb39":"markdown","6441070a":"markdown","195a812d":"markdown","6d039ee7":"markdown"},"source":{"eccb6a22":"import warnings\nwarnings.filterwarnings('ignore')\n\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\n\nfrom matplotlib import pyplot as plt\nfrom matplotlib import style\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","7c9ebcdf":"df = pd.read_csv('\/kaggle\/input\/health-care-data-set-on-heart-attack-possibility\/heart.csv')","bad37e12":"df.shape","7f0f78d3":"df.columns","1fcbfe6e":"df.head()","fdf86949":"df.tail()","578b78e1":"df.isnull().any()","7be57f82":"ha_df = df['target'].value_counts().to_frame()\nha_df","25d0cf7b":"ha_df.plot(kind='pie', figsize=(10, 6), subplots=True)\nplt.show()","25e5487d":"sdf = df['sex'].value_counts().to_frame()\nsdf","39de5cfd":"sdf.plot(kind='pie', figsize=(10, 6), subplots=True)\nplt.show()","0d863767":"cor_df = df.corr()","9879a124":"plt.figure(figsize=(10, 6))\n\nsns.heatmap(\n    data=cor_df,\n    vmin=-1,\n    vmax=1,\n    center=0,\n    cmap='seismic',\n    annot=True\n)\n\nplt.show()","ca237bf3":"df_1 = df[df['target'] == 1]\ndf_0 = df[df['target'] == 0]","a4e9ce28":"ag_df_1 = df_1.groupby(by=['age'])[['chol', 'thalach']].sum()\nag_df_1.plot(kind='bar', figsize=(15, 6), title='Risky')\nplt.show()","daf7e8a0":"ag_df_0 = df_0.groupby(by=['age'])[['chol', 'thalach']].sum()\nag_df_0.plot(kind='bar', figsize=(15, 6), title='Safe')\nplt.show()","8fb9c590":"cp_df_1 = df_1.groupby(by=['cp'])[['chol', 'thalach']].sum()\ncp_df_1.plot(kind='pie', figsize=(15, 6), subplots=True, title='Risky')\nplt.show()","9e93a0eb":"cp_df_0 = df_0.groupby(by=['cp'])[['chol', 'thalach']].sum()\ncp_df_0.plot(kind='pie', figsize=(15, 6), subplots=True, title='Safe')\nplt.show()","67982463":"df_1['chol'].min()","69cc0d23":"df_1[df_1['chol'] == 126]","b3f3c50a":"df_0['chol'].min()","6f2ffb85":"df_0[df_0['chol'] == 131]","4cfcb884":"df_1['chol'].max()","562dc7d8":"df_1[df_1['chol'] == 564]","98a8a62b":"df_0['chol'].max()","ebd41347":"df_0[df_0['chol'] == 409]","4c04a44c":"plt.figure(figsize=(10, 6))\nplt.scatter(df_1['age'], df_1['chol'], label='Risky')\nplt.scatter(df_0['age'], df_0['chol'], label='Safe')\nplt.xlabel('age')\nplt.ylabel('cholestrol')\nplt.legend()\nplt.show()","d5c9e902":"mxh_rate_1 = df_1['thalach'].max()\nmih_rate_1 = df_1['thalach'].min()\nmxh_rate_0 = df_0['thalach'].max()\nmih_rate_0 = df_0['thalach'].min()","fed38f91":"print(\"For 1, the max is \u2192 {}\".format(mxh_rate_1))\nprint(\"For 0, the max is \u2192 {}\".format(mxh_rate_0))\nprint('------------')\nprint(\"For 1, the min is \u2192 {}\".format(mih_rate_1))\nprint(\"For 0, the min is \u2192 {}\".format(mih_rate_0))","3e87be6b":"df_1[df_1['thalach'] == mxh_rate_1]","d005651e":"df_1[df_1['thalach'] == mih_rate_1]","678e2af7":"df_0[df_0['thalach'] == mxh_rate_0]","1fcdd088":"df_0[df_0['thalach'] == mih_rate_0]","590d65e5":"plt.figure(figsize=(10, 6))\nplt.scatter(df_1['age'], df_1['cp'], label='Risky')\nplt.scatter(df_0['age'], df_0['cp'], label='Safe')\nplt.xlabel('age')\nplt.ylabel('chest pain')\nplt.legend()\nplt.show()","b549c97a":"plt.figure(figsize=(10, 6))\nplt.scatter(df_1['age'], df_1['thalach'], label='Risky')\nplt.scatter(df_0['age'], df_0['thalach'], label='Safe')\nplt.xlabel('age')\nplt.ylabel('thalach')\nplt.legend()\nplt.show()","fba4ddb9":"def plot_histogram(data1, data2, col_name, target_col):\n    plt.figure(figsize=(10, 6))\n    \n    for i in [data1, data2]:\n        label = 'Risky' if i[target_col].iloc[0] == 1 else 'Safe'\n        plt.hist(i[col_name], label=label, alpha=0.5)\n    plt.legend()\n    plt.show()\n    \n    return None","450777e4":"def plot_hist_density(data1, data2, col_name, target_col):\n    plt.figure(figsize=(10, 6))\n    \n    for i in [data1, data2]:\n        label = 'Risky' if i[target_col].iloc[0] == 1 else 'Safe'\n        sns.distplot(i[col_name], hist=True, kde=True, label=label)\n    plt.legend()\n    plt.show()\n    \n    return None","53a2ec2f":"def plot_pdf_cdf(data1, data2, col_name, target_col):\n    plt.figure(figsize=(10, 6))\n\n    for i in [data1, data2]:\n        counts, bin_edges = np.histogram(a=i[col_name], bins=10, density=True)\n        pdf = counts\/sum(counts)\n        cdf = np.cumsum(pdf)\n        \n        label = 'Risky' if i[target_col].iloc[0] == 1 else 'Safe'\n\n        plt.plot(bin_edges[1:], pdf, label='Status {} - pdf'.format(label))\n        plt.plot(bin_edges[1:], cdf, label='Status {} - cdf'.format(label))\n\n    plt.xlabel(col_name)\n    plt.legend()\n    plt.show()\n    \n    return None","d7e78251":"plot_histogram(data1=df_1, data2=df_0, col_name='thalach', target_col='target')","e5a74d71":"plot_hist_density(data1=df_1, data2=df_0, col_name='thalach', target_col='target')","beea4daf":"plot_pdf_cdf(data1=df_1, data2=df_0, col_name='thalach', target_col='target')","153ccd08":"thalach_risky_mean = np.mean(df_1['thalach'])\nthalach_safe_mean = np.mean(df_0['thalach'])\n\nprint(\"Risky \u2192\", thalach_risky_mean)\nprint(\"Safe \u2192\", thalach_safe_mean)","ef042559":"thalach_risky_med = np.median(df_1['thalach'])\nthalach_safe_med = np.median(df_0['thalach'])\n\nprint(\"Risky \u2192\", thalach_risky_med)\nprint(\"Safe \u2192\", thalach_safe_med)","4aa1e1a6":"thalach_risky_std = np.std(df_1['thalach'])\nthalach_safe_std = np.std(df_0['thalach'])\n\nprint(\"Risky \u2192\", thalach_risky_std)\nprint(\"Safe \u2192\", thalach_safe_std)","aa1a19f0":"def compute_mad(data, c=0.6745):\n    med = np.median(data)\n    abs_std = [abs(i - med) for i in data]\n    mad = np.median(abs_std) \/ c\n    return round(mad, 2)","14ad21e6":"print('Risky \u2192', compute_mad(data=df_1['thalach']))\nprint('Safe \u2192', compute_mad(data=df_0['thalach']))","bab40bbc":"def compute_percentile(p, data):\n    data = sorted(data)\n    \n    if (p == 100):\n        return data[-1]\n    \n    l_p = (len(data) - 1) * (p \/ 100) + 1\n    \n    int_l_p = int(l_p)\n    fl_l_p = l_p - int_l_p\n    \n    val1 = data[int_l_p - 1]\n    val2 = data[int_l_p]    \n    pval = val1 + (fl_l_p * (val2 - val1))\n    \n    return round(pval, 2)","52ad06a5":"print('--------------')\nfor d in ['df_1', 'df_0']:\n    name = 'Risky' if d == 'df_1' else 'Safe'\n    print(name)\n    data = eval(d)['thalach'].to_list()\n    for i in [0, 25, 75, 90, 95, 100]:\n        perc = compute_percentile(p=i, data=data)\n        print('\\t{} \\t\u2192 {}'.format(i, perc))\n    print('--------------')","5a1cebf6":"def get_iqr(data):\n    p75 = compute_percentile(p=75, data=data)\n    p25 = compute_percentile(p=25, data=data)\n    return p75 - p25","49b8e4e2":"print('Risky \u2192', get_iqr(data=df_1['thalach']))\nprint('Safe \u2192', get_iqr(data=df_0['thalach']))","18d3df97":"plt.figure(figsize=(10, 6))\nsns.boxplot(x='target',y='thalach', data=df)\nplt.show()","e8cf2f4b":"plt.figure(figsize=(10, 6))\nsns.violinplot(x='target',y='thalach', data=df)\nplt.show()","bae18f3f":"plt.figure(figsize=(10, 6))\nsns.jointplot(x='age', y='thalach', data=df_1, kind='kde')\nplt.show()","30c4e5b8":"plt.figure(figsize=(10, 6))\nsns.jointplot(x='age', y='thalach', data=df_0, kind='kde')\nplt.show()","05aa34bc":"> ### Chest Pain - `cp` and Heart Rate - `thalach`","9078087e":"> ### Statistical Measurements","86bfde3e":"* From the above table, we can see that `thalach` is 96 which is optimal but still the person got a stroke.\n* The `age` of the person tends to be 60.\n* The `cp` is 2.","f5aba9d9":"### End","c4f52989":"### Observations","d75413e3":"> ### Data Visualization","04a7e61a":"**Contour plots**","8c259ecf":"> ### Scatter plot of `age` and `thalach`","1093c0df":"> ### Scatter plot - `age` and `chol`","4c9113d9":"* From the above table, we can see that `chol` is 126 but the still the person got heart attack.\n* The person happens to be a male whose `age` is 57.\n* The `cp` is 2.","f04630a8":">### Role of cholestrol in Heart Stroke\n \nchol - min and max","1bafbfc5":"**Median** (do not reflect when introduced outlier)","f9dcf562":"PDF and CDF - `thalach`","c59717af":"* No matter what the person's age is, if `cp` is very less then there are very negligible chances to get a heart stroke.\n* Resting heart or healthy heart, the heart beat rate is optimal.\n* A normal resting heart rate for adults ranges from 60 to 100 beats per minute.\n\nWe should also consider other important factors that influence heart rate. Like -\n\n* Fitness and activity levels\n* Being a smoker\n* Having cardiovascular disease, high cholesterol or diabetes\n* Air temperature\n* Body position (standing up or lying down, for example)\n* Emotions\n* Body size\n* Medications","a8356462":"* From the above table, we can see that `thalach` is 195 which is higher.\n* The `age` of the person tends to be 54.\n* The `cp` is 1.","97622493":"**IQR**","acf2e8b0":"> ### Data Description","a50a5a86":"> ### Histogram","bbe9207c":"**Standard deviation** (do reflect when introduced outlier)","80df769d":"> ### PDF and CDF","13c81962":"**Mean** - (do change when introduced an outlier)","fcebdae2":"**Percentile**","b694b8e1":"> ### Read Data","760646b1":"> ### Correlation","7e59208c":"* From the above table, we can see that `chol` is 409 (the max) and the person is safe.\n* The person happens to be female whose `age` is 56.\n* The `cp` is 0.","2f59a03d":"> ### Neccessary `import`s","3d73263c":"> ### Chest Pain - group by","9ec2919c":"* Males \u2192 1\n* Females \u2192 0\n\nIt is clear that men are the ones where heart attack is common. It is almost 2 times greater.","a3cbc77d":"> ### Density and Histogram plots","ab28ace9":"* Risky \u2192 1\n* Safe \u2192 0\n\nThe ratio of the people who already got heart attack is more comparitively to the people who have less chance of getting it.","0a5cfa40":"<img src=\"https:\/\/cdn.kqed.org\/wp-content\/uploads\/sites\/35\/2014\/01\/heartattack.png\">\n\n**Credits** - Image from Internet\n\n* This database contains `76` attributes, but all published experiments refer to using a subset of `14` of them. In particular, the Cleveland database is the only one that has been used by ML researchers to this date. \n\n* The `target` field refers to the presence of heart disease in the patient. It is integer valued - \n    - `0` = no\/less chance of heart attack\n    - `1` = more chance of heart attack\n\n\n#### Columns\n\n* age\n* sex\n* chest pain type (4 values)\n* resting blood pressure\n* serum cholestoral in mg\/dl\n* fasting blood sugar > 120 mg\/dl\n* resting electrocardiographic results (values 0,1,2)\n* maximum heart rate achieved\n* exercise induced angina\n* oldpeak = ST depression induced by exercise relative to rest\n* the slope of the peak exercise ST segment\n* number of major vessels (0-3) colored by flourosopy\n* thal: 0 = normal; 1 = fixed defect; 2 = reversable defect\n* target: 0= less chance of heart attack 1= more chance of heart attack\n\n**Source** - [Kaggle website](https:\/\/www.kaggle.com\/nareshbhat\/health-care-data-set-on-heart-attack-possibility)","1dc22143":"> ### Sex Ratio","dc648160":"Density and Histogram - `thalach`","3b61c1fc":"**Box plot**","f502e6a8":"**MAD** - Mean Absolute Deviation","6e47308d":"> ### `NaN` Check","48bf2dbf":"> ### Scatter plot of `age` and `cp`","7c20a23f":"**Violin plots**","10b500e8":"* From the above table, we can see that `chol` is 564 (the max) and person got the attack.\n* The person happens to be female whose `age` is 67.\n* The `cp` is 2.","2e91ec34":"> ### Divide the Data set based on `target`","6e1bd770":"* When comparing the heart rate of two classes, we can see that people in the category of `Safe` - the heart rate is lower than in the people of `Risky` Category.\n* Visually, as per the age we can observe. And it is obvious from the above graph that as the age increases, the heart rate decreases.","05c916ee":"By observing this, we can say that `cp` is one of the important features.","7c853057":"> ### Age group by","17c1b354":"* From the above table, we can see that `thalach` is 202 which is way higher and the person got a stroke.\n* The `age` of the person tends to be lesser (29).\n* The `cp` is 1.","1aa8628e":"* From the above table, we can see that `thalach` is 71 which is very optimal for person whose `age` is 67.\n* The `cp` is 0.","f8dcbb39":"> ### `target` \u2192 How many people already got Heart Attack","6441070a":"* From the above table, we can see that `chol` is 131 and the person is safe.\n* The person happens to be a male whose `age` is 57.\n* The `cp` is 0.","195a812d":"For a healthy person and healthy heart, irrespective of age the `chest pain` feature tends one of the important.","6d039ee7":"Histogram - `thalach`"}}