{"cell_type":{"22033ba1":"code","6c854926":"code","2a64e996":"markdown"},"source":{"22033ba1":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","6c854926":"import pandas as pd\n\ntrain_file = '..\/input\/rossmann-store-sales\/train.csv'\ntest_file = '..\/input\/rossmann-store-sales\/test.csv'\noutput_file = 'predictions.csv'\n\ntrain = pd.read_csv(train_file, low_memory=False)\ntest = pd.read_csv(test_file, low_memory=False)\n\nprint('train \u30c7\u30fc\u30bf\\n'\n      'shape', train.shape)\ndisplay(train.head())\n\nprint('test \u30c7\u30fc\u30bf\uff1aSales \u3060\u3051\u6b20\u3051\u3066\u3044\u308b\u306e\u3067\u3053\u308c\u3092\u4e88\u6e2c\u3059\u308b\uff08\u56de\u5e30\uff09\uff0e\\n'\n      'shape', test.shape)\ndisplay(test.head())\n\n\ntrain_means = train.groupby([ 'Store', 'DayOfWeek', 'Promo' ])['Sales'].mean().reset_index()\nprint(\"\u3068\u308a\u3042\u3048\u305a\u9069\u5f53\u306b\u30b0\u30eb\u30fc\u30d4\u30f3\u30b0\u3057\u305f\u5e73\u5747\u5024\u3092\u4e88\u6e2c\u5024\u3068\u3059\u308b\u3053\u3068\u306b\u3059\u308b\uff0e\\n\"\n      \"train \u30c7\u30fc\u30bf\u3092\u5e97\uff0c\u66dc\u65e5\uff0c\u30d7\u30ed\u30e2\u30fc\u30b7\u30e7\u30f3\u6709\u7121\u3067\u96c6\u8a08\\n\",\n      'shape', train_means.shape)\ndisplay(train_means.head())\n\nprint(\"test \u30c7\u30fc\u30bf\u306b\u7d50\u5408\")\ntest = pd.merge(test, train_means,\n                on = ['Store','DayOfWeek','Promo'], how='left')\ntest.fillna(train.Sales.mean(), inplace=True)\ndisplay(test.head())\n\nprint('\u63d0\u51fa\u7528\u306b Id, Sales \u3060\u3051\u629c\u304d\u51fa\u3059')\nsubmission = test[[ 'Id', 'Sales' ]]\ndisplay(submission.head())\n\n# \u51fa\u529b\nsubmission.to_csv(output_file, index = False )","2a64e996":"\u53c2\u8003\n- https:\/\/www.kaggle.com\/dvasyukova\/predict-sales-with-pandas-py"}}