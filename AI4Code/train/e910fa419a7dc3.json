{"cell_type":{"61dd5b49":"code","40b98136":"code","f9077013":"code","1d71238b":"code","883f9504":"code","1831cfc1":"code","265e1cc8":"code","dc9f947b":"code","505e9046":"code","01a6d18a":"code","48524b70":"code","84a31016":"code","bb9622cf":"code","dc99c94e":"code","37674d8a":"markdown"},"source":{"61dd5b49":"import pandas as pd","40b98136":"df = pd.read_csv('..\/input\/titanic-machine-learning-from-disaster\/train.csv', usecols=['Cabin','Survived'])\ndf.head()","f9077013":"#replacing\ndf['Cabin'].fillna(\"Missing\", inplace = True)\ndf.head()","1d71238b":"df['Cabin'].unique()","883f9504":"df['Cabin'] = df['Cabin'].astype(str).str[0]\ndf.head()","1831cfc1":"df.Cabin.unique()","265e1cc8":"prob_df = df.groupby(['Cabin'])['Survived'].mean()","dc9f947b":"prob_df = pd.DataFrame(prob_df)\nprob_df","505e9046":"prob_df['Died'] = 1-prob_df['Survived']","01a6d18a":"prob_df.head()","48524b70":"prob_df['Probability_ratio'] = prob_df['Survived']\/prob_df['Died']","84a31016":"prob_df","bb9622cf":"probability_encoded = prob_df['Probability_ratio'].to_dict()","dc99c94e":"df['Cabin_encoded'] = df['Cabin'].map(probability_encoded)\ndf.head()","37674d8a":"# Probability Ratio Encoding - Handling Categorical Feature "}}