{"cell_type":{"6087f5d3":"code","a5dba55e":"code","f038d87d":"code","a8851f2b":"code","693fac1b":"code","11e07820":"code","cb82bd74":"code","c6618712":"code","20586b50":"code","af3dc2b2":"code","dafff4aa":"code","7f0c17af":"code","576cb860":"code","b0a64db2":"code","ae5823bc":"code","7a8a34cc":"code","52299348":"code","d0b7ceda":"code","cc6d8e68":"code","950dec68":"code","eacd11df":"code","7c11861a":"code","49a533fb":"code","0747f1cd":"code","dae3a780":"code","e810b666":"code","d9203299":"code","2d036445":"markdown","637270de":"markdown","5f45b420":"markdown","c9b0baae":"markdown","bed64b18":"markdown","537f6341":"markdown","c0a1a396":"markdown","11a20f69":"markdown","0348e8b1":"markdown","4d05f737":"markdown","26cad180":"markdown","b0c307f8":"markdown","c74cdd65":"markdown","a52994f2":"markdown","7d78f7e2":"markdown","8c595dae":"markdown","3eb1160f":"markdown","87946499":"markdown","43b7ea6e":"markdown","e990326b":"markdown","b22faaa5":"markdown","ef73ef84":"markdown","54b6800e":"markdown","37e30fad":"markdown","aeaf5d86":"markdown","298f2cb0":"markdown","ed4c01e8":"markdown","92f886c6":"markdown"},"source":{"6087f5d3":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sb\nimport statsmodels.api as sm\n","a5dba55e":"df=pd.read_csv('..\/input\/no-show-patients\/NS2016.csv')\ndf.head()","f038d87d":"df.info()","a8851f2b":"df1=df.copy()\ndf1=df1.drop(['PatientId','ScheduledDay','AppointmentDay','Hipertension','Diabetes','Alcoholism','Handcap'],axis=1)\ndf1=df1.rename({'No-show':'Show-Up'},axis=1)\ndf1['Show-Up']=df1['Show-Up'].replace('No',1)\ndf1['Show-Up']=df1['Show-Up'].replace('Yes',0)\ndf1.head()","693fac1b":"df1.count()","11e07820":"round(((df1['Show-Up'].value_counts()\/df1['Show-Up'].count())*100),2)","cb82bd74":"df1['Show-Up'].value_counts().plot(kind='pie',autopct='%1.0f%%',figsize=(15,6),labels=None)\nplt.legend(labels=df1['Show-Up'].unique(), loc='lower left') \nplt.show()","c6618712":"round(((df1['Gender'].value_counts()\/df1['Gender'].count())*100),2)","20586b50":"b=df1.groupby(['Gender','Show-Up']).size()\nround(((b\/df1['Gender'].count())*100),2)","af3dc2b2":"df1.groupby(['Gender','Show-Up']).size().plot(kind='pie',labels=None,autopct='%1.0f%%',figsize=(18,6),pctdistance=1.12)\nplt.legend(labels=['Female No Show-Up','Female Show-Up','Male No Show-Up','Male Show-Up'],loc='lower right',bbox_to_anchor=(0.75,0.75),\n          bbox_transform=plt.gcf().transFigure)\nplt.show()","dafff4aa":"df1.groupby(['Gender','Show-Up'])['Show-Up'].count().unstack('Show-Up').plot(kind='bar',stacked=False,figsize=(12,6))\nplt.title('Gender variation in showing up at appointment')","7f0c17af":"age_g=[0,5,10,20,30,40,50,60,70,80,90]\nage=['0','5','10','20','30','40','50','60','70','80']\n# O means below 5 years of age, which means an infant child\ndf1['age_group']=pd.cut(df['Age'],age_g,labels=age)\ndf1.head()","576cb860":"plt.figure(figsize=(15,2))\nsb.boxplot(x=df1.Age)\nplt.title('Age distribution of Patients')","b0a64db2":"plt.figure(figsize=(14,6))\nsb.countplot(x=df1.age_group)\nplt.title(\"Appointments made by different age groups\")","ae5823bc":"plt.figure(figsize=(14,6))\nsb.countplot(x=df1.Age)\nplt.title(\"No of patients by age \")","7a8a34cc":"df1.groupby(['age_group', 'Show-Up'])['age_group'].count().unstack('Show-Up').plot( kind='bar', stacked=False)\n","52299348":"round(((df1.groupby(['Scholarship','Show-Up']).size()\/df1['Gender'].count())*100),2)","d0b7ceda":"df1.groupby(['Scholarship','Show-Up'])['Show-Up'].count().unstack('Show-Up').plot(kind='bar',stacked=False)","cc6d8e68":"round(((df1.groupby(['SMS_received','Show-Up']).size()\/df1['Gender'].count())*100),2)","950dec68":"df1.groupby(['SMS_received','Show-Up'])['Show-Up'].count().unstack('Show-Up').plot(kind='bar',stacked=False)\nplt.title(\"Impact of SMS sent on show ups at appointment\")","eacd11df":"df2=df.copy()\ndf2=df2.drop(['PatientId'],axis=1)\ndf2=df2.rename({'No-show':'Show-Up'},axis=1)\ndf2['Show-Up']=df2['Show-Up'].replace('No',1)\ndf2['Show-Up']=df2['Show-Up'].replace('Yes',0)\ndf2.head()","7c11861a":"df2['ScheduledDay']=pd.to_datetime(df['ScheduledDay']).dt.date.astype('datetime64[ns]')\ndf2['AppointmentDay']=pd.to_datetime(df['AppointmentDay']).dt.date.astype('datetime64[ns]')","49a533fb":"df2['awaiting_time_days'] = (df2.AppointmentDay - df2.ScheduledDay).dt.days\ndf2.info()","0747f1cd":"df2['AppointmentDay']=df2.ScheduledDay.dt.day_name()\ndf2['AppointmentDay'].value_counts()","dae3a780":"df2.groupby(['AppointmentDay','Show-Up'])['Show-Up'].count().unstack('Show-Up').plot(kind='bar',stacked=False,figsize=(15,6))\nplt.title('Relation of weekdays with appointment show ups')","e810b666":"c=df2['awaiting_time_days'].unique()\nc.sort()\nc","d9203299":"disease = ['Hipertension', 'Diabetes', 'Alcoholism', 'Handcap']\n\nfig = plt.figure(figsize=(14, 10))\nfor i, var in enumerate(disease):\n    ax = fig.add_subplot(2, 2, i+1)\n    df2.groupby([var, 'Show-Up'])[var].count().unstack('Show-Up').plot(ax=ax, kind='bar', stacked=False)","2d036445":"**PART 3**\n\n**Define**\n\nHow is Schedule date, Appointment date and show ups related?\n\n**Code**","637270de":"Nearly 80% of patients showed up on their appointments and 20% didn't","5f45b420":"### Reading DataSet","c9b0baae":"There is no specific\/unique relation between weekdays and appointment show ups. Though On Tuesdays there are highest number of appointments and on Saturday the least, to be precise only 24 appointments from 110K appointments. ","bed64b18":"**PART-2**\n\n**Define**\n\nDoes scholarship increases the chance of showing up on appointments? \n\n**Code**\n","537f6341":"people in age group of 50-60 years makes the most numbered of appointments, followed by people in age group of 30-40 years. \n\nBy age analysis, infants have the highest number of appointments","c0a1a396":"**Test and Visualize**","11a20f69":"### Data Cleaning\n\n-> I will drop unwanted columns\n\n->No-show column is quite ambiguous up, so I will change the name to show up and the values to 1, if patient showed up and 0 if he didn't showed up.\n\n-> Changing data types of ScheduleDay and AppointmentDay","0348e8b1":"**Test and Visualize**","4d05f737":"\n-> 80% of patients showed up on their appointments and 20% didn't.\n\n-> Of all the patients who didn't showed up 13% are female and 7% are male.\n\n-> Mean age of patients is 37 years\n\n-> People in age group of 50-60 years makes the most numbered of appointments, followed by people in age group of 30-40 years. \n\n-> Infants have the highest number of appointments\n\n-> Around 10k people got scholarship and from it around 2.5K people didnt showed up. Which is also in line with the fact that around 20% people don't show up for the appointment.\n\n->There is no specific\/unique relation between weekdays and appointment show ups. \n\n-> On Tuesdays there are highest number of appointments and on Saturday the least, to be precise only 24 appointments from 110K appointments. \n\n->Around 35K received SMS, among them around 25K showed up for appointments, thus there is no great help of sending SMS to patients.\n\n-> Majority of the population is non-alcoholic and are not handicap\n\n-> Diseases and health issues don't increase chanches of show up.(it is in the range of 75%-85%).","26cad180":"**Test and Visualize**","b0c307f8":"**Test and Visualize**","c74cdd65":"**Define**\n\nHow Many percent of appointmentId were successful, i.e patient showed up?\n\n**Code**\n","a52994f2":"**PART-4**\n\n**Define**\n \n How is alcoholism, handicap nature, hypertension and Diabetes related with Showing up at the appointments**\n \n**Code**","7d78f7e2":"Age","8c595dae":"**Test and Visualize**\n","3eb1160f":"**Define**\n\nWhat  is the relation of gender and age with showing up on appointments?\n\n**Code**\n\nGender","87946499":"### Part-1\n\n#### Questions\n\nAfter looking into the dataset, I am going to find asnwers for the following questions\n\n1.)How Many percent of appointmentId were successful, i.e patient showed up?\n\n2.)What  is the relation of gender and age with showing up on appointments?\n\nNote: \n\n\u25cf \u2018Neighborhood\u2019 indicates the location of the hospital.\n\n\u25cf \u2018Scholarship\u2019 indicates whether or not the patient is enrolled in Brasilian welfare program Bolsa Fam\u00edlia.\n\n\u25cf Be careful about the encoding of the last column: it says \u2018No\u2019 if the patient showed up to their appointment, and \u2018Yes\u2019 if they did not  show up.\n","43b7ea6e":"# EDA- Patients No Show at Appointment in Brazil\n","e990326b":"Max number of missing the appointments was in the age group of 10-20,20-30,30-40 years","b22faaa5":"**Test and Visualize**","ef73ef84":"There are 5 People who have negative awaiting time, which means there is some error in their entries. \n\nAround 40k people have Appointment on same date when there was appointment.\n\nAverage waiting time between appointment and scheduled DAy is 10days","54b6800e":"There are 65% total female patients.  52% female patients of all patients showed up on their appointments.\n\nThere are 35% total male patients. 28% male patients of all patients showed up on their appointments.\n\n","37e30fad":"Around 10k people got scholarship and from it around 2.5K people didnt showed up. Which is also in line with the fact that around 20% people don't show up for the appointment.","aeaf5d86":"Around 35K received SMS, among them around 25K showed up for appointments, which is near to 70% of people getting appointments. People not showing up for the appointment still remains at 25-30%.","298f2cb0":"### Workflow\n\nI am going to work on the dataset in 4 parts:\n \n 1.) Impact of Gender and Age with Showing up at the appointment\n \n 2.) Impact of government incentives and assistance with showing up at the appointment.\n \n 3.) Schedule day, Appointment day relation with showing up at the appointment.\n \n 4.) Impact of diseases or health problems with showing up at the appointm","ed4c01e8":"**Define**\n\nDoes SMS sent on patients increase their chance to show up at appointments?\n\n**Code**\n","92f886c6":"### ANALYSIS\n\n"}}