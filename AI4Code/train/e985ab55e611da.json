{"cell_type":{"59cbf9ed":"code","f10c894a":"code","fe990140":"code","83c80827":"code","22239603":"code","f11220dd":"code","d6083808":"code","2a356879":"code","dbbdb90e":"code","2133326b":"code","1f89bd60":"code","bd045e9d":"code","a63a2f92":"code","dcfd85e5":"code","3d4bd373":"code","b4badbd8":"code","d051a77e":"code","10a8813d":"code","161a2247":"code","a4ca5de2":"code","2ec28ac3":"code","9ff3da3e":"code","dd41059e":"code","15b8e529":"code","64ee6001":"code","61cf5060":"code","3ecd30f4":"code","fff265a6":"code","888bf847":"code","18b6b29d":"code","76298378":"code","6743c037":"code","fa95c148":"code","e63163ea":"code","88950209":"code","ff62ce97":"code","85934f30":"code","7f80415c":"code","50515f21":"code","4468c2be":"code","bf161c31":"code","9047e28a":"code","dfcd4e76":"code","dd4cc025":"code","5430f93d":"code","da69c383":"code","4eb4fa9d":"code","f0794200":"code","641eb195":"code","63e6604d":"code","f209606e":"code","e75bf1e2":"code","7bb450d5":"code","9a2a323e":"code","fa156373":"code","e3e9a1a0":"code","c18eed03":"code","f3b52561":"code","1ca5f620":"code","b8b04111":"code","ead7273d":"code","db66dac0":"code","2482a9f7":"code","cd249e62":"code","16387572":"code","5991b856":"code","280bc559":"code","129338c9":"code","6073fd6a":"code","b1abec9a":"code","5b3bd6f0":"code","09001e35":"code","8465c3a8":"code","f49ad88e":"code","b7e3c657":"code","afeb4b53":"code","ca6eeffa":"code","d4487a0b":"code","7cefdabd":"code","147aa818":"code","db438e06":"code","2a145296":"code","c9b96f5f":"code","3a62bbd4":"markdown","d0069892":"markdown","498ece7b":"markdown","844d6402":"markdown","ec25001c":"markdown","47e743a2":"markdown","fe49ca6e":"markdown","00af1461":"markdown","e46aba10":"markdown","e3972caa":"markdown","c278a4c9":"markdown","7b8b107f":"markdown","52d43506":"markdown","7a889c08":"markdown","e3214e31":"markdown","e0833bf5":"markdown","d8ab1943":"markdown","3504c852":"markdown","cecc35ea":"markdown","6f809c9a":"markdown","adb6111c":"markdown","9283c349":"markdown","38cbfe53":"markdown","cfc8639a":"markdown","c5ea6e6c":"markdown","f45fc43c":"markdown","163d1eab":"markdown","b01f65a1":"markdown","fb4088a0":"markdown","223e1c9d":"markdown","f732b778":"markdown","aff45f6c":"markdown","26e2d55f":"markdown","eff3335d":"markdown","31ce1c29":"markdown","a4b418c9":"markdown","2b346cf4":"markdown","61ed936e":"markdown","3dd7d573":"markdown","71569409":"markdown","aa0a63ea":"markdown","fbd636dd":"markdown","53e7bbe4":"markdown","fc10b01e":"markdown","0e3a2ddc":"markdown","fdcc4483":"markdown","f3e38a1f":"markdown","71898c23":"markdown","08643a13":"markdown","673328d3":"markdown","2ebf6840":"markdown","8f0f41b2":"markdown","3174c51a":"markdown","ddb6961f":"markdown","de0191cd":"markdown","0948f732":"markdown","bd970bff":"markdown","297a27ae":"markdown","58b1323d":"markdown","900bdc5e":"markdown","31e82b8f":"markdown","b38070f3":"markdown","0811bf08":"markdown","61e6d987":"markdown","6576c3c9":"markdown","f62a7eb1":"markdown","6c4d8ff5":"markdown","c77f0532":"markdown","d4e0dfd3":"markdown","f7ea5c43":"markdown","3bfc5b96":"markdown","a140a435":"markdown","3b8dd26e":"markdown","36ab17ae":"markdown","fe892587":"markdown","cdd4ba25":"markdown","a14afb66":"markdown"},"source":{"59cbf9ed":"#importing libraries\nimport numpy as np\nimport pandas as pd\nfrom plotly import figure_factory as FF\nfrom plotly.offline import iplot\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom datetime import datetime, timedelta\nfrom matplotlib import patches\nimport plotly.express as px\n%pylab inline\n\n","f10c894a":"#Loading district_info.csv\ndistrict_info=pd.read_csv(\"..\/input\/learnplatform-covid19-impact-on-digital-learning\/districts_info.csv\")\n\n\ndistrict_info.head()","fe990140":"\nprint(\"Rows \",district_info.shape[0])\nprint(\"Columns \",district_info.shape[1])","83c80827":"district_attributes = [['Sl No' , 'Attribute' , 'Description'],\n[1, 'district_id', 'The unique identifier of the school district'],[2, 'state', ' The state where the district resides in'],[3, 'locale', \"NCES locale classification that categorizes U.S. territory into four types of areas: City, Suburban, Town, and Rural. See Locale Boundaries User's Manual for more information.\"],[4, 'pct_black\/hispanic ', 'Percentage of students in the districts identified as Black or Hispanic based on 2018-19 NCES data'],[5, 'pct_free\/reduced', 'Percentage of students in the districts eligible for free or reduced-price lunch based on 2018-19 NCES data'],\n[6, 'countyconnectionsratio', 'ratio (residential fixed high-speed connections over 200 kbps in at least one direction\/households) based on the county level data from FCC From 477 (December 2018 version). See FCC data for more information.'],[7, 'pp_total_raw', \"Per-pupil total expenditure (sum of local and federal expenditure) from Edunomics Lab's National Education Resource Database on Schools (NERDS) project. The expenditure data are school-by-school, and we use the median value to represent the expenditure of a given school district.\"]]\nfigure1 = FF.create_table(district_attributes,height_constant = 30)\niplot(figure1)","22239603":"\ndistrict_info.describe(include='all')","f11220dd":"print(\"Percentage of Nulls present in the Districts data are as follows\")\ndistrictna=((district_info.isnull().sum())\/(district_info.shape[0]))*100\ndistrictna","d6083808":"#Dropping all NaN state values as they do not contain any information about other attributes\ndistrict_info = district_info[district_info.state.notna()].reset_index(drop=True)\n","2a356879":"print(\"Percentage of Nulls present in the Districts data are as follows\")\ndistrictna=((district_info.isnull().sum())\/(district_info.shape[0]))*100\ndistrictna","dbbdb90e":"#No of rows with null values\nnulls=district_info[(district_info['pct_free\/reduced'].isnull())]\nnulls","2133326b":"data_massachets=district_info[district_info['state']=='Massachusetts']\ndata_massachets","1f89bd60":"district_info['pct_free\/reduced'].fillna('[0.4, 0.6[',inplace=True)\n","bd045e9d":"exp_null=district_info[district_info['pp_total_raw'].isnull()]\nexp_null","a63a2f92":"district_info[district_info['state']=='Connecticut']","dcfd85e5":"district_info['pp_total_raw']=np.where(district_info['state']=='Connecticut','[18000, 20000[' , district_info.\tpp_total_raw)\n\n\ndistrict_info","3d4bd373":"district_info[district_info['state']=='California']","b4badbd8":"district_info['pp_total_raw']=np.where(district_info['state']=='California','[12000, 14000[' , district_info.\tpp_total_raw)\ndistrict_info","d051a77e":"district_info[district_info['state']=='Ohio']","10a8813d":"district_info['pp_total_raw']=np.where(district_info['state']=='Ohio','[12000, 14000[' , district_info.\tpp_total_raw)\ndistrict_info","161a2247":"print(\"Percentage of Nulls present in the Districts data are as follows\")\ndistrictna=((district_info.isnull().sum())\/(district_info.shape[0]))*100\ndistrictna","a4ca5de2":"district_info.drop('county_connections_ratio',axis = 1, inplace = True)\nprint(\"Dropped country_connection ratio column...\")","2ec28ac3":"print(\"Percentage of Nulls present in the Districts data are as follows\")\ndistrictna=((district_info.isnull().sum())\/(district_info.shape[0]))*100\ndistrictna","9ff3da3e":"#Count of districts per state\n\ndistrict_info['state'].value_counts().plot(kind='bar', title='Count of districts per state', figsize=(12,6))\n\nplt.xticks(rotation=90)\n\nplt.show()","dd41059e":"#Plotting locale\ndistrict_info.groupby('locale').size().plot(kind='pie',figsize=(20,7),shadow=True,autopct='%1.1f%%')\nplt.legend()","15b8e529":"#Average function\ndef avg_ranges(x):\n    return np.array(str(x).strip(\"[\").split(\",\")).astype(float).mean()","64ee6001":"district_info['avg_black_hispanic'] = district_info['pct_black\/hispanic'].apply(avg_ranges)\ndistrict_info['avg_reduced_lunch'] = district_info['pct_free\/reduced'].apply(avg_ranges)\n\ndistrict_info['avg_spent_per_pupil'] = district_info['pp_total_raw'].apply(avg_ranges)","61cf5060":"district_info['avg_spent_per_pupil'].fillna(district_info['avg_spent_per_pupil'].median(), inplace=True)\n#Filling missing values of expenditure per pupil with its class median as data is skewed","3ecd30f4":"grouped_districts = district_info.groupby(by=[\"state\"])[['avg_black_hispanic', 'avg_reduced_lunch', 'avg_spent_per_pupil']].mean()\ngrouped_districts","fff265a6":"#grouping above average districts\ngrouped_districts[\"above_avg_hispanic\"] = grouped_districts.avg_black_hispanic.apply(lambda x: 1 if x>grouped_districts.avg_black_hispanic.mean() else 0)\ngrouped_districts[\"above_avg_lunch\"] = grouped_districts.avg_reduced_lunch.apply(lambda x: 1 if x>grouped_districts.avg_reduced_lunch.mean() else 0)\ngrouped_districts[\"above_avg_pupil\"] = grouped_districts.avg_spent_per_pupil.apply(lambda x: 1 if x>grouped_districts.avg_spent_per_pupil.mean() else 0)\ngrouped_districts","888bf847":"fig, ax = plt.subplots(3,1,figsize=(16,12), sharex=True)\n\nsns.barplot(ax=ax[0], x=grouped_districts.index, y=grouped_districts[\"avg_black_hispanic\"], hue=grouped_districts.above_avg_hispanic, dodge=False)\nax[0].axhline(grouped_districts[\"avg_black_hispanic\"].mean(), c=\"black\", linestyle=\"--\")\nax[0].set_title(\"Percentage of Black\/Hispanic per State\", size=16)\nax[0].set_xlabel(None)\nax[0].set_ylabel(\"Percentage\", size=12)\nax[0].legend(\"\")\nax[0].annotate(\"USA_Average\",size=16, xy=(19, 0.3), xytext=(20, 0.6),\n            arrowprops=dict(facecolor='black', shrink=0.05),\n            )\n\nsns.barplot(ax=ax[1], x=grouped_districts.index, y=grouped_districts[\"avg_reduced_lunch\"], hue=grouped_districts.above_avg_lunch, dodge=False)\nax[1].axhline(grouped_districts[\"avg_reduced_lunch\"].mean(), c=\"black\", linestyle=\"--\")\nax[1].set_title(\"Percentage of people eligible for Free\/reduced Lunch fees\", size=16)\nax[1].set_xlabel(None)\nax[1].set_ylabel(\"Percentage\", size=12)\nax[1].legend(\"\")\nax[1].annotate(\"USA_Average\",size=16, xy=(15, 0.38), xytext=(16, 0.6),\n            arrowprops=dict(facecolor='black', shrink=0.05),\n            )\n\n\nsns.barplot(ax=ax[2], x=grouped_districts.index, y=grouped_districts[\"avg_spent_per_pupil\"], hue=grouped_districts.above_avg_pupil, dodge=False)\nax[2].axhline(grouped_districts[\"avg_spent_per_pupil\"].mean(), c=\"black\", linestyle=\"--\")\nax[2].set_title(\"Expenditure per Pupil - State wise\", size=16)\nax[2].set_xlabel(None)\nax[2].set_ylabel(\"Expenditure($)\", size=12)\nax[2].legend(\"\")\nax[2].annotate(\"USA_Average\",size=16, xy=(15, 12500), xytext=(16, 17500),\n            arrowprops=dict(facecolor='black', shrink=0.05),\n            )\n\nplt.xticks(size=12, rotation=90)\n\nplt.subplots_adjust(hspace=0.4)\nfig.show()","18b6b29d":"district_info.columns","76298378":"plt.figure(figsize=(9,7))\n\nsns.countplot(x='pct_black\/hispanic',data=district_info, palette='rainbow',hue='locale')\n\nplt.title(\"Count of black\/hispanic people, Separated by locale\")\n\nplt.legend(loc='upper right')\n","6743c037":"plt.figure(figsize=(9,7))\n\nsns.countplot(x='pct_free\/reduced',data=district_info, palette='rainbow',hue='locale')\n\nplt.title(\"Count of  people eligible for free\/reduced lunch, Separated by locale\")\n\nplt.legend(loc='upper right')\n","fa95c148":"plt.figure(figsize=(20,7))\nplt.xticks(rotation = 90)\nsns.countplot(x = 'state', data =district_info, hue = 'locale')","e63163ea":"grouped_df = district_info.groupby(by=[\"state\"])[['avg_black_hispanic', 'avg_reduced_lunch', 'avg_spent_per_pupil']].mean()\n\n#is there a relationship between the two ratios?\nsns.heatmap(grouped_df.corr(),annot=True)","88950209":"products_info=pd.read_csv('..\/input\/learnplatform-covid19-impact-on-digital-learning\/products_info.csv')\n\nproducts_info.head()\n","ff62ce97":"products_info.shape","85934f30":"product_attributes = [['Sl No' , 'Attribute' , 'Description'],\n[1, 'lp_id', 'The unique identifier of the product'],[2, 'URL', 'Web Link to the specific product'],[3, 'Product Name ', 'Name of the specific product'],[4, 'Provider\/CompanyName', 'Name of the product provider'],[5, 'Sector(s)', 'Sector of education where the product is used'],[6, 'PrimaryEssentialFunction ', 'The basic function of the product. There are two layers of labels here. Products are first labeled as one of these three categories: LC = Learning & Curriculum, CM = Classroom Management, and SDO = School & District Operations. Each of these categories have multiple sub-categories with which the products were labeled']]\nfigure2 = FF.create_table(product_attributes,height_constant = 30)\niplot(figure2)","7f80415c":"print(\"Percentage of Nulls present in the Products data are as follows\")\nproductna=((products_info.isnull().sum())\/(products_info.shape[0]))*100\nproductna","50515f21":"#No of rows with null values\nproducts_info.iloc[np.unique(np.where(products_info.isnull())[0]),:]","4468c2be":"#Feature Extraction\n\n#splitting up primary essential function\nproducts_info['primary_function_main'] = products_info['Primary Essential Function'].apply(lambda x: x.split(' - ')[0] if x == x else x)\nproducts_info['primary_function_sub'] = products_info['Primary Essential Function'].apply(lambda x: x.split(' - ')[1] if x == x else x)\n\n# Synchronize similar values\nproducts_info['primary_function_sub'] = products_info['primary_function_sub'].replace({'Sites, Resources & References' : 'Sites, Resources & Reference'})\nproducts_info.drop(\"Primary Essential Function\", axis=1, inplace=True)\nproducts_info","bf161c31":"#Dropping all NaN product values as they do not contain any information about other attributes\nproducts_info = products_info[products_info.primary_function_main.notna()].reset_index(drop=True)\nprint('Dropping nan values of primary essential function')","9047e28a":"#plotting to find top 15 learning providers\/companies\nplt.figure(figsize = (15, 8))\nsns.set_style(\"white\")\nplt.title('TOP-15 of learning providers\/companies',fontname = 'monospace', color = '#283655')\na = sns.barplot(data = products_info['Provider\/Company Name'].value_counts().reset_index().head(15), x = 'Provider\/Company Name', y = 'index', color = '#90afc5')\nplt.xticks([])\nplt.yticks(fontname = 'monospace', fontsize = 14, color = '#283655')\nplt.ylabel('')\nplt.xlabel('')\na.spines['left'].set_linewidth(1.5)\nfor w in ['right', 'top', 'bottom']:\n    a.spines[w].set_visible(False)\n    \nfor p in a.patches:\n    width = p.get_width()\n    plt.text(0.5 + width, p.get_y() + 0.55 * p.get_height(), f'{int(width)}',\n             ha = 'center', va = 'center', fontname = 'monospace', fontsize = 15, color = '#283655')\n\nplt.show()","dfcd4e76":"products_info.groupby('Sector(s)').size().plot(kind='pie',figsize=(10,8))\n\nplt.legend( loc='upper left')\nplt.show()","dd4cc025":"# Visualizing the Primary Essential Function Learn Platform catagories\nLP1=LP2=LP3=0\n\nfor s in products_info[\"primary_function_main\"]:\n    if(not pd.isnull(s)):\n        LP1 += s.count(\"CM\")\n        LP2 += s.count(\"LC\")\n        LP3 += s.count(\"SDO\")\n\nfig, ax  = plt.subplots(figsize=(16, 8))\nplt.title('Primary essential Function')\nexplode = (0.02, 0.02, 0.02)\nlabels = ['CM','LC','SDO']\nsizes = [LP1, LP2, LP3]\nax.pie(sizes, explode=explode,startangle=60, labels=labels,autopct='%1.2f%%', pctdistance=0.7, colors=[\"lightpink\",'lavender','thistle'])\nax.add_artist(plt.Circle((0,0),0.4,fc='white'))\nplt.show()","5430f93d":"# Visualizing the Primary Essential Function Learn Platform sub-catagories\nplt.figure(figsize=(12, 8))\nsns.countplot(y='primary_function_sub', data=products_info, order=products_info[\"primary_function_sub\"].value_counts().index, color= 'pink')\nplt.title(\"Primary Essential Function(Sub)\")\nplt.show()","da69c383":"PATH = '..\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data' \n\n\ntemp = []\n\nfor district in district_info.district_id.unique():\n    df = pd.read_csv(f'{PATH}\/{district}.csv', index_col=None, header=0)\n    df[\"district_id\"] = district\n    temp.append(df)\n    \n    \nengagement = pd.concat(temp)\nengagement = engagement.reset_index(drop=True)","4eb4fa9d":"engagement.shape","f0794200":"engagement_attributes = [['Sl No' , 'Attribute' , 'Description'],\n[1, 'time', 'date in \"YYYY-MM-DD\"'],[2, 'lp_id' , 'The unique identifier of the product'],[3, 'pct_access', 'Percentage of students in the district have at least one page-load event of a given product and on a given day'],[4, 'engagement_index', '      Total page-load events per one thousand students of a given product and on a given day']]\nfigure3 = FF.create_table(engagement_attributes,height_constant = 30)\niplot(figure3)","641eb195":"print(\"Percentage of Nulls present in the Enagagement data are as follows\")\nengagementna=((engagement.isnull().sum())\/(engagement.shape[0]))*100\nengagementna","63e6604d":"engagement['engagement_index'].fillna(engagement['engagement_index'].mean(), inplace=True)","f209606e":"engagement['pct_access'].fillna(engagement['pct_access'].mean(), inplace=True)","e75bf1e2":"#Dropping all NaN values of lp_id\nengagement = engagement[engagement.lp_id.notna()].reset_index(drop=True)","7bb450d5":"print(\"Percentage of Nulls present in the Enagagement data are as follows\")\nengagementna=((engagement.isnull().sum())\/(engagement.shape[0]))*100\nengagementna","9a2a323e":"#Merging values of engagement data , district_ifo and products_info\n\ndf = pd.merge(engagement,district_info, on=\"district_id\", how=\"inner\")\ndf1 = pd.merge(df,products_info, left_on=\"lp_id\", right_on=\"LP ID\", how=\"inner\")\ndf1.head()\n","fa156373":"print(\"Percentage of Nulls present in the DF1 data are as follows\")\ndf1na=((df1.isnull().sum())\/(df1.shape[0]))*100\ndf1na","e3e9a1a0":"df1.shape","c18eed03":"freq = products_info.groupby(['Sector(s)','Provider\/Company Name']).count()\nfreq.sort_values(by=['Product Name'], ascending=False )","f3b52561":"#Dropping redundant values\n## Removing pp_total_raw\ndf1.drop('pct_black\/hispanic',axis = 1, inplace = True)\nprint(\"Dropped pct_black\/hispanic columns...\")\ndf1.drop('pct_free\/reduced',axis = 1, inplace = True)\nprint(\"Dropped pct_free\/reduced column...\")\ndf1.drop('pp_total_raw',axis = 1, inplace = True)\nprint(\"Dropped pp_total_raw column...\")","1ca5f620":"print(\"Percentage of Nulls present in the merged data are as follows\")\ndf1na=((df1.isnull().sum())\/(df1.shape[0]))*100\ndf1na","b8b04111":"df1['month'] = pd.DatetimeIndex(df1['time']).month\nprint(\"Month added.\")","ead7273d":"\n\ndf1['weekday'] = pd.DatetimeIndex(df1['time']).weekday\nprint('Weekday added')\ndf1.head()","db66dac0":"#subplot\n\nplt.figure(figsize = (20,5))\nplt.subplot(1, 2, 1)\nsns.barplot(x ='month', y ='engagement_index', data = df1)\nplt.title('Month Vs Engagement index')\nplt.legend()\nplt.xticks(rotation = 90)\nplt.subplot(1, 2, 2)\nsns.lineplot(x ='month', y ='engagement_index', data = df1)\nplt.title('Month Vs Engagement index')\nplt.legend()\nplt.xticks(rotation = 90)","2482a9f7":"#subplot\nplt.figure(figsize = (20,5))\nplt.subplot(1, 2, 1)\nsns.barplot(x ='weekday', y ='engagement_index', data = df1)\nplt.title('Weekday Vs Engagement index')\nplt.legend()\nplt.xticks(rotation = 90)\nplt.subplot(1, 2, 2)\nsns.lineplot(x ='weekday', y ='engagement_index', data = df1)\nplt.title('Weekday Vs Engagement index')\nplt.legend()\nplt.xticks(rotation = 90)","cd249e62":"l = df1.groupby('lp_id').mean().sort_values('engagement_index', ascending  = False).head().reset_index()['lp_id']\nfor i in range(len(l)):\n    p1 = df1[df1['lp_id'] == l[i]].groupby('month', sort = False).mean().reset_index()\n    plt.title(\"Engagement with Most Popular Products\", {'fontsize' : 20} )\n    sns.lineplot(data=p1, x=\"month\", y=\"engagement_index\")\n    plt.legend()","16387572":"\n\n\nsns.catplot(x = 'month',y='engagement_index', \n              data = df1.groupby(by=['month','primary_function_main']).mean().reset_index(), \n              edgecolor=\"white\",kind='bar',\n              palette=\"viridis\",col='primary_function_main',col_wrap=2,height=4)\n\n\nplt.show()","5991b856":"lp, name = list(products_info['LP ID']), list(products_info['Product Name'])\nlp_to_name = {}\nfor i in range(len(lp)):\n    lp_to_name[int(lp[i])] = name[i]\nmost_popular_products = df1[['lp_id','time']].groupby('lp_id').count().sort_values('time').tail(20).reset_index()\n\ndecoded_ids = []\nnumber_of_rows = []\nfor i in range(len(most_popular_products['lp_id'])):\n    if int(list(most_popular_products['lp_id'])[i]) in lp_to_name:\n        decoded_ids.append(lp_to_name[int(list(most_popular_products['lp_id'])[i])])\n        number_of_rows.append(list(most_popular_products['time'])[i])","280bc559":"plt.figure(figsize=(12,7))\nplt.title(\"Distribution of Data Points per Product\", {'fontsize':20})\nsns.barplot(y = decoded_ids, x = number_of_rows)","129338c9":"product1=pd.DataFrame(df1.groupby('Product Name')['engagement_index'].mean().sort_values(ascending=False))\nproduct1=product1.reset_index()\nproduct_most=product1[[\"engagement_index\",\"Product Name\"]].head(10)\nproduct_least=product1[[\"engagement_index\",\"Product Name\"]].tail(10)\nplt.figure(figsize = (20,5))\nplt.subplot(1, 2, 1)\nsns.barplot(x ='Product Name', y ='engagement_index', data = product_most)\nplt.title('Most engaged products')\n\nplt.xticks(rotation = 90)\nplt.subplot(1, 2, 2)\nsns.barplot(x ='Product Name', y ='engagement_index', data = product_least)\nplt.title('Least engaged products')\n\nplt.xticks(rotation = 90)","6073fd6a":"producta=pd.DataFrame(df1.groupby('Product Name')['pct_access'].mean().sort_values(ascending=False))\nproducta=producta.reset_index()\nproducta_most=producta[[\"pct_access\",\"Product Name\"]].head(10)\nproducta_least=producta[[\"pct_access\",\"Product Name\"]].tail(10)\nplt.figure(figsize = (20,5))\nplt.subplot(1, 2, 1)\nsns.barplot(x ='Product Name', y ='pct_access', data = producta_most)\nplt.title('Most accessed products')\n\nplt.xticks(rotation = 90)\nplt.subplot(1, 2, 2)\nsns.barplot(x ='Product Name', y ='pct_access', data = producta_least)\nplt.title('Least accessed products')\n\nplt.xticks(rotation = 90)","b1abec9a":"# Sub plot\n\n\nplt.figure(figsize = (20,5))\nsns.barplot(x ='state', y ='pct_access', data = df1)\nplt.legend()\nplt.title('State V\/s pct_access')\nplt.xticks(rotation = 90)\n\n\n","5b3bd6f0":"plt.figure(figsize = (20,5))\nsns.barplot(x ='month', y ='pct_access', data = df1)\nplt.legend()\nplt.title('Month V\/s pct_access')\nplt.xticks(rotation = 90)","09001e35":"#subplot\nplt.figure(figsize = (20,5))\nplt.subplot(1, 2, 1)\nsns.barplot(x ='locale', y ='engagement_index', data = df1)\nplt.title('Locale Vs Engagement index')\nplt.legend()\nplt.xticks(rotation = 90)\nplt.subplot(1, 2, 2)\nsns.barplot(x ='locale', y ='pct_access', data = df1)\nplt.title('Locale Vs pct_access')\nplt.legend()\nplt.xticks(rotation = 90)","8465c3a8":"plt.figure(figsize=(12,7))\nplt.title(\"Engagement By Demography: Percentage of Black\/Hispanic\", {'fontsize':20})\nsns.barplot(data = df1.groupby('avg_black_hispanic').mean().reset_index(), y = 'avg_black_hispanic', x = 'engagement_index')","f49ad88e":"plt.figure(figsize=(12,7))\nplt.title(\"Engagement By Demography: Percentage of Students eligible for free\/reduced lunch\", {'fontsize':20})\nsns.barplot(data = df1.groupby('avg_reduced_lunch').mean().reset_index(), y = 'avg_reduced_lunch', x = 'engagement_index')","b7e3c657":"#subplot\nplt.figure(figsize = (20,5))\nplt.subplot(1, 2, 1)\nsns.barplot(x ='locale', y ='engagement_index', data = df1)\nplt.title('Locale Vs Engagement index')\nplt.legend()\nplt.xticks(rotation = 90)\nplt.subplot(1, 2, 2)\nsns.barplot(x ='locale', y ='pct_access', data = df1)\nplt.title('Locale Vs pct_access')\nplt.legend()\nplt.xticks(rotation = 90)","afeb4b53":"# Sub plot\n\n\nplt.figure(figsize = (20,5))\nsns.barplot(x ='state', y ='engagement_index', data = df1)\nplt.title('State V\/s Engagement Index')\nplt.legend()\nplt.xticks(rotation = 90)\n","ca6eeffa":"# Sub plot\n\n\nplt.figure(figsize = (20,5))\nsns.barplot(x ='state', y ='avg_spent_per_pupil', data = df1)\nplt.title('State V\/s Avg Expenditure per pupil')\nplt.legend()\nplt.xticks(rotation = 90)\n","d4487a0b":"# Sub plot\n\n\nplt.figure(figsize = (20,5))\nsns.barplot(x ='locale', y ='avg_spent_per_pupil', data = df1)\nplt.title('Locale V\/s Avg Expenditure per pupil')\nplt.legend()\nplt.xticks(rotation = 90)\n","7cefdabd":"state_access=pd.DataFrame(df1.groupby('state')[['pct_access','avg_spent_per_pupil','avg_black_hispanic','avg_reduced_lunch']].mean().sort_values(['pct_access','avg_spent_per_pupil','avg_black_hispanic','avg_reduced_lunch'],ascending=False))\nstate_access=state_access.reset_index()","147aa818":"# lets check the correlation between different features of data or variables , \n# pct access, expenditure, black\/hispanic, free\/reduced lunch eligibility %\ng = sns.pairplot(state_access)\n\n# let's show pearson correlation coefficient (https:\/\/en.wikipedia.org\/wiki\/Pearson_correlation_coefficient) \n#above each pair plot \nfrom scipy.stats import pearsonr\ndef corrfunc(x, y, ax=None, **kws):\n    \"\"\"Plot the correlation coefficient in the top left hand corner of a plot.\"\"\"\n    r, _ = pearsonr(x, y)\n    ax = ax or plt.gca()\n    ax.annotate(f'\u03c1 = {r:.2f}', xy=(.6, .9), xycoords=ax.transAxes)\n\ng.map_offdiag(corrfunc)\nplt.show()","db438e06":"state_engage=pd.DataFrame(df1.groupby('state')[['engagement_index','avg_spent_per_pupil','avg_black_hispanic','avg_reduced_lunch']].mean().sort_values(['engagement_index','avg_spent_per_pupil','avg_black_hispanic','avg_reduced_lunch'],ascending=False))\nstate_engage=state_engage.reset_index()","2a145296":"# lets check the correlation between different features of data or variables , \n# pct access, expenditure, black\/hispanic, free\/reduced lunch eligibility %\ng = sns.pairplot(state_engage)\n\n# let's show pearson correlation coefficient (https:\/\/en.wikipedia.org\/wiki\/Pearson_correlation_coefficient) \n#above each pair plot \nfrom scipy.stats import pearsonr\ndef corrfunc(x, y, ax=None, **kws):\n    \"\"\"Plot the correlation coefficient in the top left hand corner of a plot.\"\"\"\n    r, _ = pearsonr(x, y)\n    ax = ax or plt.gca()\n    ax.annotate(f'\u03c1 = {r:.2f}', xy=(.6, .9), xycoords=ax.transAxes)\n\ng.map_offdiag(corrfunc)\nplt.show()","c9b96f5f":"print(\"Percentage of Nulls present in the DF1 data are as follows\")\ndf1na=((df1.isnull().sum())\/(df1.shape[0]))*100\ndf1na","3a62bbd4":"For the state of California, we see all null values for pp total raw","d0069892":"New York, Connecticut and district of Columbia has higher expenditure per pupil\n\n\n","498ece7b":"# **Exploring district_info data**","844d6402":"As we can observe null values for avg expenditure per pupil for california state , it is better to fill those values manually.\n\nFrom\nhttps:\/\/educationdata.org\/public-education-spending-statistics#california we  got the expenditure per pupil value for connecticut as 12,000 dollar approximately\n\n\n","ec25001c":"We can observe that even we don't have any data of per pupil total expenditure related to ohio.\n\nFrom https:\/\/educationdata.org\/public-education-spending-statistics#ohio we have obtained the value of per pupil expenditure for ohio state is around 12000-14000 dollar","47e743a2":"We can see most of the missing values of free\/reduced lunch can be seen in Massachusetts.\n\nDoes this mean Massachusetts has not adopted any policy to ensure free\/reduced price lunch to the students or data is missing about its policy??\n\n","fe49ca6e":"Google products like google docs, google drive are used widely","00af1461":"### Summary:\n\n* Most of the black\/hispanic people's engagement with the e-learning platform is higher.\n* We can observe that Rural has highest engagement compared to other locales.\n* North Dakota and Arizona has highest engagement index.\n","e46aba10":"Given data contains more values of Prek-12 sector","e3972caa":"**Summary of handling missing values :**\n\n\n\n*   The missing value can be done in many ways like ignoring a tuple or filling it with particular value.\n*   Removed all the tuples with NaN values in state attribute\n\n\n*   Filling pct_free\/reduced , pp_total_raw manually by referring to various sources\n*   Removed county_connection_ratio value as it has the same values in almost all the tuples\n\n\n\n","c278a4c9":"### Following are the question that we formulated by seeing data\n\n1.Why city locales have the highest black\/hispanic population ?\n\n\n2.What is the effect of covid-19 on the engagement of economically weak students?\n\n\n3.Why city locales have the highest percentage of students eligible for free or reduced lunch ?Can we infer anything about the economic condition of black\/hispanic?\n\n\n4.Does having a higher percentage of free\/reduced lunch affect the amount expenditure per pupil?\n\n\n5.How expenditure per pupil affects the digital learning or pct_access or engagement index?\n\n\n\n\n\n\n\n\n\n","7b8b107f":"Now lets look at the engagement with most popular products and least popular products","52d43506":"**Plotting locale v\/s engagement index**","7a889c08":"So, according to https:\/\/nces.ed.gov\/programs\/digest\/d20\/tables\/dt20_204.10.asp, roughly 40% of students are eligible for free or reduced lunch, and USA spending ranges from 40% to 60%. As a result, it is preferable to populate those values with [0.4,0.6[\n","e3214e31":"In Learnplatform subcategories , Sites, Resources and References are widely used.","e0833bf5":"**Engagement data**\nThe engagement data are aggregated at school district level, and each file in the folder engagement_data represents data from one school district. The 4-digit file name represents district_id which can be used to link to district information in district_info.csv. The lp_id can be used to link to product information in product_info.csv.","d8ab1943":"\n*   North Dakota has highest pct_access value \n\n*   Arizona has second highest pct_access value\n\nHere we can note another thing that eventhough arizona has highest black\/hispanic population , its engagement index and pct_access is high \n\nAnd we can clearly understand that there is no bias for white or black people for accessing education \n\n\n","3504c852":"Grouping the states in accordance with other useful parameters.","cecc35ea":"### Q. How does the student engagement with online learning platforms relate to different geography? Demographic context (e.g., race\/etnicity, ESL, learning disability)? Learning context? Socioeconomic status?","6f809c9a":"# **products_info.csv**","adb6111c":"**Product information data**\nThe product file products_info.csv includes information about the characteristics of the top 372 products with most users in 2020. The categories listed in this file are part of LearnPlatform's product taxonomy. Data were labeled by our team. Some products may not have labels due to being duplicate, lack of accurate url or other reasons.\n\n","9283c349":"**Adding Extra Features**","38cbfe53":"**Exploring products.csv**","cfc8639a":"Connecticut and a few other states have a lot of missing expenditure data.","c5ea6e6c":"**Plotting State vs pct_access**","f45fc43c":"Avg expenditure per pupil of rural locale is highest","163d1eab":"In this study, we are analyzing the data to study how engagement with digital learning relates to factors like district demographics, broadband access and state\/national level policies and events.\n\n\n**Challenges :**\n\n\n*   Analyze the picture of digital connectivity and engagement in 2020\n*    What is the effect of the COVID-19 pandemic on online and distance learning, and how might this also evolve in the future?\n\n\n*   How does student engagement with different types of education technology change over the course of the pandemic?\n*  How does student engagement with online learning platforms relate to different geography? Demographic context (e.g., race\/ethnicity, ESL, learning disability)? Learning context? Socioeconomic status?\n\n\n\n\n*   Do certain state interventions, practices or policies (e.g., stimulus, reopening, eviction moratorium) correlate with the increase or decrease online engagement?\n\n\n\n\n\n\n\n\n","b01f65a1":"More number of school districts are found in Connecticut followed by Utah from the given data.\n\nThe information is collected from 23 states out of 50 states of US","fb4088a0":"**Plotting Locale v\/s pct_access  and locale v\/s engagement index**","223e1c9d":"As we have county_conection value the same overall it is better to drop that column ","f732b778":"\n\n*   0 is Monday and 6 is sunday\n*   we see interaction is quite low on the weekends\n\n*   We see a large dip in the month of July where almost all engagements went close to zero\n\n\n\n\n\n\n\n\n","aff45f6c":"By seeing the above information we can infer that data is mostly comprised of connecticut state and suburban locale.\n\nImportant part of analyzing a data, is to study the missing values.\n\nLet's see if the districts have any missing values.\n\n","26e2d55f":"## Summary\n\n\n\n### Engagement level:\n\n* From January to March 2020, there is a steady increase in levels of engagement. This is because, even before COVID-19, education technology has experienced rapid expansion and use.\n* Longer closures, uncertainty about reopening dates, a possible tightening of the academic calendar, and the resulting learning discontinuity among students forced states and educational institutions to seek alternate solutions to mitigate the various impacts. This is where digital\/online learning becomes extremely important.\n* Over the course of 2020, the engagement index improved, and the fall engagement index was higher than the spring engagement index. This is commonly acknowledged since schools, institutions, and even businesses have begun to use online platforms to learn and work from home.\n* As expected, the data clearly reveals a sharp drop in engagement index over the summer vacations.\n* There is more engagement in the beginning of the week, then it gradually decreases as the week progresses to the weekend. The highest average engagement is on Tuesday.\n\n\n### Most accessed products:\n\nGoogle classroom, Google docs , Google drive and Youtube\n\n### Most engaged products:\n\nGoogle docs, Google classroom, Youtube,Canvas\n\n### Primary functions:\n\n* For all primary function types, the monthly pattern is the same: Engagement in the fall of 2020 was higher than in the spring of 2020.\n* SDO has highest engagement index\n* Amongst the different learning tools, Learning & Curriculum (LC) had achieved the highest adoption.\n\n* \"Sites, Resources and Reference\" and \"Digital Learning Platform\" take the top spots in the list of primary essential sub-category.\n\n\n### States with highest engagement index\n\nArizona, New York ,North Dakota\n\n### States with highest pct_access\n\nNorth Dakota ,Arizona ,New York\n\n\n### States with highest expenditure\n\nNew York ,District of Columbia, Connecticut\n\n\n\n\n\n\n\n\n\n","eff3335d":"**Month vs Engagement index with most poplular products**","31ce1c29":"About 60 percent of the given data is about Suburban locale","a4b418c9":"* Arizona, North Dakota, New York and New Hampshire were the top 4 states in terms of mean engagement index.\n* North Dakota,Arizona, New York and District of columbia were the top 4 states in terms of mean pct access.","2b346cf4":"**District information data**\n\n  The district file districts_info.csv includes information about the characteristics of school districts, including data from NCES (2018-19), FCC (Dec 2018), and Edunomics Lab. ","61ed936e":"### Q. How does the student engagement with different types of education technology change over the course of the pandemic?","3dd7d573":"By looking at the following graph, we can infer that government can increase their expenditure in the regions with most black\/hispanic people. \nAs from the graph we saw that the economic condition of the black\/hispanic people is low.\n\n\nHence Government should implement certain policies in the regions with most black\/hispanic people to increase their engagement with e-learning products.\nThe pandemic should not be a barrier for accessing education.","71569409":"**Merging Data Values from all the files**","aa0a63ea":"Though here the graph shows that engagement of black\/hispanic people is high .\nWhen we look into the data we got to know that the data about the regions with most black\/hispanic people is less.\nSo we cannot infer that black\/hispanic students are highly engaging with e-learning products just by observing very small amount of given data ","fbd636dd":"### Q. Do certain state interventions, practices of policies (e.g stimulus, reopening, eviction moratorium) correlate with the increase or decrease online engagment?","53e7bbe4":"Because there are null values for average spending per pupil for the state of Connecticut, it is preferable to populate such values manually.\n\nWe got the expenditure per pupil number for Connecticut as 20,000 dollars from https:\/\/educationdata.org\/public-education-spending-statistics#connecticut\n\n\n","fc10b01e":"**Summary:**\n\nGeneral Insights:\n\n \n\n*   Dataset contains most number of school districts for Connecticut state and california state\n*   Suburbs is the most common (59%) locale type for the districts in the dataset.\n\n*  Arizona has the highest percentage of black\/hispanic students.\n*   The percentage of students receiving free\/reduceed lunch is highest in Minnesota, and lowest in New Jersey,Arizona, North Dakota\n\n\n*  Connecticut, New York, and the District of Columbia all spend more per pupil than the rest of the country.\n\n\n*   City has highest percentage of black\/hispanic people and town has least percentage of black\/hispanic people.\n*   City has highest percentage of people eligible for free\/reduced lunch which clearly indicates that the socio economic states of cities might be low.\n\n\n\n\n\n\n\n\n","0e3a2ddc":"1)Connecticut mostly comprises of suburban locale\n\n2)District of columbia and Arizona has only city locale","fdcc4483":"**Plotting month v\/s pct_access**","f3e38a1f":"# **Engagement Data**","71898c23":"From above graph, \nwe can infer that Arizona has higher percentage of black\/hispanic people and  of higher percentage of students eligible for free\/reduced lunch\n\nConnecticut, New York, and the District of Columbia all spend more per pupil than the rest of the country.\nFlorida spends least amount per pupil in the given data.\n","08643a13":"Let us know about the attributes of districts_info.csv\n\n---\n\n","673328d3":"* Engagement starts decreasing in the summer break which indicates that the schools have been shut down due to pandemic situation\n* Engagement is decreasing in the weekend days","2ebf6840":"Importing all the necessary libraries","8f0f41b2":"City has highest percentage of black\/hispanic people.\nTown has least percentage of black\/hispanic people.","3174c51a":"Loading the data file of enagagement data","ddb6961f":"Let's plot the graph about how each parameters affect each state and understand the variations","de0191cd":"### Summary:\n\n* Monthly pattern is similar for all primary function types: Fall 2020 engagement was higher than spring 2020\n* Drop in engagement during summer break as expected\n* For category LC , which is where students engagement is most showed a higher engagement during Fall 2020 compared to spring 2020.\n* Engagement with google products is high","0948f732":"Let us know about the attributes of products_info.csv","bd970bff":"\n### Q. What is the effect of covid-19 pandemic on online and distance learning, and how might this also evolve in the future?\n From the statistical data we get to know that the US started imposing the lockdown in the last week of march. \n\nThe difference we can observe between pre covid and post lockdown that the engagement with e-learning products has significantly increased post lockdown (from september)\n(Inferred from above graph from challenge 1)","297a27ae":"**Plotting state v\/s avg_expenditure**","58b1323d":"**Summary of handling missing values in products data :**\n\n\n*   'Sector' and 'Primary Essential Function' column have almost all  missing  values\n\n*   Dropping the tuples having NaN values in sector attribute\n\n","900bdc5e":"**Plotting month vs engagement index**","31e82b8f":"City has highest percentage of people eligible for free\/reduced lunch which clearly indicates that the socio economic states of cities might be low.\n","b38070f3":"**Plotting weekday vs engagement index**","0811bf08":"We'll now look at the missing expenditure per pupil values. .","61e6d987":"Now we find no missing values","6576c3c9":"Now we could observe that pct_free\/reduced values are missing.\n\nLet's explore about the ways of filling it as only small amount of data is missing.","f62a7eb1":"Percentage of Null values are more hence we have to find some ways to fill the missing values\n\nFrom the given data , we have noticed that wherever the state is NaN in a row, all other data is missing as well. So we have removed all NaN states.","6c4d8ff5":"* Engagement Index has a positive correlation with avg_pp_total_raw (total expenditure per pupil). Make sense if the expenditure is aimed at increasing digital learning we expect the engagement to increase with expenditure.\n\n* We might also observe from the above data that pct_free\/reduced and avg_expenditure_per_pupil  is negatively correlated. If the percentage of students eligible for free\/reduced lunch increases ,then engagement index drops. Free\/reduced lunch qualification depends on poor economic status. So this might be due to poor people can't afford the infrastructure required for engagement in digital learning.\n\n* Avg_black\/hispanic and avg_free_reduced_lunch have strong positive correlation.This is probably due to black and hispanic communities being financial poor compared to other communities in USA.\n\n* Avg_black_hispanic have very less engagement index\n","c77f0532":"**Plotting state vs engagement index**","d4e0dfd3":"Imported all the necessary libraries.\n\n\nLoading the data files.","f7ea5c43":"# Challenges","3bfc5b96":"From above graph,\n\n*    We can observe that engagement reaches its peak on April and September\n*    Engagement is decreasing and reaches minimum value on july month and again engagement starts increasing.\n\nThis infers that On september schools might reopen and must be having examinations on april and a summer break.\n\n","a140a435":"Let's write an average function for pct_black\/hispanic,county_connection_ratio and pct_free\/reduced for our better understanding. ","3b8dd26e":"Let's see the number of rows and columns in district_info.csv","36ab17ae":"### Q. What is the picture of digital conncectivity and engagement in 2020?","fe892587":"The percentage of null values is very less, and there is a relationship between sectors and major essential functions because both have the same percentage of null values.","cdd4ba25":"# **District_info.csv**\n\n\n\n\n","a14afb66":"### Summary:\n\n"}}