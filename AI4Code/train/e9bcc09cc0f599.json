{"cell_type":{"4518823b":"code","a7279cfd":"code","f9a07e64":"code","b5c628f1":"code","2fd62eb8":"code","478da024":"code","7b3e4961":"code","92986247":"code","f70df06a":"code","97740801":"code","e349d674":"code","34a23a3c":"code","03604612":"code","65ad3084":"code","ee202dc9":"code","f8a6a28d":"code","8c0f1e94":"code","7555b004":"code","8dd4287d":"code","25c016e9":"code","dc736b0d":"code","00d68c2d":"code","bf2b8885":"code","2c58d0a8":"code","b68231d5":"code","62758d1e":"code","66dcdc8c":"code","98f72d76":"code","e1b98186":"code","a14b14be":"code","f79fe116":"markdown","abace6e8":"markdown","a1997219":"markdown","be545c94":"markdown","23371847":"markdown","ac8aa348":"markdown","f3aff970":"markdown","583fdb4a":"markdown","68a79e98":"markdown","a14ff5b3":"markdown","9ef2e813":"markdown","a07faaa8":"markdown","7dd99ed7":"markdown","a6c13e2b":"markdown","cff91e7f":"markdown","9cffdc83":"markdown","8680ed72":"markdown","f75b6efb":"markdown","86b1fbe0":"markdown","216d0b04":"markdown","b40742f7":"markdown","8892745a":"markdown"},"source":{"4518823b":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport numpy as np","a7279cfd":"input_dir = \"\/kaggle\/input\/habermans-survival-data-set\/haberman.csv\"\ndf = pd.read_csv(input_dir)","f9a07e64":"df.head()","b5c628f1":"df.columns = [\"age\", \"treatment_year\", \"lymph_nodes\", \"surv_status\"]","2fd62eb8":"df.head()","478da024":"df.info()","7b3e4961":"df.describe()","92986247":"df['surv_status'] = df['surv_status'].map({1:\"yes\", 2:\"no\"})","f70df06a":"df['surv_status'].value_counts()","97740801":"for col in df.columns[:-1]:\n    print(f\"{col} has the maximum value of {df[col].max()}\")\n\n\nprint(\"\\n\")\nprint(\"+\"*50)\nprint(\"\\n\")\n\nfor col in df.columns:\n    print(f\"{col} has the minimum value of {df[col].min()}\")","e349d674":"df.plot(kind=\"scatter\", x=\"age\", y=\"lymph_nodes\")\nplt.show()","34a23a3c":"sns.set_style(\"whitegrid\")\n\nsns.FacetGrid(df, hue=\"surv_status\", height=8) \\\n    .map(plt.scatter, \"age\", \"lymph_nodes\") \\\n    .add_legend();\nplt.show()","03604612":"lymp_nodes_0_with_neg = df[((df['surv_status'] == \"yes\") & (df['lymph_nodes'] == 0))][\"surv_status\"]\nlymp_nodes_0_with_pos = df[((df['surv_status'] == \"no\") & (df['lymph_nodes'] == 0))][\"surv_status\"]","65ad3084":"print(f\"Zero lymph nodes with positive survival status 1 patients are {lymp_nodes_0_with_neg.values.size}\")\nprint(f\"Zero lymph nodes with negative survival status 2 patients are {lymp_nodes_0_with_pos.values.size}\")","ee202dc9":"px.scatter_3d(df, x='age', y='treatment_year', z='lymph_nodes',\n              color='surv_status')","f8a6a28d":"sns.FacetGrid(df, hue=\"surv_status\", height=5) \\\n    .map(sns.distplot, \"age\") \\\n    .add_legend()","8c0f1e94":"sns.FacetGrid(df, hue=\"surv_status\", height=5) \\\n    .map(sns.distplot, \"lymph_nodes\") \\\n    .add_legend()","7555b004":"plt.figure(figsize=(16, 8))\n\nfor i, col in enumerate(df.drop(\"surv_status\", axis=1).columns):\n    \n    plt.subplot(1, 3, i+1)\n    counts, bins = np.histogram(df[col], bins=10, density = True)\n    pdf = counts\/(sum(counts))\n\n    cdf = np.cumsum(pdf)\n    plt.plot(bins[1:] ,pdf)\n    plt.plot(bins[1:], cdf)\n    plt.xlabel(col)\n","8dd4287d":"print(len(df[df['lymph_nodes'] < 10]) \/ len(df))","25c016e9":"v1 = df[((df['lymph_nodes']<10) & (df['surv_status'] == \"yes\"))][\"lymph_nodes\"].values.size\nv2 = df[((df['lymph_nodes']<10) & (df['surv_status'] == \"no\"))][\"lymph_nodes\"].values.size","dc736b0d":"print(f\"Patient survived with less than 10 lymph nodes are: {v1}\")\nprint(f\"Patient did not survived with less than 10 lymph nodes are: {v2}\")","00d68c2d":"fig, ax = plt.subplots(1, 3, figsize=(16, 8))\nfor i, col in enumerate(df.drop(\"surv_status\", axis=1).columns):\n    \n    sns.boxplot(x=\"surv_status\", y=col, data=df, ax=ax[i])\n","bf2b8885":"fig, ax = plt.subplots(1, 3, figsize=(16, 8))\nfor i, col in enumerate(df.drop(\"surv_status\", axis=1).columns):\n    \n    sns.violinplot(x=\"surv_status\", y=col, data=df, ax=ax[i])\n","2c58d0a8":"df[(df['surv_status'] == \"yes\")][\"age\"].mean()","b68231d5":"df[(df['surv_status'] == \"no\")][\"age\"].mean()","62758d1e":"v1 = df[((df['treatment_year'] < 60) & (df['surv_status'] == \"yes\"))].values.size","66dcdc8c":"v2 = df[((df['treatment_year'] > 60) & (df['surv_status'] == \"yes\"))].values.size","98f72d76":"print(f\"Before 1960s survival status was {(v1\/(v1+v2))*100}%\")\nprint(f\"After 1960s survival status is {(v2\/(v1+v2))*100}%\")","e1b98186":"sns.set_style(\"whitegrid\")\n\nsns.pairplot(df, hue=\"surv_status\", height=5)","a14b14be":"corr_mat = df.corr()\n\nplt.figure(figsize=(16, 8))\nsns.heatmap(corr_mat, annot=True)\nplt.show()","f79fe116":"### The End :)","abace6e8":"## Univariate Analysis","a1997219":"let's map the survival status 1 to **yes** and 2 to **no** for better intution.","be545c94":"Highest correlation that we got is 9.3% between age and treatment year. So these features are not so well correlated to each other either.","23371847":"## PDF & CDF","ac8aa348":"We can see that as the age grows it's not quite necessary to have a patient even one node. We can see that from plot, patients, even at the age of 75 have 0 nodes.\n\nLet's get better intuition based upon survival status with both age and lymph nodes.","f3aff970":"#### Age:\n\nAverage age for surviving and not surviving are almost the same. So, it does not seem to be help that much.","583fdb4a":"#### Our columns are missing in the dataframe, let's add all of them.\n\n<ol>\n    <li>Age: Shows the age of the patient.<\/li>\n    <li>Treatment Year: In the year patient was treated (1900s)<\/li>\n    <li>Lymph Nodes: Number of sentinel nodes.<\/li>\n    <li>Survival Status: \n        <ul>\n        <li>2: Patient died within 5 year.<\/li>\n        <li>1: Patient survived more than  years.<\/li>\n        <\/ul>\n    <\/li>\n<\/ol>","68a79e98":"#### Treatment year","a14ff5b3":"So the lesser the number of lymph nodes the more likely the patient will survive, even if the patient has an age of more than 70 year.","9ef2e813":"We have 305 data points in each columns.\n\n\n\nSo, we can see that if the patient's average is 52 years and if she was treated in 1962 and had 4 average lymph nodes then the patient must have lived more than 5 years.\n\n\nMinimum and maximum age we have here for the patients are 30 years and 83 years old. We can also see that as the age grows survival rate also reduces.\n","a07faaa8":"It does seem really good. It conculdes that as the time passed researchers managed to reduce the fatality of this cancer type.","7dd99ed7":"## Correlational Matrix plot with Heatmap","a6c13e2b":"We have almost 80% data for those who has less than or equal to 10 lymph nodes. Let's do a sanity check on it.","cff91e7f":"So we have only integer values in our dataframe. But we might temper the values for survival status to give better intuition about the data.","9cffdc83":"# Bivariate Analysis\n\n## Pair Plot","8680ed72":"So, we have 224 patients who survived more than 5 years and 81 who died within the 5 years.","f75b6efb":"Only **Lymph nodes** seems like good features to decide the survival status. Other plots are overlapping too much.","86b1fbe0":"<pre>\n<img src='https:\/\/i.imgur.com\/WaGFvvh.jpg', width=500>\n<\/pre>","216d0b04":"# EDA","b40742f7":"The dataset contains cases from a study that was conducted between 1958 and 1970 at the University of Chicago's Billings Hospital on the survival of patients who had undergone surgery for breast cancer","8892745a":"## Box plot and Voilen plot"}}