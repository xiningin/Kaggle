{"cell_type":{"e64e1d41":"code","e245964e":"code","4cea2448":"code","69f01d0b":"code","ba01dc05":"code","58fdc71a":"code","23b86747":"code","54148cd7":"code","d61a801b":"code","09f9a27a":"code","8fa6024b":"code","106f1a9c":"code","6b6178bf":"code","c71f1a25":"code","3f5f8d34":"code","8d8acc0b":"markdown","1744dd96":"markdown","87d013b8":"markdown","e9ff9504":"markdown"},"source":{"e64e1d41":"import pandas as pd\nimport numpy as np\n\nimport plotly.express as px\nimport plotly.io as pio\npio.templates.default = \"plotly_dark\"\n\nimport warnings\nwarnings.filterwarnings(\"ignore\")","e245964e":"dataset = pd.read_csv('..\/input\/analytics-industry-salaries-2022-india\/Salary Dataset.csv')\ndataset.sample(5)","4cea2448":"dataset.info()","69f01d0b":"dataset.loc[np.where(dataset['Company Name'].isna())]","ba01dc05":"dataset['Company Name'] = dataset['Company Name'].fillna('Other')\n\ndataset.dropna(subset=['Salaries Reported'], inplace=True)\n\ndataset.info()","58fdc71a":"dataset['Currency'] = dataset['Salary'].str.extract(r'(\\D+)')\ndataset['Period'] = dataset['Salary'].str.slice(-2)\ndataset['Amount'] = dataset['Salary'].str.replace(',','').str.extract(r'(\\d+)').astype(float)","23b86747":"dataset['Currency'].unique()","54148cd7":"dataset['Period'].unique()","d61a801b":"dataset['Amount'].dtype","09f9a27a":"## Function to convert the curreny into Rupee\n\ndef convert_currency(df):\n    df['Salary_INR'] = df['Amount']\n    \n    # Converting salary into Rupee\n    df['Salary_INR'].loc[df['Currency'] == '$'] = df['Salary_INR']*74  \n    df['Salary_INR'].loc[df['Currency'] == '\u00a3'] = df['Salary_INR']*84\n    df['Salary_INR'].loc[df['Currency'] == 'AFN '] = df['Salary_INR']*0.75\n    df['Salary_INR'].loc[df['Currency'] == '\u20b9'] = df['Salary_INR']\n    \n    # converting hourly salary to monthly\n    hours_work_per_week = 40\n    df['Salary_INR'].loc[df['Period'] == 'hr'] = df['Salary_INR'] * hours_work_per_week * 4\n    df['Period'].loc[df['Period'] == 'hr'] = 'mo'\n    \n    # converting monthly salary to yearly\n    df['Salary_INR'].loc[df['Period'] == 'mo'] = df['Salary_INR']*12\n    \n    return df","8fa6024b":"final_dataset = convert_currency(dataset)","106f1a9c":"final_dataset.sample(10)","6b6178bf":"grouped_loc = final_dataset.groupby('Location')[['Salary_INR']].agg('mean').reset_index()\n\nfig = px.bar(grouped_loc, x=\"Location\", y=\"Salary_INR\", text=\"Salary_INR\", title=\"Average Yearly Salary in INR by Location\",\n             height=500,width=600)\nfig.update_traces(textposition=\"outside\", texttemplate='%{text:.3s}')\nfig.update_layout(title={'x':0.5, 'xanchor': 'center',})\nfig.show()","c71f1a25":"grouped_job = final_dataset.groupby('Job Title')[['Salary_INR']].agg('mean').reset_index()\n\nfig = px.bar(grouped_job.sort_values('Salary_INR', ascending=False)[::-1], x='Salary_INR', y='Job Title', \n             text='Salary_INR', title=\"Average Yearly Salary in INR by Job Title\", orientation='h', height=800)\nfig.update_traces(textposition=\"auto\", texttemplate='%{text:.3s}',textfont_size=10)\nfig.update_layout(title={'x':0.5, 'xanchor': 'center',})\nfig.update_xaxes(nticks=20)\nfig.show()","3f5f8d34":"grouped_job = final_dataset.groupby(['Location','Job Title'])[['Salary_INR']].agg('mean').reset_index()\n\nfig = px.bar(grouped_job.sort_values('Salary_INR', ascending=False), x='Salary_INR', y='Job Title', color='Location',\n             text='Salary_INR', title=\"Average Yearly Salary in INR for different Job Title based on Location\",\n             orientation='h',color_discrete_sequence= px.colors.cyclical.Phase ,height=800)\nfig.update_traces(textposition=\"auto\", texttemplate='%{text:.3s}',textfont=dict(color='white', size=10))\nfig.update_layout(title={'x':0.5, 'xanchor': 'center',})\nfig.update_xaxes(nticks=10)\nfig.show()","8d8acc0b":"from info we know that `Company Name` and `Salaries Reported` columns have missing values. Datatype of `Salary` columns is object type but it should be of float type","1744dd96":"### Handling Missing values in `Company Name` and `Salaries Reported` Columns","87d013b8":"### Visualize the average yearly salary by `Location` and `Job Title`","e9ff9504":"### Cleaning the `Salary` column"}}