{"cell_type":{"3d5c607e":"code","58e1b869":"code","395d50dc":"code","792b7315":"code","d5180ceb":"code","9cf61af0":"code","29af7e98":"code","958417c2":"code","a73299db":"code","07c5b345":"code","dd956f0a":"code","a4eb6273":"code","0b037f43":"code","536b66e6":"code","ef5a6fec":"code","37651b08":"code","88c3a9f4":"code","d2e5fa09":"code","1ef04ffe":"markdown","642403ef":"markdown","b7791fce":"markdown","9ee089d7":"markdown","e0c0ea69":"markdown","c2b5943c":"markdown","2dd90c17":"markdown","1c0f93f5":"markdown","eb7aac5f":"markdown","2a6efe74":"markdown","15e90011":"markdown","1f79af4d":"markdown"},"source":{"3d5c607e":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport re\nimport xml.etree.ElementTree as ET\nimport zipfile\nimport os\nfrom os import walk\nimport shutil\nfrom shutil import copytree, ignore_patterns\nfrom PIL import Image\nfrom wand.image import Image as Img\nimport matplotlib.pyplot as plt\nfrom collections import Counter\nfrom nltk.corpus import stopwords\nfrom wordcloud import WordCloud, STOPWORDS\n\n%matplotlib inline","58e1b869":"print(os.listdir(\"..\/input\"))","395d50dc":"bulletin_dir = \"..\/input\/cityofla\/CityofLA\/Job Bulletins\"\naddl_data_dir=\"..\/input\/cityofla\/CityofLA\/Additional data\"","792b7315":"pdf = '..\/input\/cityofla\/CityofLA\/Additional data\/PDFs\/2014\/September 2014\/09262014\/PRINCIPAL INSPECTOR 4226.pdf'\nImg(filename=pdf, resolution=200)","d5180ceb":"pdf = '..\/input\/cityofla\/CityofLA\/Additional data\/PDFs\/2018\/December\/Dec 7\/COMMERCIAL FIELD REPRESENTATIVE 1600 120718.pdf'\nImg(filename=pdf, resolution=200)","9cf61af0":"sample_job_template = pd.read_csv(os.path.join(addl_data_dir, 'sample job class export template.csv'))\nsample_job_template","29af7e98":"data_dictionary = pd.read_csv(os.path.join(addl_data_dir, 'kaggle_data_dictionary.csv'))\ndata_dictionary.head()","958417c2":"\njob_titles = pd.read_csv(os.path.join(addl_data_dir, 'job_titles.csv'), names=['JOB TITLES'])\njob_titles.head()","a73299db":"job_files = os.listdir(bulletin_dir)\nprint(\"No of files in Job Bulletins Folder:\",len(job_files))","07c5b345":"with open(bulletin_dir+\"\/\"+job_files[0]) as file:\n    print(\"File name: \",file.name)\n    print(\"=====================================\")\n    print(file.read(1000))","dd956f0a":"# Code from the starter kernel to iterate over Job Bulletins directory\ndata_list = []\nfor filename in os.listdir(bulletin_dir):\n    with open(bulletin_dir + \"\/\" + filename, 'r', errors='ignore') as f:\n        for line in f.readlines():\n            #Insert code to parse job bulletins\n            if \"Class Code:\" in line:\n                class_code=line.split(\"Class Code:\")[1].split(\"Open Date\")[0].strip()\n            if \"Open Date:\" in line:\n                job_bulletin_date = line.split(\"Open Date:\")[1].split(\"(\")[0].strip()\n        data_list.append([filename,class_code,job_bulletin_date])","a4eb6273":"# Form a DataFrame \ndf = pd.DataFrame(data_list)\ndf.columns = [\"FILE_NAME\",\"CLASS_CODE\",\"OPEN_DATE\"]\ndf.head()","0b037f43":"df.info()","536b66e6":"df.OPEN_DATE = pd.to_datetime(df.OPEN_DATE)","ef5a6fec":"df.info()","37651b08":"df.tail()","88c3a9f4":"df.to_csv(\"job_bulletins.csv\",index= False)","d2e5fa09":"job_df = pd.read_csv(\"job_bulletins.csv\")\njob_df.head()","1ef04ffe":"## More to come. Stay tuned!","642403ef":"## Let's check kaggle_data_dictionary.csv file","b7791fce":"## Convert to CSV","9ee089d7":"## Problem Objective:\nHelp the City of Los Angeles to structure and analyze its job descriptions\n\nThe City of Los Angeles faces a big hiring challenge: 1\/3 of its 50,000 workers are eligible to retire by July of 2020. The city has partnered with Kaggle to create a competition to improve the job bulletins that will fill all those open positions.\n\nThe content, tone, and format of job bulletins can influence the quality of the applicant pool. Overly-specific job requirements may discourage diversity. The Los Angeles Mayor\u2019s Office wants to reimagine the city\u2019s job bulletins by using text analysis to identify needed improvements.\n\nThe goal is to convert a folder full of plain-text job postings into a structured CSV file and then to use this data to:\n\n(1) identify language that can negatively bias the pool of applicants;\n\n(2) improve the diversity and quality of the applicant pool; and\/or\n\n(3) make it easier to determine which promotions are available to employees in each job class.\n","e0c0ea69":"## Introduction\nLet us first start by looking at some of the job postings to get an idea of how they look like.\n","c2b5943c":"## Iterate over Job Bulletins directory\nWe are also given the job descriptions in plain text files. Let us get the total number of files and have a look at top few lines of one of the files.","2dd90c17":"## Job titles listing:","1c0f93f5":"## Import Packages","eb7aac5f":"## Let's check sample job class export template.csv","2a6efe74":"## Data Extraction\n\nIn this section, let us extract the data and create a structured table out of it.\n","15e90011":"# Data Science for Good: City of Los Angeles","1f79af4d":"> ### Let's convert `OPEN_DATE` to `DATETIME`"}}