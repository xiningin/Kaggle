{"cell_type":{"ae8fd91f":"code","35f6580d":"code","1e6623b1":"code","3eb898b8":"code","e5c742b8":"code","5fe85996":"code","7597de2f":"code","79f273fe":"code","5a69dd3c":"code","3fc95b61":"code","274b3149":"code","413eece6":"code","f6c19410":"markdown","89de0d3d":"markdown","1ac9b312":"markdown"},"source":{"ae8fd91f":"import pandas as pd\nimport numpy as np","35f6580d":"train = pd.read_csv('..\/input\/train.csv')\ntest = pd.read_csv('..\/input\/test.csv')\ntrain['date']=pd.to_datetime(train['date'])\ntest['date']=pd.to_datetime(test['date'])","1e6623b1":"print(train.dtypes,'\\n',test.dtypes)","3eb898b8":"def features(df):\n    df['year']=df['date'].dt.year\n    df['month']=df['date'].dt.month\n    df['week']=df['date'].dt.weekday\n    df['weeknum']=df['date'].dt.week\n    return df","e5c742b8":"features(train)\nfeatures(test)\nprint(train.head(10))","5fe85996":"#Data visualization in tableau showed that weekday have more importance, and day have least importance so we are ignoring day !\n#Weekday 6- is sunday so we take sales value on sunday for week number 1 (1 of 52) , item number 1 store 1 month 1 and for different year( 5 years from 2013-2017)\nx=train[(train['item']==1) & (train['store']==1) & (train['week']==6) & (train['weeknum']==1) & (train['month']==1) ]\nx","7597de2f":"def fun(item,store,week,weeknum,month):\n    x=train[(train['item']==item) & (train['store']==store) & (train['week']==week)& (train['weeknum']==weeknum) & (train['month']==month) ]\n    return np.ceil(6*(x.sales.mean()\/5)).astype(int)-1","79f273fe":"#test function\ny=[]\ny.append(fun(1,1,6,1,1))\ny.append(fun(1,1,1,1,1))\ny.append(fun(1,1,1,1,1))\ny","5a69dd3c":"%%time\ny=[]\nfor index, i in test.iterrows():\n    y.append(fun(i['item'],i['store'],i['week'],i['weeknum'],i['month']))","3fc95b61":"id1=pd.read_csv(\"..\/input\/test.csv\",usecols=['id'])\n","274b3149":"sub=pd.DataFrame({'id':id1.id,'sales':y})\nsub.head(5)","413eece6":"sub.to_csv(\"NO_MODEL.csv\",index=False)","f6c19410":"###Just finding the average past sales and divide by total number of years (5) to get overall increase or decrease trend per item\/store in past years and multiply with \"past years +1\"  (6 i.e prediction for 2018)","89de0d3d":"###Just tried out prediction without model with score of 15.74640 since the dataset is clean we can play with different approach \nif you liked it - upvote ! - you could share suggestions\/comments for improving the score without using model too - CHEERS !!!","1ac9b312":"* ###below row will take 7 to 15 minutes to complete if CPU is 100 %"}}