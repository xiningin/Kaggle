{"cell_type":{"055408d0":"code","f6b37575":"code","9dfbf8ea":"code","c9b42b77":"code","b004cff1":"code","c91cb6b0":"code","ac137622":"code","60dcc65c":"code","07cbe928":"code","fd65fde0":"code","65945e65":"code","ffe53fd6":"code","6f877675":"code","b88333fa":"markdown","e243cb38":"markdown","8429412d":"markdown","359eaaeb":"markdown","2485f00c":"markdown","66bcbbeb":"markdown","3496cb5c":"markdown"},"source":{"055408d0":"import matplotlib.pyplot as plt\nimport numpy as np\nimport os\nimport pandas as pd\nimport glob\nimport sklearn as sk\nfrom sklearn.feature_extraction import stop_words\nfrom wordcloud import WordCloud","f6b37575":"df = pd.read_csv('..\/input\/Shinzo Abe Tweet 20171024 - Tweet.csv')\ndf.head(5)","9dfbf8ea":"df['Replies'] = df['Profile Tweet 1'].replace('[^0-9]', '', regex=True).astype(np.int64)\ndf['Retweets'] = df['Profile Tweet 2'].replace('[^0-9]', '', regex=True).astype(np.int64)\ndf['Likes'] = df['Profile Tweet 3'].replace('[^0-9]', '', regex=True).astype(np.int64)","c9b42b77":"df.head(5)","b004cff1":"att = ['Replies','Retweets', 'Likes']\npd.plotting.scatter_matrix(df[att])","c91cb6b0":"df.describe()","ac137622":"data = df[['Retweets','Likes']]\ndata.corr(method='pearson')","60dcc65c":"data = df[['Replies','Retweets']]\ndata.corr(method='pearson')","07cbe928":"data = df[['Likes','Replies']]\ndata.corr(method='pearson')","fd65fde0":"like_mean = df['Likes'].mean()\n\ndf_popular     = df.query('Likes > '+ str(like_mean)) \ndf_unpopular = df.query('Likes <= '+ str(like_mean)) \n","65945e65":"def add_words(word_set,text):\n    \n    words = text.split(' ')\n    word_set = word_set | set(words)\n    return word_set\n\ndef delete_words(words, text):\n    for w in words:\n        text= text.replace(\" \" + w + \" \", ' ')\n        text = text.replace('pictwittercom','')\n    return text\n\nstop = stop_words.ENGLISH_STOP_WORDS\ntext_unpop = df_unpopular['English Translation'].replace('[\u00a5.\u00a5,\u00a5!\u00a5?]', '', regex=True)\ntext_pop     = df_popular['English Translation'].replace('[\u00a5.\u00a5,\u00a5!\u00a5?]', '', regex=True)\n\nwords_unpop = set()\nwords_pop    = set()\n\nunpop_text =\"\"\npop_text =\"\"\n\nfor w in text_unpop:\n    words_unpop = add_words(words_unpop, w)\n    unpop_text = unpop_text + \" \" + w\n\nfor w in text_pop:\n    words_pop = add_words(words_pop, w)\n    pop_text = pop_text + \" \" + w\n    \nunpop_text = delete_words(words_pop, unpop_text)\nunpop_text = delete_words(stop, unpop_text)\npop_text = delete_words(words_unpop , pop_text)\npop_text = delete_words(stop, pop_text)","ffe53fd6":"wordcloud = WordCloud().generate(unpop_text)\nplt.figure(figsize=(15, 15), dpi=50)\nplt.imshow(wordcloud, interpolation='bilinear')\n\nplt.show()","6f877675":"wordcloud = WordCloud().generate(pop_text)\nplt.figure(figsize=(15, 15), dpi=50)\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.show()","b88333fa":"### 5. Results\n\nWe will see what kinds of words are specific for popular\/unpopular tweets.\n\n#### Unpopular tweets","e243cb38":"## 1. Data loading","8429412d":"Characterisitcs of popular tweets\n\n- Tweets with a word \"defend\" have many \"likes\". So, it might mean that the topic of national defence attracted interests from certain groups of people (e.g. right-wing type people).","359eaaeb":"## 4. Analysis\n\n- What are popular topics with many \"likes\"?\n\nIdentify the characteristics of popular\/unpopular topics","2485f00c":"## 2. Change objects into integer","66bcbbeb":"Characterisitcs of unpopular tweets\n\n- Tweets with a word \"Fukushima\" did not attract many \"likes\". So, it might mean that many people are not satisfied with the progress of PM Abe's reconstruction plan from nuclear disasters for Fukushima prefecture.\n\n##### Popular tweets","3496cb5c":"## 3. Check the distributions"}}