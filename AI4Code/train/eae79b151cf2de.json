{"cell_type":{"88a61bf9":"code","acb2aca9":"code","30c608c2":"code","b2732904":"code","ed9c381b":"code","948e58bd":"code","663f6ccf":"code","ed5c7755":"code","f5186a44":"code","7d33eded":"code","a777dca0":"code","f8ef3083":"code","35b48cfd":"code","1961a832":"code","416882c1":"code","fa3810e8":"code","e9a71689":"markdown","10d269d4":"markdown","ce66ba51":"markdown","29bb383c":"markdown","07f7c0f4":"markdown"},"source":{"88a61bf9":"import re\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns","acb2aca9":"df = pd.read_csv(\"\/kaggle\/input\/sri-lanka-animal-prices-dataset\/animal_prices.csv\")","30c608c2":"df.head()","b2732904":"# Converting Columns into numbers\n# Return nan for prices which are listed as negotiable\ndef extract_num(row):\n    try:\n        amount = row.split(\" \")[-1]\n        return int(re.sub(r\"[.,]\", \"\", amount))\n    except:\n        np.nan","ed9c381b":"df[\"Price\"] = df[\"Price\"].apply(extract_num)","948e58bd":"df[\"District\"] = df[\"Location\"].apply(lambda x: x.split(\",\")[-1] )\ndf[\"City\"] = df[\"Location\"].apply(lambda x: x.split(\",\")[0] )","663f6ccf":"df.head()","ed5c7755":"# Checking the null values \ndf.isnull().sum()","f5186a44":"plt.figure(figsize=(12,6))\nsns.heatmap(df.isnull(),cbar=False,cmap=\"Set1\",yticklabels=False);","7d33eded":"df.describe()","a777dca0":"# Top 10 sellers whoposted the most ads\n\ntop_10_seller = df[[\"Title\", \"Seller_name\"]].groupby(\"Seller_name\").agg(['count'])['Title']['count'].sort_values(ascending=False)[:10]\nfig = sns.barplot( x = top_10_seller.index, y = top_10_seller.values)\nfig.set_xticklabels(labels=top_10_seller.index , rotation=45)\nfig.set_ylabel(\"Number of Posted Ads\")\nfig.set_xlabel(\"Seller Name\")\nfig.set_title(\"Top 10 Sellers who have posted the most ads\");","f8ef3083":"# Total prices for each District\ndistric_sum = df[[\"Price\", \"District\"]].groupby(\"District\").agg(['sum'])['Price']['sum'].sort_values(ascending=False)\nfig = sns.barplot( x = distric_sum.index, y = distric_sum.values)\nfig.set_xticklabels(labels=distric_sum.index , rotation=90)\nfig.set_ylabel(\"Total sum of posted ads \")\nfig.set_xlabel(\"District name\")\nfig.set_title(\"Total Price by District\");","35b48cfd":"# Total prices for each City top 10\ncity_sum = df[[\"Price\", \"City\"]].groupby(\"City\").agg(['sum'])['Price']['sum'].sort_values(ascending=False)[:10]\nfig = sns.barplot( x = city_sum.index, y = city_sum.values)\nfig.set_xticklabels(labels=city_sum.index , rotation=90)\nfig.set_ylabel(\"Total sum of posted ads \")\nfig.set_xlabel(\"City name\")\nfig.set_title(\"Total Price by City\");","1961a832":"# Seller Type distrbution\nsns.countplot(data=df, x=\"Seller_type\");","416882c1":"# Mean prices for each District\ndistric_mean = df[[\"Price\", \"District\"]].groupby(\"District\").agg(['mean'])['Price']['mean'].sort_values(ascending=False)\nfig = sns.barplot( x = distric_mean.index, y = distric_mean.values)\nfig.set_xticklabels(labels=distric_mean.index , rotation=90)\nfig.set_ylabel(\"Mean price of posted ads\")\nfig.set_xlabel(\"District name\")\nfig.set_title(\"Mean Price by District\");","fa3810e8":"# Mean prices for each City top 20\ncity_mean = df[[\"Price\", \"City\"]].groupby(\"City\").agg(['mean'])['Price']['mean'].sort_values(ascending=False)[:20]\nfig = sns.barplot( x = city_mean.index, y = city_mean.values)\nfig.set_xticklabels(labels=city_mean.index , rotation=90)\nfig.set_ylabel(\"Mean price of posted ads\")\nfig.set_xlabel(\"District City\")\nfig.set_title(\"Mean Price by City\");","e9a71689":"### Data Viz","10d269d4":"### Import Libraries","ce66ba51":"### Data Cleaning","29bb383c":"### Load the Data","07f7c0f4":"### EDA"}}