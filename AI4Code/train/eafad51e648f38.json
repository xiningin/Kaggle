{"cell_type":{"82c3263e":"code","e8737a6f":"code","3f4b0b4e":"code","5752145f":"code","0501c8b2":"code","5802a5b9":"code","a8e44b58":"code","c576dd64":"code","3ddd9480":"code","d61fe6fb":"code","c60294aa":"code","8a26beb2":"code","e69c5201":"code","5e69f834":"code","8475e2a4":"code","3f4923db":"code","eaa343ec":"code","cb1c8114":"code","bfe967af":"code","d412c162":"code","c2062789":"code","f992e4e0":"code","57c5cfce":"code","d7b37762":"code","862621fe":"code","02c9d552":"code","187a4763":"markdown","5e3a4b92":"markdown","3328d10f":"markdown","3b841005":"markdown","0f8bdb5b":"markdown","3aa3b476":"markdown","78aa6d25":"markdown","da34195a":"markdown","dc22aadb":"markdown"},"source":{"82c3263e":"import numpy as np\nimport pandas as pd\n\nimport matplotlib\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\nsns.set_style('whitegrid')\nmatplotlib.rcParams['figure.figsize'] = (10,6)\n\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn import metrics","e8737a6f":"# Reading csv file to customers\ncustomers = pd.read_csv('..\/input\/ecommerce\/Ecommerce Customers')","3f4b0b4e":"customers.head()","5752145f":"customers.info()","0501c8b2":"customers.describe()","5802a5b9":"# Get numeric columns\nnum_cols = customers.select_dtypes(include=[np.number]).columns.values\nprint('Numeric cols :',num_cols)","a8e44b58":"# Get Categorial columns\ncat_cols = customers.select_dtypes(exclude=[np.number]).columns.values\nprint('Categorical cols :',cat_cols)","c576dd64":"# Check for missing data\ncustomers.isnull().sum()","3ddd9480":"sns.heatmap(customers.corr(), annot=True, cmap='viridis')","d61fe6fb":"# As from above heatmap we can see 'Length of Membership' have high correlation with 'Yearly Amount Spent'\nsns.jointplot(x='Length of Membership',y='Yearly Amount Spent',data=customers, s=20)","c60294aa":"# Lets see how a linear model fits the data\nsns.lmplot(x='Length of Membership',y='Yearly Amount Spent',data=customers)","8a26beb2":"# Comparing the Time on Website and Yearly Amount Spent columns to check the correlation make sense\n# As more time on site, more money spent.\nsns.jointplot(x='Time on Website',y='Yearly Amount Spent',data=customers, s=20)","e69c5201":"# Comparing the Time on App and Yearly Amount Spent columns to check the correlation make sense\n# As more time on site, more money spent.\nsns.jointplot(x='Time on App',y='Yearly Amount Spent',data=customers, s=20)","5e69f834":"# Visualizing Multivariate relations via Pairplot\nsns.pairplot(customers)","8475e2a4":"# Lets verify the categorical columns again\nprint(cat_cols)","3f4923db":"# We can either Feature Engineer these columns or drop them\ncustomers[cat_cols]","eaa343ec":"# Dropping above 'cat_cols'\ncustomers.drop(cat_cols,axis=1,inplace=True)\ndisplay(customers)","cb1c8114":"num_cols","bfe967af":"# All num_cols are features and 'Yearly Amount Spent' is the target\nX = customers.drop('Yearly Amount Spent', axis=1)\ny = customers['Yearly Amount Spent']","d412c162":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.3, random_state=7)","c2062789":"# Model Training\nlr = LinearRegression()\nlr .fit(X_train,y_train)","f992e4e0":"# Scatter plot of y_true and predicted values\npredicted = lr.predict(X_test)\nplt.scatter(y_test,predicted)\nplt.xlabel('y_test')\nplt.ylabel('Predicted')","57c5cfce":"# Evaluation of Regression model\nprint('RMSE:', np.sqrt(metrics.mean_squared_error(y_test, predicted)))","d7b37762":"# The coefficients of the model\nprint('Coefficients: ', lr.coef_)","862621fe":"# Residuals\n# Plotting a histogram of the residuals and it looks normally distributed\nsns.distplot((y_test-predicted),bins=50)","02c9d552":"# Let's see if we can interpret the coefficients at all to get an idea\ncoeffecients = pd.DataFrame(lr.coef_,X.columns)\ncoeffecients.columns = ['Coeffecient']\ndisplay(coeffecients)","187a4763":"# Training and Testing the Model\n","5e3a4b92":"# Linear Regression with Python\n\n---\n\n**Problem Statement**: To decide for an ecommerce company whether to focus their efforts on their mobile app experience or their website\n\n\n&nbsp;\n\n\n**Solution by**: *Aditya Karanth*.\n\n**GitHub Profile**: https:\/\/github.com\/Aditya-Karanth\n\n**Kaggle Profile**: https:\/\/www.kaggle.com\/adityakaranth\n\n\n\n<h3>Project Planning :<\/h3> \n\n  - **Exploratory Data Analysis (EDA) -**\n    - Understand nature of the data *.info()*, *.describe()*\n    - Plotting Jointplots for bivariate numeric data.\n    - Plotting Pairplots for multivariate numeric data.\n    - Understand the correlation between features using heatmaps.\n    \n    \n  - **Data Preprocessing -**\n    - Removing unwanted columns eg. Email, Address, and their color Avatar.\n    \n    \n  - **Training and Testing the Model**:\n    - Splitting test_train data.\n    - Regression using *Linear Regression*.\n    - Scatter plot of y_true and predicted values\n    - Evaluation of Regression model with *RMSE*.\n    - Obtaining *coefficients* of the model \n    - Plotting a histogram of the residuals.\n\n\n  - **Conclusion**\n    - Interpretation the coefficients.\n    - Solution to the problem Statement.\n\n","3328d10f":"# Exploratory Data Analysis","3b841005":"# Imports","0f8bdb5b":"Interpreting the coefficients:\n\n- Holding all other features fixed, a 1 unit increase in **Avg. Session Length** is associated with an **increase of 25.41 total dollars spent**.\n- Holding all other features fixed, a 1 unit increase in **Time on App** is associated with an **increase of 38.48 total dollars spent**.\n- Holding all other features fixed, a 1 unit increase in **Time on Website** is associated with an **increase of 0.92 total dollars spent**.\n- Holding all other features fixed, a 1 unit increase in **Length of Membership** is associated with an **increase of 61.94 total dollars spent**.","3aa3b476":"Looking at above, \n\nDefinitely, Membership Time is what is really important!\n\nBut to answer the Problem statement, there are two ways to think about this: \n- Develop the Website to catch up to the performance of the mobile app \n> or \n- Develop the app more since that is what is working better. \n\nThe actual answer really depends on the other factors going on at the company and the above are our insights.","78aa6d25":"# Data Preprocessing","da34195a":"# Conclusion","dc22aadb":"We still want to figure out the answer to the original question.\n\nDo we focus our efforts on mobile app or website development?"}}