{"cell_type":{"ca60ffa0":"code","483f8174":"code","5977f5a8":"code","d6c678b8":"code","9d22c6be":"code","b7ef7414":"code","d7252294":"code","249ccd27":"code","db9d2b14":"code","7443361e":"code","fa3153d3":"code","c7ccbec0":"code","31cf3dc0":"code","e35f78b6":"code","5cd8950d":"code","1ff3edc2":"code","256e7ff2":"code","2d687f30":"markdown","7a9efd81":"markdown","222acf41":"markdown","364ae8c1":"markdown","4b06111a":"markdown","031870b8":"markdown","aee0f106":"markdown","245cb851":"markdown"},"source":{"ca60ffa0":"# packages\n\n# standard\nimport numpy as np\nimport pandas as pd\nimport time\n\n# plots\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport seaborn as sns","483f8174":"# import data\ndf = pd.read_csv('..\/input\/germany-largest-companiese\/Germany_largest_companies.csv')","5977f5a8":"# dimensions of data frame\ndf.shape","d6c678b8":"# rename columns\ndf = df.rename(columns={'Global Rank\\t' : 'Global Rank', \n                   'Company\\t' : 'Company',\n                   'Sales ($billion)\\t' : 'Sales',\n                   'Profits ($billion)\\t' : 'Profits',\n                   'Assets ($billion)\\t' : 'Assets',\n                   'Market Value ($billion)' : 'MarketValue'})","9d22c6be":"# show preview\ndf.head(5)","b7ef7414":"df['Profit_over_Sales'] = np.round(df.Profits \/ df.Sales, 4)\ndf['MVal_over_Sales'] = np.round(df.MarketValue \/ df.Sales, 2)\ndf['MVal_over_Profits'] = np.round(df.MarketValue \/ df.Profits, 2)","d7252294":"df.head(10)","249ccd27":"features = ['Sales', 'Profits', 'Assets', 'MarketValue',\n            'Profit_over_Sales', 'MVal_over_Sales',\n            'MVal_over_Profits']","db9d2b14":"# pairwise scatter plots of main features\nsns.pairplot(data=df[['Global Rank','Sales', 'Profits', 'Assets', 'MarketValue']])\nplt.show()","7443361e":"fig = px.scatter(df, x='Sales', y='Profits',\n                 color='Assets',\n                 size='MarketValue', \n                 hover_name='Company', opacity=0.5)\nfig.update_layout(title='Visualization of Companies by key figures',\n                  xaxis_title='Sales [$bn]',  \n                  yaxis_title='Profits [$bn]')\nfig.show()","fa3153d3":"for f in features:\n    print('*** Top 10 by ' + f + ':')\n    df_temp = df.nlargest(columns=[f], n=10)\n    # barplot\n    plt.figure(figsize=(12,4))\n    plt.bar(x=df_temp.Company, height=df_temp[f],\n            color='darkblue')\n    plt.xticks(rotation=90)\n    plt.title('Top 10 by ' + f)\n    plt.grid()\n    plt.show()\n    # show table\n    display(df_temp)","c7ccbec0":"for f in features:\n    print('*** Bottom 10 by ' + f + ':')\n    df_temp = df.nsmallest(columns=[f], n=10)\n    # barplot\n    plt.figure(figsize=(12,4))\n    plt.bar(x=df_temp.Company, height=df_temp[f],\n            color='darkblue')\n    plt.xticks(rotation=90)\n    plt.title('Bottom 10 by ' + f)\n    plt.grid()\n    plt.show()\n    # show table\n    display(df_temp)","31cf3dc0":"# sort data frame by sales\ndf_temp = df.nlargest(columns=['Sales'], n=50).reset_index(drop=True)","e35f78b6":"# boxplot of sales\nplt.figure(figsize=(10,2))\nplt.boxplot(df_temp.Sales, vert=False)\nplt.title('Sales - Boxplot')\nplt.grid()\nplt.show()","5cd8950d":"# plot histogram\ndf_temp.Sales.plot(kind='hist', color='darkblue')\nplt.title('Sales distribution')\nplt.grid()\nplt.show()","1ff3edc2":"# plot histogram - log10 transformation\nnp.log10(df_temp.Sales).plot(kind='hist', color='darkblue')\nplt.title('Sales distribution - log10')\nplt.grid()\nplt.show()","256e7ff2":"# plot log10 of sales vs rank\nnp.log10(df_temp.Sales).plot()\nplt.title('log10(Sales) vs Rank')\nplt.grid()\nplt.show()","2d687f30":"<a id='vis'><\/a>\n# Visualizations","7a9efd81":"### Add a few calculated metrics","222acf41":"# Table of Contents\n* [Import and Data Preparation](#import)\n* [Visualizations](#vis)\n* [Top 10](#top)\n* [Bottom_10](#bottom)\n* [Sales Distribution](#sales_dist)","364ae8c1":"<a id='bottom'><\/a>\n# Bottom 10","4b06111a":"<a id='sales_dist'><\/a>\n# Sales Distribution","031870b8":"<a id='import'><\/a>\n# Import and Data Preparation","aee0f106":"<a id='top'><\/a>\n# Top 10","245cb851":"### Interactive Plot:"}}