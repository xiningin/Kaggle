{"cell_type":{"b5c195ba":"code","5bf7c331":"code","62968847":"code","ea8e4745":"code","6f946945":"code","04a71be6":"code","86a25e05":"markdown"},"source":{"b5c195ba":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pylab as plt\n\nimport plotly.graph_objs as go\nfrom plotly.offline import init_notebook_mode, iplot\n\npd.set_option('max_rows', 5000)\n\nlb = pd.read_csv('\/kaggle\/input\/ashrae-interim-scores\/final_leaderboard_order.csv')","5bf7c331":"lb['public_rank'] = lb['PublicScore'].rank().astype(int)\nlb['private_rank'] = lb['PrivateScore'].rank().astype(int)\nlb['shake'] = lb['public_rank'] - lb['private_rank']\nlb['TeamName'] = lb['TeamName'].str[:20]\nlb['medal'] = ''\nlb.loc[lb['private_rank'] <= 367, 'medal'] = '\ud83e\udd49'\nlb.loc[lb['private_rank'] <= 183, 'medal'] = '\ud83e\udd48'\nlb.loc[lb['private_rank'] <= 17, 'medal'] = '\ud83e\udd47'\nlb = lb[['private_rank','medal','shake',\n         'TeamName','PublicScore','PrivateScore',\n         'public_rank','SubmissionTimestamp']]","62968847":"def color_negative_red(val):\n    \"\"\"\n    Takes a scalar and returns a string with\n    the css property `'color: red'` for negative\n    strings, black otherwise.\n    \"\"\"\n    try:\n        color = 'red' if val < 0 else 'black'\n    except:\n        color = 'black'\n    return 'color: %s' % color","ea8e4745":"fig, axes = plt.subplots(1, 2, figsize=(16, 8))\nlb.query('PublicScore < 6 and PrivateScore < 6') \\\n    .plot(x='PublicScore',\n        y='PrivateScore',\n        kind='scatter',\n        title='ASHRAE Shake < 6',\n         ax=axes[0])\nlb.query('PublicScore < 1.6 and PrivateScore < 1.6') \\\n    .plot(x='PublicScore',\n        y='PrivateScore',\n        kind='scatter',\n        title='ASHRAE Shake < 1.6',\n         ax=axes[1])\nplt.show()","6f946945":"def plot_candle(title, diff):\n    closes = np.array(range(len(diff)))+1\n    opens = closes + np.array(diff)\n    highs = np.where(np.array(diff)<0, closes, opens)\n    lows =  np.where(np.array(diff)>=0, closes, opens)\n    \n    hovertext = ['private lb: '+str(c)+'<br>public lb: '+str(o) for o, c in zip(opens, closes)]\n\n    trace = go.Ohlc(x=list(range(1, len(diff)+1)), open=opens, high=highs, low=lows, close=closes,\n                    increasing=dict(line=dict(color='#FF6699')), decreasing=dict(line=dict(color='#66DD99')),\n                    text=hovertext, hoverinfo='text')\n    \n    layout = go.Layout(\n        title = \"<b>%s<\/b>\" % title,\n        xaxis = dict(\n            title='final ranks',\n            rangeslider = dict(visible=False)\n        ), \n        yaxis=dict(\n            title='shakeups',\n            autorange='reversed'\n        )\n    )\n    \n    fig = go.Figure(data=[trace], layout=layout)    \n    iplot(fig, filename='shakeup_candlestick')\n\nplot_candle('ASHRAE Shakeup', lb['shake'])","04a71be6":"lb.style.\\\n    applymap(color_negative_red) \\\n    .hide_index()","86a25e05":"# ASHRAE Final Leaderboard\n**Warning this is not the offical finals standings but based off of data provided by kaggle**\n\nMedals are estimated using this kernel by @sheriytm:\nhttps:\/\/www.kaggle.com\/sheriytm\/ashrae-public-lb-before-rescoring\n\nThe second shakeup visualization uses a design by @pednoi - please upvote his kernel here: https:\/\/www.kaggle.com\/pednoi\/visualize-the-shakeups-of-10-recent-competitions"}}