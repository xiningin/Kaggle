{"cell_type":{"9c8ad2aa":"code","3f9f9755":"code","b1e3ef37":"code","9ea9fdc7":"code","4b0449c7":"code","453f59d1":"code","aef1dbb5":"code","a728700b":"code","30772435":"code","a8fddb22":"code","abc81c9d":"code","45e64e30":"code","0737fda8":"code","f4aa063c":"code","b64b3c07":"code","06c28aef":"code","6631bf15":"code","1c2996d4":"code","ebd6cb8e":"code","763d6272":"code","6ad82668":"code","ce9423b9":"code","d4d7516e":"code","486012e5":"code","f83d2fde":"code","e84e3a2b":"code","6a6bca7e":"code","c1ef851d":"markdown","0401fc81":"markdown","7d085854":"markdown","fb8f6d3f":"markdown","4b569fa5":"markdown","fa764778":"markdown","5d9c47d3":"markdown","ce13d7e3":"markdown","a2e0d834":"markdown","ea110e37":"markdown","4c93c790":"markdown","1eba6e43":"markdown","0e3b6173":"markdown","5a756e24":"markdown","071cbafb":"markdown","761f215c":"markdown","7740d1c6":"markdown","999eb5d7":"markdown","b31c9c4d":"markdown","ea57c7fd":"markdown","5403b0f1":"markdown","cec28c8a":"markdown","4474dab1":"markdown","3a67b7d5":"markdown"},"source":{"9c8ad2aa":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt # this is used for the plot the graph \nfrom matplotlib import rcParams\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","3f9f9755":"data=pd.read_csv(\"..\/input\/BRAZIL_CITIES.csv\", sep=\";\", decimal=\",\")\ndata.head()","b1e3ef37":"data.shape","9ea9fdc7":"data.UBER = data.UBER.replace(np.nan,0)\ndata.POST_OFFICES = data.POST_OFFICES.replace(np.nan,1)\ndata.CAPITAL = data.CAPITAL.replace(0,'NO')\ndata.CAPITAL = data.CAPITAL.replace(1,'YES')","4b0449c7":"original_data = data.copy(True)","453f59d1":"columns = ['CITY', 'STATE', 'CAPITAL', 'IBGE_RES_POP','AREA',\n           'IDHM','LONG','LAT','ALT','ESTIMATED_POP','GDP','GDP_CAPITA','COMP_TOT',\n           'Cars','Motorcycles','UBER','Wheeled_tractor','POST_OFFICES']\ndf = data[columns]","aef1dbb5":"df.head()","a728700b":"print(\"Percentage null or na values in df\")\n((df.isnull() | df.isna()).sum() * 100 \/ df.index.size).round(2)","30772435":"df.dropna(how ='any', inplace = True)\nprint(\"Percentage null or na values in df\")\n((df.isnull() | df.isna()).sum() * 100 \/ df.index.size).round(2)","a8fddb22":"df.rename(columns={'IBGE_RES_POP': 'Population(2010)', \n                    'IDHM':'Human Development Index Ranking',\n                    'ESTIMATED_POP':'Estimated Population(2018)',\n                    'COMP_TOT':'Total companies',\n                    'UBER':'Uber',\n                    'POST_OFFICES':'Post Offices'}, inplace=True)","abc81c9d":"df= df.drop_duplicates(subset='CITY',keep='first')\ndf['Population Growth %']=((df['Estimated Population(2018)']-df['Population(2010)'])\/(df['Population(2010)']))*100","45e64e30":"correlation= df.corr()\nsns.heatmap(correlation)","0737fda8":"capital_hdi=sns.violinplot(x = 'CAPITAL', y = 'Human Development Index Ranking', data = df, palette = \"Set3\")\ncapital_hdi.set_xlabel(xlabel = 'Capital', fontsize = 9)\ncapital_hdi.set_ylabel(ylabel = 'Human Development Index Ranking', fontsize = 9)\ncapital_hdi.set_title(label = 'Capitals vs HDI', fontsize = 20)\nplt.show()","f4aa063c":"# df['Human Development Index Ranking'].mean()\nfig, ax = plt.subplots(figsize=[16,4])\ncategory_plot = sns.distplot(df['Human Development Index Ranking'],ax=ax)\nax.set_title( 'HDI Distrubution for all cities')\n","b64b3c07":"cmap = sns.cubehelix_palette(dark=.1, light=.3, as_cmap=True)\n\n\nf, ax = plt.subplots(figsize=(8, 8))\nsns.scatterplot(x=df[df['AREA']>= 1500000].LONG,\n                y=df[df['AREA']>= 1500000].LAT ,\n                palette =cmap,\n                hue=df['AREA'],\n                size=df['AREA'])\nplt.title(\"Location of Cities with large Area\")\n\n\nf, ax = plt.subplots(figsize=(8, 8))\nsns.scatterplot(x=df[df['Total companies']>1000].LONG,\n                y=df[df['Total companies']>1000].LAT,\n                palette =cmap,\n                hue=df['Total companies'],\n                size=df['Total companies'])\nplt.title(\"Location of Cities with large number of Companies\")\n\n\n\nf, ax = plt.subplots(figsize=(8, 8))\nsns.scatterplot(x=df[df['Population Growth %'] > 15].LONG,\n                y=df[df['Population Growth %'] > 15].LAT,\n                palette =cmap,\n                hue=df['Population Growth %'],\n                size=df['Population Growth %'])\nplt.title(\"Location of Cities with large Population Growth %\")","06c28aef":"# df['GDP_CAPITA'].max()\nnewdf=df[['CITY','GDP_CAPITA','CAPITAL','STATE']].groupby(['GDP_CAPITA'])\nnewdf=newdf.filter(lambda x: x.mean() >= 80000)\nnewdf=newdf.sort_values(by=['GDP_CAPITA'])\nnewdf","6631bf15":"plt.rcParams['figure.figsize'] = (15, 9)\nnewdf.STATE.value_counts().sort_index().plot.bar()","1c2996d4":"# df['Population Growth %'].max()\nnewdf_pop=df[['CITY','Population Growth %']].groupby(['Population Growth %'])\nnewdf_pop=newdf_pop.filter(lambda x: x.mean() <= -10)\nnewdf_pop=newdf_pop.sort_values(by=['Population Growth %'])\n\nnewdf_pop_grow=df[['CITY','Population Growth %']].groupby(['Population Growth %'])\nnewdf_pop_grow=newdf_pop_grow.filter(lambda x: x.mean() >= 10)\nnewdf_pop_grow=newdf_pop_grow.sort_values(by=['Population Growth %'])","ebd6cb8e":"pop_decrease = pd.merge(newdf, newdf_pop, how='inner', on=['CITY'])\nprint('Cities with Estimated Population decrease with high GDP_CAPITA \\n')\npop_decrease","763d6272":"pop_increase=pd.merge(newdf, newdf_pop_grow, how='inner', on=['CITY'])\nprint('Cities with Estimated Population increase with high GDP_CAPITA \\n')\npop_increase","6ad82668":"plt.rcParams['figure.figsize'] = (15, 9)\npop_increase.STATE.value_counts().sort_index().plot.bar()\nplt.title('States with high Population growth due to high GDP per capita',size=20)","ce9423b9":"# df.AREA.mean()\nnewdf_area=df[['CITY','AREA']].groupby(['AREA'])\nnewdf_area=newdf_area.filter(lambda x: x.mean() >= 1254967)\nnewdf_area=newdf_area.sort_values(by=['AREA'])","d4d7516e":"pop_area=pd.merge(pop_increase, newdf_area, how='inner', on=['CITY'])\npop_area","486012e5":"newdf_companies=df[['CITY','Total companies']].groupby(['Total companies'])\nnewdf_companies=newdf_companies.filter(lambda x: x.mean() >= 1000)\nnewdf_companies=newdf_companies.sort_values(by=['Total companies'])\nnewdf_companies","f83d2fde":"pop_companies=pd.merge(newdf_pop_grow, newdf_companies, how='inner', on=['CITY'])\npop_companies","e84e3a2b":"\ndf['Cars distribution']=((df['Cars'])\/(df['Estimated Population(2018)']))\n# df.head()\n# df['Cars distribution'].describe()\nf, ax = plt.subplots(figsize=(8, 8))\nsns.scatterplot(x=df[df['Cars distribution'] >= 0.20].LONG,\n                y=df[df['Cars distribution'] >= 0.20].LAT,\n                palette =cmap,\n                hue=df['Cars distribution'],\n                size=df['Cars distribution'])","6a6bca7e":"correlation= df.corr()\nsns.heatmap(correlation)","c1ef851d":"# Do cities with large area and high GDP per Capita tend to have high Population Growth % ?","0401fc81":"# Which cities have highest GDP per Capita?","7d085854":"**There are 50 cities in Brazil with high GDP per Capita and high estimated Population Growth % **","fb8f6d3f":"# Is there a Population Growth trend with respect to GDP per Capita?","4b569fa5":"# Is Car Distribution localised to specific parts of Brazil?","fa764778":"## Necessary Visualization plots\nBefore we jump into the analysis and find relationships between various columns of this dataframe. It is necessary to plot the following plots that will make it easier to understand the rest of the following kernel.\nThese plots focus on :-\n1. Area of the cities\n1. Total Companies in every city\n1. Estimated Population Growth % per city","5d9c47d3":"* **78 cities** in Brazil have GDP per Capita greater than 80k. **We will use the above obtained dataframe of 78 cities for further analysis below !!**\n* Most Cities in this list belong to the **State of S\u00e3o Paulo**.\n* Interestingly all the cities in this list are **non-capitals**.","ce13d7e3":"Lets create a new column **'Cars Distribution'** to get a better understanding of **Number of Cars per person** in every city of Brazil.\n\n**To filter the cities, I have assumed a condition that on an average 5 people own a car.**","a2e0d834":"# Do cities with more companies show more population growth?","ea110e37":"* The large cities of the state of **Mato Grosso (MT)** have a surprisingly high estimated population growth % !!\n* The average population growth % in the cities of **Mato Grosso** is greater than **25%** !","4c93c790":"* 50 out of 78 cities with **high GDP per Capita(greater than 80k)** showed **high estimated population growth(more than 10%)** from **2010 to 2018**. *I think it makes sense !* \n* **Piratuba** and **Rosana** are the obvious exceptions to this analysis. **Piratuba** and **Rosana** showed an estimated population decrease of **17%** and **13%** respectively from **2010 to 2018** even though the cities had a high GDP per Capita !!\n* **Sao Paolo** clearly has **highest** share of cities in this analysis. **Sao Paolo** has **21 cities** with high GDP per Capita and high estimated population growth% !!","1eba6e43":"# Breakdown of this notebook:\n1. **Loading the dataset:** Load the data and import the libraries.\n1. **Data Cleaning:**\n     * Deleting redundant columns.\n     * Renaming the columns.\n     * Dropping duplicates.\n     * Cleaning individual columns.\n1. **Data Visualization:** Necessary Visualization plots\n1. **Do State Capitals have higher HDI?**\n1. **HDI Distribution**\n1. **Which cities have highest GDP per Capita?**\n1. **Is there a Population Growth trend with respect to GDP per Capita?**\n       ** Does this signify that the people found it logical to move to cities with high GDP per Capita?**\n1.  **Do cities with large area and high GDP per Capita tend to have high Population Growth % ?**\n1.  **Do cities with more companies show more population growth?**\n1.  **Is Car Distribution localised to specific parts of Brazil?**","0e3b6173":"* **South and Southeast part** of Brazil has the **highest Car to person ratio**. \n* This totally **correlates** with **plot of cities with large number of companies** as done above in the '**Necessary Visualization plots' part of this kernel.** This signifies that people living in cities with large number of companies use more cars to commute than other cities.\n* Also. it is interesting to see that our newly created column **'Cars Distribution' correlates highly with Latitude and Longitude**!!","5a756e24":"## Does this signify that the people found it logical to move to cities with high GDP per Capita?","071cbafb":"**Human Development Index Ranking for most cities lie between 0.5 and 0.75 as is evident through the graph above.**","761f215c":"# Do State Capitals have higher HDI?","7740d1c6":"# Please upvote and feel free to give any feedback\/comment below!!","999eb5d7":"**State Capitals do have a higher Human Development Index Ranking** (*mostly greater than 0.7*) as is evident from the plot above !!","b31c9c4d":"**It always becomes easier to find relationships between columns if we plot a correlation plot first.**","ea57c7fd":"1. As you can see above, Only **713 out of 5576** total cities in our dataframe have **more than 1000 companies**!\n1. As you can see below, **345 out of these 713** cities (almost 50%) show more than **10 % increase** in population from 2010 to 2018. \n\n*It is safe to say that cities with large number of companies understandably tend to have a large increase in population. The reason can be more job opportunities in big cities which attracts lot of people to these cities*","5403b0f1":"The criteria here is GDP per Capita greater than 80k.","cec28c8a":"## HDI Distribution","4474dab1":"**Let's create a new column that gives better understanding of population growth from 2010 to 2018**","3a67b7d5":"* We can see that the **Southeast** part of Brazil show large number of cities with **high estimated population growth %**.\n* Also, the **Eest and Southeast** part of Brazil have a **large number of companies**.\n* The largest cities in Brazil are in the **Northwest** but a large number of huge cities are situated in the **East** of Brazil.\n\nSo,it will be interesting to see relationship between the above visualized columns.* Let's do that !*"}}