{"cell_type":{"f29aadde":"code","de2cde35":"code","54e34ded":"code","f07471eb":"code","2673b7a9":"code","8b55ed3a":"code","a4a911fd":"code","33ab960a":"code","6303aebe":"code","e4b309e8":"code","8a51581f":"code","1c197d5c":"code","11a3fd54":"code","3ae53c34":"code","4a48f027":"code","b543412b":"code","d9217722":"code","d8280c57":"code","b9ffa6f2":"markdown","099b80bc":"markdown","98685771":"markdown","da5a5437":"markdown","177b814d":"markdown","de60a27b":"markdown","373ad488":"markdown","7a33be08":"markdown","8f762e1d":"markdown","23ff41ee":"markdown","41abfdb9":"markdown","c431a178":"markdown","964d5b5f":"markdown"},"source":{"f29aadde":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","de2cde35":"df = pd.read_csv('\/kaggle\/input\/titanic\/train.csv')\ndf.head()","54e34ded":"df.info()","f07471eb":"df.isna().sum()","2673b7a9":"print('Survival rate: %.2f%%' % (100 * df['Survived'].sum() \/ df['Survived'].count()))","8b55ed3a":"import matplotlib.pyplot as plt\nimport seaborn as sns\n\nsns.countplot(x='Sex', data = df, hue ='Survived')","a4a911fd":"sns.histplot( x='Sex', data = df, hue ='Survived')","33ab960a":"sns.histplot(x='Age', data = df, hue ='Survived')","6303aebe":"sns.displot(data=df, x=\"Age\", hue=\"Survived\", col=\"Sex\", kind=\"kde\")","e4b309e8":"df['Relatives'] = df['SibSp'] + df['Parch']\nsns.pointplot(x='Relatives', y ='Survived', data = df)","8a51581f":"fig, axes = plt.subplots(1, 2, figsize = (15, 5))\nfor id, col in enumerate(['SibSp', 'Parch']):\n    sns.histplot(x= col, data = df, hue = 'Survived', ax = axes[id])","1c197d5c":"sns.countplot(x='Pclass', data = df, hue = 'Survived')","11a3fd54":"sns.catplot(x= 'Pclass', data = df, hue ='Survived', kind ='count', col ='Sex')","3ae53c34":"sns.displot(data=df, x=\"Age\", hue=\"Survived\", col=\"Sex\", row = 'Pclass', kind=\"kde\")","4a48f027":"df['Age'] = df['Age'].fillna(method='ffill')\ndf.head()","b543412b":"data = df.drop(['PassengerId', 'Name', 'SibSp', 'Parch', 'Ticket', 'Fare', 'Cabin'], axis = 1)\ndata['Age'] = data['Age'].astype(int)\ndata.head()","d9217722":"from sklearn.preprocessing import LabelEncoder\n\ndata['Sex'] = LabelEncoder().fit_transform(data['Sex'])\ndata['Embarked'] = LabelEncoder().fit_transform(data['Embarked'])\ntrain_x = data.drop('Survived', axis = 1)\ntrain_y = data['Survived']\n\ntest_df = pd.read_csv('\/kaggle\/input\/titanic\/test.csv')\ntest_df['Relatives'] = test_df['SibSp'] + test_df['Parch']\ntest = test_df.drop(['PassengerId', 'Name', 'SibSp', 'Parch', 'Ticket', 'Fare', 'Cabin'], axis = 1)\ntest = test.fillna(method='ffill')\ntest['Age'] = test['Age'].astype(int)\ntest['Sex'] = LabelEncoder().fit_transform(test['Sex'])\ntest['Embarked'] = LabelEncoder().fit_transform(test['Embarked'])\nprint(test.head())","d8280c57":"from sklearn.ensemble import RandomForestClassifier\nclf = RandomForestClassifier(n_estimators=100, max_depth=3, random_state=2)\nclf.fit(train_x, train_y)\n\ny_pred = clf.predict(test)\nforest_predict = pd.DataFrame({'PassengerId': test_df['PassengerId'], 'Survived': y_pred})\nforest_predict.to_csv('.\/forest_submission.csv', index= False)","b9ffa6f2":"# Data preprocessing","099b80bc":"# Check survival rate","98685771":"=> the younger people survived more","da5a5437":"# Relationship","177b814d":"**Note**: I discover that there is lost data","de60a27b":"=> The more luxurious the ticket, the higher the survival rate","373ad488":"*> This is my first notebook. I'm very happt if anyone can give me some suggestions \ud83d\ude0a\ud83d\ude0a*","7a33be08":"# Age","8f762e1d":"# Pclass","23ff41ee":"# Sex","41abfdb9":"# Predict","c431a178":"=> people with one to three relatives survived more","964d5b5f":"=> females were saved more than males"}}