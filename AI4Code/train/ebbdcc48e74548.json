{"cell_type":{"898e7378":"code","6569eaab":"code","efda1c57":"code","254bdb3f":"code","609d93f1":"markdown","3fcd68de":"markdown","9714a780":"markdown","9f1c8cae":"markdown"},"source":{"898e7378":"import numpy as np \nimport pandas as pd\npd.set_option('display.max_rows', None, 'display.max_columns', None,'display.max_colwidth', None)\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","6569eaab":"df1 = pd.read_csv(\"\/kaggle\/input\/kaggle-survey-2021\/kaggle_survey_2021_responses.csv\",skiprows=[0],header=0)\np = []\nfor i,col in enumerate(df1.columns):\n    try:\n        if ((col.split('- Selected')[0]== df1.columns[i-1].split('- Selected')[0])|(col.split('- Selected')[0]== df1.columns[i+1].split('- Selected')[0])): p.append(col.split('- Selected')[0])\n        else: p.append(col.split('- Selected')[0])\n    except IndexError:\n        if (col.split('- Selected')[0]== df1.columns[i-1].split('- Selected')[0]) : p.append(col.split('- Selected')[0])\n        else: p.append(col.split('- Selected')[0])\ndf1.columns = p\ndf1.reset_index(inplace=True)\ndf1.head(1)","efda1c57":"df2 = df1.melt(id_vars = ['index'],var_name='Ques',value_name='ans')\ndf3 = df2.groupby(['Ques','ans']).agg(['count']).reset_index()\ndf3.columns = list(map('_'.join,df3.columns))\ndf3.head(10)","254bdb3f":"df4 = df3.copy()\ndf4['max'] = df4.groupby(['Ques_'])['index_count'].transform(lambda x : x.idxmax())\ndf4 = df4.reset_index()\ndf5 = df4.copy()\ndf6 = df5[df5['max']==df5['index']]\ndf7 = df6.drop(['index','max'],axis=1)\ndf7.head()\ndf8=df7.reset_index(drop=True)\ndf8","609d93f1":"## My idea is here to keep it simple. So I have created a final table which contains choice which is mostly answered for each question.","3fcd68de":"## Importing data and converting columns to actual questions","9714a780":"## Finding the maximum answered choice for each question","9f1c8cae":"## Melting it and creating a column for count of each answer"}}