{"cell_type":{"954e2118":"code","160e759b":"code","5b244d88":"code","73353a18":"code","4c2a8ede":"code","56c7f2f6":"code","d0698bac":"code","f585d66d":"code","d03c42de":"code","f8a73109":"code","7f27a649":"code","6c2f37c6":"code","5cf35129":"code","1e913ed8":"code","11238a85":"code","6225cd40":"code","4bbcb196":"code","5691e6f8":"code","0600251f":"markdown","83b229fb":"markdown","df5e3901":"markdown","cf981b2e":"markdown","a0f3222a":"markdown","82e35524":"markdown","50551226":"markdown","ce50a368":"markdown","fd44b49e":"markdown","7e4c0d5e":"markdown","8d253fa7":"markdown","86565981":"markdown","5ce5b137":"markdown","c33135d0":"markdown","66d72cbc":"markdown","60a9a1fa":"markdown","dbdd28a8":"markdown"},"source":{"954e2118":"from PIL import Image \nImage.open(\"\/kaggle\/input\/ab-test-png2\/ab_testing.png\")","160e759b":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","5b244d88":"import pandas as pd\nimport statsmodels.stats.api as sms\nfrom scipy.stats import shapiro, levene, ttest_ind, mannwhitneyu\nfrom statsmodels.stats.proportion import proportions_ztest","73353a18":"pip install openpyxl","4c2a8ede":"df_control=pd.read_excel(\"..\/input\/d\/dilekbarutu\/a-b-testing\/ab_testing.xlsx\",sheet_name=\"ControlGroup\")","56c7f2f6":"df_test=pd.read_excel(\"..\/input\/d\/dilekbarutu\/a-b-testing\/ab_testing.xlsx\",sheet_name=\"TestGroup\")","d0698bac":"df_control[\"Purchase\"].describe().T","f585d66d":"df_test[\"Purchase\"].describe().T","d03c42de":"sms.DescrStatsW(df_control[\"Purchase\"]).tconfint_mean()","f8a73109":"sms.DescrStatsW(df_test[\"Purchase\"]).tconfint_mean()","7f27a649":"\ntest_stat, pvalue = shapiro(df_control[\"Purchase\"])\nprint('Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))\n","6c2f37c6":"test_stat, pvalue = shapiro(df_test[\"Purchase\"])\nprint('Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))","5cf35129":"test_stat, pvalue = levene(df_control[\"Purchase\"], df_test[\"Purchase\"])\nprint('Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))\n\n","1e913ed8":"test_stat, pvalue = ttest_ind(df_test[\"Purchase\"],\n                              df_control[\"Purchase\"],\n                              equal_var=True)  # e\u011fer varyans homojenli\u011fi sa\u011flanmasayd\u0131=>False dememiz gerekirdi\n                                               # bu durumda arkadasa Welch's T-Testi \u00e7al\u0131\u015f\u0131cakt\u0131.\n\nprint('Test Stat = %.4f, p-value = %.4f' % (test_stat, pvalue))\n","11238a85":"df_control[\"Conversion_Rate\"] = df_control[\"Click\"] \/ df_control[\"Impression\"]\ndf_control.describe().T ","6225cd40":"df_test[\"Conversion_Rate\"] = df_test[\"Click\"] \/ df_test[\"Impression\"]\ndf_test.describe().T ","4bbcb196":"def ratio_AB_test(data_test,data_control, count_col,nobs_col):\n    result_list = []\n    for i in list(range(0, data_test.shape[0])):\n        test_stat, pvalue = proportions_ztest(count=[data_test[count_col][i], data_control[count_col][i]],\n                                              nobs=[data_test[nobs_col][i], data_control[nobs_col][i]])\n        result_list.append([test_stat, pvalue])\n    pd.DataFrame(result_list, columns=['test_stat', 'p_value'])\n    return pd.DataFrame(result_list, columns=['test_stat', 'p_value'])","5691e6f8":"result_df= ratio_AB_test(df_test,df_control,\"Click\",\"Impression\")\n\n(result_df[\"p_value\"]>0.05).sum()","0600251f":"<font color = 'green'>\n    \n**This comparison tell us the new system is more applicable because it's mean is higher than old one**\n\n\n**Yet, we should ask this Question=> Is the difference of Means meaningfull statistically**","83b229fb":" <font color = 'green'>\n    \n **P-Value < 0.05, reject hypothesis, so two system have differences about ratio of click**\n    \n **It means, if it is started to use the new system, click\/impression will be increase**","df5e3901":" <font color = 'green'>\n    \n **P-Value > 0.05, fail to reject hypothesis, so the datas' variance are homogenius. Otherwise, would be used non-parametric test**","cf981b2e":" <font color = 'green'>\n    \n **P-Value > 0.05, fail to reject hypothesis, so the datas (control & test) are distributed normally. Otherwise, would be used non-parametric test**","a0f3222a":"<font color = 'green'>\n    \n# WHICH SYSTEM SHOULD WE CHOOSE?\n    \n **The A\/B Test provides statistically accurate decisions beyond choosing according to instinctive or rough calculations**\n    \n **To make this calculation, hypothesis tests are done by looking at the distribution of the data** ","82e35524":"<font color = 'green'>\n    \n**This comparison tell us the new system is more applicable because it's conversion is higher than old one**\n\n\n**Yet, we should ask this Question=> Is the difference of Click Rate meaningfull statistically**","50551226":"<font color = 'green'>\n    \n# Independent Two Sample T-Test\n\n**Assumptions for the test should be checked**\n1. Normally distributed data\n1. Homogeneity of variance  ","ce50a368":"<font color = 'green'>\n    \n**New System Click\/Impression Rate**","fd44b49e":"<font color = 'green'>\n    \n# Which System Enables More Purchases?\n    \n **Comparison of Purchase Means**","7e4c0d5e":"<font color = 'green'>\n    \n> **H0:Click Rate1-Click Rate2 = 0**\n    \n            \n<font color = 'green'>\n    \n> **H1:Click Rate1-Click Rate2 != 0**","8d253fa7":"<font color = 'green'>\n    \n**Old System Click\/Impression Rate**","86565981":"<font color = 'green'>\n    \n# Which System Enables More Click Rate?","5ce5b137":" <font color = 'green'>\n    \n **P-Value > 0.05, fail to reject hypothesis, so two system have differences about mean of purchase**\n    \n **It means, if it is started to use the new system, purchase will be increase**","c33135d0":"<font color = 'green'>\n    \n **Independent 2 Sample T-Test**\n\n\n\n<font color = 'green'>\n    \n> **H0:M1-M2=0**\n    \n            \n<font color = 'green'>\n    \n> **H1:M1-M2!=0**\n","66d72cbc":"<font color = 'green'>\n    \n**Variance Test** \n\n\n\n<font color = 'green'>\n    \n> **H0:Variances are all equal**\n    \n            \n<font color = 'green'>\n    \n> **H1:Variances are not all equal**\n","60a9a1fa":"<font color = 'green'>\n    \n**Normallity Test** \n\n\n\n<font color = 'green'>\n    \n> **H0:Normally Distributed**\n    \n            \n<font color = 'green'>\n    \n> **H1:Not Normally Distributed**\n","dbdd28a8":"<font color = 'green'>\n    \n# Two Sample Proportion Test"}}