{"cell_type":{"dba0a155":"code","4c1e43b5":"code","edc2539f":"code","fed0bded":"code","add53bba":"code","1afaddd5":"code","e109b4d3":"code","9984ebe0":"code","4a15441c":"code","4a80264e":"code","899c9335":"code","4d48e385":"markdown","545bbfbc":"markdown","5a1d4eff":"markdown","dbf8b416":"markdown"},"source":{"dba0a155":"!pip install chart_studio","4c1e43b5":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport chart_studio.plotly as py\nfrom pylab import *\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nfrom subprocess import check_output\nprint(check_output([\"ls\", \"..\/input\"]).decode(\"utf8\"))\n\n# Any results you write to the current directory are saved as output.\n\nfoot = pd.read_csv(\"..\/input\/epldata_final.csv\")\n\nparams = {'legend.fontsize': 'small',\n          'figure.figsize': (15, 5),\n         'axes.labelsize': 'x-large',\n         'axes.titlesize':'x-large',\n         'xtick.labelsize':'x-large',\n         'ytick.labelsize':'x-large'}\n\nplt.rcParams.update(params)\n","edc2539f":"foot.columns","fed0bded":"pl_under = foot[foot[\"age\"] <= 21]\n\n# Iterate over lang column in DataFrame\ndef count_u21(pl_under, *args): \n\n    # Initialize an empty dictionary for clubs \n    u21_dir = {}\n\n    # Iterate over column names in args\n    for col_name in args: \n    \n        # Extract column from DataFrame: col\n        col = pl_under[col_name]\n\n        for entry in col:\n\n            # If the club is in u21_count_clubs, add 1\n            if entry in u21_dir.keys():\n                u21_dir[entry] += 1\n            # Else add the club to u21_count_clubs, set the value to 1\n            else:\n                u21_dir[entry] = 1\n\n        # Print the populated dictionary\n        return u21_dir\n\nclubs_h = count_u21(pl_under,\"club\")\n\npl_e = pl_under.loc[:, [\"name\", \"club\", \"age\", \"position\", \"market_value\"]]\n# pl_e1 = pl_e(sorted(str('market_value')))\n# print(pl_e1)","add53bba":"clubs_p = count_u21(pl_under,\"position\")\nprint(clubs_p)","1afaddd5":"goalkeepers = clubs_p.get(\"GK\")\ndefenders = clubs_p.get(\"CB\")+clubs_p.get(\"LB\")+clubs_p.get(\"RB\")\nmidfielders =  clubs_p.get(\"CM\")+ clubs_p.get(\"AM\")+clubs_p.get(\"DM\")\nattackers =  clubs_p.get(\"CF\")+clubs_p.get(\"LW\")+clubs_p.get(\"RW\")+clubs_p.get(\"SS\")\n\nsum_pos = goalkeepers + defenders + midfielders + attackers\n\nprint(\"Goalkeepers: \" + str(goalkeepers))\nprint(\"Defenders: \" + str(defenders))\nprint(\"Midfielders: \" + str(midfielders))\nprint(\"Attackers: \" + str(attackers))\n\nd = dict(((k, eval(k)) for k in ('goalkeepers', 'defenders', 'midfielders', 'attackers')))\n\nplt.bar(d.keys(), d.values(), color='b')\n","e109b4d3":"print(clubs_h)","9984ebe0":"plt.bar(list(clubs_h.keys()), clubs_h.values(), color='b')\n\nplt.xlabel('Clubs')\nplt.ylabel('No. of players')\nplt.title(\"U21 distribution - Clubs\")\n\ndict_clubs = {\n    'Arsenal': 'ARS', \n    'Bournemouth': 'BOU', \n    'Chelsea': 'CHE', \n    'Crystal+Palace': 'CRY',\n    'Everton': 'EVE',\n    'Huddersfield': 'HUD', \n    'Leicester+City': 'LEI', \n    'Liverpool': 'LIV', 'Swansea'\n    'Machester+City': 'MCI',\n    'Manchester+United': 'MUN', \n    'Newcastle+United': 'NEW', \n    'Southampton': 'SOU',\n    'Stoke+City': 'STK', \n    'Swansea': 'SWA', \n    'Tottenham': 'TOT',\n    'Watford': 'WAT', \n    'West+Brom': 'WBA', \n    'West+Ham': 'WHU',\n}\n\nplt.xticks([i for i in range(len(dict_clubs.values()))] , dict_clubs.values())\n\nplt.show()","4a15441c":"under_21_big6 = foot[np.logical_and(foot[\"age\"] <= 21, foot[\"big_club\"] == 1)]\nclubs_top6 = count_u21(under_21_big6,\"club\")\nprint(clubs_top6)","4a80264e":"plt.bar(list(clubs_top6.keys()), clubs_top6.values(), color='b')\n\nplt.xlabel('Clubs')\nplt.ylabel('No. of players')\nplt.title(\"U21 distribution - TOP6\")\n\nplt.xticks([i for i in range(len(clubs_top6.values()))] , clubs_top6.keys() )\n\nplt.show()","899c9335":"for lab, row in under_21_big6.iterrows() :   \n    print(row[\"name\"] + \" play in \" + row[\"club\"])","4d48e385":"\n**Position distribution**","545bbfbc":"**TOP6**","5a1d4eff":"**Club distribution**","dbf8b416":"**EPL U-21 players distribution **"}}