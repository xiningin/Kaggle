{"cell_type":{"7faf3ccd":"code","9c63211d":"code","6f12cafe":"code","39e6d759":"code","c39ab3cb":"code","6d0c76db":"code","476e6a79":"code","4cc59c74":"code","eb3cf12d":"code","735c21df":"code","c5860ce7":"code","e7bbd1fc":"code","02774936":"code","bdfa46a0":"code","9a60daca":"code","2e0b9a0b":"code","dc649b7b":"code","63eb6577":"code","12988eaa":"code","a87da29a":"code","141290c6":"code","6c6205cb":"code","0ae0b5fa":"code","3cfd652b":"code","2be34f19":"code","9d33522b":"code","a4b99716":"code","b7da9aff":"code","765ee9c1":"code","87717ab6":"code","bf32e4db":"code","a08cffc6":"code","74b63ec5":"code","61d1a134":"code","619c45d5":"code","913d33c5":"code","9200cd93":"code","4c7eddd9":"code","486581e4":"code","f7b0e1ff":"code","c1e6e3a0":"code","1f58450b":"code","03b44750":"code","728e8d0d":"code","24f496bf":"code","8b919e67":"code","aa78d224":"code","58dfc82b":"code","2b859403":"code","b18da18f":"code","c66dd76b":"code","48843ce2":"code","45988907":"code","3a73abce":"code","f400f7e9":"code","7a1e1fb6":"code","a290a547":"code","91617b0d":"code","c9119a61":"code","eb57c10d":"code","0eed972b":"code","64efab82":"code","5f5c741c":"code","52eef386":"code","96109646":"code","2d6f99cd":"code","c3b5c07b":"code","8c7af4cd":"code","61b4300b":"code","c299e2ff":"code","8c4176f5":"code","fd190d1f":"code","3941358a":"code","11fbbda4":"code","f207423d":"code","52744489":"code","8c53c04b":"code","bb6d479f":"code","bd832586":"code","f1039e7b":"code","27544371":"code","b4dcfafb":"code","558cecba":"markdown","b0f66811":"markdown","38e8c4b9":"markdown","4ad67e62":"markdown","0a3fa023":"markdown","e9ea5cfc":"markdown","b074641c":"markdown","34f5b559":"markdown","578464f1":"markdown","eea6e383":"markdown","e39c6710":"markdown","774a101a":"markdown","2a192173":"markdown","b19c14cb":"markdown","5269f72c":"markdown","df43f3f6":"markdown","d828c84e":"markdown","81186209":"markdown","b9f0dc63":"markdown","a22efc08":"markdown","e2123e5f":"markdown","f12f5fa8":"markdown","f34581bb":"markdown","a69190ec":"markdown","34c9cd22":"markdown","bea67f60":"markdown","06a159af":"markdown","39832be4":"markdown","66d36c78":"markdown","f6812cda":"markdown","fdb67ab0":"markdown","6e0f0d99":"markdown","11dcf903":"markdown","d96809de":"markdown","d14c7f03":"markdown","150aa095":"markdown","5c83683a":"markdown","ff2d3b46":"markdown","020b9637":"markdown","c5356daa":"markdown","20f7bb05":"markdown","8ce25778":"markdown","4a0dd65f":"markdown","2319e238":"markdown","cde841b9":"markdown","d8280a31":"markdown","8195706a":"markdown","07383b6a":"markdown","a3f05b32":"markdown","59460ffb":"markdown","11644555":"markdown","3ab81fcc":"markdown","5b53198f":"markdown","8ee67fb7":"markdown"},"source":{"7faf3ccd":"import pandas as pd\nimport numpy as np\nimport seaborn as sb\nimport matplotlib.pyplot as plt\nfrom scipy import stats","9c63211d":"df  =pd.read_csv(\"..\/input\/datasetbig-market\/train.csv\")\ndf","6f12cafe":"import missingno as msno\nmsno.matrix(df)","39e6d759":"df.hist(edgecolor='black', linewidth=1.2, figsize=(20, 20))\nplt.show()","c39ab3cb":"df[\"Item_Identifier\"]","6d0c76db":"#make a new column for item code\n\nfor i in range(len(df)):\n    df.loc[i , \"Item_Code\"] = df.loc[i,\"Item_Identifier\"][:2]","476e6a79":"df[\"Item_Code\"]","4cc59c74":"df.info()","eb3cf12d":"# drop Item_Identifier\ndf  =df.drop([\"Item_Identifier\"] , axis =1)","735c21df":"df","c5860ce7":"## count the item_code and find unique values\ndf[\"Item_Code\"].value_counts()","e7bbd1fc":"sb.countplot(df[\"Item_Code\"])\nplt.grid()\nplt.show()\nprint(df[\"Item_Code\"].value_counts())","02774936":"plt.scatter(df[\"Item_Weight\"], df[\"Item_Outlet_Sales\"])","bdfa46a0":"sb.boxplot(df[\"Item_Weight\"])\nplt.grid()\nprint(df[\"Item_Weight\"].median())","9a60daca":"sb.distplot(df[\"Item_Weight\"].dropna())\nprint(df[\"Item_Weight\"].kurt())\nprint(df[\"Item_Weight\"].skew())\n","2e0b9a0b":"print(df[\"Item_Weight\"].isna().sum())\n\n\ndf[\"Item_Weight\"].fillna(df[\"Item_Weight\"].mean() ,  inplace = True)\n\nprint(df[\"Item_Weight\"].isna().sum())\n","dc649b7b":"sb.distplot(df[\"Item_Weight\"].dropna())\nprint(df[\"Item_Weight\"].kurt())\nprint(df[\"Item_Weight\"].skew())\n","63eb6577":"df[\"Item_Fat_Content\"].value_counts()","12988eaa":"plt.figure(figsize=(10,8))\nsb.heatmap(df.corr(), annot=True, cmap=\"RdYlGn\", annot_kws={\"size\":15})","a87da29a":"sb.countplot(df[\"Item_Fat_Content\"] , hue = df[\"Outlet_Size\"])","141290c6":"## mapping\nfat = {\n    \"Low Fat\":\"Low Fat\",\"Regular\":\"Regular\",\"low fat\":\"Low Fat\",\"LF\":\"Low Fat\",\"reg\":\"Regular\"\n}\n\ndf.loc[: , \"Item_Fat_Content\"] = df.loc[: , \"Item_Fat_Content\"].map(fat)","6c6205cb":"sb.countplot(df[\"Item_Fat_Content\"] , hue = df[\"Outlet_Size\"])\nprint(df[\"Item_Fat_Content\"].value_counts())","0ae0b5fa":"#### converting this category into numerical!\n## mapping\ncat = {\n    \"Low Fat\": 1,\"Regular\":0\n}\n\ndf.loc[: , \"Item_Fat_Content\"] = df.loc[: , \"Item_Fat_Content\"].map(cat)","3cfd652b":"### lets check the co-relation again\ndf.corr()","2be34f19":"df[\"Item_Visibility\"]","9d33522b":"sb.distplot(df[\"Item_Visibility\"])\nplt.show()\nprint(df[\"Item_Visibility\"].skew())","a4b99716":"sb.boxplot(df[\"Item_Visibility\"])","b7da9aff":"#### Lets remove the outliers\ncols = \"Item_Visibility\"\nhigh = 0.18\nlow = 0.0\ndf = df[(df[cols] > low) & (df[cols] < high)]","765ee9c1":"#### Lets check again\n\nsb.boxplot(df[\"Item_Visibility\"])","87717ab6":"sb.distplot(df[\"Item_Visibility\"])\nplt.show()\nprint(df[\"Item_Visibility\"].skew())","bf32e4db":"df[\"Item_Visibility\"] = np.log10(df[\"Item_Visibility\"])\ndf[\"Item_Visibility\"]","a08cffc6":"sb.distplot(df[\"Item_Visibility\"])\nplt.show()\nprint(df[\"Item_Visibility\"].skew())","74b63ec5":"df.corr()","61d1a134":"df[\"Item_Type\"]","619c45d5":"print(df[\"Item_Type\"].value_counts())\nsb.countplot(df[\"Item_Type\"])\nplt.xticks(rotation = 90)\nplt.show()","913d33c5":"food = {\n    \"Household\": \"Others\",\"Frozen Foods\":\"Snack Foods\" ,\"Dairy\":\"Snack Foods\", \"Canned\" : \"Snack Foods\", \"Soft Drinks\":\"Drinks\",\n  \"Hard Drinks\":\"Drinks\"  ,\"Starchy Foods\":\"Baking Goods\",\"Breads\":\"Baking Goods\",\"Meat\":\"Seafood\",\"Breakfast\":\"Fruits and Vegetables\",\n    \"Starchy Foods\":\"Baking Goods\",\"Fruits and Vegetables\":\"Fruits and Vegetables\",\"Snack Foods\":\"Snack Foods\",\"Baking Goods\":\"Baking Goods\",\n    \"Health and Hygiene\":\"Health and Hygiene\",\"Seafood\":\"Seafood\",\"Others\":\"Others\",\n}\n\ndf.loc[: , \"Item_Type\"] = df.loc[: , \"Item_Type\"].map(food)","9200cd93":"print(df[\"Item_Type\"].value_counts())\nsb.countplot(df[\"Item_Type\"])\nplt.xticks(rotation = 90)\nplt.grid()\nplt.show()","4c7eddd9":"encode = {\n    \"Snack Foods\":7 ,\"Fruits and Vegetables\":6,\"Others\":5,\"Baking Goods\":4,\"Drinks\":3,\"Health and Hygiene\":2,\"Seafood\":1\n}\n\ndf.loc[: , \"Item_Type\"] = df.loc[: , \"Item_Type\"].map(encode)","486581e4":"print(df[\"Item_Type\"].value_counts())\nsb.countplot(df[\"Item_Type\"])\nplt.xticks(rotation = 90)\nplt.grid()\nplt.show()","f7b0e1ff":"sb.pairplot(df )","c1e6e3a0":"sb.boxplot(df[\"Item_Type\"])","1f58450b":"df","03b44750":"df[\"Item_MRP\"].describe()","728e8d0d":"sb.distplot(df[\"Item_MRP\"])\nprint(\"Kurt\" , df[\"Item_MRP\"].kurt())\nprint(\"Skew\", df[\"Item_MRP\"].skew())\nplt.grid()\nplt.show()\n","24f496bf":"sb.boxplot(df[\"Item_MRP\"])","8b919e67":"print(\"Co-relation of sales and mrp is :\",stats.pearsonr(df[\"Item_Outlet_Sales\"] , df[\"Item_MRP\"])[0])","aa78d224":"plt.scatter(df[\"Item_MRP\"],df[\"Item_Outlet_Sales\"])\nplt.show()","58dfc82b":"df[\"Outlet_Identifier\"]","2b859403":"### No meaning here , lets drop this column\ndf =df.drop([\"Outlet_Identifier\"] , axis =1)","b18da18f":"df[\"Outlet_Establishment_Year\"]","c66dd76b":"plt.hist(df[\"Outlet_Establishment_Year\"])\nplt.grid()\nplt.show()","48843ce2":"print(\"Co-relation of sales and mrp is :\",stats.pearsonr(df[\"Item_Outlet_Sales\"] , df[\"Outlet_Establishment_Year\"])[0])","45988907":"sb.heatmap(df.corr() , cmap=\"RdYlGn\" , annot =True)","3a73abce":"sb.boxplot(df[\"Outlet_Establishment_Year\"])","f400f7e9":"sb.countplot(df[\"Outlet_Establishment_Year\"] , hue = df[\"Outlet_Size\"])","7a1e1fb6":"df","a290a547":"df[\"Outlet_Size\"].value_counts()\nsb.countplot(df[\"Outlet_Size\"])","91617b0d":"df[\"Outlet_Size\"].isna().sum()","c9119a61":"df[\"Outlet_Size\"].fillna(value = \"High\" , inplace = True)","eb57c10d":"sb.countplot(df[\"Outlet_Size\"] , hue = df[\"Item_Type\"])\nplt.grid()","0eed972b":"## we will encode it \nout = {\n    \"Medium\":2 , \"Small\":1,\"High\":3\n}\n\ndf.loc[: , \"Outlet_Size\"] = df.loc[: , \"Outlet_Size\"].map(out) ","64efab82":"df.corr()","5f5c741c":"sb.countplot(df[\"Outlet_Size\"] , hue = df[\"Item_Fat_Content\"])\nplt.grid()","52eef386":"print(df[\"Outlet_Location_Type\"].value_counts())\nsb.countplot(df[\"Outlet_Location_Type\"])","96109646":"sb.countplot(df[\"Outlet_Location_Type\"] , hue = df[\"Outlet_Size\"] )\nprint(\"Outlet size == 1 is medium size , 2 is small ,  3 is high\")","2d6f99cd":"mapp = {\n    \"Tier 3\" : 3 , \"Tier 2\":1 , \"Tier 1\":2\n}\ndf.loc[: , \"Outlet_Location_Type\"] = df.loc[: , \"Outlet_Location_Type\"].map(mapp)","c3b5c07b":"sb.countplot(df[\"Outlet_Location_Type\"] , hue = df[\"Outlet_Size\"] )\nprint(\"Outlet size == 1 is medium size , 2 is small ,  3 is high\")","8c7af4cd":"df.corr()","61b4300b":"sb.countplot(df[\"Outlet_Location_Type\"] , hue = df[\"Outlet_Establishment_Year\"] )","c299e2ff":"df","8c4176f5":"print(df[\"Outlet_Type\"].value_counts())\nsb.countplot(df[\"Outlet_Type\"])\nplt.xticks(rotation = 90)\nplt.grid()\nplt.show()","fd190d1f":"sb.countplot(df[\"Outlet_Type\"] , hue = df[\"Outlet_Location_Type\"])\nplt.xticks(rotation = 90)\nplt.show()\nprint(\"3 is tier 3 , 2 is tier 1 and 1 is tier 2\")","3941358a":"sb.countplot(df[\"Outlet_Type\"] , hue = df[\"Outlet_Establishment_Year\"])\nplt.xticks(rotation = 90)\nplt.show()","11fbbda4":"## map\ntypes = {\"Supermarket Type1\":4 , \"Supermarket Type2\":3 , \"Supermarket Type3\":2 , \"Grocery Store\":1\n    \n}\ndf.loc[: , \"Outlet_Type\"] = df.loc[: , \"Outlet_Type\"].map(types)","f207423d":"df","52744489":"df.corr()","8c53c04b":"df[\"Item_Code\"]","bb6d479f":"sb.countplot(df[\"Item_Code\"])","bd832586":"## map\ntypes = {\"FD\":3 , \"DR\":1 , \"NC\":2    \n}\ndf.loc[: , \"Item_Code\"] = df.loc[: , \"Item_Code\"].map(types)","f1039e7b":"sb.boxplot(df[\"Item_Code\"])","27544371":"df.corr()","b4dcfafb":"###############################################################################################################################","558cecba":"### Check any outlier ","b0f66811":"### As we can see , there are many first 2 letters same , I tried to split them and make a new column (Item_Code)","38e8c4b9":"### Count the unique item code and plot them !","4ad67e62":"#### Check unique counts and plot","0a3fa023":"### We can see , the high outlet area , has majority of the item !","e9ea5cfc":"#### Encode this item_type into numerical , and giving more value to high quantity item","b074641c":"### lets again check the distribution!","34f5b559":"## To get more profit ##\n\n## Load the outlet , with more regular food and make the outlet location in tier 2 (medium area) , and the outlet should be built after 2000","578464f1":"####  We can see there are more low fat product than regular , and hence it is related with outlet size ","eea6e383":"### We can see that  , outlet type contributes 50 % of location of outlet and 17 % in sales and 42 % with year\n### This is a good find , we can build tier 1 supermarket and can have more profit !","e39c6710":"### Now , lets go for Item Visibility ","774a101a":"#### Look into Outlet Size","2a192173":"#### Lets go for Outlet Identifier","b19c14cb":"#### I can see some outliers , lets find out","5269f72c":"#### Outlet location type depends 50% on Establishment year , and Establishment year depends 5 % on outlet area size","df43f3f6":"### lest go for Item Type","d828c84e":"### Check nan values","81186209":"### drop item_identifier column as we have already extracted the code info","b9f0dc63":"#### No oulier  , very clean !","a22efc08":"#### Lets go for Item MRP","e2123e5f":"#### Since , there are more than one category of same type in fat type , I renamed them to the original type","f12f5fa8":"### Lets plot and check our item weight !","f34581bb":"### Since , the high outlet area is less  ,let us fill the nan with high","a69190ec":"#### We can see , much item type are concentrated to the right of median (6)","34c9cd22":"#### Not much co-relation","bea67f60":"### We can see , we have FD , as the majority Item code ! , Is there any relation between this code and Item_Outlet_sales ? ,We will find it out later ","06a159af":"#### We can apply, log transformation and check the skewness again!","39832be4":"### Read Dataframe","66d36c78":"### Lets hop on to Item Fat Content","f6812cda":"#### It can be seen that , the outlet area holds equal proportion of fat(1) and regular item(0)","fdb67ab0":"#### though the outliers is removed , we can see that it is left skewed !","6e0f0d99":"### Check info of dataframe","11dcf903":"### Lets go for Location Type of Outlet","d96809de":"#### We can see , that outlet size contributes to 2 % of item sales","d14c7f03":"### Lets check Item Code","150aa095":"### We can see that ,Item Visibilty decreases with positive relation with Item Outlet Sales\n### hence ,we can conclude that \"As the product display area increases , we get more sales\"","5c83683a":"#### We can see , majority is in supermarket type 1","ff2d3b46":"#### Establishment year","020b9637":"# The Final Conclusion #","c5356daa":"#### lets combine many different food type into 'Fruits and Vegetables' , 'Sancks','Health and Hygiene','Drinks' etc","20f7bb05":"### Check the 1st column(Item_Identifier)","8ce25778":"### We can see , as item mrp increases , outlet sales increases ","4a0dd65f":"### Look at type of outlet","2319e238":"#### looks a little better","cde841b9":"## Item MRP accounts for 57 % for the total sales !\n## In Item type 14% accounts for fat food and 86% for regular food\n## Establishment year accounts for 50 % for choosing the loaction type ,and 42 % for choosing outlet type , where as outlet type depends on outlet location also with 53 % co-relation\n## outlet types accounts for 17 % of total sales !","d8280a31":"#### We can see clearly , The Item MRP accounts for more than 50 % of Item Outlet Sales , and Item Visibilty with 12 % ","8195706a":"#### Any outliers","07383b6a":"### In bad tier location , We have majority of outlet area( high outlet area)\n### This can be due to population living or more free space in tier 3 area","a3f05b32":"#### As the year increased . the area of outlet increased and then became constant ( Medium)","59460ffb":"### Import Libraries","11644555":"### Lets check some relation","3ab81fcc":"### Some Key definition\n#### Item Visibility -- The % of total display area of all products in a store allocated to the particular product\n#### Outlet size -- The size of the store in terms of ground area covered\n#### Outlet type -- Whether the outlet is just a grocery store or some sort of supermarket\n#### Item Outlet Sales --  Sales of the product in the particular store. This is the outcome variable to be predicted.\n#### Outlet location type -- \tThe type of city in which the store is located","5b53198f":"### No outliers in Item Weight !","8ee67fb7":"### Since , there is no skewness and kurt looks good ! , We shall fill the NaN values with  mean !"}}