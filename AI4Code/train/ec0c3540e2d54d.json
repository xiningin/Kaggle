{"cell_type":{"e22fa83e":"code","4201489d":"code","e4c018ff":"code","ced45c28":"code","e0b1e9b3":"code","07c8b927":"code","5a440017":"code","ee92c5c6":"code","585ece79":"code","300c1d02":"code","f7b729b2":"code","6c600e51":"code","12a73196":"code","d11595c5":"markdown","48e2a6e7":"markdown","1932198b":"markdown","590d2107":"markdown","5ab2e467":"markdown","80c2c2cf":"markdown","eac8ceaf":"markdown","c3a10ec4":"markdown","15f8f02d":"markdown","ad7fa1e8":"markdown","2995abdb":"markdown","0e934f3d":"markdown","5d20c188":"markdown","2df9de3b":"markdown","ecaf9216":"markdown","7007d3da":"markdown","cdf2a256":"markdown","183d5814":"markdown"},"source":{"e22fa83e":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport math\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","4201489d":"df = pd.read_csv('..\/input\/forest-fires-in-brazil\/amazon.csv', encoding='latin1')\ndf.tail()","e4c018ff":"df.drop('date', axis=1, inplace=True)\ndf.tail()","ced45c28":"df.month.replace('Janeiro', 'January',inplace=True)\ndf.month.replace('Fevereiro','February',inplace=True)\ndf.month.replace('Mar\u00e7o','March',inplace=True)\ndf.month.replace('Abril','April',inplace=True)\ndf.month.replace('Maio','May',inplace=True)\ndf.month.replace('Junho','June',inplace=True)\ndf.month.replace('Julho','July',inplace=True)\ndf.month.replace('Agosto','August',inplace=True)\ndf.month.replace('Setembro','September',inplace=True)\ndf.month.replace('Outubro','October',inplace=True)\ndf.month.replace('Novembro','November',inplace=True)\ndf.month.replace('Dezembro','December',inplace=True)\ndf.tail()","e0b1e9b3":"df['number'].describe()","07c8b927":"print('Max number of registered fires in a month: ',df['number'].max())\nprint('State: ',df[df['number'] ==  df['number'].max()]['state'].iloc[0])\nprint('Year: ',df[df['number'] ==  df['number'].max()]['month'].iloc[0])\nprint('Month: ',df[df['number'] ==  df['number'].max()]['year'].iloc[0])","5a440017":"queim_sum_m\u00eas = df.groupby(['month'], as_index=False).sum() \nqueim_sum_m\u00eas.drop('year',axis=1, inplace=True)\n\npiores_meses = queim_sum_m\u00eas[queim_sum_m\u00eas['number']>queim_sum_m\u00eas['number'].mean()+queim_sum_m\u00eas['number'].std()]\nprint('Worst months: ')\nfor i in range(len(piores_meses)):\n    print(piores_meses['month'].values[i])\n\nsns.catplot(x='month', y='number', kind='bar',data=df[['month','number']], aspect=5, estimator=sum);","ee92c5c6":"queim_sum_estados = df.groupby(['state'], as_index=False).sum()\nqueim_sum_estados.drop('year',axis=1, inplace=True)\n\n\nsns.catplot(x='state', y='number',data=df[['state','number']], kind='bar', aspect=5, estimator=sum);\n\npiores_estados = queim_sum_estados[queim_sum_estados['number']> queim_sum_estados['number'].mean() +queim_sum_estados['number'].std()]\nprint('Worst states: ')\nfor i in range(len(piores_estados)):\n    print(piores_estados['state'].values[i])","585ece79":"queim_sum_ano = df.groupby(['year'], as_index=False).sum() \n\npiores_anos = queim_sum_ano[queim_sum_ano['number']>queim_sum_ano['number'].mean() + queim_sum_ano['number'].std()]\nprint('Worst years: ')\nfor i in range(len(piores_anos)):\n    print(piores_anos['year'].values[i])\n\n\nplt.figure(figsize=[12,7])\nplt.xlim([1998, 2017])\nplt.title('Registered number of fires per year (sum of all entries)')\nsns.lineplot(x='year', y='number',data=queim_sum_ano);","300c1d02":"poly = np.polyfit(queim_sum_ano['year'],queim_sum_ano['number'],3)\nz = np.poly1d(poly)\n    \nanos = np.linspace(1998, 2017, 20)\n\nplt.figure(figsize=[12,7])\nplt.plot(anos, queim_sum_ano['number'], '-', label='Real data') \nplt.plot(anos,z(anos), '--', label='Fitted curve')\nplt.xlim([1998, 2017])\nplt.ylim([17000, 48000])\nplt.title('Fitting the real data into a curve (all registered years)')\nplt.legend()\nplt.show()","f7b729b2":"for i in range(2019,2024,1):\n    print(i, '->', math.trunc(z(i)))","6c600e51":"new_model = queim_sum_ano[queim_sum_ano['year']>2006]\npoly = np.polyfit(new_model['year'],new_model['number'],1)\nz = np.poly1d(poly)\n    \nanos = np.linspace(2007, 2017, 11)\n\nplt.figure(figsize=[12,7])\nplt.plot(anos, new_model['number'], '-', label='Real data') \nplt.plot(anos,z(anos), '--', label='Fitted curve')\nplt.xlim([2007, 2017])\nplt.ylim([17000, 48000])\nplt.title('Fitting the real data into a curve (years>2006)')\nplt.legend()\nplt.show()","12a73196":"for i in range(2019,2024,1):\n    print(i, '->', math.trunc(z(i)))","d11595c5":"Using the same approach, we define the states that are more affected by fire.","48e2a6e7":"We should change the month names to english.","1932198b":"Below, we can see the statiscal information about the reported number of fires","590d2107":"Predicting the number of fires:","5ab2e467":"It happened in the state of Amazonas. As we know, the state of Amazonas contains a large area of the amazon rainforest, therefore, is not surprise that the max number of fires has been reported in that state.","80c2c2cf":"Our statistical approach seems to work fine, since it is in accordance to the higher values of reported fire, therefore, filtering the lesser critical months.","eac8ceaf":"Let's see if can predict the number of fires in the incoming years using the data available.","c3a10ec4":"We can see a that the reported number of fires increased in a very fast rhythm until 2003, then it started to fall. But since 2008, this number started to increase again.","15f8f02d":"We can say that we achieved not so aggressive results. But, as we know, since the beginning of 2019 the number of fires in the amazon rainforest has increased again. Therefore, our model to predict the number of fires in the incoming years seems to be correct, unfortunately.","ad7fa1e8":"Here we can see the data available to analysis. Let's drop the 'date' column, as we can have that information about year and month in their own columns.","2995abdb":"We now analyse which months are worst using some basic statistics. We will define these months as the ones that have a reported number of fires higher than mean + standard deviation of the total number of fires.","0e934f3d":"As we can see, the max number of fires is 998. Let's discover where and when it happened.","5d20c188":"Although the mean number of reported fires is relatively low, the standard deviation is quite high. Suggesting that it changes over time. \n","2df9de3b":"Analysing the data, seems reasonable to fit it into a third degree polynomial function.","ecaf9216":"It is not very optimistic, is it? The third degree polynomial seems to be a bit aggresive, maybe, due to the earlier years of the data set and it fast increase. Let's use only the data after 2006, and fit it into a first degree polynomial function.","7007d3da":"Curiously, the state of Amazonia is not included in the list. Maybe the first information about Amazonia that we found is a \"outlier\" of the occurances in the state, and is not a good representation of what actually happens there.","cdf2a256":"At last, we see how the reported number of fires has changed over the years. We use the same statistical approach to define the worst ones.","183d5814":"The new prediction:"}}