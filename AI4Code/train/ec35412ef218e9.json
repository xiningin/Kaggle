{"cell_type":{"fe8f496d":"code","b4ef3da4":"code","d1462d67":"code","1659f9c4":"code","ae04134e":"code","9484239d":"code","bb173df5":"code","63488bcb":"code","f920251c":"code","4a0479a2":"code","9da821fb":"code","4cf55521":"code","19fcb100":"code","52b80cc2":"code","c7690d91":"code","0c8d111c":"code","f71154a6":"code","224ab99e":"code","83e1f63c":"code","82b05c2e":"code","52a4b7d4":"code","1b0e9f70":"code","39483f69":"code","4f84e6ee":"code","ffac5765":"code","8ca71816":"code","9f7115ca":"markdown","7c840148":"markdown","f67e8376":"markdown","5eaed773":"markdown","958ec28f":"markdown","3ce05c91":"markdown","2d726c70":"markdown","7c713108":"markdown","fcdc8f0c":"markdown","75e4570b":"markdown","cbbcc767":"markdown","6c15916c":"markdown","4eee2fea":"markdown","f60899a5":"markdown","50ff19c4":"markdown","43cb6383":"markdown","89a67a99":"markdown","49c33969":"markdown","f36cf17e":"markdown","9037b063":"markdown","2a470794":"markdown","a4ee1be7":"markdown","8bb6359a":"markdown"},"source":{"fe8f496d":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","b4ef3da4":"data=pd.read_csv(\"..\/input\/new-york-city-airbnb-open-data\/AB_NYC_2019.csv\")\ndata.head()","d1462d67":"data.isnull().sum()","1659f9c4":"data.drop([\"last_review\",\"reviews_per_month\"],axis=1,inplace=True)","ae04134e":"df=data.dropna()\ndf[[\"name\",\"host_name\"]].describe()","9484239d":"data.head()","bb173df5":"data.info()","63488bcb":"df=data.dropna()\nprint(len(np.unique(df[\"host_name\"])),len(np.unique(df[\"name\"])))","f920251c":"data[\"host_name\"]=data[\"host_name\"].fillna(\"Other\")","4a0479a2":"data[\"name\"]=data[\"name\"].fillna(\"NaN\")","9da821fb":"data.info()","4cf55521":"categorical=[\"name\",\"host_name\",\"neighbourhood_group\",\"neighbourhood\",\"room_type\"]\nnumerical=data.columns ^ categorical\nprint(numerical,categorical,sep=\"\\n\")","19fcb100":"data[numerical].describe()","52b80cc2":"data[categorical].describe().head(4)","c7690d91":"cols=[\"availability_365\",\"calculated_host_listings_count\",\"minimum_nights\",\"number_of_reviews\",\"price\"]\n\n\nsns.pairplot(data[cols])","0c8d111c":"# room_type\nfig,ax=plt.subplots(1,1,figsize=(9,6))\ndf=data[\"room_type\"]\nsns.countplot(df,ax=ax)\nax.set_title(\"Room_Type\");\ntotal=df.shape[0]\n\nfor p in ax.patches:\n    percentage = '{:.1f}%'.format(100 * p.get_height()\/total)\n    x = p.get_x() + p.get_width() \/ 2 - 0.05\n    y = p.get_y() + p.get_height()\n    ax.annotate(percentage, (x, y),size=12)\n    \nax.set_title(\"Room-Type\"+\" ( Total \"+str(total)+\" )\");\n","f71154a6":"fig,ax=plt.subplots(1,1,figsize=(9,4))\nsns.stripplot(y=\"price\",data=data,x=\"room_type\");\nax.set_title(\"Room-Type\");","224ab99e":"fig,ax=plt.subplots(1,1,figsize=(12,5))\n\ndf=data\nsns.countplot(df[\"neighbourhood_group\"],ax=ax);","83e1f63c":"fig,ax=plt.subplots(5,2,figsize=(15,18));\ncols=np.unique(data[\"neighbourhood_group\"])\nlabels=np.unique(data[\"room_type\"])\nindex=0\nexplode=[0.1]*3\n\nfor i in range(5):\n  ax[i][0].set_title(cols[index],fontsize=19);\n  ax[i][1].set_title(cols[index],fontsize=19);\n  df=data.loc[data[\"neighbourhood_group\"]==cols[index]]\n  sns.countplot(df[\"room_type\"],ax=ax[i][0],order=labels)\n  total_room_types=df[\"room_type\"].shape[0]\n  sizes=[df.loc[df[\"room_type\"]==i].shape[0]\/total_room_types for i in labels]\n  ax[i][1].pie(sizes, explode=explode, labels=labels, autopct='%1.1f%%',\n        shadow=True, startangle=90)  \n\n  index+=1\n\n\nfig.tight_layout();\n\n","82b05c2e":"sns.boxplot(df[\"price\"])","52a4b7d4":"fig,ax=plt.subplots(1,1,figsize=(8,4))\n\ndf=data.loc[data[\"price\"]<500]\nsns.violinplot(\"neighbourhood_group\",\"price\",data=df,ax=ax)","1b0e9f70":"fig,ax=plt.subplots(3,2,figsize=(25,20))\ndf=data.loc[data[\"price\"]<500]\n\nindex=0\nfor r in range(3):\n    for c in range(2):\n        if(index==5):\n            break\n        ddf=df.loc[df[\"neighbourhood_group\"]==cols[index]]\n        ax[r][c].set_title(cols[index],fontsize=24)\n        ax[r][c].xaxis.set_tick_params(labelsize=22)\n        ax[r][c].yaxis.set_tick_params(labelsize=22)\n        \n\n        for i in range(3):\n            sns.distplot(ddf.loc[ddf[\"room_type\"]==labels[i]][\"price\"],label=labels[i],ax=ax[r][c])\n        index+=1    \n\n\nax[-1, -1].axis('off')\n\nfig.legend(labels,fontsize=21);\n\n\nax[0][0].plot([70,70 ],[0,0.025],\"r--\",alpha=0.6);\n\nax[0][1].plot([70,70 ],[0,0.025],\"r--\",alpha=0.6);\n\nax[1][0].plot([105,105 ],[0,0.025],\"r--\",alpha=0.6);\n\nax[1][1].plot([70,70 ],[0,0.025],\"r--\",alpha=0.6);\n\nax[2][0].plot([60,60 ],[0,0.025],\"r--\",alpha=0.6);","39483f69":"#min nights\n# df=data.loc[data[\"minimum_nights\"]<730]\nsns.stripplot(y=data[\"minimum_nights\"])","4f84e6ee":"fig,ax=plt.subplots(1,1,figsize=(9,4))\nsns.stripplot(y=\"minimum_nights\",data=data,x=\"room_type\");\nax.set_title(\"Room-Type\");\nplt.ylim([-1,570])","ffac5765":"fig,ax=plt.subplots(1,1,figsize=(9,4))\nsns.stripplot(y=\"minimum_nights\",data=data,x=\"neighbourhood_group\");\nax.set_title(\"Room-Type\");\nplt.ylim([0,570])","8ca71816":"fig,ax=plt.subplots(1,3,figsize=(25,5))\nmap_cols=[\"neighbourhood_group\",\"room_type\",\"availability_365\"]\nfor i in range(3):\n  ax[i].set_title(map_cols[i],fontsize=21)\n  sns.scatterplot(hue=map_cols[i],x=\"latitude\",y=\"longitude\",data=data,ax=ax[i])","9f7115ca":"last_review and reviews_per_month seems to have very much null values. So let's drop this column.","7c840148":"#                        AirBnB\n### Data Analysis and visualization\n<img src=\"https:\/\/i.gifer.com\/7lI8.gif\" width=\"400\" height=\"500\">\n","f67e8376":"Create a two lists\n1. **categorical** : contains names of categorical columns\n2. **numerical** : contains names of numerical columns","5eaed773":"* **minimum_nights**: 75% value  is 5 but max value is 1250 so it contains some high outliers.\n* **price**: Price seems an avg of 152 but it also have some outliers (it is expected though).\n* **availability_365**: It seems to have lesser vairance but here value 0 is 25% times.","958ec28f":" it seems useful to use price less than 500 as it have some high value outliers.","3ce05c91":"it shows our data is more considerate in range 0 -  570","2d726c70":"# Plot with latitude and longitude\nhere, different classes are used for classification purpose which is plot on nyc map","7c713108":"In manhattan and brooklyn airbnb is used very much as compare to others.\n\n\n---\n\n## neighbourhood_group with room_type\nHere, it shows every neighbourhood_group with counts of different room_types. ","fcdc8f0c":"the important features will be\n**min_nights, neighbourhood_group, number_of_review,room_type,calculated_host_listings_count**","75e4570b":"In NYC, **Entire home\/apt room_type** is in very much use .\n**Private room** have little lower counts but not so much lower tha entier home\/apt  . It seems that shared room us not much popular in nyc.","cbbcc767":"\n\n---\n\n# Price","6c15916c":"### neighbourhood_group with minimum_nights","4eee2fea":"* Entier home\/apt type have high variance in price.\n* Private room seems to have lower number of outliers.\n* Shared room have lowest variance.","f60899a5":"<hr>\n\n### Room Types with minimum_nights","50ff19c4":"\n\n---\n\n# Min_nights","43cb6383":"**host_name and name** have many NaN values let us fill them with some other strings. Dropping these rows will not be useful.","89a67a99":"## Price distribution in neighbourhood_group with room _types\nIt shows distribution of prices with room types in different neighbourhood groups.\nRed line denotes the common price where all types of rooms are available in specific neighbourhood group. ","49c33969":"\n\n---\n\n### Price Range in diiferent neighbourhood_groups","f36cf17e":"* Red line  are common price at which we can get evey room_type in specific areas\n\n* in some places shared rooms seems to have lower prices while entire\/home apt have high prices in all palces\n* pvt room have avg prices and in state island there are in high numbers","9037b063":"* for classification analysis **neighbourhood_group and room_type** are good feature.\n* **name and  host_name** does not seems to be much useful.","2a470794":"other than manhattan all neighbourhood group follows the same pattern","a4ee1be7":"* Data seems to be more variant\n* availability_365 with price have large number of oytliers\n* number of reviews is more as prices is low\n\n\n---\n# ROOM TYPE\n there are 3 types of rooms in our dataset and these are \n 1. **Private room**\n 2. **Entire home\/apt**\n 3. **Shared room**","8bb6359a":"\n\n---\n\n# Neighbourhood_Group\nThere are 5 neighbourhood_group in this dataset and these are:\n1. Brooklyn\n2. Manhattan\n3. Queens\n4. Staten Island\n5. Bronx\n"}}