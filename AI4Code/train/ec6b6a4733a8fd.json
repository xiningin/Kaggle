{"cell_type":{"b249bac6":"code","7cb721ae":"code","6d922635":"code","13ab1c46":"code","d9dd46e5":"code","78d37bf1":"code","44ab5999":"code","d2dba70f":"code","5aa26f0a":"code","5ae67f64":"code","2ed95a3a":"code","dcb1081d":"code","21a6ec38":"code","3d34b715":"code","9f004349":"code","e6cf7210":"code","4e2f74b5":"code","105bf797":"code","730345e7":"code","19f023c8":"code","2f13eba0":"code","aef295cd":"code","e1c1a9d1":"code","96ed9e00":"code","021ea73b":"code","a4caa52e":"code","f20da782":"code","82594fb8":"code","a1640ac6":"code","d2268318":"code","6847ba60":"code","da0e769b":"code","dfbd11ae":"code","bb6a3491":"code","0959f752":"code","911ebe13":"code","7d653d03":"code","967c2aa3":"code","e611c5fd":"code","50ffbbfb":"code","e5152f75":"code","c6c54286":"code","651ca73b":"code","93097d3e":"code","c77a46da":"code","64388cec":"code","205c10d6":"code","c667b51a":"code","7e8cbaa4":"code","a6028f7c":"code","a6fb18d5":"code","d0c2612c":"code","20206386":"code","daf165ad":"markdown"},"source":{"b249bac6":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.model_selection import train_test_split\n# import warnings\n# warnings.filterwarnings(\"ignore\")\nimport matplotlib.pyplot as plt\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.metrics import classification_report,confusion_matrix,plot_roc_curve,accuracy_score\npd.set_option('display.max_columns',None)#to make all columns visible\nfrom sklearn.neighbors import KNeighborsClassifier\nfrom sklearn.naive_bayes import GaussianNB\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","7cb721ae":"df=pd.read_csv(\"\/kaggle\/input\/employee-attrition\/HR-Employee-Attrition.csv\")","6d922635":"df.head()","13ab1c46":"df.shape","d9dd46e5":"df.isna().count()","78d37bf1":"df['Age'].value_counts()","44ab5999":"df['Attrition']=np.where(df['Attrition']=='Yes',1,0)","d2dba70f":"df.columns","5aa26f0a":"df.info()","5ae67f64":"df['YearsWithCurrManager'].nunique()","2ed95a3a":"df['NumCompaniesWorked'].nunique()","dcb1081d":"df['JobSatisfaction'].value_counts()","21a6ec38":"df['DistanceFromHome']","3d34b715":"df.groupby('Education').EducationField.value_counts()","9f004349":"df.groupby('Department').EmployeeCount.value_counts()","e6cf7210":"df['MonthlyRate'].value_counts()","4e2f74b5":"df.groupby('Department').JobRole.value_counts()","105bf797":"df['MonthlyRate'].nunique()","730345e7":"df.head()","19f023c8":"rates=df[['MonthlyRate','DailyRate','HourlyRate']]\nrates.corr()","2f13eba0":"final_ds=df.drop(['EmployeeCount', 'Over18', 'StandardHours', 'EmployeeNumber'],axis=1)","aef295cd":"final_ds.shape","e1c1a9d1":"df_category_columns = final_ds.select_dtypes(exclude=np.number).columns\ndf_category_columns","96ed9e00":"encoded_df  = pd.DataFrame(data = pd.get_dummies(df[df_category_columns], drop_first=False),index=final_ds.index)","021ea73b":"encoded_df.shape","a4caa52e":"encoded_df.head()","f20da782":"final_ds.drop(df_category_columns,axis=1,inplace=True)\nfinal_ds.head()","82594fb8":"final_concat_df=pd.concat([final_ds,encoded_df],axis=1)\nfinal_concat_df.shape","a1640ac6":"x=final_concat_df.drop('Attrition',axis=1)\ny=final_concat_df['Attrition']","d2268318":"x.shape,y.shape","6847ba60":"sc=StandardScaler()\nsc.fit(x)","da0e769b":"x_scaled=pd.DataFrame(data=sc.transform(x),columns=x.columns)\nx_scaled.head()","dfbd11ae":"x_train,x_test,y_train,y_test=train_test_split(x,y,test_size=0.3,random_state=123)","bb6a3491":"y_train.value_counts()","0959f752":"def metrics(y_test,y_pred):\n    print('Confusion Matrix:\\n', confusion_matrix(y_test, y_pred))\n    print('\\n\\nAccuracy Score:\\n', accuracy_score(y_test, y_pred))\n    print('\\n\\nClassification Report: \\n', classification_report(y_test, y_pred))","911ebe13":"lg=LogisticRegression(max_iter=10000)\n","7d653d03":"lg.fit(x_train,y_train)","967c2aa3":"train_pred=lg.predict(x_train)\ntest_pred=lg.predict(x_test)","e611c5fd":"metrics(y_train,train_pred)","50ffbbfb":"knn=KNeighborsClassifier(n_neighbors=5,n_jobs=-1)\nknn.fit(x_train,y_train)","e5152f75":"knn_train_pred=knn.predict(x_train)\nknn_test_pred=knn.predict(x_test)","c6c54286":"metrics(y_train,knn_train_pred)","651ca73b":"metrics(y_test,knn_test_pred)","93097d3e":"NB=GaussianNB()\nNB.fit(x_train,y_train)","c77a46da":"train_pred_nb=NB.predict(x_train)\ntest_pred_nb=NB.predict(x_test)","64388cec":"metrics(y_train,train_pred_nb)","205c10d6":"metrics(y_test,test_pred_nb)","c667b51a":"error_rate=[]\n\n# Will take some time\nfor i in range(1,40):\n    \n    knn = KNeighborsClassifier(n_neighbors=i, n_jobs=-1)\n    knn.fit(x_train,y_train)\n    pred_i = knn.predict(x_test)\n    error_rate.append(np.mean(pred_i != y_test))\n","7e8cbaa4":"plt.figure(figsize=(10,6))\nplt.plot(range(1,40),error_rate,color='blue', linestyle='dashed', marker='o',\n         markerfacecolor='red', markersize=10)\nplt.title('Error Rate vs. K Value')\nplt.xlabel('K')\nplt.ylabel('Error Rate')","a6028f7c":"knn = KNeighborsClassifier(n_neighbors=10,n_jobs=-1)\n\nknn.fit(x_train, y_train)","a6fb18d5":"train_pred_knn = knn.predict(x_train)\n\ntest_pred_knn = knn.predict(x_test)","d0c2612c":"metrics(y_train,train_pred_knn)","20206386":"metrics(y_test,test_pred_knn)","daf165ad":"plot_roc_curve(lg,x_train,y_train)"}}