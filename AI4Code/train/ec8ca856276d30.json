{"cell_type":{"bfe55796":"code","954e406c":"code","8877e004":"code","cd4b70b7":"code","2b0424a2":"code","544c7590":"code","9cfb0720":"code","fa67879a":"code","5faecf66":"code","402ffcfd":"code","153a5e08":"code","4a819a4e":"code","f150ed25":"code","ca85a3f0":"code","702d4976":"code","8643f12b":"code","2e4dcc95":"code","c29c7552":"code","06eecae3":"code","f8725460":"code","62257364":"code","862525b8":"code","177ae20e":"code","53d71113":"code","1c7b38a9":"code","3eedef54":"code","839e8c9c":"code","82ebb589":"code","8e349a97":"markdown","cb3d5e9d":"markdown","0be2532d":"markdown","40c296fe":"markdown","42b0f407":"markdown","8fe0341f":"markdown","af7a22e6":"markdown","7f92a66a":"markdown","ca723269":"markdown","7eb4093c":"markdown"},"source":{"bfe55796":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline","954e406c":"loans = pd.read_csv('..\/input\/loan_data.csv')","8877e004":"loans.info()","cd4b70b7":"loans.head()","2b0424a2":"plt.figure(figsize=(10,6))\nloans[loans['credit.policy']==1]['fico'].hist(alpha=0.5,color='blue',\n                                              bins=30,label='Credit.Policy=1')\nloans[loans['credit.policy']==0]['fico'].hist(alpha=0.5,color='red',\n                                              bins=30,label='Credit.Policy=0')\nplt.legend()\nplt.xlabel('FICO')","544c7590":"plt.figure(figsize=(10,6))\nloans[loans['not.fully.paid']==1]['fico'].hist(alpha=0.5,color='blue',\n                                              bins=30,label='Paid =1')\nloans[loans['not.fully.paid']==0]['fico'].hist(alpha=0.5,color='red',\n                                              bins=30,label='Not Paod=0')\nplt.legend()\nplt.xlabel('FICO')","9cfb0720":"plt.figure(figsize=(11,7))\nsns.countplot(x=loans['purpose'] , hue=loans['not.fully.paid'], palette='Set1')","fa67879a":"sns.jointplot(x='fico',y='int.rate',data=loans,color='purple')","5faecf66":"sns.lmplot(x='fico', y='int.rate', data=loans, hue='credit.policy' , col='not.fully.paid')","402ffcfd":"loans.info()","153a5e08":"cat_feats = ['purpose']","4a819a4e":"final_data = pd.get_dummies(loans,columns=cat_feats , drop_first=True)","f150ed25":"final_data.head()","ca85a3f0":"X = final_data.drop('not.fully.paid' , axis=1)\ny = final_data['not.fully.paid']","702d4976":"from sklearn.model_selection import train_test_split\nX_train,X_test,y_train,y_test = train_test_split(X,y , test_size=0.3 , random_state=101)","8643f12b":"from sklearn.tree import DecisionTreeClassifier","2e4dcc95":"dtree = DecisionTreeClassifier()","c29c7552":"dtree.fit(X_train,y_train)","06eecae3":"y_pre = dtree.predict(X_test)","f8725460":"from sklearn.metrics import classification_report,confusion_matrix","62257364":"print(classification_report(y_test,y_pre))","862525b8":"print(confusion_matrix(y_test,y_pre))","177ae20e":"from sklearn.ensemble import RandomForestClassifier","53d71113":"rfc = RandomForestClassifier(n_estimators=900)","1c7b38a9":"rfc.fit(X_train,y_train)","3eedef54":"y_pred = rfc.predict(X_test)","839e8c9c":"from sklearn.metrics import classification_report,confusion_matrix","82ebb589":"print(classification_report(y_test,y_pred))","8e349a97":"## Converting Catagorical Features into Dummies for Sklearn","cb3d5e9d":"## Training Our Data into Random Forest model\n\n","0be2532d":"# Importing Libraries\n","40c296fe":"## Train Test Split\n","42b0f407":"# Exploratory Data Analysis\n","8fe0341f":"## Predictions and Evaluation\n","af7a22e6":"## Predictions and Evaluation of Decision Tree\n","7f92a66a":"# Getting Data","ca723269":"## Training Our Data into Descision Tree Model\n","7eb4093c":"\n___\n# LendingClub Project Using Descison Tree and Random Forest\n\nLending Club website Estimation of customers whether they will pay th loan or not\n\nHere are what the columns represent:\n* credit.policy: 1 if the customer meets the credit underwriting criteria of LendingClub.com, and 0 otherwise.\n* purpose: The purpose of the loan (takes values \"credit_card\", \"debt_consolidation\", \"educational\", \"major_purchase\", \"small_business\", and \"all_other\").\n* int.rate: The interest rate of the loan, as a proportion (a rate of 11% would be stored as 0.11). Borrowers judged by LendingClub.com to be more risky are assigned higher interest rates.\n* installment: The monthly installments owed by the borrower if the loan is funded.\n* log.annual.inc: The natural log of the self-reported annual income of the borrower.\n* dti: The debt-to-income ratio of the borrower (amount of debt divided by annual income).\n* fico: The FICO credit score of the borrower.\n* days.with.cr.line: The number of days the borrower has had a credit line.\n* revol.bal: The borrower's revolving balance (amount unpaid at the end of the credit card billing cycle).\n* revol.util: The borrower's revolving line utilization rate (the amount of the credit line used relative to total credit available).\n* inq.last.6mths: The borrower's number of inquiries by creditors in the last 6 months.\n* delinq.2yrs: The number of times the borrower had been 30+ days past due on a payment in the past 2 years.\n* pub.rec: The borrower's number of derogatory public records (bankruptcy filings, tax liens, or judgments)."}}