{"cell_type":{"b7f21692":"code","8284575e":"code","553bb5a9":"code","35f621eb":"code","1179482f":"code","ccb610f0":"code","847526a8":"code","3dd58d34":"code","1b46d77d":"code","f6abe1df":"code","e5dcd200":"code","365b5792":"code","97ff6e02":"code","0cd29327":"code","75292218":"markdown","0729797a":"markdown","66a52df8":"markdown","3e4e178a":"markdown","8d251659":"markdown","09e98096":"markdown","a0475720":"markdown","5f41554e":"markdown","43ddfdc4":"markdown"},"source":{"b7f21692":"import pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom scipy.stats import kurtosis, skew, stats\nfrom math import sqrt\nfrom numpy import mean, var","8284575e":"data = pd.read_csv(\"..\/input\/insurance2.csv\")\nprint(data.head())","553bb5a9":"print(\"Summary Statistics of Medical Costs\")\nprint(data['charges'].describe())\nprint(\"skew:  {}\".format(skew(data['charges'])))\nprint(\"kurtosis:  {}\".format(kurtosis(data['charges'])))\nprint(\"missing charges values: {}\".format(data['charges'].isnull().sum()))\nprint(\"missing smoker values: {}\".format(data['smoker'].isnull().sum()))","35f621eb":"f, axes = plt.subplots(1, 2)\nsns.kdeplot(data['charges'], bw=10000, ax=axes[0])\nsns.boxplot(data['charges'], ax=axes[1])\nplt.show()","1179482f":"#prepare our 2 groups to test\nsmoker = data[data['smoker']==1]\nnon_smoker = data[data['smoker']==0]","ccb610f0":"plt.title('Distribution of Medical Costs for Smokers Vs Non-Smokers')\nax = sns.kdeplot(smoker['charges'], bw=10000, label='smoker')\nax = sns.kdeplot(non_smoker['charges'], bw=10000, label='non-smoker')\nplt.show()","847526a8":"plt.title('Distribution of Medical Costs for Smokers Vs Non-Smokers')\nax = sns.boxplot(x=\"smoker\", y=\"charges\", data=data)","3dd58d34":"statistic, pvalue = stats.ttest_ind(non_smoker['charges'], smoker['charges'], equal_var = False)\nprint(\"2 sample, 2 sided t-test pvalue:  {} t-stat: {}\".format(pvalue,statistic))","1b46d77d":"# function to calculate Cohen's d for independent samples\ndef cohend(d1, d2):\n\tn1, n2 = len(d1), len(d2)\n\ts1, s2 = var(d1, ddof=1), var(d2, ddof=1)\n\ts = sqrt(((n1 - 1) * s1 + (n2 - 1) * s2) \/ (n1 + n2 - 2))\n\tu1, u2 = mean(d1), mean(d2)\n\treturn (u1 - u2) \/ s\n\t\nd = cohend(smoker['charges'], non_smoker['charges'])\nprint(\"cohen's d:  {}\".format(d))","f6abe1df":"plt.title(\"BMI Versus Charges\")\nax = sns.scatterplot(x=\"bmi\", y=\"charges\", data=data)\nplt.show()","e5dcd200":"data.bmi.corr(data.charges)","365b5792":"def corr_converge(data=data):\n    for i in range(0,60000,1000):\n        data_new = data[data['charges'] >= i]\n        print(\"lower bound: {} \\t correlation coefficient: {} \\t number of observations: {}\".format(i,data_new.bmi.corr(data_new.charges),len(data_new)))\n        pass\n    \ncorr_converge()","97ff6e02":"data_new = data[data['charges']>=21000]\nplt.title(\"BMI Versus Charges Greater Than 21000\")\nax = sns.scatterplot(x=\"bmi\", y=\"charges\", data=data_new)\nplt.show()","0cd29327":"data_new.bmi.corr(data_new.charges)","75292218":"The scatterplot and correlation coefficient both reveal that bmi and charges have a very weak correlation.  However, for charges larger than a specified amount, there might be a stronger correlation.","0729797a":"**Objective:**  The objective of this analysis is to determine whether smokers have statistically higher mean individual medical costs billed by health insurance than do non-smokers.  Furthermore, is a person's BMI correlated with individual medical costs billed by health insurance?","66a52df8":"There are 1338 observations in this dataset.  Both the boxplot and kernel density estimation plot reveal that the charges data is right skewed.  Furthermore, there are some outliers but no missing charges and smoker values.","3e4e178a":"**Results:**  Smokers have statistically higher mean individual medical costs billed by health insurance than do non-smokers.  Furthermore, a person's BMI is correlated with charges amounts greater than or equal to 21,000 USD.  Thus, for this group as bmi increases so does the individual medical costs billed by health insurance.","8d251659":"**Objective Part 2:**  Is a person's BMI correlated with individual medical costs billed by health insurance?","09e98096":"The boxplots and kernel density estimation plots reveal that the 2 datasets are likely different.","a0475720":"**Objective Part 1:**  Do smokers have statistically higher mean individual medical costs billed by health insurance than do non-smokers?","5f41554e":"Results from the 2 sample, 2 sided t test indicate that non-smokers have significantly less mean individual medical costs billed by health insurance than do smokers.  Furthermore, Cohen's D indicates that the difference between the means is more than 3 standard deviations which is interpreted as a large effect size.","43ddfdc4":"After examining the convergence of correlation coefficients, I looked at charges larger than 21,000 USD. The scatterplot and correlation coefficient reveal a \"moderate\" positive relationship between bmi and charges larger than 21,000 USD."}}