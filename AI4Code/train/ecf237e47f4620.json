{"cell_type":{"ff0554f0":"code","4d076f5d":"code","5fcf1e69":"code","44b3a8f8":"code","b2ccad74":"code","d5b7676b":"code","0c4923bb":"code","9920755e":"code","1c1c40ff":"code","9e08aadf":"code","a74ea314":"code","930f56f1":"code","257bfe6b":"code","7393b146":"code","775d47d7":"code","4f325e6f":"code","1c3904fe":"code","ac3e170a":"code","f9310c06":"code","ee7f4f12":"markdown","d254eb17":"markdown","27ca03d8":"markdown","ed0c1253":"markdown","0b0acc73":"markdown","f03ff0ec":"markdown","a1490c9b":"markdown","058cd678":"markdown","ac5ec394":"markdown","75c3eea8":"markdown","8a5f7522":"markdown"},"source":{"ff0554f0":"import numpy as np \nimport pandas as pd\nimport seaborn as sb\nimport matplotlib.pyplot as plt\nfrom matplotlib import rcParams\nimport plotly.express as px\nfrom plotly.subplots import make_subplots\nimport plotly.graph_objects as go\nfrom plotly.offline import iplot\nimport cufflinks \ncufflinks.go_offline()\ncufflinks.set_config_file(world_readable=True, theme='pearl')\nplt.style.use('fivethirtyeight')\n\n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","4d076f5d":"data_15 = pd.read_csv('..\/input\/world-happiness\/2015.csv')\ndata_16 = pd.read_csv('..\/input\/world-happiness\/2016.csv')\ndata_17 = pd.read_csv('..\/input\/world-happiness\/2017.csv')\ndata_18 = pd.read_csv('..\/input\/world-happiness\/2018.csv')\ndata_19 = pd.read_csv('..\/input\/world-happiness\/2019.csv')","5fcf1e69":"data_19.sample(n=3)","44b3a8f8":"data_19.describe()","b2ccad74":"data_19.info()","d5b7676b":"list(data_19.columns)","0c4923bb":"data_19.rename(columns={'Country or region':'Country', 'Freedom to make life choices':'Freedom'}, inplace=True)\ndata_18.rename(columns={'Country or region':'Country', 'Freedom to make life choices':'Freedom'}, inplace=True)\ndata_17.rename(columns={'Happiness.Rank':'Overall rank', 'Happiness.Score':'Score',\n                       'Economy..GDP.per.Capita.':'GDP per capita', 'Health..Life.Expectancy.':'Healthy life expectancy',\n                       'Trust..Government.Corruption.':'Percenptions of corruption'}, inplace=True)\ndata_16.rename(columns={'Happiness Rank':'Overall rank', 'Happiness Score':'Score',\n                       'Economy (GDP per Capita)':'GDP per capita', 'Health (Life Expectancy)':'Healthy life expectancy',\n                       'Trust (Government Corruption)':'Percenptions of corruption'}, inplace=True)\ndata_15.rename(columns={'Happiness Rank':'Overall rank', 'Happiness Score':'Score',\n                       'Economy (GDP per Capita)':'GDP per capita', 'Health (Life Expectancy)':'Healthy life expectancy',\n                       'Trust (Government Corruption)':'Percenptions of corruption'}, inplace=True)","9920755e":"data_19.groupby('Country')['Overall rank']\\\n.sum().sort_values(ascending=True).to_frame().reset_index().head(20)\\\n.style.set_properties(**{'background-color':'orange', 'color':'white', 'border-color':'white'}, subset=['Overall rank'])\\\n.set_properties(**{'background-color':'crimson', 'color':'white', 'border-color':'white'}, subset=['Country'])","1c1c40ff":"top19 = data_19.groupby('Country')['Score'].sum().sort_values(ascending=False).to_frame().reset_index().head(10)\ntop18 = data_18.groupby('Country')['Score'].sum().sort_values(ascending=False).to_frame().reset_index().head(10)\ntop17 = data_17.groupby('Country')['Score'].sum().sort_values(ascending=False).to_frame().reset_index().head(10)\ntop16 = data_16.groupby('Country')['Score'].sum().sort_values(ascending=False).to_frame().reset_index().head(10)\ntop15 = data_15.groupby('Country')['Score'].sum().sort_values(ascending=False).to_frame().reset_index().head(10)","9e08aadf":"# f, axes = plt.subplots(3, 2, figsize=(17,17), sharex=False)\n\n# fig_15 = sb.barplot(x='Country', y='Score', data=top15, ax=axes[0,0])\n# fig_15.set_xticklabels(fig_15.get_xticklabels(), rotation=45)\n# fig_15.set_title('2015')\n\n# fig_16 = sb.barplot(x='Country', y='Score', data=top16, ax=axes[0,1])\n# fig_16.set_xticklabels(fig_16.get_xticklabels(), rotation=45)\n# fig_16.set_title('2016')\n\n# fig_17 = sb.barplot(x='Country', y='Score', data=top17, ax=axes[1,0])\n# fig_17.set_xticklabels(fig_17.get_xticklabels(), rotation=45)\n# fig_17.set_title('2017')\n\n# fig_18 = sb.barplot(x='Country', y='Score', data=top18, ax=axes[1,1])\n# fig_18.set_xticklabels(fig_18.get_xticklabels(), rotation=45)\n# fig_18.set_title('2018')\n\n# fig_19 = sb.barplot(x='Country', y='Score', data=top19, ax=axes[2,0])\n# fig_19.set_xticklabels(fig_19.get_xticklabels(), rotation=45)\n# fig_19.set_title('2019')\n\n# f.tight_layout()","a74ea314":"fig = make_subplots(rows=3, cols=2, subplot_titles=('Year 2015', 'Year 2016', 'Year 2017', 'Year 2018', 'Year 2019'), vertical_spacing=0.1)\n\nfig.add_trace(go.Bar(x=top15['Country'], y=top15['Score'], name='Year 2015'), row=1, col=1)\n\nfig.add_trace(go.Bar(x=top16['Country'], y=top16['Score'], name='Year 2016'), row=1, col=2)\n\nfig.add_trace(go.Bar(x=top17['Country'], y=top17['Score'], name='Year 2017'), row=2, col=1)\n\nfig.add_trace(go.Bar(x=top18['Country'], y=top18['Score'], name='Year 2018'), row=2, col=2)\n\nfig.add_trace(go.Bar(x=top19['Country'], y=top19['Score'], name='Year 2019'), row=3, col=1,)\n\nfig.update_layout(height=1350, template='ggplot2', showlegend=False, title='Top 10 Countries with Happiest People')","930f56f1":"# data_15[['Country', 'GDP per capita']].sort_values(by='GDP per capita', ascending=False).head(20)\\\n# .iplot(x='Country', y='GDP per capita',\n#        kind='bar', color='red',\n#        title='GDP\/capita 2015 top 20 Countries', xTitle='Country',\n#        yTitle='GDP per capita')\n\n# data_16[['Country', 'GDP per capita']].sort_values(by='GDP per capita', ascending=False).head(20)\\\n# .iplot(x='Country', y='GDP per capita',\n#        kind='bar', color='green',\n#        title='GDP\/capita 2016 top 20 Countries', xTitle='Country',\n#        yTitle='GDP per capita')\n\n# data_17[['Country', 'GDP per capita']].sort_values(by='GDP per capita', ascending=False).head(20)\\\n# .iplot(x='Country', y='GDP per capita',\n#        kind='bar', color='blue',\n#        title='GDP\/capita 2017 top 20 Countries', xTitle='Country',\n#        yTitle='GDP per capita')\n\n# data_18[['Country', 'GDP per capita']].sort_values(by='GDP per capita', ascending=False).head(20)\\\n# .iplot(x='Country', y='GDP per capita',\n#        kind='bar', color='pink',\n#        title='GDP\/capita 2018 top 20 Countries', xTitle='Country',\n#        yTitle='GDP per capita')\n\n# data_19[['Country', 'GDP per capita']].sort_values(by='GDP per capita', ascending=False).head(20)\\\n# .iplot(x='Country', y='GDP per capita',\n#        kind='bar', color='purple',\n#        title='GDP\/capita 2019 top 20 Countries', xTitle='Country',\n#        yTitle='GDP per capita')","257bfe6b":"gdp15 = data_15[['Country', 'GDP per capita']].sort_values(by='GDP per capita', ascending=False).head(20)\ngdp16 = data_16[['Country', 'GDP per capita']].sort_values(by='GDP per capita', ascending=False).head(20)\ngdp17 = data_17[['Country', 'GDP per capita']].sort_values(by='GDP per capita', ascending=False).head(20)\ngdp18 = data_18[['Country', 'GDP per capita']].sort_values(by='GDP per capita', ascending=False).head(20)\ngdp19 = data_19[['Country', 'GDP per capita']].sort_values(by='GDP per capita', ascending=False).head(20)","7393b146":"fig = make_subplots(rows=3, cols=2, subplot_titles=('Year 2015', 'Year 2016', 'Year 2017', 'Year 2018', 'Year 2019'))\n\nfig.add_trace(go.Bar(x=gdp15['Country'], y=gdp15['GDP per capita'], name='Year 2015'), row=1, col=1)\n\nfig.add_trace(go.Bar(x=gdp16['Country'], y=gdp16['GDP per capita'], name='Year 2016'), row=1, col=2)\n\nfig.add_trace(go.Bar(x=gdp17['Country'], y=gdp17['GDP per capita'], name='Year 2017'), row=2, col=1)\n\nfig.add_trace(go.Bar(x=gdp18['Country'], y=gdp18['GDP per capita'], name='Year 2018'), row=2, col=2)\n\nfig.add_trace(go.Bar(x=gdp19['Country'], y=gdp19['GDP per capita'], name='Year 2019'), row=3, col=1,)\n\n\nfig.update_layout(height=1400, template='ggplot2', showlegend=False, title='GDP\/Capita of Top 10 Countries')","775d47d7":"data_19[data_19['Country'].isin(['United States'])]","4f325e6f":"data_19[['Country', 'Healthy life expectancy']].sort_values(by='Healthy life expectancy', ascending=False).head(20)\\\n.style.set_properties(**{'background-color':'crimson', 'color':'white', 'border-color':'white'}, subset=['Country'])\\\n.set_properties(**{'background-color':'orange', 'color':'white', 'border-color':'white'}, subset=['Healthy life expectancy'])","1c3904fe":"data_19[['Country', 'Healthy life expectancy']].iplot(kind='line', x='Country', y='Healthy life expectancy', title='Healthy life expectancy (2019)',\n                                                     xTitle='Country', yTitle='HLE')","ac3e170a":"hle_20 = data_19[['Country', 'Healthy life expectancy']].sort_values(by='Healthy life expectancy', ascending=False).head(20)\nfig = px.scatter(hle_20, 'Country', 'Healthy life expectancy', color='Country', size='Healthy life expectancy')\nfig.update_layout(showlegend=False, template='ggplot2', title='Healthy life expectancy in top 20 countries(2019)')","f9310c06":"fig = px.treemap(data_19, path=['Country'], values='Healthy life expectancy', color='Country', hover_data=['Healthy life expectancy'])\nfig.update_layout(title='Treemap of HLE 2019')","ee7f4f12":"<h1 id='top10' style='font-family:Verdana;'>\n    Top 10 Countries Year Wise\n    <a class=\"anchor-link\" href=\"#top10\">\u00b6<\/a>\n<\/h1>","d254eb17":"<p style=\"font-family:verdana;\">Work in progress...<\/p>","27ca03d8":"<h1 style=\"font-family:Verdana;\">\n    <center>World Happiness Report<\/center>\n<\/h1>\n<span style=\"font-family:cursive; color:green; font-size:17px;\"><center>be kind<\/center><\/span>\n\n<hr>","ed0c1253":"<p style=\"font-family:verdana;\">Lets take a look at the world map of Healthy Life Expectancy. Countries with bigger dots have greater healthy life expectancy and vice-versa.<\/p>","0b0acc73":"![Screenshot%202020-08-12%20at%204.29.19%20PM.png](attachment:Screenshot%202020-08-12%20at%204.29.19%20PM.png)","f03ff0ec":"<h1 id='loading' style='font-family:Verdana;'>\n    Loading Data\n    <a class=\"anchor-link\" href=\"#loading\">\u00b6<\/a>\n<\/h1>","a1490c9b":"<h1 id='gdp' style='font-family:Verdana;'>\n    GDP per capita\n    <a class=\"anchor-link\" href=\"#gdp\">\u00b6<\/a>\n<\/h1>","058cd678":"<p style=\"font-family:verdana;\">Finland jumped to rank one after year 2017 with highest happiness score among all the countries in the world. We can also see Switzerland slipping down the slope since 2015.<\/p>","ac5ec394":"<h1 id='hle' style='font-family:Verdana;'>\n    Healthy Life Expectancy\n    <a class=\"anchor-link\" href=\"#hle\">\u00b6<\/a>\n<\/h1>","75c3eea8":"<p style=\"font-family:Verdana; word-spacing:1.5px\">In this notebook, we are going to explore the <span style=\"color:crimson;\">WHR (World Happiness Report)<\/span> and find out different factors affecting the happiness of people in different countries. We will use plotly visualizations for a better understanding of our findings. So, without any further ado, lets begin:<\/p>","8a5f7522":"<div style=\"color:white;\n           display:fill;\n           border-radius:5px;\n           background-color:#5642C5;\n           font-size:110%;\n           font-family:Verdana;\n           letter-spacing:0.5px\">\n\n<p style=\"padding: 10px;\n          color:white;\"><i>Finland<\/i> is often ranked number one for being the happiest country in the world, as the Finns have high incomes, health care for all, and a top education system. Finland is famous for it's stunning Lapland, the northern lights, Saunas, wife carrying, quirky food and for being the home of Santa Claus.\n<\/p>\n<\/div>"}}