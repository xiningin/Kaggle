{"cell_type":{"beda9190":"code","27ddd90d":"code","8ec2c96c":"code","c15cd776":"code","c4495fe2":"code","b31c2c13":"code","26f71481":"code","52572635":"code","ed6f2501":"code","cd010981":"code","e1753b46":"code","ccf47d87":"code","b995f20e":"code","1b8e7581":"code","be28324d":"code","69b2ed7f":"code","76f61f85":"markdown","861395f5":"markdown","fc180c4c":"markdown","30f5b26f":"markdown","24be2cf6":"markdown","d5eea523":"markdown","67971d71":"markdown","624416ac":"markdown","68d69c69":"markdown","054027eb":"markdown","03c803b1":"markdown","ef590409":"markdown","dedbf462":"markdown","ee265e55":"markdown","7b5f3b32":"markdown","22015fc1":"markdown","c2059186":"markdown","c8f299fa":"markdown","acb5fa06":"markdown","8c56d6cf":"markdown","66e5b261":"markdown","fab9c950":"markdown","629b723e":"markdown","cf443e36":"markdown","846c6348":"markdown","c3a88e5d":"markdown","bfa862ac":"markdown","e0c9d8c8":"markdown","2c654081":"markdown","67478caa":"markdown","09829032":"markdown","6c093213":"markdown","1ce041e6":"markdown","81c0dc4f":"markdown","57a809f1":"markdown","0ea0ecef":"markdown","95ea40b6":"markdown","fa23234b":"markdown","8730ba74":"markdown","fd30afa5":"markdown"},"source":{"beda9190":"#import toolkits to run and analyse data \nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","27ddd90d":"#import the dataset\nos.chdir('\/kaggle\/input\/buildingdatagenomeproject2')\nos.listdir()","8ec2c96c":"#Read two of the client's datasets - solar energy production & weather datafile \n\nsolar = pd.read_csv(\"solar_cleaned.csv\")\nweather = pd.read_csv(\"weather.csv\")\n","c15cd776":"#Create two new columns (Hour & Month) and its value into the solar energy production dataset\n\nsolar['Datetime'] = pd.to_datetime(solar['timestamp']) \nsolar['Hour'] = solar['Datetime'].dt.strftime('%H')\nsolar=solar.set_index('Datetime')\nsolar['month']=solar.index.month\n","c4495fe2":"#Extract the required columns from the two datasets\n\nclient_weather_temp = weather.loc[weather['site_id'] == \"Bobcat\", ['timestamp' , 'airTemperature']]\nclient_solar = solar.loc[:,['timestamp' , 'Bobcat_education_Alissa' , 'Hour' , 'month']]\n","b31c2c13":"#Concatenate the two datasets above into a new dataset for comparison\n\nleft = client_weather_temp.set_index(['timestamp'])\nright = client_solar.set_index(['timestamp'])\nclient_data = pd.concat([left, right], axis=1)","26f71481":"#Rename column from Bobcat_education_Alissa to Solar_Reading for easy reference\n\nclient_data=client_data.rename({'Bobcat_education_Alissa':'Solar_Reading'}, axis=1)","52572635":"#Truncate client's dataset to the period of Sep to Dec 2016 \n\nclient_data=client_data.sort_index().truncate(before='2016-09-01 00:00:00', after='2016-12-31 23:00:00')\n\nclient_data","ed6f2501":"#Reading of the correct reference dataset, correct_solar for short.\ncorrect_solar = pd.read_csv('\/kaggle\/input\/SolarEnergy\/SolarPrediction.csv')","cd010981":"#Modification of the correct dataset\n\ncorrect_solar=correct_solar.rename({'Data':'Date'}, axis=1)\ncorrect_solar['date']=correct_solar['Date'].str.split(' ').str.get(0)\ncorrect_solar['Datetime'] = pd.to_datetime(correct_solar['date'].apply(str)+' '+correct_solar['Time']) #Datetime column is of type datetime64\ncorrect_solar['Hour_Minute'] = correct_solar['Datetime'].dt.strftime('%H:%M')\ncorrect_solar['Hour'] = correct_solar['Datetime'].dt.strftime('%H')\ncorrect_solar['Datetime']=sorted(correct_solar['Datetime']) ## date column was not sorted\n\ncorrect_solar=correct_solar.drop(columns=['UNIXTime', 'Date', 'date', 'Time'])\ncorrect_solar=correct_solar.set_index('Datetime')\n\ncorrect_solar['month']=correct_solar.index.month\n\ncorrect_solar","e1753b46":"#Plot solar reading against temperature\nplt.figure(figsize=(24,8))\nsns.barplot(x=client_data['airTemperature'].round(decimals=0),y=client_data['Solar_Reading'])\nplt.xlabel('Temperature (C)')\nplt.ylabel('Solar Reading (kW\/h)')\nplt.title('Alissa_Solar Reading versus Temperature')\nplt.show()","ccf47d87":"#Plot solar radiation against temperature\nplt.figure(figsize=(12,8))\nsns.barplot(x=correct_solar['Temperature'],y=correct_solar['Radiation'])\nplt.xlabel('Temperature (F)')\nplt.ylabel('Radiation (W\/m2)')\nplt.title('Correct_Solar Radiation versus Temperature')\nplt.show()","b995f20e":"#Scope our dataset from September to December\nplt.rcParams['figure.figsize'] = (16,8)\nmonths = np.arange(9,13)\nrad_vs_month=client_data.loc[:, ['Solar_Reading', 'month']].groupby('month').sum()\nrad_vs_month.plot()\nplt.xticks(months,['September', 'October', 'November', 'December'], rotation=30)\nplt.show()","1b8e7581":"#Scope our dataset from September to December\nplt.rcParams['figure.figsize'] = (16,8)\nmonths = np.arange(9,13)\nrad_vs_month=correct_solar.loc[:, ['Radiation', 'month']].groupby('month').sum()\nrad_vs_month.plot()\nplt.xticks(months,['September', 'October', 'November', 'December'], rotation=30)\nplt.show()","be28324d":"#Take hourly mean of the dataset. Plot solar reading against hours in a day. \nrad_vs_hour=client_data.loc[:, ['Solar_Reading', 'Hour']].groupby('Hour').mean()\nrad_vs_hour.plot(kind='bar')\nplt.xlabel('Time of the day (hour)')\nplt.ylabel('Solar Reading (kW\/h)')\nplt.title('Solar Reading per hour of the day')\nplt.show()","69b2ed7f":"#Take hourly mean of the dataset. Plot solar radiation against hours in a day. \nrad_vs_hour=correct_solar.loc[:, ['Radiation', 'Hour']].groupby('Hour').mean()\nrad_vs_hour.plot(kind='bar')\nplt.xlabel('Time of the day (hour)')\nplt.ylabel('Radiation(W\/m2)')\nplt.title('Total Radiation per hour of the day')\nplt.show()","76f61f85":"### 3.1 Comparing Solar Reading\/Radiation vs Temperature \n\nFirstly, we compare solar reading\/radiation alongside temperature. Logically speaking, solar reading should increase as temperature increases. This is applicable to sunny days during winter too, isn't it? Hence we expect to see a generally smooth upwards graph trend when plotted. ","861395f5":"## Table of Contents\n* [Section 1: Introduction](#introduction)\n* [Section 2: Configuring Notebook & Dataset](#section-two)\n* [Section 3: Comparisons & Findings](#section-three)\n* [Section 4: Our Suspicions](#section-four)\n* [Section 5: Conclusion](#conclusion)\n* [Section 6: Credit & References](#credit)","fc180c4c":"### 4.3 Process Error","30f5b26f":"The above shows the modified dataset we will be using for Alissa. We will be looking at its hourly recorded temperature and solar reading from Sep 2016 to Dec 2016.  ","24be2cf6":"**Now that we have completed the 3 graph comparisons, namely temperature, seasons and per hour in a day, we can safely conclude that there is something fishy about dataset for Alissa as its solar reading hardly make sense.** \n\n**Although we were engaged to evaluate building Alissa's potential to reach net-zero energy goal, we may have more critical things to prioritise. On this note, we aim to provide some possible reasons for the illogical readings and suggest what could be done for further investigation.**","d5eea523":"### 4.1 Equipment Error","67971d71":"#### 3.2.2 Correct Reference Graph ","624416ac":"### 3.2 Comparing Solar Reading\/Radiation vs Seasons\n\nSecondly, we compare solar reading\/radiation with the change in seasons. Logically speaking, solar energy reading trend should gradually fall from Sep to Dec due to change in seasons from as autumn (Sep) to winter (Dec). Since autumn begins after summer, given the temperature change for the seasons, we expect to see the trend to start at the highest point and gradually fall as winter approaches in Dec.  ","68d69c69":"#### 3.1.1 Alissa's Graph","054027eb":"#### 3.3.2 Correct Reference Graph","03c803b1":"#### 4.1.1 Faulty Solar PV System \nWe suspect that components of the solar PV system may be faulty. For example, the inverters in the solar PV system may be malfunctioning, hence direct current (DC) electricity that the solar panels generated may be converted at varying efficiencies into alternating current (AC) electricity for usage.  Thus, this may have lead to unusual solar energy production [2]. There may also be poor connections in the wiring of the PV system, where loose connections, corrosion and oxidation of the wires may have interfered with the consistency and accuracy of solar energy production [3].\n\nTo verify if this suspicion is true, we can raise this issue to the solar PV company and engage their after-sales service. They would be able to advise if the solar PV system is faulty or not. For example, for the inverter suspicion, the inverter should be equipped with indicator lights and an orange\/red light may suggest that there is a problem [4]. \n","ef590409":"<a id=\"introduction\"><\/a>\n# Section 1: Introduction\nWe are going to plot 3 different graphs below to help understand & visualise how exactly the dataset for building Alissa is unusual and erroneous. We will compare Alissa's findings to a project with a different dataset with similar features as a reference to show what would be considered logical. \n\nTo ensure a fair comparsion, below are some of the requirements set:\n1. Time period must be between Sep to Dec 2016\n2. Both dataset must come from similar geographical area, timezone or climate.\n\nThis reference is a previously completed project at Hawaii [1], which is geographically near building Alissa (US\/Europe). The dataset has solar radiation & weather data file, and time period for 4 months, from Sep to Dec 2016. This overlaps with building Alissa's data collection period, which is from Jan 2016 to Dec 2017.  \n\nBoth graphs may have attributes of different units of measurement but the attributes still possess equal meaning to it. e.g. building Alissa measures for solar energy production in kWh while the reference project measures for solar radiation in kW\/m2. \n\nTo simplify, Solar Radiation = Solar Reading\n\nThe ultimate purpose is to compare the trends from the respective graphs and understand where & possibly why is the data for building Alissa abnormal.","dedbf462":"#### 4.3.1 Existence of Coding Bugs \nThe unusual dataset may be caused by bugs in the codes or software. Majority of software bugs are caused by flaws and errors in a program's design or source code, or in operating systems used by such programs. As such, inaccurate or unexpected data may be generated. Residual software bugs in these systems can also lead to high severity failures such as data losses [5].\n\nWe may be able to investigate this by checking the codes and software used during data cleaning and processing. However, we can only provide this service after having the relevant & exact program that was used to run the data. We may also check this information on-site. ","ee265e55":"The above shows the correct reference dataset as mentioned earlier. For comparison sake, we are only interested in its solar radiation, temperature, hour and month columns. ","7b5f3b32":"### 3.3 Comparing Hourly Solar Reading\/Radiation \n\n*We save the best for the last, or rather the most shocking observation among all.*\n\nLastly, we compare the value of solar reading\/radiation per hour in a day. Solar reading\/radiation is expected during the day. Logically speaking, the solar radiation\/reading should be near zero when the sun has set. There may be a low number recorded at night, possibly due to lamps. Nevertheless, it will be a negligible value. \n\nHence, we anticipate a shape similar to a normal distribution. As the sun rises, solar reading\/radiation should increase until reaching the peak during noon, and gradually falling as the evening approaches. During nighttime, solar reading\/radiation should be zero, or at least near zero. ","22015fc1":"<a id=\"conclusion\"><\/a>\n# Section 5: Conclusion \nTo conclude, we have visualised how the dataset for Alissa is abnormal. We do have some preliminary guesses and suspicions to account for the strange observations and it is critical that we investigate further. To be on the safe side, this review and investigation may be extended to other energy datasets and buildings under Bobcat Education.  \n\nHence, these findings and investigation process can be a framework for other buildings under Bobcat Education. This is so especially after such a major erroneous pattern is discovered for building Alissa. Similar issues may be presented in other buildings as well but not realised yet due to lack of review by professionals. \n\nIn addition, this report can be used as a guide for other types of renewable energy sources. For example, should there be strange data observed, the possible reasons outlined here may be a starting point to shed insight into their own situation. Thereafter, investigating further and taking appropriate verification steps to account for their own unusual data.","c2059186":"### 2.1 Notebook\nFirst, we import the dataset as well as the necessary packages and codes to run and analyse the data later. ","c8f299fa":"### 2.3 Correct Reference Dataset\nWe compare the Alissa dataset to the correct reference dataset from Hawaii as mentioned earlier. We import this dataset we are going to use for our reference and make some modifications for better visualisation and comparison.","acb5fa06":"<a id=\"section-two\"><\/a>\n# Section 2: Configuring Notebook & Dataset","8c56d6cf":"### 2.2 Alissa Dataset\nFor this section, we define the scope to run the cleaned solar energy production meter data & the weather data file for building Alissa. ","66e5b261":"#### 3.3.1 Alissa's Graph","fab9c950":"The graph displays the logical trend that we are expecting to see:\n* As the sun rises in the morning, solar radiation gradually increases.\n* In the afternoon, solar radiation is at its peak. \n* As the evening\/night approaches, solar radiation gradually falls.  ","629b723e":"#### 4.2.1 Data Collection by Facility Management Professionals  \nIt was provided that the data for building Alissa was collected by facility management professionals manually. This is done through through site visits, physical meetings, video calls and emails. \n\nIt is unknown whether the personnel who recorded the meter data were trained and knowledgeable in this data collection process. They lack the relevant expertise regarding solar PV system and manual recording of the data. This may lead to the severe mistake in recording the meter on a daily basis and hence irregularities as presented above. \n","cf443e36":"#### 4.2.2 Mix-up the Input of Meter Readings\nAnother suspicion is that the facility management professionals may have inputted the meter readings for solar energy production under another meter reading input. For example, this solar reading may in fact be electricity consumption but the personnel recorded it as solar reading instead.  \n\nThis can be verified by plotting all the dataset for building Alissa as well as other buildings to identify if there are any mix up of meter readings. If there is a mix-up, the data inputted for another meter reading should present irregularities, or reflect the expected patterns as shown by the correct reference dataset.  ","846c6348":"#### 3.2.1 Alissa's Graph","c3a88e5d":"The hourly mean solar reading is taken for Alissa's graph. From the graph above, there are a few bizarre observations made: \n* Solar energy is recorded at every hour, even past midnight.\n* Solar reading peaks when the sun has not even risen at 02:00 hours, nor set at 23:00 hours.\n* At noon, where solar reading should be the highest is instead lower than most of the readings at other timings.","bfa862ac":"From the graph above, we expect to see the solar reading to start off at a higher point with a downward trend as winter approaches. However, this was not the case. Instead, some errorneous observations as follows:\n* The trend started off at a lower point although summer was right before autumn. \n* Instead of a downward trend from October, the solar reading spikes at October and dips in December.","e0c9d8c8":"This is what we were expecting to see. The correct graph generally displays a smooth upwards trend. As temperature rises, so does the solar radiation recorded increases. \n\nLet's break it down further and zoom into what are the key trends we're comparing: \n* Solar radiation reading tends to be lower at colder temperatures\n* Solar radiation reading generally increases as the temperature rises ","2c654081":"<a id=\"section-four\"><\/a>\n# Section 4: Our Suspicions\nThe following section aim to present some of our suspicions & possible reasons as to why Alissa data has turn out as such in the above. These points serve to be a guide hence further investigation is required. We will also advise some of the steps that can be taken to verify the problem.  \n","67478caa":"#### 4.1.2 Faulty Meter \nMeter reading of the solar energy production data may be damaged\/defective, hence producing solar readings regardless the time in a day. \n\nOne of most straightforward methods is to engage the professional who was in charge of the sales & installation of the meter. The professional should be able to evaluate whether the meter is fine or faulty.","09829032":"<a id=\"section-three\"><\/a>\n# Section 3: Comparisons & Findings \n\nNow that we're ready to plot the 3 graphs mentioned earlier, let's take a look at the comparisons and findings below of Alissa and the correct reference dataset.","6c093213":"In fact, we may take a look at Alissa's electricity bills for the past 2 years to see if there is a reduction. We assume that the solar energy produced is used to power some parts of the building Alissa. By checking the electricity bills, we may investigate if the solar panel is faulty or not. For example, if there is little to no reduction in the bills, it may mean that the solar PV system is faulty to begin with. However, if there is significant reduction, the solar PV system is probably working and we may focus on other possible reasons. \n","1ce041e6":"# Solar Energy Findings for Bobcat Education Alissa \n**[T2] Group Members:** Henry Lai Jing Hong, Jocelle Kuek Chien Wen, Thong Wei Qing Valery, Yang Zi An \n\n*Task:* https:\/\/www.kaggle.com\/claytonmiller\/buildingdatagenomeproject2\/tasks?taskId=6304","81c0dc4f":"Since this dataset was collected in Hawaii, we are expecting only two seasons: \n1. Summer which is between May and October, and \n1. Winter which is between October and April. \n\nThe graph shows the trend of solar radiation following the change in seasons from summer to winter. We observe that the graph begins at higher points which reflects the summer season. From October onwards, solar radiation gradually falls as winter approaches. This downward trend was what we hoped to see in Alissa's dataset. ","57a809f1":"#### 4.3.2 Meter not reading Solar Energy Production \nWe suspect that perhaps the meter reading may not recording the amount of solar energy production. Based on the pattern of the graph, one possibility of such an occurrence would be that the meter could have recorded other readings such as humidity instead. Relative humidity is usually higher at night and in the early morning, dropping as the sun rises, until it is lowest just after midday. This observation is quite similar to the readings from the hourly graph plotted in Section 3.3.1.\n\nThis can be verified by engaging the professional who was in charge of the sales & installation of the meter. The professional should be able to evaluate whether the meter is reading solar energy production.","0ea0ecef":"From the graph above, we observe that the solar reading is very inconsistent against the temperature range. It seems at though at colder temperatures, solar reading is higher. This is totally different from what we would expect - an upward trend of solar reading as temperature rises. \n\nSome obvious errors can be spotted: \n* At -13.0 degree celsius, an extremely high solar reading of over 250 kWh is recorded. \n* At 31.0 degree celsius, solar reading is barely 50 kWh.","95ea40b6":"#### 3.1.2 Correct Reference Graph\n","fa23234b":"### 4.2 Human Error ","8730ba74":"<a id=\"credit\"><\/a>\n# Section 6: Credit & References \n[1] NASA Space Apps Challenge Hackathon Dataset. (2017). https:\/\/www.kaggle.com\/dronio\/SolarEnergy\n\n[2] STABLE SOLAR. (2019, June 10). Help \u2013 My Solar Panels Are Not Working Anymore. Retrieved from: https:\/\/www.stablesolar.com\/blog\/help-my-solar-panels-are-not-working-anymore\n\n[3] WINAICO \u00ae. (n.d). 11 COMMON SOLAR PANEL DEFECTS AND HOW TO AVOID THEM. \nRetrieved from: https:\/\/www.winaico.com\/blog\/common-solar-panel-defects\/\n\n[4] sunrun. (n.d.). How Can I Tell If My Solar Panels Are Working? \nRetrieved from: https:\/\/www.sunrun.com\/go-solar-center\/solar-articles\/how-can-i-tell-if-my-solar-panels-are-working\n\n[5] Domenico. C, Luigi. D. S, Pietro. L, Roberto. N, Nematollah. B. (2019, July 19). How Bad Can a Bug Get? An Empirical Analysis of Software Failures in the OpenStack Cloud Computing Platform. \nRetrieved from: https:\/\/arxiv.org\/pdf\/1907.04055.pdf\n","fd30afa5":"## Scenario\n*Bobcat Education has successfully piloted their 'Solar Alissa' Project, with the installation of solar panels on their newest educational building, Alissa. After collecting 2 years' worth of data, they are keen to evaluate whether Alissa is close to the goal of becoming a net-zero energy building. Bobcat Education has engaged an energy consulting firm, Energy Bearer, for this purpose. This notebook illustrates our results and presentation to the client, Bobcat Education.* \n\nUnfortunately, Energy Bearer may have to be a bearer of bad news this time. While analysing the solar energy meter data, we have found some **really baffling observations** that has to be brought up to you. We will get there in a short while. "}}