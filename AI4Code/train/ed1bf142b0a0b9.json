{"cell_type":{"c071c8a7":"code","900bf507":"code","3755495b":"code","bf739d92":"code","097e16cb":"code","da5f4c02":"code","9b31a664":"code","827480aa":"code","7f2cb0eb":"code","395143e1":"code","831d2ee9":"code","75751141":"code","d576ad03":"code","8e08aa53":"code","244387c0":"code","bb73de3a":"code","b300072a":"code","c5aa2adf":"code","a3bf3a02":"code","61b18400":"code","9a03b4a5":"code","0e550f4e":"code","9400de44":"markdown","b334dcee":"markdown","87574774":"markdown","f028e3e8":"markdown"},"source":{"c071c8a7":"!pip install seaborn==0.11.0 # upgrading seaborn library to use newer plots and features!!","900bf507":"!pip install --upgrade pip","3755495b":"#Packages Import\n\n#Data processing#\nimport numpy as np \nimport pandas as pd\n#import operator \nfrom datetime import date, datetime\nimport os\n\n#Vizaulization#\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots","bf739d92":"# seaborn color palettes we will be using \n\npalette_1 = sns.color_palette('Accent', 6)\npalette_2 = sns.color_palette('Set1', 6)\npalette_3 = sns.color_palette('BrBG')\npalette_4 = sns.color_palette('CMRmap')\npalette_5 = sns.color_palette('Paired', 6)\npalette_6 = sns.color_palette('RdYlBu')\npalette_binary_1 = sns.color_palette('Accent_r', 2)\npalette_binary_2 = sns.color_palette('Set1', 2)\npalette_binary_3 = sns.color_palette('Set2', 2)\n\nplt.style.use('fivethirtyeight')","097e16cb":"#find input file path\nfile_path =[]\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        path =os.path.join(dirname, filename)\n        print(path)\n        file_path.append(path)","da5f4c02":"ggpg =pd.read_csv(file_path[0])\nggpg.head()","9b31a664":"ggpg.info()","827480aa":"# updating following columns to category type : \ncolumns = ['JobTitle', 'Gender', 'Education', 'Dept']\n\nfor col in columns:\n    ggpg[col] = ggpg[col].astype('category')\n\n    \nggpg.info()","7f2cb0eb":"print(f'Num of diffirent job titles: {ggpg.JobTitle.unique().shape[0]}')\nprint('Job Titles: ')\nggpg.JobTitle.value_counts()","395143e1":"ggpg.Education.unique()","831d2ee9":"ggpg['Education'] = ggpg.Education.cat.reorder_categories(['High School', 'College','Masters','PhD'],ordered =True)\nggpg.Education.head()","75751141":"fig = px.bar(ggpg, x=\"Dept\", y=\"BasePay\", color=\"Gender\", barmode=\"group\",\n             facet_col=\"Education\", category_orders = {\"Education\":['High School', 'College','Masters','PhD']} ,labels={'BasePay':'Base Pay'})\nfig.show()","d576ad03":"print(f'Num of diffirent job titles: {ggpg.Dept.unique().shape[0]}')\nprint('Departments: ')\nggpg.Dept.value_counts()","8e08aa53":"fig = px.bar(ggpg, x=\"Dept\", y=\"BasePay\", color=\"Gender\", \n             facet_col=\"JobTitle\", facet_col_wrap=2, facet_row_spacing =0.1)\n\nfig.update_layout(\n    title='Base Pay per JobTite',\n    barmode='group',\n    bargap=0.15, # gap between bars of adjacent location coordinates.\n    bargroupgap=0.1, # gap between bars of the same location coordinate.\n    height =1200\n    \n)\n\n\nfig.show()","244387c0":"#Count gender per department\ngender_dept = ggpg.groupby(['Dept','Gender']).size().reset_index(name='counts')\n\ngender_dept.head()","bb73de3a":"fig = px.bar(gender_dept, x='Dept',y='counts',color='Gender',barmode='group', title ='Count Gender per Department', )\nfig.show()","b300072a":"#Age-Gender Distribution \nfig, ax = plt.subplots(1, 2, figsize=(16, 8))\n#sns.set_style('ticks')\n\nsns.kdeplot(data=ggpg, x='Age', hue='Gender', fill=True, palette=palette_binary_3, ax=ax[0])\nsns.boxenplot(data=ggpg, x='Gender', y='Age', ax=ax[1], palette=palette_binary_3)\n\nsns.despine()\nplt.show()","c5aa2adf":"#Gender-Evaluation distribution \nfig, ax = plt.subplots(1, 3, figsize=(16, 6))\n#sns.set_style('ticks')\n\nsns.kdeplot(data=ggpg, x='PerfEval', hue='Gender', fill=True, palette=palette_binary_2, ax=ax[0])\nsns.boxenplot(data=ggpg, x='Gender', y='PerfEval', ax=ax[1], palette=palette_binary_2)\n\nsns.violinplot(data=ggpg, x='Gender', y='PerfEval', ax=ax[2], palette=palette_binary_2)\n\nsns.despine()\nplt.show()","a3bf3a02":"plt.figure(figsize=(15, 8))\nplt.style.use('fivethirtyeight')\n#sns.set_style('ticks')\nPROPS = {\n    'boxprops':{'facecolor':'none', 'edgecolor':'black', 'linewidth':0.3},\n    'medianprops':{'color':'black', 'linewidth':1.5},\n    'whiskerprops':{'color':'black', 'linewidth':0.3},\n    'capprops':{'color':'black', 'linewidth':0.3},\n}\n\nsns.boxplot(x='Education', data=ggpg, y='Age', hue='Gender', showfliers=False,  **PROPS)\nsns.stripplot(data=ggpg, x='Education', hue='Gender', y='Age', palette=palette_binary_3, dodge=True)\n\nsns.despine()\nplt.legend(loc='upper right')\nplt.show()","61b18400":"#software engineers by seniority \nSE = ggpg[ggpg['JobTitle'] =='Software Engineer']","9a03b4a5":"sen = np.sort(SE.Seniority.unique())\nsen","0e550f4e":"fig = go.Figure()\n\n\n\nfor s in SE.Seniority.unique():\n    df = SE[SE.Seniority == s]\n    fig.add_trace(go.Scatter (\n    x=SE['Education'],\n    y=SE['BasePay'],\n    mode ='markers',\n    name = str(s)\n    ))\n\nsliders = [\n    {'steps':[\n        {'method':'update', 'label':'all','args': [{'visible': [True ,True,True,True,True]}]},\n        {'method':'update', 'label':'one year','args': [{'visible': [True ,False,False,False,False]}]},\n        {'method':'update', 'label':'two years','args': [{'visible': [False ,True,False,False,False]}]},\n        {'method':'update', 'label':'3 years','args': [{'visible': [False ,False,True,False,False]}]},\n        {'method':'update', 'label':'fouryears','args': [{'visible': [False ,False,False,True,False]}]},\n        {'method':'update', 'label':'fiveyears','args': [{'visible': [False ,False,False,False,True]}]}\n    ]}]\n\n\nfig.update_layout({'sliders':sliders})\nfig.show()","9400de44":"Vizualization inspired by :\nhttps:\/\/www.kaggle.com\/awwalmalhi\/titanic-eda-and-feature-engineering","b334dcee":"Woman: earns more as Marketing Associate in all department\nMan: earns significally more as software engineer \n\nrest usually man earn higher base pay\n","87574774":"in general base pay gap increase with education level. ","f028e3e8":"Clean data set - no missing values\nThanks Neelima"}}