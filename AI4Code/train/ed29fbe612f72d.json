{"cell_type":{"9b827f58":"code","3ca071e2":"code","7067c881":"code","1dde2134":"code","356aca13":"code","0b2c34ed":"code","d462d419":"code","c8678f9f":"code","0cc227c3":"code","1af73468":"code","d710cc43":"code","188e5c90":"code","5e00daff":"code","f3c99138":"code","f2de4b89":"code","c1533e71":"code","834cb9de":"code","c1aa0222":"code","3def1cdc":"code","b122e9c5":"code","813c40df":"code","632aa4b3":"code","f4528fc3":"code","3a1a79f6":"code","4ac07bf6":"code","0664bf65":"code","fe66c2c9":"code","4b9081d5":"code","8ea791e0":"code","9c2b58d8":"code","59eca51d":"code","3d85a506":"code","909b4753":"code","122156ab":"code","d43ad2f2":"markdown","bb38a74f":"markdown","8af1c0c3":"markdown","23a8ba4f":"markdown","6445f003":"markdown","c674cb31":"markdown","526e13e5":"markdown","01ffdf14":"markdown","a6cb7412":"markdown","cad89fbc":"markdown","d58af22f":"markdown","fbb9ae03":"markdown","a2030745":"markdown","0d927603":"markdown","ccc50f0d":"markdown","32ab5c4c":"markdown","8236d1e0":"markdown","e97a6e20":"markdown","a59e815b":"markdown","48aeca28":"markdown","4061331e":"markdown"},"source":{"9b827f58":"\nimport numpy as np\nfrom sklearn.linear_model import LinearRegression\nimport matplotlib.pyplot as plt\nfrom torch.utils.data import random_split\nimport pandas as pd\nimport sklearn\nfrom tabulate import tabulate\nfrom sklearn import datasets, linear_model\nimport seaborn as sns\nfrom colorama import Fore, Back, Style\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n","3ca071e2":"#creating data sets \n\ntrain = pd.read_csv(\"..\/input\/titanic\/train.csv\")\ntest = pd.read_csv(\"..\/input\/titanic\/test.csv\")","7067c881":"#checking dataset size\ntrain.shape","1dde2134":"#checking dataset size\ntest.shape","356aca13":"#looking at information available \ntrain.head()","0b2c34ed":"#checking null values to verify what variables will be useful for analysis \ntrain.isnull().sum()","d462d419":"##setting colors for graphing \nred = Fore.RED\ngreen = Fore.GREEN\nblue = Fore.BLUE\nyellow = Fore.YELLOW\nwhite = Fore.WHITE","c8678f9f":"#setting up my plot distribution layout \n\ndef plot_distribution(feature,color):\n    plt.figure(dpi=125)\n    sns.distplot(train[feature],color=color);\n    print(\"{}Max value of {} is {}\".format(red,feature,train[feature].max()))\n    print(\"{}Min value of {} is {} \".format(blue,feature,train[feature].min()))\n    print(\"{}Mean value of {} is {}\".format(green,feature,train[feature].mean()))\n    print(\"{}std value of {} is {}\".format(yellow,feature,train[feature].std()))\n    print(\"{}Median value of {} is {}\".format(white,feature,train[feature].median()))","0cc227c3":"plot_distribution('Age','green')","1af73468":"##This is just an experiment to view what the uncleaned Fare cost distribution looks like\nplot_distribution('Fare','yellow')","d710cc43":"sns.set(style = 'whitegrid')\nplt.figure(dpi=100)\nsns.countplot(x=train.Sex, hue=train.Survived, data=train,edgecolor = sns.color_palette('husl',2));","188e5c90":"plt.figure(dpi=125)\nsns.countplot(x = train.Sex, hue = train.Pclass,data = train,edgecolor = sns.color_palette('husl',3));","5e00daff":"plt.figure(dpi=125)\nsns.countplot(x = train.Survived, hue = train.Pclass,data = train,edgecolor = sns.color_palette('husl',3));","f3c99138":"plt.figure(dpi=125)\nsns.countplot(x = train.Pclass, hue = train.Survived,data = train,edgecolor = sns.color_palette('husl',3));","f2de4b89":"##Displays the survived versus those who didn't in each class\ntrain.groupby('Pclass').Survived.value_counts()","c1533e71":"plt.figure(dpi=125)\nsns.countplot(x = train.Embarked, hue = train.Survived, data = train);","834cb9de":"plt.figure(dpi=125)\nsns.countplot(x = train.Embarked, hue = train.Sex, data = train);","c1aa0222":"# compare survival rate across Age, SibSp, Parch, and Fare \npd.pivot_table(train, index = 'Survived', values = ['Age','SibSp','Parch','Fare'])","3def1cdc":"# This is a layout of the information we gathers in the previous section \nprint(pd.pivot_table(train, index = 'Survived', columns = 'Pclass', values = 'Ticket' ,aggfunc ='count'))\nprint()\nprint(pd.pivot_table(train, index = 'Survived', columns = 'Sex', values = 'Ticket' ,aggfunc ='count'))\nprint()\nprint(pd.pivot_table(train, index = 'Survived', columns = 'Embarked', values = 'Ticket' ,aggfunc ='count'))","b122e9c5":"original_set = train\n\n#droping unwanted columns \noriginal_set = original_set.drop('Name',axis = 1)\noriginal_set = original_set.drop('Cabin',axis = 1)\noriginal_set = original_set.drop('Parch',axis = 1)\noriginal_set = original_set.drop('Ticket',axis = 1)\noriginal_set = original_set.drop('SibSp',axis = 1)\n\nBest_case = original_set\nBest_case.head()","813c40df":"Best_case.describe()","632aa4b3":"#dropping everyone that was not in class 2 \nBest_case = Best_case.drop(Best_case[Best_case['Pclass'] != 2].index)\nBest_case.head()","f4528fc3":"#dropping all the males\nBest_case = Best_case.drop(Best_case[Best_case['Sex'] != \"female\"].index)\nBest_case.head()","3a1a79f6":"#dropping all those who did not embark from Cherbourg \nBest_case = Best_case.drop(Best_case[Best_case['Embarked'] != \"C\"].index)\nBest_case.head()","4ac07bf6":"#seeing how the survival rates look now \nBest_case.describe()","0664bf65":"train.describe()","fe66c2c9":"#Drops All Women from the original data set\nMen_case = original_set\nMen_case = Men_case.drop(Men_case[Men_case['Sex'] == \"female\"].index)","4b9081d5":"Men_case.describe() ","8ea791e0":"#Drops All Males from the original data set\nWomen_case = original_set\nWomen_case = Women_case.drop(Men_case[Men_case['Sex'] == \"male\"].index)\nWomen_case.describe()","9c2b58d8":"Age_Set = original_set\n\n#droping those whose age is unknown\nAge_Set = Age_Set.dropna()\n#Grouping age into 4 groups \nGroups = [\n    (Age_Set['Age'] < 18), \n    (Age_Set['Age'] >=18) & (Age_Set['Age'] < 30),\n    (Age_Set['Age'] >=30) & (Age_Set['Age'] < 65),\n    (Age_Set['Age'] >=65)\n]\n\n#naming conventions for Child, Young Adult, Adult and Elderly \nvalues = ['C', 'YA', 'AD', 'E']\n\nAge_Set['Age_Group'] = np.select(Groups, values)\n\nAge_Set.head()","59eca51d":"plt.figure(dpi=125)\nsns.countplot(x = Age_Set.Age_Group, hue = Age_Set.Survived, data = train);","3d85a506":"plt.figure(dpi=125)\nsns.countplot(x = Age_Set.Age_Group, hue = Age_Set.Sex, data = train);","909b4753":"print(Age_Set.corr())\nsns.heatmap(Age_Set.corr())","122156ab":"multi_element_model = sklearn.linear_model.LinearRegression().fit(Age_Set[['Pclass']],Age_Set['Survived'])","d43ad2f2":"It appears that you would have an 100% chance to survive if you were a woman from Queenstown in the middle class but lets lets step back a little","bb38a74f":"It appears that there is not enough evidence to support that claim since the ratio from Queentown appears to be closer. Perhaps the other factors can help us create a model.","8af1c0c3":"It appears as such that the majority of travels were of lower class. This was to be expected but now lets look at survival rates among members of each class.","23a8ba4f":"# **Finding the best survival chance**","6445f003":"# **Early Data Analysis**","c674cb31":"# **Indepth Analysis**","526e13e5":"Recall, 38.4% of all the passangers survived.","01ffdf14":"As can be showned there is a clear difference between who survived and their class. Here is a better look at the distribution. ","a6cb7412":"Here it shows that men only had a 19% survival rate","cad89fbc":"From here I am going to create a modified data set with the characteristics of the highest survival rate and see how it compares the the survival rate of all the passengers","d58af22f":"Based on this graph you can see that 2nd class actually had higher chance of survival than going down with the ship. But we can calcuate exactly how likely they were to survive. ","fbb9ae03":"Regarding this graph, this is a count of who from each Sex survived with 0 being did not survive and 1 being survived. It appears that women have a much higher likelihood to survive rather than their male counterparts. ","a2030745":"As we can see here, age did impact the survival rates of the Titanic, lets group the ages by Sex","0d927603":"Women conversely had a 74% survival rate, lets look at age ","ccc50f0d":"# **Model Building**","32ab5c4c":"There does not seem to be a ton of correlation between the survivors and there age but lets try to build a model ","8236d1e0":"To be continued ","e97a6e20":"Interesting, it appears that Cherbourg had the highest chance of survival. Let's try to figure out why that was the case. Perhaps it was that their were more female passengers ","a59e815b":"Now I am going to check what distination provided the highest chance of survival.","48aeca28":"# **Gathering Data**","4061331e":"Woah, strangely enough these results mirror our survival rates pretty closely, lets look at the coorelations "}}