{"cell_type":{"1951bc29":"code","d39133b8":"code","142ee398":"code","a6399306":"code","579ac097":"code","a06643ca":"code","078c1627":"code","11abc1a0":"code","099b8a1e":"code","d4238e90":"code","72fd744b":"code","1f176f66":"code","fb40f7d7":"code","fe628a48":"code","39eb09bd":"code","03f895a4":"code","e33f38df":"code","8f63663c":"code","7d0912f0":"code","f87eb4be":"code","d8fdf6c2":"markdown","4b37bb09":"markdown","3071c45f":"markdown","49091d99":"markdown","70d323bb":"markdown","3ee45e8d":"markdown","01a1feb2":"markdown","76dd50de":"markdown","39791975":"markdown","40ba0bd3":"markdown","a9e88d4d":"markdown","3fb5da23":"markdown","3cfae074":"markdown","c65ec2d6":"markdown","231fee83":"markdown","44baa9fc":"markdown","37a00343":"markdown","27cf2abf":"markdown","87d50236":"markdown","a3ae5233":"markdown","5497f5ee":"markdown","08fc948b":"markdown","edb89ba8":"markdown","4c8df3a9":"markdown","9b7c4ab3":"markdown","ebf6a8d0":"markdown","b6159587":"markdown","1f32b132":"markdown","164965eb":"markdown","fa117b20":"markdown","d29c62e8":"markdown","248dc22c":"markdown","c9f6a842":"markdown","0e2e07c7":"markdown","76167e13":"markdown","f63d53e9":"markdown","56dc1045":"markdown","18722943":"markdown","086814da":"markdown","445bfa6b":"markdown"},"source":{"1951bc29":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom collections import Counter\nfrom matplotlib.lines import Line2D\nfrom warnings import filterwarnings\nsns.set_style('whitegrid')\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","d39133b8":"df = pd.read_csv('..\/input\/amazon-top-50-bestselling-books-2009-2019\/bestsellers with categories.csv')","142ee398":"df.info()","a6399306":"df['Author'].unique()","579ac097":"df.loc[df['Author']=='J. K. Rowling','Author']='J.K. Rowling'\ndf.loc[df['Author']=='George R. R. Martin','Author']='George R.R. Martin'","a06643ca":"df.sort_values('Reviews',ascending=False).head(10)","078c1627":"df.drop_duplicates('Name').sort_values('Reviews',ascending=False).head(10)","11abc1a0":"pie_1 = df.drop_duplicates('Name').sort_values('Reviews',ascending=False)['Genre'].head(10).value_counts()\n\nsns.set_palette('viridis_r')\nplt.figure(figsize=(8,8))\nplt.pie(pie_1,explode = [0,0.15],labels=['Fiction','Non Fiction'],autopct='%.1f%%',shadow=True,startangle=20)\nplt.title('Genre Pie Chart for the top 10 Bestselling Books on Amazon (2009-2019)',fontdict={'size':14},y=0);","099b8a1e":"plt.figure(figsize=(12,6))\nsns.distplot(df['Price'],color='purple')\nplt.title('Price Distribution Plot',fontsize=16)\nplt.show()\nfilterwarnings('ignore')","d4238e90":"plt.figure(figsize=(12,6))\nsns.distplot(df['Reviews'],color='red')\nplt.title('Reviews Distribution Plot',fontsize=16)\nplt.show()\nfilterwarnings('ignore')","72fd744b":"plt.figure(figsize=(10,5))\nsns.countplot(x=df['User Rating'],palette='viridis_r')\nplt.title('User Rating Distribution Plot',fontsize=16)\nplt.show()","1f176f66":"sns.jointplot(y=df['Price'],x=df['Reviews'],hue=df['Genre'],alpha=0.6,palette='magma',height=8)\nplt.show()","fb40f7d7":"IQR_r = df['Reviews'].quantile(0.75)-df['Reviews'].quantile(0.25)\n\nupper_limit = df['Reviews'].quantile(0.75)+IQR_r*1.5\nlower_limit = df['Reviews'].quantile(0.75)-IQR_r*1.5\n\nex_lower_limit = df['Reviews'].quantile(0.75)-IQR_r*3\nex_upper_limit = df['Reviews'].quantile(0.75)+IQR_r*3\n\nprint('Outlier\\'s range :\\t',[lower_limit,upper_limit])\nprint('Extreme Outlier\\'s range:',[ex_lower_limit,ex_upper_limit])","fe628a48":"custom_lines = [Line2D([0], [0], marker='o', color='green', markeredgecolor='grey'),\n                Line2D([0], [0], marker='o', color='yellow', markeredgecolor='grey')]\n\ncolors={'Non Fiction': 'green','Fiction':'yellow'}\nfig,ax = plt.subplots(figsize=(14,7))\nax.scatter(x=df['Reviews'],y=df['Price'],c=df['Genre'].apply(lambda x:colors[x]),marker='o',s=12,alpha=1,edgecolor='grey')\nax.axvline(x=upper_limit,color='orange',ls='-.')\nax.axvline(x=ex_upper_limit,color='red',ls='-.')\nax.grid(True,ls='--')\nax.legend(custom_lines,['Non Fiction','Fiction'])\nplt.show()","39eb09bd":"plt.figure(figsize=(15,7))\nsns.heatmap(df.drop(['Name','Genre','Author','Year'],axis=1).corr(),cmap='viridis',annot=True)\nplt.show()","03f895a4":"Counter(df.drop_duplicates('Name')['Author']).most_common()[0]","e33f38df":"new_df = df.drop_duplicates('Name')\nnew_df[new_df['Author']=='Jeff Kinney']","8f63663c":"best_nf_books = df.groupby(['Author', 'Genre']).count().unstack()['Name']['Non Fiction'].sort_values(ascending=False)[:10]\nbest_f_books = df.groupby(['Author', 'Genre']).count().unstack()['Name']['Fiction'].sort_values(ascending=False)[:10]\n\ncolor=sns.color_palette('viridis')\n\nsns.set_style('whitegrid')\n\nfig,axes = plt.subplots(1,2,figsize=(8,8))\nplt.subplots_adjust(wspace=0)\n\naxes[0].invert_xaxis()\naxes[0].invert_yaxis()\naxes[0].yaxis.tick_left()\naxes[0].grid(None)\naxes[0].set_xticks(range(1,int(best_nf_books.values.max())+1))\naxes[0].barh(y=best_nf_books.index,width=best_nf_books.values,height=0.5,tick_label=best_nf_books.index,color=color)\naxes[0].set_yticklabels(best_nf_books.index,fontweight='semibold',fontsize=12)\naxes[0].set_title('Non Fiction Authors',fontdict={'size':16})\naxes[0].set_xlabel('Number Of Times Selected',fontsize=12)\n\naxes[1].set_xticks(range(1,int(best_f_books.values.max())+1))\naxes[1].invert_yaxis()\naxes[1].yaxis.tick_right()\naxes[1].grid(None)\naxes[1].barh(y=best_f_books.index,width=best_f_books.values,height=0.5,tick_label=best_f_books.index,color=color)\naxes[1].set_yticklabels(best_f_books.index,fontweight='semibold',fontsize=12)\naxes[1].set_title('Fiction Authors',fontdict={'size':16})\naxes[1].set_xlabel('Number Of Times Selected',fontsize=12)\n\nplt.show()","7d0912f0":"books = df.groupby(['Year','Genre']).count().unstack()['Name']\n\nfig,axes=plt.subplots(1,1,figsize=(12,6))\nsns.set_style('white')\naxes.plot(books,markersize=5,markerfacecolor='grey',marker='o')\naxes.set_xlabel('Year')\naxes.set_ylabel('Number Of Entries')\naxes.set_xticks(books.index)\naxes.set_ylim(10,40)\naxes.spines['right'].set_color('none')\naxes.spines['top'].set_color('none')\naxes.legend(books)\naxes.set_title('Fiction Vs. Non Fiction Books In The Bestsellers List (2009-2019)',fontdict={'size':15})\nplt.grid(0)\n\nplt.show()","f87eb4be":"color=sns.color_palette('viridis')\nc1=sns.color_palette('magma')\nc2=sns.color_palette('magma_r')\n\nnew_df = df.drop_duplicates('Name')\n\ndf1 = df.groupby('Author').count().sort_values('Name',ascending=False)[:20]\nindex = df1.index\nmain_df = pd.DataFrame(new_df[df['Author']==index[0]])\n\nfor i in index[1:]:\n    sub_df = new_df[new_df['Author']==i]\n    main_df = pd.concat([main_df,sub_df])\n    \n\nmain_df1 = main_df.groupby('Author').sum()\nmain_df2 = main_df.groupby('Author').mean()\n\nfig, ax = plt.subplots(1,3,figsize=(15,12),sharey=True)\nplt.subplots_adjust(wspace=0.05)\n\nax[0].hlines(xmin=0,xmax=main_df2['User Rating'].values,y=main_df2['User Rating'].index,linestyle='dotted',color=c2)\nax[0].plot(main_df2['User Rating'].values,main_df2.index,'o',markersize=5,markerfacecolor='purple',markeredgecolor='black')\nax[0].set_xticks(np.linspace(0,5,11))\nax[0].set_xlabel('Rating',fontsize=13)\nax[0].set_title('Average User Rating',fontsize=15)\nax[0].set_yticklabels(main_df2['User Rating'].index,fontweight='bold',fontsize=12)\n\nax[1].hlines(xmin=0,xmax=main_df2['Price'].values,y=main_df2['Price'].index,linestyle='dotted',color=c1)\nax[1].plot(main_df2['Price'].values,main_df2.index,'o',markersize=5,markerfacecolor='purple',markeredgecolor='black')\nax[1].set_xticks(list(range(0,51,5)))\nax[1].set_xlabel('Price',fontsize=13)\nax[1].set_title('Average Price',fontsize=15)\n\nax[2].barh(y=main_df1['Reviews'].index,width=main_df1['Reviews'].values,color=color)\nax[2].set_xlabel('Number Of Reviews',fontsize=13)\nax[2].set_title('Total Number Of Reviews',fontsize=15)\n\nplt.show()\nfilterwarnings('ignore')","d8fdf6c2":"# Importing Libraries","4b37bb09":"As we can see, most of the books which were on the list are from his very famous book series, <i><b>Diary Of A Wimpy Kid.<\/b><\/i>","3071c45f":"Finally, I made a heatmap to see how all the numeric features in the dataset are correlated with each other:","49091d99":"Since the lower limits are negative values, we'll discard it since number of Reviews can't be negative.","70d323bb":"***","3ee45e8d":"From the plot above, we can see that the Review values of some books seem like probable outliers.\nLet's test this out using some statistical techniques.","01a1feb2":"With this I conclude the EDA of the Amazon Bestsellers (2009-2019) dataset.","76dd50de":"Let's start off by finding out the 10 ten most reviewed books during 2009-2019","39791975":"Let's look at the proportion of books whose Genre was Fiction and Non-Fiction.","40ba0bd3":"Now let's plot the \"upper limit\" lines on the earlier scatter plot to see where the outliers lie","a9e88d4d":"Now we've seen that Jeff Kinney was the most famous author when it comes to the number of books which were selected as Bestsellers.","3fb5da23":"The distribution plot for the Price of the books:","3cfae074":"We can see from the plot the 2 most expensive books from American Psychological Association and the College Board, have really less reviews even though their user ratings are high which means that regardless of their less sales, they still made it to the top 50 Bestsellers.","c65ec2d6":"***","231fee83":"As we can see from the table above, the list consists of <b>duplicate<\/b> entries of Books as many books were chosen as the bestsellers for <b><i>more than one<\/i><\/b> year. \n","44baa9fc":"# <center>Thank You!","37a00343":"# Data Preparation","27cf2abf":"The distribution plot for the Reviews of the books:","87d50236":"With the heatmap, it can be easily inferred that the features have very less correlation coefficient with respect to each other.","a3ae5233":"***","5497f5ee":"I was curious about the correlation between the Price and the Reviews feature so I plotted them out to see if there's any correlation between these two.","08fc948b":"As we can see, the distribution is a right skewed.","edb89ba8":"I made this final plot where I took the top 20 authors based on their number of appearances in the top 50 list to find out their:\n1. Average User Rating\n2. Average Price Of The Books\n3. Total Reviews","4c8df3a9":"Therefore, we'll find the names of the top 10 most reviewed books without multiple entries.","9b7c4ab3":"We can see the trend of the genre of books which were selected in the top 50s each year:","ebf6a8d0":"Since the distribution seems skewed, I'll use the IQR method to find the minimum and maximum range of the values for the plot.","b6159587":"Here's a plot to see the distribution of the User Rating across all the books:","1f32b132":"From the plot, we can infer that non fiction books have been selected more in the top 50 list of bestsellers than the fiction books.","164965eb":"There were no missing values in the dataset but there were a few mistakes that needed correction.","fa117b20":"Some of the author's name have been misspelled so we'll manipulate the data to correct the mistakes first.","d29c62e8":"# Importing the Data","248dc22c":"### Note\n\nThis is my first ever notebook submission, so if you find it useful then please feel free to upvote it. Any form of opinion\/suggestion is valuable to me so do not hesitate to do so in the comments. I'll be trying to improve myself. :)\nThank you :)","c9f6a842":"Now, we'll try to find the most famous Author on the basis of the number of different books which were counted as the Bestsellers on Amazon and to see IF there's any correlation between the books.","0e2e07c7":"Now, let's take a look at the 10 most famous authors from both the Fiction and Non Fiction genre on the basis of the number of appearances in the top 50 list of Bestsellers from 2009-2019.","76167e13":"***","f63d53e9":"# Introduction\n\nThis is an EDA notebook for the Amazon's top 50 bestsellers (2009-2019) dataset. In this notebook, I've tried to display the distributions of the various features in the notebook as well as creating and inferring the trends of a few features. I've focused on making visualizations more in the notebook to convey the useful information from the dataset.","56dc1045":"The outliers can affect the machine learning model depending upon the algorithm for whether or not it's robust against outliers.","18722943":"# EDA","086814da":"As we can see from the plot above, the orange line signifies the upper limit beyond which points which can be considered as outliers and the red line signifies the upper limit beyond which the points are classified as extreme outliers.","445bfa6b":"***"}}