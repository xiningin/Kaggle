{"cell_type":{"27f78b6d":"code","3f2d9014":"code","f437072d":"code","a0875015":"code","28fb6916":"code","87b89fd2":"code","b53c34f6":"code","a84f8694":"code","7e82ba42":"code","9da054ca":"markdown","d9f34044":"markdown","e1ddd38c":"markdown","4ddae093":"markdown","dc0f389f":"markdown","3dd86cf1":"markdown","143f7c92":"markdown","32de75ef":"markdown","fa7fb969":"markdown","400d1b1e":"markdown","4f319871":"markdown","70c3c11b":"markdown"},"source":{"27f78b6d":"import pandas as pd\nimport numpy as np\nimport re\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nsns.set_style('whitegrid')","3f2d9014":"data = pd.read_csv('..\/input\/data-analyst-jobs\/DataAnalyst.csv', index_col=0)\ndata.head()","f437072d":"# Clean Salary columns. Remove '(Glassdoor est.\\)'\ndata['Salary Estimate'] = data['Salary Estimate'].str.replace(' \\(Glassdoor est.\\)|\\$|K', '')\n\n\n# Split Expected Salary column to MIN and MAX values\ndata = pd.concat([data.drop('Salary Estimate', axis=1), data['Salary Estimate'].str.split(\"-\", expand=True).rename({0:'Min Expected Salary', 1:'Max Expected Salary'}, axis=1)], axis=1)\n\n\n# Extract state from `location` column\ndata['State'] = data['Location'].str[-2:]\n\n\n# Drop location column\ndata.drop('Location', axis=1, inplace=True)\n\n\n# Drop other useless columns\ndata.drop(['Company Name', 'Headquarters','Type of ownership','Competitors','Easy Apply'], axis=1, inplace=True)\n\n\n# Convert variable `Company Size` to categorical\ndata['Company Size'] = pd.Categorical(data['Size'],\n               categories=['1 to 50 employees', '51 to 200 employees', '201 to 500 employees', '501 to 1000 employees', '1001 to 5000 employees','5001 to 10000 employees', '10000+ employees'],\n               ordered=True)\n\ndata.drop('Size', axis=1, inplace=True)\n\n\n# Drop rows with missing values in `sector` and `founded`\ndata = data[~data['Sector'].isin([\"-1\"])]\n\ndata = data[~data['Founded'].isin([\"-1\"])]\n\n# Calculate age for each company\ndata['Company age'] = 2020 - data['Founded']\n\n\n# Convert variable `Revenue` to categorical\ndata['Revenue'] = data['Revenue'].str.replace(\"\\$| \\(USD\\)\", \"\")\n\ndata['Company Revenue'] = pd.Categorical(data['Revenue'],\n               categories=['Less than 1 million', '1 to 5 million', '5 to 10 million', '10 to 25 million', '25 to 50 million', '50 to 100 million', '100 to 500 million', '500 million to 1 billion', '1 to 2 billion', '2 to 5 billion', '5 to 10 billion', '10+ billion', 'Unknown \/ Non-Applicable'],\n               ordered=True)\n\ndata.drop('Revenue', axis=1, inplace=True)","a0875015":"data.groupby('State')['Job Title'].count().sort_values(0, False).plot.bar(color='k');","28fb6916":"from IPython.display import Image\nImage(\"..\/input\/new-business\/kauffman-indicators-chart.png\", width=1000)","87b89fd2":"sns.barplot(x='index', y='Sector', data=data['Sector'].value_counts(normalize=True).head(10).reset_index(), palette='gray')\nplt.ylabel('Share of total ads')\nplt.xlabel(\"Sectors\")\nplt.title(\"Share of total ads by the Sector\", fontdict={'size':14, 'weight':'bold'})\nplt.xticks(rotation=90);","b53c34f6":"# Create a dict of skills as keys and search patterns as values\nhard_skills_dict = {\n    'Python': r\"python\",\n    'R': r\"[\\b\\s\/]r[\\s,\\.]\",\n    'Excel': r'excel', \n    'Tableau': r'tableau', \n    'SQL': r'sql', \n    'SAS': r'\\bsas\\b',\n    'SPSS': r'\\bSPSS\\b',\n    'VBA': r'\\bvba\\b',\n    'PowerBI': r'power[\\s]BI',\n    'PowerQuery': r'power[\\s]query',\n    'SAP': r\"\\bSAP\\b\",\n    'AWS': r\"\\bAWS\\b\",\n    'Git': r\"\\bGit\",\n    'Dashboard': r\"\\bDashboard[s]\",\n    'Spark': r'Spark',\n    'Scala': r'Scala',\n    'Matlab': r'Matplotlib',\n    'C# or C++': r\"\\bC[#\\+\\+]\", \n    'Java': r'Java',\n    'BigQuery': r\"Big[\\s]Query\",\n    'Plotly': r'Plotly',\n    'Looker': r'Looker',\n    'PowerPivot': r'Power[\\s]Pivot',\n    'Oracle': r'oracle',\n    'UNIX': r'unix',\n    'Linux': r'linux'\n}","a84f8694":"hard_skills = {}\n\n# Loop through skills, and count the frequency\nfor key, search in hard_skills_dict.items():\n    hard_skills[key] = data['Job Description'].str.contains(search, flags=re.IGNORECASE).sum()\n\n    \n# Build a DataFrame of skills, counts and frequencies.\nskills = pd.DataFrame.from_dict(hard_skills, orient='index').reset_index().rename({'index':'skill', 0:'count'}, axis=1).sort_values('count', 0, False)\nskills['freq'] = skills['count'] \/ data.shape[0]","7e82ba42":"# Plot a barchart of skills\nplt.figure(figsize=(20, 6))\nsns.barplot(x='skill', y='freq', data=skills, palette='gray')\nplt.xticks(rotation=45)\nplt.title(\"How many times was the skill written?\", fontdict={'size':14, 'weight':'bold'})\nplt.ylabel(\"\")\nplt.xlabel(\"\");","9da054ca":"# Portrait of Data Analyst","d9f34044":"# Load and clean the data","e1ddd38c":"# 3. SQL and Excel are the most requested skills for Data Analyst\n\n\nI have taken a look on some ads and manualy stores skills to a dictionary.\n\nAfter that I had counted how often these skills appear on the ads.","4ddae093":"The best chance to find a job as Data Analyst have a person living in California with background in IT and good knowledge of Excel and SQL","dc0f389f":"# TOP 5 hard skills you should acquire as Data Analyst","3dd86cf1":"**Problems:**\n\n* Which states offers most jobs for Data Analysts?\n* What kind of experience is requested?\n* What skills do Data Analyst require?\n","143f7c92":"Data Analysts are exceptionally demanded in California where most of biggest starups are located. Texas takes a second place with about 250 job ads. Based on CNBC report (https:\/\/www.cnbc.com\/2019\/07\/10\/these-are-americas-top-states-for-business-in-2019.html) and Kauffman indicator (picture bellow), Texas are one of the best place to start a company. ","32de75ef":"Information technology and Busiess Services adds up to 55% of total jobs offerings. Following by the finance and health care. These are the sectors which has the biggest demand on Data Analysts.  ","fa7fb969":"## 2. The background in IT or Business Services will benefit you.","400d1b1e":"# Three insights from the data","4f319871":"SQL and Excel are the most in-demand hard skills, followed by Python\/R and data visualization tools like Tableau.","70c3c11b":"## 1. There are three hubs in USA where the most job ads come from - CA, TX, NY"}}