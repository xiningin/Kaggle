{"cell_type":{"d09e3943":"code","6339b4fb":"code","537198ec":"code","dba4ff56":"markdown"},"source":{"d09e3943":"import os\n\nfile_list = []\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        file_list.append(os.path.join(dirname, filename))\n\nfile_list","6339b4fb":"import urllib.request\nfrom tqdm.notebook import tqdm\nimport json\nimport sys\n\nfor json_file in file_list:\n    # Loading the image links\n    with open(json_file, 'r') as f:\n        image_urls = json.load(f)\n        \n    # Getting the file name\n    file_name_base = os.path.splitext(os.path.basename(json_file))[0]\n\n    # Checking if we have a folder with the name of the file\n    if not os.path.exists(f'images\/{file_name_base}'):\n        os.makedirs(f'images\/{file_name_base}')\n\n    # Downloading images from the list\n    for i in tqdm(range(len(image_urls)), desc=file_name_base):\n        try:\n            urllib.request.urlretrieve(image_urls[i], f'images\/{file_name_base}\/{i}.jpg')\n        except ConnectionResetError:\n            print(f'*** ConnectionResetError: {image_urls[i]}')\n            pass\n        except:\n            print(f'Unexpected error: {sys.exc_info()[0]}')\n            print(f'Error happended in url: {image_urls[i]}')\n            pass\n","537198ec":"!ls images","dba4ff56":"# Downloading\nThe dataset has 21 JSON files, each with a list of 100 animals based on the name of the file.\n\nThe following script downloads these images and organizes them into folders based on the file names."}}