{"cell_type":{"3fd72f0b":"code","62501c02":"code","633f55de":"code","2cb81b45":"code","34073eb7":"code","bb286222":"code","779bd2dd":"code","c8f498ea":"code","4d1ec617":"code","905bac20":"code","d5860f0e":"code","29f9742a":"code","bef63d76":"code","18aacc09":"code","337514bb":"markdown","c8810962":"markdown","5af23101":"markdown","e045aed5":"markdown","49263993":"markdown","cf6abcd3":"markdown","aaf00051":"markdown","e0db6a31":"markdown","f066addc":"markdown","56a0b2dd":"markdown"},"source":{"3fd72f0b":"import pandas as pd\nimport numpy as np \nimport seaborn as sns\nimport matplotlib.pyplot as plt\n%matplotlib inline\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\nfrom mlxtend.frequent_patterns import apriori, association_rules\nfrom mlxtend.preprocessing import TransactionEncoder","62501c02":"grocery = pd.read_csv('..\/input\/supermarket\/GroceryStoreDataSet.csv', names = ['Products'], sep = ',')","633f55de":"grocery.head(5)","2cb81b45":"grocery.tail(5)","34073eb7":"grocery.info()","bb286222":"grocery.shape","779bd2dd":"grocery_df = list(grocery[\"Products\"].apply(lambda x:x.split(\",\") ))\ngrocery_df","c8f498ea":"te = TransactionEncoder()\nte_data = te.fit(grocery_df).transform(grocery_df)\ngdf = pd.DataFrame(te_data, columns = te.columns_)\ngdf = gdf.replace(False,0)\ngdf","4d1ec617":"gdf = gdf.replace(True,1)\ngdf","905bac20":"gdf.sum().to_frame('Frequency').sort_values('Frequency',ascending=False).plot(kind='bar',\n                                                                                  figsize=(12,8),\n                                                                                  title=\"Frequent Items\")\nplt.show()","d5860f0e":"gdf1 = apriori(gdf, min_support = 0.2, use_colnames = True, verbose = 1)\ngdf1","29f9742a":"gdf1.sort_values(by = \"support\" , ascending = False)","bef63d76":"gdf_rules = association_rules(gdf1, metric = 'confidence', min_threshold = 0.6)\ngdf_rules","18aacc09":"gdf_rules.sort_values(by = \"lift\", ascending = False)","337514bb":"**Sorted from highest to lowest WRT Support values**","c8810962":"**Lift indicates:**\n\n* Whether if two type of products can be sold together - **lift value higher than 1**\n* Whether 1 product be substitute of other - **lift value lower than 1**\n* Whether if there is no relation between the type or products - **lift value equals to 1**","5af23101":"**One Hot Encoding**\n\nUsing TransactionEncoder, we convert the list to a One-Hot Encoded Boolean list.\nProducts that customers bought or did not buy during shopping will now be represented by values 1 and 0.","e045aed5":"**Here we come to know that, there are no null records. Total 20 records are present in one single columns.**","49263993":"**Applying Apriori Algorithm**\n\nIn the next step, we are applying Apriori algrithm. For this data set, we'll set a min_support value with a threshold value of 20% and printed them on the screen as well.","cf6abcd3":"**In the next step, we'll chose the 60% minimum confidence value. In other words, when product A is purchased, product B also got purchased 60% or more time.**","aaf00051":"**Here, we have split the products and create a list.**","e0db6a31":"**From above table:**\n\n* The probability of Milk sales is 25%\n* Milk and Bread are sold together in 20% of all purchases (support)\n* 80% of customers who buy Milk will also buy Bread (confidence)\n* Sales of Bread increased by 1.23 times in shopping with Milk (lift)\n* Milk & Bread correlation with each other is seen as 1.75","f066addc":"**Let's load the dataset**","56a0b2dd":"**Finding first 5 and last 5 records**"}}