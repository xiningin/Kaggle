{"cell_type":{"0927d527":"code","296eae85":"code","0fcb33f3":"code","d4c7aab3":"code","6938bfa3":"code","2887a5ee":"code","5e606238":"code","0a3317a6":"code","c6f14fec":"code","320accd7":"code","3ce89ad4":"code","e5e27093":"code","92eb6c0c":"code","99a9484b":"code","feec1485":"code","e4ebc836":"markdown","65ef7bff":"markdown","296069b9":"markdown","534e22a9":"markdown","a46ffe7e":"markdown","f280a570":"markdown","b458fc5c":"markdown","a5e7c9a6":"markdown"},"source":{"0927d527":"import pandas as pd\nimport numpy as np\nfrom PIL import Image\nfrom wordcloud import WordCloud, STOPWORDS\nimport matplotlib.pyplot as plt\nfrom nltk.sentiment import SentimentIntensityAnalyzer\nfrom textblob import TextBlob\nimport warnings\nwarnings.simplefilter(\"ignore\")","296eae85":"data_df = pd.read_csv(\"..\/input\/reddit-just-no-mother-in-law\/reddit_justnomil.csv\")","0fcb33f3":"def show_wordcloud(data, mask=None, title=\"\"):\n    text = \" \".join(t for t in data.dropna())\n    stopwords = set(STOPWORDS)\n    stopwords.update([\"t\", \"co\", \"https\", \"amp\", \"U\", \"Comment\", \"reddit\"])\n    wordcloud = WordCloud(stopwords=stopwords, scale=4, max_font_size=50, max_words=500,mask=mask, background_color=\"white\").generate(text)\n    fig = plt.figure(1, figsize=(16,16))\n    plt.axis('off')\n    fig.suptitle(title, fontsize=20)\n    fig.subplots_adjust(top=2.3)\n    plt.imshow(wordcloud, interpolation='bilinear')\n    plt.show()","d4c7aab3":"show_wordcloud(data_df['body'], title = '', mask=None)","6938bfa3":"show_wordcloud(data_df['title'], title = '', mask=None)","2887a5ee":"sia = SentimentIntensityAnalyzer()\ndef find_sentiment(post):\n    if sia.polarity_scores(post)[\"compound\"] > 0:\n        return \"Positive\"\n    elif sia.polarity_scores(post)[\"compound\"] < 0:\n        return \"Negative\"\n    else:\n        return \"Neutral\"  ","5e606238":"def plot_sentiment(df, feature, title):\n    counts = df[feature].value_counts()\n    percent = counts\/sum(counts)\n\n    fig, (ax1, ax2) = plt.subplots(ncols=2, figsize=(12, 5))\n\n    counts.plot(kind='bar', ax=ax1, color='green')\n    percent.plot(kind='bar', ax=ax2, color='blue')\n    ax1.set_ylabel(f'Counts : {title} sentiments', size=12)\n    ax2.set_ylabel(f'Percentage : {title} sentiments', size=12)\n    plt.suptitle(f\"Sentiment analysis: {title}\")\n    plt.tight_layout()\n    plt.show()","0a3317a6":"data_df['title_sentiment'] = data_df['title'].apply(lambda x: find_sentiment(x))\nplot_sentiment(data_df, 'title_sentiment', 'Title')","c6f14fec":"show_wordcloud(data_df.loc[data_df['title_sentiment']=='Positive', 'title'], title = 'Prevalent words in titles (Positive sentiment)')","320accd7":"show_wordcloud(data_df.loc[data_df['title_sentiment']=='Negative', 'title'], title = 'Prevalent words in titles (Negative sentiment)')","3ce89ad4":"show_wordcloud(data_df.loc[data_df['title_sentiment']=='Neutral', 'title'], title = 'Prevalent words in titles (Neutral sentiment)')","e5e27093":"data_cp_df = data_df.loc[~data_df.body.isna()]\ndata_cp_df['body_sentiment'] = data_cp_df['body'].apply(lambda x: find_sentiment(x))\nplot_sentiment(data_cp_df, 'body_sentiment', 'Body')","92eb6c0c":"show_wordcloud(data_cp_df.loc[data_cp_df['body_sentiment']=='Positive', 'body'], title = 'Prevalent words in body (Positive sentiment)')","99a9484b":"show_wordcloud(data_cp_df.loc[data_cp_df['body_sentiment']=='Negative', 'body'], title = 'Prevalent words in body (Negative sentiment)')","feec1485":"show_wordcloud(data_cp_df.loc[data_cp_df['body_sentiment']=='Neutral', 'body'], title = 'Prevalent words in body (Neutral sentiment)')","e4ebc836":"## Prevalent words in body","65ef7bff":"## Prevalent words in title","296069b9":"## Body sentiment","534e22a9":"## Title sentiment","a46ffe7e":"# Data visualization\n\n\nLet's explore the data.\n\n<img src=\"https:\/\/media.istockphoto.com\/photos\/black-stay-at-home-father-working-on-laptop-while-his-kids-are-his-picture-id1289420859?k=20&m=1289420859&s=612x612&w=0&h=8tchJcE4KfL199tmJABv-BzMP3XFkWjc0Nh7v496ttQ=\"><\/img>\n<br>\n<small>Stay at home dad, \u00a9 <a href=\"https:\/\/media.istockphoto.com\">iStockPhoto<\/a><\/small>","f280a570":"# Sentiment analysis","b458fc5c":"# Data and analysis preparation","a5e7c9a6":"# Introduction\n\nThe dataset is collected from r\/JUSTNOMIL which is about support for those with nasty, cruel, toxic, abusive MILs & moms. MIL stands for Mother in Law. \n\nThere are some \"domain specific\" keywords\/acronyms in the dataset, which probably doesn't make too much sense for those not frequenting this subreddit. Here are few of them:\n\n* <font color=\"red\">MIL<\/font> - Mother in Law;  \n* <font color=\"orange\">JNMIL<\/font> - Just no Mother in Law;  \n* <font color=\"yellow\">DO<\/font> - Dear one (i.e. husband\/wife);  \n* <font color=\"lightgreen\">SAHD<\/font> - Stay at Home Dad (sometime is spelled sad);  \n* <font color=\"green\">SAH<\/font> - Stay at Home;   \n* <font color=\"magenta\">SD<\/font> - Single Dad; \n* <font color=\"lightblue\">DH<\/font> - Dear Husband;  \n* <font color=\"darkblue\">BEC<\/font> - Someone that you just cannot stand - from [**Bitch eating crackers**](https:\/\/www.urbandictionary.com\/define.php?term=Bitch%20Eating%20Crackers) - apparently a meme with a person that you instantly dislike (see next picture).\n\n\n<img src=\"https:\/\/i.pinimg.com\/564x\/d0\/13\/64\/d01364aab97a403bbf5c837634a6330a.jpg\"><\/img> \n<br>\n<small>Bitch eating crackers meme picture, \u00a9 <a href=\"https:\/\/pinterest.com\">Pinterest<\/a>.<\/small>\n\n"}}