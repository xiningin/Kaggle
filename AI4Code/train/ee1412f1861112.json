{"cell_type":{"fc0f502d":"code","89d3fbea":"code","fd26fc1f":"code","e4c011d0":"code","9ebac5f2":"code","7bf0278b":"code","45e5cc95":"code","359a449d":"code","4bec3b33":"code","70dcb59f":"code","b265ffb0":"code","b5490fdc":"code","78161bb1":"code","909f2d4f":"code","f5ef3843":"code","4292f418":"code","efb95e4e":"code","c9d5315e":"code","f3e41afb":"code","7811f8c5":"code","066a894b":"code","37078e1e":"code","2503b947":"code","d371d2f2":"code","9de43946":"code","bfab437c":"code","d4d4c3d5":"markdown","9b6b304c":"markdown","cefe2256":"markdown","785814ce":"markdown","983ae186":"markdown","c432a5c1":"markdown","fc9139ab":"markdown","6e12b2f9":"markdown","7fa3eb6b":"markdown","e789a52f":"markdown","ababa306":"markdown","1557a355":"markdown","0be0f457":"markdown","0b28bc46":"markdown","37da7070":"markdown","7a6cc74a":"markdown","1bba9381":"markdown","474d304d":"markdown","ff331a6f":"markdown","315d27b2":"markdown","3c23c17f":"markdown","716b7ccc":"markdown","f554b796":"markdown"},"source":{"fc0f502d":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","89d3fbea":"import seaborn as sns\nimport matplotlib.pyplot as plt","fd26fc1f":"data =pd.read_csv('..\/input\/nyc-crime-stats\/NYC_crime.csv')","e4c011d0":"data.head()","9ebac5f2":"c_data = data.rename(columns={':@computed_region_f5dn_yrer' : 'Community District',\n                             ':@computed_region_yeji_bk3q' : 'Borough Boundaries',\n                             ':@computed_region_92fq_4b7q' : 'City Council Districts',\n                             ':@computed_region_sbqj_enih' : 'Police Precincts'})\nc_data = c_data.drop(columns=['Unnamed: 0'])\nc_data['arrest_date'] = pd.to_datetime(c_data['arrest_date'], format='%Y-%m-%d')\nc_data['law_cat_cd'] = c_data['law_cat_cd'].map({'F':'Felony',\n                                                'M':'Misdemeanor',\n                                                'V':'Violation',\n                                                'I':'Infractions'})","7bf0278b":"c_data.head()","45e5cc95":"c_data.info()","359a449d":"for x in c_data.columns:\n    print(f'Unique # of {x}: ', c_data[x].nunique())","4bec3b33":"import folium # goelogical map\nmap_1 = folium.Map(location=[40.7128,-73.9060 ],tiles='OpenStreetMap',\n zoom_start=11)\nfor each in c_data[:2500].iterrows():\n    if each[1]['law_cat_cd'] == 'Misdemeanor':\n        folium.CircleMarker([each[1]['latitude'],each[1]['longitude']],\n                            radius=2,\n                            color='navy',\n                            tooltip=str(each[1]['law_cat_cd']),\n                            fill_opacity=0.4,\n                            opacity=0.4\n                            ).add_to(map_1)\n    elif each[1]['law_cat_cd'] == 'Felony':\n        folium.CircleMarker([each[1]['latitude'],each[1]['longitude']],\n                            radius=2,\n                            color='orange',\n                            tooltip=str(each[1]['law_cat_cd']),\n                            fill_opacity=0.4,\n                            opacity=0.4\n                            ).add_to(map_1)\n    elif each[1]['law_cat_cd'] == 'Violation':\n        folium.CircleMarker([each[1]['latitude'],each[1]['longitude']],\n                            radius=2,\n                            color='green',\n                            tooltip=str(each[1]['law_cat_cd']),\n                            fill_opacity=0.4,\n                            opacity=0.4\n                            ).add_to(map_1)\n    elif each[1]['law_cat_cd'] == 'Infractions':\n        folium.CircleMarker([each[1]['latitude'],each[1]['longitude']],\n                            radius=2,\n                            color='red',\n                            tooltip=str(each[1]['law_cat_cd']),\n                            fill_opacity=0.4,\n                            opacity=0.4\n                            ).add_to(map_1)\nmap_1","70dcb59f":"c_data['arrest_date'].describe()","b265ffb0":"c_data['arrest_date'].dt.year.value_counts()","b5490fdc":"y_arrest_date = c_data['arrest_date'].dt.year\nsns.countplot(x=y_arrest_date, palette='rocket')\n_ = plt.xticks(rotation=45)","78161bb1":"custom_palette = sns.color_palette(\"Paired\", 9)\nplt.figure(figsize=(20,10))\nsns.countplot(x=y_arrest_date, palette=custom_palette, hue=c_data['law_cat_cd'])\n_ = plt.xticks(rotation=45)","909f2d4f":"plt.figure(figsize=(20,10))\nsns.countplot(x=c_data['perp_race'], palette=custom_palette, hue=c_data['perp_sex'])\n_ = plt.xticks(rotation=45)","f5ef3843":"plt.figure(figsize=(20,10))\nsns.countplot(x=c_data['age_group'], palette=custom_palette, hue=c_data['law_cat_cd'])\n_ = plt.xticks(rotation=45)","4292f418":"recent_data = c_data[c_data['arrest_date'].dt.year == 2019]\nrecent_data","efb95e4e":"m_cd_list = [7,11,12,18,19,20,23,37,39,47,56,57,70,71] # Order of Community District on Plot Below\nm_data = recent_data[recent_data['arrest_boro'] == 'M']\nlabels1 = []\nfor x in m_cd_list:\n    labels1.append(str(x) + '\\n' + str(round(len(m_data[m_data['Community District'] == x]) \/ len(m_data) * 100, 2))+'%')","c9d5315e":"plt.figure(figsize=(20,20))\nsns.countplot(x=m_data['Community District'])\n_ = plt.xlabel('Community Districts (Manhattan)')\nlocs, label = plt.xticks()\nnew_xticks = labels1\n_ = plt.xticks(locs, new_xticks, fontsize=15) ","f3e41afb":"k_cd_list = [1,2,5,9,10,13,14,16,17,21,32,33,36,42,45,46,54,55,60,61,62,68,69]\nk_data = recent_data[recent_data['arrest_boro'] == 'K']\nlabels2 = []\nfor x in k_cd_list:\n    labels2.append(str(x) + '\\n' + str(round(len(k_data[k_data['Community District'] == x]) \/ len(k_data) * 100, 2))+'%')","7811f8c5":"plt.figure(figsize=(20,20))\nsns.countplot(x=k_data['Community District'])\n_ = plt.xlabel('Community Districts (Brooklyn)')\nlocs, label = plt.xticks()\nnew_xticks = labels2\n_ = plt.xticks(locs, new_xticks, fontsize=12) ","066a894b":"b_cd_list = [6,8,12,24,27,28,29,34,35,43,44,48,49,50,58,59]\nb_data = recent_data[recent_data['arrest_boro'] == 'B']\nlabels3 = []\nfor x in b_cd_list:\n    labels3.append(str(x) + '\\n' + str(round(len(b_data[b_data['Community District'] == x]) \/ len(b_data) * 100, 2))+'%')","37078e1e":"plt.figure(figsize=(20,20))\nsns.countplot(x=b_data['Community District'])\n_ = plt.xlabel('Community Districts (Bronx)')\nlocs, label = plt.xticks()\nnew_xticks = labels3\n_ = plt.xticks(locs, new_xticks, fontsize=12) ","2503b947":"q_cd_list = [3,22,25,26,38,39,40,41,42,45,46,51,52,53,54,62,63,64,65,66,67]\nq_data = recent_data[recent_data['arrest_boro'] == 'Q']\nlabels4 = []\nfor x in q_cd_list:\n    labels4.append(str(x) + '\\n' + str(round(len(q_data[q_data['Community District'] == x]) \/ len(q_data) * 100, 2))+'%')","d371d2f2":"plt.figure(figsize=(20,20))\nsns.countplot(x=q_data['Community District'])\n_ = plt.xlabel('Community Districts (Queens)')\nlocs, label = plt.xticks()\nnew_xticks = labels4\n_ = plt.xticks(locs, new_xticks, fontsize=12)","9de43946":"s_cd_list = [4,15,30,31]\ns_data = recent_data[recent_data['arrest_boro'] == 'S']\nlabels5 = []\nfor x in s_cd_list:\n    labels5.append(str(x) + '\\n' + str(round(len(s_data[s_data['Community District'] == x]) \/ len(s_data) * 100, 2))+'%')","bfab437c":"plt.figure(figsize=(20,20))\nsns.countplot(x=s_data['Community District'])\n_ = plt.xlabel('Community Districts (Staten Island)')\nlocs, label = plt.xticks()\nnew_xticks = labels5\n_ = plt.xticks(locs, new_xticks, fontsize=12)","d4d4c3d5":"> **The Crime Occurrence has been decreasing annually**","9b6b304c":"> **2019 Bronx Crime Rate Visualization (Community Districts)**","cefe2256":"# > **Handling Columns**","785814ce":"> **2019 Manhattan Crime Rate Visualization (Community Districts)**","983ae186":"# > **Visualize Data by Age Group**","c432a5c1":"> **2019 Queens Crime Rate Visualization (Community Districts)**","fc9139ab":"# > **Visualize Data By Arrest_Date**","6e12b2f9":"> **The Number of Misdemeanor,Infraction and Violation Offense have been decreasing while the Number of Felony has been the same since 2006**","7fa3eb6b":"**Navy Circle: Misdemeanor <br>\nOrange Circle: Felony <br>\nGreen Circle: Violation <br>\nRed Circle: Infraction**","e789a52f":"# > **Separation of Community Districts with most recent data**","ababa306":"# > **Visualize Data by Race\/Sex**","1557a355":"**Tourists Visit Guide (Brooklyn) <br>\nSafe Places to Visit : 13, 33, 46, 54, 62 <br>\nConcerened Places to Visit : 1, 2, 5, 9, 10, 14, 16, 17, 21, 32, 36, 42, 60, 61  <br>\nDangerous Places to Visit: 45, 55, 68, 69, 61**","0be0f457":"> **2019 Staten Island Crime Rate Visualization (Community Districts)**","0b28bc46":"> **2019 Brooklyn Crime Rate Visualization (Community Districts)**","37da7070":"> **Above shows that Male has higher crime rate than that of Female, and Black People committed more crimes compared to other race**","7a6cc74a":"# > **Unique Values of each Column**","1bba9381":"**Tourists Visit Guide (Staten Island) <br>\nSafe Places to Visit : 31 <br>\nConcerened Places to Visit : 15, 30<br>\nDangerous Places to Visit: 4**","474d304d":"**Tourists Visit Guide (Queens) <br>\nSafe Places to Visit : 3, 38, 42, 45, 52, 64, 67 <br>\nConcerened Places to Visit : 22, 25, 26, 39, 40, 41, 46, 51, 53, 54, 62, 63, 66<br>\nDangerous Places to Visit: 41, 65**","ff331a6f":"> **Above shows that the crime occurred the most in 2009-02-11 (1391 Times), while by year, the highest crime rate year is 2011**","315d27b2":"**Tourists Visit Guide (Bronx) <br>\nSafe Places to Visit : 19, 39 <br>\nConcerened Places to Visit : 8, 34, 35, 43, 48, 58, 59<br>\nDangerous Places to Visit: 6, 24, 29, 49, 50**","3c23c17f":"> **Among all the Age Groups, the relative weight of each offense is the same \n(Misdemeanor > Felony > Violation > Infraction)**","716b7ccc":"# > **Map Visualization (2500 rows)**","f554b796":"**Tourists Visit Guide (Manhattan) <br>\nSafe Places to Visit : 19, 39 <br>\nConcerened Places to Visit : 20, 23, 37, 47, 56, 57, 71  <br>\nDangerous Places to Visit: 7,11,12,18, 70**"}}