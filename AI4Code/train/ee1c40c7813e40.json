{"cell_type":{"a5ce2ab2":"code","4c934b9b":"code","fba915ae":"code","6f79d71c":"code","2d0f40a8":"code","c984fed5":"code","c209f57f":"code","7b7402b9":"code","f9b86961":"code","f5227ff8":"code","afbd5dae":"code","92465683":"code","e3533533":"code","0f29faee":"code","273fd9c7":"code","554a54fd":"code","2b92ab03":"code","77d84857":"code","68350f12":"code","ca0ad8bc":"code","e7c8512e":"code","a02d382b":"code","e4f3a274":"code","d147ca45":"markdown","c4fd4f14":"markdown","c7d1c46e":"markdown","280c13bd":"markdown","686f5d93":"markdown","21024657":"markdown","811f4aa4":"markdown","f0276b47":"markdown","67a16c82":"markdown","c3f5b5d5":"markdown","0c0444c2":"markdown","87e9c3d4":"markdown","c18102db":"markdown","7c6fea71":"markdown","54b95825":"markdown"},"source":{"a5ce2ab2":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport numpy as np \nimport pandas as pd \nimport matplotlib.pyplot as plt\nimport seaborn as sns\n#warnings.filterwarnings('ignore')\nfrom textblob import TextBlob\nimport spacy\nfrom collections import Counter\n","4c934b9b":"df=pd.read_csv(\"..\/input\/review\/Test Data.csv\")\ndf.head()","fba915ae":"df.shape","6f79d71c":"df.info()","2d0f40a8":"df.isna().sum()","c984fed5":"x=df[\"Location\"].unique()\nprint(x)\nprint(\"Total Unique City\",len(x))","c209f57f":"#Dropping Row's For Review Column Which Has NaN Values.\n\ndf_modified=df.dropna(axis=0,how=\"any\",subset=[\"Review\"])","7b7402b9":"#Filling NaN Value In Location With The Most Frequent Occuring Location.\n\ndf_modified[\"Location\"].mode()\nvalues = {'Location':\"United States of America\"}\ndf_modified.fillna(value=values,inplace=True)","f9b86961":"df_modified.isna().sum()","f5227ff8":"df_modified['Word_count']= df_modified['Review'].map(lambda x: len(x.split()))\ndf_modified.head()","afbd5dae":"plt.figure(figsize=(25, 12))\nsns.countplot(df_modified['Word_count'].head(100))","92465683":"def polarity(text):\n    blob= TextBlob(text)\n    blob.sentiment\n    polarity= blob.sentiment.polarity\n    \n    return polarity\n\ndef subjectivity(text):\n    blob= TextBlob(text)\n    blob.sentiment\n    subjectivity= blob.sentiment.subjectivity\n    \n    return subjectivity","e3533533":"df_modified['Polarity']= df_modified['Review'].apply(polarity)\ndf_modified['Subjectivity']= df_modified['Review'].apply(subjectivity)\ndf_modified","0f29faee":"sns.distplot(df_modified[\"Polarity\"])","273fd9c7":"sns.distplot(df_modified[\"Subjectivity\"])","554a54fd":"sns.lmplot(x=\"Polarity\",y=\"Word_count\",data=df_modified)","2b92ab03":"df_modified['Date_count'] = df_modified.date.map(df_modified.groupby('date').size())\ndf_modified.sort_values('Date_count',ascending=False).head(150)","77d84857":"plt.figure(figsize=(15,6))\nsns.scatterplot(x=\"date\",y=\"Date_count\",data=df_modified.sort_values('Date_count',ascending=False).head(750))","68350f12":"nlp= spacy.load('en_core_web_sm')\n\ndef preprocess(text):\n    lower= text.lower()\n    doc= nlp(lower)\n    tokens= [token.lemma_ for token in doc ]\n    a_lemma= [lemma for lemma in tokens if lemma not in spacy.lang.en.stop_words.STOP_WORDS and lemma.isalpha()]\n    return \" \".join(a_lemma)","ca0ad8bc":"df_modified['Review_new']= df_modified['Review'].apply(preprocess)","e7c8512e":"df_modified.head()","a02d382b":"rev= \" \".join([review for review in df_modified['Review_new']])\nrev[:2000]","e4f3a274":"from wordcloud import WordCloud\nplt.figure(figsize=(15,10))\nwc= WordCloud(max_words=200,height= 800, width=1000 ,background_color='black').generate(rev)\nplt.imshow(wc)","d147ca45":"***INSIGHT***","c4fd4f14":"1. The average value of polarity lies between 0.5 to +1 which indicates that most of the guest review's seem positive and    neutral.\n2. The average value of subjectivity lies between 0.4 to 0.7 which indicates that most of the guest review's are subjected    to personal opinion.","c7d1c46e":"***INSIGHT***","280c13bd":" # **Reading Data**","686f5d93":"The customer churn in June and May is more in comparison to the winters.","21024657":"The most frequent words that are appearing in guest's reviews are Hotel, Breakfast, Property, Great Location, Shower, Parking Etc.","811f4aa4":"# Dataset Information","f0276b47":"Most guests reviewed the place in between 11 to 40 words.","67a16c82":"# Data Analysis ","c3f5b5d5":"# Data Preprocessing\/Cleaning","0c0444c2":"# **Importing Module**","87e9c3d4":"***INSIGHT***","c18102db":"***INSIGHT***","7c6fea71":"***INSIGHT***","54b95825":"The word Count of neutral guests is more which implies that the users who are neither happy nor dissappointed have the most opinion."}}