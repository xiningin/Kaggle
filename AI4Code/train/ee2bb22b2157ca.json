{"cell_type":{"3f559a35":"code","3a1d4304":"code","8c5dfe72":"code","50c83f5b":"code","4136d320":"code","27f0a5bf":"code","57789c50":"code","9ad5ea5a":"code","5b5b1522":"code","25575e85":"code","7bf1f795":"code","4679dc12":"code","cbee7f4b":"code","6f4147ef":"code","06e9fb12":"code","bd195cf2":"code","67cd568e":"code","a661a9d5":"code","2a3cb7b9":"markdown","db72da1d":"markdown","bb9db5e0":"markdown","b8b3731a":"markdown","723030be":"markdown","52baa20e":"markdown"},"source":{"3f559a35":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","3a1d4304":"import os\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\n\nfrom sklearn.preprocessing import PolynomialFeatures\nfrom sklearn.linear_model import LinearRegression","8c5dfe72":"data = \"\/kaggle\/input\/russian-passenger-air-service-20072020\/russian_passenger_air_service_2.csv\"\ndf = pd.read_csv(data)\ndf.head()","50c83f5b":"df['Total'] = df['January'] + df['February'] + df['March'] + df['April'] + df['May'] + df['June'] + df['July'] + df['August'] + df['September'] + df['October'] + df['November'] + df['December']\ndf['Quarter_one'] = df['January'] + df['February'] + df['March']\ndf['Quarter_two'] = df['April'] + df['May'] + df['June']\ndf['Quarter_three'] = df['July'] + df['August'] + df['September']\ndf['Quarter_four'] = df['October'] + df['November'] + df['December']\ndf.dropna()\ndf.head()","4136d320":"df_Pivot = df.pivot_table(index='Airport name', columns='Year', values='Total')\ndf_Pivot.head()","27f0a5bf":"df_Pivot.columns","57789c50":"df_Pivot['Sum'] = df_Pivot.sum(axis=1)\ndf_Pivot.head()","9ad5ea5a":"df_Pivot_20 = df_Pivot.nlargest(20, 'Sum')\n\nsns.set(rc={'figure.figsize':(10,6)})\nsns.set(style='whitegrid', rc={\"grid.linewidth\": 0.1})\nsns.set_context(\"paper\", font_scale=1.4)\nsns.despine(left=True, bottom=True)\n\nax = sns.barplot(x = df_Pivot_20.index, y = df_Pivot_20['Sum']).set(title=\"Top 20 Busiest Airports in Russia from 2007 to 2020\", xlabel = 'Airports', ylabel=\"Total Passenger since 2007\")\n\nplt.xticks(rotation=45, ha='right', fontweight='light', fontsize='small');","5b5b1522":"#Group the data\n\nTotal_January = df.groupby(\"Airport name\")['January'].mean()\nTotal_January_10 = Total_January.nlargest(10, keep='first')\n\nTotal_February = df.groupby(\"Airport name\")['February'].mean()\nTotal_February_10 = Total_February.nlargest(10, keep='first')\n\nTotal_March = df.groupby(\"Airport name\")['March'].mean()\nTotal_March_10 = Total_March.nlargest(10, keep='first')\n\nTotal_April = df.groupby(\"Airport name\")['April'].mean()\nTotal_April_10 = Total_April.nlargest(10, keep='first')\n\nTotal_May = df.groupby(\"Airport name\")['May'].mean()\nTotal_May_10 = Total_May.nlargest(10, keep='first')\n\nTotal_June = df.groupby(\"Airport name\")['June'].mean()\nTotal_June_10 = Total_June.nlargest(10, keep='first')\n\nTotal_July = df.groupby(\"Airport name\")['July'].mean()\nTotal_July_10 = Total_July.nlargest(10, keep='first')\n\nTotal_August = df.groupby(\"Airport name\")['August'].mean()\nTotal_August_10 = Total_August.nlargest(10, keep='first')\n\nTotal_September = df.groupby(\"Airport name\")['September'].mean()\nTotal_September_10 = Total_September.nlargest(10, keep='first')\n\nTotal_October = df.groupby(\"Airport name\")['October'].mean()\nTotal_October_10 = Total_October.nlargest(10, keep='first')\n\nTotal_November = df.groupby(\"Airport name\")['November'].mean()\nTotal_November_10 = Total_November.nlargest(10, keep='first')\n\nTotal_December = df.groupby(\"Airport name\")['December'].mean()\nTotal_December_10 = Total_December.nlargest(10, keep='first')","25575e85":"fig, ax = plt.subplots(figsize=(15,15), ncols=3, nrows=4)\nsns.set(style='whitegrid', rc={\"font.size\":8,\"axes.titlesize\":10,\"axes.labelsize\":8})\nsns.set_context(\"paper\", font_scale=1.2)\n\n\nsns.barplot(x = Total_January_10.axes[0], y = Total_January_10, ax=ax[0][0])\nsns.barplot(x = Total_February_10.axes[0], y = Total_February_10, ax=ax[0][1])\nsns.barplot(x = Total_March_10.axes[0], y = Total_March_10, ax=ax[0][2])\nsns.barplot(x = Total_April_10.axes[0], y = Total_April_10, ax=ax[1][0])\nsns.barplot(x = Total_May_10.axes[0], y = Total_May_10, ax=ax[1][1])\nsns.barplot(x = Total_June_10.axes[0], y = Total_June_10, ax=ax[1][2])\nsns.barplot(x = Total_July_10.axes[0], y = Total_July_10, ax=ax[2][0])\nsns.barplot(x = Total_August_10.axes[0], y = Total_August_10, ax=ax[2][1])\nsns.barplot(x = Total_September_10.axes[0], y = Total_September_10, ax=ax[2][2])\nsns.barplot(x = Total_October_10.axes[0], y = Total_October_10, ax=ax[3][0])\nsns.barplot(x = Total_November_10.axes[0], y = Total_November_10, ax=ax[3][1])\nsns.barplot(x = Total_December_10.axes[0], y = Total_December_10, ax=ax[3][2])\n\nplt.subplots_adjust(top = 0.99, bottom=0.01, hspace=1.3, wspace=0.4)\n    \n\nfor ax in ax.flat:\n    ax.set_xticklabels(ax.get_xticklabels(), rotation=75, ha='right', fontweight='light', fontsize='small');\n    ax.axes.set_title(\"Busiest Airports in Russia\");\n    ax.axes.set_xlabel(\"Airports\");\n    \nsns.despine(left=True, bottom=True)                                                   ","7bf1f795":"#Group the data by quarter\n\nTotal_Q1 = df.groupby(\"Airport name\")['Quarter_one'].mean()\nTotal_Q1_10 = Total_Q1.nlargest(10, keep='first')\n\nTotal_Q2 = df.groupby(\"Airport name\")['Quarter_two'].mean()\nTotal_Q2_10 = Total_Q2.nlargest(10, keep='first')\n\nTotal_Q3 = df.groupby(\"Airport name\")['Quarter_three'].mean()\nTotal_Q3_10 = Total_Q3.nlargest(10, keep='first')\n\nTotal_Q4 = df.groupby(\"Airport name\")['Quarter_three'].mean()\nTotal_Q4_10 = Total_Q4.nlargest(10, keep='first')","4679dc12":"fig, axs = plt.subplots(figsize=(12,8), ncols=2, nrows=2)\nsns.set(style='whitegrid', rc={\"grid.linewidth\": 0.1})\nsns.set_context(\"paper\", font_scale=1.2)\n\n\nsns.barplot(x = Total_Q1_10.axes[0], y = Total_Q1_10, ax=axs[0][0]).set(title=\"Busiest Airports in Quarter One\", ylabel=\"Average Quarter One Passengers\")\nsns.barplot(x = Total_Q2_10.axes[0], y = Total_Q2_10, ax=axs[0][1]).set(title=\"Busiest Airports in Quarter Two\", ylabel=\"Average Quarter Two Passengers\")\nsns.barplot(x = Total_Q3_10.axes[0], y = Total_Q3_10, ax=axs[1][0]).set(title=\"Busiest Airports in Quarter Three\", ylabel=\"Average Quarter Three Passengers\")\nsns.barplot(x = Total_Q4_10.axes[0], y = Total_Q4_10, ax=axs[1][1]).set(title=\"Busiest Airports in Quarter Four\", ylabel=\"Average Quarter Four Passengers\")\n\nplt.subplots_adjust(top = 1.0, bottom=0.01, hspace=0.9, wspace=0.4)\n\n   \n\nfor ax in axs.flat:\n    ax.set_xticklabels(ax.get_xticklabels(), rotation=75, ha='right', fontweight='light', fontsize='small');\n    ax.axes.set_xlabel(\"Airports\",fontsize=12);\n    \nsns.despine(left=True, bottom=True)                                 ","cbee7f4b":"Avg_Year_Values = df.groupby(\"Year\")['Total'].mean()\nAvg_Year_Values.head()","6f4147ef":"x = Avg_Year_Values.axes[0].values.reshape(-1,1)\ny = Avg_Year_Values.values.reshape(-1,1)\nprint(x.shape)\nprint(y.shape)","06e9fb12":"Poly_reg=PolynomialFeatures(degree=1) \nx_poly=Poly_reg.fit_transform(x)\nLin_reg = LinearRegression()\nLin_reg.fit(x_poly,y)","bd195cf2":"# Splitting the dataset into the Training set and Test set\nfrom sklearn.model_selection import train_test_split \nX_train, X_test, y_train, y_test = train_test_split(x, y, test_size=0.3, random_state=0)","67cd568e":"lin_reg = LinearRegression()\nlin_reg.fit(x, y)\n\nplt.figure(figsize=(14, 8))\nplt.scatter(x,y)\nplt.xlim(2007,2019)\nplt.xlabel(\"Years\",fontsize=14)\nplt.ylabel(\"Total Passengers\",fontsize=14)\nplt.title(\"Russia Airport Passengers by Years\",fontdict={'fontsize': 18, 'fontweight': 'medium'},color='m')\nplt.grid(color='k', linestyle='dotted', linewidth=0.5)\ny_pred=Lin_reg.predict(x_poly)\nplt.plot(x,y_pred,color=\"r\",label=\"Polynomial Regression Model\")\nplt.legend()\nplt.show()","a661a9d5":"# Predicting total number of passengers in year(n) with Polymonial Regression\nn = 2022;\nPrediction = int(Lin_reg.predict(Poly_reg.fit_transform([[n]])));\nprint(\"The Predicted number of passengers \", n, \"is\", Prediction)","2a3cb7b9":"### Regression","db72da1d":"##### Plot of top 10 busiest airports in Russia from January to December","bb9db5e0":"#### Forecasting","b8b3731a":"#### Investigating top 10 busiest airports by months in Russia","723030be":"#### Investigating the 20 busiest airports in Russia since 2007","52baa20e":"##### Plot of top 10 busiest airports in Russia quarterly average"}}