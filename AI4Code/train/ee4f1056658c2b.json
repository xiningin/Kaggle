{"cell_type":{"029c71d9":"code","b8323730":"code","4b995ed8":"code","172ce4a0":"code","80170f52":"code","3a0d090f":"code","95680ead":"code","169673a4":"code","85e61698":"code","d3ac3a89":"code","aa6c708f":"code","417134d3":"code","20054136":"code","7291da52":"markdown","ce02b830":"markdown","5a1e752b":"markdown","614e2c4b":"markdown","758cd513":"markdown","d7d2e10f":"markdown","c251f79e":"markdown","84b006e6":"markdown","967cafd1":"markdown"},"source":{"029c71d9":"import sys\nimport numpy as np                # linear algebra\nimport pandas as pd               # data frames\nimport seaborn as sns             # visualizations\nimport matplotlib.pyplot as plt   # visualizations\nimport scipy.stats                # statistics\nfrom nltk.corpus import stopwords\nfrom sklearn import preprocessing\nimport json\nimport string\nimport os\nfrom os import path\nfrom PIL import Image\nfrom wordcloud import WordCloud, STOPWORDS, ImageColorGenerator\nimport matplotlib.pyplot as plt\nimport nltk\n","b8323730":"tweets = []\nfor line in open('..\/input\/NintendoTweets.json', 'r'):\n    if len(line)>1:\n        tweets.append(json.loads(line))","4b995ed8":"def clean_text(text, stop_w):\n    text = text.lower()\n    text = text.replace('@',' ')\n    text = text.replace('#',' ')\n    text = text.replace('.',' ')\n    text = text.replace(',',' ')  \n    text = text.replace('\\n',' ')\n    text = text.replace('!',' ')\n    text = text.replace('?',' ')\n    text = text.replace('\u00a1',' ')\n    text = text.replace('\u00bf',' ')\n    text = text.replace(':',' ')\n    return text\n\n","172ce4a0":"cant_inicial=len(tweets)\nfor t in tweets:\n    if 'text' in t:\n        t['text'] = clean_text(t['text'], stop_w)\n    else:\n        #print(\"NO TIENE TEXTO: \"+str(t))\n        tweets.remove(t)\ncant_final=len(tweets)\n\nprint(str(cant_inicial) + \" -> \"+ str(cant_final))","80170f52":"\ncomplete_text = ''\n\n\nfor t in tweets:\n    if 'text' in t:\n        tokens = t['text'].split(' ')\n        for token in tokens:\n            complete_text += ' '+token\n\nwordcloud = WordCloud(width = 800, height = 800,\n                background_color ='white',\n                stopwords = stopwords.words('english')+['http','co','rt','https','\/\/t','``','sm',\"n't\",'c','p','r','(',')','#','m','h',\"'m\",\"'\",\"'s\",'f','\u2026','sh','n'],\n                min_font_size = 10).generate(complete_text)\n\n# plot the WordCloud image                       \nplt.figure(figsize = (8, 8), facecolor = None)\nplt.imshow(wordcloud)\nplt.axis(\"off\")\nplt.tight_layout(pad = 0)\n \nplt.show()","3a0d090f":"tweets_words = nltk.tokenize.word_tokenize(complete_text)\ntweets_filtered=[word for word in tweets_words if word not in stopwords.words('english')+['http','co','rt','https','\/\/t','``','sm',\"n't\",'c','p','r','(',')','#','m','h',\"'m\",\"'\",\"'s\",'f','\u2026','sh','n']]\ntweets_tokens = nltk.Text(tweets_filtered)\nfreqrp=nltk.FreqDist(tweets_tokens)\ntop20 = freqrp.most_common(20)\nprint(\"TOP 20 COMUNES: \"+ str(top20))\n","95680ead":"import numpy as np\n\ntop20_tuples = [(v, k) for k, v in top20]\nx, y = zip(*top20_tuples)\nprint(x)\ny_pos = np.arange(len(x))\n\nplt.barh(y, x, align='center', alpha=0.5)\nplt.yticks(y_pos, y)\nplt.xlabel('Cantidad de ocurrencias')\nplt.title('Top 20 palabras usadas')\nplt.show()","169673a4":"import re\nimport operator\n\nsource = {}\nfor t in tweets:\n    if 'source' in t:\n        s = t['source']\n        result = re.search(r'\\\">(.*)<\\\/', s)\n        if result.group(1) in source:\n            source[result.group(1)] += 1\n        else:\n            source[result.group(1)] = 1\n           \n    \nsource_top = dict(sorted(source.items(), key=operator.itemgetter(1), reverse=True)[:5])\nprint(source_top)","85e61698":"source_top_tuples = [(v, k) for k, v in source_top.items()]\n\nx, y = zip(*source_top_tuples)\ny_pos = np.arange(len(x))\n\nplt.barh(y, x, align='center', alpha=0.5)\nplt.yticks(y_pos, y)\nplt.xlabel('Source')\nplt.title('E3 2018 Nintendo Conference - tweets source')\nplt.show()","d3ac3a89":"text_x_minute = {}\n\nfor t in tweets:\n    if 'created_at' in t:\n        t_date = t['created_at']\n        result = re.search(r':(.*):', t_date)\n        if result.group(1) not in text_x_minute:\n            text_x_minute[result.group(1)] = ''\n        tokens = t['text'].split(' ')\n        for token in tokens:\n            text_x_minute[result.group(1)] += ' '+token\n","aa6c708f":"!{sys.executable} -m pip install sentic\n!{sys.executable} -m pip install senticnet","417134d3":"from sentic import SenticPhrase\n\ntext_x_minute_sentiment = {}\n\nfor txm in text_x_minute.keys():\n    sp = SenticPhrase(text_x_minute[txm])\n    sp_sentiment=sp.get_sentiment()\n    if 'positive' in sp_sentiment:\n        text_x_minute_sentiment[txm]=1\n    if 'negative' in sp_sentiment:\n        text_x_minute_sentiment[txm]=-1\n    if 'neutral' in sp_sentiment:\n        text_x_minute_sentiment[txm]=0\n\nprint(text_x_minute_sentiment)","20054136":"        \ntext_x_minute_top = {}\nfor txm in text_x_minute.keys():\n    tweets_words = nltk.tokenize.word_tokenize(text_x_minute[txm])\n    tweets_filtered=[word for word in tweets_words if word not in stopwords.words('english')+['http','co','rt','https','\/\/t','``','sm',\"n't\",'c','p','r','(',')','#','m','h',\"'m\",\"'\",\"'s\",'f','\u2026','sh','n']]\n    tweets_tokens = nltk.Text(tweets_filtered)\n    freqrp=nltk.FreqDist(tweets_tokens)\n    top_word = freqrp.most_common(1)\n    text_x_minute_top[txm] = top_word\n\nprint(text_x_minute_top)","7291da52":"4. Uni\u00f3n de textos para anal\u00edsis de las palabras implementadas\n\nEl an\u00e1lisis a realizar consiste en detectar cuales fueron las palabras m\u00e1s utilizadas a lo largo de la conferencia.","ce02b830":"**Analisis de tweets durante la presentaci\u00f3n de Nintendo en el E3 2018**\n\nDesde peque\u00f1o me han apasionado los videojuegos desde el nintendo64 hasta las consolas m\u00e1s modernas como el xbox one x, adem\u00e1s tambien se encuentra el pc que por su flexibilidad y variedad puede brindar una gran experiencia de juego. El mergado de los videojuegos genera muchas aficiones, mucho fanatismo y muchos que defienden a capa y espada cada una de sus consolas, por estos motivos me llama considerablemente la atenci\u00f3n, la capacidad para identificar como reaccionan y como se sienten las personas ante un evento de este tipo siendo el protagonista una de las 3 compa\u00f1ias lideres del mercado de videojuegos.\n\n","5a1e752b":"1. Carga de librerias","614e2c4b":"3. Limpieza de textos\n\nPara poder analizar el texto, obteniendo los mejores resultados, es importante prepararlos de la mejor manera de acuerdo a las necesidades.","758cd513":"Para terminar, se puede apreciar que los videojuegos siguen y seguiran moviendo a muchas personas y el an\u00e1lisis de las interacciones de estas en las diferentes redes sociales tiene un gran potencial para las empresas de este sector, tanto para estudiar su mercado como el de la competencia. Otro an\u00e1lisis interesante que se puede realizar consiste en el mensaje que va acompa\u00f1ado, en muchas ocasiones, por un sentimiento que genera un interlocutor en la audiencia. Esta a su vez transmite este mensaje y el sentimiento que genera en \u00e9l, casi que inmediatamente en redes sociales. Esto hace que actualmente no solo se trata del efecto que se genera en la audiencia directa, sino que como una piedra en un estanque, como este efecto se reproduce a una audiencia indirecta por medio de redes sociales.","d7d2e10f":"Lastimosamente, la herramienta Kaggle no permite la instalaci\u00f3n de la libreria de SenticNet pese a que hace m\u00e1s de un a\u00f1o los usuarios la han pedido (https:\/\/www.kaggle.com\/general\/13628), esto es una lastima, pues hay un gran potencial en el an\u00e1lisis de sentimientos en este y otros temas. Finalmente se opta por sacar un listado con las palabras m\u00e1s mensionadas en la red social durante cada minuto de la conferencia.","c251f79e":"2. Carga de archivo JSON","84b006e6":"6. An\u00e1lisis de sentimientos a lo largo de la conferencia\n\nEste es la parte m\u00e1s importante de todo el an\u00e1lisis y era lo que quer\u00eda abordar desde un principio, y es ver minuto a minuto como van cambiando los sentimientos (1: positivo, 0: neutro y -1: negativo) de las personas conrespecto a la conferencia de Nintendo en el E3 del 2018, de acuerdo a sus interacciones en la red social twitter. Esto permitir\u00e1 medir el impacto de los diversos anuncios a lo largo de la intervenci\u00f3n.\n","967cafd1":"5. Dispositivo desde el cual se public\u00f3 el tweet\n\nEn este an\u00e1lisis se busca identificar cuales son los dispositivos o fuentes m\u00e1s utilizados para postear los tweets, lo que puede llevar a analizar y saber desde que dispositivo est\u00e1 viendo la conferencia. Esto cobrar\u00eda mayor sentido, realizando un analisis m\u00e1s a fondo he incluso en otros sectores tecnologicos con los que la relaci\u00f3n podr\u00eda ser mayor, pero de momento este es el alcance que tiene."}}