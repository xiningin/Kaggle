{"cell_type":{"3ed6a09e":"code","c07aafe2":"code","6925cdfd":"code","3681ae17":"code","7a969922":"code","24a469e2":"code","1c3e77fa":"code","db935deb":"code","f6e5d8d3":"code","f9216651":"code","6c8a1c4a":"code","05afa4cc":"code","ed0fb239":"code","26feae43":"code","05986ad4":"markdown","3b30b6ea":"markdown","7014a984":"markdown","12b51259":"markdown","64de241d":"markdown","6854b2e1":"markdown","7036038c":"markdown","e747477f":"markdown","558f35de":"markdown"},"source":{"3ed6a09e":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport nltk\nfrom nltk.corpus import stopwords\nfrom wordcloud import WordCloud\nimport re\nfrom PIL import Image\nimport requests\nfrom io import BytesIO\n%matplotlib inline","c07aafe2":"data = pd.read_csv('..\/input\/Womens Clothing E-Commerce Reviews.csv')\ndata.head()","6925cdfd":"data.describe()","3681ae17":"data.isnull().sum()","7a969922":"reviewer = data.dropna(subset = ['Title', 'Review Text'])","24a469e2":"plt.figure(figsize = (16, 9))\nsns.countplot(x = 'Age', data = reviewer)\nplt.xticks(rotation = 60)\nplt.gca().spines['right'].set_visible(False)\nplt.gca().spines['top'].set_visible(False)\nplt.title('Number of reviews by age')\nplt.show()","1c3e77fa":"tmp_reviewer = reviewer['Age'].value_counts()\n\nprint(tmp_reviewer.idxmax(), 'is the age group who wrote the most reviews with', tmp_reviewer.max(), 'reviews')\nprint(tmp_reviewer.idxmin(), 'is the age group who wrote the least reviews with', tmp_reviewer.min(), 'reviews')","db935deb":"plt.figure(figsize = (16, 9))\nsns.countplot(x = 'Rating', data = data)\nplt.gca().spines['right'].set_visible(False)\nplt.gca().spines['top'].set_visible(False)\nplt.title('Distribution of rating')\nplt.show()","f6e5d8d3":"rating_deparment = data.groupby('Department Name', as_index = False).mean()\nsns.barplot(x = 'Department Name', y = 'Rating', data = rating_deparment)\nplt.gca().spines['right'].set_visible(False)\nplt.gca().spines['top'].set_visible(False)\nplt.title('Average rating by deparment')\nplt.show()","f9216651":"tmp_data = (data[data['Rating']==1])['Department Name'].value_counts()\nprint(tmp_data.idxmax(), 'is the deparment with the most 1-star rating with', tmp_data.max())","6c8a1c4a":"# prepare text data\n\n# firstly, we concatenate all review text in to a string and also lower all of them. They are separated by ' '\nall_words = data['Review Text'].str.lower().str.cat(sep = ' ')\n\n# removes punctuation, numbers and returns list of words\nall_words = re.sub('[^A-Za-z]+', ' ', all_words)\n\n# remove all stopwords and numeric from the text\nstop_words = set(stopwords.words('english'))\ntokens = nltk.word_tokenize(all_words)\nno_stop_words = []\nfor w in tokens:\n    if (w not in stop_words) and (w.isdigit() is False):\n        no_stop_words.append(w)","05afa4cc":"# count the frequency of word\nword_list = nltk.FreqDist(no_stop_words)","ed0fb239":"word_df = pd.DataFrame(word_list.most_common(100), columns=['Word', 'Frequency'])\n\nplt.figure(figsize = (10, 5))\nsns.barplot(x = 'Word', y = 'Frequency', data = word_df[:10])\nplt.title('Most 10 common words')\nplt.gca().spines['right'].set_visible(False)\nplt.gca().spines['top'].set_visible(False)\n\nplt.show()","26feae43":"wordcloud = WordCloud(max_words=200, background_color=\"white\").generate(all_words)\n# Display the generated image\nplt.imshow(wordcloud, interpolation='bilinear')\nplt.axis(\"off\")\nplt.margins(x=0, y=0)\nplt.show()","05986ad4":"## Load data","3b30b6ea":"## Review Text analysis","7014a984":"#### Wordcloud of the Review Text column","12b51259":"#### Most frequent words in Review Text","64de241d":"the average rating of these six deparments are not much different\n\nOur question now is which deparment has the most 1-star rating?","6854b2e1":"#### The age group of female who wrote the most and least reviews\n\nwe define a person as a reviewer if neither the title nor the review text is *Null*","7036038c":"Most people gave 5*","e747477f":"#### Rating by department","558f35de":"#### Distribution of rating"}}