{"cell_type":{"8c07d2cb":"code","3e834e04":"code","9106d99e":"code","5ca8de5b":"code","504a9b30":"code","f165f61f":"code","26a298f3":"code","7b85fa72":"code","04c8161e":"code","ec16cc53":"code","c2112141":"code","fdb8990a":"code","ad2e205c":"code","3c5118ed":"code","edc2f38d":"markdown","ab53b972":"markdown","38248591":"markdown","0fa73280":"markdown","0744b7c7":"markdown","53d3592e":"markdown","b5ae22b6":"markdown","dbac14be":"markdown","ee602c41":"markdown","3c26c484":"markdown","c5c4e0d2":"markdown","a793e681":"markdown","3a80c95e":"markdown","8bd0996f":"markdown","81e68f86":"markdown","a3646818":"markdown","0b3dd574":"markdown"},"source":{"8c07d2cb":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns# for plotting heatmaps\nimport matplotlib.pyplot as plt# for plotting histograms\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\nprint(\"This is my first time with kaggle\")\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","3e834e04":"train_data = pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")\n\n#quick look at the datatypes and the null counts\ntrain_data.info()\n","9106d99e":"#Looking into the training data to understand the data\ntrain_data.head()","5ca8de5b":"test_data = pd.read_csv(\"\/kaggle\/input\/titanic\/test.csv\")\n#Looking into the test data to understand the data\ntest_data.head()","504a9b30":"# to better understand the numerical data , we can use the .describe() method.This gives us an understanding of the central\n#tendencies of the data\n\ntrain_data.describe()\ntrain_data.describe().columns #just to display the column names","f165f61f":"# splitting the numerical and categorical data\ndf_num = train_data[['Age','SibSp', 'Parch', 'Fare']]\ndf_cat = train_data[['Survived','Pclass','Sex','Ticket','Cabin','Embarked']]","26a298f3":"#plotting a histogram for all the numerical data\nfor i in df_num.columns:\n    plt.hist(df_num[i])\n    plt.title(i)\n    plt.show()","7b85fa72":"#Now we will be checking for some correlations using the .corr() function\nprint(df_num.corr())\n# to check the same as a heatmap using the sns.heatmap() function\nsns.heatmap(df_num.corr())\n","04c8161e":"# compare survival rate across Age, SibSp, Parch, and Fare \npd.pivot_table(train_data, index = 'Survived', values = ['Age','SibSp','Parch','Fare'])","ec16cc53":"for i in df_cat.columns:\n    sns.barplot(df_cat[i].value_counts().index,df_cat[i].value_counts()).set_title(i)\n    plt.show()","c2112141":"print(pd.pivot_table(train_data, index = 'Survived', columns = 'Pclass', values = 'Ticket' ,aggfunc ='count'))\nprint()\nprint(pd.pivot_table(train_data, index = 'Survived', columns = 'Sex', values = 'Ticket' ,aggfunc ='count'))\nprint()\nprint(pd.pivot_table(train_data, index = 'Survived', columns = 'Embarked', values = 'Ticket' ,aggfunc ='count'))","fdb8990a":"women = train_data.loc[train_data.Sex==\"female\"][\"Survived\"]\nwomen_survival = sum(women)\/len(women)\nprint(\"% of women who survived:\", women_survival)","ad2e205c":"men= train_data.loc[train_data.Sex==\"male\"][\"Survived\"]\nmen_survival = sum(men)\/len(men)\nprint(\"% of men who survived:\", men_survival)","3c5118ed":"from sklearn.ensemble import RandomForestClassifier\n\ny = train_data[\"Survived\"]\n\nfeatures = [\"Pclass\", \"Sex\", \"SibSp\", \"Parch\"]\nX = pd.get_dummies(train_data[features])\nX_test = pd.get_dummies(test_data[features])\n\n\nmodel = RandomForestClassifier(n_estimators=100,max_depth=5,random_state=1)\nmodel.fit(X,y)\npredictions=model.predict(X_test)\n\nout = pd.DataFrame({'PassengerId':test_data.PassengerId,'Survived':predictions})\nout.to_csv(\"prediction_submission.csv\", index=False)\nprint(\"The prediction was successfully saved to prediction_submission.csv file\")\n","edc2f38d":"Even though it might not contribute directly, we might get a understanding of the data like younger people have survived more and the people who paid high fare had high chances of survival. These are the things we need to make note of while building our models.","ab53b972":"**From the above heatmap we can infer some correlations between features. for eg: 1) The number of parents and number of sibilings ie family tend to travel together.2)The Age and the number of siblings(SibSp) has a negative correlation and such. These help us to understand the different relationship in our data.**","38248591":"**From the above histogram we can know that the Age is a normal distribution whereas the other features are not normally distributed. So, we might need to normalise the features like Fare, to have its correct contribution during the Prediction**","0fa73280":"# **Corrplot**","0744b7c7":"# **To find the percentage of the women survived in titanic**","53d3592e":"# **RandomeForestClassifer model**","b5ae22b6":"# **Loading the test data to variable--> test_data**","dbac14be":"# **Pivot table comparing survival rate across numeric variables**","ee602c41":"**Creating the RandomeForestClassifer model to train and fit the data. After that we predict whether the passengers in the test_data had survived or not(0\/1). At the end we load the predictions to prediction_submission.csv.**","3c26c484":"# **Comparing survival and each of these categorical variables**","c5c4e0d2":"# **Loading the training data to variable--> train_data**","a793e681":"# **Splitting the numerical and categorical data**","3a80c95e":"# **To find the percentage of the men survived in titanic**","8bd0996f":"# **Categorical Data--bar charts to understand the categorical dat**a","81e68f86":"**From the above table we can see that there are lot of null values in Age  and Cabin Column and two null values in Embarked Column out of total 891 entries**","a3646818":"**From the above pivot table we can understand that relatively the lot of people from first class survived,lot of women compared to men were rescued first.We can understand that this feature(sex) will play an important contribution in the prediction.**","0b3dd574":"# **Plotting a histogram for all the numerical data**"}}