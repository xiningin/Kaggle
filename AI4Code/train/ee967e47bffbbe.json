{"cell_type":{"57ca8adf":"code","5631c87f":"code","8bc779e3":"code","d14d427b":"code","6c1d3787":"code","72cea324":"code","d40493a2":"code","a0c05be0":"code","1fac0c7f":"code","12281137":"code","82101556":"code","ef22b077":"code","5d8be380":"code","fb0d81fc":"code","0096fb25":"code","6c2aeee8":"code","6f6cc2b6":"code","2411337e":"code","c5f250fd":"code","7d900dcb":"code","ec5008cf":"code","0088d12a":"code","fd70d7b6":"code","2c8c8b90":"code","b43b1399":"code","1f7baf5f":"code","f4cbf677":"code","8b21a028":"code","af132df7":"code","3d5cb6e7":"code","1c58ba76":"code","53b81af0":"code","fd17c887":"code","9e7ee906":"code","12c95a2d":"code","10352ebe":"code","c66236e9":"code","201aa48a":"code","6b2771fb":"code","0eac7ad2":"code","ec3bcbb4":"code","dab1addc":"markdown","9764ef4b":"markdown","0c71ac23":"markdown","76a4fad9":"markdown","c2bb0803":"markdown","53e6269b":"markdown","707de27a":"markdown","db1605c5":"markdown","3897a64c":"markdown","f09f28dc":"markdown","89b6a9b2":"markdown","32c9dff1":"markdown","14f5b1b4":"markdown","c6c03cbb":"markdown","9f42a96a":"markdown","a5cdafd3":"markdown"},"source":{"57ca8adf":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px","5631c87f":"#Let us first understand the data","8bc779e3":"df = df = pd.read_csv(\"..\/input\/co2-and-ghg-emission-data\/emission data.csv\")","d14d427b":"df.head()","6c1d3787":"df.tail()","72cea324":"df.sample(5)","d40493a2":"df.columns","a0c05be0":"df.info()","1fac0c7f":"#Let us now see if there are any missing values","12281137":"df.isnull().sum().sum() #There are no missing values but seems like there are lot of zero values.","82101556":"df[df['1751']!= 0]","ef22b077":"#I will try to create descendng wise list for emmiters for year 2017","5d8be380":"year_17 = df.groupby('Country').agg({'2017':'sum'}).sort_values(by = '2017',ascending = False)","fb0d81fc":"year_17 #country-wise emmisions arranged descendingly","0096fb25":"#Now I am transposing the dataFrame and do some basic data operations for my ease of work","6c2aeee8":"df2 = df.T","6f6cc2b6":"df2 = df2.reset_index() ","2411337e":" df2.columns = df2.iloc[0]","c5f250fd":"df2 = df2.rename(columns = {'Country':'Year'})","7d900dcb":"df2.drop(0,inplace = True)","ec5008cf":"df2.Year.dtype #Year Converted to int","0088d12a":"df2 = df2.astype('float')","fd70d7b6":"#I have just converted dataframe to float type even though year column should propbably be int type or DateTime column.But float should make no difference.","2c8c8b90":"#Now let us plot some graphs","b43b1399":"plt.figure(figsize = (16,8))\nsns.lineplot(x = df2['Year'],y = df2['World']).set_title('World emissions')","1f7baf5f":"#So now lets plot europe vs world emissions.Afterall Europe is where the first Industrial Evolution started.","f4cbf677":"plt.figure(figsize = (16,8))\nsns.lineplot(x = df2['Year'],y = df2['World'],label = 'World')\nsns.lineplot(x = df2['Year'], y = df2['EU-28'],label = 'Europe').set_title('World emissions')\nplt.plot()","8b21a028":"plt.figure(figsize = (16,8))\nsns.lineplot(x = df2['Year'],y = df2['World'],label = 'World')\nsns.lineplot(x = df2['Year'], y = df2['EU-28'],label = 'Europe').set_title('World emissions')\nsns.lineplot(x = df2['Year'], y = df2['United Kingdom'],label = 'UK').set_title('World emissions')\nsns.lineplot(x = df2['Year'], y = df2['France'],label = 'Spain').set_title('World emissions')\nplt.plot()","af132df7":"plt.figure(figsize = (16,8))\nsns.lineplot(x = df2['Year'],y = df2['United States'],label = 'US')\nsns.lineplot(x = df2['Year'], y = df2['China'],label = 'China')\nsns.lineplot(x = df2['Year'],y = df2['Russia'],label = 'Russia')\nplt.plot()","3d5cb6e7":"plt.figure(figsize = (16,8))\nsns.lineplot(x = df2['Year'],y = df2['United States'],label = 'US')\nsns.lineplot(x = df2['Year'], y = df2['EU-28'],label = 'Europe')\nsns.lineplot(x = df2['Year'],y = df2['World'],label = 'World')\nplt.plot()","1c58ba76":"\nimport pycountry\ndef do_fuzzy_search(country):\n    try:\n        result = pycountry.countries.search_fuzzy(country)\n        return result[0].alpha_3\n    except:\n        return np.nan\n\ndf['country_code'] = df[\"Country\"].apply(lambda country: do_fuzzy_search(country))\ndf.head()","53b81af0":"plt.figure(figsize = (16,8))\nplot_df = df.dropna()\nfig = px.choropleth(plot_df, locations=\"country_code\",\n                    color=\"2017\",\n                    hover_name=\"Country\",\n                    color_continuous_scale=px.colors.sequential.Plasma)\nfig.show()","fd17c887":"df[df['country_code'].isnull() == True]['Country']","9e7ee906":"correct_codes = {\"Congo\": \"COD\", \"Democratic Republic of Congo\": \"COG\", \"Niger\": \"NER\", \"South Korea\": \"KOR\"}","12c95a2d":"def update_wrong_country_codes(row):\n    if row['Country'] in correct_codes.keys():\n        row['country_code'] = correct_codes[row['Country']]\n    return row\n\ndf = df.apply(lambda x: update_wrong_country_codes(x), axis=1)\n","10352ebe":"plot_df = df.dropna()\nfig = px.choropleth(plot_df, locations=\"country_code\",\n                    color=\"2017\",\n                    hover_name=\"Country\",\n                    color_continuous_scale=px.colors.sequential.Plasma)\nfig.show()","c66236e9":"cummulative_em = df2.set_index('Year')\ncummulative_em = cummulative_em.cumsum()\ncummulative_em = cummulative_em.reset_index()","201aa48a":"sns.lineplot(x = cummulative_em['Year'], y = cummulative_em['World'],label = 'world')\nsns.lineplot(x = cummulative_em['Year'], y = cummulative_em['United States'],label =\"US\")\nsns.lineplot(x = cummulative_em['Year'], y = cummulative_em['EU-28'],label = \"Europe\")\nplt.show()","6b2771fb":"\nsns.lineplot(x = cummulative_em['Year'], y = cummulative_em['United States'],label =\"US\")\nsns.lineplot(x = cummulative_em['Year'], y = cummulative_em['EU-28'],label = \"Europe\")\nsns.lineplot(x = cummulative_em['Year'], y = cummulative_em['China'],label = \"China\")\nsns.lineplot(x = cummulative_em['Year'], y = cummulative_em['Russia'],label = \"Russia\")\nsns.lineplot(x = cummulative_em['Year'], y = cummulative_em['India'],label = \"India\")\nplt.show()","0eac7ad2":"cummulative_em['BRICS'] = cummulative_em['Brazil']+cummulative_em[\"China\"]+cummulative_em['India']+cummulative_em['Russia']+cummulative_em['South Africa']","ec3bcbb4":"sns.lineplot(x = cummulative_em['Year'], y = cummulative_em['United States'],label =\"US\")\nsns.lineplot(x = cummulative_em['Year'], y = cummulative_em['EU-28'],label = \"Europe\")\nsns.lineplot(x = cummulative_em['Year'], y = cummulative_em['BRICS'],label = \"BRICS\")","dab1addc":"US overtook Europe in emissions after 1990s.From 1950 till 1990 they kept pace with each other. ","9764ef4b":"This helps us viusalize that United Kingdom made most of emissions of Europe and world till about  1890 and after that other countries outpaced it.","0c71ac23":"Lets compare United states,Europe and world emissions.","76a4fad9":"Seems like United Kingdom made most of the emissions of world and europe for a long time or the data is only available for UK.We will plot a graph to visualize this better later.","c2bb0803":"##Now let us try to consider commulative emmisions for some major countries  ","53e6269b":"Now let us visualize rise of nations like United states, china and Russia in terms of year-wise CO2 and greenhouse emissions.These were the greatest emitter countries in the world for 2017 as we saw above.","707de27a":"Now lets create a chloropeth map.","db1605c5":"Seems like Developing countries have emmited nowhere near as much cummulatively as US or Europe.Now lets try one thing.lets add cummulative emmisions of all BRICS countries and compare with EU-28 and US","3897a64c":"### Now let us compare these nations with nations like China,India and russia","f09f28dc":"There are some missing country codes which we can input explicitly.Lets correct them","89b6a9b2":"US is way ahead than other 2 nations.Russia has  a irregular graph and its rate of increase drops after 1990s.This may or may not be due to break up of Soviet Union.","32c9dff1":"So this plot tells us that world emissions started increasing drastically after about 1900 and before that the increase was very gradual.","14f5b1b4":"Now this is interesting.Seems like  28 major countries of europe made majority of world emissions till about 1920-1930.After that the world emissions increased at higher pace than europe.","c6c03cbb":"Now this is interesting.US is behind in cummulative CO2 emmisions than Europe even though currently it is biggest emmiter for year 2017.This just shows Europe started in Industrial evolution much before US.Also keep in mindwe are only comparing 28 nations of Europe.","9f42a96a":"We have input the missing values explicitly.So now let us plot again","a5cdafd3":"These are the codes missing from our data.Some of them are countries and others are not.So Now we will explicitly enter code for these countries."}}