{"cell_type":{"cec1f2b0":"code","8571beb9":"code","64b908fe":"code","4dccd8f5":"code","56a5eee9":"code","0d7ca423":"code","c45b8c26":"code","8161f411":"code","ae510581":"code","4eb51ca6":"code","9a70af0e":"code","47330dc3":"code","c8b72321":"code","7ff5e3e4":"code","5958fae4":"code","e56e825f":"code","76d90689":"code","481529e9":"code","10f2e157":"code","2faaf6b8":"code","b5891c3c":"code","515e230a":"code","fb98d3fa":"code","51ceaa85":"markdown","b7d719b2":"markdown","a3e707fb":"markdown","1adf1ac9":"markdown","24df614b":"markdown","d6139ee0":"markdown","bcecb77e":"markdown","ff1f04d7":"markdown","764da72f":"markdown","abb9aa38":"markdown","f84b98a6":"markdown","6d84a477":"markdown","4ee2fa34":"markdown","a7ed617a":"markdown"},"source":{"cec1f2b0":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\ndf = pd.read_excel(\"..\/input\/london-homicide-data-20082018\/mmap.xlsx\")","8571beb9":"print(df.info())","64b908fe":"plt.figure(figsize=(15,10))\nplt.title(\"Homicides in London for the period 2008-2018\", fontsize=25, y=1.02)\ndf.groupby(df.date.dt.year).size().plot(color='red', marker='o')\nplt.ylabel(\"Number of Homicides\",fontsize=20, labelpad=25)\nplt.xlabel(\"Year\", fontsize=20, labelpad=25)\nplt.xticks(fontsize=18)\nplt.yticks(fontsize=18)\nplt.savefig('Homicides.png')\nplt.show()\n","4dccd8f5":"df.Status.value_counts() * 100 \/ df.Status.value_counts().sum()","56a5eee9":"plt.figure(figsize=(10,4))\n(df.Status.value_counts() * 100 \/ df.Status.value_counts().sum()).plot(kind='bar')\nplt.title(\"% Solved\")","0d7ca423":"df.groupby(df.date.dt.year).size()","c45b8c26":"s2= df.groupby([df.date.dt.year, df.date.dt.month]).size()\nwith pd.option_context('display.max_rows', None, 'display.max_columns', None):  # more options can be specified also\n    print(s2)","8161f411":"plt.figure(figsize=(10,5))\ny = df.groupby(df.date.dt.month).size()\ny.plot(kind='bar', color = 'r')\nplt.ylim(top=150)\nplt.xlabel(\"Month\", fontsize=14, labelpad=15)\nplt.ylabel(\"Number of Homicides\", fontsize=14, labelpad=15)\nplt.xticks(fontsize=14)\nplt.yticks(fontsize=14)\nplt.title(\"Total Number of Homocides by Month in London (2008-2018)\", y=1.01, fontsize=15)  \n\n\nxlocs=[i+1 for i in range(-1,11)]\nfor i, v in enumerate(y):\n    plt.text(xlocs[i] - 0.2, v + 1.5, str(v))\n    \n\nplt.savefig(\"Homicide_Monthly\")\nplt.show()","ae510581":"pd.crosstab(df.Status, df.vicsex, margins=True)","4eb51ca6":"month = df.date.dt.month\ndf.groupby([month]).size().plot(kind='bar')\nplt.title(\"Number of homocides by month\")\ndf.groupby(df.date.dt.month).size()\/10","9a70af0e":"df.groupby([df.date.dt.year]).catdom.value_counts()","47330dc3":"df[df.vicsex=='M'].weapon.value_counts() * 100 \/ df[df.vicsex=='M'].weapon.value_counts().sum()","c8b72321":"df[df.vicsex=='F'].weapon.value_counts() * 100 \/ df[df.vicsex=='F'].weapon.value_counts().sum()","7ff5e3e4":"df.weapon.value_counts() * 100 \/ df.weapon.value_counts().sum()","5958fae4":"f, axes = plt.subplots(1,2, figsize=(12,5))\n\nax1 = (df[df.vicsex=='M'].weapon.value_counts() * 100 \/ df[df.vicsex=='M'].weapon.value_counts().sum()).plot(kind='bar', ax=axes[0], color = 'r')\nax1.set_ylabel(\"% of Total\", labelpad=15)\nax1.set_xlabel(\"Weapon Used in Homicide\", labelpad=15)\nax1.set_title(\"Male Victims By Weapon\")\n\n\nax2 = (df[df.vicsex=='F'].weapon.value_counts() * 100 \/ df[df.vicsex=='F'].weapon.value_counts().sum()).plot(kind='bar', ax=axes[1], color = 'r')\nax2.set_ylabel(\"% of Total\", labelpad=15)\nax2.set_xlabel(\"Weapon Used in Homicide\", labelpad=15)\nax2.set_title(\"Female Victims by Weapon\")\nplt.tight_layout()\nplt.savefig(\"VictimWeapon\")\nplt.show()","e56e825f":"pd.crosstab(df[df.vicsex=='M'].weapon, df.Status)","76d90689":"pd.crosstab(df[df.vicsex=='F'].weapon, df.Status)","481529e9":"pd.crosstab(df.weapon, df.Status, normalize ='index')","10f2e157":"pd.crosstab(df.weapon, df.Status, normalize ='columns')","2faaf6b8":"dom = df['catdom']==1\ndf_dom = df[dom]\n\norder = ['A. Child 0-6', 'B. Child 7-12', 'C. Teen 13-16','D. Teen 17-19','E. Adult 20-24','F. Adult 25-34','G. Adult 35-44', 'H. Adult 45-54','I. Adult 55-64','J. Adult 65 over']\ndf_dom.vicagegp.value_counts()\n\ndf_weekday = df.copy().groupby(df_dom.vicagegp).size().reindex(order)\ndf_weekday\ndf_weekday.plot(kind = 'bar')\n\n","b5891c3c":"plt.figure(figsize=(10,4))\n(df.vicethnic.value_counts() * 100 \/ df.vicethnic.value_counts().sum()).plot(kind='bar')\nplt.title(\"Ethnicity\")","515e230a":"plt.figure(figsize=(10,4))\n(df.vicsex.value_counts() * 100 \/ df.vicsex.value_counts().sum()).plot(kind='bar')\nplt.title(\"Sex\")","fb98d3fa":"df.vicsex.value_counts() * 100 \/ df.vicsex.value_counts().sum()","51ceaa85":"Victim Ethnicity: \n\nFrom the graph below, we can see that the majority of victims have been White, closely followed by Black victims and then Asians.","b7d719b2":"# **STAS301: London Homicides**","a3e707fb":"Secondly I retrieve the data needed to do a runs test for randomness to see if there is a pattern to the number of murders per month.","1adf1ac9":"**Number of Homicides:**\n\nFirstly, I look at the number of homicides per year and see that they are on the rise again.","24df614b":"Thank you for reading through this kernal.","d6139ee0":"**Domestic Violence:**\n\nFrom the graph below, it is evident that those aged between 25 and 34 are the most vulnerable to domestic abuse followed by 35-44 and 65+.","bcecb77e":"# Additional Exploration of Data not directly mentioned in Essay","ff1f04d7":"Secondly I explore the data values and see that certain fields have missing values.","764da72f":"From the above, it is evident that most homicides have taken place in March and August and that July and October have the least homicides","abb9aa38":"From this, it is evident that most of the homicide cases over the last 11 years have been solved. ","f84b98a6":"Firstly, I import the necessary libraries and load the dataset.","6d84a477":"Victim Gender:\n\nFrom the information below, more men are victims than women.","4ee2fa34":"**Case Status:**\n","a7ed617a":"**This kernel is linked to my STAS301 essay based on London homicides for 2008-2018**"}}