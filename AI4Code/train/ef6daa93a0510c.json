{"cell_type":{"16b562c8":"code","b0222da0":"code","ff59728a":"code","a6fee34c":"code","e57e192b":"code","638eb839":"code","a25b1009":"code","09215467":"code","5121e11d":"code","936b930b":"code","d58a2966":"code","3b0bc6c7":"code","3f1f309f":"code","cc19f4be":"code","9e7470dd":"code","12b1616d":"code","a7f9d327":"code","7a9c30c1":"code","4d983b8b":"code","15e29ff6":"code","187885b7":"markdown","c3b1f583":"markdown","23ec7efc":"markdown","5e7f2478":"markdown","4d20e49e":"markdown","fa6efcc9":"markdown","e0195ce4":"markdown","192ec091":"markdown","52fee304":"markdown","3910ac84":"markdown","51f6e83c":"markdown","6b08af66":"markdown","542a31ea":"markdown","98a0e1e0":"markdown","64640e56":"markdown","3d04cfaa":"markdown","d5eac8ab":"markdown","8e746325":"markdown","02ad9993":"markdown","4474437a":"markdown","503b99ec":"markdown","7afd24f8":"markdown","aa378081":"markdown","be97e272":"markdown","dcc8bd84":"markdown","f6a97d18":"markdown","0523502e":"markdown","b0ea4c0e":"markdown","a54eb1d1":"markdown","c27aedf3":"markdown","254443a9":"markdown","1b0bab06":"markdown","70708010":"markdown","c2a218b6":"markdown","ad566ec2":"markdown","8855d5f0":"markdown","86580dde":"markdown","844e700e":"markdown","ccc0a956":"markdown"},"source":{"16b562c8":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","b0222da0":"#Importing necessary modules\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport time\nfrom datetime import datetime\nsns.set_style('whitegrid')\nsns.set_context('poster')\n","ff59728a":"#getting dataset\nstate=pd.read_csv(\"\/kaggle\/input\/covid19\/data_covid.csv\")\ntesting_details=pd.read_csv(\"\/kaggle\/input\/covid19-in-india\/StatewiseTestingDetails.csv\")\nhosp_bed=pd.read_csv(\"\/kaggle\/input\/covid19-in-india\/HospitalBedsIndia.csv\")\nstate.head()","a6fee34c":"\nstate['Date'] = state['Date'].astype('datetime64[ns]')\n\nstate[\"date\"]=state[\"Date\"].dt.date\nconfirms=state.groupby([\"date\"])[\"Confirmed\"].sum().reset_index()#confirmed cases per day\ndeads=state.groupby([\"date\"])[\"Deaths\"].sum().reset_index()#fatalities per day\ncures=state.groupby([\"date\"])[\"Cured\"].sum().reset_index()#recovered per day\n","e57e192b":"fig = plt.figure(figsize = (20,7))\n\nsns.lineplot(x = \"date\", y = \"Confirmed\",data=confirms ,color=\"blue\",\n             palette = \"hot\", dashes = False, legend=\"brief\", label=\"Confirmed cases\",\n             linewidth=6\n            )\n#fig = plt.figure(figsize = (20,20))\n\nsns.lineplot(x =\"date\", y = \"Deaths\",data=deads,\n             palette = \"hot\", dashes = False, legend=\"brief\", label=\"Deaths\",\n             color=\"red\",linewidth=6\n            )\nsns.lineplot(x = \"date\", y = \"Cured\",data=cures, color=\"green\",\n             palette = \"hot\", dashes = False, legend=\"brief\", label=\"Recovered\",\n             linewidth=6\n            )\nfig.autofmt_xdate()\n\nplt.title(\"Corona virus in india\", fontsize = 20) # for title\nplt.xlabel(\"Date\", fontsize = 20) # label for x-axis\nplt.ylabel(\"Number of cases\", fontsize = 20) # label for y-axis\nplt.legend(fontsize=20)\nplt.show()","638eb839":"fig = plt.figure(figsize = (30,15))\nsns.lineplot(x = \"date\", y = \"Confirmed\",data=confirms ,color=\"blue\",\n             palette = \"hot\", dashes = False, legend=\"brief\", label=\"Confirmed cases\",\n             linewidth=6\n            )\nsns.lineplot(x =\"date\", y = \"Deaths\",data=deads,\n             palette = \"hot\", dashes = False, legend=\"brief\", label=\"Deaths\",\n             color=\"red\",linewidth=6\n            )\nsns.lineplot(x = \"date\", y = \"Cured\",data=cures, color=\"green\",\n             palette = \"hot\", dashes = False, legend=\"brief\", label=\"Recovered\",\n             linewidth=6\n            )\nfig.autofmt_xdate()\n\nplt.title(\"Corona virus in india\", fontsize = 20) # for title\nplt.yscale(\"log\")\nplt.xlabel(\"Date\", fontsize = 20) # label for x-axis\nplt.ylabel(\"log(Number of cases)\", fontsize = 20) # label for y-axis\nplt.legend(fontsize=20)\nplt.show()","a25b1009":"confirm_cases=[]\ndates=[]\nfor i in range((len(confirms[\"Confirmed\"])-60),len(confirms[\"Confirmed\"])):\n    confirm_cases.append(confirms[\"Confirmed\"][i]-confirms[\"Confirmed\"][i-1])\n    dates.append(confirms[\"date\"][i])\n\n\nconfirm_cases=np.array(confirm_cases)\ndates=np.array(dates)\n\nfig = plt.figure(figsize = (20,10))\n\nsns.barplot(x =dates , y =confirm_cases ,\n            palette = 'husl', edgecolor = 'w')\nfig.autofmt_xdate()\nplt.title(\"Number of confirmed cases\")\nplt.xticks(fontsize=8)\nplt.xlabel(\"Date\", fontsize = 15) # label for x-axis\nplt.ylabel(\"Daily confirm cases\", fontsize = 15) # label for y-axis\nplt.show()\n","09215467":"death_cases=[]\nfor i in range((len(confirms[\"Confirmed\"])-60),len(confirms[\"Confirmed\"])):\n    death_cases.append(deads[\"Deaths\"][i]-deads[\"Deaths\"][i-1])\n    \n\ndeath_cases=np.array(death_cases)\n\nfig = plt.figure(figsize = (20,10))\n\nsns.barplot(x =dates , y =death_cases ,\n            palette = 'husl', edgecolor = 'w')\nfig.autofmt_xdate()\nplt.xticks(fontsize=9)\nplt.title(\"Number of fatalities\")\nplt.xlabel(\"Date\", fontsize = 15) # label for x-axis\nplt.ylabel(\"Daily death cases\", fontsize = 15) # label for y-axis\nplt.show()","5121e11d":"recover_cases=[]\nfor i in range((len(confirms[\"Confirmed\"])-60),len(confirms[\"Confirmed\"])):\n    recover_cases.append(cures[\"Cured\"][i]-cures[\"Cured\"][i-1])\n    \n\nrecover_cases=np.array(recover_cases)\n\nfig = plt.figure(figsize = (20,10))\n\nsns.barplot(x =dates , y =recover_cases ,\n            palette = 'Greens', edgecolor = 'w')\nfig.autofmt_xdate()\nplt.xticks(fontsize=9)\nplt.title(\"Recovered people\")\nplt.xlabel(\"Date\", fontsize = 15) # label for x-axis\nplt.ylabel(\"Daily Recovered cases\", fontsize = 15) # label for y-axis\nplt.show()","936b930b":"confirms[\"active\"]=confirms[\"Confirmed\"]-(cures[\"Cured\"]+deads[\"Deaths\"])\n# getting 7 days moving average\nconfirms[\"ma7d\"]=confirms[\"active\"].rolling(7).mean()\n#confirms.tail(20)\nfig = plt.figure(figsize = (20,10))\nax = fig.add_subplot(111)\nax=sns.barplot(x = \"date\" , y =\"active\" , data= confirms[-60:],\n            palette = 'Reds', edgecolor = 'g')\n\nax2 = ax.twinx()\nax2.plot(ax.get_xticks(),confirms[\"ma7d\"][-60:] , alpha = .75, color = 'y')\nax2.grid(False)\n#sns.lineplot(x=\"date\", y=\"ma7d\", data=confirms[-60:],\n #           color=\"yellow\")\nfig.autofmt_xdate()\nplt.xticks(fontsize=5)\nplt.title(\"Cumulative Active cases\")\nplt.xlabel(\"Date\", fontsize = 15) # label for x-axis\nplt.ylabel(\"No. of active cases\", fontsize = 15) # label for y-axis\nplt.show()","d58a2966":"fig = plt.figure(figsize = (20,10))\nsns.lineplot(x = \"date\" , y =\"active\" , data= confirms,\n            color = 'r', linewidth=6)\nfig.autofmt_xdate()\nplt.xticks(fontsize=15)\nplt.yscale(\"log\")\nplt.title(\"Cumulative Active cases\")\nplt.xlabel(\"Date\", fontsize = 15) # label for x-axis\nplt.ylabel(\"Log(No. of active cases)\", fontsize = 15) # label for y-axis\nplt.show()","3b0bc6c7":"active= confirm_cases-(death_cases + recover_cases)\nfig = plt.figure(figsize = (20,10))\n\nsns.barplot(x =dates , y =active ,\n            palette = 'YlOrRd', edgecolor = 'g')\nfig.autofmt_xdate()\nplt.xticks(fontsize=9)\nplt.title(\"Active cases\")\nplt.xlabel(\"Date\", fontsize = 15) # label for x-axis\nplt.ylabel(\"Daily Active cases\", fontsize = 15) # label for y-axis\nplt.show()\n","3f1f309f":"data=state.groupby([\"date\"]).get_group(\"2020-05-26\")\ndata=data.reset_index(drop=True)\n\ndata2=data[data.Deaths != 0].reset_index(drop=True)\nsns.set_style('darkgrid')\n\nplt.figure(figsize = (20,10))\nax=sns.barplot(x = \"State\/UnionTerritory\", y = \"Confirmed\", data=data2,\n            palette = 'gist_rainbow', edgecolor = 'r')\nax.set_xticklabels(ax.get_xticklabels(), rotation=45, ha=\"right\")\nplt.title(\"Confirmed cases in different states\", fontsize=20)\nplt.xlabel(\"Name of State\", fontsize = 15) # label for x-axis\nplt.ylabel(\"No. of confirmed cases\", fontsize = 15) # label for y-axis\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.show()","cc19f4be":"plt.figure(figsize = (20,10))\nax=sns.barplot(x = \"State\/UnionTerritory\", y = \"Deaths\", data=data2,\n            palette = 'Reds', edgecolor = 'b')\nax.set_xticklabels(ax.get_xticklabels(), rotation=45, ha=\"right\")\nplt.title(\"Number of Deaths in different states\", fontsize=20)\nplt.xlabel(\"Name of State\", fontsize = 15) # label for x-axis\nplt.ylabel(\"No. of confirmed cases\", fontsize = 15) # label for y-axis\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.show()","9e7470dd":"plt.figure(figsize = (20,10))\nax=sns.barplot(x = \"State\/UnionTerritory\", y = \"Cured\", data=data2,\n            palette = 'Greens', edgecolor = 'b')\nax.set_xticklabels(ax.get_xticklabels(), rotation=45, ha=\"right\")\nplt.title(\"Number of Recovered cases in different states\", fontsize=20)\nplt.xlabel(\"Name of State\", fontsize = 15) # label for x-axis\nplt.ylabel(\"No. of Recovered cases\", fontsize = 15) # label for y-axis\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.show()","12b1616d":"data2[\"re\"] = data2[\"Cured\"]\/data2[\"Confirmed\"]\nplt.figure(figsize = (20,10))\nax=sns.barplot(x = \"State\/UnionTerritory\", y = \"re\", data=data2[data2.Confirmed>=1000],\n            palette = 'Greens', edgecolor = 'b')\nax.set_xticklabels(ax.get_xticklabels(), rotation=45, ha=\"right\")\nplt.title(\"Recovery Rate\", fontsize=20)\nplt.xlabel(\"Name of State\", fontsize = 15) # label for x-axis\nplt.ylabel(\"Recovery rate\", fontsize = 15) # label for y-axis\nplt.xticks(fontsize=15)\nplt.yticks(fontsize=15)\nplt.show()","a7f9d327":"fig = plt.figure(figsize= (50,40))\n#only those states having cases more than 1500 \ndata3=data2[data2.Confirmed>=1500]\ndata3=data3.reset_index(drop=True)\nfor i in range(1,len(data3[\"State\/UnionTerritory\"])):\n    \n    ax = fig.add_subplot(5,3,i)\n    df=state.groupby(\"State\/UnionTerritory\").get_group(data3[\"State\/UnionTerritory\"][i])\n    ax1=sns.lineplot(x = \"date\", y = \"Confirmed\",data=df ,color=\"blue\",\n             palette = \"hot\", dashes = False, legend=\"brief\", label=\"Confirmed cases\",\n             linewidth=6\n            )\n    ax1.set_xticklabels(df[\"date\"], rotation=45, ha=\"right\")\n    #fig = plt.figure(figsize = (20,20))\n\n    ax2=sns.lineplot(x =\"date\", y = \"Deaths\",data=df,\n                 palette = \"hot\", dashes = False, legend=\"brief\", label=\"Deaths\",\n                 color=\"red\",linewidth=6\n                )\n    ax2.set_xticklabels(df[\"date\"], rotation=45, ha=\"right\")\n    ax3=sns.lineplot(x = \"date\", y = \"Cured\",data=df, color=\"green\",\n                 palette = \"hot\", dashes = False, legend=\"brief\", label=\"Recovered\",\n                 linewidth=6\n                )\n    ax3.set_xticklabels(df[\"date\"], rotation=45, ha=\"right\")\n    \n    plt.title(str(data3[\"State\/UnionTerritory\"][i]), fontsize = 50) # for title\n    plt.xlabel(\"Date\", fontsize = 15) # label for x-axis\n    plt.ylabel(\"Number of cases\", fontsize = 15) # label for y-axis\n    #plt.legend(fontsize=10)\n    #plt.show()\n\nplt.tight_layout(pad=3.0)    \n\n","7a9c30c1":"data4=state.groupby(\"State\/UnionTerritory\")\nmaharast=data4.get_group(\"Maharashtra\")\ndelhi=data4.get_group(\"Delhi\")\ngujarat=data4.get_group(\"Gujarat\")\nup=data4.get_group(\"Uttar Pradesh\")\ntn=data4.get_group(\"Tamil Nadu\")\npun=data4.get_group(\"Punjab\")\n\nsns.set_style('darkgrid')\n\nfig = plt.figure(figsize = (20,10))\n\nplt.plot(delhi[\"date\"],delhi[\"Confirmed\"], linestyle=\"-\",\n              label=\"Delhi\", linewidth=3\n             ,color=\"blue\"\n            )\nplt.plot(tn[\"date\"], tn[\"Confirmed\"],linestyle=\"-\",\n              label=\"Tamil Nadu\"\n             ,color=\"black\", linewidth=3\n            )\n#fig = plt.figure(figsize = (20,20))\n\nplt.plot(maharast[\"date\"], maharast[\"Confirmed\"],linestyle=\"-\",\n              label=\"Maharashtra\", linewidth=3\n             ,color=\"red\"\n            )\n\nplt.plot(gujarat[\"date\"], gujarat[\"Confirmed\"],linestyle=\"-\",\n              label=\"Gujarat\", linewidth=3\n             ,color=\"violet\"\n            )\n\nplt.plot(up[\"date\"], up[\"Confirmed\"],linestyle=\"-\",\n              label=\"Uttar Pradesh\", linewidth=3\n             ,color=\"green\"\n            )\nplt.plot(pun[\"date\"], pun[\"Confirmed\"],linestyle=\"-\",\n              label=\"Punjab\", linewidth=3\n             ,color=\"yellow\"\n            )\n\nfig.autofmt_xdate()\n\nplt.title(\"Corona Virus in India confirmed cases(Statewise)\", fontsize=30) # for title\nplt.xlabel(\"Date\", fontsize=20) # label for x-axis\nplt.ylabel(\"Confirmed cases\", fontsize=20) # label for y-axis\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\nplt.legend(fontsize=20)\nplt.show()\n","4d983b8b":"fig = plt.figure(figsize = (20,10))\n\nplt.plot(delhi[\"date\"],delhi[\"Deaths\"], linestyle=\"-\",\n              label=\"Delhi\", linewidth=3\n             ,color=\"blue\"\n            )\nplt.plot(tn[\"date\"], tn[\"Deaths\"],linestyle=\"-\",\n              label=\"Tamil Nadu\"\n             ,color=\"black\", linewidth=3\n            )\n#fig = plt.figure(figsize = (20,20))\n\nplt.plot(maharast[\"date\"], maharast[\"Deaths\"],linestyle=\"-\",\n              label=\"Maharashtra\", linewidth=3\n             ,color=\"red\"\n            )\n\nplt.plot(gujarat[\"date\"], gujarat[\"Deaths\"],linestyle=\"-\",\n              label=\"Gujarat\", linewidth=3\n             ,color=\"violet\"\n            )\n\nplt.plot(up[\"date\"], up[\"Deaths\"],linestyle=\"-\",\n              label=\"Uttar Pradesh\", linewidth=3\n             ,color=\"green\"\n            )\nplt.plot(pun[\"date\"], pun[\"Deaths\"],linestyle=\"-\",\n              label=\"Punjab\", linewidth=3\n             ,color=\"yellow\"\n            )\n\nfig.autofmt_xdate()\n\nplt.title(\"Corona Virus in India Fatalities(Statewise)\", fontsize=30) # for title\nplt.xlabel(\"Date\", fontsize=20) # label for x-axis\nplt.ylabel(\"Fatalities\", fontsize=20) # label for y-axis\nplt.xticks(fontsize=20)\nplt.yticks(fontsize=20)\nplt.legend(fontsize=20)\nplt.show()","15e29ff6":"\nlabels= ['Delhi', 'Gujarat', 'Maharashtra', 'Uttar Pradesh', 'Tamil Nadu']\nactive_= [7300, 7200, 35000,3000,8200]\npublic_bed = [20572, 41129,68998 ,58310,72616]\nx= np.arange(len(labels))  # the label locations\nwidth = 0.35  # the width of the bars\n\n\nfig, ax = plt.subplots(figsize=(30, 15))\nrects1 = ax.bar(x - width\/2, active_, width, label='active_')\nrects2 = ax.bar(x + width\/2, public_bed, width, label='hospital beds')\n\n# Add some text for labels, title and custom x-axis tick labels, etc.\nax.set_ylabel('No. of beds\/cases',fontsize=50)\n\nplt.yticks(fontsize=30)\nax.set_title(\"Hospital beds vs Confirmed cases\", fontsize=30)\nax.set_xticks(x)\nax.set_xticklabels(labels)\nax.set_xticklabels(ax.get_xticklabels(), rotation=45, ha=\"right\",fontsize=30)\nax.legend(fontsize=30)\n\nfig.tight_layout()\n\nplt.show()\n","187885b7":"Now we will take a look at mostly affected state and compare them with punjab.","c3b1f583":"#                       Confirmed daily cases","23ec7efc":"We can see that curve of most of the states like Maharashtra, Tamil Nadu, Gujarat, Delhi, and Uttar Pradesh are on upward trend with a high pace and there is no sign of flattening of curve there. Punjab seems like only state whose curve is concave down and flattened.\n*WELL DONE PUNJAB*","5e7f2478":"Here I have taken only those states which have more than 1000 confirmed cases. From plot it seems clear that punjab has done exceptionally well have recovery rate around 0.9 which means that out of every 10 patients 9 patients recovers there. Andhra Pradesh, Haryana, Telangana have also done a good job having recovery rate around 0.6.  ","4d20e49e":"**Recovered cases of different states in India**","fa6efcc9":"In plot above we can see that flattening of curve","e0195ce4":"**Bar chart showing number of cases on a daily bases of last 60 days **","192ec091":"Recovery rate = No. of recovered cases \/ No. of confirmed cases","52fee304":"**Setting y-axis to a logarithmic scale**","3910ac84":"Active cases = No. of confirmed cases - (No. of recoveries + No. of deaths)","51f6e83c":"# Logarithmic y-axis","6b08af66":"This doesn't shows the real story here because the states having more number of cases will definitely have more number of recovered patients. Now we will use another parameter called recovery rate to find out that which state has performed better. ","542a31ea":"# Recovery rate of all states","98a0e1e0":"Confirmed daily cases are making a new high every day which is very horrryfying as shown in the chart above.","64640e56":"# Comparing cases in all states of India","3d04cfaa":"#                   Covid 19 in India                                        \nCorona virus in india now is at it's full pace. On the daily basis we are experiencing about 6500 new cases on an average.\n\n![](https:\/\/img.webmd.com\/dtmcms\/live\/webmd\/consumer_assets\/site_images\/article_thumbnails\/news\/2020\/01_2020\/coronavirus_1\/1800x1200_coronavirus_1.jpg?resize=*:350px)\n","d5eac8ab":"The Curve is rising up very rapidly now let's see the daily active cases.","8e746325":"It is good to see that approximately 3000 people are recovering daily which is almost half of the confirmed cases daily. India's recovery rate is very good.","02ad9993":"A simple line plot showing how the cases are rising in India","4474437a":"Now we are focussing on the confirmed cases of each state.","503b99ec":"# Active cases daily for last 60 days","7afd24f8":"**Number of Deaths in different states of India**","aa378081":"# Recovery of patient daily","be97e272":"The Graph above shows that the number of deaths on a daily bases is now around 150-200 on an average. The maximum was on 5th may which is around 195.The second maximum was on 18th may. Seems like at the time of end of a lockdown cases increases rapidly.","dcc8bd84":"# Death cases daily","f6a97d18":"Above chart shows that the curve is flattening which seems good.","0523502e":"Now I want to see the chart of number of active cases and their moving average","b0ea4c0e":"Delhi, Gujarat, Madhya Pradesh, Maharashtra and West bengal are the states each having more than 200 deaths. Maharashtra is the single state having more than 1600 deaths.","a54eb1d1":"# *Guys Thanks for scrolling down please upvote if you find it helpful*\n\n\nI will upload the next notebook soon in which i will do predictive analysis.\n","c27aedf3":"Delhi, Gujarat, Maharashtra and Tamil Nadu each have more than 10,000 cases. Maharashtra is the single state having more than 50,000 cases.","254443a9":"Now I am converting y-axis to a logarithmic scale.","1b0bab06":"# Active cases","70708010":"Above graph shows that the number of cases are increasing day by day. Curve doesn't seems to be flattened here.","c2a218b6":"**Seems like number of public beds are going to end soon in Delhi and Maharashtra**","ad566ec2":"**Confirmed cases in all states of India**","8855d5f0":"After 18th May(Ending of 3rd lockdown) there is a sharp increase in number of active cases.","86580dde":"Number of deaths in Gujarat and Maharashtra are much more as compared to other states.","844e700e":"Now let's plot for number of deaths","ccc0a956":"Now we are going to compare the most affected state with the number of hospital beds there."}}