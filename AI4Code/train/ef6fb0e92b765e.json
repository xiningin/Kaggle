{"cell_type":{"4d490edd":"code","13947055":"code","73e7c3b1":"code","e351fbd9":"code","2ec749d1":"code","a61b8237":"code","259277b4":"code","79c4d534":"code","597c9d1a":"markdown","174b3ab9":"markdown","f56adc2d":"markdown","a1f7d618":"markdown","565b162d":"markdown","1590765e":"markdown","27a3359c":"markdown","a80de005":"markdown"},"source":{"4d490edd":"import os\nimport glob\nimport cv2\nimport numpy as np \nimport pandas as pd \nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\nfrom scipy import stats\n\n\n\n%matplotlib inline\n%config InlineBackend.figure_format = 'retina'","13947055":"train_df = pd.read_csv('..\/input\/landmark-retrieval-2020\/train.csv')\ntrain_df","73e7c3b1":"plt.title('landmark_id distribution')\nsns.distplot(train_df['landmark_id'])","e351fbd9":"sns.set()\nplt.title('Training set: number of images per class(line plot)')\nlandmarks_fold = pd.DataFrame(train_df['landmark_id'].value_counts())\nlandmarks_fold.reset_index(inplace=True)\nlandmarks_fold.columns = ['landmark_id','count']\nax = landmarks_fold['count'].plot(logy=True, grid=True)\nlocs, labels = plt.xticks()\nplt.setp(labels, rotation=30)\nax.set(xlabel=\"Landmarks\", ylabel=\"Number of images\")","2ec749d1":"sns.set()\nlandmarks_fold_sorted = pd.DataFrame(train_df['landmark_id'].value_counts())\nlandmarks_fold_sorted.reset_index(inplace=True)\nlandmarks_fold_sorted.columns = ['landmark_id','count']\nlandmarks_fold_sorted = landmarks_fold_sorted.sort_values('landmark_id')\nax = landmarks_fold_sorted.plot.scatter(\\\n     x='landmark_id',y='count',\n     title='Training set: number of images per class(statter plot)')\nlocs, labels = plt.xticks()\nplt.setp(labels, rotation=30)\nax.set(xlabel=\"Landmarks\", ylabel=\"Number of images\")","a61b8237":"test_list = glob.glob('..\/input\/landmark-retrieval-2020\/test\/*\/*\/*\/*')\nindex_list = glob.glob('..\/input\/landmark-retrieval-2020\/index\/*\/*\/*\/*')","259277b4":"print( 'Query', len(test_list), ' test images in ', len(index_list), 'index images')","79c4d534":"plt.rcParams[\"axes.grid\"] = False\nf, axarr = plt.subplots(4, 3, figsize=(24, 22))\n\ncurr_row = 0\nfor i in range(12):\n    example = cv2.imread(test_list[i])\n    example = example[:,:,::-1]\n    \n    col = i%4\n    axarr[col, curr_row].imshow(example)\n    if col == 3:\n        curr_row += 1\n            \n#     plt.imshow(example)\n#     plt.show()","597c9d1a":"### Training set: number of images per class(scatter plot)","174b3ab9":"### Landmark_id distribuition","f56adc2d":"## 1.2 Test and Index data\n\nThe query images are listed in the test\/ folder, while the \"index\" images from which you are retrieving are listed in index\/. \n\nEach image has a unique id. Since there are a large number of images, each image is placed within three subfolders according to the first three characters of the image id (i.e. image abcdef.jpg is placed in a\/b\/c\/abcdef.jpg).\n\n0-f in 0-f in 0-f","a1f7d618":"## 1.1 Train data\n\nIn this competition, you are asked to develop models that can efficiently retrieve landmark images from a large database. \nThe training set is available in the train\/ folder, with corresponding landmark labels in train.csv. ","565b162d":"### Training set: number of images per class(line plot)\n\n","1590765e":"# Google Landmark Retrieval 2020 - EDA\n<img src=\"https:\/\/github.com\/seriousran\/img_link\/blob\/master\/kg\/glr.jpg?raw=true\" alt=\"drawing\" style=\"width:520px;\"\/>\n\n\"This year, we have worked to set this up as a code competition and we have completely refreshed the test and index image sets.\"\n\nLet's start to dig it! :)\n\n### Past Related Competitions\n\n1. [Google Landmark Retrieval 2019](https:\/\/www.kaggle.com\/c\/landmark-retrieval-2019)\n1. [Google Landmark Retrieval Challenge](https:\/\/www.kaggle.com\/c\/landmark-retrieval-challenge)\n\n### The winner in last competition\n<img src=\"https:\/\/github.com\/seriousran\/img_link\/blob\/master\/kg\/lb_glr_2019.PNG?raw=true\" alt=\"drawing\"\/>\n\n\n\nReference: https:\/\/www.kaggle.com\/huangxiaoquan\/google-landmarks-v2-exploratory-data-analysis-eda","27a3359c":"## Outline\n1. [File Exploration](#1)\n    1. [Training data](#2)\n    1. [Index data](#3)\n    1. [Display examples](#4)","a80de005":"## 1.3 Display examples"}}