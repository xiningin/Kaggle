{"cell_type":{"03dcb957":"code","3fb57442":"code","624ca7f2":"code","0c687b9a":"code","73ff0155":"code","aaf43f32":"code","77e85f52":"code","a3bd0c3b":"code","798e8e31":"code","b9f794fe":"code","270f44d8":"code","b69ab8a6":"code","d875cee1":"code","be63ad55":"code","8fff4a09":"code","75efa492":"code","79077e08":"code","fbd07b66":"code","928b0ce8":"code","3bd2037f":"markdown","d2588611":"markdown","a1f4ec00":"markdown","0e6c1953":"markdown","8b80b250":"markdown","b66d6634":"markdown"},"source":{"03dcb957":"import os\nimport re\nimport pandas as pd \nimport numpy as np \nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport mlxtend\nfrom mlxtend.preprocessing import TransactionEncoder\nfrom mlxtend.frequent_patterns import apriori\nfrom mlxtend.frequent_patterns import association_rules\nsns.set()","3fb57442":"print(os.listdir(\"..\/input\"))","624ca7f2":"retail_data = pd.read_excel('..\/input\/Online Retail.xlsx',sep='delimiter')","0c687b9a":"retail_data.head(30)","73ff0155":"retail_data.info()","aaf43f32":"retail_data.describe()","77e85f52":"len(retail_data)","a3bd0c3b":"retail_data['Description'].unique().shape","798e8e31":"retail_data['CustomerID'].unique().shape","b9f794fe":"(retail_data['Country'].unique())","270f44d8":"retail_data.columns","b69ab8a6":"retail_data.loc[retail_data['Quantity'].argmax()]","d875cee1":"retail_data['Description'] = retail_data['Description'].str.strip()","be63ad55":"retail_data['Description']","8fff4a09":"basket = (retail_data[retail_data['Country'] ==\"France\"]\n          .groupby(['InvoiceNo', 'Description'])['Quantity']\n          .sum().unstack().reset_index().fillna(0)\n          .set_index('InvoiceNo'))","75efa492":"basket.head()","79077e08":"def encode_units(x):\n    if x <= 0:\n        return 0\n    if x >= 1:\n        return 1\nbasket_sets = basket.applymap(encode_units)\nbasket_sets.drop('POSTAGE', inplace=True, axis=1)","fbd07b66":"frequent_itemsets = apriori(basket_sets, min_support=0.07, use_colnames=True)\nfrequent_itemsets","928b0ce8":"rules = association_rules(frequent_itemsets, metric=\"lift\", min_threshold=1)\nrules","3bd2037f":"### Import the sampled data for online retail store and visualize the result set","d2588611":"## Lets code, and bring the importand libraries ","a1f4ec00":"# This note is work in progress\n** Online Market Basket Analysis**\nThis data belongs to one of the real time big super store stratified sampling is taken so that \ndata is representative of the actual population to remove the bais and variance while making the prediction.","0e6c1953":"### Total number of customers come to store","8b80b250":"### Total Number of unique items present in the datasets","b66d6634":"### Total Number product sold"}}