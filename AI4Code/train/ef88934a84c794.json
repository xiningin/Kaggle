{"cell_type":{"16ca812f":"code","f6913e6d":"code","914bcecf":"code","80e67f5f":"code","5d66d8f2":"code","521730dd":"code","924b3bce":"code","58b22b70":"code","0f3dea67":"code","37af8be1":"code","ed1db0f7":"code","b699fc78":"code","db04b8b0":"code","2c18028b":"code","e9ca9794":"code","4629209c":"code","899fafd5":"code","52258836":"code","5ebe5957":"code","cd11116e":"code","dd265704":"code","7a2f04f6":"code","4eb0b07d":"code","ea0f1729":"code","ee239de2":"code","81766a2b":"code","6e832eea":"code","b912715a":"code","b69b4123":"code","0e46292c":"code","bf409420":"code","177a7df7":"code","8292b21b":"code","bc8c1fa0":"code","da4ced36":"code","07577928":"code","2e005c42":"code","4102d317":"code","88e31233":"code","16de6b58":"code","935afb56":"code","bafae4e5":"code","f63c0c20":"code","f19874e0":"markdown","97b16d7c":"markdown","5c01f7c4":"markdown","aca94dae":"markdown","ab0258a8":"markdown","7f35ece0":"markdown","25501f96":"markdown","82759ad6":"markdown","b9725ac9":"markdown","d8ab7920":"markdown","4e82f36b":"markdown","94e9de34":"markdown","4596c20c":"markdown","ccc0384c":"markdown","fc1f9d48":"markdown","163a6708":"markdown","98972269":"markdown","c3c5422b":"markdown","ea8cf121":"markdown","e8afc56c":"markdown","e50750b5":"markdown","5b638e0e":"markdown","f1641f2d":"markdown","b43f7122":"markdown","ac60729c":"markdown","b838f24e":"markdown","4488bfb8":"markdown","d8e79148":"markdown","295b34a8":"markdown","5e98633a":"markdown","e7f010aa":"markdown","fc793f70":"markdown","bd4183f5":"markdown","13fc0ac3":"markdown","7a473268":"markdown","e3539920":"markdown","0e753be2":"markdown","ad1bacbf":"markdown","2e5f199e":"markdown","1b6208b5":"markdown","732f1a88":"markdown","725e1e9d":"markdown","8fdc6866":"markdown","6e6a6acc":"markdown","0dd7359e":"markdown","48b39b6d":"markdown","02ea6792":"markdown","f67e4ddf":"markdown","123f33fa":"markdown"},"source":{"16ca812f":"import pandas as pd\ndata = pd.read_csv('..\/input\/crime.csv', encoding=\"latin-1\")","f6913e6d":"data.head()","914bcecf":"data.info()","80e67f5f":"data.describe()","5d66d8f2":"import matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np","521730dd":"sns.countplot(x=data['DISTRICT'],palette='viridis')","924b3bce":"sns.countplot(x=data['MONTH'],palette='viridis')","58b22b70":"sns.countplot(x=data['YEAR'],palette='viridis')","0f3dea67":"monthList = [[],[],[],[]]\n\n#Fill each list in monthList with 12 zeroes, one for each month\nfor i in range(4):\n    for g in range(12):\n        monthList[i].append(0)\n        \n#Start counting\nfor i in range(319073): #For every row\n    monthListIndex = data.at[i,'YEAR'] - 2015 #Assigning it an index in monthList: 0, 1, 2, or 3\n    monthList[monthListIndex][data.at[i,'MONTH']-1] += 1 #Finding the right bin for year & month, then adding one instance\n    \n#Merge each year of monthList into a continuous list\ncontList = []\nfor i in range(4):\n    for g in range(12):\n        contList.append(monthList[i][g])","37af8be1":"len(contList)","ed1db0f7":"xList = []\nfor i in range(48):\n    xList.append(i)","b699fc78":"sns.lineplot(x=xList, y=contList)","db04b8b0":"sns.countplot(x=data['DAY_OF_WEEK'],palette='viridis')","2c18028b":"dmap = {'Monday':0,'Tuesday':1,'Wednesday':2,'Thursday':3,'Friday':4,'Saturday':5,'Sunday':6}\ndata['DAY_OF_WEEK_#'] = data['DAY_OF_WEEK'].map(dmap)\ndata['DAY_OF_WEEK_#']","e9ca9794":"sns.countplot(x=data['DAY_OF_WEEK_#'],palette='viridis')","4629209c":"sns.countplot(x=data['HOUR'],palette='viridis')","899fafd5":"sns.distplot(data['HOUR'],bins=24,hist=True,rug=True)","52258836":"def convert(hour):\n    if hour>6 and hour<19:\n        return 'Day'\n    else:\n        return 'Night'\ndata['DAY_OR_NIGHT'] = data['HOUR'].apply(convert)","5ebe5957":"sns.countplot(x=data['DAY_OR_NIGHT'],palette='viridis')","cd11116e":"x = []\ny = []\nfor i in range(319073):\n    loc1 = data.at[i,'Location'].split(',')[0]\n    loc1 = loc1[1:]\n    loc1 = float(loc1)\n    loc2 = data.at[i,'Location'].split(',')[1]\n    loc2 = loc2[:-1]\n    loc2 = float(loc2)\n    x.append(loc1)\n    y.append(loc2)    ","dd265704":"x","7a2f04f6":"y","4eb0b07d":"sns.jointplot(x,y)","ea0f1729":"def process_lat(latitude):\n    if latitude > 42 and latitude < 43:\n        return latitude\n    else:\n        return np.nan\ndef process_long(longitude):\n    if longitude < -70 and longitude > -72:\n        return longitude\n    else:\n        return np.nan","ee239de2":"data.head()","81766a2b":"data['Lat'] = data['Lat'].apply(process_lat)","6e832eea":"data['Long'] = data['Long'].apply(process_long)","b912715a":"data['Lat'].fillna(data['Lat'].mean())","b69b4123":"data['Long'].fillna(data['Long'].mean())","0e46292c":"x = []\ny = []\nfor i in range(319073):\n    loc1 = data.at[i,'Lat']\n    loc1 = float(loc1)\n    loc2 = data.at[i,'Long']\n    loc2 = float(loc2)\n    x.append(loc1)\n    y.append(loc2)  ","bf409420":"sns.jointplot(x,y)","177a7df7":"sns.jointplot(x,y,kind='hex')","8292b21b":"sns.countplot(data['SHOOTING'])","bc8c1fa0":"plt.figure(figsize=(20,20))\nchart = sns.countplot(data['OFFENSE_CODE_GROUP'],orient='h')\nchart.set_xticklabels(chart.get_xticklabels(), rotation=90)","da4ced36":"valueCounts = pd.value_counts(data['OFFENSE_CODE_GROUP'].values, sort=False)","07577928":"valueCounts = valueCounts.sort_values(ascending=False)","2e005c42":"valueCounts = valueCounts.iloc[:15]","4102d317":"indexes = valueCounts.index.values.tolist()","88e31233":"len(indexes)","16de6b58":"values = valueCounts.values.tolist()","935afb56":"len(values)","bafae4e5":"plt.figure(figsize=(15,15))\nchart = sns.barplot(indexes,values,palette='viridis')\nchart.set_xticklabels(chart.get_xticklabels(), rotation=75)","f63c0c20":"My first kernel, thanks for reading!","f19874e0":"In the early hours of the morning, crime quickly drops and reaches a minima at 4 or 5 AM, then clickly rising, reaching a local minima at noon and peaking at 5 PM.\nWhat is interesting is the sudden jump from the 23rd hour to the 24th\/0th hour in crimes.","97b16d7c":"Convert values and indexes to lists.","5c01f7c4":"Apparently none of the events were shootings.","aca94dae":"Below, a less pretty but continuous distplot:","ab0258a8":"We can see that crime remains pretty consistent across the week, peaking (but not by much) on Friday, and reaching a minimum on Sunday. One idea why crime is lower on Sunday is because of church.","7f35ece0":"Interesting - it seems that the amount of crime rose dramatically from 2015-2016, stayed high through 2016-2017, and dropped significantly in 2018.","25501f96":"We learned that crime in Boston has remained about the same 2015-2018, with predictable swells and decreases in crime.","82759ad6":"Let's see if we can get a more detailed look by counting month.","b9725ac9":"Get top 15.","d8ab7920":"Woah! That's a lot of types. Let's try to reduce it to the top 10.\nFirst, let's create a list with the values of each crime so we have access to more options.","4e82f36b":"Now that we've replaced all the unreasonable outliers with NaN values, we can replace them with the average of all the values.","94e9de34":"After observing the data, the Latitude should be between 42 and 43, and the Longitude should be between -70 and -72.","4596c20c":"Using the Boston Crime dataset, let's try to visualize the data and do some analysis.","ccc0384c":"Let's try to plot out location and see if there are any clusters.","fc1f9d48":"Let's check how many items are in contList (there should be 48; as there are 48 months in the 4 years the dataset covers)","163a6708":"We can see that district B2 has the highest crime rate, and district A15 has the lowest crime rate.","98972269":"There seems to be a swell in crimes during the summer months (rising quickly from May to June, then reaching a high at July and August). Soon after, it drops. A worthy explanation is the temperature difference - the warmer months encourage crime more than colder months.","c3c5422b":"## EDA","ea8cf121":"## Loading Dataset","e8afc56c":"We can see that the especially crime-ridden parts of the city (the darkest sections), and the better sections (more white).","e50750b5":"It's confirmed that more crimes are done during the day than at night.","5b638e0e":"Now, we have a more zoomed-in view, since all the outliers have been removed.","f1641f2d":"#### ...by month","b43f7122":"The majority of points are centered around one point (as they should be - they are in the city of Boston). However, there are some outliers which definitely aren't right. Let's do some data cleaning and replace these.","ac60729c":"- District B2 has the highest crime rate, whereas District A15 has the lowest crime rate\n- Crime rates peak in summer months, and reach a minimum in winter months\n- Crime rates remained about the same from 2015-2018\n     - There is no data in early 2015 and late 2018\n- Crime reaches a peak on Friday and a low on Sunday\n- Crime reaches a peak at 5PM and a low at 5AM, with a sudden peak from 11PM to 12AM\n- The majority of crimes are committed during the day.","b838f24e":"What is also interesting is that there appears to be more crimes committed during daylight than at night.","4488bfb8":"Make a bar plot.","d8e79148":"There is no data in the first couple months of 2015, which explains why its crime level appeared to be so low. The same is the case with the last few months of 2018. Otherwise, the data from 2015 and 2018 that are available suggest that they follow the same trend as the years with complete data.\nThe data follows that pattern of a dip in winter months, usually around December-January (months 12, 24, 36), and peaking in-between.","295b34a8":"#### ...by hour","5e98633a":"Uh oh! The days of week are out of order. Let's fix that by assigning each day a number, starting from Monday = 0.","e7f010aa":"#### Conclusion\/Review of Findings","fc793f70":"Let's change the strings a little bit to get x and y (latitude and longitude).","bd4183f5":"# Boston Crime Data Visualization & Data Analysis","13fc0ac3":"Using average Boston daylight hours of 6AM to 7PM, let's see how many crimes are commited for each section Day and Night.","7a473268":"In this section, we'll try to find which features have distinct patterns in which crime is higher or lower.","e3539920":"Let' get a less crowded view with a kde plot.","0e753be2":"#### ...by year","ad1bacbf":"#### ...by location","2e5f199e":"Sort values.","1b6208b5":"Making an x with numbers 1-48 to indicate months:","732f1a88":"#### ...day of week","725e1e9d":"Let's get a visual for crime amounts.","8fdc6866":"### Finding Attributes of Crime","6e6a6acc":"Import neccessary libraries.","0dd7359e":"#### ...by district","48b39b6d":"## Data Visualization & Analysis","02ea6792":"The columns include an incident number, an offense code, offense group, offense description, a district, reporting area, if the incident was a shooting, the date, year, month, day of week, hour, UCR part, street, latitude, longitude, and location (essentially lat & long in a coordinate pair).","f67e4ddf":"## Shootings","123f33fa":"## Crime"}}