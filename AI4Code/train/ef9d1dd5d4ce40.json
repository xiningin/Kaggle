{"cell_type":{"adfa3b21":"code","7c8fc76e":"code","b807f8ac":"code","1ce5c444":"code","8c59a1e0":"code","bede2595":"code","17ffa56e":"code","2c4dae7b":"code","bec42847":"code","c1ef7971":"code","2b72e3e6":"code","13730ed3":"code","83099396":"code","0581325f":"code","d2e165e8":"code","23025ea1":"code","00b5df54":"code","bbba6b06":"code","6c89ba18":"code","eb9dd276":"code","dcec0e12":"code","fc4b47be":"code","e6b9af16":"code","d24e5612":"code","62d3eac3":"code","241a4a2a":"code","7228ec68":"code","6abb00b0":"markdown","3b8fe709":"markdown","b88d7d6b":"markdown","414c3788":"markdown","475bc704":"markdown","26fddde0":"markdown","ebace7e4":"markdown","e099f66b":"markdown","42cbcae8":"markdown","b277ac86":"markdown","c074df0e":"markdown","dccf489b":"markdown","fe39d5f8":"markdown","2d683c23":"markdown","918b16ab":"markdown"},"source":{"adfa3b21":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","7c8fc76e":"df = pd.read_csv(\"\/kaggle\/input\/hotel-booking-demand\/hotel_bookings.csv\")\npd.set_option('display.max_columns', None)\ndf.head()\n","b807f8ac":"df.shape","1ce5c444":"df.isnull().sum()","8c59a1e0":"df.dropna(subset=['country'],inplace=True)\ndf.dropna(subset=['children'],inplace=True)","bede2595":"df.agent.fillna(0,inplace=True)\ndf.company.fillna(0,inplace=True)","17ffa56e":"df.isnull().sum()","2c4dae7b":"df.duplicated().sum()","bec42847":"df.drop_duplicates(inplace=True)","c1ef7971":"df.info()","2b72e3e6":"df.describe()","13730ed3":"for i in df.columns:\n    if len(df[i].unique())<35:\n        print('Unique value of ',i,':   ',df[i].unique())","83099396":"for i in df.columns:\n    if len(df[i].unique())<34:\n        df.groupby(i)['reservation_status'].count().plot.bar(color='purple')\n        plt.show()","0581325f":"df.groupby(['hotel'])['days_in_waiting_list'].count().plot.pie(radius = 1,autopct='%1.1f%%',colors=['yellowgreen', 'lightcoral'])","d2e165e8":"plt.figure(figsize = (15,7))\nsns.set(style=\"darkgrid\")\nsns.barplot(x = 'arrival_date_month', y = 'is_canceled',hue='hotel', data = df)","23025ea1":"dummy=pd.get_dummies(df[['hotel','meal','country', 'market_segment', 'distribution_channel','reserved_room_type',\n       'assigned_room_type','deposit_type','customer_type','reservation_status']],drop_first=True)\npd.set_option('display.max_columns',None)\ndummy.head()","00b5df54":"from sklearn.preprocessing import LabelEncoder\nlc=LabelEncoder()\ndf['month']=lc.fit_transform(df.arrival_date_month)\n","bbba6b06":"df=pd.concat([df,dummy],axis='columns')","6c89ba18":"df.is_canceled.value_counts()","eb9dd276":"from sklearn.model_selection import train_test_split\nx=df.drop(['is_canceled','arrival_date_month','hotel','meal','country', 'market_segment', 'distribution_channel','reserved_room_type',\n       'assigned_room_type','deposit_type','customer_type','reservation_status','reservation_status_date'],axis='columns')\ny=df.is_canceled\nxtrain,xtest,ytrain,ytest=train_test_split(x,y,test_size=0.3,random_state=0)","dcec0e12":"xtrain.shape","fc4b47be":"xtest.shape","e6b9af16":"from xgboost import XGBClassifier\nxg=XGBClassifier()\nxg.fit(xtrain,ytrain)\nxg.score(xtest,ytest)","d24e5612":"from sklearn.linear_model import LogisticRegression\nlg=LogisticRegression()\nlg.fit(xtrain,ytrain)\nlg.score(xtest,ytest)","62d3eac3":"from sklearn.ensemble import RandomForestClassifier\nrf=RandomForestClassifier()\nrf.fit(xtrain,ytrain)\nrf.score(xtest,ytest)","241a4a2a":"from sklearn.metrics import classification_report, confusion_matrix \nytest1=xg.predict(xtest)\nprint(classification_report(ytest,ytest1))\n","7228ec68":"confusion_matrix(ytest,ytest1)","6abb00b0":"Clearing null values","3b8fe709":"Lets see the unique values","b88d7d6b":"# XGBoost","414c3788":"# Exploratory Data Analysis\n","475bc704":"As it can be clearly seen that the engagement of city hotel is more as well as demand hotels in winters is less.","26fddde0":"# Confusion_Matrix","ebace7e4":"Drop_first to avoid dummy trap","e099f66b":"dropping duplicates","42cbcae8":"**Distribution of Unique values**","b277ac86":"# Feature Engg","c074df0e":"# **Logistic Regression**","dccf489b":"reading dataframe","fe39d5f8":"# RandomForestClassifier","2d683c23":"#train_test_split","918b16ab":"We need to encode the categorical Variables\n* For that we can either use Label encoder\/Map values or One hot encoder\/dummies\n* If the categorical variable is ordinal use Label Encoder else use One hot encoder\n"}}