{"cell_type":{"13e8c268":"code","2cd3d607":"code","0d145135":"code","01bc1155":"code","0a783020":"code","452b909f":"code","5d4075a3":"code","088c9352":"code","ad01bd12":"code","b5972203":"code","414d832e":"code","a68e341a":"code","611bf9cb":"code","9ca7708b":"code","16c7793d":"code","25ff7e97":"code","d42e400e":"code","df5917ff":"code","db9b02ef":"code","c7026811":"markdown","5d2d9620":"markdown","2010497d":"markdown","ea023fa6":"markdown","30aa6722":"markdown","28b53da7":"markdown","c74baf37":"markdown","c5296d31":"markdown"},"source":{"13e8c268":"# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","2cd3d607":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set(rc={'figure.figsize':(10, 8)}); # you can change this if needed","0d145135":"df = pd.read_csv('..\/input\/zomato.csv', encoding = \"ISO-8859-1\")\n#df.info()\ndf.head()","01bc1155":"countries = pd.read_excel('..\/input\/Country-Code.xlsx')\ndf = df.merge(countries, left_on = 'Country Code', right_on = 'Country Code')\nprint(df['Country'].value_counts()[:5])\nprint(df['City'].value_counts()[:5])","0a783020":"# Your code\n #df.groupby('Aggregate rating')['Cuisines'].value_counts()\n\n#df.groupby(['Cuisines'], as_index=False)['Restaurant ID'].count().sort_values('Restaurant ID', ascending=False).head(10)\n\na = []\nfor i in df[\"Cuisines\"].values:\n    #print(i, type(i))\n    if (type(i) == str):\n        for j in i:\n            a.extend(i.split(\", \"))\nprint(np.unique(a))\n\n #sns.heatmap(pd.crosstab(df['Cuisines'], df['Aggregate rating']))","452b909f":"df.groupby('Cuisines')['Aggregate rating'].mean().sort_values(ascending=False).head(50).plot(kind='bar', color = 'blue', figsize=(20,5), title='TOP 50 cuisines')","5d4075a3":"df.groupby('Cuisines')['Aggregate rating'].mean().sort_values(ascending=False).tail(50).plot(kind='bar',figsize=(20,5), title='Rating the worst 50 cuisines')","088c9352":"\n#plt.scatter(df[df['Average Cost for two']<10000]['Average Cost for two'], df[df['Average Cost for two']<10000]['Aggregate rating']);\n# sns.jointplot(x='Aggregate rating', y='Average Cost for two', data=df);\n# sns.boxplot(x = 'Aggregate rating', y='Average Cost for two', data=df)\n#df[['Aggregate rating', 'Average Cost for two']].mean().sort_values(ascending=False\ndf.groupby('Aggregate rating')['Price range'].mean().plot(kind = 'bar', color = 'green', title = '\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043e\u0442 \u0446\u0435\u043d\u044b')\n# df.plot.scatter(x='Price range',y='Aggregate rating',figsize=(15,7), title=\"\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043e\u0442 \u0446\u0435\u043d\u044b\")","ad01bd12":"from scipy.stats import pearsonr, spearmanr, kendalltau\nspearmanr(df['Price range'], df['Aggregate rating'])","b5972203":"sns.boxplot(x = \"Has Table booking\", y = \"Aggregate rating\", data = df)\nplt.title('\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043e\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0442\u043e\u043b\u0438\u043a\u043e\u0432')\nplt.show()","414d832e":"new_values = {'No':0, 'Yes':1}\ndf['booking'] = df['Has Table booking'].map(new_values)\ndf.groupby('booking')['Aggregate rating'].mean().plot(kind = 'bar', title = '\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043e\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0442\u043e\u043b\u0438\u043a\u043e\u0432')","a68e341a":"#\u0411\u0438\u0441\u0435\u0440\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442 \u043a\u043e\u0440\u0440\u0435\u043b\u044f\u0446\u0438\u0438\nfrom scipy.stats import pointbiserialr \nnew_values = {'No':0, 'Yes':1}\ndf['booking'] = df['Has Table booking'].map(new_values)\npointbiserialr(df['Aggregate rating'], df['booking'])","611bf9cb":"# Your code\n#from scipy.stats import pointbiserialr\n# new_values = { 'Excellent':6, 'Very Good':5, 'Good':4, 'Avg.':3, 'Poor':2, 'Not Rated':1}\n# df['Rating text num'] = df['Rating text'].map(new_values)\n#pointbiserialr(df['Longitude'],df['Rating text num'])\n#df.groupby('Rating text num')['Latitude'].mean().plot(kind = 'bar')\nsns.scatterplot(x = 'Latitude', y = 'Longitude', hue = 'Rating text', data=df)\n#df.plot.scatter(x = 'Latitude', y = 'Longitude', c = 'Rating color', figsize=(15,7))\n","9ca7708b":"sns.boxplot(x = \"Is delivering now\", y = \"Aggregate rating\", data = df)\nplt.title('\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043e\u0442 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438')\nplt.show()","16c7793d":"df.groupby('Aggregate rating')['Votes'].mean().sort_values().plot(kind='bar',figsize=(20,5), title='\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043e\u0442 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0433\u043e\u043b\u043e\u0441\u043e\u0432, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u043e\u043c \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432')","25ff7e97":"df.groupby('City')['Aggregate rating'].mean().sort_values(ascending=False).head(50).plot(kind='bar', color = 'red', figsize=(20,5), title='\u0422\u043e\u043f 50 \u0433\u043e\u0440\u043e\u0434\u043e\u0432 \u043f\u043e \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0443')","d42e400e":"#df.groupby('Aggregate rating')['Average Cost for two'].mean().plot(kind = 'bar', title = '\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043e\u0442 \u0446\u0435\u043d\u044b')\ndf[(df['Average Cost for two']<10000) & (df['Aggregate rating']!=0)].plot.scatter(x = 'Average Cost for two', y = 'Aggregate rating', figsize=(15,7), title=\"\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043e\u0442 \u0446\u0435\u043d\u044b \u043d\u0430 \u0434\u0432\u043e\u0438\u0445\")\n#df.plot.scatter(x = 'Average Cost for two', y = 'Aggregate rating', figsize=(15,7), title=\"\u0417\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043e\u0442 \u0446\u0435\u043d\u044b \u043d\u0430 \u0434\u0432\u043e\u0438\u0445\")","df5917ff":"df['Restaurant Name'].value_counts()","db9b02ef":"n = ['Price range', 'Aggregate rating', 'Votes', 'Average Cost for two']\nsns.pairplot(df[n])","c7026811":"\u0412\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435 \u043f\u0440\u0438\u0437\u043d\u0430\u043a **Rating color** (\u0438\u043b\u0438 **Rating text**) \u0432 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u0438 \u0441 \u0433\u0435\u043e\u043b\u043e\u043a\u0430\u0446\u0438\u0435\u0439 (**Longitude**, **Latitude**). \u041a\u0430\u043a\u043e\u0439 \u0432\u044b\u0432\u043e\u0434 \u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c?","5d2d9620":"\u0427\u0442\u043e \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0437\u0430\u0442\u044c \u043e \u0441\u0432\u044f\u0437\u0438 \u0446\u0435\u043d\u043e\u0432\u043e\u0433\u043e \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430 \u0438 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0430? \u041d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0439\u0442\u0435 \u043e \u0432\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438.","2010497d":"\u041a\u0430\u043a\u0438\u0435 \u0435\u0449\u0451 \u0438\u043d\u0441\u0430\u0439\u0442\u044b \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u0438\u043c\u0435\u044e\u0449\u0438\u0445\u0441\u044f \u0434\u0430\u043d\u043d\u044b\u0445? \u0422\u0432\u043e\u0440\u0447\u0435\u0441\u043a\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435.","ea023fa6":"\u0415\u0441\u0442\u044c \u043b\u0438 \u0440\u0430\u0437\u043b\u0438\u0447\u0438\u044f \u0432 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0435 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u043e\u0432 \u0441 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c\u044e \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0442\u043e\u043b\u0438\u043a\u043e\u0432 \u0438 \u0431\u0435\u0437 \u043d\u0435\u0433\u043e? ","30aa6722":"\u0412 \u043a\u0430\u043a\u0438\u0445 \u0441\u0442\u0440\u0430\u043d\u0430\u0445 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u044b \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u044b? \u041d\u0430\u0437\u043e\u0432\u0438\u0442\u0435 \u0442\u043e\u043f-5 \u0441\u0442\u0440\u0430\u043d. \u0412\u044b\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u0443\u044e \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443 \u043f\u043e \u0433\u043e\u0440\u043e\u0434\u0430\u043c.","28b53da7":"\u041a\u0430\u043a\u0438\u0435 \u0442\u0438\u043f\u044b \u043a\u0443\u0445\u043d\u0438 \u043f\u043e\u0434\u0430\u044e\u0442 \u0432 \u0440\u0435\u0441\u0442\u043e\u0440\u0430\u043d\u0430\u0445? \u041a\u0430\u043a \u0441\u0432\u044f\u0437\u0430\u043d \u044d\u0442\u043e\u0442 \u043f\u0440\u0438\u0437\u043d\u0430\u043a \u0441 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u043e\u043c? \u041d\u0435 \u0437\u0430\u0431\u044b\u0432\u0430\u0439\u0442\u0435 \u043e \u0432\u0438\u0437\u0443\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438.","c74baf37":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435. \u041e\u043d\u0438 \u043d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 input.","c5296d31":"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438."}}