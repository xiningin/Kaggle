{"cell_type":{"a2bca839":"code","5686a384":"code","cf6deec4":"code","77d68030":"code","47a4cf42":"code","bea960a7":"code","6638bdff":"code","14987091":"code","11c8bcd8":"code","e7c00e42":"code","1d7320f3":"code","940fcdd9":"code","feba8797":"code","6645d1da":"code","f89cf5f8":"code","6308bf2b":"code","eb869d18":"code","64bece35":"code","849488e2":"code","aa74c1fc":"code","675ed38b":"code","903017a9":"code","039b4657":"code","e61c9d50":"code","7c54232b":"code","d7289eea":"code","c5bbe218":"code","b9970637":"code","be471195":"code","9e3797c1":"code","5524038c":"code","ff4d5376":"code","df48714f":"code","67085d8a":"code","eb53bb3f":"code","90e77028":"code","653c422b":"code","4c62a94d":"code","0158ea2e":"code","8979152c":"code","b57cf33a":"code","9a045af0":"code","c9afa615":"code","5be53a08":"code","29a95c96":"code","1af3e0b1":"code","52121ea8":"code","0ff8fb95":"code","749877b1":"code","56fe4fb0":"code","75d945ec":"code","142bdea0":"code","2c5e0c69":"code","4a281ff2":"code","dfe41e4e":"code","f8b8fb1d":"code","a8c43211":"code","aee4fdf9":"code","c767ff34":"code","bb57ac9a":"code","cd96bb42":"code","e0761332":"code","0d9a2c0b":"code","1af344fb":"code","dfd389a7":"markdown","04faa72d":"markdown","2eec7a3a":"markdown","83bec919":"markdown","747bde04":"markdown"},"source":{"a2bca839":"%matplotlib inline\nimport pandas as pd\nimport datetime\nimport numpy as np\nimport matplotlib.image\nimport matplotlib.pyplot as plt\nfrom matplotlib import cm","5686a384":"pd.__version__","cf6deec4":"rent = pd.read_csv('..\/input\/tashu-taejon-shared-bike-data\/2013_01.csv', parse_dates=[2,4])","77d68030":"rent.dtypes","47a4cf42":"rent.describe()","bea960a7":"rent.head()","6638bdff":"# NaN \uc140\uc744 0\uc73c\ub85c \ubc14\uafb8\uae30\nrent['rent_station'] = rent.rent_station.fillna(0)\nrent['return_station'] = rent.return_station.fillna(0)","14987091":"rent.head()","11c8bcd8":"# float \ub97c int\ub85c \ubc14\uafb8\uae30\nrent['rent_station']=rent.rent_station.astype(int)","e7c00e42":"rent.head()","1d7320f3":"rent['return_station']=rent.return_station.astype(int)","940fcdd9":"rent.head()","feba8797":"rent.dtypes","6645d1da":"rent['sub'] = rent.return_date - rent.rent_date\nrent['sub'].astype('timedelta64[s]')\nrent[:10]","f89cf5f8":"ts = pd.Series(1, rent['rent_date'])\nts[:10]","6308bf2b":"#hourly_ts = ts.resample('H').count()\nhourly_ts = ts.groupby(ts.index.hour).sum()","eb869d18":"hourly_ts.head()","64bece35":"plt.title('Hourly Usage')\nhourly_ts.plot()\nplt.show()","849488e2":"daily_ts = ts.resample('D').count()\ndaily_ts[:10]","aa74c1fc":"monthly_ts = ts.resample('M').count()\nmonthly_ts[:10]","675ed38b":"plt.title('Daily Usage')\ndaily_ts.plot()\nplt.show()","903017a9":"plt.title('Monthly Usage')\nmonthly_ts.plot()","039b4657":"rent['weekday'] = pd.DatetimeIndex(rent['rent_date']).weekday\nrent[:10]","e61c9d50":"rent_weekday = rent.groupby('weekday').rent_station.count()\nrent_weekday","7c54232b":"date_number = [0,1,2,3,4,5,6]\ndate_labels = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']\nplt.title('Day of  Week Rentals')\n#rent_weekday.plot()\nrent_weekday.plot(kind='bar', \n                  color=['r', 'g', 'b', 'k', 'y', 'm', 'c']); \n                  \n#plt.axhline(y=0, color='k')\nplt.xticks(date_number, date_labels, rotation=45)\n#plt.hist(rent_weekday)\nplt.show()","d7289eea":"from numpy import *","c5bbe218":"rent[:10]","b9970637":"rent['hour'] = rent['rent_date'].dt.hour","be471195":"rent.head()","9e3797c1":"rent['count'] = 1","5524038c":"weekly_hourly = rent.groupby(['weekday', 'hour']).size().unstack()","ff4d5376":"weekly_hourly","df48714f":"weekly_hourly.fillna(0, inplace=True)","67085d8a":"weekly_hourly","eb53bb3f":"weekly_hourly = weekly_hourly.astype(int)","90e77028":"weekly_hourly","653c422b":"heatmap_hr = np.zeros([7,24])","4c62a94d":"import seaborn as sns","0158ea2e":"hm = sns.heatmap(weekly_hourly, cmap=\"YlGnBu\")","8979152c":"rent_station_cnt = rent.groupby('rent_station').rent_station.count()\nrent_station_cnt[:10]","b57cf33a":"rent_station_cnt.sort_values(inplace=True, ascending=False)","9a045af0":"top10 = rent_station_cnt[:10]","c9afa615":"top10","5be53a08":"import pandas as pd","29a95c96":"station_df = pd.read_csv(r'..\/input\/tashu-taejon-shared-bike-data\/station_utf8.csv')\nstation_df.head(5)","1af3e0b1":"top10","52121ea8":"top10.index","0ff8fb95":"top10.dtypes","749877b1":"top10_df = top10.to_frame()","56fe4fb0":"top10_df","75d945ec":"top10_df.rename(columns={\"rent_station\":\"count\"}, inplace=True)","142bdea0":"top10_df","2c5e0c69":"top10_df[\"no\"] = top10_df.index","4a281ff2":"top10_df","dfe41e4e":"top10_df.rename(columns={\"station_no\":\"no\"}, inplace=True)","f8b8fb1d":"top10_df","a8c43211":"station_df.head()","aee4fdf9":"top10_merge_df = pd.merge(left=top10_df, right=station_df, how=\"inner\", on=\"no\")","c767ff34":"top10_merge_df","bb57ac9a":"import folium\n \nm = folium.Map(location=[36.369855, 127.388749],\n               zoom_start=12)\nm","cd96bb42":"#import folium\n%matplotlib inline","e0761332":"locationlist = list(zip(top10_merge_df[\"lat\"], top10_merge_df[\"lon\"]))","0d9a2c0b":"locationlist","1af344fb":"m = folium.Map(location=locationlist[0],\n               zoom_start=13)\nfor i in range(10):\n    folium.Marker(locationlist[i], popup=locationlist[i]).add_to(m)\nm","dfd389a7":"## Top 10 stations ?","04faa72d":"### \ub300\uc5ec \uc2dc\uac04 \uacc4\uc0b0\ud558\uae30","2eec7a3a":"## Open data with  csv file","83bec919":"# \ud0c0\uc288 \ub370\uc774\ud130 \ubd84\uc11d","747bde04":"## weekly stat"}}