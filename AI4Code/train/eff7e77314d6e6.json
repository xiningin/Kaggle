{"cell_type":{"be3d22b6":"code","73b1025a":"code","e4acda16":"code","276d9d6e":"code","1e8ab6bf":"code","96cfc9fd":"code","66993ba1":"code","b1882404":"code","7005b9f6":"code","40d5f1bb":"code","c0ea0d9a":"code","5b634646":"code","eb43bd62":"code","5f0fb49a":"code","bd66a6e1":"code","f070d239":"code","111a3271":"code","f51d18ba":"code","7f028563":"markdown","900eea17":"markdown","aa89b180":"markdown","92606240":"markdown","e712c8f4":"markdown","1975ccd5":"markdown","b79681ea":"markdown","e2fe7a26":"markdown","0f995482":"markdown","86f2f972":"markdown","46c0712f":"markdown","afcf6504":"markdown","6dd60380":"markdown","8e9b3b1f":"markdown","d6c5309a":"markdown","00d44efb":"markdown","21262737":"markdown","3fcb55d4":"markdown","c5ae2314":"markdown","37ac3865":"markdown","8d21e20c":"markdown","ba1fd5d1":"markdown","97fe2489":"markdown","e86090c2":"markdown","df5d4dec":"markdown","f55f5bb2":"markdown"},"source":{"be3d22b6":"# Import library\nimport numpy as np\nimport pandas as pd\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns","73b1025a":"# Load data\ndf = pd.read_csv(\"..\/input\/adult-depression-lghc-indicatore\/adult-depression-lghc-indicator-2.csv\")\ndf","e4acda16":"# Make copy\ndf = df[[\"Year\", \"Strata\", \"Strata Name\", \"Upper 95% CL\"]].copy()\ndf.rename(columns = {\"Upper 95% CL\":\"Percentage\"}, inplace=True)","276d9d6e":"# Check for NULL\ndf.isnull().sum()","1e8ab6bf":"# Strata : Total every year\ntotal_df = df.loc[df.Strata == \"Total\"].copy()\n\n# Strata : Sex\nsex_df = df.loc[df.Strata == \"Sex\"].copy()\nsex_df.rename(columns={\"Strata Name\":\"Sex\"}, inplace=True)\n\n# Strata : Race-Ethnicity\nrace_df = df.loc[df.Strata == \"Race-Ethnicity\"].copy()\nrace_df.rename(columns={\"Strata Name\":\"Race_Ethnicity\"}, inplace=True)\n\n# Strata : Education\neducation_df = df.loc[df.Strata == \"Education\"].copy()\neducation_df.rename(columns={\"Strata Name\":\"Education_level\"}, inplace=True)\n\n# Strata : Income\nincome_df = df.loc[df.Strata == \"Income\"].copy()\nincome_df.rename(columns={\"Strata Name\":\"Income_group\"}, inplace=True)\n\n# Strata : Age\nage_df = df.loc[df.Strata == \"Age\"].copy()\nage_df.rename(columns={\"Strata Name\":\"Age_group\"}, inplace=True)","96cfc9fd":"# Checking each data frame\nprint(total_df.head())\nprint(sex_df.head())\nprint(race_df.head())\nprint(education_df.head())\nprint(income_df.head())\nprint(age_df.head())\n","66993ba1":"# Plot function\ndef barplot(x, y, data, title, hue=None, color=None, alpha=None):\n    _, ax1 = plt.subplots(figsize = (10, 6))\n    sns.barplot(x=x, y=y, data=data, hue=hue, color=color, alpha=alpha)\n    plt.title(title)","b1882404":"# Graph plotting\nbarplot(x=\"Year\", y=\"Percentage\", data=total_df, title=\"Annual Proportion of Adults Who Were Told They Had a Depressive Disorder \", color=\"blue\", alpha=0.8)\n\n# Calculating average\naverage = round(total_df[\"Percentage\"].mean(),1)\nprint(f\"Annual Proportion of Adults Who Were Told They Had a Depressive Disorder: {average}\")","7005b9f6":"# Graph Plotting\nbarplot(x=\"Year\", y=\"Percentage\", data=sex_df, hue=\"Sex\", title=\"Male vs Female\")\n\n# Calculating Average\nfemale_avg = round(sex_df[sex_df.Sex == \"Female\"].Percentage.mean(),0)\nmale_avg = round(sex_df[sex_df.Sex == \"Male\"].Percentage.mean(),0)\nprint(f\"Average number of female suffered from depression annually : {female_avg}\")\nprint(f\"Average number of male suffered from depression annually : {male_avg}\")","40d5f1bb":"# Graph plotting\nrace_df.rename(columns={\"Strata Name\":\"Race_Ethnicity\"}, inplace=True)\nbarplot(x=\"Year\", y=\"Percentage\", data=race_df, hue=\"Race_Ethnicity\", title = \"Annual Percentage of Adults with Depression (Race-Ethnicity)\")\n\n# Calculating mean\nwhite_avg = round(race_df[race_df.Race_Ethnicity == \"White\"].Percentage.mean(),0)\nblack_avg = round(race_df[race_df.Race_Ethnicity == \"Black\"].Percentage.mean(),0)\nhispanic_avg = round(race_df[race_df.Race_Ethnicity == \"Hispanic\"].Percentage.mean(),0)\nasian_pacific_islander_avg = round(race_df[race_df.Race_Ethnicity == \"Asian\/Pacific Islander\"].Percentage.mean(),0)\nother_avg = round(race_df[race_df.Race_Ethnicity == \"Other\"].Percentage.mean(),0)\n\n# Print result\nprint(f\"Average frequency of White ethnic suffered from depression : {white_avg}\")\nprint(f\"Average frequency of Black ethnic suffered from depression : {black_avg}\")\nprint(f\"Average frequency of Hispanic ethnic suffered from depression : {hispanic_avg}\")\nprint(f\"Average frequency of Asian\/Pacific Islander ethnic suffered from depression : {asian_pacific_islander_avg}\")\nprint(f\"Average frequency of Other ethnic suffered from depression : {other_avg}\")","c0ea0d9a":"fig, ax = plt.subplots(figsize=(10, 6))\naverage_dict = {\"White\": white_avg, \"Black\": black_avg, \"Hispanic\": hispanic_avg,\n                \"Asian\/Pacific Islander\": asian_pacific_islander_avg, \"Others\": other_avg}\nrace = list(average_dict.keys())\nvalues = list(average_dict.values())\nplt.bar(range(len(average_dict)), values, tick_label=race, alpha=0.4)\nplt.xlabel(\"Race\")\nplt.ylabel(\"Average Percentage\")\nplt.title(\"Average Frequency of Adult suffering from Depression group by Race Ethnicity \")\nplt.xticks(range(len(average_dict)), race, rotation=15)\nplt.show()","5b634646":"barplot(x=\"Year\", y=\"Percentage\", data=education_df, hue=\"Education_level\", title=\"Annual Percentage of Adults with Depression (Education Level)\")","eb43bd62":"barplot(x=\"Year\", y=\"Percentage\", data=income_df, title=\"Can money buy you happiness?\", hue=\"Income_group\")","5f0fb49a":"first_group = round(income_df[income_df.Income_group == \"< $20,000\"].Percentage.mean(),0)\nsecond_group = round(income_df[income_df.Income_group == \"$20,000 - $34,999\"].Percentage.mean(),0)\nthird_group = round(income_df[income_df.Income_group == \"$35,000 - $49,999\"].Percentage.mean(),0)\nforth_group = round(income_df[income_df.Income_group == \"$50,000 - $74,999\"].Percentage.mean(),0)\nfifth_group = round(income_df[income_df.Income_group == \"$75,000 - $99,999\"].Percentage.mean(),0)\nlast_group = round(income_df[income_df.Income_group == \"$100,000+\"].Percentage.mean(),)\n\naverage_dict = {\"< $20,000\": first_group, \"20,000 - 34999\": second_group, \"35,000 - 49,999\": third_group,\n                \"50,000 - 74,999\": forth_group, \"75,000 - 99,999\": fifth_group, \"$100,000+\":last_group}\n\nfig, ax = plt.subplots(figsize=(10,6))\nincome = list(average_dict.keys())\naverage = list(average_dict.values())\n\nplt.bar(range(len(income)), average, tick_label = income, color='purple', alpha=0.5)\nplt.ylabel(\"Percentage\")\nplt.xlabel(\"Income range\")\nplt.title(\"Average Percentage of Depression for each income group\")\nplt.xticks(range(len(average_dict)), income, rotation=25)\nplt.show()\n\nprint(average_dict.values())","bd66a6e1":"barplot(x=\"Year\", y=\"Percentage\", data=age_df, title=\"Annual Percentage of Adults with Depression (Age)\", hue=\"Age_group\")","f070d239":"test = sns.FacetGrid(age_df, col=\"Age_group\")\ntest.map_dataframe(sns.lineplot, x=\"Year\", y=\"Percentage\")","111a3271":"# Extract data for adults in between 18 to 34.\nyoung_adult_df = age_df.loc[age_df['Age_group'] == \"18 to 34\"]\n\n# Graph plotting.\nfig, ax1 = plt.subplots(figsize=(10, 6))\nplt.scatter(\"Year\", \"Percentage\", data = young_adult_df, label = \"Percentage\")\nplt.title(\"Annual Percentage of Young Adults with Depression (18 to 34)\")\nplt.xlabel('Year')\nplt.ylabel('Percentage')\n\n# Linear function.\nx = young_adult_df[\"Year\"]\ny = young_adult_df[\"Percentage\"]\ngradient, intercept = np.polyfit(x, y, 1).round(5)\nplt.plot(x, gradient*x + intercept, label=f\"Linear function gradient : {gradient}\", color='red')\nplt.legend()","f51d18ba":"# Extract data for adults in between 35 to 44.\nmiddle_adult_df = age_df.loc[age_df['Age_group'] == \"35 to 44\"]\n\n# Graph plotting.\nfig, ax1 = plt.subplots(figsize=(10, 6))\nplt.scatter(\"Year\", \"Percentage\", data = middle_adult_df, label = \"Percentage\")\nplt.title(\"Annual Percentage of Middle Aged Adults with Depression (35 to 44)\")\nplt.xlabel('Year')\nplt.ylabel('Percentage')\n\n# Linear function.\nx = middle_adult_df[\"Year\"]\ny = middle_adult_df[\"Percentage\"]\ngradient, intercept = np.polyfit(x, y, 1).round(5)\nplt.plot(x, gradient*x + intercept, label=f\"Linear function gradient : {gradient}\", color='red')\nplt.legend()","7f028563":"# 2. Data Visualization \/ Exploratory\n\nLet's have a look at each data set separated according to Strata type through visualization.","900eea17":"# 1.Data Processing\n\n1.1 Data processing and cleaning\n\nAssuming that the percentage columns are counted by dividing with total population of each strata, I will be using the data from Upper 95% Confidence Level(CL) for further exploration.","aa89b180":"Checking for NULL values. It seems that the data is quite clean with zero null.\nSo it's good for further exploration.","92606240":"# 2.5 Income Range vs Depression Frequency\n\nIncome [$]: <20000, 20000 - 34999, 35000 - 49999, 50000 - 74999, 75000 - 99999, 100000+","e712c8f4":"# 2.1 Percentage of adults with Depressive Disorder.","1975ccd5":"**2.6.1 Line graph**","b79681ea":"# Data\n\nThis is a source dataset for Let's Get Healthy California indicator at \"https:\/\/letsgethealthy.ca.gov\/.\" This data contains statistic information about the proportion of adults who were ever told they had a depressive disorder in California. It contains data for California only.\n\n**Strata Details**\n1. Total every year\n2. Sex : Male, Female\n3. Race-Ethnicity : White, Black, Hispanic, Asian\/Pacific Islander, Other\n4. Education: No High School Diploma, High School Graduate or GED Certificate, Some College or Tech School, College Graduate or Post Grad\n5. Income [$]: <20000, 20000 - 34999, 35000 - 49999, 50000 - 74999, 75000 - 99999, 100000+\n6. Age: 18 to 34, 35 to 44, 45 to 54, 55 to 64, 65+ years\n\n\nI personally have close relatives who suffer from depression. So I'm curious to find out which category of people are more likely to get depression through this simple EDA.","e2fe7a26":"According to the graph plotted above, adults in the 'Other' race category have the highest percentage. While White adults come in second place consistently and Asian\/Pacific Islanders have the smallest percentage. ","0f995482":"Based on the graph plotted above for adults in the age groups of 18 to 34 and 35 to 44, we can see that the annual rate of increase in percentage is much higher for the young adults(gradient: 2.4) compared to the middle aged adults(gradient: 1.5).  ","86f2f972":"From the individual graphs plotted for each age group above, we can observe that the age group of 55 to 64 has the highest percentage consistenly from 2012 to 2016. While the graph for the first two groups(18 to 34 and 35 to 44) shows the steepest rate of increase compared to the other groups. Let's plot another graph with linear function to find out the gradient for these two graphs.","46c0712f":"After generating the average percentage for each income group. It seems that only the group with income lower than $20,000 (average percentage: 24%) has much higher percentage of depression compared to the other groups (average percentage: 14% - 18%). With this results, we can say that adults who receive incomes under a threshold of 20,000 dollar have higher chances of getting depression.","afcf6504":"**2.6.1 Bar graph**","6dd60380":"# Depression\n\nDepression is a common illness worldwide, with an estimated 3.8% of population affected, including 5.0% among adults and 5.7% among adults older than 60 years. Approximately 280 million people in the world have depression. Depression can also lead to suicide with more than 700 000 lives lost every year due to suicide. Depression should not be taken lightly.\n\nDepression is always associated with the symptoms listed below:\n1. Depressed mood(feeling sad, irritable, empty)\n2. Loss of pleasure or interest in activities\n3. Poor concentration\n4. Change in appetite or weight\n5. etc..\n\nReference: https:\/\/www.who.int\/news-room\/fact-sheets\/detail\/depression\n","8e9b3b1f":"For the comparison of percentage of male and female, there is a clear trend that there were more females who were told that they had depression in California every year from 2012 to 2018. The average percentage for female adult is about 20% while 13% for male from 2012 to 2018. This is quite a surprising and shocking fact for me as the average percentage for females is about 1.5 times the males' percentage.","d6c5309a":"In the graph above, we can observed that the percentage of depression in adults that have incomes less than $20,000 is much higher than the other groups. To see the big picture, let's plot the average percentage for each group below.","00d44efb":"The graph doesn't show any clear trend from 2012 to 2018 but there is a significant increase in percentage in the 18 to 34 (blue color bar) and 35 to 44 (orange color bar) age groups. Let's replot the graph into a line graph of each group to have a better look.","21262737":"# 2.2 Male vs Female","3fcb55d4":"From the plotted graph above, we can observe that there was only a slight increase in percentage from 2012 to 2016 but a steep increase of more than 5% from 2016 to 2017. According to the data source pasted below, the population of adults living in California is about 40 millions in 2020. So with rough calculation, there were 2 millions more adults who were told they had depression disorder compared to 2016!\n\ndata source : https:\/\/www.census.gov\/quickfacts\/CA\n","c5ae2314":"# 2.3 Race-Ethnicity groups\n\nRace-Ethnicity : White, Black, Hispanic, Asian\/Pacific Islander, Other","37ac3865":"# Conclusion\n\nAfter a simple EDA with the dataset, here are the conclusions that I've learned.\n\n1. Female adults are more likely to get depression compared to male.\n2. Among the race\/ethnic groups, the 'Other' race ethnic group has the highest percentage of adults with depression compared to the other groups.\n3. Adults with income less than $20,000 are more likely to suffer from depression.\n4. The percentage of young adults with depression in the age range of 18 to 34 is increasing at an alarming rate from 2012 to 2018. \n\nLet's do our part to reduce depression by paying more attention to the people around us, give them some kind words, show them some love. A small kind gesture will definately help and goes a long way!\n\nThanks for reading.","8d21e20c":"![](https:\/\/hips.hearstapps.com\/wdy.h-cdn.co\/assets\/16\/28\/980x490\/landscape-1468445687-depression.jpg?resize=640:*)","ba1fd5d1":"**1.2 Separating Data according to Strata type**","97fe2489":"There isn't much of a clear trend for this graph but we can see that the percentage for \"High School Graduate or GED Certificate\" and \"Some college or Tech School\" have a steep increase in 2017 and the later group remains at a high percentage in 2018. ","e86090c2":"# 2.4 Level of Education\n\nEducation: No High School Diploma, High School Graduate or GED Certificate, Some College or Tech School, College Graduate or Post Grad","df5d4dec":"# 2.6 Age group\n\nAge: 18 to 34, 35 to 44, 45 to 54, 55 to 64, 65+ years","f55f5bb2":"To have a clearer view of the trend, I have made a graph to compare the average percentages of each ethnic group from 2012 to 2018. Through the graph above, we can see that the average percentage of the 'Other' ethnic group is about 4 times the percentage of the lowest group(Asian\/Pacific Islander). While the White ethnic group came in second place, followed by Black ethnic group.\n\nThe high percentage observed for the 'Other' ethnic group might be because they are a relatively smaller community compared to the other groups. This migh mean that they have fewer people to rely on or seek for help when they have problems.\n"}}