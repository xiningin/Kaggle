{"cell_type":{"80ad46ee":"code","16f0570e":"code","167935b5":"code","7ca39b50":"code","24cb43a1":"code","c7d37f3f":"code","2a727ae4":"code","b4cd5f5e":"code","6f78a2ab":"code","d7a6e114":"code","f23fb30d":"code","d11c07ca":"code","30b71513":"code","e1b49900":"code","54d5c9ff":"code","071b4c93":"code","510b0d1a":"code","0e17a798":"code","e753b4f2":"code","852589dd":"code","77d65e3b":"code","6f2d298f":"code","08c83d6f":"code","45f51c23":"code","bdbacebe":"code","987a7a66":"code","7b9303a7":"code","4de62367":"code","96ad5cf1":"code","1dc87d3d":"code","b6bdddb6":"code","d13e5aa1":"code","be550fea":"code","fa1ecdff":"code","43532a5a":"code","34175210":"code","c5ebc882":"code","bb7ff5b0":"markdown","6b54b9d3":"markdown","93080cf1":"markdown","3539c5c9":"markdown","6c0109d3":"markdown","1c450136":"markdown","a0fe881e":"markdown","2928193a":"markdown","bd65ccfd":"markdown","0b8a1dd0":"markdown","6c685a07":"markdown"},"source":{"80ad46ee":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","16f0570e":"import warnings\nwarnings.filterwarnings('ignore')\ndf = pd.read_csv('\/kaggle\/input\/hr-analytics\/HR_comma_sep.csv')\ndf.head()","167935b5":"df.shape","7ca39b50":"df.info()","24cb43a1":"#df.isnull().sum()","c7d37f3f":"df.value_counts()","2a727ae4":"df['Department'].value_counts()","b4cd5f5e":"df['salary'].value_counts()","6f78a2ab":"df['number_project'].value_counts()","d7a6e114":"df['time_spend_company'].value_counts()","f23fb30d":"df['Work_accident'].value_counts()","d11c07ca":"df['left'].value_counts()","30b71513":"df['promotion_last_5years'].value_counts()","e1b49900":"df.groupby(['promotion_last_5years','time_spend_company','left'])['left'].count()","54d5c9ff":"import matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nplt.figure(figsize=(10,7))\nsns.heatmap(df.corr(),annot=True,cmap=\"YlGnBu\",linewidths=0.2)\n","071b4c93":"plt.figure(figsize=(25, 10))\nsns.countplot('satisfaction_level',hue='left',data=df)\n##plt.xticks(rotation=-90)","510b0d1a":"# feature-engineering\ndf['sat_band']=0\ndf.loc[(df['satisfaction_level']>=0.0) & (df['satisfaction_level']<=0.1),'sat_band']=0\ndf.loc[(df['satisfaction_level']>0.1) & (df['satisfaction_level']<=0.2),'sat_band']=1\ndf.loc[(df['satisfaction_level']>0.2) & (df['satisfaction_level']<=0.3),'sat_band']=2\ndf.loc[(df['satisfaction_level']>0.3) & (df['satisfaction_level']<=0.4),'sat_band']=3\ndf.loc[(df['satisfaction_level']>0.4) & (df['satisfaction_level']<=0.5),'sat_band']=4\ndf.loc[(df['satisfaction_level']>0.5) & (df['satisfaction_level']<=0.6),'sat_band']=5\ndf.loc[(df['satisfaction_level']>0.6) & (df['satisfaction_level']<=0.7),'sat_band']=6\ndf.loc[(df['satisfaction_level']>0.7) & (df['satisfaction_level']<=0.8),'sat_band']=7\ndf.loc[(df['satisfaction_level']>0.8) & (df['satisfaction_level']<=0.9),'sat_band']=8\ndf.loc[(df['satisfaction_level']>0.9),'sat_band']=9\ndf[['satisfaction_level','sat_band']].head()","0e17a798":"plt.figure(figsize=(10,7))\nsns.countplot('sat_band',hue='left',data=df)","e753b4f2":"plt.figure(figsize=(7,5))\nsns.countplot('promotion_last_5years',hue='left',data=df)","852589dd":"l= df['promotion_last_5years'][(df['promotion_last_5years']==1) & (df['left']==1)].value_counts()\nl","77d65e3b":"sns.countplot('time_spend_company',hue='left',data=df)","6f2d298f":"df.groupby(['time_spend_company','left'])['left'].count()","08c83d6f":"plt.figure(figsize=(7,5))\nsns.countplot('salary',hue='left',data=df)","45f51c23":"# feature-engineering\ndf['salary_band']=0\ndf.loc[(df['salary']=='low'),'salary_band']=0\ndf.loc[(df['salary']=='medium'),'salary_band']=1\ndf.loc[(df['salary']=='high'),'salary_band']=2","bdbacebe":"sns.countplot('Work_accident',hue='left',data=df)","987a7a66":"plt.figure(figsize=(15,5))\nsns.countplot('last_evaluation',hue='left',data=df)","7b9303a7":"# feature-engineering\ndf['evaluation_band']=0\ndf.loc[(df['last_evaluation']>=0.0) & (df['last_evaluation']<=0.2),'evaluation_band']=1\ndf.loc[(df['last_evaluation']>0.2) & (df['last_evaluation']<=0.4),'evaluation_band']=2\ndf.loc[(df['last_evaluation']>0.4) & (df['last_evaluation']<=0.6),'evaluation_band']=3\ndf.loc[(df['last_evaluation']>0.6) & (df['last_evaluation']<=0.8),'evaluation_band']=4\ndf.loc[(df['last_evaluation']>0.8) & (df['last_evaluation']<=0.9),'evaluation_band']=5\ndf.loc[(df['last_evaluation']>0.9),'evaluation_band']=5","4de62367":"sns.countplot('evaluation_band',hue='left',data=df)","96ad5cf1":"sns.countplot('number_project',hue='left',data=df)","1dc87d3d":"plt.figure(figsize=(15,5))\nsns.countplot('average_montly_hours',hue='left',data=df)","b6bdddb6":"#dependent factors taken based on EDA\nnew_df=df[['sat_band','salary_band','promotion_last_5years','left']]\nnew_df.head()","d13e5aa1":"new_df.isnull().sum()","be550fea":"from sklearn.linear_model import LogisticRegression\nfrom sklearn.model_selection import train_test_split\nfrom sklearn import metrics","fa1ecdff":"X_train,X_test, y_train, y_test =train_test_split(new_df[['sat_band','salary_band','promotion_last_5years']],df.left,test_size=0.3, stratify=new_df['left'])","43532a5a":"model=LogisticRegression()\nmodel.fit(X_train,y_train)\nmodel.predict(X_test)","34175210":"model.score(X_test, y_test)","c5ebc882":"#not leaving , leaving\nmodel.predict_proba(X_test)","bb7ff5b0":"**employee with low salary are more willing to leave the job** ","6b54b9d3":"**employee with satisfaction_level<0.5 appears to leave the company camparable to the employee with satisfaction_level>0.5**","93080cf1":"**employee achieving promotion are less likely to leave the company**","3539c5c9":"#only for numerical values\n\nit's clear from the above figure that satisfaction_level, promotion_last_5years, work_accident show negative correlation with employee retention(whether they left or continued working)","6c0109d3":"**employee gone through work_accidents, less no. of people left the job**","1c450136":"**employee having promotion and left the job =19**","a0fe881e":"**Dataset has no null values**","2928193a":"#  Training and testing the model","bd65ccfd":"**satisfaction_level range from 0-1**\n\n**We create some bands like - 0-0.1 ,0.1-0.2,..,0.9-1**","0b8a1dd0":"# **Exploratory Data Analysis** ","6c685a07":"**#metrics.accuracy_score(prediction,y_test)**\n\n**accuracy by logisticRegression model is 77%**"}}