{"cell_type":{"8451b3f7":"code","2e6da2b8":"code","bb187ee5":"code","08936da2":"code","9f6b12a2":"code","ca4d193b":"code","661b2dd6":"code","da72f650":"code","183431d5":"code","02f88be2":"code","0cd13b23":"code","414b6858":"code","5b996edb":"code","b97e1c82":"code","c4decf84":"code","6d96ece8":"code","23c22b2d":"code","c5c38ff7":"code","a578b4dc":"markdown","1a5adeca":"markdown","f0614a43":"markdown","b474a0df":"markdown","942d8699":"markdown","5b2979fb":"markdown","e4d4c646":"markdown"},"source":{"8451b3f7":"import numpy as np\nimport pandas as pd\nimport math\nimport matplotlib\nimport matplotlib.pyplot as plt\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","2e6da2b8":"data=pd.read_csv('..\/input\/covid19-vaers-data\/covid_vaers_data.csv')\ndata[0:2].T","bb187ee5":"print(data.columns.tolist())\nprint(len(data))\nprint(data['RECVDATE'].min())\nprint(data['RECVDATE'].max())","08936da2":"age_band=[]\nfor item in data['AGE_YRS']:\n    if math.isnan(item):\n        age_band+=[-1]\n    else:\n        age_band+=[int(item\/10)]\ndata['AGE_BAND']=age_band","9f6b12a2":"MORT0=[]\nfor i in range(11):\n    total=data[data['AGE_BAND']==i].shape[0]\n    died=data[data['AGE_BAND']==i][data['DIED']=='Y'].shape[0]\n    MORT0+=[[i,total,died,died*100\/total]]       \nmort_df0=pd.DataFrame(MORT0)\nmort_df0.columns=['AGE_BAND','TOTAL','DEATH','% RATIO']\nmort_df0","ca4d193b":"plt.style.use('ggplot') \nfont = {'family':'meiryo'}\nmatplotlib.rc('font', **font)","661b2dd6":"print(mort_df0.shape)\nprint(mort_df0[0:3])","da72f650":"mort_df0.plot.bar(y=['% RATIO'], alpha=0.8, figsize=(12,6))\nplt.title('Case Fatality Ratios by Age Band', size=24)\nplt.ylabel('% ratio')","183431d5":"# AGEBAND 0: AGE 0-9\n# AGEBAND 1: AGE 10-19\n# AGEBAND 2: AGE 20-29\n# AGEBAND 3: AGE 30-39\n# AGEBAND 4: AGE 40-49\n# AGEBAND 5: AGE 50-59\n# AGEBAND 6: AGE 60-69\n# AGEBAND 7: AGE 70-79\n# AGEBAND 8: AGE 80-89\n# AGEBAND 9: AGE 90-99\n# AGEBAND 10: AGE 100-109  ","02f88be2":"MORT1=data[['SEX','DIED','AGE_BAND']].copy()\nprint(MORT1)\nMORT2=MORT1[MORT1['DIED']=='Y'].groupby(['AGE_BAND']).sum()","0cd13b23":"died_m=[]\ndied_f=[]\nfor item in MORT2['SEX']:\n    died_m+=[item.count('M')]\n    died_f+=[item.count('F')]\nMORT2['DIED_MALE']=died_m\nMORT2['DIED_FEMALE']=died_f\nMORT3=MORT2.drop(['SEX','DIED'],axis=1)\nMORT3","414b6858":"MORT3.plot.bar(y=['DIED_MALE','DIED_FEMALE'], alpha=0.8, figsize=(12,6))\nplt.title('Case Fatality Number by Age Band and Sex', size=24)\nplt.ylabel('Number')","5b996edb":"Y_histories=data[data['DIED']=='Y'][data['AGE_YRS']>59]['HISTORY']\nN_histories=data[data['DIED']!='Y'][data['AGE_YRS']>59]['HISTORY']\nprint(len(Y_histories))\nprint(len(N_histories))","b97e1c82":"#data['DIED']=='Y'\nitem2=[]\nfor item in Y_histories:\n    if type(item)==str:\n        item2+=item.split(', ')\n\n(pd.DataFrame(item2)).value_counts()[0:10]","c4decf84":"#data['DIED']!='Y'\nitem3=[]\nfor item in N_histories:\n    if type(item)==str:\n        item3+=item.split(', ')\n\n(pd.DataFrame(item3)).value_counts()[0:10]","6d96ece8":"focus2=data[['VAX_DATE','DATEDIED','DIED']].copy()\nfocus2['VAX_DATE2']=pd.to_datetime(focus2['VAX_DATE'])\nfocus2['DATEDIED2']=pd.to_datetime(focus2['DATEDIED'])\nfocus2['DAYS']=focus2['DATEDIED2']-focus2['VAX_DATE2']\ndays_df0=focus2[focus2['DIED']=='Y']['DAYS'].value_counts()","23c22b2d":"days_df0=pd.DataFrame(days_df0)\ndays_df0[1]=days_df0.index.days\ndays_df0.columns=['n','days']\ndays_df1=days_df0[days_df0['days']<=21][0<=days_df0['days']]\ndays_df2=days_df1.sort_values(['days'])\ndays_df3=days_df2.set_index('days')","c5c38ff7":"days_df3.plot.bar(y=['n'], alpha=0.8, figsize=(12,6))\nplt.title('Days after vaccination in case fatality', size=24)\nplt.ylabel('cases')","a578b4dc":"## The Vaccine Adverse Event Reporting System (VAERS) is a national early warning system to detect possible safety problems in U.S.-licensed vaccines. <br\/>\nhttps:\/\/vaers.hhs.gov\/about.html","1a5adeca":"Number of fetal cases was high during 10 days after vaccination, which might indicate that these fetalities were related to vaccination.","f0614a43":"\"No medical history\" seems to be very rare in dead cases compared to alive cases. Risk factors for covid19 could be risks also for vaccination.","b474a0df":"# Days after vaccination in case fatality","942d8699":"* https:\/\/www.kaggle.com\/stpeteishii\/covid19-vaccination-risk (RECVDATE: 01\/01\/2021-03\/19\/2021)","5b2979fb":"# History Comparison between Alive and Dead","e4d4c646":"# Case Fatality Ratios by Age Band "}}