{"cell_type":{"d8ba0ea8":"code","4aa87dc4":"code","4ec1f41d":"code","52d99aea":"code","deac0ef1":"code","4760d401":"code","35565bbc":"code","15e94938":"code","941bfd0e":"code","b2028c6e":"code","f7e067cd":"code","0d732ef5":"code","63b593e0":"code","156f84a0":"code","41ae6c5a":"code","0348957d":"markdown","3b7b6873":"markdown","9ae4c0a4":"markdown","ffc787dd":"markdown","09c2b12b":"markdown","f3784fc5":"markdown","7b6aa6a9":"markdown","f335f276":"markdown","06a75f3f":"markdown","47850a26":"markdown","bed21616":"markdown","75e7a4f1":"markdown","89e688e0":"markdown","eb91257f":"markdown","d911e07e":"markdown","ef67f359":"markdown","7bbd7e37":"markdown","b50b9579":"markdown","ced4782b":"markdown","0e6bc6b7":"markdown","547cc3ad":"markdown","be7530af":"markdown","772928a8":"markdown","7c1889ee":"markdown","3200bd4f":"markdown","c4a2bb89":"markdown","6ef29971":"markdown","13bee076":"markdown","0c70e5f8":"markdown"},"source":{"d8ba0ea8":"import pandas as pd\nimport numpy as np\n\nimport seaborn as sns\nimport matplotlib.pyplot as plt\n\nimport plotly.express as px\nimport warnings\nwarnings.simplefilter(\"ignore\")","4aa87dc4":"data = pd.read_csv('..\/input\/world-happiness-report-2021\/world-happiness-report-2021.csv')","4ec1f41d":"data.head()","52d99aea":"data.shape","deac0ef1":"data.isnull().sum()","4760d401":"fig = px.sunburst(data, path=['Regional indicator', 'Country name'], values='Ladder score',\n                  color='Healthy life expectancy',\n                  color_continuous_scale='RdBu',\n                  color_continuous_midpoint=np.average(data['Healthy life expectancy'], weights=data['Ladder score']))\nfig.update_layout(\n    margin = dict(t=10, l=10, r=10, b=10)\n)\nfig.show()","35565bbc":"fig = px.treemap(data, path=['Regional indicator','Country name'], values='Freedom to make life choices')\nfig.show()","15e94938":"fig = px.scatter(data, x=\"Healthy life expectancy\", y=\"Ladder score\", color=\"Regional indicator\",\n                 size=\"Social support\",log_x=True, size_max=20,\n                 hover_name = \"Country name\",template = 'simple_white')\nfig.show()","941bfd0e":"subset = data.loc[:,['Ladder score','Logged GDP per capita','Freedom to make life choices','Social support']]\npd.plotting.register_matplotlib_converters()\npx.imshow(subset.corr(), height = 600, width = 600)","b2028c6e":"plt.style.use('dark_background') \nfig = px.scatter(data, x='Logged GDP per capita', y=\"Ladder score\",hover_name = 'Country name',\n                 color = 'Regional indicator',template = 'plotly_dark')\n\nfig.update_traces(marker_line=dict(width=1, color='DarkSlateGray'))\n\nfig.show()","f7e067cd":"data_ = data['Ladder score']\ndata['label']=\"\"","0d732ef5":"Q1 = np.percentile(data_, 25, interpolation = 'midpoint')\nQ2 = np.mean(data_)\nQ3 = np.percentile(data_, 75, interpolation = 'midpoint')\nfor i in range(len(data_)):\n    if data['Ladder score'][i]<=Q1:\n        data['label'][i] = 'Sad'\n    if data['Ladder score'][i]>Q1 and data['Ladder score'][i]<Q2:\n        data['label'][i] = 'Moderately Sad'\n    if data['Ladder score'][i]>Q2 and data['Ladder score'][i]<Q3:\n        data['label'][i] = 'Happy'\n    if data['Ladder score'][i]>=Q3:\n        data['label'][i] = 'Very Happy'\n    ","63b593e0":"fig = px.bar(data.sort_values(\"Ladder score\"), x='label',color=\"Regional indicator\", hover_data=['Country name','Ladder score'])\nfig.show()\n","156f84a0":"fig = px.scatter(data, x=\"Freedom to make life choices\", y=\"Ladder score\",trendline='ols',hover_name = 'Country name',\n                 facet_col=\"label\",template = 'plotly_dark')\n\nfig.update_traces(marker_line=dict(width=1, color='DarkSlateGray'))\n\nfig.show()","41ae6c5a":"fig = px.choropleth(data,locations='Country name',locationmode='country names',color='Ladder score',\n    title='Happiness score across the globe'\n)\nfig.show()","0348957d":"> *Visualizing the above concluded correlation between Logged GDP per capita and Ladder score, region wise.*","3b7b6873":"[https:\/\/plotly.com\/python\/basic-charts\/]\n","9ae4c0a4":"**So there are no NULL values in this dataset.**","ffc787dd":"# 1. SUNBURST PLOT USING PLOTLY:","09c2b12b":"> *We can see that there is an approximate linear relationship between Healthy Life expectancy and Happiness score*","f3784fc5":"# 3. SCATTER PLOT USING PLOTLY:","7b6aa6a9":"# 2. TREEMAPS USING PLOTLY:","f335f276":"# 8. CHOROPLETH USING PLOTLY: ","06a75f3f":"# The data looks like:","47850a26":"> *We can see that the Sub Saharan African countries have more Freedom to make life choices, while North American countries have the least*","bed21616":"# Shape of the dataframe:","75e7a4f1":"# DATA VISUALIZATION AND ANALYSIS:","89e688e0":"> *We can visualize that most of the Sub-Saharan African countries come under the lower level of happiness and most of the Western Europian countries come under the most happiest countries.*","eb91257f":"> *We can clearly see that the countries with a higher life expectancy are mostly situated in the WESTERN EUROPE and the countries with lower life expectancy are situated in the SUB-SAHARAN AFRICA.*","d911e07e":"#                                         WORLD HAPPINESS REPORT - 2021","ef67f359":"# 7. USING LINEAR TRENDLINE ON A BAR PLOT WITH CATEGORICAL AXES TO COMPARE THE LINEAR RELATIONSHIP BETWEEN THE FEATURES:","7bbd7e37":"> *We can visualize the correlation between the key features influencing the Happiness score. The Logged GDP per capita has a higher correlation with Ladder score.*","b50b9579":"# 4. HEAT MAP:","ced4782b":"> A treemap is a visual method for displaying hierarchical data that uses nested rectangles to represent the branches of a tree diagram. Each rectangles has an area proportional to the amount of data it represents.","0e6bc6b7":">When we check the slope of the OLS trendlines, we can see how much the independent variable explains the dependent variable. The slope of the Very happy countries is higher and it explains that in those countries, the freedom to make life choices contributes a lot for the happiness score.","547cc3ad":"# Calculating quantiles to set intervals for the labels:","be7530af":"# Reading the csv file:","772928a8":"**REFERENCES:**","7c1889ee":"# LABELLING LADDER SCORE AS 'SAD' , 'MODERATELY SAD' , 'HAPPY' AND 'VERY HAPPY' :","3200bd4f":"> We can infer from the plot using the color hues.","c4a2bb89":"# Checking for NaN values:","6ef29971":"# 5. SCATTER PLOT USING PLOTLY: ","13bee076":"# 6. BAR CHART USING CATEGORICAL AXES: ","0c70e5f8":"The slope of the regression line is called the regression coefficient. It provides a measure of the contribution of the independent variable X toward explaining the dependent variable Y."}}