{"cell_type":{"63d28e43":"code","0155bde1":"code","f141f6a2":"code","b57bc949":"code","9d88c85c":"code","b43c4314":"code","491d6dad":"code","b0990f96":"code","28af576a":"code","23d8a4a1":"code","807eaf7c":"code","08888e0c":"code","79d89170":"code","54f4b46f":"code","61b1f4c3":"code","561f5ab8":"markdown","73ec3a16":"markdown","d052c35d":"markdown","e873e28b":"markdown","e4bf49ce":"markdown","e86e7d3e":"markdown","159cf396":"markdown","a2549407":"markdown","b68e58e5":"markdown"},"source":{"63d28e43":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt \nimport matplotlib as mpl \nimport seaborn as sns\nimport matplotlib.ticker as tick\nfrom IPython.core.display import display, HTML\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","0155bde1":"!pip install pywaffle\nfrom pywaffle import Waffle","f141f6a2":"colors_blue = [\"#132C33\", \"#264D58\", '#17869E', '#51C4D3', '#B4DBE9']\ncolors_dark = [\"#1F1F1F\", \"#313131\", '#636363', '#AEAEAE', '#DADADA']\ncolors_red = [\"#331313\", \"#582626\", '#9E1717', '#D35151', '#E9B4B4']\ncolors_mix = [\"#17869E\", '#264D58', '#179E66', '#D35151', '#E9DAB4', '#E9B4B4', '#D3B651', '#6351D3']\ncolors_div = [\"#132C33\", '#17869E', '#DADADA', '#D35151', '#331313']\n\nsns.palplot(colors_blue)\nsns.palplot(colors_dark)\nsns.palplot(colors_red)\nsns.palplot(colors_mix)\nsns.palplot(colors_div)","b57bc949":"mpl.rcParams['axes.spines.right'] = False\nmpl.rcParams['axes.spines.top'] = False\nmpl.rcParams['axes.spines.left'] = False\n\nmpl.rcParams['axes.titlecolor'] = colors_dark[0]\nmpl.rcParams['axes.labelcolor'] = colors_dark[0]\n\n# tick\nmpl.rcParams['xtick.color'] = colors_dark[0]\nmpl.rcParams['ytick.color'] = colors_dark[0]\nmpl.rcParams['xtick.labelsize'] = 12\nmpl.rcParams['ytick.labelsize'] = 12\n\n\n# legend \nmpl.rcParams['legend.edgecolor'] = colors_dark[0]","9d88c85c":"def reformat_large_tick_values(tick_val, pos):\n    \"\"\"\n    Turns large tick values (in the billions, millions and thousands) such as 4500 into 4.5K and also appropriately turns 4000 into 4K (no zero after the decimal).\n    \"\"\"\n    if tick_val >= 1000000000:\n        val = round(tick_val\/1000000000, 1)\n        new_tick_format = '{:}B'.format(val)\n    elif tick_val >= 1000000:\n        val = round(tick_val\/1000000, 1)\n        new_tick_format = '{:}M'.format(val)\n    elif tick_val >= 1000:\n        val = round(tick_val\/1000, 1)\n        new_tick_format = '{:}K'.format(val)\n    elif tick_val < 1000:\n        new_tick_format = round(tick_val, 1)\n    else:\n        new_tick_format = tick_val\n\n    # make new_tick_format into a string value\n    new_tick_format = str(new_tick_format)\n    \n    # code below will keep 4.5M as is but change values such as 4.0M to 4M since that zero after the decimal isn't needed\n    index_of_decimal = new_tick_format.find(\".\")\n    \n    if index_of_decimal != -1:\n        value_after_decimal = new_tick_format[index_of_decimal+1]\n        if value_after_decimal == \"0\":\n            # remove the 0 after the decimal point since it's not needed\n            new_tick_format = new_tick_format[0:index_of_decimal] + new_tick_format[index_of_decimal+2:]\n            \n    return new_tick_format","b43c4314":"data = pd.read_csv(\"\/kaggle\/input\/covid-19\/data\/worldwide-aggregate.csv\")\ndata['New Case'] = data.Confirmed - data.shift(1).Confirmed\ndata['New Deaths'] = data.Deaths - data.shift(1).Deaths\ndata['New Case MA 20'] = data.rolling(30).mean()['New Case']\ndata['New Deaths MA 20'] = data.rolling(30).mean()['New Deaths']\ndata['Death Rate Daily'] = data.Deaths \/ data.Confirmed * 100\ndata['Date'] = pd.to_datetime(data['Date'])","491d6dad":"fig, ax = plt.subplots(figsize=(16, 8))\n\nline = ax.plot(\n    data.Date, data['New Case'],\n    color=colors_dark[0],\n    alpha=0.3,\n    label='Daily Cases',\n)\nMA = ax.plot(\n    data.Date, data['New Case MA 20'],\n    linestyle='--',\n    color=colors_blue[2],\n    linewidth=2,\n    label='Moving Average 20 days'\n)\n\nxmin, xmax = ax.get_xlim()\nymin, ymax = ax.get_ylim()\nax.yaxis.set_label_position(\"right\")\nax.yaxis.tick_right()\nax.yaxis.set_major_formatter(tick.FuncFormatter(reformat_large_tick_values))\n\nax.grid(axis='y', alpha=0.3)\nax.set_axisbelow(True)\nax.legend(loc='upper center', bbox_to_anchor=(0.5, -0.1), ncol=5, borderpad=1, frameon=False, fontsize=12)\nax.set_ylabel(\"Cases\", fontsize=14, labelpad=10, fontweight='bold', color=colors_dark[2])\n\nax.text(\n    s=\"Global COVID-19 Cases\",\n    fontsize=24,\n    color=colors_dark[1],\n    x=xmin, y=ymax*1.2\n)\nax.text(\n    s=\"{:,}\".format(data['Confirmed'].max()),\n    fontsize=48,\n    fontweight='bold',\n    color=colors_blue[2],\n    x=xmin, y=ymax*1.06\n)\n\nax.text(\n    s=\"Total Confirmed Cases\",\n    fontsize=18,\n    color=colors_dark[2],\n    x=xmin, y=ymax*1\n)\nax.xaxis.set_major_formatter(mpl.dates.DateFormatter(\"%y-%m-%d\"))\n\nplt.show()\nplt.tight_layout()","b0990f96":"fig, ax = plt.subplots(figsize=(16, 8))\n\nline = ax.plot(\n    data.Date, data['New Deaths'],\n    color=colors_dark[0],\n    alpha=0.3,\n    label='Daily Deaths',\n)\nMA = ax.plot(\n    data.Date, data['New Deaths MA 20'],\n    linestyle='--',\n    color=colors_red[3],\n    linewidth=2,\n    label='Moving Average 20 days'\n)\n\nxmin, xmax = ax.get_xlim()\nymin, ymax = ax.get_ylim()\nax.yaxis.set_label_position(\"right\")\nax.yaxis.tick_right()\nax.yaxis.set_major_formatter(tick.FuncFormatter(reformat_large_tick_values))\n\nax.grid(axis='y', alpha=0.3)\nax.set_axisbelow(True)\nax.legend(loc='upper center', bbox_to_anchor=(0.5, -0.1), ncol=5, borderpad=1, frameon=False, fontsize=12)\nax.set_ylabel(\"Deaths\", fontsize=14, labelpad=10, fontweight='bold', color=colors_dark[2])\n\nax.text(\n    s=\"Global COVID-19 Deaths\",\n    fontsize=24,\n    color=colors_dark[1],\n    x=xmin, y=ymax*1.2\n)\nax.text(\n    s=\"{:,}\".format(data['Deaths'].max()),\n    fontsize=48,\n    fontweight='bold',\n    color=colors_red[3],\n    x=xmin, y=ymax*1.06\n)\n\nax.text(\n    s=\"Total Deaths\",\n    fontsize=18,\n    color=colors_dark[2],\n    x=xmin, y=ymax*1\n)\nax.xaxis.set_major_formatter(mpl.dates.DateFormatter(\"%y-%m-%d\"))\n\nplt.show()\nplt.tight_layout()\nplt.tight_layout()","28af576a":"df = data.iloc[-1]\ndeath_rate = df['Deaths'] \/ df['Confirmed'] * 100\ndisplay(HTML(\n    '''\n    <h1 style='padding:50px; font-weight:400; color:{};{}'>\n        Out of \n        <span style=\"color:{}; font-weight:500\">{:,}<\/span>\n        confirmed cases globaly,\n        <span style=\"color:{}; font-weight:500\">{:,}<\/span>\n        dies<br\/>\n        making the death rate of\n        <span style=\"color:{}; font-weight:500\">{:.2f}%<\/span>.\n    <\/h1>\n    '''.format(\n        colors_dark[0], \n        colors_dark[0], \n        colors_blue[2], \n        df['Confirmed'],\n        colors_red[3],\n        df['Deaths'],\n        colors_red[3], \n        death_rate\n    )\n))","23d8a4a1":"df = data.iloc[-1]\ndeath_rate = df['Deaths'] \/ df['Confirmed'] * 100\nfig = plt.figure(\n    FigureClass=Waffle, \n    rows=5, \n    columns=20, \n    values=[100-death_rate, death_rate],\n    figsize=(16, 8),\n    colors=[colors_dark[-1], colors_red[3]],\n    icons='child',\n    labels=[\"Not Dead\", \"Dead\"],\n    legend={'loc': 'lower left', 'bbox_to_anchor': (0.4, -0.2), 'ncol': len(data), 'framealpha': 0, 'fontsize': 12},\n)\n\nax = fig.gca()\nxmin, xmax = ax.get_xlim()\nymin, ymax = ax.get_ylim()\nax.text(\n    s=\"2 out of 100 People\\nDied On Covid\",\n    fontsize=32,\n    fontweight='bold',\n    color=colors_dark[1],\n    x=xmin, y=ymax*1.25\n)\n\nax.text(\n    s=\"The death rate is equivalent to: 2 deaths out of 100 people\\nit may seems harmless, but at a higher scale it is highly deady\",\n    fontsize=14,\n    color=colors_dark[2],\n    x=xmin, y=ymax*1.1\n)\n\nplt.show()\nplt.tight_layout()","807eaf7c":"fig, ax = plt.subplots(figsize=(16, 8))\n\nline = ax.fill_between(\n    data.Date, data['Death Rate Daily'],\n    color=colors_red[2],\n    label='Daily Death rate',\n    alpha=0.7\n)\n\nxmin, xmax = ax.get_xlim()\nymin, ymax = ax.get_ylim()\nax.yaxis.set_major_formatter(tick.FuncFormatter(reformat_large_tick_values))\n\nax.grid(axis='y', alpha=0.3)\nax.set_axisbelow(True)\nax.legend(loc='upper center', bbox_to_anchor=(0.5, -0.1), ncol=5, borderpad=1, frameon=False, fontsize=12)\nax.set_ylabel(\"Death rate\", fontsize=14, labelpad=10, fontweight='bold', color=colors_dark[2])\n\nax.text(\n    s=\"Has Covid Slowed Down?\",\n    fontsize=32,\n    color=colors_dark[1],\n    x=xmax-250, y=ymax*0.93,\n    fontweight='bold'\n)\n\nax.text(\n    s=\"With the death rate decreasing overtime\\nwe can tell that it has slowed down.\\n\\nBut looking from past experience, it might go up again\\nif no proper handling is being done\",\n    fontsize=14,\n    color=colors_dark[2],\n    x=xmax-250, y=ymax*0.7\n)\nax.xaxis.set_major_formatter(mpl.dates.DateFormatter(\"%y-%m-%d\"))\n                             \nplt.show()\nplt.tight_layout()","08888e0c":"data = pd.read_csv(\"\/kaggle\/input\/covid-19\/data\/countries-aggregated.csv\")\ndata['Date'] = pd.to_datetime(data['Date'])\ndata['New Case'] = data.Confirmed - data.Confirmed.shift(1)","79d89170":"df = data[data.Country == 'India']\ndf = df.drop(df.tail(1).index)","54f4b46f":"fig, ax = plt.subplots(figsize=(16, 8))\n\nlow = df[df['Date'] == '2021-03-31']['Confirmed'].values[0]\nhigh = df[df['Date'] >= '2021-04']['Confirmed'].sum()\nrate = (high-low) \/ low\ndf1 = df[df['Date'] <= '2021-03-31']\ndf2 = df[df['Date'] >= '2021-04-01']\n\n\nline1 = ax.plot(\n    df1.Date, df1['New Case'],\n    color=colors_dark[0],\n    alpha=0.3,\n    label='Daily Cases',\n)\n\nline2 = ax.plot(\n    df2.Date, df2['New Case'],\n    color=colors_red[3],\n    label='Daily Cases',\n)\n\nvline = ax.axvline(\n    x=pd.Timestamp('2021-04-01'),\n    color=colors_dark[3],\n    linestyle='--'\n)\n\nxmin, xmax = ax.get_xlim()\nymin, ymax = ax.get_ylim()\nax.yaxis.set_label_position(\"right\")\nax.yaxis.tick_right()\nax.yaxis.set_major_formatter(tick.FuncFormatter(reformat_large_tick_values))\n\nax.grid(axis='y', alpha=0.3)\nax.set_axisbelow(True)\nax.legend(loc='upper center', bbox_to_anchor=(0.5, -0.1), ncol=5, borderpad=1, frameon=False, fontsize=12)\nax.set_ylabel(\"Cases\", fontsize=14, labelpad=10, fontweight='bold', color=colors_dark[2])\n\nax.text(\n    s=\"India COVID-19 Tsunami\",\n    fontsize=24,\n    color=colors_dark[1],\n    x=xmin, y=ymax*1.2\n)\nax.text(\n    s=\"{:.2f}%\".format(rate),\n    fontsize=48,\n    fontweight='bold',\n    color=colors_red[3],\n    x=xmin, y=ymax*1.06\n)\n\nax.text(\n    s=\"Case Increase Since 30 Apr 2021\",\n    fontsize=18,\n    color=colors_dark[2],\n    x=xmin, y=ymax*1\n)\n\nax.xaxis.set_major_formatter(mpl.dates.DateFormatter(\"%y-%m-%d\"))\n\nplt.show()\nplt.tight_layout()","61b1f4c3":"new_case = df[df.Date >= \"2021-03-01\"].sum()['New Case']\ndisplay(HTML(\n    '''\n    <h1 style='padding:1px 50px; font-weight:400; color:{};{}'>\n        During the spike (01 Apr 2021 - today) daily <br\/>\n        cases continue to <span style='font-weight: 500'>increase exponentially<\/span> <br\/> \n        with total of <span style=\"color:{}; font-weight:500\">{:,}<\/span> new cases since the start of April 2021\n    <\/h1>\n    '''.format(\n        colors_dark[0], \n        colors_dark[0], \n        colors_red[3],\n        int(new_case),\n\n    )\n))","561f5ab8":"# Colors","73ec3a16":"# Mortality Rate","d052c35d":"# Recent Events | India Covid Tsunami","e873e28b":"# Global Daily Deaths","e4bf49ce":"# Worldwide Analysis","e86e7d3e":"# Intro\n\nCoronavirus disease 2019 (COVID-19) time series listing confirmed cases, reported deaths and reported recoveries. Data is disaggregated by country (and sometimes subregion). Coronavirus disease (COVID-19) is caused by the Severe acute respiratory syndrome Coronavirus 2 (SARS-CoV-2) and has had a worldwide effect. On March 11 2020, the World Health Organization (WHO) declared it a pandemic, pointing to the over 118,000 cases of the Coronavirus illness in over 110 countries and territories around the world at the time.\n\nThis dataset includes time series data tracking the number of people affected by COVID-19 worldwide, including:\n\n- confirmed tested cases of Coronavirus infection\n- the number of people who have reportedly died while sick with Coronavirus\n- the number of people who have reportedly recovered from it\n\nIn this notebook I'm trying to visualize the current condition of COVID-19 globaly, and specificaly the current condition in India. Hope you like my notebook!\n\n## Note\n\nIf you find this notebook helpful, please feel free to upvote and if there are any criticism or feedback please don't hesitate to comment! cheers!\ud83d\ude03\n","159cf396":"# Global Daily Cases","a2549407":"## WIll be continued","b68e58e5":"# Death Rate Overtime"}}