{"cell_type":{"1e24d7f7":"code","a6c718bf":"code","74383473":"code","e125e6d3":"code","4447b96e":"code","b03cd4bb":"code","b84f874f":"code","38b0ded9":"code","cadf662d":"code","7a244038":"markdown","2242fd0f":"markdown","a70685dd":"markdown","5b0176d3":"markdown","d21fe8c7":"markdown","3245d68b":"markdown"},"source":{"1e24d7f7":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline","a6c718bf":"tech_tickers = ['aapl', 'amzn', 'nflx', 'goog', 'fb', 'baba', 'msft', 'nvda', 'tsla']\nmonths = [\"January\", \"Febuary\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\ntech_stocks = {}\nfor ticker in tech_tickers:\n    tech_stocks[ticker] = pd.read_csv(\"..\/input\/\"+ticker+'.csv').iloc[:-2]\n    tech_stocks[ticker].set_index('date', inplace=True)","74383473":"data = pd.DataFrame(columns= ['adj'])\nfor ticker, stock in tech_stocks.items():\n    stock['change'] = (stock['close']-stock['open'])\/stock['open']*100\n    data.loc[ticker, 'vol'] = stock['volume'].mean()\n    data.loc[ticker, 'min day move'] = min(stock['change'])\n    data.loc[ticker, 'max day move'] = max(stock['change'])\n    data.loc[ticker, 'yearly change']= (stock.iloc[0]['close']-stock.iloc[-1]['open'])\/stock.iloc[-1]['close']*100\n\nprices = pd.DataFrame((i['close'] for i in tech_stocks.values()),tech_tickers).T\nmonthly_prices= prices.reset_index()\nmonthly_prices['date'] = pd.to_datetime(monthly_prices['date'])\nmonthly_prices = monthly_prices.groupby(monthly_prices['date'].dt.strftime('%m')).mean()","e125e6d3":"fig, ax = plt.subplots(3, 3, sharex=True, figsize=(14,14))\nplt.tight_layout()\nax = ax.flatten()\n\nfor i, axis in enumerate(ax):\n    axis.tick_params(axis='x', labelrotation=90)\n    axis.title.set_text(prices.columns[i])\n    axis.plot(months, monthly_prices.iloc[:,[i]])","4447b96e":"plt.figure(figsize=(14,7))\nplt.axes().title.set_text('year change')\nplt.bar(data.index, data['yearly change'], color= ['r' if  i == True else 'g' for i in (data['yearly change']<0)])","b03cd4bb":"fig, ax = plt.subplots(1,2, figsize=(14,4))\nax[0].bar(data.index,data['min day move'], color='r')\nax[0].invert_yaxis()\nax[0].title.set_text('worst day performance')\nax[1].bar(data.index, data['max day move'], color='g')\nax[1].title.set_text('best day performance')","b84f874f":"corr= prices.corr()\n\nmask = np.zeros_like(corr, dtype=np.bool)\nmask[np.triu_indices_from(mask)] = True\n\nplt.figure(figsize=(11,9))\nsns.heatmap(corr, mask = mask)","38b0ded9":"prices['date'] = prices.index\nbear = pd.DataFrame()\nfor c in tech_tickers:\n    max_price = max(prices[c])\n    max_date = prices[prices[c] == max_price]['date'][0]\n    min_from_max = min(prices[(prices[c] < max_price) & (prices['date'] > max_date)][c])\n    date_of_low = prices[prices[c] == min_from_max]['date'][0]\n    percentage_drop = ((max_price-min_from_max)\/max_price*100)\n    \n    if percentage_drop>20:\n        bear_len = len(prices[(prices[c] < max_price) & (prices['date'] > max_date)][c])\n    else:\n        bear_len = 0\n\n    bear.loc[c, 'max'] = max_price\n    bear.loc[c, 'min after max'] = min_from_max\n    bear.loc[c, 'days in bear'] = bear_len\n    bear.loc[c, 'date of low'] = date_of_low\n    bear.loc[c, 'date of high'] = max_date\n    bear.loc[c, 'percentage drop'] = ((max_price-min_from_max)\/max_price*100)\n    ","cadf662d":"fig, ax = plt.subplots(1, 2, figsize=(11,4))\nax[0].bar(tech_tickers, bear['percentage drop'])\nax[0].axhline(20, color= 'r')\nax[0].title.set_text('percentage drop from highs')\nax[1].bar(tech_tickers, bear['days in bear'])\nax[1].title.set_text('days spent in bear market')","7a244038":"**Performance over the year**\n\nThe period of selling in the alst quarter affected the stocks heavily. With many stocks ending the year in the negative territory.","2242fd0f":"**Monthly averages**\n\nStocks have generally peaked around the summer. The period from february to april witnessed some selling. The biggest sell-off was from october till the end of the year, with many stocks entering bear market (more on this later). \nTesla's stock had a rough run, but ended the year quite well. ","a70685dd":"**Tech stocks in 2018**\n\nTech stocks, stocks in general, had an exceptionally volatile year. This is a brief review of this year in tech stocks.","5b0176d3":"**Correlation**\n\nIt's no surprise that stocks in the same sector trade often together, thus their prices are very correlated. \nTesla doesn't completely fit the description of a tech stock, that explains the low correlation. ","d21fe8c7":"**Volatility**\n\nThis year witnessed a lot of voltaility. Stocks made major positive and negative moves. nflx and nvda were both noticeably volatile. ","3245d68b":"**Bear market**\n\nA bear market is when stocks fall 20 percent from a recent high. \nAll stocks fell in bear market after their summer highs except msft.  "}}