{"cell_type":{"c18a6618":"code","6011c446":"code","f9a32a29":"code","f23f131e":"code","46672c11":"code","8cab6092":"code","ae13338e":"markdown"},"source":{"c18a6618":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nimport glob\nfrom main_io_comp_vis_all import calibrate_magnetic_wifi_ibeacon_to_position, read_data_file","6011c446":"train_paths = glob.glob('..\/input\/indoor-location-navigation\/train\/*\/*\/*')\ntest_paths = glob.glob('..\/input\/indoor-location-navigation\/test\/*')\nmall_list = os.listdir('..\/input\/indoor-location-navigation\/train')\nfloor_txt_num = {'F1':1,'1F':1,'L1':1,'1L':1,'F2':3,'2F':3,'L2':3,'2L':3,'F3':4,'3F':4,'L3':4,'3L':4,'F4':5,'4F':5,'L4':5,'4L':5,\n                'F5':6,'5F':6,'L5':6,'5L':6,'F6':7,'6F':7,'L6':7,'6L':7,'F7':8,'7F':8,'L7':8,'7L':8,'F8':9,'8F':9,'L8':9,'8L':9,\n                'F9':10,'9F':10,'L9':10,'9L':10,'F10':11,'10F':11,'L10':11,'10L':11,'F11':12,'11F':12,'L11':12,'11L':12,\n                'B1':1,'1B':1,\"B\":1,'B2':2,'2B':2,'B3':3,'3B':3,'B4':4,'4B':4}","f9a32a29":"temp=0\nnp_max_fxy = np.ones((len(mall_list),3))\nnp_max_fxy[:,0] = 1\nnp_max_fxy[:,1] = 3\nnp_max_fxy[:,2] = 3","f23f131e":"floor_max_num = []\nfor mall in mall_list:\n    floor_num = []\n    for key in list(os.walk('..\/input\/indoor-location-navigation\/train\/'+mall))[0][1]:\n        try:\n            floor_num.append(floor_txt_num[key])\n        except:\n            floor_num.append(1)\n    floor_max_num.append(max(floor_num))\nnp_max_fxy[:,0]=np.array(floor_max_num)","46672c11":"mall_max_x_y=[]\ntemp=0\nfor mall in mall_list:\n    mall_train_path = glob.glob('..\/input\/indoor-location-navigation\/train\/'+mall+'\/*\/*')\n    max_x_y = [2,2]\n    for path in mall_train_path:\n        try:\n            mwi_data_xy = (read_data_file(path)).waypoint\n            if (mwi_data_xy != []) and  (max_x_y[0] < max(mwi_data_xy[:,1])):\n                max_x_y[0]= max(mwi_data_xy[:,1])\n            if (mwi_data_xy != []) and  (max_x_y[1] < max(mwi_data_xy[:,2])):\n                max_x_y[1]= max(mwi_data_xy[:,2])\n        except:\n            continue\n    mall_max_x_y.append(max_x_y)\n    print(temp,\" out of 204\")\n    temp+=1","8cab6092":"np_max_fxy[:,1:3]=np.array(mall_max_x_y)\nnp_max_fxy = np_max_fxy.astype('int')\ndf_max_fxy = pd.DataFrame(np_max_fxy)\ndf_max_fxy.columns = [\"max_floor\",\"max_x\",\"max_y\"]\ndf_max_fxy[\"mall\"]=mall_list\ndf_max_fxy.to_csv('max_fxy.csv')","ae13338e":"# 1) Find Max of f_x_y"}}