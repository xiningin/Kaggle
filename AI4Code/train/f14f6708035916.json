{"cell_type":{"1a3337f1":"code","4652f0d0":"code","c221e101":"code","f39b1f5b":"code","6cd74e17":"code","82e5bdfc":"code","c401dba6":"code","fd28ee7b":"code","eb17ffaa":"code","8612893f":"code","3c1b7403":"code","ca0ac07b":"markdown","385cbae4":"markdown","02e5cb54":"markdown","6c733431":"markdown","291b4d28":"markdown","be21a252":"markdown","6c4b25d5":"markdown","162c1fd2":"markdown"},"source":{"1a3337f1":"import matplotlib.pyplot as plt \nimport numpy as np \nimport pandas as pd \nimport datetime as dt","4652f0d0":"revolut = pd.read_csv('\/kaggle\/input\/revolut.csv', delimiter=';', parse_dates=[0], index_col=[0], thousands=',')\n\n# Rename columns\nrevolut = revolut.rename(columns={\"Completed Date \": \"CompletedDate\", \" Description \": \"Description\", \" Paid Out (EUR) \": \"PaidOut\",\n       \" Paid In (EUR) \": \"PaidIn\", \" Exchange Out\": \"ExchangeOut\", \" Exchange In\": \"ExchangeIn\", \" Balance (EUR)\": \"Balance\",\n       \" Category\": \"Category\", \" Notes\": \"Notes\"}) \n\ndel revolut['ExchangeIn']\ndel revolut['ExchangeOut']\ndel revolut[\"Notes\"]\n\n# Strip blanks, convert to floats and replace NaN with zeros\nrevolut.PaidOut = pd.to_numeric(revolut.PaidOut.str.strip(), errors='coerce').replace(np.nan, 0)\nrevolut.PaidIn = pd.to_numeric(revolut.PaidIn.str.strip(), errors='coerce').replace(np.nan, 0)\n\n# Convert columns to string\ndef to_string(series):\n    return series.str.strip().astype('str')\n\nrevolut.Description = to_string(revolut.Description)\nrevolut.Category = to_string(revolut.Category)\n\n# revolut.to_csv('\/kaggle\/working\/revolut.csv', sep=',')\nrevolut.head(5)","c221e101":"# revolut = pd.read_csv('\/kaggle\/working\/revolut.csv')\n# revolut.head(5)","f39b1f5b":"# Distribution graphs (histogram\/bar graph) of column data\ndef plotPerColumnDistribution(df, nGraphShown, nGraphPerRow):\n    nunique = df.nunique()\n    df = df[[col for col in df if nunique[col] > 1 and nunique[col] < 50]] # For displaying purposes, pick columns that have between 1 and 50 unique values\n    nRow, nCol = df.shape\n    columnNames = list(df)\n    nGraphRow = (nCol + nGraphPerRow - 1) \/ nGraphPerRow\n    plt.figure(num = None, figsize = (6 * nGraphPerRow, 8 * nGraphRow), dpi = 80, facecolor = 'w', edgecolor = 'k')\n    for i in range(min(nCol, nGraphShown)):\n        plt.subplot(nGraphRow, nGraphPerRow, i + 1)\n        columnDf = df.iloc[:, i]\n        if (not np.issubdtype(type(columnDf.iloc[0]), np.number)):\n            valueCounts = columnDf.value_counts()\n            valueCounts.plot.bar()\n        else:\n            columnDf.hist()\n        plt.ylabel('\u20ac')\n        plt.xticks(rotation = 90)\n        plt.title(f'{columnNames[i]} (column {i})')\n    plt.tight_layout(pad = 1.0, w_pad = 1.0, h_pad = 1.0)\n    plt.show()\n","6cd74e17":"plotPerColumnDistribution(revolut, 10, 5)","82e5bdfc":"categories = list(revolut.Category.unique())\ncategories","c401dba6":"category_spent = list(revolut.groupby('Category').PaidOut.mean())\ncategory_spent","fd28ee7b":"explode = [0] * len(categories) # Make list of zeros\nexplode[categories.index(\"Restaurants\")] = 0.2 # makes restaurant category bigger\n\nfig1, ax1 = plt.subplots()\nax1.pie(category_spent, explode=explode, labels=categories, autopct='%1.1f%%',\n        shadow=True, startangle=90, pctdistance=0.85)# Equal aspect ratio ensures that pie is drawn as a circle\n\n#draw circle\ncentre_circle = plt.Circle((0,0),0.4,fc='black')\nfig = plt.gcf()\nfig.gca().add_artist(centre_circle)\n\n# Equal aspect ratio ensures that pie is drawn as a circle\nax1.axis('equal')  \nplt.tight_layout()","eb17ffaa":"revolut['DayOfWeek'] = revolut.index.dayofweek + 1\nrevolut.head(3)","8612893f":"days_spent = revolut.groupby('DayOfWeek').PaidOut.mean()\ndays_spent.plot.bar()","3c1b7403":"category_spent = revolut.groupby('Category').PaidOut.mean()\ncategory_spent.plot.bar()","ca0ac07b":"### Load & Clean Data\n- delimiter is \";\" instead of \",\". \n- Date column is [0]. \n- Index is also [0]. \n- thousands=',' removes commas.","385cbae4":"## Pie Chart Sectors Spent\nHow much money did I spend in each sector.","02e5cb54":"A lot of my money is spent Mon-Wed which doesn't make much sense considering I work 9-5.","6c733431":"Distribution graphs (histogram\/bar graph) of sampled columns:","291b4d28":"## Days of Week Spending\nWhat days of the week do I spend the most money? Can this be predicted and avoid it?","be21a252":"### Group money spent with days of week\nHow much money is spent per day on average","6c4b25d5":"### Distribution of Spending","162c1fd2":"# Revolut Spending Analysis"}}