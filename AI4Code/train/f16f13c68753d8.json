{"cell_type":{"814dcb3d":"code","9f7e6d58":"code","a50110ce":"code","9827b4db":"code","9e5960b5":"code","20641608":"code","499859d1":"code","5125b807":"code","4ab25542":"markdown","6db876db":"markdown","3abacbe9":"markdown","da7e37f9":"markdown","4163c4ee":"markdown","9eaff6a7":"markdown","988a31b3":"markdown","0e6e4b7b":"markdown","f41d80a6":"markdown","7c898ac3":"markdown","86c1f44e":"markdown","39a30515":"markdown","2a38f343":"markdown","d8d350ea":"markdown"},"source":{"814dcb3d":"library(tidyverse)\nlibrary(lubridate)\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(tidyr)","9f7e6d58":"dailyActivity_merged <- read_csv(\"Workind Directory\/Fitabase Data 4.12.16-5.12.16\/dailyActivity_merged.csv\")\nhourlyCalories_merged <- read_csv(\"Workind Directory\/Fitabase Data 4.12.16-5.12.16\/hourlyCalories_merged.csv\")\nhourlyIntensities_merged <- read_csv(\"Workind Directory\/Fitabase Data 4.12.16-5.12.16\/hourlyIntensities_merged.csv\")\nhourlySteps_merged <- read_csv(\"Workind Directory\/Fitabase Data 4.12.16-5.12.16\/hourlySteps_merged.csv\")\nsleepDay_merged <- read_csv(\"Workind Directory\/Fitabase Data 4.12.16-5.12.16\/sleepDay_merged.csv\")\nweightLogInfo_merged <- read_csv(\"Workind Directory\/Fitabase Data 4.12.16-5.12.16\/weightLogInfo_merged.csv\")\nheartrate_seconds_merged <- read_csv(\"Workind Directory\/Fitabase Data 4.12.16-5.12.16\/heartrate_seconds_merged.csv\")\n\n# Also i decided to shorten datasets names and make a copy in case if something will go wrong and I'll need original file.\n\nda <- dailyActivity_merged\nhc <- hourlyCalories_merged\nhi <- hourlyIntensities_merged\nhs <- hourlySteps_merged\nsd <- sleepDay_merged \nwl <- weightLogInfo_merged\nhr <- heartrate_seconds_merged","a50110ce":"#  1. Add Day_of_Week column to Activity: \nda <- da %>% mutate(ActivityDate = mdy(ActivityDate), Day_of_Week = weekdays(ActivityDate))\n\n# 2. Add new column TotalActiveMinutes to Activity which is the sum of all three ActiveMinutes columns:\nda <- da %>%\n  rowwise() %>%\n  mutate(TotalActiveMinutes = sum(c(VeryActiveMinutes, FairlyActiveMinutes, LightlyActiveMinutes)))\n\n# Next, i created some new columns with categories in datasets\n\n# 1. Sleep\nsd = sd %>% mutate(Sleep_Amount = case_when(TotalMinutesAsleep\/60>=6.5 & TotalMinutesAsleep\/60<=9.5   ~ \"Enough Sleep\",\n    TotalMinutesAsleep\/60<6.5 ~ \"Not Enough Sleep\", TotalMinutesAsleep\/60>9.5 ~ \"Oversleeping\"))\n\n# 2. Steps:\nhs = hs %>% mutate(HSteps_Amount = case_when(StepTotal<=4500\/24 ~ \"<4000 steps\",\n    StepTotal>4000\/24 & StepTotal <=9000\/24 ~ \"4000-9000 steps\", StepTotal>9000\/24 & StepTotal<=12000\/24 ~ \"9000-12000 steps\",\n    StepTotal>12000\/24 ~ \">12000 steps\"))\n\nda = da %>% mutate(DSteps_Amount = case_when(TotalSteps<=4000 ~ \"<4000 steps\",\n    TotalSteps>4000 & TotalSteps <=9000 ~ \"4000-9000 steps\", TotalSteps>9000 & TotalSteps<=12000 ~ \"9000-12000 steps\",\n    TotalSteps>12000 ~ \">12000 steps\"))\n\n# 3. Calories:\nhc = hc %>% mutate(Burned_Calories = case_when(Calories<=1900\/24 ~ \"Low\", Calories>1900\/24 & Calories<=2400\/24 ~ \"Medium\",\n    Calories>2400\/24 ~ \"High\"))\n# 4. Sedentary Time\nda = da %>% mutate(Sedentary_Time = case_when(SedentaryMinutes\/60<=8 ~ \"Very Good\",\n    SedentaryMinutes\/60>8 & SedentaryMinutes\/60<=10 ~ \"Good\", SedentaryMinutes\/60>10 & SedentaryMinutes\/60<=12 ~ \"Bad\",\n    SedentaryMinutes\/60>12 ~ \"Very Bad\"))\n\n# 5. Activity Time:\nda = da %>% mutate(Sufficient_Activity = case_when(LightlyActiveMinutes*7<=150 | (VeryActiveMinutes+FairlyActiveMinutes)*7<=75 ~ \"Unsuffissient\", \n    LightlyActiveMinutes*7>150 & LightlyActiveMinutes*7<=300 | (VeryActiveMinutes+FairlyActiveMinutes)*7>75 & (VeryActiveMinutes+FairlyActiveMinutes)*7<=150 ~ \"Sufficient\",\n    LightlyActiveMinutes*7>300 | (VeryActiveMinutes+FairlyActiveMinutes)*7>150 ~ \"Good\"))\n\n# 6. Distance:\nda = da %>% mutate(Total_Distance = case_when(TotalDistance<3 ~ \"<3\", TotalDistance>=3 &  TotalDistance <=6   ~ \"From 3 to 6\",\n    TotalDistance>6 &  TotalDistance <=9   ~ \"From 6 to 9\", TotalDistance >9 ~ \">9\"))\n","9827b4db":"da$ActivityDate <- NULL\nda$TrackerDistance <- NULL\nda$LoggedActivitiesDistance <- NULL\nda$SedentaryActiveDistance <- NULL\nda$VeryActiveDistance <- NULL\nda$ModeratelyActiveDistance <- NULL\nda$LightActiveDistance <- NULL\nhc$ActivityHour <- NULL\nhi$ActivityHour <- NULL\nhs$ActivityHour <- NULL\nsd$SleepDay <- NULL\nsd$TotalSleepRecords <- NULL\nhr$Time <- NULL ","9e5960b5":"# To make weekdays and some other names in English\nSys.setlocale(\"LC_TIME\", \"English\")\n\nda$ActivityDate=as.POSIXct(da$ActivityDate, format=\"%m\/%d\/%Y\")\nda$Date <- format(da$ActivityDate, format = \"%m\/%d\/%y\")\n\nsd$SleepDay=as.POSIXct(sd$SleepDay, format=\"%m\/%d\/%Y %I:%M:%S %p\")\nsd$Date <- format(sd$SleepDay, format = \"%m\/%d\/%y \")\n\nwl$Date <- format(wl$Date, format = \"%m\/%d\/%y %p\")\n\nhi$ActivityHour=as.POSIXct(hi$ActivityHour, format=\"%m\/%d\/%Y %I:%M:%S %p\")\nhi$Time <- format(hi$ActivityHour, format = \"%H:%M:%S\")\nhi$Date <- format(hi$ActivityHour, format = \"%m\/%d\/%y\")\n\nhc$ActivityHour=as.POSIXct(hc$ActivityHour, format=\"%m\/%d\/%Y %I:%M:%S %p\")\nhc$Time <- format(hc$ActivityHour, format = \"%H:%M:%S\")\nhc$Date <- format(hc$ActivityHour, format = \"%m\/%d\/%y\")\n\nhs$ActivityHour=as.POSIXct(hs$ActivityHour, format=\"%m\/%d\/%Y %I:%M:%S %p\")\nhs$Time <- format(hs$ActivityHour, format = \"%H:%M:%S\")\nhs$Date <- format(hs$ActivityHour, format = \"%m\/%d\/%y\")\n\nhr$Time=as.POSIXct(hr$Time, format=\"%m\/%d\/%Y %I:%M:%S %p\")\nhr$time <- format(hr$Time, format = \"%H\")\nhr$Date <- format(hr$Time, format = \"%m\/%d\/%y\")","20641608":"da_sd <- merge(da, sd, by=c(\"Id\", \"Date\"))\nh_sic = merge(hs, hi, by=c(\"Id\", \"Date\", \"Time\"))\nh_sic = merge(h_sic, hc, by=c(\"Id\", \"Date\", \"Time\"))\n\nda_sd <- distinct(da_sd)\nh_sic <- distinct(h_sic)\n","499859d1":"n_distinct(da$Id)\nn_distinct(hc$Id)\nn_distinct(hi$Id)\nn_distinct(hs$Id)\nn_distinct(hr$Id)\nn_distinct(sd$Id)\nn_distinct(wl$Id)","5125b807":"Next, we can make some basic analysis using summary function:\n\nda %>% select(2, 3, 7, 8 ) %>% summary()\nda %>% select(4, 5, 6, 10) %>% summary()\nh_sic %>% select(4, 5, 6, 7) %>% summary()\nsd %>% select(2, 3) %>% summary()\nhr %>% select(2, 3) %>% summary()","4ab25542":"# Table of Content:\n ###     Introduction   \n   * #### Business Task \n   * #### Important Questions\n   * #### Dataset Used\n   \n### Data Preparation  \n\n### Data Cleaning\n    \n### Data Analyzing\n\n### Conclusions and Recommendations\n\n","6db876db":"And at last I merged Activity and Sleep datasets and Hourly Calories, Steps and Intensities into two new datasets and choosed unique Id using `distinct` function.","3abacbe9":"# Data Analysis\n\nFinally, I can start doing some analysis. At first, I'm going to start with simple things.\n\n### Counting unique users ID","da7e37f9":"##### What finding can we make?\n- Average steps quantity is 7638, which can characterize people as not very active, and it's less then recommended 10000 steps per day.\n- Average sedentary time is 991 minutes or about 16 hours. It's really a high number, according to WHO sedenatry time more then 10-12 hours per day can drastically increases the possibility of diseases.\n- Average burned calories are 2304 which a little bit more than the normal range (average requirement about 2000 for women) considering that some of them do some activity.\n- According to WHO, minimal light activity should be in range from 150 to 300 minutes and more moderate from 75 to 150 minutes per week. We can see, that light activity is 192.8, which isn't bad, but it could be better, and moderate activity is about 35 what is really not enough.\n- Mostly, participants were sleeping fro about 7 hours which is a little bit less then recommended (from 7 to 9), and didn't had many problems with falling asleep or waking, because total time in bed isn't much more.\n","4163c4ee":"Sedentary, Activity, Steps and Sleep categories I choosed according to WHO records (and slightly changed it to get more clear results).\n\nAlso, before mergind datasets I decided to delete some columns which not significant to analysis:","9eaff6a7":"# Data cleaning\n\nNext thing was to ensure that our data is correct, so..\n1. I used`sum(is.na(data_frame_name)` to make sure that there is no missing values. There wasn't any problems except for 65 missing values in the \"Fat\" column of the \"weight_info\" dataframe, but these data isn't very important for analysis.\n2. And after that`sum(duplicated(df_name))` to make sure that there are no duplicates.\n\n### Data Transforming and Merging\n\nNext step was to make some transfroming with columns and merge them into new datasets\n\n","988a31b3":"### Visualising","0e6e4b7b":"As we can see, amount of lines in da_sd decreased from 913 to 410, and all lines in h_sic remained as before.","f41d80a6":"# Introduction\n\nThis is case study for Bellabeat - a high-tech manufacturer company that produces health-focused smart devices for women. Although Bellabeat is quite successful small company, Ur\u0161ka Sr\u0161en,cofounder and Chief Creative Officer of Bellabeat, believes that analyzing smart device fitness data could help unlock new growth opportunities for the company. \n\nThis study I'm going to do with programming language R in IDE RStudio.\n\n## Business task\n\nGoal of this study is to identify trends in fitness tracker usage and with help of using the resieved insight from analyzed data make recommendations to help guide marketing strategy for the company.\n\n## Important Questions\n\n* What trends we can find in usage of devices?\n* How can discovered trends be applied to customers?\n* How could discovered insights help company's marketing team?\n\n## Used dataset\n\nFitbit is a smart fitness bracelet, used to record personal tracking real-time data such as minute-level output for physical activity, steps per day, heart rate, burned calories etc. These collected data next syncronize with the Fitbit app on user's phone and gathered in a fully availible dataset.\nFor this study i used datasets that were collected from thirty Fitbit users from a period from 03.12.2016 to 05.12.2016. \n\nPoint to note: there wasn't provided metadata, moreover, we don't know any personal informations about participants such as their lifestyle, work, location, usage of tracker etc which can lead as to somewhat biased results.\n\nFull dataset availible [here](https:\/\/www.kaggle.com\/arashnic\/fitbit).\n","7c898ac3":"# Data Preparation\n\n### Loading Packages\n\nI decided to use next packages for analysis:","86c1f44e":"As we can see, there are 33 unique ids in Activities, Hourly Calories, Intensities and Steps datasets, 24 in Sleepday, 14 in HeartRate and only 8 in Weight datasets. \nI guess 33 participants it's not bad, but 8 from Weight is surely not enough to make any statistically significant results, that's why I'll omit this one.\n\n##### Next, some basic analysis using `summary` function:","39a30515":"### Fixing Date and Time\n\nAlso, there were some problems with date and time so with the next code I bring it to new uniform seperated Date and Time columns.\n","2a38f343":"# Bellabeat Case Study","d8d350ea":"### Importing Datasets\n\nThere are total of 18 datasets, I decided to use next ones: \n* **Daily Activity**\n* **Hourly Steps**\n* **Hourly Calories**\n* **Hourly Intensities**\n* **Sleep Day**\n* **Heart Rate**\n* **Weight log**.\n"}}