{"cell_type":{"6b05915c":"code","68e90275":"code","27b6a4d6":"code","e87f6a6b":"code","71e6700f":"code","05183dbb":"code","ab6d50e5":"code","17940d66":"code","5795b4c7":"code","ad34d0f0":"code","a2c0e904":"code","4b5d81f2":"markdown"},"source":{"6b05915c":"import os\nimport sys\nimport subprocess\nimport numpy as np\nimport glob\nimport json\nimport pandas as pd","68e90275":"\n'''\nThis script creates a folder \"Extracted_data\" inside which it extracts all the wav files in the directories date-wise\n'''\n\ncoswara_data_dir = os.path.abspath('..\/input\/coswara') # Local Path of iiscleap\/Coswara-Data Repo\nextracted_data_dir = os.path.join('.', 'Extracted_data')  \n\nif not os.path.exists(coswara_data_dir):\n    raise(\"Check the Coswara dataset directory!\")\n\nif not os.path.exists(extracted_data_dir):\n    os.makedirs(extracted_data_dir) # Creates the Extracted_data folder if it doesn't exist\n\ndirs_extracted = set(map(os.path.basename,glob.glob('{}\/202*'.format(extracted_data_dir))))\ndirs_all = set(map(os.path.basename,glob.glob('{}\/202*'.format(coswara_data_dir))))\n\ndirs_to_extract = list(set(dirs_all) - dirs_extracted)\n\nfor d in dirs_to_extract:\n    p = subprocess.Popen('cat {}\/{}\/*.tar.gz.* |tar -xvz -C {}\/'.format(coswara_data_dir, d, extracted_data_dir), shell=True)\n    p.wait()\n\n\nprint(\"Extraction process complete!\")","27b6a4d6":"paths = glob.glob('.\/Extracted_data\/202*\/*')","e87f6a6b":"for path in paths:\n    if ('.csv' not in path) and ('.wav' not in path):\n        try:\n            p = subprocess.Popen(f'mv {path}\/cough-heavy.wav {path}.wav',shell=True)\n            p.wait()\n            p = subprocess.Popen(f'rm -rf {path}',shell=True)\n            p.wait()\n        except Exception as e:\n            print(e)\n        print(path, 'done!!!')","71e6700f":"df = pd.read_csv('..\/input\/coswara\/combined_data.csv')","05183dbb":"df.to_csv('.\/Extracted_data\/combined_data.csv')","ab6d50e5":"paths = glob.glob('.\/Extracted_data\/202*')\npaths","17940d66":"for path in paths:\n    if ('.csv' not in path) :\n        try:\n            p = subprocess.Popen('rm -rf {} '.format(path), shell=True)\n            p.wait()\n        except Exception as e:\n            print(e)\n        print(path, 'done!!!')","5795b4c7":"paths[1]","ad34d0f0":"pat = '.\/Extracted_data'","a2c0e904":"subprocess.Popen('mv {} {}'.format(paths[1],pat), shell=True)","4b5d81f2":"# COSWARA DATASET - Covid-19 diagnosis based on respiratory, cough and speech sounds."}}