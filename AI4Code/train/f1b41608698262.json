{"cell_type":{"bfdfe1cf":"code","0d3397f9":"code","1567426f":"code","59032283":"code","4ab8114c":"code","e82a450d":"code","b1de4854":"code","df9a6311":"code","9b4aa126":"code","c86ef925":"code","c6dd6cfb":"code","cee0aa26":"code","f01b7e3b":"code","c87b1f12":"code","3e98a428":"code","9c236267":"code","7962032c":"code","b89341ac":"code","5a00e90f":"code","e97f332e":"code","060a6cfd":"code","3f580527":"code","d78d1201":"code","0765db44":"code","2b43902d":"code","ef510cc9":"markdown","b224c0be":"markdown","c8e2e2f6":"markdown","e87262e3":"markdown","6082e10c":"markdown","e05cb02f":"markdown","416addcb":"markdown","a5a68434":"markdown","75fbd2d0":"markdown","af8ea044":"markdown","c68c3843":"markdown","8be71dd4":"markdown","9a7bdb67":"markdown","7e0d746f":"markdown","e86c26f5":"markdown","aaa87615":"markdown","88ef7254":"markdown","0053131f":"markdown","e9654bda":"markdown","d48dd74b":"markdown","977f7ba4":"markdown"},"source":{"bfdfe1cf":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","0d3397f9":"import numpy as np\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\nimport seaborn as sns \nimport pandas as pd\nimport scipy.stats","1567426f":"# Read the LA_Lising.csv\ndf = pd.read_csv('\/kaggle\/input\/airbnb-ratings-dataset\/LA_Listings.csv', encoding='ISO-8859-1')\ndf.head()","59032283":"# Read the NY_Listings.csv\ndf2 = pd.read_csv('\/kaggle\/input\/airbnb-ratings-dataset\/NY_Listings.csv', encoding='ISO-8859-1')\ndf2.head()","4ab8114c":"# Read the airbnb_ratings_new.csv\ndf3 = pd.read_csv('\/kaggle\/input\/airbnb-ratings-dataset\/airbnb_ratings_new.csv', encoding='ISO-8859-1')\npd.set_option('display.max_columns', None)\ndf3.head()","e82a450d":"df_filtered = df3[df3['Country'] == 'United States']\n\ndf_filtered.head()\n","b1de4854":"df.describe()\n","df9a6311":"df2.describe()\n","9b4aa126":"df_filtered.describe()","c86ef925":"combinedDf = df.append(df2)\ndf_final = combinedDf.append(df_filtered)\n\ndf_final.describe()","c6dd6cfb":"import numpy as np\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\nimport seaborn as sns \nimport scipy.stats","cee0aa26":"# Density Plot and Histogram of variable \"Price\"\nsns.distplot(df_final['Price'], hist=True, kde=True, \n             bins=int(180\/5), color = 'darkblue', \n             hist_kws={'edgecolor':'black'},\n             kde_kws={'linewidth': 1})","f01b7e3b":"# Filter the Price to below 500\nPriceFilteredData = df_final[df_final['Price'] < 500]\n\n# Density Plot and Histogram of variable \"Price\"\nsns.distplot(PriceFilteredData['Price'], hist=True, kde=True, \n             bins=int(180\/5), color = 'darkblue', \n             hist_kws={'edgecolor':'black'},\n             kde_kws={'linewidth': 1})","c87b1f12":"# Density Plot and Histogram of variable \"Bedrooms\"\nsns.distplot(df_final['Bedrooms'], hist=True, kde=True, \n             bins=int(180\/5), color = 'darkblue', \n             hist_kws={'edgecolor':'black'},\n             kde_kws={'linewidth': 1})","3e98a428":"# Filter the Bedrooms to below 6\nBedroomsFilteredData = df_final[df_final['Bedrooms'] < 6]\n\n# Density Plot and Histogram of variable \"Price\"\nsns.distplot(PriceFilteredData['Bedrooms'], hist=True, kde=False, \n             bins=int(180\/5), color = 'darkblue', \n             hist_kws={'edgecolor':'black'},\n             kde_kws={'linewidth': 1})","9c236267":"# Filter the Bathrooms to below 6\nBedroomsFilteredData = df_final[df_final['Bathrooms'] < 6]\n\n# Density Plot and Histogram of variable \"Bathrooms\"\nsns.distplot(BedroomsFilteredData['Bathrooms'], hist= True, kde=False, \n             bins=int(180\/5), color = 'darkblue', \n             hist_kws={'edgecolor':'black'},\n             kde_kws={'linewidth': 1})","7962032c":"# Density Plot and Histogram of variable \"Bedrooms\"\nsns.distplot(df_final['Availability 365'], hist=True, kde=True, \n             bins=int(180\/5), color = 'darkblue', \n             hist_kws={'edgecolor':'black'},\n             kde_kws={'linewidth': 1})","b89341ac":"# Density Plot and Histogram of variable \"Review Scores Value\"\nsns.distplot(df_final['Review Scores Value'], hist=True, kde=True, \n             bins=int(180\/5), color = 'darkblue', \n             hist_kws={'edgecolor':'black'},\n             kde_kws={'linewidth': 1})","5a00e90f":"# Density Plot and Histogram of variable \"Review Scores Value\"\nsns.distplot(df_final['Reviews per month'], hist=True, kde=True, \n             bins=int(180\/5), color = 'darkblue', \n             hist_kws={'edgecolor':'black'},\n             kde_kws={'linewidth': 1})","e97f332e":"# Filter the Bathrooms to below 6\nReviewsFilteredData = df_final[df_final['Reviews per month'] < 10]\n\n\n# Density Plot and Histogram of variable \"Review Scores Value\"\nsns.distplot(ReviewsFilteredData['Reviews per month'], hist=True, kde=True, \n             bins=int(180\/5), color = 'darkblue', \n             hist_kws={'edgecolor':'black'},\n             kde_kws={'linewidth': 1})\n","060a6cfd":"# Density Plot and Histogram of variable \"Review Scores Value\"\nsns.distplot(df_final['Number of reviews'], hist=True, kde=True, \n             bins=int(180\/5), color = 'darkblue', \n             hist_kws={'edgecolor':'black'},\n             kde_kws={'linewidth': 1})","3f580527":"# Filter the Bathrooms to below 6\nReviewsFilteredData = df_final[df_final['Number of reviews'] < 60]\n\n\n# Density Plot and Histogram of variable \"Review Scores Value\"\nsns.distplot(ReviewsFilteredData['Number of reviews'], hist=True, kde=True, \n             bins=int(180\/5), color = 'darkblue', \n             hist_kws={'edgecolor':'black'},\n             kde_kws={'linewidth': 1})","d78d1201":"BedroomsFilteredData = PriceFilteredData[PriceFilteredData['Bedrooms'] < 6]\nBathroomsFilteredData = BedroomsFilteredData[BedroomsFilteredData['Bathrooms'] < 6]\nfilteredData = BedroomsFilteredData[BedroomsFilteredData['Reviews per month'] < 10]","0765db44":"cols=['Price','Bedrooms','Bathrooms','Review Scores Value','Reviews per month','Review Scores Accuracy']\nsns.pairplot(filteredData[cols])\nplt.show()","2b43902d":"filteredData.corr(method='spearman')","ef510cc9":"Let's see the distribution with more varibles:","b224c0be":"# Business Understanding: Social Media\u2019s Influences on Policy Making\n\n\n\n\n# Data Understanding\n\n","c8e2e2f6":"Then, import libraries and define functions for plotting the data using matplotlib.","e87262e3":"**Now, 'df_final' has 295,452 lines of data and ready to use.**","6082e10c":"From above graph, we cannot find linear pattern between 'Price' and other variables, and we will do correlation test to ensure this assumption. \n\nA correlation coefficient measures the extent to which two variables tend to change together. The coefficient describes both the strength and the direction of the relationship.\n\nAs we know, The Pearson correlation evaluates the linear relationship between two continuous variables. A relationship is linear when a change in one variable is associated with a proportional change in the other variable. The Spearman correlation evaluates the monotonic relationship between two continuous or ordinal variables.\n\nIn our case, because we want to find the correlation between the 'Price' which is continous and the 'Number of Bedrooms' which is ordinal, and the 'Number of Badthrooms' which is also ordinal, the 'Reviews per month' - ordinal, and 'Reviews Score' - ordinal, we should use Spearman method.\n\n\nNow, let's do spearman correlation test on our data: ","e05cb02f":"From this graph, we can see that the shape of the distributions of 'Numbers of Bedrooms' and the distributions of 'Price' are very similar, which indicates the possibilities between them, and we will do further investigations later. Before that, let's do more distribution graph on other variables.","416addcb":"Now, let's read in the data and prepare to combine the csvs into one.\n","a5a68434":"We can see that in 'airbnb_ratings_new.csv' file, this dataset includes airbnb list from a lot of different countries such as Italy, China Hong Kong, Austria... But we only want to analysis the listings inside U.S because the price changes a lot in diffrent countris, so we need to filter the 'Country' collumn.","75fbd2d0":"# Data Preparation \n\nTo begin the exloratory data analysis and train machine learning model, we need to do the data preparation first.\n\nWe will import, combine, and filter the data we need and output an csv file for the further use.\n\n### Import Data","af8ea044":"Now, let's get more infomation with our datasets.","c68c3843":"From the result table, we found that 'Price' and 'Accommodates' have a correlation coefficient of 0.55, which indicates they are moderately correlated, and 'number of Bedrooms' has a correlation coefficient of 0.46 with 'Price', which is the second highest value in all variables, which can be understand, because more bedrooms a house has, the higher the price can be, and more people a house can accommodates, more expensive it will be.","8be71dd4":"We can see that most houses have bedrooms from 0 to 6, so let's filter the data ","9a7bdb67":"From the graph we can see, becaue of the large range of 'Price', we need to \nfilter those unnessary data which could influence our analysis. After observation, we found set the range from 0 to 500 is appropriate.","7e0d746f":"We can see that most listing have 0 - 10 reviews.\n\nNext, let's do the correlation test to find out the potential correa\n\n# Correlation Test","e86c26f5":"Filter the data:","aaa87615":"# Exploratory Data Analysis \n\nIn This part, we will do exploratory data analysis by examine the correlation between Price with number of bedrooms, bathrooms and review scores.\n\n## Distribution plots of variables","88ef7254":"Firstly, let's do Pairplot using Seanborn Library, to see if there exist some correlation between two variables:","0053131f":"Finnally, we need to read 'airbnb_ratings_new.csv'.","e9654bda":"Now, let's combine those three datasets into one:","d48dd74b":"Let's filter the Varible:","977f7ba4":"Now, let's see the distribution of numbers of Bedrooms:"}}