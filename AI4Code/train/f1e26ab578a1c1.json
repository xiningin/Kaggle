{"cell_type":{"db68fd72":"code","1ab0d9fe":"code","8a992532":"code","2065f082":"code","e648f1bc":"code","b3ba11b7":"code","a55b5087":"code","f19e3a5c":"code","16f70bb6":"code","3ec6b3a9":"code","6d5e7577":"code","46117053":"code","df1da4f6":"code","06935f8d":"code","c49d0963":"code","ee1fbd19":"code","c3828708":"code","a7dd564c":"code","050a42cc":"code","5d3dcd6a":"code","c439c1f0":"code","f5ab8acb":"code","abeed5a7":"code","52a574ea":"code","de3afd64":"code","d0587db1":"code","da76f507":"code","214e9354":"code","a6b5123f":"code","b56d548e":"code","094423be":"code","e8caf5e2":"code","faa216a1":"markdown","902388d7":"markdown","74b5c796":"markdown","f35153b7":"markdown","f241bce5":"markdown","8154218c":"markdown","81fbe506":"markdown","90b0533e":"markdown","943258a1":"markdown","d61620fe":"markdown","1bb1d6dd":"markdown","6183fb9e":"markdown","e031c7b6":"markdown","a4718ff5":"markdown","7c392431":"markdown","83ec7c50":"markdown","331f004d":"markdown","557ac8d6":"markdown","5770b0e8":"markdown","2ddb4400":"markdown","425ca869":"markdown","0cc763a2":"markdown"},"source":{"db68fd72":"# import the necessary libraries\nimport numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom datetime import date, timedelta\nfrom statsmodels.tsa.arima_model import ARIMA\nfrom sklearn.cluster import KMeans\nimport matplotlib as mpl\n\nfrom IPython.display import Markdown\nimport plotly.graph_objs as go\nimport plotly.offline as py\nfrom plotly.subplots import make_subplots\nimport plotly.express as px\nimport pycountry\nimport folium \nfrom folium import plugins\n\n%config InlineBackend.figure_format = 'retina'\npy.init_notebook_mode(connected=True)\n\n# Utility Functions\n\n'''Display markdown formatted output like bold, italic bold etc.'''\ndef formatted_text(string):\n    display(Markdown(string))","1ab0d9fe":"# Import the data\nnCoV_data = pd.read_csv(\"..\/input\/novel-corona-virus-2019-dataset\/covid_19_data.csv\")\n\n# Data Glimpse\nnCoV_data.tail()","8a992532":"# Convert 'Last Update' column to datetime object\nnCoV_data['Last Update'] = nCoV_data['Last Update'].apply(pd.to_datetime)\nnCoV_data['ObservationDate'] = nCoV_data['ObservationDate'].apply(pd.to_datetime)\n\n# Also drop the 'SNo' and the 'Date' columns\nnCoV_data.drop(['SNo'], axis=1, inplace=True)\n\n# Fill the missing values in 'Province\/State' with the 'Country' name.\nnCoV_data['Province\/State'] = nCoV_data['Province\/State'].replace(np.nan, nCoV_data['Country\/Region'])\n\n# Data Glimpse\nnCoV_data.head()","2065f082":"# Lets rename the columns - 'Province\/State' and 'Last Update' to remove the '\/' and space respectively.\nnCoV_data.rename(columns={'Last Update': 'LastUpdate', 'Province\/State': 'State', 'Country\/Region': 'Country', 'ObservationDate': 'Date'}, inplace=True)\n\n# Data Glimpse\n#nCoV_data.head()","e648f1bc":"# Active Case = confirmed - deaths - recovered\nnCoV_data['Active'] = nCoV_data['Confirmed'] - nCoV_data['Deaths'] - nCoV_data['Recovered']\n\n# Grouping on Basis of country since \nnCoV_data = nCoV_data.groupby(['Date','Country'])[['Confirmed','Deaths','Recovered','Active']].sum().reset_index()\nnCoV_data['New_Cases'] = nCoV_data['Confirmed'] - nCoV_data.groupby(['Country'])['Confirmed'].shift(1)\n\n# Check the Data Info again\n#nCoV_data.info()","b3ba11b7":"scb = pd.read_excel(\"..\/input\/sc-regional-data\/Countries.xlsx\")\nscb.rename(columns={'Countries':'Country'},inplace=True)                    \nscb.head()","a55b5087":"# Merge both the file and Create Final dataset for only SCB specific countries.\n\nnCoV_scb = pd.merge(scb,nCoV_data,on='Country',how='inner',indicator=True)\nnCoV_scb['Week_Day'] = nCoV_scb['Date'].dt.week\n#nCoV_scb.head()","f19e3a5c":"#Calculate day of year\nnCoV_scb['Day_of_Year'] = nCoV_scb['Date'].dt.dayofyear\n\n#nCoV_scb[nCoV_scb['Week_Day'].isnull()]\n\nnCoV_scb['Day_of_Year'] = nCoV_scb['Date'].dt.dayofyear\n\nnCoV_scb['Day_of_Year'] = nCoV_scb['Day_of_Year'].astype(int)","16f70bb6":"nCoV_Region = nCoV_scb.groupby(['Week_Day','Region','Date','Day_of_Year'])[['Confirmed','Deaths','Recovered','Active','New_Cases']].sum().reset_index()\nnCoV_Country = nCoV_scb.groupby(['Region','Country','Week_Day','Date','Day_of_Year'])[['Confirmed','Deaths','Recovered','Active','New_Cases']].sum().reset_index()","3ec6b3a9":"c_list = nCoV_Country[nCoV_Country['Date'] == nCoV_Country.Date.max()]\nc_list = c_list[c_list['Confirmed'] > 500]\nlist = c_list['Country']\n\nnCoV_Country = nCoV_Country[nCoV_Country['Country'].isin(list)]\nnCoV_Country.head()","6d5e7577":"# Lets check the total #Countries affected by nCoV\n\nnCoV_Countries = nCoV_Country['Country'].unique().tolist()\nprint('\\n')\nprint(nCoV_Countries)\nprint(\"\\n------------------------------------------------------------------\")\nprint(\"\\n Total SCB Operated countries where cases are more than 500: \",len(nCoV_Countries))","46117053":"# Create function to create Pie Chart & Bar Chart.\n\ndef pie_chart(df,type):\n    nCoV_Region1 = df[df['Date'] == df.Date.max()]\n    nCoV_Region1.sort_values('Confirmed',ascending=False,inplace=True)\n    \n    plt.figure(figsize=(10,5))\n    colors = ['yellowgreen', 'gold', 'lightskyblue','red','blue','green','orange']\n    sns.barplot(x=type,y='Confirmed',data=nCoV_Region1)\n    \n    plt.xlabel(\"Impacted Regions\")\n    plt.ylabel(\"Total Confrimed Cases\")\n    plt.show()\n        \n    plt.figure(figsize=(9,7))\n    plt.pie(nCoV_Region1['Confirmed'],autopct='%1.1f%%',shadow=True,colors=colors)\n    plt.legend(nCoV_Region1[type],loc='best')\n    plt.show()\n\n    return","df1da4f6":"# Create function for line plots\ndef regional(df,type,plots,count):\n    nCoV_Region_sum = df[df['Confirmed'] > count]\n    nCoV_Region_sum['Day_of_Year'] = nCoV_Region_sum.groupby(type)['Day_of_Year'].rank(method='min')\n    \n    fig, ax = plt.subplots()\n    mpl.style.use('seaborn')\n    \n    plt.title(\"Standard Chartered : Daily Trend after 1000 cases\", fontsize=15)\n\n    nCoV_Region_sum.groupby(type).plot(x='Day_of_Year', y=plots, ax=ax,figsize=(10,6),linewidth=3)\n    \n    plt.xlabel(\"No of Days since 1000 Confrimed Cases\")\n    \n    leg = nCoV_Region_sum.groupby(type)[plots].count().reset_index()\n    plt.legend(leg[type],loc='best',fontsize=14)\n        \n    return","06935f8d":"# Create function for Daily Cases.\ndef new_cases(df,type,plots,count):\n\n    nCoV_Region_sum = df[df['Confirmed'] > count]\n    nCoV_Region_sum['Day_of_Year'] = nCoV_Region_sum.groupby(type)['Day_of_Year'].rank(method='min').astype(int)\n    \n#    fig, ax = plt.subplots()\n    mpl.style.use('seaborn')\n    \n    nCoV_Region_sum.plot(x='Day_of_Year',y='New_Cases',kind='bar',figsize=(12,6))\n    plt.title(\"New Cases Day by Day \", fontsize=20)\n    \n    plt.xlabel(\"---Days since 100 Confrimed Cases-->\")\n    plt.ylabel(\"New Cases every day\")\n    \n    plt.show()\n        \n    return","c49d0963":"pd.options.mode.chained_assignment = None\npie_chart(nCoV_Region,'Region')","ee1fbd19":"regional(nCoV_Region,'Region','Confirmed',1000)\nplt.ylabel(\"Confrimed Cases(Cumilative)\")\nplt.show()","c3828708":"regional(nCoV_Region,'Region','Deaths',500)\nplt.ylabel(\"Total Deaths (Cumilative)\")\nplt.show()","a7dd564c":"\nnCoV_Country1 = nCoV_Country[nCoV_Country['Date'] == nCoV_Country.Date.max()]\n\ndef sunbust():\n    fig = px.sunburst(nCoV_Country1.sort_values(by='Active', ascending=False).reset_index(drop=True), \n                     path=[\"Region\",\"Country\"], values=\"Active\", height=550,\n                     title='Number of Active cases as of Date',\n                     color_discrete_sequence = px.colors.qualitative.Prism)\n    fig.data[0].textinfo = 'label+text+value'\n    fig.show()\n    return\n\nsunbust()\n#nCoV_Country1['Region'].unique()","050a42cc":"nCoV_Country1 = nCoV_Country1[~nCoV_Country1['Region'].isin(['Europe','America'])]\nnCoV_Country1['Region'].unique()\n\nsunbust()","5d3dcd6a":"nCoV_ASA = nCoV_Country[nCoV_Country['Region']=='ASA']\npie_chart(nCoV_ASA,'Country')","c439c1f0":"regional(nCoV_ASA,'Country','Confirmed',500)\nplt.ylabel(\"Confrimed Cases(Cumilative)\")\nplt.show()","f5ab8acb":"regional(nCoV_ASA,'Country','Deaths',100)\nplt.ylabel(\"Total Deaths(Cumilative)\")\nplt.show()","abeed5a7":"nCoV_ASA = nCoV_Region[nCoV_Region['Region']=='ASA']\nnew_cases(nCoV_ASA,'Region','New_Cases',500)","52a574ea":"nCoV_GCNA = nCoV_Country[nCoV_Country['Region']=='GCNA']\npie_chart(nCoV_GCNA,'Country')","de3afd64":"regional(nCoV_GCNA,'Country','Confirmed',500)\nplt.ylabel(\"Confrimed Cases(Cumilative)\")\nplt.show()\n\nregional(nCoV_GCNA,'Country','Deaths',100)\nplt.ylabel(\"Total Deaths(Cumilative)\")\nplt.show()","d0587db1":"nCoV_ASA = nCoV_Region[nCoV_Region['Region']=='GCNA']\nnew_cases(nCoV_ASA,'Region','New_Cases',500)","da76f507":"nCoV_Europe = nCoV_Country[nCoV_Country['Region']=='Europe']\npie_chart(nCoV_Europe,'Country')","214e9354":"regional(nCoV_Europe,'Country','Confirmed',500)\nplt.ylabel(\"Confrimed Cases(Cumilative)\")\nplt.show()\n\nregional(nCoV_Europe,'Country','Deaths',100)\nplt.ylabel(\"Total Deaths(Cumilative)\")\nplt.show()\n\nnCoV_Europe = nCoV_Region[nCoV_Region['Region']=='Europe']\nnew_cases(nCoV_Europe,'Region','New_Cases',500)","a6b5123f":"nCoV_ME = nCoV_Country[nCoV_Country['Region']=='ME']\npie_chart(nCoV_ME,'Country')","b56d548e":"regional(nCoV_ME,'Country','Confirmed',500)\nplt.ylabel(\"Confrimed Cases(Cumilative)\")\nplt.show()\n\nregional(nCoV_ME,'Country','Deaths',100)\nplt.ylabel(\"Total Deaths(Cumilative)\")\nplt.show()\n\nnCoV_ME = nCoV_Region[nCoV_Region['Region']=='ME']\nnew_cases(nCoV_ME,'Region','New_Cases',100)","094423be":"nCoV_Africa = nCoV_Country[nCoV_Country['Region']=='Africa']\npie_chart(nCoV_Africa,'Country')","e8caf5e2":"regional(nCoV_Africa,'Country','Confirmed',500)\nplt.ylabel(\"Confrimed Cases(Cumilative)\")\nplt.show()\n\nregional(nCoV_Africa,'Country','Deaths',100)\nplt.ylabel(\"Total Deaths(Cumilative)\")\nplt.show()\n\nnCoV_ME = nCoV_Region[nCoV_Region['Region']=='Africa']\nnew_cases(nCoV_ME,'Region','New_Cases',500)","faa216a1":"### Cases Over time \n\n#### Lets now understood how cases developed over time.","902388d7":"### Import and Exploratory Analysis of data","74b5c796":"**INFERENCES**\n\n1. The number of confirmed cases rise day by day The rise was very steep, specially in france, Germany & UK\n2. No of deaths in germany is very low, as comapre to France & UK provided no of confirmed cases are similar.\n3. Daily New Cases are declining fast now as you can see in the daily curve.","f35153b7":"### Exclude least impacted countries where total cases are less than 500 as of date.","f241bce5":"### Create various graph\/carts for visualition.","8154218c":"# 5. Africa Region \n### Note - Only countries where cases are more 500 has been considered.","81fbe506":"### Final List of Countries, considered for this analysis","90b0533e":"# 1. ASA Region\n### Analysis of the confirmed, Death & Daily Cases accross the region.","943258a1":"### Read data for SC Operated Countries.","d61620fe":"### INFRENCE :\n#### From the above plots we can see that AMERICA & Europe Region moved very fast and 400K cases reached within 40 days after first 1K cases.\n#### GCNA able to flatened the curve very fast and Cases in ASA, ME & Africa Growth is relatively low.\n#### As you can see Europe & America is following excatly same death rate pattern so the ASA & ME.\n#### It signifies that virus is impacting different races diffenently, based upon human Genetic and Enviromentla conditions.","1bb1d6dd":"# Regional Analysis : SC Worldwide\n### Let's see how different regions are impacted","6183fb9e":"# Like\/Comment if you like the efforts...","e031c7b6":"# Statistical Analysis","a4718ff5":"### Summarize the data at Countries as well as Regional level.","7c392431":"# 3. Europe Region","83ec7c50":"### Exclude Amercia & Europe for better visibility of other regions.","331f004d":"**INFRENCES - ASA Region**\n1. India is most impacted in the region, however given the size of population cases per million are relative low.\n2. SG is least impacted in however cases per million are high, per death rate is the lowest.\n3. No of New Cases every day are in increasing trend.","557ac8d6":"### ==> As we see from the plots above, America & Europe are the worst affected regions and America alone have 50% of the cases.\n\n### ==> AME(Africa & ME) are the least impacted regiona and effect is minimal so far.**","5770b0e8":"# 2. GCNA Region\n### Analysis of Confirmed, Deaths & Daily New Cases across the region.","2ddb4400":"# COVID-19: Analysis for Standard Chartered Operated Regions\n\n** Gaurav Gupta **\n\n# What is Coronavirus?\n\n    Coronaviruses (CoV) are a large family of viruses that cause illness ranging from the common cold to more\n    severe diseases such as Middle East Respiratory Syndrome (MERS-CoV) and Severe Acute Respiratory Syndrome\n    (SARS-CoV). A novel coronavirus (nCoV) is a new strain that has not been previously identified in humans.  \n\n### Source - \n\nhttps:\/\/www.sc.com\/en\/our-locations\/\n\nhttps:\/\/www.worldometers.info\/coronavirus\/\n\nhttps:\/\/www.livescience.com\/new-coronavirus-images.html\n\n## Let's do an Exploratory analysis on the data we have so far. \n\n   The data has been shared in kaggle @ https:\/\/www.kaggle.com\/sudalairajkumar\/novel-corona-virus-2019-dataset.\n   \n   Real time data on everyday basis is also made available by the Johns Hopkins university @ https:\/\/docs.google.com\/spreadsheets\/d\/1yZv9w9zRKwrGTaR-YzmAqMefw4wMlaXocejdxZaTs6w\/htmlview?usp=sharing&sle=true#","425ca869":"# 4. ME(Middle East) Region","0cc763a2":"### Standard Chartered Segregated it's businesses worldiwde in 4 Geographies, and we will try to understand how these Bank operated Geographies by Covid19.\n\n* ASA - Asia and South ASEAN Countries\n* GCNA - Greater China and North Asia\n* AEU - Ameria & Europe\n* AME - Africa & Midde East*\n\n#### Note for the convince of our understanding we will do the Africa and ME(Middle East) analysis separately."}}