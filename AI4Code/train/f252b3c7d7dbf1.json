{"cell_type":{"d0e53f0f":"code","0f63e3fb":"code","625988c3":"code","0e33aa7f":"code","3bc27f06":"code","56a73791":"code","bf95c387":"code","5b3a5f33":"code","c94bd1bc":"code","7b95e4dd":"code","55b50350":"code","4d2facfc":"code","2fea936e":"code","f4af54b0":"code","5ea73792":"code","f981e054":"code","278b7fa1":"code","a83da673":"code","05f26772":"code","393e97cf":"code","d6575fd7":"code","7f3faf82":"code","083c10b4":"code","847e1855":"code","92aef760":"code","f02176ff":"code","49517241":"code","facc3ac2":"code","d2f7b54c":"code","e102aac8":"code","bef4e48c":"markdown","89ef7df5":"markdown","e1106e0a":"markdown","db3a1a84":"markdown","81009247":"markdown","f746bf72":"markdown","9729f2dc":"markdown","c13e50d7":"markdown","ea664fc8":"markdown","17d01375":"markdown","5af4fddc":"markdown","9c3c3d8d":"markdown","b4199ca8":"markdown","13d2f24e":"markdown","69a7fba0":"markdown","44232b5a":"markdown","57eaa736":"markdown","fe84aa35":"markdown","a45146e9":"markdown","f26c8e01":"markdown","b031b7a6":"markdown"},"source":{"d0e53f0f":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","0f63e3fb":"file = open('\/kaggle\/input\/datacours2\/files\/adult.data', 'r')\n","625988c3":"def chr_int(a):\n    if a.isdigit():\n        return int(a)\n    else:\n        return 0\n                \ndata=[]\nfor line in file:\n     data1=line.split(', ')\n     if len(data1)==15:\n        data.append([chr_int(data1[0]),data1[1],chr_int(data1[2]),data1[3],chr_int(data1[4]),data1[5],data1[6],\\\n            data1[7],data1[8],data1[9],chr_int(data1[10]),chr_int(data1[11]),chr_int(data1[12]),data1[13],\\\n            data1[14]])","0e33aa7f":"print (data[1:2])\n","3bc27f06":"import pandas as pd\n\ndf = pd.DataFrame(data) #  Two-dimensional size-mutable, potentially heterogeneous tabular data structure with labeled axes \n\ndf.columns = ['age', 'type_employer', 'fnlwgt', 'education', \n                \"education_num\",\"marital\", \"occupation\", \"relationship\", \"race\",\"sex\",\n                \"capital_gain\", \"capital_loss\", \"hr_per_week\",\"country\",\"income\"]\ndf.head()","56a73791":"df.tail()\n","bf95c387":"df.shape\n","5b3a5f33":"counts = df.groupby('country').size()\n\nprint (counts)","c94bd1bc":"counts = df.groupby('age').size() # grouping by age\nprint (counts)","7b95e4dd":"ml = df[(df.sex == 'Male')] # grouping by sex\nml.shape\nml1 = df[(df.sex == 'Male')&(df.income=='>50K\\n')]\nml1.shape","55b50350":"fm =df[(df.sex == 'Female')]\nfm.shape","4d2facfc":"fm1 =df[(df.sex == 'Female')&(df.income=='>50K\\n')]\nfm1.shape","2fea936e":"df1=df[(df.income=='>50K\\n')]\n\nprint ('The rate of people with high income is: ', int(len(df1)\/float(len(df))*100), '%.' )\nprint ('The rate of men with high income is: ', int(len(ml1)\/float(len(ml))*100), '%.' )\nprint ('The rate of women with high income is: ', int(len(fm1)\/float(len(fm))*100), '%.' )","f4af54b0":"df1=df[(df.income=='>50K\\n')]\n\nprint ('The rate of people with high income is: ', int(len(df1)\/float(len(df))*100), '%.' )\nprint ('The rate of men with high income is: ', int(len(ml1)\/float(len(ml))*100), '%.' )\nprint ('The rate of women with high income is: ', int(len(fm1)\/float(len(fm))*100), '%.' )","5ea73792":"print ('The average age of men is: ', ml['age'].mean(), '.' )\nprint ('The average age of women is: ', fm['age'].mean(), '.')","f981e054":"print ('The average age of high-income men is: ', ml1['age'].mean(), '.' )\nprint ('The average age of high-income women is: ', fm1['age'].mean(), '.')","278b7fa1":"ml_mu = ml['age'].mean()\nfm_mu = fm['age'].mean()\nml_var = ml['age'].var()\nfm_var = fm['age'].var()\nml_std = ml['age'].std()\nfm_std = fm['age'].std()\n\nprint ('Statistics of age for men: mu:', ml_mu, 'var:', ml_var, 'std:', ml_std)\nprint ('Statistics of age for women: mu:', fm_mu, 'var:', fm_var, 'std:', fm_std)\n\nml_mu_hr = ml['hr_per_week'].mean()\nfm_mu_hr = fm['hr_per_week'].mean()\nml_var_hr = ml['hr_per_week'].var()\nfm_var_hr = fm['hr_per_week'].var()\nml_std_hr = ml['hr_per_week'].std()\nfm_std_hr = fm['hr_per_week'].std()\n\nprint ('Statistics of hours per week for men: mu:', ml_mu_hr, 'var:', ml_var_hr, 'std:', ml_std_hr)\nprint ('Statistics of hours per week for women: mu:', fm_mu_hr, 'var:', fm_var_hr, 'std:', fm_std_hr)","a83da673":"ml_median= ml['age'].median()\nfm_median= fm['age'].median()\n\nprint (\"Median age per men and women: \", ml_median, fm_median)\n\nml_median_age= ml1['age'].median()\nfm_median_age= fm1['age'].median()\n\nprint (\"Median age per men and women with high-income: \", ml_median_age, fm_median_age)\n\nml_median_hr= ml['hr_per_week'].median()\nfm_median_hr= fm['hr_per_week'].median()\nprint (\"Median hours per week per men and women: \", ml_median_hr, fm_median_hr)","05f26772":"import matplotlib.pyplot as plt\nml_age=ml['age']\nml_age.hist(histtype='stepfilled', bins=20)","393e97cf":"fm_age=fm['age']\nfm_age.hist(histtype='stepfilled', bins=10)\nplt.xlabel('Age',fontsize=15)\nplt.ylabel('Female samples',fontsize=15)\nplt.show()","d6575fd7":"import seaborn as sns\nfm_age.hist(histtype='stepfilled', alpha=.5, bins=20)   # default number of bins = 10\nml_age.hist(histtype='stepfilled', alpha=.5, color=sns.desaturate(\"indianred\", .75), bins=10)\nplt.xlabel('Age',fontsize=15)\nplt.ylabel('Samples',fontsize=15)\nplt.show()","7f3faf82":"fm_age.hist(density=1,histtype='stepfilled', alpha=.5, bins=20)   # default number of bins = 10\nml_age.hist(density=1,histtype='stepfilled', alpha=.5, color=sns.desaturate(\"indianred\", .75), bins=10)\nplt.xlabel('Age',fontsize=15)\nplt.ylabel('PMF',fontsize=15)\nplt.show()","083c10b4":"ml_age.hist(density=1,histtype='stepfilled', bins=20)\n\nplt.xlabel('Age',fontsize=15)\nplt.ylabel('Probability',fontsize=15)\nplt.show()","847e1855":"fm_age.hist(density=1,histtype='stepfilled', bins=20)\n\nplt.xlabel('Age',fontsize=15)\nplt.ylabel('Probability',fontsize=15)\nplt.show()","92aef760":"ml_age.hist(density=1, histtype='step', cumulative=True, linewidth=3.5, bins=20)\n\nplt.xlabel('Age',fontsize=15)\nplt.ylabel('CDF',fontsize=15)\nplt.show()","f02176ff":"fm_age.hist(density=1, histtype='step', cumulative=True, linewidth=3.5, bins=20)\n\nplt.xlabel('Age',fontsize=15)\nplt.ylabel('CDF',fontsize=15)\nplt.show()","49517241":"ml_age.hist(bins=10, density=1, histtype='stepfilled', alpha=.5)   # default number of bins = 10\nfm_age.hist(bins=10, density=1, histtype='stepfilled', alpha=.5, color=sns.desaturate(\"indianred\", .75))\nplt.xlabel('Age',fontsize=15)\nplt.ylabel('Probability',fontsize=15)\nplt.show()","facc3ac2":"ml_age.hist(density=1, histtype='step', cumulative=True,  linewidth=3.5, bins=20)\nfm_age.hist(density=1, histtype='step', cumulative=True,  linewidth=3.5, bins=20, color=sns.desaturate(\"indianred\", .75))\nplt.xlabel('Age',fontsize=15)\nplt.ylabel('CDF',fontsize=15)\nplt.show()","d2f7b54c":"print (\"The mean sample difference is \", ml_age.mean() - fm_age.mean())\n","e102aac8":"NTs=200\nmu=0.0\nvar=1.0\nerr = 0.0\nNPs=1000\nfor i in range(NTs):\n    x = np.random.normal(mu, var, NPs)\n    err += (x.mean()-mu)**2\n\nprint ('MSE: ', err\/NTs)","bef4e48c":"Le graphique est le m\u00eame que pour la question 13, seulement les couleurs sont invers\u00e9es.","89ef7df5":"Cela affiche les dimensions de la dataframe","e1106e0a":"Je n'arrive pas \u00e0 afficher tous les ages. Mais vu comme cela, c'est pour 20 ans.","db3a1a84":"On affiche la data frame cr\u00e9\u00e9 plus t\u00f4t. ","81009247":"On a chang\u00e9 le nom des axes sur le graphique. On trace maintenant le PMF en fonction de l'\u00e2ge. Le PMF correspond \u00e0 une conversion en fr\u00e9quence. ","f746bf72":"Cela affiche que les 5 derni\u00e8res lignes de la dataframe.","9729f2dc":"On fait appara\u00eetre que l'\u00e2ge moyen de l'homme est plus \u00e9lev\u00e9 que pour la femme. L'\u00e9cart est de 2.57 ann\u00e9es. C'est coh\u00e9rent avec les graphiques trac\u00e9s pr\u00e9c\u00e9demment.","c13e50d7":"De la m\u00eame mani\u00e8re, on utilise les ml\/fl , pour calculer les \u00e9carts types, variance et moyenne de l'\u00e2ge des hommes puis des femmes, et ensuite du nombre d'heures travaill\u00e9s par les hommes\/femmes. Ensuite, on les affiche.","ea664fc8":"Cette fois-ci, on combine les donn\u00e9es des hommes et des des femmes, class\u00e9s par \u00e2ge sur un m\u00eame graphique. \nHommes et femmes sont repr\u00e9sent\u00e9s selon une couleur diff\u00e9rente.","17d01375":"De la m\u00eame mani\u00e8re, cela r\u00e9utilise les listes ml et fm cr\u00e9\u00e9s plus t\u00f4t, pour en tirer une information sur l'age moyen, en utilisant la fonction .mean()","5af4fddc":"On trace un histogramme, repr\u00e9sentant le nombre d'hommes travaillant selon les \u00e2ges. On remarque que l'\u00e2ge le plus repr\u00e9sent\u00e9 semble \u00eatre aux alentours de 35-40 ans","9c3c3d8d":"On utilise maintenant la fonction .median() pour obtenir les valeurs m\u00e9dianes des s\u00e9ries pr\u00e9c\u00e9dentes.","b4199ca8":"C'est le m\u00eame grahique avec les femmes cette fois-ci. \nOn affecte des noms aux axes avec les commandes xlabel et ylabel.","13d2f24e":"C'est maintenant une fonction de distribution qu'on trace. C'est la probabilit\u00e9 que l'\u00e2ge d'un homme dans ce cas, soit inf\u00e9rieur \u00e0 l'\u00e2ge donn\u00e9 en abcisse. Par exemple ici, on voit que la probabilit\u00e9 qu'un homme soit plus jeune que 40 ans est de l'ordre de 60%.","69a7fba0":"On tra\u00e7e les deux CDF superpos\u00e9s. On remarque que il y a de gros \u00e9carts de paliers entre 20 et 40 ans. Quand on part sur des \u00e2ges plus \u00e9lev\u00e9s, les \u00e9carts se r\u00e9duisent.","44232b5a":"Maintenant, on compte le nombre de fois o\u00f9 des valeurs apparaissent, plutot que de sommer ces valeurs. On trace cette probabilit\u00e9 en fonction des ages pour les hommes.","57eaa736":"On fait le m\u00eame trac\u00e9 avec cette fois-ci les femmes. On remarque que les paliers sont plus \"prononc\u00e9s\" dans ce cas. On peut en voir que les femmes paraissent plus jeunes. Cette fois, la probabilit\u00e9 qu'une femme soit plus jeune que 40 ans est de environ 70%.","fe84aa35":"643 pour Mexique, 29170 pour USA","a45146e9":"On fait la m\u00eame chose pour les femmes.","f26c8e01":"Cela calcule le % de personnes \u00e0 haut salaire, en r\u00e9utilisant les ml et df cr\u00e9\u00e9s plus t\u00f4t","b031b7a6":"On essaie d'approximer par une gaussienne les donn\u00e9es. Puis on fait la somme, et on fait appara\u00eetre l'\u00e9cart-type en faisant le calcul."}}