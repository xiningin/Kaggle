{"cell_type":{"787e77fe":"code","be23b5f5":"code","19f19e3c":"code","ce13b3ab":"code","c1379e42":"code","0609a9e2":"code","437d63ac":"code","aa054d2b":"code","27a18b2a":"code","f0e5d243":"code","b47938a0":"code","d11a44e3":"code","50a4e536":"code","5872cc24":"code","5cfe312b":"code","d547a925":"code","2c2d73c1":"code","945fd491":"code","a82b7c09":"code","973c1b01":"code","654b6ad6":"code","1cf84895":"markdown","a77c469e":"markdown","7f72f947":"markdown","115ee3d6":"markdown","e16cdd56":"markdown","7043e68a":"markdown","03e5a9c9":"markdown","2c005973":"markdown","22b29491":"markdown","9a2eb20f":"markdown","a130affa":"markdown","a6babe97":"markdown","02ded04d":"markdown","fb29eaab":"markdown","b4a56153":"markdown","a320de58":"markdown","c1a5e6d6":"markdown"},"source":{"787e77fe":"# Import the required libraries\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nfrom matplotlib import style\nstyle.use('seaborn')\n%matplotlib inline","be23b5f5":"# Load the global temperature dataset and store it in a dataframe\norig_temp_data = pd.read_csv('..\/input\/climate-change-earth-surface-temperature-data\/GlobalTemperatures.csv')\nglobal_temp_df = orig_temp_data.copy()\n\nglobal_temp_df.head()","19f19e3c":"# Choose the required columns\nglobal_temp_df = global_temp_df[['dt', 'LandAndOceanAverageTemperature']]\n\n# Set the date column as a DateTimeIndex and sort it\nglobal_temp_df['dt'] = pd.to_datetime(global_temp_df['dt'])\nglobal_temp_df.set_index('dt', inplace = True)\nglobal_temp_df.sort_index(axis = 0, inplace = True)\n\n# Resample annually and rename index & columns\nglobal_temp_df = global_temp_df.resample('A').mean()\nglobal_temp_df.rename(columns = {'LandAndOceanAverageTemperature': 'AnnualAverageTemp'}, inplace = True)\nglobal_temp_df.index.rename('Year', inplace = True)\nglobal_temp_df.index = global_temp_df.index.year","ce13b3ab":"# Check the number of missing values and the corresponding years\nprint(global_temp_df.isnull().sum())\nprint(global_temp_df[global_temp_df['AnnualAverageTemp'].isnull()].index)","c1379e42":"global_temp_df.dropna(inplace = True)","0609a9e2":"# Calculate the global baseline temperature\nglobal_ref_temp = global_temp_df.loc['1951':'1980'].mean()['AnnualAverageTemp'] \n\n# Create the temperature anomaly column\nglobal_temp_df['Temperature Anomaly'] = global_temp_df['AnnualAverageTemp'] - global_ref_temp\nglobal_temp_df.drop(['AnnualAverageTemp'], axis = 1, inplace = True)\n\nglobal_temp_df.head()","437d63ac":"# Plot the temperature anomaly\nplt.figure(figsize = (15, 8))\n\nplt.plot(global_temp_df['Temperature Anomaly'], 'r')\n\nplt.title('The Warming Earth\\nGlobal temperature anomalies (annual) for 1850-2015', fontsize = 19)\nplt.xlabel('Year', fontsize = 15)\nplt.ylabel('Temperature anomaly (degree Celsius)', fontsize = 15)\n\nplt.show()","aa054d2b":"# Load the natural disaster dataset and store it in a dataframe\norig_disaster_data = pd.read_csv('..\/input\/natural-disaster-data\/number-of-natural-disaster-events.csv')\nnat_disaster_df = orig_disaster_data.copy()\n\nnat_disaster_df.head()","27a18b2a":"# Remove the 'Code' column\nnat_disaster_df.drop(['Code'], axis = 1, inplace = True)\n\n# Check the different types of 'Entity' values\nnat_disaster_df['Entity'].unique()","f0e5d243":"# Pivot the dataframe\nnat_disaster_df = nat_disaster_df.pivot(index = 'Year', columns = 'Entity', values = 'Number of reported natural disasters (reported disasters)')\nnat_disaster_df.head()","b47938a0":"# Remove the 'Impact' column\nnat_disaster_df.drop(['Impact'], axis = 1, inplace = True)\n\n# Handle missing values and rename columns\nnat_disaster_df.fillna(value = 0, inplace = True)\nnat_disaster_df = nat_disaster_df.add_suffix(' (Occurrence)')\n\nnat_disaster_df.head()","d11a44e3":"# Plot the types of natural disasters occurrences for 1950-2018\ncolors = ['#4169e1', '#b22222', '#228b22', '#ff4500', '#9370db', '#8b4513', '#c71585', '#ffd700', 'olive']\n\nnat_disaster_df.drop(['All natural disasters (Occurrence)'], axis = 1).loc[1950:].plot.bar(width = 0.8, stacked = True, color = colors, figsize = (15, 8))\n\nplt.title('Global occurrences of natural disasters for 1950-2018', fontsize = 19)\nplt.xlabel('Year', fontsize = 15)\nplt.ylabel('Occurrence', fontsize = 15)\nplt.legend(loc = 2, prop = {'size': 12})\n\nplt.show()","50a4e536":"# Plot all natural disasters occurrences and temperature anomaly for comparison\nfig, ax = plt.subplots(figsize = (14, 8))\nax2 = ax.twinx()\n\nline1 = ax.plot(nat_disaster_df.loc[:2015, 'All natural disasters (Occurrence)'], '-ro', markersize = 4, label = 'All natural disasters (Occurrence)')\nline2 = ax2.plot(global_temp_df.loc[1900:, 'Temperature Anomaly'], 'b-', label = 'Temperature Anomaly')\n\nlines = line1 + line2\nlabels = [l.get_label() for l in lines]\n\nplt.title('All natural disaster occurrences and temperature anomaly for 1900-2015', fontsize = 19)\nax.set_xlabel('Year', fontsize = 15)\nax.set_ylabel('Occurrence', fontsize = 15, color = 'r')\nax2.set_ylabel('Temperature anomaly (degree Celsius)', fontsize = 15, color = 'b')\nax.legend(lines, labels, loc = 0, prop = {'size': 12})\n\nplt.show()","5872cc24":"# Load the economic damage dataset and store it in a dataframe\norig_econ_data = pd.read_csv('..\/input\/natural-disaster-data\/economic-damage-from-natural-disasters.csv')\necon_dmg_df = orig_econ_data.copy()\n\necon_dmg_df.head()","5cfe312b":"# Remove the 'Code' column\necon_dmg_df.drop(['Code'], axis = 1, inplace = True)\n\n# Pivot the dataframe\necon_dmg_df = econ_dmg_df.pivot(index = 'Year', columns = 'Entity', values = 'Total economic damage from natural disasters (US$)')\necon_dmg_df.head()","d547a925":"econ_dmg_df.drop(['Impact'], axis = 1, inplace = True)\n\necon_dmg_df.fillna(value = 0, inplace = True)\necon_dmg_df = econ_dmg_df.add_suffix(' (Economic Damage)')\n\necon_dmg_df.head()","2c2d73c1":"# Plot the economic damage categorised by the type of natural disasters for 1950-2018\n((econ_dmg_df.drop(['All natural disasters (Economic Damage)'], axis = 1).loc[1950:]) \/ 1e9).plot.bar(width = 0.8, stacked = True, color = colors, figsize = (15, 8))\n\nplt.title('Economic damage by type of natural disaster for 1950-2018', fontsize = 19)\nplt.xlabel('Year', fontsize = 15)\nplt.ylabel('Economic damage (in billion US$)', fontsize = 15)\nplt.legend(loc = 2, prop = {'size': 12})\n\nplt.show()","945fd491":"combined_df = global_temp_df.join([nat_disaster_df, econ_dmg_df], how = 'inner')\ncombined_df.head()","a82b7c09":"correlation_table = combined_df.corr()\ncorrelation_table.head()","973c1b01":"# Correlation with respect to temperature anomaly\ncombined_df.corr()['Temperature Anomaly']","654b6ad6":"# Plot correlation heatmap\nfig, ax = plt.subplots(figsize = (10, 10))\n\nlabels = [name for name in correlation_table.columns]\n\ncax = ax.matshow(correlation_table, cmap = 'RdYlGn')\n\ncbar = fig.colorbar(cax, shrink = 0.82)\n\nax.set_xticks(np.arange(len(labels)))\nax.set_yticks(np.arange(len(labels)))\n\nax.set_xticklabels(labels, fontsize = 12, rotation = 'vertical')\nax.set_yticklabels(labels, fontsize = 12)\n\nax.grid(False)\n\nplt.show()","1cf84895":"Let's explore the natural disaster data and analyse how the occurrence of various types of natural disasters has changed over the years.","a77c469e":"The heatmap and the correlation values confirm our analysis from the previous plots that global temperature rise has a strong positive correlation with all types of natural disaster occurrences (except mass movement (dry)) and has a relatively lower correlation with economic damage.","7f72f947":"A better way to visualise all the information in the correlation table is through a correlation heatmap.","115ee3d6":"The bar plot above with individual stacks for each disaster category shows that the occurrence of floods has significantly increased over the years relative to other disasters. The next highest increase in occurrence is that of extreme weather followed by earthquakes. The plot also shows that there has been a steady increase in the number of total natural disasters globally. This is more evident from the plot below.","e16cdd56":"A value of 1.0 implies perfect positive correlation, -1.0 implies perfect negative correlation and 0 means no correlation between the two entities. Let's see how temperature anomaly compares to everything.","7043e68a":"## Global temperature","03e5a9c9":"Plotting the temperature anomaly over the years, clearly indicates the warming of Earth. The warming is more pronounced from about 1920 onwards. In 2015, the Earth is 0.76 degree Celsius warmer than the normal. The result above confirms the scientific consensus that the Earth is warming.","2c005973":"Remove the irrelevant columns, rename the other columns and handle the missing values.","22b29491":"The above plot indicates a positive correlation between temperature anomaly and the occurrence of natural disasters. Especially after around 1940 when it starts becoming warmer than the normal, natural disasters also start rising globally.<br><br>Let's also investigate the economic damage caused by natural disasters.","9a2eb20f":"Economic damage is highly variable as it depends on several factors such as the disaster type, disaster location, severity of the disaster, disaster management efforts, etc.<br><br>However, one key trend that stands out from the plot is that the total economic damage from all the disasters is generally increasing over the years. The main reason is the increase in disaster occurrences (correlated with global temperature rise), although all disasters don't contribute equally to the economic damage. Another reason for higher economic damage could be the overall increase in economic growth which leads to more infrastructure, land use, etc.<br><br>Combine the three main dataframes (global_temp_df, nat_disaster_df and econ_dmg_df) and create a correlation table to measure the correlation between each entity.","a130affa":"The first hundred years from 1750 don't have temperature values. Drop those entries to begin the analysis from 1850 onwards.","a6babe97":"## Natural disasters","02ded04d":"The 'Entity' column contains 10 types of natural disaster entries and their summation, 'All natural disasters'. For further analysis it is suitable to rearrange the data according to the disaster categories.","fb29eaab":"After observing the data, remove the data not required for the analysis and keep only the relevant data. The column 'LandAndOceanAverageTemperature' gives information about the overall earth temperature.<br><br>The global temperature dataset has monthly granularity. It can be resampled annually to reduce the number of entries, without losing the average temperature information.","b4a56153":"# An exploratory data analysis of climate change and natural disasters\n\nThe objective is to explore and analyse climate change and its relation to natural disasters (occurrence and economic impact). For this analysis, global temperature rise is used as an indicator of climate change.<br><br>The source of the global temperature data is the Kaggle dataset https:\/\/www.kaggle.com\/berkeleyearth\/climate-change-earth-surface-temperature-data by Berkeley Earth.<br>Natural diasaster data is taken from https:\/\/ourworldindata.org\/natural-disasters (data published by EMDAT (2019): OFDA\/CRED International Disaster Database, Universit\u00e9 catholique de Louvain \u2013 Brussels \u2013 Belgium)","a320de58":"In climate science, temperature anomaly represents temperature pattern accurately than absolute temperature. It is a measure of the departure from baseline temperature. Basically, it indicates how much warmer or cooler it is than the baseline. The baseline used here is the average temperature over the 30 year period 1951-1980 (base period used by NASA).<br><br>The temperature anomaly values are stored in a new column in the dataframe and the absolute temperature values are dropped.","c1a5e6d6":"Global warming doesn't affect the probability of impact by asteroids, meteroites, etc. on Earth. So, the 'Impact' entity can be removed from the dataframe.<br><br>There are several 'NaN' values which could mean missing values or unreported disaster occurrences. For our analysis, we'll replace them with 0, which means no disaster occurrence and it would also benefit plotting the data."}}