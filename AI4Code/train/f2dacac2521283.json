{"cell_type":{"94621f2b":"code","34395bff":"code","f1b53a2e":"markdown","79967818":"markdown"},"source":{"94621f2b":"import time \nimport lxml.etree as ET\nimport pandas as pd\nimport numpy as np\n\nfile_path = '\/kaggle\/input\/french-reddit-discussion\/final_SPF_2.xml'\nstart=time.time()\n#Initializes the parser\nparser = ET.XMLParser(recover=True)\n#Parses the file\ntree = ET.parse(file_path, parser=parser)\nxroot = tree.getroot()\n\n#One conversation -> one line in the data array\ndfcols = ['link_id', 'subreddit_id', 'uid',\"comment_id\",'score', 'parent_id', 'create_utc', 'text']\ndata=np.array(([[ [node.attrib.get('link_id'),node.attrib.get('subreddit_id'), node.getchildren()[j].get('uid'), node.getchildren()[j].get('comment_id'), node.getchildren()[j].get('score'), node.getchildren()[j].get('parent_id'), node.getchildren()[j].get('create_utc'),node.getchildren()[j].text] for j in range(len(node.getchildren()))] for node in xroot]), dtype=object)\nprint('number of conversations: ',data.shape[0])\n\n#one comments -> one line in the data array\ndata=np.array([liste for conversation in data for liste in conversation], dtype=object)\nprint('number of comments: ',data.shape[0])\n\ndf_xml = pd.DataFrame(data=data, columns=dfcols)\nprint('All done in :',time.time()-start,' seconds')\n\ndf_xml.head()\n","34395bff":"\n#And if you want to save the dataframe as a csv file ...\ndf_xml.to_csv('dataframe-conversation.csv', sep=',')\ndata=pd.read_csv('dataframe-conversation.csv', index_col = 0) #to read it \ndata.head()","f1b53a2e":"# > **Machine learning models coming soooonnn!!!**","79967818":"# **Usain Bolt Coding !!!"}}