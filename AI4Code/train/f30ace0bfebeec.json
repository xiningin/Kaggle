{"cell_type":{"cf14de16":"code","31e6c578":"code","230aa252":"code","0046ad7b":"code","4dc89bc7":"code","0c82af13":"code","f207a7a2":"code","0e3e17aa":"code","95dbbfcb":"code","0cf26871":"code","d6ee6480":"code","212625f4":"code","9265f305":"code","24d29200":"code","778dd1c9":"code","6cbae254":"code","b41844d9":"code","e9c3f7b2":"code","c8de5865":"code","313b0871":"code","f561c2fd":"code","f8e62675":"code","53527ce9":"code","a8d29f74":"code","b0f80c2e":"code","90cd14ac":"code","cf10b537":"code","be99ffa9":"markdown","f3ed022c":"markdown","6cd9ebb9":"markdown","082c487e":"markdown","b98ecd7b":"markdown","1455518d":"markdown","d52ce1dd":"markdown","157f96e6":"markdown","b7002bc9":"markdown","a0a7017f":"markdown","d47f7d6a":"markdown","20c48856":"markdown","a1662864":"markdown","688d3039":"markdown","b36cf1a7":"markdown","b4e3ab6e":"markdown","98cc5cfb":"markdown","0471ae2a":"markdown","068dabb2":"markdown","6002a089":"markdown","7dd8537d":"markdown","94e04ae8":"markdown","bdcb3450":"markdown","8d51d49b":"markdown"},"source":{"cf14de16":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport os\nfrom pprint import pprint\nprint(os.listdir(\"..\/input\"))","31e6c578":"print(pd.__version__)\nprint(np.__version__)","230aa252":"import warnings\nwarnings.filterwarnings(\"ignore\")","0046ad7b":"# Read & peek top\ndata = pd.read_csv(\"..\/input\/titanic\/train.csv\")\ndata.head()","4dc89bc7":"# Reading with Index column & peek tail\ndata2 = pd.read_csv(\"..\/input\/titanic\/train.csv\",index_col='PassengerId')\ndata2.tail()","0c82af13":"# Shape, Row Count, Column Count & Column Names\nprint('Shape of dataframe \\t:', data.shape)\nprint('# of Rows \\t\\t:', data.shape[0])\nprint('# of Columns \\t\\t:', data.shape[1])\nprint('Columns in dataframe \\t:', data.columns)","f207a7a2":"values = {}\narr = []\nprint('values is a ' ,type(values))\ntype(arr)","0e3e17aa":"def getColumnsWithMissingValuesList(df):\n    return [col for col in df.columns if df[col].isnull().any()] \n\ngetColumnsWithMissingValuesList(data)","95dbbfcb":"def getObjectColumnsList(df):\n    return [cname for cname in df.columns if df[cname].dtype == \"object\"]\n\ncat_cols = getObjectColumnsList(data)\ncat_cols","0cf26871":"def getNumericColumnsList(df):\n    return [cname for cname in df.columns if df[cname].dtype in ['int64', 'float64']]\n\nnum_cols = getNumericColumnsList(data)\nnum_cols","d6ee6480":"def getLowCardinalityColumnsList(df,cardinality):\n    return [cname for cname in df.columns if df[cname].nunique() < cardinality and df[cname].dtype == \"object\"]\n\nLowCardinalityColumns = getLowCardinalityColumnsList(data,10)\nLowCardinalityColumns","212625f4":"data['Embarked'].nunique()","9265f305":"def PerformOneHotEncoding(df,columnsToEncode):\n    return pd.get_dummies(df,columns = columnsToEncode)\n\noneHotEncoded_df = PerformOneHotEncoding(data,getLowCardinalityColumnsList(data,10))\noneHotEncoded_df.head()","24d29200":"# select only int64 & float64 columns\nnumeric_data = data.select_dtypes(include=['int64','float64'])\n\n# select only object columns\ncategorical_data = data.select_dtypes(include='object')","778dd1c9":"numeric_data.head()","6cbae254":"categorical_data.head()","b41844d9":"def missingValuesInfo(df):\n    total = df.isnull().sum().sort_values(ascending = False)\n    percent = round(df.isnull().sum().sort_values(ascending = False)\/len(df)*100, 2)\n    temp = pd.concat([total, percent], axis = 1,keys= ['Total', 'Percentage'])\n    return temp.loc[(temp['Total'] > 0)]\n\nmissingValuesInfo(data)","e9c3f7b2":"# for Object columns fill using 'UNKOWN'\n# for Numeric columns fill using median\ndef fillMissingValues(df):\n    num_cols = [cname for cname in df.columns if df[cname].dtype in ['int64', 'float64']]\n    cat_cols = [cname for cname in df.columns if df[cname].dtype == \"object\"]\n    values = {}\n    for a in cat_cols:\n        values[a] = 'UNKOWN'\n\n    for a in num_cols:\n        values[a] = df[a].median()\n        \n    df.fillna(value=values,inplace=True)\n    \n    \nHandleMissingValues(data)\ndata.head()","c8de5865":"#check for NaN values\ndata.isnull().sum().sum()","313b0871":"# pass the DataFrame and percentage\ndef dropDataMissingColumns(df,percentage):\n    print(\"Dropping columns where more than {}% values are Missing..\".format(percentage))\n    nan_percentage = df.isnull().sum().sort_values(ascending=False) \/ df.shape[0]\n    missing_val = nan_percentage[nan_percentage > 0]\n    to_drop = missing_val[missing_val > percentage\/100].index.values\n    df.drop(to_drop, axis=1, inplace=True)","f561c2fd":"def dropTargetMissingRows(df,target):\n    print(\"Dropping Rows where Target is Missing..\")\n    df.dropna(axis=0, subset=[target], inplace=True)","f8e62675":"def logistic(X,y):\n    X_train,X_test,y_train,y_test=train_test_split(X,y,random_state=42,test_size=0.2)\n    lr=LogisticRegression()\n    lr.fit(X_train,y_train)\n    y_pre=lr.predict(X_test)\n    print('Accuracy : ',accuracy_score(y_test,y_pre))","53527ce9":"series = data['Fare']\nd = {series.name : series}\ndf = pd.DataFrame(d) \ndf.head()","a8d29f74":"PassengerClass = data['Pclass'].astype('category')\nPassengerClass.describe()","b0f80c2e":"# checks whether df contatins null values or object columns\ndef checkDataBeforeTraining(df):\n    if(df.isnull().sum().sum() != 0):\n        print(\"Error : Null Values Exist in Data\")\n        return False;\n    \n    if(len([cname for cname in df.columns if df[cname].dtype == \"object\"])>0):\n        print(\"Error : Object Columns Exist in Data\")\n        return False;\n    \n    print(\"Data is Ready for Training\")\n    return True;","90cd14ac":"def getTrainX_TrainY(train_df,target):\n    trainY = train_df.loc[:,target]\n    trainX = train_df.drop(target, axis=1)\n    return trainX,trainY","cf10b537":"#impoting required libraries for demo\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom sklearn.datasets import make_regression\nX, y = make_regression(n_samples=500, n_features=4, n_informative=2,random_state=0, shuffle=False)\n\n\n# Subploting lets 2*2 figure with sizes (14*14)\nf,ax=plt.subplots(2,2,figsize=(14,14))\n\n#first plot\nsns.scatterplot(x=X[:,0], y=y, ax=ax[0,0])\nax[0,0].set_xlabel('Feature 1 Values')\nax[0,0].set_ylabel('Y Values')\nax[0,0].set_title('Sactter Plot : Feature 1 vs Y')\n\n#second plot\nsns.scatterplot(x=X[:,1], y=y,ax=ax[0,1])\nax[0,1].set_xlabel('Feature 2 Values')\nax[0,1].set_ylabel('Y Values')\nax[0,1].set_title('Sactter Plot : Feature 2 vs Y')\n\n#Third plot\nsns.scatterplot(x=X[:,2], y=y,ax=ax[1,0])\nax[1,0].set_xlabel('Feature 3 Values')\nax[1,0].set_ylabel('Y Values')\nax[1,0].set_title('Sactter Plot : Feature 3 vs Y')\n\n#Fourth plot\nsns.scatterplot(x=X[:,3], y=y,ax=ax[1,1])\nax[1,1].set_xlabel('Feature 4 Values')\nax[1,1].set_ylabel('Y Values')\nax[1,1].set_title('Sactter Plot : Feature 4 vs Y')\n\nplt.show()","be99ffa9":"#### Get Missing Values Info[^](#GetMissingValuesInfo)<a id=\"GetMissingValuesInfo\" ><\/a><br>","f3ed022c":"#### Check Package Version[^](#CheckPackageVersion)<a id=\"CheckPackageVersion\" ><\/a><br>","6cd9ebb9":"Logistic Regression[^](#LogisticRegression)<a id=\"LogisticRegression\" ><\/a><br>","082c487e":"#### Get feature columns df and target column from training data[^](#getTrainX_TrainY)<a id=\"getTrainX_TrainY\" ><\/a>","b98ecd7b":"# Contents\n\nNote : Please use below links to navigate the note book\n\n1. [Check Package Version](#CheckPackageVersion)\n1. [Ignore Warnings](#IgnoreWarnings)\n1. Pandas Basics\n    1. [Data Read and Peak](#ReadandPeak)\n    1. [Shape, Columns](#ShapeColumns)\n    1. [pandas series to pandas dataframe](#series2df)\n1. [Query Data Type](#QueryDataType)\n1. [Columns With Missing Values as a List](#ColumnsWithMissingValues)\n1. [Columns of object Data Type (Categorical Columns) as a List](#CatColumns)\n1. [Columns that Contain Numeric Values as a List](#NumColumns)\n1. [Categorical Columns with Cardinality less than N](#CatColsCar)\n1. [Count of Unique Values in a Column](#UniqueCount)\n1. [Select Columns Based on Data Types](#DTypeColSelect)\n1. [Check whether data is ready for training](#checkDataBeforeTraining)\n1. [Subplotting in Notebooks](#SublottinginNotebooks)\n1. Tools to Deal with Missing Values\n    1. [Get Missing Values Info](#GetMissingValuesInfo)\n    1. [Fill missing values](#FillMissingValues)\n    1. [Drop columns where data is missing more than x%](#dropDataMissingColumns)\n    1. [Columns With Missing Values as a List](#ColumnsWithMissingValues)\n1. Feature Engineering\n    1. [Drop rows where target is missing](#dropTargetMissingRows)\n    1. [OneHot Encode the Dataframe](#OneHotEncode)\n    1. [Convert categorical columns in numerical dtype to object type](#Convertnumericalcategoricalobject)\n    1. [Select Columns Based on Data Types](#DTypeColSelect)\n    1. [Get feature columns df and target column from training data](#getTrainX_TrainY)\n1. Modelling\n    1. [Logistic Regression](#LogisticRegression)","1455518d":"#### Columns With Missing Values as a List[^](#ColumnsWithMissingValues)<a id=\"ColumnsWithMissingValues\" ><\/a><br>","d52ce1dd":"#### Categorical Columns with Cardinality less than N[^](#CatColsCar)<a id=\"CatColsCar\" ><\/a><br>","157f96e6":"#### pandas series to pandas dataframe[^](#series2df)<a id=\"series2df\" ><\/a><br>","b7002bc9":"#### Query Data Type[^](#QueryDataType)<a id=\"QueryDataType\" ><\/a><br>","a0a7017f":"#### Shape, Columns[^](#ShapeColumns)<a id=\"ShapeColumns\" ><\/a><br>","d47f7d6a":"# Pandas Tips & Tricks & More\n\n### Hello Kaggler!\n### <span style=\"color:PURPLE\">Objective of this kernal is to demonstrate most commonly used<\/span> <span style=\"color:red\">Pandas Tips & Tricks and More<\/span> .","20c48856":"#### Ignore Warnings[^](#IgnoreWarnings)<a id=\"IgnoreWarnings\" ><\/a><br>","a1662864":"#### Columns of object Data Type (Categorical Columns) as a List[^](#CatColumns)<a id=\"CatColumns\" ><\/a><br>","688d3039":"#### Select Columns Based on Data Types[^](#DTypeColSelect)<a id=\"DTypeColSelect\" ><\/a><br>","b36cf1a7":"#### Check whether data is ready for training[^](#checkDataBeforeTraining)<a id=\"checkDataBeforeTraining\" ><\/a>","b4e3ab6e":"#### Convert categorical columns in numerical dtype to object type[^](#Convertnumericalcategoricalobject)<a id=\"Convertnumericalcategoricalobject\" ><\/a><br>\n\nSometimes categorical columns comes in numerical data types. This is the case for all most all ordinal columns. If not converted to 'category' descriptive statistic summary does not makes sense.","98cc5cfb":"#### Drop columns where data is missing more than x%[^](#dropDataMissingColumns)<a id=\"dropDataMissingColumns\" ><\/a><br>","0471ae2a":"#### Count of Unique Values in a Column[^](#UniqueCount)<a id=\"UniqueCount\" ><\/a><br>","068dabb2":"#### Drop rows where target is missing[^](#dropTargetMissingRows)<a id=\"dropTargetMissingRows\" ><\/a><br>","6002a089":"#### Fill missing values[^](#FillMissingValues)<a id=\"FillMissingValues\" ><\/a><br>","7dd8537d":"#### OneHot Encode the Dataframe[^](#OneHotEncode)<a id=\"OneHotEncode\" ><\/a><br>","94e04ae8":"### Data Read and Peak [^](#ReadandPeak)<a id=\"ReadandPeak\" ><\/a><br>","bdcb3450":"#### Subplotting in Notebooks[^](#SublottinginNotebooks)<a id=\"SublottinginNotebooks\" ><\/a>","8d51d49b":"#### Columns that Contain Numeric Values as a List[^](#NumColumns)<a id=\"NumColumns\" ><\/a><br>"}}