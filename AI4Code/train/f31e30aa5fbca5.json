{"cell_type":{"499ec0c4":"code","c6b52845":"code","50d351b4":"code","9aef97ea":"code","84ff15b3":"code","b9492438":"code","201e8dbb":"code","ce979852":"code","30907058":"code","bccdf592":"code","62f07f68":"code","ed2355a8":"code","ab33e97c":"code","b7629f90":"markdown","b25a4b55":"markdown","b8293857":"markdown","626a4cee":"markdown","2faced78":"markdown","1c7ddc67":"markdown","b50c9d02":"markdown","04962606":"markdown","cbe6e5fa":"markdown","6e968296":"markdown","7785e8ba":"markdown"},"source":{"499ec0c4":"# import libs\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom IPython.display import Markdown, display\n%matplotlib inline\n\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\ninit_notebook_mode(connected=True)\nimport cufflinks as cf\ncf.go_offline()\n\nimport plotly.express as px\nimport plotly.graph_objects as go\n\n# Load covid_19_india\ncovid_19_india_df = pd.read_csv('..\/input\/covid19-in-india\/covid_19_india.csv', index_col='Sno')\n\ncovid_19_india_df.Date = pd.to_datetime(covid_19_india_df.Date, format='%d\/%m\/%y')\ncovid_19_india_df = covid_19_india_df.dropna()","c6b52845":"date_table = covid_19_india_df.groupby(['Date', 'State\/UnionTerritory']).sum().reset_index().set_index('Date')\ntotal = date_table.loc[date_table.last_valid_index()].sum()\nconfirmed_count = int(total.Confirmed)\ndeath_count = int(total.Deaths)\ncured_count = int(total.Cured)\n\nhtml_template = \"<span style='color:{}; font-size:1.4em;'>{}<\/span>\"\ncured = html_template.format('green', 'Cured - '+str(cured_count))    \nconfirmed = html_template.format('blue', 'Confirmed cases - '+str(confirmed_count))    \ndeaths = html_template.format('red', 'Deaths - '+str(death_count))\n\ndisplay(Markdown(html_template.format('black', 'Summary :')))\ndisplay(Markdown(cured))\ndisplay(Markdown(confirmed))\ndisplay(Markdown(deaths))","50d351b4":"today_states = date_table.loc[date_table.last_valid_index()].reset_index()\nmax_confrim = today_states[today_states.Confirmed == today_states.Confirmed.max()]\nmax_deaths = today_states[today_states.Deaths == today_states.Deaths.max()]\nmax_cured = today_states[today_states.Cured == today_states.Cured.max()]\n\ndisplay(Markdown(html_template.format('black', 'States summary :')))\ndisplay(Markdown(html_template.format('DodgerBlue','Maximum confirmed cases - '+ str(max_confrim.Confirmed.iloc[0]) + ', '+max_confrim['State\/UnionTerritory'].iloc[0])))\ndisplay(Markdown(html_template.format('MediumSeaGreen','Maximum cured - '+ str(max_cured.Cured.iloc[0]) + ', '+max_cured['State\/UnionTerritory'].iloc[0])))\ndisplay(Markdown(html_template.format('Tomato','Maximum deaths - '+ str(max_deaths.Deaths.iloc[0]) + ', '+max_deaths['State\/UnionTerritory'].iloc[0])))","9aef97ea":"date_group = covid_19_india_df.groupby(['Date']).sum()\ndate_group.reset_index(inplace=True)\n\ndate_group.sort_values('Date',inplace=True)\n\nfrom plotly.subplots import make_subplots\nfig = make_subplots(rows=1, cols=3, shared_yaxes=True,\n                    subplot_titles=(\"Total deaths - \" + str(death_count),\"Total confirmed - \" + str(confirmed_count),\n                                    \"Total cured - \" + str(cured_count)))\n\n# Create and style traces\nfig.add_trace(go.Scatter(x=date_group.Date, y=date_group.Deaths, name='Deaths',\n                         line=dict(color='firebrick', width=1), mode='lines+markers'), row=1, col=1)\nfig.add_trace(go.Scatter(x=date_group.Date, y=date_group.Confirmed, name = 'Confirmed',\n                         line=dict(color='royalblue', width=1), mode='lines+markers',), row=1, col=2)\nfig.add_trace(go.Scatter(x=date_group.Date, y=date_group.Cured, name='Cured',\n                         line=dict(color='green', width=1), mode='lines+markers',), row=1, col=3)\n\nfig.update_layout(\n    title=\"All Cases\",\n    xaxis_title=\"Date\",\n    yaxis_title=\"Count\",\n    font=dict(\n        family=\"Courier New, monospace\",\n        size=18,\n        color=\"black\"\n    )\n)\n\nfig.update_xaxes(ticks=\"inside\")\nfig.update_yaxes(ticks=\"inside\", col=1)\n\nfig.show()\n\n","84ff15b3":"fig = go.Figure(data=[\n    go.Bar(name='Confirmed', x=date_group.Date, y=date_group.Confirmed, marker_color='green'),\n    go.Bar(name='Deaths', x=date_group.Date, y=date_group.Deaths, marker_color='firebrick'),\n    go.Bar(name='Cured', x=date_group.Date, y=date_group.Cured, marker_color='royalblue')\n])\n# Change the bar mode\nfig.update_layout(autosize=False,\n    width=1000,\n    height=750,\n    title=\"All Cases\",\n    xaxis_title=\"Date\",\n    yaxis_title=\"Count\",\n    barmode='relative',\n    font=dict(\n        family=\"Courier New, monospace\",\n        size=18,\n        color=\"black\"\n    ))\nfig.show()","b9492438":"\n\nimport plotly.express as px\nfig = px.bar(date_group, x='Date', y='Confirmed', color='Confirmed', color_continuous_scale=px.colors.sequential.Viridis)\n\nfig.update_layout(\n    title=\"Confirmed cases\",    \n    font=dict(\n        family=\"Courier New, monospace\",\n        size=18,\n        color=\"black\"\n    )\n)\n\nfig.show()","201e8dbb":"fig = px.bar(date_group, x='Date', y='Deaths', color='Deaths', color_continuous_scale=px.colors.sequential.Viridis)\n\nfig.update_layout(\n    title=\"Deaths\",    \n    font=dict(\n        family=\"Courier New, monospace\",\n        size=18,\n        color=\"black\"\n    )\n)\n\nfig.show()","ce979852":"fig = px.bar(date_group, x='Date', y='Cured', color='Cured', color_continuous_scale=px.colors.sequential.Viridis)\n\nfig.update_layout(\n    title=\"Cured\",    \n    font=dict(\n        family=\"Courier New, monospace\",\n        size=18,\n        color=\"black\"\n    )\n)\n\nfig.show()","30907058":"fig = go.Figure(data=[\n    go.Bar(name='Confirmed', x=date_table.loc[date_table.last_valid_index()]['State\/UnionTerritory'], y=date_table.loc[date_table.last_valid_index()].Confirmed, marker_color='green'),\n    go.Bar(name='Deaths', x=date_table.loc[date_table.last_valid_index()]['State\/UnionTerritory'], y=date_table.loc[date_table.last_valid_index()].Deaths, marker_color='firebrick'),\n    go.Bar(name='Cured', x=date_table.loc[date_table.last_valid_index()]['State\/UnionTerritory'], y=date_table.loc[date_table.last_valid_index()].Cured, marker_color='royalblue')\n])\n# Change the bar mode\nfig.update_layout(\n    autosize=False,\n    width=1000,\n    height=750,\n    title=\"State wise cases\",\n    xaxis_title=\"State\",\n    yaxis_title=\"Count\",\n    barmode='stack',\n    )\nfig.show()","bccdf592":"fig = px.pie(date_table.loc[date_table.last_valid_index()], values='Confirmed', names='State\/UnionTerritory', title='Confirmed cases')\nfig.update_layout(\n    autosize=False,\n    width=900,\n    height=650)\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()","62f07f68":"fig = px.pie(date_table.loc[date_table.last_valid_index()], values='Deaths', names='State\/UnionTerritory', title='Deaths')\nfig.update_layout(\n    autosize=False,\n    width=900,\n    height=650,\n    )\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()","ed2355a8":"fig = px.pie(date_table.loc[date_table.last_valid_index()], values='Cured', names='State\/UnionTerritory', title='Cured')\nfig.update_layout(\n    autosize=False,\n    width=900,\n    height=650)\nfig.update_traces(textposition='inside', textinfo='percent+label')\nfig.show()","ab33e97c":"dummy = pd.DataFrame()\n\ndummy['State'] = covid_19_india_df['State\/UnionTerritory'].unique()\n\n#colors = sns.dark_palette(\"purple\", 33).as_hex()\n#colors = sns.diverging_palette(250, 15, s=75, l=40, n=33, center=\"dark\").as_hex()\n#colors = sns.color_palette(\"Blues_d\", 33).as_hex()\ncolors =sns.color_palette(\"viridis\", 33).as_hex()\n\ndef animate_bar_chart():\n    frames = []\n    grouped = covid_19_india_df[covid_19_india_df['Date'] > '2020\/03'][['Date', 'State\/UnionTerritory', 'Confirmed', 'Deaths', 'Cured']].groupby(['Date'])    \n    for name, group in iter(grouped):\n        merged = pd.merge(group, dummy, how='outer', left_on='State\/UnionTerritory', right_on='State')        \n        merged.fillna(0, inplace=True)\n        merged.sort_values('State', inplace=True)\n        frames.append(go.Frame(data = [go.Bar(x = merged['State'].tolist(), y=merged['Confirmed'].tolist(), marker_color=colors)], \n                              layout=go.Layout(title='Confirmed cases - '+group.Date.iloc[0].strftime('%Y-%m-%d'))))\n    \n    fig = go.Figure(\n        data = [go.Bar(x = merged['State'].tolist(), y = [0] * len(merged['State'].tolist()))],\n        frames=frames, \n        layout=go.Layout(\n            width=1000,\n            height=750,\n            xaxis=dict(type='category'),\n            yaxis=dict(range=[0, 10000000], autorange=False),            \n            title=\"Confirmed cases\",\n            xaxis_title=\"State\",\n            yaxis_title=\"Count\",\n            updatemenus=[dict(\n                type=\"buttons\",\n                buttons=[dict(label=\"Play\",\n                              method=\"animate\",\n                              args=[None])])]))\n    fig.show()\n                                       \n                                       \n\nanimate_bar_chart()","b7629f90":"## Cured pie chart","b25a4b55":"# All cases","b8293857":"# State wise trend","626a4cee":"## Deaths pie chart","2faced78":"# Deaths","1c7ddc67":"# Confirmed cases","b50c9d02":"# Cured","04962606":"## State wise confirmed cases animation","cbe6e5fa":"## Confirmed cases pie chart","6e968296":"# Description\n\nCoronavirus disease (COVID-19) is an infectious disease caused by a newly discovered coronavirus.\nMost people who fall sick with COVID-19 will experience mild to moderate symptoms and recover without special treatment.\nHow it spreads\nThe virus that causes COVID-19 is mainly transmitted through droplets generated when an infected person coughs, sneezes, or exhales. These droplets are too heavy to hang in the air, and quickly fall on floors or surfaces.\nYou can be infected by breathing in the virus if you are within close proximity of someone who has COVID-19, or by touching a contaminated surface and then your eyes, nose or mouth.\n\nSource https:\/\/www.who.int\/emergencies\/diseases\/novel-coronavirus-2019","7785e8ba":"# Covid-19 India Visualization and Animation"}}