{"cell_type":{"9f2c8e7e":"code","39f01437":"code","eadaa83b":"code","f3f26a1f":"code","675eb609":"code","9fa42c5e":"code","ac71de25":"markdown","a7dfd099":"markdown","c0bd8d4a":"markdown","23253e9b":"markdown","65329731":"markdown","113610c5":"markdown"},"source":{"9f2c8e7e":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\nfrom bokeh.transform import jitter,factor_cmap\nfrom bokeh.plotting import figure,show, output_notebook\nfrom bokeh.palettes import Category20\nfrom bokeh.models import ColumnDataSource\nfrom bokeh.models import HoverTool\n\nimport chartify\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files \n#in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","39f01437":"df=pd.read_csv(\"..\/input\/NBA_player_of_the_week.csv\")\ndf.head()","eadaa83b":"for var in [\"Age\",\"Seasons in league\"]:\n    ch=chartify.Chart(blank_labels=True,y_axis_type=\"density\",layout=\"slide_100%\")\n    hist=ch.plot.histogram(df,values_column=var,method=\"density\",bins=len(df[var].unique()))\n    \n    ch.style.color_palette.reset_palette_order()\n    \n    kde=ch.plot.kde(df,values_column=var)\n    \n    ch.figure.plot_width=800\n\n    ch.figure.renderers[-1].glyph.fill_alpha=0.1\n\n    ch.set_subtitle(f\"Player of the Week - {var} distribution\")\n    ch.axes.set_xaxis_label(var)\n    ch.axes.set_yaxis_label(\"Prob. density\")\n\n    ch.show()\n    ","f3f26a1f":"dfkum=df.groupby(\"Season short\")[\"Age\"].mean().to_frame().reset_index()\n\nch=chartify.Chart(blank_labels=True,x_axis_type=\"linear\",y_axis_type=\"linear\",layout=\"slide_100%\")\nch.plot.line(dfkum,x_column=\"Season short\",y_column=\"Age\")\nch.figure.plot_width=800\nch.set_subtitle(\"Player of the Week - Mean Age per Season\")\n\nch.axes.set_xaxis_tick_format(\"0\")\nch.axes.set_xaxis_label=\"Season\"\n\nch.figure.ygrid.grid_line_color=\"lightgrey\"\nch.axes.set_yaxis_range(start=0,end=40)\nch.axes.set_yaxis_label=\"Mean Age\"\n\nch.show()","675eb609":"dfkum=df.groupby(\"Player\").agg({\"Real_value\":\"sum\"})\\\n        .sort_values(\"Real_value\",ascending=False).head(20).reset_index()\ndfkum[\"label\"]=dfkum[\"Real_value\"].astype(int)\n\nch=chartify.Chart(blank_labels=True,y_axis_type=\"categorical\",layout=\"slide_100%\")\nch.plot.bar(dfkum,categorical_columns=\"Player\",numeric_column=\"Real_value\",\n            color_column=\"Player\",categorical_order_ascending=True,)\n\nch.plot.text(dfkum,categorical_columns=\"Player\",numeric_column=\"Real_value\",\n             text_column=\"label\",categorical_order_ascending=True,font_size=\"13px\",\n             x_offset=-30,y_offset=1)\nch.figure.renderers[-1].glyph.text_color=\"white\"\n\nch.figure.plot_width=800; ch.figure.plot_height=800\nch.set_subtitle(\"Player of the Week - Leaderboard (Top 20)\")\nch.figure.xaxis.fixed_location=25\nch.figure.xaxis.visible=False\n\nfor i in [10,20,30]:\n    ch.callout.line(location=i,orientation=\"height\",line_color=\"white\",\n                    line_dash=\"dashed\",line_width=1)\nch.show()","9fa42c5e":"dftemp=df.groupby([\"Player\",\"Position\"])[\"Real_value\"].sum().reset_index()\nsource=ColumnDataSource(data=dftemp)\n\ncmapper=factor_cmap(\"Position\",palette=Category20[11],factors=dftemp[\"Position\"].unique())\nhover=HoverTool(tooltips=[(\"Player\",\"@Player\"),])\n\np=figure(y_range=dftemp[\"Position\"].unique(),width=800,height=800,tools=[hover])\np.scatter(x=\"Real_value\",y=jitter('Position', width=0.5, range=p.y_range),source=source,size=10,alpha=0.7,\n          fill_color=cmapper,color=cmapper)\n\np.title.text=\"Player of the Week - Scatterplot (+Hover-Demo)\"\np.title.text_font_size=\"16px\"\n\np.xaxis.axis_label=\"Number of times Player of the Week\"\np.yaxis.axis_label=\"Position\"\np.ygrid.grid_line_color=None\n\nshow(p)","ac71de25":"## Line Charts","a7dfd099":"## Bar Charts","c0bd8d4a":"# Preparations","23253e9b":"## Scatterplots","65329731":"# Charts","113610c5":"## Histograms "}}