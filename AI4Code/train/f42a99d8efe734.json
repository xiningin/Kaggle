{"cell_type":{"5c477eae":"code","7f986e9d":"code","8c2ab70f":"code","11da4ea3":"code","2cc609f1":"code","a09843fd":"code","8ea8e19b":"code","7dc638fb":"code","56da08e7":"code","5a77b47d":"code","2144ce3c":"code","3e71154a":"code","e9239b35":"code","b966b7e6":"code","71d1e116":"code","aed0c532":"code","ab34b302":"code","15622287":"code","92bb5ec2":"code","d46dffb5":"code","a5c34175":"code","c0de9b66":"code","a7026d92":"code","1bd88277":"markdown","502a0e36":"markdown","1af119dc":"markdown","fa3180e3":"markdown","f26337b0":"markdown","546731d6":"markdown","b494c172":"markdown","9bf36175":"markdown"},"source":{"5c477eae":"# Importing necessary libraries\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom pandas_profiling import ProfileReport\n\nprint(\"Imported necessary libraries.\")","7f986e9d":"DATASET_PATH = \"..\/input\/us-juvenile-arrests-by-crime\/arrests_national_juvenile.csv\"\n# Importing dataset into pandas dataframe\njvc_df = pd.read_csv(DATASET_PATH)\njvc_df.head()","8c2ab70f":"# Let's start cleaning the data\n# Let's get the description of data\njvc_df.info()","11da4ea3":"# From the above description, we have to remove state_abbr column as it doesn't even have a single not-null value\n# Dropping unwanted columns\njvc_df = jvc_df.drop('state_abbr', axis=1)\njvc_df.columns","2cc609f1":"# Now that the state_abbr column is removed, let's handle the other Nan values\njvc_df.isna().sum()","a09843fd":"jvc_df.head()","8ea8e19b":"# Short summary of the data\njvc_df.describe()","7dc638fb":"# Let's sort the dataset by year\njvc_df1 = jvc_df.sort_values(\"year\")\njvc_df1.head()","56da08e7":"jvc_df1.offense_code.value_counts()","5a77b47d":"# Now, we have to handle the na values. We can either drop rows with na values or fill then with approx value\n# As this dataset is very small, we can't afford losing that much data (almost 96 rows). So let's fill\n# The na values with previous year value\n\n# For that we have to follow the step\n\n# 1. Sort the row by offense_code\n# 2. use fillna in backfill mode to fill them with previous year values\n\n#     OR\n\n# 1. Simply fill them with mean of the data\n\n# Let's move with bfill method\njvc_df2 = jvc_df1.sort_values(\"offense_code\").fillna(method='bfill')\n\n# Reseting the index of dataframe\njvc_df2.reset_index(inplace=True)","2144ce3c":"# We forgot something! We just reseted the index and haven't dropped the old index\n# PS: we forgot to remove the unwanted id column, let's do it.\njvc_df3 = jvc_df2.drop([\"id\", \"index\"], axis=1)","3e71154a":"# Now, it's perfect. Let's take a look at the first 5 rows of dataframe\njvc_df3.head()","e9239b35":"# Neat and clean! Now let's get into EDA. This time, no excuses!!\n\n# Let's take a look at the various offense_names\nprint(\"Various crimes: \", jvc_df3[\"offense_name\"].unique())\nprint(\"Total number of various crimes: \", jvc_df3[\"offense_name\"].nunique())","b966b7e6":"# Hmm, there are 30 different crime categories. Let's take a look total males and females getting into crimes with respect to year\n# Let's plot a lineplot.\nmale_in_crime = jvc_df3.groupby(\"year\")[\"total_male\"].agg([np.sum])\nfemale_in_crime = jvc_df3.groupby(\"year\")[\"total_female\"].agg([np.sum])\n\n%matplotlib inline\n\nplt.figure(figsize=(10, 6))\nsns.set_style('darkgrid')\nsns.set_context('notebook', font_scale=1.05)\n\nplt.title(\"Crime Trend: Male and Female\")\nsns.lineplot(x=male_in_crime.index, y=male_in_crime[\"sum\"], label=\"Male\", color='#eb3734')\nsns.lineplot(x=female_in_crime.index, y=female_in_crime[\"sum\"], label=\"Female\", color=\"#3452eb\")\nplt.xlabel(\"Year\")\nplt.ylabel(\"Count\")\nplt.legend()","71d1e116":"# Wow, that's a down trend. The total number of male and female under 17 involved in crime is getting low\n# That's good. Juveniles involving in crime is decresing!!!\n\n# Now let's check in what crime both sex invoves the most\ncrime_involves_male_the_most = jvc_df3.groupby(by=[\"offense_name\", \"year\"])[\"total_male\"].sum().groupby('offense_name').max().sort_values(ascending=False)\ncrime_involves_female_the_most = jvc_df3.groupby(by=[\"offense_name\", \"year\"])[\"total_female\"].sum().groupby('offense_name').max().sort_values(ascending=False)\n\nplt.figure(figsize=(8, 10))\nsns.barplot(y=crime_involves_male_the_most.index, x=crime_involves_male_the_most, color='#eb3734', label=\"Male\", alpha=0.5)\nsns.barplot(y=crime_involves_female_the_most.index, x=crime_involves_female_the_most, color='#3452eb', label=\"Female\", alpha=0.5)\nplt.xlabel(\"Number of crimes commited\")\nplt.legend()\nplt.show()","aed0c532":"# This barplot shows that Most common offences are Larency, Runaway, Simple assault and all other stuff.\n# So suprised to see that Manslaughter, Rape and Gambilng are very low(Juveniles Ha!).\n\n# Let's analyse crime that juveniles belonging to different races does\n# We have white, black, asian_pacific_islander and american_indians.\n\njvc_df_race = jvc_df3.drop([\"m_0_9\", \"f_0_9\", \"m_10_12\", \"f_10_12\", \"m_13_14\", \"f_13_14\", \"f_15\", \"m_15\", \"m_16\", \"f_16\", \"m_17\", \"f_17\"], axis=1)\njvc_df_race.head()","ab34b302":"# Let's plot the number of juveniles involoved in crime with respect to their race\n\nrace_data = jvc_df_race.groupby(\"year\")[[\"white\", \"black\", \"asian_pacific_islander\", \"american_indian\", \"total_male\", \"total_female\"]].sum()\nrace_data[\"total_juvenile_in_crime\"] = race_data[\"total_male\"] +  race_data[\"total_female\"]\nrace_data.head()","15622287":"sns.set_style('whitegrid')\nsns.set_context('notebook', 1.05)\nplt.figure(figsize=(10, 8))\ncolors = [\"#cf1d4c\", \"#ffc000\", \"#1d38cf\", \"#1dcf35\"]\nfor idx, race in enumerate(race_data.drop([\"total_juvenile_in_crime\", \"total_male\", \"total_female\"], axis=1)\/100):\n    sns.lineplot(x=race_data.index, y=(race_data.drop([\"total_juvenile_in_crime\", \"total_male\", \"total_female\"], axis=1)\/100)[race], label=race, color=colors[idx])\nplt.xlabel(\"Year\")\nplt.ylabel(\"Crime count\")\nplt.title(\"Crime count commited by different through years (Divided by 100)\")","92bb5ec2":"# This plot shows that at the beginning there we almost double white juvenile cases as compared to black juvenile cases\n# But both of them have dropped drastically, which is awesome.\n# The other two races,  asian_pacific_islander and american_indians, are relatively low in number as compared to juveniles from black and white race.\n# It's because, Asian Parents, DUH\ud83d\ude02\ud83d\ude02\n\n# Now let's explore juvenille cases on different age_groups. I believe we will find something interesting there.\n# Let's create a new dataframe with features we need.\njvc_df_age = jvc_df3.drop([\"population\",\"offense_code\", \"race_agencies\", \"race_population\", \"white\", \"black\", \"asian_pacific_islander\", \"american_indian\", \"agencies\"], axis=1)\njvc_df_age.head()","d46dffb5":"# Now that we dropped unwanted columns and created new dataframe with columns that we want, let's jump into Analysis\n\n# First let's look at the age group of both males and female and observe the trend on number of juvenile cases per year\n# Let's plot them using line plot\n\n# jvc_df_age_15_16_17 = \njvc_df_age.groupby(\"year\").sum().drop([\"total_male\", \"total_female\"], axis=1).plot(kind=\"line\", xlabel=\"Year\", ylabel=\"Number of juveniles involved in crime\", title=\"Juveniles involved in crime by year\")","a5c34175":"# Holy cow! That visualization look like scrap. Let's divide the data into groups and visulize it in much better way.\njvc_df_age_grouped = jvc_df_age.groupby(\"year\").sum().drop([\"total_male\", \"total_female\"], axis=1)\n\njvc_age_0_9 = jvc_df_age_grouped[[\"m_0_9\", \"f_0_9\"]]\njvc_age_10_12 = jvc_df_age_grouped[[\"m_10_12\", \"f_10_12\"]]\njvc_age_13_14 = jvc_df_age_grouped[[\"m_13_14\", \"f_13_14\"]]\njvc_age_15 = jvc_df_age_grouped[[\"m_15\", \"f_15\"]]\njvc_age_16 = jvc_df_age_grouped[[\"m_16\", \"f_16\"]]\njvc_age_17 = jvc_df_age_grouped[[\"m_17\", \"f_17\"]]","c0de9b66":"# Let's plot the data that we just divided by age group. This time, let's use multiple plot or subplots!!\n# age_grouped_dfs =[jvc_age_0_9, jvc_age_10_12, jvc_age_13_14, jvc_age_15, jvc_age_16, jvc_age_17]\n\n# Create a new figure object for subplots\nfig, axarr = plt.subplots(2, 3, figsize=(18, 12))\nfig.tight_layout(pad=4.0)\nfig.suptitle(\"Juveniles and Number of crime done by year\", fontsize=25)\n# Plotting each df manually, you can us a loop to automate this. But for now let's keep it simple\njvc_age_0_9.plot(kind=\"line\", ax=axarr[0, 0], xlabel=\"Year\",ylabel=\"Number of Juveniles\", title=\"Age group 0-9\")\njvc_age_10_12.plot(kind=\"line\", ax=axarr[0, 1], xlabel=\"Year\",ylabel=\"Number of Juveniles\", title=\"Age group 10-12\")\njvc_age_13_14.plot(kind=\"line\", ax=axarr[0, 2], xlabel=\"Year\",ylabel=\"Number of Juveniles\", title=\"Age group 13-14\")\njvc_age_15.plot(kind=\"line\", ax=axarr[1, 0], xlabel=\"Year\",ylabel=\"Number of Juveniles\", title=\"Age group 15\")\njvc_age_16.plot(kind=\"line\", ax=axarr[1, 1], xlabel=\"Year\",ylabel=\"Number of Juveniles\", title=\"Age group 16\")\njvc_age_17.plot(kind=\"line\", ax=axarr[1, 2], xlabel=\"Year\",ylabel=\"Number of Juveniles\", title=\"Age group 17\")\nplt.show()","a7026d92":"# Now it's much better. The visualization is clean and we can see trends clearly.\n# All age group shows a down trend which is actually good. Number of crimes done by juveniles are getting low\n# But why and how? Maybe better education? Food? Educated parents? Support from family?\n# Commment down you opinion below \ud83d\ude42\n\n# Last and final, let's take a look at what kinda crime juveniles get into most through out these years by visualizing the data\n# jvc_df3.groupby([\"offense_name\", \"year\"]).max()[[\"m_0_9\", \"m_10_12\", ]].idxmax()\n\nage_group_columns = [\"m_0_9\", \"m_10_12\", \"m_13_14\", \"m_15\", \"m_16\", \"m_17\", \"f_0_9\", \"f_10_12\", \"f_13_14\", \"f_15\", \"f_16\", \"f_17\"]\njvc_df3.groupby([\"year\", \"offense_name\"])[age_group_columns].sum().idxmax()","1bd88277":"# In the end\nOnce again, this is my first notebook. The might be alot of mistakes. I believe you guys will spot them and comment down below. Lemme know whether there's anything that I can do to make my notebooks better. Please Upvote my notebook if you like the way I represented it. Connect with me on [LinkedIn](https:\/\/www.linkedin.com\/in\/muhammed-rajab\/).","502a0e36":"# Summary\n\n* Juvenile crimes were at peak during 1994 and 2000\n* Throughout these year, we can see that number of juvenile crime is decreasing\n* Juveniles who belongs to white race did approx 2x crime committed by juvenile belongs to black race (Number are influenced by population)\n* Larency and Runaway are most popular among juveniles\n* Age group of 0-9 did least number of crimes and generally males are involved in crime more than females\n* Throughout the years, crimes committed by juveniles are decreasing but Age group of 13-17 had a little rise in committing crimes during 2005-2010, does this has anything to do with Great Recession in 2008? i don't know? search for that on the internet.\n* Rape, Gambling and Manslaughtering are rare among the crimes.\n* The decreasing crime is a green flag. Maybe the are getting good education and care so that they don't have to get into bad things to earn money.\n\n# What I realised from this data?\n**In most of the webseries\/movies I watched, Black juveniles commits more crime as compared to White juveniles. But this data show that that's wrong. Also in these series and movies, they show heavy usage of drugs and selling of drugs, but suprisingly, juveniles arrested by drug related crimes are low as compared to Larency and Runaway. Which also changed my thought about US Juveniles.**\n\n# What do you think? Did I made any mistake? What you think about the data and the insights?\n**Comment down below\ud83d\ude03**","1af119dc":"### Now, our data is ready for Analysis.\n### We have filled the na values using bfill and dropped unwanted columns.\n### Now, let's jump straight into EDA and Questions!!!!","fa3180e3":"### Before Diving deep into the data\n##### Let's take a loolk at what the column means\n\n> This dataset contains information on the number of juvenile arrests in the US per crime category for each year between 1995 and 2016. The number of arrests is further broken down by sex, age group, and race for each crime category. This data is collected by the FBI as part of the Uniform Crime Reporting Program.\n\n**Columns**\n* state_abbr: State Abbreviations\n\n**All the others are self-explanatory**\n\nSource: [Kaggle US Juvenile Arrest By Crime](https:\/\/www.kaggle.com\/tjkyner\/us-juvenile-arrests-by-crime)","f26337b0":"#### The table above shows the max crime commmited by each juvenile group through out year\n\n#### From this table we can see that juveniles engage more on Larency, Runaway and all other offenses.\n#### Now Our EDA is over. Let's get into Summary and Questions part.","546731d6":"## Data Planing\n\n1. **Cleaning**\n2. **Analysing**\n3. **Visualising**\n4. **Answering**","b494c172":"# Juveniles and Crimes | What the Heck is going on?\n##### Let's explore what the data says.\n\n**PS: This is my first kaggle notebook. I'm new to this field. Your feedback is very valuable and it will keep motivating me to come forward with new notebooks. If you find any mistake, please comment down below. If you found this notebook useful, then don't forget to give an Upvote.**\n\n> Throughout this notebook, I've used the word crime and offence interchangeably\n#### 1 Upvote = 1x10<sup>100<\/sup> support","9bf36175":"# It's Question time!!!\n**Let's answer some question and know what you learned from this data and how we can improve lives.**\n\n1. In you opinion, what are the reasons for rapid decrease in juvenile in crime?\n2. Is there anything you can suggest the Govt. to bring and end to these crimes?\n3. What do you think about movies and web series framing black kids as criminals?\n4. On scale of 0 to 10, how much are you gonna rate my notebook\ud83e\udd14\ud83e\udd14\ud83e\udd14?"}}