{"cell_type":{"ec4d25d6":"code","969ec4f4":"code","281496ac":"code","abf88bec":"code","b1af0615":"code","fe1eb87b":"code","99782c21":"code","4d9183c4":"code","416450e1":"code","a12b86d2":"code","9aaea62b":"code","945c2449":"code","65185578":"code","11f959de":"code","9eafc02b":"code","e26298a4":"code","8be9600f":"code","b537dd08":"code","7d834d44":"markdown","a309b434":"markdown","05971dd5":"markdown","a6bbb39c":"markdown","6cd31961":"markdown","da602f52":"markdown","91f43955":"markdown","2ef0f262":"markdown"},"source":{"ec4d25d6":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom datetime import datetime\nimport os\n","969ec4f4":"for dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n        \ndata=pd.read_csv('\/kaggle\/input\/cycling\/cycling.csv')\ndata.head(5)\n","281496ac":"\n##--------Data Formatting------------------## \n\ndata[\"Date\"]=pd.to_datetime(data[\"Date\"], format=\"%m\/%d\/%Y %H:%M\")\ndata[\"Calories\"]=data[\"Calories\"].str.replace(\",\",\"\").astype(int)\ndata[\"Avg HR\"]=data[\"Avg HR\"].str.replace(\"--\", \"0\").astype(int)\ndata[\"Max HR\"]=data[\"Max HR\"].str.replace(\"--\", \"0\").astype(int)\ndata[\"Avg Speed\"]=data[\"Avg Speed\"].str.replace(\"--\", \"0\").astype(float)\ndata[\"Max Speed\"]=data[\"Max Speed\"].str.replace(\"--\", \"0\").astype(float)\ndata[\"Elev Gain\"]=data[\"Elev Gain\"].str.replace(\"--\", \"0\").str.replace(\",\",\"\").astype(int)\ndata[\"Elev Loss\"]=data[\"Elev Loss\"].str.replace(\"--\", \"0\").str.replace(\",\",\"\").astype(int)\ndata[\"Avg Bike Cadence\"]=data[\"Avg Bike Cadence\"].str.replace(\"--\", \"0\").astype(int)\ndata[\"Max Bike Cadence\"]=data[\"Max Bike Cadence\"].str.replace(\"--\", \"0\").astype(int)\ndata[\"Normalized Power\"]=data[\"Normalized Power\"].str.replace(\"--\",\"0\").astype(int)\ndata[\"Max Avg Power (20 min)\"]=data[\"Max Avg Power (20 min)\"].str.replace(\"--\",\"0\").astype(int)\ndata[\"Power\"]=data[\"Power\"].str.replace(\"--\",\"0\").astype(int)\ndata[\"Max Power\"]=data[\"Max Power\"].str.replace(\"--\",\"0\").astype(int)\n\n\ndata","abf88bec":"data.isna().sum()","b1af0615":"data.dtypes","fe1eb87b":"pd.options.display.float_format = '{:.2f}'.format\n\ndata.describe()","99782c21":"d, ax1 = plt.subplots(figsize=(11, 9))\ncmap = sns.diverging_palette(230, 20, as_cmap=True)\nsns.set_theme(style=\"white\")\nmask = np.triu(np.ones_like(data.corr(), dtype=bool))\n\n\nsns.heatmap(data.corr(), mask=mask,cmap=cmap,vmax=1, linewidths=0.99, cbar_kws={\"shrink\": .5},annot=True);","4d9183c4":"sns.set_theme()\n\nhard_workout=(data[(data[\"Calories\"]>1000) & (data[\"Avg HR\"]>0)&(data[\"Distance\"]>40)]\n.pivot_table(index=\"Avg HR\",columns=\"Distance\",values=\"Calories\", fill_value=0))\n\nf, ax = plt.subplots(figsize=(15, 8))\nsns.heatmap(hard_workout, annot=True, fmt=\"d\", linewidths=.7, ax=ax);","416450e1":"sns.set_theme(style=\"whitegrid\")\nh,ax2=plt.subplots(figsize=(6.5,6.5))\nsns.despine(h, left=True, bottom=True)\n\nsns.scatterplot(x=data.Distance,y=data.Calories, hue=data[\"Activity Type\"],linewidth=0.04, ax=ax2);","a12b86d2":"sns.lmplot(x=\"Distance\", y=\"Calories\", col=\"Activity Type\", hue=\"Activity Type\", data=data,\n           col_wrap=2, ci=None, palette=\"muted\", height=4,\n           scatter_kws={\"s\": 50, \"alpha\": 1});","9aaea62b":"sns.set_theme(style=\"ticks\")\nh,ax2=plt.subplots(figsize=(6.5,6.5))\nsns.despine(f)\n\nsns.histplot(x=data.Distance,\n             y=data.Calories,\n             multiple=\"stack\",\n             palette=\"light:m_r\",\n             edgecolor=\".9\",\n             linewidth=.5,\n            );","945c2449":"sns.set_theme(style=\"dark\")\nsns.lineplot(x=\"Avg HR\", y=\"Max HR\", data=data);\n","65185578":"sns.lineplot(y=\"Training Stress Score(TSS) \", x=\"Distance\", data=data);\n","11f959de":"sns.boxenplot(data[\"Training Stress Score(TSS) \"], data.Distance);\n","9eafc02b":"sns.lmplot(x=\"Training Stress Score(TSS) \", y=\"Calories\", col=\"Activity Type\", hue=\"Activity Type\",data=data,\n           col_wrap=2, ci=None, palette=\"muted\", height=4,\n           scatter_kws={\"s\": 50, \"alpha\": 1});","e26298a4":"plt.hist( data[\"Calories\"]);","8be9600f":"plt.hist( data[\"Training Stress Score(TSS) \"]);","b537dd08":"sns.set_theme(style=\"white\")\nh,ax2=plt.subplots(figsize=(6.5,6.5))\nsns.despine(f)\n\nsns.histplot(x=data.Power,\n             y=data[\"Normalized Power\"],\n             multiple=\"stack\",\n             palette=\"light:m_r\",\n             edgecolor=\".9\",\n             linewidth=.5,\n            );","7d834d44":"## Max HR and Avg HR (Corr: 0.97)","a309b434":"## Training Stress Score and Distance","05971dd5":"## Conclusion","a6bbb39c":"## Power and Normalized Power","6cd31961":"##  Calories and Distance (hard workout) - Correlation is 0.98","da602f52":"- There are 160 records in the dataset\n- On average the distance of cyclists was 21.22 km ( with the max of 98.94)\n- The average calorries burn is around 600 and it is highly correlated to the distance. \n- Maximum HR is on average around 164 (plis minus 49.13) \n- The Maximum Speed was aroudn 25 km\/h . The maximum speed was 50.80\n- The Elevation Gain is on average 189m but it has a high standard deviation of 475, so it is better to say that 75% of people have an elevation gain more than 139.50. The same with the Elevation Loss, 75% of people has an elevation loss of more than 146m\n","91f43955":"## General Correlation ","2ef0f262":"## Training Stress Score and Calories (corr 0.95)"}}