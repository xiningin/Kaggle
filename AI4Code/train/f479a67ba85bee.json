{"cell_type":{"7b299bd6":"code","6e05f47f":"code","dd8b3241":"code","9585839e":"code","88300fa1":"code","eeb2a44d":"code","3758ef85":"code","6761edbb":"code","53ecd893":"code","25b308d6":"code","127562f4":"code","895bb2f7":"code","ab8e2a8b":"code","69684dd2":"code","3232fab4":"code","f17b5592":"code","ff1d414f":"code","1d130ad3":"code","5a693d98":"code","b306e5ef":"code","c6aadbe7":"code","c19ccc6e":"code","c571bf91":"code","8dd7ab54":"code","b89547fe":"code","f4eea2dd":"code","f1853316":"code","55155a46":"code","b4542f13":"code","34a290cf":"code","4f539f65":"code","43a2dc14":"code","c4f85a5c":"code","df61444a":"code","c6cd7af8":"code","f367da6f":"code","e783d3ad":"markdown","fb1bcfeb":"markdown","cfe553e3":"markdown","417a93bf":"markdown","4092aac2":"markdown","06b9be19":"markdown","ff2e8263":"markdown","fad57ca4":"markdown","7d03425b":"markdown","0bf74035":"markdown","8ae36230":"markdown","db7d0794":"markdown","4500e721":"markdown","6f4d836d":"markdown","4a25d087":"markdown","b4657a6c":"markdown","1994a96d":"markdown","0d31f3ab":"markdown","fc14837b":"markdown","a70679de":"markdown","a91e9cfc":"markdown"},"source":{"7b299bd6":"# Let's import some essential packages\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport folium # For creating map\n\nprint('Packages imported')","6e05f47f":"# Let's get some new data from the sharing from github\n# Start with the comfirmed situations\nconfirmed = pd.read_csv(\"..\/input\/corona0221202\/time_series_19-covid-Confirmed.csv\")\nconfirmed.head()","dd8b3241":"# Death  \ndeath = pd.read_csv(\"..\/input\/corona0221202\/time_series_19-covid-Deaths.csv\")\ndeath.head()","9585839e":"# Recovered\nrecovered = pd.read_csv(\"..\/input\/corona0221202\/time_series_19-covid-Recovered.csv\")\nrecovered.head()","88300fa1":"print('Confirmed situations')\nconfirmed.isna().sum()[confirmed.isna().sum()>0]\n","eeb2a44d":"print('Death situations')\ndeath.isna().sum()[confirmed.isna().sum()>0]","3758ef85":"print('Recovered situations')\nrecovered.isna().sum()[confirmed.isna().sum()>0]","6761edbb":"# Fill `unknown` with missing values\nconfirmed = confirmed.fillna('unknown')\ndeath = death.fillna('unknown')\nrecovered = recovered.fillna('unknown')\nprint('All N\/A filled with `unknown`')","53ecd893":"last_date = '2\/21\/20'","25b308d6":"china = confirmed[['Province\/State',last_date]][confirmed['Country\/Region']=='Mainland China']\nchina['death'] = death[last_date][death['Country\/Region']=='Mainland China']\nchina['recovered'] = recovered[last_date][recovered['Country\/Region']=='Mainland China']\n\n# Bring `Province\/State` to index\nchina = china.set_index('Province\/State')\n\n# Rename the columns\nchina = china.rename(columns = {last_date:'confirmed','death':'death','recovered':'recovered'})","127562f4":"# Let's see what it becomes\nchina.head()","895bb2f7":"# Plot data\nchina.sort_values(by='confirmed'\n                  ,ascending=True).plot(kind='barh'\n                                    , figsize=(20,30)\n                                    , color = ['blue','red','lime']\n                                    , width=1\n                                    , rot=2)\n\n# Represent the legends and titles\nplt.title('Total cases by Province\/State of Chinese Mainland', size = 40)\nplt.ylabel('Province\/State', size = 30)\nplt.legend(bbox_to_anchor=(0.95,0.95) # setting coordinates for the caption box\n           , frameon = True\n           , fontsize = 20\n           , ncol = 2 \n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1);","ab8e2a8b":"hubei = china[china.index=='Hubei']\nhubei = hubei.iloc[0]\n\n# Let's plot\nplt.figure(figsize=(15,15))\n\n# Get the percentage from all Hubei's cases\nhubei.plot(kind='pie'\n          , colors=['#4b8bbe', 'red', 'lime']\n          , autopct='%1.1f%%' # Add the %\n          , shadow=True\n          , startangle=140)\n\nplt.title('Case distribution of Hubei', size=30)\nplt.legend(loc = 'upper right'\n          , frameon = True\n          , fontsize = 15\n          , ncol = 2\n          , fancybox = True\n          , framealpha = 0.95\n          , shadow = True\n          , borderpad = 1)","69684dd2":"# Create a subset with confirmed cases in China\nconfirmed_china = confirmed[confirmed['Country\/Region']=='Mainland China']\nconfirmed_china = confirmed_china.groupby(confirmed_china['Country\/Region']).sum()\n\n# Get confirmed cases growth over the time\nconfirmed_china = confirmed_china.iloc[0][2:confirmed_china.shape[1]]\n\n# From stat do plot\nplt.figure(figsize=(20,10))\nplt.plot(confirmed_china\n        , color = 'blue'\n        , label = 'comfirmed'\n        , marker = 'o')\n\nplt.title('Growth of confirmed cases in Mainland China',size=30)\nplt.ylabel('Cases',size=20)\nplt.xlabel('Updates',size=20)\nplt.xticks(rotation=45,size=15)\nplt.yticks(size=15)\n\nplt.legend(loc = \"upper left\"\n           , frameon = True\n           , fontsize = 15\n           , ncol = 1\n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1)","3232fab4":"# Create a subset with recoreved cases in China\nrecovered_china = recovered[recovered['Country\/Region']=='Mainland China']\nrecovered_china = recovered_china.groupby(recovered_china['Country\/Region']).sum()\n\n# Get recovered cases growth over the time\nrecovered_china = recovered_china.iloc[0][2:recovered_china.shape[1]]\n\n# Create a subset with death cases in China\ndeath_china = death[death['Country\/Region']=='Mainland China']\ndeath_china = death_china.groupby(death_china['Country\/Region']).sum()\n\n# Get death cases growth over the time\ndeath_china = death_china.iloc[0][2:death_china.shape[1]]\n\n# Plot again\nplt.figure(figsize=(20,10))\n\n# Create a lineplot for each case variable(suspected, recovered and death)\nplt.plot(recovered_china\n        , color = 'lime'\n        , label = 'recovered'\n        , marker = 'o')\n\nplt.plot(death_china\n        , color = 'red'\n        , label = 'death'\n        , marker = 'o')\n\nplt.title('Recovered vs Deaths Growth in Mainland China',size=30)\nplt.ylabel('Cases',size=20)\nplt.xlabel('Updates',size=20)\nplt.xticks(rotation=45,size=15)\nplt.yticks(size=15)\n\nplt.legend(loc = \"upper left\"\n           , frameon = True\n           , fontsize = 15\n           , ncol = 1\n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1)","f17b5592":"# Select cases not in China\nother_countries = confirmed[['Country\/Region','Province\/State',last_date]][confirmed['Country\/Region']!='Mainland China']\nother_countries['death'] = death[last_date][death['Country\/Region']!='Mainland China']\nother_countries['recovered'] = recovered[last_date][recovered['Country\/Region']!='Mainland China']\n\n# Sum the cases by Country\/Region\nother_countries = other_countries.groupby(other_countries['Country\/Region']).sum()\n\n# Rename the columns\nother_countries = other_countries.rename(columns = {last_date:'confirmed','death':'death','recovered':'recovered'})\n\n# creating the plot\nother_countries.sort_values(by='confirmed'\n                            ,ascending=True).plot(kind='barh'\n                                            , figsize=(20,30)\n                                            , color = ['blue','red','lime']\n                                            , width=1\n                                            , rot=2)\n\n# defyning titles, labels, xticks and legend parameters\nplt.title('Total cases in other countries', size=40)\nplt.ylabel('country',size=30)\nplt.yticks(size=20)\nplt.xticks(size=20)\nplt.legend(bbox_to_anchor=(0.95,0.95)\n           , frameon = True\n           , fontsize = 20\n           , ncol = 2 \n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1)","ff1d414f":"# Get cases in South Korea\nSouth_Korea = other_countries[other_countries.index==\"South Korea\"]\nSouth_Korea = South_Korea.iloc[0]\n\n# Get cases in Japan\nJapan = other_countries[other_countries.index==\"Japan\"]\nJapan = Japan.iloc[0]\n\n# Get cases in Singapore\nSingapore = other_countries[other_countries.index==\"Singapore\"]\nSingapore = Singapore.iloc[0]\n\n# Get cases in Hong-Kong\nHong_Kong = other_countries[other_countries.index==\"Hong Kong\"]\nHong_Kong = Hong_Kong.iloc[0]\n\nfig, axes = plt.subplots(\n                     ncols=2,\n                     nrows=2,\n                     figsize=(15, 15))\n\nax1, ax2, ax3, ax4 = axes.flatten()\n\n# Add the percentage\nax1.pie(South_Korea\n        , colors=['#4b8bbe','red','lime']\n        , autopct='%1.1f%%' # Add percentagens\n        , labels=['confirmed','death','recovered']\n        , shadow=True\n        , startangle=140)\nax1.set_title(\"South Korea Cases Distribution\")\n\nax2.pie(Japan\n           , colors=['#4b8bbe','red','lime']\n           , autopct='%1.1f%%'\n           , labels=['confirmed','death','recovered']\n           , shadow=True\n           , startangle=140)\nax2.set_title(\"Japan Cases Distribution\")\n\nax3.pie(Singapore\n           , colors=['#4b8bbe','red','lime']\n           , autopct='%1.1f%%' \n           , labels=['confirmed','death','recovered']\n           , shadow=True\n           , startangle=140)\nax3.set_title(\"Singapore Cases Distribution\")\n\nax4.pie(Hong_Kong\n           , colors=['#4b8bbe','red','lime']\n           , autopct='%1.1f%%' \n           , labels=['confirmed','death','recovered']\n           , shadow=True\n           , startangle=140)\nax4.set_title(\"Hong-Kong Cases Distribution\")\n\nfig.legend(['confirmed','death','recovered']\n           , loc = \"upper right\"\n           , frameon = True\n           , fontsize = 15\n           , ncol = 2 \n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1)\n\nplt.show()","1d130ad3":"# Get cses by country that are not located in Mainland China\nother_countries_confirmed = confirmed[confirmed.columns[4:confirmed.shape[1]]][confirmed['Country\/Region']!='Mainland China']\nother_countries_confirmed = other_countries_confirmed.iloc[0:other_countries_confirmed.shape[0]].sum()\n\nother_countries_death = death[death.columns[4:death.shape[1]]][death['Country\/Region']!='Mainland China']\nother_countries_death = other_countries_death.iloc[0:other_countries_death.shape[0]].sum()\n\nother_countries_recovered = recovered[recovered.columns[4:recovered.shape[1]]][recovered['Country\/Region']!='Mainland China']\nother_countries_recovered = other_countries_recovered.iloc[0:other_countries_recovered.shape[0]].sum()\n\n# Create a list with confirmed, recovered and deaths cases\nlist_of_tuples = list(zip(other_countries_confirmed, other_countries_death, other_countries_recovered)) \n\n# Create a dataframe with this list to plot the chart\nother_countries_cases_growth = pd.DataFrame(list_of_tuples, index = other_countries_confirmed.index, columns = ['confirmed','death','recovered'])\n\n# Create the plot\nother_countries_cases_growth.plot(kind='bar'\n                                  , figsize=(20,10)\n                                  , width=1\n                                  , color=['#4b8bbe','red','lime']\n                                  , rot=2)\n\n# defyning title, labels, ticks and legend parameters\nplt.title('Growth of cases over the days in other countries', size=30)\nplt.xlabel('Updates', size=20)\nplt.ylabel('Cases', size=20)\nplt.xticks(rotation=45, size=15)\nplt.yticks(size=15)\nplt.legend(loc = \"upper left\"\n           , frameon = True\n           , fontsize = 15\n           , ncol = 2 \n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1)","5a693d98":"# taking mortality and recovered ratios in China\nrecovered_rate = (recovered_china\/(confirmed_china+death_china+recovered_china))*100\nmortality_rate = (death_china\/(confirmed_china+death_china+recovered_china))*100\n\n# defyning plotsize\nplt.figure(figsize=(20,10))\n\n# creating a lineplot for each case variable(suspected, recovered and death)\nplt.plot(recovered_rate\n        , color = 'lime'\n        , label = 'recovered rate'\n        , marker = 'o')\n\nplt.plot(mortality_rate\n        , color = 'red'\n        , label = 'death rate'\n        , marker = 'o')\n\n# defyning titles, labels and ticks parameters\nplt.title('Mortality vs Recovered Rate Over the time In Mainland China',size=30)\nplt.ylabel('Cases',size=20)\nplt.xlabel('Updates',size=20)\nplt.xticks(rotation=45,size=15)\nplt.yticks(size=15)\n\n# defyning legend parameters\nplt.legend(loc = \"upper left\"\n           , frameon = True\n           , fontsize = 15\n           , ncol = 1\n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1)","b306e5ef":"recovered_rate_other_countries = (other_countries_recovered\/(other_countries_recovered+other_countries_death+other_countries_confirmed))*100\ndeath_rate_other_countries = (other_countries_death\/(other_countries_recovered+other_countries_death+other_countries_confirmed))*100\n\n# defyning plotsize\nplt.figure(figsize=(20,10))\n\n# creating a lineplot for each case variable(suspected, recovered and death)\nplt.plot(recovered_rate_other_countries\n        , color = 'lime'\n        , label = 'recovered rate'\n        , marker = 'o')\n\nplt.plot(death_rate_other_countries\n        , color = 'red'\n        , label = 'death rate'\n        , marker = 'o')\n\n# defyning titles, labels and ticks parameters\nplt.title('Mortality vs Recovered Rates Over the time outside of China',size=30)\nplt.ylabel('Cases',size=20)\nplt.xlabel('Updates',size=20)\nplt.xticks(rotation=45,size=15)\nplt.yticks(size=15)\n\n# defyning legend parameters\nplt.legend(loc = \"upper left\"\n           , frameon = True\n           , fontsize = 15\n           , ncol = 1\n           , fancybox = True\n           , framealpha = 0.95\n           , shadow = True\n           , borderpad = 1)","c6aadbe7":"data = pd.read_csv(\"..\/input\/corona0221202\/02-21-2020.csv\")\ndata.head()","c19ccc6e":"# Creating a dataframe with total no of confirmed cases for every country\nNumber_of_countries = len(data['Country\/Region'].value_counts())\n\n\ncases = pd.DataFrame(data.groupby('Country\/Region')['Confirmed'].sum())\ncases['Country\/Region'] = cases.index\ncases.index=np.arange(1,Number_of_countries+1)\n\nglobal_cases = cases[['Country\/Region','Confirmed']]\n#global_cases.sort_values(by=['Confirmed'],ascending=False)\nglobal_cases","c571bf91":"# Import the world_coordinates dataset\nworld_coordinates = pd.read_csv('..\/input\/world-coordinates\/world_coordinates.csv')\nworld_coordinates.head()","8dd7ab54":"# Rename the columns\nworld_coordinates = world_coordinates.rename(columns = {'Code':'Code', 'Country':'Country\/Region','latitude':'latitude','longitude':'longitude'})\n\n# Merging the coordinates dataframe with original dataframe\nworld_data = pd.merge(world_coordinates,global_cases,on='Country\/Region')\nworld_data.head()","b89547fe":"# Create map and display it\nworld_map = folium.Map(location=[10, -20], zoom_start=2.3,tiles='Stamen Toner')\n\nfor lat, lon, value, name in zip(world_data['latitude'], world_data['longitude'], world_data['Confirmed'], world_data['Country\/Region']):\n    folium.CircleMarker([lat, lon],\n                        radius=10,\n                        popup = ('<strong>Country\/Region<\/strong>: ' + str(name).capitalize() + '<br>'\n                                '<strong>Confirmed Cases<\/strong>: ' + str(value) + '<br>'), # This is for displaying info when clicking on the red circle\n                        color='red',\n                        \n                        fill_color='red',\n                        fill_opacity=0.7 ).add_to(world_map)\nworld_map","f4eea2dd":"# A look at the different cases - confirmed, death and recovered\nprint('Globally Confirmed Cases: ',data['Confirmed'].sum())\nprint('Global Deaths: ',data['Deaths'].sum())\nprint('Globally Recovered Cases: ',data['Recovered'].sum())","f1853316":"# Let's look the various Provinces\/States affected\ndata.groupby(['Country\/Region','Province\/State']).sum()","55155a46":"# Provinces where deaths have taken place\ndata.groupby('Country\/Region')['Deaths'].sum().sort_values(ascending=False)[:5]","b4542f13":"# Lets also look at the Recovered stats\ndata.groupby('Country\/Region')['Recovered'].sum().sort_values(ascending=False)[:5]","34a290cf":"China = data[data['Country\/Region']=='Mainland China']\nChina","4f539f65":"f, ax = plt.subplots(figsize=(12, 8))\n\nsns.set_color_codes(\"pastel\")\nsns.barplot(x=\"Confirmed\", y=\"Province\/State\", data=China[1:],\n            label=\"Confirmed\", color=\"r\")\n\nsns.set_color_codes(\"muted\")\nsns.barplot(x=\"Recovered\", y=\"Province\/State\", data=China[1:],\n            label=\"Recovered\", color=\"g\")\n\n# Add a legend and informative axis label\nax.legend(ncol=2, loc=\"lower right\", frameon=True)\nax.set(xlim=(0, 400), ylabel=\"\",\n       xlabel=\"Stats\")\nsns.despine(left=True, bottom=True)","43a2dc14":"latitude = 39.91666667\nlongitude = 116.383333\n \n# create map and display it\nchina_map = folium.Map(location=[latitude, longitude], zoom_start=12)\n\nchina_coordinates= pd.read_csv(\"..\/input\/chinese-cities\/china_coordinates.csv\")\nchina_coordinates.head()","c4f85a5c":"china_coordinates.rename(columns={'city':'Province\/State','lat':'latitude','lng':'longitude'},inplace=True)\ndf_china_virus = China.merge(china_coordinates)\n\n# Make a data frame with dots to show on the map\ndata = pd.DataFrame({\n   'name':list(df_china_virus['Province\/State']),\n   'lat':list(df_china_virus['latitude']),\n   'lon':list(df_china_virus['longitude']),\n   'Confirmed':list(df_china_virus['Confirmed']),\n   'Recovered':list(df_china_virus['Recovered']),\n   'Deaths':list(df_china_virus['Deaths'])\n})\n\ndata.head()","df61444a":"# create map for total confirmed cases in china till date\nchina_map1 = folium.Map(location=[latitude, longitude], zoom_start=4,tiles='Stamen Toner')\n\nfor lat, lon, value, name in zip(data['lat'], data['lon'], data['Confirmed'], data['name']):\n    folium.CircleMarker([lat, lon],\n                        radius=13,\n                        popup = ('Province: ' + str(name).capitalize() + '<br>'\n                        'Confirmed: ' + str(value) + '<br>'),\n                        color='red',\n                        \n                        fill_color='red',\n                        fill_opacity=0.7 ).add_to(china_map1)\n    folium.Map(titles='jj', attr=\"attribution\")    \nchina_map1","c6cd7af8":"china_map = folium.Map(location=[latitude, longitude], zoom_start=4,tiles='Stamen Toner')\n\nfor lat, lon, value, name in zip(data['lat'], data['lon'], data['Deaths'], data['name']):\n    folium.CircleMarker([lat, lon],\n                        radius=value*0.2,\n                        popup = ('Province: ' + str(name).capitalize() + '<br>'\n                        'Deaths: ' + str(value) + '<br>'),\n                        color='black',\n                        \n                        fill_color='red',\n                        fill_opacity=0.7 ).add_to(china_map)\n    folium.Map(titles='jj', attr=\"attribution\")    \nchina_map","f367da6f":"china_map = folium.Map(location=[latitude, longitude], zoom_start=4,tiles='Stamen Toner')\n\nfor lat, lon, value, name in zip(data['lat'], data['lon'], data['Recovered'], data['name']):\n    folium.CircleMarker([lat, lon],\n                        radius=10,\n                        popup = ('Province: ' + str(name).capitalize() + '<br>'\n                        'Recovered: ' + str(value) + '<br>'),\n                        color='green',\n                        \n                        fill_color='green',\n                        fill_opacity=0.7 ).add_to(china_map)\n       \nchina_map","e783d3ad":"#### How about putting all the into the map???\nP\/S: For me it's interesting","fb1bcfeb":"#### Total cases in other countries  \nLet's investigate the cases those aren't in China and then make a sum of `confirmed`, `death` and `recovery` by each country","cfe553e3":"### Missing values?\n - There should be missing values from the records.  \n - Let's see how many of them and how to deal with.[](http:\/\/)","417a93bf":"$\\rightarrow$ Let's take a look at those have the biggest number of cases","4092aac2":"$\\rightarrow$ The virus began to spread to other countries on 1\/22\/2020 significantly day by day.  \n$\\rightarrow$ `confirmed` cases are on their way to grow exponentially, fortunately the rate of `recovered` is increasing far more faster than `death`","06b9be19":"By understanding the growth and spreading of the Corona  \n\n### Introduction\n - The COVID-19 aka 2019-nCoV or Corona began its time from Wuhan since 2019. People are in panic because of the fast spreading of the virus into the world, began with wild mammals, then humans. Cities are quarantined, hospitals are overcrowded, curing doctors get their death, etc.  \n  \n - Too much words, let's get starting investigating how the virus has been growing during 2019 till 21 Feb 2020.  ","ff2e8263":"### A Closer look at China's condition","fad57ca4":"### Geographical Visualisation the present condition of Mainland China","7d03425b":"$\\rightarrow$ Have 23 missing values in each dataset in `Province\/State` column.  \n$\\rightarrow$ We should fill those missings with `unknown`","0bf74035":"### Let's see how the virus sharing its new victims","8ae36230":"### Let's look at the Confirmed vs Recovered figures of Provinces of China other than Hubei","db7d0794":"$\\rightarrow$ Places outside the China,having 2 rapid surge in recovered from 1\/25\/2020 to 1\/26\/2020 and 2\/10\/2020 to 2\/12\/2020, but somehow it got constrained from 2\/13\/2020 till 2\/21\/2020, also the death rate is raising slowly but still in control from 2\/16\/2020, due to the growth of the number of `confirmed` cases.","4500e721":"### Total Deaths in china till date","6f4d836d":"### Total confirmed cases in china till date","4a25d087":"#### Let's do the sum","b4657a6c":"### Let's do some data analysis","1994a96d":"### Total Recovered cases in china till date","0d31f3ab":"$\\circlearrowright$ As we can see, Hubei shows the highest number of cases, for easier to see and check its distribution, we can use pie chart for more detail.","fc14837b":"$\\rightarrow$ The number of cases is increasing extremely fast with the lead of `confirmed`.  \n$\\rightarrow$ Now it's more than 70000 `confirmed` cases, good sign that they not died all, just 1500 `death` cases but stil a huge number, and over 17500 cases got recovered in Chinese Mainland.  \n$\\rightarrow$ From 2\/12\/20 to 2\/13\/20, the `confirmed` cases significantly grown. Then from 2\/14\/20 to 2\/21\/20, the increasing rate of the `confirmed` appeared to get slower. $\\rightrightarrows$ It's a good sign since people acknowledged how the COVID did its job.  \n - Also thanks to the medical care, the rate of death although still gets increase but it's kept in peace, not growing too fast and the `recovered` cases is way rapidly rise.","a70679de":"### Let's make a comparison overtime between inside and outside of China about `death` and `recovered`","a91e9cfc":"??? maybe the chinese map data is lack of cities [](http:\/\/)???"}}