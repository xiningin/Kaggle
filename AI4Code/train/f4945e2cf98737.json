{"cell_type":{"68cc7e6c":"code","c8455ab8":"code","2e85cc48":"code","500c427e":"code","1260807c":"code","a3701b58":"code","5e8c7eef":"code","ba269526":"code","123baaa4":"code","bbe4e6cd":"markdown","f65425a9":"markdown","52557be9":"markdown","acac8975":"markdown","bbeda077":"markdown","3f2f6380":"markdown","e19fb420":"markdown","5f9980f0":"markdown","ace73056":"markdown","b1ad1a46":"markdown","17909726":"markdown","cef86838":"markdown"},"source":{"68cc7e6c":"import networkx as nx\nimport pandas as pd","c8455ab8":"pathFile = \"..\/input\/reddit-ut3-ut1\/comments_students.csv\"","2e85cc48":"df = pd.read_csv(pathFile)","500c427e":"df.head()","1260807c":"g= nx.DiGraph()","a3701b58":"g.add_nodes_from(df.link_id, type=\"link\")","5e8c7eef":"g.add_nodes_from(df.name, type=\"comment\")","ba269526":"g.add_edges_from(df[[\"name\",\"parent_id\"]].values, link_type=\"parent\")","123baaa4":"nx.write_gml(g, \"graph.gml\")","bbe4e6cd":"The idea here is to consider every pairs (name, parent_id) in the dataframe and create one edge per pair in the dataframe. This is done using the `add_edges_from` function and specifying `df[[\"name\",\"parent_id\"]].values` as the list of edges (source, target) to add. We additionnally create an attribute `link_type` and instantiate it as `parent` for every edges.","f65425a9":"We first start by the creation on \"link\" nodes (those in the link_id column) and we add an attribute to type this node","52557be9":"# Write the graph to use it later\nIt can be convenient to save the network once created. A appropriate format is GML. Thus, using the function `nx.read_gml`function you could reload the network.","acac8975":"# Path definition","bbeda077":"# Conclusion\nThis short notebook shows you how to create a network from raw data. What I showed you is not the only way to create network in the sense that it may exists some other network models that better suits your needs. Here, nodes are either links or comments and there is a link between nodes if there is a parenting relationship. A other way to model your data could be to define a user-user undirected network where a node is a user and there exists a link between two users if one has answered a comment from the other. In this way, you could extract communities of users and perhaps calculte some centrality metrics. \nIn conclusions, depending on the structural features you want to design, there exists an appropriate network you can exploit! Thus, in the project, you will likely build and analyze several networks!","3f2f6380":"# Import","e19fb420":"Note that if either a source or a target does not exist in the network, a node will be created. This can happen if a comment is a reply to a comment that is older than May2015. In this case, this \"on-the-fly\" created node do not have the attribute `type`.","5f9980f0":"# Empty directed network creation","ace73056":"# Add nodes","b1ad1a46":"We first start by the creation on \"comment\" nodes (those in the name column) and we add an attribute to type this node","17909726":"# Input data loading","cef86838":"# Add edges"}}