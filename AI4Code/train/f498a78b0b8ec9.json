{"cell_type":{"f7677b3f":"code","c7c93c12":"code","02263ee5":"code","3f417bec":"code","8fb4710d":"code","9f06fe2b":"code","037866db":"code","c3a012f0":"code","f19962c7":"code","a0759e26":"code","cc707e7d":"code","ce29e5b9":"code","0a8988da":"code","39c4ee19":"code","a9c40bb3":"code","5f718afc":"code","451cf918":"code","8e602a02":"code","cf1451b7":"code","66fac8ab":"code","e1a3ea10":"code","01e6e55a":"code","17b56923":"markdown","8bb36578":"markdown","b419b045":"markdown","3f757978":"markdown","26bc4bb4":"markdown","26c6699d":"markdown"},"source":{"f7677b3f":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport seaborn as sns\nimport plotly.express as px\nimport geopandas as gpd\nimport folium\nfrom folium import Choropleth, Circle, Marker\nfrom folium.plugins import HeatMap, MarkerCluster\nfrom folium.plugins import FastMarkerCluster\nimport folium.plugins as plugins\nimport string\nimport random\nimport re\nimport datetime","c7c93c12":"df = pd.read_csv('..\/input\/orlando-crimes\/OPD_Crimes.csv')\ndf","02263ee5":"df.isnull().sum()","3f417bec":"df = df.dropna(axis = 0)","8fb4710d":"sns.heatmap(df.isnull());","9f06fe2b":"df.describe()","037866db":"correlations = df.corr()\nf, ax = plt.subplots(figsize = (20,20))\nsns.heatmap(correlations, annot=True)\ncorrelations.round(2);","c3a012f0":"fig1 = px.histogram(df,x='Case Offense Category',color='Case Offense Category',template='plotly_dark')\nfig1.show()","f19962c7":"fig1 = px.histogram(df,x='Case Offense Location Type',color='Case Offense Location Type',template='plotly_dark')\nfig1.show()","a0759e26":"fig1 = px.histogram(df,x='Case Offense Type',color='Case Offense Type',template='plotly_dark')\nfig1.show()","cc707e7d":"fig1 = px.histogram(df,x='Case Offense Charge Type',color='Case Offense Charge Type',template='plotly_dark')\nfig1.show()","ce29e5b9":"fig1 = px.histogram(df,x='Case Disposition',color='Case Disposition',template='plotly_dark')\nfig1.show()","0a8988da":"df[['latitude', 'longitude']] = df['Location'].str.split(',', expand=True)","39c4ee19":"df1 = df['latitude'].str.split('(', expand=True)\ndf1 = df1.rename(columns = {1 : 'latitude'})\ndf1 = df1.drop(columns=[0], axis=1) \ndf2 = df['longitude'].str.split(')', expand=True)\ndf2 = df2.rename(columns = {0 : 'longitude'})\ndf2 = df2.drop(columns=[1], axis=1) \ndf = df.drop(df.columns[[0, 9, 13, 14]], axis=1)\ndf = pd.concat([df, df1, df2], axis = 1)","a9c40bb3":"#df = df.drop(df.columns[[13,14]], axis=1)df\ndf","5f718afc":"df = df.rename(columns = {'Case Offense Category' : 'occurrence', 'Case Date Time' : 'date' })","451cf918":"total = len(df)\nax1 = plt.figure(figsize=(17,7))\n\ng = sns.countplot(x='occurrence', data=df)\ng.set_title(\"Types of Crimes\", fontsize=20)\ng.set_xlabel(\"Crimes\", fontsize=17)\ng.set_ylabel(\"Count\", fontsize=17)\nsizes = []\nfor p in g.patches:\n    height = p.get_height()\n    sizes.append(height)\n    g.text(p.get_x()+p.get_width()\/2.,\n            height + 3,\n            '{:1.2f}%'.format(height\/total*100),\n            ha=\"center\", fontsize=10) \ng.set_ylim(0, max(sizes) * 1.1)","8e602a02":"pl3 = plt.figure(figsize=(17,7))\npl3 = year = df.groupby('date')['occurrence'].count().sort_values(ascending=False).head(40)\npl3 = sns.barplot(x=year.index, y=year.values)\npl3 = plt.xticks(rotation=30)\npl3 = plt.xlabel('Year')\npl3 = plt.title('Number of Crimes Year');\npl3 = plt.show()","cf1451b7":"temp = df.groupby('occurrence').sum()\ntemp.style.background_gradient(cmap='Purples')","66fac8ab":"temp = df.groupby('Case Offense Location Type').sum()\ntemp.style.background_gradient(cmap='Purples')","e1a3ea10":"map_1 = folium.Map(location=[28.547690, -81.376366], tiles='cartodbpositron', zoom_start=12)\nHeatMap(data=df[['latitude', 'longitude']], radius=10).add_to(map_1)\nmap_1","01e6e55a":"f = folium.Figure(width=1200, height=750)\nmap = folium.Map(location = [28.547690, -81.376366], \n                      zoom_start = 12).add_to(f)\nprice=folium.map.FeatureGroup()\nprice=plugins.MarkerCluster().add_to(map)\nfor latitude,longitude,label in zip(df.latitude,df.longitude,df.occurrence):\n    folium.Marker(location=[latitude,longitude],icon=None,popup=label).add_to(price)\nmap.add_child(price)\nmap","17b56923":"# Graphics with raw data","8bb36578":"# ***If you find this notebook useful, support with an upvote*** \ud83d\udc4d","b419b045":"# Number of occurrences","3f757978":"**It is a very interesting database and rich in information, from the description of the coordinates I believe that it is only listed the crimes in the central region of Orlando and it does not include the surrounding districts, which leaves a little scared by the amount of crimes and crimes in the region.***\n\n***We could continue exploring this data further, but we may already have a knowledge of the data in this dataset.***\n\n***Thanks!!***","26bc4bb4":"# About this file\n\nthis case study refers to the dataset coming from the Orlando Police Department records management system.\n\nIt includes all Part 1 and Part 2 crimes as defined by the FBI\u2019s Uniform Crime Reporting standards. When multiple crimes are committed, the highest level of crime is what is shown.\n\nThe data includes only Open and Closed cases and does not include informational cases without arrests. This data excludes crimes where the victim or offender data is or could be legally protected.","26c6699d":"# Occurrence Mapping"}}