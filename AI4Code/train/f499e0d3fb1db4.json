{"cell_type":{"bfd63620":"code","54677ddb":"code","ed024fd4":"code","40917c13":"code","cad366fd":"code","63f10a7c":"code","07bd3ec9":"code","f9f435b3":"code","b0043b00":"code","d730d977":"code","19d44f2f":"code","fc975ee1":"code","aca73869":"code","125c2d84":"code","4d1703f0":"code","a8b0c8af":"code","1e7bca78":"code","56d1d7fd":"code","3ccb6c70":"markdown","78bd7a62":"markdown","0515892b":"markdown","6dd43b28":"markdown","2663612c":"markdown","f51aba43":"markdown","f9063cf2":"markdown","3ed16aad":"markdown","683dc972":"markdown","b8a8d4d8":"markdown","68862820":"markdown","ecb3c434":"markdown","2498a5f2":"markdown","d7eee6e5":"markdown"},"source":{"bfd63620":"import numpy as np\nimport seaborn as sns\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport plotly.figure_factory as ff\nfrom plotly.colors import n_colors\nfrom plotly.subplots import make_subplots","54677ddb":"df=pd.read_csv('..\/input\/us-police-shootings\/shootings.csv')\ndf.head()","ed024fd4":"df.drop('id',axis=1,inplace=True)\ndf.drop('name',axis=1,inplace=True)","40917c13":"df['Count']=1\ndf.isna().any()","cad366fd":"df.info()","63f10a7c":"sns.catplot('manner_of_death',data=df,kind='count',palette='summer',height=5,aspect=2)\nplt.xlabel('Manner of death',size=15)\nplt.ylabel('Number of cases',size=15)\nplt.title('Classification of death',size=20)","07bd3ec9":"fig1=plt.figure(figsize=(10,8))\nax1=fig1.add_subplot(121)\na=sns.distplot(df['age'])\nplt.title('Age distribution of offenders shot',size=15)\na.axvline(df['age'].median(),color='red',label='Median age')\nax1.set_xlabel('Age',size=15)\nax1.legend()\n\nax2=fig1.add_subplot(122)\nsns.violinplot(df['age'],inner='quartile',palette='summer',orient='v')\nax2.set_title('Median age:{}'.format(df['age'].median()),size=15)","f9f435b3":"df_gend=df.groupby('gender')['Count'].sum().reset_index()\nplt.figure(figsize=(10,8))\nlabels=['Female','Male']\nplt.pie(df_gend['Count'],autopct=\"%1.1f%%\",explode=(0.2,0),labels=labels)\nplt.title('Gender distribution of the shootings',size=20)","b0043b00":"\ndf_race=df.groupby('race')['Count'].sum().reset_index().sort_values(by='Count',ascending=False)\ndf_race\n\nfig2=go.Figure([go.Pie(labels=df_race['race'],values=df_race['Count'])])\n\nfig2.update_traces(textfont_size=15,textinfo='value+percent')\nfig2.update_layout(title='Shootings based on races',title_x=0.5,height=700,width=700)\nfig2.show()","d730d977":"fig3=plt.figure(figsize=(15,8))\nax1=fig3.add_subplot(121)\nax1.set_title('Violinplot of ages based on race of offenders',size=15)\nsns.violinplot(df['race'],df['age'],inner='quartile',palette='coolwarm',ax=ax1)\nax1.set_xlabel('Race',size=15)\nax1.set_ylabel('Age',size=15)\nax2=fig3.add_subplot(122)\nsns.boxplot(df['race'],df['age'],palette='summer',ax=ax2)\nax2.set_title('Boxplot of ages based on race of offenders',size=15)\nax2.set_xlabel('Race',size=15)\nax2.set_ylabel('Age',size=15)","19d44f2f":"df_mental=df[df['signs_of_mental_illness']==True]\ndf_grouped=df_mental.groupby('race')['Count'].sum().reset_index()","fc975ee1":"df_grouped","aca73869":"fig4=go.Figure([go.Pie(labels=df_grouped['race'],values=df_grouped['Count'])])\n\nfig4.update_traces(textfont_size=15,textinfo='value+percent')\nfig4.update_layout(title='Mentally sick offenders based on race',title_x=0.5,height=700,width=700)\nfig4.show()","125c2d84":"sns.catplot('race',kind='count',data=df,hue='threat_level',palette='viridis',height=8,aspect=2)\nplt.xticks(size=15)\nplt.xlabel('Race',size=20)\nplt.yticks(size=15)\nplt.ylabel('Count',size=20)\nplt.title('Threat level of each of the races',size=25)\nplt.legend(fontsize=15)\n","4d1703f0":"df_top10=df.groupby('city')['Count'].sum().reset_index().sort_values(by='Count',ascending=False)\ndf_top10=df_top10.head(10)\ndf_top10","a8b0c8af":"sns.catplot('city','Count',data=df_top10,kind='bar',aspect=2,height=8,palette='summer')\nplt.xlabel('City',size=20)\nplt.ylabel('Number of shootings',size=20)\nplt.title('Top 10 cities with highest shootings',size=25)\nplt.xticks(size=15)","1e7bca78":"df_black=df[df['race']=='Black']\ndf_black_grouped=pd.DataFrame(df_black['state'].value_counts())\ndf_black_grouped.reset_index(inplace=True)\ndf_black_grouped.rename(columns={'index':'state','state':'count'},inplace=True)","56d1d7fd":"\n\n\nfig = go.Figure(go.Choropleth(\n    locations=df_black_grouped['state'],\n    z=df_black_grouped['count'].astype(float),\n    locationmode='USA-states',\n    colorscale='Reds',\n    autocolorscale=False,\n    text=df_black_grouped['state'], # hover text\n    marker_line_color='white', # line markers between states\n    colorbar_title=\"Millions USD\",showscale = False,\n))\nfig.update_layout(\n    title_text='States with high black police shootings',\n    title_x=0.5,\n    geo = dict(\n        scope='usa',\n        projection=go.layout.geo.Projection(type = 'albers usa'),\n        showlakes=True, # lakes\n        lakecolor='rgb(255, 255, 255)'))\n\nfig.show()","3ccb6c70":"As we can see, almost more than half the number of shootings is of whites while about 26.5 % shootings is of black offenders. \n\nThis is definitely contrary to popular belief which shows that the police had to shoot down more number of whites than blacks. This does indeed disprove the projections made by the media and the blacks that the police shot down mostly blacks. \n\n## Age groups based on race\n\nLet us see how the median ages range for offenders of varying race.","78bd7a62":"# If you find this notebook helpful, an upvote would be great ! :)","0515892b":"As we can see, a whopping 96.5 % offenders are males while only about 4.5 % are females. From this statistic, the police could afford to subdue and arrest the female offenders before planning on shooting. \n\n\n## Race of the offenders\n\nLet us check what the races of each of the offenders are in the United States who got unfortunately shot to death.","6dd43b28":"From the above plot, we can see that the threat level was highly dangerous for the whites and hence, had to be shot down. The blacks had a high threat level as well but overall, it was lower than the whites. \n\nWhen an offender starts attacking the police, they will have no option other than to neutralise the offender through a lethal shot.\n\nThis graph also shows that the police have been unbiased in their behaviour as they've treated each threat in the same manner irrespective of their race.\n\n\n## Top 10 states with high shootings\n\nLet us check which states have a high criminal shooting record.","2663612c":"Amazing ! The dataframe has no null entries. Let's take a quick peek at what our dataframes look like.","f51aba43":"From the above plots, we see that the general median age ages of black offenders are lower than white offenders. This shows that blacks are involving themselves in crimes at a relatively younger age when compared to the rest of the races.\n\n## Mental sickness association with race\n\nLet us see if there is any correlation of mental sickness associated with race of the offenders.","f9063cf2":"About 64.6 % offenders who were shot with supposed mental sickness were whites followed by a much smaller percentage of Blacks and Hispanics (16.7 % and 14.2 % respectively)\n\n\n## Threat level based on race\n\nLet us check how the threal levels vary across each of the races.","3ed16aad":"We observe from the above plot that the state of LA has had the highest number of police shootings. LA is generally a rich state and hence, crimes are also expected to be higher here. \n\n\n## States with high number of police shootings\n\nUsing a choropleth map, we will try to see the states with high number of shootings against the black !","683dc972":"As we can see, police shootings are higher for offenders with ages between 20-40. The median age of all the offenders shot is 35.\n\n## Gender\n\nLet us check which genders are more likely to get shot and be involved in crimes. Understanding this data helps police to take more precautions when dealing with offenders of a particular gender.","b8a8d4d8":"Let us now check for any null values and the various datatypes we are dealing with. ","68862820":"# Data Wrangling\n\nLet us first deal with the data on how to analyse it. We shall first start by dropping all the unnecessary columns. \n\nThe columns such as id and name will not provide much information about our analysis. Hence, we shall simply drop it from our dataframe.","ecb3c434":"As we can see, the cases primarily consist of shootings. Tasering is something that is usually quite difficult and needs the officers to be at dangerously close range to possibly armed offenders. Hence, under most cases, officers prefer to neutralise threats by shooting.\n\n## 2. Age analysis\n\nLet us see how the ages of the various offenders are distributed. This will give us an idea of which age groups are most vulnerable to crimes.","2498a5f2":"As expected, other than age column, the rest of the columns are all objects containing strings. Hence, no other data wrangling is necessary. We can proceed with the data visalisation aspect of our work now.\n\n\n# Data Visualisation\n\n\n## 1. Manner of deaths\n\nLet us check how the manner of deaths stack up.","d7eee6e5":"# Introduction\n\nThe recent past events in the United States with respect to the tragic death of George Floyd by the Minneapolis police has been a dark patch for the US police history. Shortly after the death, there has been a global Black Lives Matter and the Police Departments across United States have faced a lot of heat and criticism for the way the situation was handled by the officer in charge.\n\nPolice department plays an extremely important role in the society. Although they've faced extreme and in some cases, deserved cirticism, I would still consider the role of police to be extremely vital in a civilized society. They're incharge of keeping law and order under control when things may go out of hands. Let us not forget that these policemen just like firemen or other emergency workers do not get to take a single day off like most of the remaining population does. Their job could get incredibly difficult and hence, it is important to also trust the police to do their work responsibly. This is especially the case in United States where school shootings and armed robberies are higher than any other country globally.\n\nHere, we will try to work with some data with respect to the number of police shootings. This will give us some idea as to how common are shootings. I am sure the police department would never want to repeat what happened with George Floyd. Knowing the nature of the police, they will be first ones to admit they were wrong and would've handled the situation differently if possible. \n\nI hope the analysis below can shed some light on the current situation in the United States with respect to how the Police deal with threats in the society.\n\n![14793fe8-9476-11e8-acb0-2eccab85240c_1280x720_145725.jpg](attachment:14793fe8-9476-11e8-acb0-2eccab85240c_1280x720_145725.jpg)\n\n\n# Importing the relevant libraries and datasets"}}