{"cell_type":{"900fafa6":"code","9ea918a4":"code","79bea11c":"code","5edc9c99":"code","1a1c7b91":"code","f7ffab09":"code","f5c9eb77":"code","bc279115":"code","7bb4a514":"code","e229aa08":"markdown","c75d9f7c":"markdown","d824a683":"markdown","3e2ef49c":"markdown"},"source":{"900fafa6":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n%matplotlib inline\nimport plotly.offline as py\npy.init_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport plotly.tools as tls\nimport seaborn as sns\nimport time\nimport warnings\nwarnings.filterwarnings('ignore')\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","9ea918a4":"df = pd.read_csv(\"\/kaggle\/input\/climate-change-earth-surface-temperature-data\/GlobalLandTemperaturesByCountry.csv\")","79bea11c":"df.head()","5edc9c99":"# Missing values\ndf.isna().sum()","1a1c7b91":"# Dropping missing values\ndf.dropna(axis = 0, inplace = True)","f7ffab09":"#Average temperature for each country\n\ncountries = np.unique(df['Country'])\nmean_temp = []\nfor country in countries:\n    mean_temp.append(df[df['Country'] == country]['AverageTemperature'].mean())","f5c9eb77":"fig = go.Figure(data=go.Choropleth(\n    locations=countries, # Spatial coordinates\n    z = mean_temp, # Data to be color-coded\n    locationmode = 'country names', # set of locations match entries in `locations`\n    text = countries,\n    colorscale = 'RdBu_r',\n    colorbar_title = \"Average Temp\",\n))\n\nfig.update_layout(\n    title_text = 'Average land temperature in countries',\n    \n)\n\nfig.show()","bc279115":"mean_temp_bar, countries_bar = (list(x) for x in zip(*sorted(zip(mean_temp, countries), \n                                                             reverse = True)))\nsns.set(font_scale=0.9) \nf, ax = plt.subplots(figsize=(5, 50))\ncolors_cw = sns.color_palette('coolwarm', len(countries))\nsns.barplot(mean_temp_bar, countries_bar, palette = colors_cw[::-1])\nText = ax.set(xlabel='Average temperature', title='Average land temperature in countries')","7bb4a514":"global_temp = pd.read_csv(\"\/kaggle\/input\/climate-change-earth-surface-temperature-data\/GlobalTemperatures.csv\")\n\n#Extract the year from a date\nyears = np.unique(global_temp['dt'].apply(lambda x: x[:4]))\nmean_temp_world = []\nmean_temp_world_uncertainty = []\n\nfor year in years:\n    mean_temp_world.append(global_temp[global_temp['dt'].apply(\n        lambda x: x[:4]) == year]['LandAverageTemperature'].mean())\n    mean_temp_world_uncertainty.append(global_temp[global_temp['dt'].apply(\n                lambda x: x[:4]) == year]['LandAverageTemperatureUncertainty'].mean())\n\ntrace0 = go.Scatter(\n    x = years, \n    y = np.array(mean_temp_world) + np.array(mean_temp_world_uncertainty),\n    fill= None,\n    mode='lines',\n    name='Uncertainty top',\n    line=dict(\n        color='LightBlue',\n    )\n)\ntrace1 = go.Scatter(\n    x = years, \n    y = np.array(mean_temp_world) - np.array(mean_temp_world_uncertainty),\n    fill='tonexty',\n    mode='lines',\n    name='Uncertainty bot',\n    line=dict(\n        color='LightBlue',\n    )\n)\n\ntrace2 = go.Scatter(\n    x = years, \n    y = mean_temp_world,\n    name='Average Temp',\n    line=dict(\n        color='red',\n    )\n)\ndata = [trace0, trace1, trace2]\n\nlayout = go.Layout(\n    xaxis=dict(title='year'),\n    yaxis=dict(title='Average Temperature, \u00b0C'),\n    title='Average land temperature in world',\n    showlegend = False)\n\nfig = go.Figure(data=data, layout=layout)\npy.iplot(fig)","e229aa08":"As seen from the chart, the average global temperature is rising. ","c75d9f7c":"# Mapping of Average Temperature in Countries","d824a683":"Reference\n* https:\/\/www.kaggle.com\/amelinvladislav\/map-of-temperatures-and-analysis-of-global-warming\/comments","3e2ef49c":"# Horizontal Bar"}}