{"cell_type":{"1cbac061":"code","70553d64":"code","85a1d8ef":"code","40df53be":"code","aed859bb":"code","b5c56b21":"code","c25ec5ec":"code","ae92b128":"code","c8677fd3":"code","051e9694":"code","19d5b4a0":"code","b8dee436":"code","6b77ec01":"code","0f8964e1":"code","d0ead171":"code","610f0a09":"code","b0e31038":"code","b2c7f0c3":"markdown","886df3bf":"markdown","5a1665fb":"markdown","701b1838":"markdown","15b2abac":"markdown","eefe2dd4":"markdown","b9ce1029":"markdown","ccf45117":"markdown","743ac7a3":"markdown","bb49d064":"markdown","a52309dc":"markdown","f4fed66c":"markdown","79208c4c":"markdown","66383a3d":"markdown","d43b2580":"markdown","9b7debcd":"markdown","3eb13927":"markdown","2aea8c2c":"markdown","3029f4fc":"markdown","a360a789":"markdown","46207415":"markdown","8919d8bc":"markdown","563bf912":"markdown","5e0de763":"markdown","ec7a6a1d":"markdown","38689fc1":"markdown","7cf42d98":"markdown","8d8af8db":"markdown","5752601c":"markdown","db90949c":"markdown"},"source":{"1cbac061":"import numpy as np \nimport pandas as pd \nfrom tqdm import tqdm\nimport glob\nimport os\nimport matplotlib.pyplot as plt\n\n%matplotlib inline","70553d64":"BASE_DIR = '..\/input'","85a1d8ef":"os.listdir(BASE_DIR)","40df53be":"df_train = pd.read_csv(os.path.join(BASE_DIR, 'train.csv'))\nprint(df_train.sample(5))\nprint(\"*\"*40)\nprint(df_train.info())","aed859bb":"df_train.nunique()","b5c56b21":"df_test = pd.read_csv(os.path.join(BASE_DIR, 'test.csv'))\nprint(df_test.sample(5))\nprint(\"*\"*40)\nprint(df_test.info())","c25ec5ec":"df_train_controls = pd.read_csv(os.path.join(BASE_DIR, 'train_controls.csv'))\nprint(df_train_controls.sample(5))\nprint(\"*\"*40)\nprint(df_train_controls.info())\nprint(\"*\"*80)\ndf_test_controls = pd.read_csv(os.path.join(BASE_DIR, 'test_controls.csv'))\nprint(df_test_controls.sample(5))\nprint(\"*\"*40)\nprint(df_test_controls.info())","ae92b128":"print(df_train_controls[\"well_type\"].unique())\nprint(\"*\"*40)\nprint(df_test_controls[\"well_type\"].unique())","c8677fd3":"df_pixel_stats = pd.read_csv(os.path.join(BASE_DIR, 'pixel_stats.csv'))\ndf_pixel_stats_updated = df_pixel_stats.set_index(['id_code','site', 'channel'])\nprint(df_pixel_stats.sample(5))\nprint(\"*\"*40)\nprint(df_pixel_stats_updated.sample(5))\nprint(\"*\"*40)\nprint(df_pixel_stats.info())","051e9694":"df_train[\"plate\"].value_counts().plot(kind = \"bar\")","19d5b4a0":"plt.rcParams['figure.figsize'] = [15, 5]\ndf_train[\"experiment\"].value_counts().plot(kind = \"bar\")","b8dee436":"plt.rcParams['figure.figsize'] = [10, 5]\nprint(df_train_controls[\"well_type\"].value_counts())\ndf_train_controls[\"well_type\"].value_counts().plot(kind = \"bar\")","6b77ec01":"plt.rcParams['figure.figsize'] = [10, 5]\nprint(df_test_controls[\"well_type\"].value_counts())\ndf_test_controls[\"well_type\"].value_counts().plot(kind = \"bar\")","0f8964e1":"plt.rcParams['figure.figsize'] = [10, 5]\nprint(df_pixel_stats[\"site\"].value_counts())\ndf_pixel_stats[\"site\"].value_counts().plot( kind = \"bar\")","d0ead171":"plt.rcParams['figure.figsize'] = [10, 8]\nprint(df_pixel_stats[\"channel\"].value_counts())\ndf_pixel_stats[\"channel\"].value_counts().plot(kind = \"pie\")","610f0a09":"path = []\nfor index in range(6):\n    path.append(os.path.join(\"..\/input\/train\/HUVEC-01\/Plate1\", os.listdir(\"..\/input\/train\/HUVEC-01\/Plate1\")[index]))","b0e31038":"fig, axes = plt.subplots(2, 3, figsize=(24, 16))\nfor index, ax in enumerate(axes.flatten()):\n    img = plt.imread(path[index])\n    ax.axis('off')\n    ax.set_title(os.listdir(\"..\/input\/train\/HUVEC-01\/Plate1\")[index])\n    _ = ax.imshow(img, cmap='gray')","b2c7f0c3":"#### Distribution of \"well_type\" among train\/test control dataset","886df3bf":"### Train metadata","5a1665fb":"#### Distribution of \"experiment\" attribute among train dataset","701b1838":"**Welcome to Recursion Cellular Image Classification competition**.\n<br>This kernel is a basic idea about the data and we will do a basic EDA.","15b2abac":"* Similarly, the number of samples from each experiment is also very stable.","eefe2dd4":"### Visualising image data","b9ce1029":"* So, this shows us that each experiment has a equal number of different plates and dataset is stable.","ccf45117":"## Loading the metadata with Description of metadata","743ac7a3":"* So as already told in the metadata description, the same 30 siRNAs appear on every plate as positive controls. In addition, there is at least one well per plate with untreated cells as a negative control. That's why there is a high number of positive_controls in comparison to negative_controls in our train_controls.csv metadata.\n* Similar fashion can be seen in test_controls.csv metadata as follows:","bb49d064":"### Test metadata","a52309dc":"## Basic EDA","f4fed66c":"#### Distribution of \"plate\" attribute among the train dataset","79208c4c":"### Train\/Test controls metadata","66383a3d":"* At the very last of this notebook, we would like to conclude this very basic EDA with a visualisation of the image data provided to us.","d43b2580":"* Above figure here shows that every image is having 6 different channels, actually all the images are taken with adjusting the wavelength of the apparatus and then can be combined if one wants to visualise them as a single image.","9b7debcd":"Also, from the dataset info available at [RxRx.ai](https:\/\/www.rxrx.ai\/#the-data),\n* Total of 308 wells on which the experiments are performed(277 wells in our training data)\n* Each having 4 plates(namely 1, 2, 3 and 4)\n* Total of 51 experiments(33 experiments in our training data)\n* Each sample having a unique id_code. \n* Also, each well has two different sites both marked with same sirna, details about which can be found in the pixel data.\n\nAll above points can be seen easily from the following code cell. ","3eb13927":"#### Distribution of \"channel\" among pixel stats dataset","2aea8c2c":"Let's start by reading train.csv:","3029f4fc":"### Thanks!","a360a789":"Let's talk a bit about train_controls and test_controls dataset:","46207415":"We are provided with statistics on all the images in the pixel_stats.csv file. This information will allow us to normalize the data, for example by reducing the mean and dividing by the standard deviation.","8919d8bc":"Our test dataset is defined in the similar fashion excepting the \"sirna\" column as expected. Also this dataset too do not contain any missing values.","563bf912":"### Pixel metadata","5e0de763":"Let's now come to our test data:","ec7a6a1d":"* So in above figure, we can see that an experiment is performed on two different sites(namely 1 and 2) in a same well.","38689fc1":"So, according to the data description given with the problem, in each experiment, the same 30 siRNAs appear on every plate as positive controls. In addition, there is at least one well per plate with untreated cells as a negative control. It has the same schema as [train\/test].csv, plus a well_type field denoting the type of control. In our [train\/test]_controls.csv file, we can see that there are two unique well_types given as can be seen from below code cell:","7cf42d98":"Now, our target value, i.e. \"sirna\" has 1108 different values, that basically means that we will need to classify our images into any of the 1108 classes. More details about our target value can be found in the above mentioned link.","8d8af8db":"So, we can see that in our training data, there are five columns in it, among which \"sirna\" will be our label which we will need to predict. So we will talk about \"sirna\" later. For now, we can go to the info section of our data, according to it, our training metadata contains 36515 different rows and there are no missing values, due to which we can consider our data to be already cleaned.","5752601c":"So, we basically have train.csv and test.csv files which contains the major details about our image data, other than these, we also have train_controls.csv, test_controls.csv, pixel_stats.csv, sample_submission.csv files and train and test folder which contains our image data.","db90949c":"#### Distribution of \"site\" among pixel stats dataset"}}