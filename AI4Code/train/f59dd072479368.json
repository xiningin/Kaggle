{"cell_type":{"57076db4":"code","4785b47d":"code","29445254":"code","08592a51":"code","1a688dd5":"code","881489d4":"code","46046491":"code","b525f0c9":"code","56bc5512":"code","f1e62c94":"code","88f4a9c7":"code","d4d5a36f":"code","ac7d4902":"code","79380d2d":"code","b9f060f6":"code","4b3d7e2c":"code","337e5a60":"code","f822a61e":"code","fa49fd18":"code","a58aa7b5":"code","a6a25a5f":"code","318de7d1":"code","e366d7db":"code","113ca7d4":"code","96d4811e":"code","4eb45400":"code","603f4858":"code","73dfe66d":"code","c9c950d8":"code","c298e7d9":"code","f916ca40":"code","0d0891cc":"code","de51c17b":"code","9177116f":"code","b8c52b07":"code","a2cae7f9":"code","df4a17a1":"code","d19f82ab":"code","a9f0ad71":"code","29a0e3f9":"code","9fcd3920":"code","5605d034":"code","5baf6ce2":"code","cd8f2cc2":"code","610d594e":"code","052b7920":"code","28435546":"code","9e35368d":"code","ce37fa4d":"code","0953f31b":"code","d8c95c80":"code","a30a3537":"code","e5dc0ab8":"code","2c5707f1":"code","fea3d4f5":"code","f0bd7518":"code","b234f426":"code","ae17a85e":"code","d43a50a3":"code","51aa5fb9":"code","420720dd":"code","bf78c8ad":"code","284a97a7":"code","c8b6f24e":"code","0418e0fa":"code","66112b36":"code","208564b1":"code","234f9c43":"code","e7efd79c":"code","dd246a55":"code","9c5b5b3c":"code","27786783":"code","1964d47b":"code","f4fa9638":"code","5455b7fe":"code","121a9cce":"code","10ea6c5f":"code","dde37464":"code","fdfe1cfe":"code","f8f12fb9":"code","96b1f665":"code","0edff333":"markdown","91322de5":"markdown","8b7c8248":"markdown","7293c2c7":"markdown","6716cd20":"markdown","53e18482":"markdown","d9fb38dd":"markdown"},"source":{"57076db4":"!conda install -c conda-forge tabula-py --yes","4785b47d":"import numpy as np\nimport pandas as pd\nimport os\nimport matplotlib.pyplot as plt","29445254":"import tabula\ndfs = tabula.read_pdf('https:\/\/www.mhlw.go.jp\/content\/10601000\/000846547.pdf', lattice=True, pages ='all')\nfor i,df in enumerate(dfs):\n    print(i)\n    display(df)","08592a51":"len(dfs)","1a688dd5":"dfs[3]","881489d4":"print(dfs[3].columns.tolist())","46046491":"col0=['No', '\u5e74\u9f62\\r(\u63a5\u7a2e\\r\u6642)', '\u6027\u5225', '\u63a5\u7a2e\u65e5', '\u767a\u751f\u65e5', '\u30ed\u30c3\u30c8\u756a\u53f7', '\u63a5\u7a2e\u56de\u6570', '\u57fa\u790e\u75be\u60a3\u7b49', '\u6b7b\u56e0\u7b49\\r(\u5831\u544a\u8005\u306b\u3088\u308b\u898b\u89e3\u30fb\u8003\u5bdf\u7b49)', '\u5831\u544a\u533b\u304c\\r\u6b7b\u56e0\u7b49\u306e\u5224\u65ad\u306b\\r\u81f3\u3063\u305f\u691c\u67fb', '\u56e0\u679c\u95a2\u4fc2\\r(\u5831\u544a\u533b\u8a55\u4fa1)', '\u4ed6\u8981\u56e0\u306e\u53ef\u80fd\\r\u6027\u306e\u6709\u7121\\r(\u5831\u544a\u533b\u8a55\u4fa1)']\nprint(col0)","b525f0c9":"### START\ndf0=dfs[3][col0]\ndf0","56bc5512":"### END\ndfs[126]","f1e62c94":"#2nd page to last page\nfor i,df in enumerate(dfs[4:127]):\n    if '\u767a\u751f\u65e5' in df.columns.tolist():\n        df=df[col0]\n        df0=pd.concat([df0,df])\n    else:\n        print(i+4,dfs[i+4].columns.tolist())","88f4a9c7":"df0","d4d5a36f":"df1=df0.fillna('N').reset_index(drop=True)\ndf1","ac7d4902":"dropN=[]\nfor i in range(len(df1)):\n    if df1.iloc[i,0]=='N':\n        dropN+=[i]\nprint(dropN)\nprint(len(dropN))","79380d2d":"df2=df1.drop(index=dropN,axis=0)\ndf3=df2.reset_index(drop=True)\ndf3","b9f060f6":"data=df3[['\u5e74\u9f62\\r(\u63a5\u7a2e\\r\u6642)','\u6027\u5225','\u63a5\u7a2e\u65e5','\u767a\u751f\u65e5','\u63a5\u7a2e\u56de\u6570','\u6b7b\u56e0\u7b49\\r(\u5831\u544a\u8005\u306b\u3088\u308b\u898b\u89e3\u30fb\u8003\u5bdf\u7b49)']]\ndata","4b3d7e2c":"data['sex']=data['\u6027\u5225'].map({'\u5973':0,'\u7537':1})\ndata['times']=data['\u63a5\u7a2e\u56de\u6570'].map({'1\u56de\u76ee':1,'2\u56de\u76ee':2})\ndata","337e5a60":"data['\u5e74\u9f62\\r(\u63a5\u7a2e\\r\u6642)'].unique()","f822a61e":"age=[]\n\nfor item in data['\u5e74\u9f62\\r(\u63a5\u7a2e\\r\u6642)']:\n    \n    if item in ['\u9ad8\u9f62\u8005','\u4e0d\u660e','\u6210\u4eba','\u30b3\u30e1\u30f3\u30c8','\u5bfe\u5fdc\u3059\u308bMedDRA PT','\u8a55\u4fa1\u4e0d\u80fd',]:\n        age+=['N'] \n    elif item in ['60\u6b73\u4ee3\\r\u5f8c\u534a','80\u6b73\u4ee3','70\u6b73\u4ee3']:\n        age+=['N']        \n    elif item=='\u203b\\r78\u6b73\\r\u6ce8:4\u6708\\r30\u65e5\u306e\\r\u5408\u540c\u90e8\\r\u4f1a\u8cc7\u6599\\r\u3067\u306f\u3001\\r\u300c78\u300d\u3092\\r\u300c88\u300d\u3068\u8aa4\\r\u8a18\u8f09\u3002':\n        age+=[78]         \n    elif item=='90\u6b73\\r(~5\/26\\r\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\\r\u304f)':\n        age+=[90]                   \n    elif item=='69\u6b73\\r\u219261\u6b73\\r(~6\/23\\r\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\u304d\\r\u8a02\u6b63)':\n        age+=[61]         \n    elif item=='71\u6b73\\r\u219272\u6b73\\r(~6\/23\\r\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\u304d\\r\u8a02\u6b63)':\n        age+=[72]      \n    elif item=='70\u6b73\u4ee3\\r\u219274\u6b73\\r(~8\/25\\r\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\\r\u304f)':\n        age+=[74]        \n    elif item=='81\u6b73\\r\u219282\u6b73\\r(~7\/21\\r\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\\r\u304f)':\n        age+=[82]          \n    elif item=='86\u6b73\\r\u219287\u6b73\\r(~7\/7\\r\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\\r\u304f)':\n        age+=[87] \n    elif item=='70\u6b73\u4ee3\\r\u219274\u6b73\\r(~8\/4\\r\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\\r\u304f)':\n        age+=[74]   \n    elif item=='70\u6b73\u4ee3\\r\u219278\u6b73\\r(~8\/4\\r\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\\r\u304f)':\n        age+=[78]      \n    elif item=='92\u6b73\\r\u219291\u6b73\\r(~8\/25\\r\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\\r\u304f)':\n        age+=[91]             \n    elif item=='60\u6b73\u4ee3\\r\u219265\u6b73\\r(~9\/10\\r\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\\r\u304f)':\n        age+=[65]        \n    elif item=='\u4e0d\u660e\\r\u219292\u6b73\\r(~8\/25\\r\u306e\u60c5\u5831\\r\u306b\u57fa\u3065':\n        age+=[92]  \n    elif item=='60\u6b73\u4ee3\\r\u219264\u6b73\\r\u203b9\u670810\\r\u65e5No.887\\r\u3068\u7d71\u5408':\n        age+=[64] \n    elif item=='80\u6b73\u4ee3\\r\u219283\u6b73\\r(~\\r10\/22\u306e\\r\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        age+=[83]      \n    elif item=='N':\n        age+=['N']        \n    else:\n        item2=item.replace('\u6b73','')\n        age+=[int(item2)]\n\ndata['age']=age\ndata['age'].unique()","fa49fd18":"dayvac=data['\u63a5\u7a2e\u65e5'].unique().tolist()\ndayvac","a58aa7b5":"N_list0=[ '\u30b3\u30e1\u30f3\u30c8','\u75c7\u4f8bNo','N','2021\u5e746\u6708(\u65e5\u4ed8\\r\u4e0d\u660e)','\u4e0d\u660e']","a6a25a5f":"date0=[]\nfor item in data['\u63a5\u7a2e\u65e5']:    \n    \n    if item in N_list0:\n        date0+=['N']\n    elif item== '\u4e0d\u660e\\r\u21922021\u5e746\u670814\\r\u65e5\\r(~8\/25\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date0+=['2021\/6\/14']      \n    elif item=='2021\u5e745\u6708(\u65e5\u4ed8\\r\u4e0d\u660e)\\r\u21922021\u5e745\u670831\\r\u65e5\\r(~8\/25\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date0+=['2021\/5\/31']  \n    elif item=='\u4e0d\u660e\\r\u21922021\u5e746\u67083\u65e5\\r(~8\/25\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date0+=['2021\/6\/3'] \n    elif item=='2021\/5\/14\\r\u6ce8:6\u670823\u65e5\u306e\u5408\\r\u540c\u90e8\u4f1a\u8cc7\u6599\u3067\\r\u306f\u3001\u300c14\u65e5\u300d\u3092\u300c16\\r\u65e5\u300d\u3068\u8aa4\u8a18\u8f09\u3002':\n        date0+=['2021\/5\/14']      \n    elif item=='\u4e0d\u660e\\r\u21922021\u5e744\u670820\\r\u65e5\\r(~7\/7\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date0+=['2021\/4\/20']  \n    elif item=='\u4e0d\u660e\\r\u21922021\u5e745\u670821\\r\u65e5\\r(~7\/21\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date0+=['2021\/5\/21']  \n    elif item== '2021\u5e745\u670826\u65e5\\r(~7\/21\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date0+=['2021\/5\/26'] \n    elif item== '\u4e0d\u660e\\r\u21922021\u5e745\u670826\\r\u65e5\\r(~8\/4\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date0+=['2021\/5\/26']  \n    elif item=='2021\/5\/20\\r(~8\/25\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date0+=['2021\/5\/20']   \n    elif item== '\u4e0d\u660e\\r\u21922021\u5e746\u67086\u65e5\\r\u203b9\u670810\u65e5No.887\\r\u3068\u7d71\u5408':\n        date0+=['2021\/6\/6']     \n    elif item==  '2021\u5e745\u67081\u65e5\\r\u21922021\u5e745\u670820\\r\u65e5':\n        date0+=['2021\/5\/20']    \n    elif item== '2021\u5e745\u6708\u4e0b\u65ec\\r\u21922021\u5e745\u670820\\r\u65e5\\r(~10\/22\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\u304f)':\n        date0+=['2021\/5\/20']     \n    else:\n        item2=item.replace('\u5e74','\/').replace('\u6708','\/').replace('\u65e5','')\n        date0+=[item2]\n        \ndata['date vaccination']=date0\ndata['date vaccination'].unique()","318de7d1":"daydie=data['\u767a\u751f\u65e5'].unique().tolist()\ndaydie","e366d7db":"#\u4e0d\u660e\nN_list1=[\n'\u4e0d\u660e(\u63a5\u7a2e\u5f8c1\u9031\\r\u9593\u4ee5\u5185)',\n'\u4e0d\u660e(\u63a5\u7a2e9\u65e5\\r\u5f8c)',\n'\u4e0d\u660e(\u63a5\u7a2e4\u65e5\\r\u5f8c)',\n'\u4e0d\u660e(\u63a5\u7a2e2\u9031\u9593\\r\u5f8c)','\u4e0d\u660e(2021\u5e745\u6708\\r29\u65e5\u53c8\u306f30\u65e5)',\n'\u4e0d\u660e(\u63a5\u7a2e8\u65e5\\r\u5f8c)',\n'\u4e0d\u660e(2021\u5e746\u6708\\r22\u65e5\u4ee5\u524d)','\u6ce82\\r\u8a55\u4fa1\u306b\u7528\u3044\u305f\u5831\u544a\u5185\u5bb9','\u4e0d\u660e','N','\u4e0d\u660e\\r\u2192\u4e0d\u660e(2021\u5e746\\r\u6708)\\r(~7\/7\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)',\n'2021\/6\/19(\u63a8\\r\u5b9a)\\r\u203b\u691c\u8996\u533b\u304b\u3089\u306e\\r\u5831\u544a\u306b\u57fa\u3065\u304f\u3002',\n]","113ca7d4":"date1=[]\nfor item in data['\u767a\u751f\u65e5']:\n    if item in N_list1:\n        date1+=['N'] \n    elif item=='2021\/6\/14\\r\u21922021\/6\/16\\r\\r(~9\/10\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/16']  \n    elif item=='2021\u5e743\u670827\u65e5\\r\u21922021\u5e743\u670829\\r\u65e5\\r(~8\/25\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/3\/29']          \n    elif item== '2021\/5\/16\\r\u6ce8:5\u670826\u65e5\u306e\u5408\\r\u540c\u90e8\u4f1a\u8cc7\u6599\u3067\\r\u306f\u3001\u6b7b\u4ea1\u65e5\u306e\u300c16\\r\u65e5\u300d\u3092\u75c7\u72b6\u767a\u751f\u65e5\\r\u306e\u300c8\u65e5\u300d\u3068\u8aa4\u8a18\\r\u8f09\u3002':\n        date1+=['2021\/5\/16']           \n    elif item=='2021\/5\/17\\r(~7\/7\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/5\/17']               \n    elif item=='2021\u5e745\u670827\u65e5\\r\u21922021\u5e745\u670828\\r\u65e5\\r(~7\/21\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304d\u8a02\u6b63)':\n        date1+=['2021\/5\/28']      \n    elif item=='2021\u5e746\u670814\u65e5\\r\u21922021\u5e746\u670815\\r\u65e5\\r(~7\/7\u307e\u3067\u306e\u60c5\\r\u5831\u306b\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/15']           \n    elif item=='\u4e0d\u660e\\r\u21922021\u5e746\u67083\u65e5\\r(~8\/25\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/3']               \n    elif item=='\u4e0d\u660e(\u63a5\u7a2e\u5f8c\u7d04\\r10\u65e5)\\r\u21922021\u5e746\u67081\u65e5\\r(~7\/21\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/1']           \n    elif item=='2021\u5e745\u670830\u65e5\\r\u6ce8:6\u670823\u65e5\u306e\u5408\\r\u540c\u90e8\u4f1a\u8cc7\u6599\u3067\\r\u306f\u3001\u300c30\u65e5\u300d\u3092\u300c28\\r\u65e5\u300d\u3068\u8aa4\u8a18\u8f09\u3002':\n        date1+=['2021\/5\/30']\n    elif item=='\u4e0d\u660e(\u63a5\u7a2e\u7d042\u9031\\r\u9593\u5f8c\u30012021\u5e746\\r\u6708)\\r\u21922021\u5e746\u670811\\r\u65e5\\r(~8\/4\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/11']           \n    elif item=='2021\u5e746\u670816\u65e5\\r\u21922021\u5e746\u670815\\r\u65e5\\r(~8\/25\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/15']               \n    elif item=='2021\u5e746\u670826\u65e5\\r\u21922021\u5e746\u670827\\r\u65e5\\r(~8\/25\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/27']           \n    elif item=='2021\u5e746\u670830\u65e5\\r\u21922021\u5e747\u67084\u65e5\\r(~8\/4\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/7\/4']      \n    elif item=='\u4e0d\u660e(\u63a5\u7a2e\u6570\u65e5\\r\u5f8c)\\r\u21922021\u5e746\u670825\\r\u65e5\\r(~8\/4\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/25']  \n    elif item=='2021\u5e746\u6708(\u65e5\u4ed8\\r\u4e0d\u660e)\\r\u21922021\u5e746\u670823\\r\u65e5\\r(~8\/25\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/23']           \n    elif item=='2021\u5e746\u6708(\u65e5\u4ed8\\r\u4e0d\u660e)\\r\u21922021\u5e746\u670814\\r\u65e5\\r(~8\/25\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/14']       \n    elif item=='2021\u5e746\u670818\u65e5\\r\u21922021\u5e746\u670819\\r\u65e5\\r(~8\/25\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/19']           \n    elif item=='2021\u5e747\u67082\u65e5\\r\u21922021\u5e747\u670817\\r\u65e5\\r(~8\/25\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/7\/17']  \n    elif item=='2021\/7\/28\\r\u21922021\/7\/29\\r(~8\/25\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/7\/29']    \n    elif item==' 2021\u5e746\u670814\u65e5\\r\u21922021\u5e746\u670816\\r\u65e5\\r(~9\/10\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/16']       \n    elif item=='2021\u5e747\u67085\u65e5\\r\u21922021\u5e747\u67083\u65e5\\r(~9\/10\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/7\/3']        \n    elif item=='2021\u5e748\u670817\u65e5\\r\u21922021\u5e748\u670814\\r\u65e5\\r(~9\/10\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/8\/14']       \n    elif item=='\u4e0d\u660e\\r\u21922021\u5e747\u670826\\r\u65e5\\r(~9\/10\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/7\/26']            \n    elif item=='\u4e0d\u660e\\r\u21922021\u5e747\u67085\u65e5\\r(~8\/25\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/7\/5']       \n    elif item=='\u4e0d\u660e(\u63a5\u7a2e\u6570\u65e5\\r\u5f8c)\\r\u21922021\u5e746\u670825\\r\u65e5\\r(~9\/10\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/25']        \n    elif item=='\u4e0d\u660e(\u63a5\u7a2e\u7fcc\u65e5)\\r\u21922021\u5e746\u67087\u65e5\\r\u203b9\u670810\u65e5No.887\\r\u3068\u7d71\u5408':\n        date1+=['2021\/6\/7'] \n    elif item=='\u4e0d\u660e\\r\u21922021\u5e746\u670825\\r\u65e5\\r(~10\/1\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/25']         \n    elif item=='\u4e0d\u660e(\u63a5\u7a2e3\u65e5\\r\u5f8c)\\r\u21922021\u5e746\u670826\\r\u65e5\u9803\\r(~10\/1\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/26']        \n    elif item== '2021\u5e746\u670821\u65e5\\r\u53c8\u306f22\u65e5\\r\u21922021\u5e746\u670821\\r\u65e5\\r(~10\/1\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/21']            \n    elif item== '2021\u5e746\u670814\u65e5\\r\u21922021\u5e746\u670816\\r\u65e5\\r(~9\/10\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/16'] \n    elif item== '2021\u5e746\u67084\u65e5\\r\u21922021\u5e746\u67089\u65e5\\r(~10\/22\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/9']          \n    elif item== '2021\u5e746\u670821\u65e5\\r\u53c8\u306f22\u65e5\\r\u21922021\u5e746\u670821\\r\u65e5\\r(~10\/1\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/21']             \n    elif item== '\u4e0d\u660e\\r\u21922021\u5e746\u670815\\r\u65e5\\r(~10\/22\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/15']          \n    elif item== '\u4e0d\u660e\\r\u21922021\u5e746\u67081\u65e5\\r(~10\/22\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/1']   \n    elif item== '\u4e0d\u660e\\r\u21922021\/5\/23\\r\\r(~10\/22\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\u304f)':\n        date1+=['2021\/5\/23']          \n    elif item== '2021\/6\/14\\r\u21922021\/6\/15\\r\\r(~7\/7\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)':\n        date1+=['2021\/6\/15']          \n    else:\n        item2=item.replace('\u5e74','\/').replace('\u6708','\/').replace('\u65e5','')\n        date1+=[item2]    \n\ndata['date mortality']=date1\ndata['date mortality'].unique()","96d4811e":"for i in range(len(data)):\n    if '2021\/6\/14\\r\u21922021\/6\/15\\r\\r(~7\/7\u306e\u60c5\u5831\u306b\\r\u57fa\u3065\u304f)' in data.loc[i,'date mortality']:\n        print(i)","4eb45400":"for i in range(len(data)):\n    if '\u4e0d\u660e\\r\u21922021\/5\/23\\r\\r(~10\/22\u306e\u60c5\u5831\\r\u306b\u57fa\u3065\u304f)' in data.loc[i,'date mortality']:\n        print(i)","603f4858":"data.loc[320,'date mortality']='2021\/6\/15'\ndata.loc[354,'date mortality']='2021\/5\/23'","73dfe66d":"data['date mortality'].unique()","c9c950d8":"Drop1=[]\nfor i,item in enumerate(data['date vaccination']):\n    if item =='N':\n        Drop1+=[i]\nprint(Drop1)","c298e7d9":"Drop2=[]\nfor i,item in enumerate(data['date mortality']):\n    if item =='N':\n        Drop2+=[i]\nprint(Drop2)","f916ca40":"Drop3=sorted(set(Drop1+Drop2))\nprint(Drop3)","0d0891cc":"data=data.drop(index=Drop3,axis=0)\ndata","de51c17b":"data['date vaccination2']=pd.to_datetime(data['date vaccination'])\ndata['date vaccination2']","9177116f":"data['date mortality2']=pd.to_datetime(data['date mortality'])\ndata['date mortality2']","b8c52b07":"data['days']=data['date mortality2']-data['date vaccination2']\ndata","a2cae7f9":"data3=data.copy()\ndata3","df4a17a1":"data2=data['days'].value_counts()\nprint(data2)","d19f82ab":"days_df0=data2\ndays_df0=pd.DataFrame(days_df0)\ndays_df0[1]=data2.index.days\ndays_df0.columns=['n','days after vaccination']\ndays_df1=days_df0[days_df0['days after vaccination']<=21][0<=days_df0['days after vaccination']]\ndays_df2=days_df1.sort_values(['days after vaccination'])\ndays_df3=days_df2.set_index('days after vaccination')","a9f0ad71":"days_df3","29a0e3f9":"days_df3.plot.bar(y=['n'],alpha=0.8,figsize=(12,6))\nplt.title(\"Case fatality after vaccination of Pfizer's in Japan (-Sep12) \",size=24)\nplt.ylabel('days after vaccination')\nplt.ylabel('cases')\nplt.savefig('.\/FATAL_pfizer_sep12.jpg')\nplt.show()","9fcd3920":"datak=data[data['\u6b7b\u56e0\u7b49\\r(\u5831\u544a\u8005\u306b\u3088\u308b\u898b\u89e3\u30fb\u8003\u5bdf\u7b49)']=='\u304f\u3082\u819c\u4e0b\u51fa\u8840']\ndata2k=datak['days'].value_counts()","5605d034":"days_df0=data2k\ndays_df0=pd.DataFrame(days_df0)\ndays_df0[1]=data2k.index.days\ndays_df0.columns=['n','days after vaccination']\ndays_df1=days_df0[days_df0['days after vaccination']<=21][0<=days_df0['days after vaccination']]\ndays_df2=days_df1.sort_values(['days after vaccination'])\ndays_df3=days_df2.set_index('days after vaccination')","5baf6ce2":"days_df3.plot.bar(y=['n'],alpha=0.8,figsize=(12,6))\nplt.title(\"Case subarachnoid hemorrhage after vaccination of Pfizer's in Japan (-Sep12) \",size=18)\nplt.ylabel('days after vaccination')\nplt.ylabel('cases')\nplt.savefig('.\/FATAL_pfizer_sep12.jpg')\nplt.show()","cd8f2cc2":"words=[]\nfor item0 in list(data['\u6b7b\u56e0\u7b49\\r(\u5831\u544a\u8005\u306b\u3088\u308b\u898b\u89e3\u30fb\u8003\u5bdf\u7b49)'].unique()):\n    words+=[str(item0).replace('\\r','').replace('\u306e\u60c5\u5831\u306b\u57fa\u3065\u304f','').replace('\u307e\u3067','').replace('\u4e0d\u660e\u2192','')\n        .replace('\/','').replace('0','').replace('1','').replace('2','').replace('3','').replace('4','')\n        .replace('5','').replace('6','').replace('7','').replace('8','').replace('9','').replace('()','')\n        .replace('(~)','').replace('\u203b','').replace('(\u4e07)','').replace('(~\u6708\u65e5)','').replace('(\u5ea6)','')]\nwords2=pd.Series(words).unique()\nprint(sorted(list(words2)))","610d594e":"query=['\u5165\u6d74','\u8001\u8870','\u81ea\u6bba','\u547c\u5438','\u5fc3','\u8133','\u8840','\u80ba','\u4e8b\u6545']\nquery_number=[]\nquery_txt=[]\nfor item in query:\n    t=0\n    for item2 in data['\u6b7b\u56e0\u7b49\\r(\u5831\u544a\u8005\u306b\u3088\u308b\u898b\u89e3\u30fb\u8003\u5bdf\u7b49)'].to_list():\n        if item in item2:\n            query_txt+=[[item,item2]]\n            t+=1\n    query_number+=[t]\n    \ndf=pd.DataFrame(query)\ndf[1]=query_number\ndf.columns=['\u30ad\u30fc\u30ef\u30fc\u30c9','\u4f8b\u6570']\ndf1=df.sort_values('\u4f8b\u6570',ascending=False).reset_index(drop=True)\ndf1","052b7920":"query_txt","28435546":"items=[]\nfor item in query_txt:\n    if item[0]=='\u8840':\n         items+=[item[1]]\nprint(pd.Series(items).value_counts()[0:10])","9e35368d":"items2=[]\nfor item in query_txt:\n    if item[0]=='\u5fc3':\n         items2+=[item[1]]\nprint(pd.Series(items2).value_counts()[0:10])","ce37fa4d":"data3","0953f31b":"data4=data3[['sex','times','age']].reset_index(drop=True)\ndata4","d8c95c80":"N=data4[data4['age']=='N'].index.tolist()\nN","a30a3537":"data4=data4.drop(index=data4.index[N])\ndata4['number']=1\ndata4['age_band']=data4['age'].apply(lambda x:int(x\/10))\ndata4","e5dc0ab8":"data4['age'].min()","2c5707f1":"data3[data3['age']==22]","fea3d4f5":"data5a=data4.groupby('age_band').sum()\ndata5a","f0bd7518":"data5a.plot.bar(y=['number'],alpha=0.8,figsize=(12,6))\nplt.title(\"Case fatality after vaccination of Pfizer's by age band\",size=24)\nplt.xlabel('age band')\nplt.ylabel('cases')\nplt.show()","b234f426":"data5b=data4.groupby('times').sum()\ndata5b","ae17a85e":"data5b.plot.bar(y=['number'],alpha=0.8,figsize=(12,6))\nplt.title(\"Case fatality after vaccination of Pfizer's by vacination times\",size=24)\nplt.xlabel('times')\nplt.ylabel('cases')\nplt.show()","d43a50a3":"data5c=data4.groupby('sex').sum()\ndata5c","51aa5fb9":"data5c.plot.bar(y=['number'],alpha=0.8,figsize=(12,6))\nplt.title(\"Case fatality after vaccination of Pfizer's by sex\",size=24)\nplt.xlabel('sex')\nplt.ylabel('cases')\nplt.show()\n# 0:female,1:male","420720dd":"del data\ndel data2","bf78c8ad":"dfs = tabula.read_pdf('https:\/\/www.mhlw.go.jp\/content\/10601000\/000846548.pdf', lattice=True, pages ='all')\nfor i,df in enumerate(dfs):\n    print(i)\n    display(df)","284a97a7":"len(dfs)","c8b6f24e":"dfs[3]","0418e0fa":"col0","66112b36":"col1=['No',\n '\u5e74\u9f62\\r(\u63a5\u7a2e\\r\u6642)',\n '\u6027\u5225',\n '\u63a5\u7a2e\u65e5',\n '\u767a\u751f\u65e5',\n '\u30ed\u30c3\u30c8\u756a\u53f7',\n '\u63a5\u7a2e\u56de\u6570',\n '\u57fa\u790e\u75be\u60a3\u7b49',\n '\u6b7b\u56e0\u7b49\\r(\u5831\u544a\u8005\u306b\u3088\u308b\u898b\u89e3\u30fb\u8003\u5bdf\u7b49)',\n '\u5831\u544a\u533b\u304c\\r\u6b7b\u56e0\u7b49\u306e\u5224\u65ad\u306b\\r\u81f3\u3063\u305f\u691c\u67fb',\n '\u56e0\u679c\u95a2\u4fc2\\r(\u5831\u544a\u533b\u8a55\u4fa1)',\n]\nprint(col1)","208564b1":"df0=dfs[3][col1]\ndf0","234f9c43":"for i,df in enumerate(dfs[4:7]):\n    if '\u767a\u751f\u65e5' in df.columns.tolist():\n        df=df[col1]\n        df0=pd.concat([df0,df])\n    else:\n        print(i+4,dfs[i+4].columns.tolist())","e7efd79c":"df1=df0.fillna('N').reset_index(drop=True)\ndf1","dd246a55":"N=[]\nfor i in range(len(df1)):\n    if df1.iloc[i,0]=='N':\n        N+=[i]\nprint(N)\nprint(len(N))","9c5b5b3c":"df2=df1.drop(index=N,axis=0)\ndf3=df2.reset_index(drop=True)\ndf3\n\ndata=df3[['\u5e74\u9f62\\r(\u63a5\u7a2e\\r\u6642)','\u6027\u5225','\u63a5\u7a2e\u65e5','\u767a\u751f\u65e5','\u63a5\u7a2e\u56de\u6570','\u6b7b\u56e0\u7b49\\r(\u5831\u544a\u8005\u306b\u3088\u308b\u898b\u89e3\u30fb\u8003\u5bdf\u7b49)']]\ndata","27786783":"data['sex']=data['\u6027\u5225'].map({'\u5973':0,'\u7537':1})\ndata['times']=data['\u63a5\u7a2e\u56de\u6570'].map({'1\u56de\u76ee':1,'2\u56de\u76ee':2})\ndata","1964d47b":"age=[]\nfor item in data['\u5e74\u9f62\\r(\u63a5\u7a2e\\r\u6642)']:\n    item2=item.replace('\u6b73','')\n    if len(item2)<4 and item2!='\u4e0d\u660e':\n        age+=[int(item2)]\n    else:\n        age+=['N']\ndata['age']=age\ndata","f4fa9638":"date0=[]\nfor item in data['\u63a5\u7a2e\u65e5']:\n    if '\u8a55\u4fa1\u4e0d\u80fd' in item:\n        date0+=['N']\n    else:\n        date0+=[item.replace('\u5e74','\/').replace('\u6708','\/').replace('\u65e5','')]\ndata['date vaccination']=date0","5455b7fe":"date1=[]\nfor i,item in enumerate(data['\u767a\u751f\u65e5']):\n    if '\u4e0d\u660e' in item:\n        date1+=['N']\n    elif '\u4e0d\u80fd' in item:\n        date1+=['N']\n    else:    \n        date1+=[item.replace('\u5e74','\/').replace('\u6708','\/').replace('\u65e5','')]\ndata['date mortality']=date1\ndata","121a9cce":"print(data[data['date vaccination']=='N'].index.tolist())\nprint(data[data['date mortality']=='N'].index.tolist())","10ea6c5f":"data=data.drop(index=[6],axis=0)\ndata=data.reset_index(drop=True)","dde37464":"data['date vaccination2']=pd.to_datetime(data['date vaccination'])\ndata['date mortality2']=pd.to_datetime(data['date mortality'])\ndata['days']=data['date mortality2']-data['date vaccination2']\ndata","fdfe1cfe":"data2m=data['days'].value_counts()\nprint(data2m)","f8f12fb9":"days_df0=data2m\ndays_df0=pd.DataFrame(days_df0)\ndays_df0[1]=data2m.index.days\ndays_df0.columns=['n','days after vaccination']\ndays_df1=days_df0[days_df0['days after vaccination']<=21][0<=days_df0['days after vaccination']]\ndays_df2=days_df1.sort_values(['days after vaccination'])\ndays_df3=days_df2.set_index('days after vaccination')","96b1f665":"days_df3.plot.bar(y=['n'], alpha=0.8, figsize=(12,6))\nplt.title(\"Case fatality after vaccination of Moderna's in Japan (-Sep12)\" , size=24)\nplt.ylabel('days after vaccination')\nplt.ylabel('cases')\nplt.savefig('.\/FATAL_moderna_sep12.jpg')\nplt.show()","0edff333":"### **\u5e74\u9f62\u30fb\u63a5\u7a2e\u56de\u6570\u30fb\u6027\u5225**","91322de5":"## Number of fatal cases was extremely high 1 day after vaccination and relatively high until 7 days after vaccination, which might indicate that these fatalities are related to vaccination. \n* If not related to vaccination, number shoud be almost constant on days. \n* Even if the relation between vaccination and fatality cannot be judged in each case, it is apparent that there is a relation between them as a whole.\n* This tendency is similar to the result on 'The Vaccine Adverse Event Reporting System (VAERS)'.\n* Check also: https:\/\/www.kaggle.com\/stpeteishii\/covid19-vaccination-risk\/data","8b7c8248":"# **\u7b2c71\u56de\u539a\u751f\u79d1\u5b66\u5be9\u8b70\u4f1a\u4e88\u9632\u63a5\u7a2e\u30fb\u30ef\u30af\u30c1\u30f3\u5206\u79d1\u4f1a\u526f\u53cd\u5fdc\u691c\u8a0e\u90e8\u4f1a**\n### \u7b2c20\u56de \u85ac\u4e8b\u30fb\u98df\u54c1\u885b\u751f\u5be9\u8b70\u4f1a\u85ac\u4e8b\u5206\u79d1\u4f1a \u533b\u85ac\u54c1\u7b49\u5b89\u5168\u5bfe\u7b56\u90e8\u4f1a\u5b89\u5168\u5bfe\u7b56\u8abf\u67fb\u4f1a\uff08\u5408\u540c\u958b\u50ac\uff09\u3000\n#### \u4ee4\u548c\uff13\u5e7410\u670822\u65e5\uff08\u91d1\uff09","7293c2c7":"## Data Source\n* https:\/\/www.mhlw.go.jp\/stf\/shingi2\/0000208910_00033.html\n* https:\/\/www.mhlw.go.jp\/content\/10601000\/000846547.pdf\u3000(\u30d5\u30a1\u30a4\u30b6\u30fc)\n* https:\/\/www.mhlw.go.jp\/content\/10601000\/000846548.pdf\u3000(\u30e2\u30c7\u30eb\u30ca)","6716cd20":"#### \u8cc7\u65991-3-2\n## **\u30e2\u30c7\u30eb\u30ca\u7b4b\u6ce8(\u6b66\u7530\u85ac\u54c1\u5de5\u696d\u682a\u5f0f\u4f1a\u793e)\u63a5\u7a2e\u5f8c\u306b\u6b7b\u4ea1\u3068\u3057\u3066\u5831\u544a\u3055\u308c\u305f\u4e8b\u4f8b**\n#### \u4ee4\u548c3\u5e745\u670822\u65e5\u304b\u3089\u4ee4\u548c3\u5e7410\u670815\u65e5\u307e\u3067\u306e\u5831\u544a\u5206","53e18482":"#### \u8cc7\u65991-3-1\n## **\u30b3\u30df\u30ca\u30c6\u30a3\u7b4b\u6ce8(\u30d5\u30a1\u30a4\u30b6\u30fc\u682a\u5f0f\u4f1a\u793e)\u63a5\u7a2e\u5f8c\u306b\u6b7b\u4ea1\u3068\u3057\u3066\u5831\u544a\u3055\u308c\u305f\u4e8b\u4f8b**\n#### \u4ee4\u548c3\u5e742\u670817\u65e5\u304b\u3089\u4ee4\u548c3\u5e7410\u670815\u65e5\u307e\u3067\u306e\u5831\u544a\u5206","d9fb38dd":"### **\u6b7b\u56e0\u7b49(\u5831\u544a\u8005\u306b\u3088\u308b\u898b\u89e3\u30fb\u8003\u5bdf\u7b49)**"}}