{"cell_type":{"416c334a":"code","0d83057c":"code","4e469b00":"code","57da5dde":"code","81141d2f":"markdown","c8990c4d":"markdown","13a7284b":"markdown","c6e98c92":"markdown","24545298":"markdown","4da10859":"markdown","69ee7152":"markdown","ae89ca4d":"markdown"},"source":{"416c334a":"import pandas as pd\nimport plotly.express as px","0d83057c":"df = pd.read_json(\"..\/input\/museos-tenerife-json-cabildo-canarias\/museos1.json\")\ndf","4e469b00":"fig_px = px.scatter_mapbox(df, lat=\"Latitud\", lon=\"Longitud\",\n                           hover_name=\"Nombre\",\n                           zoom=11, height=300)\nfig_px.update_layout(mapbox_style=\"open-street-map\",\n                     margin={\"r\":0,\"t\":0,\"l\":0,\"b\":0})\n\nfig_px.show()","57da5dde":"fig_px.update_traces(marker={\"size\": [10 for x in df]})","81141d2f":"However, I see two issues in this map:\n\n  1. Points are very little.\n  2. It should show more data about the museum (to use a bit more the dataset), may be its phone number and the website, just to test.","c8990c4d":"## TO-DO\nIn the next version we will check how to update the data to show for each point.","13a7284b":"## Let's start!","c6e98c92":"After read a bit about Plotly and its capacity to show points in a map, I decided to use Plotly Express, due it seems easier to render the OpenStreetMap tiles. However, in future versions of this notebook I will try to render OSM tiles with just Plotly.","24545298":"# Museums in Santa Cruz de Tenerife: location map\n\nThis notebook use the data of the [Museos Tenerife json (Cabildo Canarias)](https:\/\/www.kaggle.com\/jersey33\/museos-tenerife-json-cabildo-canarias), its title and description is ambigous, because the dataset is just for the museums in the municipality of Santa Cruz de Tenerife and San Crist\u00f3bal de La Laguna, not for the island of Tenerife. It may be due two reasons:\n  1. these are just a few museums and the dataset is incomplete.\n  2. the dataset refers just to the museums that rules the Cabildo Insular de Tenerife and all of them are concentrated in this two municipalities.\n  \nIn addition, the dataset hasn't a license specified nor link to the original website where the data was downloaded.\n\nBut even with the exposed above, I feel this very near to me in interests and geographically, so I decided to use for some tests. In this case I am very interested in:\n\n  - Handle JSON data with `pandas`.\n  - Use Plotly to generate a map and locate the records.","4da10859":"**Note**. There are points very near hard to distinguish. Look above San Crist\u00f3bal de La Laguna and below La Manzanilla, there are two museums.","69ee7152":"## Location map\n\nIn this case we are going to create a `fig_px` (I usually use `fig`, but I want to internalize that I am using Plotly Express). So in `fig_px` we create a scatter Mapbox graph object (`px.scatter_mapbox`) and there we call the dataframe in the first argument, then we point `lat` (latitude) and `lon` (longitud) arguments to their respective columns, `Latitud` and `Longitud`. This is very interesting because the way to work of the Plotly Express graph objects is different than just with Plotly.\n\nThen we update the `fig_px` layout specifying the style (tiles to use) and the margin of the map (in future versions we will seen in depth this).\n\nAnd finally we do the magic!","ae89ca4d":"The dataset is in JSON format. It hasn't a lot of data about the museums, but there are the longitude and latitude coordinates, so it is enough for the main purpose of this notebook."}}