{"cell_type":{"95ec01f5":"code","8072a6d3":"code","24257b7b":"code","e04b9a77":"code","5648ae28":"code","bad60d65":"code","e9ceca2f":"code","e2b5aad1":"code","573ad5f3":"code","8f263fcf":"code","c2d4a0b6":"code","ea3f40f8":"code","29250651":"code","1a64b0d5":"code","d201e532":"code","8bdcd703":"code","2412c1da":"code","52f4f569":"code","c29a0a15":"code","97178dec":"code","64b5ab10":"code","c55b6aa4":"code","7498a1ec":"code","ed0e9da5":"code","6d8d85fa":"code","3c982314":"code","58c00967":"code","1e22a4a6":"code","5b86798b":"code","317bd430":"code","a1ea6d85":"code","3548de09":"code","e04e8756":"code","5f5d12af":"code","d48262df":"code","3f368a02":"code","2518511b":"code","06ff3c27":"code","358f4fb3":"code","e1172a3d":"code","ac7431c9":"code","bfc3c878":"code","49eaccad":"code","548f4312":"code","a2ea36c8":"code","bef9b12b":"code","9b2a61c8":"code","9e440771":"code","2a96abbf":"code","fd280d2f":"code","adf9749b":"code","3db2298e":"code","23e4892c":"code","381122fa":"code","6605df14":"code","5ed303b0":"code","8f8b1f48":"code","7180b1b0":"code","14d19098":"code","90e040ef":"code","81dd5cab":"code","54612f8b":"code","eabfa735":"code","16c5e9a7":"code","d3c6f93b":"code","580a0df2":"code","4740c374":"code","e566f718":"code","e770f128":"code","2cd822a2":"code","94f4a5cf":"code","d5cdd281":"code","eb92b020":"code","f4da46b1":"code","9b75a86a":"code","956806d3":"code","d2e2d326":"code","d6b77756":"code","54623909":"markdown","ebd4b2b4":"markdown","382449f0":"markdown","8e60c94e":"markdown","95cdd2db":"markdown","685fe9ce":"markdown","e8cf9191":"markdown","d9f431c1":"markdown","76a58102":"markdown","8498c07b":"markdown","74f26f2b":"markdown","73ac47aa":"markdown","8748fb80":"markdown","d649cfef":"markdown","f939079b":"markdown","e7d58878":"markdown","51d6574f":"markdown","09799631":"markdown","3883a74e":"markdown","8e541ea6":"markdown","d6cd4cbd":"markdown","e57768ed":"markdown","471ff436":"markdown","233015e2":"markdown","5e94b855":"markdown","d7b6a57e":"markdown","6d0ff93d":"markdown","26a34046":"markdown","c9358009":"markdown","72dce313":"markdown","29875f28":"markdown","4fb8d4df":"markdown","4a38192a":"markdown","d84d0503":"markdown","4f6ad8e3":"markdown","0dbbee70":"markdown","6d060aff":"markdown","bde967a5":"markdown","fb30568b":"markdown","1637e7b6":"markdown","87a09992":"markdown","0d166a75":"markdown","8d2b733a":"markdown","3ddbc6cb":"markdown"},"source":{"95ec01f5":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport scipy.stats as sc","8072a6d3":"data=pd.read_csv(\"\/kaggle\/input\/google-play-store-apps\/googleplaystore.csv\")","24257b7b":"data.head(10)","e04b9a77":"data.isnull().sum()","5648ae28":"(data.isnull().sum()\/data.shape[0])*100","bad60d65":"data = data[data.Rating <= 5.0]\ndata = data[data.Rating >= 0]","e9ceca2f":"xt=data['Rating'].hist(bins=15, density=True, stacked=True, color='teal', alpha=0.6)\ndata[\"Rating\"].plot(kind='density', color='teal')\n\nplt.grid()\nplt.xlim(-1,6)\nplt.show()","e2b5aad1":"data1=data[['App','Category','Rating','Reviews','Size','Installs','Type','Price','Content Rating','Genres']]","573ad5f3":"t_data=data1[pd.notnull(data1['Rating'])]\nmean=np.mean(t_data['Rating'])\nmedian=np.median(t_data['Rating'])\nmode=sc.mode(t_data['Rating'])\n\nprint(mean,median,mode)","8f263fcf":"data1.shape","c2d4a0b6":"data1['Rating'].fillna(median,inplace=True)\n\ndata1.dropna(inplace=True)","ea3f40f8":"data1.isnull().sum()","29250651":"(data1.duplicated().value_counts()\/data1.shape[0])*100","1a64b0d5":"data1.drop_duplicates(inplace=True) ","d201e532":"data1.info()","8bdcd703":"data1['Installs']=data1['Installs'].str.replace(',','').str.replace('+','').astype('int')","2412c1da":"data1['Reviews']=data1['Reviews'].astype('int')","52f4f569":"data1['Size']=data1['Size'].str.replace('M','e+6').str.replace('k','e+3').str.replace('Varies with device','0').astype('float')","c29a0a15":"data1['Price']=data1['Price'].str.replace('$','').astype('float')","97178dec":"data1.head(10)","64b5ab10":"plt.figure(figsize=(40,10))\ndata1['Category'].value_counts().head(10).plot(kind='pie',autopct='%1.1f%%')\nplt.title(\"Top 10 des cat\u00e9gories\")\nplt.show()\nplt.figure(figsize=(40,10))\ndata1['Category'].value_counts().plot(kind='bar')\nplt.xlabel('Category')\nplt.ylabel('freq.')\nplt.grid()\nplt.show()","c55b6aa4":"plt.figure(figsize=(40,10))\nexplode=[0.01,0.1,0.1,0.1,0.1,0.5]\ndata1['Content Rating'].value_counts().plot(kind='pie',autopct=\"%.2f%%\",explode=explode)\nplt.legend()\nplt.title(\"Content Rating\")\nplt.show()\n\nplt.figure(figsize=(5,5))\ndata1['Content Rating'].value_counts().plot(kind='bar')\nplt.xlabel('Content Rating')\nplt.ylabel('freq.')\nplt.grid()\nplt.show()","7498a1ec":"plt.figure(figsize=(5,5))\ndata1['Genres'].value_counts().head(5).plot(kind='bar')\nplt.xlabel('Genres')\nplt.ylabel('freq.')\nplt.title(\"Top 5 des genres d'application\")\nplt.show()","ed0e9da5":"plt.figure(figsize=(10,10))\nexplode=[0.1,0]\ndata1['Type'].value_counts().plot(kind='pie',autopct=\"%.1f%%\",explode=explode)\nplt.legend()\nplt.title(\"Gratuit VS Payant\")\nplt.show()\nplt.figure(figsize=(10,10))\ndata1['Type'].value_counts().plot(kind='bar')\nplt.xlabel('Type')\nplt.ylabel('freq.')\nplt.show()","6d8d85fa":"data1[data1['Size']==data1['Size'].max()]","3c982314":"data1[data1['Installs']==data1['Installs'].max()]","58c00967":"data1[data1['Reviews']==data1['Reviews'].max()]","1e22a4a6":"import seaborn as sns\nsorte = data1.sort_values(['Reviews'],ascending = 0 )[:20]\nax = sns.barplot(x = 'Reviews' , y = 'App', data = sorte  )\nax.set_xlabel('Reviews')\nax.set_ylabel('')\nax.set_title(\"Applications avec le plus d'avis\", size = 20)","5b86798b":"data_cat=data1[data1['Category']=='FAMILY'].sort_values(['Installs'],ascending=0)[:20]\nax = sns.barplot(x = 'Installs' , y = 'App' , data = data_cat )\nax.set_xlabel('APPs')\nax.set_ylabel('Applications install\u00e9es dans la cat\u00e9gorie FAMILY')\nax.set_title(\"TOP App dans la cat\u00e9gorie FAMILY dans le Playstore\", size = 20)\n","317bd430":"data_cat=data1[data1['Category']=='GAME'].sort_values(['Installs'],ascending=0)[:20]\nax = sns.barplot(x = 'Installs' , y = 'App' , data = data_cat )\nax.set_xlabel('APPs')\nax.set_ylabel('Applications install\u00e9es dans la cat\u00e9gorie GAME')\nax.set_title(\"Jeux les plus t\u00e9l\u00e9charg\u00e9s dans le playstore\", size = 20)\n","a1ea6d85":"data_cat=data1[data1['Category']=='TOOLS'].sort_values(['Installs'],ascending=0)[:20]\n\nax = sns.barplot(x = 'Installs' , y = 'App' , data = data_cat )\nax.set_xlabel('APPs')\nax.set_ylabel('Applications install\u00e9es dans la cat\u00e9gorie TOOLS')\nax.set_title(\"Utilitaires les plus t\u00e9l\u00e9charg\u00e9s dans le playstore\", size = 20)","3548de09":"data_cat=data1[data1['Category']=='BUSINESS'].sort_values(['Installs'],ascending=0)[:10]\n\nax = sns.barplot(x = 'Installs' , y = 'App' , data = data_cat )\nax.set_xlabel('APPs')\nax.set_ylabel('Applications install\u00e9es dans la cat\u00e9gorie BUSINESS')\nax.set_title(\"Applications de travail les plus t\u00e9l\u00e9charg\u00e9es dans le playstore\", size = 20)","e04e8756":"data1.head()","5f5d12af":"dummy_C = pd.get_dummies(data1['Category'])\ndel dummy_C[dummy_C.columns[-1]]#To avoid dummy variable trap\ndata1 = pd.concat([data1, dummy_C], axis = 1)","d48262df":"dummy_T = pd.get_dummies(data1['Type'])\ndel dummy_T[dummy_T.columns[-1]]#To avoid dummy variable trap\ndata1 = pd.concat([data1, dummy_T], axis = 1)","3f368a02":"dummy_G = pd.get_dummies(data1[\"Genres\"])\ndel dummy_G[dummy_G.columns[-1]]#To avoid dummy variable trap\ndata1 = pd.concat([data1, dummy_G], axis = 1)","2518511b":"dummy = pd.get_dummies(data1['Content Rating'])\ndel dummy[dummy.columns[-1]]\ndata1 = pd.concat([data1, dummy], axis = 1)","06ff3c27":"data1.head()","358f4fb3":"data1.shape","e1172a3d":"datamodel = data1.drop([\"Category\", \"Type\", \"Content Rating\", \"Genres\", \"App\"], axis =1)","ac7431c9":"datamodel","bfc3c878":"datamodel.shape","49eaccad":"from sklearn.model_selection import train_test_split","548f4312":"X = datamodel.loc[:, datamodel.columns != \"Rating\"]","a2ea36c8":"y = datamodel['Rating']","bef9b12b":"X_train, X_test, y_train, y_test = train_test_split(X, y, test_size = 0.3, random_state = 10)","9b2a61c8":"from sklearn.linear_model import LinearRegression","9e440771":"lr = LinearRegression()","2a96abbf":"model_lr= lr.fit(X_train, y_train)","fd280d2f":"y_pred_lr = model_lr.predict(X_test)","adf9749b":"y_pred_lr","3db2298e":"predict_dataframe_lr = pd.DataFrame(data={\"Predicted\": y_pred_lr, \"Actual\": y_test})","23e4892c":"predict_dataframe_lr","381122fa":"plt.figure(figsize=(12,12))\nplt.scatter(y_test, y_pred_lr)\nplt.plot([y_test.min(),y_test.max()],[y_test.min(),y_test.max()], color='red', linewidth=3)\nplt.xlabel(\"Note\")\nplt.ylabel(\"Prediction de la note\")\nplt.title(\"Notes r\u00e9elles vs predictions\")","6605df14":"predict_dataframe_lr[:40].plot(kind = \"bar\", figsize = (20,8))","5ed303b0":"model_lr.score(X_test, y_test)","8f8b1f48":"from sklearn.ensemble import RandomForestRegressor","7180b1b0":"rfr = RandomForestRegressor()","14d19098":"modef_rfr = rfr.fit(X_train, y_train)","90e040ef":"y_pred_rfr = modef_rfr.predict(X_test)","81dd5cab":"rfr_df = pd.DataFrame(data={\"Predicted\": y_pred_rfr, \"Actual\": y_test})","54612f8b":"rfr_df","eabfa735":"modef_rfr.score(X_test, y_test)","16c5e9a7":"plt.figure(figsize=(12,12))\nplt.scatter(y_test, y_pred_rfr)\nplt.plot([y_test.min(),y_test.max()],[y_test.min(),y_test.max()], color='red', linewidth=3)\nplt.xlabel(\"Note\")\nplt.ylabel(\"Prediction de la note\")\nplt.title(\"Notes r\u00e9elles vs predictions\")","d3c6f93b":"rfr_df[:40].plot(kind = \"bar\", figsize = (20,8))","580a0df2":"import xgboost","4740c374":"from xgboost import XGBRegressor","e566f718":"model_xg=XGBRegressor()","e770f128":"model_xg.fit(X_train, y_train)","2cd822a2":"y_pred_xg = model_xg.predict(X_test)","94f4a5cf":"y_pred_xg","d5cdd281":"xgb_df = pd.DataFrame(data={\"Predicted\": y_pred_xg, \"Actual\": y_test})","eb92b020":"xgb_df","f4da46b1":"model_xg.score(X_test, y_test)","9b75a86a":"plt.figure(figsize=(12,12))\nplt.scatter(y_test, y_pred_xg)\nplt.plot([y_test.min(),y_test.max()],[y_test.min(),y_test.max()], color='red', linewidth=3)\nplt.xlabel(\"Note\")\nplt.ylabel(\"Prediction de la note\")\nplt.title(\"Notes r\u00e9elles vs predictions\")","956806d3":"xgb_df[:40].plot(kind = \"bar\", figsize = (20,8))","d2e2d326":"from sklearn.metrics import r2_score\nr2_score(y_test, y_pred_xg)","d6b77756":"print(\"Linear Regression Score: \", model_lr.score(X_test, y_test))\nprint(\"Random Forest Regressor Score: \", modef_rfr.score(X_test, y_test))\nprint(\"XGBoost Regressor Score: \", model_xg.score(X_test, y_test))","54623909":"## Entrainement","ebd4b2b4":"## Entrainement","382449f0":"## TOP des applications de travail dans le playstore","8e60c94e":"## Comparaison R\u00c9EL \/ PR\u00c9DICTIONS","95cdd2db":"## D\u00e9coupage du dataset pour visualisation","685fe9ce":"## TOP des jeux du playstore","e8cf9191":"## Performances","d9f431c1":"## Arrondissment des X+ \u00e0 X","76a58102":"## TOP des cat\u00e9gories de personne qui ont attribu\u00e9 des \u00e9toiles","8498c07b":"## Description des notes attribu\u00e9es (pour la normalisation)","74f26f2b":"# Deuxi\u00e8me mod\u00e8le de pr\u00e9diction","73ac47aa":"## Pr\u00e9diction","8748fb80":"# Premier mod\u00e8le de pr\u00e9diction","d649cfef":"# Comparaison des r\u00e9sulats des diff\u00e9rents mod\u00e8les\nLe grand gagnant est XGBOOST, mais bon, \u00e7a marche pas tr\u00e8s bien quand m\u00eame","f939079b":"## TOP des cat\u00e9gories","e7d58878":"## Performances","51d6574f":"## Comparaison R\u00c9EL \/ PR\u00c9DICTIONS","09799631":"## TOP des utilitaires dans le playstore","3883a74e":"## Retrait des cat\u00e9gories qui ont \u00e9t\u00e9 transform\u00e9es et de leurs titre","8e541ea6":"## Transformation des 45K --> 45 000","d6cd4cbd":"## Entrainement","e57768ed":"## Application les plus install\u00e9es","471ff436":"## Pr\u00e9paration des donn\u00e9es","233015e2":"# Formatage des donn\u00e9es","5e94b855":"## Pr\u00e9dictions","d7b6a57e":"## Performances","6d0ff93d":"## Normalisation des notes attribu\u00e9es (remplacement des valeurs nulles)","26a34046":"## Transformation des 5,4$ --> 5,4","c9358009":"## TOP 5 des genres d'application","72dce313":"## Proportion des application gratuites VS payantes","29875f28":"# Troisi\u00e8me mod\u00e8le de pr\u00e9diction","4fb8d4df":"## Pr\u00e9diction","4a38192a":"## Pourcentage de donn\u00e9es nulles par cat\u00e9gorie","d84d0503":"## Retrait de ces valeurs","4f6ad8e3":"## Visualisation des \u00e9toiles attribu\u00e9es le plus souvent","0dbbee70":"# Transformation des champs string en nouvelles colonnes","6d060aff":"# V\u00e9rification du dataset","bde967a5":"## Application avec le plus d'avis","fb30568b":"## Comparaison R\u00c9EL \/ PR\u00c9DICTIONS","1637e7b6":"## Pourcentage de valeurs dupliqu\u00e9es","87a09992":"## Application les plus LOURDES","0d166a75":"# donn\u00e9es originelles","8d2b733a":"## Applications les plus install\u00e9es dans la cat\u00e9gorie la plus pr\u00e9sente (FAMILY)","3ddbc6cb":"## Retrait des \u00e9toiles sup\u00e9rieures \u00e0 5 ou inf\u00e9rieures \u00e0 0 si elles existent"}}