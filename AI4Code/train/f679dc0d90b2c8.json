{"cell_type":{"b5b7bf40":"code","dadf81c7":"code","40a98dfc":"code","d3e163b8":"code","b829ef52":"code","8c56dbe4":"code","db9ac4e6":"code","bbeb6fb7":"code","c22313b3":"code","bab55bf0":"code","6b8ae968":"code","5efc8120":"code","b2481386":"code","98e84379":"markdown","f6086a76":"markdown","7c801591":"markdown","d627575c":"markdown","6870a748":"markdown","60129eb8":"markdown","2762643c":"markdown","98db6a27":"markdown"},"source":{"b5b7bf40":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt # this is used for the plot the graph \nimport seaborn as sns # used for plot interactive graph.\n\nimport matplotlib.pyplot as plt\nimport plotly.offline as py\npy.init_notebook_mode(connected=True)\nimport plotly.graph_objs as go\n\nimport warnings\nwarnings.filterwarnings('ignore')\nfrom pylab import rcParams\n# figure size in inches\n\n%matplotlib inline\nimport warnings\nwarnings.filterwarnings('ignore')\nimport os\nprint(os.listdir(\"..\/input\"))\n","dadf81c7":"dataset = pd.read_csv('..\/input\/suicide-rates-overview-1985-to-2016\/master.csv')\ndataset.head()","40a98dfc":"unique_country = dataset['country'].unique()\nprint(unique_country)","d3e163b8":"x = dataset['sex'].dropna()\ny = dataset['age'].dropna()\nz = dataset['suicides_no'][dataset.suicides_no!=0].dropna()\np = dataset['population'][dataset.population!=0].dropna()\nt = dataset['suicides\/100k pop'].dropna()\ngdp = dataset['gdp_per_capita ($)']\n\np = sns.pairplot(pd.DataFrame(list(zip(x, y, np.log(z), np.log10(p), t, gdp)), \n                        columns=['sex','age', 'suicides_no', 'population', 'suicides\/100k pop', 'gdp_per-capita ($)']), hue='sex', palette=\"Set2\")","b829ef52":"import plotly\n# connected=True means it will download the latest version of plotly javascript library.\nplotly.offline.init_notebook_mode(connected=True)\nimport plotly.graph_objs as go\n\ngeneration = dataset['generation'].value_counts().sort_values(ascending=True)\n\ndata = [go.Pie(\n        labels = generation.index,\n        values = generation.values,\n        hoverinfo = 'label+value')]\n\nplotly.offline.iplot(data, filename='active_generation')","8c56dbe4":"groups = dataset.groupby('country').filter(lambda x: len(x) >= 50).reset_index()\nsns.set_style(\"darkgrid\")\nax = sns.jointplot(dataset['suicides_no'], dataset['population'])","db9ac4e6":"c = ['hsl('+str(h)+',50%'+',50%)' for h in np.linspace(0, 360, len(list(set(groups.country))))]\nsubset_dataset = dataset[dataset.population> 50000]\ngroups_temp = subset_dataset.groupby('country').filter(lambda x: len(x) >20)\n\nfor country in enumerate(list(set(groups_temp.country))):\n\n    data = [{\n    'x': groups_temp.loc[subset_dataset.country==country[1]]['suicides_no'],\n    'type':'scatter',\n    'y' : subset_dataset['population'],\n    'name' : str(country[1]),\n    'mode' : 'markers',\n    'showlegend': True,\n   \n    } for country in enumerate(['Colombia' ,'Suriname'])]\n\nlayout = {'title':\"suicides_no vs population\", \n          'xaxis': {'title' : 'suicides_no'},\n          'yaxis' : {'title' : 'population'},\n         'plot_bgcolor': 'rgb(0,0,0)'}\n\nplotly.offline.iplot({'data': data, 'layout': layout})\n","bbeb6fb7":"data = [{\n    'x': groups_temp.loc[subset_dataset.sex==sex[1]]['suicides_no'],\n    'type':'scatter',\n    'y' : subset_dataset['population'],\n    'name' : str(sex[1]),\n    'mode' : 'markers',\n    'showlegend': True,\n   \n    } for sex in enumerate(['male' ,'female'])]\n\nlayout = {'title':\"suicides_no vs population\", \n          'xaxis': {'title' : 'suicides_no'},\n          'yaxis' : {'title' : 'population'},\n         'plot_bgcolor': 'rgb(0,0,0)'}\n\nplotly.offline.iplot({'data': data, 'layout': layout})\n","c22313b3":"subset_df = dataset[dataset.generation.isin(['Boomers', 'Millenials', 'Silent', 'Generation X', 'Generation Z', 'G.I. Generation'])]\nsns.set_style('darkgrid')\nfig, ax = plt.subplots()\nfig.set_size_inches(15, 8)\np = sns.stripplot(x=\"suicides\/100k pop\", y=\"suicides_no\", data=subset_df, jitter=True, linewidth=1)\ntitle = ax.set_title('')","bab55bf0":"by_year = dataset['suicides_no'].groupby([dataset['year'], dataset['sex']]).agg({'suicides_no':sum}).assign(percent = lambda x: 100 * x\/x.sum())\nby_year = np.round(by_year, decimals=2)\nby_year = by_year.reset_index().sort_values(by='suicides_no', ascending=False)\nmost_year = by_year\nprint(most_year.head(5))\n\n\nfig = plt.figure(figsize=(16,4))\nax = sns.lineplot(x=\"year\", y=\"suicides_no\",\nhue=\"sex\", style=\"sex\",\nmarkers=True, dashes=False, data=most_year)","6b8ae968":"suic_sex = dataset['suicides_no'].groupby(dataset['sex']).agg({'suicides_no' : 'sum'}).assign(percent = lambda x: 100 * x\/x.sum())\nsuic_sex = np.round(suic_sex, decimals=0)\nsuic_sex = suic_sex.reset_index().sort_values(by='suicides_no',ascending=False)\nmost_sex = suic_sex\nprint(\"Total and percent of suicides among genders in year 1985 - 2016\")\nprint()\nprint(most_sex)\nfig = plt.figure(figsize=(6,4))\nplt.title('Suicides by sex.')\nsns.set(font_scale=0.9)\nsns.barplot(y='suicides_no',x='sex',data=most_sex,palette=\"OrRd\");\nplt.ylabel('Number of suicides')\nplt.tight_layout()","5efc8120":"import pandas as pd\nconcap = pd.read_csv('..\/input\/world-capitals-gps\/concap.csv')\nprint(concap.head())","b2481386":"from mpl_toolkits.basemap import Basemap\nby_country = dataset['suicides_no'].groupby([dataset['country']]).agg({'suicides_no':'sum'}).assign(percent = lambda x: 100 * x\/x.sum())\nby_country = np.round(by_country, decimals=0)\nby_country = by_country.reset_index().sort_values(by='suicides_no', ascending=False)\nmost_country = by_country.head(15)\nprint(\"Total and percent of suicides among countries in year 1985 - 2016\")\nprint()\nprint(most_country.head(15))\nfig = plt.figure(figsize=(20,6))\nplt.title('Suicides by country')\nsns.set(font_scale=0.9)\nsns.barplot(y='suicides_no',x='country',data=most_country,palette='Set2',color='');\nplt.xlabel('Countries')\nplt.ylabel('suicides_no')\nplt.tight_layout()\n\ndata_full = pd.merge(concap[['CountryName', 'CapitalName', 'CapitalLatitude', 'CapitalLongitude']],\\\n         by_country,left_on='CountryName',right_on='country')\ndef mapWorld(col1,size2,title3,label4,metr=100,colmap='hot'):\n    m = Basemap(projection='mill',llcrnrlat=-60,urcrnrlat=70,\\\n            llcrnrlon=-110,urcrnrlon=180,resolution='c')\n    m.drawcoastlines()\n    m.drawcountries()\n    m.drawparallels(np.arange(-90,91.,30.))\n    m.drawmeridians(np.arange(-90,90.,60.))\n    \n\n    lat = data_full['CapitalLatitude'].values\n    lon = data_full['CapitalLongitude'].values\n    a_1 = data_full[col1].values\n    if size2:\n        a_2 = data_full[size2].values\n    else: a_2 = 1\n\n    m.scatter(lon, lat, latlon=True,c=a_1,s=metr*a_2,linewidth=1,edgecolors='black',cmap=colmap, alpha=1)\n    \n    cbar = m.colorbar()\n    cbar.set_label(label4,fontsize=30)\n    plt.title(title3, fontsize=30)\n    plt.show()\nsns.set(font_scale=1.5)\nplt.figure(figsize=(20,10))\nmapWorld(col1='suicides_no', size2=False,title3='Suicides by countries',label4='',metr=150,colmap='cool')","98e84379":"> ***PIE PLOT GENERATION\n\n***","f6086a76":"***suicides_no vs population for male,female***","7c801591":"***suicides_no vs population in Colombia,Suriname***","d627575c":"> Suicides by country******","6870a748":"***Suicides by sex***","60129eb8":"***> Pairplot for sex,age,suicides_no,population,suicides\/100k pop,gdp_per-capita ($)***","2762643c":"***Names of all countrys**","98db6a27":"***NUMBER OF SUICIDES BY YEARS ***"}}