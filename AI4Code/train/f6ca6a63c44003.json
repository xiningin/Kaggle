{"cell_type":{"ebc64551":"code","ea5f8fdd":"code","748f6204":"code","6f3e4882":"code","b360815a":"code","7fef9cb2":"code","75058b89":"code","7167e01a":"code","a5bb3faf":"code","5a2157fa":"code","0c051cad":"code","9fcbee09":"code","1ffdb627":"code","209eef5e":"code","3f719787":"markdown","3530247e":"markdown","9183e317":"markdown","1158d219":"markdown","d2cf17e1":"markdown"},"source":{"ebc64551":"import warnings\nwarnings.filterwarnings(\"ignore\")\n\n# Utils\nfrom os import path\n\n# Data \nimport numpy as np\nimport pandas as pd\n\n# Viz\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline\nsns.set(style=\"darkgrid\")","ea5f8fdd":"data_path = \"\"\ndf = pd.read_csv(data_path+\"..\/input\/imdb-data\/IMDB-Movie-Data.csv\")\ndf.head(3)","748f6204":"df.columns","6f3e4882":"df.columns = ['rank', 'title', 'genre', 'description', 'director', 'actors', 'year',\n       'runtime_min', 'rating', 'votes', 'revenue_in_millions',\n       'metascore']","b360815a":"df.head()","7fef9cb2":"df.shape","75058b89":"df.info()","7167e01a":"pd.DataFrame(df.isnull().sum(), columns=[\"Columns\"])","a5bb3faf":"df.dropna(inplace=True)","5a2157fa":"def ecdf(data):\n    n = len(data)\n    x = np.sort(data)\n    y = np.arange(1, n+1) \/ n\n    return x, y","0c051cad":"fig, axes = plt.subplots(3, 2, figsize=(14, 14))\n\n# PLOT 1 \naxes[0, 0].set_title('How many movies earned more the $500M ? ')\n_ = axes[0, 0].hist(df.revenue_in_millions, bins=np.arange(0, 800, 50))\naxes[0, 0].set(xlabel='Revenue in millions', ylabel='Number of Movies\/Shows')\n\n# PLOT 2 \naxes[0, 1].set_title('How many movies rated above 7.5 ?')\n_ = axes[0, 1].hist(df.rating, bins=np.arange(0, 10, .5))\n_ = axes[0, 1].set( xlabel='IMDB Rating')\n\n# PLOT 3 \naxes[1, 0].set_title('How many movies released every year and rated above 7.5 ?')\nchart = sns.swarmplot(y='rating', x='year', data=df, ax=axes[1,0])\n_ = axes[1, 0].set( ylabel='IMDB Rating', xlabel='Year Released')\nchart.set_xticklabels(chart.get_xticklabels(), rotation=90)\n\n\n# PLOT 4 \naxes[1, 1].set_title('ECDF Analysis on IMDB Rating ')\nx_vers, y_vers = ecdf(df.rating)\n_ = axes[1, 1].plot(x_vers, y_vers, marker='.', linestyle='none')\n_ = axes[1, 1].set(xlabel='IMDB Rating', ylabel='ECDF')\n\n# PLOT 5 \naxes[2, 0].set_title('Year Vs Ratings ')\nchart = sns.boxplot(x='year', y='rating', data=df,  ax=axes[2,0])\nchart.set_xticklabels(chart.get_xticklabels(), rotation=90)\n_ = axes[2, 0].set( ylabel='IMDB Rating', xlabel='Year Released')\n\n# PLOT 6\naxes[2, 1].set_title('Revenue Vs Rating ')\n_ = axes[2, 1].plot(df.rating, df.revenue_in_millions, marker='.', linestyle='none')\n_ = axes[2, 1].set( xlabel='IMDB Rating', ylabel='Revenue in millions')\n\n\nplt.tight_layout(pad=2.0)\nplt.show()","9fcbee09":"df_metrics = pd.DataFrame({\n    \"Rating\":[np.mean(df.rating), np.median(df.rating)],\n    \"Revenue\":[np.mean(df.revenue_in_millions), np.median(df.revenue_in_millions)]\n   }, index=[\"Mean\", \"Median\"])","1ffdb627":"df_metrics","209eef5e":"def pearson_r(x, y):\n    \"\"\"Compute Pearson correlation coefficient between two arrays.\"\"\"\n    # Compute correlation matrix: corr_mat\n    corr_mat = np.corrcoef(x, y)\n\n    # Return entry [0,1]\n    return corr_mat[0,1]\n\n# Compute Pearson correlation coefficient for I. versicolor\nr = pearson_r(df.rating, df.revenue_in_millions)\n\n# Print the result\nprint(r)","3f719787":"## 3. Final Metrics on Rating and Revenue","3530247e":"## 1 . Data Cleaning ","9183e317":"### 3.1 Pearson correlation coefficient between Rating and Revenue\nPositively co-related ? Yes ","1158d219":"## 2. Visualizing the IMDB rating with Revenue \nhow they are related ? ","d2cf17e1":"> Dropping all NA rows for simplicity"}}