{"cell_type":{"2c09d3e6":"code","3448f415":"code","288a900c":"code","95de22b3":"code","7551925b":"code","78c54ed8":"code","b30ba2bb":"code","71995b93":"code","220a6780":"code","896dc385":"code","5aa56658":"code","89c06f21":"code","502062e4":"code","9ed6532f":"markdown","2ee2b262":"markdown","75f781d4":"markdown","e2657e1d":"markdown","02017bc4":"markdown","639bb3a3":"markdown","e8543727":"markdown","1d52ac5f":"markdown","5905a93d":"markdown","c4935db9":"markdown","b2cb2db7":"markdown","21392b51":"markdown","a397ab95":"markdown"},"source":{"2c09d3e6":"import random\nimport datetime\nimport pandas as pd\nimport statistics\nimport numpy as np\nimport scipy\nfrom scipy import stats\n\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport matplotlib.style as style\nstyle.use('seaborn-pastel')\nsns.set_style('whitegrid')\nsns.set_context('paper')\n\n%matplotlib inline","3448f415":"chicago = pd.read_csv('..\/input\/Chicago-Divvy-2016.csv', \n                      parse_dates=['starttime', 'stoptime'],\n                      dtype={'usertype': 'category',\n                             'gender': 'category'})\nchicago.head()","288a900c":"chicago.info()","95de22b3":"data = chicago.sort_values(by='starttime')\ndata = data.reset_index()\nprint('Date rage of dataset: {} - {}'.format(data.loc[1, 'starttime'], data.loc[len(data)-1, 'stoptime']))","7551925b":"plt.figure(figsize=(16,5))\nplt.subplot(1,2,1)\ngroupby_user = data.groupby('usertype').size()\ngroupby_user.plot(kind='bar', title='Distribution of user types', rot=45);\n\nplt.subplot(1,2,2)\ngroupby_gender = data.groupby('gender').size()\ngroupby_gender.plot(kind='bar', title='Distribution of genders', rot=45, color=['pink', 'lightblue']);","78c54ed8":"data = data.sort_values(by='birthyear')\ngroupby_birthyear = data.groupby('birthyear').size()\ngroupby_birthyear.plot(kind='bar', title='Distribution of birth years', figsize=(16,4));","b30ba2bb":"data_mil = data.loc[(data['birthyear'] >= 1977) & (data['birthyear'] <= 1994)]\ngroupby_mil = data_mil.groupby('usertype').size()\ngroupby_mil.plot(kind='bar', title='Distribution of user types of millenials', \n                 rot=45);","71995b93":"groupby_birthyear_gender = data.groupby(['birthyear', 'gender'])['birthyear'].count().unstack('gender').fillna(0)\ngroupby_birthyear_gender.plot(kind='bar', title='Distribution of birth years by gender', \n                              stacked=True, figsize=(16,4), color=['pink', 'blue']);","220a6780":"groupby_birthyear_usertype = data.groupby(['birthyear',\n                                           'usertype'])['birthyear'].count().unstack('usertype').fillna(0)\ngroupby_birthyear_usertype.plot(kind='bar', title='Distribution of birth years by user type',\n                                stacked=True, figsize=(16,4));","896dc385":"data[data['usertype'] == 'Customer']['gender'].isnull().values.all()","5aa56658":"data[data['usertype'] == 'Customer'].count()","89c06f21":"data = data.set_index('starttime')","502062e4":"plt.figure(figsize=(16,12))\n\nplt.subplot(2,2,1)\ndata.groupby(data.index.month)['tripduration'].count().plot.bar(\n    title='Distribution of # trips by month', rot=0)\nplt.xlabel('Month');\nplt.ylabel('# trips');\n\nplt.subplot(2,2,2)\ndata.groupby(data.index.day)['tripduration'].count().plot.bar(\n    title='Distribution of # trips by day', rot=0)\nplt.xlabel('Day');\nplt.ylabel('# trips');\n\nax = plt.subplot(2,2,3)\ndata.groupby(data.index.weekday)['tripduration'].count().plot.bar(\n    title='Distribution of # trips by day of the week', rot=0)\nplt.xlabel('Day of the week');\nplt.ylabel('# trips');\nax.set_xticklabels(['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'])\n\n\nplt.subplot(2,2,4)\ndata.groupby(data.index.hour)['tripduration'].count().plot.bar(\n    title='Distribution of # trips by hour', rot=0)\nplt.xlabel('Hour');\nplt.ylabel('# trips');","9ed6532f":"# Import required packages","2ee2b262":"Seems that males were dominating the distribution. It made sense as well. Penult plot revealed that all millennials are members. I'm curious to see what the distribution of `usertype` for the other age generations.","75f781d4":"# Explanatory Data Analysis\n\nKnowing the types of data:","e2657e1d":"Again, strange. This output means that we have information about Customers, but that doesn't match the last graph. Let's dig in further more.","02017bc4":"Majority of the people who had subscribed to this program belong to Generation Y (i.e., born in the early 1980s to mid to late 1990s, also known as millennials). Reports published by Elite Daily and CrowdTwist said that millennials are the most loyal generation to their favorite brands. One reason for this is their willingness to share thoughts and opinions on products\/services. These opinions thus form a huge corpus of experiences\u2014enough information for the millenials to make a conscious decision, a decision they will remain loyal to for a long period. Validating that millenials would be subscribers rather than customers:","639bb3a3":"We want to know more about target customers with the analysis done so far. Let's plot the distribution of birth years.","e8543727":"Determining the time range of the dataset:","1d52ac5f":"Let's plot a bar graph of trip frequencies by user type and by gender.","5905a93d":"Strange. We get only one subscribers distribution. Does this mean that birth year information was only present for only one user type? Let's dig in. ","c4935db9":"Plotting the Distribution of Birth Years by Gender Type:","b2cb2db7":"### Working with date and time distributions\n\nI'm now interested to see how the frequency of trips vary across date and time (i.e., a time series analysis). Let's answer some questions:\n\n- What is the distribution of number of trips by month?\n- What is the distribution of number of trips by day?\n- What is the distribution of number os trips by day of the week?\n- What is the distribution of number of trips by hour?","21392b51":"AHA! We don't have the demographic variables for user type `Customer`.","a397ab95":"# Import data\n\nListing data files:"}}