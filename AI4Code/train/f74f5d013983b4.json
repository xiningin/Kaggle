{"cell_type":{"02b11ead":"code","a9dc8df2":"code","b6388395":"code","cb957dd7":"code","e1fc6428":"code","ca12e998":"code","5134c63f":"code","e2ce9b7d":"code","6ab3715f":"code","fdf2840c":"code","fcccaf3f":"code","2db39839":"markdown","6d47b261":"markdown","aa39a1a9":"markdown","0160192e":"markdown","6e4229ac":"markdown","e15a8bd2":"markdown","117df4dc":"markdown","f6ffb107":"markdown","a6e22a17":"markdown","1f0f2331":"markdown","067a2d09":"markdown","a8cc418e":"markdown"},"source":{"02b11ead":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\n\ndf = pd.read_csv(\"..\/input\/sentencas.csv\")","a9dc8df2":"df.head()","b6388395":"df.set_index(\"vara\", drop=True, inplace=True)\ndf_varas = df.drop([\"6\", \"11\", \"t1\", \"t2\", \"t3\"])","cb957dd7":"df_totais = pd.DataFrame({\n    \"Condena\u00e7\u00f5es\": df_varas[\"total_con\"],\n    \"Absolvi\u00e7\u00f5es\": df_varas[\"total_abs\"],\n    \"Neutras\": df_varas[\"total_neu\"],\n})\n\nfig, axes = plt.subplots(ncols=2, figsize=(18,6))\nfig.suptitle(\"Condena\u00e7\u00f5es x Absolvi\u00e7\u00f5es x Neutras em BH - 2014 a 2019\", fontsize=16)\ndf_totais.sum().sort_values(ascending=False).plot.bar(ax=axes[0], rot=0)\ndf_totais.sum().plot.pie(ax=axes[1], autopct=\"%1.0f%%\")\naxes[1].set_ylabel(\"\");","e1fc6428":"df_totais_normal = df_totais.div(df_totais.sum(axis=1), axis=0).multiply(100)\nax = df_totais_normal.plot.bar(figsize=(20,6), title=\"Condena\u00e7\u00f5es x Absolvi\u00e7\u00f5es x Neutras por vara em BH - em % - 2014 a 2019\", rot=0)\nax.grid(\"on\", linewidth=.3)\nax.legend(bbox_to_anchor=(1, 1));","ca12e998":"df_crimes = df_varas.drop([\"total_abs\", \"total_con\", \"total_neu\"], axis=1)\ncrimes = set([crime[:-4] for crime in df_crimes.columns])\n\ndf_crimes_totais = pd.DataFrame({\n    crime: [df_crimes[f\"{crime}_con\"].sum(), df_crimes[f\"{crime}_abs\"].sum(), df_crimes[f\"{crime}_neu\"].sum()]\n    for crime in crimes\n}, index=[\"Condena\u00e7\u00f5es\", \"Absolvi\u00e7\u00f5es\", \"Neutras\"])\n\ndf_crimes_totais = df_crimes_totais.transpose()\ndf_crimes_totais = df_crimes_totais.div(df_crimes_totais.sum(axis=1), axis=0).multiply(100)\nax = df_crimes_totais.plot.bar(figsize=(20,6), rot=0, title=\"Condena\u00e7\u00f5es x Absolvi\u00e7\u00f5es x Neutras por crime em BH - em % - 2014 a 2019\")\nax.grid(\"on\", linewidth=.3)","5134c63f":"crimes_count = pd.Series({\n    crime: df_crimes.loc[:,df_crimes.columns.str.startswith(crime)].transpose().sum().sum()\n    for crime in crimes\n})\n\ncrimes_count = crimes_count.div(crimes_count.sum()).multiply(100)\nax = crimes_count.sort_values(ascending=False).plot.bar(figsize=(12,6), rot=0, title=\"Senten\u00e7as por crime em BH - em % - 2014 a 2019\")\nax.grid(\"on\", linewidth=.3)","e2ce9b7d":"def plot_crimes_vara_ax(vara, ax):\n    df_crimes = df_varas.drop([\"total_abs\", \"total_con\", \"total_neu\"], axis=1)\n    crimes = set([crime[:-4] for crime in df_crimes.columns])\n    df_vara = df_crimes.filter(vara, axis=0)\n    df_crimes_vara = pd.DataFrame({\n        crime: [df_vara[f\"{crime}_con\"].sum(), df_vara[f\"{crime}_abs\"].sum(), df_vara[f\"{crime}_neu\"].sum()]\n        for crime in crimes\n    }, index=[\"Condena\u00e7\u00f5es\", \"Absolvi\u00e7\u00f5es\", \"Neutras\"])                      \n    df_crimes_vara = df_crimes_vara.div(df_crimes_vara.sum()).multiply(100)\n    _ax = df_crimes_vara.transpose().plot.bar(ax=ax, rot=0, title=vara)\n    ax.legend(bbox_to_anchor=(1, 1))\n    _ax.grid(\"on\", linewidth=.3)","6ab3715f":"_varas = [\"1\", \"4\", \"8\", \"9\"]\nfig, axes = plt.subplots(nrows=len(_varas), figsize=(20,13))\nfor i, vara in enumerate(_varas):\n    plot_crimes_vara_ax(vara, axes[i])","fdf2840c":"def plot_varas_crime_ax(crime, ax):\n    df_crime = df_crimes.loc[:, df_crimes.columns.str.startswith(crime)]\n    df_crime = df_crime[[f\"{crime}_con\", f\"{crime}_abs\", f\"{crime}_neu\"]]\n    df_crime = df_crime.rename({f\"{crime}_con\": \"Condena\u00e7\u00f5es\", f\"{crime}_abs\": \"Absolvi\u00e7\u00f5es\", f\"{crime}_neu\": \"Neutras\"}, axis=1)\n    df_crime = df_crime.div(df_crime.sum(axis=1), axis=0).multiply(100)\n    ax = df_crime.plot.bar(ax=ax, rot=0, title=crime)\n    ax.grid(\"on\", linewidth=.3)\n    ax.legend(bbox_to_anchor=(1, 1))\n    ax.axes.get_xaxis().get_label().set_visible(False)","fcccaf3f":"_crimes = [\"corrupcao\", \"estelionato\", \"estupro\", \"desacato\"]\nfig, axes = plt.subplots(nrows=len(_crimes), figsize=(20,13))\nfig.suptitle(\"Condena\u00e7\u00f5es x Absolvi\u00e7\u00f5es x Neutras por vara - em % - 2014 a 2019\", fontsize=16)\nfor i, crime in enumerate(_crimes):\n    plot_varas_crime_ax(crime, axes[i])","2db39839":"Esse primeiro n\u00famero parece exageradamente alto e cabem muitas investiga\u00e7\u00f5es a seu respeito, que extrapolam os limites dos dados dispon\u00edveis.\n\nSabendo que a m\u00e9dia geral em Belo Horizonte entre os dados obtidos \u00e9 de 80%, podemos visualizar as distribui\u00e7\u00f5es de cada vara e compar\u00e1-las com a m\u00e9dia municipal.","6d47b261":"# Analisando dados de senten\u00e7as criminais do TJMG","aa39a1a9":"Os dados foram obtidos durante o [projeto de classifica\u00e7\u00e3o de senten\u00e7as criminais utilizando aprendizado supervisionado](https:\/\/tjfacil.wordpress.com\/2020\/07\/20\/classificando-sentencas-criminais-utilizando-aprendizado-de-maquina\/) e cont\u00e9m algumas peculiaridades:\n\n- A classifica\u00e7\u00e3o entre senten\u00e7as absolut\u00f3rias, condenat\u00f3rias e neutras foi feita utilizando aprendizado de m\u00e1quinas, com um \u00edndice de acerto de 94 a 97%.\n- As primeiras colunas [\"total_abs\", \"total_con\", e \"total_neu\"] representam o total de senten\u00e7as absolut\u00f3rias, condenat\u00f3rias e neutras de uma determinada vara (linha). Por\u00e9m, esse n\u00famero n\u00e3o significa a soma das demais colunas.\n- As colunas relativas a crimes (por exemplo [\"desacato_abs\", \"desacato_con\" e \"desacato_neu\"]) referem-se \u00e0 contagem do resultado de buscas textuais por aqueles crimes no banco de senten\u00e7as. Isso quer dizer, por exemplo, que as colunas referentes ao crime de desacato n\u00e3o contam a quantidade de senten\u00e7as em que o r\u00e9u foi denunciado pelo crime de desacato, mas a quantidade de senten\u00e7as em que a palavra desacato foi encontrada.","0160192e":"Um bom ponto de partida \u00e9 analisar a distribui\u00e7\u00e3o geral das senten\u00e7as classificadas entre absolut\u00f3rias, condenat\u00f3rias e neutras. \n\nComo vemos, entre os dados obtidos, o \u00edndice de condena\u00e7\u00e3o em processos criminais que s\u00e3o sentenciados na comarca de Belo Horizonte \u00e9 superior a 80%:","6e4229ac":"\u00c9 poss\u00edvel perceber que alguns crimes, como o roubo, o furto, o tr\u00e1fico e a corrup\u00e3o, possuem \u00edndices alt\u00edssimos de condena\u00e7\u00e3o, enquanto outros, como a sonega\u00e7\u00e3o, lavagem de dinheiro, estupro e desacato possuem \u00edndices de absolvi\u00e7\u00e3o relativamente altos.\n\nOs \u00edndices de condena\u00e7\u00e3o de crimes como furto, roubo e tr\u00e1fico j\u00e1 s\u00e3o conhecidos do sistema penal brasileiro e seus clientes preferenciais. O alto \u00edndice de condena\u00e7\u00e3o por crimes de corrup\u00e7\u00e3o pode ser explicado pelos recentes epis\u00f3dios pol\u00edticos nacionais. Ironicamente, os \u00edndices de condena\u00e7\u00e3o por sonega\u00e7\u00e3o de impostos e lavagem de dinheiros est\u00e3o entre os mais baixos dispon\u00edveis.\n\nUma considera\u00e7\u00e3o a ser feita \u00e9 que boa parte dos casos de sonega\u00e7\u00e3o e lavagem de dinheiro \u00e9 julgada pela Justi\u00e7a Federal, onde os dados podem ensejar an\u00e1lise diferentes. No TJMG, entretanto, a ironia permanece.\n\nEm se falando dos clientes preferenciais do sistema penal, podemos visualizar a quantidade de senten\u00e7as que cont\u00e9m palavras referentes a cada crime estudado, para verificar quais crimes s\u00e3o mais frequentes nos tribunais de Minas Gerais.","e15a8bd2":"Com esses gr\u00e1ficos pode-se propor, por exemplo, que o ju\u00edzo da Primeira Vara Criminal possui uma tend\u00eancia a absolver os acusados em casos de desacato, lavagem de dinheiro e sonega\u00e7\u00e3o, enquanto o ju\u00edzo da Oitava Vara Criminal mant\u00e9m ind\u00edces de condena\u00e7\u00e3o alt\u00edssimos em todos os crimes, sendo o seu maior \u00edndice de absolvi\u00e7\u00f5es em casos de estupro. \n\nAqui ainda cabe outra observa\u00e7\u00e3o. Como as categorias de cada crime apresentadas na verdade significam a quantidade de senten\u00e7as entre as dispon\u00edveis nas quais foram encontradas palavras sobre aquele crime, podemos atribuir significado aos n\u00fameros apresentados sob o t\u00edtulo de hom\u00edcio, ainda que as varas estudadas n\u00e3o possuam compet\u00eancia para o julgamento de crimes culposos contra a vida. Nesse sentido, por exemplo, a palavra homic\u00eddio pode aparecer nas senten\u00e7as ao se analisar a vida pregressa do acusado, o que indica que, nesses casos, h\u00e1 um alt\u00edssimo grau de condena\u00e7\u00e3o entre todas as varas apresentadas.\n\nAssim como fizemos acima, tamb\u00e9m \u00e9 poss\u00edvel apresentar agrupadamente a distribui\u00e7\u00e3o de condena\u00e7\u00f5es de cada vara para os crimes estudados:","117df4dc":"Importando bibliotecas e lendo csv.","f6ffb107":"Primeiras linhas:","a6e22a17":"Com esses gr\u00e1ficos, visualiza-se por exemplo que a Primeira, a Quinta e a S\u00e9tima Varas Criminais possuem uma tend\u00eancia maior que as demais de absolver casos de desacato, enquanto a Quinta Vara Criminal lidera as absolvi\u00e7\u00f5es em casos que se referem ao crime de estupro.\n\nOs dados apresentados e outros decorrentes dessa esp\u00e9cie de an\u00e1lise podem servir tanto para embasar a tomada de decis\u00e3o estrat\u00e9gica de advogados, como tamb\u00e9m para o estudo mais aprofundado do judici\u00e1rio.\n\n","1f0f2331":"Primeiramente, vamos definir a coluna de varas como index, e eliminar algumas linhas de varas que estar\u00e3o fora da an\u00e1lise. Deixaremos de analisar a 6\u00aa e a 11\u00aa Varas Criminais, por possu\u00edrem poucas senten\u00e7as contabilizadas no geral, e as Varas de T\u00f3xicos, para afunilar o estudo nas Varas Criminais comuns.","067a2d09":"Como esperado, processos referentes aos crimes de roubo e furto representam a maior parte dos casos julgados pela Justi\u00e7a Estadual. Aqui, como antes, cabe explicar que os crimes de tr\u00e1fico de drogas, e outros correlatos, s\u00e3o julgados em Belo Horizonte pelas Varas Especializadas em T\u00f3xicos, que n\u00e3o s\u00e3o objeto de nossa an\u00e1lise nesse momento.\n\nProsseguindo para uma an\u00e1lise mais detalhada, \u00e9 poss\u00edvel visualizar, para cada vara, a distribui\u00e7\u00e3o de condena\u00e7\u00f5es e absolvi\u00e7\u00f5es para cada um dos crimes estudados, o que permite embasar investiga\u00e7\u00f5es sobre as inclina\u00e7\u00f5es de cada ju\u00edzo sobre determinados assuntos.","a8cc418e":"Apesar de existir uma varia\u00e7\u00e3o percept\u00edvel entre as varas estudadas (algumas se aproximam dos 70% de condena\u00e7\u00e3o enquanto outras ultrapassam os 90%), ela \u00e9 insuficiente para alterar a percep\u00e7\u00e3o geral dos dados: o n\u00famero de condena\u00e7\u00f5es \u00e9 muito superior ao de absolvi\u00e7\u00f5es.\n\nAlgumas varas tamb\u00e9m apresentam uma grande quantidade de senten\u00e7as neutras, o que pode indicar uma grande quantidade de casos prescritos.\n\nAp\u00f3s analisar a distribui\u00e7\u00e3o de condena\u00e7\u00f5es por varas, podemos visualizar a distribui\u00e7\u00e3o de condena\u00e7\u00f5es nas senten\u00e7as que cont\u00e9m palavras referentes aos crimes selecionados:"}}