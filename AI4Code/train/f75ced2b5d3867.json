{"cell_type":{"3e851545":"code","ef41b1c0":"code","30959457":"code","5d4221ea":"code","739fe28d":"code","fb61a374":"code","958ca98f":"code","6fc4b9b9":"code","72cfc171":"code","527b0c87":"code","47367a8a":"code","83f0a839":"code","0258be4f":"code","00abab4b":"code","e3654b08":"code","a0be623b":"code","09679954":"code","be4ee28c":"code","073f2f14":"code","db233eb1":"code","73f2e8c5":"code","405bd7ef":"code","579cb3eb":"code","427a1e13":"code","63597cea":"code","08ae2410":"code","57d7ba98":"code","ddab4dcf":"code","dffcbfab":"code","e569b7d0":"code","33cb8f84":"code","6559e647":"code","2c75348a":"code","7a2ec5c8":"code","521fdf28":"code","a408ce5b":"code","78e3e9b7":"code","7ec83a5d":"code","6ba80f2a":"code","be3bd04f":"code","0843795a":"code","41fe4ef1":"code","4b157f39":"code","5be5316e":"code","713321c4":"code","4a3fa096":"code","5a654bc1":"code","739dc12d":"code","8fd67504":"code","b98a6d50":"code","89660364":"code","5f3f45b3":"code","d9e52dee":"code","2373a9cc":"code","f709a08e":"code","bb7fe604":"code","aed39fcc":"code","4470560f":"code","f789e3a2":"markdown","db3648f6":"markdown","b5590bda":"markdown","23f2a06c":"markdown","f4ebb294":"markdown","95be1f7d":"markdown","295c45db":"markdown","253dc729":"markdown","cb6bec88":"markdown","824a0b91":"markdown","5533efdd":"markdown","62b60f74":"markdown","0522883e":"markdown","e807f0b3":"markdown","0ac612cf":"markdown","8b3ad562":"markdown","8994b6fe":"markdown","9cbccea8":"markdown","f0c5654e":"markdown","308364e8":"markdown","55331e5e":"markdown","756c789d":"markdown","6325a2a5":"markdown","ce3388b6":"markdown","cb3b30e3":"markdown"},"source":{"3e851545":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","ef41b1c0":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt","30959457":"train=pd.read_csv(\"\/kaggle\/input\/titanic\/train.csv\")\ntest=pd.read_csv(\"\/kaggle\/input\/titanic\/test.csv\")","5d4221ea":"train_id=train[\"PassengerId\"]\ntest_id=test[\"PassengerId\"]\n# storing unique id for future refrence","739fe28d":"train.describe()","fb61a374":"train.head()","958ca98f":"print(train.Pclass.value_counts(dropna=False))\nprint(\"--\"*50)\nprint(train.Embarked.value_counts(dropna=False))\nprint(\"--\"*50)\nprint(train.SibSp.value_counts(dropna=False))\nprint(\"--\"*50)\nprint(train.Parch.value_counts(dropna=False))\nprint(\"--\"*50)","6fc4b9b9":"train.isnull().sum().sort_values(ascending = False)","72cfc171":"mat=train.corr()\nfig,ax = plt.subplots(figsize = (10,10))\nsns.heatmap(mat,annot = True, annot_kws={'size': 12})","527b0c87":"test.describe()","47367a8a":"test.head()","83f0a839":"print(train.Pclass.value_counts(dropna=False))\nprint(\"--\"*50)\nprint(train.Embarked.value_counts(dropna=False))\nprint(\"--\"*50)\nprint(train.SibSp.value_counts(dropna=False))\nprint(\"--\"*50)\nprint(train.Parch.value_counts(dropna=False))\nprint(\"--\"*50)","0258be4f":"test.isnull().sum().sort_values(ascending=False)","00abab4b":"del train[\"Cabin\"]\n","e3654b08":"train[\"Age\"].fillna(train.Age.mean(),inplace=True)","a0be623b":"train.describe()","09679954":"train.isnull().sum().sort_values(ascending=False)","be4ee28c":"#droping the 2 missing values of embarked\ntrain.dropna(inplace=True)\n# as we know  we only have 2 missing values in training data set.","073f2f14":"del test[\"Cabin\"]","db233eb1":"test[\"Age\"].fillna(test.Age.mean(),inplace=True)","73f2e8c5":"test.describe()","405bd7ef":"test.isnull().sum().sort_values(ascending=False)","579cb3eb":"# As you can not remove test data we have to fill that missing value of fare\ntest.fillna(test.Fare.median(),inplace=True)\ntest.isnull().sum().sort_values(ascending=False)","427a1e13":"survived = 'survived'\nnot_survived = 'not survived'\nfig, axes = plt.subplots(nrows=1, ncols=2,figsize=(10, 4))\nwomen = train[train['Sex']=='female']\nmen = train[train['Sex']=='male']\nax = sns.distplot(women[women['Survived']==1].Age.dropna(), bins=18, label = survived, ax = axes[0], kde =False)\nax = sns.distplot(women[women['Survived']==0].Age.dropna(), bins=40, label = not_survived, ax = axes[0], kde =False)\nax.legend()\nax.set_title('Female')\nax = sns.distplot(men[men['Survived']==1].Age.dropna(), bins=18, label = survived, ax = axes[1], kde = False)\nax = sns.distplot(men[men['Survived']==0].Age.dropna(), bins=40, label = not_survived, ax = axes[1], kde = False)\nax.legend() \nax.set_title('Male')","63597cea":"Y=train[\"Survived\"]","08ae2410":"del train[\"PassengerId\"]\ndel test[\"PassengerId\"]","57d7ba98":"del train[\"Survived\"]","ddab4dcf":"train.head()","dffcbfab":"train.shape","e569b7d0":"test.shape","33cb8f84":"test.head()","6559e647":"final=pd.concat([train,test],axis =0)","2c75348a":"final.shape","7a2ec5c8":"final.head()","521fdf28":"def One_hot_encoding(columns):\n    final_df=final\n    i=0\n    for fields in columns:\n        df1=pd.get_dummies(final[fields],drop_first=True)#applying get_dummies and droping first column which is created\n        \n        final.drop([fields],axis=1,inplace=True)\n        if i==0:\n            final_df=df1.copy()\n        else:           \n            final_df=pd.concat([final_df,df1],axis=1)\n        i=i+1\n       \n        \n    final_df=pd.concat([final,final_df],axis=1)\n        \n    return final_df","a408ce5b":"columns=[\"Sex\",\"Embarked\",\"Pclass\",\"Parch\"]","78e3e9b7":"df_final = One_hot_encoding(columns)","7ec83a5d":"df_final.head()","6ba80f2a":"df_final.drop(\"Name\",axis=1,inplace=True)\ndf_final.drop(\"Ticket\",axis=1,inplace=True)\n","be3bd04f":"df_final.head()","0843795a":"from sklearn import preprocessing\n# Get column names first\nnames = df_final.columns\n# Create the Scaler object\nscaler = preprocessing.StandardScaler()\n# Fit your data on the scaler object\nscaled_df = scaler.fit_transform(df_final)\ndf_final = pd.DataFrame(scaled_df, columns=names)","41fe4ef1":"cols = []\ncount = 1\nfor column in df_final.columns:\n    cols.append(count)\n    count+=1\n    continue\n    \ndf_final.columns = cols","4b157f39":"df_final.head()","5be5316e":"df_train=df_final.iloc[:889,:]\ndf_test=df_final.iloc[889:,:]","713321c4":"X=df_train","4a3fa096":"df_test.shape","5a654bc1":"from sklearn.model_selection import train_test_split\n\nX_train, X_test, Y_train, Y_test = train_test_split(X, Y)","739dc12d":"from sklearn.ensemble import RandomForestClassifier","8fd67504":"model_rforest = RandomForestClassifier()","b98a6d50":"model_rforest.fit(X_train,Y_train)","89660364":"print(\"R-Squared Value for Training Set: {:.3f}\".format(model_rforest.score(X_train,Y_train)))\nprint(\"R-Squared Value for Test Set: {:.3f}\".format(model_rforest.score(X_test,Y_test)))","5f3f45b3":"#predictions_01 = model_rforest.predict(df_test)","d9e52dee":"#output_01 = pd.DataFrame({'PassengerId': test_id, 'Survived': predictions_01})\n#output_01.to_csv('my_submission_05.csv', index=False)\n#print(\"Your submission was successfully saved!\")","2373a9cc":"from sklearn.tree import DecisionTreeClassifier","f709a08e":"model_dec = DecisionTreeClassifier()\nmodel_dec.fit(X_train, Y_train)","bb7fe604":"print(\"R-Squared Value for Training Set: {:.3f}\".format(model_dec.score(X_train,Y_train)))\nprint(\"R-Squared Value for Test Set: {:.3f}\".format(model_dec.score(X_test,Y_test)))","aed39fcc":"predictions_02 = model_dec.predict(df_test)","4470560f":"output_02 = pd.DataFrame({'PassengerId': test_id, 'Survived': predictions_02})\noutput_02.to_csv('my_submission_06.csv', index=False)\nprint(\"Your submission was successfully saved!\")","f789e3a2":"## Your Suggestions are Welcome","db3648f6":"# Feature Engineering","b5590bda":"# Importing Required Libraries","23f2a06c":"- It is our job to predict if a passenger survived the sinking of the Titanic or not.\n- For each in the test set, you must predict a 0 or 1 value for the variable.","f4ebb294":"## Testing Dataset","95be1f7d":"## Analysing Both Train and Test Datasets","295c45db":"## Applying Random Foresting","253dc729":"- by heatmap we can easily see the dependancy of all the Featues on survival","cb6bec88":"## Again spliting datasets into train and test !!","824a0b91":"### assigning unique names to the columns","5533efdd":"# Submission","62b60f74":"## Applying desicion Tree","0522883e":"## Normalising datasets","e807f0b3":"### analysing data which are present in classes","0ac612cf":"# Dealing with missing values","8b3ad562":"This process includes :\n- As more than 50 % values of the Cabin column is  missing so we have to drop that column.\n- filling the missing values of other columns.\n- droping the columns which are not required in predictions .","8994b6fe":"## Training dataset","9cbccea8":"## Testing Dataset","f0c5654e":"You can see that, Men have a high probability of survival when they are between 18 and 30 years old, which is also a little bit true for women but not fully. For women the survival chances are higher between 14 and 40. For men the probability of survival is very low between the age of 5 and 18, but that isn\u2019t true for women. Another thing to note is that infants also have a little bit higher probability of survival.","308364e8":"# Modeling","55331e5e":"**Short Description of Features **\n\n- Survival    : 1 if the person survived, else 0\n- PassengerId : Unique Id of a passenger.\n- pclass      : Ticket class\n- sex         : Sex\n- Age         : Age in years\n- sibsp       : # of siblings \/ spouses aboard the Titanic\n- parch       : # of parents \/ children aboard the Titanic\n- ticket      : Ticket number\n- fare        : Passenger fare\n- cabin       : Cabin number\n- embarked    : Port of Embarkation","756c789d":"# Do UPVOTE if you like it :)","6325a2a5":"# Problem Statement","ce3388b6":"# Reading Datasets","cb3b30e3":"## Training dataset"}}