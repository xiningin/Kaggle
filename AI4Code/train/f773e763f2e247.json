{"cell_type":{"75ac4f7e":"code","c6252ba5":"code","af9a5878":"code","b5ab882f":"code","bcb8f458":"markdown","01d5abcd":"markdown"},"source":{"75ac4f7e":"\nSteps:\n=====\n1. create a folder named as app  <mkdir app>\n    cd \/app\n2. move These files to app folder like:\n    1. app.py\n    2.Dockerfile\n    3.model.ipynb\n    4.model.pkl\n    5.requirements.txt\n3. Then apply docker Commands\n    \n    ","c6252ba5":"\nCreating a UI using Flasgger:\n============================\n\n# app.py\n\nfrom flask import Flask, request\nimport numpy as np\nimport pickle\nimport math\nfrom sklearn.ensemble import RandomForestClassifier\nimport pandas as pd\nimport flasgger\nfrom flasgger import Swagger\napp=Flask(__name__)\nSwagger(app)\nwith open('model.pkl', 'rb') as model_pkl:\n    rf = pickle.load(model_pkl)\n@app.route('\/')\ndef welcome():\n    return \"Welcome All\"\n@app.route('\/predict',methods=[\"GET\"])\ndef predict_note_authentication():\n    \n    \"\"\"Let's Authenticate the Diabetis\n    This is using docstrings for specifications.\n    ---\n    parameters:\n        - name: Pregnancies\n          in: query\n          type: number\n          required: true\n        - name: Glucose\n          in: query\n          type: number\n          required: true\n        - name: BloodPressure\t\n          in: query\n          type: number\n          required: true\n        - name: SkinThickness\n          in: query\n          type: number\n          required: true\n        - name: Insulin\n          in: query\n          type: number\n          required: true\n        - name: BMI\n          in: query\n          type: number\n          required: true\n        - name: DiabetesPedigreeFunction\t\n          in: query\n          type: number\n          required: true\n        - name: Age\t\n          in: query\n          type: number\n          required: true\n    responses:\n        200:\n            description: The output values\n        \n    \"\"\"\n    Pregnancies = request.args.get('Pregnancies')\n    Glucose = request.args.get('Glucose')\n    BloodPressure = request.args.get('BloodPressure')\n    SkinThickness = request.args.get('SkinThickness')\n    Insulin = request.args.get('Insulin')\n    BMI = request.args.get('BMI')\n    DiabetesPedigreeFunction = request.args.get('DiabetesPedigreeFunction')\n    Age = request.args.get('Age')\n    pred = np.array([[Pregnancies,Glucose,BloodPressure,SkinThickness,Insulin,BMI,DiabetesPedigreeFunction,Age]]).astype(np.float64)\n    prediction = rf.predict(pred)\n    print(prediction)\n    return \"result \"+str(prediction)\nif __name__=='__main__':\n    app.run(debug=True,host='0.0.0.0',port=5000)\n    ","af9a5878":"    \nCreate a requirements.txt file:\n===============================\n\n#requirements.txt:\n-----------------\nflasgger==0.9.3\npandas==0.24.2\njsonschema==2.6.0\ncertifi==2019.11.28\nClick==7.0\nFlask==1.1.1\nFlask-Cors==3.0.8\ngunicorn==20.0.4\nitsdangerous==1.1.0\nJinja2==2.10.3\njoblib==0.14.0\nMarkupSafe==1.1.1\nnumpy==1.17.4\nscikit-learn==0.23.1\nscipy==1.3.2\nsix==1.13.0\nWerkzeug==0.16.0\nimbalanced-learn==0.6.1","b5ab882f":"NOTE: \n=====\nApply These command where we have Dockerfile\n\n#docker build -t diabetis:v1 . #note v1 '.' is necessary\n\n#docker -d -p 5000:5000 --name diabetis diabetis:v1\n\nfirst we need to create a account on dockerhub\n\nafter building is done .\n\ntag our image to yours dockerhub username:\n\n#docker tag diabetis:v1 <Dockerhub user name>\/diabetis:v1\n\nthen login\n\n#docker login\n\ngive ur username and password\n\n#docker push <Dockerhub user name>\/diabetis:v1\n\n","bcb8f458":"\nCreate a Dockerfile:\n====================\n\n#Dockerfile:\n============\n\nFROM python:3.7\n\nCOPY . \/app\n\nWORKDIR \/app\n\nCOPY . \/model.pkl\n\nRUN pip3 install -r requirements.txt\n\nEXPOSE 5000\n\nCMD python3 app.py\n\n","01d5abcd":"   # **Deploy our ML model into Docker**\n   \n   for reference check with my git repo\n   https:\/\/github.com\/satyamuralidhar\/ML-Ops_ModelDeployment_k8s\n   \n   \n   **Prerequisites:**\n   ================\n1. Docker\n2. Git\n3. Visual studio code\n4. DockerHub Account\n\n![image.png](attachment:image.png)\n\n\nCreate a ML model:\n=================\n\n**For model refer my https:\/\/www.kaggle.com\/muralidhar123\/pima-indians-diabetes-prediction**\n\n\n\nNeed to install Docker:\n======================\n\ninstall in windows:\n\nhttps:\/\/download.docker.com\/win\/stable\/Docker%20Desktop%20Installer.exe\n\ninstall in linux:\n\n#apt-get install docker.io\n\n"}}