{"cell_type":{"cf7e106c":"code","3ff4cdfb":"code","6a39bfa0":"code","4b029ff7":"code","2879ffd2":"code","84f340a2":"code","a31658e3":"code","861d4700":"code","4dbb892f":"code","36eadf49":"code","41b1e48f":"code","bb1415a9":"markdown","88736bae":"markdown","4fac1097":"markdown"},"source":{"cf7e106c":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","3ff4cdfb":"import folium\nfrom IPython.display import HTML\nfrom folium.plugins import HeatMap","6a39bfa0":"df = pd.read_csv(\"..\/input\/traffic-collision-data-from-2010-to-present.csv\")","4b029ff7":"df.head()","2879ffd2":"df['Location'].head()","84f340a2":"longitude = df['Location'].str.extract('\\'longitude\\':\\s\\'(.+)\\'}', expand=True)\nlongitude = longitude.applymap(float)\nlatitude = df['Location'].str.extract('{\\'latitude\\':\\s\\'(.+)\\',\\s\\'human_address\\'', expand=True)\nlatitude = latitude.applymap(float)\nlongitude = longitude.rename(columns={0: 'lon'})\nlatitude = latitude.rename(columns={0: 'lat'})\ncoordinate = pd.concat([latitude, longitude], axis=1)","a31658e3":"coordinate.head()","861d4700":"df_new = pd.concat([df, coordinate], axis=1)","4dbb892f":"df_new.head(3)","36eadf49":"map_la = folium.Map(location=(34.052235,-118.243683))\ndata = []\nfor i in range(len(df_new)):\n    data.append((df_new['lat'][i],df_new['lon'][i]))\nHeatMap(data,radius=9).add_to(map_la)\nmap_la.save('la_accidents.html')","41b1e48f":"HTML(r'<iframe width=\"800\" height=\"500\" frameborder=\"0\" allowfullscreen src=\".\/la_accidents.html\"><\/iframe>')","bb1415a9":"# A Very Short Introduction to Geospatial Analysis with Leaflet","88736bae":"### Geospatial plot","4fac1097":"### Preparation"}}