{"cell_type":{"82365fbc":"code","16942e4c":"code","bb367e53":"code","0ed29522":"code","4542005a":"code","102ed6e5":"code","6cb3369b":"code","d07cc561":"code","5ba81d26":"code","488aea59":"code","41b8a380":"code","0f514380":"code","8f492fbb":"code","13faa0c5":"code","ab035b8e":"code","616c453b":"code","89164768":"code","54e96fac":"code","4ebb2acf":"code","cdd0c178":"code","0f3ed706":"markdown","62fc3e27":"markdown","0aeb2df1":"markdown","a9701b80":"markdown","263038f4":"markdown","a2ecc8c1":"markdown","91fe294a":"markdown","162dc080":"markdown","c59dadb2":"markdown","fc14cb7b":"markdown","476955ca":"markdown","96cbaadf":"markdown","f725021c":"markdown","dec8f160":"markdown","5f6e4ac5":"markdown","455c1e9b":"markdown","1adc42dd":"markdown","bf3ee0ce":"markdown","4a74f9b2":"markdown","4b938659":"markdown","199099ca":"markdown","f74249b5":"markdown","39ce44d4":"markdown","b182e2cb":"markdown","380208f7":"markdown","cd634b17":"markdown"},"source":{"82365fbc":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom matplotlib.offsetbox import OffsetImage, AnnotationBbox\n\nimport requests\nfrom PIL import Image, ImageDraw\nfrom io import BytesIO\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","16942e4c":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport squarify\n\ndf = pd.read_csv(\"..\/input\/capped-cricket-players\/Capped cricket players.csv\",  encoding= 'unicode_escape')\ndf","bb367e53":"country_color = {'England': 'violet',\n                 'India':'dodgerblue',\n                 'Australia': 'gold',\n                 'Pakistan':'limegreen',\n                 'New Zealand':'black',\n                 'W.Indies':'crimson',\n                 'Sri Lanka':'darkblue',\n                 'Zimbabwe':'red',\n                 'S.Africa':'darkgreen',\n                 'Bangladesh':'teal',\n                 'Kenya':'darkgreen',\n                 'Afghanistan':'green'}","0ed29522":"temp = df.groupby(['Country']).agg(Total_players=('Name', 'nunique')).reset_index()\ntemp['country_color'] = temp.Country.map(country_color)\n# temp\n\nplt.figure(figsize=(17.5, 7.5))\nsquarify.plot(sizes=temp[\"Total_players\"], \n              value= temp[\"Total_players\"], \n              label= temp[\"Country\"], \n              alpha=0.5, \n              norm_x=100,\n              norm_y=100,\n              color = sns.color_palette(temp['country_color']),\n              pad=False\n             )\nplt.axis('off')\nplt.title(\"Total players in each country\")","4542005a":"Australia_logo = requests.get(\"https:\/\/phenomenal.com.ng\/wp-content\/uploads\/2019\/10\/australia_australian_aussie_national_country_flag-512.png\")\nIndia_logo = requests.get(\"https:\/\/upload.wikimedia.org\/wikipedia\/en\/thumb\/4\/41\/Flag_of_India.svg\/1200px-Flag_of_India.svg.png\")\nSAfrica_logo = requests.get(\"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/a\/af\/Flag_of_South_Africa.svg\/1200px-Flag_of_South_Africa.svg.png\")\nSriLanka_logo = requests.get(\"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/1\/11\/Flag_of_Sri_Lanka.svg\/1280px-Flag_of_Sri_Lanka.svg.png\")\nPakistan_logo = requests.get(\"https:\/\/www.gcpr.net\/wp-content\/uploads\/2014\/04\/Pakistan-Flag.png\")\nBangladesh_logo = requests.get(\"https:\/\/www.en.etemaaddaily.com\/pages\/health\/coronavirusupdates\/3708bangladeshcoro.png\")\nWIndies_logo = requests.get(\"https:\/\/upload.wikimedia.org\/wikipedia\/en\/9\/9b\/Cricket_West_Indies_Logo_2017.png\")\nZimbabwe_logo = requests.get(\"https:\/\/img1.hscicdn.com\/image\/upload\/f_auto\/lsci\/db\/PICTURES\/CMS\/313100\/313131.logo.png\")\nKenya_logo = requests.get(\"https:\/\/cdn.britannica.com\/15\/15-004-B5D6BF80\/Flag-Kenya.jpg\")\nAfghanistan_logo = requests.get(\"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/9\/9a\/Flag_of_Afghanistan.svg\/1200px-Flag_of_Afghanistan.svg.png\")\nNewZealand_logo = requests.get(\"https:\/\/cdn.britannica.com\/17\/3017-004-F42D7C4D\/Flag-New-Zealand.jpg\")\nEngland_logo = requests.get(\"https:\/\/www.hampshireflag.co.uk\/images\/Flags\/England-Flag.jpg\")\n\n# Image.open(BytesIO(r.content)).resize(20,20)\n\ncountry_logo = {'Australia' : \"https:\/\/phenomenal.com.ng\/wp-content\/uploads\/2019\/10\/australia_australian_aussie_national_country_flag-512.png\",\n                'India' : \"https:\/\/upload.wikimedia.org\/wikipedia\/en\/thumb\/4\/41\/Flag_of_India.svg\/1200px-Flag_of_India.svg.png\",\n                'S.Africa' : \"https:\/\/cdn.britannica.com\/27\/4227-050-00DBD10A\/Flag-South-Africa.jpg\",\n                'Sri Lanka' : \"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/1\/11\/Flag_of_Sri_Lanka.svg\/1280px-Flag_of_Sri_Lanka.svg.png\",\n                'Pakistan' : \"https:\/\/www.gcpr.net\/wp-content\/uploads\/2014\/04\/Pakistan-Flag.png\",\n                'Bangladesh' : \"https:\/\/cdn.pixabay.com\/photo\/2012\/04\/10\/23\/00\/bangladesh-26806_960_720.png\",\n                'W.Indies' : \"https:\/\/upload.wikimedia.org\/wikipedia\/en\/9\/9b\/Cricket_West_Indies_Logo_2017.png\",\n                'Zimbabwe' : \"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/6\/6a\/Flag_of_Zimbabwe.svg\/640px-Flag_of_Zimbabwe.svg.png\",\n                'Kenya' : \"https:\/\/cdn.britannica.com\/15\/15-004-B5D6BF80\/Flag-Kenya.jpg\",\n                'Afghanistan' : \"https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/9\/9a\/Flag_of_Afghanistan.svg\/1200px-Flag_of_Afghanistan.svg.png\",\n                'New Zealand': \"https:\/\/cdn.britannica.com\/17\/3017-004-F42D7C4D\/Flag-New-Zealand.jpg\",\n                'England': \"https:\/\/www.hampshireflag.co.uk\/images\/Flags\/England-Flag.jpg\"\n              }\n","102ed6e5":"def offset_image(x, y, label, bar_is_too_short, ax):\n    response = requests.get(country_logo[label])\n    img = Image.open(BytesIO(response.content)).resize((70,45))\n    im = OffsetImage(img, zoom=0.65)\n    im.image.axes = ax\n    x_offset = -25\n    if bar_is_too_short:\n        x = 0\n    ab = AnnotationBbox(im, (x, y), xybox=(x_offset, 0), frameon=False,\n                        xycoords='data', boxcoords=\"offset points\", pad=0)\n    ax.add_artist(ab)\n    \n    \n        \ndef apply_label(h):\n    for p in h.patches:\n        print(p)\n        print(p.get_width()+20, p.get_xy()[1]+0.30)\n        h.text(p.get_width()+20, (p.get_xy()[1]+0.30), p.get_width(), color= 'black')\n\n","6cb3369b":"def total_players_game_format(game_format):\n\n    players_count = df.loc[df.Format==game_format].groupby(['Country']).agg(total_players=('Name', 'count')).reset_index().sort_values(['total_players'], ascending=False)\n    players_count['color'] = players_count.Country.map(country_color)\n\n\n    labels = players_count.Country\n    values = players_count.total_players\n\n    colors = ['violet', 'dodgerblue', 'gold', 'limegreen',  'black', 'crimson',\n              'darkblue', 'red', 'darkgreen', 'teal', 'darkgreen', 'green']\n\n    colors = players_count.color\n    \n    fig, ax = plt.subplots(figsize=(20, 10)) \n    \n    height = 0.9\n    g = ax.barh(y=labels, width=values, height=height, color=colors, \n                align='center', alpha=0.8)\n\n    max_value = values.max()\n    for i, (label, value) in enumerate(zip(labels, values)):\n        offset_image(value, i, label, bar_is_too_short=value < max_value \/ 10, ax=plt.gca())\n    plt.subplots_adjust(left=0.15)\n    \n    # apply_label(h=g)\n    for p in g.patches:\n        ax.text(p.get_width()+1, (p.get_xy()[1]+0.30), p.get_width(), color= 'black')\n\n    \n    plt.title(game_format)\n    plt.show()\n    \ntotal_players_game_format(game_format='ODI')\ntotal_players_game_format(game_format='Test')\ntotal_players_game_format(game_format='T20')","d07cc561":"# Players first game.\n\ndef players_first_game(game_format):\n    temp = df.loc[df.Format==game_format, :].copy()\n    players_first = temp.groupby(['Country']).agg(first_game=('First', 'min')).reset_index().sort_values(['first_game'], ascending=False)\n    players_first['plot_size'] = np.arange(0,len(players_first))#[::-1]\n    \n    plt.figure(figsize=(17.5, 5))\n    g = sns.scatterplot(players_first.Country, players_first.first_game, \n                        #size=players_first.plot_size, \n                        hue=players_first.first_game,\n                        s=300)\n    g.invert_yaxis()\n    plt.title(game_format)\n    \n    \n    for p in g.patches:\n        g.annotate('{:.0f}'.format(p.get_height()), \n                   (p.get_x()+0.4, p.get_height()+1),\n                    ha='center', va='bottom',\n                    color= 'black')\n    return None\n\nplayers_first_game(game_format='ODI')\nplayers_first_game(game_format='Test')\nplayers_first_game(game_format='T20')","5ba81d26":"def yearly_new_players(game_format):\n    temp = df.loc[df.Format==game_format].copy()\n    temp = temp.groupby(['First']).agg(new_players_count=('First', 'count')).reset_index()\n    \n    plt.figure(figsize=(22.5,5))\n    sns.barplot(x=temp.First, y=temp.new_players_count, color='lightpink')\n    plt.xticks(rotation=90)\n    plt.xlabel('year')\n    plt.title(game_format)\n    \nyearly_new_players(game_format='ODI')\nyearly_new_players(game_format='Test')\nyearly_new_players(game_format='T20')","488aea59":"def offset_image(x, y, label, ax):\n    response = requests.get(country_logo[label])\n    img = Image.open(BytesIO(response.content)).resize((70,45))\n    im = OffsetImage(img, zoom=0.65)\n    im.image.axes = ax\n    x_offset = -25\n\n    ab = AnnotationBbox(im, (x, y), xybox=(x_offset, 0), frameon=False,\n                        xycoords='data', boxcoords=\"offset points\", pad=0)\n    ax.add_artist(ab)\n\n    \ntemp = df.groupby(['Country', 'Format']).agg(players_count=('Format', 'count')).reset_index()\n\n# Create colors\na, b, c=[plt.cm.Blues, plt.cm.Reds, plt.cm.Greens]\n\n# First Ring (outside)\nfig, axes = plt.subplots(4,3, figsize=(20,15))\naxes = axes.flatten()\n\nfor i, country in enumerate(temp.Country.unique()):\n    axes[i].axis('equal')\n    plot_temp = temp.loc[temp.Country==country, :].copy()\n    plot_temp['per'] = np.round(plot_temp.players_count\/plot_temp.players_count.sum(),2)\n    plot_temp['label'] = plot_temp.players_count.astype('str') + \" (\" + plot_temp['per'].astype('str') +\"%)\"\n\n    g, _ = axes[i].pie(x=plot_temp.players_count, \n                       radius=1, \n                       labels=  plot_temp['label'], #plot_temp.players_count,\n                          )\n    \n    plt.setp(g, width=0.3, edgecolor='white')\n    axes[i].set_title(country)\n    axes[i].legend()\n    axes[i].legend(labels=['ODI', 'T20', 'Test'])\n    \n\n    offset_image(x=0.35, y=0, label=country, ax=axes[i])\n    ","41b8a380":"temp = df.Country.value_counts()\ncountry_order = list(temp.index)\n\nsns.catplot(x='Country', y='First', data=df, jitter='0.4', #color='grey',\n            hue='Format', order= country_order,\n            height=6, aspect=2)","0f514380":"f, (ax_dist_Australia, ax_dist_India, ax_dist_SAfrica, \n    ax_dist_SriLanka, ax_dist_Pakistan, ax_dist_Bangladesh, \n    ax_dist_WIndies, ax_dist_Zimbabwe, ax_dist_Kenya, \n    ax_dist_Afghanistan, ax_dist_NewZealand, ax_dist_England) = plt.subplots(12, sharex=True, gridspec_kw={\"height_ratios\": (8.33, 8.33, 8.33,\n                                                                                                                              8.33, 8.33, 8.33,\n                                                                                                                              8.33, 8.33, 8.33,\n                                                                                                                              8.33, 8.33, 8.33)}, figsize=(25, 25))\n \n# Add a graph in each part\nsns.distplot(df.First[df.Country=='Australia'] , color=country_color['Australia'], \n             ax=ax_dist_Australia, hist=False, kde_kws = {'shade': True}, label='Australia')\nax_dist_Australia.set(xlabel=\"\")\nax_dist_Australia.set_xlabel(\"\")\nax_dist_Australia.legend()\n\n\nsns.distplot(df.First[df.Country=='India'] , color=country_color['India'], #'#225ea8', \n             ax=ax_dist_India, hist=False, kde_kws = {'shade': True}, label='India')\nax_dist_India.set(xlabel=\"\")\nax_dist_India.set_xlabel(\"\")\nax_dist_India.legend()\n\nsns.distplot(df.First[df.Country=='S.Africa'] , color=country_color['S.Africa'], #'green', \n             ax=ax_dist_SAfrica, hist=False, kde_kws = {'shade': True}, label='S.Africa')\nax_dist_SAfrica.set(xlabel=\"\")\nax_dist_SAfrica.set_xlabel(\"\")\nax_dist_SAfrica.legend()\n\nsns.distplot(df.First[df.Country=='Sri Lanka'] , color=country_color['Sri Lanka'], #'blue', \n             ax=ax_dist_SriLanka, hist=False, kde_kws = {'shade': True}, label='Sri Lanka')\nax_dist_SriLanka.set(xlabel=\"\")\nax_dist_SriLanka.set_xlabel(\"\")\nax_dist_SriLanka.legend()\n\nsns.distplot(df.First[df.Country=='Pakistan'] , color=country_color['Pakistan'], #'#00441b', \n             ax=ax_dist_Pakistan, hist=False, kde_kws = {'shade': True}, label='Pakistan')\nax_dist_Pakistan.set(xlabel=\"\")\nax_dist_Pakistan.set_xlabel(\"\")\nax_dist_Pakistan.legend()\n\nsns.distplot(df.First[df.Country=='Bangladesh'] , color=country_color['Bangladesh'], #'green', \n             ax=ax_dist_Bangladesh, hist=False, kde_kws = {'shade': True}, label='Bangladesh')\nax_dist_Bangladesh.set(xlabel=\"\")\nax_dist_Bangladesh.set_xlabel(\"\")\nax_dist_Bangladesh.legend()\n\nsns.distplot(df.First[df.Country=='W.Indies'] , color=country_color['W.Indies'], #'red', \n             ax=ax_dist_WIndies, hist=False, kde_kws = {'shade': True}, label='W.Indies')\nax_dist_WIndies.set(xlabel=\"\")\nax_dist_WIndies.set_xlabel(\"\")\nax_dist_WIndies.legend()\n\nsns.distplot(df.First[df.Country=='Zimbabwe'] , color=country_color['Zimbabwe'], #'pink', \n             ax=ax_dist_Zimbabwe, hist=False, kde_kws = {'shade': True}, label='Zimbabwe')\nax_dist_Zimbabwe.set(xlabel=\"\")\nax_dist_Zimbabwe.set_xlabel(\"\")\nax_dist_Zimbabwe.legend()\n\nsns.distplot(df.First[df.Country=='Kenya'] , color=country_color['Kenya'], #'red', \n             ax=ax_dist_Kenya, hist=False, kde_kws = {'shade': True}, label='Kenya')\nax_dist_Kenya.set(xlabel=\"\")\nax_dist_Kenya.set_xlabel(\"\")\nax_dist_Kenya.legend()\n\nsns.distplot(df.First[df.Country=='Afghanistan'] , color=country_color['Afghanistan'], #'#00441b', \n             ax=ax_dist_Afghanistan, hist=False, kde_kws = {'shade': True}, label='Afghanistan')\nax_dist_Afghanistan.set(xlabel=\"\")\nax_dist_Afghanistan.set_xlabel(\"\")\nax_dist_Afghanistan.legend()\n\nsns.distplot(df.First[df.Country=='New Zealand'] , color=country_color['New Zealand'], #'black', \n             ax=ax_dist_NewZealand, hist=False, kde_kws = {'shade': True}, label='New Zealand')\nax_dist_NewZealand.set(xlabel=\"\")\nax_dist_NewZealand.set_xlabel(\"\")\nax_dist_NewZealand.legend()\n\nsns.distplot(df.First[df.Country=='England'] , color=country_color['England'], #'#0000A0', \n             ax=ax_dist_England, hist=False, kde_kws = {'shade': True}, label='England')\nax_dist_England.set(xlabel=\"\")\nax_dist_England.set_xlabel(\"\")\nax_dist_England.legend()\n\nax_dist_Australia.set(title=\"Players capped\")\n\n# for p, label in zip(ax.patches, DF[\"weekday\"].value_counts().index):\n#     ax.annotate(p.get_height(), (p.get_x()+0.375, 0.7), color='white')","8f492fbb":"temp = df.groupby(['Name', 'Country']).agg(Formats_played = ('Name', 'count')).reset_index().sort_values(['Formats_played'], ascending=False)\n\ntemp_2 = temp.groupby(['Formats_played']).agg(Formats_played_count = ('Formats_played', 'count')).reset_index()\ntemp_2['label'] = temp_2.Formats_played.astype('str') + \" Formats \" + \"\\n\" + \\\n                     ''+ temp_2.Formats_played_count.astype('str') + \", (\" +\\\n                    (np.round(temp_2['Formats_played_count']\/temp_2['Formats_played_count'].sum() *100,2)).astype('str') + ' %)'","13faa0c5":"plt.figure(figsize=(10,5))\nsquarify.plot(sizes=temp_2[\"Formats_played_count\"], \n#               value= temp_2[\"Formats_played_count\"], \n              label= temp_2[\"label\"], \n              alpha=0.9, \n              norm_x=100,\n              norm_y=100,\n              pad=True\n              #, color=colors\n             )\nplt.axis('off')\nplt.title(\"Players \")","ab035b8e":"temp.loc[temp.Formats_played>3, ['Name', 'Country']]","616c453b":"selected_players = temp.loc[temp.Formats_played>3][['Name', 'Country']].apply(tuple, axis=1)\ndf[df[['Name', 'Country']].apply(tuple, axis=1).isin(selected_players)]","89164768":"condition_1 = ((df.Last.isnull())&(df.First<2005))\ncondition_2 = ((df.Last.isnull())&(df.First>2005))\ndf['new_Last'] = np.where(condition_1, df.First,\n                          np.where(condition_2, 2020, df.Last))\ndf['career_duration'] = df.new_Last-df.First\n\ntemp = df.loc[df.First<=2015, :].copy()\n# temp.Last = temp.Last.fillna(2020)\n\ntemp = temp[['Format', 'Country', 'Name', 'First', 'Last', 'new_Last', 'career_duration']]\ntemp","54e96fac":"f, (Test, ODI,  T20) = plt.subplots(1, 3, #sharey=True, \n                                   gridspec_kw={\"width_ratios\": (33.33, 33.33, 33.33)},\n                                   figsize=(25, 10))\n\ntemp_v2 = temp.loc[temp.Format=='Test'].copy()\nsns.boxplot(y=temp_v2.Country, x=temp_v2.career_duration, ax = Test)\nTest.set(title=\"Test\")\n\ntemp_v2 = temp.loc[temp.Format=='ODI'].copy()\nsns.boxplot(y=temp_v2.Country, x=temp_v2.career_duration, ax = ODI)\nODI.set(title=\"ODI\")\nODI.set(ylabel=\"\")\n\ntemp_v2 = temp.loc[temp.Format=='T20'].copy()\nsns.boxplot(y=temp_v2.Country, x=temp_v2.career_duration, ax = T20)\nT20.set(title=\"T20\")\nT20.set(ylabel=\"\")","4ebb2acf":"df.loc[df.career_duration>=20, ['Format', 'Cap', 'Country', 'Name', \n                                'First', 'Last', 'career_duration']].sort_values(['career_duration', \n                                                                                  'Country'], ascending=False)\n\n\ntemp = df.loc[df.career_duration>=20, ['Country', 'Name', 'career_duration']].groupby(['Country', 'Name']).agg(career_duration = ('career_duration', 'max')).reset_index()\ntemp = temp.sort_values(['career_duration'], ascending=False)\n\ntemp['Country_color'] = temp.Country.map(country_color)\ntemp['label_text'] = temp.Name.astype('str') + \", \" + temp.Country.astype('str') + \", \" + temp.career_duration.astype('int').astype('str') + \" years\" \n\n\nold_players_image = {'Bob Simpson' :'https:\/\/st3.cricketcountry.com\/wp-content\/uploads\/cricket\/20170202075716.jpeg',\n                     'Brian Close':'https:\/\/i.pinimg.com\/originals\/b3\/02\/ea\/b302ea1e206d6f47babde77996f7c8e5.jpg',\n                     'Freddie Brown':'https:\/\/upload.wikimedia.org\/wikipedia\/commons\/1\/15\/Freddie_Brown_cricketer_c1935.jpg',\n                     'Don Bradman': 'https:\/\/st2.cricketcountry.com\/wp-content\/uploads\/cricket\/dccc1faaaff45acff6b49a572d7cd656.jpeg',\n                     'Syd Gregory' : 'https:\/\/www.famousbirthdays.com\/faces\/gregory-syd-image.jpg',\n                     'Colin Cowdrey': 'https:\/\/st3.cricketcountry.com\/wp-content\/uploads\/cricket\/20150630031249.jpeg',\n                     'Denis Compton':'https:\/\/pbs.twimg.com\/media\/DAf86RFWAAE6Zi7.jpg',\n                     'Frank Woolley':'https:\/\/qt.azureedge.net\/resources\/authors-images-large\/frank-woolley.jpg',\n                     'Fred Titmus':'https:\/\/www.watfordobserver.co.uk\/resources\/images\/1604204.jpg?display=1&htype=100001&type=responsive-gallery',\n                     'George Gunn':'https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/1\/16\/George_Gunn_c1910cr.jpg\/260px-George_Gunn_c1910cr.jpg',\n                     'Graham Gooch':'https:\/\/www.arenaentertainments.co.uk\/wp-content\/uploads\/2013\/09\/Graham-Gooch-1-298x312.jpg',\n                     'Jack Hobbs':'https:\/\/upload.wikimedia.org\/wikipedia\/commons\/7\/7f\/Jack_Hobbs_c1920.jpg',\n                     'Wally Hammond':'https:\/\/upload.wikimedia.org\/wikipedia\/commons\/1\/14\/Wally_Hammond_c1930.jpg',\n                     'Wilfred Rhodes':'https:\/\/st3.cricketcountry.com\/wp-content\/uploads\/cricket\/20150625044847.jpeg',\n                     'Sachin Tendulkar':'https:\/\/www.celebritynews.wiki\/wp-content\/uploads\/2019\/05\/Sachin-Tendulkar.jpg',\n                     'Imran Khan':'https:\/\/3.bp.blogspot.com\/-PyM7Tx_Uz-c\/WAahDOXuqtI\/AAAAAAAADiM\/rJrQpj3cQ68MvduDFpSYqCA-oNpwUDkgACK4B\/s400\/Imran-Khan.jpg',\n                     'Javed Miandad':'https:\/\/t2.gstatic.com\/images?q=tbn:ANd9GcT_82bHwcvuiCLu2FG300jp97EeoYl_VzEB5tbrxxxdtFDRUtspNaOuUf59Kjx7',\n                     'Mushtaq Mohammad':'https:\/\/p.imgci.com\/db\/PICTURES\/CMS\/21100\/21173.jpg',\n                     'Shoaib Malik':'https:\/\/www.cricketcountry.com\/wp-content\/uploads\/2014\/02\/Shoaib-Malik-poses-during-the-ICC-Champions-photocall-session-of-Pakistan-at-Sand-1.jpg',\n                     'Bruce Mitchell':'https:\/\/www.cricketcountry.com\/wp-content\/uploads\/2014\/01\/Bruce-Mitchell.jpg',\n                     'Dave Nourse':'https:\/\/upload.wikimedia.org\/wikipedia\/commons\/1\/13\/Dudley_Nourse_1935.jpg',\n                     'Herbie Taylor':'https:\/\/st3.cricketcountry.com\/wp-content\/uploads\/cricket\/20170505094914.jpeg',\n                     'Sanath Jayasuriya':'https:\/\/www.geocities.ws\/saqibali\/31.jpg',\n                     'Chris Gayle':'https:\/\/st3.cricketcountry.com\/wp-content\/uploads\/cricket\/20140522042341.jpeg',\n                     'Garfield Sobers':'https:\/\/imgresizer.eurosport.com\/unsafe\/1200x0\/filters:format(jpeg)\/origin-imgresizer.eurosport.com\/2015\/10\/22\/1716752-36333424-2560-1440.jpg',\n                     'George Headley':'https:\/\/st3.cricketcountry.com\/\/wp-content\/uploads\/2014\/10\/George-Headly300446-201x300.jpg',\n                     'Shivnarine Chanderpaul':'https:\/\/m.cricbuzz.com\/a\/img\/v1\/192x192\/i1\/c157222\/shivnarine-chanderpaul.jpg'}","cdd0c178":"def image_circle_crop(img):\n    npImage=np.array(img)\n\n    h,w=img.size\n\n    # Create same size alpha layer with circle\n    alpha = Image.new('L', img.size,0)\n    draw = ImageDraw.Draw(alpha)\n    draw.pieslice([0,0,h,w],0,360,fill=255)\n\n    # Convert alpha Image to numpy array\n    npAlpha=np.array(alpha)\n\n    # Add alpha layer to RGB\n    npImage=np.dstack((npImage,npAlpha))\n    \n    return npImage\n\ndef offset_image(x, y, label, ax):\n    response = requests.get(old_players_image[label])\n    img = Image.open(BytesIO(response.content)).resize((80,60))\n    \n    img = image_circle_crop(img)\n    \n    im = OffsetImage(img, zoom=0.65)\n    im.image.axes = ax\n    x_offset = -25\n\n    ab = AnnotationBbox(im, (x+2, y), xybox=(x_offset, 0), frameon=False,\n                        xycoords='data', boxcoords=\"offset points\", pad=0)\n    ax.add_artist(ab)\n\n    \ndef change_width(ax, new_value) :\n    for patch in ax.patches :\n        #print(patch)\n        current_height = patch.get_height()\n        diff = current_height - new_value\n\n        # we change the bar width\n        patch.set_height(0.03)\n\n        #print(patch)\n        \n        # we recenter the bar\n        patch.set_y(patch.get_y() + diff * .50)\n\n\ndef apply_label(x, y, label, ax):\n    ax.text(x, y+0.05,label, color= 'black', size=12.5)\n\nplt.figure(figsize=(15, 25))\n\ng = plt.barh(temp.Name, temp.career_duration, color= temp.Country_color.tolist()\n            )\n\nplt.xlim(0, temp.career_duration.max()+5)\n\nchange_width(ax=g, new_value=0.05)\n# apply_label(ax=g)\n\n\nlabels = temp.Name\nvalues = temp.career_duration\nlabel_text = temp.label_text\n    \nfor i, (label, value) in enumerate(zip(labels, values)):\n    offset_image(value, i, label, ax=plt.gca())\n\nfor i, (value, label_text) in enumerate(zip(values, label_text)):\n    apply_label(x=2, y=i, label=label_text, ax=plt.gca())\n\n# plt.subplots_adjust(left=0.15)\n\nplt.xlabel(\"Years\")\nplt.yticks([])\n# g.set_ylabel(\"\")\n# g.set_yticks([])\n# plt.title(game_format)\nplt.show()\n\n","0f3ed706":"Well there is definitely something strange we could see here. How a player could play in 4 or 5 formats. mostly likely it should be players with the same name from the same team. Let's check them out who are the players who have played more than 3 formats.","62fc3e27":"One noticible thing that standout from the plot is the outliers of the test format from England players. It's quite surprising to see some one to have played for more than 25 years. Let's check out all the players who have played for more than 20 years.","0aeb2df1":"This confirms that our assumption is right. ","a9701b80":"Well I was expecting to see almost all countries to be having more capped Test players since it is the oldest format, but few things to note here. \n* Bangladesh, SriLanka and Zimbabwe has more capped ODI players.\n* Kenya has no players from the Test format since the country has not played any test matches. \n* Other than the 4 countries all of them have more capped test played.\n* One common thing between all of the teams is they all have less T20 capped players since it's the newest format compared to ODI and Test.","263038f4":"Alright now let's check if these were players who played at different time period with the same name. My assumption is they might have played during different periods","a2ecc8c1":"![image.png](attachment:image.png)","91fe294a":"# What is cricket? \n\nFirst of all for beginners or people who are not familiar with cricket it's kind of similar to baseball. Let me give some basic information and for more details about the rules you can refer wikipedia.\n\nCricket is team sport played between 2 teams containing 11 players each. It is played with a cricket bat and cork ball in oval or round shaped ground. There are 3 formats to the game Test, ODI and T20 matches. \n* Test matches run for a maximum of 5 days and each team gets to bat and bowl twice within 5 days. The 5 day format is the standard from the time I started to watch during the mid 90s, but it has varied from 3,4,5,6 days during the early days. However the current format is 5 days match, a maximum of 90 overs are bowled per day. \n* ODI matches complete within a day were each team plays a maximum of 50 overs if they are not all-out by the bowling side. \n* Unlike Test or ODI which has been played for few decades until now, T20 is the new format which is hardly a decade and half old, were each team plays a maximum of 20 overs each.\n\n-- Each over is composed of 6 balls being bowled. ","162dc080":"Well I did learn from the Test match plot that Autralia team is also as old as England having capped their first player in the 1800s. ","c59dadb2":"# That brings to the end of my kernel. I enjoyed working this data and hope you liked it too. Please upvote the kernel if you like it. Thanks","fc14cb7b":"# Players capped by year","476955ca":"# Proportions of players in each format","96cbaadf":"* It's very clear England has capped more players than any other country, it is expected outcome as cricket was invented by the English. \n* The lowest being Afghanistan as they are a young team and have been playing international cricket only from 2010. \n* We have not seen much of Kenya or Zimbabwe in action atleast in the last decade which also answers why they have less capped players.","f725021c":"# Overall capped players across years from each Country","dec8f160":"Alright we saw which team is the oldest and which is the youngest, But would not it be nice to see when was the first player capped in each team? Let's check it out","5f6e4ac5":"Let's check out how long have the players played cricket during their career. \nLet's consider only players who played their first game before 2015 and assume that they have not retired yet by labelling their last game as 2020. For all the players who have been capped before 2005 were their last game information is not available let's fill them as 2020. ","455c1e9b":"![image.png](attachment:image.png)","1adc42dd":"The teams that I have considered for this analysis are listed below. ","bf3ee0ce":"# Players who have played for more than 20 years ","4a74f9b2":"# Player's career span ","4b938659":"# 1st player capped year in each format\nLet's check out the year when the players were capped for the first time across each format. This would also mean when did the nation played their first match of the format","199099ca":"# Total players capped each year irrespective of teams","f74249b5":"# Players who have played all the 3 formats\nFor fun let's check for players who have played all 3 formats of the game.","39ce44d4":"# Total capped players\nLet's look at the total number of players capped in each team irrespective of the format, since the same player might have played for all 3 formats","b182e2cb":"At least in the last few decades the number of players capped are around 50 - 70 in all 3 formats","380208f7":"Well there are 2 things we all can see from this.\n* There is a gap in between 1913-1920 as well as between 1939-1946. Probabaly no cricket was played during these period. \n* In addition to the above period South Africa seemed to have a break between 1970-1991. ","cd634b17":"# Total Players by Format\nNow that we saw the overall players capped irrespective of the Format from the previous plot, Let's go one step deep and check for totals players capped in each country for each formats separately"}}