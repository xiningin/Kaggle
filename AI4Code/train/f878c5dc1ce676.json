{"cell_type":{"d12e7b5a":"code","c2557daf":"code","510c8975":"code","92168e50":"code","99677613":"code","f2bfa775":"code","1d180f9d":"code","c15c9258":"code","c86addcf":"code","eaa0cf4d":"code","0a34c425":"code","05e24e3b":"markdown","36583ad1":"markdown"},"source":{"d12e7b5a":"import numpy as np\nimport pandas as pd\n%matplotlib inline\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly_express as px\nplt.rcParams[\"figure.figsize\"] = (15, 10)\nplt.rcParams[\"figure.dpi\"] = 125\nplt.rcParams[\"font.size\"] = 14\nplt.rcParams['font.family'] = ['sans-serif']\nplt.rcParams['font.sans-serif'] = ['DejaVu Sans']\nplt.style.use('ggplot')\nsns.set_style(\"whitegrid\", {'axes.grid': False})\nplt.rcParams['image.cmap'] = 'gray' # grayscale looks better\nfrom itertools import cycle\nprop_cycle = plt.rcParams['axes.prop_cycle']\ncolors = prop_cycle.by_key()['color']","c2557daf":"hardbruecke_df = pd.read_csv('..\/input\/zurich-mobility-data-2020\/frequenzen_hardbruecke_2020.csv')\nhardbruecke_df['Date'] = pd.to_datetime(hardbruecke_df['Timestamp'])\nhardbruecke_df['WeekNo'] = hardbruecke_df['Date'].dt.weekofyear\nhardbruecke_df['DayOfWeek'] = hardbruecke_df['Date'].dt.dayofweek\nhardbruecke_df['DayNo'] = hardbruecke_df['Date'].dt.dayofyear\nhardbruecke_df['Month'] = hardbruecke_df['Date'].dt.month\nhardbruecke_df['Day'] = hardbruecke_df['Date'].dt.day\n\nhardbruecke_df.sample(3)","510c8975":"sns.heatmap(hardbruecke_df.pivot_table(columns='WeekNo', index='DayOfWeek', values='Out', aggfunc='sum'), \n            annot=True, fmt='2.0f',\n           )","92168e50":"daily_summary_df = hardbruecke_df.\\\n    groupby(['WeekNo', 'DayOfWeek', 'DayNo', 'Name']).\\\n    apply(lambda x: pd.Series(\n    {'Total_Out': sum(x['Out']),\n     'Total_in': sum(x['In'])\n    }\n)).reset_index()\ndaily_summary_df.head(3)","99677613":"fig, ax1 = plt.subplots(1, 1, figsize=(20, 5))\nsns.lineplot(data=daily_summary_df, x='DayNo', y='Total_Out', hue='Name', ax=ax1)","f2bfa775":"sns.heatmap(\n    daily_summary_df.pivot_table(index='DayNo', columns='Name', values='Total_Out', aggfunc='sum')\n)","1d180f9d":"passangers_df = pd.read_csv('..\/input\/zurich-mobility-data-2020\/reisende.csv', sep=\";\")","c15c9258":"passangers_df.shape","c86addcf":"passangers_df.sample(3).T","eaa0cf4d":"passangers_df.query('Linien_Id==80').plot.scatter(x='Sequenz', y='Besetzung')","0a34c425":"sns.lineplot(data=passangers_df.query('Linien_Id==80'), x='Sequenz', y='Besetzung')","05e24e3b":"# VBZ Guests\n- To be continued","36583ad1":"# Overview\nA look at the public transportation data from Open Data Zurich (https:\/\/data.stadt-zuerich.ch\/) to evaluate how much has changed since the measures went into place"}}