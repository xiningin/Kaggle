{"cell_type":{"1b523732":"code","8bd73cb5":"code","21eca606":"code","7652bf04":"code","e367eb20":"code","3bedee11":"code","85ed25e4":"code","4004ed64":"code","9298a255":"code","b185038e":"code","e4fca17f":"code","582aee9d":"code","9d393c06":"code","a1deebff":"code","11e1bef8":"code","57bc67b0":"markdown","2637e668":"markdown","9d9ee7a9":"markdown","e4fb7189":"markdown","37484903":"markdown","e267a73e":"markdown","8bedd460":"markdown","0b035b15":"markdown","862bc2e4":"markdown","22f7174d":"markdown"},"source":{"1b523732":"import numpy as np\nimport pandas as pd\nimport plotly.express as px\nimport os","8bd73cb5":"covid = pd.read_csv(\"\/kaggle\/input\/fortbrasil\/questao1_coronavirus.csv\",sep=\";\")\nprint(\"\\nDimension of InicialData:\",covid.shape)\ncovid.head()","21eca606":"covid.describe()","7652bf04":"covid.isna().mean()","e367eb20":"covid[covid.estimated_population_2019.isna()]","3bedee11":"covid[covid.estimated_population_2019.isna()].describe()","85ed25e4":"covid[(covid.estimated_population_2019.isna())& (covid.new_confirmed>0)][\"new_confirmed\"].plot.hist(title = \"Histogram of new_confirmed >0 for population NaN\")","4004ed64":"state = covid.state.unique()\nfor state_i in state:\n    covid[\"estimated_population_2019\"][covid.state ==state_i]= covid[covid.state ==state_i][\"estimated_population_2019\"].fillna(\n        covid[covid.state ==state_i][\"estimated_population_2019\"].min())\ncovid.isna().mean()","9298a255":"print(\"\\n Proportion of negative values in new_confirmed variable in %:\",np.mean(covid.new_confirmed<0)*100)\nprint(\"\\n Proportion of negative values in new_deaths variable in %:\",np.mean(covid.new_deaths<0)*100)","b185038e":"covid.new_confirmed[covid.new_confirmed<0] = 0\ncovid.new_deaths[covid.new_deaths<0] = 0","e4fca17f":"BrasilCum = covid.groupby(\"date\").sum().cumsum().reset_index()\nBrasilCum[\"rateDeath\"] = BrasilCum[\"new_deaths\"]\/BrasilCum[\"new_confirmed\"]*100\npopulationBrasil = covid.groupby([\"state\",\"city\"])[\"estimated_population_2019\"].mean().sum()\nprint(\"\\n The total population of Brazil in 2019 was:\",populationBrasil)\nBrasilCum[\"rateInfected\"] = BrasilCum[\"new_confirmed\"]\/populationBrasil*100\n\nStateCum = covid.groupby([\"date\",\"state\"]).sum().groupby('state').cumsum().reset_index().set_index(\"state\").drop(\"estimated_population_2019\",axis=1)\nStateCum[\"rateDeath\"] = StateCum[\"new_deaths\"]\/StateCum[\"new_confirmed\"]*100\npopulationByState = covid.groupby([\"state\",\"city\"])[\"estimated_population_2019\"].mean().groupby(\"state\").sum().to_frame()\nStateCum = StateCum.join(populationByState).reset_index()\nStateCum[\"rateInfected\"] = StateCum[\"new_confirmed\"]\/StateCum[\"estimated_population_2019\"]*100","582aee9d":"CumCasesBrasil = px.line(BrasilCum, x=\"date\", y=\"new_confirmed\",title=\"Cumulative cases of covid in Brazil\",\n                        labels={'new_confirmed': 'Cumulative cases'})\nCumCasesBrasil.show()\nCumCasesState = px.line(StateCum, x=\"date\", y=\"new_confirmed\",color = \"state\" ,title=\"Cumulative cases of covid in states of Brazil \",\n                        labels={'new_confirmed': 'Cumulative cases'})\nCumCasesState.show()","9d393c06":"CumDeathBrasil = px.line(BrasilCum, x=\"date\", y=\"new_deaths\",title=\"Cumulative deaths of covid in Brazil\",\n                        labels={'new_deaths': 'Cumulative death'})\nCumDeathBrasil.show()\nCumDeathState = px.line(StateCum, x=\"date\", y=\"new_deaths\",color = \"state\" ,title=\"Cumulative deaths of covid in states of Brazil \",\n                        labels={'new_deaths': 'Cumulative death'})\nCumDeathState.show()","a1deebff":"DeathRateBrasil = px.line(BrasilCum, x=\"date\", y=\"rateDeath\",title=\"Rate death of covid in Brazil\",\n                        labels={'rateDeath': 'Rate death %'})\nDeathRateBrasil.show()\nDeathRateState = px.line(StateCum, x=\"date\", y=\"rateDeath\",color = \"state\" ,title=\"Rate death of covid in states of Brazil \",\n                        labels={'rateDeath': 'Rate death %'})\nDeathRateState.show()","11e1bef8":"InfectedRateBrasil = px.line(BrasilCum, x=\"date\", y=\"rateInfected\",title=\"% of Infected of covid in Brazil\",\n                        labels={'rateInfected': 'Infected %'})\nInfectedRateBrasil.show()\nInfectedRateState = px.line(StateCum, x=\"date\", y=\"rateInfected\",color = \"state\" ,title=\"% of Infected of covid in states of Brazil \",\n                        labels={'rateInfected': 'Infected %'})\nInfectedRateState.show()","57bc67b0":"# N\u00famero de mortes acumulado no Brasil e nos estados do Brasil","2637e668":"# %  de mortes sobre infectados no Brasil e nos estados do Brasil","9d9ee7a9":"<h1><center><font size=\"6\">Case FortBrasil Data science junior: Quest\u00e3o 1<\/font><\/center><\/h1>\n\n![](https:\/\/sasquadportador.blob.core.windows.net\/general-images\/header-blog-1.png)","e4fb7189":"# Obtendo os dataset finais\n\nVamos a obter dois dataset:\n\n* A primeira \u00e9 no Brasil tudo\n* Em fun\u00e7\u00e3o de cada Estado","37484903":"# % da popula\u00e7\u00e3o j\u00e1 infectada no Brasil e nos estados do Brasil\n","e267a73e":"# O dataset tem dados faltantes?\n\nO dataset tem dados faltantes na vari\u00e1vel *estimated_population_2019*, talvez seja por causa de uma cidade pequena. Logo depois de analizar bem, podemos ver que os dados perdidos pertecem as cidades do tipo \"Importados\/Indefinidos\". Alem disso, pode se ver que tem valores negativos na vari\u00e1vel *new_confirmed* e *new_deaths*. \n\nDesi\u00e7\u00e3o a tomar: como os dados faltantes s\u00f3 representa o $6\\%$, ent\u00e3o ser\u00e3o substituidos por o valor m\u00ednimo de cada estado (\u00e9 o valor min que pode assumir) j\u00e1 que n\u00e3o podem assumir o valor cero.","8bedd460":"# Gr\u00e1ficos interativos\n\nNesta sec\u00e7\u00e3o utilizei plotly. A biblioteca \u00e9 muito boa para poder visualizar s\u00e9ries temporais. No caso do github ele nao pode ser visualizado, tem que executar pessoalmente.","0b035b15":"# <a id='1'>Quest\u00e3o 1<\/a> \nNos \u00faltimos meses, o mundo est\u00e1 vivendo uma situa\u00e7\u00e3o completamente atipica. A pandemia do Corona Virus\nmudou a vida de todos e muitas pessoas j\u00e1 foram afetadas por essa doen\u00e7a. Buscando entender o n\u00famero\natuais do brasil, principalmente os do cear\u00e1, gostariamos de ter um acompanhamento dos seguintes\nindicadores.\n\n* N\u00fameros de casos acumulado;\n* N\u00famero de mortes acumulado;\n* % de mortes sobre infectados;\n* % da popula\u00e7\u00e3o j\u00e1 infectada;","862bc2e4":"# N\u00famero de casos acumulados no Brasil e nos estados do Brasil","22f7174d":"# Tratamento dos valores negativos\n\nVejamos o $\\%$ que representam os valores negativos para as vari\u00e1veis *new_confirmed* e *new_deaths*. Depois como temos um $\\%$ baixo, podemos substituir por cero que \u00e9 o valor m\u00ednimo que pode assumir as vari\u00e1veis. "}}