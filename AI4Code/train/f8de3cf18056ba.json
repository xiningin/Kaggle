{"cell_type":{"8379c57f":"code","75c786bd":"code","2a324bab":"code","0f3f0f03":"code","472fa196":"code","d065f248":"code","c54dc9dd":"code","a89ac620":"code","dadd411c":"code","ecc3705a":"code","89fa624e":"code","a25e9552":"code","3966dcc4":"code","e968aec0":"code","7c46f866":"code","b2770e01":"code","ad4b408d":"code","8491fb8b":"code","c16e1f4e":"code","f1a47c9b":"code","dc9d3f5e":"code","5dddea3c":"code","9c01fff2":"code","9c30d8f5":"code","53eb8a03":"code","32d0a011":"code","a093c50c":"code","d3abc431":"code","7c830692":"code","339a21a4":"code","9b33c006":"code","18ba434a":"code","d16466ca":"code","72843de1":"code","636a4cfa":"code","920029b8":"code","0f5c6eb5":"code","0533a243":"code","75dfe4d9":"code","bdadc3af":"markdown","c0a78917":"markdown","812ceb62":"markdown","0fb8fe77":"markdown","87c10631":"markdown","6eac4c03":"markdown","45d4bb28":"markdown","bc94229f":"markdown","7dffd6a2":"markdown","c925480a":"markdown","c707bb25":"markdown","96c8e510":"markdown","01ad988c":"markdown","9a98712d":"markdown","91bc54d5":"markdown","3f4dd09e":"markdown","0af97bff":"markdown","bf0cb969":"markdown","796f7051":"markdown","75688edc":"markdown","290e3994":"markdown","f1d799f4":"markdown","822d9214":"markdown","f844aaae":"markdown","9d45befe":"markdown","e8d5a5bb":"markdown","a9a38a4b":"markdown","fe8b2df0":"markdown","48b0258a":"markdown","fd31c8fa":"markdown","73d09ace":"markdown","dcec7c9b":"markdown","6101a415":"markdown"},"source":{"8379c57f":"import numpy as np\nimport seaborn as sns\nimport pandas as pd","75c786bd":"startups = pd.read_csv(\"..\/input\/50_Startups.csv\")\ndf = startups.copy()","2a324bab":"df.head()","0f3f0f03":"df.info()","472fa196":"df.shape","d065f248":"df.isnull().sum()","c54dc9dd":"df.corr()","a89ac620":"sns.heatmap(df.corr())","dadd411c":"sns.scatterplot(x = df[\"R&D Spend\"], y = df[\"Profit\"])","ecc3705a":"df.hist()","89fa624e":"df.describe()","a25e9552":"df[\"State\"].unique()","3966dcc4":"df[\"State\"] = pd.Categorical(df[\"State\"])","e968aec0":"stateDummies = pd.get_dummies(df[\"State\"], prefix = \"State\")","7c46f866":"df = pd.concat([df,stateDummies],axis = 1)","b2770e01":"df.head()","ad4b408d":"df.drop([\"State\",\"State_Florida\"],axis = 1, inplace = True)","8491fb8b":"df.head()","c16e1f4e":"X = df.drop(\"Profit\",axis = 1)\ny = df[\"Profit\"]","f1a47c9b":"X","dc9d3f5e":"y","5dddea3c":"from sklearn.model_selection import train_test_split\nX_train, X_test, y_train, y_test = train_test_split(X,y,test_size = 1\/5)","9c01fff2":"X_train","9c30d8f5":"X_test","53eb8a03":"y_train","32d0a011":"y_test","a093c50c":"from sklearn.linear_model import LinearRegression\nmodel = LinearRegression()","d3abc431":"model.fit(X_train, y_train)","7c830692":"y_pred = model.predict([[52000,4789.14,20000,0,0]])\ny_pred","339a21a4":"df[\"pred_Profit\"] = model.predict(X)\ndf.sample(10)","9b33c006":"import sklearn.metrics as metrics\nimport math","18ba434a":"MAE = metrics.mean_absolute_error(df[\"Profit\"],df[\"pred_Profit\"])\nMAE","d16466ca":"MSE = metrics.mean_squared_error(df[\"Profit\"],df[\"pred_Profit\"])\nMSE","72843de1":"RMSE = math.sqrt(MSE)\nRMSE","636a4cfa":"model.score(X_train,y_train)","920029b8":"sns.lmplot(x = \"Profit\", y = \"pred_Profit\", data = df); ","0f5c6eb5":"import statsmodels.api as sm","0533a243":"stmodel = sm.OLS(y,X).fit()","75dfe4d9":"stmodel.summary()","bdadc3af":"Numpy, matplotlib.pyplot, pandas ve seaborn k\u00fct\u00fcphanelerini \u00e7ekirde\u011fe dahil edelim.","c0a78917":"State'a ait benzersiz de\u011ferleri g\u00f6r\u00fcnt\u00fcleyelim.","812ceb62":"Veri \u00e7er\u00e7evesinin temel istatistik de\u011ferlerini g\u00f6r\u00fcnt\u00fcleyelim.","0fb8fe77":"Say\u0131sal de\u011fi\u015fkenlerin da\u011f\u0131l\u0131m\u0131n\u0131 g\u00f6rmek i\u00e7in df \u00fczerinden histogram \u00e7izdirelim.","87c10631":"LinearRegression'u \u00e7ekirde\u011fe dahil edip modeli in\u015fa edelim.","6eac4c03":"State \u00f6zniteli\u011fini silip dummy olarak yarat\u0131lan State'lardan da birisini hari\u00e7 tutarak veri \u00e7er\u00e7evemizi g\u00fcncelleyelim.","45d4bb28":"#### Buradan bak\u0131ld\u0131\u011f\u0131nda en g\u00fc\u00e7l\u00fc korelasyonun R&D Spend ve Profit aras\u0131nda oldu\u011funu g\u00f6r\u00fcyoruz","bc94229f":"#### Verimizde hi\u00e7 null de\u011fer yok gayet iyi.","7dffd6a2":"R&D Spend ve Profit aras\u0131ndaki korelasyonu daha iyi g\u00f6rebilmek i\u00e7in scatterplot \u00e7izdirelim.","c925480a":"4 par\u00e7a de\u011fi\u015fkeni kontrol edelim.","c707bb25":"Korelasyon matrisi \u00e7izdirelim.","96c8e510":"Bu grafiklerden de g\u00f6rd\u00fc\u011f\u00fcm\u00fcz gibi. Administration i\u00e7in olan harcamalar 50000 ile yakla\u015f\u0131k olarak 180000 aras\u0131nda,\nMarketing i\u00e7in olan harcamalar 0 ile yakla\u015f\u0131k 420000 aras\u0131nda,  R&D i\u00e7in olan harcamalar 0 ile yakla\u015f\u0131k 165000 aras\u0131nda ve bunlara ba\u011fl\u0131 olarak Profit de\u011ferleri de yakla\u015f\u0131k 15000 ile 185000 aras\u0131nda ","01ad988c":"Dizinde bulunan veri \u00e7er\u00e7evemizi startups de\u011fi\u015fkenine atayal\u0131m. startups de\u011fi\u015fkenini df de\u011fi\u015fkenine kopyalayarak kullanmaya ba\u015flayal\u0131m.","9a98712d":"Bu ba\u011f\u0131ml\u0131 ve ba\u011f\u0131ms\u0131z de\u011fi\u015fkenlerden train ve test olmak \u00fczere 4 par\u00e7a olu\u015ftural\u0131m. Bunu yapmak i\u00e7in train_test_split kullanal\u0131m.","91bc54d5":"# Do\u011frusal Regresyon Egzersizleri","3f4dd09e":"Seaborn ile korelasyon matrisinin \u0131s\u0131 haritas\u0131n\u0131 \u00e7izdirelim.","0af97bff":"get_dummies yard\u0131m\u0131yla State'a dair kategorik \u00f6znitelik \u00e7\u0131kar\u0131mlar\u0131nda bulunal\u0131m. \u00c7\u00fcnk\u00fc State'lar\u0131n birbirine \u00fcst\u00fcnl\u00fc\u011f\u00fc yok, nominaller. Ordinal de\u011fil.","bf0cb969":"Veri \u00e7er\u00e7evesinin bilgilerini g\u00f6r\u00fcnt\u00fcleyelim.","796f7051":"Tahminleri ve ger\u00e7ek de\u011ferleri bir veri \u00e7er\u00e7evesinde toplay\u0131p \u00fczerinde g\u00f6z gezdirelim.","75688edc":"50 adet Startup'\u0131n ara\u015ft\u0131rma ve geli\u015ftirmeye y\u00f6nelik harcamas\u0131, y\u00f6netime y\u00f6nelik harcamas\u0131, pazarlama harcamas\u0131, kazand\u0131klar\u0131 kar miktar\u0131 ve kurulduklar\u0131 lokasyon bilgisi bulunmaktad\u0131r. Ama\u00e7 kar miktar\u0131n\u0131 tahmin etmektir. Bu bir say\u0131sal tahmin problemidir ve ba\u011f\u0131ml\u0131 de\u011fi\u015fkenimiz \"Profit\".","290e3994":"Modeli e\u011fitmek i\u00e7in ba\u011f\u0131ml\u0131 ba\u011f\u0131ms\u0131z de\u011fi\u015fkenlerden olu\u015fturulan e\u011fitim verilerini verelim.","f1d799f4":"Ka\u00e7 g\u00f6zlem ve \u00f6znitelikten olu\u015ftu\u011funu g\u00f6r\u00fcnt\u00fcleyelim.","822d9214":"\u0130lk 5 g\u00f6zlemini yazd\u0131ral\u0131m.","f844aaae":"Eksik verileri kontrol edelim.","9d45befe":"Veri \u00e7er\u00e7evemizi ba\u011f\u0131ml\u0131 ve ba\u011f\u0131ms\u0131z de\u011fi\u015fkenler olmak \u00fczere b\u00f6l\u00fctleyelim.","e8d5a5bb":"Modelin R Squared de\u011ferini e\u011fitim verileri \u00fczerinden yazd\u0131ral\u0131m.","a9a38a4b":"Ba\u011f\u0131ml\u0131 ve ba\u011f\u0131ms\u0131z de\u011fi\u015fkenleri kontrol edelim.","fe8b2df0":"Skorumuz 0.96 \u00e7\u0131kt\u0131(1'e yak\u0131n), iyi say\u0131labilir. Grafi\u011fimizde ise tahmin etti\u011fimiz k\u00e2r de\u011ferlerinin as\u0131l k\u00e2r de\u011ferleriyle aras\u0131ndaki ili\u015fkisini g\u00f6rebiliyoruz. Tahmin etti\u011fimiz de\u011ferlerin \u00e7o\u011fu, do\u011frunun yak\u0131nlar\u0131nda veya do\u011frunun \u00fcst\u00fcnde ancak as\u0131l de\u011ferin yakla\u015f\u0131k 20000 oldu\u011fu durumda bizim neredeyse 50000 bulmam\u0131z bu modelin d\u00fc\u015f\u00fck k\u00e2rl\u0131 i\u015flerde \u00e7ok da do\u011fru \u00e7al\u0131\u015fmad\u0131\u011f\u0131n\u0131 g\u00f6steriyor.","48b0258a":"sklearn b\u00fcnyesinde bar\u0131nan metrics'i \u00e7ekirde\u011fe dahil edelim ve MAE, MSE, RMSE de\u011ferlerini g\u00f6r\u00fcnt\u00fcleyelim.","fd31c8fa":"#### Veri \u00e7er\u00e7evemizde 5 \u00f6znitelik ve 50 g\u00f6zlemimiz var","73d09ace":"#### State'e ait 3 tane benzersiz de\u011ferimiz bulunmaktad\u0131r. Bunlar New York, California ve Florida","dcec7c9b":"Modele daha \u00f6nce g\u00f6rmedi\u011fi ba\u011f\u0131ml\u0131 test de\u011fi\u015fkenini tahmin ettirelim. Bu tahmin de\u011ferlerimizi y_pred de\u011fi\u015fkenine atayal\u0131m.","6101a415":"Dileyenler statsmodel kullanarak hangi \u00f6zniteliklerin model i\u00e7in %95 g\u00fcvenilirlikle ne kadar anlaml\u0131 olup olmad\u0131\u011f\u0131na da bakabilir. Modelde baz\u0131 feature selection i\u015flemleri yaparak tekrardan e\u011fitip yeni sonu\u00e7lar mukayese edilebilir."}}