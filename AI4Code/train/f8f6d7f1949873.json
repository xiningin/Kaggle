{"cell_type":{"c98b64df":"code","cf57500e":"code","abf0f655":"code","7b028d61":"code","90f3c4ba":"code","a9fa1780":"code","0743e259":"code","5f09f182":"code","e3b62a45":"code","566d9b3e":"code","dd19713e":"code","9c903539":"code","8abd3492":"code","4b48a9ef":"code","fbc1aca7":"code","ef17f1fd":"code","70ceb52b":"code","7610ac27":"code","6e1b2c40":"code","f3bc5914":"code","abcdcb61":"code","d4ca767a":"code","3b303585":"code","60e0d265":"code","4bfaa2ad":"code","58d7a10a":"code","b66d76f7":"code","78ad52e3":"code","743f8c98":"code","1aa40175":"code","e73c48b3":"code","c517c884":"code","62721227":"code","746fa532":"code","7601425e":"code","d54930ae":"code","299224a1":"markdown","febadf2f":"markdown","02cdacc2":"markdown","863c725f":"markdown","efcfa792":"markdown","14ca5a09":"markdown","ec23fdec":"markdown","c0f91bbf":"markdown","2da50fb1":"markdown","b9f69f23":"markdown","e7dbdc1e":"markdown","7089ef5d":"markdown","7eab7611":"markdown","1d9bfe79":"markdown","9faef2c6":"markdown"},"source":{"c98b64df":"\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport seaborn as sns # data visualization\nimport matplotlib.pyplot as plt # data visualization\n\n\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n","cf57500e":"\ndata = pd.read_csv('..\/input\/hotel-booking-data\/hotel_bookings.csv')","abf0f655":"\ndata","7b028d61":"\ndata.dtypes","90f3c4ba":"\ndata.isnull()","a9fa1780":"\ndata.isnull().sum()","0743e259":"\ndata.isnull().sum()[data.isnull().sum() > 0]","5f09f182":"\ndata.isnull().sum()[data.isnull().sum() > 0]*100\/len(data)","e3b62a45":"\n'company' in data","566d9b3e":"\n'company' in data","dd19713e":"\ndata.isnull().sum().sum()","9c903539":"\ndata['lead_time'].describe()","8abd3492":" \nsns.boxplot(y = data['lead_time']) # in seaborn\ndata.boxplot(column = ['lead_time']) # in pandas\n","4b48a9ef":"\nQ1, Q3 = data['lead_time'].quantile([.25, .75])\n\nIQR = Q3 - Q1 \nIQR","fbc1aca7":"\n((data['lead_time'] < (Q1 - 1.5 * IQR)) | (data['lead_time'] > (Q3 + 1.5 * IQR))).sum()","ef17f1fd":"\n((data['lead_time'] < (Q1 - 1.5 * IQR)) | (data['lead_time'] > (Q3 + 1.5 * IQR))).sum()*100\/len(data)","70ceb52b":"\ndata['total_of_special_requests'].describe()","7610ac27":" \nsns.boxplot(y = data['total_of_special_requests']) # in pandas\ndata.boxplot(column = ['total_of_special_requests']) # in seaborn\n","6e1b2c40":"\nQ1, Q3 = data['total_of_special_requests'].quantile([.25, .75])\n\nIQR = Q3 - Q1 \nIQR","f3bc5914":"\n((data['total_of_special_requests'] < (Q1 - 1.5 * IQR)) | (data['total_of_special_requests'] > (Q3 + 1.5 * IQR))).sum()","abcdcb61":"\n((data['total_of_special_requests'] < (Q1 - 1.5 * IQR)) | (data['total_of_special_requests'] > (Q3 + 1.5 * IQR))).sum()*100\/len(data)","d4ca767a":"\ndata['stays_in_weekend_nights'].describe()","3b303585":"\nsns.boxplot(y = data['stays_in_weekend_nights']) # in pandas\ndata.boxplot(column = ['stays_in_weekend_nights']) # in seaborn\n","60e0d265":"\nQ1, Q3 = data['stays_in_weekend_nights'].quantile([.25, .75])\n\nIQR = Q3 - Q1 \nIQR","4bfaa2ad":"\n((data['stays_in_weekend_nights'] < (Q1 - 1.5 * IQR)) | (data['stays_in_weekend_nights'] > (Q3 + 1.5 * IQR))).sum()","58d7a10a":"\n((data['stays_in_weekend_nights'] < (Q1 - 1.5 * IQR)) | (data['stays_in_weekend_nights'] > (Q3 + 1.5 * IQR))).sum()*100\/len(data)","b66d76f7":"outliers = data[((data['stays_in_weekend_nights'] < (Q1 - 1.5 * IQR)) | (data['stays_in_weekend_nights'] > (Q3 + 1.5 * IQR)))].index\ndata.drop(outliers, inplace = True)","78ad52e3":" \nsns.boxplot(y = data['stays_in_weekend_nights']) # in pandas\ndata.boxplot(column = ['stays_in_weekend_nights']) # in seaborn\n","743f8c98":"data['stays_in_weekend_nights'].describe()","1aa40175":"\n((data['stays_in_weekend_nights'] < (Q1 - 1.5 * IQR)) | (data['stays_in_weekend_nights'] > (Q3 + 1.5 * IQR))).sum()","e73c48b3":"\nplt.figure(figsize = (10, 5))\nsns.barplot(x = 'arrival_date_year',y = 'lead_time', data = data).set_title('Arrival Year and Lead Time')","c517c884":"\nplt.rcParams.update({'text.color': \"white\",\n                     'axes.labelcolor': \"none\"})\ndata.groupby(['hotel'])['booking_changes'].sum().plot.pie(radius = 2)","62721227":"data.groupby(['hotel'])['required_car_parking_spaces'].sum().plot.pie(radius = 2)\nplt.title('Required Car Parking Spaces')","746fa532":"data.groupby(['country']).size().sort_values(ascending = False).index","7601425e":"import plotly.graph_objects as go\n\nlabels = data.groupby(['country']).size().sort_values(ascending = False).index\nvalues = data.groupby(['country']).size().sort_values(ascending = False)\n\n\n\nfig = go.Figure(data=[go.Pie(labels=labels, values=values, hole=.3)])\nfig.update_traces(textposition='inside')\nfig.update_layout(uniformtext_minsize=12, uniformtext_mode='hide')\nfig.show()","d54930ae":"lead_cancel_data_10 = data.groupby(\"lead_time\")[\"is_canceled\"].describe()\n\n\nplt.figure(figsize = (12, 8))\nsns.regplot(x = lead_cancel_data_10.index, y = lead_cancel_data_10[\"mean\"].values * 100)\nplt.title(\"Eff\")","299224a1":"Yes, all the outliers have been removed","febadf2f":"#### Yes, there are no more null values in the data","02cdacc2":"This doesn't really tell us any useful information","863c725f":"#### Checking if we have dealt with all null values","efcfa792":"## DATA VISUALIZATION","14ca5a09":"------------------------------------------------------------------------------------------------------------------------------------------------------------------","ec23fdec":"The above bar plot is not very clear, so we can use a pie chart instead","c0f91bbf":"If we summarise 'stays_in_the_weekend_nights' again","2da50fb1":"# **Part 1:** Initial Inspection and Data Cleaning","b9f69f23":"This is the only one with a low number of outliers\nSo, we can drop these rows","e7dbdc1e":"## OUTLIER DETECTION","7089ef5d":"# **Part 2:** Outlier Detection and Data Visualization","7eab7611":"This chart tells us that Resort Hotel needs more parking spaces as compared to City Hotels","1d9bfe79":"------------------------------------------------------------------------------------------------------------------------------------------------------------------","9faef2c6":"## Null value analysis\n\n##### There are four columns with null values. We can put them in three categories\n1. <1% -> drop rows <br\/>\n    a. children <br\/>\n    b. country <br\/>\n    \n2. <60% -> substitute null values with mode <br\/>\n    a. agent <br\/>\n    \n3. \\>60% -> drop column <br\/>\n    a. company"}}