{"cell_type":{"ccee89d7":"code","f44103ff":"code","f1625baf":"code","d5d71c60":"code","a034af9b":"code","ed499224":"code","ef373980":"code","21c171bb":"code","e3e2b41b":"code","c732d90f":"code","b18dc542":"code","6f1764ee":"code","434a9e7f":"code","a962dbbb":"code","fdebb9c6":"code","8ddae91a":"markdown","70b7b734":"markdown","4cba823b":"markdown","b9d9f8a5":"markdown","35ef8249":"markdown"},"source":{"ccee89d7":"!git clone https:\/\/github.com\/lucasdavid\/wikiart.git\n!python3 wikiart\/wikiart.py --datadir .\/wikiart-saved\/ fetch --only artists","f44103ff":"import json\n\nwith open('.\/wikiart-saved\/meta\/artists.json', 'r') as artists_file:\n    parsed_json = json.load(artists_file)\n    \nprint(json.dumps(parsed_json, indent=4, sort_keys=True))","f1625baf":"entry = '''[{\n        \"artistName\": \"Claude Monet\",\n        \"birthDay\": \"\/Date(-4074969600000)\/\",\n        \"birthDayAsString\": \"November 14, 1840\",\n        \"contentId\": 211667,\n        \"deathDay\": \"\/Date(-1359331200000)\/\",\n        \"deathDayAsString\": \"December 5, 1926\",\n        \"dictonaries\": [\n            1221,\n            316\n        ],\n        \"image\": \"https:\/\/uploads0.wikiart.org\/00115\/images\/claude-monet\/440px-claude-monet-1899-nadar-crop.jpg!Portrait.jpg\",\n        \"lastNameFirst\": \"Monet Claude\",\n        \"url\": \"claude-monet\",\n        \"wikipediaUrl\": \"http:\/\/en.wikipedia.org\/wiki\/Claude_Monet\"\n    }]'''\n\nwith open('.\/wikiart-saved\/meta\/artists.json', 'w') as artists_file:\n    artists_file.write(entry)\n    \n\n# Result check\nwith open('.\/wikiart-saved\/meta\/artists.json', 'r') as artists_file:\n    parsed_json = json.load(artists_file)\n    \nprint(json.dumps(parsed_json, indent=4, sort_keys=True))","d5d71c60":"!python3 wikiart\/wikiart.py --datadir .\/wikiart-saved\/ fetch","a034af9b":"!cd wikiart-saved\/images\/claude-monet && find . -mindepth 2 -type f -print -exec mv {} . \\;\n!cd wikiart-saved\/images\/claude-monet && find -mindepth 1 -maxdepth 1 -type d -exec rm -r {} \\;","ed499224":"!ls wikiart-saved\/images\/claude-monet\/","ef373980":"import cv2\nimport numpy as np\nimport matplotlib.pyplot as plt\n\n%matplotlib inline","21c171bb":"def reescale(image, size=256):\n    width = size\n    height = size\n    \n    dimensions = (width, height)\n    \n    image = cv2.resize(image, dsize=dimensions, interpolation = cv2.INTER_AREA)\n    \n    return image\n\n\ndef fix_rgb(image):\n    image = cv2.cvtColor(image, cv2.COLOR_BGR2RGB)\n\n    return image\n\n\n# This function exists as main preprocessing pipeline,\n# in case more steps are to be added\ndef preprocess(image):\n    image = reescale(image, 256)\n    \n    image = fix_rgb(image)\n    \n    return image\n    ","e3e2b41b":"image = cv2.imread('wikiart-saved\/images\/claude-monet\/212986.jpg')\n\nplt.imshow(image)","c732d90f":"image = preprocess(image)\n\nplt.imshow(image)","b18dc542":"from os import listdir\nfrom os.path import isfile, join","6f1764ee":"files = [f for f in listdir('wikiart-saved\/images\/claude-monet') if isfile(join('wikiart-saved\/images\/claude-monet', f))]\n\nimages = []\n\nfor file in files:\n    file_path = join('wikiart-saved\/images\/claude-monet', file)\n    \n    images.append(preprocess(cv2.imread(file_path)))\n    ","434a9e7f":"print(len(images), images[0].shape)","a962dbbb":"def plot_picture_set(images, start_idx=0, columns=5, rows=6, figsize=(16,16)):\n    fig=plt.figure(figsize=figsize)\n\n    for i in range(1, columns*rows+1):\n        fig.add_subplot(rows, columns, i)\n        plt.imshow(images[i + start_idx])\n    plt.show()","fdebb9c6":"columns = 5\nrows = 6\n\nfor i in range(0, len(images) - (len(images) % (columns*rows)), columns*rows):\n    plot_picture_set(images, i, columns, rows)","8ddae91a":"The images are divided in subdirectories by the year of the making of the painting. Let's undo that.","70b7b734":"We want to donload Claude Monet's art, so its entry needs to be retrieved and, then, made the only one present in the document.\n>     {\n>         \"artistName\": \"Claude Monet\",\n>         \"birthDay\": \"\/Date(-4074969600000)\/\",\n>         \"birthDayAsString\": \"November 14, 1840\",\n>         \"contentId\": 211667,\n>         \"deathDay\": \"\/Date(-1359331200000)\/\",\n>         \"deathDayAsString\": \"December 5, 1926\",\n>         \"dictonaries\": [\n>             1221,\n>             316\n>         ],\n>         \"image\": \"https:\/\/uploads0.wikiart.org\/00115\/images\/claude-monet\/440px-claude-monet-1899-nadar-crop.jpg!Portrait.jpg\",\n>         \"lastNameFirst\": \"Monet Claude\",\n>         \"url\": \"claude-monet\",\n>         \"wikipediaUrl\": \"http:\/\/en.wikipedia.org\/wiki\/Claude_Monet\"\n>     }","4cba823b":"Let us test reescaling an image","b9d9f8a5":"Sweet! Now let us observe the general result","35ef8249":"Seems good enought to go! : )"}}