{"cell_type":{"cf622270":"code","d200cd9f":"code","2fb378c9":"code","b9707637":"code","fbbbbb3e":"code","ca2625c0":"code","64e7e79b":"code","8715635a":"code","816e0a66":"code","e9b2e42c":"code","bce9e815":"code","0771be91":"code","8290a258":"code","9506e907":"code","999898db":"code","1c55d879":"code","36256849":"code","df400950":"code","055e6c79":"code","cbb64756":"markdown","b9e977e8":"markdown","382d6c0c":"markdown","3a6b86cd":"markdown","72fee3ac":"markdown","5368a293":"markdown","e036ee83":"markdown","b13815ae":"markdown","1d8d1e1b":"markdown","35e69882":"markdown","a3fe9a7f":"markdown","1ef9c21d":"markdown"},"source":{"cf622270":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy import stats","d200cd9f":"df = pd.read_csv(\"..\/input\/suicide-rates-overview-1985-to-2016\/master.csv\")\ndf.head()","2fb378c9":"df['age'].unique()","b9707637":"df['year'].unique()","fbbbbb3e":"df['country'].unique()","ca2625c0":"df_albania = df[df.country == 'Albania']","64e7e79b":"plt.plot(df_albania.groupby('age')[['age', 'suicides_no']].sum())\nplt.rcParams[\"figure.figsize\"] = (12,9)\nplt.title('suicide number by age groups', fontsize=20)\nplt.xlabel('age groups', fontsize=20)\nplt.ylabel('suicide number', fontsize=20)\nplt.show()","8715635a":"plt.plot(df.groupby('sex')[['sex', 'suicides_no']].sum().index, df_albania.groupby('sex')['suicides_no'].sum())\nplt.rcParams[\"figure.figsize\"] = (12,9)\nplt.title('suicide number by sex', fontsize=20)\nplt.xlabel('sex', fontsize=20)\nplt.ylabel('suicide number', fontsize=20)\nplt.show()","816e0a66":"plt.plot(df_albania.groupby('year')[['year', 'suicides_no']].sum().index, df_albania.groupby('year')['suicides_no'].sum())\nplt.rcParams[\"figure.figsize\"] = (12,9)\nplt.title('suicide number by years', fontsize=20)\nplt.xlabel('year', fontsize=20)\nplt.ylabel('suicide number', fontsize=20)\nplt.show()","e9b2e42c":"plt.plot(df_albania.groupby('sex')[['sex', 'suicides\/100k pop']].sum().index, df_albania.groupby('sex')['suicides\/100k pop'].sum())\nplt.rcParams[\"figure.figsize\"] = (12,9)\nplt.title('sum suicides\/100k pop by sex', fontsize=20)\nplt.xlabel('sex', fontsize=20)\nplt.ylabel('suicides\/100k pop', fontsize=20)\nplt.show()","bce9e815":"plt.plot(df_albania.groupby('sex')[['sex', 'suicides\/100k pop']].mean().index, df_albania.groupby('sex')['suicides\/100k pop'].mean())\nplt.rcParams[\"figure.figsize\"] = (12,9)\nplt.title('mean suicides\/100k pop by sex', fontsize=20)\nplt.xlabel('sex', fontsize=20)\nplt.ylabel('mean suicides\/100k pop', fontsize=20)\nplt.show()","0771be91":"df_albania_f = df_albania[df_albania.sex == 'female']\ndf_albania_m = df_albania[df_albania.sex == 'male']\ncolumn_1 = df_albania_f.groupby('year')['suicides\/100k pop'].sum()\ncolumn_2 = df_albania_m.groupby('year')['suicides\/100k pop'].sum()\nstats.ttest_ind(column_1, column_2)","8290a258":"plt.plot(df_albania.groupby('age')[['age', 'suicides_no']].sum())\nplt.rcParams[\"figure.figsize\"] = (12,9)\nplt.title('suicide number by age groups', fontsize=20)\nplt.xlabel('age groups', fontsize=20)\nplt.ylabel('suicide number', fontsize=20)\nplt.show()","9506e907":"df = df[df.year == 2016]\ndf","999898db":"quantiles = []\nfor i in range(4):\n  quantiles.append(df.iloc[:,-2].quantile(q=(i+1)\/4))\nquantiles","1c55d879":"index = 0\ngdp_index = 0\nfor i in quantiles:\n  index += 1\n  plt.figure(figsize = (16, 5))\n  plt.title(str(index) + \" quartile\")\n  df[(gdp_index < df.iloc[:, -2]) & (df.iloc[:, -2] < i)].groupby('country')['suicides\/100k pop'].sum().plot(rot = 45)\n  gdp_index = i\n  plt.show()","36256849":"# create a list of our conditions\nconditions = [\n    (df['gdp_per_capita ($)'] <= quantiles[0]),\n    (df['gdp_per_capita ($)'] <= quantiles[1]) & (df['gdp_per_capita ($)'] > quantiles[0]), \n    (df['gdp_per_capita ($)'] <= quantiles[2]) & (df['gdp_per_capita ($)'] > quantiles[1]),\n    (df['gdp_per_capita ($)'] <= quantiles[3]) & (df['gdp_per_capita ($)'] > quantiles[2]),\n    ]\n# create a list of the values we want to assign for each condition\nvalues = ['quartile_1', 'quartile_2', 'quartile_3', 'quartile_4']\ndf['quartile'] = np.select(conditions, values)\ndf.head()","df400950":"plt.figure(figsize = (16, 5))\nplt.title(\"suicides\/100k pop by quartiles\")\ndf.groupby('quartile')['suicides\/100k pop'].sum().plot(rot = 45)\nplt.show()","055e6c79":"for age_group in df['age'].unique():\n  labels = df['quartile'].unique()\n  men_means = df[(df['age'] == age_group) & (df['sex'] == \"male\")].groupby('quartile')['suicides\/100k pop'].sum()\n  women_means = df[(df['age'] == age_group) & (df['sex'] == \"female\")].groupby('quartile')['suicides\/100k pop'].sum()\n\n  x = np.arange(len(labels))  # the label locations\n  width = 0.35  # the width of the bars\n\n  fig, ax = plt.subplots()\n  rects1 = ax.bar(x - width\/2, men_means, width, label='Men')\n  rects2 = ax.bar(x + width\/2, women_means, width, label='Women')\n\n  # Add some text for labels, title and custom x-axis tick labels, etc.\n  ax.set_ylabel('Scores')\n  ax.set_title(f'Scores by {age_group} group and gender')\n  ax.set_xticks(x)\n  ax.set_xticklabels(labels)\n  ax.legend()\n\n  fig.tight_layout()\n\n  plt.show()","cbb64756":"\n1. For any country (you are free to choose any of the presented)\n* Visualize a feature suicides_no considering other features: sex, age (or generation) and year;\n* Check whether there is statistical difference for suicide number between these groups: men \/ women. If it is found, can we claim that people of certain sex are more prone to suicides or do we need additional information?\n\n2. For 2016: divide countries into 3-4 groups according to the values of the gdp_per_capita feature (use statistical characteristics to determine how to divide the data into groups), check if the suicides \/ 100k pop indicator differs in these groups. Do not forget that for each country you have several values and they need to be aggregated or checked for each group separately.","b9e977e8":"Seems to me we can claim that people of certain sex are more prone to suicides. Let's check it.","382d6c0c":"# Visualization","3a6b86cd":"# EDA","72fee3ac":"# Can we claim that people of certain sex are more prone to suicides or do we need additional information?","5368a293":"# Check whether there is statistical difference for suicide number between these groups: men \/ women. ","e036ee83":"# Unique age groups","b13815ae":"# Choosing the country that we will work with","1d8d1e1b":"# Unique years in the dataset","35e69882":"# Unique countries in the dataset","a3fe9a7f":"# For 2016: divide countries into 3-4 groups according to the values of the gdp_per_capita feature (use statistical characteristics to determine how to divide the data into groups), check if the suicides \/ 100k pop indicator differs in these groups. Do not forget that for each country you have several values and they need to be aggregated or checked for each group separately.","1ef9c21d":"**The p value is less than the 1% threshold, we reject the null hypothesis of equal means.**"}}