{"cell_type":{"303764e1":"code","1edd3ae2":"code","b7b508f3":"code","f7929c1f":"code","c72f68ac":"code","722ec973":"code","9d9a9bec":"code","72f43f4e":"code","4bf11397":"code","7349feed":"code","605b69c6":"code","42c7cd46":"code","c3c76474":"code","308be1b7":"code","d7a9d6da":"code","451ee1bd":"code","6f961b7a":"code","957f84eb":"code","bed4d407":"code","f997b661":"code","0d61f4d5":"code","9d151258":"code","9181fce7":"code","99220371":"code","112a6431":"code","eb3974ff":"code","08e24349":"code","e3c64124":"code","cff11923":"code","efdad5b0":"code","d2360105":"code","f0f85997":"markdown","baf99fda":"markdown","b2b8a873":"markdown","37ac8993":"markdown","8fcb1b6f":"markdown","6bc56fa9":"markdown","b880550d":"markdown","e30fdd25":"markdown","520ad90b":"markdown","8ca22857":"markdown","27887c1d":"markdown","9150fde2":"markdown","b4dc1f6c":"markdown","acd1fcfc":"markdown","4c9e3bb2":"markdown","a28e6221":"markdown","b88142fe":"markdown","1a369e06":"markdown","ccc3a9e3":"markdown","de7dca3a":"markdown","d38e7d4e":"markdown","0fbff68f":"markdown","b0b14904":"markdown","e4f4bcd4":"markdown","bae5e953":"markdown","041e4e75":"markdown","543cc35e":"markdown","1a36e283":"markdown","47e20946":"markdown","d006b68b":"markdown","ceb596ce":"markdown"},"source":{"303764e1":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))      ","1edd3ae2":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy import stats","b7b508f3":"df=pd.read_csv('..\/input\/epasealevel\/epa-sea-level.csv')","f7929c1f":"df.head()","c72f68ac":"df.tail()","722ec973":"df.shape","9d9a9bec":"df.info()","72f43f4e":"df.describe()","4bf11397":"df.describe()","7349feed":"boxplot_cols = ['Year', 'CSIRO Adjusted Sea Level', 'Lower Error Bound', 'Upper Error Bound', 'NOAA Adjusted Sea Level']","605b69c6":"df[boxplot_cols].plot(kind='box', subplots=True, layout=(2,3), figsize=(14,8))","42c7cd46":"df['CSIRO Adjusted Sea Level'].describe()","c3c76474":"df['CSIRO Adjusted Sea Level'].median()","308be1b7":"df['CSIRO Adjusted Sea Level'].mean()","d7a9d6da":"df['CSIRO Adjusted Sea Level'].plot(kind='box', vert=False, figsize=(10,4))","451ee1bd":"df['CSIRO Adjusted Sea Level'].plot(kind='density', figsize=(14,6))","6f961b7a":"ax = df['CSIRO Adjusted Sea Level'].plot(kind='density', figsize=(14,6))\nax.axvline(df['CSIRO Adjusted Sea Level'].mean(), color='red')\nax.axvline(df['CSIRO Adjusted Sea Level'].median(), color='green')","957f84eb":"ax = ax = df['CSIRO Adjusted Sea Level'].plot(kind='hist', figsize=(14,6))\nax.set_ylabel('Measuraments')\nax.set_xlabel('GMSL')","bed4d407":"corr = df.corr()\n\ncorr","f997b661":"fig = plt.figure(figsize=(8,8))\nplt.matshow(corr, cmap='RdBu', fignum=fig.number)\nplt.xticks(range(len(corr.columns)), corr.columns, rotation='vertical');\nplt.yticks(range(len(corr.columns)), corr.columns);","0d61f4d5":"df.plot(kind='scatter', x='NOAA Adjusted Sea Level', y='Lower Error Bound', figsize=(6,6))","9d151258":"df.plot(kind='scatter', x='CSIRO Adjusted Sea Level', y='Lower Error Bound', figsize=(6,6))","9181fce7":"res = stats.linregress(x=df['Year'],y= df['CSIRO Adjusted Sea Level'])\n\nres","99220371":"x_pred = pd.Series([i for i in range(1880,2050)])\ny_pred = res.slope*x_pred +res.intercept\nplt.plot(x_pred, y_pred, 'r')","112a6431":"df.plot(kind='scatter', x='Year', y='CSIRO Adjusted Sea Level', figsize=(6,6))\n# First line of best fit\nx_pred = pd.Series([i for i in range(1880,2050)])\ny_pred = res.slope*x_pred +res.intercept\nplt.plot(x_pred, y_pred, 'r')","eb3974ff":"new_df=df.loc[df['Year']>=2000]\nnew_df.plot(kind='scatter', x='Year', y='CSIRO Adjusted Sea Level', figsize=(6,6))","08e24349":"res_2 = stats.linregress(x=new_df['Year'],y= new_df['CSIRO Adjusted Sea Level'])\n\nres_2","e3c64124":"x_pred_2 = pd.Series([i for i in range(2000,2050)])\ny_pred_2 = res_2.slope*x_pred_2 +res_2.intercept\nplt.plot(x_pred_2, y_pred_2, 'g')","cff11923":"df.plot(kind='scatter', x='Year', y='CSIRO Adjusted Sea Level', figsize=(6,6))\n# First line of best fit\nx_pred = pd.Series([i for i in range(1880,2050)])\ny_pred = res.slope*x_pred +res.intercept\nplt.plot(x_pred, y_pred, 'r')\n# Second line of best fit\nx_pred_2 = pd.Series([i for i in range(2000,2050)])\ny_pred_2 = res_2.slope*x_pred_2 +res_2.intercept\nplt.plot(x_pred_2, y_pred_2, 'g')","efdad5b0":"# Level with the First line of best fit\ny1 = res.slope*2050 +res.intercept\ny1","d2360105":"# Level with the Second line of best fit\ny2 = res_2.slope*2050 +res_2.intercept\ny2","f0f85997":"as we can see, the regresion does not match well with the data after 2000. So, let's find a new line of best fit using data from year 2000 through the most recent year in the dataset.","baf99fda":"_**BOX Diagrams**_","b2b8a873":"Let's do the regression for this part:","37ac8993":"_1- Column distribution:_\n\n**TIME-data** is provided through the column *Year*\n\n**MEASUREMENT-data** is provided through **4** columns (CSIRO Adjusted Sea Level, Lower Error Bound, Upper Error Bound, NOAA Adjusted Sea Level)\n\nFor a total of **5** columns and **134** measuments","8fcb1b6f":"##### D.1.1 Let's visualize all the series.","6bc56fa9":"_3- Column AXES of analysis:_\n\nThe Axes column in the table is **CSIRO Adjusted Sea Level**. We can **TIME**-plot to do the proyections requiered.","b880550d":"![green-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071924-c003ad80-2562-11e9-8297-1c6595f8a7ff.png)\n\n### F- Regression:\n\nLet's solve the main inquiries of the analysis.","e30fdd25":"_**(DENSITY + mean + median) diagram:**_","520ad90b":"_**DENSITY diagram:**_","8ca22857":"_**CORRELATION MAP:**_","27887c1d":"#### F.1. Line of best fit\n\n","9150fde2":"### Column organizacion for epa-sea-level.csv","b4dc1f6c":"![rmotr](https:\/\/user-images.githubusercontent.com\/7065401\/52071918-bda15380-2562-11e9-828c-7f95297e4a82.png)\n<hr style=\"margin-bottom: 40px;\">\n\n<img src=\"https:\/\/lh3.googleusercontent.com\/9ftEvrB7N7lYQ7m8zsJL4jvUF7UPEKTNvfwsLc79JGfn0xCbPkG9BO_da2os4KiV\"\n    style=\"width:400px; float: right; margin: 0 40px 40px 40px;\"><\/img>\n\n# SEA LEVEL PREDICTOR.\n\nIn this Exploratory Data Analysis, we anaylize a dataset of the global average sea level change since 1880. We will use the data to predict the sea level change through year 2050, using official data from [CSIRO](https:\/\/www.cmar.csiro.au\/sealevel\/sl_hist_last_decades.html).\n\nWe will use the data to complete the following tasks:\n\n* Use Pandas to import the data from epa-sea-level.csv.\n* Use matplotlib to create a scatter plot using the \"Year\" column as the x-axis and the \"CSIRO Adjusted Sea Level\" column as the y-axix.\n* Use the linregress function from scipy.stats to get the slope and y-intercept of the line of best fit. Plot the line of best fit over the top of the scatter plot. Make the line go through the year 2050 to predict the sea level rise in 2050.\n* Plot a new line of best fit just using the data from year 2000 through the most recent year in the dataset. Make the line also go through the year 2050 to predict the sea level rise in 2050 if the rate of rise continues as it has since the year 2000.\n* The x label should be \"Year\", the y label should be \"Sea Level (inches)\", and the title should be \"Rise in Sea Level\".","acd1fcfc":"_**SCATTER PLOT 2 (correlation):**_","4c9e3bb2":"![green-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071924-c003ad80-2562-11e9-8297-1c6595f8a7ff.png)\n\n### C- A glance at the data:","a28e6221":"![green-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071924-c003ad80-2562-11e9-8297-1c6595f8a7ff.png)\n\n### B- Loading our data:\n\nAs we saw on previous courses we can read data simply using Python.","b88142fe":"### A- Loading libraries. Hands on!","1a369e06":"#### D.1. Numerical analysis and visualization","ccc3a9e3":"##### D.1.2 Let's pick one of the series to make a deeper analysis\n\nWe'll analyze the\u00a0_'CSIRO Adjusted Sea Level'_\u00a0column:","de7dca3a":"![purple-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071927-c1cd7100-2562-11e9-908a-dde91ba14e59.png)\n\n## Exploratory Data Analysis (EDA)","d38e7d4e":"* Now, let's draw the function on top of the original data:","0fbff68f":"* what is gonna be the level of sea in 2050, according to the First line of best fit and the second line of best fit?","b0b14904":"* Let's obtein first the main value of the regression:","e4f4bcd4":"* Now, let's draw the function out of the values obteined:","bae5e953":"![green-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071924-c003ad80-2562-11e9-8297-1c6595f8a7ff.png)\n\n### D- Analysis and visualization:","041e4e75":"* 50% of the sea level are between 1.63 to 5.58 GMSL.","543cc35e":"_**HISTOGRAM diagram:**_","1a36e283":"and, now let' plot the three charts together:","47e20946":"![green-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071924-c003ad80-2562-11e9-8297-1c6595f8a7ff.png)\n\n### E- Relationship between the columns:\n\nCan we find any significant relationship?","d006b68b":"_**SCATTER PLOT 1 ('no correlation'):**_","ceb596ce":"_2- Column ranges\/organization:_\n\n**TIME-data** ranges from 1880 to 2013\n\n**MEASUREMENT-data** has ranged from -0.44 to 9,32 GMSL"}}