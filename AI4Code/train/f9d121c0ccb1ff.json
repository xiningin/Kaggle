{"cell_type":{"8730901c":"code","639cc9db":"code","717159ee":"code","de29ad87":"code","bcc6ca67":"code","731d9d0e":"code","2aedc441":"code","dff5520e":"code","07a673d5":"code","5e51abf7":"code","6776b9ba":"code","cb843731":"code","6b837761":"code","a3805e39":"code","b7de6040":"code","c2d16bdb":"code","e00a6cd2":"code","5a60af7f":"code","af45b72f":"code","d3669a7f":"code","c758c98c":"code","b3fe950d":"code","39042b5d":"code","dcd6d094":"code","5e620603":"code","acde5667":"code","02539b12":"code","5402fc60":"markdown","833317e3":"markdown","0c8e3cd3":"markdown","c1e1158a":"markdown","e562fb08":"markdown","508f5ec4":"markdown","3f838246":"markdown","172aaa54":"markdown","a6170417":"markdown","378be69e":"markdown","7c05ad1b":"markdown","19609641":"markdown","76200790":"markdown","68549f6a":"markdown","3c9a6848":"markdown","8323ead7":"markdown","569a5ade":"markdown","40c77e9b":"markdown","bfc617cb":"markdown","f1c51b7e":"markdown","a0d0164f":"markdown","9e1f403f":"markdown","f13972e2":"markdown","a5d5db0f":"markdown","31eb7c03":"markdown","e738908b":"markdown","1bb60e77":"markdown","bfc5fc97":"markdown","1d1f8a94":"markdown","2535c7db":"markdown","96b03daa":"markdown","9d036f8d":"markdown","d07e13a0":"markdown","2f130a67":"markdown","bf34bdd3":"markdown","45c8119d":"markdown","1966bc95":"markdown","2ee1433e":"markdown","0b1dcd59":"markdown","9c4f3682":"markdown","071d47b5":"markdown","d4028a81":"markdown","341e579c":"markdown","b921f723":"markdown","267f6596":"markdown","fb0f90c4":"markdown","eb36b939":"markdown","9e4b2342":"markdown"},"source":{"8730901c":"from IPython.display import Image\nImage(\"..\/input\/nifty51\/9.PNG\")","639cc9db":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\n%matplotlib inline\nfrom pandas_profiling import ProfileReport\n\ndata = pd.read_csv('..\/input\/nifty-indices-dataset\/NIFTY 50.csv')\ndata['Date'] = pd.to_datetime(data['Date'])\ndata['year'] = data['Date'].dt.year\ndata['month'] = data['Date'].dt.month\ndata['day'] = data['Date'].dt.day","717159ee":"report = ProfileReport(data)","de29ad87":"report","bcc6ca67":"plt.figure(figsize=(10,7))\nplt.plot(data['Date'],data['Close'])\nplt.xlabel('Years')\nplt.ylabel('Closing values')\nplt.title('Closing values vs Years')\nplt.show()","731d9d0e":"peaks = data.loc[:, ['year','High']]\npeaks['max_high'] = peaks.groupby('year')['High'].transform('max')\npeaks.drop('High', axis=1, inplace=True)\npeaks = peaks.drop_duplicates()\npeaks = peaks.sort_values('max_high', ascending=False)\npeaks = peaks.head()\n\nfig = plt.figure(figsize=(10,7))\nplt.pie(peaks['max_high'], labels=peaks['year'], autopct='%1.1f%%', shadow=True)\ncentre_circle = plt.Circle((0,0),0.45,color='black', fc='white',linewidth=1.25)\nfig = plt.gcf()\nfig.gca().add_artist(centre_circle)\nplt.axis('equal')\nplt.show()","2aedc441":"sns.kdeplot(data=data['High'], shade=True)\nplt.title('Distribution of highest values')\nplt.show()","dff5520e":"sns.kdeplot(data=data['Volume'], shade=True)\nplt.title('Transaction volume')\nplt.show()","07a673d5":"top_5_genres = [1,3,5,7,9,11]\nperc = data.loc[:,[\"year\",\"month\",'Volume']]\nperc['new_volume'] = perc.groupby([perc.month,perc.year])['Volume'].transform('mean')\nperc.drop('Volume', axis=1, inplace=True)\nperc = perc[perc.year<2020]\nperc = perc.drop_duplicates()\nperc = perc.loc[perc['month'].isin(top_5_genres)]\nperc = perc.sort_values(\"year\")\n\nfig=px.bar(perc,x='month', y=\"new_volume\", animation_frame=\"year\", \n           animation_group=\"month\", color=\"month\", hover_name=\"month\", range_y=[perc['new_volume'].min(), perc['new_volume'].max()])\nfig.update_layout(showlegend=False)\nfig.show()","5e51abf7":"sns.scatterplot(data=data, x='Volume', y='Close')\nplt.title('Relation of volume to stock prices')\nplt.show()","6776b9ba":"sns.kdeplot(data=data['Turnover'], shade=True)\nplt.title('Turnover Distribution')\nplt.show()","cb843731":"sns.scatterplot(data=data, x='Turnover', y='Volume')\nplt.title('Relation of Turnover to Volume')\nplt.show()","6b837761":"turn = data.loc[:,['year','month','Turnover']]\nturn['monthly_turnover'] = turn.groupby([turn.year,turn.month])['Turnover'].transform('mean')\nturn.drop('Turnover', axis=1, inplace=True)\nturn = turn.drop_duplicates()\nfig = px.scatter(turn, x=\"month\", y=\"monthly_turnover\", animation_frame=\"year\", animation_group=\"month\", color=\"month\", hover_name=\"month\", size_max=1000 \\\n                , range_y=[turn['monthly_turnover'].min(), turn['monthly_turnover'].max()])\nfig.update_traces(marker=dict(size=12,\n                              line=dict(width=2,\n                                        color='DarkSlateGrey')),\n                  selector=dict(mode='markers'))\nfig.show()","a3805e39":"sns.kdeplot(data=data['P\/E'], shade=True)\nplt.title('P\/E Distribution')\nplt.show()","b7de6040":"sns.scatterplot(data=data, x='P\/E', y='Close')\nplt.title('Relation of P\/E to Close')\nplt.show()","c2d16bdb":"df = data.loc[:,['year','P\/E']]\ndf['meanPE'] = df.groupby('year')['P\/E'].transform('mean')\ndf.drop('P\/E',axis=1, inplace=True)\ndf = df.drop_duplicates().sort_values('year')\n\n\nplt.figure(figsize=(10,7))\nplt.plot(df['year'],df['meanPE'])\nplt.xlabel('Years')\nplt.ylabel('P\/E values')\nplt.title('P\/E values vs Years')\nplt.show()","e00a6cd2":"sns.kdeplot(data=data['P\/B'], shade=True)\nplt.title('P\/B Distribution')\nplt.show()","5a60af7f":"sns.scatterplot(data=data, x='P\/B', y='Close', hue='year')\nplt.title('Relation of P\/B to Close')\nplt.show()","af45b72f":"df = data.loc[:,['year','P\/B']]\ndf['meanPB'] = df.groupby('year')['P\/B'].transform('mean')\ndf.drop('P\/B',axis=1, inplace=True)\ndf = df.drop_duplicates().sort_values('year')\n\n\nplt.figure(figsize=(10,7))\nplt.plot(df['year'],df['meanPB'])\nplt.xlabel('Years')\nplt.ylabel('P\/B values')\nplt.title('P\/B values vs Years')\nplt.show()","d3669a7f":"sns.kdeplot(data=data['Div Yield'], shade=True)\nplt.title('Div Yield Distribution')\nplt.show()","c758c98c":"sns.scatterplot(data=data, x='Div Yield', y='Close', hue='year')\nplt.title('Relation of Div Yield to Close')\nplt.show()","b3fe950d":"df = data.loc[:,['year','Div Yield']]\ndf['meandiv'] = df.groupby('year')['Div Yield'].transform('max')\ndf.drop('Div Yield',axis=1, inplace=True)\ndf = df.drop_duplicates().sort_values('year')\n\n\nplt.figure(figsize=(10,7))\nplt.plot(df['year'],df['meandiv'])\nplt.xlabel('Years')\nplt.ylabel('Div Yield values')\nplt.title('Div Yield values vs Years')\nplt.show()","39042b5d":"df = data.loc[:,['year','P\/B','P\/E','Div Yield']]\ndf[['meanPE','meanPB','meandiv']] = df.groupby('year')[['P\/B','P\/E','Div Yield']].transform('max')\ndf.drop(['P\/B','P\/E','Div Yield'],axis=1, inplace=True)\ndf = df.drop_duplicates().sort_values('year')\n\n\nplt.figure(figsize=(10,7))\nplt.plot(df['year'],df['meandiv'], label='meandiv')\nplt.plot(df['year'],df['meanPB'], label='meanPB')\nplt.plot(df['year'],df['meanPE'], label='meanPE')\nplt.xlabel('Years')\nplt.legend()\nplt.show()","dcd6d094":"df5 = data[(data['year']>=2005) & (data['year']<=2009)]","5e620603":"sns.lineplot(data=df5, x='Date', y='Close', hue='year')\nplt.ylabel('Close points[a.u.]')\nplt.show()","acde5667":"df8 = data[data['year']==2008]\nsns.lineplot(data=df8, x='Date', y='Close', hue='month')\nplt.ylabel('Close points[a.u.]')\nplt.show()","02539b12":"df6 = data[data['year']==2006]\nsns.lineplot(data=df6, x='Date', y='Close', hue='month')\nplt.ylabel('Close points[a.u.]')\nplt.show()","5402fc60":"# Dividend yield per year","833317e3":"Since 2003 the graph sees a huge rise and huge fall from 2006.\n\nI don't know what this signifies but I think I need to analyze the years 2005-2009 separately because these years show some really interesting stats\n\nWhether it be for the scams or something else will find it out.","0c8e3cd3":"Based on the observations made in the data and analyzing it year by year, month by month I feel like it may have been hit very hard due to the pandemic but it will soon rise above it when the environment gets stabilized.\n\nIn India the sentiments of people towards the stock market plays a huge importance on the graph.\n\nLet's hope the pandemic period gets over soon.","c1e1158a":"Dividend yield equals the annual dividend per share divided by the stock's price per share. For example, if a company's annual dividend is \\$1.50 and the stock trades at \\$25, the dividend yield is 6% (\\$1.50 \u00f7 $25)","e562fb08":"# Monthly Turnover per year","508f5ec4":"# Distribution of the P\/E ratio","3f838246":"# What is Dividend yield?","172aaa54":"# Report of Nifty 50 data","a6170417":"# Yearly graph of P\/E","378be69e":"# Distribution of P\/B","7c05ad1b":"The price-to-book (P\/B) ratio has been favored by value investors for decades and is widely used by market analysts. Traditionally, any value under 1.0 is considered a good P\/B value, indicating a potentially undervalued stock. However, value investors often consider stocks with a P\/B value under 3.0","19609641":"The Bombay Stock Exchange (BSE) is the first and largest securities market in India and was established in 1875 as the Native Share and Stock Brokers' Association. Based in Mumbai, India, the BSE lists close to 6,000 companies and is one of the largest exchanges in the world, along with the New York Stock Exchange (NYSE), Nasdaq, London Stock Exchange Group, Japan Exchange Group, and Shanghai Stock Exchange.","76200790":"# Conclusion","68549f6a":"# P\/E - P\/B - Div Yield vs Years","3c9a6848":"## Closing values","8323ead7":"# What years had the highest 5 peaks? ---> 2015,2017,2018,2019,2020","569a5ade":"From the very beginning of 2008 since January a huge fall is noticed in the stock prices.\n\n\nFrom a quick google search what I found is on 21 Jan 2008, the BSE fell by 1408 points to 17,605 leading to one of the largest erosions in investor wealth.\n\nThe BSE stopped trading for a while at 2:30 pm due to a technical snag although its circuit filter allows swings of up to 15% before stopping trading for an hour. Referred to in the media as \"Black Monday\", the fall was blamed by analysts at HSBC mutual fund and JP Morgan on a large variety of reasons including change in the global investment climate.\n\nOn 26 November 2008, the Sensex continue to fall, in the bargain (as per the financial newspaper Livemint) \"...dashing middle class dreams\". Analysts at Livemint and Ajmera associates, Anagram capital and Ace financial services ascribed a number of reasons for this, ranging from large sales by foreign institutional investors (FII), withdrawal of money by the insurance sector. They all felt that the Sensex could rise by at the most 20-30% in 2009, from its them level of 9000 points.","40c77e9b":"It can be noticed that the highest closing stock prices are yielded for a P\/B ratio between 3 to 4. \n\nSo a higher P\/B vaue than 4 don't indicate better prices.","bfc617cb":"# Yearly graph of P\/B","f1c51b7e":"# Nifty graph in the last 2 decades","a0d0164f":"# Relation of P\/E ratio to Close values","9e1f403f":"# What is P\/B?","f13972e2":"# Relation of Volume to stock prices","a5d5db0f":"A huge rise is observed from 2005-2007. This signifies that investors anticipated earning growth in future.\n\nBut then there is a huge fall from 2008. I am assuming this fall is due to the \n#### **State Bank of Saurashtra scam of 2008**.\n\nSimilar cases can be seen in 2011. This may be due to the \n#### Belekari Port Scam of 2011","31eb7c03":"# Analyzing 2005-2009 stats","e738908b":"# Why dividend yield value decrease?","1bb60e77":"The price to earnings ratio (PE Ratio) is the measure of the share price relative to the annual net income earned by the firm per share. PE ratio shows current investor demand for a company share. A high PE ratio generally indicates increased demand because investors anticipate earnings growth in the future.","bfc5fc97":"# Relation of P\/B to Close values","1d1f8a94":"A dividend yield between 1 to 1.5 seems to be the best for the stock prices","2535c7db":"# Distribution of the highest values","96b03daa":"# What is BSE?","9d036f8d":"# What is turnover?","d07e13a0":"# Distribution of transaction volume","2f130a67":"# Relation of Dividend yield to Closing stock prices","bf34bdd3":"### Since price\/earnings is an yearly concept. Let's check the yearly graph.","45c8119d":"# Relation of turnover to Volume","1966bc95":"During recessions or otherwise uncertain times, dividend-paying stocks can rapidly decrease in value because there is a risk that future dividends will be reduced. If a company announces that it's lowering its dividend, the stock price will react immediately.","2ee1433e":"## Only 2006 data","0b1dcd59":"# Volume of transactions per year","9c4f3682":"## Only 2008 data","071d47b5":"## From the above donut plot it seems that the prices were low in the year 2016","d4028a81":"A huge and sudden rise can be noticed in the year 2007 just before facing a crash in 2008.\n\nBut there is no reason found over the web for this.\n\nObviously a rise in the points is not questioned by many because that denotes growth and that's what everyone expects.\n\nBut for me I think rise and fall are very highly correlated and a sharp rise should be questioned in the same way as a sharp fall.","341e579c":"# Distribution of Dividend Yield","b921f723":"Another huge drop of around 800 points can be noticed in May 2006.\n\nA quick search returned on 18 May 2006, the BSE Sensex fell by 826 points to 11,391.\n\nThe reason is not specified though.","267f6596":"# What is price to earnings ratio?","fb0f90c4":"## For 2007","eb36b939":"Turnover is the net sales generated by a business, while profit is the residual earnings of a business after all expenses have been charged against net sales. Thus, turnover and profit are essentially the beginning and ending points of the income statement - the top-line revenues and the bottom-line results.","9e4b2342":"# Distribution of Turnover"}}