{"cell_type":{"5fc71e45":"code","d4a46892":"code","eb5c56bd":"code","58a7c2d0":"code","6f6d85bd":"code","67c80cab":"code","4a4373af":"code","68bf9557":"code","6d24de1d":"code","b1ea8d8e":"code","939ebfd8":"code","a2619d03":"code","c5dc865b":"code","f72379d4":"code","f33e23df":"code","5a898c51":"code","030f3d44":"code","2451fe6f":"code","12dc132d":"code","c98faaa3":"markdown","d5a221ed":"markdown","e720e8f2":"markdown","143bd465":"markdown","5ee7ecb8":"markdown","7f3cfda6":"markdown","282b94d1":"markdown","544bf49c":"markdown","6244c5bf":"markdown","47001d55":"markdown","b1d9c2c9":"markdown","e6d9b63e":"markdown","2ac75dc3":"markdown","83b1707e":"markdown","66bdb6f6":"markdown","3bcd857a":"markdown","148d42ab":"markdown","9383be1f":"markdown","19e16c73":"markdown","279bba50":"markdown","c2cd5f15":"markdown","b88eaeee":"markdown","98d7e605":"markdown","095964eb":"markdown","b2fb07bc":"markdown","3edb2f38":"markdown","c651182a":"markdown","7a043a37":"markdown","c39e87e1":"markdown","2e0a23db":"markdown","88e82cc5":"markdown","82510a64":"markdown","37d5690e":"markdown","5f88be65":"markdown","ab9c3dec":"markdown","d41d57f4":"markdown","cc337a9a":"markdown","988bdb7c":"markdown"},"source":{"5fc71e45":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Ploting and visualisations \nimport plotly.offline as py\nimport plotly.graph_objs as go\nimport plotly.express as px \nfrom plotly.offline import download_plotlyjs,init_notebook_mode, iplot\nimport plotly.tools as tls \nimport plotly.figure_factory as ff \npy.init_notebook_mode(connected=True)\n# ----------------------- #\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","d4a46892":"data = pd.read_csv('\/kaggle\/input\/data-police-shootings\/fatal-police-shootings-data.csv')","eb5c56bd":"display(data.info(),data.head())","58a7c2d0":"def missing_plot(dataset,key):\n    null_feat = pd.DataFrame(len(dataset[key]) - dataset.isnull().sum(), columns = ['Count'])\n    percentage_null = pd.DataFrame((dataset.isnull().sum())\/len(dataset[key])*100, columns = ['Count'])\n    percentage_null = percentage_null.round(2)\n\n    trace = go.Bar(x = null_feat.index, y = null_feat['Count'] ,opacity = 0.8, text = percentage_null['Count'],  textposition = 'auto'\n                   ,marker=dict(color = 'darkorange',line=dict(color='#000000',width=1.5)))\n\n    layout = dict(title =  \"Missing Values in dataset in percentage%\")\n\n    fig = dict(data = [trace], layout=layout)\n    py.iplot(fig)\n","6f6d85bd":"missing_plot(data,'race')","67c80cab":"data.dropna(inplace=True)","4a4373af":"data['month'] = pd.to_datetime(data['date']).dt.month\ndata['year'] = pd.to_datetime(data['date']).dt.year","68bf9557":"daily_shootouts = data[['date']]\ndaily_shootouts['kills'] = 1\ndaily_shootouts=daily_shootouts.groupby('date').sum()\ndaily_shootouts = daily_shootouts.reset_index()\n\ndef line_plot(data,var):\n    \n    trace = go.Scatter(x=data[var],y=data['kills'],line=dict(color='darkorange',width=2))\n    \n    layout = dict(title='Deaths per {}'.format(var))\n    \n    fig = dict(data = [trace], layout=layout)\n    py.iplot(fig)","6d24de1d":"line_plot(daily_shootouts,'date')","b1ea8d8e":"daily_shootouts = data[['year']]\ndaily_shootouts['kills'] = 1\ndaily_shootouts=daily_shootouts.groupby('year').sum()\ndaily_shootouts = daily_shootouts.reset_index()\n\nline_plot(daily_shootouts,'year')","939ebfd8":"daily_shootouts = data[['year','month']]\ndaily_shootouts['kills'] = 1\nfig = px.bar(daily_shootouts, x='month', y='kills',color_discrete_sequence =['darkorange'], \n                facet_col='year')\nfig.show()","a2619d03":"def target_count(data,column,height):\n    trace = go.Bar( x = data[column].value_counts().values.tolist(),\n    y = data[column].unique(),\n    orientation = 'h',\n    text = data[column].value_counts().values.tolist(),\n    textfont=dict(size=20),\n    textposition = 'auto',\n    opacity = 0.5,marker=dict(color='darkorange',\n            line=dict(color='#000000',width=1.5))\n    )\n    layout = (dict(title= \"EDA of {} column\".format(column),\n                  autosize=True,height=height,))\n    fig = dict(data = [trace], layout=layout)\n    \n    py.iplot(fig)\n\n# --------------- donut chart to show there percentage -------------------- # \n\ndef target_pie(data,column):\n    trace = go.Pie(labels=data[column].unique(),values=data[column].value_counts(),\n                  textfont=dict(size=15),\n                   opacity = 0.5,marker=dict(\n                   colorssrc='tealrose',line=dict(color='#000000', width=1.5)),\n                   hole=0.6)\n                  \n    layout = dict(title=\"Dounat chart to see %age \")\n    fig = dict(data=[trace],layout=layout)\n    py.iplot(fig)\n    ","c5dc865b":"target_count(data,'race',400)\ntarget_pie(data,'race')","f72379d4":"def density_plot(var):\n    M = data[data['gender'] == \"M\"] # Data of all the males only \n    F = data[data['gender'] == \"F\"] # Data of all the females only \n    \n    hist_data = [F[var],M[var]]\n    labels = [\"F\",\"M\"]\n    color = ['pink','skyblue']\n    fig = ff.create_distplot(hist_data,labels,colors = color,show_hist=True,curve_type='kde')\n    fig['layout'].update(title = 'Most affected age group with gender wise segregation')\n    \n    py.iplot(fig, filename = 'Density Plot')","f33e23df":"density_plot('age')","5a898c51":"target_count(data,'manner_of_death',300)\ntarget_pie(data,'manner_of_death')","030f3d44":"target_count(data,'armed',700)\ntarget_pie(data,'armed')","2451fe6f":"shootout_by_states = data['state'].value_counts()\nshootout_by_states = pd.DataFrame(shootout_by_states)\nshootout_by_states=shootout_by_states.reset_index()\nfig = px.pie(shootout_by_states, values='state', names='index', color_discrete_sequence=px.colors.qualitative.Vivid,hole=0.5)\nfig.show()","12dc132d":"daily_shootouts = data[['threat_level','signs_of_mental_illness','armed']]\ndaily_shootouts['kills'] = 1\n\ndaily_shootouts['armed'] = daily_shootouts['armed'].replace(['hammer','hatchet', 'undetermined', 'sword', 'machete', 'box cutter', 'metal object', 'screwdriver', 'lawn mower blade', 'flagpole', 'guns and explosives', 'cordless drill', 'metal pole', 'Taser', 'metal pipe', 'metal hand tool', 'blunt object', 'metal stick', 'sharp object', 'meat cleaver', 'carjack', 'chain', \"contractor's level\", 'unknown weapon', 'stapler', 'crossbow', 'bean-bag gun', 'baseball bat and fireplace poker', 'straight edge razor', 'gun and knife', 'ax', 'brick', 'baseball bat', 'hand torch', 'chain saw', 'garden tool', 'scissors', 'pole', 'pick-axe', 'flashlight', 'vehicle', 'spear', 'chair', 'pitchfork', 'hatchet and gun', 'rock', 'piece of wood', 'bayonet', 'glass shard', 'motorcycle', 'pepper spray', 'metal rake', 'baton', 'crowbar', 'oar', 'machete and gun', 'air conditioner', 'pole and knife', 'beer bottle', 'pipe', 'baseball bat and bottle', 'fireworks', 'pen', 'chainsaw', 'gun and sword', 'gun and car', 'pellet gun', 'BB gun', 'incendiary device', 'samurai sword', 'bow and arrow', 'gun and vehicle', 'vehicle and gun', 'wrench', 'walking stick', 'barstool', 'grenade', 'BB gun and vehicle', 'wasp spray', 'air pistol', 'baseball bat and knife', 'vehicle and machete', 'ice pick', 'car, knife and mace']\n,'other')\nfig = px.bar(daily_shootouts, y='armed', x='kills',facet_col='threat_level',facet_row='signs_of_mental_illness',color='armed')\nfig.update_traces(marker_color=['rgb(00, 83, 109)'],marker_line_color='darkorange',\n                 marker_line_width=1.5, opacity=0.6)\nfig.show()\n","c98faaa3":"### These are the missing values in the data.\narmed  -- 227 -- 4.19%<br>\nage    -- 235 -- 4.34%<br>\ngender -- 2   -- 0.04%<br>\nrace   -- 521 -- 9.62%<br>\nflee   -- 249 -- 4.60%<br>\n","d5a221ed":"# Let's Begin","e720e8f2":"# Areas with most police shooting","143bd465":"### Well from primary analysis we can say that these are a lot of shooting by police. Apart from that we have 14 columns and 5416 rows of data.","5ee7ecb8":"# Is Police providing justice or ......\ud83e\udd10\ud83d\udd2b","7f3cfda6":"### Let's find what all information is missing and what all features needs to be created. We may do Feature Engineering later in the notebook if required. ","282b94d1":"### Here we will try to see if the people killed were showing signs_of_mental_illness and what kind of threat they posed. ","544bf49c":"#### Now lets see how did these people were handled by the police.","6244c5bf":"# 2. Finding reason for shooting ","47001d55":"#### A - Asian, W - White, H - Hispanic, B - Black, O - Others, N - Native \n#### are the different races whose data we have","b1d9c2c9":"## Its not that clear so lets evaluate year.","e6d9b63e":"### Note : I am taking values of ['gun', 'unarmed', 'toy weapon', 'nail gun', 'knife','shovel']  amd converting rest into 'other' type. ","2ac75dc3":"## So Shooting by police has been on a decline, from 900 cases in 2015 to 336 cases in 2020.","83b1707e":"### Here we need to do some feature engineering to seperate months and Years as per_day evaluation is difficult.","66bdb6f6":"### From the above illustrations we can see that 59% of the people were having guns but 15% were unarmed and 7.64% were carring tow weapons. So approx. 22.64% were not carring any leathal weapon yet instead of getting simply tasered they were shot. \n### Let's dig deeper and see what kind of threat level they possesed. ","3bcd857a":"### Only the powerful person can ask for peace not the weak person. <br>\n### Having said that the powerful person should remember his duties and the limit to which it can be extended. <br>\n### So lets find whether police is providing justice or ..... <br><br>\n\n### Task  : Find whether police shooting was justified or not . \n### 1. EDA -- on data to find reason for shooting <br> 2. Find areas where shooting like this happended more often  <br> 3. Further analysis.\n### Given : data-police-shootings","148d42ab":"## Please comment and upvote the notebook if you like it.Thank You\ud83d\ude4f\ud83d\ude0a","9383be1f":"## Deaths per month per year","19e16c73":"### Here we can see deaths per month per year. And found that deaths per months was high in 2015,2018,2019 year.","279bba50":"# Threat_level V.S signs_of_mental_illness","c2cd5f15":"### All the missing values hold very little %age  thus I am going to drop them simply. The main idea is to find if police shooting was justified or justified or not so filling missing data can be kept aside for the time being.","b88eaeee":"### All age groups have been affected with 18 - 60 age male most affected and 20 - 50 and 53-60 year females were most effected. ","98d7e605":"## Yearly Shooting by police","095964eb":"## But was it required ??? <br> Let's check whether they were armed or not and if they were what was the threat level they had... ","b2fb07bc":"# 1. Finding Missing Values","3edb2f38":"## 1. People without mental_illness with threat_level = other and undertermind where killer unnecessarily. Even people who were unarmed and not carring any guns or were with toy weapon were killed unnecessarily. <br>\n\n## 2. People with mental_illness with gun and threat_level = attack can be considered leathal but rest could be tasered instead of killing them.\n\n## 3. In any case people with threat_level -- other and undefined could have been tasered and not shot down immediatly unless they were tring any attack. ","c651182a":"### Let's start by seeing what type of data we have and what it is.","7a043a37":"## Daywise Shooting by police","c39e87e1":"## Its quite clear that instead of Tasering 94.8% people where shot down straight-away. ","2e0a23db":"# Please comment and upvote !!\ud83d\ude4f\ud83d\ude0a\ud83d\ude0a","88e82cc5":"A - Asian, W - White, H - Hispanic, B - Black, O - Others, N - Native <br>\n### Here we can clearly see that half of the people killed were Asian followed by White and Hispanic. ","82510a64":"## Manner_of_deaths ","37d5690e":"# Final Remarks","5f88be65":"## Armed or not...","ab9c3dec":"## The most affected states were CA,TX,FL,AZ,CO,GA etc..","d41d57f4":"### 1. How many deaths occured till now ","cc337a9a":"# Deaths based on Race of the person","988bdb7c":"# Age group to which these people belonged. \n\n### Let's also see which age group was targeted more and which gender too. "}}