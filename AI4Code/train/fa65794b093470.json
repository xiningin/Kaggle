{"cell_type":{"b92fa08d":"code","6eb4cd80":"code","534b0a69":"code","622d80b9":"code","5f8113d9":"code","4727897e":"code","5bdc7711":"code","16fc5e08":"code","13e2c197":"code","8a61787c":"code","568ba8e0":"code","5e5a4cea":"code","0fae96f1":"code","e14ac77f":"code","91ed73ed":"code","b4dd963a":"code","71c2627f":"code","dc4fbcf2":"code","a68c764a":"code","03541e13":"code","39eab0ea":"code","f41290a0":"code","bfc550bb":"code","7506bdef":"code","72720006":"code","dd2d1c8d":"code","120a3ffe":"code","fc23da14":"code","39ac7874":"code","88edafde":"code","09b5ba20":"code","2f73fc63":"code","c633734d":"code","d64e7855":"code","c9bc3082":"code","4001fc2c":"code","8891ef1d":"code","b63047c2":"code","079b898a":"code","f737485c":"code","5b6171ed":"code","2f5c94c0":"code","3cff9ed3":"code","12579c4a":"code","03030bb0":"code","f0eb269d":"code","04d0537a":"code","2d051a3c":"code","ca829411":"code","bcb0adeb":"code","bea44996":"code","64b0463c":"code","c7dd47c0":"code","2aa37771":"code","1efbf6fb":"code","e36151f9":"code","b439430a":"code","e1a5ef9a":"code","1465d3e0":"code","f8572a36":"code","2babc8e4":"code","4bcf2fdb":"code","33f4f94d":"code","0612d0e3":"code","94e109c5":"code","e2f65fc4":"code","b8b0c7cd":"code","d213f248":"code","7bf5b6a2":"code","7e54fd53":"code","9896e12e":"code","a18ce4ab":"code","42393677":"code","7021afd0":"code","8466a265":"code","c249c4b1":"code","0eff6277":"markdown","3601e36a":"markdown","9cf8020d":"markdown","9c9cddab":"markdown","e873a359":"markdown","fa242085":"markdown","5c1f1199":"markdown","63342e63":"markdown","6438ee68":"markdown","71ee7e47":"markdown","27afa5a3":"markdown","b31bba62":"markdown","fbba1fb1":"markdown","0b74f2c5":"markdown","01842558":"markdown","901df710":"markdown","8fd2ee04":"markdown","950e8681":"markdown","2b602b60":"markdown","3264f471":"markdown","fe286d91":"markdown","03e36e2a":"markdown","8d24fc72":"markdown","d6046aae":"markdown","5673e165":"markdown","ffc948e2":"markdown","1fc7c262":"markdown"},"source":{"b92fa08d":"import pandas as pd\nimport matplotlib.pyplot as  plt\nimport seaborn as sns\nimport os\nfrom pathlib import Path\nimport numpy as np\n%matplotlib inline","6eb4cd80":"district_info_df = pd.read_csv(\"..\/input\/learnplatform-covid19-impact-on-digital-learning\/districts_info.csv\")\nproduct_info_df = pd.read_csv(\"..\/input\/learnplatform-covid19-impact-on-digital-learning\/products_info.csv\")","534b0a69":"product_info_df.isna().sum()","622d80b9":"product_info_df.at[61,'Sector(s)'] = 'PreK-12'","5f8113d9":"product_info_df['Sector(s)'] = product_info_df['Sector(s)'].fillna('Others')","4727897e":"product_info_df[product_info_df.isna().any(axis=1)]","5bdc7711":"district_info_df","16fc5e08":"product_info_df['Sector(s)'].unique()","13e2c197":"txt_folder = Path('..\/input\/learnplatform-covid19-impact-on-digital-learning\/engagement_data').rglob('*.*')\nfiles = [x for x in txt_folder]\nengagement_data = dict()\nindex=0\nfor name in files:\n    f = open(name, 'r') \n    district = int(os.path.basename(name).split(\".\")[0])\n    engagement_data[district]=name\n    \nprint(engagement_data)","8a61787c":"districts=district_info_df['district_id'].tolist()\ndf_district=pd.DataFrame()\nfor i in range(len(districts)):\n    temp_df=pd.DataFrame()\n    temp_df = pd.read_csv(engagement_data[districts[i]])\n    temp_df['district'] = districts[i]\n    df_district = pd.concat([df_district,temp_df],axis=0, ignore_index = True)","568ba8e0":"df_district","5e5a4cea":"df_district = df_district.dropna()","0fae96f1":"df_district = df_district.groupby(['district','time','lp_id']).mean()\ndf_district.index[0][2]","e14ac77f":"df_district.reset_index(inplace=True)\ndf_district.lp_id = df_district.lp_id.astype(int)\ndf_district","91ed73ed":"district_info_df","b4dd963a":"district_info_df['pct_black\/hispanic'] = district_info_df['pct_black\/hispanic'].str.strip('[]')\ndistrict_info_df['pct_free\/reduced'] = district_info_df['pct_free\/reduced'].str.strip('[]')\ndistrict_info_df['county_connections_ratio'] = district_info_df['county_connections_ratio'].str.strip('[]')\ndistrict_info_df['pp_total_raw'] = district_info_df['pp_total_raw'].str.strip('[]')","71c2627f":"district_info_df = district_info_df[district_info_df.state.isna()==False]\ndistrict_info_df","dc4fbcf2":"pd.options.mode.chained_assignment = None\ndistrict_info_df['pct_free\/reduced'] =  district_info_df['pct_free\/reduced'].astype(str)\ndistrict_info_df['county_connections_ratio'] =  district_info_df['county_connections_ratio'].astype(str)\ndistrict_info_df['pp_total_raw'] =  district_info_df['pp_total_raw'].astype(str)","a68c764a":"district_info_df1 = district_info_df.copy()\ndef find_avg(val):\n    if val == 'nan':\n        return val\n    else:\n        nos = val.split(',')\n        return (float(nos[0])+float(nos[1]))\/2\n    \ndistrict_info_df1['pct_black\/hispanic'] =  district_info_df['pct_black\/hispanic'].apply(find_avg)\ndistrict_info_df1['pct_free\/reduced'] =  district_info_df['pct_free\/reduced'].apply(find_avg)\ndistrict_info_df1['county_connections_ratio'] =  district_info_df['county_connections_ratio'].apply(find_avg)\ndistrict_info_df1['pp_total_raw'] =  district_info_df['pp_total_raw'].apply(find_avg)\ndistrict_info_df1","03541e13":"district_info_df1['pct_free\/reduced'] =  district_info_df1['pct_free\/reduced'].astype(float)\ndistrict_info_df1['county_connections_ratio'] =  district_info_df1['county_connections_ratio'].astype(float)\ndistrict_info_df1['pp_total_raw'] =  district_info_df1['pp_total_raw'].astype(float)\ndistrict_info_df1.dtypes","39eab0ea":"district_info_df1['pp_total_raw'].fillna(district_info_df1['pp_total_raw'].mean(),inplace=True)\ndistrict_info_df1['pct_black\/hispanic'].fillna(district_info_df1['pct_black\/hispanic'].mean(),inplace=True)\ndistrict_info_df1['pct_free\/reduced'].fillna(district_info_df1['pct_free\/reduced'].mean(),inplace=True)\ndistrict_info_df1['county_connections_ratio'].fillna(district_info_df1['county_connections_ratio'].mean(),inplace=True)\ndistrict_info_df1","f41290a0":"product_info_df = product_info_df.drop(['Provider\/Company Name'],axis=1)","bfc550bb":"product_info_df = product_info_df.fillna('SDO - Other')","7506bdef":"product_info_df","72720006":"df = district_info_df1.merge(df_district, left_on='district_id', right_on='district')","dd2d1c8d":"df = product_info_df.merge(df, left_on='LP ID', right_on='lp_id')","120a3ffe":"df = df.drop(['LP ID','district'],axis=1)","fc23da14":"df","39ac7874":"df1 = df.groupby(['district_id'])['county_connections_ratio','engagement_index'].mean()\ndf1.reset_index(inplace = True)\ndf1","88edafde":"X = df1['engagement_index']\nY = df1['county_connections_ratio']\nZ = df1['district_id']\nf = plt.figure()\nf.set_figwidth(10)\nf.set_figheight(5)\nplt.xlabel('engagement_index Range')\nplt.ylabel('county_connections_ratio Range')\nplt.scatter(X, Y)\nplt.show()","09b5ba20":"df1 = df.groupby(['state'])['county_connections_ratio','engagement_index'].mean()\ndf1.reset_index(inplace = True)\ndf1","2f73fc63":"X = df1['state']\nY = df1['county_connections_ratio']\nf = plt.figure()\nf.set_figwidth(10)\nf.set_figheight(5)\nplt.xlabel('state')\nplt.ylabel('county_connections_ratio')\nplt.title(\"Cannection Ratio Statewise\")\nplt.xticks(rotation=90)\nplt.bar(X, Y)\nplt.show()","c633734d":"X = df1['state']\nY = df1['engagement_index']\nf = plt.figure()\nf.set_figwidth(10)\nf.set_figheight(5)\nplt.xlabel('state')\nplt.ylabel('engagement_index')\nplt.title(\"Enagagement index Statewise\")\nplt.xticks(rotation=90)\nplt.bar(X, Y)\nplt.show()","d64e7855":"#find Top 50 popupalr product\ndf1 = df.groupby(['lp_id'])['county_connections_ratio','engagement_index'].mean()\ndf1.drop(['county_connections_ratio'],axis=1,inplace=True)\ndf1= df1.sort_values(by=['engagement_index'], ascending=False)\n\ndf1.reset_index(inplace = True)\ndf1 = df1[0:50]\ndf1","c9bc3082":"df['Sector(s)'].unique()","4001fc2c":"df_district","8891ef1d":"df_product_temp = df_district.merge(product_info_df, left_on='lp_id', right_on='LP ID')\ndf_product_temp.columns","b63047c2":"df_product_temp = df_product_temp.drop(['district','LP ID','URL', 'Product Name', 'Primary Essential Function'],axis=1)\ndf_product_temp['month'] = df_product_temp['time'].apply(lambda x: x.split(\"-\")[1])\ndf_product_temp['year'] = df_product_temp['time'].apply(lambda x: x.split(\"-\")[0])\ndf_product_temp['month'] = df_product_temp['month'].astype(int)\ndf_product_temp","079b898a":"df_product_temp = df_product_temp.groupby(['Sector(s)', 'month', 'year'])['pct_access','engagement_index'].mean()\ndf_product_temp.reset_index(inplace=True)\ndf_product_temp","f737485c":"def generate_engaement_bar_chart(dfnew,sector):\n    X = dfnew['month']\n    Y = dfnew['engagement_index'] \n    f = plt.figure()\n    f.set_figwidth(5)\n    f.set_figheight(2)\n    xpos = np.arange(len(X))\n    plt.xticks(X,rotation=90)\n    plt.bar(X,Y,color=\"green\")\n    plt.xlabel(\"Month\")\n    plt.ylabel(\"engagement_index\")\n    plt.title(\"Compare engagement index sector-wise for '\"+sector+\"'\")\n    plt.show()","5b6171ed":"def generate_pctaccess_bar_chart(dfnew,sector):\n    X = dfnew['month']\n    Y = dfnew['pct_access'] \n    f = plt.figure()\n    f.set_figwidth(5)\n    f.set_figheight(2)\n    xpos = np.arange(len(X))\n    plt.xticks(X,rotation=90)\n    plt.bar(X,Y,color=\"blue\")\n    plt.xlabel(\"Month\")\n    plt.ylabel(\"pct_access\")\n    plt.title(\"Compare pct_access sector-wise for '\"+sector+\"'\")\n    plt.show()","2f5c94c0":"sectors = df_product_temp['Sector(s)'].unique()\nfor sector in sectors:\n    generate_engaement_bar_chart(df_product_temp[df_product_temp['Sector(s)'] == sector],sector)\n    generate_pctaccess_bar_chart(df_product_temp[df_product_temp['Sector(s)'] == sector],sector)","3cff9ed3":"df.columns","12579c4a":"total_no_of_function = df['Primary Essential Function'].unique().tolist()\ntotal_no_of_function,len(total_no_of_function)","03030bb0":"df1 = df.groupby(['Primary Essential Function'])['engagement_index'].mean()\ndf1 = df1.to_frame()\ndf1 = df1.sort_values(by=['engagement_index'], ascending=False)\ndf1.reset_index(inplace=True)\ndf1","f0eb269d":"df1[0:15]","04d0537a":"#bar chart to know maximum share\nX = df1['Primary Essential Function']\nY = df1['engagement_index']\nf = plt.figure()\nf.set_figwidth(10)\nf.set_figheight(10)\nplt.xlabel('state')\nplt.ylabel('engagement_index')\nplt.title(\"Most Demading software in Market for Covid-19\")\nplt.xticks(rotation=90)\nplt.bar(X,Y)\nplt.show()","2d051a3c":"#Pie chart to know maximum share\nX = df1['Primary Essential Function']\nY = df1['engagement_index']\nf = plt.figure()\nf.set_figwidth(10)\nf.set_figheight(15)\nplt.xlabel('state')\nplt.ylabel('engagement_index')\nplt.title(\"Most Demading software in Market for Covid-19\")\nplt.xticks(rotation=90)\nplt.pie(Y,labels=X,radius=10,autopct=\"%0.1f%%\",shadow=\"true\")\nplt.show()","ca829411":"df_temp = df[['state','locale','lp_id','Primary Essential Function','pct_black\/hispanic','pct_free\/reduced','county_connections_ratio','pp_total_raw','engagement_index','pct_access']]","bcb0adeb":"df_temp","bea44996":"df_group_by_hispanic = df_temp.groupby(['locale'])['pct_black\/hispanic'].sum()\ndf_group_by_hispanic = df_group_by_hispanic.to_frame()\ndf_group_by_hispanic.reset_index(inplace=True)\ndf_group_by_hispanic","64b0463c":"X = df_group_by_hispanic['locale']\nY = df_group_by_hispanic['pct_black\/hispanic']\nf = plt.figure()\nf.set_figwidth(5)\nf.set_figheight(5)\nplt.title(\"Black percentage based on locality\")\nplt.xticks(rotation=90)\nplt.pie(Y,labels=X,radius=1,autopct=\"%0.1f%%\",shadow=\"true\")\nplt.show()","c7dd47c0":"df_group_by_hispanic_engage = df_temp.groupby(['pct_black\/hispanic'])['engagement_index','pct_access'].mean()\ndf_group_by_hispanic_engage.reset_index(inplace=True)\ndf_group_by_hispanic_engage","2aa37771":"X = df_group_by_hispanic_engage['pct_black\/hispanic']\nY = df_group_by_hispanic_engage['engagement_index']\nf = plt.figure()\nf.set_figwidth(5)\nf.set_figheight(5)\nplt.title(\"Engagement_index based on hispanic\")\nplt.xticks(rotation=90)\nplt.pie(Y,labels=X,radius=1,autopct=\"%0.1f%%\",shadow=\"true\")\nplt.show()","1efbf6fb":"df_group_by_free_lunch = df_temp.groupby(['locale'])['pct_free\/reduced'].mean()\ndf_group_by_free_lunch = df_group_by_free_lunch.to_frame()\ndf_group_by_free_lunch.reset_index(inplace=True)\ndf_group_by_free_lunch","e36151f9":"X = df_group_by_free_lunch['locale']\nY = df_group_by_free_lunch['pct_free\/reduced']\nf = plt.figure()\nf.set_figwidth(5)\nf.set_figheight(5)\nplt.title(\"Free luch based on demography\")\nplt.xticks(rotation=90)\nplt.pie(Y,labels=X,radius=1,autopct=\"%0.1f%%\",shadow=\"true\")\nplt.show()","b439430a":"df_group_by_pptraw = df_temp.groupby(['locale'])['pp_total_raw'].mean()\ndf_group_by_pptraw = df_group_by_pptraw.to_frame()\ndf_group_by_pptraw.reset_index(inplace=True)\ndf_group_by_pptraw","e1a5ef9a":"X = df_group_by_pptraw['locale']\nY = df_group_by_pptraw['pp_total_raw']\nf = plt.figure()\nf.set_figwidth(5)\nf.set_figheight(5)\nplt.title(\"Per people expenditure based on locality\")\nplt.xticks(rotation=90)\nplt.pie(Y,labels=X,radius=1,autopct=\"%0.1f%%\",shadow=\"true\")\nplt.show()","1465d3e0":"df_group_by_state_pptraw = df_temp.groupby(['state'])['pp_total_raw'].mean()\ndf_group_by_state_pptraw = df_group_by_state_pptraw.to_frame()\ndf_group_by_state_pptraw.reset_index(inplace=True)\ndf_group_by_state_pptraw","f8572a36":"X = df_group_by_state_pptraw['state']\nY = df_group_by_state_pptraw['pp_total_raw']\nf = plt.figure()\nf.set_figwidth(10)\nf.set_figheight(10)\nplt.xlabel('state')\nplt.ylabel('pp_total_raw')\nplt.title(\"Statewise per peopile expenditure\")\nplt.xticks(rotation=90)\nplt.bar(X,Y)\nplt.show()","2babc8e4":"df_group_by_state_freelunch = df_temp.groupby(['state'])['pp_total_raw','engagement_index'].mean()\n# df_group_by_state_freelunch = df_group_by_state_freelunch.to_frame()\ndf_group_by_state_freelunch.reset_index(inplace=True)\ndf_group_by_state_freelunch","4bcf2fdb":"X = df_group_by_state_freelunch['state']\nY = df_group_by_state_freelunch['pp_total_raw']\nZ = df_group_by_state_freelunch['engagement_index'] \nf = plt.figure()\nf.set_figwidth(10)\nf.set_figheight(5)\nxpos = np.arange(len(X))\nplt.xticks(xpos,X,rotation=90)\nplt.bar(xpos-0.2,Y,width=0.4,color=\"green\",label=\"Per-pupil total expenditure\")\nplt.bar(xpos+0.2,Z,width=0.4,color=\"red\",label=\"engagement_index\")\nplt.xlabel(\"State\")\nplt.ylabel(\"Vale\")\nplt.title(\"Compare \")\nplt.legend(fontsize=\"12\")\nplt.show()","33f4f94d":"df_group_by_locale = df.groupby(['locale'])['engagement_index','pct_access'].mean()\ndf_group_by_locale.reset_index(inplace=True)\ndf_group_by_locale","0612d0e3":"X = df_group_by_locale['locale']\nY = df_group_by_locale['engagement_index']\nf = plt.figure()\nf.set_figwidth(5)\nf.set_figheight(5)\nplt.title(\"Engagement_index based on demography\")\nplt.xticks(rotation=90)\nplt.pie(Y,labels=X,radius=1,autopct=\"%0.1f%%\",shadow=\"true\")\nplt.show()","94e109c5":"df_temp['pct_black\/hispanic'] = df_temp['pct_black\/hispanic'].round(2) \ndf_temp['pp_total_raw'] = df_temp['pp_total_raw'].round(2) \ndf_temp['pct_free\/reduced'] = df_temp['pct_free\/reduced'].round(2) \ndf_demography = df_temp.groupby(['locale','pct_black\/hispanic','pp_total_raw','pct_free\/reduced'])['engagement_index','pct_access'].mean()\ndf_demography","e2f65fc4":"X = df_demography.index\nY = df_demography['engagement_index']\nf = plt.figure()\nf.set_figwidth(5)\nf.set_figheight(5)\nplt.title(\"Engagement_index based on demography(locale,pct_black\/hispanic,pp_total_raw,pct_free\/reduced)\")\nplt.xticks(rotation=80)\nplt.pie(Y,labels=X,radius=15,autopct=\"%0.1f%%\",shadow=\"true\",labeldistance=1.01,wedgeprops = {'linewidth': 3})\nplt.show()","b8b0c7cd":"df_district_marge_info = district_info_df1.merge(df_district, left_on='district_id', right_on='district')","d213f248":"df_district_marge_info = df_district_marge_info[['district','state', 'time', 'lp_id', 'pct_access', 'engagement_index']]\ndf_district_marge_info","7bf5b6a2":"df_district_marge_info.dtypes","7e54fd53":"df_district_marge_info['month'] = df_district_marge_info['time'].apply(lambda x: x.split(\"-\")[1])\ndf_district_marge_info['year'] = df_district_marge_info['time'].apply(lambda x: x.split(\"-\")[0])","9896e12e":"df_district_marge_info['month'] = df_district_marge_info['month'].astype(int)\ndf_district_marge_info","a18ce4ab":"# df_district_marge_info_temp = df_district_marge_info.groupby(['district', 'state', 'month', 'year'])['pct_access','engagement_index'].mean()\ndf_district_marge_info_temp = df_district_marge_info.groupby(['state', 'month', 'year'])['pct_access','engagement_index'].mean()\ndf_district_marge_info_temp.reset_index(inplace=True)\ndf_district_marge_info_temp","42393677":"df_district_marge_info_temp[df_district_marge_info_temp.state == 'Arizona']","7021afd0":"def generate_engaement_bar_chart(dfnew,state):\n    X = dfnew['month']\n    Y = dfnew['engagement_index'] \n    f = plt.figure()\n    f.set_figwidth(5)\n    f.set_figheight(2)\n    xpos = np.arange(len(X))\n    plt.xticks(X,rotation=90)\n    plt.bar(X,Y,color=\"green\")\n    plt.xlabel(\"Month\")\n    plt.ylabel(\"engagement_index\")\n    plt.title(\"Compare engagement index statewise for \"+stat)\n    plt.show()","8466a265":"def generate_pctaccess_bar_chart(dfnew,sector):\n    X = dfnew['month']\n    Y = dfnew['pct_access'] \n    f = plt.figure()\n    f.set_figwidth(5)\n    f.set_figheight(2)\n    xpos = np.arange(len(X))\n    plt.xticks(X,rotation=90)\n    plt.bar(X,Y,color=\"red\")\n    plt.xlabel(\"Month\")\n    plt.ylabel(\"pct_access\")\n    plt.title(\"Compare pct_access sector-wise for \"+sector)\n    plt.show()","c249c4b1":"states = df_district_marge_info_temp.state.unique()\nfor stat in states:\n    generate_engaement_bar_chart(df_district_marge_info_temp[df_district_marge_info_temp.state == stat],stat)\n    generate_pctaccess_bar_chart(df_district_marge_info_temp[df_district_marge_info_temp.state == stat],stat)","0eff6277":"###### Engagement and PCT access based on locality, hispanic, ppt_raw","3601e36a":"###### 1. Districtwise engagement and connictivity ratio","9cf8020d":"### Black based on locality","9c9cddab":"# How does student engagement with online learning platforms relate to different geography? Demographic context (e.g., race\/ethnicity, ESL, learning disability)? Learning context? Socioeconomic status?","e873a359":"# Data Clean","fa242085":"# C. Product Information Data ","5c1f1199":"### Statewise per peopil expenditure ","63342e63":"# A. Engagement data","6438ee68":"# Challenge","71ee7e47":"### Per people expenditure based on locality ","27afa5a3":"# Do certain state interventions, practices or policies (e.g., stimulus, reopening, eviction moratorium) correlate with the increase or decrease online engagement?","b31bba62":"# What is the effect of the COVID-19 pandemic on online and distance learning, and how might this also evolve in the future?","fbba1fb1":"### Engagement_index based on Locality","0b74f2c5":"# How does student engagement with different types of education technology change over the course of the pandemic?","01842558":"# Problem Statement","901df710":"# What is the picture of digital connectivity and engagement in 2020?","8fd2ee04":"###### So we found most demanding courses in covid-19 are releated to the online classes and learning platform","950e8681":"### Eligible for free lunch on localtiy","2b602b60":"# B. District information data","3264f471":"# Marge Dataset","fe286d91":"###### 3. Top 50 product based on engagement index or based on page surfing","03e36e2a":"Due to COVID-19,**most states and local governments a**cross the U.S. **closed educational institutions**. In Response, **schools and teachers** have **attempted** to **reach** **students remotely through distance learning tools and digital platforms**. Until today, **concerns of the exacaberting digital divide and long-term learning loss** among America\u2019s most vulnerable learners continue to grow.","8d24fc72":"### Engagement_index based on hispnac","d6046aae":"* What is the picture of digital connectivity and engagement in 2020?\n* What is the effect of the COVID-19 pandemic on online and distance learning, and how might this also evolve in the future?\n* How does student engagement with different types of education technology change over the course of the pandemic?\n* How does student engagement with online learning platforms relate to different geography? Demographic context (e.g., race\/ethnicity, ESL, learning disability)? Learning context? Socioeconomic status?\n* Do certain state interventions, practices or policies (e.g., stimulus, reopening, eviction moratorium) correlate with the increase or decrease online engagement?","5673e165":"###### 2. Statewise Cannectivity ratio and engagement index","ffc948e2":"# Generate DistrictWise Engagement data","1fc7c262":"### Statewise free lunch"}}