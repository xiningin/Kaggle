{"cell_type":{"89244796":"code","4d2e3fcf":"code","67f52baf":"code","195b7bd6":"code","a9bdd0e7":"code","b7696d1e":"code","e7ea942a":"code","e679f704":"code","d78c5bc7":"code","bdbe03a3":"code","31f23f3a":"code","44dcb1ce":"code","75dee900":"code","bafb736c":"code","7bfcd4d2":"code","c9be84fa":"code","5aafe569":"code","14f696f3":"code","2ed0ac15":"code","bd937bd2":"code","47a5a2cb":"code","9ae0b077":"code","a4561492":"code","b5b5f322":"code","e2b83dff":"code","76d9ee68":"code","a4514f37":"code","8566eb47":"code","8fc05f09":"code","52310eab":"code","8697884e":"code","7feba596":"code","2c15a392":"code","de618d1e":"code","5c7af077":"code","4d50582c":"code","bfc66ea4":"code","8b13beeb":"code","b099332e":"code","fdc6af36":"code","ff592d18":"code","280df763":"code","8db2f3d3":"code","0a83a454":"code","ef7f2c4c":"code","2aaf4d57":"code","84e2844d":"code","811ee372":"code","7b2aa8f8":"code","7ac6de4e":"code","80c5f256":"code","7c2859d1":"code","1a0dff15":"code","31ad1760":"code","7c431f4d":"code","72510948":"code","70daa276":"code","ffdb5cf6":"code","4a97f971":"code","e206e137":"code","5eb5f024":"code","783ba7f0":"code","70f5b1f6":"code","90f2619a":"code","07569d30":"code","d373d609":"code","f395cb52":"code","5854ff9a":"code","970dc100":"markdown","43595f27":"markdown","8f05fb99":"markdown","182f4b2d":"markdown","5e06c83f":"markdown","bd374514":"markdown","1c0b5a03":"markdown","8c8613d2":"markdown","14e41db5":"markdown","24872416":"markdown","61b492d2":"markdown","b12eaa82":"markdown","12b3ca21":"markdown","8884c449":"markdown","bee921f1":"markdown","66e154b1":"markdown","ea3c1c91":"markdown","04efb488":"markdown","62f33eb5":"markdown","dde7574a":"markdown","ef71ed66":"markdown","87aab3c4":"markdown","bb1b293a":"markdown","dcd5fea4":"markdown","0ebf10e9":"markdown","1fef246f":"markdown","d265ed3a":"markdown","c5983b1e":"markdown","23758879":"markdown","545152bb":"markdown","79c0a744":"markdown","f1091db2":"markdown","b6428e89":"markdown","18c78aa0":"markdown","11008359":"markdown","aca1c7ab":"markdown","26cd24dc":"markdown","d830e7e7":"markdown","f0a56f1f":"markdown","58194415":"markdown","8fb78658":"markdown","3d56c630":"markdown","b6118010":"markdown","2c69d2a9":"markdown","0c82ff3a":"markdown","7cfaff42":"markdown","6fce7a1f":"markdown","73cff4a5":"markdown","b823ce38":"markdown","84580dee":"markdown","b947c920":"markdown","9da51778":"markdown"},"source":{"89244796":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport requests\nimport json\nfrom IPython.display import Image","4d2e3fcf":"twitter_a=pd.read_csv('..\/input\/weratedogsdataset\/twitter-archive-enhanced-2.csv')","67f52baf":"url='https:\/\/d17h27t6h515a5.cloudfront.net\/topher\/2017\/August\/599fd2ad_image-predictions\/image-predictions.tsv'\nresponse=requests.get(url)\nwith open ('image-prediction.tsv',mode='wb')as file:\n    file.write(response.content)","195b7bd6":"image_p=pd.read_csv('image-prediction.tsv',sep='\\t')","a9bdd0e7":"list_tweet=[]\nwith open ('..\/input\/weratedogsdataset\/tweet-json')as file:\n    for line in file:\n        list_tweet.append(json.loads(line))","b7696d1e":"tweet_data=pd.DataFrame(list_tweet,columns=['id','retweet_count','favorite_count'])","e7ea942a":"twitter_a.head()","e679f704":"twitter_a.info()","d78c5bc7":"twitter_a.describe()","bdbe03a3":"twitter_a[twitter_a.duplicated()].count()","31f23f3a":"image_p","44dcb1ce":"image_p.info()","75dee900":"image_p[image_p[['tweet_id','jpg_url']].duplicated()].count()","bafb736c":"tweet_data","7bfcd4d2":"tweet_data.info()","c9be84fa":"tweet_data.describe()","5aafe569":"tweet_data[tweet_data.duplicated()].count()","14f696f3":"twitter_a_cleaning=twitter_a.copy()","2ed0ac15":"image_p_cleaning=image_p.copy()","bd937bd2":"tweet_data_cleaning=tweet_data.copy()","47a5a2cb":"cond=twitter_a_cleaning['rating_numerator']<10\ncol=twitter_a_cleaning[cond]\ncol_cleaning=col['rating_numerator']\ncol_cleaning=col_cleaning+10","9ae0b077":"twitter_a_cleaning.loc[cond,'rating_numerator']=col_cleaning","a4561492":"#testing\ntwitter_a_cleaning[twitter_a_cleaning['rating_numerator']<10]","b5b5f322":"twitter_a_cleaning['tweet_id']=twitter_a_cleaning['tweet_id'].astype(str)","e2b83dff":"twitter_a_cleaning['timestamp']=pd.to_datetime(twitter_a_cleaning['timestamp'])","76d9ee68":"#test\ntwitter_a_cleaning.info()","a4514f37":"twitter_a_cleaning=twitter_a_cleaning.drop(['in_reply_to_status_id','in_reply_to_user_id','retweeted_status_id',\n                                            'retweeted_status_user_id','retweeted_status_timestamp'],axis=1)","8566eb47":"#testing\ntwitter_a_cleaning.columns.value_counts()","8fc05f09":"twitter_a_cleaning=twitter_a_cleaning.dropna()","52310eab":"#testing\ntwitter_a_cleaning.expanded_urls.isnull().value_counts()","8697884e":"twitter_a_cleaning=twitter_a_cleaning.drop('rating_denominator',axis=1)","7feba596":"twitter_a_cleaning=twitter_a_cleaning.rename(columns={'rating_numerator':'rating_(over_10)'})","2c15a392":"#testing\ntwitter_a_cleaning.columns.value_counts()","de618d1e":"twitter_a_cleaning.name=twitter_a_cleaning.name.str.lower()","5c7af077":"#test\ntwitter_a_cleaning.name","4d50582c":"twitter_a_cleaning=pd.melt(twitter_a_cleaning,id_vars=['tweet_id','timestamp','source','text','expanded_urls',\n                                                       'rating_(over_10)','name'])","bfc66ea4":"twitter_a_cleaning=twitter_a_cleaning.drop('variable',axis=1)\ntwitter_a_cleaning=twitter_a_cleaning.rename(columns={'value':'dog_stage'})","8b13beeb":"#testing\ntwitter_a_cleaning.sample(5)","b099332e":"index_arr=twitter_a_cleaning[twitter_a_cleaning['name']=='none'].index\ntwitter_a_cleaning=twitter_a_cleaning.drop(index_arr)","fdc6af36":"#testing\ntwitter_a_cleaning[twitter_a_cleaning['name']=='none']","ff592d18":"index_arr=twitter_a_cleaning[twitter_a_cleaning['dog_stage']=='None'].index\ntwitter_a_cleaning=twitter_a_cleaning.drop(index_arr)","280df763":"#testing\ntwitter_a_cleaning[twitter_a_cleaning['dog_stage']=='None']","8db2f3d3":"twitter_a_cleaning=twitter_a_cleaning.drop_duplicates()","0a83a454":"image_p_cleaning['tweet_id']=image_p_cleaning['tweet_id'].astype(str)","ef7f2c4c":"#test\nimage_p_cleaning.info()","2aaf4d57":"false=(image_p_cleaning['p1_dog']==False )& (image_p_cleaning['p2_dog'] == False)&(image_p_cleaning['p3_dog'] == False)\nfalse_index=image_p_cleaning[false].index\nimage_p_cleaning=image_p_cleaning.drop(false_index)","84e2844d":"#test\nimage_p_cleaning[image_p_cleaning[(image_p_cleaning['p1_dog']==False )&\n                                  (image_p_cleaning['p2_dog'] == False)&(image_p_cleaning['p3_dog'] == False)]].count()","811ee372":"tweet_data_cleaning['id']=tweet_data_cleaning['id'].astype(str)","7b2aa8f8":"#testing\ntweet_data_cleaning.info()","7ac6de4e":"tweet_data_cleaning=tweet_data_cleaning.rename(columns={'id':'tweet_id'})","80c5f256":"#testing\ntweet_data_cleaning.columns.value_counts()","7c2859d1":"the_final_data=pd.merge(twitter_a_cleaning,image_p_cleaning,on='tweet_id',how='left')","1a0dff15":"the_final_data=pd.merge(the_final_data,tweet_data_cleaning,on='tweet_id',how='left')","31ad1760":"#testing\nthe_final_data.sample(5)","7c431f4d":"the_final_data.info()","72510948":"the_final_data=the_final_data.dropna()","70daa276":"the_final_data['p1_dog']=the_final_data['p1_dog'].astype(bool)\nthe_final_data['p2_dog']=the_final_data['p2_dog'].astype(bool)\nthe_final_data['p3_dog']=the_final_data['p3_dog'].astype(bool)","ffdb5cf6":"#testing\nthe_final_data.info()","4a97f971":"the_final_data.sample(5)","e206e137":"row_index=np.arange(1,172)","5eb5f024":"the_final_data.index=row_index","783ba7f0":"the_final_data.head()","70f5b1f6":"the_final_data.tail()","90f2619a":"the_final_data.to_csv(r'C:\\Users\\Hello\\OneDrive - Alexandria University\\Desktop\\the_final_data.csv', index = False)","07569d30":"x=the_final_data['dog_stage'].value_counts()","d373d609":"plt.pie(x,labels=['pupper','doggo','puppo','floofer'],shadow=True,explode=(.1,.2,.2,.3),autopct='%1.1f%%')\nplt.show()","f395cb52":"plt.scatter(the_final_data.retweet_count,the_final_data.favorite_count)\nplt.show()","5854ff9a":"plt.scatter(the_final_data.favorite_count,the_final_data['rating_(over_10)'])\nplt.show()","970dc100":"##### 2:- tweet_id must be string not int\n    def turning all wrong data types below to the right data types","43595f27":"# Assessing","8f05fb99":"##### 3:-timestamp must be time not string","182f4b2d":"### ---------------------------------------------------------------","5e06c83f":"##### 4:- unnecessary columns\n    def:drop all the unnecessary columns","bd374514":"#### quality issues\n    rating_numerator some times is lower than 10\n    tweet_id must be string not int\n    timestamp must be time not string\n    unnecessary columns\n    missing values in expanded_urls\n    unnecessary rating_denominator column\n    making name is lower for all\n    'None' values in name\n    \"None\" values in dog_stage","1c0b5a03":"#### quality issues\n    tweet_id must be string not int","8c8613d2":"#### tidiness issues\n    dogs kind 4 variables in 4 columns and it should be in one column","14e41db5":"# Cleaning","24872416":"### twitter_a tidiness Cleaning\n    def:one values in four col | so will merge this four columns","61b492d2":"# Gatharing","b12eaa82":"###### rename id to tweet_id","12b3ca21":"#### tidiness issues\n    all data is related but seperated to 3 tables","8884c449":"# importing libraries","bee921f1":"#### --------------------------------------------------------------------------------","66e154b1":"### all data tidiness issue","ea3c1c91":"#### tweet_data(data frame)","04efb488":"## last check","62f33eb5":"###### --------------------------------------------------------------------------------","dde7574a":"#### twitter_a assessing","ef71ed66":"#### image_p (data frame)","87aab3c4":"#### now turning it into a csv file","bb1b293a":"###### 9:-\"None\" values in dog_stage\n    def : remove all the 'none' values","dcd5fea4":"#### nice&clean DataFrame :) ","0ebf10e9":"##### 7:-making name is lower for all\n    def :lowercase all names","1fef246f":"#### -there is a positive correlation between retweet count and favorate count","d265ed3a":"##### 5:- missing values in expanded_urls\n    def:drop all missing values","c5983b1e":"# visualization","23758879":"###### 8:- 'None' values in name | quality cleaning (continued)\n    def : remove all the 'none' values","545152bb":"#### image_p Assessing","79c0a744":"#### --------------------------------------------------------------------------","f1091db2":"### tweet_data quality cleaning","b6428e89":"#### quality issues\n    id must be string not int","18c78aa0":"###### --------------------------------------------------------------------------------","11008359":"###### drop false,false,false p1_dog\n    def:drop unnecessary all false results","aca1c7ab":"#### so..\n    -pupper is the biggest percentage\n    -floofer is the lowest","26cd24dc":"## --------------------------------------------","d830e7e7":"###### id must be string not int\n    def:turning wrong data type below to the right data type","f0a56f1f":"###### percantage of dog stages","58194415":"#### now changing the row index to a numbers from 1 to 171","8fb78658":"###### --------------------------------------------------------------------------------","3d56c630":"###### all data is related but seperated to 3 tables\n    def:left join the three tables on tweet_id","b6118010":"##### 6:- unnecessary rating_denominator column\n    def:drop rating_denominator column","2c69d2a9":"###### tweet_id must be string not int\n    def:turning wrong data type below to the right data type","0c82ff3a":"# --------------------------------------------","7cfaff42":"#### twitter_a (data frame)","6fce7a1f":"### image_P quality Cleaning","73cff4a5":"###### some tweet_id didn't match so some missing values just appeared ,so will drop it ","b823ce38":"#### tweet_data Assessing","84580dee":"## ----------------------------------------------------","b947c920":"###### 1:- rating_numerator some times is lower than 10\n    def:adding 10 to the numerator which value is less than 10","9da51778":"### twitter_a quality Cleaning"}}