{"cell_type":{"a5e1faea":"code","74885049":"code","e2d36de3":"code","3fb787dc":"code","0a3eae58":"code","e3bbc2e6":"code","c93092b2":"code","cbefcd0b":"markdown","ae918868":"markdown","da9a8b52":"markdown","f6d70650":"markdown","8d7d2ff3":"markdown","52408013":"markdown"},"source":{"a5e1faea":"import pyarrow.parquet as pq\nimport numpy as np\nimport pandas as pd\nfrom pathlib import Path\nimport matplotlib.pyplot as plt\nplt.rcParams['figure.figsize'] = (18,6)\n\ndata_path=Path('..\/input\/optiver-realized-volatility-prediction')\n!ls {data_path}","74885049":"book_train = pq.read_table(data_path \/ 'book_train.parquet').to_pandas()","e2d36de3":"book_train.loc[book_train['stock_id']==0, 'bid_price1'].apply({'mean':'mean', 'std' : 'std'})","3fb787dc":"book_train.groupby('stock_id')['bid_price1'].mean().hist()","0a3eae58":"book_train.groupby('stock_id')['bid_price1'].std().hist()","e3bbc2e6":"fig, ax = plt.subplots(figsize=(18,6))\nbook_train.loc[book_train['time_id']==5].groupby('stock_id')[['seconds_in_bucket','bid_price1']].plot(x='seconds_in_bucket', y='bid_price1', ax=ax, legend=False, alpha=0.4);","c93092b2":"fig, ax = plt.subplots(figsize=(18,6))\nbook_train.loc[(book_train['stock_id']==0) & (book_train['time_id']<1000)].groupby('time_id')[['seconds_in_bucket','bid_price1']].plot(x='seconds_in_bucket', y='bid_price1', ax=ax, legend=False, alpha=0.2);","cbefcd0b":"See also [https:\/\/www.kaggle.com\/c\/optiver-realized-volatility-prediction\/discussion\/267327](Normalized prices)","ae918868":"## Mean and Std. for a stock_id","da9a8b52":"## Price evolution: same stock, all (several) time slots\n\nLimited number of time slots in order to speed up plotting.","f6d70650":"## Mean and Std all stocks","8d7d2ff3":"## Read order book data","52408013":"## Price evolution: same time slot, all stocks\n\nPlots used bid prices but similar figures can be obtained using ask prices."}}