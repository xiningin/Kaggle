{"cell_type":{"a193dcec":"code","e7f98ffe":"code","2869bccc":"code","e09277b0":"code","97ab56d3":"code","f0e64273":"code","e0e292fc":"code","7162124e":"code","4127b8a6":"code","3cd50360":"code","809297ed":"code","6009618c":"code","ed8396f3":"code","17b7f877":"code","56bfeaa7":"code","dbce63ce":"code","ebd09d65":"code","5727b66e":"code","f4431187":"code","c6ad5c2a":"code","1ce5c538":"markdown","4315dab9":"markdown","13d28e54":"markdown","8263624a":"markdown","8a0a41b7":"markdown","07f864ec":"markdown","e7f49867":"markdown","f4131aef":"markdown","44024ebe":"markdown","5b654d44":"markdown","522afd70":"markdown","832fd1f4":"markdown","acd1cf5d":"markdown","bafd3605":"markdown","c36f9b0b":"markdown","86fe1bdf":"markdown","2d964e12":"markdown","8bbc1d3a":"markdown","f2041283":"markdown","bb19a012":"markdown","5a46385f":"markdown","4734e1aa":"markdown","fec20d97":"markdown","df0a1a18":"markdown","3c3e9669":"markdown","d4c94f98":"markdown","add743e0":"markdown","09f4a8b0":"markdown","6f0e7e3f":"markdown","97cd71f4":"markdown","3e8962b0":"markdown"},"source":{"a193dcec":"# importing the libraries\n\nimport numpy as np \nimport pandas as pd \n\n#\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n","e7f98ffe":"import matplotlib.pyplot as plt\nimport io\n\ndf = pd.read_csv('\/kaggle\/input\/nba-players-stats\/Seasons_Stats.csv')\n\n# kaggle\n# df2 = pd.read_csv(\"..\/input\/airplane-crashes-since-1908\/Airplane_Crashes_and_Fatalities_Since_1908.csv\")\ndf.head()","2869bccc":"cols = ['Year', 'Player', 'Pos', 'Age', 'Tm', 'G', '2P', '2P%', '2PA', '3P', '3P%', '3PA', 'PTS', 'DRB', 'ORB', 'TRB', 'BLK', 'BLK%', 'PF', 'STL', 'STL%']\ndf = pd.read_csv('\/kaggle\/input\/nba-players-stats\/Seasons_Stats.csv', usecols = cols)\ndf.head()","e09277b0":"for i in range(6,21):\n  df[pd.DataFrame(df.iloc[:,i]).columns[0] + \" pG\"] = (df.iloc[:,i]\/df.iloc[:,5]).round(2)\n\ndf.head()","97ab56d3":"a = df.groupby(['Year'])['PTS pG'].mean().round(2)\na = a.reset_index()\na = a.set_index(['Year'])\na.head()\n\nfig, axs = plt.subplots(figsize=(15,10))\nfig.suptitle('Points per Game over the years')\naxs.plot(a.index, a.loc[:,'PTS pG'].values)","f0e64273":"a = df.groupby(['Year'])['3P pG', '2P pG'].mean().round(2)\na = a.reset_index()\na = a.set_index(['Year'])\na.head()\n\nfig, axs = plt.subplots(figsize=(15,10))\nax2 = axs.twinx()\nfig.suptitle('3 vs 2 Pointers per Game over the years')\n\naxs.plot(a.index, a.loc[:,'3P pG'].values, label='3P pG', color='red')\naxs.tick_params(axis='y', colors='red')\n\nax2.plot(a.index, a.loc[:,'2P pG'].values, label='2P pG', color='green')\nax2.tick_params(axis='y', colors='green')\n\naxs.legend(loc='upper left')\nax2.legend()","e0e292fc":"a = df.groupby(['Year'])['3P%', '2P%'].mean().round(2)\na = a.reset_index()\na = a.set_index(['Year'])\na.head()\n\nfig, axs = plt.subplots(figsize=(15,10))\nax2 = axs.twinx()\nfig.suptitle('Efficieny of scoring 2 vs 3 PTS over the years')\n\naxs.plot(a.index, a.loc[:,'3P%'].values, label='3P%', color='red')\naxs.tick_params(axis='y', colors='red')\n\nax2.plot(a.index, a.loc[:,'2P%'].values, label='2P%', color='green')\nax2.tick_params(axis='y', colors='green')\n\naxs.legend(loc='upper left')\nax2.legend()","7162124e":"a = df.groupby(['Year'])['STL pG', 'BLK pG'].mean().round(2)\na = a.reset_index()\na = a.set_index(['Year'])\na.head()\n\nfig, axs = plt.subplots(figsize=(15,10))\nax2 = axs.twinx()\nfig.suptitle('Steals per Game vs Blocks per Game over the years')\n\naxs.plot(a.index, a.loc[:,'STL pG'].values, label='STL pG', color='red')\naxs.tick_params(axis='y', colors='red')\n\nax2.plot(a.index, a.loc[:,'BLK pG'].values, label='BLK pG', color='green')\nax2.tick_params(axis='y', colors='green')\n\naxs.legend(loc='upper left')\nax2.legend()","4127b8a6":"a = df.groupby(['Year'])['STL% pG', 'BLK% pG'].mean().round(2)\na = a.reset_index()\na = a.set_index(['Year'])\na.head()\n\nfig, axs = plt.subplots(figsize=(15,10))\nax2 = axs.twinx()\nfig.suptitle('Efficieny of Steals and Blocks over the years')\n\naxs.plot(a.index, a.loc[:,'STL% pG'].values, label='STL% pG', color='red')\naxs.tick_params(axis='y', colors='red')\n\nax2.plot(a.index, a.loc[:,'BLK% pG'].values, label='BLK% pG', color='green')\nax2.tick_params(axis='y', colors='green')\n\naxs.legend(loc='upper left')\nax2.legend()","3cd50360":"a = df.groupby(['Year'])['ORB pG', 'DRB pG'].mean().round(2)\na = a.reset_index()\na = a.set_index(['Year'])\na.head()\n\nfig, axs = plt.subplots(figsize=(15,10))\nax2 = axs.twinx()\nfig.suptitle('Offensive and Defensive rebounds pG over the years')\n\naxs.plot(a.index, a.loc[:,'ORB pG'].values, label='ORB pG', color='red')\naxs.tick_params(axis='y', colors='red')\n\nax2.plot(a.index, a.loc[:,'DRB pG'].values, label='DRB pG', color='green')\nax2.tick_params(axis='y', colors='green')\n\naxs.legend(loc='upper left')\nax2.legend()","809297ed":"a = df['PTS pG'].quantile(0.99)\n\nlogic = (df['PTS pG'] >=a)\ndfx = df.loc[logic]\n\nlogic = (df['PTS pG'] <a)\ndfr = df.loc[logic]\n\n# print(df['BLK pG'].median(), dfx['BLK pG'].median())\n\ndfxy = dfx.groupby('Year')['PTS pG'].mean()\ndfry = dfr.groupby('Year')['PTS pG'].mean()\n\nfig, axs = plt.subplots(figsize=(15,10))\nfig.suptitle('Comparing top 1 percentile vs rest | PTS per Game |')\nax2 = axs.twinx()\n\naxs.plot(dfxy.index, dfxy.values, label='Top 1P', color='blue')\naxs.tick_params(axis='y', colors='blue')\nax2.plot(dfry.index, dfry.values, label='Rest', color='red')\nax2.tick_params(axis='y', colors='red')\n\naxs.legend(loc=\"upper left\")\nax2.legend(loc=\"upper right\")\nplt.show()","6009618c":"a = df['2P% pG'].quantile(0.99)\n\nlogic = (df['2P% pG'] >=a)\ndfx = df.loc[logic]\n\nlogic = (df['2P% pG'] <a)\ndfr = df.loc[logic]\n\n# print(df['BLK pG'].median(), dfx['BLK pG'].median())\n\ndfxy = dfx.groupby('Year')['2P% pG'].mean()\ndfry = dfr.groupby('Year')['2P% pG'].mean()\n\nfig, axs = plt.subplots(figsize=(15,10))\nfig.suptitle('Comparing top 1 percentile vs rest | 2 pointer accuracy|')\nax2 = axs.twinx()\n\naxs.plot(dfxy.index, dfxy.values, label='Top 1P', color='blue')\naxs.tick_params(axis='y', colors='blue')\nax2.plot(dfry.index, dfry.values, label='Rest', color='red')\nax2.tick_params(axis='y', colors='red')\n\naxs.legend(loc=\"upper left\")\nax2.legend(loc=\"upper right\")\nplt.show()","ed8396f3":"a = df['2P pG'].quantile(0.99)\n\nlogic = (df['2P pG'] >=a)\ndfx = df.loc[logic]\n\nlogic = (df['2P pG'] <a)\ndfr = df.loc[logic]\n\n# print(df['BLK pG'].median(), dfx['BLK pG'].median())\n\ndfxy = dfx.groupby('Year')['2P pG'].mean()\ndfry = dfr.groupby('Year')['2P pG'].mean()\n\nfig, axs = plt.subplots(figsize=(15,10))\nfig.suptitle('Comparing top 1 percentile vs rest | 2 pointers |')\nax2 = axs.twinx()\n\naxs.plot(dfxy.index, dfxy.values, label='Top 1P', color='blue')\naxs.tick_params(axis='y', colors='blue')\nax2.plot(dfry.index, dfry.values, label='Rest', color='red')\nax2.tick_params(axis='y', colors='red')\n\naxs.legend(loc=\"upper left\")\nax2.legend(loc=\"upper right\")\nplt.show()","17b7f877":"a = df['3P% pG'].quantile(0.99)\n\nlogic = (df['3P% pG'] >=a)\ndfx = df.loc[logic]\n\nlogic = (df['3P% pG'] <a)\ndfr = df.loc[logic]\n\n# print(df['BLK pG'].median(), dfx['BLK pG'].median())\n\ndfxy = dfx.groupby('Year')['3P% pG'].mean()\ndfry = dfr.groupby('Year')['3P% pG'].mean()\n\nfig, axs = plt.subplots(figsize=(15,10))\nfig.suptitle('Comparing top 1 percentile vs rest | 3 pointer accuracy|')\nax2 = axs.twinx()\n\naxs.plot(dfxy.index, dfxy.values, label='Top 1P', color='blue')\naxs.tick_params(axis='y', colors='blue')\nax2.plot(dfry.index, dfry.values, label='Rest', color='red')\nax2.tick_params(axis='y', colors='red')\n\naxs.legend(loc=\"upper left\")\nax2.legend(loc=\"upper right\")\nplt.show()","56bfeaa7":"a = df['3P pG'].quantile(0.99)\n\nlogic = (df['3P pG'] >=a)\ndfx = df.loc[logic]\n\nlogic = (df['3P pG'] <a)\ndfr = df.loc[logic]\n\n# print(df['BLK pG'].median(), dfx['BLK pG'].median())\n\ndfxy = dfx.groupby('Year')['3P pG'].mean()\ndfry = dfr.groupby('Year')['3P pG'].mean()\n\nfig, axs = plt.subplots(figsize=(15,10))\nfig.suptitle('Comparing top 1 percentile vs rest | 3 pointers|')\nax2 = axs.twinx()\n\naxs.plot(dfxy.index, dfxy.values, label='Top 1P', color='blue')\naxs.tick_params(axis='y', colors='blue')\nax2.plot(dfry.index, dfry.values, label='Rest', color='red')\nax2.tick_params(axis='y', colors='red')\n\naxs.legend(loc=\"upper left\")\nax2.legend(loc=\"upper right\")\nplt.show()","dbce63ce":"a = df['TRB pG'].quantile(0.99)\n\nlogic = (df['TRB pG'] >=a)\ndfx = df.loc[logic]\n\nlogic = (df['TRB pG'] <a)\ndfr = df.loc[logic]\n\n# print(df['BLK pG'].median(), dfx['BLK pG'].median())\n\ndfxy = dfx.groupby('Year')['TRB pG'].mean()\ndfry = dfr.groupby('Year')['TRB pG'].mean()\n\nfig, axs = plt.subplots(figsize=(15,10))\nfig.suptitle('Comparing top 1 percentile vs rest | TRB |')\nax2 = axs.twinx()\n\naxs.plot(dfxy.index, dfxy.values, label='Top 1P', color='blue')\naxs.tick_params(axis='y', colors='blue')\nax2.plot(dfry.index, dfry.values, label='Rest', color='red')\nax2.tick_params(axis='y', colors='red')\n\naxs.legend(loc=\"upper left\")\nax2.legend(loc=\"upper right\")\nplt.show()","ebd09d65":"a = df['ORB pG'].quantile(0.99)\n\nlogic = (df['ORB pG'] >=a)\ndfx = df.loc[logic]\n\nlogic = (df['ORB pG'] <a)\ndfr = df.loc[logic]\n\n# print(df['BLK pG'].median(), dfx['BLK pG'].median())\n\ndfxy = dfx.groupby('Year')['ORB pG'].mean()\ndfry = dfr.groupby('Year')['ORB pG'].mean()\n\nfig, axs = plt.subplots(figsize=(15,10))\nfig.suptitle('Comparing top 1 percentile vs rest | ORB |')\nax2 = axs.twinx()\n\naxs.plot(dfxy.index, dfxy.values, label='Top 1P', color='blue')\naxs.tick_params(axis='y', colors='blue')\nax2.plot(dfry.index, dfry.values, label='Rest', color='red')\nax2.tick_params(axis='y', colors='red')\n\naxs.legend(loc=\"upper left\")\nax2.legend(loc=\"upper right\")\nplt.show()","5727b66e":"a = df['DRB pG'].quantile(0.99)\n\nlogic = (df['DRB pG'] >=a)\ndfx = df.loc[logic]\n\nlogic = (df['DRB pG'] <a)\ndfr = df.loc[logic]\n\n# print(df['BLK pG'].median(), dfx['BLK pG'].median())\n\ndfxy = dfx.groupby('Year')['DRB pG'].mean()\ndfry = dfr.groupby('Year')['DRB pG'].mean()\n\nfig, axs = plt.subplots(figsize=(15,10))\nfig.suptitle('Comparing top 1 percentile vs rest | DRB |')\nax2 = axs.twinx()\n\naxs.plot(dfxy.index, dfxy.values, label='Top 1P', color='blue')\naxs.tick_params(axis='y', colors='blue')\nax2.plot(dfry.index, dfry.values, label='Rest', color='red')\nax2.tick_params(axis='y', colors='red')\n\naxs.legend(loc=\"upper left\")\nax2.legend(loc=\"upper right\")\nplt.show()","f4431187":"a = df['STL pG'].quantile(0.99)\n\nlogic = (df['STL pG'] >=a)\ndfx = df.loc[logic]\n\nlogic = (df['STL pG'] <a)\ndfr = df.loc[logic]\n\n# print(df['BLK pG'].median(), dfx['BLK pG'].median())\n\ndfxy = dfx.groupby('Year')['STL pG'].mean()\ndfry = dfr.groupby('Year')['STL pG'].mean()\n\nfig, axs = plt.subplots(figsize=(15,10))\nfig.suptitle('Comparing top 1 percentile vs rest | STL |')\nax2 = axs.twinx()\n\naxs.plot(dfxy.index, dfxy.values, label='Top 1P', color='blue')\naxs.tick_params(axis='y', colors='blue')\nax2.plot(dfry.index, dfry.values, label='Rest', color='red')\nax2.tick_params(axis='y', colors='red')\n\naxs.legend(loc=\"upper left\")\nax2.legend(loc=\"upper right\")\nplt.show()","c6ad5c2a":"a = df['BLK pG'].quantile(0.99)\n\nlogic = (df['BLK pG'] >=a)\ndfx = df.loc[logic]\n\nlogic = (df['BLK pG'] <a)\ndfr = df.loc[logic]\n\n# print(df['BLK pG'].median(), dfx['BLK pG'].median())\n\ndfxy = dfx.groupby('Year')['BLK pG'].mean()\ndfry = dfr.groupby('Year')['BLK pG'].mean()\n\nfig, axs = plt.subplots(figsize=(15,10))\nfig.suptitle('Comparing top 1 percentile vs rest | BLK |')\nax2 = axs.twinx()\n\naxs.plot(dfxy.index, dfxy.values, label='Top 1P', color='blue')\naxs.tick_params(axis='y', colors='blue')\nax2.plot(dfry.index, dfry.values, label='Rest', color='red')\nax2.tick_params(axis='y', colors='red')\n\naxs.legend(loc=\"upper left\")\nax2.legend(loc=\"upper right\")\nplt.show()","1ce5c538":"We see that indeed, the Steals per Game and Blocks per game have decreased. But, we can see from the scale of the axes that the drop is relatively lesser. For ex: in 1970s the Steals per Game were ~0.80 but in 2010s it has dropped to ~0.60. \nFor comparison, the increase of 3P% is ~100% in 2010 when compared to 1980s. Even for 2P%, the growth is ~50% in 2010s compared to 1950s. \nTo complete the picture, we will look into BLK% and STL%. From the plots below we can see that the Steal% and Block percentage is relatively stable in comparison to Steal per Game and Blocks per Game.","4315dab9":"## Total Rebounds","13d28e54":"# KPI per Game ","8263624a":"We see that the strategy of game has shifted from scoring 2 pointers to getting that extra point with 3 pointers. Next, let us see the efficiency of scoring points using 2\/3P%. This is defined as (Number of succesfult attempts)\/(total number of attempts).\n\nWe can take the mean value of 2\/3P% over the years:","8a0a41b7":"# 3 Pointers: Accuracy and PTS pG","07f864ec":"Let us look at the evolution of selected parametes (2\/3 Pointers, rebounds etc.) over the years. We have already calculated KPI per game in the previous steps. In order to visualise how NBA has evolved, we can group by \"Year\" and take the mean of each KPI. As you will see, we can already observe some interesting patterns.","e7f49867":"# DRB","f4131aef":"# Blocks and Steals per Game","44024ebe":"Another facet to explore is the rebounds. From the data, we see that we have 2 kinds: Offensive RB and Defensive RB. If we plot the two similarly:","5b654d44":"Data analysis many-a-times involves asking the right questions to the stakeholders. In this project, I intuitively subset columns and try to answer what makes a good BB player. \n\nIn this regard, I select a group of Key Performance Indicators from the \"Season_Stats.csv\" file and do 2 types of analysis:\n- In the first part, I analyse the evolution of basketball from the perspective of the selected columns (KPIs)\n- In the second part, I segregate the players into \"top 1 percentile\" and \"rest\". Then I see what makes a good BB player.","522afd70":"# Part 2 - Top-1 Percentile players ","832fd1f4":"# 2 Pointers: Accuracy and PTS pG","acd1cf5d":"## Blocks","bafd3605":"## Observations:\n\n- Over the years, there is a drop in PTS pG for both top and avg groups. But in the recent years top players score around 4x more than the rest. \n- 2PTS: the acc for top players is kind of stable over the years, but the rest are improving. Still, the top players have upto 3x more accuracy in 2 pointers and score 5x as much.\n- 3PTS: Here too the top players have a relatively stable acc and scores, the rest players are becoming better over the years in both these aspects. But still the gap for acc is 20x and for scores is 4x.\n- DRB: DRB pG of top players have a negative trend, but the rest have a positive trend. This is something which might need a deeper analysis.\n- STL and BLK are relatively stable, but of course the top players have larger numbers than rest.\n\n ","c36f9b0b":"# Shooting Accuracy","86fe1bdf":"# Subset of data for simpler analysis","2d964e12":"# Rebounds Per game","8bbc1d3a":"# Evolution of NBA and how top-peformers fare against the average ","f2041283":"# 2 vs 3 Pointers","bb19a012":"In order to keep the analysis simple, I will select a smaller subset of data. We can consider the following terms:\n\n- Total points scored\n- 3 pointers and attempts ( including 3 PT % )\n- 2 pointers and attempts ( including 2 PT % )\n- blocks\n- offensive rebounds\n- defensive rebounds\n- Total Rebounds\n- Personal Fouls\n\nApart from these, I also used:  Year, Player name, Pos, Age, Team and games played.","5a46385f":"## Steals","4734e1aa":"To summarise:\n- 3P are increasing in popularity. Maybe dig deeper into why - is the strategy different? Is the risk\/reward for 3PTS better than 2PTS in terms of accuracy?\n- Overall shot (both 2 and 3 PTS) efficiency is increasing. Players are becoming efficient at scoring or are the defenders becoming weaker? becuase (the next point) blocks and steals are doing down over time.\n- STL pG and BLK pG has dropped over the years. Is this correspoding to the shift in style of play over the years?\n- Recently, DRB are overtaking ORB. If the shooting accuracy is increasing, does this mean DRB are crucial for victories lately?\n\nBy observing the patterns and asking the right questions to people with domain expertise - we can provide a data driven approach.\n\n","fec20d97":"# Part-1: Evolution of NBA over the years:","df0a1a18":"Now, we will first find the top 1 percetile scores in the history of basketball. Then we will find the players who achieved these scores. We will refer to these players ( players who achieved the top-1 percentile scores in either of the metrics ) as TOP - Top-1 Percentile.\n\nWe will then compare the TOP against rest of the players.","3c3e9669":"# PTS pG","d4c94f98":"The selected subset of data can be considered the relavant KPIs. Now, we can define KPI per Game. This is simply dividing the relavant columns by number of games in each season (for each player). Intuitively, this means we have an idea about the \"consistency\" in performance.","add743e0":"We see that the DRB are in an upward trend in comparison to ORB. This suggests that recent style of play might involve increase in defensive rebound capturing.","09f4a8b0":"# Points per Game ","6f0e7e3f":"# ORB","97cd71f4":"We can see that for both 2 and 3 pointers, the \"efficieny\" has increased. Now, this could also be becuase the oppnents \"bock or steal less. We can have a look at Steal and blocks per game:","3e8962b0":"# Summary of part 1"}}