{"cell_type":{"a32e9ae2":"code","28ca44ed":"code","41ed3d48":"code","a386535a":"code","85be3766":"code","d9dda4b7":"code","8d1456d9":"code","b36bd46b":"code","08b944fd":"code","7d31be6d":"code","c7dd3e42":"code","8b08dd53":"markdown","5ff582b5":"markdown"},"source":{"a32e9ae2":"!pip install bar_chart_race","28ca44ed":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport geopandas as gpd\nimport matplotlib.pyplot as plt \nimport bar_chart_race as bcr\n\nfrom IPython.display import HTML, Image\nfrom matplotlib.animation import FuncAnimation\nfrom matplotlib import animation, rc\nrc('animation', html='html5')\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\ndata = pd.read_csv('\/kaggle\/input\/gdp-of-all-countries19602020\/gdp_1960_2020.csv')","41ed3d48":"#_____convert country to alpha_3 country codes____#\nimport pycountry\ndef alpha3code(column):\n    CODE=[]\n    for country in column:\n        try:\n            code=pycountry.countries.get(name=country).alpha_3\n           # .alpha_3 means 3-letter country code \n           # .alpha_2 means 2-letter country code\n            CODE.append(code)\n        except:\n            CODE.append('None')\n    return CODE\n\n# create a column for code \ndata['CODE']=alpha3code(data.country)","a386535a":"# _____impute manually for country code which were not generated______#\ndata.loc[data['country'].str.contains('United States'), 'CODE'] = 'USA'\ndata.loc[data['country'].str.contains('Dominica'), 'CODE'] = 'DMA'\ndata.loc[data['country'].str.contains('Iran'), 'CODE'] = 'IRN' \ndata.loc[data['country'].str.contains('Russia'), 'CODE'] = 'RUS' \ndata.loc[data['country'].str.contains('South Korea'), 'CODE'] = 'KOR' \ndata.loc[data['country'].str.contains('Columbia'), 'CODE'] = 'COL' \ndata.loc[data['country'].str.contains('Bolivia'), 'CODE'] = 'BOL'\ndata.loc[data['country'].str.contains('Vietnam'), 'CODE'] = 'VNM'\ndata.loc[data['country'].str.contains('Congo (Brazzaville)'), 'CODE'] = 'COD'\ndata.loc[data['country'].str.contains('Syria'), 'CODE'] = 'SYR'\ndata.loc[data['country'].str.contains('Palestine'), 'CODE'] = 'PSE'\ndata.loc[data['country'].str.contains('Czech'), 'CODE'] = 'CZE'\ndata.loc[data['country'].str.contains('Central Africa'), 'CODE'] = 'CAF'\ndata.loc[data['country'].str.contains('C \u00f4 te d\\'Ivoire'), 'CODE'] = 'CIV'\ndata.loc[data['country'].str.contains('Fiji Islands'), 'CODE'] = 'FJI'\ndata.loc[data['country'].str.contains('Laos'), 'CODE'] = 'LAO'\ndata.loc[data['country'].str.contains('Venezuela'), 'CODE'] = 'VEN'\ndata.loc[data['country'].str.contains('Brunei'), 'CODE'] = 'BRN'\ndata.loc[data['country'].str.contains('Tanzania'), 'CODE'] = 'TZA'\ndata.loc[data['country'].str.contains('Guinea Bissau'), 'CODE'] = 'GNB'\ndata.loc[data['country'].str.contains('Moldova'), 'CODE'] = 'MDA'","85be3766":"# Countries that are not included \ndata[data['CODE']=='None']['country'].value_counts()","d9dda4b7":"# ________Get world map from geopandas and merge w.r.t country code _______#\nworld = gpd.read_file(gpd.datasets.get_path('naturalearth_lowres'))\n\n# rename the columns so that we can merge with our data\nworld.columns=['pop_est', 'continent', 'name', 'CODE', 'gdp_md_est', 'geometry']\n\n# then merge with our data \nmerge_df=pd.merge(world,data,on='CODE')","8d1456d9":"# get the unique number of years and sort it\nyears = np.sort(merge_df.year.unique())","b36bd46b":"# write animation function to update every year\nfig, ax = plt.subplots(figsize=(10, 10), dpi=80)\nims = []\ndef update_fig(year):\n\n    ims.append(merge_df[merge_df['year']==year].plot(column='gdp_percent', cmap='BuPu', linewidth=0.8, ax=ax, edgecolor='0.8'))\n    ax.set_title('Percentage GDP year = ' + str(year))\n    return ims\nanim = FuncAnimation(fig, update_fig, interval=150, repeat_delay=3000, frames=years)\nfig.show()\n","08b944fd":"barchartrace_df = merge_df.pivot(columns='country', index='year', values='gdp_percent')\n\nbarchartrace_df = barchartrace_df*100  # GDP in percentage ","7d31be6d":"bcr_html = bcr.bar_chart_race(df=barchartrace_df,n_bars=15, filename=None, period_length=300, figsize=(4, 4),title='Top GDP percent Rank throughout years')","c7dd3e42":"bcr_html","8b08dd53":"# GDP yearwise Temporal GeoSpatial Graph\n* **The lighter the lower GDP, brighter higher GDP**\n\n* **Here clearly, China has higher GDP from 2006, and is in par with USA recently.**\n\n* **Japan and germany GDP rose significantly from 1980s till early 2000s**\n\n* **Brazil's GDP increases from 2015**\n\n\n![GDP_temporal_geospatial.gif](attachment:696c9edd-a8e2-445c-9aa4-a4ce4db8002e.gif)\n","5ff582b5":"# Race Bar Chart of GDP Percent throughout the years \n\n* **The X-axis is the country GDP percentage w.r.t the whole world.**\n\n* **As we can clearly see USA had about ~40% of world GDP in 1960 currently in 2020 it's ~25%.**\n\n* **China GDP increased exponentially from 2007, currently it's ~20%**\n\n* **Japan and Germany was having high GDP in the 80s, 90s and early 2000s, but not currently**"}}