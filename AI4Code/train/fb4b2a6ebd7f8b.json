{"cell_type":{"fd1efddf":"code","6df4767e":"code","673e4cff":"code","35160dbf":"code","d012d35c":"code","7494660c":"code","7d785f6d":"code","dd261db7":"code","6840537b":"code","b8248308":"code","78ac1530":"code","969ce7d7":"code","49eb55d1":"code","781ca521":"code","014c64e8":"markdown","1ed9e9d8":"markdown","6ce1b8c4":"markdown","4278fe89":"markdown","fd10cb23":"markdown","ef441400":"markdown"},"source":{"fd1efddf":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\nimport matplotlib.pyplot as plt\nimport seaborn as sb\nimport xgboost as xgb\nfrom sklearn.preprocessing import LabelEncoder\nimport numpy as np\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.model_selection import KFold\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn.model_selection import cross_val_predict\nfrom tensorflow.keras.layers import Dense, Dropout\nfrom tensorflow.keras.models import Sequential\nfrom tensorflow.keras.wrappers.scikit_learn import KerasClassifier\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import mean_squared_error\nfrom math import sqrt        \n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","6df4767e":"df = pd.read_csv('\/kaggle\/input\/hyderabad-weather-with-air-quality-index-and-covid\/Hyderabad-AirQ.csv')\ndf.head(20)\nu= df['PM2.5'].max()","673e4cff":"dp = df[['Lockdown','PM2.5']]\ndp = dp.groupby('Lockdown').mean()\ndp = dp.rename(columns={'PM2.5': 'PM2.5(Avg)'} , index={1 : 'Yes' , 0 : 'No'})\ndp = dp.reset_index()\ndp.head()","35160dbf":"a = [0,1]\nplt.rcParams['figure.figsize'] = (6,4)\nk = plt.bar(dp['Lockdown'] , dp['PM2.5(Avg)'] , color='Red')\nk[1].set_color('g')\n\nplt.xlabel('Lockdown')\nplt.ylabel('Avg PM2.5')\nplt.legend()","d012d35c":"target_column = ['PM2.5'] \npredictors = list(set(list(df.columns))-set(target_column))\npredictors = list(set(list(df.columns))-set(['Date']))\ndf[predictors] = df[predictors]\/df[predictors].max()\ndf.describe()","7494660c":"X = df[predictors].values\ny = df[target_column].values\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.30, random_state=40)","7d785f6d":"# Import required libraries\nimport pandas as pd\nimport numpy as np \nimport matplotlib.pyplot as plt\nimport sklearn\n\n# Import necessary modules\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.metrics import mean_squared_error\nfrom math import sqrt\n\n# Keras specific\nimport keras\nfrom keras.models import Sequential\nfrom keras.layers import Dense\nmodel = Sequential()\nmodel.add(Dense(500, input_dim=9, activation= \"relu\"))\nmodel.add(Dense(100, activation= \"relu\"))\nmodel.add(Dense(50, activation= \"relu\"))\nmodel.add(Dense(1))","dd261db7":"model.compile(loss= \"mean_squared_error\" , optimizer=\"adam\", metrics=[\"mean_squared_error\"])\nmodel.fit(X_train, y_train, epochs=20)","6840537b":"results = model.predict(X_test)","b8248308":"c = 0\nfor i in range(0 , len(results)):\n  c = c+ (abs(results[i] - y_test[i])\/y_test[i])*100\nprint('Accuracy is of')\nprint(100-(c\/len(results))) ","78ac1530":"xaxis = np.arange(1,len(results)+1)","969ce7d7":"y_test = np.array(y_test)\nresults = np.array(results)\ny_te = y_test*u\nres = results*u\nimport matplotlib.pyplot as plt\nplt.rcParams['figure.figsize'] = (20,8)\nplt.plot(xaxis, y_te , color='Red', label=\"Actual\")\nplt.plot(xaxis, res , color='Green', label=\"Predicted\")\nplt.legend()\nplt.show()","49eb55d1":"s = pd.DataFrame(y_te)\ns['results'] = res\ns = s.rename(columns={0 : 'Actual' , 'results' :'Predicted'})\ns['sn'] = xaxis\nplt.bar(s['sn']+0.125, s['Actual'] ,width = 0.25, color='Red', label=\"Actual\")\nplt.bar(s['sn']-0.125, s['Predicted'] ,width = 0.25, color='Green', label=\"Predicted\")\nplt.legend()\nplt.show()\n","781ca521":"s.head(46)","014c64e8":"By- Vaibhav Goyal | Adit Jain | Priyadarshini Biswal","1ed9e9d8":"Here, *Red Bar* shows the avg PM2.5 con when there was no lockdown i.e **123 PPM**\n\nand *Green Bar* shows the avg PM2.5 con when there is lockdown i.e **93 PPM**\n\nSo, net decrement is of around **25%**","6ce1b8c4":"# Model to Predict Air Quality Index","4278fe89":"Here, We took 5 months dataset of hyderabad , in which 2 months are April and March 2020 (COVID Lockdown) and rest are October, November, December 2019.\nFirst I will analyze impact(reduction) in Air pollution due to lockdown then,\nI will Use keras to predict Air Quality Index (PM2.5) using parameters like, **Temperature, WindSpeed, Humidity, Dew Point, Pressurs, Festivals, Lockdown, Covid-Cases(in Hyderabad)**","fd10cb23":"**Amazing ! We got an Accuracy of 97.9% **","ef441400":"# Appliyng Keras to to predict PM2.5"}}