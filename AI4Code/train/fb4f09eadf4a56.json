{"cell_type":{"e8fbba45":"code","e559214a":"code","f1d9bdc2":"code","e8674dda":"code","2c502b9b":"code","13a8dda4":"code","b4416b4c":"code","8a17fdaa":"code","87698e67":"code","62f2ff0d":"code","9605bee7":"code","c6de6443":"code","fca0e63d":"code","1f4bc3f9":"code","09dc4c65":"code","9e8843e5":"code","bff0488b":"code","98454af4":"code","59dcf0db":"code","9d55f830":"code","026d22f6":"code","35306a52":"code","8ff3b1ea":"code","dba00d72":"code","e4897b28":"code","2ed8e0be":"code","93b9c04c":"code","9e8ba343":"code","095b7bbe":"code","2456134b":"code","384b8876":"code","a81c7cab":"code","97d314d9":"code","6680a802":"code","eded2a59":"code","9a84a580":"code","8b747bcb":"code","5012fbfe":"code","0e5cce0a":"code","2d4ed2a8":"code","219903c2":"code","9d7e90ff":"code","ad425d6c":"code","c411ae7d":"code","572b07f8":"code","eb04f98c":"code","e60a008d":"code","2c4ac63b":"code","2a5efe99":"code","d3858f29":"code","480b6aa8":"code","31ae8967":"code","343ccc3c":"code","5029d232":"code","121a6eac":"code","8058ff22":"code","467011a9":"code","8383eeef":"code","1fa59f8a":"code","b2e32594":"code","5edbe76d":"code","859b6df5":"code","ec763e5f":"code","5e7aaafc":"code","f6938b99":"code","1634c674":"markdown","b1721ac5":"markdown","c56d517d":"markdown","fd45bc4f":"markdown","34f1ff55":"markdown","336b382d":"markdown","234d7b0e":"markdown","56a39379":"markdown","ec599023":"markdown","2c08d914":"markdown","4b5aa07b":"markdown","5aa57fa0":"markdown","d104ddd5":"markdown","4572b487":"markdown","b708174c":"markdown","37201b71":"markdown","7ed2d52f":"markdown","684de6ef":"markdown","88a1b778":"markdown","49699541":"markdown","d4700561":"markdown","6c64f644":"markdown","16b2698c":"markdown","04bd7bd8":"markdown","2c00dd30":"markdown","8df790c5":"markdown","0d63770a":"markdown","eb34dbf4":"markdown","e68cd903":"markdown","4997128b":"markdown","9f2dd9fa":"markdown","f3fe3b56":"markdown","b26ff1c8":"markdown","30300140":"markdown","0aed3fc3":"markdown","7a3d92e6":"markdown","0b4456d4":"markdown","2a0c3913":"markdown","f2728788":"markdown","3fa6c6ef":"markdown","db5c39f5":"markdown","5b39c089":"markdown","bd88a33e":"markdown","23781a2e":"markdown","7e241aa4":"markdown","35e835c2":"markdown","a9c28b01":"markdown","dddac572":"markdown","8273f8b4":"markdown","d45edb99":"markdown","c7d8e747":"markdown","3c5ea24d":"markdown","32bb0bcb":"markdown","c603e805":"markdown","1268ddc6":"markdown","2414c194":"markdown"},"source":{"e8fbba45":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline\n\nplt.rcParams['figure.figsize'] = [12,6]\nplt.rcParams['figure.dpi'] = 70\nplt.style.use('ggplot')\nsns.set_theme(style=\"darkgrid\")","e559214a":"titanic = pd.read_csv('..\/input\/titanic\/train.csv')","f1d9bdc2":"titanic.info()","e8674dda":"titanic.head()","2c502b9b":"titanic.describe()","13a8dda4":"titanic.isnull().sum()","b4416b4c":"corrmat = titanic.corr()\ncorrmat","8a17fdaa":"sns.heatmap(corrmat, annot= True); #most attributes are categorical and show little relationship to eachother","87698e67":"fig, ax = plt.subplots(3,3,figsize = (16,16))\n\nsns.countplot(x = 'Survived', data=titanic, ax=ax[0][0])\nsns.countplot(x = 'Pclass', data=titanic, ax=ax[0][1])\nsns.countplot(x = 'Sex', data=titanic, ax=ax[0][2])\nsns.countplot(x = 'SibSp', data=titanic, ax=ax[1][0])\nsns.countplot(x = 'Parch', data=titanic, ax=ax[1][1])\nsns.countplot(x = 'Embarked', data=titanic, ax=ax[1][2])\n\nsns.histplot(data=titanic['Fare'], kde=True, ax=ax[2][0])\nsns.histplot(data=titanic['Age'], kde=True, ax=ax[2][1])\n\nplt.tight_layout()","62f2ff0d":"titanic['Survived'].value_counts()","9605bee7":"(titanic['Survived'].sum() \/ titanic['Survived'].count()) * 100","c6de6443":"ax = sns.barplot(x='Survived', y='Survived', data=titanic, estimator=lambda x: len(x) \/ len(titanic) * 100)\nax.set(ylabel=\"Percent\")\nplt.title('Titanic survivors %');","fca0e63d":"titanic['Pclass'].value_counts() #passangers per class","1f4bc3f9":"titanic.groupby(['Pclass', 'Survived'])['Survived'].count() #passengers by class by survival","09dc4c65":"sns.countplot(data=titanic, x='Pclass', hue='Survived')\nplt.title('Titanic survivors per class');","9e8843e5":"sns.catplot(data=titanic, x='Pclass', y='Survived', kind='bar')\nplt.title('Titanic survivors per class');","bff0488b":"sns.catplot(data=titanic, x='Pclass', y='Survived', kind='bar', hue='Sex')\nplt.title('Titanic survivors per class');","98454af4":"sns.countplot(data=titanic, x='Sex') #ratio M\/F around 2:1\nplt.title('Titanic passenger count by sex');","59dcf0db":"titanic.groupby(['Sex', 'Survived'])['Survived'].count()","9d55f830":"sns.countplot(data=titanic, x='Sex', hue='Survived')\nplt.title('Titanic survival count by sex');","026d22f6":"sns.catplot(data=titanic, x = 'Sex', y = 'Survived', kind = 'bar')\nplt.title('Titanic survival probability by sex');","35306a52":"sns.catplot(data=titanic, x = 'Sex', y = 'Survived', kind = 'bar', hue='Pclass')\nplt.title('Titanic survival probability by sex and class');","8ff3b1ea":"sns.violinplot(data=titanic, x='Pclass', y='Survived', hue='Sex', split=True, cut=0)\nplt.title('Titanic survival probability by class and sex');","dba00d72":"sns.histplot(data=titanic, x='Age', kde=True)\nplt.title('Age of passengers');","e4897b28":"titanic['Age'].median() #average age","2ed8e0be":"sns.histplot(data=titanic, x='Age', kde=True, hue='Sex')\nplt.title('Age of passengers by sex');","93b9c04c":"sns.boxplot(data=titanic, x='Age', y='Sex', hue='Pclass')\nplt.title('Age of passengers by sex');","9e8ba343":"sns.violinplot(data=titanic, x= 'Age', y = 'Pclass', hue='Sex', split=True, orient='h', cut=0)","095b7bbe":"titanic.iloc[titanic['Age'].idxmax()][['Name', 'Survived']] #who was the oldest passenger on board and did they survive?","2456134b":"sns.catplot(data=titanic, x = 'Survived', y = 'Age', kind = 'swarm', row = 'Sex', col = 'Pclass')","384b8876":"sns.histplot(data=titanic, x='Fare')\nplt.title('Passenger fare');","a81c7cab":"titanic['Fare'].mean() #average fare price","97d314d9":"sns.boxplot(data=titanic, x='Sex', y='Fare')\nplt.title('Passenger fare by sex');","6680a802":"sns.boxplot(data=titanic, x='Sex', y='Fare', hue='Pclass')\nplt.title('Passenger fare by sex and class');","eded2a59":"sns.relplot(data=titanic, x='Age', y='Fare', row='Sex', col='Pclass', hue='Survived');","9a84a580":"titanic['SibSp'].value_counts().sort_index()","8b747bcb":"sns.countplot(data=titanic, x='SibSp')\nplt.title('Number of spouses\/siblings');","5012fbfe":"sns.countplot(data=titanic, x='SibSp', hue='Survived')\nplt.title('Number of spouses\/siblings vs. survival rate');","0e5cce0a":"sns.barplot(data=titanic, x='SibSp', y='Survived')\nplt.title('Number of spouses\/siblings vs. survival rate');","2d4ed2a8":"sns.barplot(data=titanic, x='SibSp', y='Survived',hue='Sex')\nplt.title('Survival rate by number of spouses\/siblings and sex');","219903c2":"sns.catplot(data=titanic, x='SibSp', y='Survived',kind='bar', col='Pclass');","9d7e90ff":"sns.pointplot(data=titanic, x='SibSp', y='Survived', hue='Sex')\nplt.title('Survival rate by number of spouses\/siblings and sex');","ad425d6c":"sns.relplot(data=titanic, x='SibSp', y='Fare', col='Pclass', kind='line');","c411ae7d":"titanic['Parch'].value_counts().sort_index()","572b07f8":"sns.countplot(data=titanic, x='Parch')\nplt.title('Number of passangers traveling with parents\/children');","eb04f98c":"sns.countplot(data=titanic, x='Parch', hue='Sex')\nplt.title('Number of passangers traveling with parents\/children by sex');","e60a008d":"sns.barplot(data=titanic, x='Parch', y='Survived')\nplt.title('Survival rate by number of parents\/children');","2c4ac63b":"titanic[(titanic['Parch']>=1) & (titanic['Parch']<=3)]['Survived'].mean()","2a5efe99":"sns.barplot(data=titanic, x='Parch', y='Survived', hue='Sex')\nplt.title('Survival rate by number of parents\/children and sex');","d3858f29":"titanic[((titanic['Parch']>=0) & (titanic['Parch']<=3))&(titanic['Sex']=='female')]['Survived'].mean()","480b6aa8":"titanic['Embarked'].value_counts()","31ae8967":"sns.countplot(data=titanic, x='Embarked')\nplt.title('Number of passengers by port of embarkment');","343ccc3c":"sns.countplot(data=titanic, x='Embarked', hue='Survived')\nplt.title('Survival rate by port of embarkment');","5029d232":"sns.catplot(data=titanic, x='Embarked', y='Survived', kind='bar')\nplt.title('Survival rate by port of embarkment');","121a6eac":"titanic[titanic['Embarked']=='S']['Survived'].mean()","8058ff22":"titanic['Person'] = titanic['Sex']\ntitanic.loc[titanic['Age'] < 18, 'Person'] = 'child'","467011a9":"titanic['Person'].value_counts()","8383eeef":"sns.countplot(data=titanic, x='Person')\nplt.title('Number of male\/female\/children');","1fa59f8a":"sns.countplot(data=titanic, x='Person', hue='Survived')\nplt.title('Number of male\/female\/children survived');","b2e32594":"sns.catplot(data=titanic, x='Person', y='Survived', kind='bar')\nplt.title('Surival rate of male\/female\/children');","5edbe76d":"sns.catplot(data=titanic, x='Person', y='Survived', kind='bar', hue='Pclass')\nplt.title('Surival rate of male\/female\/children by class');","859b6df5":"titanic.head()","ec763e5f":"titanic[((titanic['Person']=='female')&(titanic['Pclass']!=3))]['Survived'].mean()","5e7aaafc":"titanic[((titanic['Person']=='child')&(titanic['Pclass']!=3))]['Survived'].mean()","f6938b99":"sns.catplot(data=titanic, x='Person', y='Survived', kind='bar', col='Parch', col_wrap=4);","1634c674":"Numbers of parents\/children aboard the Titanic","b1721ac5":"Around 1\/3 travelers from Southampton survived, more than half of those departing from Cherbourgh and less than half from Queenstown survived. Which we can more clearly show here:","c56d517d":"Number of spouses increased price of individual fares","fd45bc4f":"Port of Embarkation\tC = Cherbourg, Q = Queenstown, S = Southampton","34f1ff55":"<h1 id=\"sex\">\n3. Sex\n<a class=\"anchor-link\" href=\"https:\/\/www.kaggle.com\/niekvanderzwaag\/titanic-eda\/#sex\"><\/a>\n<\/h1>","336b382d":"Survival rate men around 18%, women 75% and children 54%","234d7b0e":"Observations:\n- We see a heavy skew for surival rates by sex, especially in 2nd class. \n- In 1st and 2nd class women were very likely to survive. \n- Men in especially 2nd and 3rd class were very likely not to survive.","56a39379":"Observations:\n- Passenger class had a big impact on survival rate\n- Passengers traveling 1st class were about 3 times as likely to survive as those in the 3rd class.\n- 2nd class passengers had a roughly 50% chance of survival on average, but was much lower for men","ec599023":"<h1 id=\"embarked\">\n8. Embarked\n<a class=\"anchor-link\" href=\"https:\/\/www.kaggle.com\/niekvanderzwaag\/titanic-eda\/#embarked\"><\/a>\n<\/h1>","2c08d914":"Most people embarked from Southampton.","4b5aa07b":"<h1 id=\"sibsp\">\n6. SibSp\n<a class=\"anchor-link\" href=\"https:\/\/www.kaggle.com\/niekvanderzwaag\/titanic-eda\/#sibsp\"><\/a>\n<\/h1>","5aa57fa0":"It appears that the higher the passenger class, the higher the percentage of survival","d104ddd5":"Observations:\n- Survival chances independent of other attributes was roughly 38%","4572b487":"As we saw in our analysis of the passenger class attribute, most passengers traveled in 3rd class (~55%) as accounts for the clustering of lower fare prices.","b708174c":"Women had much higher rates of survival in all SibSp categories.","37201b71":"Most people traveled without family (68%), few traveled with a sibling or spouse (23%) and the rest traveled with more than one SibSp.","7ed2d52f":"<h1 id=\"person\">\n9. Person\n<a class=\"anchor-link\" href=\"https:\/\/www.kaggle.com\/niekvanderzwaag\/titanic-eda\/#person\"><\/a>\n<\/h1>","684de6ef":"Traveling with 1 or 2 spouses\/siblings increased the changes of survival (vs. traveling without), as seen more clearly here:","88a1b778":"<h1 id=\"fare\">\n5. Fare\n<a class=\"anchor-link\" href=\"https:\/\/www.kaggle.com\/niekvanderzwaag\/titanic-eda\/#fare\"><\/a>\n<\/h1>","49699541":"After studying this Titanic dataset we got to know a lot about its passengers, and we can make some assumptions on the chances of survival.\n\n- Total passengers number 891, of which 549 (61,6%) perished and 342 (38,4%) survived\n- Most passengers were traveling in 3rd class (709) and this class has the lowest survival rate\n- The median age of all passengers was 28, the oldest passenger survived\n- Higher fare means greater chances of survival, which is closely linked to class\n- Size of family impacts chances of survival, with families of 2 to 4 people having the greatest chance to survive. As family size increases past 4, survival rate drops.\n- Women and children in 1st and 2nd class were very likely to survive (women: 94,7%, children: 91,4%)\n- Most passangers embarked from Southampton (644), which had also the lowest percentage of survivors (33,7%)\n\nAnswering our question: **what sorts of people were more likely to survive?**\n\nTreating all parameters seperately, the most likely survivor is:\n- a young female passenger, that;\n- embarked from Cherbourg;\n- paid a large amount for her fare and traveled 1st class, with;\n- a moderate sized family\n\nThe overall odds for survival is influenced greatly by the relationship between variables, which was not explored in this analysis - a topic for a future project.","d4700561":"Combining our observations so far let's see how they interact together.","6c64f644":"Some initial observations:\n1. The number of survivers appears close to 1:2\n2. Most passengers traveled 3rd class\n3. Sex seems roughly a 2:1 ratio M\/F\n4. Most people traveled without siblings (and some with 6)\n5. Most people traveled without parents\/children\n6. Most people embarked from Southampton\n7. A low fare was paid by most\n8. Most people between ages 20-30\n\nOur average passenger was a 28 year old male, having left alone from Southampton to travel on the Titanic in 3rd class and did not surive the ordeal.","16b2698c":"<h1 id=\"survivors\">\n1. Survivors\n<a class=\"anchor-link\" href=\"https:\/\/www.kaggle.com\/niekvanderzwaag\/titanic-eda\/#survivors\"><\/a>\n<\/h1>","04bd7bd8":"Women were much more likely to survive than men. Combining this with our previously observations about passenger class, let's explore this a bit further.","2c00dd30":"Observations:\n- Most people traveled without parents\/children - especially men.\n- Survival rates of passengers with Parch 1-3 was around 53%\n- Survival rate for women traveling with up to 3 parents and\/or children was more than 75%","8df790c5":"Adding a children category","0d63770a":"<h1 id=\"age\">\n4. Age\n<a class=\"anchor-link\" href=\"https:\/\/www.kaggle.com\/niekvanderzwaag\/titanic-eda\/#age\"><\/a>\n<\/h1>","eb34dbf4":"**Attributes:**\n\nsurvival   \tSurvival \t0 = No, 1 = Yes\npclass     \tTicket class \t1 = 1st, 2 = 2nd, 3 = 3rd\nsex        \tSex \t\nAge     \tAge in years \t\nsibsp   \t# of siblings \/ spouses aboard the Titanic \t\nparch   \t# of parents \/ children aboard the Titanic \t\nticket  \tTicket number \t\nfare    \tPassenger fare \t\ncabin   \tCabin number \t\nembarked \tPort of Embarkation \tC = Cherbourg, Q = Queenstown, S = Southampton","e68cd903":"Women and children in the 1st class were extremely likely to survive.","4997128b":"Survival rates for 1st class were much higher than 3rd class, regardless of SibSp.\nAll travelers in 2nd class with 3 spouses\/sibling survived.\nNobody traveling with more than 4 spouses\/siblings survived.","9f2dd9fa":"Observations:\n- Survival rates for men low across the spectrum\n- Women and children had high survival rates, especially in 1st and 2nd class","f3fe3b56":"<h1 id=\"parch\">\n7. Parch\n<a class=\"anchor-link\" href=\"https:\/\/www.kaggle.com\/niekvanderzwaag\/titanic-eda\/#parch\"><\/a>\n<\/h1>","b26ff1c8":"Most people traveled without parents\/children - especially men.","30300140":"<h1 id=\"titanic\">\nTitanic EDA\n<a class=\"anchor-link\" href=\"https:\/\/www.kaggle.com\/niekvanderzwaag\/titanic-eda\/#titanic\"><\/a>\n<\/h1>","0aed3fc3":"Number of siblings\/spouses aboard the Titanic","7a3d92e6":"Out of the titanic (training dataset) roughly 38% of passengers survived.","0b4456d4":"Dataset source: https:\/\/www.kaggle.com\/c\/titanic\/data\n\nFor this analysis I'll only be making use of the training set.\n","2a0c3913":"<h1 id=\"pclass\">\n2. Pclass\n<a class=\"anchor-link\" href=\"https:\/\/www.kaggle.com\/niekvanderzwaag\/titanic-eda\/#pclass\"><\/a>\n<\/h1>","f2728788":"Passenger Class","3fa6c6ef":"Children and women have a survival rate over 50%, men have a terribly low survival rate.","db5c39f5":"Observations:\n- 1st class tickets vary widely in fare\n- Females paid more for 1st class tickets\n- 75% of men bought 3rd class tickets (fare < $30)\n- Average fare was ~$32","5b39c089":"To emphasize this information more visually:","bd88a33e":"Observations:\n- Average age of both sexes around 20-30 (median: 28)\n- Class and age are positively correlated - the higher the class, the higher the passenger age.\n- Swarmplot clearly shows just how bad the survival rate was for male passengers in 3rd class (top-right), and relatively good they were for females in 1st class (bottom-left).","23781a2e":"Observations:\n- Most passengers embarked the Titanic at Southampton\n- Survival rates were greatest for those embarking at Cherbourh and lowest in Southampton","7e241aa4":"The sinking of the Titanic is one of the most infamous shipwrecks in history.\n\nOn April 15, 1912, during her maiden voyage, the widely considered \u201cunsinkable\u201d RMS Titanic sank after colliding with an iceberg. Unfortunately, there weren\u2019t enough lifeboats for everyone onboard, resulting in the death of 1502 out of 2224 passengers and crew.\n\nWhile there was some element of luck involved in surviving, it seems some groups of people were more likely to survive than others.","35e835c2":"**Research Question: what sorts of people were more likely to survive?**","a9c28b01":"<h1 id=\"sumcon\">\n10. Summary and Conclusions\n<a class=\"anchor-link\" href=\"https:\/\/www.kaggle.com\/niekvanderzwaag\/titanic-eda\/#sumcon\"><\/a>\n<\/h1>","dddac572":"Observations:\n- Most people traveled without a spouse\/sibling\n- On average traveling with 1 spouse\/sibling increased chances of survival, this is especially true for men, but not for women\n- Women were much more likely to survive than men, regardless of siblings.\n- Nobody traveling with more than 4 spouses\/siblings survived","8273f8b4":"**Univariate Analysis - Looking at all the attributes individually**","d45edb99":"Lots of inspiration from the [Data Visualization in Python Masterclass](https:\/\/www.udemy.com\/course\/complete-data-visualization-in-python).","c7d8e747":"Survival rates for those traveling with 1 to 3 parents and\/or children was relatively high.","3c5ea24d":"Or in a more visual way:","32bb0bcb":"On average 53% of those traveling with 1 to 3 Parch survived","c603e805":"In fact, the rate of survival is much lower in 3rd class.","1268ddc6":"Survival rates for females was especially high if traveling with 0-2 SibSp","2414c194":"We see a very short box for males, indicating that 75% of the tickets they bought were under $30.\nFor both sexes we see a lot of significant outliers, with two extreme data points for males and females, respectively."}}