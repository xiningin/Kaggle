{"cell_type":{"59415a55":"code","9d5036d7":"code","75424790":"code","6117bdb1":"code","a9ee1276":"code","431ab343":"code","d85fd3dd":"code","fe362f7a":"code","c79e112a":"code","1c49276c":"code","d520f93b":"code","46b6acc1":"code","b6497151":"markdown","94e92fa1":"markdown","ec2caf5b":"markdown","c93915c1":"markdown","37dfc4b5":"markdown","11f574b0":"markdown","32d058b1":"markdown","6f047ec2":"markdown","044ae0c1":"markdown","0d3d73f8":"markdown","a6bbf61a":"markdown","1cf88ab1":"markdown","7d222bf0":"markdown"},"source":{"59415a55":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input\/us-accidents\/US_Accidents_May19.csv'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","9d5036d7":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom matplotlib import pyplot\nfrom datetime import datetime\nimport dateutil.parser","75424790":"dataset = pd.read_csv(\"\/kaggle\/input\/us-accidents\/US_Accidents_May19.csv\")","6117bdb1":"type(dataset[\"Start_Time\"][1])","a9ee1276":"dt_object = dataset[\"Start_Time\"][1:30].apply(lambda x: dateutil.parser.parse(x))","431ab343":"dt_object.head()","d85fd3dd":"dataset[\"Time_added\"] = dataset[\"Start_Time\"].apply(lambda x: dateutil.parser.parse(x))","fe362f7a":"dataset[\"Time_added\"][0:4].apply(lambda timestamp: timestamp.hour)","c79e112a":"a4_dims = (11.7, 8.27)\nfig, ax = pyplot.subplots(figsize=a4_dims)\nsns.countplot(x=dataset[\"Time_added\"].apply(lambda timestamp: timestamp.hour))","1c49276c":"a4_dims = (10, 7)\nfig, ax = pyplot.subplots(figsize=a4_dims)\nsns.countplot(x=dataset[\"Time_added\"].apply(lambda timestamp: timestamp.month))","d520f93b":"time_list = dataset[\"Time_added\"].apply(lambda timestamp: timestamp.hour).value_counts()","46b6acc1":"time_list","b6497151":"At last we now want a list of hours with the corresponding number of accidents. Again our work from before pays off. We can easily use the apply function to generate such a list. If we want it for days we can get it, months no problem, year easy.","94e92fa1":"As string we can not work very well with this data. It will be a lot easier, if we can convert it into a datetime object, which supports different methods like day() and hour(). We therefore add a new Time Variable called \"Time_added\".\n\nIf Kaggle would have a higher Python version, than one could use the method fromisoformat() like this:\ndataset[\"Time_added\"] = dataset[\"Start_Time\"].apply(lambda x: datetime.fromisoformat(x))\nThis new method is way faster in calculation than this dateutil.parser\n\nIf your run it it is going to need some minutes to add the column. ","ec2caf5b":"To start off we do the usual import like pandas etc. and as extra we need(just because I used it in this solution) datetime","c93915c1":"We can now for example get the hour at which the accident happend with relative ease.","37dfc4b5":"Now lets look if we can work with this new datetime object and start with a method called hour which returns the hour of the accident.","11f574b0":"### Imports","32d058b1":"Because we want to know about the time of Accidents we need to find a variable that indicates this. I choose the variable Start_Time, which tells us the start time of the accident. Before we can use it we need to find the type of this column.","6f047ec2":"We now want to see at which hours do the most accidents happen. For this we need a seaborn countplot(or any other plot) and apply the hour method to our new column. I made the plot a little bigger so it is easier to diffrentiate between single hours.","044ae0c1":"#  Time of accidents","0d3d73f8":"### Visualization and results","a6bbf61a":"Now as we can see the most accidents happen around in the hours from 7 to 9 in the morning. Btw if we want a countplot for a different category of time our work now pays off because we just have to change the method which is called at the end. I give an example below for month.","1cf88ab1":"### Reading data and change format","7d222bf0":"This is my solution, I am happy if you got any suggestions, comments or questions."}}