{"cell_type":{"40dedd9f":"code","4048eee9":"code","c794b62c":"code","a44f3881":"code","b7b1d1af":"code","0ed95f0f":"code","3152d90e":"code","ec14e3e9":"code","33f66455":"code","7f0a5de1":"code","ed52f4e7":"code","375d1963":"code","300cd383":"code","e2b0f99f":"code","7e95b353":"code","f6c98754":"code","19fc8c9f":"code","990a4c6c":"code","34df29f3":"code","af00bde1":"code","ef44bf3e":"code","7c0d094e":"code","310e49bf":"code","281c5c76":"code","71cb1a1a":"code","b0181615":"code","e6128089":"code","ca5881a6":"code","d5c5ba9a":"code","bb500f62":"code","43d24b21":"code","08e8b261":"code","6d291520":"code","f30be751":"code","ce3f85d1":"code","4cee2abe":"code","3c9a9491":"markdown","10a5cba9":"markdown","7686b550":"markdown","df4c23eb":"markdown","6f6b8d41":"markdown","fceb0795":"markdown","f1b36eee":"markdown","3283abe8":"markdown","bb5c62b1":"markdown","2cab608d":"markdown","18641e4b":"markdown","04201e5c":"markdown","b2c56516":"markdown","f700df8d":"markdown","d23f886a":"markdown","7a8fc1fd":"markdown","dc5a5d92":"markdown","dde06e93":"markdown"},"source":{"40dedd9f":"# if you dont have the libriaries show above you can upload it by using \n# pip install seaborn\n# pip install plotly\n# pip install ggplot\n# pip install matplotlib","4048eee9":"# pip install future\nfrom __future__ import (absolute_import, division, print_function, \n                        unicode_literals)\n# turn off warnings\nimport warnings\nwarnings.simplefilter('ignore')\n\n# inline visualizations \n%pylab inline\n# turn the visualization into SVG format\n%config InlineBackend.figure_format = 'svg'\n# and lets resize default size of graphs\nfrom pylab import rcParams\nrcParams['figure.figsize'] = 6,5\n\n# and last point lets import libriaries for working with data and data manipulation\nimport pandas as pd\nimport numpy as np\nimport seaborn as sns","c794b62c":"# I forgot the path on Kagle so lets find out where we are now:\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","a44f3881":"df = pd.read_csv('\/kaggle\/input\/video_games_sales.csv')\nprint(df.shape)","b7b1d1af":"df.info()","0ed95f0f":"# As you see there are not all data for \"Critic_Score\", \"Critic_count\", \"Developer\" and \"Rating\" \n# Usually I delete it (but not always)\ndf = df.dropna()\nprint(df.shape)\ndf.info()","3152d90e":"# As mentiod from df.info() not all features have an appropriate data-type. Change it to the another data-type\ndf['User_Score'] = df.User_Score.astype('float64')\ndf['Year_of_Release'] = df.Year_of_Release.astype('int64')\ndf['User_Count'] = df.User_Count.astype('int64')\ndf['Critic_Count'] = df.Critic_Count.astype('int64')","ec14e3e9":"df.head()","33f66455":"# I think I will analyze not all features. In this dataframe we have 6825 rows and 16 columns(features)\n# Lets leave features that are the most meaningfull\nmeaningfull_cols = ['Name', 'Platform', 'Year_of_Release', 'Genre', 'Global_Sales',\n                    'Critic_Score', 'Critic_Count', 'User_Score', 'User_Count', 'Rating']\n\ndf[meaningfull_cols].head(5)","7f0a5de1":"[x for x in df.columns if 'Sales' in x]","ed52f4e7":"# And I want to mention that NA_Sales stands for North_American_Sales and not for NA as you could think \ndf1 = df[[x for x in df.columns if 'Sales' in x] + ['Year_of_Release']].groupby('Year_of_Release').sum()\ndf1.head()","375d1963":"df1.plot();","300cd383":"df1.plot(kind = 'bar', rot = 45, figsize = (10, 5));","e2b0f99f":"df1[list(filter(lambda x: x != 'Global_Sales', df1.columns))].plot(kind = 'bar', rot = 45, stacked = True, figsize = (10, 5));","7e95b353":"# stacked parameter is for visibility\ndf1[list(filter(lambda x: x != 'Global_Sales', df1.columns))].plot(kind = 'area', rot = 45, stacked = False, figsize = (10, 5));","f6c98754":"df.Critic_Score.hist(figsize = (10, 5));","19fc8c9f":"ax = df.Critic_Score.hist(figsize = (10, 5));\nax.set_title('Critic Score distribution');\nax.set_xlabel('Critic Score');\nax.set_ylabel('Games');","990a4c6c":"# You can choose the number of bins for the distribution by calling it bins = #\nax = df.Critic_Score.hist(figsize = (10, 5), bins = 25);\nax.set_title('Critic Score distribution');\nax.set_xlabel('Critic Score');\nax.set_ylabel('Games');","34df29f3":"import seaborn as sns\n%config InlineBackend.figure_format = 'png'\nsns_plot = sns.pairplot(df[['Global_Sales', 'User_Score', 'Critic_Score']]);\n# you can save the chart by\n# sns_plot.savefig('#name_of_chart.png')","af00bde1":"# Also seaborn can visualize distribution of quantitative value in different ways\n# Joint_plot - is a hybrid of scatter_plot and histogram. \n# Lets see how it works on two values Critic_Score and User_Score\nsns.jointplot(x = 'Critic_Score', y = 'User_Score', data = df, kind = 'scatter');","ef44bf3e":"sns.jointplot( x = 'Critic_Score', y = 'User_Score', data = df, kind = 'reg');","7c0d094e":"platform_gender_sales = df.pivot_table(index = 'Platform', columns = 'Genre', values = 'Global_Sales', aggfunc = sum).fillna(0).applymap(float)\nplatform_gender_sales.head()","310e49bf":"sns.heatmap(platform_gender_sales, annot = True, fmt = '.0f', linewidths = 0.7);","281c5c76":"from plotly.offline import init_notebook_mode, iplot\nimport plotly\nimport plotly.graph_objs as go\n\ninit_notebook_mode(connected = True)","71cb1a1a":"global_sales_df = df.groupby('Year_of_Release')[['Global_Sales']].sum()\nglobal_sales_df.head(5)","b0181615":"released_years_df = df.groupby('Year_of_Release')[['Name']].count()\nreleased_years_df.head(5)","e6128089":"years_df = global_sales_df.join(released_years_df)\nyears_df.columns = ['Global_Sales', 'Number_of_Games']\nyears_df.head()","ca5881a6":"# declare a trace which is an array and specify the design\n# go.Scatter - specifies type of chart\n# trace0 simply just declaring a firts line on the graph\ntrace0 = go.Scatter(\n    # what should be on x-axis\n    x = years_df.index,\n    # what should be on y-axis\n    y = years_df.Global_Sales,\n    # Title for the Chart\n    name = 'Global Sales'\n)\n# declare a second Scatter (second line on the graph)\ntrace1 = go.Scatter(\n    # Specify x-axis\n    x = years_df.index,\n    # and y-axis\n    y = years_df.Number_of_Games,\n    # Title of the chart\n    name = 'Number of games released'\n)\n\n# collect all the traces (arrays) in separate dataframe\ndata = [trace0, trace1]\n# choosing a single title\nlayout = {'title': 'Statistics of video games'}\n# Plotting the figure\nfig = go.Figure(data = data, layout = layout)\n\niplot(fig, show_link = False)","d5c5ba9a":"# if you want to save your graph just use the next code\n# plotly.offline.plot(fig, filename = 'years_stats_sales.#specify_format_after_dot', show_link = False);","bb500f62":"platform_sales_global_df = df.groupby('Platform')[['Global_Sales']].sum()\nreleased_df = df.groupby('Platform')[['Name']].count()\nplatforms_df = platform_sales_global_df.join(released_df)","43d24b21":"platforms_df.columns = ['Global_Sales', 'Number_of_Games']\nplatforms_df.sort_values('Global_Sales', inplace = True)\nplatforms_df = platforms_df.apply(lambda x: 100 * x \/ platforms_df.sum(), axis = 1)\nplatforms_df.head()","08e8b261":"# Finally lets plot the data on chart\n\n# again create a traces where specify the chart type and its axis\ntrace0 = go.Bar(\n    x = platforms_df.index,\n    y = platforms_df.Global_Sales,\n    name = 'Global Sales',\n    orientation = 'v'\n)\n\ntrace1 = go.Bar(\n    x = platforms_df.index,\n    y = platforms_df.Number_of_Games,\n    name = 'Number of games released',\n    orientation = 'v'\n)\n\ndata = [trace0, trace1]\nlayout = {'title': 'Platforms share'}\n\nfig = go.Figure(data = data, layout = layout)\n\niplot(fig, show_link = False)","6d291520":"# We can interactively represent the dependency between mean User_Score and Critic_Score and its influence on Global_Sales\n# To do it we need to join two tables with scores and sales\nscores_genres = df.groupby('Genre')[['Critic_Score', 'User_Score']].mean()\nsales_genres = df.groupby('Genre')[['Global_Sales']].sum()\ngenres_sales = scores_genres.join(sales_genres)\n\ngenres_sales.head()","f30be751":"# So finally plot the data on char. I choose a scatter plot because it will show dependencies\ntrace0 = go.Scatter(\n            x = genres_sales.Critic_Score,\n            y = genres_sales.User_Score,\n            mode = 'markers+text',\n            text = genres_sales.index)\n\ndata = [trace0]\nlayout = {'title': 'Influence of User and Critic Scores on Sales'}\n\nfig = go.Figure(data = data, layout = layout)\niplot(fig, show_link = False)","ce3f85d1":"# From this scatter plot we can modify it and create a bubble chart which will show the amount of sales that was calculated before\ngenres_sales.index","4cee2abe":"trace0 = go.Scatter(\n    x = genres_sales.Critic_Score,\n    y=genres_sales.User_Score,\n    mode = 'markers+text',\n    text = genres_sales.index,\n    marker = dict(\n        size = 1\/10*genres_sales.Global_Sales,\n        color = [\n            'aqua', 'azure', 'beige', 'lightgreen',\n            'lavender', 'lightblue', 'pink', 'salmon',\n            'wheat', 'ivory', 'silver'\n        ]\n    )\n)\n\ndata = [trace0]\nlayout = {\n    'title': 'Influence of User and Critic Scores on Sales',\n    'xaxis': {'title': 'Critic Score'},\n    'yaxis': {'title': 'User Score'}\n}\n\nfig = go.Figure(data=data, layout=layout)\n\niplot(fig, show_link=False)","3c9a9491":"So as you can see above the dataFrame has 4 random samples. And if we calculate a statistics for each individual sample we will get the same result for each of them:\n\n* Sample Mean for ***x*** = 9\n* Sample Variance of ***x*** = 11\n* Sample Mean for ***y*** =11.5\n* Sample Variance of ***y*** = 4.125\n* Correlation between ***x*** and ***y*** = 0.816\n\nIf you don't trust me try your own! \n\n**And so is it really all 4 random samples are the same?**\n","10a5cba9":"# *Seaborn libriary review*\n\nSeaborn libriary is just an API of high level based on matplotlib libriary. Seaborn includes more attractive default styles and its customization for the charts. \nSeaborn libriary also have different complex styles and types of visualizations than you can do with a several rows of code (in mathplotlib it will be messy).\n\nThe first complex chart is <code>**pair plot (scatter plot matrix)**<\/code>. This type of chart helps us to see the different types of correlation between values and \nits distributions. So let's see it.","7686b550":"### Histograms in matplotlib\nHistograms are very well suited for visualizing **various kinds of distributions.** On below examples I will show distribution of critic scores in the dataframe.\nHistograms in matplotlib are relatively simple to plot. You need just select a feature you want to plot (for example **Critic_Score**) and add a method <code>**.hist()**<\/code>","df4c23eb":"To show both the dynamics of sales and their breakdown by market you should use a **Stacked Bar Chart**.","6f6b8d41":"The more beautiful way:","fceb0795":"Lets upload dataframe with which we will be working. I choose a dataset with videogame information (ranks, sales, regions and etc.) from one of the **[Kaggle's datasets](http:\/\/www.kaggle.com\/rush4ratio\/video-game-sales-with-ratings).** There is some empty data that will be deleted from the dataset. So lets go!","f1b36eee":"# Python's libriaries for data visualization\n\n![libs.jpg](attachment:libs.jpg)\n\n\nI will point out a list of libriaries that I use the most time. Here are they:\n   * **[matplotlib](http:\/\/matplotlib.org\/3.1.1\/contents.html)** - the most classical libriary (hello from 90's :)\n            1. This is the first data visualization libriary in Python.\n            2. Very Very flexible and powerfull. It is relatively simple to use for complete beginners.\n            3. Styles from 90's.\n            4. Exist wrappers - pandas and seaborn.\n   * **[seaborn](http:\/\/seaborn.pydata.org\/)** \n            1. Based on matplotlib libriary.\n            2. Complex visualizations for couple of lines of code.\n            3. Very attractive styles (by default and tuned).\n            4. And if you want to add or change something you need to know matplotlib.\n   * **[plotly (+dash)](http:\/\/dash.plot.ly\/)** - my favourite \n            1. Very interactive data visualizations.\n            2. Relatively simple API and you can tune it for your own needs.\n            3. Beatiful default styles for graphs.\n            4. You can use dash for building and encoding your visualizations into different web applications.\n   * **[ggpolot](http:\/\/ggplot2.tidyverse.org\/reference\/)**\n            1. Based on ggplot2 from R's language libriary.\n            2. The Grammar of graphics Zen: complex component layers.\n            3. It is easy tu use than matplotlib but it is less flexible.\n   * **[bokeh](http:\/\/bokeh.pydata.org\/en\/latest\/)**\n            1. Same The Grammar of graphics Zen like in ggplot.\n            2. Very interactive visualizations.\n            3. Very complex API (not flexible).\n            4. Complex (very hard) libriary to use. But if you will know it you can do anything.\n   * **[pygal](http:\/\/www.pygal.org\/en\/stable\/documentation\/)**\n            1. Interactivity in visualizations.\n            2. Graphs in SVG formats (it is not a good solution for the big data frames).\n            3. Simple API that you can use. ","3283abe8":"In this case we focused on displaying sales trends in different regions. \nUsing the <code>**kind**<\/code> argument parameter you can change the type of the chart to any other (bar chart, pie chart and etc.)\n<code>**Matplotlib libriary**<\/code> allows you to make any kind of chart customization. On the chart you can change almost anything, \nbut you need to go through documentation for the purpose you need and find necessary parameters. \n\nFor example the <code>**rot**<\/code> parameter is responsible for the slope of the labels on the x-axis and the <code>**figsize = (x, y)**<\/code>\nyou can resize you chart to any size.","bb5c62b1":"Also Plotly is best suitable solution for visualizing such data as market share, prices, segments, distributions and etc. Let's see on market share of game platforms, calculated by quantity of games released and its sales for the all time. The best suited graphs are bar chart or pie chart. I will plot a bar chart beacuse it is easily to read.","2cab608d":"# Visualization examples and codes\n## *Matplotlib review*","18641e4b":"Let's start with the simplest and often convenient way to visualize data from <code>**Pandas DataFrame**<\/code> the usage of the <code>**plot**<\/code> function. \nFor example let's create a **Sales** graph in different **Countries** by the **Year_of_release**. First of all let's filter out only the columns we need, then \ncalculate the total sales by year and then call the <code>**plot**<\/code> function without any arguments for the final dataframe.\n\nAnd I want to point out that <code>**Pandas Libriary**<\/code> already have wrapper for the <code>**Matplotlib Libriary**<\/code>","04201e5c":"Also what I really like in seaborn's libriary is **heatmap** diagrams. It is really powerfull and from this feature we can gain a lot of insights.\nUsing the heatmap we can see how for example Rates are varies from platform to platform. ","b2c56516":"So as you can see a seaborn is very powerfull libriary. Using this you can create any type of charts (box plots, histograms, line charts, distribution or correlation chart, scatter plot and etc.). If you want more examples you can read a documentation of every libriary. Links to the documentations I have placed in the beggining of this tutorial. \n\nAnd lastly I want to show you how to work in my favourite libriary called <code>**Plotly**<\/code>. It is a really powerfull libriary that I have ever seen among Python libriaries for visualization purposes. Let's see how it works and what kind of things you can possibly do using **Plotly**","f700df8d":"# *Plotly review* \n![](http:\/\/)Plotly is an open-source libriariy which allows to create different **interactive** charts. The advantage of interactive charts is that you can see any quantitative value by pointing a mouse cursor on the chart and increase or decrease a scale of the chart. Let's see how it works on practice!\n\n## I dont know why but Kaggle notebook do not appropriately show the Plotly output. If you want to see it simply download this notebook. Sorry.","d23f886a":"In <code>**Plotly**<\/code> the visualization is constructed by the Figure object, which consists from data (an array of lines, called **traces**) and from design \/ style for which the layout object is responsible. In simple cases you can call the <code>**iplot**<\/code> function and just plot the data from its **traces**. Let see it on the example:","7a8fc1fd":"So this is it. I wanted to show you how you can use different libriaries on visualization process and gain a powerfull insights from it. It is your choice which of you should use, but the best of them is Plotly libriary which I use on daily basis. Besides this if you want to be real expert there are d3.js libriary for JavaScript. It is also very powerfull and using it you can create a lot of different charts in different manner. \n\nHope that this tutorial will help you in future. \nThank you!\n\nP.S. If you found grammar mistakes in my English, sorry. I didn't have a practice for a long time.\n     Best to you all and thank you!","dc5a5d92":"# In this topic I would like to show you a different methods of visualisation and it's types.\n\nNot so long ago I had a conversation with a \"very good\" data scientist about visualizations and its usage in the projects. And he argued a lot that he can do anything without it and visualization process is a lack of time and does not deserve his attention. Hmmmm....\n\n**Is it really so? And do a data scientists need visualization at all?**\n\nI like to answer to this question with an example that was invented by the **talented mathematician Francis Encombe in 1973 year.** With this example, he wanted to show the importance of visualization for data analysis and the effect of data on statistical indicators. \n\nThe point is that he came up with several random samples that have the same statistical indicators.\n\n![random_samples.jpg](attachment:random_samples.jpg)","dde06e93":"# Nope!\n\n![1.jpg](attachment:1.jpg)\n\nAnd I found many of such examples where you can find a lot of funny examples https:\/\/www.autodeskresearch.com\/publications\/samestats\n\nSo from this point I will immerse you into the world of data visualization and show you with examples and what you should use (and what should not, but you can if you want). So let's go!"}}