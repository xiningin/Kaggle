{"cell_type":{"aff72b47":"code","95656429":"code","dd00bffa":"code","48b86c2f":"code","69690b10":"code","29cc73c4":"code","5dde88eb":"code","cc79b279":"code","c97b39fb":"code","e5cd3951":"code","2ba4785e":"code","1266f48f":"code","f23f32f2":"code","2bded774":"code","8e51f983":"code","530bdc4a":"code","691ccb22":"code","0a14a721":"code","c2fe3a5c":"code","6c9573fa":"code","b7f58f4e":"code","e5d41144":"code","76c21831":"code","80e48407":"code","bbe01b01":"markdown","c5f3bf0f":"markdown","763fee38":"markdown","3582284d":"markdown"},"source":{"aff72b47":"import spacy\nnlp = spacy.load('en_core_web_sm')","95656429":"doc = nlp(u\"The quick brown fox jumped over the lazy dog's back.\")","dd00bffa":"doc.text","48b86c2f":"for tokens in doc:\n    print(f'{tokens.text:{8}} {tokens.pos_:{5}} {spacy.explain(tokens.pos_):{12}}')","69690b10":"# POS = coarse part of speech\n# tag = fine part of speech","29cc73c4":"POS_counts = doc.count_by(spacy.attrs.POS)\nprint(POS_counts)","5dde88eb":"doc.vocab[84].text","cc79b279":"for i,c in POS_counts.items():\n    print(f'{i:{3}}  {doc.vocab[i].text:{5}} {c:{3}}')","c97b39fb":"def show_ent(doc):\n    if doc.ents:\n        for ent in doc.ents:\n            print(f'{ent.text:{25}} - {ent.label_:{5}} - {spacy.explain(ent.label_)}')\n    else:\n        print('No name entity')","e5cd3951":"show_ent(doc)","2ba4785e":"doc1 = nlp(u'May I go to Washington, DC next May to see the Washington Monument?')","1266f48f":"show_ent(doc1)","f23f32f2":"doc2 = nlp(u'Tesla to build a U.K. factory for $6 million')\n\nshow_ent(doc2)","2bded774":"from spacy.tokens import Span\n\nORG = doc.vocab.strings['ORG']\n#print(ORG)\nnew_ent = Span(doc2, 0, 1, label = ORG)\n\ndoc2.ents = list(doc2.ents) + [new_ent]","8e51f983":"show_ent(doc2)","530bdc4a":"doc3 = nlp(u'Our company plans to introduce a new vacuum cleaner. '\n          u'If successful, the vacuum-cleaner will be our first product.'\n         u'These days everyone needs a vacuumcleaner.')\n          #u'Vacuum Cleaner is must because everyone is busy.'\n          #u'We will introduce Vacuum cLeaner this May')","691ccb22":"# I was unable to do the same with last 2 sentences.","0a14a721":"show_ent(doc3)","c2fe3a5c":"# Adding name entity\nfrom spacy.matcher import Matcher\nmatcher = Matcher(nlp.vocab)","6c9573fa":"pattern1 = [{'LOWER': 'vacuum'}, {'IS_PUNCT': True, 'OP':'*'}, {'LOWER': 'cleaner'}]\npattern2 = [{'LOWER': 'vacuumcleaner'}]\n#matcher.remove('VacuumCleaner')\nmatcher.add('Vacuum', [pattern1, pattern2])","b7f58f4e":"found = matcher(doc3)\nfound","e5d41144":"for match in found:\n    print(match[1], match[2])","76c21831":"from spacy.tokens import Span\n\nproduct = doc3.vocab.strings[u'PRODUCT']\n\nnew_ent1 = [Span(doc3, match[1], match[2], label = product) for match in found]\n\ndoc3.ents = list(doc3.ents) + new_ent1","80e48407":"show_ent(doc3)","bbe01b01":"### Counting POS","c5f3bf0f":"### Adding entities","763fee38":"## NER","3582284d":"#### Here it is not recognising the 'Tesla' as an entity."}}