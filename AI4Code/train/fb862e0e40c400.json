{"cell_type":{"a49eb3fc":"code","40aadc7a":"code","3a0ad079":"code","db0ac5d3":"code","f4013d39":"code","e675e4af":"code","e32b7441":"code","cfe11e13":"code","bd41f16d":"code","2a60b173":"code","8bff598e":"code","a37539a9":"code","5d90d0f4":"code","f5014b54":"code","9bf1b3a7":"code","3e1f768a":"code","b97ce729":"code","4372ea35":"code","671a320f":"code","24372870":"markdown","1b1eb4f6":"markdown","37d9c373":"markdown","d3293105":"markdown","168fcfaf":"markdown","76af18e7":"markdown","b2435bf8":"markdown"},"source":{"a49eb3fc":"import os\nimport numpy as np\nimport pandas as pd\nimport random\nimport folium\nfrom folium import plugins\nimport seaborn as sns\nimport cv2\nimport matplotlib.pyplot as plt\nimport IPython\nimport time\nimport plotly.express as px","40aadc7a":"data0=pd.read_csv('..\/input\/earthquake-in-japan\/haiti_20210814_query.csv')\ndata0[data0['mag']==7.2]","3a0ad079":"print(data0.columns.tolist())","db0ac5d3":"data0=data0.fillna('N')\ndata1=data0[['time','latitude','longitude','depth','mag',]]\ndata1[0:5]","f4013d39":"data2=pd.DataFrame(columns=data1.columns.tolist())\nfor i,item in enumerate(data1['time']):\n    if item[0:4]=='2021':\n        data2=pd.concat([data2,data1.loc[i:i]])\ndata2=data2.sort_values(['time']).reset_index(drop=True)        ","e675e4af":"from datetime import datetime as dt\ndata2a=data2.copy()\ndate=[]\nfor item in data2['time']:\n    date+=[dt.strptime(item[0:-5],'%Y-%m-%dT%H:%M:%S')]\ndata2a['date']=date\ndata2a","e32b7441":"#!rm *","cfe11e13":"# start=dt.strptime('2021-07-01T00:00:00','%Y-%m-%dT%H:%M:%S')\n# end=dt.strptime('2021-08-01T00:00:00','%Y-%m-%dT%H:%M:%S')","bd41f16d":"data4=data2a[data2a['longitude']<-68][data2a['longitude']>-78][data2a['latitude']>13][data2a['latitude']<23]\ndata4=data4.reset_index(drop=True)\ndata4","2a60b173":"import plotly.express as px\nfig=px.scatter(x=data4['date'],y=data4['mag'])\nfig=px.scatter(data4, x=\"date\", y=\"mag\")\nfig.update_layout(title='Magnituide of earthquake around Haiti in 2021')\nfig.show()","8bff598e":"!rm *","a37539a9":"data5=data4[['latitude','longitude',]]\nfor i in range(len(data4)):\n    item=data4.loc[i:i,'time'].tolist()[0][0:-5]\n    eq_map = folium.Map(location=[18,-73],tiles='Stamen Terrain',zoom_start=6.0,min_zoom=2.0)\n    eq_map.add_child(plugins.HeatMap(data5.loc[i:i]))\n    eq_map.save(\".\/\"+str(item)+\".html\")","5d90d0f4":"N=list(range(len(data4)))","f5014b54":"eq_map = folium.Map(location=[18,-73],tiles='Stamen Terrain',zoom_start=6.0,min_zoom=2.0)\neq_map.add_child(plugins.HeatMap(data5.loc[N]))\neq_map","9bf1b3a7":"data4[data4['mag']>4.4]","3e1f768a":"paths0=[]\nimport os\nfor dirname, _, filenames in os.walk('.\/'):\n    for filename in filenames:\n        if filename[-5:]=='.html':\n            paths0+=[os.path.join(dirname, filename)]","b97ce729":"order=[]\nfor item in paths0:\n    order+=[item[:-5].split('\/')[-1]]\npaths1=pd.DataFrame(paths0)\npaths1[1]=order\npaths1.columns=['path','int']\npaths1=paths1.sort_values('int')\npaths2=paths1['path'].tolist()","4372ea35":"htmls=[]\nfor item in paths2:\n    htmls+=[\"<iframe width='600' height='400' src='\" +item+ \"' frameborder='0'><\/iframe>\"]","671a320f":"print(data4.iloc[1:2,3:6])\nIPython.display.HTML(htmls[12])","24372870":"# Focused Region\n* -78 < **Longitude** < -68 \n* 13 < **Latitude** < 23","1b1eb4f6":"# **Haiti was hit by a magnitude 7.2 earthquake on 2021-08-14**\n* The island of Hispaniola, shared by Haiti and the Dominican Republic, is seismically active and has a history of destructive earthquakes. In 2010, a magnitude 7.0 earthquake occurred about 100 km east from here. [(Wikipedia)](https:\/\/en.wikipedia.org\/wiki\/2010_Haiti_earthquake)","37d9c373":"### Datasource\n* The data was acquired through [the USGS Earthquake Catalog](https:\/\/earthquake.usgs.gov\/earthquakes\/search\/)\n* cf. [\"Notebook of The 2011 Tohoku Earthquake\"](https:\/\/www.kaggle.com\/stpeteishii\/2011-tohoku-earthquake-on-march-11)","d3293105":"<img src=\"https:\/\/www.aljazeera.com\/wp-content\/uploads\/2021\/08\/2021-08-15T020705Z_1173683348_RC2E5P9KWO4T_RTRMADP_3_HAITI-QUAKE.jpg?resize=770%2C513\" width=\"100%\">","168fcfaf":"## ","76af18e7":"##  After the event, aftershoks were detected many times, while no signs before the event.","b2435bf8":"## One week before the event, no erathquake was detected around Haiti. Two or three weeks before, several warthquake occurred sporadically more than 200 km east."}}