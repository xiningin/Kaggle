{"cell_type":{"5f5b84f8":"code","ceafe7de":"code","15f378fe":"code","b88e5169":"code","2e8e384c":"code","c41d628f":"code","1fb5fc41":"code","b2213a2a":"code","f83e3677":"code","d6c2fcd7":"code","20a7cfd5":"code","86866878":"code","5d069c31":"code","00cf2192":"code","676da613":"code","0c5fdbb2":"code","b9e1e545":"markdown","ccfb44e0":"markdown","7d105395":"markdown","ade7c51f":"markdown","b79a78ea":"markdown","3b4a1b28":"markdown","ef626eb5":"markdown","12cabff4":"markdown","748cc9b5":"markdown","9b01546b":"markdown","b3dcb306":"markdown"},"source":{"5f5b84f8":"import numpy as np \nimport pandas as pd \nfrom fbprophet import Prophet\n\n%matplotlib inline","ceafe7de":"df = pd.read_csv(\"..\/input\/avocado.csv\")","15f378fe":"df.head()","b88e5169":"df.groupby('type').groups","2e8e384c":"PREDICTION_TYPE = 'conventional'\ndf = df[df.type == PREDICTION_TYPE]","c41d628f":"df['Date'] = pd.to_datetime(df['Date'])","1fb5fc41":"regions = df.groupby(df.region)\nprint(\"Total regions :\", len(regions))\nprint(\"-------------\")\nfor name, group in regions:\n    print(name, \" : \", len(group))","b2213a2a":"PREDICTING_FOR = \"TotalUS\"","f83e3677":"date_price = regions.get_group(PREDICTING_FOR)[['Date', 'AveragePrice']].reset_index(drop=True)","d6c2fcd7":"date_price.plot(x='Date', y='AveragePrice', kind=\"line\")","20a7cfd5":"date_price = date_price.rename(columns={'Date':'ds', 'AveragePrice':'y'})","86866878":"m = Prophet()\nm.fit(date_price)","5d069c31":"future = m.make_future_dataframe(periods=365)\nforecast = m.predict(future)","00cf2192":"forecast.tail()","676da613":"fig1 = m.plot(forecast)","0c5fdbb2":"fig2 = m.plot_components(forecast)","b9e1e545":"Creating & fitting a model. All of the code here is further explained on prophet[ quick start page](https:\/\/facebook.github.io\/prophet\/docs\/quick_start.html).","ccfb44e0":"Let's check how many distinct regions column region includes and how many entries each region has.","7d105395":"Thanks for reading my notebook.","ade7c51f":"Each one of the regions has exactly 169 entries. The next step is to choose a region, for which we would like to predict future prices.","b79a78ea":"As we can see we have a column describing type of a avocado, what are these types?","3b4a1b28":"After we have loaded our libraries and data, we shall continue by converting Date column of our DataFrame to pandas readable type.  ","ef626eb5":"**Hi, in this notebook I would like to look at the avocado data and by using fbprophet library predict future prices. **","12cabff4":"After loading our data let's inspect it a little bit. ","748cc9b5":"We got two types of avocados - conventional and organic, I have chosen the conventional ones to make predictions for. ","9b01546b":"Here we can see how components of the model affect our predictions. ","b3dcb306":"Rename dataframe for fbprophet lib."}}