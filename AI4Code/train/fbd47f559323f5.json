{"cell_type":{"b1235b28":"code","f6f154f2":"code","5538f815":"code","69173e09":"code","41a87004":"code","9e0a68ea":"code","91415b16":"code","87046ebd":"code","99f949ca":"code","4bf9c26d":"code","7e4d65f6":"code","d894dda6":"code","af2911f7":"code","6a83f75c":"code","4e728875":"code","d9afcb71":"code","ca704644":"code","589f07aa":"code","18b1f256":"code","1bf69bba":"code","1fa8e7ab":"code","3e6306a8":"code","de8bbafd":"markdown","e4ff1c15":"markdown","eae638dc":"markdown","8a5668bd":"markdown","993e08f7":"markdown","43fea63e":"markdown","4fb82a86":"markdown","c72d7bea":"markdown","99dfa8b6":"markdown","a85ca616":"markdown","425304b9":"markdown","10eecff6":"markdown","020233dc":"markdown","79e46b4c":"markdown","9bf5c4e0":"markdown","ec0d482a":"markdown"},"source":{"b1235b28":"\n# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# plotly\nimport plotly.plotly as py\nfrom plotly.offline import init_notebook_mode, iplot\ninit_notebook_mode(connected=True)\nimport plotly.graph_objs as go\n\n# word cloud library\nfrom wordcloud import WordCloud\n\n# matplotlib\nimport matplotlib.pyplot as plt\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","f6f154f2":"\ntimesData = pd.read_csv(\"..\/input\/timesData.csv\")","5538f815":"\ntimesData.info()","69173e09":"timesData.head(10)","41a87004":"df = timesData.iloc[:100,:]\n\n# import graph objects as \"go\"\nimport plotly.graph_objs as go\n\n# Creating trace1\ntrace1 = go.Scatter(\n                    x = df.world_rank,\n                    y = df.citations,\n                    mode = \"lines+markers\",\n                    name = \"citations\",\n                    marker = dict(color = 'rgba(16, 112, 2, 0.8)'),\n                    text= df.university_name)\n# Creating trace2\ntrace2 = go.Scatter(\n                    x = df.world_rank,\n                    y = df.teaching,\n                    mode = \"markers+lines\",\n                    name = \"teaching\",\n                    marker = dict(color = 'rgba(90, 26, 80, 0.8)'),\n                    text= df.university_name)\ndata = [trace1, trace2]\nlayout = dict(title = 'Citation and Teaching vs World Rank of Top 100 Universities',\n              xaxis= dict(title= 'World Rank',ticklen= 3,zeroline= True)\n             )\nfig = dict(data = data, layout = layout)\niplot(fig)","9e0a68ea":"timesData.head()","91415b16":"df2014 = timesData[timesData.year == 2014].iloc[:100,:]\ndf2015 = timesData[timesData.year == 2015].iloc[:100,:]\ndf2016 = timesData[timesData.year == 2016].iloc[:100,:]\nimport plotly.graph_objs as go\n\ntrace1 =go.Scatter(\n                    x = df2014.world_rank,\n                    y = df2014.citations,\n                    mode = \"markers\",\n                    name = \"2014\",\n                    marker = dict(color = 'rgba(1, 140, 10, 0.9)'),\n                    text= df2014.university_name)\n                   \ntrace2 =go.Scatter(\n                    x = df2015.world_rank,\n                    y = df2015.citations,\n                    mode = \"markers\",\n                    name = \"2015\",\n                    marker = dict(color = 'rgba(10, 240, 52, 0.8)'),\n                    text= df2015.university_name)\n\ntrace3 =go.Scatter(\n                    x = df2016.world_rank,\n                    y = df2016.citations,\n                    mode = \"markers\",\n                    name = \"2016\",\n                    marker = dict(color = 'rgba(2, 182, 130, 0.7)'),\n                    text= df2016.university_name)\ndata =[trace1,trace2,trace3]\n\nlayout = dict(title=\"Citation and Teaching vs World Rank of Top 100 Universities with 2014 ,2015 and 2016 years\",\n                        xaxis = dict(title =\"world_rank\", ticklen = 4,zeroline =True),\n                        yaxis = dict(title= \"citations\",ticklen = 4,zeroline =True)                        \n             )\nfig =dict(data = data, layout = layout)\niplot(fig)\n","87046ebd":"df2014 = timesData[timesData.year == 2014].iloc[:50,:]\ndf2015 = timesData[timesData.year == 2015].iloc[:50,:]\ndf2016 = timesData[timesData.year == 2016].iloc[:50,:]\nimport plotly.graph_objs as go\n\ntrace1 =go.Scatter(\n                    x = df2014.world_rank,\n                    y = df2014.total_score,\n                    mode = \"markers\",\n                    name = \"2014\",\n                    marker = dict(color = 'rgba(1, 140, 10, 0.9)'),\n                    text= df2014.university_name)\n                   \ntrace2 =go.Scatter(\n                    x = df2015.world_rank,\n                    y = df2015.total_score,\n                    mode = \"markers\",\n                    name = \"2015\",\n                    marker = dict(color = 'rgba(10, 240, 52, 0.8)'),\n                    text= df2015.university_name)\n\ntrace3 =go.Scatter(\n                    x = df2016.world_rank,\n                    y = df2016.total_score,\n                    mode = \"markers\",\n                    name = \"2016\",\n                    marker = dict(color = 'rgba(2, 182, 130, 0.7)'),\n                    text= df2016.university_name)\ndata =[trace1,trace2,trace3]\n\nlayout = dict(title=\"Citation and Teaching vs World Rank of Top 100 Universities with 2014 ,2015 and 2016 years\",\n                        xaxis = dict(title =\"world_rank\", ticklen = 4,zeroline =True),\n                        yaxis = dict(title= \"citations\",ticklen = 4,zeroline =True)                        \n             )\nfig =dict(data = data, layout = layout)\niplot(fig)\n","99f949ca":"df2014 = timesData[timesData.year == 2014].iloc[: 3,:]\ndf2014","4bf9c26d":"df2014 = timesData[timesData.year == 2014].iloc[: 3,:]\n\nimport plotly.graph_objs as go\n\ntrace1 =go.Bar(\n               \n                x = df2014.university_name,\n                y = df2014.citations,\n                 name =\"citations\",\n                 marker = dict(color='rgba(180,220,190,0.5)', line =dict(color='rgb(0,1,1)', width =1.5)),\n                text = df2014.country)\n\n\ntrace2 =go.Bar(\n               \n                x = df2014.university_name,\n                y = df2014.teaching,\n                name =\"teaching\",\n                marker = dict(color='rgba(220,80,10,0.5)', line =dict(color='rgb(0.5,0.5,0.5)', width =1.5)),\n                text = df2014.country)\ndata =[trace1,trace2]\nlayout =go.Layout(barmode= \"group\")\n\nfig =go.Figure(data=data,layout=layout)\niplot(fig)\n\n\n\n\n","7e4d65f6":"df2015.head(3)","d894dda6":"df2014 =timesData[timesData.year==2015].iloc[: 3,:]\n\nimport plotly.graph_objs as go\n\ntrace1 = go.Bar(\n                  \n                 x = timesData.university_name,\n                 y =timesData.num_students,\n                name = \"num_students\",\n              \n                marker = dict(color =\"rgba(255,10,15,0.5)\", line  =dict(color =\"rgb(100,50,0)\", width =5)),\n                text =timesData.country\n                 )\n\ntrace2 = go.Bar(\n                  \n                 x = timesData.university_name,\n                 y =timesData.international_students,\n                name = \"international_students\",\n          \n                marker = dict(color =\"rgba(10,80,250,0.8)\", line  =dict(color =\"rgb(10,5,200)\", width =5)),\n                text =timesData.country)\n\ndata = [trace1,trace2]\n\nlayuot = go.Layout(barmode=\"group\")\n\nfig =dict(data=data, layout=layout)\niplot(fig)\n","af2911f7":"import plotly.graph_objs as go\ndf2016 = timesData[timesData.year == 2016].iloc[: 7,:]\npie1 =df2016.num_students\npie1_list = [float(each.replace(\",\",\".\")) for each in  df2016.num_students]\nlabels = df2016.university_name\n\nfig = {\n    \"data\": [\n        {\n            \"values\":pie1_list,\n            \"labels\":labels,\n            \"domain\":{\"x\": [0, .5]},\n            \"name\":\"Number of .students Rates\",\n            \"hoverinfo\": \"label + percent+ name\",\n            \"hole\": .3,\n            \"type\":\"pie\"\n        },        \n    ],\n   \"layout\": {\n       \"title\": \"University Number of Students Rates\",\n       \"annotations\":[{\n            \"font\":{\"size\":20},\n           \"showarrow\":False,\n           \"text\":\"Number of Students\",\n           \"x\":.20,\n           \"y\":1\n       },\n          \n       ]\n   }\n    \n    \n}\niplot(fig)\n\n","6a83f75c":"\ndf2016 = timesData[timesData.year == 2016].iloc[:20,:]\nnum_students_size  = [float(each.replace(',', '.')) for each in df2016.num_students]\ninternational_color = [float(each) for each in df2016.international]\ndata = [\n    {\n        'y': df2016.teaching,\n        'x': df2016.world_rank,\n        'mode': 'markers',\n        'marker': {\n            'color': international_color,\n            'size': num_students_size,\n            'showscale': True\n        },\n        \"text\" :  df2016.university_name    \n    }\n]\niplot(data)\n\n\n\n","4e728875":"x2011 =timesData.student_staff_ratio[timesData.year == 2011]\nx2012 =timesData.student_staff_ratio[timesData.year == 2012]\n\ntrace1 = go.Histogram(\n\n    x=x2011,\n    name =\"2011\",\n    marker =dict(color =\"rgba(178,56,25,0.6)\"),\n    opacity= 0.65)\ntrace2 = go.Histogram(\n    x = x2012,\n    name =\"2012\",\n    marker =dict(color =\"rgba(20,155,23,0.6)\"), \n    opacity =0.65)\ndata =[trace1,trace2]\n\nlayout =go.Layout(barmode=\"overlay\",\n                 \n                  title=\"students staff ration in 2011 and 2012\",\n                  xaxis =dict(title=\"Student Staff Ratio\"),\n                  yaxis = dict(title=\"count\"),)\n\nfig = go.Figure(data=data,layout=layout)\niplot(fig)\n\n\n","d9afcb71":"from wordcloud import WordCloud\nx2016 = timesData.country[timesData.year == 2016]\nplt.subplots(figsize=(10,10))\nwordcloud = WordCloud(\n                          background_color=\"pink\",\n                          width=500,\n                          height=400\n                         ).generate(\" \".join(x2016))\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.savefig('graph.png')\n\nplt.show()\n\n","ca704644":"\nx2016 = timesData[timesData.year== 2016]\n\ntrace0 = go.Box(\n               y = x2016.total_score,\n               name = \"total score of universities in 2016\",\n               marker=dict(color=\"rgba(23,43,150,0.6)\",\n                          )            \n              )\ntrace2 =go.Box(   \n              y =x2016.research,\n              name = \"research of universities in 2016\",\n               marker= dict(color=\"rgba(200,87,67,0.6)\",\n                           )  \n                  )\n\ndata =[trace0,trace2]\niplot(data)\n\n\n","589f07aa":"df.head(1)\n","18b1f256":"import plotly.figure_factory as ff\n\ndf = timesData[timesData.year == 2016]\ndt2016 = df.loc[:,[\"research\",\"international\",\"total_score\"]]\ndt2016[\"index\"] =np.arange(1, len(dt2016)+1)\n\nfig = ff.create_scatterplotmatrix(dt2016, diag=\"box\",index=\"index\", colormap=\"Portland\",\n                            colormap_type =\"cat\",\n                            height = 700, width= 700\n                           )\niplot(fig)\n\n\n","1bf69bba":"\ntrace3 =go.Scatter(\n     x =df.world_rank,\n     y =df.teaching,\n     name = \"teaching\",\n     marker =dict(color =\"rgba(200,150,10,0.6)\")\n    \n)\n\ntrace4 =go.Scatter(\n                x= df.world_rank,\n                y =df.income,\n                marker = dict(color=\"rgba(100,250,255,0.6)\"),\n                name =\"income\",\n                xaxis =\"x2\",\n                yaxis = \"y2\",)\ndata = [trace3,trace4]\n\nlayout =go.Layout(\n            xaxis2= dict(\n            domain =[0.7, 0.98], anchor =\"y2\",\n                       ),\n            yaxis2 =dict(\n                       domain =[0.7,0.98], anchor =\"x2\"\n                   \n            ),\n            title =\"income and teaching vs in world rank of universities\",\n)\nfig =go.Figure(data=data, layout=layout)\niplot(fig)\n\n\n","1fa8e7ab":"trace0 = go.Scatter3d(\n    x =df.world_rank,\n    y =df.research,\n    z= df.citations,\n    mode = \"markers\",\n    marker = dict(\n                  size =10,\n                  color = \"rgb(255,0 ,0)\"\n                \n                 \n        \n                 )\n\n)\n\ndata = [trace0]\nlayout =go.Layout(\n   \n    margin = dict(l =0,r=0, b=0,t=0)\n    \n \n)\nfig = go.Figure( data = data, layout = layout)\niplot(fig)\n\n\n\n\n\n\n\n\n\n\n\n\n","3e6306a8":"trace1 = go.Scatter(\n    x= df.world_rank,\n    y = df.research,\n    name =\"research\"\n\n)\ntrace3 = go.Scatter(\n    x = df.world_rank,\n    y = df.income,\n    name = \"income\",\n    xaxis = \"x3\",\n    yaxis = \"y3\"\n\n)\ntrace4 = go.Scatter(\n    x = df.world_rank,\n    y = df.total_score,\n    name = \"total_score\",\n    xaxis = \"x4\",\n    yaxis = \"y4\"\n\n)\ndata =[trace1,trace3,trace4]\n\nlayout = go.Layout(\n\n    xaxis =dict( domain =[0, 0.45]),\n    yaxis =dict( domain =[0, 0.45]),\n    xaxis3 =dict(domain =[0,0.45], anchor =\"y3\"),\n    xaxis4 =dict(domain =[0.55, 1], anchor =\"y4\"),\n    \n   \n    yaxis3 = dict(domain =[0.55,1], anchor =\"x3\"),\n    yaxis4 = dict(domain =[0,0.45], anchor =\"x4\"),\n    \n    title =\"Research, income and total score VS World Rank of Universities\"\n)\nfig = go.Figure(data=data, layout=layout)\niplot(fig)\n\n\n","de8bbafd":"**Histogram**","e4ff1c15":"**line plot**","eae638dc":"**3D Scatter Plot**","8a5668bd":"**Bar Chart **","993e08f7":"**Inset Plot**","43fea63e":"**Scatter**","4fb82a86":"**Box Plot**","c72d7bea":"**Pie Charts**","99dfa8b6":"**Multiple Subplot**","a85ca616":"**real score points**","425304b9":"# INTRODUCTION\n* In this kernel, we will learn how to use plotly library.\n    * Plotly library: Plotly's Python graphing library makes interactive, publication-quality graphs online. Examples of how to make line plots, scatter plots, area charts, bar charts, error bars, box plots, histograms, heatmaps, subplots, multiple-axes, polar charts, and bubble charts.\n\n<br>Content:\n1. [Loading Data and Explanation of Features](#1)\n1. [Line Charts](#2)\n1. [Scatter Charts](#3)\n1. [Bar Charts](#4)\n1. [Pie Charts](#5)\n1. [Bubble Charts](#6)\n1. [Histogram](#7)\n1. [Word Cloud](#8)\n1. [Box Plot](#9)\n1. [Scatter Plot Matrix](#10)\n1. Map Plots: https:\/\/www.kaggle.com\/kanncaa1\/time-series-prediction-with-eda-of-world-war-2\n1. Data Visualization\n    1. Seaborn: https:\/\/www.kaggle.com\/kanncaa1\/seaborn-for-beginners\n    1. Bokeh 1: https:\/\/www.kaggle.com\/kanncaa1\/interactive-bokeh-tutorial-part-1\n    1. Bokeh 2: https:\/\/www.kaggle.com\/kanncaa1\/interactive-bokeh-tutorial-part-\n    1. Rare Visualization: https:\/\/www.kaggle.com\/kanncaa1\/rare-visualization-tools\n1. [Inset Plots](#11)\n1. [3D Scatter Plot with Colorscaling](#12)\n1. [Multiple Subplots](#13)\n1. Earthquake Animation: https:\/\/www.kaggle.com\/kanncaa1\/earthquake-animation-with-plotly\n\n","10eecff6":"**Bubble charts**","020233dc":"**Scater Plot Matrix**","79e46b4c":"**Number sutudent and international student rate**","9bf5c4e0":"\n**Word Cloud**","ec0d482a":"<a id=\"1\"><\/a> <br>\n# Loading Data and Explanation of Features\n<font color='red'>\n* timesData includes 14 features that are:\n    <font color='black'>\n    * world_rank             \n    * university_name       \n    * country               \n    * teaching                \n    * international            \n    * research                 \n    * citations                \n    * income                   \n    * total_score              \n    * num_students             \n    * student_staff_ratio      \n    * international_students   \n    * female_male_ratio        \n    * year "}}