{"cell_type":{"b47916a2":"code","4cc4f216":"code","d07ede0f":"code","492e9692":"code","3b3da49c":"code","29f85d42":"code","7abfc6bb":"code","76dda4d9":"code","975aa67c":"code","3b89b975":"code","337dd58b":"code","4aa92fbd":"code","a604942f":"code","d848b68a":"code","3b398e37":"code","56d165e2":"code","437dca73":"code","c0b40411":"code","19138613":"code","9b2b5147":"code","f83849ef":"code","8bf77b9e":"code","c03e5cd6":"code","93edbd78":"code","f300fa0f":"markdown","75f0b903":"markdown","bc8addb5":"markdown","b4619599":"markdown","52653a98":"markdown","bc13eb3f":"markdown","5868851b":"markdown","95636480":"markdown","229aec9d":"markdown","c86afc7c":"markdown","6b86b4cb":"markdown","12ea08f1":"markdown","476e278d":"markdown","e1668273":"markdown","a5418251":"markdown","64292fbd":"markdown","e98c7976":"markdown","ae5091c4":"markdown","0a160b10":"markdown","183c5bf1":"markdown","1807821d":"markdown","c9590e26":"markdown","4beea311":"markdown","861bd210":"markdown","ea29c4b7":"markdown"},"source":{"b47916a2":"#This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.express as px\nimport pandas_profiling as pp\nimport requests\nimport warnings\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\npd.options.mode.chained_assignment = None  # default='warn'\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n%matplotlib inline\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\npalette = ['#F5DF4D', '#939597', '#0F4C81', '#FF6F61', '#5F4B8B', '#88B04B', '#92A8D1', '#F7CAC9', '#955251',\\\n           '#B163A3', '#009473']\npalette.reverse()\nwarnings.filterwarnings('ignore')\n%matplotlib inline\nprint(os.listdir(\"..\/input\"))\n%matplotlib inline\n!pip install mplcyberpunk\nimport plotly.graph_objects as go\nfrom plotly.subplots import make_subplots\npalette = ['#F5DF4D', '#939597', '#0F4C81', '#FF6F61', '#5F4B8B', '#88B04B', '#92A8D1', '#F7CAC9', '#955251',\\\n           '#B163A3', '#009473']\npalette.reverse()\n# You can write up to 20GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current sessione current session","4cc4f216":"df = pd.read_csv('\/kaggle\/input\/chocolate-bar-ratings\/flavors_of_cacao.csv')\ndf.head()","d07ede0f":"df.info()","492e9692":"df.describe()","3b3da49c":"pp.ProfileReport(df)","29f85d42":"%matplotlib inline\n\nfrom subprocess import check_output\nfrom wordcloud import WordCloud, STOPWORDS\nimport matplotlib as mpl\n#mpl.rcParams['figure.figsize']=(8.0,6.0)    #(6.0,4.0)\nmpl.rcParams['font.size']=12                #10 \nmpl.rcParams['savefig.dpi']=100             #72 \nmpl.rcParams['figure.subplot.bottom']=.1 \n\n\nstopwords = set(STOPWORDS)\ndata = df\n\nwordcloud = WordCloud(\n                          background_color='black',\n                          stopwords=stopwords,\n                          max_words=200,\n                          max_font_size=40, \n                          random_state=42\n                         ).generate(str(df))\n\nprint(wordcloud)\nfig = plt.figure(1)\nplt.imshow(wordcloud)\nplt.axis('off')\nplt.show()\nfig.savefig(\"word1.png\", dpi=900)","7abfc6bb":"!pip install mplcyberpunk","76dda4d9":"df.drop(['REF'], axis=1, inplace=True)","975aa67c":"df.head()","3b89b975":"df.columns = ['Company', 'SpecificOrigin','date', 'CocoaPercent', 'Location', 'Rating', 'BeanType', 'BroadOrigin']","337dd58b":"df['CocoaPercent'] = list(map(lambda x: x[:-1], df['CocoaPercent'].values))","4aa92fbd":"df = pd.DataFrame(df)","a604942f":"df['CocoaPercent'] = [float(x) for x in df['CocoaPercent'].values]","d848b68a":"!pip install mplcyberpunk","3b398e37":"import mplcyberpunk","56d165e2":"bm=df\nbm= bm.groupby('Company')['Company'].count()\nbm= pd.DataFrame(bm)\nbm.columns = ['Rating']\nbm.sort_values(by=['Rating'], inplace=True, ascending=False)\nbm=bm.head(5)\nplt.style.use(\"cyberpunk\")\nbm.plot.bar()\n","437dca73":"model_count=df\nax2= px.treemap(model_count,path=[\"Location\"],title=\"Location of the manufacturer:\")\nax2.show()","c0b40411":"import geopandas as gpd\nimport sklearn\ncountry_data = list(df['Location'].unique())\ncountry_data","19138613":"model_buys1=df\nmodel_buys1= df[df.Company == \"Fresco\"]\nmodel_buys1=model_buys1[[\"date\",\"Rating\"]].groupby('date').mean()\nprint(model_buys1.head(20))\nmodel_buys1.sort_values(by=['date'], inplace=True, ascending=False)\nmodel_buys1 = model_buys1.head(10)","9b2b5147":"model_buys3=df\nmodel_buys3= df[df.Company == \"Soma\"]\nmodel_buys3=model_buys3[[\"date\",\"Rating\"]].groupby('date').mean()\nprint(model_buys3.head(20))\nmodel_buys3.sort_values(by=['date'], inplace=True, ascending=False)\nmodel_buys3 = model_buys3.head(10)","f83849ef":"model_buys4=df\nmodel_buys4= df[df.Company == \"Pralus\"]\nmodel_buys4=model_buys4[[\"date\",\"Rating\"]].groupby('date').mean()\nprint(model_buys4.head(20))\nmodel_buys4.sort_values(by=['date'], inplace=True, ascending=False)\nmodel_buys4 = model_buys4.head(10)","8bf77b9e":"model_buys2=df\nmodel_buys2= df[df.Company == \"Bonnat\"]\nmodel_buys2=model_buys2[[\"date\",\"Rating\"]].groupby('date').mean()\nprint(model_buys2.head(20))\nmodel_buys2.sort_values(by=['date'], inplace=True, ascending=False)\nmodel_buys2 = model_buys2.head(10)\n\n\n","c03e5cd6":"fig, ((ax1, ax2),(ax3,ax4)) = plt.subplots(2, 2, figsize=(12,12))\nsns.heatmap(model_buys1, ax=ax1)\nsns.heatmap(model_buys2, ax=ax2)\nsns.heatmap(model_buys3, ax=ax3)\nsns.heatmap(model_buys4, ax=ax4)\nplt.show()","93edbd78":"gry=df\ncountries= gry.groupby('Location')['Location'].count()\ncountries = pd.DataFrame(countries)\ncountries.columns = ['Buys']\ncountries.sort_values(by=['Buys'], inplace=True, ascending=False)\n\ncountries = countries.head(10)\nprint(countries.head(20))\nplt.style.use(\"cyberpunk\")\ncountries.plot.bar()","f300fa0f":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:60%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nClasification of the biggest sources of choclates <\/h1>\n<\/div>\n<a id=2.5><\/a>\n\n#### [Back to the top](#0)","75f0b903":"fig = make_subplots(rows=2, cols=2)\nfig.add_trace(go.Scatter(x=model_buys2['date'], y=model_buys2['Rating'], name=\"Ferrari\"),row=1, col=1)","bc8addb5":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:50%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\ud83d\udca8 What is included:<\/h1>\n<\/div>","b4619599":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:40%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nIn this part you will be able to see visualisation of the most importnat parts from the EDA performed in the first part with the use of Pandas Profiling. These will be important in next parts of the analyse<\/h1>\n<\/div><a id=1.2><\/a>","52653a98":"<a id=2.1><\/a><div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:40%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nLet's visualize the countries on the map <\/h1>\n<\/div><a id=2.3><\/a>","bc13eb3f":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:60%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nLet's show the word map \ud83d\udcca<\/h1>\n<\/div>","5868851b":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:110%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\ud83c\udf6b Choclate Bar preliminary analysis<\/h1>\n<\/div><a id=1><\/a>\n\n\n#### [Back to the top](#0)","95636480":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:60%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nClasification of the biggest sources of choclates <\/h1>\n<\/div>\n<a id=2.5><\/a>\n\n#### [Back to the top](#0)","229aec9d":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:110%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\ud83c\udf6b Let's dive into data<\/h1>\n<\/div><a id=2><\/a>\n\n\n#### [Back to the top](#0)","c86afc7c":"![](https:\/\/gifimage.net\/wp-content\/uploads\/2017\/10\/chocolate-gif-animado-13.gif)","6b86b4cb":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:60%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nSimple Profiling & EDA using Pandas Profiling \ud83d\udcca<\/h1>\n<\/div><a id=1.2><\/a>","12ea08f1":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:110%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>EDA: \ud83c\udf6b Chocolate Bar Ratings Analysis & Statistic<\/h1>\n<\/div>","476e278d":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:60%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nChecking biggest bar manufacturers: \ud83d\udcca<\/h1>\n<\/div><a id=2.1><\/a>","e1668273":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:40%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nAs we can see the biggest choclate companies are not getting better with their ratings during next years, what we can think after the analyze is that they main goal is not to have the best product but to have the biggest income with avaregare rating  <\/h1>\n<\/div>","a5418251":"ideas:\nCocoa Percent \/ Rating\n\nBean origin \/ Rating\n\nBean Type \/ Rating\n\nCompany Location \/ Rating\n\n","64292fbd":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:60%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nRatings of each producers: \ud83d\udcca<\/h1>\n<\/div><a id=2.4><\/a>\n\n#### [Back to the top](#0)","e98c7976":"<a id=0><\/a>\n#  [1. Choclate Bar preliminary analysis](#1)\n   [1.1 Importing the data:](#1.1)\n   \n   [1.2 Preliminary data check](#1.1)\n   \n   [1.3 Simple Profiling & EDA using Pandas Profiling:](#1.2)\n   \n #  [2. Let's slowly dive into data](#2)\n   [2.1 Checking biggest bar manufacturers:](#2.1)\n   \n   [2.2 Checking country of origin](#2.2)\n   \n   [2.3 Visualization on the maps](#2.3)\n   \n   [2.4 Ratings of each producers](#2.4)\n   \n   [2.5 Clasification of the biggest sources of choclates](#2.5)\n   \n   [2.6 Statistics of the ratings](#2.6)\n   \n   [2.7 Checking the bean types](#2.7)\n   \n   [2.8 Checking Cocoa procantages](#2.8)\n   \n #  [3. Statistical examination for data corelations](#3)\n   \n   [3.1 What are the biggest](#3.1)\n   \n #  [4. Ratings overall analysys](#3)\n   \n   [4.1 Final examination](#4.1)\n   \n   [4.2 Final examination](#4.2)\n   \n>\n\n","ae5091c4":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:40%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nHere I would like to show the average ratings for the biggest producers for last years <\/h1>\n<\/div>","0a160b10":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:40%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nHere I would like to show top choclate manufacturers countries <\/h1>\n<\/div>","183c5bf1":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:40%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nThe last things that we need to do is to delete the \"%\" sign from the Cocoa Percent column, and change the data type to floating <\/h1>\n<\/div>","1807821d":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:60%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nChecking country of origin: \ud83d\udcca<\/h1>\n<\/div><a id=2.1><\/a>","c9590e26":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:60%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>Importing data, simple preliminary analysis \ud83d\udcca<\/h1>\n<\/div><a id=1.1><\/a>","4beea311":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:40%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nI am deleting not important columns for my analyse<\/h1>\n<\/div>","861bd210":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:40%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nAs we can see the biggest choclate manufacturing countries are placed in the U.S.A, France and Canada. It is somehow amazing that the Switzerland that people are assuming is the biggest producer and a place with choclate traditions.  <\/h1>\n<\/div>","ea29c4b7":"<div style=\"color:white;\n           padding:8px 10px 0 10px;\n           display:inline-block;\n           border-radius:4px;\n           background-color:#AF6E4D;\n           font-size:40%;\n           font-family:Verdana\">\n    <h1 style='color:white;'>\nChaning the column names for an easier use in the future<\/h1>\n<\/div>"}}