{"cell_type":{"c9916d64":"code","261aae62":"code","2574f62a":"code","54dc7075":"code","62d7e99d":"code","30f3c925":"code","2e2b718f":"code","753f438c":"code","463cb98d":"code","bb00678b":"code","fdcf1e2a":"code","994a2063":"code","bf684d0e":"code","22b709f3":"code","e56c7f4b":"code","1e5eec64":"code","4ff68741":"code","2fe1268f":"code","d7a03043":"code","38188162":"code","47277959":"code","0c181cb0":"code","4f777425":"code","eecc37fc":"code","7eef5bc8":"code","011a090e":"code","85514a77":"code","ea494eea":"code","2e0ade94":"code","c597777d":"code","f76d3939":"code","8dfe4306":"code","6987562e":"code","2fe79fad":"code","641ac5ab":"code","84b110f7":"code","0376b0da":"markdown","b632b9a4":"markdown","277c976e":"markdown","a4d7711f":"markdown","fcea6bda":"markdown","87aa4454":"markdown","e1f4e88c":"markdown","2fcc5b00":"markdown","7ba07550":"markdown"},"source":{"c9916d64":"## FOXCONN \u673a\u5668\u5b66\u4e60\u7b2c\u4e8c\u6b21\u4f5c\u4e1a\n```\n1.\u4f7f\u7528titanic \u6570\u636e\u96c6\u8fdb\u884c\u673a\u5668\u5b66\u4e60\u7ec3\u4e60\n2.\u8981\u6709\u7b80\u6d01\u7684\u601d\u8def\u6ce8\u89e3\n3.\u53ef\u89c6\u5316\u5c55\u793a\n```","261aae62":"#\u5bfc\u5165\u4f7f\u7528\u7684\u5e38\u7528\u6a21\u5757\nimport numpy as np\nimport pandas as pd\nimport matplotlib,matplotlib.pyplot as plt\nimport seaborn as sb\nmatplotlib.style.use('ggplot')","2574f62a":"# \u8bfb\u53d6\u6570\u636e,\u6570\u636e\u6765\u6e90\u6709\u4e09\u4e2a\u6863\u3002\n# 1.train (2).csv\u4e3a\u8bad\u7ec3\u6570\u636e\u96c6\uff1b2.test (2).csv\u4e3a\u6d4b\u8bd5\u6570\u636e\u96c6\uff0c3.gender_submission.csv\u4e3a\u6d4b\u8bd5\u6807\u7b7e\u6570\u636e\u96c6\n\ndf_passenger=pd.read_csv(r\"D:\\Foxconn_Machine_Learning_2019\\data\\titanic\\gender_submission.csv\")\ndf_train=pd.read_csv(r\"D:\\Foxconn_Machine_Learning_2019\\data\\titanic\\train (2).csv\")\ndf_test=pd.read_csv(r\"D:\\Foxconn_Machine_Learning_2019\\data\\titanic\\test (2).csv\")","54dc7075":"#\u67e5\u770b\u6d4b\u8bd5\u6807\u7b7e\u6570\u636e\nprint(df_passenger.shape)\nprint(df_passenger.head(2))\n#\u67e5\u5355\u6709\u65e0\u7f3a\u5931\u503c\ndf_passenger.isna().sum()\n#\u67e5\u770b\u6709\u65e0\u91cd\u590d\u503c\ndf_passenger.duplicated().sum()\nplt.figure(figsize=(10,4))\nplt.scatter(df_passenger.iloc[:,0],df_passenger.iloc[:,1],c='green',s=10,alpha=0.8)\nplt.xlabel('PassengerId')\nplt.ylabel('Survived')\nplt.annotate(xy=[900,0.5],s='Result: PassengerId has no relationship with Survived',fontsize=19,color='darkblue')","62d7e99d":"#\u67e5\u770b\u8bad\u7ec3\u6570\u636e\ndf_train.head(3)","30f3c925":"print(df_train.shape)\nprint(df_train.duplicated().sum())\ndf_train.isnull().sum()","2e2b718f":"#\u5bf9\u8bad\u7ec3\u6570\u636e\u8fdb\u884c\u6570\u636e\u5904\u7406,['Age']\u680f\u4f4d\u7f3a\u5931177\u4e2a\u503c\uff0c['Cabin']\u680f\u4f4d\u7f3a\u5931687\u4e2a\u680f\u4f4d\uff0c['Embarked']\u680f\u4f4d\u7f3a\u59312\u4e2a\u503c\n# \u901a\u8fc7\u5e38\u7406\uff0c\u53bb\u6389\u4e0e['Survived']\u65e0\u5173\u8054\u7684\u7279\u5f81\u5217\ndf_train=df_train.drop(['Name','Ticket','Cabin','Embarked'],axis=1)","753f438c":"df_train.head(2)","463cb98d":"#\u4ee5\u4e2d\u4f4d\u6570\u6765\u586b\u5145['Age']\u680f\u4f4d\u7684\u7f3a\u5931\u503c\ndf_train.Age=df_train['Age'].fillna(df_train['Age'].median())\ndf_train.isnull().sum()","bb00678b":"#\u770b\u770b\u6027\u522b\u4e0e\u751f\u8fd8\u7684\u5173\u7cfb\nsurvived=df_train[df_train['Survived']==1]\nsurvived_female=survived[survived['Sex']=='female']\n#\u751f\u8fd8\u4eba\u5458\u4e2d\u5973\u6027\u7684\u603b\u6570\nsurvived_female_total=survived_female.count()[0]\nsurvived_male=survived[survived['Sex']=='male']\n#\u751f\u8fd8\u4eba\u5458\u4e2d\u7537\u6027\u7684\u603b\u6570\nsurvived_male_total=survived_male.count()[0]\nplt.pie([survived_female_total,survived_male_total],labels=['female','male'],explode=[0.1,0],autopct='%.2f%%',startangle=0,shadow=True)\nplt.gcf().set_size_inches((6,6))\nplt.text(-1,1.5,'\\u00a9 The survival rate of female is much higher than that of male',fontsize=20,color='darkblue')\nplt.show()","fdcf1e2a":"#\u770b\u770b\u5e74\u9f84\u4e0e\u751f\u8fd8\u7684\u5173\u7cfb\ndead=df_train[df_train['Survived']==0]\ndead.head()\nfig,ax=plt.subplots(figsize=(6,6))\nax.scatter(survived.Survived.values,survived.Age.values,c='g')\nax.scatter(dead.Survived.values,dead.Age.values,c='r')\nax.set(xlabel='Survived',ylabel='Age')\nplt.show()","994a2063":"#\u770b\u770b\u751f\u8fd8\u4eba\u5458\u4e2d\u7684\u5e74\u9f84\u00b7\u7968\u4ef7\u548c\u6b7b\u4ea1\u4eba\u5458\u4e2d\u7684\u5e74\u9f84\u00b7\u7968\u4ef7\u7684\u6563\u70b9\u5206\u5e03\nplt.figure(figsize=(10,6))\nplt.scatter(survived['Age'],survived['Fare'],c='g',s=50,alpha=0.6,label='Survived')\nplt.scatter(dead['Age'],dead['Fare'],c='r',s=50,alpha=0.6,label='Dead')\nplt.legend(loc='best')\nplt.axes().set(xlabel='Age',ylabel='Fare')\nplt.show()","bf684d0e":"df_train.head(3)","22b709f3":"#\u5c06\u2018sex\u2019\u680f\u4f4d\u5b57\u4e32\u6570\u503c\u8f6c\u6362\u4e3a\u7f16\u7801\nfemale=df_train['Sex'].replace('female',1)\nfemale=female.replace('male',0)\nmale=df_train['Sex'].replace('male',1)\nmale=male.replace('female',0)\ndf_train['Female']=female\ndf_train['Male']=male\ndf_train.drop('Sex',axis=1,inplace=True)\ndf_train.head()","e56c7f4b":"#\u5206\u5272\u8bad\u7ec3\u6570\u636e\nx_train=df_train.ix[:,[0,2,3,4,5,6,7,8]]\ny_train=df_train['Survived']","1e5eec64":"#\u5206\u5272\u6d4b\u8bd5\u6570\u636e\ndf_test.head()","4ff68741":"female_test=df_test['Sex'].replace('female',1)\nfemale_test=female.replace('male',0)\nmale_test=df_test['Sex'].replace('male',1)\nmale_test=male_test.replace('female',0)\ndf_test['Female']=female\ndf_test['Male']=male\ndf_test.head()","2fe1268f":"#\u5c06\u6d4b\u8bd5\u96c6\u63d0\u53d6\u4e3a\u4e0e\u8bad\u7ec3\u96c6\u7279\u5f81\u680f\u4f4d\u76f8\u540c\u7684\u5217\ncol=x_train.columns\ndf_test=df_test.ix[:,col]\ndf_test.head()\nx_test=df_test\nx_test.head()","d7a03043":"x_test.duplicated().sum()\nx_test.isnull().sum()","38188162":"x_test['Age']=x_test['Age'].fillna(x_test['Age'].median())\nx_test['Fare']=x_test['Fare'].fillna(x_test['Fare'].median())\nx_test.isna().sum()","47277959":"#\u63d0\u53d6\u6d4b\u8bd5\u6570\u636ey_test\ndf_passenger.head()","0c181cb0":"y_test=df_passenger['Survived']\ny_test.head()\ny_test.isnull().sum()","4f777425":"print(x_train.shape,y_train.shape,x_test.shape,y_test.shape)","eecc37fc":"#\u4f7f\u7528Linear Regression\nfrom sklearn.linear_model import LinearRegression\nlr_model=LinearRegression()\nlr_model.fit(x_train,y_train)\ny_predict=lr_model.predict(x_test)","7eef5bc8":"from sklearn.metrics import mean_squared_error,r2_score\nprint(\"coefficient:\\n\",lr_model.coef_,'\\n','-'*80)\nprint(\"MSE:\\n\",mean_squared_error(y_test,y_predict),'\\n','-'*80)\nprint(\"varience score:\\n\",r2_score(y_test,y_predict))","011a090e":"plt.bar(np.arange(8),lr_model.coef_)\nplt.ylabel(\"coefficient\")","85514a77":"from sklearn.svm import SVC\nsvm_model=SVC(kernel='linear')\nsvm_model.fit(x_train,y_train)\ny_predict=svm_model.predict(x_test)\ny_predict","ea494eea":"from sklearn.metrics import accuracy_score,confusion_matrix\naccuracy_score(y_test,y_predict)","2e0ade94":"cm=confusion_matrix(y_test,y_predict)\nfig=plt.figure(figsize=(6,6))\nsb.heatmap(cm,annot=True,cmap='cool')","c597777d":"from sklearn.ensemble import RandomForestClassifier\nrfc_model=RandomForestClassifier(n_estimators=50)\nrfc_model.fit(x_train,y_train)\ny_predict=rfc_model.predict(x_test)\ny_predict","f76d3939":"accuracy_score(y_test,y_predict)","8dfe4306":"from sklearn.cluster import KMeans\nkm_model=KMeans(n_clusters=2)\nkm_model.fit(x_test)\nclass_labels=km_model.labels_","6987562e":"x_test['class_labels']=class_labels\nx_test.head()","2fe79fad":"sb.scatterplot(x_test.Age,x_test.Fare,hue=x_test.class_labels)\nplt.gcf().set_size_inches((8,5))","641ac5ab":"from mpl_toolkits import mplot3d\nfig=plt.axes(projection='3d')\nfig.scatter3D(x_test.Age,x_test.Fare,x_test.class_labels,color='b',s=200,alpha=0.4)\nfig.view_init(30,45)\nplt.gcf().set_size_inches((8,6))\nfig.set(xlabel='Age',ylabel='Fare',zlabel='survived or dead')\nplt.show()","84b110f7":"import os \nos.getcwd()","0376b0da":"### Using KMeans Model\n","b632b9a4":"## \u6e05\u6d17\uff0c\u5206\u5272\uff0c\u63d0\u53d6\u6d4b\u8bd5\u6570\u636e x_test","277c976e":"### Using Linear Regression Model","a4d7711f":"## \u6e05\u6d17\uff0c\u5206\u5272\uff0c\u63d0\u53d6\u8bad\u7ec3\u6570\u636e x_train,y_train","fcea6bda":"### Using Random Forest Classifier Model","87aa4454":"## \u63d0\u53d6\u6d4b\u8bd5\u6570\u636e y_test","e1f4e88c":"## SCIKIT LEARN\n```\n1.\u9009\u62e9\u6a21\u578b\n2.\u8bad\u7ec3\u6a21\u578b\n3.\u9884\u6d4b\u76ee\u6807\u503c\n5.\u9884\u6d4b\u7ed3\u679c\u5f97\u5206\n6.\u4f18\u5316\u6a21\u578b\n```","2fcc5b00":"### Using SVM Model\n","7ba07550":"## \u6570\u636e\u63a2\u7d22\u4e0e\u9884\u5904\u7406\n```\n\u67e5\u770b\u6570\u636e\u5f62\u72b6\uff0c\u57fa\u672c\u63cf\u8ff0\uff0c\u7f3a\u5931\u503c\uff0c\u91cd\u590d\u503c\uff0c\u7136\u540e\u8fdb\u884c\u5904\u7406\n```"}}