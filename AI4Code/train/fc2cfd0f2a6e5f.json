{"cell_type":{"349b09cd":"code","17f92173":"code","7c975dc0":"code","ecfed88e":"code","1d0797d0":"code","68b8c3ea":"code","37c87066":"code","0bc8ec97":"code","e7949978":"markdown","c6a91b5b":"markdown","5d351dfa":"markdown"},"source":{"349b09cd":"# Install Kumoko\n!git clone https:\/\/hav4ik:110b7ca1668c49b11a027e3adc755ca88928b308@github.com\/hav4ik\/rock-paper-scissors.git\n!pip install rock-paper-scissors\/\n\n# Making wheel packages and store in submission folder\n!mkdir \/kaggle_simulations\/agent\n!cd rock-paper-scissors; python setup.py bdist_wheel -d \/kaggle_simulations\/agent\/","17f92173":"%%writefile \/kaggle_simulations\/agent\/main.py\n# start executing cells from here to rewrite submission.py\n\nimport sys\nimport subprocess\nimport pkg_resources\n\nrequired = {'kumoko'}\ninstalled = {pkg.key for pkg in pkg_resources.working_set}\nmissing = required - installed\n\ndef install(package):\n    subprocess.check_call([sys.executable, \"-m\", \"pip\", \"install\", package])\n\nif missing:\n    install('\/kaggle_simulations\/agent\/kumoko-0.1.0-py3-none-any.whl')","7c975dc0":"%%writefile -a \/kaggle_simulations\/agent\/main.py\n# \"%%writefile -a submission.py\" will append the code below to submission.py,\n# it WILL NOT rewrite submission.py\n\nfrom kumoko.agent import KumokoAgent\nfrom kumoko.ensembles import ENSEMBLES\nfrom kumoko.scoring import SCORINGS\n\nglobal kumoko_agent\nkumoko_agent = KumokoAgent(\n      ensemble_cls=ENSEMBLES['8_strats_v1a'],\n      scoring_cls=SCORINGS['risk_mng_v1'],\n      use_meta=False,\n      fuck_you_thresh=None,\n      action_choice='best',\n      verbose=True)\n\ndef agent(obs, cfg):\n  global kumoko_agent\n  return kumoko_agent(obs, cfg)","ecfed88e":"from kaggle_environments import make\nenv = make(\"rps\", configuration={\"episodeSteps\": 100}, debug = True)\n\nenv.reset()\nenv.run([\"\/kaggle_simulations\/agent\/main.py\", \"reactionary\"])\nenv.render(mode=\"ipython\", width=550, height=500)","1d0797d0":"# Prepare a submision package containing trained model and the main execution logic.\n!cd \/kaggle_simulations\/agent && tar -czvf \/kaggle\/working\/submit.tar.gz main.py kumoko-0.1.0-py3-none-any.whl","68b8c3ea":"!cd rock-paper-scissors; python dojo.py full -m \\\n    --ensemble 8_strats_v1a \\\n    --scoring 'static_wnd_v1' \\\n    --use_meta \\\n    --action_choice vote5","37c87066":"%%writefile rock-paper-scissors\/custom_dojo.yaml\n\n- name: 4_strats_v1a\n  kwargs:\n    ensemble_cls: 4_strats_v1a\n    scoring_cls: std_dllu_v1\n    metameta_scoring: std_dllu_v1\n    use_meta: true\n    fu_thresh: null\n    action_choice: best\n\n- name: 4_strats_v2b\n  kwargs:\n    ensemble_cls: 4_strats_v2b\n    scoring_cls: std_dllu_v1\n    metameta_scoring: std_dllu_v1\n    use_meta: true\n    fu_thresh: null\n    action_choice: vote\n\n- name: 7_strats_v1a\n  kwargs:\n    ensemble_cls: 7_strats_v1a\n    scoring_cls: std_dllu_v1\n    metameta_scoring: std_dllu_v1\n    use_meta: false\n    fu_thresh: null\n    action_choice: best\n\n- name: 5_strats_v2b\n  kwargs:\n    ensemble_cls: 5_strats_v2b\n    scoring_cls: std_dllu_v1\n    metameta_scoring: std_dllu_v1\n    use_meta: true\n    fu_thresh: null\n    action_choice: best","0bc8ec97":"!cd rock-paper-scissors; python dojo.py \\\n    custom_dojo.yaml -m \\\n    --ensemble 8_strats_v1a \\\n    --scoring 'static_wnd_v1' \\\n    --use_meta \\\n    --action_choice vote5","e7949978":"# Kumoko","c6a91b5b":"# Testing","5d351dfa":"# Evaluate against other agents"}}