{"cell_type":{"a39e6098":"code","284b2b2e":"code","6c25e9c2":"code","dd623ca5":"code","62b8a42b":"code","cbbc8088":"code","7e32d45c":"code","ada7e7b1":"code","87689302":"code","c29f6bac":"code","a8da881e":"code","a5f92eb4":"code","aa33f757":"code","a3de8840":"code","7206f088":"code","74bca484":"code","850a9d96":"code","5a6f7298":"code","e75bb597":"code","d9c72e44":"code","56232f06":"code","85c9f251":"code","185459f7":"code","026c2d28":"code","983da4da":"code","b4792c6f":"code","39428f62":"code","a54edd77":"code","51078df7":"code","f0cb22b3":"markdown","54350f8d":"markdown","2968a54a":"markdown","5d3fbf9a":"markdown","2a045529":"markdown","e4f310cb":"markdown","e88def6c":"markdown","fc614ca3":"markdown","5456d1ed":"markdown","1cd23c02":"markdown","710b4b59":"markdown","7010648b":"markdown","a45da0f4":"markdown","fbebc219":"markdown","2f0c1517":"markdown","18ff696b":"markdown","0f034321":"markdown","2f0998c5":"markdown","c14f0754":"markdown","d2ad8a76":"markdown","1bf31a34":"markdown","067cff02":"markdown","62c3db59":"markdown","80a5afb4":"markdown","bc5f31bb":"markdown"},"source":{"a39e6098":"import numpy as np \nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\nimport os\nprint(os.listdir(\"..\/input\"))\n","284b2b2e":"# Reading the given data\ndf = pd.read_csv('..\/input\/911.csv')\n#displaying the head of the data\ndf.head()","6c25e9c2":"#checking the data info\ndf.info()","dd623ca5":"df['twp'].value_counts().head(5)","62b8a42b":"df['zip'].value_counts().head(5)","cbbc8088":"df['title'].value_counts().head(5)","7e32d45c":"#number of unique reasons['title'] for calling 911\ndf['title'].nunique()","ada7e7b1":"df['reasons']=df['title'].apply(lambda title: title.split(':')[0])\n","87689302":"df['reasons'].value_counts()","c29f6bac":"sns.countplot(x=df['reasons'],data=df)\nplt.show()","a8da881e":"#checking the data type of the column timeStamps\ntype(df['timeStamp'].iloc[0])","a5f92eb4":"#in order to further manipulate the data lets convert the timeStamp form str to DataTime objects\ndf['timeStamp']=pd.to_datetime(df['timeStamp'])","aa33f757":"df['Hour']=df['timeStamp'].apply(lambda time: time.hour)\ndf['Month']=df['timeStamp'].apply(lambda time: time.month)\ndf['Day of Week']=df['timeStamp'].apply(lambda time: time.dayofweek)","a3de8840":"df['Day of Week'].unique()","7206f088":"# creating the dictionary\ndmap={0:'Monday',1:'Tuesday',2:'Wednesday',3:'Thursday',4:'Friday',5:'Saturday',6:'Sunday'}\n# Changing the day of the week column to have proper strings\ndf['Day of Week']=df['Day of Week'].map(dmap)","74bca484":"#making sure that the changes took place\ndf['Day of Week'].unique()","850a9d96":"sns.countplot(x=df['Day of Week'], data=df,hue='reasons')\nplt.legend(bbox_to_anchor=(1.05,1),loc=(2),borderaxespad=0.)\nplt.show()","5a6f7298":"sns.countplot(x=df['Month'], data=df,hue='reasons')\nplt.legend(bbox_to_anchor=(1.05,1),loc=(2),borderaxespad=0.)\nplt.show()","e75bb597":"df['Date']=df['timeStamp'].apply(lambda t: t.date())","d9c72e44":"df.groupby('Date').count()['twp'].plot()\nplt.tight_layout()","56232f06":"df[df['reasons']=='Traffic'].groupby('Date').count()['twp'].plot()\nplt.title('Traffic')\nplt.tight_layout()","85c9f251":"df[df['reasons']=='EMS'].groupby('Date').count()['twp'].plot()\nplt.title('EMS')\nplt.tight_layout()","185459f7":"df[df['reasons']=='Fire'].groupby('Date').count()['twp'].plot()\nplt.title('Fire')\nplt.tight_layout()","026c2d28":"dayHour=df.groupby(by=['Day of Week','Hour']).count()['reasons'].unstack()\ndayHour.head()","983da4da":"sns.heatmap(dayHour,cmap='YlGnBu').set_title('HeatMap for dayHour')\nplt.show()","b4792c6f":"sns.clustermap(dayHour,cmap='mako').fig.suptitle('ClusterMap for dayHour')\nplt.show()","39428f62":"dayMonth=df.groupby(by=['Day of Week','Month']).count()['reasons'].unstack()\ndayMonth.head()","a54edd77":"sns.heatmap(dayMonth,cmap='mako').set_title('HeatMap for dayMonth')\nplt.show()","51078df7":"sns.clustermap(dayMonth,cmap='mako').fig.suptitle('ClusterMap for dayMonth')\nplt.show()","f0cb22b3":"Now lets create new columns in order to know the exact hour, month and day of the week of the 911 calls using timeStamp column","54350f8d":"Lets use seaborn to create a countplot for the Day of Week based on reasons for the 911 calls","2968a54a":"How Fire affected 911 calls on particular dates","5d3fbf9a":"Lets see the heatmap for dayHour","2a045529":"Lets do the same with months instead of day of the week","e4f310cb":"Number of unique reasons['title'] for calling 911","e88def6c":"Lets see a clustermap for dayMonth","fc614ca3":"How traffic affected 911 calls on particular dates","5456d1ed":"We can see how day of week is in integer data type, 0-6 but we can have string names for the day of the week by creating a dictionary and assigning each value to it","1cd23c02":"Checking the top 5 Townships(twp) that call 911 ","710b4b59":"Checking the top 5 zip codes that call 911","7010648b":"Lets see a clustermap for dayHour","a45da0f4":"Now lets Focus on the time information","fbebc219":"Top 5 reasons['title'] for calling 911 ","2f0c1517":"Now that we have a column for date we use this data in order to represent how different reasons affected the 911 calls on different dates","18ff696b":"Each title has a particular reson for which 911 was called and they are:- EMS:, Fire: and traffic:. Lets create a specific column for these resons","0f034321":"To everyone looking at this Kernel, \nI am new to Python and this is my first project on Kaggle. I have choosen this dataset in order to make sure that I understand the conepts that I have learnt recently. ","2f0998c5":"Lets see the heatmap for dayMonth","c14f0754":"Lets compare the above results as countplot using seaborn","d2ad8a76":"Now see which reason leads to  the most 911 calls","1bf31a34":"Now lets make Heat Map in order to better represent the given data, but in order to do so we will have to manipulate the data in order to have the index as days of the week and the columns to be the hours. ","067cff02":"911 calls according to date","62c3db59":"Lets create heatmaps to have months as columns and index as days of the week","80a5afb4":"How EMS affected 911 calls on particular dates","bc5f31bb":"Lets create a new date column from timeStamp in order to get better perspective of when the 911 calls were made"}}