{"cell_type":{"eb9aa3a4":"code","56b356f9":"code","3d879e5e":"code","6c89e638":"code","2c83b9fd":"code","b4721d8e":"code","e29622c2":"code","ae51eef4":"code","58b336c3":"code","237ea85d":"code","22669541":"code","f2f4cbfc":"code","4af06444":"code","c617f83e":"code","590ba0b0":"code","f3982e7b":"code","7300e52c":"code","25526df2":"code","6344c74b":"code","8bf0ce8f":"code","7a132a56":"code","e4157c89":"code","870aef8c":"code","5c6da84d":"code","764cafcf":"code","1435a7b2":"code","f01b5369":"code","b0714dd8":"code","41b41cf1":"code","347a1468":"code","3535e64a":"code","393b87d2":"markdown","8f96022d":"markdown","6e209db7":"markdown","e216bf2f":"markdown","421d8b79":"markdown","9ff61f83":"markdown","3e2d949f":"markdown","e7b21413":"markdown","5b43db63":"markdown","4304c553":"markdown","cdadbaf3":"markdown","f8b881b5":"markdown"},"source":{"eb9aa3a4":"import numpy as np\nimport pandas as pd\nfrom matplotlib import pyplot as plt\nimport missingno as msno\nimport seaborn as sns\nfrom fbprophet import Prophet\nfrom wordcloud import WordCloud, STOPWORDS\n%matplotlib inline","56b356f9":"! pip install bar_chart_race\nimport bar_chart_race as bcr","3d879e5e":"data = pd.read_csv('..\/input\/windows-store\/msft.csv', parse_dates=['Date'])\ndata.dropna(inplace=True)\ndata.tail()","6c89e638":"data.columns","2c83b9fd":"msno.matrix(data, figsize=(15, 3), fontsize=10)\nplt.title('Missing Value Check')\nplt.show()","b4721d8e":"df = data.groupby([data.Date.dt.strftime('%Y-%m'), 'Category']).size().unstack().fillna(0).cumsum()\ndf.set_index(pd.to_datetime(df.index), inplace=True)\n\ndef summary(values, ranks):\n    total_apps = values.sum()\n    s = f'Total APPS - {total_apps:,.0f}'\n    return {'x': .92, 'y': .05, 's': s, 'ha': 'right', 'size': 8}\n\n\nbcr.bar_chart_race(df,\n                   title='Category Count Race',\n                   steps_per_period=10,\n                   period_length=800,\n                   period_summary_func=summary,\n                   period_fmt='%b, %Y',\n                   interpolate_period=True,\n                   )","e29622c2":"data.groupby('Category').size().plot(kind='bar', title='Count Plot')\nplt.show()","ae51eef4":"data['Price_type'] = data.Price.apply(\n    lambda x: \"Free\" if x == \"Free\" else 'Paid')\ndf = data.Price_type.value_counts(normalize=True)*100\ndf.plot.pie(title='App Type',\n            autopct=lambda x: f\"{round(x, 1)}%\", figsize=(5, 5)).set(ylabel=\"\")\nplt.show()","58b336c3":"data.groupby(['Category', 'Price_type']).size().unstack().plot(\n    kind='bar', stacked=True, title=\"Count Plot\")\nplt.show()","237ea85d":"df = data.query('Price_type == \"Paid\"').reset_index()\ndf.Price = df.Price.str.split().apply(\n    lambda x: x[1].replace(\",\", \"\")).astype('float')\n\ndf.boxplot('Price', 'Category', rot=90, grid=True,  return_type='axes')\nplt.suptitle('')\nplt.show()","22669541":"sns.heatmap(df.loc[:, ['Rating', 'No of people Rated',\n                       'Price']].corr(),  cmap=\"YlGnBu\",  annot=True)\nplt.show()","f2f4cbfc":"fig, ax = plt.subplots(1, 2, figsize=(20, 5))\ndata.boxplot('Rating', 'Category', ax=ax[0], grid=False, rot=90)\ndata.boxplot('No of people Rated', 'Category', ax=ax[1], grid=False, rot=90)\nplt.show()","4af06444":"data['months'] = data.Date.dt.strftime(\"%m\")\n\ndata['date_num'] = data.Date.dt.strftime('%d')\n\ndata['day'] = data.Date.dt.strftime('%A')\n\ndata['year'] = data.Date.dt.strftime('%Y')","c617f83e":"data.year = data.year.astype('int')\ndata.months = data.months.astype('int')\ndata.date_num = data.date_num.astype('int')","590ba0b0":"data.query('year == 2020 and months > 6').months.value_counts().sort_index().cumsum().plot(title = 'Future Data').set(xlabel = \"2020's months\")\nplt.show()","f3982e7b":"sns.heatmap(data.loc[:, ['Rating', 'No of people Rated', 'year',\n                         'day', 'date_num', 'months']].corr(),  cmap=\"YlGnBu\",   annot=True)\nplt.show()","7300e52c":"data.groupby(['year', 'Price_type']).size().unstack().plot(\n    kind='line', figsize=(10, 5), title='Count ')\nplt.show()","25526df2":"data.query('Price_type == \"Free\"').groupby(['year', 'Category']).size(\n).unstack().plot(kind='line', figsize=(20, 30), subplots=True)\nplt.show()","6344c74b":"data.query('Price_type == \"Paid\"').groupby(['year', 'Category']).size(\n).unstack().plot(kind='line', figsize=(20, 6), subplots=True)\nplt.show()","8bf0ce8f":"df = data.sort_values(['Category', 'Date']).reset_index()\ndf[\"date_diff\"] = df.Date.diff() \/ np.timedelta64(1, 'D')\ndf.drop(df.query('date_diff < 0').index, inplace=True)","7a132a56":"fig, ax = plt.subplots(1, 2, figsize=(20, 5))\ndf.query('year > 2010').boxplot(\n    'date_diff', 'Category', ax=ax[0], rot=90)\n\ndf.query('year > 2010 and date_diff <40').boxplot(\n    'date_diff', 'Category', ax=ax[1], grid=False, rot=90)\n\nplt.title('Zoomed')\nplt.suptitle('Difference in days for new App')\nplt.show()","e4157c89":"data.day.value_counts().plot.bar(title='App Launch Day')\nplt.show()","870aef8c":"df = data.groupby(data.Date.dt.strftime('%Y-%m')).size()\ndf.plot(title = 'Time series of No. of app develop in a month')\nplt.show()\n\ndf = df.reset_index()\ndf.columns=[\"ds\",\"y\"]","5c6da84d":"model=Prophet()\nmodel.fit(df)\nfuture_dates=model.make_future_dataframe(periods=30,freq = 'M' )\nprediction=model.predict(future_dates)\nprediction.tail()","764cafcf":"fig1 = model.plot(prediction)","1435a7b2":"fig2 = model.plot_components(prediction)","f01b5369":"data.groupby(['Price_type']).agg({'No of people Rated': ['sum','count','mean', 'median']})","b0714dd8":"data.groupby(['Price_type', 'Rating']).agg({'No of people Rated': ['sum','count','mean', 'median']})","41b41cf1":"def wordcloudplot(category):\n    stopwords = set(STOPWORDS)\n    text = \" \".join(review for review in data[data.Category == category].Name.str.lower())\n    text = text.replace('by', \"\").replace('and', \"\")\n    print(f\"There are {len(text)} words in the combination of all {category} App Name.\")\n\n    wordcloud = WordCloud(width=800, height=800, background_color='white',max_words=150,prefer_horizontal=1,\n                          stopwords=stopwords, min_font_size=20).generate(text)\n    plt.imshow(wordcloud, interpolation='bilinear')\n    plt.axis(\"off\")\n    plt.title(f'WordCloud for {category} APP Name')\n    plt.tight_layout(pad=0)\n    plt.show()\n\n\ncategory = 'Music'\nwordcloudplot(category)","347a1468":"category = 'Books'\nwordcloudplot(category)","3535e64a":"category = 'Social'\nwordcloudplot(category)","393b87d2":"## People Rated","8f96022d":"NO strong Correlation between Rating, people rated and Price","6e209db7":"## Date","e216bf2f":"## Name","421d8b79":"According to trend the peak of app development in window store was in year 2017, after that it decreasing continuously","9ff61f83":"On an average people rated pretty much equal in both type of APP","3e2d949f":"At the end of 2021, there will be the end of app development in window store!!!!!!!!","e7b21413":"### prediction","5b43db63":"NO Missing Value","4304c553":"## CATEGORY","cdadbaf3":"If we compare 5.0 rating of Free and Paid App, average people rating is 100 higher","f8b881b5":"## Bar Char Race"}}