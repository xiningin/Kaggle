{"cell_type":{"91c9c57c":"code","cd363edf":"code","dd8c04cc":"markdown","1076a5e6":"markdown"},"source":{"91c9c57c":"# Env: https:\/\/github.com\/kaggle\/docker-python\nimport pandas as pd\n\ndf_marvel = pd.read_csv('..\/input\/marvel-wikia-data.csv')\ndf_dc = pd.read_csv('..\/input\/dc-wikia-data.csv')\n\n# Merge and clean up\ndf_marvel['src'] = 'marvel'\ndf_dc['src'] = 'dc'\n\ndf_dc['Year'] = df_dc['YEAR']\ndf_dc = df_dc.drop(columns=('YEAR'))\ndf_dc.head()\ndf_marvel.head()\n\ndf = df_marvel.append(df_dc, sort=False)\n\ndf.ALIVE = df.ALIVE == 'Living Characters'\ndf.EYE = df.EYE.str.split().str.get(0).astype('category')\ndf.HAIR = df.HAIR.str.split().str.get(0).astype('category')\ndf.HAIR = df.HAIR.str.replace('No', 'No hair (not bald)')\ndf.SEX = df.SEX.str.split().str.get(0).astype('category')\ndf.ALIGN = df.ALIGN.str.split().str.get(0).astype('category')\n\n# Drop things we don't need\ndf_hair = df.drop(columns=['name', 'urlslug',\n                 'page_id', 'Year',\n                 'ID', 'ALIGN',\n                 'APPEARANCES', 'GSM',\n                 'EYE', 'SEX',\n                 'FIRST APPEARANCE', 'src'])\n\ndf_alive = df_hair[df_hair.ALIVE]\n\n# Create a df for plotting\npdf = pd.DataFrame({'alive': df_alive.HAIR.value_counts(), 'total': df_hair.HAIR.value_counts()})\npdf.index.names = ['hair']\npdf.reset_index(inplace=True)\n\ntotal = pdf.sort_values('total', ascending=False) # for sorting the bars in the plot","cd363edf":"# Plot, plot and plot!\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nsns.set(style='whitegrid')\nf, ax = plt.subplots(figsize=(12, 5))\n\nsns.set_color_codes('pastel')\nsns.barplot(x='total', label='Total', y='hair', data=pdf, order=total['hair'].head(10), color='b')\n\nsns.set_color_codes('muted')\nsns.barplot(x='alive', label='Alive', y='hair', data=pdf, order=total['hair'].head(10), color='b')\n\nax.legend(ncol=2, loc='lower right', frameon=True)\nax.set(xlim=(0, 5400), ylabel=\"\",\n       xlabel=\"#of superheroes\")\nax.set_title('Top 10: #of alive superheroes by hair color', fontsize=20)\nsns.despine(left=True, bottom=True)\n","dd8c04cc":"**Q:** Are whitehaired super heroes older and therefore more likely to be dead?","1076a5e6":"Hello. \n\nThis is my first kernel ever. \n\nIt plots the number of alive superheroes from both DC and Marvel by hair color."}}