{"cell_type":{"07db3e83":"code","13e9ea12":"code","e1c378da":"code","d36f54fe":"code","a48fdd08":"code","d9f332a3":"code","3cc8bf94":"code","0f9d3a9f":"code","e476844a":"code","693d5270":"code","8f8946bc":"code","00f65b8a":"code","7975d52c":"code","b8e03ff9":"code","83a30c02":"code","eb00f1f2":"code","47a47c9a":"code","f6e543fa":"code","f070aeb8":"code","74f2914a":"code","df9be66e":"code","adebf5e0":"code","bdd4719a":"markdown","c0a8ba18":"markdown","a930cb5a":"markdown","28a47de3":"markdown","c9e1787f":"markdown","3e519e99":"markdown","982f2054":"markdown","614b44fd":"markdown","4afee541":"markdown","3280fb16":"markdown"},"source":{"07db3e83":"import pandas as pd\nfrom nltk import word_tokenize\nfrom tqdm.notebook import tqdm\nfrom sklearn import model_selection","13e9ea12":"class config:\n    TRAIN_CSV = \"..\/input\/student-shopee-code-league-sentiment-analysis\/train.csv\"\n    TEST_CSV = \"..\/input\/student-shopee-code-league-sentiment-analysis\/test.csv\"","e1c378da":"df_train = pd.read_csv(config.TRAIN_CSV)\ndf_test = pd.read_csv(config.TEST_CSV)","d36f54fe":"df_train.head()","a48fdd08":"df_test.head()","d9f332a3":"df_dup = df_train[df_train['review'].duplicated()]","3cc8bf94":"print(\"num duplicates\",df_dup.shape[0])","0f9d3a9f":"df_dup['checker'] = df_dup.apply(lambda x: str(x.review)+str(x.rating),axis=1)\nprint(df_dup['checker'].duplicated().sum(),'of duplicated reviews have the same rating')","e476844a":"df_train.drop_duplicates(subset='review',inplace=True)","693d5270":"count_df = df_train.groupby(['rating']).count()\ncount_df['percentage'] = 100 * count_df['review']  \/ count_df['review'].sum()\ncount_df","8f8946bc":"df_train['rating'].hist()","00f65b8a":"def count_len(text):\n    return len(word_tokenize(text))","7975d52c":"df_train['len'] = df_train['review'].apply(count_len)\ndf_test['len'] = df_test['review'].apply(count_len)","b8e03ff9":"df_train['len'].hist()","83a30c02":"df_test['len'].hist()","eb00f1f2":"def len_stats(df):\n    count_df = df.groupby(['len']).count()\n    count_df['len_percentage'] = 100 * count_df['review']  \/ count_df['review'].sum()\n    count_df['cumsum'] = count_df['len_percentage'].cumsum()\n    return count_df","47a47c9a":"df_train_len = len_stats(df_train)","f6e543fa":"df_test_len = len_stats(df_test)","f070aeb8":"df_train_len","74f2914a":"df_test_len","df9be66e":"df_train_len[df_train_len['cumsum']<=99.9]","adebf5e0":"df_test_len[df_test_len['cumsum']<=99.9]","bdd4719a":"# Check if ratings are the same for those with duplicated reviews\n## Lazy way of checking if someone got a better way tell me :)\n## Seems like most of the duplicated reviews have the same rating","c0a8ba18":"# Import stuff","a930cb5a":"# Length Statistics\n## This might help us decide where to truncate the max len for efficient training\n## Feel free to replace it with your own tokenizer.","28a47de3":"## This shows that to cover about 99.9% of the training\/test set we only need about 100 tokens.","c9e1787f":"# Rating statistics","3e519e99":"# Simple Exploratory Data Analysis","982f2054":"# Config","614b44fd":"# Check duplicates :( \nWhat is this shopee !!!!!!!!!!!!","4afee541":"# Since most duplicated reviews have the same rating we do not need to take average.","3280fb16":"# View samples"}}