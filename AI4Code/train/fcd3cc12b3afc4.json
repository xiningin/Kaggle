{"cell_type":{"35777582":"code","197891c6":"code","cf3a1133":"code","3f3b2c0a":"code","1e1140f2":"code","f045de13":"code","53303490":"markdown"},"source":{"35777582":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np","197891c6":"# Lendo o arquivo CSV - Aten\u00e7\u00e3o para o caminho do arquivo\n# Reading the CSV File - Attention to the file path\nfile_path = '..\/input\/did-it-rain-in-seattle-19482017\/seattleWeather_1948-2017.csv'\ndataset_seatle = pd.read_csv(file_path, \n                             sep = \",\")\n\ndataset_seatle.head()","cf3a1133":"# Removendo valores ausentes\n# Removing null values\ndataset_seatle.dropna(axis=0, how='any', inplace=True)\ndataset_seatle.head()","3f3b2c0a":"# Convertendo de graus F para graus C\n# Converting \u00b0F to \u00b0C\ndataset_seatle['TMAX'] = (dataset_seatle['TMAX'] - 32) * 5\/9\ndataset_seatle['TMIN'] = (dataset_seatle['TMAX'] - 32) * 5\/9\n\ndataset_seatle.head()","1e1140f2":"# Adicionando uma nova coluna 'Mes' contendo apenas o m\u00eas de cada data\n# Adding a new column 'Month' with only the month of each date\ndataset_seatle['Ano'] = pd.to_datetime(dataset_seatle['DATE'], format='%Y\/%m\/%d').dt.year\n\n# Obtendo a temperatura m\u00ednima registrada em cada ano\n# Obtaining the mininum temperature in each year\nminima_seatle = dataset_seatle.groupby('Ano')['TMIN'].min()\n\n# Obtendo a temperatura m\u00e1xima registrada em cada ano\n# Obtaining the maximum temperature in each year\nmaxima_seatle = dataset_seatle.groupby('Ano')['TMAX'].max()\n\n# Obtendo a temperatura m\u00e9dia em cada ano\n# Obtaining the average temperature in each year\nmedia_maxima_seatle = dataset_seatle.groupby('Ano')['TMAX'].mean()\nmedia_minima_seatle = dataset_seatle.groupby('Ano')['TMIN'].mean()\nmedia_seatle = (media_maxima_seatle+media_minima_seatle)\/2\n\n# Adicionando novas colunas com a m\u00ednima e m\u00e1xima temperatura registrada\n# Adding new columns with the minimun and maximun temperature\ndataset_seatle['Min_ano'] = dataset_seatle['Ano'].map(minima_seatle)\ndataset_seatle['Max_ano'] = dataset_seatle['Ano'].map(maxima_seatle)\ndataset_seatle['Med_ano'] = dataset_seatle['Ano'].map(media_seatle)\n\n# Verificando\n# Printing the head to see if everyting's allright\ndataset_seatle.head()","f045de13":"# Definindo tema do gr\u00e1fico e cores de fundo\n# Defining the theme and background colors\nsns.set_theme(style=\"whitegrid\",\n              font_scale = 1.5,\n              rc={'figure.facecolor':'silver', # Cor de fundo da figura\/ Background color of the figure \n                  'axes.facecolor':'whitesmoke'})  # Cor de fundo dos eixos\/ Background color of the axes\n\nsns.set_context(\"notebook\", font_scale = 1.5) # Setting the context to notebook\n\n# Criando uma figura, com tamanho 15x15\n# Creating a figure with 15x15 size\nplt.figure(figsize=(15, 15))\n\n\n# Plotando os dados com um gr\u00e1fico de linhas\n# Plotting the data with a lineplot\nfig = sns.lineplot(data=dataset_seatle,\n                  x='Ano',\n                  y = 'Min_ano',\n                  alpha = 0.5,\n                  linewidth = 2,\n                  color='royalblue')\n\nsns.lineplot(data=dataset_seatle,\n                  x='Ano',\n                  y = 'Max_ano',\n                  alpha = 0.5,\n                  linewidth = 2,\n                  color='firebrick')\n\nsns.lineplot(data=dataset_seatle,\n                  x='Ano',\n                  y = 'Med_ano',\n                  alpha = 0.8,\n                  linewidth = 5,\n                  color='darkgreen')\n\n\n# Tamanho da legenda\n# Legend size\nplt.legend(fontsize  = 15)\n\n# Configura\u00e7\u00f5es do eixo X\n# X axis settings\nplt.xticks(rotation=45)\nplt.xlabel(\"Ano\", weight='semibold')\n\n# Configura\u00e7\u00f5es do eixo Y\n# Y axis settings\nplt.ylabel(\"Temperaturas em Seatle (\u00b0C)\", weight='semibold') # Temperatures in Seatle in \u00b0C\n\n# Configura\u00e7\u00f5es do t\u00edtulo e subt\u00edtulo\n# Tittle and subtitle settings\nplt.title(\"M\u00e9dias anuais pr\u00f3ximas de 0 \u00b0C em Seatle - Washington!\", \n          y=1.01, fontsize=18, \n          weight='semibold', horizontalalignment='center') # Yearly averages close to 0\u00b0C in Seatle\n\n# Textos auxiliares no gr\u00e1fico\n# Auxiliar texts settings\nplt.text(2020, -40, \"Fonte dos dados: WeatherUnderground.com\", \n         horizontalalignment='right',\n         va = 'baseline',\n         size=14, color='dimgray')\n\nplt.text(1940, -38, \"Gr\u00e1fico criado utilizando a biblioteca Seaborn em Python\", \n         horizontalalignment='left',\n         va = 'baseline',\n         size=14, color='dimgray')\n\nplt.text(1940, -40, \"@belosgraficos\", \n         horizontalalignment='left',\n         va = 'baseline',\n         size=14, color='dimgray')\n\nplt.text(1950, 25, \"Temperatura m\u00e1xima registrada no ano\", \n         horizontalalignment='left',\n         va = 'baseline', weight='semibold',\n         size=14, color='firebrick')\nplt.text(1950, -12, \"Temperatura m\u00ednima registrada no ano\", \n         horizontalalignment='left',\n         va = 'baseline', weight='semibold',\n         size=14, color='royalblue')\n\nplt.text(1950, 5, \"Temperatura m\u00e9dia anual\", \n         horizontalalignment='left',\n         va = 'baseline', weight='semibold',\n         size=14, color='darkgreen')\n\n# Plotting arrows\nplt.arrow(2010, 0, 0, 32, color='slategray', head_width = 1, width = 0.2)\nplt.arrow(2010, 0, 0, -17, color='slategray', head_width = 1, width = 0.2)\nplt.text(2004, 11, \"Varia\u00e7\u00e3o de\\nmais de 50 \u00b0C\", \n         horizontalalignment='center',\n         va = 'baseline', weight='semibold',\n         size=14, color='slategray')\n\n\n# Salva a figura e exibe o gr\u00e1fico no console\n# Saving the figure as a png\nplt.savefig(\"CMCE_2_media.png\")","53303490":"## belosgraficos instagram.com\/belosgraficos\/\n### Notebook para a cria\u00e7\u00e3o de gr\u00e1ficos sobre o livro Como Mentir com Estat\u00edstica.\n### Based on the How to Lie with Statistics book\nComent\u00e1rios est\u00e3o em portugu\u00eas - Comments are in Portuguese\n\nNotebook criado utilizando o Kaggle"}}