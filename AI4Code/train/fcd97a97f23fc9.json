{"cell_type":{"6c10b729":"code","20d3899e":"code","271fdd79":"code","bcbb615e":"code","a55780b6":"code","ba08466a":"code","60d15963":"code","3c1690ea":"code","22464e4e":"code","01a6e1d4":"code","b17feaed":"code","be706f78":"code","3dce4478":"code","b6b34dae":"code","57c97c97":"code","1d6a0364":"code","040e893b":"code","9a8b823e":"code","4677d80a":"markdown","f72da4f8":"markdown","89fc7054":"markdown","9d1d12a7":"markdown","5b72c19d":"markdown","46957354":"markdown","8683d8d5":"markdown","db868b19":"markdown","bfde45ac":"markdown","9199bfdc":"markdown","b874773e":"markdown","ddda97be":"markdown","b34c4d7c":"markdown","0304b23f":"markdown","8a6dad71":"markdown","c0316b30":"markdown","80c316a6":"markdown","48fb1cff":"markdown","a21456eb":"markdown","7987e37e":"markdown","f8e86db3":"markdown","c5996258":"markdown","835afcb7":"markdown","ed7192c4":"markdown","4b733968":"markdown"},"source":{"6c10b729":"import numpy as np\nimport pandas as pd \nfrom pandas import Series,DataFrame\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport warnings\nwarnings.filterwarnings('ignore')\n\n%matplotlib inline","20d3899e":"df = pd.read_csv('..\/input\/bank-loan2\/madfhantr.csv')\ndf.head()","271fdd79":"df.info()","bcbb615e":"df.describe().T","a55780b6":"def summary(df):\n    \n    types = df.dtypes\n    counts = df.apply(lambda x: x.count())\n    uniques = df.apply(lambda x: [x.unique()])\n    nas = df.apply(lambda x: x.isnull().sum())\n    distincts = df.apply(lambda x: x.unique().shape[0])\n    missing = (df.isnull().sum() \/ df.shape[0]) * 100\n    sk = df.skew()\n    krt = df.kurt()\n    \n    print('Data shape:', df.shape)\n\n    cols = ['Type', 'Total count', 'Null Values', 'Distinct Values', 'Missing Ratio', 'Unique Values', 'Skewness', 'Kurtosis']\n    dtls = pd.concat([types, counts, nas, distincts, missing, uniques, sk, krt], axis=1, sort=False)\n  \n    dtls.columns = cols\n    return dtls","ba08466a":"details = summary(df)\ndetails","60d15963":"df.isnull().sum()","3c1690ea":"cols = df.columns \ncolours = ['g', 'r'] \nf, ax = plt.subplots(figsize = (12,8))\nsns.set_style(\"whitegrid\")\nplt.title('Missing Values Heatmap', )\nsns.heatmap(df[cols].isnull(), cmap=sns.color_palette(colours));","22464e4e":"import missingno as msno\nmsno.matrix(df);","01a6e1d4":"msno.bar(df,  color = 'y', figsize = (14,10));","b17feaed":"msno.bar(df, log = True, color = 'g');","be706f78":"msno.heatmap(df,  cmap='GnBu_r');","3dce4478":"ax = msno.dendrogram(df)","b6b34dae":"for col in df.columns:\n    prct = np.mean(df[col].isnull())\n    print('{}:{}%'.format(col, round(prct*100)))","57c97c97":"df.dropna(subset = ['Loan_Amount_Term'], axis = 0, how = 'any', inplace = True)\ndf.isnull().sum()","1d6a0364":"df['Gender'].fillna((df['Gender'].mode()[0]),inplace=True)\ndf['Married'].fillna(df['Married'].mode()[0], inplace = True)\ndf['Dependents'].fillna((df['Dependents'].mode()[0]),inplace=True)\ndf.isnull().sum()","040e893b":"df['Credit_History'].fillna(method = 'ffill', inplace = True)\ndf['Self_Employed'].fillna(method = 'bfill', inplace = True)\ndf.isnull().sum()","9a8b823e":"df['LoanAmount'].fillna(df['LoanAmount'].mean(), inplace = True)\ndf.isnull().sum()","4677d80a":"## Method 3: Missinggo","f72da4f8":"My reference sources for this kernel were [Data Cleaning in Python: the Ultimate Guide (2020)](https:\/\/towardsdatascience.com\/data-cleaning-in-python-the-ultimate-guide-2020-c63b88bf0a0d), [Advanced Configuration](https:\/\/github.com\/ResidentMario\/missingno\/blob\/master\/CONFIGURATION.md) and [Missing data visualization module for Python](https:\/\/github.com\/ResidentMario\/missingno). ","89fc7054":"To drop all rows with 'any' NAs in a particular column, I used .dropna() and specified the subset = column.","9d1d12a7":"# Handling Missing Data","5b72c19d":"The objective is to explore the data for NAs and missing values using various techniques and to fill them in.","46957354":"Dropping is only advised to be used if missing values are few (say 0.01\u20130.5% of our data)","8683d8d5":"## Method 2: Seaborn Heatmap","db868b19":"Back-fill ('bfill') or forward-fill('ffill') can be used to implace NAs. ","bfde45ac":"And voil\u00e0! We discovered and fixed all of the missing values.","9199bfdc":"## Method 1: isnull().sum()","b874773e":"## Dropping NAs","ddda97be":"## Filling missing values","b34c4d7c":"Filling in with statistics values is another way to fill in the missing values:","0304b23f":"You can switch to a logarithmic scale by specifying log=True. It provides the same information as matrix, but in a simpler format.","8a6dad71":"The symmetrical distribution is present if kurtosis equals to zero. Similarly to skewness, positive kurtosis indicates a \"heavy-tailed\" distribution and negative kurtosis indicates a \"light tailed\" distribution.","c0316b30":"Nots: Depending on the method that is used here, if a previous\/ next value is also a NA value, then, the NA remains.","80c316a6":"## Method 4: percentage of the missing values","48fb1cff":"Many classical statistical tests and intervals depend on normality assumptions. Significant skewness and kurtosis indicate that data is not normal and it needs to be normalized.","a21456eb":"Skewness and Kurtosis show if the data is normally disctributed or not. If the skewness is equal to zero, the data is normally distributed, meaning it's symmetric. Negative values for the skewness indicate data that it's skewed left and it's left 'tail' is longer compare to the right one. And vice versa. If the data are multi-modal, then this may affect the sign of the skewness.\n![Skewness](https:\/\/upload.wikimedia.org\/wikipedia\/commons\/thumb\/c\/cc\/Relationship_between_mean_and_median_under_different_skewness.png\/651px-Relationship_between_mean_and_median_under_different_skewness.png)","7987e37e":"Dendrogram plot shows a tree representing groups of columns that have strong nullity correlations. This is a more advance representation of the the heatmap and identifies groups that are correlated instead of pairs. ","f8e86db3":"Heatmap presents the correlation of missing values between every 2 columns. In our example, the correlation between Dependents and Married is 0.4 which means if Married value is present then Dependents value is more likely to be present too.\nIf the value is near -1 means that if one variable appears then the other variable is very likely to be missing.\nIf the value near 0 means there is no correlation between the apperance of missing values of variables.\nIf the value near 1 means that if one variable appears then the other variable is very likely to appear.","c5996258":"How to fill in NAs and missing values, it depends on variables: ","835afcb7":"Total number of missing values for each column of the dataframe is a good way to get an idea on missing values.","ed7192c4":"The heatmap is another good way to see where we are missing the data the most. Red color marks the NAs in each column.","4b733968":"msno.bar() is a simple visualization of nullity by column."}}