{"cell_type":{"2ea64f2d":"code","8e0416b9":"code","c47f8322":"code","58879dab":"code","5cce378d":"code","249e21e8":"code","6bbf4a49":"code","cdc308cb":"code","9106a582":"code","3e37f342":"code","9667f921":"code","e2687530":"markdown","89710a8c":"markdown"},"source":{"2ea64f2d":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport os\n\npd.set_option('display.max_rows', 500)\n   \ninput_path = '\/kaggle\/input\/novel-corona-virus-2019-dataset'\nN_COUNTRIES = 20","8e0416b9":"df = pd.read_csv(f'{input_path}\/covid_19_data.csv')\nprint(f'Number of entries: {df.shape[0]}')","c47f8322":"country_df = df.copy()\ncountry_df['Province\/State'] = country_df['Province\/State'].fillna('No provinces')\ncountry_df = country_df.groupby(['Province\/State', 'Country\/Region'])['Confirmed', 'Deaths', 'Recovered'].max()\ncountry_df = country_df.groupby('Country\/Region').sum()\n\ncountry_df = pd.DataFrame(country_df)\ncountry_df = country_df.sort_values('Deaths', ascending=False).iloc[:N_COUNTRIES]","58879dab":"country_df","5cce378d":"countries_per_day = df.copy()\ncountries_per_day['Province\/State'] = countries_per_day['Province\/State'].fillna('No provinces')\ncountries_per_day = pd.DataFrame(countries_per_day.groupby(['ObservationDate', 'Country\/Region'])['Deaths'].sum()).reset_index()","249e21e8":"after_first_death = countries_per_day.copy()\nafter_first_death = after_first_death[after_first_death['Deaths'] > 0]\n\ncomparison_df = pd.DataFrame()\ncountries_to_compare = ['Brazil', 'Italy', 'Spain', 'US']\n\nfor country in countries_to_compare:\n    temp = after_first_death[after_first_death['Country\/Region'] == country]\n    \n    for column in list(temp.columns):\n        if column == 'Country\/Region': \n            continue\n        \n        pad_size = 70 - len(temp[f'{column}'])\n        comparison_df[f'{country}{column}'] = np.pad(temp[f'{column}'].values, (0, pad_size))\n\ncomparison_df = comparison_df.replace(0, np.nan).dropna(how='all')\ncomparison_df = comparison_df.dropna(thresh=5)","6bbf4a49":"comparison_df.replace(np.nan, '')","cdc308cb":"comparison_df.replace(np.nan, '')","9106a582":"fig = plt.figure(figsize=(14,9))\n\nfor country in countries_to_compare:\n    plt.plot(comparison_df.index, f'{country}Deaths', data=comparison_df, marker='o')\n\nplt.legend()","3e37f342":"comparison_df[['BrazilDeaths', 'ItalyDeaths', 'SpainDeaths', 'USDeaths']] = comparison_df[['BrazilDeaths', 'ItalyDeaths', 'SpainDeaths', 'USDeaths']].diff()\ncomparison_df = comparison_df.dropna(thresh=5)","9667f921":"fig = plt.figure(figsize=(14,9))\n\nfor country in countries_to_compare:\n    plt.plot(comparison_df.index, f'{country}Deaths', data=comparison_df, marker='o')\n\nplt.legend()","e2687530":"## Comparing countries after 1st death","89710a8c":"## Country summary"}}