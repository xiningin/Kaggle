{"cell_type":{"ebbe4305":"code","aa02a8e9":"code","03f5e936":"code","d43ee72a":"code","aaceb14d":"code","e88a8d79":"markdown","b182c77a":"markdown","ad5db9fb":"markdown","f8e21326":"markdown","a76a0b5a":"markdown"},"source":{"ebbe4305":"import pandas as pd\nfrom fbprophet import Prophet\nimport os\nimport warnings\n\nwarnings.filterwarnings('ignore')\n\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","aa02a8e9":"train = pd.read_csv('\/kaggle\/input\/bri-data-hackathon-cr-optimization\/train.csv',parse_dates = ['periode'])","03f5e936":"past = train[['periode','kas_kantor']].rename(columns = {'periode' : 'ds','kas_kantor' : 'y'})\nmodel = Prophet(growth = 'linear',daily_seasonality = False,weekly_seasonality = True,yearly_seasonality = True)\nmodel = model.add_country_holidays(country_name = 'ID')\nmodel = model.fit(past)\nfuture = model.make_future_dataframe(periods = 31)\nkantor = model.predict(future)['yhat'][-31:]","d43ee72a":"past = train[['periode','kas_echannel']].rename(columns = {'periode' : 'ds','kas_echannel' : 'y'})\nmodel = Prophet(growth = 'linear',daily_seasonality = False,weekly_seasonality = True,yearly_seasonality = True)\nmodel = model.add_country_holidays(country_name = 'ID')\nmodel = model.fit(past)\nfuture = model.make_future_dataframe(periods = 31)\nechannel = model.predict(future)['yhat'][-31:]","aaceb14d":"pd.concat([kantor,echannel],ignore_index = True).rename('value').to_csv('submission.csv',index_label = 'index')","e88a8d79":"Notebook ini diilhami dari karya [berikut](https:\/\/www.kaggle.com\/yevonnaelandrew\/bahasa-starter-autoarima-prophet).","b182c77a":"Dataframe train memiliki beberapa kolom selain `kas_kantor` dan `kas_echannel`, di mana kedua kolom yang disebut terakhir ini adalah target yang hendak kita prediksi. Sejauh ini, saya baru bisa memanfaatkan dua kolom tersebut dan mengabaikan kolom lainnya.","ad5db9fb":"Referensi\n\n`[1]` Sean J. Taylor, Benjamin Letham (2018) Forecasting at scale. The American Statistician 72(1):37-45","f8e21326":"Sesuai API yang [ada](https:\/\/facebook.github.io\/prophet\/docs\/quick_start.html#python-api) dan dari referensi yang relevan `[1]`, saya menerapkan parameter, pola musiman, dan pola hari libur yang sama untuk memprediksi `kas_kantor` dan `kas_echannel`. Pola musiman bulanan tidak saya terapkan karena sepertinya justru membuat nilai `root mean squared logarithmic error` semakin buruk (tinggi).","a76a0b5a":"Kualitas prediksi dengan teknik seperti di atas ternyata hanya menghasilkan skor `rmsle` sebesar 0.07320 saja. Untuk memperbaikinya, perlu dipelajari lebih lanjut teknik lain yang dapat memanfaatkan kolom yang selama ini diabaikan. Sekadar ingin tahu, saya menemukan bahwa di antara kolom yang diabaikan tersebut, ada yang memiliki pola musiman bulanan yang relatif kuat. Pola unik tersebut berpotensi menjadi prediktor yang berharga dalam kasus ini."}}