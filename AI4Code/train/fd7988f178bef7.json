{"cell_type":{"db1e6411":"code","31af2b8a":"code","276310f5":"code","35a34dbb":"code","6aabf82f":"code","9e1c89a4":"code","f9b60793":"code","9224d5fb":"code","8bdaa5a2":"code","6f127c36":"code","285d3e4e":"code","db76fe32":"code","cfd642af":"code","227c42fd":"code","2ef2530c":"code","9891d126":"markdown","a02e9928":"markdown","b275f51b":"markdown"},"source":{"db1e6411":"import folium\n#First install Folium in Anaconda\n#conda install -c conda-forge folium=0.5.0 --yes","31af2b8a":"display(folium.Map())\n","276310f5":"import numpy as np\nimport pandas as pd","35a34dbb":"world_map = folium.Map(location=[56.130, -106.35], zoom_start=4)\n\n# display world map\nworld_map\n\n#coordinates of canada","6aabf82f":"# create a Stamen Toner map of the world centered around Canada\nworld_map = folium.Map(location=[56.130, -106.35], zoom_start=4, tiles='Stamen Toner')\n\n# display map\nworld_map","9e1c89a4":"# create a Stamen Toner map of the world centered around Canada\nworld_map = folium.Map(location=[56.130, -106.35], zoom_start=4, tiles='Stamen Terrain')\n\n# display map\nworld_map","f9b60793":"df = pd.read_csv('..\/input\/dataset-pd\/Police_Department_Incidents_-_Previous_Year__2016_.csv')","9224d5fb":"df.info()","8bdaa5a2":"df.head(2)","6f127c36":"# get the first 100 crimes in the df_incidents dataframe\nlimit = 100\ndf_incidents = df.iloc[0:limit, :]","285d3e4e":"# San Francisco latitude and longitude values\nlatitude = 37.77\nlongitude = -122.42","db76fe32":"# create map and display it\nsanfran_map = folium.Map(location=[latitude, longitude], zoom_start=12)\n\n# display the map of San Francisco\nsanfran_map","cfd642af":"# instantiate a feature group for the incidents in the dataframe\nincidents = folium.map.FeatureGroup()\n\n# loop through the 100 crimes and add each to the incidents feature group\nfor lat, lng, in zip(df_incidents.Y, df_incidents.X):\n    incidents.add_child(\n        folium.CircleMarker(\n            [lat, lng],\n            radius=5, # define how big you want the circle markers to be\n            color='yellow',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.6\n        )\n    )\n\n# add incidents to map\nsanfran_map.add_child(incidents)","227c42fd":"# instantiate a feature group for the incidents in the dataframe\nincidents = folium.map.FeatureGroup()\n\n# loop through the 100 crimes and add each to the incidents feature group\nfor lat, lng, in zip(df_incidents.Y, df_incidents.X):\n    incidents.add_child(\n        folium.CircleMarker(\n            [lat, lng],\n            radius=5, # define how big you want the circle markers to be\n            color='yellow',\n            fill=True,\n            fill_color='blue',\n            fill_opacity=0.6\n        )\n    )\n\n# add pop-up text to each marker on the map\nlatitudes = list(df_incidents.Y)\nlongitudes = list(df_incidents.X)\nlabels = list(df_incidents.Category)\n\nfor lat, lng, label in zip(latitudes, longitudes, labels):\n    folium.Marker([lat, lng], popup=label).add_to(sanfran_map)    \n    \n# add incidents to map\nsanfran_map.add_child(incidents)","2ef2530c":"from folium import plugins\n\n# let's start again with a clean copy of the map of San Francisco\nsanfran_map = folium.Map(location = [latitude, longitude], zoom_start = 12)\n\n# instantiate a mark cluster object for the incidents in the dataframe\nincidents = plugins.MarkerCluster().add_to(sanfran_map)\n\n# loop through the dataframe and add each data point to the mark cluster\nfor lat, lng, label, in zip(df_incidents.Y, df_incidents.X, df_incidents.Category):\n    folium.Marker(\n        location=[lat, lng],\n        icon=None,\n        popup=label,\n    ).add_to(incidents)\n\n# display map\nsanfran_map","9891d126":"Now let's superimpose the locations of the crimes onto the map. The way to do that in Folium is to create a feature group with its own features and style and then add it to the sanfran_map.","a02e9928":"To ADD POPUP","b275f51b":"TO OVERCOME THE CONGESTION OF MARKERS there are two remedies - The simpler solution is to remove these location markers and just add the text to the circle markers themselves as follows:"}}