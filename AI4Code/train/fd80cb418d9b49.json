{"cell_type":{"1a5a84fa":"code","e459185e":"code","90be60fa":"code","c95f5270":"code","dd376467":"code","efa12299":"code","d8fc2a3e":"code","e8031767":"code","ccdda00e":"code","7a77959f":"code","8e8c75da":"code","47e803d4":"code","e75c1a72":"code","e197a877":"code","163b6753":"code","b98a4602":"code","c88f64cc":"code","f9cb53d7":"code","85131453":"code","d6144f5c":"code","fb493d36":"code","d36b6bb6":"markdown","7e326806":"markdown","6b58f924":"markdown","eee65c7f":"markdown","97460ea4":"markdown","7e50d5a6":"markdown","5018d9e7":"markdown","20c50a76":"markdown","9b8915b3":"markdown","9dd95d01":"markdown","f99fbec3":"markdown","f778824d":"markdown","9c55693d":"markdown","16c4bede":"markdown","b461396f":"markdown","786123e9":"markdown","8967de28":"markdown","7509a961":"markdown","9ab2ca70":"markdown"},"source":{"1a5a84fa":"import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport numpy as np","e459185e":"df = pd.read_csv('..\/input\/medical-examinations\/medical_examination.csv')","90be60fa":"df.head()","c95f5270":"df.tail()","dd376467":"df.shape","efa12299":"df.info()","d8fc2a3e":"df.describe()","e8031767":"df['BMI'] = df['weight']\/(df['height']\/100)**2\ndf['BMI']","ccdda00e":"df['overweight'] = df['BMI'].apply(lambda x:1 if x>25 else 0)\ndf['overweight']","7a77959f":"df","8e8c75da":"df['cholesterolN'] = df['cholesterol'].apply(lambda x: 0 if x == 1 else 1)\ndf","47e803d4":"df['glucN'] = df['gluc'].apply(lambda x: 0 if x == 1 else 1)\ndf","e75c1a72":"df_cat = pd.melt(df, id_vars=['cardio'], value_vars=['cholesterolN', 'glucN', 'smoke', 'alco', 'active', 'overweight'])\ndf_cat","e197a877":"df_cat['total'] = 1\ndf_cat","163b6753":"df_cat = df_cat.groupby(['cardio', 'variable','value'], as_index = False).count()\ndf_cat","b98a4602":"fig = sns.catplot(x='variable', y='total', col='cardio', data=df_cat, hue='value', kind='bar').fig","c88f64cc":"df_heat = df[\n  (df['ap_lo'] <= df['ap_hi']) &\n  (df['height'] >= df['height'].quantile(0.025)) &\n  (df['height'] <= df['height'].quantile(0.925)) &\n  (df['weight'] <= df['weight'].quantile(0.925)) &\n  (df['weight'] >= df['weight'].quantile(0.025))]\ndf_heat.describe()","f9cb53d7":"corr = df_heat.corr(method='pearson')\ncorr","85131453":"mask = np.triu(corr)\n# Set up the matplotlib figure\nfig, ax = plt.subplots(figsize=(12,12))\n\n# Draw the heatmap with 'sns.heatmap()'\nsns.heatmap(corr, linewidths=1, annot = True, square = True, mask=mask, fmt='0.1f', center=0.08, cbar_kws={'shrink':0.5})","d6144f5c":"df_heat.plot(kind='scatter', x='height', y='gender', figsize=(6,6))","fb493d36":"df_heat.plot(kind='scatter', x='cholesterol', y='gluc', figsize=(6,6))","d36b6bb6":"![green-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071924-c003ad80-2562-11e9-8297-1c6595f8a7ff.png)\n\n### E- Relationship between the columns:\n\nLet's draw the heat map, but first we have to clean the data under and above the 2.5 and 97.5 percentile:","7e326806":"_**SCATTER PLOTs (no correlation):**_","6b58f924":"Let's Group and reformat the data to split it by 'cardio'. It Shows the counts of each feature. We will have to rename one of the columns for the catplot to work correctly.","eee65c7f":"* Let's build the **cholesterolN** column:","97460ea4":"![green-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071924-c003ad80-2562-11e9-8297-1c6595f8a7ff.png)\n\n### E- Analysis and visualization:","7e50d5a6":"![purple-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071927-c1cd7100-2562-11e9-908a-dde91ba14e59.png)\n\n## Exploratory Data Analysis (EDA)","5018d9e7":"![rmotr](https:\/\/user-images.githubusercontent.com\/7065401\/52071918-bda15380-2562-11e9-828c-7f95297e4a82.png)\n<hr style=\"margin-bottom: 40px;\">\n\n<img src=\"https:\/\/img.webmd.com\/dtmcms\/live\/webmd\/consumer_assets\/site_images\/articles\/health_tools\/how_heart_disease_affects_your_body_slideshow\/493ss_thinkstock_rf_heart_anatomy_illustration.jpg?resize=375px:250px&output-quality=50\"\n    style=\"width:400px; float: right; margin: 0 40px 40px 40px;\"><\/img>\n\n# Medical Data Examinations\n\nIn this project, we will visualize and make calculations from medical examination data using matplotlib, seaborn, and pandas. The dataset values were collected during medical examinations.\n\n\nThe rows in the dataset represent patients and the columns represent information like body measurements, results from various blood tests, and lifestyle choices. We will use the dataset to explore the **relationship** between 1-cardiac disease, 2- body measurements, 3- blood markers, and 4- lifestyle choices. (Database taken from the [Free Code Camp](https:\/\/www.freecodecamp.org\/) data Analysis course)","20c50a76":"_2- Column ranges\/organization:_\n\n**COSTUMER-data** - costumer's habits(smoke, alco, active, cardio) have values either 0 or 1. Costumers body info: age, have not correct values, gender is either 1 or 2 but it looks like there is a mistake somewhere in with a number 3. height ranges from 50cm to 250cm, which are not normal number for a height, weight ranges from 10pounds to 200pounds.\n\n**Exams-data** - ap_hi: 120-140(25th,75th), ap_lo(80,90)(25th,75th), cholesterol(1-3), gluc(1-2).","9b8915b3":"![green-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071924-c003ad80-2562-11e9-8297-1c6595f8a7ff.png)\n\n### B- Loading our data:\n\nAs we saw on previous courses we can read data simply using Python.","9dd95d01":"Let's Create a DataFrame for cat plot using `pd.melt` using just the values from 'overweight','cholesterolN', 'glucN', 'smoke', 'alco', and 'active'.","f99fbec3":"### A- Loading libraries. Hands on!","f778824d":"_1- Column distribution:_\n\nThe **primary key** is ID.\n\n**TIME-data** is NOT provided.\n\n**LOCATION-data** is NOT provided.\n\n**COSTUMER-data** is provided through **8** columns organized in two categories: Costumers body info (age, gender, height, weight) and costumer's habits(smoke, alco, active, cardio).\n\n**Exams-data** is provided through **4** columns (ap_hi, ap_lo, cholesterol, gluc)\n\nFor a total of **13** columns and **70000** patients\/Measurements.","9c55693d":"_3- Column AXES of analysis:_\n\nThe idea is to analyse the influence of **cardio** on the other health variables. From Costumers body info we can get the **BMI**, and also we can normaalize cholesterol and glucosa levels, changing 1 for 0, and 2 or 3 for 1.","16c4bede":"### Column organizacion for\u00a0medical_examination.csv:","b461396f":"![green-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071924-c003ad80-2562-11e9-8297-1c6595f8a7ff.png)\n\n### C- A glance at the data:","786123e9":"* Let's build the overweight column:","8967de28":"* Let's build the **glucN** column:","7509a961":"![green-divider](https:\/\/user-images.githubusercontent.com\/7065401\/52071924-c003ad80-2562-11e9-8297-1c6595f8a7ff.png)\n\n### D- Column wrangling.:\n\nLet's create the columns we need for our analysis: BMI, cholesterolN, and glucN.","9ab2ca70":"Let's Calculate the correlation matrix using the pearson method:"}}