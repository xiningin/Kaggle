{"cell_type":{"5f2d4cd5":"code","4a6ac125":"code","ead83ecc":"code","98d63705":"code","2276f706":"code","9bca878b":"code","5772448d":"code","ff3661ff":"code","e3ae08cb":"code","0440c087":"code","d4169d52":"code","016da8b8":"code","414ae6cc":"code","16af6f08":"code","4ec9cc06":"markdown","47d89746":"markdown","a2af58e8":"markdown"},"source":{"5f2d4cd5":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport matplotlib.pyplot as plt\n\nfrom plotly.offline import init_notebook_mode, iplot\ninit_notebook_mode(connected=True)\nimport plotly.graph_objs as go\nimport plotly.offline as offline\noffline.init_notebook_mode()\nfrom plotly import tools\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","4a6ac125":"# Read dataframe\ndframe = pd.read_csv(\"..\/input\/who_suicide_statistics.csv\")","ead83ecc":"dframe.head()","98d63705":"dframe.tail()","2276f706":"dframe.info()","9bca878b":"# count missing value\ndframe.isnull().sum()","5772448d":"dframe['suicides_no_fillna']=dframe.groupby(['country','sex','age']).transform(lambda x: x.fillna(x.mean()))['suicides_no']\ndframe['population_fillna']=dframe.groupby(['country','sex','age']).transform(lambda x: x.fillna(x.mean()))['population']","ff3661ff":"dframe['age']=dframe['age'].str.replace(' years','')\ndframe.loc[(dframe['age']=='5-14'),'age']='05-14'","e3ae08cb":"dframe.head()","0440c087":"print(\"Number of countries:\",len(dframe.country.unique()))\nprint(\"Year of oldest record:\",dframe.year.min())\nprint(\"Year of newest record:\",dframe.year.max())","d4169d52":"import seaborn as sns\nfrom numpy import median\nax = sns.catplot(x=\"sex\", y=\"suicides_no_fillna\",col='age', data=dframe, estimator=median,height=4, aspect=.7,kind='bar')","016da8b8":"dframe.groupby(['country','age']).suicides_no_fillna.sum().nlargest(10).plot(kind='barh')","414ae6cc":"from numpy import sum\nsns.catplot('age','suicides_no_fillna',hue='sex',col='year',data=dframe,kind='bar',col_wrap=3,estimator=sum)","16af6f08":"%matplotlib inline\ntemp=dframe.groupby('age').agg('sum').reset_index()\nsns.barplot('age','suicides_no_fillna',data=temp)\nplt.show()","4ec9cc06":"> ## Number of Suicides by Age","47d89746":"> ## Missing Values\nFill NaN values with the mean of each group (by country, sex, and age)","a2af58e8":"> ## Modify the column\nRemove 'years' from 'age' column and make it easier to sort by changing age '5-14' to '05-14'"}}