{"cell_type":{"a6e11d06":"code","13f9ba21":"code","7ed93a14":"code","6cb7be55":"code","2f0d4fb2":"code","d3bbc035":"code","0df030b3":"code","d493a75d":"code","78fdbe19":"code","ebcb733f":"code","f1ac2c19":"code","c4f9a663":"code","9271fdd4":"code","4a5fb26b":"code","df6a95ec":"code","f35a1ae0":"code","0dceac71":"code","473ea198":"markdown","4ca15941":"markdown","2b83c46b":"markdown","41755d95":"markdown","6f1d3bdb":"markdown","4ab59e83":"markdown","32ae0c24":"markdown"},"source":{"a6e11d06":"# Generic\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Visualisation Libraries\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport plotly.graph_objects as go\nimport plotly.express as px\nplt.style.use('seaborn-darkgrid')\n\n# Warning\nimport warnings\nwarnings.filterwarnings(\"ignore\")\n\n# Garbage Collector\nimport gc\n\n# Priority Queue\nimport heapq\n\n# Tabulate\nfrom tabulate import tabulate","13f9ba21":"url = '..\/input\/bicycle-cities-index-2019\/bike_usage_2019.csv'\ndata = pd.read_csv(url, header='infer')","7ed93a14":"print(\"Total Records: \", data.shape[0])","6cb7be55":"# Inspect\ndata.head()","2f0d4fb2":"# Stat Summary\ndata.describe().transpose()","d3bbc035":"# Custom Function to get top & last 3 cities and shows the summary and density distribution\n\ndef summary(x):\n    \n    hi = heapq.nlargest(3, zip(data[x],data['City']))    # Top 3 cities \n    lw = heapq.nsmallest(3, zip(data[x],data['City']))   # Last 3 cities\n    \n    hi_val, hi_cty = zip(*hi)  # Unzip high value list\n    lw_val, lw_cty = zip(*lw)  # Unzip low value list\n    \n    # Define a new list\n    high = []\n    low = []\n    \n    # Iterating over unzipped list (high val)\n    for i,j in zip(hi_val,hi_cty):\n        #print(f'{j} has {i}')\n        high.append([j,i])\n    \n    # Iterating over unzipped list (low val)\n    for i,j in zip(lw_val,lw_cty):\n        #print(f'{j} has {i}')\n        low.append([j,i])\n    \n    # Print the tabulated results\n    print(f'3 Cities With High {x.capitalize()} :\\n')\n    print(tabulate(high,headers=['City',x.capitalize()],tablefmt=\"pretty\"))\n    \n    print ()\n    \n    # Print the tabulated results\n    print(f'3 Cities With Low {x.capitalize()} :\\n')\n    print(tabulate(low,headers=['City',x.capitalize()],tablefmt=\"pretty\"))\n    \n    \n\n    fig = plt.figure(figsize=(15, 10))\n    plt.subplots_adjust(hspace = 0.6)\n    sns.set_palette('pastel')\n    \n    plt.subplot(221)\n    ax1 = sns.distplot(data[x], color = 'r')\n    plt.title(f'{x.capitalize()} Density Distribution')\n    \n    plt.subplot(222)\n    ax2 = sns.violinplot(x = data[x], palette = 'Accent', split = True)\n    plt.title(f'{x.capitalize()} Violinplot')\n    \n    plt.subplot(223)\n    ax2 = sns.boxplot(x=data[x], palette = 'cool', width=0.7, linewidth=0.6)\n    plt.title(f'{x.capitalize()} Boxplot')\n    \n    plt.subplot(224)\n    ax3 = sns.kdeplot(data[x], cumulative=True)\n    plt.title(f'{x.capitalize()} Cumulative Density Distribution')\n    \n    plt.show()","0df030b3":"# Bicycle Usage\nsummary('Bicycle Usage')","d493a75d":"# Bicycle Roads\nsummary('Bicycle Roads')","78fdbe19":"# Bicycle Rental Stations\nsummary('Bicycle Rental Stations')","ebcb733f":"# Bicycle Stolen\nsummary('Bicycle Stolen')","f1ac2c19":"corr = data[['Bicycle Usage', 'Bicycle Roads','Bicycle Rental Stations', 'Bicycle Stolen']].corr()\n\nplt.figure(figsize=(12, 8))\nplt.title(\"Correlation Heatmap\", fontsize=20)\n\nax = sns.heatmap(\n    corr, \n    vmin=-1, vmax=1, center=0,\n    cmap=sns.diverging_palette(20, 220, n=200),\n    square=True, annot=True\n)","c4f9a663":"#Custom Function to Plot Bivariate Analysis of Columns\n\ndef bivar(x,y,dataframe):\n    #fig = plt.figure(figsize=(15, 10))\n    style = dict(size=10, color='gray')\n    fig, ax = plt.subplots(figsize=(15, 10))\n    sns.set_palette('pastel')\n    \n    hl = heapq.nlargest(1, zip(dataframe[x], dataframe[y], dataframe['City']))\n    hlx, hly, hlc = zip(*hl)\n    \n    ll = heapq.nsmallest(1, zip(dataframe[x], dataframe[y], dataframe['City']))\n    llx, lly, llc = zip(*ll)\n    \n       \n    ax = sns.lineplot(data=dataframe[[x,y]], palette=\"tab10\", linewidth=1.5)\n    \n    for i,j,k in zip(hlx, hly, hlc):\n        ax.text(i,j, k + \" << HIGH\",**style)\n    \n    for i,j,k in zip(llx, lly, llc):\n        ax.text(i,j, k + \" << LOW\",**style)\n        \n        \n    plt.title(f'{x.capitalize()} & {y.capitalize()} Line Plot', fontsize=20)\n    \n   \n    plt.show()","9271fdd4":"#Bivariate Analysis of Bicycle Usage & Bicycle Roads\nbivar('Bicycle Usage','Bicycle Roads',data)","4a5fb26b":"#Bivariate Analysis of Bicycle Usage & Bicycle Rental Stations\nbivar('Bicycle Usage','Bicycle Rental Stations',data)","df6a95ec":"#Bivariate Analysis of Bicycle Roads & Bicycle Rental Stations\nbivar('Bicycle Roads','Bicycle Rental Stations',data)","f35a1ae0":"#Bivariate Analysis of Bicycle Roads & Bicycle Stolen\nbivar('Bicycle Roads','Bicycle Stolen',data)","0dceac71":"#Bivariate Analysis of Bicycle Rental Stations & Bicycle Stolen\nbivar('Bicycle Rental Stations','Bicycle Stolen',data)","473ea198":"## Data","4ca15941":"## Correlation","2b83c46b":"## Univariate Analysis \n\nAnalysing the dataset per numerical columns i.e. 'Bicycle Usage', 'Bicycle Roads', 'Bicycle Rental Stations', 'Bicycle Stolen'","41755d95":"# Bicycle Cities Index 2019 - EDA\n\nThis notebook contains an Exploratory Data Analysis (EDA) performed on the [Bicycle Cities Index 2019](https:\/\/www.kaggle.com\/gerile3\/bicycle-cities-index-2019) dataset. I will perform a univariate & a bivariate analysis on the data to extract some interesting insights\/facts about the cities.\n\n\nI will keep this notebook well commented & organized for easy reading and please do UPVOTE if like me you too are interested in the Bicycle Cities insights :-)\n","6f1d3bdb":"From the above correlaition heat-map, it is clearly visible that there is a positive correlation between\n\n* Bicycle Usage & Bicycle Roads\n* Bicycle Usage & Bicycle Rental Stations\n* Bicycle Roads & Bicycle Rental Stations\n* Bicycle Roads & Bicycle Stolen\n* Bicycle Rental Stations & Bicycle Stolen\n\nLets explore these further in Bivariate Analysis","4ab59e83":"## Bivariate Analysis","32ae0c24":"## Libraries"}}