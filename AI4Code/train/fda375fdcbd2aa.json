{"cell_type":{"dbc5ba50":"code","017c4ba0":"code","c4c1acd0":"code","e63b5216":"code","fc2893cf":"code","2d465ecd":"code","71783a44":"code","e70ffa26":"code","aba4e86e":"code","0179098b":"code","68291de6":"code","ba27499c":"code","96242bb5":"code","81c0a800":"code","3593fd7f":"code","07412fe1":"code","54c3596c":"code","33c62fb4":"code","36460d7f":"code","d44bf2e4":"markdown","0158cbd4":"markdown","da4b8db4":"markdown","a91c7f71":"markdown","5ad5d8ee":"markdown","98b36fba":"markdown","a56fbae5":"markdown","bdfee2b2":"markdown","44d5b9f5":"markdown","c94e4187":"markdown","aa98aa6b":"markdown","3b57c171":"markdown","3c7b3990":"markdown","7589a0d3":"markdown","33f2b19a":"markdown","34f86530":"markdown","3f4e4abd":"markdown"},"source":{"dbc5ba50":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nfrom scipy.special import boxcox1p","017c4ba0":"data = pd.read_csv('..\/input\/cereal.csv')\ndata.head()","c4c1acd0":"# checking the rows and cols\ndata.shape","e63b5216":"# checking for null values\ndata.isnull().sum()","fc2893cf":"# checking the data types\ndata.dtypes","2d465ecd":"b = sns.distplot(data['rating'], hist=False)\nb.axes.set_title('Distribution of Ratings by customers', fontsize = 30)\nb.set_xlabel('Rating', fontsize = 20)\nb.set_ylabel('Count', fontsize = 20)\nplt.show()","71783a44":"data[data['rating'] > 60]","e70ffa26":"interesting_cols = ['fat', 'sodium', 'sugars', 'vitamins']\ndata[data['rating'] > 60][interesting_cols]","aba4e86e":"data[data['rating'] < 20]","0179098b":"plt.figure(figsize=(12, 8))\nb = sns.swarmplot(data['sugars'], data['rating'])\nb.axes.set_title('Do products with high rating have low sugar content?', fontsize = 30)\nb.set_xlabel('Grams of sugar', fontsize = 20)\nb.set_ylabel('Rating', fontsize = 20)\nplt.show()","68291de6":"b = sns.countplot(data['mfr'])\nb.axes.set_title('Who produces most?', fontsize = 30)\nb.set_xlabel('Manufacturer', fontsize = 20)\nb.set_ylabel('Number of products', fontsize = 20)\nplt.show()","ba27499c":"b = sns.countplot(data[data['rating'] > 60]['mfr'])\nb.axes.set_title('Who produces the best products?', fontsize = 30)\nb.set_xlabel('Manufacturer', fontsize = 20)\nb.set_ylabel('Count (rating > 60)', fontsize = 20)\nplt.show()","96242bb5":"b = sns.countplot(data[data['rating'] < 25]['mfr'])\nb.axes.set_title('Who produces the worst products?', fontsize = 30)\nb.set_xlabel('Manufacturer', fontsize = 20)\nb.set_ylabel('Count (rating < 20)', fontsize = 20)\nplt.show()","81c0a800":"data['type'].value_counts()","3593fd7f":"b = sns.countplot(data['type'])\nb.axes.set_title('Type of food items', fontsize = 30)\nb.set_xlabel('Type', fontsize = 20)\nb.set_ylabel('Count', fontsize = 20)\nplt.show()","07412fe1":"# find the correaltions\ncorr = data.corr().sort_values('rating')\ncorr['rating'].head()","54c3596c":"# Set up the matplotlib figure\nf, ax = plt.subplots(figsize=(11, 9))\n\n# Generate a custom diverging colormap\ncmap = sns.diverging_palette(220, 10, as_cmap=True)\n\n# plot the heatmap\nwith sns.axes_style(\"white\"):\n    ax = sns.heatmap(corr, vmax=.3, square=True, annot=True, linewidths=3)\nplt.show()","33c62fb4":"f, axes = plt.subplots(2, 2, figsize=(15,15))\n\n\na = sns.swarmplot(data['sugars'], data['rating'], ax=axes[0][0])\n# b.axes.set_title('Do products with high rating have low calorie content?', fontsize=30)\na.set_xlabel('Grams of sugar', fontsize = 20)\na.set_ylabel('Rating', fontsize = 20)\n\n\nb = sns.swarmplot(data['calories'], data['rating'], ax=axes[0][1])\n# b.axes.set_title('Do products with high rating have low calorie content?', fontsize=30)\nb.set_xlabel('Calories per serving', fontsize = 20)\nb.set_ylabel('Rating', fontsize = 20)\n\n\nc = sns.swarmplot(data['fat'], data['rating'], ax = axes[1][0])\n# c.axes.set_title('Do products with high rating have low fat content?', fontsize = 30)\nc.set_xlabel('Grams of Fat', fontsize = 20)\nc.set_ylabel('Rating', fontsize = 20)\n\n\nd = sns.swarmplot(data['sodium'], data['rating'], ax=axes[1][1])\n# d.axes.set_title('Do products with high rating have low sugar content?', fontsize = 30)\nd.set_xlabel('milligrams of sodium', fontsize = 20)\nd.set_ylabel('Rating', fontsize = 20)\n\nplt.show()","36460d7f":"f, axes = plt.subplots(2, 2, figsize=(15,15))\n\na = sns.swarmplot(data['fiber'], data['rating'], ax=axes[0][0])\n# b.axes.set_title('Do products with high rating have low calorie content?', fontsize=30)\na.set_xlabel('grams of dietary fiber', fontsize = 20)\na.set_ylabel('Rating', fontsize = 20)\n\n\nb = sns.swarmplot(data['protein'], data['rating'], ax=axes[0][1])\n# b.axes.set_title('Do products with high rating have low calorie content?', fontsize=30)\nb.set_xlabel('grams of protein ', fontsize = 20)\nb.set_ylabel('Rating', fontsize = 20)\n\n\nc = sns.swarmplot(data['potass'], data['rating'], ax = axes[1][0])\n# c.axes.set_title('Do products with high rating have low fat content?', fontsize = 30)\nc.set_xlabel('milligrams of potassium', fontsize = 20)\nc.set_ylabel('Rating', fontsize = 20)\n\nplt.show()","d44bf2e4":"## Top products\n\nLet's check the products who have a rating > 60","0158cbd4":"Analysis of a [nutrition data set](https:\/\/www.kaggle.com\/crawford\/80-cereals) about cereals.\n\n\n### Import the relevant modules","da4b8db4":"## Worst products\n\nNow we check for products with a rating < 20","a91c7f71":"## High is low?\n\nOne thing that catches my eye seeing the output is that some of the columns like fat, sodium and sugar have values in their lower range for the highest rated products.","5ad5d8ee":"# Quality vs Quantity\n\nDo the manufacturers who produce most products also produce the best ones? Let's find that out next","98b36fba":"## Read the last column of the heatmap","a56fbae5":"# Plotting the 3 most positively correlated variables\n\n\n## note :\nWe choose only 3 here because the 4th variable carbohydrates has a very low correlation coefficient.","bdfee2b2":"The plot shows that **G** infact produces the worst products. This is even more evident if we see ratings < 30. Also notice **Q** in both the plots. This shows that **Q** either produces the best products or the worst ones","44d5b9f5":"# K & G\n\nThe plot shows that most manufacturers produce less than 10 products, while **K and G** produce over 20 products. But do they produce quality products?","c94e4187":"## Are customers generous when giving ratings?\n\nThe ratings distribution is slightly skewed but we will leave it as it is. ","aa98aa6b":"# Quantity != Quality\n\nEven though **K and G** produce the **most products**, they don't produce the best ones. **N** and **Q** seem to be the **most efficient** at that, while **K** barely produces a single good product. **G** does not even feature in the list. It surely is in the other list. Since rating < 20 has only 2 products we shall find ratings < 25.","3b57c171":"### Read the data","3c7b3990":"## Cold or hot\n\nMost food items are served cold which is understandable!","7589a0d3":"The rest of the columns are not categorical so it will be better if we find the correlation and then analyse them.","33f2b19a":"# Plotting the 4 most negatively correlated variables\n\n","34f86530":"The trends look pretty obvious from both the subplots.\n\n### Now we shall use these variables to train a model","3f4e4abd":"These products seem to have fat, sodium, sugars and vitamins in the **higher range**. However this is just a simple observation, and can be verified by the scatterplot shown below but nothing can be concluded as yet."}}