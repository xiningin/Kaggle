{"cell_type":{"569a7b4c":"code","e2e02344":"code","366a4558":"code","a8320b3f":"code","e41f936d":"code","d12389ac":"markdown"},"source":{"569a7b4c":"# IMPORTANT TERMINOLOGY\n\n# VOI : value of interest\n# LUT : lookup table\n# MONOCHROME1 indicates that the greyscale ranges from bright to dark with ascending pixel values whereas,\n# MONOCHROME2 ranges from dark to bright with ascending pixel values\n# if window width reduces, contrast increases\n# if window center reduces, intensity increases","e2e02344":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O\nimport os","366a4558":"train_dir = \"\/kaggle\/input\/vinbigdata-chest-xray-abnormalities-detection\/train\/\"\ntest_dir = \"\/kaggle\/input\/vinbigdata-chest-xray-abnormalities-detection\/test\/\"\n\ntrain_images = os.listdir(train_dir)\ntest_images = os.listdir(test_dir)","a8320b3f":"import pydicom as pdcm\nimport matplotlib.pylab as plt\nfrom pydicom.pixel_data_handlers.util import apply_voi_lut\n\n# Read the first train image\nimage_path = train_dir + train_images[0]\ndicom_file = pdcm.dcmread(image_path)\n\n# apply_voi_lut function will return a numpy ndarray based on VOI LUT or windowing operation\n# if neither operation are present then dicom_file will be remain unchanged \nimg = apply_voi_lut(dicom_file.pixel_array, dicom_file)\n\n# if photometric interpretation of dicom file is MONOCHROME1\nif dicom_file.PhotometricInterpretation == \"MONOCHROME1\":\n    img = np.amax(img) - img\n\n# rescale pixel value between 0 to 255\nimg = (((img - np.min(img))\/np.max(img))*255.0).astype(np.uint8)\n\nplt.figure(figsize = (12,12))\nplt.imshow(img, cmap=plt.cm.gray)","e41f936d":"dicom_file","d12389ac":"##### Reference:\n1. https:\/\/www.kaggle.com\/raddar\/convert-dicom-to-np-array-the-correct-way\n2. https:\/\/stackoverflow.com\/questions\/15107381\/image-type-in-dicom-standard-monochrome1-and-monochrome2#:~:text=2%20Answers&text=MONOCHROME1%20indicates%20that%20the%20greyscale,(0028%2C0004)%20attribute.\n3. https:\/\/web.archive.org\/web\/20150920230923\/http:\/\/www.mccauslandcenter.sc.edu\/mricro\/dicom\/index.html"}}