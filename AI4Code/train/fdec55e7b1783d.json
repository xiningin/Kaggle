{"cell_type":{"7daaffd4":"code","03b3d5b2":"code","d7cde1aa":"code","1b9e58b9":"code","bbc6909f":"code","ddd4819a":"code","68f64ecf":"code","37fe6697":"code","afeceeea":"code","973d5d75":"code","03a1e578":"code","18bf6b7e":"code","4e9d5240":"code","edd8e5f4":"code","8114f7f6":"code","6123ac89":"code","a889853d":"code","c794959e":"code","ae7e96ea":"code","5d1cd793":"code","f0f6ab01":"code","eac6d35d":"code","f5f9bb63":"code","e17532db":"code","b214575c":"code","eb4e6485":"code","68609d9d":"code","5bbd0658":"code","7c8db052":"code","23dd59f3":"code","52416728":"code","1e6b0bc5":"code","75c1f4a1":"markdown","170b743d":"markdown","aac7d47a":"markdown","e38db787":"markdown","45339b7e":"markdown","447c449b":"markdown","12684560":"markdown","19301cdb":"markdown","9b2801aa":"markdown","c816bb0f":"markdown","ca44cf93":"markdown","f4e57026":"markdown","f4d2883e":"markdown","4db7971e":"markdown","c0d58f9d":"markdown"},"source":{"7daaffd4":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","03b3d5b2":"import pandas as pd\nimport numpy as np\nimport seaborn as sns\nimport matplotlib.pyplot as plt","d7cde1aa":"df1 = pd.read_csv(\"..\/input\/ted-talks\/ted_main.csv\")\ndf1.head(1)","1b9e58b9":"import datetime\ndf1['film_date'] = df1['film_date'].apply(lambda x: datetime.datetime.fromtimestamp( int(x)).strftime('%d-%m-%Y'))\ndf1['published_date'] = df1['published_date'].apply(lambda x: datetime.datetime.fromtimestamp( int(x)).strftime('%d-%m-%Y'))","bbc6909f":"df1.info()","ddd4819a":"df1.nunique()","68f64ecf":"df1.isnull().sum()","37fe6697":"df1.dropna(subset=['speaker_occupation'],inplace=True)","afeceeea":"df1.reset_index(inplace=True)","973d5d75":"df1_new = df1[['comments', 'event', 'main_speaker','title', 'speaker_occupation', 'views', 'published_date']]","03a1e578":"df1_new.head()","18bf6b7e":"fig,ax=plt.subplots(figsize=(17,5))\na=sns.barplot(y=df1_new['speaker_occupation'].value_counts(ascending=False).head(15).index, \n              x=df1_new['speaker_occupation'].value_counts(ascending=False).head(15).values, ax=ax, palette='afmhot')\na.set(title=\"top 15 speaker's occupation\")","4e9d5240":"fig,ax=plt.subplots(figsize=(17,6))\na=sns.barplot(y=df1_new['main_speaker'].value_counts(ascending=False).head(10).index, \n              x=df1_new['main_speaker'].value_counts(ascending=False).head(10).values, ax=ax, palette='afmhot')\na.set(title=\"top 10 speakers perform more than once\")\n\ndf1_new[df1_new.main_speaker=='Hans Rosling'].sort_values(by='views')","edd8e5f4":"fig,ax=plt.subplots(figsize=(17,5))\nb=sns.barplot(y=df1_new['event'].value_counts(ascending=False).head(15).index, \n            x=df1_new['event'].value_counts(ascending=False).head(15).values, ax=ax, palette='afmhot')\nb.set(title='top 15 most held yearly event')","8114f7f6":"df1_new['year']=df1_new['published_date'].apply(lambda x: x[-4:])\nig,ax=plt.subplots(figsize=(17,7))\nsns.lineplot(x=df1_new['year'].value_counts().index,y=df1_new['year'].value_counts().values, marker='o')\nsns.set_style('darkgrid')","6123ac89":"fig,ax=plt.subplots(figsize=(17,7))\nd=sns.barplot(x=df1_new[df1_new['views']>1000000].sort_values(by='views', ascending=False).head(10)['views'],\n              y=df1_new[df1_new['views']>1000000].sort_values(by='views', ascending=False).head(10)['title'],palette='afmhot', ax=ax)\nd.set(xlim=(15000000,50000000))\nd.set(title='top 10 most watched based on title')","a889853d":"fig,ax=plt.subplots(figsize=(17,7))\ne=sns.barplot(y=df1_new.sort_values(by='comments', ascending=False)['title'].head(10).values,\n            x=df1_new.sort_values(by='comments', ascending=False)['comments'].head(10).values, palette='afmhot', ax=ax)\ne.set(title='top 10 most commented based on title')\n","c794959e":"import re","ae7e96ea":"def clean_text(x):\n    letter_only=re.sub(\"[^a-zA-Z]\", \" \", x)\n    return ' '.join(letter_only.split()).lower()","5d1cd793":"df1_new['tags']=df1['tags']\ndf1_new.tags=df1_new.tags.astype('str')","f0f6ab01":"df1_new['tags']=df1_new['tags'].apply(clean_text)","eac6d35d":"df1_new.head(1)","f5f9bb63":"from sklearn.feature_extraction.text import CountVectorizer","e17532db":"cv=CountVectorizer()\ncv_tags=cv.fit_transform(df1_new['tags'])\ndf_genres=pd.DataFrame(cv_tags.todense(), columns=cv.get_feature_names(), index=df1_new['title'])","b214575c":"from sklearn.metrics.pairwise import cosine_similarity","eb4e6485":"cos_sim=cosine_similarity(cv_tags)","68609d9d":"def get_recommendation_based_title(x):\n    index_to_search = df1_new[df1_new['title']==x].index[0]\n    series_similar=pd.Series(cos_sim[index_to_search])\n    index_similar=series_similar.sort_values(ascending=False).head(10).index\n    return df1_new.loc[index_similar]","5bbd0658":"get_recommendation_based_title('Do schools kill creativity?')","7c8db052":"def get_recommendation_based_speakers(x):\n    index_to_search = df1_new[df1_new['main_speaker']==x].index[0]\n    series_similar=pd.Series(cos_sim[index_to_search])\n    index_similar=series_similar.sort_values(ascending=False).head(10).index\n    return df1_new.loc[index_similar]","23dd59f3":"get_recommendation_based_speakers('Hans Rosling')","52416728":"def get_recommendation_based_speaker_occupation(x):\n    index_to_search = df1_new[df1_new['speaker_occupation']==x].index[0]\n    series_similar=pd.Series(cos_sim[index_to_search])\n    index_similar=series_similar.sort_values(ascending=False).head(10).index\n    return df1_new.loc[index_similar]","1e6b0bc5":"get_recommendation_based_speaker_occupation('Artist')","75c1f4a1":"### Speakers","170b743d":"#### most of the tags appeared are about culture and psycology. Based on the most commented is about faith or what people believe ('Militant atheism') total commented more than 6000 (it doesnt disclose the type of the comment: is it a respond to the TED video or a respond to another comment from another user)","aac7d47a":"#### Based on the views, the title look interesting and extraordinary. most of the title tags appeared is about culture","e38db787":"seems like the film_date and published_date unreadable, we need to import date time","45339b7e":"# Views and Comments","447c449b":"#### Hans Rosling on the first position for speakers that giving speech more than once, he had been speeched for 9 times. he was Global health expert and his first speech watched more than 12million. one of his famous creature was writen on the 'Factfulness'","12684560":"# Graph\nsince im using just few features, i gotta make some new dataframe","19301cdb":"#### Based on 3 function above, we can get reccomendation using title, main speakers and speakers occupation based on tags on the video. to get the similarity tags we are using count vectorizer to make the binary, and then transform it into numbers that can be count based on their cosine similarity to get their nearest tags","9b2801aa":"#### Based on the graph we can see that the most speakers invited to give speech are writers, and it's about more than 40. assume that the writers spend more time on planning,forming, and researching the topics based what they wrote or their experienced with. the second and the third place was public figure based on art field: artists and designers. the rest of the speakers mostly is an expert on their field related with science and entertainment","c816bb0f":"### using Cosine Similarity","ca44cf93":"### Convert to sparse matrix using count vectorize","f4e57026":"### Events","f4d2883e":"# Recommendation System based on Tags","4db7971e":"#### Based on event, TED2014 and TED2009 held more than 80 times, but accumulative in general year TED had been held more than 300 times in 2012 (graph time series below)","c0d58f9d":"### clean the tags"}}