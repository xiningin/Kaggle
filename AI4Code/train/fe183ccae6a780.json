{"cell_type":{"3ce56b1e":"code","334a4121":"code","dd690ebf":"code","f81232d8":"code","ff5246b4":"code","f33dbbc4":"code","4d5a9851":"code","8107a8cf":"code","41fa4ff9":"code","76246066":"code","f6a52eef":"code","b61eaa1f":"code","bd99805e":"code","e69586ce":"code","58e6115f":"code","ebd05e0f":"code","6874602c":"code","1b31df99":"code","4aa00d4e":"code","23220ff2":"code","b4ab1382":"code","2ce4e87b":"code","46716866":"code","786cb2d2":"code","73cf454c":"code","1017b69d":"code","1f061f5a":"code","54017ff7":"code","9ce15fbe":"code","861d9d24":"code","59efa2fe":"code","fbe3f1f1":"code","87a6ae26":"code","0054a540":"code","545fbd80":"code","f369ee6f":"code","7dee0c79":"code","0f01621c":"code","565b4c8e":"code","f7a50f88":"code","bbcb3b21":"code","ffd46aa2":"code","81dccc15":"code","efded8ca":"code","f6426cc2":"code","6f47edab":"code","e7f5cbf6":"code","ec4961cd":"code","10e86ce3":"code","8631236d":"code","f88f28ef":"code","ed57b2ef":"markdown","f756479a":"markdown","6a10ab2f":"markdown","ec2b2227":"markdown","0a1a13b3":"markdown","d2d22759":"markdown","32598fc3":"markdown","7af3e4fa":"markdown","723039be":"markdown","66325884":"markdown","87ff60a8":"markdown","224ba790":"markdown","c08fd379":"markdown","93787c88":"markdown","c8c9ad2b":"markdown","af6d8afa":"markdown","e1bd3793":"markdown","a23719a5":"markdown","9a6f2d0b":"markdown","df38733f":"markdown","c681a719":"markdown","51d87359":"markdown","43e54685":"markdown","3efa33a1":"markdown","1caf83fb":"markdown","8f869d54":"markdown"},"source":{"3ce56b1e":"!pip install missingno ","334a4121":"import os \nimport pandas as pd\nimport numpy as  np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline \nsns.set(color_codes=True)\nimport missingno as msno\n","dd690ebf":"os.chdir('..\/input\/')","f81232d8":"melb=pd.read_csv('melb_data.csv')","ff5246b4":"melb.head()","f33dbbc4":"#shape of the data\nmelb.shape","4d5a9851":"#summary statistics\nmelb.describe()","8107a8cf":"# information on dataframe\nmelb.info()","41fa4ff9":"# Seperating numerical and categorical variables\n\nnum=melb.select_dtypes(exclude='object')\ncat=melb.select_dtypes(exclude=['int64','float64'])","76246066":"# List of numerical attributes\nnum.dtypes\n","f6a52eef":"# List of categorical attributes\n\ncat.dtypes","b61eaa1f":"# CHECKING FOR NaN VALUES IN THE VARIABLES","bd99805e":"\ncat.isnull().sum()","e69586ce":"plt.figure(figsize=(15,5))\nsns.heatmap(cat.isnull(),yticklabels=0,cbar=True,cmap='magma')","58e6115f":"num.isnull().sum()","ebd05e0f":"\nplt.figure(figsize=(15,5))\nsns.heatmap(num.isnull(),yticklabels=0,cbar=True,cmap='inferno')","6874602c":"plt.figure(figsize=(20,8))\nsns.heatmap(num.corr(),annot=False,cmap='YlGnBu',square=True);","1b31df99":"#Getting features that have a correlation value greater than 0.5 against sale price.\n\nfor val in range(len(num.corr()['Price'])):\n    if abs(num.corr()['Price'].iloc[val]) > 0.5:\n        print(num.corr()['Price'].iloc[val:val+1]) ","4aa00d4e":"num_corr=num.corr()['Price'][:-1].sort_values(ascending=True)\nnum_corr","23220ff2":"data = num[['Rooms','Bathroom','Bedroom2','Price']]\n#correlation = data.corr(method='pearson')\nplt.figure(figsize=(6,6))\nsns.heatmap(data.corr(),annot=True,cmap='CMRmap_r');","b4ab1382":"# First lets consider the numeriicl variables.\n#Car,BuildingArea and Yearbuilt has missing values.","2ce4e87b":"sns.kdeplot(num.Car,Label='Car',color='b')\n","46716866":"melb['Car'].describe()","786cb2d2":"melb['Car'].replace({np.nan:2},inplace=True)","73cf454c":"melb['YearBuilt'].describe()","1017b69d":"melb['YearBuilt'].replace({np.nan:'NA'},inplace=True)","1f061f5a":"sns.kdeplot(num.BuildingArea,Label='BuildingArea',color='b')","54017ff7":"melb['BuildingArea'].describe()","9ce15fbe":"melb['BuildingArea'].replace({np.nan:melb.BuildingArea.median()},inplace=True)","861d9d24":"melb['CouncilArea'].describe()","59efa2fe":"sns.countplot(melb['CouncilArea'],palette='spring');\nplt.xticks(rotation=90)\n","fbe3f1f1":"#Replacing the missing values with 'NA'\nmelb['CouncilArea'].replace({np.nan:'None'},inplace=True)","87a6ae26":"#Checking for replacements.\nmelb.isnull().sum()","0054a540":"#checking whether there are any duplicate rows\n\nmelb=melb.drop_duplicates(keep='first')\n\n","545fbd80":"melb","f369ee6f":"num['Price'].describe()","7dee0c79":"num['Price'].median()","0f01621c":"fig = plt.figure(figsize=(8,5))\nprint(\"Skew of SalePrice:\", num.Price.skew())\nplt.hist(num.Price,color='blue')\nplt.show()\nsns.distplot(melb['Price'],color='green');","565b4c8e":"fig = plt.figure(figsize=(8,5))\nprint(\"Skew of Log-Transformed Price:\", np.log1p(num.Price).skew())\nplt.hist(np.log1p(num.Price), color='black')\nplt.show()\n\n","f7a50f88":"# Histogram of continuous numerical variables\nnum.hist(bins=10,figsize=(8,14),layout=(5,3),color='r');","bbcb3b21":"# Scatterplots of YearBuilt,Lattitude,Distance and Longtitude Against Price\n\nplt.figure(figsize=(13,15))\nplt.subplots_adjust(hspace=0.5)\n\nplt.subplot(4,4,1)\nsns.scatterplot(data= num,y='Price',x='YearBuilt',color='green');\nplt.subplot(4,4,2)\nsns.scatterplot(data= num,y='Price',x='Lattitude',color='gold');\nplt.subplot(4,4,3)\nsns.scatterplot(data= num,y='Price',x='Distance',color='green');\n\nplt.subplot(4,4,4)\nsns.scatterplot(data= num,y='Price',x='Longtitude',color='gold');","ffd46aa2":"# Scatterplots of Landsize,BuildingArea and Postcode Against Price\nplt.figure(figsize=(13,15))\nplt.subplots_adjust(hspace=0.5)\n\nplt.subplot(3,3,1)\nsns.scatterplot(data= num,y='Price',x='Landsize',color='green');\nplt.subplot(3,3,2)\nsns.scatterplot(data= num,y='Price',x='BuildingArea',color='gold');\nplt.subplot(3,3,3)\nsns.scatterplot(data= num,y='Price',x='Postcode',color='green');\n","81dccc15":"#Scatterplots of Bedroom2,Bathroom , Rooms and Car Against Price\nplt.figure(figsize=(13,15))\nplt.subplots_adjust(hspace=0.5)\n\nplt.subplot(4,4,1)\nsns.scatterplot(data= num,y='Price',x='Bathroom',color='gold');\nplt.subplot(4,4,2)\nsns.scatterplot(data= num,y='Price',x='Bedroom2',color='green');\nplt.subplot(4,4,3)\nsns.scatterplot(data= num,y='Price',x='Rooms',color='gold');\nplt.subplot(4,4,4)\nsns.scatterplot(data= num,y='Price',x='Car',color='green');\n\n\n","efded8ca":"plt.figure(figsize=(13,15))\nplt.subplots_adjust(hspace=0.5)\nplt.subplot(3,3,1)\nsns.regplot(x='Landsize',y='Price',data=num,color='orange')\nplt.subplot(3,3,2)\nsns.regplot(x='BuildingArea',y='Price',data=num,color='blue')\nplt.subplot(3,3,3)\nsns.regplot(x='Postcode',y='Price',data=num,color='red')","f6426cc2":"plt.figure(figsize=(13,15))\nplt.subplots_adjust(hspace=0.5)\nplt.subplot(4,4,1)\nsns.regplot(x='Bathroom',y='Price',data=num,color='orange')\nplt.subplot(4,4,2)\nsns.regplot(x='Bedroom2',y='Price',data=num,color='blue')\nplt.subplot(4,4,3)\nsns.regplot(x='Rooms',y='Price',data=num,color='orange')\nplt.subplot(4,4,4)\nsns.regplot(x='Car',y='Price',data=num,color='blue')\n","6f47edab":"plt.figure(figsize=(13,15))\nplt.subplots_adjust(hspace=0.5)\nplt.subplot(4,4,1)\nsns.regplot(x='YearBuilt',y='Price',data=num,color='green')\nplt.subplot(4,4,2)\nsns.regplot(x='Lattitude',y='Price',data=num,color='red')\nplt.subplot(4,4,3)\nsns.regplot(x='Longtitude',y='Price',data=num,color='green')\nplt.subplot(4,4,4)\nsns.regplot(x='Distance',y='Price',data=num,color='red')","e7f5cbf6":"# Relationship between Regionname and Price\nplt.figure(figsize=(15,10))\nplt.xticks(rotation=90)\nsns.boxenplot(x= cat['Regionname'],y=num['Price'])\nplt.show()\n\n","ec4961cd":"plt.figure(figsize=(15,10))\n\nsns.violinplot(y=num['Price'],x=cat['Method'],palette='terrain_r')\nplt.show()\n#plt.subplot(2,2,2)\n\n\n","10e86ce3":"plt.figure(figsize=(26,20))\nplt.xticks(rotation=90)\nsns.boxplot(x=cat['Date'],y=num['Price'])\nplt.show()\n","8631236d":"plt.figure(figsize=(15,25))\nplt.xticks(rotation=90)\nsns.boxplot(y=num['Price'],x=cat['CouncilArea'],palette='winter')\nplt.show()\n\n\n\n","f88f28ef":"plt.figure(figsize=(8,10))\nplt.xticks(rotation=90)\nsns.boxenplot(y=num['Price'],x=cat['Type'],palette='spring')\nplt.show()","ed57b2ef":"* Since a first line analysis dosent show any columns to be dropped n since there are only few variables we r not dropping any colulmns as of now.","f756479a":"**LINEAR REGRESSION PLOTS OF THE NUMERICAL VARIABLES**","6a10ab2f":"* **KDE Plot described as Kernel Density Estimate is used for visualizing the Probability Density of a continuous variable.\n* **lets check the kde plots Car,BuildingArea and Yearbuilt**","ec2b2227":"*  Now lets move on to categorical variables.\n*  Among the categorical variables only CouncilArea has missing values.\n","0a1a13b3":"\n* YearBuilt is mostly between yeas 1800 and 2000 and the plot indicates that there is no much correlation between year and the price.\n* Highest price is observed between the latitudes 37.6 to 37.8.\n* Price  and Distance have a strong negative correlation, as the distance from CBD increases price decreases.\n* Highest price is observed at around a longtitude of 145.0\n\n","d2d22759":"# Analysis of Numerical Variables against Target variable","32598fc3":"* Price has a right skewed distribution.\n* The mean sale price of our dataset is 903000 which is less than the average value i.e because of right skewed distribution.\n* We can see some of the houses have sale price more than 40,00,000 dollars.","7af3e4fa":"Now let's look into the categorical variables****","723039be":"* Most of the council areas are quite expensive with an average of 1200000 dollars.\n* Most expensive council areas are Boroondara and Bayside costing around 1650000 dollars .\n* Least expensive council area is Morabool.\n* Quite a large number of outliers are found in the data.\n","66325884":"****HEATMAP SHOWING THE CORRELARTION OF TARGET VARIABLE WITH HIGHEST CORRELATED VARIABLES","87ff60a8":"**CONCLUSION**\n* Houses with more number of bathrooms ,rooms and Bedrooms are comparitively  more expensive.\n* distance from  CBD shows a negative correlation with the price and hence the more closer , the higher the price.\n* Higher the number of carspots , higher the price.\n* Landsize and Buildingarea do not seem to affect the price much.\n* Southern Metropolitan is the highest paid area.\n* Passed in (PI) and Vendor Bid (VB) costs higher.\n*type h is the most preferred type of house and has higher price\n","224ba790":"# Log Transformation of target variable","c08fd379":"# HEATMAP TO SEE MISSING VALUES IN NUMERICAL DATA","93787c88":"* Passed in (PI) and Vendor Bid (VB)  costs higher than other methods.\n* a close observaton of the plot also indicates that all other methods are more or less at the same range of price.","c8c9ad2b":"* Above plot indicates that none of the three  variables show any kind of strong corelation with our target variable either positively or negatively.\n* Postcode with highest price is between 3000 and 3200.\n\n","af6d8afa":"# Target Variable Analysis","e1bd3793":"* Bathroom,Bedroom and Rooms show higher correlation with price.\n* Whereas Distance and Yearbuilt shows least correlation.","a23719a5":"* As per the histogram most of the plots show skewness either to right or left.\n* Positively skewed are bathroom,Distance ,property count , yearbuilt etc\n* negatively skewed ones are Longitude,latitude,bedroom2,price etc","9a6f2d0b":"* Date sold do not seem to have much affect on the price.\n* Data gives no indication in price variation with changing year. ","df38733f":"# the above data shows that there are no duplicate rows n columns hence we can proceed further.\n# checking this is important as duplicates often interfere with our analysis.","c681a719":"# **CATEGORICAL DATA**","51d87359":"* The number of bathrooms and price shows a positive correlation  till 4 bathrooms after which there is a reduction in price  with increase in number mostly because of the preference of buyers.\n* Number of bedrooms also follows a positive correlationm , with most prefering below 5.\n* Rooms and Carspots shows a similar distribution as of the bathrooms.\n","43e54685":"# Dealing with Missing Values","3efa33a1":"\n# since the price is right skewed we apply log transformation to correct the skewness.","1caf83fb":"* Southern Metropolitan is the region with highest price range ,followed by Eastern Metropolitan.\n* Least priced houses are found at Western Victoria Region.\n* All other regions show more or less equal price.\n","8f869d54":"# Notes On Specific Variables\n\nRooms: Number of rooms\n\nPrice: Price in dollars\n\nMethod: S - property sold; SP - property sold prior; PI - property passed in; PN - sold prior not disclosed; SN - sold not disclosed; NB - no bid; VB - vendor bid; W - withdrawn prior to auction; SA - sold after auction; SS - sold after auction price not disclosed. N\/A - price or highest bid not available.\n\nType: br - bedroom(s); h - house,cottage,villa, semi,terrace; u - unit, duplex; t - townhouse; dev site - development site; o res - other residential.\n\nSellerG: Real Estate Agent\n\nDate: Date sold\n\nDistance: Distance from CBD\n\nRegionname: General Region (West, North West, North, North east \u2026etc)\n\nPropertycount: Number of properties that exist in the suburb.\n\nBedroom2 : Scraped # of Bedrooms (from different source)\n\nBathroom: Number of Bathrooms\n\nCar: Number of carspots\n\nLandsize: Land Size\n\nBuildingArea: Building Size\n\nCouncilArea: Governing council for the area\n"}}