{"cell_type":{"f94a0052":"code","e37f2d47":"code","4ace314b":"code","79907fbb":"code","07b5dda3":"code","74997bd9":"code","cb31ea4d":"code","e109dfe2":"code","819950b4":"code","3feec532":"code","bac7cdec":"code","02c97ca7":"code","af95dfce":"code","76d208cd":"code","05831828":"code","16b3da25":"code","883f6958":"code","703eaed8":"code","3f6ea840":"code","6dc7e59f":"code","5974da44":"code","3d0077b4":"code","aab12615":"code","b4c5e462":"code","6038b154":"code","d4737d08":"code","cde714c4":"code","9db943fb":"code","b42e5584":"code","de3be267":"code","68c6d7c4":"code","a59a4a0f":"code","da1b1cc7":"markdown","3845a44b":"markdown","fb49f178":"markdown","7aff1668":"markdown"},"source":{"f94a0052":"import numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\nimport datetime","e37f2d47":"train = pd.read_csv(\"..\/input\/covid19-global-forecasting-week-4\/train.csv\")\ntest= pd.read_csv(\"..\/input\/covid19-global-forecasting-week-4\/test.csv\")\ntrain.head()","4ace314b":"# converting the dtypes to datetime format\ntrain[\"Date\"] = pd.to_datetime(train[\"Date\"])\ntest['Date'] = pd.to_datetime(test['Date'])\n\ntrain = train.set_index(train['Date'])\ntest = test.set_index(test['Date'])\n\nfrance= train[(train.Country_Region== 'France')]\nfrance.tail()","79907fbb":"france.info()","07b5dda3":"france.shape","74997bd9":"france_1= france[['Date', 'ConfirmedCases']]\nfrance_1['ds']= france_1['Date']\nfrance_1['y']= france_1['ConfirmedCases']\nfrance_1.drop(columns=['Date','ConfirmedCases'], inplace= True)\nfrance_1.tail()","cb31ea4d":"import matplotlib.pyplot as plt\nimport seaborn as sns\nax= france_1.set_index('ds').plot(figsize= (15,8))\nax.set_xlabel('Date')\nax.set_ylabel('Fatalities')\n\nplt.show()","e109dfe2":"from fbprophet import Prophet\nfrom fbprophet.plot import plot_plotly","819950b4":"model_f=Prophet(interval_width = 0.95)\nmodel_f.fit(france_1)","3feec532":"future= model_f.make_future_dataframe(periods= 100)\nfuture.tail()","bac7cdec":"forecast= model_f.predict(future)\nforecast[['ds','yhat', 'yhat_lower', 'yhat_upper']].tail()","02c97ca7":"fig1= model_f.plot(forecast, uncertainty= True)","af95dfce":"model_f.plot_components(forecast)","76d208cd":"from fbprophet.plot import add_changepoints_to_plot\nfig = model_f.plot(forecast)\na = add_changepoints_to_plot(fig.gca(), model_f, forecast)","05831828":"model_f.changepoints","16b3da25":"pro_change= Prophet(changepoint_range=0.9)\nforecast = pro_change.fit(france_1).predict(future)\nfig= pro_change.plot(forecast);\na = add_changepoints_to_plot(fig.gca(), pro_change, forecast)","883f6958":"pro_change= Prophet(n_changepoints=20, yearly_seasonality=True)\nforecast = pro_change.fit(france_1).predict(future)\nfig= pro_change.plot(forecast);\na = add_changepoints_to_plot(fig.gca(), pro_change, forecast)","703eaed8":"train_2 = pd.read_csv(\"..\/input\/covid19-by-country-with-government-response\/covid19_by_country.csv\")\ntrain_2.head()\n","3f6ea840":"# converting the dtypes to datetime format\ntrain_2[\"Date\"] = pd.to_datetime(train_2[\"Date\"])\n\n\ntrain_2 = train_2.set_index(train_2['Date'])\n\n\nfrance_1= train_2[(train_2.Country== 'France')]\nfrance_1.tail()","6dc7e59f":"france_1.info()","5974da44":"france_1.shape","3d0077b4":"france_2= france_1[['Date', 'confirmed']]\nfrance_2['ds']= france_1['Date']\nfrance_2['y']= france_1['confirmed']\nfrance_2.drop(columns=['Date','confirmed'], inplace= True)\nfrance_2.head()","aab12615":"import matplotlib.pyplot as plt\nimport seaborn as sns\nax= france_2.set_index('y').plot(figsize= (15,8))\nax.set_xlabel('Date')\nax.set_ylabel('confirmed')\n\nplt.show()","b4c5e462":"from fbprophet import Prophet\nfrom fbprophet.plot import plot_plotly","6038b154":"model_f=Prophet(interval_width = 0.95)\nmodel_f.fit(france_2)","d4737d08":"future= model_f.make_future_dataframe(periods= 100)\nfuture.tail()","cde714c4":"forecast= model_f.predict(future)\nforecast[['ds','yhat', 'yhat_lower', 'yhat_upper']].tail()","9db943fb":"fig1= model_f.plot(forecast, uncertainty= True)","b42e5584":"model_f.plot_components(forecast)","de3be267":"from fbprophet.plot import add_changepoints_to_plot\nfig = model_f.plot(forecast)\na = add_changepoints_to_plot(fig.gca(), model_f, forecast)","68c6d7c4":"model_f.changepoints","a59a4a0f":"pro_change= Prophet(n_changepoints=40, yearly_seasonality=True)\nforecast = pro_change.fit(france_2).predict(future)\nfig= pro_change.plot(forecast);\na = add_changepoints_to_plot(fig.gca(), pro_change, forecast)","da1b1cc7":"Loading data","3845a44b":"# Prediction","fb49f178":"data update","7aff1668":"# Visualisation"}}