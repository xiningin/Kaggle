{"cell_type":{"204bffdf":"code","df533e6d":"code","de0c4fc7":"code","ae1b60d5":"code","3f990b18":"code","9ffc3f75":"code","a62faf09":"code","7db091c0":"code","cc4f5a19":"code","ad8e68c2":"code","9a8cb99a":"code","f8c1194f":"code","40ccdbd2":"code","cfc172ef":"code","ca588167":"markdown","7f45e0fe":"markdown","72d6eaab":"markdown","6bdd8381":"markdown","ce0fc44a":"markdown"},"source":{"204bffdf":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport matplotlib.lines as mlines\n%matplotlib inline\n\nimport warnings\nwarnings.filterwarnings('ignore')","df533e6d":"james = pd.read_csv('..\/input\/lebron_career.csv')","de0c4fc7":"james.info()","ae1b60d5":"james.head(5)","3f990b18":"def Prepare_james(df):\n    #Convert the date column into the datetime column (from object column)\n    df['date'] = pd.to_datetime(df['date'])\n    #Extracting year, month, and the day of the play date from the column\n    df['play_year'], df['play_month'], df['play_day'] = df['date'].dt.year, df['date'].dt.month, df['date'].dt.day\n    \n    #Separate the age column with age and age subdays column, and combine them to make real-time age\n    df[['age','age_subdays']]=df['age'].str.split('-',expand=True).replace(np.nan, 0).astype(int)\n    df['age'] = df['age'] + df['age_subdays'] \/ 365\n    \n    #Deal with the minutes player column\n    df['mp'] = pd.to_datetime(df['mp'], format = '%M:%S').dt.minute\n    \n    #Calculating overall shooting percentage\n    df['overall_pct'] = (df['fg'] + df['three'] + df['ft']) \/ (df['fga'] + df['threeatt'] + df['fta'])\n    \n    #game rating from: https:\/\/www.basketball-reference.com\/about\/glossary.html#pf\n    df['game_rating'] = 0.7 * df['orb'] + 0.3 * df['drb'] + 0.7 * df['ast'] + 0.7 * df['blk'] + df['stl'] - df['tov']\n    \n    return df","9ffc3f75":"Prepare_james(james)","a62faf09":"fig, ax = plt.subplots(figsize = (8, 6))\nax.plot(james.groupby(['age'])['pts'].mean())\nplt.xlabel('Age')\nplt.ylabel('Points per game')\nplt.title('Lebron points per game by age')","7db091c0":"sns.distplot(james.pts)","cc4f5a19":"sns.jointplot(x = 'game_rating', y = 'pts', data = james, height = 8, ratio=4, color = \"r\")\nplt.show()","ad8e68c2":"sns.jointplot(x = 'threep', y = 'pts', data = james, height = 8, ratio=4, color = \"b\")\nplt.show()","9a8cb99a":"sns.jointplot(x = 'mp', y = 'pts', data = james, height = 8, ratio=4, color = \"g\")\nplt.show()","f8c1194f":"fig, ax = plt.subplots(figsize = (8, 6))\nax.plot(james.groupby(['play_year'])['pts'].mean())\nplt.xlabel('Year')\nplt.ylabel('Points per game')\nplt.title('Lebron points per game by year')","40ccdbd2":"fig, ax = plt.subplots(figsize = (16, 6))\nmean_pts = james['pts'].mean()\njames['mean_row'] = mean_pts\nax.scatter(james['opp'], james['pts'])\nmean_line = ax.plot(james['opp'], james['mean_row'] , label='Mean', color = 'r', linestyle='-')\nax.legend()\nplt.title(\"Lebron Points vs each team in the league\")","cfc172ef":"james_pred = james[['pts','mp', 'age', 'overall_pct', 'game_rating', 'minus_plus']]\n\ncolormap = plt.cm.RdBu\nplt.figure(figsize=(14, 12))\nplt.title('Pearson Correlation of Features', y=1.05, size=15)\nsns.heatmap(james_pred.corr(), linewidths=0.1,vmax=1.0, \n            square=True, cmap=colormap, linecolor='white', annot=True)","ca588167":"Process the data","7f45e0fe":"Now visualizing the data","72d6eaab":"Checking distribution of pts","6bdd8381":"relatively normal which is good for prediction and does not require transformation","ce0fc44a":"Some modifications to prepare the data"}}