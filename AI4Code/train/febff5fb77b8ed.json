{"cell_type":{"e8eb8455":"code","5a425489":"code","9a999b8b":"code","231854b2":"code","a25dc38d":"code","95bf49d5":"code","29296ecd":"code","814b2f73":"code","959b2362":"code","be8b282c":"markdown","e56900f1":"markdown","318fd6d4":"markdown","c09d2563":"markdown","874faf8a":"markdown","88cc8686":"markdown"},"source":{"e8eb8455":"import numpy as np\nimport pandas as pd\nimport csv\nfrom datetime import datetime\nimport re\nimport math\n\ndata = pd.read_csv(\"..\/input\/nba2k20-player-dataset\/nba2k20-full.csv\")\ndata.head()","5a425489":"data['team'].unique()","9a999b8b":"data.info()","231854b2":"data.describe()","a25dc38d":"def clean_data(data):\n    data['salary'] = data['salary'].apply(lambda x: int(x[1:]))\n    data['jersey'] = data['jersey'].apply(lambda x: int(x[1:]))\n    data['b_day'] = data['b_day'].apply(lambda x: datetime.strptime(x, '%m\/%d\/%y').date())\n    data['height'] = data['height'].apply(lambda x: float(x[2+x.find('\/'):]))\n    data['weight'] = data['weight'].apply(lambda x: float(x[2+x.find('\/'):-4]))\n    data['draft_round'] = data['draft_round'].apply(lambda x: int(x) if len(x) == 1 else 0)\n    data['draft_peak'] = data['draft_peak'].apply(lambda x: int(x) if 1<=len(x)<=2 else 0)\n    data['college'] = data['college'].fillna('no education')\n    data['team'] = data['team'].fillna('no team')\n\nclean_data(data)","95bf49d5":"#find age of each player\n\ndef age_(birthday):\n    today = datetime.strptime(datetime.today().strftime('%Y-%m-%d'), '%Y-%m-%d').date()\n    age = today.year - birthday.year\n    return int(age)\n\ndata['age'] = data['b_day'].apply(lambda x: age_(x))","29296ecd":"data.info()","814b2f73":"data","959b2362":"from sklearn import preprocessing\nfrom scipy import stats\n\ndata_dummy = pd.get_dummies(data, columns=['team', 'position','draft_round', 'country'], drop_first= True)\ndata_dummy = data_dummy.drop(['full_name', 'draft_peak', 'b_day', 'jersey', 'college'], axis = 1)\nX, y = data_dummy.drop(['salary'], axis = 1), data_dummy['salary']\ndata_dummy","be8b282c":"**Also for the future analysis we will need column \"age\", so let's add it**","e56900f1":"**Now we need to add dummy and data will be ready.**","318fd6d4":"**It seems, that there are some columns with NaN values, so we need to fix this.**","c09d2563":"**Now we can see, that all the numeric columns, that were objects were transformed to integer or float.**","874faf8a":"**A lot of columns, that should be integer\/float  are objects, so we need to fix this too.**","88cc8686":"**Let's see some data.**"}}