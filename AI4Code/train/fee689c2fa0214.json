{"cell_type":{"e9ed3d4f":"code","8278ee47":"code","d6167300":"code","72f61bca":"code","2ccf185e":"code","13bee6f4":"code","50a62854":"code","1087d71f":"code","fffdd06d":"code","0d1fea01":"code","7c8d72cf":"code","eb16d7ce":"code","36c0b548":"code","0c3d5354":"code","d7df6f37":"code","9ef38f72":"code","9e5bcadc":"code","5fbd6b1b":"code","40118d04":"code","72391624":"code","9d96c77d":"code","3e07991c":"code","7ebe84a8":"code","ec053149":"code","59644625":"code","7ae96fd5":"markdown","1638625b":"markdown","ab75c236":"markdown","af7c1baf":"markdown","4a7c5262":"markdown","43d01f49":"markdown","7d0d446f":"markdown","6d228b13":"markdown","7dd22884":"markdown","5cccd29b":"markdown","cb042692":"markdown","6aab6b57":"markdown","db4a3b0e":"markdown","e9800f92":"markdown","d9b02792":"markdown","02976db3":"markdown","68702877":"markdown","848b6dd8":"markdown","f55eedcd":"markdown","83f53aba":"markdown","4e5e86b8":"markdown","0b0a0267":"markdown","8ffa4626":"markdown","299cae4e":"markdown","466c737b":"markdown","ddcee1a1":"markdown","270aec24":"markdown","c70088ae":"markdown"},"source":{"e9ed3d4f":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","8278ee47":"import os\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport regex as re","d6167300":"#Loading the datasets\nprimary_result = pd.read_csv('..\/input\/us-elections-dataset\/us-2016-primary-results.csv', sep=';')\nprimary_result.head(5)","72f61bca":"#Checking is there are missing values\nmissing_values = primary_result.isnull().sum()\nmissing_values","2ccf185e":"primary_result.drop(columns=['fips'], inplace=True)\nprimary_result.head(5)","13bee6f4":"#Lets see the total number of votes casted in the primary\nprimary_result.votes.sum()","50a62854":"#Number of counts of Republicans and Democrats\nprimary_result['party'].value_counts()","1087d71f":"#Let's take a look at Vermont\nvermont = primary_result.loc[primary_result.state.isin(['Vermont'])]\nvermont.head(5)","fffdd06d":"vermont.votes.sum()","0d1fea01":"votes = vermont.groupby('candidate')['votes'].sum().reset_index()\nVotes_Vermont = votes.sort_values('votes',ascending=False)\nVotes_Vermont","7c8d72cf":"fig, ax = plt.subplots(figsize = [16,5])\nsns.barplot(data = Votes_Vermont,x = 'candidate',y = 'votes', ax = ax)\nax.set_ylabel('Count')\nax.set_title('Vermont votes')\nfor index,Votes_Vermont in enumerate(Votes_Vermont['votes'].astype(int)):\n       ax.text(x=index-0.1 , y =Votes_Vermont+2 , s=f\"{Votes_Vermont}\" , fontdict=dict(fontsize=8))\nplt.show()","eb16d7ce":"ver_m = vermont.party.value_counts().reset_index()\n\nimport plotly.express as px\nfig = px.pie(ver_m, values=ver_m['party'], names=ver_m['index'])\nfig.update_layout(title = 'Party with Most Votes in Vermont')\nfig.show()","36c0b548":"primary = primary_result.groupby('candidate')['votes'].sum().reset_index()\nPrimary = primary.sort_values('votes',ascending=False).head(5)\nPrimary.head()","0c3d5354":"fig, ax = plt.subplots(figsize = [16,5])\nsns.barplot(data = Primary,x = 'candidate',y = 'votes', ax = ax)\nax.set_ylabel('Count')\nax.set_title('Top 5 Candidates with Most Votes')\nfor index,Primary in enumerate(Primary['votes'].astype(int)):\n       ax.text(x=index-0.1 , y =Primary+2 , s=f\"{Primary}\" , fontdict=dict(fontsize=8))\nplt.show()","d7df6f37":"state = primary_result.groupby('state')['votes'].sum().reset_index()\nStates = state.sort_values('votes',ascending=False).head(10)\nStates","9ef38f72":"fig = px.pie(States, values=States['votes'], names=States['state'])\nfig.update_layout(title = 'Top 10 States with Most Votes')\nfig.show()","9e5bcadc":"county = primary_result.groupby('county')['votes'].sum().reset_index()\nCounty = county.sort_values('votes',ascending=False).head(10)\nCounty","5fbd6b1b":"plt.subplots(figsize=(10,10))\nsplot = sns.barplot(x=County['county'],y=County['votes'], palette = 'winter_r')\nfor p in splot.patches:\n    splot.annotate(format(p.get_height(), '.0f'), (p.get_x() + p.get_width() \/ 2., p.get_height()), ha = 'center', va = 'center', xytext = (0, 15), textcoords = 'offset points')\n\nplt.xlabel('county',fontsize=15)\nplt.ylabel('Count',fontsize=15)\nplt.xticks(rotation=90)\nplt.yticks(fontsize=15)\nplt.title('Top 10 County Votes',fontsize=25);","40118d04":"Hill_cl = primary_result.loc[primary_result.candidate.isin(['Hillary Clinton'])]\nHill_cl.head(5)","72391624":"state = Hill_cl.groupby(['state','state_abbreviation'])['votes'].sum().reset_index()\nHill_state_max = state.sort_values('votes',ascending=False).head(15)\nHill_state_max","9d96c77d":"import plotly.express as px\n\nfig = px.choropleth(locations= ['CA','FL','NY','IL','TX','PA','OH','NC','MA','MI','NJ','GA','MD','VA','WI'], \n                    locationmode=\"USA-states\", \n                    color= Hill_state_max['votes'],\n                    labels={'color':'votes', 'locations':'State'},\n                    scope=\"usa\") \n\n\nfig.update_layout(\n    \n    title_text = 'Top 15 States with Most Votes',\n    geo_scope='usa'\n)\nfig.show()","3e07991c":"Hill_state_min = state.sort_values('votes',ascending=True).head(5)\nHill_state_min","7ebe84a8":"fig, ax = plt.subplots(figsize = [16,5])\nsns.barplot(data = Hill_state_min,x = 'state',y = 'votes', ax = ax)\nax.set_ylabel('Count')\nax.set_title('Bottom 5 states with Less Votes')","ec053149":"hillary = Hill_cl.groupby(['state','state_abbreviation'])['fraction_votes'].mean().reset_index()\nHillary = hillary.sort_values('fraction_votes',ascending=False).head(10)\nHillary","59644625":"fig, ax = plt.subplots(figsize = [16,5])\nsns.barplot(data = Hillary,x = 'state',y = 'fraction_votes', ax = ax)\nax.set_ylabel('Count')\nax.set_title('Top 10 states with Most Fraction Votes')","7ae96fd5":"We can see that Hillary Clinton had most of her votes in Califonia and Alaska happens to be the state where she had the least votes in Us Election 2016 Primary.","1638625b":"We take the total number of votes during the Us Election 2016 Primary","ab75c236":"We take a state from the primary result for a start. Let's take Vermont.","af7c1baf":"# **Loading Libraries and Dataset**","4a7c5262":"Loading the datasets for the US Election in 2016.","43d01f49":"The total number of votes casted in Vermont","7d0d446f":"We see that Hillary Clinton got the highest number of votes in the US 2016 Primary. Donald Trump, being the second.","6d228b13":"Let's see the county with the highest number of votes","7dd22884":"**If this notebook was helpful, please upvote!. Thanks**","5cccd29b":"# **County**","cb042692":"Since Hillary Clinton had the highest number of votes in the Us Election 2016 Primary, Let's see the states with the highest and smallest number of votes she had in each state.","6aab6b57":"Let's check out which party received more votes in Vermont","db4a3b0e":"Now, we want to see the total number of votes in each state in the US 2016 Election Primary.","e9800f92":"We check for total number of missing values in the primary result","d9b02792":"It's obvious the Republicans got most of the votes casted in Vermont.","02976db3":"# **States**","68702877":"# **Data Cleaning**","848b6dd8":"Let's see the total votes casted for each candidate in the US 2016 Primary","f55eedcd":"Lets see the average fraction votes Hillary had for each state","83f53aba":"# **Data Visualization**","4e5e86b8":"Drop columns that are not important","0b0a0267":"So Los Angeles is the county with the highest number of votes.","8ffa4626":"We see that the state with the highest number of votes casted is Califonia and the North Dakota being the state with the least number of votes","299cae4e":"We can see that Bernie Sanders had the highest number of votes in Vermont, whiles Ben Carson had the least number of votes.","466c737b":"# **Vermont**","ddcee1a1":"Let's see the total number of votes casted for each candidate in Vermont during the primary","270aec24":"# **Fraction Votes**","c70088ae":"# **Party**"}}