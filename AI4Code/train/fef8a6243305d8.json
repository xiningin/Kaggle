{"cell_type":{"971133eb":"code","326f6c04":"code","530c4977":"code","3ca7038c":"code","d3f4730a":"code","b2c427c7":"code","ac95b20b":"code","b9d7fc81":"code","8406097d":"code","3076c5b5":"code","d3213bae":"code","8e0ded6b":"code","29dca1c3":"code","08a2d257":"code","7a90c98f":"code","503d182d":"code","89658a6f":"code","a600faac":"code","10b247b8":"code","9c431274":"code","0efb3438":"code","04200e3d":"code","2b746e38":"code","31c5aaf4":"code","334ce662":"code","e93de2fc":"code","30c922b4":"code","e2638a8b":"code","29d6f2fd":"code","3996b44a":"code","bfc324b9":"code","df3e8c32":"code","e8380376":"code","c4b80d4d":"code","903b9ba0":"code","e5041c03":"code","c96b1567":"code","ae29552f":"code","ee5d1d05":"code","359265c6":"code","c06d800a":"code","958f4072":"code","f175cc15":"code","89580c8d":"code","706b8180":"code","bf9f7f86":"code","f733cc70":"code","4c1fd083":"code","58f2b772":"code","8aa27509":"code","60a73ff8":"code","07970773":"code","1ed6e1d6":"code","f42ce499":"code","fc46a523":"code","6b5faf46":"code","d5bd2b61":"code","26c1708f":"code","5b65e807":"code","a85bfa40":"code","aa3c73e6":"code","82b628ed":"code","ede49318":"code","05044650":"code","adb5ad4c":"code","6fd580a9":"markdown","e9818d09":"markdown"},"source":{"971133eb":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\n%matplotlib inline\n\nimport warnings","326f6c04":"warnings.filterwarnings(\"ignore\")","530c4977":"#df_all = pd.read_csv(\"book_rec\/Books.csv\")\ndf_all = pd.read_csv(\"\/kaggle\/input\/book-recommendation-dataset\/Books.csv\")","3ca7038c":"df_all.head()","d3f4730a":"df_all.shape","b2c427c7":"df_all.info()","ac95b20b":"df = df_all.iloc[:100000, :]","b9d7fc81":"df.shape","8406097d":"df.describe()","3076c5b5":"df.isnull().sum()","d3213bae":"len(df[\"Book-Title\"].unique())","8e0ded6b":"len(df[\"Book-Author\"].unique())","29dca1c3":"len(df[\"Publisher\"].unique())","08a2d257":"book_rating_all = pd.read_csv(\"\/kaggle\/input\/book-recommendation-dataset\/Ratings.csv\")\nbook_users_all = pd.read_csv(\"\/kaggle\/input\/book-recommendation-dataset\/Users.csv\")","7a90c98f":"book_rating = book_rating_all.iloc[:100000, :]\nbook_users = book_users_all.iloc[:100000, :]","503d182d":"book_rating.head()","89658a6f":"book_rating.shape","a600faac":"book_users.shape","10b247b8":"book_users.head()","9c431274":"book_users.isnull().sum()","0efb3438":"book_rating.head()","04200e3d":"book_ratings = book_rating.iloc[:, 0:3]","2b746e38":"book_ratings","31c5aaf4":"df.head(2)","334ce662":"book_ratings.rename(columns={\"User-ID\" : \"user_id\", \"Book-Rating\" : \"book_rating\"}, inplace=True)","e93de2fc":"book_ratings.head()","30c922b4":"df = pd.merge(df, book_ratings, on=\"ISBN\")","e2638a8b":"df.head()","29d6f2fd":"df = df.reindex(columns=[\"ISBN\", \"user_id\", \"Book-Title\", \"Book-Author\", \"Year-Of-Publication\", \"Publisher\", \"book_rating\", \"Image-URL-S\", \"Image-URL-M\", \"Image-URL-L\"])","3996b44a":"df.head()","bfc324b9":"df.groupby(\"Book-Title\").mean()[\"book_rating\"].sort_values(ascending=False)","df3e8c32":"df.groupby(\"Book-Title\").count()[\"book_rating\"].sort_values(ascending=False)","e8380376":"ratings = pd.DataFrame(df.groupby(\"Book-Title\").mean()[\"book_rating\"])","c4b80d4d":"ratings.head()","903b9ba0":"ratings.shape","e5041c03":"ratings.describe()","c96b1567":"ratings[\"num_of_ratings\"] = pd.DataFrame(df.groupby(\"Book-Title\").count()[\"book_rating\"])","ae29552f":"ratings.head()","ee5d1d05":"ratings.sort_values(by=\"book_rating\")","359265c6":"ratings.sort_values(by=\"book_rating\", ascending=False)","c06d800a":"plt.figure(figsize=(10, 6))\n\nplt.hist(ratings.num_of_ratings, bins=80)\nplt.show()","958f4072":"plt.figure(figsize=(10,6))\nplt.hist(ratings.book_rating, bins=60)\nplt.show()","f175cc15":"sns.jointplot(x=\"book_rating\", y=\"num_of_ratings\", data=ratings, alpha=0.5)\nplt.show()","89580c8d":"df.head()","706b8180":"book_matrix = df.pivot_table(index=\"user_id\", columns=\"Book-Title\", values=\"book_rating\")","bf9f7f86":"book_matrix","f733cc70":"book_matrix.shape","4c1fd083":"ratings","58f2b772":"ratings.sort_values(\"num_of_ratings\", ascending=False)","8aa27509":"davinci_code_ratings = book_matrix[\"The Da Vinci Code\"]","60a73ff8":"davinci_code_ratings.head()","07970773":"similar_to_davinci = book_matrix.corrwith(davinci_code_ratings)","1ed6e1d6":"similar_to_davinci","f42ce499":"corr_of_davinci = pd.DataFrame(similar_to_davinci, columns=[\"Correlation\"])","fc46a523":"corr_of_davinci.head()","6b5faf46":"corr_of_davinci.isnull().sum()","d5bd2b61":"corr_of_davinci.dropna(inplace=True)","26c1708f":"corr_of_davinci.isnull().sum()","5b65e807":"corr_of_davinci.head()","a85bfa40":"corr_of_davinci.sort_values(\"Correlation\", ascending=False).head()","aa3c73e6":"corr_davinci = corr_of_davinci.join(ratings[\"num_of_ratings\"])","82b628ed":"corr_davinci.head()","ede49318":"corr_davinci[corr_davinci.num_of_ratings > 50].sort_values(\"Correlation\", ascending=False)","05044650":"def predictBooks(book_name):\n    book_user_ratings = book_matrix[book_name]\n    similar_to_book_name = book_matrix.corrwith(book_user_ratings)\n    \n    corr_book_name = pd.DataFrame(similar_to_book_name, columns=[\"Correlation\"])\n    corr_book_name.dropna(inplace=True)\n    \n    corr_user_book = corr_book_name.join(ratings[\"num_of_ratings\"])\n    predictions = corr_user_book[corr_user_book.num_of_ratings > 50].sort_values(\"Correlation\", ascending=False)\n    \n    return predictions","adb5ad4c":"predictBooks(\"Life of Pi\")","6fd580a9":"## Load the dataset","e9818d09":"## Predict Books"}}