{"cell_type":{"5b8834e0":"code","e43a90f0":"code","cdcecd6b":"code","7e6e5bf4":"code","49d24667":"code","96af5b32":"code","8cccef2a":"code","b9760636":"code","d1ba8c70":"code","ed315a66":"markdown","82526e61":"markdown","7856fc82":"markdown","d013a345":"markdown","a74ec6ce":"markdown","001ab97f":"markdown","78b2a28e":"markdown","bd7d508a":"markdown"},"source":{"5b8834e0":"import os\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport matplotlib as mpl\nmpl.rcParams['figure.dpi']= 300\nmpl.rcParams[\"savefig.dpi\"] = 300\n%matplotlib inline\nimport warnings\nwarnings.simplefilter(action='ignore', category=FutureWarning)","e43a90f0":"age_list = []\ngender_list = []\nrace_list = []\ndatetime_list = []\nfilename_list = []\n\nfor filename in os.listdir(\"\/kaggle\/input\/utkface-new\/UTKFace\"):\n    \n    args = filename.split(\"_\")\n    \n    if len(args)<4:\n        age = int(args[0])\n        gender = int(args[1])\n        race = 4\n        datetime = args[2].split(\".\")[0]\n    else:\n        age = int(args[0])\n        gender = int(args[1])\n        race = int(args[2])\n        datetime = args[3].split(\".\")[0]\n    \n    age_list.append(age)\n    gender_list.append(gender)\n    race_list.append(race)\n    datetime_list.append(datetime)\n    filename_list.append(filename)\n    \n    \nd = {'age': age_list, 'gender': gender_list, 'race': race_list, 'datetime': datetime_list, 'filename': filename_list}\ndf = pd.DataFrame(data=d)","cdcecd6b":"df[\"race\"] = df[\"race\"].replace( {0: \"White\", 1: \"Black\", 2: \"Asian\", 3: \"Indian\", 4: \"Others\"})\ndf[\"gender\"] = df[\"gender\"].replace(regex={0: \"male\", 1: \"female\"})","7e6e5bf4":"df.head()","49d24667":"print(\"maximum age:\",df[\"age\"].max())\nprint(\"minimum age:\",df[\"age\"].min())\nprint(\"mean age:\",\"%.2f\" % df[\"age\"].mean())\nprint(\"standard deviation age:\",\"%.2f\" % df[\"age\"].std())","96af5b32":"sns.set_theme()\nfig, (ax1, ax2, ax3) = plt.subplots(1, 3, figsize=(21, 7))\nfig.suptitle('Age Distribution for Gender', fontsize=25)\nsns.set(font_scale = 1.2)\n\ndf_age_male = df.groupby('gender').get_group(\"male\")\ndf_age_female = df.groupby('gender').get_group(\"female\")\nh = sns.histplot(data=df_age_male, x=\"age\", kde=True, color=\"red\", ax=ax1, bins=50)\nh.set_xlabel(\"Age\", fontsize=18)\nh.set_ylabel(\"Number Images\", fontsize=18)\nh = sns.histplot(data=df_age_female, x=\"age\", kde=True, color=\"orange\", ax=ax2, bins=50)\nh.set_xlabel(\"Age\", fontsize=18)\nh.set_ylabel(\"Number Images\", fontsize=18)\nax1.set_title(\"male\", fontdict = {'fontsize': 20})\nax2.set_title(\"female\", fontdict = {'fontsize': 20})\n\nsns.kdeplot(data=df_age_male, x=\"age\", color=\"red\", ax=ax3)\nh = sns.kdeplot(data=df_age_female, x=\"age\", color=\"orange\", ax=ax3)\nax3.legend([\"male\", \"female\"], fontsize=\"large\")\nax3.set_title(\"male vs female\", fontdict = {'fontsize': 20})\nh.set_xlabel(\"Age\", fontsize=18)\nh.set_ylabel(\"Density\", fontsize=18)\n\n\nplt.subplots_adjust(left=0.1, bottom=0.1, right=0.9, top=0.85, wspace=0.4, hspace=0.4)\nplt.savefig(\"\/kaggle\/working\/utkface_age_gender_distribution.png\", bbox_inches='tight')\nplt.show()","8cccef2a":"fig, (ax1, ax2) = plt.subplots(1, 2, figsize=[14,6])\nfig.suptitle('Gender and Race Pie Chart', fontsize=25, y=1.1)\n\ndf.gender.value_counts().plot(kind='pie', pctdistance=0.5, ax = ax1, labels=None, textprops={'fontsize': 17})\nax1.yaxis.set_visible(False)\nax1.set_title('gender distribution', fontdict = {'fontsize': 20})\nax1.legend([\"male\", \"female\"])\n\ndf.race.value_counts().plot(kind='pie', pctdistance=0.5, ax = ax2, labels=None, textprops={'fontsize': 17})\nax2.yaxis.set_visible(False)\nax2.set_title('race distribution', fontdict = {'fontsize': 20})\nax2.legend([\"White\", \"Black\", \"Asian\", \"Indian\", \"Others\"])\n\nplt.savefig(\"\/kaggle\/working\/utkface_gender_race_pie_chart.png\", bbox_inches='tight')\nplt.show()","b9760636":"fig = plt.figure(figsize=(20,10))\nfig.suptitle('Age Distribution of all Races', fontsize=25, y=1.1)\nfig.tight_layout()\nsns.set(font_scale = 1.2)\n\n\nplt.subplot(2, 3, 1)\ndf_race_white = df.groupby('race').get_group(\"White\")\nh = sns.histplot(data=df_race_white, x=\"age\", kde=True, color=\"red\", bins=40)\nh.set_xlabel(\"Age\", fontsize=18)\nh.set_ylabel(\"Number Images\", fontsize=18)\nplt.title(\"white mean_age: \"+\"%.2f\" % df_race_white.mean()[\"age\"], fontsize=20)\n\nplt.subplot(2, 3, 2)\ndf_race_black = df.groupby('race').get_group(\"Black\")\nh = sns.histplot(data=df_race_black, x=\"age\", kde=True, color=\"orange\", bins=40)\nh.set_xlabel(\"Age\", fontsize=18)\nh.set_ylabel(\"Number Images\", fontsize=18)\nplt.title(\"black mean_age: \"+\"%.2f\" % df_race_black.mean()[\"age\"], fontsize=20)\n\nplt.subplot(2, 3, 3)\ndf_race_asian = df.groupby('race').get_group(\"Asian\")\nh = sns.histplot(data=df_race_asian, x=\"age\", kde=True, color=\"blue\", bins=40)\nh.set_xlabel(\"Age\", fontsize=18)\nh.set_ylabel(\"Number Images\", fontsize=18)\nplt.title(\"asian mean_age: \"+\"%.2f\" % df_race_asian.mean()[\"age\"], fontsize=20)\n\nplt.subplot(2, 3, 4)\ndf_race_indian = df.groupby('race').get_group(\"Indian\")\nh = sns.histplot(data=df_race_indian, x=\"age\", kde=True, color=\"green\", bins=40)\nh.set_xlabel(\"Age\", fontsize=18)\nh.set_ylabel(\"Number Images\", fontsize=18)\nplt.title(\"indian mean_age: \"+\"%.2f\" % df_race_indian.mean()[\"age\"], fontsize=20)\n\nplt.subplot(2, 3, 5)\ndf_race_other = df.groupby('race').get_group(\"Others\")\nh = sns.histplot(data=df_race_other, x=\"age\", kde=True, color=\"purple\", bins=40)\nh.set_xlabel(\"Age\", fontsize=18)\nh.set_ylabel(\"Number Images\", fontsize=18)\nplt.title(\"other mean_age: \"+\"%.2f\" % df_race_other.mean()[\"age\"], fontsize=20)\n\n\n\n\nplt.subplots_adjust(left=0.1, bottom=0.1, right=0.9, top=1, wspace=0.4, hspace=0.4)\nplt.savefig(\"\/kaggle\/working\/utkface_age_race_distribution.png\", bbox_inches='tight')\nplt.show()","d1ba8c70":"fig = plt.figure(figsize=(20,8))\nfig.suptitle('Boxplots for Age Distribution', fontsize=25, y=1.1)\nsns.set(font_scale = 1.2)\n\nplt.subplot(1, 2, 1)\nb = sns.boxplot(x=df[\"gender\"], y=df[\"age\"])\nb.axes.set_title(\"Gender\", fontsize=20)\nplt.xlabel(\"\")\nplt.ylabel(\"Age\", fontsize=18)\n\nplt.subplot(1, 2, 2)\nb = sns.boxplot(x=df[\"race\"], y=df[\"age\"])\nb.axes.set_title(\"Race\", fontsize=20)\nplt.xlabel(\"\")\nplt.ylabel(\"Age\", fontsize=18)\n\n\nplt.subplots_adjust(left=0.1, bottom=0.1, right=0.9, top=1, wspace=0.4, hspace=0.4)\nplt.savefig(\"\/kaggle\/working\/utkface_age_boxplots.png\", bbox_inches='tight')\nplt.show()","ed315a66":"# imports","82526e61":"# Important Values","7856fc82":"# generate pie charts for gender and race distribution","d013a345":"# show dataframe head","a74ec6ce":"# Boxplot of age distribution","001ab97f":"# generate histograms for age distribution for each race","78b2a28e":"# generate histograms for age distribution","bd7d508a":"# generate dataframe from data"}}