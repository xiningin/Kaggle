{"cell_type":{"2f81c715":"code","5571e3a4":"code","bcd2626f":"code","af31cff9":"code","95b8c242":"code","3fdd56e0":"code","7571edc7":"code","fc941688":"code","41af9834":"code","e33d93e5":"code","e062631e":"code","45a86f11":"code","fc6cdc9f":"code","80b8a91e":"code","9cee24d1":"code","4a701fd5":"code","9e4ba65e":"code","c28a665b":"code","d004afb4":"code","b6b32b23":"code","8ed8da38":"code","2ab0b427":"code","8a3b1f33":"code","a4294864":"code","8e5453c2":"code","c9f3f18e":"code","f51f9673":"code","c10e078a":"code","3949d018":"code","c2688b57":"code","7cec5a18":"code","40651a53":"markdown","11229c93":"markdown","4070880c":"markdown","88107b56":"markdown","bdcddb59":"markdown","20c36f82":"markdown","3fb84fef":"markdown","f289a4c9":"markdown","2e3e7ac1":"markdown","b7e66ef2":"markdown","0de20d3f":"markdown","34f3d28b":"markdown","2ea74eb4":"markdown","4815901b":"markdown","af3b9d99":"markdown","420e5880":"markdown","ae4dad9a":"markdown","d7921c16":"markdown","12703718":"markdown"},"source":{"2f81c715":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n%matplotlib inline\nimport cufflinks as cf\ncf.go_offline()","5571e3a4":"test = pd.read_csv('..\/input\/titanic\/test.csv')","bcd2626f":"train = pd.read_csv('..\/input\/titanic\/train.csv')","af31cff9":"train.head(2)","95b8c242":"sns.heatmap(train.isnull(),yticklabels=False,cbar=False,cmap='viridis')","3fdd56e0":"sns.countplot(x='Survived',data=train,hue='Sex')","7571edc7":"sns.countplot(x='Survived',data=train,hue='Pclass')","fc941688":"train['Age'].iplot(kind='hist',bins=20,color='red')","41af9834":"sns.countplot(x='SibSp',data=train)","e33d93e5":"sns.swarmplot(x='Survived',y='Fare', data=train)\n","e062631e":"train['Fare'].iplot(kind='hist',bins=30,color='green')","45a86f11":"plt.figure(figsize=(12, 7))\nsns.boxplot(x='Pclass',y='Age',data=train,palette='winter')","fc6cdc9f":"def impute_age(cols):\n    Age = cols[0]\n    Pclass = cols[1]\n    \n    if pd.isnull(Age):\n\n        if Pclass == 1:\n            return 37\n\n        elif Pclass == 2:\n            return 29\n\n        else:\n            return 24\n\n    else:\n        return Age","80b8a91e":"train['Age'] = train[['Age','Pclass']].apply(impute_age,axis=1)","9cee24d1":"sns.heatmap(train.isnull(),yticklabels=False,cbar=False,cmap='viridis')","4a701fd5":"train.drop('Cabin',axis=1,inplace=True)","9e4ba65e":"train.head()","c28a665b":"train.dropna(inplace=True)","d004afb4":"sex = pd.get_dummies(train['Sex'],drop_first=True)\nembark = pd.get_dummies(train['Embarked'],drop_first=True)","b6b32b23":"train.drop(['Sex','Embarked','Name','Ticket'],axis=1,inplace=True)","8ed8da38":"train = pd.concat([train,sex,embark],axis=1)","2ab0b427":"train.head()","8a3b1f33":"from sklearn.model_selection import train_test_split","a4294864":"X_train, X_test, y_train, y_test = train_test_split(train.drop('Survived',axis=1), \n                                                    train['Survived'], test_size=0.30, \n                                                    random_state=101)","8e5453c2":"from sklearn.linear_model import LogisticRegression","c9f3f18e":"logmodel = LogisticRegression()\nlogmodel.fit(X_train,y_train)","f51f9673":"predictions = logmodel.predict(X_test)\n","c10e078a":"from sklearn.metrics import classification_report","3949d018":"print(classification_report(y_test,predictions))","c2688b57":"from sklearn.metrics import confusion_matrix\n","7cec5a18":"print(confusion_matrix(y_test,predictions))","40651a53":"# Importing the libraries","11229c93":"# Evaluation ","4070880c":"Checking that heat map again!","88107b56":"# Converting Categorical Features","bdcddb59":"Roughly 20 percent of the Age data is missing.\nLooking at the Cabin column, we are just missing too much of that data to do something useful with it.","20c36f82":"Majority of the people aboard on the ship were inbetween the age group of 20-30 years old","3fb84fef":"# Reading in the test and train files ","f289a4c9":"Using imputation to fill in missing age data instead of just dropping the missing age data rows ","2e3e7ac1":"# Missing Data","b7e66ef2":"Generally those who paid more fare had a higher chance of survival.","0de20d3f":"# Data Cleaning","34f3d28b":"After seeing the above graph, we can clearly say that women had a much higher survival rate than men.","2ea74eb4":"Dropped the cabin column completely","4815901b":"The wealthier passengers in the higher classes tend to be older. Using these average age values to impute based on Pclass for Age.","af3b9d99":"# Logistic Regression","420e5880":"Based on the above graph, most of the people on the ship were single which included mainly the working class.\nThe couples had the second best population.","ae4dad9a":"# Exploratory Data Analysis","d7921c16":"Most of the deceased people belonged to the third class of the ship. Hence the first and second class people were the first one's to be rescued.","12703718":"Most of the people onboard had paid between around $20 for their tickets."}}