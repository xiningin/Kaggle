{"cell_type":{"1a8be0a1":"code","1b045bf8":"code","801b7bd3":"code","efe52fa8":"code","b9612354":"code","4b1264a0":"code","47536537":"code","8b9bb56d":"code","b00a05fd":"code","a259a89e":"code","c79bed06":"code","d8341a73":"code","dca05d5c":"code","70a4f766":"code","f1ba0a2b":"code","6974f79e":"code","9af5ff53":"code","7598473d":"code","6b24c51a":"code","fbb5a4c4":"code","97565bd4":"code","d20d2837":"code","efd1a45c":"code","50fe38ee":"code","13f0e623":"code","f59c455e":"code","ce866283":"code","99486997":"code","a5e353ae":"code","a4a7d648":"code","c67b7499":"code","a77de461":"code","169f069c":"code","3346a57d":"code","cf75e67b":"code","297c78fc":"code","2205b6df":"code","6d08f020":"code","d5215dae":"code","2c11ea33":"code","47f10ee8":"code","2be21cba":"code","bc0fc73a":"markdown","51566a74":"markdown","01f104fc":"markdown","bc458d02":"markdown","8733867d":"markdown","76ca924c":"markdown","95eceee8":"markdown","46f06faf":"markdown","077af7fa":"markdown","46a81b1d":"markdown","5ef52fbd":"markdown","0c0faee6":"markdown","b38d29b8":"markdown","92be3adc":"markdown","595eaa7a":"markdown","7470e2da":"markdown","20fe5c98":"markdown","dea39425":"markdown","af1d3a87":"markdown","66f38b1f":"markdown","599d9813":"markdown","5be191aa":"markdown","37c2b99e":"markdown","2e031fb4":"markdown","80830f35":"markdown","ebba1fff":"markdown","96366d3e":"markdown","84dd04c7":"markdown","68b8c0d3":"markdown","c0ef3f75":"markdown","07305ef5":"markdown","241d9750":"markdown","affa2434":"markdown","96f7086f":"markdown","8ea2f5ec":"markdown","eada4628":"markdown","548fbc96":"markdown","1a92ac66":"markdown","c35a10cb":"markdown","6adb9a67":"markdown","c6645b2e":"markdown","f1305707":"markdown","b3c98e3e":"markdown","adb78b93":"markdown","acd1477f":"markdown","404477eb":"markdown","6eb77984":"markdown","44fc7e47":"markdown","c08c2c0d":"markdown","4fe97a5a":"markdown"},"source":{"1a8be0a1":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load in \n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# Any results you write to the current directory are saved as output.","1b045bf8":"import numpy as np\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport seaborn as sns","801b7bd3":"df=pd.read_csv(\"\/kaggle\/input\/universalbank\/Bank.csv\")","efe52fa8":"#Reading the first ten rows of the dataset\ndf.head(10)","b9612354":"df.shape","4b1264a0":"df.info()","47536537":"df.describe()","8b9bb56d":"df.groupby('Family').count()","b00a05fd":"df.groupby('Education').count()","a259a89e":"df.groupby('ZIP Code').count()","c79bed06":"sns.FacetGrid(df, hue= \"Personal Loan\",size=7).map(sns.distplot,'Family').add_legend()","d8341a73":"sns.FacetGrid(df,hue= \"CreditCard\",size=7).map(sns.distplot,'Income').add_legend()","dca05d5c":"sns.FacetGrid(df,hue= \"Personal Loan\",size=7).map(sns.distplot,'Education').add_legend()","70a4f766":"sns.FacetGrid(df,hue=\"Personal Loan\",size=7).map(sns.distplot,'Experience').add_legend()","f1ba0a2b":"sns.FacetGrid(df,hue=\"Personal Loan\",size=7).map(sns.distplot,'CCAvg').add_legend()\nplt.xlabel('Average Expenditure ')\nplt.ylabel('Number of customers')","6974f79e":"sns.boxplot(x='Personal Loan',y='Family',data=df)\nplt.show()","9af5ff53":"sns.boxplot(x='Personal Loan',y='Experience',data=df)\nplt.show()\nsns.boxplot(x='Personal Loan',y='Age',data=df)\nplt.show()","7598473d":"sns.boxplot(x='Personal Loan',y='CCAvg',data=df)\nplt.show()","6b24c51a":"sns.boxplot(x='Personal Loan',y='Income',data=df)\nplt.show()","fbb5a4c4":"sns.violinplot(x='CreditCard',y='Income',data=df,hue='Personal Loan')\nplt.show()","97565bd4":"sns.violinplot(x='Personal Loan',y='CCAvg',data=df)\nplt.show()","d20d2837":"sns.violinplot(x='Personal Loan',y='Income',data=df)\nplt.show()","efd1a45c":"sns.relplot(x=\"Age\", y=\"Experience\", data=df)","50fe38ee":"sns.relplot(x=\"Experience\",y=\"Income\",kind='line',data=df)","13f0e623":"sns.relplot(x=\"Income\", y=\"CCAvg\",kind='line' ,data=df)","f59c455e":"sns.pairplot(df)\n","ce866283":"cols = ['ID','Age','Experience','Income','ZIP Code','Family','CCAvg','Education','Mortgage','Personal Loan','Securities Account','CD Account','Online']\ncm = np.corrcoef(df[cols].values.T)","99486997":"from mlxtend.plotting import heatmap\nhm=heatmap(cm,column_names=cols,row_names=cols,figsize=(20, 20))","a5e353ae":"X=np.asarray(df[['Age','Experience','Income','Family','CCAvg','Mortgage','Education']])\ny=np.asarray(df['Personal Loan'])\nprint(X[0:10])\nprint(y[0:10])","a4a7d648":"from sklearn.model_selection import train_test_split\nX_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.24,random_state=4)\nprint(\"Train set:\",X_train.shape,y_train.shape)\nprint(\"Test set:\",X_test.shape,y_test.shape)","c67b7499":"from sklearn import svm\nclf = svm.SVC(kernel='rbf')\nclf.fit(X_train, y_train) ","a77de461":"#Predicting the data \nyhat=clf.predict(X_test)","169f069c":"from sklearn.metrics import confusion_matrix,classification_report\ncon=confusion_matrix(y_test, yhat)\nprint(con)","3346a57d":"from mlxtend.plotting import plot_confusion_matrix as pc\nplo=pc(conf_mat=con,cmap='winter_r',figsize = (5, 5))","cf75e67b":"print(classification_report(y_test, yhat))","297c78fc":"#Normalize the dataset\nfrom sklearn import preprocessing\nX = preprocessing.StandardScaler().fit(X).transform(X)\nX[0:5]","2205b6df":"from sklearn.model_selection import train_test_split\nX_train,X_test,y_train,y_test=train_test_split(X,y,test_size=0.285,random_state=4)\nprint(\"Train set:\",X_train.shape,y_train.shape)\nprint(\"Test set:\",X_test.shape,y_test.shape)","6d08f020":"from sklearn.linear_model import LogisticRegression\nLr=LogisticRegression(C=0.01,solver='liblinear').fit(X_train,y_train)\nLr","d5215dae":"yhat=Lr.predict(X_test)\nprint(yhat)","2c11ea33":"con_lr=confusion_matrix(y_test, yhat)\nprint(con_lr)","47f10ee8":"from mlxtend.plotting import plot_confusion_matrix as pc\nplo=pc(conf_mat=con_lr,cmap='winter_r',figsize = (5, 5))","2be21cba":"print(classification_report(y_test, yhat))","bc0fc73a":"There is a major overlapping,therfore a customer having a credit card is irrespective of his income.  ","51566a74":"We observe that:<br>\n1. People with education level 1 tend to no take personal loan.<br>\n2. People with education level 2 and 3 have higher tendency to take personal loan,but there is a significant number of people who do not take loan.","01f104fc":"<h1>Bivariate Analysis","bc458d02":"This dataset contains 5000 rows and 14 columns.","8733867d":"Many Families live in the same address location,hence having same Zip code","76ca924c":"<h2>Pair Plot","95eceee8":"In our dataset there is maximum of 4 family members.","46f06faf":"<h2>Support Vector System","077af7fa":"We can clearly see our training and testing data.","46a81b1d":"Hence we cannot find a meningful relationship between the experience of the customer and whether he takes up a personal loan.Customers with less experience also take up the personal loan just like more experienced customers.","5ef52fbd":"Predicting the data","0c0faee6":"Hence this confusion matrix plot shows the correct and incorrect predictions that our model has made.","b38d29b8":"Training and Testing Data","92be3adc":"Observation:<br>\n1. People with high credit card expenditure have a higher probablity to take up the personal loan.<br>\n2. There is a high number of customers who dont take up the loan with expenditure less than 20000","595eaa7a":"This plot shows us the various prediction that our model has correctly and incorrectly predicted. ","7470e2da":"We can conclude that there are 5000 rows with no missing data.<br>\nAll the columns are of integer data type except the 'CCAvg' columns which is of float type. ","20fe5c98":"<h1>Loading the Dataset","dea39425":"From this Box Plot we can conclude:<br>\n1. The highest income of the customer not taking the loan is almost equal to the median of the income of the customers who take up the loan.\n2. People earning less income do not buy the personal loan.\n3. People having high source of income tend to take the loan.","af1d3a87":"<h2>Train\/Test Split","66f38b1f":"1. Both the violin plots are almost identical.","599d9813":"Modelling","5be191aa":"From the above graph we can conclude that:<br>\n1. Family of 1 member are less likely to get a personal loan than a family with 3 to 4 members.<br>\n2. With the increase in the number of members in the family,more is the tendency to acquire a personal loan.","37c2b99e":"<h1>Box Plot","2e031fb4":"<h1>Importing Libraries","80830f35":"<h3>Scatter Plot","ebba1fff":"<h1>Understanding the Dataset","96366d3e":"We are not able to properly analyse these graphs.Some of them don't give proper meaning and can be confusing to understand. ","84dd04c7":"<h1>Dataset Details","68b8c0d3":"<h1>Violin Plot","c0ef3f75":"1. There is a steady increase in the graph.\n2. There is a sharp increse in the average credit card expenditure when the income is more than 190.\n","07305ef5":"1. We can clearly predict that the customers with greater expenditure tend to take up the loan.","241d9750":"We observe here that customers with less experience also have a great income salary as compared to customers with high income.","affa2434":"There are many customers with the education level 1.","96f7086f":"To increase its loan business,the Universal Bank wants to predict the customers which have the higher probablity to purchase the loan depending on the various features.","8ea2f5ec":"Using Confusion Matrix","eada4628":"1. People with less credit card expenses do not take a personal loan.\n2. The majority of people with expenditure greater than 9 and taking a loan is minimal.","548fbc96":"Out model has a 0.92 precision in predicting the customers not taking a loan and 0.62 precision in predicting customers taking a loan.<br>\nThere are many other factors calculation like f1-score.","1a92ac66":"<h1>Business Understanding ","c35a10cb":"<h3>Heat Map","6adb9a67":"<h1>Univariate Analysis","c6645b2e":"<h1>Data Preprocessing","f1305707":"Obseravtion:\n1. The median is exactly 2 for the customers with family members equal to 2 for not taking a Personal loan.<br>\n2. As the family members increses,the prospect of taking a loan is high.","b3c98e3e":"The major purpose of the univariate analysis is to describe, summarize and find patterns in the single feature.","adb78b93":"<h1>Logistic Regression","acd1477f":"This Heatmap give us the relation between the different features in the dataset.From the Heatmap and Pearson grading.\n1. There is high relationship between Income and CCAvg with a ranking of 0.65\n2. Personal Loan and Income ranking 0.50\n3. CCAvg and Personal Loan ranking 0.37\n3. Personal Loan and CD account ranking 0.32","404477eb":"Using the confusion matrix","6eb77984":"From the above two box plots:\n1. The two box plots are almsot identical.\n2. We cannot find any meaningful relationship between Personal Loan and Age and Experience of the customers.","44fc7e47":"****\nThis dataset contains the data of the customers of the Universal Bank.<br>\nIt contains the various features:<br>\n1. ID-The Id of the customers which uniquely identifies each customer.<br>\n2. Age-Age of the customer.<br>\n3. Experience-Work Experience of customer.<br>\n4. Income-Yearly income of the customer(every 10000).<br>\n5. ZIP Code-Zip code of the address of the customer.<br>\n6. Family-Number of family members.<br>\n7. CCAvg-Average of Credit Card Yearly Expenses.<br>\n8. Education-Education of the customer.<br>\n       where 1-Level 1\n             2-Level 2\n             3-Level 3\n       \n9. Mortgage-Value of house mortgage.<br>\n10. Securities-Does the customer have a securities account with the bank? (1=Yes, 0=No)<br>\n11. CDAccount-Does the customer have a certificate of deposit with the bank? (1=Yes, 0=No)<br>\n12. Online-Does the customer use Net banking facilities (1=Yes, 0=No)<br>\n13. CreditCard-Does the customer use a credit card? (1=Yes, 0=No)<br>","c08c2c0d":"This graph clearly upholds the saying \"With age comes wisdom and experience\"","4fe97a5a":"Using Logistic Regression,our model has a 0.94 precision in predicting the customers having not taking a loan and 0.89 precision for the customers taking loans."}}