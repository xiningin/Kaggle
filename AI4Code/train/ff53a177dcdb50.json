{"cell_type":{"74183610":"code","18716eac":"code","db541a36":"code","4fc3f0db":"code","5c10277f":"code","a6490dd2":"code","7cdacadc":"code","f7ea66a8":"code","f53e71fd":"code","c3717464":"code","01edf2bd":"code","b85adf8a":"code","cd0e74d2":"code","5f236101":"code","ce5081ec":"code","e3d76400":"code","196fe9a8":"code","18e22259":"code","f47d8be3":"code","4e3099e0":"code","b10b7b3f":"code","0eaec842":"code","1a167271":"code","2bc8fa75":"code","d8028911":"code","b07b5b42":"code","2d8647eb":"code","633aea14":"markdown","a8f32078":"markdown","7ebfc496":"markdown","c794629b":"markdown","7352163a":"markdown","97a7431f":"markdown","6375c5c1":"markdown","1af7309b":"markdown","6a2e8180":"markdown","236691f7":"markdown","a4090004":"markdown","3a57205b":"markdown","1ba5a816":"markdown","75c5faef":"markdown","5ae6fad6":"markdown","836ec0e3":"markdown","37ce6cfc":"markdown","48774fc2":"markdown","632350a5":"markdown","12d80949":"markdown","d663fc14":"markdown","cba4effe":"markdown","d3d2e20a":"markdown","318d9715":"markdown","fad76e79":"markdown","e8716826":"markdown","a7bc55b9":"markdown","e05f3cb1":"markdown","43b9b99e":"markdown"},"source":{"74183610":"import numpy as np\nimport pylab as pl\nimport pandas as pd\nimport matplotlib.pyplot as plt \n%matplotlib inline\nimport seaborn as sns\nfrom sklearn.utils import shuffle\nfrom sklearn.svm import SVC\nfrom sklearn.metrics import confusion_matrix,classification_report\nfrom sklearn.model_selection import cross_val_score, GridSearchCV\n# Input data files are available in the \"..\/input\/\" directory.\n# For example, running this (by clicking run or pressing Shift+Enter) will list the files in the input directory\n\nimport os\nprint(os.listdir(\"..\/input\"))\n\n# Any results you write to the current directory are saved as output.","18716eac":"Data = pd.read_csv(\"..\/input\/vehicle-dataset-from-cardekho\/CAR DETAILS FROM CAR DEKHO.csv\")\n\n","db541a36":"Data.info()\nData[0:10]","4fc3f0db":"cnt_pro = Data['name'].value_counts()  [:50]\nplt.figure(figsize=(6,4))\nsns.barplot(cnt_pro.index, cnt_pro.values, alpha=0.8)\nplt.ylabel('Number of Data', fontsize=12)\nplt.xlabel('name', fontsize=9)\nplt.xticks(rotation=90)\nplt.show();","5c10277f":"cnt_pro = Data['owner'].value_counts()\nplt.figure(figsize=(6,4))\nsns.barplot(cnt_pro.index, cnt_pro.values, alpha=0.8)\nplt.ylabel('Number of Data', fontsize=12)\nplt.xlabel('owner', fontsize=12)\nplt.xticks(rotation=80)\nplt.show();","a6490dd2":"cnt_pro = Data['seller_type'].value_counts()\nplt.figure(figsize=(6,4))\nsns.barplot(cnt_pro.index, cnt_pro.values, alpha=0.8)\nplt.ylabel('Number of seller_type', fontsize=12)\nplt.xlabel('seller_type', fontsize=12)\nplt.xticks(rotation=80)\nplt.show();","7cdacadc":"top_sell = Data.sort_values(by='selling_price', ascending=False)\nfigure = plt.figure(figsize=(10,6))\nsns.barplot(y=top_sell.seller_type, x=top_sell.selling_price)\nplt.xticks()\nplt.xlabel('selling_price')\nplt.ylabel('seller_type')\nplt.title('The selling price of car')\nplt.show()","f7ea66a8":"top_sell = Data.sort_values(by='year', ascending=True)[:30]\nfigure = plt.figure(figsize=(10,6))\nsns.barplot(y=top_sell.selling_price, x=top_sell.year)\nplt.xticks()\nplt.xlabel('year')\nplt.ylabel('selling_price')\nplt.title('The selling price by vehicle year')\nplt.show()","f53e71fd":"# here we are comparing the selling_price with name (vehicle)\n# first group the name and get max,min and avg selling price of the vehicle\ndisplay(Data[[\"name\",\"selling_price\",]].groupby([\"name\"]).agg([\"max\",'mean',\"min\"]).style.background_gradient(cmap=\"Blues\"))\n# here we are ploting these values using lineplot\nData[[\"name\",\"selling_price\",]].groupby([\"name\"]).agg([\"max\",'mean',\"min\"]).plot(kind=\"line\",color =[\"red\",\"black\",\"blue\"])\nplt.title(\"Which car is most selling price?\", fontsize=20)\n#plt.xticks(np.arange(17),['Maruti Swift Dzire VDI','Maruti Alto 800 LXI','Maruti Alto LXi','Hyundai EON Era Plus','Maruti Alto LX'],rotation=90,fontsize=15)\nplt.ylabel(\"selling_price\",fontsize=9) \nplt.xticks(rotation=80)\n#plt.xlabel(\" \")\nplt.show()\nprint(\"History's Best Selling Vehicles\")\ndisplay(Data.loc[Data.groupby(Data[\"name\"])[\"selling_price\"].idxmax()][[\"name\",\n                                                                  \"selling_price\"]].style.background_gradient(cmap=\"copper\")) ","c3717464":"Data['year'] = Data[\"year\"].astype(\"int\")\nprint('time series selling price cars')\ndisplay(Data[[\"year\",'name','selling_price']].groupby([\"name\",\n                                                         \"year\"]).agg(\"sum\").sort_values(by=\"selling_price\",\n                                                          ascending = False).head(10).style.background_gradient(cmap='Greens'))\n# here we are plotting them\nsns.lineplot(Data[\"year\"],Data['selling_price'],hue=Data[\"seller_type\"])\nplt.title(\"time series selling vehicles by seller_type\",fontsize=20)\nplt.xticks(fontsize=18)\nplt.xlabel(\" \")\nplt.show()\n","01edf2bd":"display(Data[Data[\"owner\"]==\"First Owner\"][[\"name\",\"transmission\",\"year\",\"km_driven\",\"fuel\",\"seller_type\",\n                                       \"selling_price\"]].sort_values(by=\"selling_price\", ascending= False).head(5).style.background_gradient(cmap=\"spring\"))\ndisplay(Data[Data[\"owner\"]==\"Second Owner\"][[\"name\",\"transmission\",\"year\",\"km_driven\",\"fuel\",\"seller_type\",\n                                       \"selling_price\"]].sort_values(by=\"selling_price\", ascending= False).head(5).style.background_gradient(cmap=\"spring\"))\n\ndisplay(Data[Data[\"owner\"]==\"Third Owner\"][[\"name\",\"transmission\",\"year\",\"km_driven\",\"fuel\",\"seller_type\",\n                                       \"selling_price\"]].sort_values(by=\"selling_price\", ascending= False).head(5).style.background_gradient(cmap=\"spring\"))\n\ndisplay(Data[Data[\"owner\"]==\"Fourth & Above Owner\"][[\"name\",\"transmission\",\"year\",\"km_driven\",\"fuel\",\"seller_type\",\n                                       \"selling_price\"]].sort_values(by=\"selling_price\", ascending= False).head(5).style.background_gradient(cmap=\"spring\"))\n\ndisplay(Data[Data[\"owner\"]==\"Test Drive Car\"][[\"name\",\"transmission\",\"year\",\"km_driven\",\"fuel\",\"seller_type\",\n                                       \"selling_price\"]].sort_values(by=\"selling_price\", ascending= False).head(5).style.background_gradient(cmap=\"spring\"))\n\n\nsns.barplot(Data[\"owner\"],Data[\"km_driven\"],hue= Data[\"seller_type\"],palette=\"spring\")\nplt.xticks(rotation=80)\nplt.title(\"seller_type : km_driven comparsion\")","b85adf8a":"def recommend_vehicle(x):\n    y = Data[[\"fuel\",'name',\"km_driven\",\"transmission\",\"selling_price\"]][Data[\"fuel\"] == x]\n    y = y.sort_values(by=\"selling_price\",ascending=False)\n    return y.head(15)","cd0e74d2":"recommend_vehicle(\"Diesel\")","5f236101":"recommend_vehicle(\"Petrol\")","ce5081ec":"recommend_vehicle(\"CNG\")","e3d76400":"recommend_vehicle(\"LPG\")","196fe9a8":"recommend_vehicle(\"Electric\")","18e22259":"def recommend_vehicle(x):\n    y = Data[[\"owner\",'name',\"km_driven\",\"transmission\",\"selling_price\"]][Data[\"owner\"] == x]\n    y = y.sort_values(by=\"selling_price\",ascending=False)\n    return y.head(15)","f47d8be3":"recommend_vehicle(\"First Owner\")","4e3099e0":"recommend_vehicle(\"Second Owner\")","b10b7b3f":"recommend_vehicle(\"Third Owner\")","0eaec842":"recommend_vehicle(\"Fourth & Above Owner\")","1a167271":"recommend_vehicle(\"Test Drive Car\")","2bc8fa75":"def recommend_vehicle(x):\n    y = Data[[\"seller_type\",'name',\"km_driven\",\"transmission\",\"selling_price\"]][Data[\"seller_type\"] == x]\n    y = y.sort_values(by=\"selling_price\",ascending=False)\n    return y.head(15)","d8028911":"recommend_vehicle(\"Individual\")","b07b5b42":"recommend_vehicle(\"Dealer\")","2d8647eb":"recommend_vehicle(\"Trustmark Dealer\")","633aea14":"# Fourth & Above Owner","a8f32078":"\n![https:\/\/miro.medium.com\/max\/2168\/1*3t8E26rszxIE65s8VfgOyQ.png](https:\/\/miro.medium.com\/max\/2168\/1*3t8E26rszxIE65s8VfgOyQ.png)\n","7ebfc496":"# Comparing the selling price vehicle","c794629b":"# The selling price of vehicle","7352163a":"# The selling price by vehicle year","97a7431f":"**Make Sense...?**\n\nOkay, Let's try to practice to find a few more examples. This work tries to make a recommendation system to decide the right vehicle that you want to buy","6375c5c1":"# First Owner","1af7309b":"# 7 things you need to know before buying a vehicle\n\nBesides paying attention to financial, if you want buy car you need to know about the car like:\n1.  type of car, \n1. year,\n1. transmission,\n1. km_driven, \n1. fuel \n1. seller type ,\n1. selling price\n\nAs I mentioned before,  when we buy vehicle from Dealer and Trustmark Dealer it has higher selling price than sell by Individual.","6a2e8180":"# Diesel","236691f7":"# Second Owner","a4090004":"# Name Vehicles","3a57205b":"# Recommending Vehicles Based on Fuel\n","1ba5a816":"As you can see on the figure above, we know that car who sell by Dealer and Trustmark Dealer has higher selling price than sell by Individual","75c5faef":"# Petrol","5ae6fad6":"# Dealer","836ec0e3":"# Individual","37ce6cfc":"# Electric","48774fc2":"# Recommending Vehicles Based on Owner","632350a5":"# Third Owner","12d80949":"# Time series selling price vehicles\n","d663fc14":"# owner ","cba4effe":"# seller_type","d3d2e20a":"# What is recommender system ?","318d9715":"# LPG","fad76e79":"# Trustmark Dealer","e8716826":"A recommender system, or a recommendation system (sometimes replacing 'system' with a synonym such as platform or engine), is a subclass of information filtering system that seeks to predict the \"rating\" or \"preference\" a user would give to an item. They are primarily used in commercial applications. You can see an illustration in the figure below:","a7bc55b9":"# Recommending Vehicles Based on Seller Type","e05f3cb1":"# CNG","43b9b99e":"# Test Drive Car"}}