{"cell_type":{"6460399e":"code","fee7de85":"code","dfb93dbd":"code","d82afa46":"code","e91fc522":"code","88825b59":"code","e742fd3d":"code","d42e037e":"code","1a6d3272":"code","fcc68de5":"code","017106a2":"code","7429b910":"code","140441f0":"code","3497b545":"code","41d915c7":"code","0688fc11":"code","dd331eb9":"code","586799ee":"code","b2c3dc66":"code","7e75f37b":"code","0c39080a":"code","441180cc":"code","511736e5":"code","7841b012":"code","6c1a2cee":"code","e4fedd89":"code","afcc9f0a":"code","86576fe3":"code","6f7ff6ef":"code","fb1eccca":"code","9be87002":"code","e7513aa4":"code","6f16a4b6":"code","2bfb7c92":"code","b66029a2":"code","cdd91e1c":"code","73e124d6":"code","13452c1b":"code","57263540":"code","19391470":"markdown","a6ce46dc":"markdown","78eba57b":"markdown","61391611":"markdown","72495a84":"markdown"},"source":{"6460399e":"import pandas as pd\nimport statsmodels.api as sm\nimport statsmodels.formula.api as smf\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nimport numpy as np\nfrom sklearn.cluster import KMeans\ncolor = sns.color_palette()\nfrom IPython.core.display import display, HTML\ndisplay(HTML(\"<style>.container { width:100% !important; }<\/style>\"))\n%matplotlib inline","fee7de85":"attendance_valuation_elo_df = pd.read_csv(\"..\/input\/nba_2017_att_val_elo.csv\");\nattendance_valuation_elo_df.head()","dfb93dbd":"salary_df = pd.read_csv(\"..\/input\/nba_2017_salary.csv\");\nsalary_df.head()","d82afa46":"pie_df = pd.read_csv(\"..\/input\/nba_2017_pie.csv\");\npie_df.head()","e91fc522":"plus_minus_df = pd.read_csv(\"..\/input\/nba_2017_real_plus_minus.csv\");\nplus_minus_df.head()","88825b59":"br_stats_df = pd.read_csv(\"..\/input\/nba_2017_br.csv\");\nbr_stats_df.head()","e742fd3d":"\nplus_minus_df.rename(columns={\"NAME\":\"PLAYER\", \"WINS\": \"WINS_RPM\"}, inplace=True)\nplayers = []\nfor player in plus_minus_df[\"PLAYER\"]:\n    plyr, _ = player.split(\",\")\n    players.append(plyr)\nplus_minus_df.drop([\"PLAYER\"], inplace=True, axis=1)\nplus_minus_df[\"PLAYER\"] = players\nplus_minus_df.head()","d42e037e":"nba_players_df = br_stats_df.copy()\nnba_players_df.rename(columns={'Player': 'PLAYER','Pos':'POSITION', 'Tm': \"TEAM\", 'Age': 'AGE', \"PS\/G\": \"POINTS\"}, inplace=True)\nnba_players_df.drop([\"G\", \"GS\", \"TEAM\"], inplace=True, axis=1)\nnba_players_df = nba_players_df.merge(plus_minus_df, how=\"inner\", on=\"PLAYER\")\nnba_players_df.head()","1a6d3272":"pie_df_subset = pie_df[[\"PLAYER\", \"PIE\", \"PACE\", \"W\"]].copy()\nnba_players_df = nba_players_df.merge(pie_df_subset, how=\"inner\", on=\"PLAYER\")\nnba_players_df.head()","fcc68de5":"salary_df.rename(columns={'NAME': 'PLAYER'}, inplace=True)\nsalary_df[\"SALARY_MILLIONS\"] = round(salary_df[\"SALARY\"]\/1000000, 2)\nsalary_df.drop([\"POSITION\",\"TEAM\", \"SALARY\"], inplace=True, axis=1)\nsalary_df.head()","017106a2":"diff = list(set(nba_players_df[\"PLAYER\"].values.tolist()) - set(salary_df[\"PLAYER\"].values.tolist()))","7429b910":"len(diff)\n","140441f0":"nba_players_with_salary_df = nba_players_df.merge(salary_df); ","3497b545":"plt.subplots(figsize=(20,15))\nax = plt.axes()\nax.set_title(\"NBA Player Correlation Heatmap:  2016-2017 Season (STATS & SALARY)\")\ncorr = nba_players_with_salary_df.corr()\nsns.heatmap(corr, \n            xticklabels=corr.columns.values,\n            yticklabels=corr.columns.values)","41d915c7":"sns.lmplot(x=\"SALARY_MILLIONS\", y=\"WINS_RPM\", data=nba_players_with_salary_df)","0688fc11":"results = smf.ols('WINS_RPM~SALARY_MILLIONS', data=nba_players_with_salary_df).fit()\n","dd331eb9":"print(results.summary())\n","586799ee":"nba_players_with_salary_prediction_df = nba_players_with_salary_df.copy()\n\nnba_players_with_salary_prediction_df[\"predicted\"] = results.predict()\nnba_players_with_salary_prediction_df","b2c3dc66":"sns.lmplot(x=\"predicted\", y=\"WINS_RPM\", data=nba_players_with_salary_prediction_df)","7e75f37b":"wiki_df = pd.read_csv(\"..\/input\/nba_2017_player_wikipedia.csv\");wiki_df.head()\n","0c39080a":"wiki_df.rename(columns={'names': 'PLAYER', \"pageviews\": \"PAGEVIEWS\"}, inplace=True)","441180cc":"median_wiki_df = wiki_df.groupby(\"PLAYER\").median()\nmedian_wiki_df.head()","511736e5":"median_wiki_df_small = median_wiki_df[[\"PAGEVIEWS\"]]","7841b012":"median_wiki_df_small = median_wiki_df_small.reset_index()","6c1a2cee":"nba_players_with_salary_wiki_df = nba_players_with_salary_df.merge(median_wiki_df_small)","e4fedd89":"twitter_df = pd.read_csv(\"..\/input\/nba_2017_twitter_players.csv\");twitter_df.head()","afcc9f0a":"nba_players_with_salary_wiki_twitter_df = nba_players_with_salary_wiki_df.merge(twitter_df)\nnba_players_with_salary_wiki_twitter_df.head()","86576fe3":"\nplt.subplots(figsize=(20,15))\nax = plt.axes()\nax.set_title(\"NBA Player Correlation Heatmap:  2016-2017 Season (STATS & SALARY & TWITTER & WIKIPEDIA)\")\ncorr = nba_players_with_salary_wiki_twitter_df.corr()\nsns.heatmap(corr, \n            xticklabels=corr.columns.values,\n            yticklabels=corr.columns.values)","6f7ff6ef":"!pip -q install -U yellowbrick","fb1eccca":"nba_players_with_salary_wiki_twitter_df['TWITTER_FAVORITE_COUNT'] = nba_players_with_salary_wiki_twitter_df['TWITTER_FAVORITE_COUNT'].fillna(np.mean(nba_players_with_salary_wiki_twitter_df['TWITTER_FAVORITE_COUNT']))\nnba_players_with_salary_wiki_twitter_df['TWITTER_RETWEET_COUNT'] = nba_players_with_salary_wiki_twitter_df['TWITTER_FAVORITE_COUNT'].fillna(np.mean(nba_players_with_salary_wiki_twitter_df['TWITTER_RETWEET_COUNT']))","9be87002":"numerical_df = nba_players_with_salary_wiki_twitter_df.loc[:,[\"WINS_RPM\", \"SALARY_MILLIONS\", \"PAGEVIEWS\", \"TWITTER_FAVORITE_COUNT\",\"TWITTER_RETWEET_COUNT\"]]\nnumerical_df.head()","e7513aa4":"from yellowbrick.features import Rank2D\n\nvisualizer = Rank2D(algorithm=\"pearson\")\nvisualizer.fit_transform(numerical_df)\nvisualizer.poof()","6f16a4b6":"sns.lmplot(x=\"PAGEVIEWS\", y=\"WINS_RPM\", data=nba_players_with_salary_wiki_twitter_df)","2bfb7c92":"results = smf.ols('WINS_RPM ~PAGEVIEWS+TWITTER_FAVORITE_COUNT+TWITTER_RETWEET_COUNT', data=nba_players_with_salary_wiki_twitter_df).fit()\nprint(results.summary())","b66029a2":"nba_players_with_salary_wiki_twitter_prediction_df = nba_players_with_salary_wiki_twitter_df.copy()\n\nnba_players_with_salary_wiki_twitter_prediction_df[\"predicted\"] = results.predict()\nnba_players_with_salary_wiki_twitter_prediction_df","cdd91e1c":"sns.lmplot(x=\"predicted\", y=\"SALARY_MILLIONS\", data=nba_players_with_salary_wiki_twitter_prediction_df)","73e124d6":"results = smf.ols('WINS_RPM ~PAGEVIEWS+TWITTER_FAVORITE_COUNT+TWITTER_RETWEET_COUNT+SALARY_MILLIONS', data=nba_players_with_salary_wiki_twitter_df).fit()\nprint(results.summary())","13452c1b":"nba_players_with_salary_wiki_twitter_prediction_df = nba_players_with_salary_wiki_twitter_df.copy()\n\nnba_players_with_salary_wiki_twitter_prediction_df[\"predicted\"] = results.predict()\nnba_players_with_salary_wiki_twitter_prediction_df","57263540":"sns.lmplot(x=\"predicted\", y=\"SALARY_MILLIONS\", data=nba_players_with_salary_wiki_twitter_prediction_df)","19391470":"**Predict Winning Metrix Using Salary **","a6ce46dc":"**Process the data**","78eba57b":"Exploration of How Social Media and Salary Can Predict Winning Metrics.","61391611":"**Predict Winning MetrixUsing Social Media Influence **","72495a84":"**Predict Winning Metrix  Using Both Salary AND Scoial Media **"}}