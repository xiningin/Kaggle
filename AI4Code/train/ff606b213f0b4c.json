{"cell_type":{"11a9c8f4":"code","30aea23a":"code","97a51ef4":"code","837399dc":"code","f1b77386":"code","34c90864":"code","a02d65e1":"code","4ec339f4":"code","6a71625e":"code","81cc0a13":"code","40409a11":"code","2afd0e7f":"code","9df811ed":"code","ec7d2248":"code","2f4249d6":"code","a3e60676":"code","c3c735b9":"code","84881242":"code","459aa92a":"code","0ffa1b19":"code","708ab5fc":"code","7410a8ea":"code","3fa87bcf":"code","aa77cd96":"code","2283f25b":"code","8041b901":"code","ba83f374":"code","bd34b243":"code","69e30b38":"code","716294ed":"code","8b7cd7de":"code","bb6aee07":"code","a280acfa":"code","f20f38cc":"code","ec9899ba":"code","fbdc19a5":"code","de670ae6":"code","ca8ccbdb":"code","355ae295":"code","0bf58906":"code","258ffeb7":"code","0f24b831":"code","783aa4e0":"code","7c3a669e":"code","851eef6b":"code","80d71127":"markdown","3c306a03":"markdown","3eb4eea5":"markdown"},"source":{"11a9c8f4":"%pylab inline --no-import-all\nimport pandas as pd\nimport seaborn as sns\nimport tqdm\nimport scipy \nimport gc\nimport pickle\nimport re\nimport itertools\nimport os\nimport cufflinks as cf\ncf.go_offline()","30aea23a":"DATA_PATH = \"..\/input\/interactive-data-cleaning-and-preprocessing\/\"\n\nwith open(os.path.join(DATA_PATH, \"train_clean.pkl\"), 'rb') as f:\n    train_data = pickle.load(f)","97a51ef4":"def category_columns(data: pd.DataFrame):\n    cats = set(data.select_dtypes(['category', 'object']).columns.tolist())\n    cats = cats.difference({'MachineIdentifier', 'HasDetection'})\n    return list(cats)\n\nALL_COLS = category_columns(train_data)","837399dc":"def graph_category_distr(data: pd.DataFrame, col):\n    col_data = data[col]\n    \n    infected_count = sum(data.HasDetections==1) \/ len(data)\n    balancing_multiplier = 0.5 \/ infected_count\n    infected_counts = col_data[data.HasDetections==1].value_counts() \/ col_data.value_counts() * balancing_multiplier\n\n    ic = pd.DataFrame(list(infected_counts.items()), columns=['label', 'infected'])\n    ic['label'] = '(' + ic['label'].astype(str) + ')'\n    \n    ic.iplot(kind='bar', x='label', y='infected', title=col)\n\ndef plot_distr(col):\n    graph_category_distr(train_data, col)","f1b77386":"plot_distr('SMode')","34c90864":"plot_distr( 'Census_ActivationChannel')","a02d65e1":"plot_distr('Census_ProcessorManufacturerIdentifier')","4ec339f4":"plot_distr('AVProductStatesIdentifier')","6a71625e":"plot_distr('Census_OSBranch')","81cc0a13":"plot_distr('RtpStateBitfield')","40409a11":"plot_distr('SkuEdition')","2afd0e7f":"plot_distr('Census_DeviceFamily')","9df811ed":"plot_distr('OsBuildLab')","ec7d2248":"plot_distr('IeVerIdentifier')","2f4249d6":"plot_distr('Processor')","a3e60676":"plot_distr('Platform')","c3c735b9":"plot_distr('Census_FirmwareVersionIdentifier')","84881242":"plot_distr('AvSigVersion')","459aa92a":"plot_distr('OsVer')","0ffa1b19":"plot_distr('SmartScreen')","708ab5fc":"plot_distr('Census_ProcessorModelIdentifier')","7410a8ea":"plot_distr('Census_FlightRing')","3fa87bcf":"plot_distr('Census_OEMModelIdentifier')","aa77cd96":"plot_distr('Census_GenuineStateName')","2283f25b":"plot_distr('CityIdentifier')","8041b901":"plot_distr('Wdft_RegionIdentifier')","ba83f374":"plot_distr('CountryIdentifier')","bd34b243":"plot_distr('OrganizationIdentifier')","69e30b38":"plot_distr('AppVersion')","716294ed":"plot_distr('OsPlatformSubRelease')","8b7cd7de":"plot_distr('ProductName')","bb6aee07":"plot_distr('EngineVersion')","a280acfa":"plot_distr('Census_OSInstallTypeName')","f20f38cc":"plot_distr('Census_PrimaryDiskTypeName')","ec9899ba":"plot_distr('Census_ChassisTypeName')","fbdc19a5":"plot_distr('Census_OSVersion')","de670ae6":"plot_distr('LocaleEnglishNameIdentifier')","ca8ccbdb":"plot_distr('PuaMode')","355ae295":"plot_distr('Census_OSUILocaleIdentifier')","0bf58906":"plot_distr('GeoNameIdentifier')","258ffeb7":"plot_distr('UacLuaenable')","0f24b831":"plot_distr('Census_FirmwareManufacturerIdentifier')","783aa4e0":"plot_distr('Census_OEMNameIdentifier')","7c3a669e":"plot_distr('Census_OSWUAutoUpdateOptionsName')","851eef6b":"plot_distr('Census_OSInstallLanguageIdentifier')","80d71127":"Function to draw fraction of infected computers in each category.\nThe more it has deviations from 0.5 - the more informative column is supposed to be","3c306a03":"Selecting category columns","3eb4eea5":"Loading output data from my previous kernel (https:\/\/www.kaggle.com\/daletskidenis\/interactive-data-cleaning-and-preprocessing)"}}