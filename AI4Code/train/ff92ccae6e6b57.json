{"cell_type":{"c564fd66":"code","3996eea3":"code","f741ca3a":"code","9748222d":"code","8e78798f":"code","9eeca02a":"code","c7f4aa10":"code","caa179e9":"code","77f5b6ed":"code","427c76c3":"code","cd40cbee":"code","bf3e2233":"code","cb7c9112":"code","d250f29e":"code","7341063c":"code","db688779":"code","6ae55d15":"code","566b6b5a":"code","bd901123":"code","30678bf5":"code","71d44ac5":"code","802a6d86":"code","4e06b0f8":"code","491be2b8":"code","43c7f181":"code","be42caf2":"code","ac336a53":"code","e1b69831":"code","d3babfb5":"code","eb483175":"code","ff234288":"code","c9684fde":"code","7dd323fa":"code","d3fb2488":"code","9e2f4c90":"code","b2d83173":"code","91abb5bd":"code","db20a509":"code","54ac123e":"code","c35a16dd":"code","2d781013":"code","037eb51f":"code","3687a3df":"code","27b7b546":"code","8b4dba14":"code","b5325091":"code","b9a24960":"code","9c717e86":"code","76088cfb":"code","42a5d108":"code","d214a6b4":"code","7599828c":"code","122339f4":"code","42894a33":"code","201edaa4":"code","3f20ce5d":"code","ecf76cfc":"code","ed03da58":"code","52bc358e":"code","2b51e3bb":"code","80ddde1b":"code","257c9320":"code","59632aa6":"markdown","293da42f":"markdown","a71198f6":"markdown","daf66e5c":"markdown","835e7bce":"markdown","014b73de":"markdown","288357f6":"markdown","7c0be931":"markdown","6b15c759":"markdown","8fadc119":"markdown","32d43449":"markdown","38158a92":"markdown","761f4407":"markdown","42e2f383":"markdown","8336f379":"markdown","aa367574":"markdown","7e17ef23":"markdown","4870551c":"markdown","8a7255f2":"markdown","52523b01":"markdown","287749a2":"markdown","49b8e6e5":"markdown","64a5c5ad":"markdown","55ff979c":"markdown","6a09bc73":"markdown","681cf8ce":"markdown","b31ffb61":"markdown","662fabab":"markdown","997f165e":"markdown","626769ea":"markdown","50c5515a":"markdown","26b3a6f1":"markdown","252580b4":"markdown"},"source":{"c564fd66":"# This Python 3 environment comes with many helpful analytics libraries installed\n# It is defined by the kaggle\/python Docker image: https:\/\/github.com\/kaggle\/docker-python\n# For example, here's several helpful packages to load\n\nimport numpy as np # linear algebra\nimport pandas as pd # data processing, CSV file I\/O (e.g. pd.read_csv)\n\n# Input data files are available in the read-only \"..\/input\/\" directory\n# For example, running this (by clicking run or pressing Shift+Enter) will list all files under the input directory\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))\n\n# You can write up to 5GB to the current directory (\/kaggle\/working\/) that gets preserved as output when you create a version using \"Save & Run All\" \n# You can also write temporary files to \/kaggle\/temp\/, but they won't be saved outside of the current session","3996eea3":"raw_data = pd.read_csv('\/kaggle\/input\/ashrae-global-thermal-comfort-database-ii\/ashrae_db2.01.csv')\ndata = raw_data.copy()\ndrop_col = ['Climate','Publication (Citation)','Data contributor','Operative temperature (F)','Radiant temperature (F)','Globe temperature (F)','Outdoor monthly air temperature (F)','Velocity_l (fpm)','Velocity_m (fpm)','Velocity_h (fpm)','Tg_l (F)','Tg_m (F)','Tg_h (F)','Ta_l (F)','Ta_m (F)','Ta_h (F)','Air temperature (F)','Air velocity (fpm)']\ndata = data.drop(drop_col,axis=1)\ndata.head()","f741ca3a":"import seaborn as sns\nsns.set()\ndata['Season'].value_counts().plot(kind='barh', figsize=(20,6))","9748222d":"data['Koppen climate classification'].value_counts().plot(kind='barh', figsize=(20,6))","8e78798f":"ax = data['Year'].plot(kind='hist')","9eeca02a":"ax = data['Age'].plot(kind='hist')","c7f4aa10":"data['Building type'].value_counts().plot(kind='barh', figsize=(20,6))","caa179e9":"data = data.rename(columns={'PMV': 'Predicted Mean Vote', 'PPD': 'Predicted Percentage Disastisfied', 'SET':'Standard Effective Temp', 'CLO': 'Clothing Insulation', 'Ta_h (C)': 'tempfloor_high (C)', 'Ta_m (C)':'tempfloor_med (C)', 'Ta_l (C)':'tempfloor_low (C)', 'Tg_h (C)':'globetemp_high (C)', 'Tg_m (C)':'globetemp_med (C)','Tg_l (C)':'globetemp_low (C)','velocity_h (m\/s)':'velocity_high (m\/s)','velocity_m (m\/s)':'velocity_med (m\/s)','velocity_l (m\/s)':'velocity_low (m\/s)'})\ndata.columns","77f5b6ed":"data.corr()['Thermal sensation'].sort_values(ascending=False).head(10)\n#positive correlation","427c76c3":"data.corr()['Thermal sensation'].sort_values().head(10)\n#negative correlation","cd40cbee":"data['Koppen climate classification'].value_counts()","bf3e2233":"data['Koppen climate classification'].unique()","cb7c9112":"tropical_A = []\ndry_B = []\ntemperate_C = []\ncontinental_D = []\npolar_E = []\n\nfor climate in data['Koppen climate classification'].unique():\n    if climate[0] == 'A':\n        tropical_A.append(climate)\n    elif climate[0] == 'B':\n        dry_B.append(climate)\n    elif climate[0] == 'C':\n        temperate_C.append(climate)\n    elif climate[0] == 'D':\n        continental_D.append(climate)\n    elif climate[0] == 'E':\n        polar_E.append(climate)","d250f29e":"print(tropical_A)\nprint(dry_B)\nprint(temperate_C)\nprint(continental_D)\nprint(polar_E)","7341063c":"data.loc[data['Koppen climate classification'].isin(tropical_A), \n             'Climate'] = 'Tropical'","db688779":"data.loc[data['Koppen climate classification'].isin(dry_B), \n             'Climate'] = 'Dry'","6ae55d15":"data.loc[data['Koppen climate classification'].isin(temperate_C), \n             'Climate'] = 'Temperate'","566b6b5a":"data.loc[data['Koppen climate classification'].isin(continental_D), \n             'Climate'] = 'Continental'","bd901123":"data.loc[data['Koppen climate classification'].isin(polar_E), \n             'Climate'] = 'Polar'","30678bf5":"data.Climate.value_counts()","71d44ac5":"data['Koppen climate classification'].isin(tropical_A).sum()","802a6d86":"data['Koppen climate classification'].isin(dry_B).sum()","4e06b0f8":"data['Koppen climate classification'].isin(temperate_C).sum()","491be2b8":"data['Koppen climate classification'].isin(continental_D).sum()","43c7f181":"data.columns","be42caf2":"data = data.rename(columns={'Cooling startegy_building level':'Cooling_strategy_building_level','Cooling startegy_operation mode for MM buildings': 'Cooling_strategy_operation_mode_for_MM' })","ac336a53":"data.select_dtypes(exclude='number').columns","e1b69831":"data['City'].unique()","d3babfb5":"data.select_dtypes(include='number').columns","eb483175":"import missingno as msno\n\nmsno.matrix(data.select_dtypes(include='number'));","ff234288":"# We are going to use data_no_na for the rest of handling missing columns\ndata_no_na = data.copy() ","c9684fde":"print('mean: ' + str(data_no_na['Age'].mean()))\nprint('median: '+ str(data_no_na['Age'].median()))","7dd323fa":"data['Age'].describe()","d3fb2488":"data_no_na['Age'] = data_no_na['Age'].fillna(data_no_na['Age'].mean())","9e2f4c90":"print('mean: ' + str(data_no_na['Thermal sensation'].mean()))\nprint('median: '+ str(data_no_na['Thermal sensation'].median()))","b2d83173":"data_no_na['Thermal sensation'].describe()","91abb5bd":"data_no_na['Thermal sensation'] = data_no_na['Thermal sensation'].fillna(data_no_na['Thermal sensation'].mean())","db20a509":"print('mean: ' + str(data_no_na['Clo'].mean()))\nprint('median: '+ str(data_no_na['Clo'].median()))","54ac123e":"data_no_na['Clo'].describe()","c35a16dd":"data_no_na['Clo'] = data_no_na['Clo'].fillna(data_no_na['Clo'].mean())","2d781013":"print('mean: ' + str(data_no_na['Met'].mean()))\nprint('median: '+ str(data_no_na['Met'].median()))","037eb51f":"data_no_na['Met'].describe()","3687a3df":"data_no_na['Met'] = data_no_na['Met'].fillna(data_no_na['Met'].mean())","27b7b546":"print('mean: ' + str(data_no_na['Air temperature (C)'].mean()))\nprint('median: '+ str(data_no_na['Air temperature (C)'].median()))","8b4dba14":"data_no_na['Air temperature (C)'].describe()","b5325091":"data_no_na['Air temperature (C)'] = data_no_na['Air temperature (C)'].fillna(data_no_na['Air temperature (C)'].mean())","b9a24960":"print('mean: ' + str(data_no_na['Relative humidity (%)'].mean()))\nprint('median: '+ str(data_no_na['Relative humidity (%)'].median()))","9c717e86":"data_no_na['Relative humidity (%)'].describe()","76088cfb":"data_no_na['Relative humidity (%)'] = data_no_na['Relative humidity (%)'].fillna(data_no_na['Relative humidity (%)'].mean())","42a5d108":"print('mean: ' + str(data_no_na['Air velocity (m\/s)'].mean()))\nprint('median: '+ str(data_no_na['Air velocity (m\/s)'].median()))","d214a6b4":"data_no_na['Air velocity (m\/s)'].describe()","7599828c":"data_no_na['Air velocity (m\/s)'] = data_no_na['Air velocity (m\/s)'].fillna(data_no_na['Air velocity (m\/s)'].median())","122339f4":"print('mean: ' + str(data_no_na['Outdoor monthly air temperature (C)'].mean()))\nprint('median: '+ str(data_no_na['Outdoor monthly air temperature (C)'].median()))","42894a33":"data_no_na['Outdoor monthly air temperature (C)'].describe()","201edaa4":"data_no_na['Outdoor monthly air temperature (C)'] = data_no_na['Outdoor monthly air temperature (C)'].fillna(data_no_na['Outdoor monthly air temperature (C)'].mean())","3f20ce5d":"msno.matrix(data_no_na.select_dtypes(include='number'));","ecf76cfc":"data_no_na['Thermal sensation acceptability'].value_counts()","ed03da58":"data_no_na['Air movement acceptability'].value_counts()","52bc358e":"data_no_na['Air movement acceptability'] = data_no_na['Air movement acceptability'].astype('category')","2b51e3bb":"data_no_na['Thermal sensation acceptability'] = data_no_na['Thermal sensation acceptability'].astype('category')","80ddde1b":"data_no_na.select_dtypes(include='number').columns","257c9320":"msno.matrix(data_no_na.select_dtypes(include='object'));","59632aa6":"### After exploring some of the data, it seems that there isn't a lot of things to do with the categorical variable or numerical, so there isn't much we can do there except fixing missing values","293da42f":"I think we can replace missing values with mean","a71198f6":"Potential Next Step:\n* These column names are vague, could we replace them with more descriptive ones?\n* Ethan found the column descriptions for his EDA, perhaps next step should be to rename these columns, then run this again\n* This will also make it easier to understand what factors best represent air conditioner effectiveness","daf66e5c":"## The next few parts are me working on other columns:\n### As a rule of thumb, if the man and median are close, then I would use the mean, else median. This is up to the researcher's judgement\n","835e7bce":"## For the other data, I think it's important to be careful on filling these data. I recommend segmenting the data to the specific questions and dropping any unecessary columns and working with the data then instead of filling them with the mean or median. This is due to the loss of information of the whole dataset","014b73de":"1. Tropical\n2. Dry\n3. Temperate\n4. Continental\n5. Polar","288357f6":"# Recategorization of variables","7c0be931":"## Now, converting these two types","6b15c759":"## MET","8fadc119":"## Since median and mean are close enough, I will use the mean","32d43449":"## CLO","38158a92":"### Simplifying based on lattitude and longitude might be too hard for the follwoing dataset. I also believe that the variable 'Climate should be able to capture that relationship","761f4407":"### Here we werea ble to define a new generalized columns for Climate! Compared to the old climate this classification is a lot more generalized","42e2f383":"### This is good, as it allows us to simplify the columns even further","8336f379":"## Air Velocity","aa367574":"## Air Temperature (C)","7e17ef23":"## Looking at numerical columns to explore how to fix missing values\n## I am going to first look at the columns with not a lot of missing data","4870551c":"### Now, we can look at any of the other categorical columns to see whether we can change\/simplify any of then","8a7255f2":"### After doing some research online, I realized climate can be generalized into 5 distinct categories.\n\n\n\n\n\n","52523b01":"## Relative Humidity","287749a2":"## Thermal Sensation","49b8e6e5":"## Looks like we were able to replace all the missing age values with mean. Some might argue the median would be a better choice and this is up to the researchers","64a5c5ad":"### There is a mispelled columns, so I fixed that here in the code","55ff979c":"# Data segmentation","6a09bc73":"Applying column drops like Ethan's EDA to simplify data","681cf8ce":"## Decreasing the amount of categories","b31ffb61":"## After looking at the labels, I realize some of the numerical are not numerical variables","662fabab":"Exploring what is in the data set:\n* What (what type of building is this, what is its purpose)\n* When (what time of year are the data points from, when was the building constructed?)\n* Where (where is the building located, what is the climate like around it?)","997f165e":"### This data has some outliers! But it might also because some areas in the states have tornadoes or very high speed wind","626769ea":"So we know:\n* Most of the data is from winter and summer\n* There is a range of climates in these locations\n* Most data is from the 90's, 2010's\n* Mostly office space\n\nQuestions:\n* Does the age column refer to the building?\n* What variables are measuring the effectiveness of these air-conditioners?\n\nFor the second question, I want to first look at the \"Thermal sensation\" column, checking to see what factors correlate most with the sensation numbers.","50c5515a":"## Outdoor monthly air temperature ","26b3a6f1":"### Now, we can convert each of the unique values to their generalized forms","252580b4":"## Here we have filled missing data for numerical variables in which it didn't have a lot of missing values"}}