{"cell_type":{"f2d47ead":"code","4a6b6164":"code","54d717de":"code","c75603cd":"code","1429e5ae":"code","e9cbeb84":"code","e6bf056d":"code","6e27e078":"code","e2178ed6":"code","5011b3bd":"code","df558743":"code","2a5bb572":"code","3238b8d6":"code","0d3c3b52":"code","e2749929":"code","a7886547":"code","a90e775c":"code","9c46f003":"code","1a23d873":"code","b7743482":"code","04f45a75":"code","43196e69":"code","c0f1577a":"markdown","345372ce":"markdown","86f230a2":"markdown","3201836c":"markdown","4a236264":"markdown","65d07508":"markdown","2d50f3b0":"markdown","99aaa02a":"markdown"},"source":{"f2d47ead":"import numpy as np \nimport pandas as pd \nimport seaborn as sns\nfrom matplotlib import pyplot as plt\nimport collections\n\nimport os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","4a6b6164":"df = pd.read_csv(\"\/kaggle\/input\/anime-recommendations-database\/anime.csv\")\ndf.head(10)","54d717de":"df = df.drop([\"anime_id\"], axis = 1)\ndf.info()","c75603cd":"df.duplicated().sum()","1429e5ae":"df.isnull().sum()","e9cbeb84":"df = df.drop(list(df.loc[df[\"rating\"].isnull() == True].index), axis = 0)\ndf = df.fillna(\"Unknown\")\ndf = df.reset_index(drop = True)\ndf.tail(10)","e6bf056d":"df.info()","6e27e078":"df_all = df.copy()\ndf_completed = df.drop(list(df.loc[df[\"episodes\"] == \"Unknown\"].index), axis = 0).copy()\ndf_completed = df_completed.reset_index(drop = True)\nprint(\"Number of all Animes:\", df_all.shape[0])\nprint(\"Number of completed Animes:\", df_completed.shape[0])","e2178ed6":"df_completed[\"episodes\"] = df_completed[\"episodes\"].astype(\"int64\")\ndf_completed.dtypes","5011b3bd":"df_all.describe().T","df558743":"df_completed.describe().T","2a5bb572":"sns.countplot(data = df_all, x = \"type\")\nplt.title(\"Number of each type of Anime\")\nplt.xlabel(\"Type\")\nplt.ylabel(\"Number\")\nplt.show()","3238b8d6":"df_pie = df_all[\"type\"].value_counts()\n\nplt.figure(figsize = (7, 7))\nplt.pie(labels = df_pie.index, x = df_pie.values, autopct = \"%0.2f%%\", explode = [0.05, 0, 0, 0, 0, 0])\nplt.show()","0d3c3b52":"for item in list(df_all[\"genre\"].index):\n    df_all.loc[item, \"genre\"] = df_all.loc[item, \"genre\"] + \",\"\n    \ngenre = []\nfor item in list(df_all[\"genre\"].sum().split(\",\")):\n    genre.append(item.strip())\n    \ncounter = collections.Counter(genre)\ngenre_dict = dict(sorted(dict(counter).items(), key=lambda item: item[1], reverse = True))\ndel genre_dict[\"\"]\ndf_genre = pd.Series(data = genre_dict)\ndf_genre","e2749929":"plt.figure(figsize = (8,6))\ndf_members = df_all.sort_values(by = \"members\", ascending = False).copy()\nsns.barplot(data = df_members.iloc[0:10], y = \"name\", x = \"members\")\nplt.title(\"Most popular Animes\", size = 12)\nplt.xlabel(\"Members\")\nplt.ylabel(\"\")\nplt.show()","a7886547":"plt.figure(figsize = (8,6))\ndf_episodes = df_completed.sort_values(by = \"episodes\", ascending = False).copy()\nsns.barplot(data = df_episodes.iloc[0:10], x = \"episodes\", y = \"name\")\nplt.title(\"Animes with more episodes (Completed Animes)\", size = 12)\nplt.xlabel(\"Episodes\")\nplt.ylabel(\"\")\nplt.show()","a90e775c":"df_rating = df_all.sort_values(by = \"rating\", ascending = False).copy()\ndf_rating = df_rating.drop(list(df_rating.loc[df_rating[\"members\"] < 1000].index), axis = 0)\ndf_rating = df_rating.drop([\"genre\", \"episodes\", \"members\"], axis = 1)\ndf_rating = df_rating.reset_index(drop = True)\ndf_rating.head(10)","9c46f003":"plt.figure(figsize = (9,7))\nsns.violinplot(data = df_all, x = \"type\", y = \"rating\")\nplt.title(\"Relation between Rating and Type\", size = 12)\nplt.xlabel(\"Type\")\nplt.ylabel(\"Rating\")\nplt.show()","1a23d873":"df_completed_tv = df_completed.loc[df_completed[\"type\"] == \"TV\"].copy()\ndf_completed_tv = df_completed_tv.reset_index(drop = True)\ndf_completed_tv.head(10)","b7743482":"df_completed_tv.describe().T","04f45a75":"plt.figure(figsize = (8,7))\nsns.heatmap(data = df_completed_tv.corr(), annot = True)\nplt.show()","43196e69":"plt.figure(figsize = (14, 6))\nsns.lineplot(data = round(df_completed_tv.loc[df_completed_tv[\"rating\"] >= 5.5, [\"members\", \"rating\"]]*10)\/10, \n            x = \"rating\", y = \"members\")\nplt.title(\"Relation between Members and Rating\", size = 12)\nplt.xlabel(\"Rating\")\nplt.ylabel(\"Members\")\nplt.show()","c0f1577a":"As we will only analyze the DataFrame and as each anime is kind of unique, it makes no sense to work with NaN values of rating.","345372ce":"Getting the correlation of each numeric information, to see how one impact in another.","86f230a2":"As we can see, the number of episodes is not an integer type. It happens because there are some Animes that are not finished yet (the number of episodes are \"Unknown\"), so let's separate it in two DataFrames.","3201836c":"Deleting the \"anime_id\" column (as it's useless) and getting some information about the DataFrame:","4a236264":"Most common genres among all types of Animes:","65d07508":"And then, transform it into int64 data type.","2d50f3b0":"With this, it's possible to see a strong correlation:\n\nMORE MEMBERS = BETTER RATING (which makes sense, because if an anime has many members, it is possible to say that many people liked it).\n","99aaa02a":"Now let's look at the most famous type of Anime: TV."}}