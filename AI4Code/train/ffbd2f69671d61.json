{"cell_type":{"12c7b19d":"code","ca4428e3":"code","13efb9a6":"code","f91b6f6d":"code","abd3255c":"code","93bc0baa":"code","3e84b791":"code","849e5abb":"code","c3b7ff1b":"code","2304125f":"code","081a4981":"code","1c5c7265":"code","e61db4fe":"code","cc7d7f60":"code","3f31cad6":"code","afc4fad9":"code","75aa7420":"code","bf396e53":"code","015134e6":"code","ad223aa3":"code","3be70015":"code","cb366558":"code","58a0037c":"code","be7fd5e2":"code","29ccc0e2":"code","d9069059":"code","d56799de":"code","b3ef44bd":"code","07b6a493":"code","761407e8":"code","e0a358cb":"code","2fab7694":"code","b4307e51":"code","50d15170":"code","710e5ec6":"code","278ec342":"code","502fc67e":"code","faedb602":"code","241a7f12":"code","bd3c186d":"code","a953d99e":"code","7ef112f4":"code","30c2e5be":"code","17483697":"code","702bb5d0":"code","115cff68":"code","b8bfc5bd":"code","b2c7c1ad":"markdown","83e92e94":"markdown"},"source":{"12c7b19d":"!pip install autoviml -q\n!pip install dexplot -q","ca4428e3":"from autoviml.Auto_ViML import Auto_ViML","13efb9a6":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nplt.rcParams['figure.dpi'] = 200 \nplt.xkcd()\nimport seaborn as sns\nimport dexplot as dxp\nimport plotly.express as px\nimport altair as alt\nsns.set_theme(style=\"ticks\", palette=\"pastel\")\n\nalt.data_transformers.enable('default', max_rows=None)\n\n%matplotlib inline\nDATA_PATH = '\/kaggle\/input\/stroke-prediction-dataset\/healthcare-dataset-stroke-data.csv'","f91b6f6d":"data = pd.read_csv(DATA_PATH)","abd3255c":"data.head()","93bc0baa":"data.describe()","3e84b791":"data.info()","849e5abb":"data.isna().sum()","c3b7ff1b":"data['bmi'] = data['bmi'].fillna(data['bmi'].mean())","2304125f":"data","081a4981":"dxp.count('stroke',data=data,figsize=(10,5),title='Stroke Count')","1c5c7265":"alt.Chart(data).mark_bar(color=\"purple\").encode(\n    alt.X('gender'),\n    y='count()'\n).properties(\n    width=500,\n    height=400\n)","e61db4fe":"dxp.count(val='stroke', data=data, split='smoking_status',figsize=(10,6),title='Stroke Risk')","cc7d7f60":"dxp.count(val='work_type', data=data, split='smoking_status',figsize=(10,6),title='Smoking at Work')","3f31cad6":"sns.displot(\n    data=data,\n    x=\"age\", hue=\"smoking_status\",\n    kind=\"kde\", height=6,\n    multiple=\"fill\", clip=(0, None),\n    palette=\"rocket_r\",\n)","afc4fad9":"sns.displot(\n    data=data,\n    x=\"bmi\", hue=\"smoking_status\",\n    kind=\"kde\", height=6,\n    multiple=\"fill\", clip=(0, None),\n    palette=\"rocket_r\",\n)","75aa7420":"sns.pairplot(data, hue=\"stroke\")","bf396e53":"dxp.line(x='work_type', y='bmi', data=data, aggfunc='mean', orientation='v',split='stroke',figsize=(10,8),title='Line Plot')","015134e6":"dxp.line(x='smoking_status', y='age', data=data, aggfunc='mean', orientation='v',split='stroke',figsize=(10,8),title='Line Plot')","ad223aa3":"dxp.line(x='smoking_status', y='avg_glucose_level', data=data, aggfunc='mean', orientation='v',split='stroke',figsize=(10,8),title='Line Plot')","3be70015":"dxp.count(val='work_type', data=data, split='stroke',orientation='v', stacked=True, col='Residence_type',figsize=(10,5))","cb366558":"dxp.bar(x='Residence_type', y='bmi', data=data, aggfunc='mean', \n        split='stroke', col='work_type', wrap=2, col_order='desc',figsize=(10,8))","58a0037c":"dxp.scatter(x='age', y='bmi', data=data, split='stroke',figsize=(10,8))","be7fd5e2":"dxp.scatter(x='age', y='avg_glucose_level', data=data, split='stroke',figsize=(10,8))","29ccc0e2":"data.sample(10)","d9069059":"dxp.box(x='avg_glucose_level', y='work_type', data=data,split='stroke',figsize=(10,5))","d56799de":"pdata = data[data['work_type'] == 'Private']    \nsdata = pdata['smoking_status'].value_counts()[:10] ","b3ef44bd":"fig, ax = plt.subplots(1, 1, figsize=(14, 7), dpi=200)\nax.bar(sdata.index, sdata, width=0.6, edgecolor='black')\nax.set_title(f'Smokers in Private Jobs', fontweight='bold')\nplt.show()","07b6a493":"from mpl_toolkits.mplot3d import Axes3D\nfig = plt.figure(figsize=(10,10))\nax = Axes3D(fig)\nax.scatter(data[\"age\"], data[\"bmi\"], data[\"avg_glucose_level\"], c=\"y\", s=20, alpha=0.5)\nplt.title('Age vs BMI vs Glucose level')\nplt.show()","761407e8":"pdata = data[data['ever_married'] == 'No']    \nsdata = pdata['stroke'].value_counts()","e0a358cb":"fig, ax = plt.subplots(1, 1, figsize=(14, 7), dpi=200)\nax.bar(sdata.index, sdata, width=0.6, edgecolor='black')\nax.set_title(f'Non- Married with Stroke Distribution', fontweight='bold')\nplt.show()","2fab7694":"dxp.count('stroke',data=data,figsize=(10,8),split='gender',title=\n         'Gender Distribution with Stroke')","b4307e51":"sns.lmplot(data=data,x='age',y='bmi')","50d15170":"sns.lmplot(data=data,x='age',y='avg_glucose_level')","710e5ec6":"dxp.box(x='gender', y='age', data=data, orientation='v', split='stroke',figsize=(10,8))","278ec342":"figure = plt.figure(figsize=(20,8))\nsns.jointplot(x=\"bmi\", y=\"age\", data=data,\n                  kind=\"reg\", truncate=False,\n                  color=\"m\", height=7)\nplt.show()","502fc67e":"figure = plt.figure(figsize=(20,8))\nsns.jointplot(x=\"bmi\", y=\"avg_glucose_level\", data=data,\n                  kind=\"reg\", truncate=False,\n                  color=\"r\", height=7)\nplt.show()","faedb602":"figure = plt.figure(figsize=(20,8))\nsns.histplot(\n    data,\n    x=\"age\", hue=\"stroke\",\n    multiple=\"stack\",\n    palette=\"light:m_r\",\n    edgecolor=\".3\",\n    linewidth=.5,\n    log_scale=False,\n)\nplt.show()","241a7f12":"figure = plt.figure(figsize=(20,8))\nsns.histplot(\n    data,\n    x=\"bmi\", hue=\"stroke\",\n    multiple=\"stack\",\n    palette=\"light:r\",\n    edgecolor=\".3\",\n    linewidth=.5,\n    log_scale=False,\n)\nplt.show()","bd3c186d":"figure = plt.figure(figsize=(20,8))\nsns.histplot(\n    data,\n    x=\"avg_glucose_level\", hue=\"stroke\",\n    multiple=\"stack\",\n    palette=\"light:b_r\",\n    edgecolor=\".3\",\n    linewidth=.5,\n    log_scale=False,\n)\nplt.show()","a953d99e":"dxp.count('stroke',data=data,figsize=(10,8),split='heart_disease',title=\n         'Heart Condition Distribution with Stroke')","7ef112f4":"dxp.count('stroke',data=data,figsize=(10,8),split='hypertension',title=\n         'Hyper-Tension Condition Distribution with Stroke')","30c2e5be":"dxp.violin(x='age', y='Residence_type', data=data, \n          split='stroke',figsize=(10,8),title='Violin for Residense Type')","17483697":"dxp.kde(x='bmi', y='avg_glucose_level', data=data, row='work_type', wrap=3)","702bb5d0":"data = data.drop('id',1)\ndf = data.copy(deep=True)\n\ntest_sample = df.sample(int(df.shape[0] * .20), random_state=99)\ntrain, test = df[~df.isin(test_sample)].dropna(), df[df.isin(test_sample)].dropna()\n\ntest.info()\ntrain.info()","115cff68":"target = 'stroke'\nscoring_parameter = 'weighted_f1'","b8bfc5bd":"m, feats, trainm, testm = Auto_ViML(train, target, test,\n                                    scoring_parameter=scoring_parameter,\n                                    hyper_param='GS',feature_reduction=True,\n                                    Boosting_Flag=True,Binning_Flag=False, Stacking_Flag=True,                                    \n                                    Imbalanced_Flag=True, \n                                    verbose=2)","b2c7c1ad":"<img src = \"https:\/\/media.giphy.com\/media\/UsS3w9ZCvcshzMdbJ8\/giphy.gif\">","83e92e94":"<img src = \"https:\/\/media.giphy.com\/media\/3orieTTZVPaVNMhRra\/giphy.gif\" align = \"center\">"}}