{"cell_type":{"8a4b69e0":"code","5317d076":"code","813d78fc":"code","d211ec2c":"code","b2e96684":"code","f5250601":"code","2bc7a7c0":"code","eb6586b6":"code","83ab242b":"code","e0a7a4e3":"code","1f654e55":"code","c8c13177":"code","21368c28":"code","3b4218f4":"code","bede9f99":"code","0575bd7d":"code","4f0da402":"code","48852fa4":"code","9a59dd6b":"code","f4f2739e":"code","58a916f4":"code","62d25a89":"code","a2c893e3":"code","c0aa4713":"code","2d0c1b2f":"markdown","6dc5e39f":"markdown","d9defced":"markdown","b7ad7c3a":"markdown","7de5fef1":"markdown","bde241ff":"markdown","6b546b97":"markdown","545d334b":"markdown","63f66eac":"markdown","0113e8e3":"markdown","814a5e21":"markdown","360aefab":"markdown","2581c8d0":"markdown","2fa46793":"markdown"},"source":{"8a4b69e0":"import numpy as np\nimport pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport plotly.express as px\nimport plotly.graph_objects as go\nimport plotly\nfrom plotly.offline import download_plotlyjs, init_notebook_mode, plot, iplot\nplotly.offline.init_notebook_mode (connected = True)","5317d076":"df=pd.read_csv('..\/input\/womens-international-football-results\/results.csv')\ndf.head()","813d78fc":"df.dtypes","d211ec2c":"df['date']=pd.to_datetime(df['date'])","b2e96684":"df.isna().any()","f5250601":"df['Year']=df['date'].dt.year\ndf['Count']=1","2bc7a7c0":"df_year=df.groupby('Year')['Count'].sum().reset_index()","eb6586b6":"fig1=px.line(df_year,y='Count',x='Year',height=600,width=800)\nfig1.update_layout(title='Number of matches each year',title_x=0.5,template='plotly_dark')\nfig1.update_traces(line_color='#AAF0D1')\nfig1.show()\n","83ab242b":"df_h=df.groupby('home_team')['Count'].sum().reset_index().sort_values(by='Count',ascending=False).head(20)\ndf_a=df.groupby('away_team')['Count'].sum().reset_index().sort_values(by='Count',ascending=False).head(20)","e0a7a4e3":"fig2=plt.figure(figsize=(20,15))\nax1=fig2.add_subplot(211)\nsns.barplot('home_team','Count',data=df_h,ax=ax1,palette='rocket')\nlabel=df_h['home_team']\nax1.set_xticklabels(label,rotation=90,size=15)\nax1.set_title('Top 20 most active home teams',size=25)\nax1.set_xlabel('Home team',size=15)\nax1.set_ylabel('Number of matches played',size=15)\n\nax2=fig2.add_subplot(212)\nsns.barplot('away_team','Count',data=df_a,ax=ax2,palette='summer')\nlabel=df_a['away_team']\nax2.set_xticklabels(label,rotation=90,size=15)\nax2.set_title('Top 20 most active away teams',size=25)\nax2.set_xlabel('Away team',size=15)\nax2.set_ylabel('Number of matches played',size=15)\n\nfig2.tight_layout(pad=3)","1f654e55":"df_tour=df.groupby('tournament')['Count'].sum().reset_index()\nfig3=px.pie(df_tour,values='Count',names='tournament',hole=0.3)\nfig3.update_layout(title='Tournament wise match distribution',title_x=0.25)\nfig3.show()","c8c13177":"df['Goal difference']=abs(df['home_score']-df['away_score'])","21368c28":"fig4=px.histogram(df,x='Goal difference',marginal='violin')\nfig4.update_layout(title='Goal Difference distribution',title_x=0.5,template='plotly_dark')\nfig4.update_traces(opacity=0.9)\nfig4.show()","3b4218f4":"df['Total goals']=df['home_score']+df['away_score']","bede9f99":"\ndf_gpg=df.groupby('tournament')[['Count','Total goals']].sum().reset_index()\ndf_gpg['GPG']=np.round(df_gpg['Total goals']\/df_gpg['Count'],0)\ndf_gpg.sort_values(by='GPG',ascending=False,inplace=True)","0575bd7d":"fig5=px.bar(df_gpg,x='tournament',y='GPG',color='GPG',height=800,width=1000,labels={'GPG':'Average goals per game','tournament':'Tournament'})\nfig5.update_layout(template='plotly_dark')\nfig5.show()","4f0da402":"df_nn=df[df['neutral']==False]\n\ndf_gpg_home=df_nn.groupby('home_team')[['Count','home_score']].sum().reset_index()\ndf_gpg_home=df_gpg_home[df_gpg_home['Count']>30]\ndf_gpg_home['GPG']=np.round(df_gpg_home['home_score']\/df_gpg_home['Count'],0)\ndf_gpg_home.sort_values(by='GPG',ascending=False,inplace=True)\n\ndf_gpg_away=df_nn.groupby('home_team')[['Count','away_score']].sum().reset_index()\ndf_gpg_away=df_gpg_away[df_gpg_away['Count']>30]\ndf_gpg_away['GPG']=np.round(df_gpg_away['away_score']\/df_gpg_away['Count'],0)\ndf_gpg_away.sort_values(by='GPG',ascending=False,inplace=True)","48852fa4":"df_gpg_home=df_gpg_home.head(20)\ndf_gpg_away=df_gpg_away.head(20)","9a59dd6b":"\n\nfig6=plt.figure(figsize=(15,15))\nax1=fig6.add_subplot(211)\nsns.barplot('home_team','GPG',data=df_gpg_home,palette='gist_earth',ax=ax1)\nlabel1=df_gpg_home['home_team']\nax1.set_xticklabels(label1,rotation=75)\nax1.set_xlabel('Team name',size=15)\nax1.set_ylabel('Average goals scored per game',size=10)\nax1.set_title('Top 20 scoring home teams',size=25)\n\nax2=fig6.add_subplot(212)\nsns.barplot('home_team','GPG',data=df_gpg_away,palette='coolwarm',ax=ax2)\nlabel2=df_gpg_away['home_team']\nax2.set_xticklabels(label2,rotation=75)\nax2.set_xlabel('Team name',size=15)\nax2.set_ylabel('Average goals scored per game',size=10)\nax2.set_title('Top 20 scoring away teams',size=25)\n\nfig6.tight_layout(pad=3)","f4f2739e":"from wordcloud import WordCloud, STOPWORDS","58a916f4":"plt.figure(figsize=(20,20))\ntext_city=df['city'].values\nwc_city=WordCloud(max_words=50,background_color='white',collocations=False).generate(str(' '.join(text_city)))\nplt.imshow(wc_city)\nplt.axis(\"off\")\nplt.show()\n","62d25a89":"plt.figure(figsize=(20,20))\ntext_country=df['country'].values\nwc_country=WordCloud(max_words=50\n                     ,background_color='green',collocations=False).generate(str(' '.join(text_country)))\nplt.imshow(wc_country)\nplt.axis(\"off\")\nplt.show()","a2c893e3":"df_venue=df.groupby('neutral')['Count'].sum().reset_index()","c0aa4713":"fig7=px.pie(df_venue,values='Count',names='neutral',hole=0.4,color_discrete_sequence=['orange','green'])\nfig7.update_layout(title='Type of venue',title_x=.5,annotations=[dict(text='Neutral ground',font_size=15, showarrow=False,height=800,width=700)])\nfig7.update_traces(textfont_size=15,textinfo='percent+label')\n\n\nfig7.show()","2d0c1b2f":"From the above distrubution, we see that most of the matches had a goal difference of 1. This is good as it means the matches weren't one sided and were highly competitive.\n\n## e) High Scoring tournaments\n\nFor this purpose, we will find an evaluation parameter as goals per game. A high goals per game (GPG) means attending any of the matches would mean a chance of witness that many goals which could be a factor while making trips for watching matches. Fans would love to attend matches where there are higher chances of goals scored.","6dc5e39f":"In order to understand what each of the columns actually mean, let us use the image below containing all the required information and descriptions.\n\n![Screenshot%202020-08-30%20at%2012.02.28%20AM.png](attachment:Screenshot%202020-08-30%20at%2012.02.28%20AM.png)\n\n# 2. Data Wrangling\n\nLet us inspect the data and try to understand how we should proceed. First of all, let's see the datatypes we are dealing with here.","d9defced":"As we can see from the pie chart above, about 30 % of the matches in women's football is related to UEFA Euro qualification followed by the Algarve Cup.\n\n## d) Goal Difference\n\nGD is the difference of the scores between the winning and losing team. A high GD means the winning team won by a bigger margin as compared to  a winning team with lower GD. Let us see how the GD is distributed.","b7ad7c3a":"We see that the very first column which is a date column is entered as object. Let us change it into datetime datatype.","7de5fef1":"## i) Venue type\n\nThe venue of the football match could either be Neutral or non neutral in nature. We will check the percentage of each using a pie chart.","bde241ff":"As we can see, the number of women's football matches have been steadily rising since the 1970s. This may only be possible if women are being encouraged to play the sport and are being paid and respected for taking up this profession. Hence, it has been proved that women's football has been slowly and steadily catching up to men's football.\n\nIt has also been seen that in every 2 years, there are fluctuations. This can be attributed to the extra number of matches being played in national tournaments such as World Cup, Euro, Copa America, etc.\n\n2020 has however been a disappointment considering the pandemic situation that has halted large portion of the footballing calendar and also cancelled some big events such as the Euro and the Olympics 2020.\n\n## b) Home and away matches\n\nLet us see how many matches have home and away have been played by the countries. Here, we shall analyse the top 20 most active home and away teams by number of matches played.","6b546b97":"Abput 44.2 % of matches take place on neutral grounds while 55.8 % matches take place on non neutral grounds. This shows that high number of international matches take place on neutral grounds as opposed to club matches.\n\n# If you found the notebook useful, an upvote would be great ! :)","545d334b":"From the above plot, we see that OFC Nations cup has a very high average goals per game. FIFA WC and UEFA Euro matches have a relatively lowers goals per game number. This is probably because a lot of very well matched teams make it to the final competition and hence, it is not easy to score goals.\n\n## f) High scoring teams\n\nLet us see which are the high scoring countries based on home and away matches. We will visualise the data of top 20 teams based on goals per game. In order to make the statistic valid, we will only consider the teams that have played more than 30 matches.","63f66eac":"These are the most popular football hosting cities for women's football.\n\n## h) Popular Women's football hosting countries\n\nLet us perform a simialar wordcloud analysis for cities.","0113e8e3":"# Introduction\n\nAs they say, football is the game of the world. No other sport in the history of humankind has beem able to penetrate into countries of varying cultures and continents. It is an incredibly followed game by women and men. The passion for the countries during a World Cup is always so beautiful to witness. Not just national football, but club football is also extremely popular, especially in European countries such as England, Spain, Germany, France, Italy, etc.\n\nAlthough the TV viewership is much more higher for men's football, the women's football is slowly but steadily catching up to it's male counterpart and is slowly starting to grab a lot of global attention. In this particular notebook, we will take a look at the various key insights we can gain using the below data.\n![Womens-football.jpg](attachment:Womens-football.jpg)\n\n\n# 1. Importing relevant data and libraries\n\nLet us first start off with the usual process of importing all the libraries and important datasets.","814a5e21":"Great news ! We don't have to deal with any null values in our data.\n\nAs the dataframe looks quite clean already, let us move ahead with some data visualisations.\n\n# 3. Data Visualisation\n\n\n## a) Matches per year\n\nLet us do a time series analysis of how the number of women's football matches have stacked up year wise.","360aefab":"Let us now check for presence of any null values.","2581c8d0":"From the above barplots, we can see that China has been the most avtive home team with over 175 matches played while Denmark has been the most active away team with 140+ matches played.\n\n\n## c) Tournament\n\nLet us see which tournaments involve the most number of matches through a pie chart below.","2fa46793":"As we can see, average goals scored per game for home teams is as high as 4 while for away teams, it's only 2 games. \n\nGermany and Norway are leading the top scoring home teams while Poland,Czech Rep, Swizterland,Hungary and Portugal are leading the top scoring away teams.\n\n\n## g) Popular Women's football hosting cities\n\nLet us see which cities have been regularly used for football matches. This indicates that these cities have a rich footballing culture and also a great footballing infrastructure. We shall try to analyse this using a wordcloud."}}