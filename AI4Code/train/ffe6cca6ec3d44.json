{"cell_type":{"85684937":"code","777a912a":"code","3f3e9338":"code","bfed2640":"code","26f0a268":"code","6e8d3c79":"code","9214b542":"code","0ae16009":"code","c13a0d51":"code","d1126ac3":"code","1413916b":"code","e4a47d5a":"code","e65f1a1a":"code","682a5e13":"code","35565988":"code","a21e20eb":"code","8b3aa373":"code","f2611518":"code","b37f5414":"code","2c871f27":"code","62d71e1f":"code","f1ba3468":"code","426043ae":"code","c2bd9c47":"code","46ba52be":"code","52a6cb5b":"code","71c922ce":"code","3de25a95":"code","2b3eaab5":"code","1d680324":"code","17eda9f2":"code","a14e7087":"code","e22ef680":"code","64143dcc":"code","a7ef617e":"code","df3e5ca7":"code","6c814ae8":"code","3dccce92":"code","997d5d1d":"code","00ff2a89":"code","5387c497":"code","a6048e9a":"code","6ffe82e4":"code","bcd45db7":"code","98c2f3b8":"code","cf3e305e":"code","57bb3d07":"code","69db596e":"code","7be0f43f":"code","94fecd54":"code","5eda0d04":"code","d789df19":"code","0cc3e4fe":"code","7a7e16cd":"markdown"},"source":{"85684937":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nsns.set_style('whitegrid')\nimport warnings\nwarnings.filterwarnings('ignore')","777a912a":"df = pd.read_csv('..\/input\/sales-forecasting\/train.csv')","3f3e9338":"df.head()","bfed2640":"df.shape","26f0a268":"df.info()","6e8d3c79":"df.nunique()","9214b542":"df.isna().sum()","0ae16009":"df1 = df.dropna()","c13a0d51":"df1.head()","d1126ac3":"df1.isna().sum()","1413916b":"df1.rename(columns={'Row ID':'Row_ID',\n                   'Order ID': 'Order_ID',\n                   'Order Date':'Order_Date',\n                   'Ship Date':'Ship_Date',\n                   'Customer ID':'Custmoer_ID',\n                   'Customer Name':'Customer_Name',\n                   'Postal Code':'Postal_Code',\n                   'Product ID':'Product_ID',\n                   'Sub-Category':'Sub_Category',\n                   'Product Name':'Product_Name'},inplace=True)","e4a47d5a":"df1['Order_Date'] = pd.to_datetime(df1['Order_Date'])","e65f1a1a":"df1.isna().sum()","682a5e13":"df1.shape","35565988":"df1['Sales'].describe()      ","a21e20eb":"df1.Sub_Category.value_counts()","8b3aa373":"plt.figure(figsize=(16,8))\nax = sns.countplot(df1['Sub_Category'])\nax.set_xticklabels(ax.get_xticklabels(), rotation=40, ha=\"right\")\nplt.tight_layout()\nplt.show()","f2611518":"df1.Segment.value_counts()","b37f5414":"plt.figure(figsize=(8,6))\nsns.countplot(df1['Segment'])","2c871f27":"mask = (df1.Sales > 700) & (df1.Region == 'West') | (df1.Segment=='Consumer')","62d71e1f":"mask","f1ba3468":"df1[mask]","426043ae":"df1['Sales'] = df1.Sales.astype('int')","c2bd9c47":"df1.dtypes","46ba52be":"def get_Sales_level(Sales):\n    if Sales > 10000:\n        return 'costly'\n    elif Sales > 1000:\n        return 'medium'\n    else:\n        return 'cheap'","52a6cb5b":"get_Sales_level(12000)","71c922ce":"df['Sales_level'] = df1.Sales.apply(get_Sales_level)","3de25a95":"df1.head()","2b3eaab5":"df1.Category.value_counts()","1d680324":"plt.figure(figsize=(8,6))\nsns.countplot(df1['Category'])","17eda9f2":"df1_sub = df1.groupby(['Category','Sub_Category']).agg({'Sales': sum})\ndf1_sub.sort_values(by='Sales',ascending=False).groupby('Category').head(5).sort_index()","a14e7087":"city_df1=df1.groupby(\"City\").sum().sort_values(\"Sales\", ascending = False)\ncity_df1 = city_df1[[\"Sales\"]]\ncity_df1","e22ef680":"top_city_sales = city_df1.head(10)","64143dcc":"top_city_sales","a7ef617e":"df.groupby('State').agg({'Sales':sum}).sort_values(by='Sales', ascending=False).head(10)\n","df3e5ca7":"df1.groupby('Region').agg({'Sales':sum}).sort_values(by='Sales',ascending=False)","6c814ae8":"df1.groupby(['Ship Mode']).sum()['Sales']","3dccce92":"sns.countplot(df1['Ship Mode'])","997d5d1d":"df1['Order_Date'] = pd.to_datetime(df1['Order_Date'], dayfirst=True)\ndf1['Ship_Date'] = pd.to_datetime(df1['Ship_Date'], dayfirst=True)","00ff2a89":"df1.groupby(['State']).sum()['Sales'].sort_values().plot(kind='bar', figsize=(18,5))","5387c497":"df1.groupby(['Sub_Category']).sum()['Sales']","a6048e9a":"categ_and_sum = pd.DataFrame(df1.groupby(['Category', 'Sub_Category']).sum()['Sales'])","6ffe82e4":"categ_and_sum","bcd45db7":"Sorted_Categs = categ_and_sum.sort_values('Sales', ascending=False)\nSorted_Categs.plot(kind='bar', figsize=(12,6), edgecolor='purple', legend=None, color='thistle')","98c2f3b8":"df1['Month'] = df1['Order_Date'].dt.month_name()\ndf1['Year'] = df1['Order_Date'].dt.year","cf3e305e":"sales_month = df1.groupby('Month').agg({'Sales':sum}).sort_values(by='Sales').plot.bar(figsize=(7,4),legend=None)\nplt.title(\"Sales based on Month\")","57bb3d07":"by_year = df1.groupby(\"Year\").sum().sort_values(\"Sales\", ascending=False)\nby_year = by_year[[\"Sales\"]]\nby_year","69db596e":"by_year.reset_index(inplace=True)","7be0f43f":"by_year","94fecd54":"top_sales = df1.Product_Name.value_counts()","5eda0d04":"top_sales_10 = top_sales.head(10)","d789df19":"top_sales_10","0cc3e4fe":"plt.figure(figsize = [6,5])\nplt.pie(top_sales_10,labels=top_sales_10.index, autopct=\"%0.2f%%\")\nplt.title('Top_10_Product sales', pad = 30, fontsize=20, color='black',weight = 'bold');\nplt.show()","7a7e16cd":"# Most purchased product"}}