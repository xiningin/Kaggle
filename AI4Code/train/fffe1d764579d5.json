{"cell_type":{"9c3b96a5":"code","1398a873":"code","f71c538e":"code","8b44a5e8":"code","385dff7a":"code","b8254ef8":"code","debc496c":"code","e15ae953":"code","e4d79d73":"code","4bd5172b":"code","6d42873f":"code","81716aa3":"code","e5c8ea7f":"code","e70a860e":"code","cbb82224":"code","3a10d610":"code","903a4f30":"code","87538ba7":"code","38d2a90a":"code","311547a2":"code","dea83a8d":"code","16df9139":"code","debd617d":"code","ae4c0e45":"code","ecf7b4a6":"code","3f70fb8a":"code","d370b647":"code","233c5ab1":"code","3f3a2b35":"code","1edc1259":"code","038f88b2":"code","5ebcbc15":"code","988e8c95":"code","5cdba2e5":"code","79a9c3ca":"code","1481413e":"code","acad688b":"code","197a28a9":"code","64c29f90":"code","de53ba9c":"code","75c5d93f":"code","2c054107":"code","ec3a94d7":"code","1cc9d5d8":"code","621e5af7":"code","580f0e28":"code","88a1479a":"code","7849a30d":"code","a272122c":"code","e309eec8":"code","1747ebd1":"code","aae5bae0":"code","a1a9695c":"code","75a29163":"code","b398309c":"code","f8f6550b":"code","63638bb1":"code","a51064ed":"code","9135db5b":"code","ac9db030":"code","70455170":"code","5369934b":"markdown","6110cdeb":"markdown","da763608":"markdown","162bda18":"markdown","4d0e433e":"markdown","380852e6":"markdown","0d770d6b":"markdown","d45ddc62":"markdown","1a63248d":"markdown","a8ffc8b4":"markdown","4e2d4c2d":"markdown"},"source":{"9c3b96a5":"import os\nfor dirname, _, filenames in os.walk('\/kaggle\/input'):\n    for filename in filenames:\n        print(os.path.join(dirname, filename))","1398a873":"import pandas as pd \nimport numpy as np \nimport matplotlib\nfrom matplotlib import pyplot as plt\nimport seaborn as sns\n%matplotlib inline \nmatplotlib.rcParams['figure.figsize'] = (20,10)","f71c538e":"df = pd.read_csv('\/kaggle\/input\/bengaluru-house-price-data\/Bengaluru_House_Data.csv')","8b44a5e8":"df.sample(5,random_state=23)","385dff7a":"df.info()","b8254ef8":"df.shape","debc496c":"df.groupby('area_type')['area_type'].agg('count')","e15ae953":"df = df.drop(columns=['availability','area_type','balcony','society'])","e4d79d73":"df.sample(5,random_state=23)","4bd5172b":"df.info()","6d42873f":"df.isnull().sum()","81716aa3":"df = df.dropna()","e5c8ea7f":"df.sample(5,random_state=23)","e70a860e":"df['bhk'] = df['size'].apply(lambda x: int(x.split(' ')[0]))","cbb82224":"df.sample(5,random_state=23)","3a10d610":"df.drop(columns=['size'])","903a4f30":"df[df.bhk>20]","87538ba7":"df['total_sqft'].unique()","38d2a90a":"def is_float(x):\n    try:\n        float(x)\n    except:\n        return False\n    return True","311547a2":"df[~df['total_sqft'].apply(is_float)]","dea83a8d":"def convert_range_to_num(x):\n    tokens = x.split('-')\n    if len(tokens) == 2:\n        return (float(tokens[0])+float(tokens[1]))\/2\n    try:\n        return float(x)\n    except:\n        return None ","16df9139":"df['total_sqft'] = df['total_sqft'].apply(convert_range_to_num)","debd617d":"df.sample(5,random_state=23)","ae4c0e45":"df = df.dropna(how='any')","ecf7b4a6":"df.info()","3f70fb8a":"df.sample(7)","d370b647":"df['Price_per_sqft'] = (df['price']*100000)\/df['total_sqft']","233c5ab1":"df['Price_per_sqft'] = df['Price_per_sqft'].round(1)","3f3a2b35":"df.sample(5)","1edc1259":"len(df.location.unique())","038f88b2":"df.location = df.location.apply(lambda x : x.strip())","5ebcbc15":"location_stats = df.groupby('location')['location'].agg('count').sort_values(ascending=False)","988e8c95":"location_stats","5cdba2e5":"location_less_than_10 = location_stats[location_stats<=10]","79a9c3ca":"df.location = df.location.apply(lambda x: 'Other' if x in location_less_than_10 else x)","1481413e":"df.sample(20)","acad688b":"from pandas_profiling import ProfileReport","197a28a9":"report = ProfileReport(df,title='REPORT OF BANGLORE HOUSING')\nreport","64c29f90":"df['sqft_per_bedroom'] = df['total_sqft']\/df['bhk']","de53ba9c":"df['sqft_per_bedroom'] = df['sqft_per_bedroom'].apply(lambda x: None if x < 300 else x)","75c5d93f":"df = df.dropna()","2c054107":"df['Price_per_sqft'] = df['Price_per_sqft'].apply(lambda x: None if x > 16000 else x)","ec3a94d7":"df = df.dropna()","1cc9d5d8":"df['Price_per_sqft'].describe()","621e5af7":"def remove_pps_outliers(df):\n    df_out = pd.DataFrame()\n    for key, subdf in df.groupby('location'):\n        m = np.mean(subdf.Price_per_sqft)\n        st = np.std(subdf.Price_per_sqft)\n        reduced_df = subdf[(subdf.Price_per_sqft>(m-st)) & (subdf.Price_per_sqft<=(m+st))]\n        df_out = pd.concat([df_out,reduced_df],ignore_index=True)\n    return df_out\ndf = remove_pps_outliers(df)\ndf.shape","580f0e28":"def plot_scatter_chart(df,location):\n    bhk2 = df[(df.location==location) & (df.bhk==2)]\n    bhk3 = df[(df.location==location) & (df.bhk==3)]\n    matplotlib.rcParams['figure.figsize'] = (15,10)\n    plt.scatter(bhk2.total_sqft,bhk2.price,color='blue',label='2 BHK', s=50)\n    plt.scatter(bhk3.total_sqft,bhk3.price,marker='+', color='green',label='3 BHK', s=50)\n    plt.xlabel(\"Total Square Feet Area\")\n    plt.ylabel(\"Price (Lakh Indian Rupees)\")\n    plt.title(location)\n    plt.legend()\n    \nplot_scatter_chart(df,\"Hebbal\")","88a1479a":"def remove_bhk_outliers(df):\n    exclude_indices = np.array([])\n    for location, location_df in df.groupby('location'):\n        bhk_stats = {}\n        for bhk, bhk_df in location_df.groupby('bhk'):\n            bhk_stats[bhk] = {\n                'mean': np.mean(bhk_df.Price_per_sqft),\n                'std': np.std(bhk_df.Price_per_sqft),\n                'count': bhk_df.shape[0]\n            }\n        for bhk, bhk_df in location_df.groupby('bhk'):\n            stats = bhk_stats.get(bhk-1)\n            if stats and stats['count']>5:\n                exclude_indices = np.append(exclude_indices, bhk_df[bhk_df.Price_per_sqft<(stats['mean'])].index.values)\n    return df.drop(exclude_indices,axis='index')\ndf = remove_bhk_outliers(df)\ndf.shape","7849a30d":"plot_scatter_chart(df,\"Hebbal\")","a272122c":"plt.hist(df.Price_per_sqft,rwidth=0.8)\nplt.xlabel(\"Price Per Square Feet\")\nplt.ylabel(\"Count\")","e309eec8":"df.bath.unique()","1747ebd1":"plt.hist(df.bath,rwidth=0.8)\nplt.xlabel(\"Number of bathrooms\")\nplt.ylabel(\"Count\")","aae5bae0":"df = df[df.bath<df.bhk+2]","a1a9695c":"df = df.drop(['size','Price_per_sqft'],axis='columns')","75a29163":"df = df.drop(['sqft_per_bedroom'],axis='columns')","b398309c":"df.sample(10)","f8f6550b":"from sklearn.preprocessing import LabelEncoder\nle = LabelEncoder()\ndf['location_cat'] = le.fit_transform(df.location)","63638bb1":"df.sample(10,random_state=33)","a51064ed":"from sklearn.model_selection import train_test_split as tts\n\nx = df[['total_sqft','bath','bhk','location_cat']]\ny = df['price']\n\nx_train,x_test,y_train,y_test = tts(x,y,test_size=0.3,random_state=36)","9135db5b":"from sklearn.linear_model import LinearRegression\nlr_clf = LinearRegression()\nlr_clf.fit(x_train,y_train)\nscore_lr = 100*lr_clf.score(x_test,y_test)\nprint(f'LR Model score = {score_lr:4.3f}%')","ac9db030":"from sklearn.tree import DecisionTreeRegressor\ndtr = DecisionTreeRegressor()\ndtr.fit(x_train,y_train)\nscore_dtr = 100*dtr.score(x_test,y_test)\nprint(f'DTR Model score = {score_dtr:4.3f}%')","70455170":"from sklearn.ensemble import RandomForestRegressor\nrfr = RandomForestRegressor()\nrfr.fit(x_train,y_train)\nscore_rfr = 100*rfr.score(x_test,y_test)\nprint(f'RFR Model score = {score_rfr:4.3f}%')","5369934b":"* We have achieved 80.8% accuracy in predicting the prices of the homes in Banglore using LinearRegression Algorithm","6110cdeb":"## LABEL ENCODING","da763608":"## FEATURE ENGINEERING ","162bda18":"## USING REGRESSION ALGORITHMS FOR PREDICTION","4d0e433e":"## DATA PREPROCESSING ","380852e6":"* We have achieved 85.5% accuracy in predicting the prices of homes in Banglore using Random Forest Regressor ","0d770d6b":"## REMOVING THE OUTLIERS","d45ddc62":"### DIMENSIONALITY CURSE ","1a63248d":"# BANGALORE HOUSE PRICE PREDICTION ","a8ffc8b4":"* We have achieved 75.2% accuracy in predicting the prices of the homes in Banglore using Decision Tree Regressor ","4e2d4c2d":"## DATA INGESTION "}}